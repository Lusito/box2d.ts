"use strict";(()=>{var fpt=Object.create;var TJ=Object.defineProperty;var gpt=Object.getOwnPropertyDescriptor;var vpt=Object.getOwnPropertyNames;var Apt=Object.getPrototypeOf,Spt=Object.prototype.hasOwnProperty;var uT=(x=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(x,{get:(V,o)=>(typeof require<"u"?require:V)[o]}):x)(function(x){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+x+'" is not supported')});var z0=(x,V)=>()=>(V||x((V={exports:{}}).exports,V),V.exports),Cpt=(x,V)=>{for(var o in V)TJ(x,o,{get:V[o],enumerable:!0})},Bpt=(x,V,o,_o)=>{if(V&&typeof V=="object"||typeof V=="function")for(let _r of vpt(V))!Spt.call(x,_r)&&_r!==o&&TJ(x,_r,{get:()=>V[_r],enumerable:!(_o=gpt(V,_r))||_o.enumerable});return x};var dD=(x,V,o)=>(o=x!=null?fpt(Apt(x)):{},Bpt(V||!x||!x.__esModule?TJ(o,"default",{value:x,enumerable:!0}):o,x));var aS=z0((U0t,PT)=>{PT.exports=function(x,V){(x===null||typeof x>"u")&&(x={});var o=Object.assign({},x);for(var _o in V)V.hasOwnProperty(_o)&&typeof x[_o]>"u"&&(o[_o]=V[_o]);if(typeof Object.getOwnPropertySymbols=="function")for(var _r=Object.getOwnPropertySymbols(V),l=0;l<_r.length;l++){var e_=_r[l];V.propertyIsEnumerable(e_)&&typeof x[_o]>"u"&&(o[e_]=V[e_])}return o}});var _x=z0(RJ=>{var Fpt=typeof DEBUG>"u"?!1:DEBUG,Lpt=typeof ASSERT>"u"?!1:ASSERT;RJ.debug=function(){Fpt&&console.log.apply(console,arguments)};RJ.assert=function(x,V,o){if(Lpt&&!x)throw o&&console.log(o),new Error(V)}});var ky=z0((Y0t,wT)=>{var qpt=typeof DEBUG>"u"?!1:DEBUG,Ept=typeof ASSERT>"u"?!1:ASSERT,kpt=_x(),FJ=Math,wB=wT.exports=Object.create(FJ);wB.EPSILON=1e-9;wB.isFinite=function(x){return typeof x=="number"&&isFinite(x)&&!isNaN(x)};wB.assert=function(x){if(Ept&&!wB.isFinite(x))throw qpt&&kpt.debug(x),new Error("Invalid Number!")};wB.invSqrt=function(x){return 1/FJ.sqrt(x)};wB.nextPowerOfTwo=function(x){return x|=x>>1,x|=x>>2,x|=x>>4,x|=x>>8,x|=x>>16,x+1};wB.isPowerOfTwo=function(x){return x>0&&(x&x-1)==0};wB.mod=function(x,V,o){return typeof V>"u"?(o=1,V=0):typeof o>"u"&&(o=V,V=0),o>V?(x=(x-V)%(o-V),x+(x<0?o:V)):(x=(x-o)%(V-o),x+(x<=0?V:o))};wB.clamp=function(x,V,o){return x<V?V:x>o?o:x};wB.random=function(x,V){return typeof x>"u"?(V=1,x=0):typeof V>"u"&&(V=x,x=0),x==V?x:FJ.random()*(V-x)+x}});var Fy=z0((H0t,DT)=>{var jpt=typeof DEBUG>"u"?!1:DEBUG,J0=typeof ASSERT>"u"?!1:ASSERT;DT.exports=e0;var VT=_x(),T1=ky();function e0(x,V){if(!(this instanceof e0))return new e0(x,V);typeof x>"u"?(this.x=0,this.y=0):typeof x=="object"?(this.x=x.x,this.y=x.y):(this.x=x,this.y=V),J0&&e0.assert(this)}e0.prototype._serialize=function(){return{x:this.x,y:this.y}};e0._deserialize=function(x){var V=Object.create(e0.prototype);return V.x=x.x,V.y=x.y,V};e0.zero=function(){var x=Object.create(e0.prototype);return x.x=0,x.y=0,x};e0.neo=function(x,V){var o=Object.create(e0.prototype);return o.x=x,o.y=V,o};e0.clone=function(x){return J0&&e0.assert(x),e0.neo(x.x,x.y)};e0.prototype.toString=function(){return JSON.stringify(this)};e0.isValid=function(x){return x&&T1.isFinite(x.x)&&T1.isFinite(x.y)};e0.assert=function(x){if(J0&&!e0.isValid(x))throw jpt&&VT.debug(x),new Error("Invalid Vec2!")};e0.prototype.clone=function(){return e0.clone(this)};e0.prototype.setZero=function(){return this.x=0,this.y=0,this};e0.prototype.set=function(x,V){return typeof x=="object"?(J0&&e0.assert(x),this.x=x.x,this.y=x.y):(J0&&T1.assert(x),J0&&T1.assert(V),this.x=x,this.y=V),this};e0.prototype.wSet=function(x,V,o,_o){return typeof o<"u"||typeof _o<"u"?this.setCombine(x,V,o,_o):this.setMul(x,V)};e0.prototype.setCombine=function(x,V,o,_o){J0&&T1.assert(x),J0&&e0.assert(V),J0&&T1.assert(o),J0&&e0.assert(_o);var _r=x*V.x+o*_o.x,l=x*V.y+o*_o.y;return this.x=_r,this.y=l,this};e0.prototype.setMul=function(x,V){J0&&T1.assert(x),J0&&e0.assert(V);var o=x*V.x,_o=x*V.y;return this.x=o,this.y=_o,this};e0.prototype.add=function(x){return J0&&e0.assert(x),this.x+=x.x,this.y+=x.y,this};e0.prototype.wAdd=function(x,V,o,_o){return typeof o<"u"||typeof _o<"u"?this.addCombine(x,V,o,_o):this.addMul(x,V)};e0.prototype.addCombine=function(x,V,o,_o){J0&&T1.assert(x),J0&&e0.assert(V),J0&&T1.assert(o),J0&&e0.assert(_o);var _r=x*V.x+o*_o.x,l=x*V.y+o*_o.y;return this.x+=_r,this.y+=l,this};e0.prototype.addMul=function(x,V){J0&&T1.assert(x),J0&&e0.assert(V);var o=x*V.x,_o=x*V.y;return this.x+=o,this.y+=_o,this};e0.prototype.wSub=function(x,V,o,_o){return typeof o<"u"||typeof _o<"u"?this.subCombine(x,V,o,_o):this.subMul(x,V)};e0.prototype.subCombine=function(x,V,o,_o){J0&&T1.assert(x),J0&&e0.assert(V),J0&&T1.assert(o),J0&&e0.assert(_o);var _r=x*V.x+o*_o.x,l=x*V.y+o*_o.y;return this.x-=_r,this.y-=l,this};e0.prototype.subMul=function(x,V){J0&&T1.assert(x),J0&&e0.assert(V);var o=x*V.x,_o=x*V.y;return this.x-=o,this.y-=_o,this};e0.prototype.sub=function(x){return J0&&e0.assert(x),this.x-=x.x,this.y-=x.y,this};e0.prototype.mul=function(x){return J0&&T1.assert(x),this.x*=x,this.y*=x,this};e0.prototype.length=function(){return e0.lengthOf(this)};e0.prototype.lengthSquared=function(){return e0.lengthSquared(this)};e0.prototype.normalize=function(){var x=this.length();if(x<T1.EPSILON)return 0;var V=1/x;return this.x*=V,this.y*=V,x};e0.lengthOf=function(x){return J0&&e0.assert(x),T1.sqrt(x.x*x.x+x.y*x.y)};e0.lengthSquared=function(x){return J0&&e0.assert(x),x.x*x.x+x.y*x.y};e0.distance=function(x,V){J0&&e0.assert(x),J0&&e0.assert(V);var o=x.x-V.x,_o=x.y-V.y;return T1.sqrt(o*o+_o*_o)};e0.distanceSquared=function(x,V){J0&&e0.assert(x),J0&&e0.assert(V);var o=x.x-V.x,_o=x.y-V.y;return o*o+_o*_o};e0.areEqual=function(x,V){return J0&&e0.assert(x),J0&&e0.assert(V),x==V||typeof V=="object"&&V!==null&&x.x===V.x&&x.y===V.y};e0.skew=function(x){return J0&&e0.assert(x),e0.neo(-x.y,x.x)};e0.dot=function(x,V){return J0&&e0.assert(x),J0&&e0.assert(V),x.x*V.x+x.y*V.y};e0.cross=function(x,V){return typeof V=="number"?(J0&&e0.assert(x),J0&&T1.assert(V),e0.neo(V*x.y,-V*x.x)):typeof x=="number"?(J0&&T1.assert(x),J0&&e0.assert(V),e0.neo(-x*V.y,x*V.x)):(J0&&e0.assert(x),J0&&e0.assert(V),x.x*V.y-x.y*V.x)};e0.addCross=function(x,V,o){if(typeof o=="number")return J0&&e0.assert(V),J0&&T1.assert(o),e0.neo(o*V.y+x.x,-o*V.x+x.y);if(typeof V=="number")return J0&&T1.assert(V),J0&&e0.assert(o),e0.neo(-V*o.y+x.x,V*o.x+x.y);J0&&VT.assert(!1)};e0.add=function(x,V){return J0&&e0.assert(x),J0&&e0.assert(V),e0.neo(x.x+V.x,x.y+V.y)};e0.wAdd=function(x,V,o,_o){return typeof o<"u"||typeof _o<"u"?e0.combine(x,V,o,_o):e0.mul(x,V)};e0.combine=function(x,V,o,_o){return e0.zero().setCombine(x,V,o,_o)};e0.sub=function(x,V){return J0&&e0.assert(x),J0&&e0.assert(V),e0.neo(x.x-V.x,x.y-V.y)};e0.mul=function(x,V){if(typeof x=="object")return J0&&e0.assert(x),J0&&T1.assert(V),e0.neo(x.x*V,x.y*V);if(typeof V=="object")return J0&&T1.assert(x),J0&&e0.assert(V),e0.neo(x*V.x,x*V.y)};e0.prototype.neg=function(){return this.x=-this.x,this.y=-this.y,this};e0.neg=function(x){return J0&&e0.assert(x),e0.neo(-x.x,-x.y)};e0.abs=function(x){return J0&&e0.assert(x),e0.neo(T1.abs(x.x),T1.abs(x.y))};e0.mid=function(x,V){return J0&&e0.assert(x),J0&&e0.assert(V),e0.neo((x.x+V.x)*.5,(x.y+V.y)*.5)};e0.upper=function(x,V){return J0&&e0.assert(x),J0&&e0.assert(V),e0.neo(T1.max(x.x,V.x),T1.max(x.y,V.y))};e0.lower=function(x,V){return J0&&e0.assert(x),J0&&e0.assert(V),e0.neo(T1.min(x.x,V.x),T1.min(x.y,V.y))};e0.prototype.clamp=function(x){var V=this.x*this.x+this.y*this.y;if(V>x*x){var o=T1.invSqrt(V);this.x*=o*x,this.y*=o*x}return this};e0.clamp=function(x,V){return x=e0.neo(x.x,x.y),x.clamp(V),x};e0.scaleFn=function(x,V){return function(o){return e0.neo(o.x*x,o.y*V)}};e0.translateFn=function(x,V){return function(o){return e0.neo(o.x+x,o.y+V)}}});var Y1=z0(MT=>{var r1=MT;r1.maxManifoldPoints=2;r1.maxPolygonVertices=12;r1.aabbExtension=.1;r1.aabbMultiplier=2;r1.linearSlop=.005;r1.linearSlopSquared=r1.linearSlop*r1.linearSlop;r1.angularSlop=2/180*Math.PI;r1.polygonRadius=2*r1.linearSlop;r1.maxSubSteps=8;r1.maxTOIContacts=32;r1.maxTOIIterations=20;r1.maxDistnceIterations=20;r1.velocityThreshold=1;r1.maxLinearCorrection=.2;r1.maxAngularCorrection=8/180*Math.PI;r1.maxTranslation=2;r1.maxTranslationSquared=r1.maxTranslation*r1.maxTranslation;r1.maxRotation=.5*Math.PI;r1.maxRotationSquared=r1.maxRotation*r1.maxRotation;r1.baumgarte=.2;r1.toiBaugarte=.75;r1.timeToSleep=.5;r1.linearSleepTolerance=.01;r1.linearSleepToleranceSqr=Math.pow(r1.linearSleepTolerance,2);r1.angularSleepTolerance=2/180*Math.PI;r1.angularSleepToleranceSqr=Math.pow(r1.angularSleepTolerance,2)});var iB=z0((Q0t,GT)=>{var zpt=typeof DEBUG>"u"?!1:DEBUG,Wpt=typeof ASSERT>"u"?!1:ASSERT,K0t=Y1(),Npt=_x(),FS=ky(),FC=Fy();GT.exports=VA;function VA(x,V){if(!(this instanceof VA))return new VA(x,V);this.lowerBound=FC.zero(),this.upperBound=FC.zero(),typeof x=="object"&&this.lowerBound.set(x),typeof V=="object"?this.upperBound.set(V):typeof x=="object"&&this.upperBound.set(x)}VA.prototype.isValid=function(){return VA.isValid(this)};VA.isValid=function(x){var V=FC.sub(x.upperBound,x.lowerBound),o=V.x>=0&&V.y>=0&&FC.isValid(x.lowerBound)&&FC.isValid(x.upperBound);return o};VA.assert=function(x){if(Wpt&&!VA.isValid(x))throw zpt&&Npt.debug(x),new Error("Invalid AABB!")};VA.prototype.getCenter=function(){return FC.neo((this.lowerBound.x+this.upperBound.x)*.5,(this.lowerBound.y+this.upperBound.y)*.5)};VA.prototype.getExtents=function(){return FC.neo((this.upperBound.x-this.lowerBound.x)*.5,(this.upperBound.y-this.lowerBound.y)*.5)};VA.prototype.getPerimeter=function(){return 2*(this.upperBound.x-this.lowerBound.x+this.upperBound.y-this.lowerBound.y)};VA.prototype.combine=function(x,V){V=V||this;var o=x.lowerBound,_o=x.upperBound,_r=V.lowerBound,l=V.upperBound,e_=FS.min(o.x,_r.x),o_=FS.min(o.y,_r.y),i_=FS.max(l.x,_o.x),_e=FS.max(l.y,_o.y);this.lowerBound.set(e_,o_),this.upperBound.set(i_,_e)};VA.prototype.combinePoints=function(x,V){this.lowerBound.set(FS.min(x.x,V.x),FS.min(x.y,V.y)),this.upperBound.set(FS.max(x.x,V.x),FS.max(x.y,V.y))};VA.prototype.set=function(x){this.lowerBound.set(x.lowerBound.x,x.lowerBound.y),this.upperBound.set(x.upperBound.x,x.upperBound.y)};VA.prototype.contains=function(x){var V=!0;return V=V&&this.lowerBound.x<=x.lowerBound.x,V=V&&this.lowerBound.y<=x.lowerBound.y,V=V&&x.upperBound.x<=this.upperBound.x,V=V&&x.upperBound.y<=this.upperBound.y,V};VA.prototype.extend=function(x){return VA.extend(this,x),this};VA.extend=function(x,V){x.lowerBound.x-=V,x.lowerBound.y-=V,x.upperBound.x+=V,x.upperBound.y+=V};VA.testOverlap=function(x,V){var o=V.lowerBound.x-x.upperBound.x,_o=x.lowerBound.x-V.upperBound.x,_r=V.lowerBound.y-x.upperBound.y,l=x.lowerBound.y-V.upperBound.y;return!(o>0||_r>0||_o>0||l>0)};VA.areEqual=function(x,V){return FC.areEqual(x.lowerBound,V.lowerBound)&&FC.areEqual(x.upperBound,V.upperBound)};VA.diff=function(x,V){var o=FS.max(0,FS.min(x.upperBound.x,V.upperBound.x)-FS.max(V.lowerBound.x,x.lowerBound.x)),_o=FS.max(0,FS.min(x.upperBound.y,V.upperBound.y)-FS.max(V.lowerBound.y,x.lowerBound.y)),_r=x.upperBound.x-x.lowerBound.x,l=x.upperBound.y-x.lowerBound.y,e_=V.upperBound.x-V.lowerBound.x,o_=V.upperBound.y-V.lowerBound.y;return _r*l+e_*o_-o*_o};VA.prototype.rayCast=function(x,V){for(var o=-1/0,_o=1/0,_r=V.p1,l=FC.sub(V.p2,V.p1),e_=FC.abs(l),o_=FC.zero(),i_="x";i_!==null;i_=i_==="x"?"y":null)if(e_.x<FS.EPSILON){if(_r[i_]<this.lowerBound[i_]||this.upperBound[i_]<_r[i_])return!1}else{var _e=1/l[i_],c_=(this.lowerBound[i_]-_r[i_])*_e,ws=(this.upperBound[i_]-_r[i_])*_e,h_=-1;if(c_>ws){var s_=c_;c_=ws,ws=s_,h_=1}if(c_>o&&(o_.setZero(),o_[i_]=h_,o=c_),_o=FS.min(_o,ws),o>_o)return!1}return o<0||V.maxFraction<o?!1:(x.fraction=o,x.normal=o_,!0)};VA.prototype.toString=function(){return JSON.stringify(this)}});var IT=z0(($0t,JT)=>{JT.exports=Opt;function Opt(x){var V=[],o=x.max||1/0,_o=x.create,_r=x.allocate,l=x.release,e_=x.discard,o_=0,i_=0,_e=0,c_=0;this.max=function(ws){return typeof ws=="number"?(o=ws,this):o},this.size=function(){return V.length},this.allocate=function(){var ws;return V.length>0?ws=V.shift():(o_++,typeof _o=="function"?ws=_o():ws={}),i_++,typeof _r=="function"&&_r(ws),ws},this.release=function(ws){V.length<o?(_e++,typeof l=="function"&&l(ws),V.push(ws)):(c_++,typeof e_=="function"&&(ws=e_(ws)))},this.toString=function(){return" +"+o_+" >"+i_+" <"+_e+" -"+c_+" ="+V.length+"/"+o}}});var LJ=z0((tbt,FT)=>{var q1=typeof ASSERT>"u"?!1:ASSERT,_4=Y1(),E1=_x(),$M=IT(),rB=Fy(),LS=ky(),wS=iB();FT.exports=RA;function RT(x){this.id=x,this.aabb=new wS,this.userData=null,this.parent=null,this.child1=null,this.child2=null,this.height=-1,this.toString=function(){return this.id+": "+this.userData}}RT.prototype.isLeaf=function(){return this.child1==null};function RA(){this.m_root=null,this.m_nodes={},this.m_lastProxyId=0,this.m_pool=new $M({create:function(){return new RT}})}RA.prototype.getUserData=function(x){var V=this.m_nodes[x];return q1&&E1.assert(!!V),V.userData};RA.prototype.getFatAABB=function(x){var V=this.m_nodes[x];return q1&&E1.assert(!!V),V.aabb};RA.prototype.allocateNode=function(){var x=this.m_pool.allocate();return x.id=++this.m_lastProxyId,x.userData=null,x.parent=null,x.child1=null,x.child2=null,x.height=-1,this.m_nodes[x.id]=x,x};RA.prototype.freeNode=function(x){this.m_pool.release(x),x.height=-1,delete this.m_nodes[x.id]};RA.prototype.createProxy=function(x,V){q1&&E1.assert(wS.isValid(x));var o=this.allocateNode();return o.aabb.set(x),wS.extend(o.aabb,_4.aabbExtension),o.userData=V,o.height=0,this.insertLeaf(o),o.id};RA.prototype.destroyProxy=function(x){var V=this.m_nodes[x];q1&&E1.assert(!!V),q1&&E1.assert(V.isLeaf()),this.removeLeaf(V),this.freeNode(V)};RA.prototype.moveProxy=function(x,V,o){q1&&E1.assert(wS.isValid(V)),q1&&E1.assert(!o||rB.isValid(o));var _o=this.m_nodes[x];return q1&&E1.assert(!!_o),q1&&E1.assert(_o.isLeaf()),_o.aabb.contains(V)?!1:(this.removeLeaf(_o),_o.aabb.set(V),V=_o.aabb,wS.extend(V,_4.aabbExtension),o.x<0?V.lowerBound.x+=o.x*_4.aabbMultiplier:V.upperBound.x+=o.x*_4.aabbMultiplier,o.y<0?V.lowerBound.y+=o.y*_4.aabbMultiplier:V.upperBound.y+=o.y*_4.aabbMultiplier,this.insertLeaf(_o),!0)};RA.prototype.insertLeaf=function(x){if(q1&&E1.assert(wS.isValid(x.aabb)),this.m_root==null){this.m_root=x,this.m_root.parent=null;return}for(var V=x.aabb,o=this.m_root;o.isLeaf()==!1;){var _o=o.child1,_r=o.child2,l=o.aabb.getPerimeter(),e_=new wS;e_.combine(o.aabb,V);var o_=e_.getPerimeter(),i_=2*o_,_e=2*(o_-l),c_;if(_o.isLeaf()){var ws=new wS;ws.combine(V,_o.aabb),c_=ws.getPerimeter()+_e}else{var ws=new wS;ws.combine(V,_o.aabb);var h_=_o.aabb.getPerimeter(),s_=ws.getPerimeter();c_=s_-h_+_e}var w_;if(_r.isLeaf()){var ws=new wS;ws.combine(V,_r.aabb),w_=ws.getPerimeter()+_e}else{var ws=new wS;ws.combine(V,_r.aabb);var h_=_r.aabb.getPerimeter(),s_=ws.getPerimeter();w_=s_-h_+_e}if(i_<c_&&i_<w_)break;c_<w_?o=_o:o=_r}var L_=o,y_=L_.parent,I_=this.allocateNode();for(I_.parent=y_,I_.userData=null,I_.aabb.combine(V,L_.aabb),I_.height=L_.height+1,y_!=null?(y_.child1==L_?y_.child1=I_:y_.child2=I_,I_.child1=L_,I_.child2=x,L_.parent=I_,x.parent=I_):(I_.child1=L_,I_.child2=x,L_.parent=I_,x.parent=I_,this.m_root=I_),o=x.parent;o!=null;){o=this.balance(o);var _o=o.child1,_r=o.child2;q1&&E1.assert(_o!=null),q1&&E1.assert(_r!=null),o.height=1+LS.max(_o.height,_r.height),o.aabb.combine(_o.aabb,_r.aabb),o=o.parent}};RA.prototype.removeLeaf=function(x){if(x==this.m_root){this.m_root=null;return}var V=x.parent,o=V.parent,_o;if(V.child1==x?_o=V.child2:_o=V.child1,o!=null){o.child1==V?o.child1=_o:o.child2=_o,_o.parent=o,this.freeNode(V);for(var _r=o;_r!=null;){_r=this.balance(_r);var l=_r.child1,e_=_r.child2;_r.aabb.combine(l.aabb,e_.aabb),_r.height=1+LS.max(l.height,e_.height),_r=_r.parent}}else this.m_root=_o,_o.parent=null,this.freeNode(V)};RA.prototype.balance=function(x){q1&&E1.assert(x!=null);var V=x;if(V.isLeaf()||V.height<2)return x;var o=V.child1,_o=V.child2,_r=_o.height-o.height;if(_r>1){var l=_o.child1,e_=_o.child2;return _o.child1=V,_o.parent=V.parent,V.parent=_o,_o.parent!=null?_o.parent.child1==x?_o.parent.child1=_o:_o.parent.child2=_o:this.m_root=_o,l.height>e_.height?(_o.child2=l,V.child2=e_,e_.parent=V,V.aabb.combine(o.aabb,e_.aabb),_o.aabb.combine(V.aabb,l.aabb),V.height=1+LS.max(o.height,e_.height),_o.height=1+LS.max(V.height,l.height)):(_o.child2=e_,V.child2=l,l.parent=V,V.aabb.combine(o.aabb,l.aabb),_o.aabb.combine(V.aabb,e_.aabb),V.height=1+LS.max(o.height,l.height),_o.height=1+LS.max(V.height,e_.height)),_o}if(_r<-1){var o_=o.child1,i_=o.child2;return o.child1=V,o.parent=V.parent,V.parent=o,o.parent!=null?o.parent.child1==V?o.parent.child1=o:o.parent.child2=o:this.m_root=o,o_.height>i_.height?(o.child2=o_,V.child1=i_,i_.parent=V,V.aabb.combine(_o.aabb,i_.aabb),o.aabb.combine(V.aabb,o_.aabb),V.height=1+LS.max(_o.height,i_.height),o.height=1+LS.max(V.height,o_.height)):(o.child2=i_,V.child1=o_,o_.parent=V,V.aabb.combine(_o.aabb,o_.aabb),o.aabb.combine(V.aabb,i_.aabb),V.height=1+LS.max(_o.height,o_.height),o.height=1+LS.max(V.height,i_.height)),o}return V};RA.prototype.getHeight=function(){return this.m_root==null?0:this.m_root.height};RA.prototype.getAreaRatio=function(){if(this.m_root==null)return 0;for(var x=this.m_root,V=x.aabb.getPerimeter(),o=0,_o,_r=SP.allocate().preorder(this.m_root);_o=_r.next();)_o.height<0||(o+=_o.aabb.getPerimeter());return SP.release(_r),o/V};RA.prototype.computeHeight=function(x){var V;if(typeof x<"u"?V=this.m_nodes[x]:V=this.m_root,V.isLeaf())return 0;var o=this.computeHeight(V.child1.id),_o=this.computeHeight(V.child2.id);return 1+LS.max(o,_o)};RA.prototype.validateStructure=function(x){if(x!=null){x==this.m_root&&q1&&E1.assert(x.parent==null);var V=x.child1,o=x.child2;if(x.isLeaf()){q1&&E1.assert(V==null),q1&&E1.assert(o==null),q1&&E1.assert(x.height==0);return}q1&&E1.assert(V.parent==x),q1&&E1.assert(o.parent==x),this.validateStructure(V),this.validateStructure(o)}};RA.prototype.validateMetrics=function(x){if(x!=null){var V=x.child1,o=x.child2;if(x.isLeaf()){q1&&E1.assert(V==null),q1&&E1.assert(o==null),q1&&E1.assert(x.height==0);return}var _o=V.height,_r=o.height,l=1+LS.max(_o,_r);q1&&E1.assert(x.height==l);var e_=new wS;e_.combine(V.aabb,o.aabb),q1&&E1.assert(wS.areEqual(e_,x.aabb)),this.validateMetrics(V),this.validateMetrics(o)}};RA.prototype.validate=function(){this.validateStructure(this.m_root),this.validateMetrics(this.m_root),q1&&E1.assert(this.getHeight()==this.computeHeight())};RA.prototype.getMaxBalance=function(){for(var x=0,V,o=SP.allocate().preorder(this.m_root);V=o.next();)if(!(V.height<=1)){q1&&E1.assert(V.isLeaf()==!1);var _o=LS.abs(V.child2.height-V.child1.height);x=LS.max(x,_o)}return SP.release(o),x};RA.prototype.rebuildBottomUp=function(){for(var x=[],V=0,o,_o=SP.allocate().preorder(this.m_root);o=_o.next();)o.height<0||(o.isLeaf()?(o.parent=null,x[V]=o,++V):this.freeNode(o));for(SP.release(_o);V>1;){for(var _r=1/0,l=-1,e_=-1,o_=0;o_<V;++o_)for(var i_=x[o_].aabb,_e=o_+1;_e<V;++_e){var c_=x[_e].aabb,ws=new wS;ws.combine(i_,c_);var h_=ws.getPerimeter();h_<_r&&(l=o_,e_=_e,_r=h_)}var s_=x[l],w_=x[e_],L_=this.allocateNode();L_.child1=s_,L_.child2=w_,L_.height=1+LS.max(s_.height,w_.height),L_.aabb.combine(s_.aabb,w_.aabb),L_.parent=null,s_.parent=L_,w_.parent=L_,x[e_]=x[V-1],x[l]=L_,--V}this.m_root=x[0],this.validate()};RA.prototype.shiftOrigin=function(x){for(var V,o=SP.allocate().preorder(this.m_root);V=o.next();){var _o=V.aabb;_o.lowerBound.x-=x.x,_o.lowerBound.y-=x.y,_o.upperBound.x-=x.x,_o.upperBound.y-=x.y}SP.release(o)};RA.prototype.query=function(x,V){q1&&E1.assert(typeof V=="function");var o=QM.allocate();for(o.push(this.m_root);o.length>0;){var _o=o.pop();if(_o!=null&&wS.testOverlap(_o.aabb,x))if(_o.isLeaf()){var _r=V(_o.id);if(_r==!1)return}else o.push(_o.child1),o.push(_o.child2)}QM.release(o)};RA.prototype.rayCast=function(x,V){q1&&E1.assert(typeof V=="function");var o=x.p1,_o=x.p2,_r=rB.sub(_o,o);q1&&E1.assert(_r.lengthSquared()>0),_r.normalize();var l=rB.cross(1,_r),e_=rB.abs(l),o_=x.maxFraction,i_=new wS,_e=rB.combine(1-o_,o,o_,_o);i_.combinePoints(o,_e);var c_=QM.allocate(),ws=TT.allocate();for(c_.push(this.m_root);c_.length>0;){var h_=c_.pop();if(h_!=null&&wS.testOverlap(h_.aabb,i_)!=!1){var s_=h_.aabb.getCenter(),w_=h_.aabb.getExtents(),L_=LS.abs(rB.dot(l,rB.sub(o,s_)))-rB.dot(e_,w_);if(!(L_>0))if(h_.isLeaf()){ws.p1=rB.clone(x.p1),ws.p2=rB.clone(x.p2),ws.maxFraction=o_;var y_=V(ws,h_.id);if(y_==0)return;y_>0&&(o_=y_,_e=rB.combine(1-o_,o,o_,_o),i_.combinePoints(o,_e))}else c_.push(h_.child1),c_.push(h_.child2)}}QM.release(c_),TT.release(ws)};var TT=new $M({create:function(){return{}},release:function(x){}}),QM=new $M({create:function(){return[]},release:function(x){x.length=0}}),SP=new $M({create:function(){return new Upt},release:function(x){x.close()}});function Upt(){var x=[],V=[];return{preorder:function(o){return x.length=0,x.push(o),V.length=0,V.push(0),this},next:function(){for(;x.length>0;){var o=x.length-1,_o=x[o];if(V[o]===0)return V[o]=1,_o;if(V[o]===1&&(V[o]=2,_o.child1))return x.push(_o.child1),V.push(1),_o.child1;if(V[o]===2&&(V[o]=3,_o.child2))return x.push(_o.child2),V.push(1),_o.child2;x.pop(),V.pop()}},close:function(){x.length=0}}}});var ET=z0((obt,qT)=>{var qJ=typeof ASSERT>"u"?!1:ASSERT,ebt=Y1(),EJ=_x(),LT=ky(),kJ=iB(),Xpt=LJ();qT.exports=pS;function pS(){this.m_tree=new Xpt,this.m_proxyCount=0,this.m_moveBuffer=[],this.queryCallback=this.queryCallback.bind(this)}pS.prototype.getUserData=function(x){return this.m_tree.getUserData(x)};pS.prototype.testOverlap=function(x,V){var o=this.m_tree.getFatAABB(x),_o=this.m_tree.getFatAABB(V);return kJ.testOverlap(o,_o)};pS.prototype.getFatAABB=function(x){return this.m_tree.getFatAABB(x)};pS.prototype.getProxyCount=function(){return this.m_proxyCount};pS.prototype.getTreeHeight=function(){return this.m_tree.getHeight()};pS.prototype.getTreeBalance=function(){return this.m_tree.getMaxBalance()};pS.prototype.getTreeQuality=function(){return this.m_tree.getAreaRatio()};pS.prototype.query=function(x,V){this.m_tree.query(x,V)};pS.prototype.rayCast=function(x,V){this.m_tree.rayCast(x,V)};pS.prototype.shiftOrigin=function(x){this.m_tree.shiftOrigin(x)};pS.prototype.createProxy=function(x,V){qJ&&EJ.assert(kJ.isValid(x));var o=this.m_tree.createProxy(x,V);return this.m_proxyCount++,this.bufferMove(o),o};pS.prototype.destroyProxy=function(x){this.unbufferMove(x),this.m_proxyCount--,this.m_tree.destroyProxy(x)};pS.prototype.moveProxy=function(x,V,o){qJ&&EJ.assert(kJ.isValid(V));var _o=this.m_tree.moveProxy(x,V,o);_o&&this.bufferMove(x)};pS.prototype.touchProxy=function(x){this.bufferMove(x)};pS.prototype.bufferMove=function(x){this.m_moveBuffer.push(x)};pS.prototype.unbufferMove=function(x){for(var V=0;V<this.m_moveBuffer.length;++V)this.m_moveBuffer[V]==x&&(this.m_moveBuffer[V]=null)};pS.prototype.updatePairs=function(x){for(qJ&&EJ.assert(typeof x=="function"),this.m_callback=x;this.m_moveBuffer.length>0;)if(this.m_queryProxyId=this.m_moveBuffer.pop(),this.m_queryProxyId!==null){var V=this.m_tree.getFatAABB(this.m_queryProxyId);this.m_tree.query(V,this.queryCallback)}};pS.prototype.queryCallback=function(x){if(x==this.m_queryProxyId)return!0;var V=LT.min(x,this.m_queryProxyId),o=LT.max(x,this.m_queryProxyId),_o=this.m_tree.getUserData(V),_r=this.m_tree.getUserData(o);return this.m_callback(_o,_r),!0}});var k1=z0((ibt,kT)=>{var Ypt=typeof DEBUG>"u"?!1:DEBUG,qS=typeof ASSERT>"u"?!1:ASSERT;kT.exports=Ny;var Hpt=_x(),nB=Fy(),QB=ky();function Ny(x){if(!(this instanceof Ny))return new Ny(x);typeof x=="number"?this.setAngle(x):typeof x=="object"?this.set(x):this.setIdentity()}Ny.neo=function(x){var V=Object.create(Ny.prototype);return V.setAngle(x),V};Ny.clone=function(x){qS&&Ny.assert(x);var V=Object.create(Ny.prototype);return V.s=x.s,V.c=x.c,V};Ny.identity=function(){var x=Object.create(Ny.prototype);return x.s=0,x.c=1,x};Ny.isValid=function(x){return x&&QB.isFinite(x.s)&&QB.isFinite(x.c)};Ny.assert=function(x){if(qS&&!Ny.isValid(x))throw Ypt&&Hpt.debug(x),new Error("Invalid Rot!")};Ny.prototype.setIdentity=function(){this.s=0,this.c=1};Ny.prototype.set=function(x){typeof x=="object"?(qS&&Ny.assert(x),this.s=x.s,this.c=x.c):(qS&&QB.assert(x),this.s=QB.sin(x),this.c=QB.cos(x))};Ny.prototype.setAngle=function(x){qS&&QB.assert(x),this.s=QB.sin(x),this.c=QB.cos(x)};Ny.prototype.getAngle=function(){return QB.atan2(this.s,this.c)};Ny.prototype.getXAxis=function(){return nB.neo(this.c,this.s)};Ny.prototype.getYAxis=function(){return nB.neo(-this.s,this.c)};Ny.mul=function(x,V){if(qS&&Ny.assert(x),"c"in V&&"s"in V){qS&&Ny.assert(V);var o=Ny.identity();return o.s=x.s*V.c+x.c*V.s,o.c=x.c*V.c-x.s*V.s,o}else if("x"in V&&"y"in V)return qS&&nB.assert(V),nB.neo(x.c*V.x-x.s*V.y,x.s*V.x+x.c*V.y)};Ny.mulRot=function(x,V){qS&&Ny.assert(x),qS&&Ny.assert(V);var o=Ny.identity();return o.s=x.s*V.c+x.c*V.s,o.c=x.c*V.c-x.s*V.s,o};Ny.mulVec2=function(x,V){return qS&&Ny.assert(x),qS&&nB.assert(V),nB.neo(x.c*V.x-x.s*V.y,x.s*V.x+x.c*V.y)};Ny.mulSub=function(x,V,o){var _o=x.c*(V.x-o.x)-x.s*(V.y-o.y),_r=x.s*(V.x-o.x)+x.c*(V.y-o.y);return nB.neo(_o,_r)};Ny.mulT=function(x,V){if("c"in V&&"s"in V){qS&&Ny.assert(V);var o=Ny.identity();return o.s=x.c*V.s-x.s*V.c,o.c=x.c*V.c+x.s*V.s,o}else if("x"in V&&"y"in V)return qS&&nB.assert(V),nB.neo(x.c*V.x+x.s*V.y,-x.s*V.x+x.c*V.y)};Ny.mulTRot=function(x,V){qS&&Ny.assert(V);var o=Ny.identity();return o.s=x.c*V.s-x.s*V.c,o.c=x.c*V.c+x.s*V.s,o};Ny.mulTVec2=function(x,V){return qS&&nB.assert(V),nB.neo(x.c*V.x+x.s*V.y,-x.s*V.x+x.c*V.y)}});var H1=z0((rbt,jT)=>{var Zpt=typeof DEBUG>"u"?!1:DEBUG,VS=typeof ASSERT>"u"?!1:ASSERT;jT.exports=Jy;var Kpt=_x(),DS=Fy(),VC=k1();function Jy(x,V){if(!(this instanceof Jy))return new Jy(x,V);this.p=DS.zero(),this.q=VC.identity(),typeof x<"u"&&this.p.set(x),typeof V<"u"&&this.q.set(V)}Jy.clone=function(x){var V=Object.create(Jy.prototype);return V.p=DS.clone(x.p),V.q=VC.clone(x.q),V};Jy.neo=function(x,V){var o=Object.create(Jy.prototype);return o.p=DS.clone(x),o.q=VC.clone(V),o};Jy.identity=function(){var x=Object.create(Jy.prototype);return x.p=DS.zero(),x.q=VC.identity(),x};Jy.prototype.setIdentity=function(){this.p.setZero(),this.q.setIdentity()};Jy.prototype.set=function(x,V){typeof V>"u"?(this.p.set(x.p),this.q.set(x.q)):(this.p.set(x),this.q.set(V))};Jy.isValid=function(x){return x&&DS.isValid(x.p)&&VC.isValid(x.q)};Jy.assert=function(x){if(VS&&!Jy.isValid(x))throw Zpt&&Kpt.debug(x),new Error("Invalid Transform!")};Jy.mul=function(x,V){if(VS&&Jy.assert(x),Array.isArray(V)){for(var o=[],_o=0;_o<V.length;_o++)o[_o]=Jy.mul(x,V[_o]);return o}else if("x"in V&&"y"in V){VS&&DS.assert(V);var _r=x.q.c*V.x-x.q.s*V.y+x.p.x,l=x.q.s*V.x+x.q.c*V.y+x.p.y;return DS.neo(_r,l)}else if("p"in V&&"q"in V){VS&&Jy.assert(V);var e_=Jy.identity();return e_.q=VC.mulRot(x.q,V.q),e_.p=DS.add(VC.mulVec2(x.q,V.p),x.p),e_}};Jy.mulAll=function(x,V){VS&&Jy.assert(x);for(var o=[],_o=0;_o<V.length;_o++)o[_o]=Jy.mul(x,V[_o]);return o};Jy.mulFn=function(x){return VS&&Jy.assert(x),function(V){return Jy.mul(x,V)}};Jy.mulVec2=function(x,V){VS&&Jy.assert(x),VS&&DS.assert(V);var o=x.q.c*V.x-x.q.s*V.y+x.p.x,_o=x.q.s*V.x+x.q.c*V.y+x.p.y;return DS.neo(o,_o)};Jy.mulXf=function(x,V){VS&&Jy.assert(x),VS&&Jy.assert(V);var o=Jy.identity();return o.q=VC.mulRot(x.q,V.q),o.p=DS.add(VC.mulVec2(x.q,V.p),x.p),o};Jy.mulT=function(x,V){if(VS&&Jy.assert(x),"x"in V&&"y"in V){VS&&DS.assert(V);var o=V.x-x.p.x,_o=V.y-x.p.y,_r=x.q.c*o+x.q.s*_o,l=-x.q.s*o+x.q.c*_o;return DS.neo(_r,l)}else if("p"in V&&"q"in V){VS&&Jy.assert(V);var e_=Jy.identity();return e_.q.set(VC.mulTRot(x.q,V.q)),e_.p.set(VC.mulTVec2(x.q,DS.sub(V.p,x.p))),e_}};Jy.mulTVec2=function(x,V){VS&&Jy.assert(x),VS&&DS.assert(V);var o=V.x-x.p.x,_o=V.y-x.p.y,_r=x.q.c*o+x.q.s*_o,l=-x.q.s*o+x.q.c*_o;return DS.neo(_r,l)};Jy.mulTXf=function(x,V){VS&&Jy.assert(x),VS&&Jy.assert(V);var o=Jy.identity();return o.q.set(VC.mulTRot(x.q,V.q)),o.p.set(VC.mulTVec2(x.q,DS.sub(V.p,x.p))),o}});var ES=z0((nbt,WT)=>{var WJ=typeof ASSERT>"u"?!1:ASSERT;WT.exports=VB;var NJ=_x(),jJ=ky(),zJ=Fy(),Qpt=k1(),zT=H1();function VB(x,V){WJ&&NJ.assert(typeof x>"u"),WJ&&NJ.assert(typeof V>"u"),this.localCenter=zJ.zero(),this.c=zJ.zero(),this.a=0,this.alpha0=0,this.c0=zJ.zero(),this.a0=0}VB.prototype.setTransform=function(x){var V=zT.mulVec2(x,this.localCenter);this.c.set(V),this.c0.set(V),this.a=x.q.getAngle(),this.a0=x.q.getAngle()};VB.prototype.setLocalCenter=function(x,V){this.localCenter.set(x);var o=zT.mulVec2(V,this.localCenter);this.c.set(o),this.c0.set(o)};VB.prototype.getTransform=function(x,V){V=typeof V>"u"?0:V,x.q.setAngle((1-V)*this.a0+V*this.a),x.p.setCombine(1-V,this.c0,V,this.c),x.p.sub(Qpt.mulVec2(x.q,this.localCenter))};VB.prototype.advance=function(x){WJ&&NJ.assert(this.alpha0<1);var V=(x-this.alpha0)/(1-this.alpha0);this.c0.setCombine(V,this.c,1-V,this.c0),this.a0=V*this.a+(1-V)*this.a0,this.alpha0=x};VB.prototype.forward=function(){this.a0=this.a,this.c0.set(this.c)};VB.prototype.normalize=function(){var x=jJ.mod(this.a0,-jJ.PI,+jJ.PI);this.a-=this.a0-x,this.a0=x};VB.prototype.clone=function(){var x=new VB;return x.localCenter.set(this.localCenter),x.alpha0=this.alpha0,x.a0=this.a0,x.a=this.a,x.c0.set(this.c0),x.c.set(this.c),x};VB.prototype.set=function(x){this.localCenter.set(x.localCenter),this.alpha0=x.alpha0,this.a0=x.a0,this.a=x.a,this.c0.set(x.c0),this.c.set(x.c)}});var rC=z0((sbt,NT)=>{NT.exports=tlt;var $pt=Fy();function tlt(){this.v=$pt.zero(),this.w=0}});var nC=z0((_bt,XT)=>{XT.exports=UT;var OT=Fy(),elt=k1();function UT(){this.c=OT.zero(),this.a=0}UT.prototype.getTransform=function(x,V){return x.q.set(this.a),x.p.set(OT.sub(this.c,elt.mulVec2(x.q,V))),x}});var xC=z0((pbt,YT)=>{YT.exports=kS;var abt=ky();function kS(){this.m_type,this.m_radius}kS.prototype._reset=function(){};kS.prototype._serialize=function(){return{}};kS.TYPES={};kS._deserialize=function(x,V,o){var _o=kS.TYPES[x.type];return _o&&o(_o,x)};kS.isValid=function(x){return!!x};kS.prototype.getRadius=function(){return this.m_radius};kS.prototype.getType=function(){return this.m_type};kS.prototype._clone=function(){};kS.prototype.getChildCount=function(){};kS.prototype.testPoint=function(x,V){};kS.prototype.rayCast=function(x,V,o,_o){};kS.prototype.computeAABB=function(x,V,o){};kS.prototype.computeMass=function(x,V){};kS.prototype.computeDistanceProxy=function(x){}});var tG=z0((lbt,ZT)=>{var UJ=typeof ASSERT>"u"?!1:ASSERT;ZT.exports=n1;var XJ=_x(),olt=aS(),ilt=ky(),rlt=Fy(),OJ=iB(),nlt=xC(),slt={userData:null,friction:.2,restitution:0,density:0,isSensor:!1,filterGroupIndex:0,filterCategoryBits:1,filterMaskBits:65535};function HT(x,V){this.aabb=new OJ,this.fixture=x,this.childIndex=V,this.proxyId}function n1(x,V,o){V.shape?(o=V,V=V.shape):typeof o=="number"&&(o={density:o}),o=olt(o,slt),this.m_body=x,this.m_friction=o.friction,this.m_restitution=o.restitution,this.m_density=o.density,this.m_isSensor=o.isSensor,this.m_filterGroupIndex=o.filterGroupIndex,this.m_filterCategoryBits=o.filterCategoryBits,this.m_filterMaskBits=o.filterMaskBits,this.m_shape=V,this.m_next=null,this.m_proxies=[],this.m_proxyCount=0;for(var _o=this.m_shape.getChildCount(),_r=0;_r<_o;++_r)this.m_proxies[_r]=new HT(this,_r);this.m_userData=o.userData}n1.prototype._reset=function(){var x=this.getBody(),V=x.m_world.m_broadPhase;this.destroyProxies(V),this.m_shape._reset&&this.m_shape._reset();for(var o=this.m_shape.getChildCount(),_o=0;_o<o;++_o)this.m_proxies[_o]=new HT(this,_o);this.createProxies(V,x.m_xf),x.resetMassData()};n1.prototype._serialize=function(){return{friction:this.m_friction,restitution:this.m_restitution,density:this.m_density,isSensor:this.m_isSensor,filterGroupIndex:this.m_filterGroupIndex,filterCategoryBits:this.m_filterCategoryBits,filterMaskBits:this.m_filterMaskBits,shape:this.m_shape}};n1._deserialize=function(x,V,o){var _o=o(nlt,x.shape),_r=_o&&new n1(V,_o,x);return _r};n1.prototype.getType=function(){return this.m_shape.getType()};n1.prototype.getShape=function(){return this.m_shape};n1.prototype.isSensor=function(){return this.m_isSensor};n1.prototype.setSensor=function(x){x!=this.m_isSensor&&(this.m_body.setAwake(!0),this.m_isSensor=x)};n1.prototype.getUserData=function(){return this.m_userData};n1.prototype.setUserData=function(x){this.m_userData=x};n1.prototype.getBody=function(){return this.m_body};n1.prototype.getNext=function(){return this.m_next};n1.prototype.getDensity=function(){return this.m_density};n1.prototype.setDensity=function(x){UJ&&XJ.assert(ilt.isFinite(x)&&x>=0),this.m_density=x};n1.prototype.getFriction=function(){return this.m_friction};n1.prototype.setFriction=function(x){this.m_friction=x};n1.prototype.getRestitution=function(){return this.m_restitution};n1.prototype.setRestitution=function(x){this.m_restitution=x};n1.prototype.testPoint=function(x){return this.m_shape.testPoint(this.m_body.getTransform(),x)};n1.prototype.rayCast=function(x,V,o){return this.m_shape.rayCast(x,V,this.m_body.getTransform(),o)};n1.prototype.getMassData=function(x){this.m_shape.computeMass(x,this.m_density)};n1.prototype.getAABB=function(x){return UJ&&XJ.assert(0<=x&&x<this.m_proxyCount),this.m_proxies[x].aabb};n1.prototype.createProxies=function(x,V){UJ&&XJ.assert(this.m_proxyCount==0),this.m_proxyCount=this.m_shape.getChildCount();for(var o=0;o<this.m_proxyCount;++o){var _o=this.m_proxies[o];this.m_shape.computeAABB(_o.aabb,V,o),_o.proxyId=x.createProxy(_o.aabb,_o)}};n1.prototype.destroyProxies=function(x){for(var V=0;V<this.m_proxyCount;++V){var o=this.m_proxies[V];x.destroyProxy(o.proxyId),o.proxyId=null}this.m_proxyCount=0};n1.prototype.synchronize=function(x,V,o){for(var _o=0;_o<this.m_proxyCount;++_o){var _r=this.m_proxies[_o],l=new OJ,e_=new OJ;this.m_shape.computeAABB(l,V,_r.childIndex),this.m_shape.computeAABB(e_,o,_r.childIndex),_r.aabb.combine(l,e_);var o_=rlt.sub(o.p,V.p);x.moveProxy(_r.proxyId,_r.aabb,o_)}};n1.prototype.setFilterData=function(x){this.m_filterGroupIndex=x.groupIndex,this.m_filterCategoryBits=x.categoryBits,this.m_filterMaskBits=x.maskBits,this.refilter()};n1.prototype.getFilterGroupIndex=function(){return this.m_filterGroupIndex};n1.prototype.setFilterGroupIndex=function(x){return this.m_filterGroupIndex=x};n1.prototype.getFilterCategoryBits=function(){return this.m_filterCategoryBits};n1.prototype.setFilterCategoryBits=function(x){this.m_filterCategoryBits=x};n1.prototype.getFilterMaskBits=function(){return this.m_filterMaskBits};n1.prototype.setFilterMaskBits=function(x){this.m_filterMaskBits=x};n1.prototype.refilter=function(){if(this.m_body!=null){for(var x=this.m_body.getContactList();x;){var V=x.contact,o=V.getFixtureA(),_o=V.getFixtureB();(o==this||_o==this)&&V.flagForFiltering(),x=x.next}var _r=this.m_body.getWorld();if(_r!=null)for(var l=_r.m_broadPhase,e_=0;e_<this.m_proxyCount;++e_)l.touchProxy(this.m_proxies[e_].proxyId)}};n1.prototype.shouldCollide=function(x){if(x.m_filterGroupIndex===this.m_filterGroupIndex&&x.m_filterGroupIndex!==0)return x.m_filterGroupIndex>0;var V=(x.m_filterMaskBits&this.m_filterCategoryBits)!==0,o=(x.m_filterCategoryBits&this.m_filterMaskBits)!==0,_o=V&&o;return _o}});var jS=z0((mbt,$T)=>{var lS=typeof ASSERT>"u"?!1:ASSERT;$T.exports=B0;var cS=_x(),_lt=aS(),aA=Fy(),KT=k1(),eG=ky(),alt=ES(),oG=H1(),plt=rC(),llt=nC(),QT=tG(),cbt=xC(),hV=B0.STATIC="static",YJ=B0.KINEMATIC="kinematic",LC=B0.DYNAMIC="dynamic",clt={type:hV,position:aA.zero(),angle:0,linearVelocity:aA.zero(),angularVelocity:0,linearDamping:0,angularDamping:0,fixedRotation:!1,bullet:!1,gravityScale:1,allowSleep:!0,awake:!0,active:!0,userData:null};function B0(x,V){V=_lt(V,clt),lS&&cS.assert(aA.isValid(V.position)),lS&&cS.assert(aA.isValid(V.linearVelocity)),lS&&cS.assert(eG.isFinite(V.angle)),lS&&cS.assert(eG.isFinite(V.angularVelocity)),lS&&cS.assert(eG.isFinite(V.angularDamping)&&V.angularDamping>=0),lS&&cS.assert(eG.isFinite(V.linearDamping)&&V.linearDamping>=0),this.m_world=x,this.m_awakeFlag=V.awake,this.m_autoSleepFlag=V.allowSleep,this.m_bulletFlag=V.bullet,this.m_fixedRotationFlag=V.fixedRotation,this.m_activeFlag=V.active,this.m_islandFlag=!1,this.m_toiFlag=!1,this.m_userData=V.userData,this.m_type=V.type,this.m_type==LC?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_xf=oG.identity(),this.m_xf.p=aA.clone(V.position),this.m_xf.q.setAngle(V.angle),this.m_sweep=new alt,this.m_sweep.setTransform(this.m_xf),this.c_velocity=new plt,this.c_position=new llt,this.m_force=aA.zero(),this.m_torque=0,this.m_linearVelocity=aA.clone(V.linearVelocity),this.m_angularVelocity=V.angularVelocity,this.m_linearDamping=V.linearDamping,this.m_angularDamping=V.angularDamping,this.m_gravityScale=V.gravityScale,this.m_sleepTime=0,this.m_jointList=null,this.m_contactList=null,this.m_fixtureList=null,this.m_prev=null,this.m_next=null,this.m_destroyed=!1}B0.prototype._serialize=function(){for(var x=[],V=this.m_fixtureList;V;V=V.m_next)x.push(V);return{type:this.m_type,bullet:this.m_bulletFlag,position:this.m_xf.p,angle:this.m_xf.q.getAngle(),linearVelocity:this.m_linearVelocity,angularVelocity:this.m_angularVelocity,fixtures:x}};B0._deserialize=function(x,V,o){var _o=new B0(V,x);if(x.fixtures)for(var _r=x.fixtures.length-1;_r>=0;_r--){var l=o(QT,x.fixtures[_r],_o);_o._addFixture(l)}return _o};B0.prototype.isWorldLocked=function(){return!!(this.m_world&&this.m_world.isLocked())};B0.prototype.getWorld=function(){return this.m_world};B0.prototype.getNext=function(){return this.m_next};B0.prototype.setUserData=function(x){this.m_userData=x};B0.prototype.getUserData=function(){return this.m_userData};B0.prototype.getFixtureList=function(){return this.m_fixtureList};B0.prototype.getJointList=function(){return this.m_jointList};B0.prototype.getContactList=function(){return this.m_contactList};B0.prototype.isStatic=function(){return this.m_type==hV};B0.prototype.isDynamic=function(){return this.m_type==LC};B0.prototype.isKinematic=function(){return this.m_type==YJ};B0.prototype.setStatic=function(){return this.setType(hV),this};B0.prototype.setDynamic=function(){return this.setType(LC),this};B0.prototype.setKinematic=function(){return this.setType(YJ),this};B0.prototype.getType=function(){return this.m_type};B0.prototype.setType=function(x){if(lS&&cS.assert(x===hV||x===YJ||x===LC),lS&&cS.assert(this.isWorldLocked()==!1),this.isWorldLocked()!=!0&&this.m_type!=x){this.m_type=x,this.resetMassData(),this.m_type==hV&&(this.m_linearVelocity.setZero(),this.m_angularVelocity=0,this.m_sweep.forward(),this.synchronizeFixtures()),this.setAwake(!0),this.m_force.setZero(),this.m_torque=0;for(var V=this.m_contactList;V;){var o=V;V=V.next,this.m_world.destroyContact(o.contact)}this.m_contactList=null;for(var _o=this.m_world.m_broadPhase,_r=this.m_fixtureList;_r;_r=_r.m_next)for(var l=_r.m_proxyCount,e_=0;e_<l;++e_)_o.touchProxy(_r.m_proxies[e_].proxyId)}};B0.prototype.isBullet=function(){return this.m_bulletFlag};B0.prototype.setBullet=function(x){this.m_bulletFlag=!!x};B0.prototype.isSleepingAllowed=function(){return this.m_autoSleepFlag};B0.prototype.setSleepingAllowed=function(x){this.m_autoSleepFlag=!!x,this.m_autoSleepFlag==!1&&this.setAwake(!0)};B0.prototype.isAwake=function(){return this.m_awakeFlag};B0.prototype.setAwake=function(x){x?this.m_awakeFlag==!1&&(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.setZero(),this.m_angularVelocity=0,this.m_force.setZero(),this.m_torque=0)};B0.prototype.isActive=function(){return this.m_activeFlag};B0.prototype.setActive=function(x){if(lS&&cS.assert(this.isWorldLocked()==!1),x!=this.m_activeFlag)if(this.m_activeFlag=!!x,this.m_activeFlag)for(var V=this.m_world.m_broadPhase,o=this.m_fixtureList;o;o=o.m_next)o.createProxies(V,this.m_xf);else{for(var V=this.m_world.m_broadPhase,o=this.m_fixtureList;o;o=o.m_next)o.destroyProxies(V);for(var _o=this.m_contactList;_o;){var _r=_o;_o=_o.next,this.m_world.destroyContact(_r.contact)}this.m_contactList=null}};B0.prototype.isFixedRotation=function(){return this.m_fixedRotationFlag};B0.prototype.setFixedRotation=function(x){this.m_fixedRotationFlag!=x&&(this.m_fixedRotationFlag=!!x,this.m_angularVelocity=0,this.resetMassData())};B0.prototype.getTransform=function(){return this.m_xf};B0.prototype.setTransform=function(x,V){if(lS&&cS.assert(this.isWorldLocked()==!1),this.isWorldLocked()!=!0){this.m_xf.set(x,V),this.m_sweep.setTransform(this.m_xf);for(var o=this.m_world.m_broadPhase,_o=this.m_fixtureList;_o;_o=_o.m_next)_o.synchronize(o,this.m_xf,this.m_xf)}};B0.prototype.synchronizeTransform=function(){this.m_sweep.getTransform(this.m_xf,1)};B0.prototype.synchronizeFixtures=function(){var x=oG.identity();this.m_sweep.getTransform(x,0);for(var V=this.m_world.m_broadPhase,o=this.m_fixtureList;o;o=o.m_next)o.synchronize(V,x,this.m_xf)};B0.prototype.advance=function(x){this.m_sweep.advance(x),this.m_sweep.c.set(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_sweep.getTransform(this.m_xf,1)};B0.prototype.getPosition=function(){return this.m_xf.p};B0.prototype.setPosition=function(x){this.setTransform(x,this.m_sweep.a)};B0.prototype.getAngle=function(){return this.m_sweep.a};B0.prototype.setAngle=function(x){this.setTransform(this.m_xf.p,x)};B0.prototype.getWorldCenter=function(){return this.m_sweep.c};B0.prototype.getLocalCenter=function(){return this.m_sweep.localCenter};B0.prototype.getLinearVelocity=function(){return this.m_linearVelocity};B0.prototype.getLinearVelocityFromWorldPoint=function(x){var V=aA.sub(x,this.m_sweep.c);return aA.add(this.m_linearVelocity,aA.cross(this.m_angularVelocity,V))};B0.prototype.getLinearVelocityFromLocalPoint=function(x){return this.getLinearVelocityFromWorldPoint(this.getWorldPoint(x))};B0.prototype.setLinearVelocity=function(x){this.m_type!=hV&&(aA.dot(x,x)>0&&this.setAwake(!0),this.m_linearVelocity.set(x))};B0.prototype.getAngularVelocity=function(){return this.m_angularVelocity};B0.prototype.setAngularVelocity=function(x){this.m_type!=hV&&(x*x>0&&this.setAwake(!0),this.m_angularVelocity=x)};B0.prototype.getLinearDamping=function(){return this.m_linearDamping};B0.prototype.setLinearDamping=function(x){this.m_linearDamping=x};B0.prototype.getAngularDamping=function(){return this.m_angularDamping};B0.prototype.setAngularDamping=function(x){this.m_angularDamping=x};B0.prototype.getGravityScale=function(){return this.m_gravityScale};B0.prototype.setGravityScale=function(x){this.m_gravityScale=x};B0.prototype.getMass=function(){return this.m_mass};B0.prototype.getInertia=function(){return this.m_I+this.m_mass*aA.dot(this.m_sweep.localCenter,this.m_sweep.localCenter)};function mlt(){this.mass=0,this.center=aA.zero(),this.I=0}B0.prototype.getMassData=function(x){x.mass=this.m_mass,x.I=this.getInertia(),x.center.set(this.m_sweep.localCenter)};B0.prototype.resetMassData=function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.setZero(),this.isStatic()||this.isKinematic()){this.m_sweep.c0.set(this.m_xf.p),this.m_sweep.c.set(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;return}lS&&cS.assert(this.isDynamic());for(var x=aA.zero(),V=this.m_fixtureList;V;V=V.m_next)if(V.m_density!=0){var o=new mlt;V.getMassData(o),this.m_mass+=o.mass,x.addMul(o.mass,o.center),this.m_I+=o.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,x.mul(this.m_invMass)):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&this.m_fixedRotationFlag==!1?(this.m_I-=this.m_mass*aA.dot(x,x),lS&&cS.assert(this.m_I>0),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var _o=aA.clone(this.m_sweep.c);this.m_sweep.setLocalCenter(x,this.m_xf),this.m_linearVelocity.add(aA.cross(this.m_angularVelocity,aA.sub(this.m_sweep.c,_o)))};B0.prototype.setMassData=function(x){if(lS&&cS.assert(this.isWorldLocked()==!1),this.isWorldLocked()!=!0&&this.m_type==LC){this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=x.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,x.I>0&&this.m_fixedRotationFlag==!1&&(this.m_I=x.I-this.m_mass*aA.dot(x.center,x.center),lS&&cS.assert(this.m_I>0),this.m_invI=1/this.m_I);var V=aA.clone(this.m_sweep.c);this.m_sweep.setLocalCenter(x.center,this.m_xf),this.m_linearVelocity.add(aA.cross(this.m_angularVelocity,aA.sub(this.m_sweep.c,V)))}};B0.prototype.applyForce=function(x,V,o){this.m_type==LC&&(o&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_force.add(x),this.m_torque+=aA.cross(aA.sub(V,this.m_sweep.c),x)))};B0.prototype.applyForceToCenter=function(x,V){this.m_type==LC&&(V&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&this.m_force.add(x))};B0.prototype.applyTorque=function(x,V){this.m_type==LC&&(V&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_torque+=x))};B0.prototype.applyLinearImpulse=function(x,V,o){this.m_type==LC&&(o&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.addMul(this.m_invMass,x),this.m_angularVelocity+=this.m_invI*aA.cross(aA.sub(V,this.m_sweep.c),x)))};B0.prototype.applyAngularImpulse=function(x,V){this.m_type==LC&&(V&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*x))};B0.prototype.shouldCollide=function(x){if(this.m_type!=LC&&x.m_type!=LC)return!1;for(var V=this.m_jointList;V;V=V.next)if(V.other==x&&V.joint.m_collideConnected==!1)return!1;return!0};B0.prototype._addFixture=function(x){if(lS&&cS.assert(this.isWorldLocked()==!1),this.isWorldLocked()==!0)return null;if(this.m_activeFlag){var V=this.m_world.m_broadPhase;x.createProxies(V,this.m_xf)}return x.m_next=this.m_fixtureList,this.m_fixtureList=x,x.m_density>0&&this.resetMassData(),this.m_world.m_newFixture=!0,x};B0.prototype.createFixture=function(x,V){if(lS&&cS.assert(this.isWorldLocked()==!1),this.isWorldLocked()==!0)return null;var o=new QT(this,x,V);return this._addFixture(o),o};B0.prototype.destroyFixture=function(x){if(lS&&cS.assert(this.isWorldLocked()==!1),this.isWorldLocked()!=!0){lS&&cS.assert(x.m_body==this);var V=!1;if(this.m_fixtureList===x)this.m_fixtureList=x.m_next,V=!0;else for(var o=this.m_fixtureList;o!=null;){if(o.m_next===x){o.m_next=x.m_next,V=!0;break}o=o.m_next}lS&&cS.assert(V);for(var _o=this.m_contactList;_o;){var _r=_o.contact;_o=_o.next;var l=_r.getFixtureA(),e_=_r.getFixtureB();(x==l||x==e_)&&this.m_world.destroyContact(_r)}if(this.m_activeFlag){var o_=this.m_world.m_broadPhase;x.destroyProxies(o_)}x.m_body=null,x.m_next=null,this.m_world.publish("remove-fixture",x),this.resetMassData()}};B0.prototype.getWorldPoint=function(x){return oG.mulVec2(this.m_xf,x)};B0.prototype.getWorldVector=function(x){return KT.mulVec2(this.m_xf.q,x)};B0.prototype.getLocalPoint=function(x){return oG.mulTVec2(this.m_xf,x)};B0.prototype.getLocalVector=function(x){return KT.mulTVec2(this.m_xf.q,x)}});var zS=z0((ubt,tR)=>{var blt=typeof DEBUG>"u"?!1:DEBUG,QA=typeof ASSERT>"u"?!1:ASSERT;tR.exports=s1;var yD=_x(),bbt=ky(),Oy=Fy();function s1(x,V,o,_o){typeof x=="object"&&x!==null?(this.ex=Oy.clone(x),this.ey=Oy.clone(V)):typeof x=="number"?(this.ex=Oy.neo(x,o),this.ey=Oy.neo(V,_o)):(this.ex=Oy.zero(),this.ey=Oy.zero())}s1.prototype.toString=function(){return JSON.stringify(this)};s1.isValid=function(x){return x&&Oy.isValid(x.ex)&&Oy.isValid(x.ey)};s1.assert=function(x){if(QA&&!s1.isValid(x))throw blt&&yD.debug(x),new Error("Invalid Mat22!")};s1.prototype.set=function(x,V,o,_o){typeof x=="number"&&typeof V=="number"&&typeof o=="number"&&typeof _o=="number"?(this.ex.set(x,o),this.ey.set(V,_o)):typeof x=="object"&&typeof V=="object"?(this.ex.set(x),this.ey.set(V)):typeof x=="object"?(QA&&s1.assert(x),this.ex.set(x.ex),this.ey.set(x.ey)):QA&&yD.assert(!1)};s1.prototype.setIdentity=function(){this.ex.x=1,this.ey.x=0,this.ex.y=0,this.ey.y=1};s1.prototype.setZero=function(){this.ex.x=0,this.ey.x=0,this.ex.y=0,this.ey.y=0};s1.prototype.getInverse=function(){var x=this.ex.x,V=this.ey.x,o=this.ex.y,_o=this.ey.y,_r=x*_o-V*o;_r!=0&&(_r=1/_r);var l=new s1;return l.ex.x=_r*_o,l.ey.x=-_r*V,l.ex.y=-_r*o,l.ey.y=_r*x,l};s1.prototype.solve=function(x){QA&&Oy.assert(x);var V=this.ex.x,o=this.ey.x,_o=this.ex.y,_r=this.ey.y,l=V*_r-o*_o;l!=0&&(l=1/l);var e_=Oy.zero();return e_.x=l*(_r*x.x-o*x.y),e_.y=l*(V*x.y-_o*x.x),e_};s1.mul=function(x,V){if(V&&"x"in V&&"y"in V){QA&&Oy.assert(V);var o=x.ex.x*V.x+x.ey.x*V.y,_o=x.ex.y*V.x+x.ey.y*V.y;return Oy.neo(o,_o)}else if(V&&"ex"in V&&"ey"in V){QA&&s1.assert(V);var _r=x.ex.x*V.ex.x+x.ey.x*V.ex.y,l=x.ex.x*V.ey.x+x.ey.x*V.ey.y,e_=x.ex.y*V.ex.x+x.ey.y*V.ex.y,o_=x.ex.y*V.ey.x+x.ey.y*V.ey.y;return new s1(_r,l,e_,o_)}QA&&yD.assert(!1)};s1.mulVec2=function(x,V){QA&&Oy.assert(V);var o=x.ex.x*V.x+x.ey.x*V.y,_o=x.ex.y*V.x+x.ey.y*V.y;return Oy.neo(o,_o)};s1.mulMat22=function(x,V){QA&&s1.assert(V);var o=x.ex.x*V.ex.x+x.ey.x*V.ex.y,_o=x.ex.x*V.ey.x+x.ey.x*V.ey.y,_r=x.ex.y*V.ex.x+x.ey.y*V.ex.y,l=x.ex.y*V.ey.x+x.ey.y*V.ey.y;return new s1(o,_o,_r,l)};s1.mulT=function(x,V){if(V&&"x"in V&&"y"in V)return QA&&Oy.assert(V),Oy.neo(Oy.dot(V,x.ex),Oy.dot(V,x.ey));if(V&&"ex"in V&&"ey"in V){QA&&s1.assert(V);var o=Oy.neo(Oy.dot(x.ex,V.ex),Oy.dot(x.ey,V.ex)),_o=Oy.neo(Oy.dot(x.ex,V.ey),Oy.dot(x.ey,V.ey));return new s1(o,_o)}QA&&yD.assert(!1)};s1.mulTVec2=function(x,V){return QA&&s1.assert(x),QA&&Oy.assert(V),Oy.neo(Oy.dot(V,x.ex),Oy.dot(V,x.ey))};s1.mulTMat22=function(x,V){QA&&s1.assert(x),QA&&s1.assert(V);var o=Oy.neo(Oy.dot(x.ex,V.ex),Oy.dot(x.ey,V.ex)),_o=Oy.neo(Oy.dot(x.ex,V.ey),Oy.dot(x.ey,V.ey));return new s1(o,_o)};s1.abs=function(x){return QA&&s1.assert(x),new s1(Oy.abs(x.ex),Oy.abs(x.ey))};s1.add=function(x,V){return QA&&s1.assert(x),QA&&s1.assert(V),new s1(Oy.add(x.ex,V.ex),Oy.add(x.ey,V.ey))}});var CP=z0((dbt,p4)=>{var hbt=_x(),pA=Fy(),a4=H1(),eR=ky(),oR=k1();p4.exports=qC;p4.exports.clipSegmentToLine=dlt;p4.exports.clipVertex=nR;p4.exports.getPointStates=hlt;p4.exports.PointState=xD;qC.e_circles=0;qC.e_faceA=1;qC.e_faceB=2;qC.e_vertex=0;qC.e_face=1;function qC(){this.type,this.localNormal=pA.zero(),this.localPoint=pA.zero(),this.points=[new iR,new iR],this.pointCount=0}function iR(){this.localPoint=pA.zero(),this.normalImpulse=0,this.tangentImpulse=0,this.id=new iG}function iG(){this.cf=new rR}Object.defineProperty(iG.prototype,"key",{get:function(){return this.cf.indexA+this.cf.indexB*4+this.cf.typeA*16+this.cf.typeB*64},enumerable:!0,configurable:!0});iG.prototype.set=function(x){this.cf.set(x.cf)};function rR(){this.indexA,this.indexB,this.typeA,this.typeB}rR.prototype.set=function(x){this.indexA=x.indexA,this.indexB=x.indexB,this.typeA=x.typeA,this.typeB=x.typeB};function ult(){this.normal,this.points=[],this.separations=[]}qC.prototype.getWorldManifold=function(x,V,o,_o,_r){if(this.pointCount!=0){x=x||new ult;var l=x.normal,e_=x.points,o_=x.separations;switch(this.type){case qC.e_circles:l=pA.neo(1,0);var i_=a4.mulVec2(V,this.localPoint),_e=a4.mulVec2(_o,this.points[0].localPoint),c_=pA.sub(_e,i_);pA.lengthSquared(c_)>eR.EPSILON*eR.EPSILON&&(l.set(c_),l.normalize());var ws=i_.clone().addMul(o,l),h_=_e.clone().addMul(-_r,l);e_[0]=pA.mid(ws,h_),o_[0]=pA.dot(pA.sub(h_,ws),l),e_.length=1,o_.length=1;break;case qC.e_faceA:l=oR.mulVec2(V.q,this.localNormal);for(var L_=a4.mulVec2(V,this.localPoint),s_=0;s_<this.pointCount;++s_){var w_=a4.mulVec2(_o,this.points[s_].localPoint),ws=pA.clone(w_).addMul(o-pA.dot(pA.sub(w_,L_),l),l),h_=pA.clone(w_).subMul(_r,l);e_[s_]=pA.mid(ws,h_),o_[s_]=pA.dot(pA.sub(h_,ws),l)}e_.length=this.pointCount,o_.length=this.pointCount;break;case qC.e_faceB:l=oR.mulVec2(_o.q,this.localNormal);for(var L_=a4.mulVec2(_o,this.localPoint),s_=0;s_<this.pointCount;++s_){var w_=a4.mulVec2(V,this.points[s_].localPoint),h_=pA.combine(1,w_,_r-pA.dot(pA.sub(w_,L_),l),l),ws=pA.combine(1,w_,-o,l);e_[s_]=pA.mid(ws,h_),o_[s_]=pA.dot(pA.sub(ws,h_),l)}e_.length=this.pointCount,o_.length=this.pointCount,l.mul(-1);break}return x.normal=l,x.points=e_,x.separations=o_,x}};var xD={nullState:0,addState:1,persistState:2,removeState:3};function hlt(x,V,o,_o){for(var _r=0;_r<o.pointCount;++_r){var l=o.points[_r].id;x[_r]=xD.removeState;for(var e_=0;e_<_o.pointCount;++e_)if(_o.points[e_].id.key==l.key){x[_r]=xD.persistState;break}}for(var _r=0;_r<_o.pointCount;++_r){var l=_o.points[_r].id;V[_r]=xD.addState;for(var e_=0;e_<o.pointCount;++e_)if(o.points[e_].id.key==l.key){V[_r]=xD.persistState;break}}}function nR(){this.v=pA.zero(),this.id=new iG}nR.prototype.set=function(x){this.v.set(x.v),this.id.set(x.id)};function dlt(x,V,o,_o,_r){var l=0,e_=pA.dot(o,V[0].v)-_o,o_=pA.dot(o,V[1].v)-_o;if(e_<=0&&x[l++].set(V[0]),o_<=0&&x[l++].set(V[1]),e_*o_<0){var i_=e_/(e_-o_);x[l].v.setCombine(1-i_,V[0].v,i_,V[1].v),x[l].id.cf.indexA=_r,x[l].id.cf.indexB=V[0].id.cf.indexB,x[l].id.cf.typeA=qC.e_vertex,x[l].id.cf.typeB=qC.e_face,++l}return l}});var rG=z0(sR=>{sR.toString=function(x){x=typeof x=="string"?x:`
`;var V="";for(var o in this)typeof this[o]!="function"&&typeof this[o]!="object"&&(V+=o+": "+this[o]+x);return V}});var MS=z0((xbt,_R)=>{var ylt=typeof DEBUG>"u"?!1:DEBUG,fD=typeof ASSERT>"u"?!1:ASSERT;_R.exports=e1;var xlt=_x(),HJ=ky();function e1(x,V,o){if(!(this instanceof e1))return new e1(x,V,o);typeof x>"u"?(this.x=0,this.y=0,this.z=0):typeof x=="object"?(this.x=x.x,this.y=x.y,this.z=x.z):(this.x=x,this.y=V,this.z=o),fD&&e1.assert(this)}e1.prototype._serialize=function(){return{x:this.x,y:this.y,z:this.z}};e1._deserialize=function(x){var V=Object.create(e1.prototype);return V.x=x.x,V.y=x.y,V.z=x.z,V};e1.neo=function(x,V,o){var _o=Object.create(e1.prototype);return _o.x=x,_o.y=V,_o.z=o,_o};e1.clone=function(x){return fD&&e1.assert(x),e1.neo(x.x,x.y,x.z)};e1.prototype.toString=function(){return JSON.stringify(this)};e1.isValid=function(x){return x&&HJ.isFinite(x.x)&&HJ.isFinite(x.y)&&HJ.isFinite(x.z)};e1.assert=function(x){if(fD&&!e1.isValid(x))throw ylt&&xlt.debug(x),new Error("Invalid Vec3!")};e1.prototype.setZero=function(){return this.x=0,this.y=0,this.z=0,this};e1.prototype.set=function(x,V,o){return this.x=x,this.y=V,this.z=o,this};e1.prototype.add=function(x){return this.x+=x.x,this.y+=x.y,this.z+=x.z,this};e1.prototype.sub=function(x){return this.x-=x.x,this.y-=x.y,this.z-=x.z,this};e1.prototype.mul=function(x){return this.x*=x,this.y*=x,this.z*=x,this};e1.areEqual=function(x,V){return fD&&e1.assert(x),fD&&e1.assert(V),x==V||typeof x=="object"&&x!==null&&typeof V=="object"&&V!==null&&x.x===V.x&&x.y===V.y&&x.z===V.z};e1.dot=function(x,V){return x.x*V.x+x.y*V.y+x.z*V.z};e1.cross=function(x,V){return new e1(x.y*V.z-x.z*V.y,x.z*V.x-x.x*V.z,x.x*V.y-x.y*V.x)};e1.add=function(x,V){return new e1(x.x+V.x,x.y+V.y,x.z+V.z)};e1.sub=function(x,V){return new e1(x.x-V.x,x.y-V.y,x.z-V.z)};e1.mul=function(x,V){return new e1(V*x.x,V*x.y,V*x.z)};e1.prototype.neg=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this};e1.neg=function(x){return new e1(-x.x,-x.y,-x.z)}});var sC=z0((gbt,pR)=>{var flt=typeof DEBUG>"u"?!1:DEBUG,sB=typeof ASSERT>"u"?!1:ASSERT;pR.exports=$A;var aR=_x(),fbt=ky(),gD=Fy(),_v=MS();function $A(x,V,o){typeof x=="object"&&x!==null?(this.ex=_v.clone(x),this.ey=_v.clone(V),this.ez=_v.clone(o)):(this.ex=_v(),this.ey=_v(),this.ez=_v())}$A.prototype.toString=function(){return JSON.stringify(this)};$A.isValid=function(x){return x&&_v.isValid(x.ex)&&_v.isValid(x.ey)&&_v.isValid(x.ez)};$A.assert=function(x){if(sB&&!$A.isValid(x))throw flt&&aR.debug(x),new Error("Invalid Mat33!")};$A.prototype.setZero=function(){return this.ex.setZero(),this.ey.setZero(),this.ez.setZero(),this};$A.prototype.solve33=function(x){var V=_v.dot(this.ex,_v.cross(this.ey,this.ez));V!=0&&(V=1/V);var o=new _v;return o.x=V*_v.dot(x,_v.cross(this.ey,this.ez)),o.y=V*_v.dot(this.ex,_v.cross(x,this.ez)),o.z=V*_v.dot(this.ex,_v.cross(this.ey,x)),o};$A.prototype.solve22=function(x){var V=this.ex.x,o=this.ey.x,_o=this.ex.y,_r=this.ey.y,l=V*_r-o*_o;l!=0&&(l=1/l);var e_=gD.zero();return e_.x=l*(_r*x.x-o*x.y),e_.y=l*(V*x.y-_o*x.x),e_};$A.prototype.getInverse22=function(x){var V=this.ex.x,o=this.ey.x,_o=this.ex.y,_r=this.ey.y,l=V*_r-o*_o;l!=0&&(l=1/l),x.ex.x=l*_r,x.ey.x=-l*o,x.ex.z=0,x.ex.y=-l*_o,x.ey.y=l*V,x.ey.z=0,x.ez.x=0,x.ez.y=0,x.ez.z=0};$A.prototype.getSymInverse33=function(x){var V=_v.dot(this.ex,_v.cross(this.ey,this.ez));V!=0&&(V=1/V);var o=this.ex.x,_o=this.ey.x,_r=this.ez.x,l=this.ey.y,e_=this.ez.y,o_=this.ez.z;x.ex.x=V*(l*o_-e_*e_),x.ex.y=V*(_r*e_-_o*o_),x.ex.z=V*(_o*e_-_r*l),x.ey.x=x.ex.y,x.ey.y=V*(o*o_-_r*_r),x.ey.z=V*(_r*_o-o*e_),x.ez.x=x.ex.z,x.ez.y=x.ey.z,x.ez.z=V*(o*l-_o*_o)};$A.mul=function(x,V){if(sB&&$A.assert(x),V&&"z"in V&&"y"in V&&"x"in V){sB&&_v.assert(V);var o=x.ex.x*V.x+x.ey.x*V.y+x.ez.x*V.z,_o=x.ex.y*V.x+x.ey.y*V.y+x.ez.y*V.z,_r=x.ex.z*V.x+x.ey.z*V.y+x.ez.z*V.z;return new _v(o,_o,_r)}else if(V&&"y"in V&&"x"in V){sB&&gD.assert(V);var o=x.ex.x*V.x+x.ey.x*V.y,_o=x.ex.y*V.x+x.ey.y*V.y;return gD.neo(o,_o)}sB&&aR.assert(!1)};$A.mulVec3=function(x,V){sB&&$A.assert(x),sB&&_v.assert(V);var o=x.ex.x*V.x+x.ey.x*V.y+x.ez.x*V.z,_o=x.ex.y*V.x+x.ey.y*V.y+x.ez.y*V.z,_r=x.ex.z*V.x+x.ey.z*V.y+x.ez.z*V.z;return new _v(o,_o,_r)};$A.mulVec2=function(x,V){sB&&$A.assert(x),sB&&gD.assert(V);var o=x.ex.x*V.x+x.ey.x*V.y,_o=x.ex.y*V.x+x.ey.y*V.y;return gD.neo(o,_o)};$A.add=function(x,V){return sB&&$A.assert(x),sB&&$A.assert(V),new $A(_v.add(x.ex,V.ex),_v.add(x.ey,V.ey),_v.add(x.ez,V.ez))}});var vD=z0((wbt,m4)=>{var _B=typeof ASSERT>"u"?!1:ASSERT;m4.exports=ZJ;m4.exports.Input=cR;m4.exports.Output=mR;m4.exports.Proxy=BP;m4.exports.Cache=bR;var glt=Y1(),aB=_x(),dV=rG(),l4=ky(),_d=Fy(),vbt=MS(),Abt=zS(),Sbt=sC(),lR=k1(),Cbt=ES(),c4=H1(),Bbt=rC(),Pbt=nC();dV.gjkCalls=0;dV.gjkIters=0;dV.gjkMaxIters=0;function cR(){this.proxyA=new BP,this.proxyB=new BP,this.transformA=null,this.transformB=null,this.useRadii=!1}function mR(){this.pointA=_d.zero(),this.pointB=_d.zero(),this.distance,this.iterations}function bR(){this.metric=0,this.indexA=[],this.indexB=[],this.count=0}function ZJ(x,V,o){++dV.gjkCalls;var _o=o.proxyA,_r=o.proxyB,l=o.transformA,e_=o.transformB,o_=new pB;o_.readCache(V,_o,l,_r,e_);for(var i_=o_.m_v,_e=glt.maxDistnceIterations,c_=[],ws=[],h_=0,s_=1/0,w_=1/0,L_=0;L_<_e;){h_=o_.m_count;for(var y_=0;y_<h_;++y_)c_[y_]=i_[y_].indexA,ws[y_]=i_[y_].indexB;if(o_.solve(),o_.m_count==3)break;var I_=o_.getClosestPoint();w_=I_.lengthSquared(),w_>=s_,s_=w_;var k_=o_.getSearchDirection();if(k_.lengthSquared()<l4.EPSILON*l4.EPSILON)break;var j_=i_[o_.m_count];j_.indexA=_o.getSupport(lR.mulTVec2(l.q,_d.neg(k_))),j_.wA=c4.mulVec2(l,_o.getVertex(j_.indexA)),j_.indexB=_r.getSupport(lR.mulTVec2(e_.q,k_)),j_.wB=c4.mulVec2(e_,_r.getVertex(j_.indexB)),j_.w=_d.sub(j_.wB,j_.wA),++L_,++dV.gjkIters;for(var n2=!1,y_=0;y_<h_;++y_)if(j_.indexA==c_[y_]&&j_.indexB==ws[y_]){n2=!0;break}if(n2)break;++o_.m_count}if(dV.gjkMaxIters=l4.max(dV.gjkMaxIters,L_),o_.getWitnessPoints(x.pointA,x.pointB),x.distance=_d.distance(x.pointA,x.pointB),x.iterations=L_,o_.writeCache(V),o.useRadii){var p2=_o.m_radius,u2=_r.m_radius;if(x.distance>p2+u2&&x.distance>l4.EPSILON){x.distance-=p2+u2;var T2=_d.sub(x.pointB,x.pointA);T2.normalize(),x.pointA.addMul(p2,T2),x.pointB.subMul(u2,T2)}else{var I_=_d.mid(x.pointA,x.pointB);x.pointA.set(I_),x.pointB.set(I_),x.distance=0}}}function BP(){this.m_buffer=[],this.m_vertices=[],this.m_count=0,this.m_radius=0}BP.prototype.getVertexCount=function(){return this.m_count};BP.prototype.getVertex=function(x){return _B&&aB.assert(0<=x&&x<this.m_count),this.m_vertices[x]};BP.prototype.getSupport=function(x){for(var V=0,o=_d.dot(this.m_vertices[0],x),_o=0;_o<this.m_count;++_o){var _r=_d.dot(this.m_vertices[_o],x);_r>o&&(V=_o,o=_r)}return V};BP.prototype.getSupportVertex=function(x){return this.m_vertices[this.getSupport(x)]};BP.prototype.set=function(x,V){_B&&aB.assert(typeof x.computeDistanceProxy=="function"),x.computeDistanceProxy(this,V)};function nG(){this.indexA,this.indexB,this.wA=_d.zero(),this.wB=_d.zero(),this.w=_d.zero(),this.a}nG.prototype.set=function(x){this.indexA=x.indexA,this.indexB=x.indexB,this.wA=_d.clone(x.wA),this.wB=_d.clone(x.wB),this.w=_d.clone(x.w),this.a=x.a};function pB(){this.m_v1=new nG,this.m_v2=new nG,this.m_v3=new nG,this.m_v=[this.m_v1,this.m_v2,this.m_v3],this.m_count}pB.prototype.print=function(){return this.m_count==3?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y,this.m_v2.a,this.m_v2.wA.x,this.m_v2.wA.y,this.m_v2.wB.x,this.m_v2.wB.y,this.m_v3.a,this.m_v3.wA.x,this.m_v3.wA.y,this.m_v3.wB.x,this.m_v3.wB.y].toString():this.m_count==2?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y,this.m_v2.a,this.m_v2.wA.x,this.m_v2.wA.y,this.m_v2.wB.x,this.m_v2.wB.y].toString():this.m_count==1?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y].toString():"+"+this.m_count};pB.prototype.readCache=function(x,V,o,_o,_r){_B&&aB.assert(x.count<=3),this.m_count=x.count;for(var l=0;l<this.m_count;++l){var e_=this.m_v[l];e_.indexA=x.indexA[l],e_.indexB=x.indexB[l];var o_=V.getVertex(e_.indexA),i_=_o.getVertex(e_.indexB);e_.wA=c4.mulVec2(o,o_),e_.wB=c4.mulVec2(_r,i_),e_.w=_d.sub(e_.wB,e_.wA),e_.a=0}if(this.m_count>1){var _e=x.metric,c_=this.getMetric();(c_<.5*_e||2*_e<c_||c_<l4.EPSILON)&&(this.m_count=0)}if(this.m_count==0){var e_=this.m_v[0];e_.indexA=0,e_.indexB=0;var o_=V.getVertex(0),i_=_o.getVertex(0);e_.wA=c4.mulVec2(o,o_),e_.wB=c4.mulVec2(_r,i_),e_.w=_d.sub(e_.wB,e_.wA),e_.a=1,this.m_count=1}};pB.prototype.writeCache=function(x){x.metric=this.getMetric(),x.count=this.m_count;for(var V=0;V<this.m_count;++V)x.indexA[V]=this.m_v[V].indexA,x.indexB[V]=this.m_v[V].indexB};pB.prototype.getSearchDirection=function(){switch(this.m_count){case 1:return _d.neg(this.m_v1.w);case 2:{var x=_d.sub(this.m_v2.w,this.m_v1.w),V=_d.cross(x,_d.neg(this.m_v1.w));return V>0?_d.cross(1,x):_d.cross(x,1)}default:return _B&&aB.assert(!1),_d.zero()}};pB.prototype.getClosestPoint=function(){switch(this.m_count){case 0:return _B&&aB.assert(!1),_d.zero();case 1:return _d.clone(this.m_v1.w);case 2:return _d.combine(this.m_v1.a,this.m_v1.w,this.m_v2.a,this.m_v2.w);case 3:return _d.zero();default:return _B&&aB.assert(!1),_d.zero()}};pB.prototype.getWitnessPoints=function(x,V){switch(this.m_count){case 0:_B&&aB.assert(!1);break;case 1:x.set(this.m_v1.wA),V.set(this.m_v1.wB);break;case 2:x.setCombine(this.m_v1.a,this.m_v1.wA,this.m_v2.a,this.m_v2.wA),V.setCombine(this.m_v1.a,this.m_v1.wB,this.m_v2.a,this.m_v2.wB);break;case 3:x.setCombine(this.m_v1.a,this.m_v1.wA,this.m_v2.a,this.m_v2.wA),x.addMul(this.m_v3.a,this.m_v3.wA),V.set(x);break;default:_B&&aB.assert(!1);break}};pB.prototype.getMetric=function(){switch(this.m_count){case 0:return _B&&aB.assert(!1),0;case 1:return 0;case 2:return _d.distance(this.m_v1.w,this.m_v2.w);case 3:return _d.cross(_d.sub(this.m_v2.w,this.m_v1.w),_d.sub(this.m_v3.w,this.m_v1.w));default:return _B&&aB.assert(!1),0}};pB.prototype.solve=function(){switch(this.m_count){case 1:break;case 2:this.solve2();break;case 3:this.solve3();break;default:_B&&aB.assert(!1)}};pB.prototype.solve2=function(){var x=this.m_v1.w,V=this.m_v2.w,o=_d.sub(V,x),_o=-_d.dot(x,o);if(_o<=0){this.m_v1.a=1,this.m_count=1;return}var _r=_d.dot(V,o);if(_r<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.set(this.m_v2);return}var l=1/(_r+_o);this.m_v1.a=_r*l,this.m_v2.a=_o*l,this.m_count=2};pB.prototype.solve3=function(){var x=this.m_v1.w,V=this.m_v2.w,o=this.m_v3.w,_o=_d.sub(V,x),_r=_d.dot(x,_o),l=_d.dot(V,_o),e_=l,o_=-_r,i_=_d.sub(o,x),_e=_d.dot(x,i_),c_=_d.dot(o,i_),ws=c_,h_=-_e,s_=_d.sub(o,V),w_=_d.dot(V,s_),L_=_d.dot(o,s_),y_=L_,I_=-w_,k_=_d.cross(_o,i_),j_=k_*_d.cross(V,o),n2=k_*_d.cross(o,x),p2=k_*_d.cross(x,V);if(o_<=0&&h_<=0){this.m_v1.a=1,this.m_count=1;return}if(e_>0&&o_>0&&p2<=0){var u2=1/(e_+o_);this.m_v1.a=e_*u2,this.m_v2.a=o_*u2,this.m_count=2;return}if(ws>0&&h_>0&&n2<=0){var T2=1/(ws+h_);this.m_v1.a=ws*T2,this.m_v3.a=h_*T2,this.m_count=2,this.m_v2.set(this.m_v3);return}if(e_<=0&&I_<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.set(this.m_v2);return}if(ws<=0&&y_<=0){this.m_v3.a=1,this.m_count=1,this.m_v1.set(this.m_v3);return}if(y_>0&&I_>0&&j_<=0){var I2=1/(y_+I_);this.m_v2.a=y_*I2,this.m_v3.a=I_*I2,this.m_count=2,this.m_v1.set(this.m_v3);return}var q2=1/(j_+n2+p2);this.m_v1.a=j_*q2,this.m_v2.a=n2*q2,this.m_v3.a=p2*q2,this.m_count=3};ZJ.testOverlap=function(x,V,o,_o,_r,l){var e_=new cR;e_.proxyA.set(x,V),e_.proxyB.set(o,_o),e_.transformA=_r,e_.transformB=l,e_.useRadii=!0;var o_=new bR,i_=new mR;return ZJ(i_,o_,e_),i_.distance<10*l4.EPSILON}});var $B=z0((Vbt,yR)=>{var PP=typeof ASSERT>"u"?!1:ASSERT,KJ=!1,wP=_x(),yV=ky(),_l=Fy(),DB=H1(),sG=zS(),b4=k1(),AD=Y1(),SD=CP(),vlt=vD();yR.exports=_1;function uR(x){this.contact=x,this.prev,this.next,this.other}function _1(x,V,o,_o,_r){this.m_nodeA=new uR(this),this.m_nodeB=new uR(this),this.m_fixtureA=x,this.m_fixtureB=o,this.m_indexA=V,this.m_indexB=_o,this.m_evaluateFcn=_r,this.m_manifold=new SD,this.m_prev=null,this.m_next=null,this.m_toi=1,this.m_toiCount=0,this.m_toiFlag=!1,this.m_friction=hR(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=dR(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution),this.m_tangentSpeed=0,this.m_enabledFlag=!0,this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.v_points=[],this.v_normal=_l.zero(),this.v_normalMass=new sG,this.v_K=new sG,this.v_pointCount,this.v_tangentSpeed,this.v_friction,this.v_restitution,this.v_invMassA,this.v_invMassB,this.v_invIA,this.v_invIB,this.p_localPoints=[],this.p_localNormal=_l.zero(),this.p_localPoint=_l.zero(),this.p_localCenterA=_l.zero(),this.p_localCenterB=_l.zero(),this.p_type,this.p_radiusA,this.p_radiusB,this.p_pointCount,this.p_invMassA,this.p_invMassB,this.p_invIA,this.p_invIB}_1.prototype.initConstraint=function(x){var V=this.m_fixtureA,o=this.m_fixtureB,_o=V.getShape(),_r=o.getShape(),l=V.getBody(),e_=o.getBody(),o_=this.getManifold(),i_=o_.pointCount;PP&&wP.assert(i_>0),this.v_invMassA=l.m_invMass,this.v_invMassB=e_.m_invMass,this.v_invIA=l.m_invI,this.v_invIB=e_.m_invI,this.v_friction=this.m_friction,this.v_restitution=this.m_restitution,this.v_tangentSpeed=this.m_tangentSpeed,this.v_pointCount=i_,this.v_K.setZero(),this.v_normalMass.setZero(),this.p_invMassA=l.m_invMass,this.p_invMassB=e_.m_invMass,this.p_invIA=l.m_invI,this.p_invIB=e_.m_invI,this.p_localCenterA=_l.clone(l.m_sweep.localCenter),this.p_localCenterB=_l.clone(e_.m_sweep.localCenter),this.p_radiusA=_o.m_radius,this.p_radiusB=_r.m_radius,this.p_type=o_.type,this.p_localNormal=_l.clone(o_.localNormal),this.p_localPoint=_l.clone(o_.localPoint),this.p_pointCount=i_;for(var _e=0;_e<i_;++_e){var c_=o_.points[_e],ws=this.v_points[_e]=new Alt;x.warmStarting?(ws.normalImpulse=x.dtRatio*c_.normalImpulse,ws.tangentImpulse=x.dtRatio*c_.tangentImpulse):(ws.normalImpulse=0,ws.tangentImpulse=0),ws.rA.setZero(),ws.rB.setZero(),ws.normalMass=0,ws.tangentMass=0,ws.velocityBias=0,this.p_localPoints[_e]=_l.clone(c_.localPoint)}};_1.prototype.getManifold=function(){return this.m_manifold};_1.prototype.getWorldManifold=function(x){var V=this.m_fixtureA.getBody(),o=this.m_fixtureB.getBody(),_o=this.m_fixtureA.getShape(),_r=this.m_fixtureB.getShape();return this.m_manifold.getWorldManifold(x,V.getTransform(),_o.m_radius,o.getTransform(),_r.m_radius)};_1.prototype.setEnabled=function(x){this.m_enabledFlag=!!x};_1.prototype.isEnabled=function(){return this.m_enabledFlag};_1.prototype.isTouching=function(){return this.m_touchingFlag};_1.prototype.getNext=function(){return this.m_next};_1.prototype.getFixtureA=function(){return this.m_fixtureA};_1.prototype.getFixtureB=function(){return this.m_fixtureB};_1.prototype.getChildIndexA=function(){return this.m_indexA};_1.prototype.getChildIndexB=function(){return this.m_indexB};_1.prototype.flagForFiltering=function(){this.m_filterFlag=!0};_1.prototype.setFriction=function(x){this.m_friction=x};_1.prototype.getFriction=function(){return this.m_friction};_1.prototype.resetFriction=function(){this.m_friction=hR(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)};_1.prototype.setRestitution=function(x){this.m_restitution=x};_1.prototype.getRestitution=function(){return this.m_restitution};_1.prototype.resetRestitution=function(){this.m_restitution=dR(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)};_1.prototype.setTangentSpeed=function(x){this.m_tangentSpeed=x};_1.prototype.getTangentSpeed=function(){return this.m_tangentSpeed};_1.prototype.evaluate=function(x,V,o){this.m_evaluateFcn(x,V,this.m_fixtureA,this.m_indexA,o,this.m_fixtureB,this.m_indexB)};_1.prototype.update=function(x){this.m_enabledFlag=!0;var V=!1,o=this.m_touchingFlag,_o=this.m_fixtureA.isSensor(),_r=this.m_fixtureB.isSensor(),l=_o||_r,e_=this.m_fixtureA.getBody(),o_=this.m_fixtureB.getBody(),i_=e_.getTransform(),_e=o_.getTransform();if(l){var c_=this.m_fixtureA.getShape(),ws=this.m_fixtureB.getShape();V=vlt.testOverlap(c_,this.m_indexA,ws,this.m_indexB,i_,_e),this.m_manifold.pointCount=0}else{var h_=this.m_manifold;this.m_manifold=new SD,this.evaluate(this.m_manifold,i_,_e),V=this.m_manifold.pointCount>0;for(var s_=0;s_<this.m_manifold.pointCount;++s_){var w_=this.m_manifold.points[s_];w_.normalImpulse=0,w_.tangentImpulse=0;for(var L_=0;L_<h_.pointCount;++L_){var y_=h_.points[L_];if(y_.id.key==w_.id.key){w_.normalImpulse=y_.normalImpulse,w_.tangentImpulse=y_.tangentImpulse;break}}}V!=o&&(e_.setAwake(!0),o_.setAwake(!0))}this.m_touchingFlag=V,o==!1&&V==!0&&x&&x.beginContact(this),o==!0&&V==!1&&x&&x.endContact(this),l==!1&&V&&x&&x.preSolve(this,h_)};_1.prototype.solvePositionConstraint=function(x){return this._solvePositionConstraint(x,!1)};_1.prototype.solvePositionConstraintTOI=function(x,V,o){return this._solvePositionConstraint(x,!0,V,o)};_1.prototype._solvePositionConstraint=function(x,V,o,_o){var _r=this.m_fixtureA,l=this.m_fixtureB,e_=_r.getBody(),o_=l.getBody(),i_=e_.c_velocity,_e=o_.c_velocity,c_=e_.c_position,ws=o_.c_position,h_=_l.clone(this.p_localCenterA),s_=_l.clone(this.p_localCenterB),w_=0,L_=0;(!V||e_==o||e_==_o)&&(w_=this.p_invMassA,L_=this.p_invIA);var y_=0,I_=0;(!V||o_==o||o_==_o)&&(y_=this.p_invMassB,I_=this.p_invIB);for(var k_=_l.clone(c_.c),j_=c_.a,n2=_l.clone(ws.c),p2=ws.a,u2=0,T2=0;T2<this.p_pointCount;++T2){var I2=DB.identity(),q2=DB.identity();I2.q.set(j_),q2.q.set(p2),I2.p=_l.sub(k_,b4.mulVec2(I2.q,h_)),q2.p=_l.sub(n2,b4.mulVec2(q2.q,s_));var O2,X2,S_;switch(this.p_type){case SD.e_circles:var q_=DB.mulVec2(I2,this.p_localPoint),N_=DB.mulVec2(q2,this.p_localPoints[0]);O2=_l.sub(N_,q_),O2.normalize(),X2=_l.combine(.5,q_,.5,N_),S_=_l.dot(_l.sub(N_,q_),O2)-this.p_radiusA-this.p_radiusB;break;case SD.e_faceA:O2=b4.mulVec2(I2.q,this.p_localNormal);var W_=DB.mulVec2(I2,this.p_localPoint),o2=DB.mulVec2(q2,this.p_localPoints[T2]);S_=_l.dot(_l.sub(o2,W_),O2)-this.p_radiusA-this.p_radiusB,X2=o2;break;case SD.e_faceB:O2=b4.mulVec2(q2.q,this.p_localNormal);var W_=DB.mulVec2(q2,this.p_localPoint),o2=DB.mulVec2(I2,this.p_localPoints[T2]);S_=_l.dot(_l.sub(o2,W_),O2)-this.p_radiusA-this.p_radiusB,X2=o2,O2.mul(-1);break}var m2=_l.sub(X2,k_),_2=_l.sub(X2,n2);u2=yV.min(u2,S_);var v_=V?AD.toiBaugarte:AD.baumgarte,G_=AD.linearSlop,K_=AD.maxLinearCorrection,C_=yV.clamp(v_*(S_+G_),-K_,0),z_=_l.cross(m2,O2),X_=_l.cross(_2,O2),l2=w_+y_+L_*z_*z_+I_*X_*X_,D2=l2>0?-C_/l2:0,V2=_l.mul(D2,O2);k_.subMul(w_,V2),j_-=L_*_l.cross(m2,V2),n2.addMul(y_,V2),p2+=I_*_l.cross(_2,V2)}return c_.c.set(k_),c_.a=j_,ws.c.set(n2),ws.a=p2,u2};function Alt(){this.rA=_l.zero(),this.rB=_l.zero(),this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0}_1.prototype.initVelocityConstraint=function(x){var V=this.m_fixtureA,o=this.m_fixtureB,_o=V.getBody(),_r=o.getBody(),l=_o.c_velocity,e_=_r.c_velocity,o_=_o.c_position,i_=_r.c_position,_e=this.p_radiusA,c_=this.p_radiusB,ws=this.getManifold(),h_=this.v_invMassA,s_=this.v_invMassB,w_=this.v_invIA,L_=this.v_invIB,y_=_l.clone(this.p_localCenterA),I_=_l.clone(this.p_localCenterB),k_=_l.clone(o_.c),j_=o_.a,n2=_l.clone(l.v),p2=l.w,u2=_l.clone(i_.c),T2=i_.a,I2=_l.clone(e_.v),q2=e_.w;PP&&wP.assert(ws.pointCount>0);var O2=DB.identity(),X2=DB.identity();O2.q.set(j_),X2.q.set(T2),O2.p.setCombine(1,k_,-1,b4.mulVec2(O2.q,y_)),X2.p.setCombine(1,u2,-1,b4.mulVec2(X2.q,I_));var S_=ws.getWorldManifold(null,O2,_e,X2,c_);this.v_normal.set(S_.normal);for(var q_=0;q_<this.v_pointCount;++q_){var N_=this.v_points[q_];N_.rA.set(_l.sub(S_.points[q_],k_)),N_.rB.set(_l.sub(S_.points[q_],u2));var W_=_l.cross(N_.rA,this.v_normal),o2=_l.cross(N_.rB,this.v_normal),m2=h_+s_+w_*W_*W_+L_*o2*o2;N_.normalMass=m2>0?1/m2:0;var _2=_l.cross(this.v_normal,1),v_=_l.cross(N_.rA,_2),G_=_l.cross(N_.rB,_2),K_=h_+s_+w_*v_*v_+L_*G_*G_;N_.tangentMass=K_>0?1/K_:0,N_.velocityBias=0;var C_=_l.dot(this.v_normal,I2)+_l.dot(this.v_normal,_l.cross(q2,N_.rB))-_l.dot(this.v_normal,n2)-_l.dot(this.v_normal,_l.cross(p2,N_.rA));C_<-AD.velocityThreshold&&(N_.velocityBias=-this.v_restitution*C_)}if(this.v_pointCount==2&&x.blockSolve){var z_=this.v_points[0],X_=this.v_points[1],l2=_l.cross(z_.rA,this.v_normal),D2=_l.cross(z_.rB,this.v_normal),V2=_l.cross(X_.rA,this.v_normal),L2=_l.cross(X_.rB,this.v_normal),B2=h_+s_+w_*l2*l2+L_*D2*D2,J2=h_+s_+w_*V2*V2+L_*L2*L2,U2=h_+s_+w_*l2*V2+L_*D2*L2,pa=1e3;B2*B2<pa*(B2*J2-U2*U2)?(this.v_K.ex.set(B2,U2),this.v_K.ey.set(U2,J2),this.v_normalMass.set(this.v_K.getInverse())):this.v_pointCount=1}o_.c.set(k_),o_.a=j_,l.v.set(n2),l.w=p2,i_.c.set(u2),i_.a=T2,e_.v.set(I2),e_.w=q2};_1.prototype.warmStartConstraint=function(x){for(var V=this.m_fixtureA,o=this.m_fixtureB,_o=V.getBody(),_r=o.getBody(),l=_o.c_velocity,e_=_r.c_velocity,o_=_o.c_position,i_=_r.c_position,_e=this.v_invMassA,c_=this.v_invIA,ws=this.v_invMassB,h_=this.v_invIB,s_=_l.clone(l.v),w_=l.w,L_=_l.clone(e_.v),y_=e_.w,I_=this.v_normal,k_=_l.cross(I_,1),j_=0;j_<this.v_pointCount;++j_){var n2=this.v_points[j_],p2=_l.combine(n2.normalImpulse,I_,n2.tangentImpulse,k_);w_-=c_*_l.cross(n2.rA,p2),s_.subMul(_e,p2),y_+=h_*_l.cross(n2.rB,p2),L_.addMul(ws,p2)}l.v.set(s_),l.w=w_,e_.v.set(L_),e_.w=y_};_1.prototype.storeConstraintImpulses=function(x){for(var V=this.m_manifold,o=0;o<this.v_pointCount;++o)V.points[o].normalImpulse=this.v_points[o].normalImpulse,V.points[o].tangentImpulse=this.v_points[o].tangentImpulse};_1.prototype.solveVelocityConstraint=function(x){var V=this.m_fixtureA.m_body,o=this.m_fixtureB.m_body,_o=V.c_velocity,_r=V.c_position,l=o.c_velocity,e_=o.c_position,o_=this.v_invMassA,i_=this.v_invIA,_e=this.v_invMassB,c_=this.v_invIB,ws=_l.clone(_o.v),h_=_o.w,s_=_l.clone(l.v),w_=l.w,L_=this.v_normal,y_=_l.cross(L_,1),I_=this.v_friction;PP&&wP.assert(this.v_pointCount==1||this.v_pointCount==2);for(var k_=0;k_<this.v_pointCount;++k_){var j_=this.v_points[k_],n2=_l.zero();n2.addCombine(1,s_,1,_l.cross(w_,j_.rB)),n2.subCombine(1,ws,1,_l.cross(h_,j_.rA));var p2=_l.dot(n2,y_)-this.v_tangentSpeed,u2=j_.tangentMass*-p2,T2=I_*j_.normalImpulse,I2=yV.clamp(j_.tangentImpulse+u2,-T2,T2);u2=I2-j_.tangentImpulse,j_.tangentImpulse=I2;var q2=_l.mul(u2,y_);ws.subMul(o_,q2),h_-=i_*_l.cross(j_.rA,q2),s_.addMul(_e,q2),w_+=c_*_l.cross(j_.rB,q2)}if(this.v_pointCount==1||x.blockSolve==!1)for(var O2=0;O2<this.v_pointCount;++O2){var j_=this.v_points[O2],n2=_l.zero();n2.addCombine(1,s_,1,_l.cross(w_,j_.rB)),n2.subCombine(1,ws,1,_l.cross(h_,j_.rA));var X2=_l.dot(n2,L_),u2=-j_.normalMass*(X2-j_.velocityBias),I2=yV.max(j_.normalImpulse+u2,0);u2=I2-j_.normalImpulse,j_.normalImpulse=I2;var q2=_l.mul(u2,L_);ws.subMul(o_,q2),h_-=i_*_l.cross(j_.rA,q2),s_.addMul(_e,q2),w_+=c_*_l.cross(j_.rB,q2)}else{var S_=this.v_points[0],q_=this.v_points[1],N_=_l.neo(S_.normalImpulse,q_.normalImpulse);PP&&wP.assert(N_.x>=0&&N_.y>=0);var W_=_l.zero().add(s_).add(_l.cross(w_,S_.rB)).sub(ws).sub(_l.cross(h_,S_.rA)),o2=_l.zero().add(s_).add(_l.cross(w_,q_.rB)).sub(ws).sub(_l.cross(h_,q_.rA)),m2=_l.dot(W_,L_),_2=_l.dot(o2,L_),v_=_l.neo(m2-S_.velocityBias,_2-q_.velocityBias);v_.sub(sG.mulVec2(this.v_K,N_));for(var G_=.001;;){var K_=sG.mulVec2(this.v_normalMass,v_).neg();if(K_.x>=0&&K_.y>=0){var C_=_l.sub(K_,N_),z_=_l.mul(C_.x,L_),X_=_l.mul(C_.y,L_);ws.subCombine(o_,z_,o_,X_),h_-=i_*(_l.cross(S_.rA,z_)+_l.cross(q_.rA,X_)),s_.addCombine(_e,z_,_e,X_),w_+=c_*(_l.cross(S_.rB,z_)+_l.cross(q_.rB,X_)),S_.normalImpulse=K_.x,q_.normalImpulse=K_.y,KJ&&(W_=s_+_l.cross(w_,S_.rB)-ws-_l.cross(h_,S_.rA),o2=s_+_l.cross(w_,q_.rB)-ws-_l.cross(h_,q_.rA),m2=Dot(W_,L_),_2=Dot(o2,L_),PP&&wP.assert(Abs(m2-S_.velocityBias)<G_),PP&&wP.assert(Abs(_2-q_.velocityBias)<G_));break}if(K_.x=-S_.normalMass*v_.x,K_.y=0,m2=0,_2=this.v_K.ex.y*K_.x+v_.y,K_.x>=0&&_2>=0){var C_=_l.sub(K_,N_),z_=_l.mul(C_.x,L_),X_=_l.mul(C_.y,L_);if(ws.subCombine(o_,z_,o_,X_),h_-=i_*(_l.cross(S_.rA,z_)+_l.cross(q_.rA,X_)),s_.addCombine(_e,z_,_e,X_),w_+=c_*(_l.cross(S_.rB,z_)+_l.cross(q_.rB,X_)),S_.normalImpulse=K_.x,q_.normalImpulse=K_.y,KJ){var l2=_l.add(s_,_l.cross(w_,S_.rB)),D2=_l.add(ws,_l.cross(h_,S_.rA)),W_=_l.sub(l2,D2);m2=_l.dot(W_,L_),PP&&wP.assert(yV.abs(m2-S_.velocityBias)<G_)}break}if(K_.x=0,K_.y=-q_.normalMass*v_.y,m2=this.v_K.ey.x*K_.y+v_.x,_2=0,K_.y>=0&&m2>=0){var C_=_l.sub(K_,N_),z_=_l.mul(C_.x,L_),X_=_l.mul(C_.y,L_);if(ws.subCombine(o_,z_,o_,X_),h_-=i_*(_l.cross(S_.rA,z_)+_l.cross(q_.rA,X_)),s_.addCombine(_e,z_,_e,X_),w_+=c_*(_l.cross(S_.rB,z_)+_l.cross(q_.rB,X_)),S_.normalImpulse=K_.x,q_.normalImpulse=K_.y,KJ){var V2=_l.add(s_,_l.cross(w_,q_.rB)),L2=_l.add(ws,_l.cross(h_,q_.rA)),W_=_l.sub(V2,L2);_2=_l.dot(o2,L_),PP&&wP.assert(yV.abs(_2-q_.velocityBias)<G_)}break}if(K_.x=0,K_.y=0,m2=v_.x,_2=v_.y,m2>=0&&_2>=0){var C_=_l.sub(K_,N_),z_=_l.mul(C_.x,L_),X_=_l.mul(C_.y,L_);ws.subCombine(o_,z_,o_,X_),h_-=i_*(_l.cross(S_.rA,z_)+_l.cross(q_.rA,X_)),s_.addCombine(_e,z_,_e,X_),w_+=c_*(_l.cross(S_.rB,z_)+_l.cross(q_.rB,X_)),S_.normalImpulse=K_.x,q_.normalImpulse=K_.y;break}break}}_o.v.set(ws),_o.w=h_,l.v.set(s_),l.w=w_};function hR(x,V){return yV.sqrt(x*V)}function dR(x,V){return x>V?x:V}var VP=[];_1.addType=function(x,V,o){VP[x]=VP[x]||{},VP[x][V]=o};_1.create=function(x,V,o,_o){var _r=x.getType(),l=o.getType(),e_,o_;if(o_=VP[_r]&&VP[_r][l])e_=new _1(x,V,o,_o,o_);else if(o_=VP[l]&&VP[l][_r])e_=new _1(o,_o,x,V,o_);else return null;x=e_.getFixtureA(),o=e_.getFixtureB(),V=e_.getChildIndexA(),_o=e_.getChildIndexB();var i_=x.getBody(),_e=o.getBody();return e_.m_nodeA.contact=e_,e_.m_nodeA.other=_e,e_.m_nodeA.prev=null,e_.m_nodeA.next=i_.m_contactList,i_.m_contactList!=null&&(i_.m_contactList.prev=e_.m_nodeA),i_.m_contactList=e_.m_nodeA,e_.m_nodeB.contact=e_,e_.m_nodeB.other=i_,e_.m_nodeB.prev=null,e_.m_nodeB.next=_e.m_contactList,_e.m_contactList!=null&&(_e.m_contactList.prev=e_.m_nodeB),_e.m_contactList=e_.m_nodeB,x.isSensor()==!1&&o.isSensor()==!1&&(i_.setAwake(!0),_e.setAwake(!0)),e_};_1.destroy=function(x,V){var o=x.m_fixtureA,_o=x.m_fixtureB,_r=o.getBody(),l=_o.getBody();x.isTouching()&&V.endContact(x),x.m_nodeA.prev&&(x.m_nodeA.prev.next=x.m_nodeA.next),x.m_nodeA.next&&(x.m_nodeA.next.prev=x.m_nodeA.prev),x.m_nodeA==_r.m_contactList&&(_r.m_contactList=x.m_nodeA.next),x.m_nodeB.prev&&(x.m_nodeB.prev.next=x.m_nodeB.next),x.m_nodeB.next&&(x.m_nodeB.next.prev=x.m_nodeB.prev),x.m_nodeB==l.m_contactList&&(l.m_contactList=x.m_nodeB.next),x.m_manifold.pointCount>0&&o.isSensor()==!1&&_o.isSensor()==!1&&(_r.setAwake(!0),l.setAwake(!0));var e_=o.getType(),o_=_o.getType(),i_=VP[e_][o_].destroyFcn;typeof i_=="function"&&i_(x)}});var WS=z0((Dbt,fR)=>{var QJ=typeof ASSERT>"u"?!1:ASSERT;fR.exports=tS;var $J=_x();function xR(){this.other=null,this.joint=null,this.prev=null,this.next=null}function tS(x,V,o){V=x.bodyA||V,o=x.bodyB||o,QJ&&$J.assert(V),QJ&&$J.assert(o),QJ&&$J.assert(V!=o),this.m_type="unknown-joint",this.m_bodyA=V,this.m_bodyB=o,this.m_index=0,this.m_collideConnected=!!x.collideConnected,this.m_prev=null,this.m_next=null,this.m_edgeA=new xR,this.m_edgeB=new xR,this.m_islandFlag=!1,this.m_userData=x.userData}tS.TYPES={};tS._deserialize=function(x,V,o){var _o=tS.TYPES[x.type];return _o&&o(_o,x)};tS.prototype.isActive=function(){return this.m_bodyA.isActive()&&this.m_bodyB.isActive()};tS.prototype.getType=function(){return this.m_type};tS.prototype.getBodyA=function(){return this.m_bodyA};tS.prototype.getBodyB=function(){return this.m_bodyB};tS.prototype.getNext=function(){return this.m_next};tS.prototype.getUserData=function(){return this.m_userData};tS.prototype.setUserData=function(x){this.m_userData=x};tS.prototype.getCollideConnected=function(){return this.m_collideConnected};tS.prototype.getAnchorA=function(){};tS.prototype.getAnchorB=function(){};tS.prototype.getReactionForce=function(x){};tS.prototype.getReactionTorque=function(x){};tS.prototype.shiftOrigin=function(x){};tS.prototype.initVelocityConstraints=function(x){};tS.prototype.solveVelocityConstraints=function(x){};tS.prototype.solvePositionConstraints=function(x){}});var gR=z0((Mbt,t3)=>{t3.exports.now=function(){return Date.now()};t3.exports.diff=function(x){return Date.now()-x}});var i3=z0((Fbt,aG)=>{var e3=typeof ASSERT>"u"?!1:ASSERT;aG.exports=wlt;aG.exports.Input=Plt;aG.exports.Output=DC;var CD=Y1(),o3=_x(),vR=gR(),GS=rG(),BD=ky(),DA=Fy(),Gbt=MS(),Jbt=zS(),Ibt=sC(),DP=k1(),AR=ES(),xS=H1(),Tbt=rC(),Rbt=nC(),PD=vD(),Slt=PD.Input,Clt=PD.Output,_G=PD.Proxy,Blt=PD.Cache;function Plt(){this.proxyA=new _G,this.proxyB=new _G,this.sweepA=new AR,this.sweepB=new AR,this.tMax}DC.e_unknown=0;DC.e_failed=1;DC.e_overlapped=2;DC.e_touching=3;DC.e_separated=4;function DC(){this.state,this.t}GS.toiTime=0;GS.toiMaxTime=0;GS.toiCalls=0;GS.toiIters=0;GS.toiMaxIters=0;GS.toiRootIters=0;GS.toiMaxRootIters=0;function wlt(x,V){var o=vR.now();++GS.toiCalls,x.state=DC.e_unknown,x.t=V.tMax;var _o=V.proxyA,_r=V.proxyB,l=V.sweepA,e_=V.sweepB;l.normalize(),e_.normalize();var o_=V.tMax,i_=_o.m_radius+_r.m_radius,_e=BD.max(CD.linearSlop,i_-3*CD.linearSlop),c_=.25*CD.linearSlop;e3&&o3.assert(_e>c_);var ws=0,h_=CD.maxTOIIterations,s_=0,w_=new Blt,L_=new Slt;for(L_.proxyA=V.proxyA,L_.proxyB=V.proxyB,L_.useRadii=!1;;){var y_=xS.identity(),I_=xS.identity();l.getTransform(y_,ws),e_.getTransform(I_,ws),L_.transformA=y_,L_.transformB=I_;var k_=new Clt;if(PD(k_,w_,L_),k_.distance<=0){x.state=DC.e_overlapped,x.t=0;break}if(k_.distance<_e+c_){x.state=DC.e_touching,x.t=ws;break}var j_=new wD;j_.initialize(w_,_o,l,_r,e_,ws);for(var n2=!1,p2=o_,u2=0;;){var T2=j_.findMinSeparation(p2),q2=j_.indexA,O2=j_.indexB;if(T2>_e+c_){x.state=DC.e_separated,x.t=o_,n2=!0;break}if(T2>_e-c_){ws=p2;break}var I2=j_.evaluate(ws),q2=j_.indexA,O2=j_.indexB;if(I2<_e-c_){x.state=DC.e_failed,x.t=ws,n2=!0;break}if(I2<=_e+c_){x.state=DC.e_touching,x.t=ws,n2=!0;break}for(var X2=0,S_=ws,q_=p2;;){var N_;X2&1?N_=S_+(_e-I2)*(q_-S_)/(T2-I2):N_=.5*(S_+q_),++X2,++GS.toiRootIters;var W_=j_.evaluate(N_),q2=j_.indexA,O2=j_.indexB;if(BD.abs(W_-_e)<c_){p2=N_;break}if(W_>_e?(S_=N_,I2=W_):(q_=N_,T2=W_),X2==50)break}if(GS.toiMaxRootIters=BD.max(GS.toiMaxRootIters,X2),++u2,u2==CD.maxPolygonVertices)break}if(++s_,++GS.toiIters,n2)break;if(s_==h_){x.state=DC.e_failed,x.t=ws;break}}GS.toiMaxIters=BD.max(GS.toiMaxIters,s_);var o2=vR.diff(o);GS.toiMaxTime=BD.max(GS.toiMaxTime,o2),GS.toiTime+=o2}var SR=1,CR=2,BR=3;function wD(){this.m_proxyA=new _G,this.m_proxyB=new _G,this.m_sweepA,this.m_sweepB,this.indexA,this.indexB,this.m_type,this.m_localPoint=DA.zero(),this.m_axis=DA.zero()}wD.prototype.initialize=function(x,V,o,_o,_r,l){this.m_proxyA=V,this.m_proxyB=_o;var e_=x.count;e3&&o3.assert(0<e_&&e_<3),this.m_sweepA=o,this.m_sweepB=_r;var o_=xS.identity(),i_=xS.identity();if(this.m_sweepA.getTransform(o_,l),this.m_sweepB.getTransform(i_,l),e_==1){this.m_type=SR;var _e=this.m_proxyA.getVertex(x.indexA[0]),c_=this.m_proxyB.getVertex(x.indexB[0]),ws=xS.mulVec2(o_,_e),h_=xS.mulVec2(i_,c_);this.m_axis.setCombine(1,h_,-1,ws);var s_=this.m_axis.normalize();return s_}else if(x.indexA[0]==x.indexA[1]){this.m_type=BR;var w_=_o.getVertex(x.indexB[0]),L_=_o.getVertex(x.indexB[1]);this.m_axis=DA.cross(DA.sub(L_,w_),1),this.m_axis.normalize();var y_=DP.mulVec2(i_.q,this.m_axis);this.m_localPoint=DA.mid(w_,L_);var h_=xS.mulVec2(i_,this.m_localPoint),_e=V.getVertex(x.indexA[0]),ws=xS.mulVec2(o_,_e),s_=DA.dot(ws,y_)-DA.dot(h_,y_);return s_<0&&(this.m_axis=DA.neg(this.m_axis),s_=-s_),s_}else{this.m_type=CR;var I_=this.m_proxyA.getVertex(x.indexA[0]),k_=this.m_proxyA.getVertex(x.indexA[1]);this.m_axis=DA.cross(DA.sub(k_,I_),1),this.m_axis.normalize();var y_=DP.mulVec2(o_.q,this.m_axis);this.m_localPoint=DA.mid(I_,k_);var ws=xS.mulVec2(o_,this.m_localPoint),c_=this.m_proxyB.getVertex(x.indexB[0]),h_=xS.mulVec2(i_,c_),s_=DA.dot(h_,y_)-DA.dot(ws,y_);return s_<0&&(this.m_axis=DA.neg(this.m_axis),s_=-s_),s_}};wD.prototype.compute=function(x,V){var o=xS.identity(),_o=xS.identity();switch(this.m_sweepA.getTransform(o,V),this.m_sweepB.getTransform(_o,V),this.m_type){case SR:{if(x){var _r=DP.mulTVec2(o.q,this.m_axis),l=DP.mulTVec2(_o.q,DA.neg(this.m_axis));this.indexA=this.m_proxyA.getSupport(_r),this.indexB=this.m_proxyB.getSupport(l)}var e_=this.m_proxyA.getVertex(this.indexA),o_=this.m_proxyB.getVertex(this.indexB),i_=xS.mulVec2(o,e_),_e=xS.mulVec2(_o,o_),c_=DA.dot(_e,this.m_axis)-DA.dot(i_,this.m_axis);return c_}case CR:{var ws=DP.mulVec2(o.q,this.m_axis),i_=xS.mulVec2(o,this.m_localPoint);if(x){var l=DP.mulTVec2(_o.q,DA.neg(ws));this.indexA=-1,this.indexB=this.m_proxyB.getSupport(l)}var o_=this.m_proxyB.getVertex(this.indexB),_e=xS.mulVec2(_o,o_),c_=DA.dot(_e,ws)-DA.dot(i_,ws);return c_}case BR:{var ws=DP.mulVec2(_o.q,this.m_axis),_e=xS.mulVec2(_o,this.m_localPoint);if(x){var _r=DP.mulTVec2(o.q,DA.neg(ws));this.indexB=-1,this.indexA=this.m_proxyA.getSupport(_r)}var e_=this.m_proxyA.getVertex(this.indexA),i_=xS.mulVec2(o,e_),c_=DA.dot(i_,ws)-DA.dot(_e,ws);return c_}default:return e3&&o3.assert(!1),x&&(this.indexA=-1,this.indexB=-1),0}};wD.prototype.findMinSeparation=function(x){return this.compute(!0,x)};wD.prototype.evaluate=function(x){return this.compute(!1,x)}});var wR=z0((jbt,s3)=>{var tP=typeof DEBUG>"u"?!1:DEBUG,h4=typeof ASSERT>"u"?!1:ASSERT;s3.exports=cB;s3.exports.TimeStep=n3;var fC=Y1(),fV=_x(),lB=Fy(),xV=ky(),Vlt=jS(),Dlt=$B(),Mlt=WS(),r3=i3(),Glt=r3.Input,PR=r3.Output,pG=vD(),Lbt=pG.Input,qbt=pG.Output,Ebt=pG.Proxy,kbt=pG.Cache;function n3(x){this.dt=0,this.inv_dt=0,this.velocityIterations=0,this.positionIterations=0,this.warmStarting=!1,this.blockSolve=!0,this.inv_dt0=0,this.dtRatio=1}n3.prototype.reset=function(x){this.dt>0&&(this.inv_dt0=this.inv_dt),this.dt=x,this.inv_dt=x==0?0:1/x,this.dtRatio=x*this.inv_dt0};function cB(x){this.m_world=x,this.m_stack=[],this.m_bodies=[],this.m_contacts=[],this.m_joints=[]}cB.prototype.clear=function(){this.m_stack.length=0,this.m_bodies.length=0,this.m_contacts.length=0,this.m_joints.length=0};cB.prototype.addBody=function(x){h4&&fV.assert(x instanceof Vlt,"Not a Body!",x),this.m_bodies.push(x)};cB.prototype.addContact=function(x){h4&&fV.assert(x instanceof Dlt,"Not a Contact!",x),this.m_contacts.push(x)};cB.prototype.addJoint=function(x){h4&&fV.assert(x instanceof Mlt,"Not a Joint!",x),this.m_joints.push(x)};cB.prototype.solveWorld=function(x){for(var V=this.m_world,o=V.m_bodyList;o;o=o.m_next)o.m_islandFlag=!1;for(var _o=V.m_contactList;_o;_o=_o.m_next)_o.m_islandFlag=!1;for(var _r=V.m_jointList;_r;_r=_r.m_next)_r.m_islandFlag=!1;for(var l=this.m_stack,e_=-1,o_=V.m_bodyList;o_;o_=o_.m_next)if(e_++,!o_.m_islandFlag&&!(o_.isAwake()==!1||o_.isActive()==!1)&&!o_.isStatic()){for(this.clear(),l.push(o_),o_.m_islandFlag=!0;l.length>0;){var o=l.pop();if(h4&&fV.assert(o.isActive()==!0),this.addBody(o),o.setAwake(!0),!o.isStatic()){for(var i_=o.m_contactList;i_;i_=i_.next){var _e=i_.contact;if(!_e.m_islandFlag&&!(_e.isEnabled()==!1||_e.isTouching()==!1)){var c_=_e.m_fixtureA.m_isSensor,ws=_e.m_fixtureB.m_isSensor;if(!(c_||ws)){this.addContact(_e),_e.m_islandFlag=!0;var h_=i_.other;h_.m_islandFlag||(l.push(h_),h_.m_islandFlag=!0)}}}for(var s_=o.m_jointList;s_;s_=s_.next)if(s_.joint.m_islandFlag!=!0){var h_=s_.other;h_.isActive()!=!1&&(this.addJoint(s_.joint),s_.joint.m_islandFlag=!0,!h_.m_islandFlag&&(l.push(h_),h_.m_islandFlag=!0))}}}this.solveIsland(x);for(var w_=0;w_<this.m_bodies.length;++w_){var o=this.m_bodies[w_];o.isStatic()&&(o.m_islandFlag=!1)}}};cB.prototype.solveIsland=function(x){for(var V=this.m_world,o=V.m_gravity,_o=V.m_allowSleep,_r=x.dt,l=0;l<this.m_bodies.length;++l){var e_=this.m_bodies[l],o_=lB.clone(e_.m_sweep.c),i_=e_.m_sweep.a,_e=lB.clone(e_.m_linearVelocity),c_=e_.m_angularVelocity;e_.m_sweep.c0.set(e_.m_sweep.c),e_.m_sweep.a0=e_.m_sweep.a,e_.isDynamic()&&(_e.addMul(_r*e_.m_gravityScale,o),_e.addMul(_r*e_.m_invMass,e_.m_force),c_+=_r*e_.m_invI*e_.m_torque,_e.mul(1/(1+_r*e_.m_linearDamping)),c_*=1/(1+_r*e_.m_angularDamping)),e_.c_position.c=o_,e_.c_position.a=i_,e_.c_velocity.v=_e,e_.c_velocity.w=c_}for(var l=0;l<this.m_contacts.length;++l){var ws=this.m_contacts[l];ws.initConstraint(x)}tP&&this.printBodies("M: ");for(var l=0;l<this.m_contacts.length;++l){var ws=this.m_contacts[l];ws.initVelocityConstraint(x)}if(tP&&this.printBodies("R: "),x.warmStarting)for(var l=0;l<this.m_contacts.length;++l){var ws=this.m_contacts[l];ws.warmStartConstraint(x)}tP&&this.printBodies("Q: ");for(var l=0;l<this.m_joints.length;++l){var h_=this.m_joints[l];h_.initVelocityConstraints(x)}tP&&this.printBodies("E: ");for(var l=0;l<x.velocityIterations;++l){for(var s_=0;s_<this.m_joints.length;++s_){var h_=this.m_joints[s_];h_.solveVelocityConstraints(x)}for(var s_=0;s_<this.m_contacts.length;++s_){var ws=this.m_contacts[s_];ws.solveVelocityConstraint(x)}}tP&&this.printBodies("D: ");for(var l=0;l<this.m_contacts.length;++l){var ws=this.m_contacts[l];ws.storeConstraintImpulses(x)}tP&&this.printBodies("C: ");for(var l=0;l<this.m_bodies.length;++l){var e_=this.m_bodies[l],o_=lB.clone(e_.c_position.c),i_=e_.c_position.a,_e=lB.clone(e_.c_velocity.v),c_=e_.c_velocity.w,w_=lB.mul(_r,_e);if(lB.lengthSquared(w_)>fC.maxTranslationSquared){var L_=fC.maxTranslation/w_.length();_e.mul(L_)}var y_=_r*c_;if(y_*y_>fC.maxRotationSquared){var L_=fC.maxRotation/xV.abs(y_);c_*=L_}o_.addMul(_r,_e),i_+=_r*c_,e_.c_position.c.set(o_),e_.c_position.a=i_,e_.c_velocity.v.set(_e),e_.c_velocity.w=c_}tP&&this.printBodies("B: ");for(var I_=!1,l=0;l<x.positionIterations;++l){for(var k_=0,s_=0;s_<this.m_contacts.length;++s_){var ws=this.m_contacts[s_],j_=ws.solvePositionConstraint(x);k_=xV.min(k_,j_)}for(var n2=k_>=-3*fC.linearSlop,p2=!0,s_=0;s_<this.m_joints.length;++s_){var h_=this.m_joints[s_],u2=h_.solvePositionConstraints(x);p2=p2&&u2}if(n2&&p2){I_=!0;break}}tP&&this.printBodies("L: ");for(var l=0;l<this.m_bodies.length;++l){var e_=this.m_bodies[l];e_.m_sweep.c.set(e_.c_position.c),e_.m_sweep.a=e_.c_position.a,e_.m_linearVelocity.set(e_.c_velocity.v),e_.m_angularVelocity=e_.c_velocity.w,e_.synchronizeTransform()}if(this.postSolveIsland(),_o){for(var T2=1/0,I2=fC.linearSleepToleranceSqr,q2=fC.angularSleepToleranceSqr,l=0;l<this.m_bodies.length;++l){var e_=this.m_bodies[l];e_.isStatic()||(e_.m_autoSleepFlag==!1||e_.m_angularVelocity*e_.m_angularVelocity>q2||lB.lengthSquared(e_.m_linearVelocity)>I2?(e_.m_sleepTime=0,T2=0):(e_.m_sleepTime+=_r,T2=xV.min(T2,e_.m_sleepTime)))}if(T2>=fC.timeToSleep&&I_)for(var l=0;l<this.m_bodies.length;++l){var e_=this.m_bodies[l];e_.setAwake(!1)}}};cB.prototype.printBodies=function(x){for(var V=0;V<this.m_bodies.length;++V){var o=this.m_bodies[V];fV.debug(x,o.c_position.a,o.c_position.c.x,o.c_position.c.y,o.c_velocity.w,o.c_velocity.v.x,o.c_velocity.v.y)}};var u4=new n3;cB.prototype.solveWorldTOI=function(x){var V=this.m_world;if(V.m_stepComplete){for(var o=V.m_bodyList;o;o=o.m_next)o.m_islandFlag=!1,o.m_sweep.alpha0=0;for(var _o=V.m_contactList;_o;_o=_o.m_next)_o.m_toiFlag=!1,_o.m_islandFlag=!1,_o.m_toiCount=0,_o.m_toi=1}for(;;){for(var _r=null,l=1,_o=V.m_contactList;_o;_o=_o.m_next)if(_o.isEnabled()!=!1&&!(_o.m_toiCount>fC.maxSubSteps)){var e_=1;if(_o.m_toiFlag)e_=_o.m_toi;else{var j_=_o.getFixtureA(),n2=_o.getFixtureB();if(j_.isSensor()||n2.isSensor())continue;var p2=j_.getBody(),u2=n2.getBody();h4&&fV.assert(p2.isDynamic()||u2.isDynamic());var o_=p2.isAwake()&&!p2.isStatic(),i_=u2.isAwake()&&!u2.isStatic();if(o_==!1&&i_==!1)continue;var _e=p2.isBullet()||!p2.isDynamic(),c_=u2.isBullet()||!u2.isDynamic();if(_e==!1&&c_==!1)continue;var ws=p2.m_sweep.alpha0;p2.m_sweep.alpha0<u2.m_sweep.alpha0?(ws=u2.m_sweep.alpha0,p2.m_sweep.advance(ws)):u2.m_sweep.alpha0<p2.m_sweep.alpha0&&(ws=p2.m_sweep.alpha0,u2.m_sweep.advance(ws)),h4&&fV.assert(ws<1);var h_=_o.getChildIndexA(),s_=_o.getChildIndexB(),w_=p2.m_sweep,L_=u2.m_sweep,y_=new Glt;y_.proxyA.set(j_.getShape(),h_),y_.proxyB.set(n2.getShape(),s_),y_.sweepA.set(p2.m_sweep),y_.sweepB.set(u2.m_sweep),y_.tMax=1;var I_=new PR;r3(I_,y_);var k_=I_.t;I_.state==PR.e_touching?e_=xV.min(ws+(1-ws)*k_,1):e_=1,_o.m_toi=e_,_o.m_toiFlag=!0}e_<l&&(_r=_o,l=e_)}if(_r==null||1-10*xV.EPSILON<l){V.m_stepComplete=!0;break}var j_=_r.getFixtureA(),n2=_r.getFixtureB(),p2=j_.getBody(),u2=n2.getBody(),T2=p2.m_sweep.clone(),I2=u2.m_sweep.clone();if(p2.advance(l),u2.advance(l),_r.update(V),_r.m_toiFlag=!1,++_r.m_toiCount,_r.isEnabled()==!1||_r.isTouching()==!1){_r.setEnabled(!1),p2.m_sweep.set(T2),u2.m_sweep.set(I2),p2.synchronizeTransform(),u2.synchronizeTransform();continue}p2.setAwake(!0),u2.setAwake(!0),this.clear(),this.addBody(p2),this.addBody(u2),this.addContact(_r),p2.m_islandFlag=!0,u2.m_islandFlag=!0,_r.m_islandFlag=!0;for(var q2=[p2,u2],O2=0;O2<q2.length;++O2){var X2=q2[O2];if(X2.isDynamic())for(var S_=X2.m_contactList;S_;S_=S_.next){var q_=S_.contact;if(!q_.m_islandFlag){var N_=S_.other;if(!(N_.isDynamic()&&!X2.isBullet()&&!N_.isBullet())){var W_=q_.m_fixtureA.m_isSensor,o2=q_.m_fixtureB.m_isSensor;if(!(W_||o2)){var m2=N_.m_sweep.clone();if(N_.m_islandFlag==!1&&N_.advance(l),q_.update(V),q_.isEnabled()==!1||q_.isTouching()==!1){N_.m_sweep.set(m2),N_.synchronizeTransform();continue}q_.m_islandFlag=!0,this.addContact(q_),!N_.m_islandFlag&&(N_.m_islandFlag=!0,N_.isStatic()||N_.setAwake(!0),this.addBody(N_))}}}}}u4.reset((1-l)*x.dt),u4.dtRatio=1,u4.positionIterations=20,u4.velocityIterations=x.velocityIterations,u4.warmStarting=!1,this.solveIslandTOI(u4,p2,u2);for(var O2=0;O2<this.m_bodies.length;++O2){var X2=this.m_bodies[O2];if(X2.m_islandFlag=!1,!!X2.isDynamic()){X2.synchronizeFixtures();for(var S_=X2.m_contactList;S_;S_=S_.next)S_.contact.m_toiFlag=!1,S_.contact.m_islandFlag=!1}}if(V.findNewContacts(),V.m_subStepping){V.m_stepComplete=!1;break}}if(tP)for(var o=V.m_bodyList;o;o=o.m_next)var _o=o.m_sweep.c,_2=o.m_sweep.a,v_=o.m_linearVelocity,G_=o.m_angularVelocity};cB.prototype.solveIslandTOI=function(x,V,o){for(var _o=this.m_world,_r=0;_r<this.m_bodies.length;++_r){var l=this.m_bodies[_r];l.c_position.c.set(l.m_sweep.c),l.c_position.a=l.m_sweep.a,l.c_velocity.v.set(l.m_linearVelocity),l.c_velocity.w=l.m_angularVelocity}for(var _r=0;_r<this.m_contacts.length;++_r){var e_=this.m_contacts[_r];e_.initConstraint(x)}for(var _r=0;_r<x.positionIterations;++_r){for(var o_=0,i_=0;i_<this.m_contacts.length;++i_){var e_=this.m_contacts[i_],_e=e_.solvePositionConstraintTOI(x,V,o);o_=xV.min(o_,_e)}var c_=o_>=-1.5*fC.linearSlop;if(c_)break}if(0)for(var _r;_r<this.m_contacts.length;++_r)var ws,h_,s_,w_,L_,y_,I_,k_,j_,n2;V.m_sweep.c0.set(V.c_position.c),V.m_sweep.a0=V.c_position.a,o.m_sweep.c0.set(o.c_position.c),o.m_sweep.a0=o.c_position.a;for(var _r=0;_r<this.m_contacts.length;++_r){var e_=this.m_contacts[_r];e_.initVelocityConstraint(x)}for(var _r=0;_r<x.velocityIterations;++_r)for(var i_=0;i_<this.m_contacts.length;++i_){var e_=this.m_contacts[i_];e_.solveVelocityConstraint(x)}for(var p2=x.dt,_r=0;_r<this.m_bodies.length;++_r){var l=this.m_bodies[_r],ws=lB.clone(l.c_position.c),u2=l.c_position.a,T2=lB.clone(l.c_velocity.v),I2=l.c_velocity.w,q2=lB.mul(p2,T2);if(lB.dot(q2,q2)>fC.maxTranslationSquared){var O2=fC.maxTranslation/q2.length();T2.mul(O2)}var X2=p2*I2;if(X2*X2>fC.maxRotationSquared){var O2=fC.maxRotation/xV.abs(X2);I2*=O2}ws.addMul(p2,T2),u2+=p2*I2,l.c_position.c=ws,l.c_position.a=u2,l.c_velocity.v=T2,l.c_velocity.w=I2,l.m_sweep.c=ws,l.m_sweep.a=u2,l.m_linearVelocity=T2,l.m_angularVelocity=I2,l.synchronizeTransform()}this.postSolveIsland()};function Jlt(){this.normalImpulses=[],this.tangentImpulses=[]}cB.prototype.postSolveIsland=function(){for(var x=new Jlt,V=0;V<this.m_contacts.length;++V){for(var o=this.m_contacts[V],_o=0;_o<o.v_points.length;++_o)x.normalImpulses.push(o.v_points[_o].normalImpulse),x.tangentImpulses.push(o.v_points[_o].tangentImpulse);this.m_world.postSolve(o,x)}}});var _3=z0((zbt,GR)=>{var EC=typeof ASSERT>"u"?!1:ASSERT;GR.exports=Y0;var Ilt=aS(),kC=_x(),eP=Fy(),Tlt=ET(),VR=wR(),DR=jS(),Rlt=WS(),MR=$B(),Flt={gravity:eP.zero(),allowSleep:!0,warmStarting:!0,continuousPhysics:!0,subStepping:!1,blockSolve:!0,velocityIterations:8,positionIterations:3};function Y0(x){if(!(this instanceof Y0))return new Y0(x);x&&eP.isValid(x)&&(x={gravity:x}),x=Ilt(x,Flt),this.m_solver=new VR(this),this.m_broadPhase=new Tlt,this.m_contactList=null,this.m_contactCount=0,this.m_bodyList=null,this.m_bodyCount=0,this.m_jointList=null,this.m_jointCount=0,this.m_stepComplete=!0,this.m_allowSleep=x.allowSleep,this.m_gravity=eP.clone(x.gravity),this.m_clearForces=!0,this.m_newFixture=!1,this.m_locked=!1,this.m_warmStarting=x.warmStarting,this.m_continuousPhysics=x.continuousPhysics,this.m_subStepping=x.subStepping,this.m_blockSolve=x.blockSolve,this.m_velocityIterations=x.velocityIterations,this.m_positionIterations=x.positionIterations,this.m_t=0,this.addPair=this.createContact.bind(this)}Y0.prototype._serialize=function(){for(var x=[],V=[],o=this.getBodyList();o;o=o.getNext())x.push(o);for(var _o=this.getJointList();_o;_o=_o.getNext())typeof _o._serialize=="function"&&V.push(_o);return{gravity:this.m_gravity,bodies:x,joints:V}};Y0._deserialize=function(x,V,o){if(!x)return new Y0;var _o=new Y0(x.gravity);if(x.bodies)for(var _r=x.bodies.length-1;_r>=0;_r-=1)_o._addBody(o(DR,x.bodies[_r],_o));if(x.joints)for(var _r=x.joints.length-1;_r>=0;_r--)_o.createJoint(o(Rlt,x.joints[_r],_o));return _o};Y0.prototype.getBodyList=function(){return this.m_bodyList};Y0.prototype.getJointList=function(){return this.m_jointList};Y0.prototype.getContactList=function(){return this.m_contactList};Y0.prototype.getBodyCount=function(){return this.m_bodyCount};Y0.prototype.getJointCount=function(){return this.m_jointCount};Y0.prototype.getContactCount=function(){return this.m_contactCount};Y0.prototype.setGravity=function(x){this.m_gravity=x};Y0.prototype.getGravity=function(){return this.m_gravity};Y0.prototype.isLocked=function(){return this.m_locked};Y0.prototype.setAllowSleeping=function(x){if(x!=this.m_allowSleep&&(this.m_allowSleep=x,this.m_allowSleep==!1))for(var V=this.m_bodyList;V;V=V.m_next)V.setAwake(!0)};Y0.prototype.getAllowSleeping=function(){return this.m_allowSleep};Y0.prototype.setWarmStarting=function(x){this.m_warmStarting=x};Y0.prototype.getWarmStarting=function(){return this.m_warmStarting};Y0.prototype.setContinuousPhysics=function(x){this.m_continuousPhysics=x};Y0.prototype.getContinuousPhysics=function(){return this.m_continuousPhysics};Y0.prototype.setSubStepping=function(x){this.m_subStepping=x};Y0.prototype.getSubStepping=function(){return this.m_subStepping};Y0.prototype.setAutoClearForces=function(x){this.m_clearForces=x};Y0.prototype.getAutoClearForces=function(){return this.m_clearForces};Y0.prototype.clearForces=function(){for(var x=this.m_bodyList;x;x=x.getNext())x.m_force.setZero(),x.m_torque=0};Y0.prototype.queryAABB=function(x,V){EC&&kC.assert(typeof V=="function");var o=this.m_broadPhase;this.m_broadPhase.query(x,function(_o){var _r=o.getUserData(_o);return V(_r.fixture)})};Y0.prototype.rayCast=function(x,V,o){EC&&kC.assert(typeof o=="function");var _o=this.m_broadPhase;this.m_broadPhase.rayCast({maxFraction:1,p1:x,p2:V},function(_r,l){var e_=_o.getUserData(l),o_=e_.fixture,i_=e_.childIndex,_e={},c_=o_.rayCast(_e,_r,i_);if(c_){var ws=_e.fraction,h_=eP.add(eP.mul(1-ws,_r.p1),eP.mul(ws,_r.p2));return o(o_,h_,_e.normal,ws)}return _r.maxFraction})};Y0.prototype.getProxyCount=function(){return this.m_broadPhase.getProxyCount()};Y0.prototype.getTreeHeight=function(){return this.m_broadPhase.getTreeHeight()};Y0.prototype.getTreeBalance=function(){return this.m_broadPhase.getTreeBalance()};Y0.prototype.getTreeQuality=function(){return this.m_broadPhase.getTreeQuality()};Y0.prototype.shiftOrigin=function(x){if(EC&&kC.assert(this.m_locked==!1),!this.m_locked){for(var V=this.m_bodyList;V;V=V.m_next)V.m_xf.p.sub(x),V.m_sweep.c0.sub(x),V.m_sweep.c.sub(x);for(var o=this.m_jointList;o;o=o.m_next)o.shiftOrigin(x);this.m_broadPhase.shiftOrigin(x)}};Y0.prototype._addBody=function(x){EC&&kC.assert(this.isLocked()===!1),!this.isLocked()&&(x.m_prev=null,x.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=x),this.m_bodyList=x,++this.m_bodyCount)};Y0.prototype.createBody=function(x,V){if(EC&&kC.assert(this.isLocked()==!1),this.isLocked())return null;x&&eP.isValid(x)&&(x={position:x,angle:V});var o=new DR(this,x);return this._addBody(o),o};Y0.prototype.createDynamicBody=function(x,V){return x?eP.isValid(x)&&(x={position:x,angle:V}):x={},x.type="dynamic",this.createBody(x)};Y0.prototype.createKinematicBody=function(x,V){return x?eP.isValid(x)&&(x={position:x,angle:V}):x={},x.type="kinematic",this.createBody(x)};Y0.prototype.destroyBody=function(x){if(EC&&kC.assert(this.m_bodyCount>0),EC&&kC.assert(this.isLocked()==!1),!this.isLocked()){if(x.m_destroyed)return!1;for(var V=x.m_jointList;V;){var o=V;V=V.next,this.publish("remove-joint",o.joint),this.destroyJoint(o.joint),x.m_jointList=V}x.m_jointList=null;for(var _o=x.m_contactList;_o;){var _r=_o;_o=_o.next,this.destroyContact(_r.contact),x.m_contactList=_o}x.m_contactList=null;for(var l=x.m_fixtureList;l;){var e_=l;l=l.m_next,this.publish("remove-fixture",e_),e_.destroyProxies(this.m_broadPhase),x.m_fixtureList=l}return x.m_fixtureList=null,x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x==this.m_bodyList&&(this.m_bodyList=x.m_next),x.m_destroyed=!0,--this.m_bodyCount,this.publish("remove-body",x),!0}};Y0.prototype.createJoint=function(x){if(EC&&kC.assert(!!x.m_bodyA),EC&&kC.assert(!!x.m_bodyB),EC&&kC.assert(this.isLocked()==!1),this.isLocked())return null;if(x.m_prev=null,x.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=x),this.m_jointList=x,++this.m_jointCount,x.m_edgeA.joint=x,x.m_edgeA.other=x.m_bodyB,x.m_edgeA.prev=null,x.m_edgeA.next=x.m_bodyA.m_jointList,x.m_bodyA.m_jointList&&(x.m_bodyA.m_jointList.prev=x.m_edgeA),x.m_bodyA.m_jointList=x.m_edgeA,x.m_edgeB.joint=x,x.m_edgeB.other=x.m_bodyA,x.m_edgeB.prev=null,x.m_edgeB.next=x.m_bodyB.m_jointList,x.m_bodyB.m_jointList&&(x.m_bodyB.m_jointList.prev=x.m_edgeB),x.m_bodyB.m_jointList=x.m_edgeB,x.m_collideConnected==!1)for(var V=x.m_bodyB.getContactList();V;V=V.next)V.other==x.m_bodyA&&V.contact.flagForFiltering();return x};Y0.prototype.destroyJoint=function(x){if(EC&&kC.assert(this.isLocked()==!1),!this.isLocked()){x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x==this.m_jointList&&(this.m_jointList=x.m_next);var V=x.m_bodyA,o=x.m_bodyB;if(V.setAwake(!0),o.setAwake(!0),x.m_edgeA.prev&&(x.m_edgeA.prev.next=x.m_edgeA.next),x.m_edgeA.next&&(x.m_edgeA.next.prev=x.m_edgeA.prev),x.m_edgeA==V.m_jointList&&(V.m_jointList=x.m_edgeA.next),x.m_edgeA.prev=null,x.m_edgeA.next=null,x.m_edgeB.prev&&(x.m_edgeB.prev.next=x.m_edgeB.next),x.m_edgeB.next&&(x.m_edgeB.next.prev=x.m_edgeB.prev),x.m_edgeB==o.m_jointList&&(o.m_jointList=x.m_edgeB.next),x.m_edgeB.prev=null,x.m_edgeB.next=null,EC&&kC.assert(this.m_jointCount>0),--this.m_jointCount,x.m_collideConnected==!1)for(var _o=o.getContactList();_o;)_o.other==V&&_o.contact.flagForFiltering(),_o=_o.next;this.publish("remove-joint",x)}};var gV=new VR.TimeStep;Y0.prototype.step=function(x,V,o){if(this.publish("pre-step",x),(V|0)!==V&&(V=0),V=V||this.m_velocityIterations,o=o||this.m_positionIterations,this.m_newFixture&&(this.findNewContacts(),this.m_newFixture=!1),this.m_locked=!0,gV.reset(x),gV.velocityIterations=V,gV.positionIterations=o,gV.warmStarting=this.m_warmStarting,gV.blockSolve=this.m_blockSolve,this.updateContacts(),this.m_stepComplete&&x>0){this.m_solver.solveWorld(gV);for(var _o=this.m_bodyList;_o;_o=_o.getNext())_o.m_islandFlag!=!1&&(_o.isStatic()||_o.synchronizeFixtures());this.findNewContacts()}this.m_continuousPhysics&&x>0&&this.m_solver.solveWorldTOI(gV),this.m_clearForces&&this.clearForces(),this.m_locked=!1,this.publish("post-step",x)};Y0.prototype.findNewContacts=function(){this.m_broadPhase.updatePairs(this.addPair)};Y0.prototype.createContact=function(x,V){var o=x.fixture,_o=V.fixture,_r=x.childIndex,l=V.childIndex,e_=o.getBody(),o_=_o.getBody();if(e_!=o_){for(var i_=o_.getContactList();i_;){if(i_.other==e_){var _e=i_.contact.getFixtureA(),c_=i_.contact.getFixtureB(),ws=i_.contact.getChildIndexA(),h_=i_.contact.getChildIndexB();if(_e==o&&c_==_o&&ws==_r&&h_==l||_e==_o&&c_==o&&ws==l&&h_==_r)return}i_=i_.next}if(o_.shouldCollide(e_)!=!1&&_o.shouldCollide(o)!=!1){var s_=MR.create(o,_r,_o,l);s_!=null&&(s_.m_prev=null,this.m_contactList!=null&&(s_.m_next=this.m_contactList,this.m_contactList.m_prev=s_),this.m_contactList=s_,++this.m_contactCount)}}};Y0.prototype.updateContacts=function(){for(var x,V=this.m_contactList;x=V;){V=x.getNext();var o=x.getFixtureA(),_o=x.getFixtureB(),_r=x.getChildIndexA(),l=x.getChildIndexB(),e_=o.getBody(),o_=_o.getBody();if(x.m_filterFlag){if(o_.shouldCollide(e_)==!1){this.destroyContact(x);continue}if(_o.shouldCollide(o)==!1){this.destroyContact(x);continue}x.m_filterFlag=!1}var i_=e_.isAwake()&&!e_.isStatic(),_e=o_.isAwake()&&!o_.isStatic();if(!(i_==!1&&_e==!1)){var c_=o.m_proxies[_r].proxyId,ws=_o.m_proxies[l].proxyId,h_=this.m_broadPhase.testOverlap(c_,ws);if(h_==!1){this.destroyContact(x);continue}x.update(this)}}};Y0.prototype.destroyContact=function(x){MR.destroy(x,this),x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x==this.m_contactList&&(this.m_contactList=x.m_next),--this.m_contactCount};Y0.prototype._listeners=null;Y0.prototype.on=function(x,V){return typeof x!="string"||typeof V!="function"?this:(this._listeners||(this._listeners={}),this._listeners[x]||(this._listeners[x]=[]),this._listeners[x].push(V),this)};Y0.prototype.off=function(x,V){if(typeof x!="string"||typeof V!="function")return this;var o=this._listeners&&this._listeners[x];if(!o||!o.length)return this;var _o=o.indexOf(V);return _o>=0&&o.splice(_o,1),this};Y0.prototype.publish=function(x,V,o,_o){var _r=this._listeners&&this._listeners[x];if(!_r||!_r.length)return 0;for(var l=0;l<_r.length;l++)_r[l].call(this,V,o,_o);return _r.length};Y0.prototype.beginContact=function(x){this.publish("begin-contact",x)};Y0.prototype.endContact=function(x){this.publish("end-contact",x)};Y0.prototype.preSolve=function(x,V){this.publish("pre-solve",x,V)};Y0.prototype.postSolve=function(x,V){this.publish("post-solve",x,V)}});var RR=z0((Wbt,lG)=>{var JR=_3(),Llt=jS(),qlt=WS(),Elt=tG(),klt=xC(),jlt=Fy(),zlt=MS(),Wlt=0;function IR(x){x=x||{};var V=x.rootClass||JR,o=x.preSerialize||function(i_){return i_},_o=x.postSerialize||function(i_,_e){return i_},_r=x.preDeserialize||function(i_){return i_},l=x.postDeserialize||function(i_,_e){return i_},e_={World:JR,Body:Llt,Joint:qlt,Fixture:Elt,Shape:klt},o_=Object.assign({Vec2:jlt,Vec3:zlt},e_);this.toJson=function(i_){var _e=[],c_=[i_],ws={};function h_(I_,k_){if(I_.__sid=I_.__sid||++Wlt,!ws[I_.__sid]){c_.push(I_);var j_=_e.length+c_.length,n2={refIndex:j_,refType:k_};ws[I_.__sid]=n2}return ws[I_.__sid]}function s_(I_){I_=o(I_);var k_=I_._serialize();return k_=_o(k_,I_),k_}function w_(I_,k_){if(typeof I_!="object"||I_===null)return I_;if(typeof I_._serialize=="function"){if(I_!==k_){for(var j_ in e_)if(I_ instanceof e_[j_])return h_(I_,j_)}I_=s_(I_)}if(Array.isArray(I_)){for(var n2=[],p2=0;p2<I_.length;p2++)n2[p2]=w_(I_[p2]);I_=n2}else{var n2={};for(var p2 in I_)I_.hasOwnProperty(p2)&&(n2[p2]=w_(I_[p2]));I_=n2}return I_}for(;c_.length;){var L_=c_.shift(),y_=w_(L_,L_);_e.push(y_)}return _e},this.fromJson=function(i_){var _e={};function c_(s_,w_,L_){w_=_r(w_);var y_=s_._deserialize(w_,L_,ws);return y_=l(y_,w_),y_}function ws(s_,w_,L_){if(!w_.refIndex)return s_&&s_._deserialize&&c_(s_,w_,L_);s_=o_[w_.refType]||s_;var y_=w_.refIndex;if(!_e[y_]){var I_=i_[y_],k_=c_(s_,I_,L_);_e[y_]=k_}return _e[y_]}var h_=V._deserialize(i_[0],null,ws);return h_}}lG.exports=IR;var TR=new IR;lG.exports.toJson=TR.toJson;lG.exports.fromJson=TR.fromJson});var VD=z0((Ybt,LR)=>{var Nlt=typeof ASSERT>"u"?!1:ASSERT;LR.exports=lA;var Olt=_x(),Nbt=aS(),a3=ky(),Obt=H1(),p3=k1(),_C=Fy(),Ubt=iB(),Xbt=Y1(),FR=xC();lA._super=FR;lA.prototype=Object.create(lA._super.prototype);lA.TYPE="circle";FR.TYPES[lA.TYPE]=lA;function lA(x,V){if(!(this instanceof lA))return new lA(x,V);lA._super.call(this),this.m_type=lA.TYPE,this.m_p=_C.zero(),this.m_radius=1,typeof x=="object"&&_C.isValid(x)?(this.m_p.set(x),typeof V=="number"&&(this.m_radius=V)):typeof x=="number"&&(this.m_radius=x)}lA.prototype._serialize=function(){return{type:this.m_type,p:this.m_p,radius:this.m_radius}};lA._deserialize=function(x){return new lA(x.p,x.radius)};lA.prototype.getRadius=function(){return this.m_radius};lA.prototype.getCenter=function(){return this.m_p};lA.prototype.getVertex=function(x){return Nlt&&Olt.assert(x==0),this.m_p};lA.prototype.getVertexCount=function(x){return 1};lA.prototype._clone=function(){var x=new lA;return x.m_type=this.m_type,x.m_radius=this.m_radius,x.m_p=this.m_p.clone(),x};lA.prototype.getChildCount=function(){return 1};lA.prototype.testPoint=function(x,V){var o=_C.add(x.p,p3.mulVec2(x.q,this.m_p)),_o=_C.sub(V,o);return _C.dot(_o,_o)<=this.m_radius*this.m_radius};lA.prototype.rayCast=function(x,V,o,_o){var _r=_C.add(o.p,p3.mulVec2(o.q,this.m_p)),l=_C.sub(V.p1,_r),e_=_C.dot(l,l)-this.m_radius*this.m_radius,o_=_C.sub(V.p2,V.p1),i_=_C.dot(l,o_),_e=_C.dot(o_,o_),c_=i_*i_-_e*e_;if(c_<0||_e<a3.EPSILON)return!1;var ws=-(i_+a3.sqrt(c_));return 0<=ws&&ws<=V.maxFraction*_e?(ws/=_e,x.fraction=ws,x.normal=_C.add(l,_C.mul(ws,o_)),x.normal.normalize(),!0):!1};lA.prototype.computeAABB=function(x,V,o){var _o=_C.add(V.p,p3.mulVec2(V.q,this.m_p));x.lowerBound.set(_o.x-this.m_radius,_o.y-this.m_radius),x.upperBound.set(_o.x+this.m_radius,_o.y+this.m_radius)};lA.prototype.computeMass=function(x,V){x.mass=V*a3.PI*this.m_radius*this.m_radius,x.center=this.m_p,x.I=x.mass*(.5*this.m_radius*this.m_radius+_C.dot(this.m_p,this.m_p))};lA.prototype.computeDistanceProxy=function(x){x.m_vertices.push(this.m_p),x.m_count=1,x.m_radius=this.m_radius}});var DD=z0((Qbt,kR)=>{kR.exports=hA;var Hbt=aS(),Ult=Y1(),ER=xC(),Zbt=ky(),qR=H1(),cG=k1(),eS=Fy(),Kbt=iB();hA._super=ER;hA.prototype=Object.create(hA._super.prototype);hA.TYPE="edge";ER.TYPES[hA.TYPE]=hA;function hA(x,V){if(!(this instanceof hA))return new hA(x,V);hA._super.call(this),this.m_type=hA.TYPE,this.m_radius=Ult.polygonRadius,this.m_vertex1=x?eS.clone(x):eS.zero(),this.m_vertex2=V?eS.clone(V):eS.zero(),this.m_vertex0=eS.zero(),this.m_vertex3=eS.zero(),this.m_hasVertex0=!1,this.m_hasVertex3=!1}hA.prototype._serialize=function(){return{type:this.m_type,vertex1:this.m_vertex1,vertex2:this.m_vertex2,vertex0:this.m_vertex0,vertex3:this.m_vertex3,hasVertex0:this.m_hasVertex0,hasVertex3:this.m_hasVertex3}};hA._deserialize=function(x){var V=new hA(x.vertex1,x.vertex2);return V.hasVertex0&&V.setPrev(x.vertex0),V.hasVertex3&&V.setNext(x.vertex3),V};hA.prototype.setNext=function(x){return x?(this.m_vertex3.set(x),this.m_hasVertex3=!0):(this.m_vertex3.setZero(),this.m_hasVertex3=!1),this};hA.prototype.setPrev=function(x){return x?(this.m_vertex0.set(x),this.m_hasVertex0=!0):(this.m_vertex0.setZero(),this.m_hasVertex0=!1),this};hA.prototype._set=function(x,V){return this.m_vertex1.set(x),this.m_vertex2.set(V),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this};hA.prototype._clone=function(){var x=new hA;return x.m_type=this.m_type,x.m_radius=this.m_radius,x.m_vertex1.set(this.m_vertex1),x.m_vertex2.set(this.m_vertex2),x.m_vertex0.set(this.m_vertex0),x.m_vertex3.set(this.m_vertex3),x.m_hasVertex0=this.m_hasVertex0,x.m_hasVertex3=this.m_hasVertex3,x};hA.prototype.getChildCount=function(){return 1};hA.prototype.testPoint=function(x,V){return!1};hA.prototype.rayCast=function(x,V,o,_o){var _r=cG.mulTVec2(o.q,eS.sub(V.p1,o.p)),l=cG.mulTVec2(o.q,eS.sub(V.p2,o.p)),e_=eS.sub(l,_r),o_=this.m_vertex1,i_=this.m_vertex2,_e=eS.sub(i_,o_),c_=eS.neo(_e.y,-_e.x);c_.normalize();var ws=eS.dot(c_,eS.sub(o_,_r)),h_=eS.dot(c_,e_);if(h_==0)return!1;var s_=ws/h_;if(s_<0||V.maxFraction<s_)return!1;var w_=eS.add(_r,eS.mul(s_,e_)),L_=eS.sub(i_,o_),y_=eS.dot(L_,L_);if(y_==0)return!1;var I_=eS.dot(eS.sub(w_,o_),L_)/y_;return I_<0||1<I_?!1:(x.fraction=s_,ws>0?x.normal=cG.mulVec2(o.q,c_).neg():x.normal=cG.mulVec2(o.q,c_),!0)};hA.prototype.computeAABB=function(x,V,o){var _o=qR.mulVec2(V,this.m_vertex1),_r=qR.mulVec2(V,this.m_vertex2);x.combinePoints(_o,_r),x.extend(this.m_radius)};hA.prototype.computeMass=function(x,V){x.mass=0,x.center.setCombine(.5,this.m_vertex1,.5,this.m_vertex2),x.I=0};hA.prototype.computeDistanceProxy=function(x){x.m_vertices.push(this.m_vertex1),x.m_vertices.push(this.m_vertex2),x.m_count=2,x.m_radius=this.m_radius}});var d4=z0((eut,zR)=>{var MB=typeof ASSERT>"u"?!1:ASSERT;zR.exports=tA;var GB=_x(),$bt=aS(),oP=ky(),l3=H1(),MD=k1(),wy=Fy(),tut=iB(),mG=Y1(),jR=xC();tA._super=jR;tA.prototype=Object.create(tA._super.prototype);tA.TYPE="polygon";jR.TYPES[tA.TYPE]=tA;function tA(x){if(!(this instanceof tA))return new tA(x);tA._super.call(this),this.m_type=tA.TYPE,this.m_radius=mG.polygonRadius,this.m_centroid=wy.zero(),this.m_vertices=[],this.m_normals=[],this.m_count=0,x&&x.length&&this._set(x)}tA.prototype._serialize=function(){return{type:this.m_type,vertices:this.m_vertices}};tA._deserialize=function(x,V,o){var _o=[];if(x.vertices)for(var _r=0;_r<x.vertices.length;_r++)_o.push(o(wy,x.vertices[_r]));var l=new tA(_o);return l};tA.prototype.getVertex=function(x){return MB&&GB.assert(0<=x&&x<this.m_count),this.m_vertices[x]};tA.prototype._clone=function(){var x=new tA;x.m_type=this.m_type,x.m_radius=this.m_radius,x.m_count=this.m_count,x.m_centroid.set(this.m_centroid);for(var V=0;V<this.m_count;V++)x.m_vertices.push(this.m_vertices[V].clone());for(var V=0;V<this.m_normals.length;V++)x.m_normals.push(this.m_normals[V].clone());return x};tA.prototype.getChildCount=function(){return 1};function Xlt(x,V){MB&&GB.assert(V>=3);var o=wy.zero(),_o=0,_r=wy.zero();if(0)for(var l;l<V;++l);for(var e_=1/3,l=0;l<V;++l){var o_=_r,i_=x[l],_e=l+1<V?x[l+1]:x[0],c_=wy.sub(i_,o_),ws=wy.sub(_e,o_),h_=wy.cross(c_,ws),s_=.5*h_;_o+=s_,o.addMul(s_*e_,o_),o.addMul(s_*e_,i_),o.addMul(s_*e_,_e)}return MB&&GB.assert(_o>oP.EPSILON),o.mul(1/_o),o}tA.prototype._reset=function(){this._set(this.m_vertices)};tA.prototype._set=function(x){if(MB&&GB.assert(3<=x.length&&x.length<=mG.maxPolygonVertices),x.length<3){this._setAsBox(1,1);return}for(var V=oP.min(x.length,mG.maxPolygonVertices),o=[],_o=0;_o<V;++_o){for(var _r=x[_o],l=!0,e_=0;e_<o.length;++e_)if(wy.distanceSquared(_r,o[e_])<.25*mG.linearSlopSquared){l=!1;break}l&&o.push(_r)}if(V=o.length,V<3){MB&&GB.assert(!1),this._setAsBox(1,1);return}for(var o_=0,i_=o[0].x,_o=1;_o<V;++_o){var _e=o[_o].x;(_e>i_||_e===i_&&o[_o].y<o[o_].y)&&(o_=_o,i_=_e)}for(var c_=[],ws=0,h_=o_;;){c_[ws]=h_;for(var s_=0,e_=1;e_<V;++e_){if(s_===h_){s_=e_;continue}var w_=wy.sub(o[s_],o[c_[ws]]),_r=wy.sub(o[e_],o[c_[ws]]),L_=wy.cross(w_,_r);L_<0&&(s_=e_),L_===0&&_r.lengthSquared()>w_.lengthSquared()&&(s_=e_)}if(++ws,h_=s_,s_===o_)break}if(ws<3){MB&&GB.assert(!1),this._setAsBox(1,1);return}this.m_count=ws,this.m_vertices=[];for(var _o=0;_o<ws;++_o)this.m_vertices[_o]=o[c_[_o]];for(var _o=0;_o<ws;++_o){var y_=_o,I_=_o+1<ws?_o+1:0,k_=wy.sub(this.m_vertices[I_],this.m_vertices[y_]);MB&&GB.assert(k_.lengthSquared()>oP.EPSILON*oP.EPSILON),this.m_normals[_o]=wy.cross(k_,1),this.m_normals[_o].normalize()}this.m_centroid=Xlt(this.m_vertices,ws)};tA.prototype._setAsBox=function(x,V,o,_o){if(this.m_vertices[0]=wy.neo(x,-V),this.m_vertices[1]=wy.neo(x,V),this.m_vertices[2]=wy.neo(-x,V),this.m_vertices[3]=wy.neo(-x,-V),this.m_normals[0]=wy.neo(1,0),this.m_normals[1]=wy.neo(0,1),this.m_normals[2]=wy.neo(-1,0),this.m_normals[3]=wy.neo(0,-1),this.m_count=4,wy.isValid(o)){_o=_o||0,this.m_centroid.set(o);var _r=l3.identity();_r.p.set(o),_r.q.set(_o);for(var l=0;l<this.m_count;++l)this.m_vertices[l]=l3.mulVec2(_r,this.m_vertices[l]),this.m_normals[l]=MD.mulVec2(_r.q,this.m_normals[l])}};tA.prototype.testPoint=function(x,V){for(var o=MD.mulTVec2(x.q,wy.sub(V,x.p)),_o=0;_o<this.m_count;++_o){var _r=wy.dot(this.m_normals[_o],wy.sub(o,this.m_vertices[_o]));if(_r>0)return!1}return!0};tA.prototype.rayCast=function(x,V,o,_o){for(var _r=MD.mulTVec2(o.q,wy.sub(V.p1,o.p)),l=MD.mulTVec2(o.q,wy.sub(V.p2,o.p)),e_=wy.sub(l,_r),o_=0,i_=V.maxFraction,_e=-1,c_=0;c_<this.m_count;++c_){var ws=wy.dot(this.m_normals[c_],wy.sub(this.m_vertices[c_],_r)),h_=wy.dot(this.m_normals[c_],e_);if(h_==0){if(ws<0)return!1}else h_<0&&ws<o_*h_?(o_=ws/h_,_e=c_):h_>0&&ws<i_*h_&&(i_=ws/h_);if(i_<o_)return!1}return MB&&GB.assert(0<=o_&&o_<=V.maxFraction),_e>=0?(x.fraction=o_,x.normal=MD.mulVec2(o.q,this.m_normals[_e]),!0):!1};tA.prototype.computeAABB=function(x,V,o){for(var _o=1/0,_r=1/0,l=-1/0,e_=-1/0,o_=0;o_<this.m_count;++o_){var i_=l3.mulVec2(V,this.m_vertices[o_]);_o=oP.min(_o,i_.x),l=oP.max(l,i_.x),_r=oP.min(_r,i_.y),e_=oP.max(e_,i_.y)}x.lowerBound.set(_o,_r),x.upperBound.set(l,e_),x.extend(this.m_radius)};tA.prototype.computeMass=function(x,V){MB&&GB.assert(this.m_count>=3);for(var o=wy.zero(),_o=0,_r=0,l=wy.zero(),e_=0;e_<this.m_count;++e_)l.add(this.m_vertices[e_]);l.mul(1/this.m_count);for(var o_=1/3,e_=0;e_<this.m_count;++e_){var i_=wy.sub(this.m_vertices[e_],l),_e=e_+1<this.m_count?wy.sub(this.m_vertices[e_+1],l):wy.sub(this.m_vertices[0],l),c_=wy.cross(i_,_e),ws=.5*c_;_o+=ws,o.addCombine(ws*o_,i_,ws*o_,_e);var h_=i_.x,s_=i_.y,w_=_e.x,L_=_e.y,y_=h_*h_+w_*h_+w_*w_,I_=s_*s_+L_*s_+L_*L_;_r+=.25*o_*c_*(y_+I_)}x.mass=V*_o,MB&&GB.assert(_o>oP.EPSILON),o.mul(1/_o),x.center.setCombine(1,o,1,l),x.I=V*_r,x.I+=x.mass*(wy.dot(x.center,x.center)-wy.dot(o,o))};tA.prototype.validate=function(){for(var x=0;x<this.m_count;++x)for(var V=x,o=x<this.m_count-1?V+1:0,_o=this.m_vertices[V],_r=wy.sub(this.m_vertices[o],_o),l=0;l<this.m_count;++l)if(!(l==V||l==o)){var e_=wy.sub(this.m_vertices[l],_o),o_=wy.cross(_r,e_);if(o_<0)return!1}return!0};tA.prototype.computeDistanceProxy=function(x){x.m_vertices=this.m_vertices,x.m_count=this.m_count,x.m_radius=this.m_radius}});var bG=z0((sut,UR)=>{var mB=typeof ASSERT>"u"?!1:ASSERT;UR.exports=j1;var bB=_x(),out=aS(),iut=ky(),WR=H1(),rut=k1(),vV=Fy(),nut=iB(),c3=Y1(),NR=xC(),OR=DD();j1._super=NR;j1.prototype=Object.create(j1._super.prototype);j1.TYPE="chain";NR.TYPES[j1.TYPE]=j1;function j1(x,V){if(!(this instanceof j1))return new j1(x,V);j1._super.call(this),this.m_type=j1.TYPE,this.m_radius=c3.polygonRadius,this.m_vertices=[],this.m_count=0,this.m_prevVertex=null,this.m_nextVertex=null,this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_isLoop=V,x&&x.length&&(V?this._createLoop(x):this._createChain(x))}j1.prototype._serialize=function(){let x={type:this.m_type,vertices:this.m_vertices,isLoop:this.m_isLoop,hasPrevVertex:this.m_hasPrevVertex,hasNextVertex:this.m_hasNextVertex};return this.m_prevVertex&&(x.prevVertex=this.m_prevVertex),this.m_nextVertex&&(x.nextVertex=this.m_nextVertex),x};j1._deserialize=function(x,V,o){var _o=[];if(x.vertices)for(var _r=0;_r<x.vertices.length;_r++)_o.push(o(vV,x.vertices[_r]));var l=new j1(_o,x.isLoop);return x.prevVertex&&l.setPrevVertex(x.prevVertex),x.nextVertex&&l.setNextVertex(x.nextVertex),l};j1.prototype._createLoop=function(x){mB&&bB.assert(this.m_vertices.length==0&&this.m_count==0),mB&&bB.assert(x.length>=3);for(var V=1;V<x.length;++V){var o=x[V-1],_o=x[V];mB&&bB.assert(vV.distanceSquared(o,_o)>c3.linearSlopSquared)}this.m_vertices=[],this.m_count=x.length+1;for(var V=0;V<x.length;++V)this.m_vertices[V]=vV.clone(x[V]);return this.m_vertices[x.length]=vV.clone(x[0]),this.m_prevVertex=this.m_vertices[this.m_count-2],this.m_nextVertex=this.m_vertices[1],this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this};j1.prototype._createChain=function(x){mB&&bB.assert(this.m_vertices.length==0&&this.m_count==0),mB&&bB.assert(x.length>=2);for(var V=1;V<x.length;++V){var o=x[V-1],_o=x[V];mB&&bB.assert(vV.distanceSquared(o,_o)>c3.linearSlopSquared)}this.m_count=x.length;for(var V=0;V<x.length;++V)this.m_vertices[V]=vV.clone(x[V]);return this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_prevVertex=null,this.m_nextVertex=null,this};j1.prototype._reset=function(){this.m_isLoop?this._createLoop(this.m_vertices):this._createChain(this.m_vertices)};j1.prototype.setPrevVertex=function(x){this.m_prevVertex=x,this.m_hasPrevVertex=!0};j1.prototype.setNextVertex=function(x){this.m_nextVertex=x,this.m_hasNextVertex=!0};j1.prototype._clone=function(){var x=new j1;return x.createChain(this.m_vertices),x.m_type=this.m_type,x.m_radius=this.m_radius,x.m_prevVertex=this.m_prevVertex,x.m_nextVertex=this.m_nextVertex,x.m_hasPrevVertex=this.m_hasPrevVertex,x.m_hasNextVertex=this.m_hasNextVertex,x};j1.prototype.getChildCount=function(){return this.m_count-1};j1.prototype.getChildEdge=function(x,V){mB&&bB.assert(0<=V&&V<this.m_count-1),x.m_type=OR.TYPE,x.m_radius=this.m_radius,x.m_vertex1=this.m_vertices[V],x.m_vertex2=this.m_vertices[V+1],V>0?(x.m_vertex0=this.m_vertices[V-1],x.m_hasVertex0=!0):(x.m_vertex0=this.m_prevVertex,x.m_hasVertex0=this.m_hasPrevVertex),V<this.m_count-2?(x.m_vertex3=this.m_vertices[V+2],x.m_hasVertex3=!0):(x.m_vertex3=this.m_nextVertex,x.m_hasVertex3=this.m_hasNextVertex)};j1.prototype.getVertex=function(x){return mB&&bB.assert(0<=x&&x<=this.m_count),x<this.m_count?this.m_vertices[x]:this.m_vertices[0]};j1.prototype.testPoint=function(x,V){return!1};j1.prototype.rayCast=function(x,V,o,_o){mB&&bB.assert(0<=_o&&_o<this.m_count);var _r=new OR(this.getVertex(_o),this.getVertex(_o+1));return _r.rayCast(x,V,o,0)};j1.prototype.computeAABB=function(x,V,o){mB&&bB.assert(0<=o&&o<this.m_count);var _o=WR.mulVec2(V,this.getVertex(o)),_r=WR.mulVec2(V,this.getVertex(o+1));x.combinePoints(_o,_r)};j1.prototype.computeMass=function(x,V){x.mass=0,x.center=vV.neo(),x.I=0};j1.prototype.computeDistanceProxy=function(x,V){mB&&bB.assert(0<=V&&V<this.m_count),x.m_buffer[0]=this.getVertex(V),x.m_buffer[1]=this.getVertex(V+1),x.m_vertices=x.m_buffer,x.m_count=2,x.m_radius=this.m_radius}});var YR=z0((aut,XR)=>{XR.exports=MP;var _ut=_x(),Ylt=d4();MP._super=Ylt;MP.prototype=Object.create(MP._super.prototype);MP.TYPE="polygon";function MP(x,V,o,_o){if(!(this instanceof MP))return new MP(x,V,o,_o);MP._super.call(this),this._setAsBox(x,V,o,_o)}});var tF=z0($R=>{var HR=typeof ASSERT>"u"?!1:ASSERT,ZR=_x(),put=ky(),KR=H1(),Hlt=Fy(),lut=Y1(),cut=xC(),Zlt=$B(),m3=CP(),uG=VD();Zlt.addType(uG.TYPE,uG.TYPE,Klt);function Klt(x,V,o,_o,_r,l,e_){HR&&ZR.assert(o.getType()==uG.TYPE),HR&&ZR.assert(l.getType()==uG.TYPE),QR(x,o.getShape(),V,l.getShape(),_r)}function QR(x,V,o,_o,_r){x.pointCount=0;var l=KR.mulVec2(o,V.m_p),e_=KR.mulVec2(_r,_o.m_p),o_=Hlt.distanceSquared(e_,l),i_=V.m_radius,_e=_o.m_radius,c_=i_+_e;o_>c_*c_||(x.type=m3.e_circles,x.localPoint.set(V.m_p),x.localNormal.setZero(),x.pointCount=1,x.points[0].localPoint.set(_o.m_p),x.points[0].id.cf.indexA=0,x.points[0].id.cf.typeA=m3.e_vertex,x.points[0].id.cf.indexB=0,x.points[0].id.cf.typeB=m3.e_vertex)}$R.CollideCircles=QR});var nF=z0(()=>{var GD=typeof ASSERT>"u"?!1:ASSERT,JD=_x(),but=ky(),eF=H1(),vA=Fy(),uut=k1(),hut=Y1(),dut=xC(),oF=$B(),iP=CP(),b3=DD(),iF=bG(),hG=VD();oF.addType(b3.TYPE,hG.TYPE,Qlt);oF.addType(iF.TYPE,hG.TYPE,$lt);function Qlt(x,V,o,_o,_r,l,e_){GD&&JD.assert(o.getType()==b3.TYPE),GD&&JD.assert(l.getType()==hG.TYPE);var o_=o.getShape(),i_=l.getShape();rF(x,o_,V,i_,_r)}function $lt(x,V,o,_o,_r,l,e_){GD&&JD.assert(o.getType()==iF.TYPE),GD&&JD.assert(l.getType()==hG.TYPE);var o_=o.getShape(),i_=new b3;o_.getChildEdge(i_,_o);var _e=i_,c_=l.getShape();rF(x,_e,V,c_,_r)}function rF(x,V,o,_o,_r){x.pointCount=0;var l=eF.mulTVec2(o,eF.mulVec2(_r,_o.m_p)),e_=V.m_vertex1,o_=V.m_vertex2,i_=vA.sub(o_,e_),_e=vA.dot(i_,vA.sub(o_,l)),c_=vA.dot(i_,vA.sub(l,e_)),ws=V.m_radius+_o.m_radius;if(c_<=0){var p2=vA.clone(e_),u2=vA.sub(l,p2),T2=vA.dot(u2,u2);if(T2>ws*ws)return;if(V.m_hasVertex0){var h_=V.m_vertex0,s_=e_,w_=vA.sub(s_,h_),L_=vA.dot(w_,vA.sub(s_,l));if(L_>0)return}x.type=iP.e_circles,x.localNormal.setZero(),x.localPoint.set(p2),x.pointCount=1,x.points[0].localPoint.set(_o.m_p),x.points[0].id.cf.indexA=0,x.points[0].id.cf.typeA=iP.e_vertex,x.points[0].id.cf.indexB=0,x.points[0].id.cf.typeB=iP.e_vertex;return}if(_e<=0){var p2=vA.clone(o_),u2=vA.sub(l,p2),T2=vA.dot(u2,u2);if(T2>ws*ws)return;if(V.m_hasVertex3){var y_=V.m_vertex3,I_=o_,k_=vA.sub(y_,I_),j_=vA.dot(k_,vA.sub(l,I_));if(j_>0)return}x.type=iP.e_circles,x.localNormal.setZero(),x.localPoint.set(p2),x.pointCount=1,x.points[0].localPoint.set(_o.m_p),x.points[0].id.cf.indexA=1,x.points[0].id.cf.typeA=iP.e_vertex,x.points[0].id.cf.indexB=0,x.points[0].id.cf.typeB=iP.e_vertex;return}var n2=vA.dot(i_,i_);GD&&JD.assert(n2>0);var p2=vA.combine(_e/n2,e_,c_/n2,o_),u2=vA.sub(l,p2),T2=vA.dot(u2,u2);if(!(T2>ws*ws)){var I2=vA.neo(-i_.y,i_.x);vA.dot(I2,vA.sub(l,e_))<0&&I2.set(-I2.x,-I2.y),I2.normalize(),x.type=iP.e_faceA,x.localNormal=I2,x.localPoint.set(e_),x.pointCount=1,x.points[0].localPoint.set(_o.m_p),x.points[0].id.cf.indexA=0,x.points[0].id.cf.typeA=iP.e_face,x.points[0].id.cf.indexB=0,x.points[0].id.cf.typeB=iP.e_vertex}}});var aF=z0((Aut,_F)=>{var u3=typeof ASSERT>"u"?!1:ASSERT,h3=_x(),fut=ky(),AV=H1(),dG=k1(),jC=Fy(),gut=iB(),tct=Y1(),gC=CP(),ect=$B(),vut=xC(),yG=d4();_F.exports=sF;ect.addType(yG.TYPE,yG.TYPE,oct);function oct(x,V,o,_o,_r,l,e_){u3&&h3.assert(o.getType()==yG.TYPE),u3&&h3.assert(l.getType()==yG.TYPE),sF(x,o.getShape(),V,l.getShape(),_r)}function GP(x,V,o,_o){for(var _r=x.m_count,l=o.m_count,e_=x.m_normals,o_=x.m_vertices,i_=o.m_vertices,_e=AV.mulTXf(_o,V),c_=0,ws=-1/0,h_=0;h_<_r;++h_){for(var s_=dG.mulVec2(_e.q,e_[h_]),w_=AV.mulVec2(_e,o_[h_]),L_=1/0,y_=0;y_<l;++y_){var I_=jC.dot(s_,i_[y_])-jC.dot(s_,w_);I_<L_&&(L_=I_)}L_>ws&&(ws=L_,c_=h_)}GP._maxSeparation=ws,GP._bestIndex=c_}function ict(x,V,o,_o,_r,l){var e_=V.m_normals,o_=_r.m_count,i_=_r.m_vertices,_e=_r.m_normals;u3&&h3.assert(0<=_o&&_o<V.m_count);for(var c_=dG.mulT(l.q,dG.mulVec2(o.q,e_[_o])),ws=0,h_=1/0,s_=0;s_<o_;++s_){var w_=jC.dot(c_,_e[s_]);w_<h_&&(h_=w_,ws=s_)}var L_=ws,y_=L_+1<o_?L_+1:0;x[0].v=AV.mulVec2(l,i_[L_]),x[0].id.cf.indexA=_o,x[0].id.cf.indexB=L_,x[0].id.cf.typeA=gC.e_face,x[0].id.cf.typeB=gC.e_vertex,x[1].v=AV.mulVec2(l,i_[y_]),x[1].id.cf.indexA=_o,x[1].id.cf.indexB=y_,x[1].id.cf.typeA=gC.e_face,x[1].id.cf.typeB=gC.e_vertex}function sF(x,V,o,_o,_r){x.pointCount=0;var l=V.m_radius+_o.m_radius;GP(V,o,_o,_r);var e_=GP._bestIndex,o_=GP._maxSeparation;if(!(o_>l)){GP(_o,_r,V,o);var i_=GP._bestIndex,_e=GP._maxSeparation;if(!(_e>l)){var c_,ws,h_,s_,w_,L_,y_=.1*tct.linearSlop;_e>o_+y_?(c_=_o,ws=V,h_=_r,s_=o,w_=i_,x.type=gC.e_faceB,L_=1):(c_=V,ws=_o,h_=o,s_=_r,w_=e_,x.type=gC.e_faceA,L_=0);var I_=[new gC.clipVertex,new gC.clipVertex];ict(I_,c_,h_,w_,ws,s_);var k_=c_.m_count,j_=c_.m_vertices,n2=w_,p2=w_+1<k_?w_+1:0,u2=j_[n2],T2=j_[p2],I2=jC.sub(T2,u2);I2.normalize();var q2=jC.cross(I2,1),O2=jC.combine(.5,u2,.5,T2),X2=dG.mulVec2(h_.q,I2),S_=jC.cross(X2,1);u2=AV.mulVec2(h_,u2),T2=AV.mulVec2(h_,T2);var q_=jC.dot(S_,u2),N_=-jC.dot(X2,u2)+l,W_=jC.dot(X2,T2)+l,o2=[new gC.clipVertex,new gC.clipVertex],m2=[new gC.clipVertex,new gC.clipVertex],_2;if(_2=gC.clipSegmentToLine(o2,I_,jC.neg(X2),N_,n2),!(_2<2)&&(_2=gC.clipSegmentToLine(m2,o2,X2,W_,p2),!(_2<2))){x.localNormal=q2,x.localPoint=O2;for(var v_=0,G_=0;G_<m2.length;++G_){var K_=jC.dot(S_,m2[G_].v)-q_;if(K_<=l){var C_=x.points[v_];if(C_.localPoint.set(AV.mulTVec2(s_,m2[G_].v)),C_.id=m2[G_].id,L_){var z_=C_.id.cf,X_=z_.indexA,l2=z_.indexB,D2=z_.typeA,V2=z_.typeB;z_.indexA=l2,z_.indexB=X_,z_.typeA=V2,z_.typeB=D2}++v_}}x.pointCount=v_}}}}});var uF=z0(()=>{var pF=typeof ASSERT>"u"?!1:ASSERT,lF=_x(),rct=ky(),cF=H1(),Sut=k1(),MC=Fy(),Cut=iB(),But=Y1(),zC=CP(),nct=$B(),Put=xC(),mF=VD(),bF=d4();nct.addType(bF.TYPE,mF.TYPE,sct);function sct(x,V,o,_o,_r,l,e_){pF&&lF.assert(o.getType()==bF.TYPE),pF&&lF.assert(l.getType()==mF.TYPE),_ct(x,o.getShape(),V,l.getShape(),_r)}function _ct(x,V,o,_o,_r){x.pointCount=0;for(var l=cF.mulVec2(_r,_o.m_p),e_=cF.mulTVec2(o,l),o_=0,i_=-1/0,_e=V.m_radius+_o.m_radius,c_=V.m_count,ws=V.m_vertices,h_=V.m_normals,s_=0;s_<c_;++s_){var w_=MC.dot(h_[s_],MC.sub(e_,ws[s_]));if(w_>_e)return;w_>i_&&(i_=w_,o_=s_)}var L_=o_,y_=L_+1<c_?L_+1:0,I_=ws[L_],k_=ws[y_];if(i_<rct.EPSILON){x.pointCount=1,x.type=zC.e_faceA,x.localNormal.set(h_[o_]),x.localPoint.setCombine(.5,I_,.5,k_),x.points[0].localPoint=_o.m_p,x.points[0].id.cf.indexA=0,x.points[0].id.cf.typeA=zC.e_vertex,x.points[0].id.cf.indexB=0,x.points[0].id.cf.typeB=zC.e_vertex;return}var j_=MC.dot(MC.sub(e_,I_),MC.sub(k_,I_)),n2=MC.dot(MC.sub(e_,k_),MC.sub(I_,k_));if(j_<=0){if(MC.distanceSquared(e_,I_)>_e*_e)return;x.pointCount=1,x.type=zC.e_faceA,x.localNormal.setCombine(1,e_,-1,I_),x.localNormal.normalize(),x.localPoint=I_,x.points[0].localPoint.set(_o.m_p),x.points[0].id.cf.indexA=0,x.points[0].id.cf.typeA=zC.e_vertex,x.points[0].id.cf.indexB=0,x.points[0].id.cf.typeB=zC.e_vertex}else if(n2<=0){if(MC.distanceSquared(e_,k_)>_e*_e)return;x.pointCount=1,x.type=zC.e_faceA,x.localNormal.setCombine(1,e_,-1,k_),x.localNormal.normalize(),x.localPoint.set(k_),x.points[0].localPoint.set(_o.m_p),x.points[0].id.cf.indexA=0,x.points[0].id.cf.typeA=zC.e_vertex,x.points[0].id.cf.indexB=0,x.points[0].id.cf.typeB=zC.e_vertex}else{var p2=MC.mid(I_,k_),i_=MC.dot(e_,h_[L_])-MC.dot(p2,h_[L_]);if(i_>_e)return;x.pointCount=1,x.type=zC.e_faceA,x.localNormal.set(h_[L_]),x.localPoint.set(p2),x.points[0].localPoint.set(_o.m_p),x.points[0].id.cf.indexA=0,x.points[0].id.cf.typeA=zC.e_vertex,x.points[0].id.cf.indexB=0,x.points[0].id.cf.typeB=zC.e_vertex}}});var gF=z0(()=>{var vG=typeof ASSERT>"u"?!1:ASSERT,AG=_x(),act=ky(),xG=H1(),vy=Fy(),pct=k1(),y4=Y1(),Dut=xC(),dF=$B(),fS=CP(),d3=DD(),yF=bG(),SG=d4();dF.addType(d3.TYPE,SG.TYPE,lct);dF.addType(yF.TYPE,SG.TYPE,cct);function lct(x,V,o,_o,_r,l,e_){vG&&AG.assert(o.getType()==d3.TYPE),vG&&AG.assert(l.getType()==SG.TYPE),fF(x,o.getShape(),V,l.getShape(),_r)}function cct(x,V,o,_o,_r,l,e_){vG&&AG.assert(o.getType()==yF.TYPE),vG&&AG.assert(l.getType()==SG.TYPE);var o_=o.getShape(),i_=new d3;o_.getChildEdge(i_,_o),fF(x,i_,V,l.getShape(),_r)}var fG=-1,gG=1,hF=2;function xF(){this.type,this.index,this.separation}function mct(){this.vertices=[],this.normals=[],this.count=0}function bct(){this.i1,this.i2,this.v1,this.v2,this.normal=vy.zero(),this.sideNormal1=vy.zero(),this.sideOffset1,this.sideNormal2=vy.zero(),this.sideOffset2}var JB=new xF,aC=new xF,mS=new mct,gy=new bct;function fF(x,V,o,_o,_r){var l,e_,o_=xG.mulTXf(o,_r),i_=xG.mulVec2(o_,_o.m_centroid),_e=V.m_vertex0,c_=V.m_vertex1,ws=V.m_vertex2,h_=V.m_vertex3,s_=V.m_hasVertex0,w_=V.m_hasVertex3,L_=vy.sub(ws,c_);L_.normalize();var y_=vy.neo(L_.y,-L_.x),I_=vy.dot(y_,vy.sub(i_,c_)),k_=0,j_=0,n2=!1,p2=!1;if(s_){var u2=vy.sub(c_,_e);u2.normalize();var T2=vy.neo(u2.y,-u2.x);n2=vy.cross(u2,L_)>=0,k_=vy.dot(T2,i_)-vy.dot(T2,_e)}if(w_){var I2=vy.sub(h_,ws);I2.normalize();var q2=vy.neo(I2.y,-I2.x);p2=vy.cross(L_,I2)>0,j_=vy.dot(q2,i_)-vy.dot(q2,ws)}var O2,X2=vy.zero(),S_=vy.zero(),q_=vy.zero();s_&&w_?n2&&p2?(O2=k_>=0||I_>=0||j_>=0,O2?(X2.set(y_),S_.set(T2),q_.set(q2)):(X2.setMul(-1,y_),S_.setMul(-1,y_),q_.setMul(-1,y_))):n2?(O2=k_>=0||I_>=0&&j_>=0,O2?(X2.set(y_),S_.set(T2),q_.set(y_)):(X2.setMul(-1,y_),S_.setMul(-1,q2),q_.setMul(-1,y_))):p2?(O2=j_>=0||k_>=0&&I_>=0,O2?(X2.set(y_),S_.set(y_),q_.set(q2)):(X2.setMul(-1,y_),S_.setMul(-1,y_),q_.setMul(-1,T2))):(O2=k_>=0&&I_>=0&&j_>=0,O2?(X2.set(y_),S_.set(y_),q_.set(y_)):(X2.setMul(-1,y_),S_.setMul(-1,q2),q_.setMul(-1,T2))):s_?n2?(O2=k_>=0||I_>=0,O2?(X2.set(y_),S_.set(T2),q_.setMul(-1,y_)):(X2.setMul(-1,y_),S_.set(y_),q_.setMul(-1,y_))):(O2=k_>=0&&I_>=0,O2?(X2.set(y_),S_.set(y_),q_.setMul(-1,y_)):(X2.setMul(-1,y_),S_.set(y_),q_.setMul(-1,T2))):w_?p2?(O2=I_>=0||j_>=0,O2?(X2.set(y_),S_.setMul(-1,y_),q_.set(q2)):(X2.setMul(-1,y_),S_.setMul(-1,y_),q_.set(y_))):(O2=I_>=0&&j_>=0,O2?(X2.set(y_),S_.setMul(-1,y_),q_.set(y_)):(X2.setMul(-1,y_),S_.setMul(-1,q2),q_.set(y_))):(O2=I_>=0,O2?(X2.set(y_),S_.setMul(-1,y_),q_.setMul(-1,y_)):(X2.setMul(-1,y_),S_.set(y_),q_.set(y_))),mS.count=_o.m_count;for(var N_=0;N_<_o.m_count;++N_)mS.vertices[N_]=xG.mulVec2(o_,_o.m_vertices[N_]),mS.normals[N_]=pct.mulVec2(o_.q,_o.m_normals[N_]);var W_=2*y4.polygonRadius;x.pointCount=0;{JB.type=gG,JB.index=O2?0:1,JB.separation=1/0;for(var N_=0;N_<mS.count;++N_){var o2=vy.dot(X2,vy.sub(mS.vertices[N_],c_));o2<JB.separation&&(JB.separation=o2)}}if(JB.type!=fG&&!(JB.separation>W_)){{aC.type=fG,aC.index=-1,aC.separation=-1/0;for(var m2=vy.neo(-X2.y,X2.x),N_=0;N_<mS.count;++N_){var _2=vy.neg(mS.normals[N_]),v_=vy.dot(_2,vy.sub(mS.vertices[N_],c_)),G_=vy.dot(_2,vy.sub(mS.vertices[N_],ws)),o2=act.min(v_,G_);if(o2>W_){aC.type=hF,aC.index=N_,aC.separation=o2;break}if(vy.dot(_2,m2)>=0){if(vy.dot(vy.sub(_2,q_),X2)<-y4.angularSlop)continue}else if(vy.dot(vy.sub(_2,S_),X2)<-y4.angularSlop)continue;o2>aC.separation&&(aC.type=hF,aC.index=N_,aC.separation=o2)}}if(!(aC.type!=fG&&aC.separation>W_)){var K_=.98,C_=.001,z_;aC.type==fG?z_=JB:aC.separation>K_*JB.separation+C_?z_=aC:z_=JB;var X_=[new fS.clipVertex,new fS.clipVertex];if(z_.type==gG){x.type=fS.e_faceA;for(var l2=0,D2=vy.dot(X2,mS.normals[0]),N_=1;N_<mS.count;++N_){var V2=vy.dot(X2,mS.normals[N_]);V2<D2&&(D2=V2,l2=N_)}var L2=l2,B2=L2+1<mS.count?L2+1:0;X_[0].v=mS.vertices[L2],X_[0].id.cf.indexA=0,X_[0].id.cf.indexB=L2,X_[0].id.cf.typeA=fS.e_face,X_[0].id.cf.typeB=fS.e_vertex,X_[1].v=mS.vertices[B2],X_[1].id.cf.indexA=0,X_[1].id.cf.indexB=B2,X_[1].id.cf.typeA=fS.e_face,X_[1].id.cf.typeB=fS.e_vertex,O2?(gy.i1=0,gy.i2=1,gy.v1=c_,gy.v2=ws,gy.normal.set(y_)):(gy.i1=1,gy.i2=0,gy.v1=ws,gy.v2=c_,gy.normal.setMul(-1,y_))}else x.type=fS.e_faceB,X_[0].v=c_,X_[0].id.cf.indexA=0,X_[0].id.cf.indexB=z_.index,X_[0].id.cf.typeA=fS.e_vertex,X_[0].id.cf.typeB=fS.e_face,X_[1].v=ws,X_[1].id.cf.indexA=0,X_[1].id.cf.indexB=z_.index,X_[1].id.cf.typeA=fS.e_vertex,X_[1].id.cf.typeB=fS.e_face,gy.i1=z_.index,gy.i2=gy.i1+1<mS.count?gy.i1+1:0,gy.v1=mS.vertices[gy.i1],gy.v2=mS.vertices[gy.i2],gy.normal.set(mS.normals[gy.i1]);gy.sideNormal1.set(gy.normal.y,-gy.normal.x),gy.sideNormal2.setMul(-1,gy.sideNormal1),gy.sideOffset1=vy.dot(gy.sideNormal1,gy.v1),gy.sideOffset2=vy.dot(gy.sideNormal2,gy.v2);var J2=[new fS.clipVertex,new fS.clipVertex],U2=[new fS.clipVertex,new fS.clipVertex],pa;if(pa=fS.clipSegmentToLine(J2,X_,gy.sideNormal1,gy.sideOffset1,gy.i1),!(pa<y4.maxManifoldPoints)&&(pa=fS.clipSegmentToLine(U2,J2,gy.sideNormal2,gy.sideOffset2,gy.i2),!(pa<y4.maxManifoldPoints))){z_.type==gG?(x.localNormal=vy.clone(gy.normal),x.localPoint=vy.clone(gy.v1)):(x.localNormal=vy.clone(_o.m_normals[gy.i1]),x.localPoint=vy.clone(_o.m_vertices[gy.i1]));for(var h0=0,N_=0;N_<y4.maxManifoldPoints;++N_){var i0=vy.dot(gy.normal,vy.sub(U2[N_].v,gy.v1));if(i0<=W_){var S0=x.points[h0];z_.type==gG?(S0.localPoint=xG.mulT(o_,U2[N_].v),S0.id=U2[N_].id):(S0.localPoint=U2[N_].v,S0.id.cf.typeA=U2[N_].id.cf.typeB,S0.id.cf.typeB=U2[N_].id.cf.typeA,S0.id.cf.indexA=U2[N_].id.cf.indexB,S0.id.cf.indexB=U2[N_].id.cf.indexA),++h0}}x.pointCount=h0}}}}});var SF=z0((Eut,AF)=>{AF.exports=z1;var uct=aS(),CG=Y1(),BG=ky(),x1=Fy(),Jut=MS(),Iut=zS(),Tut=sC(),JP=k1(),Rut=ES(),Fut=H1(),Lut=rC(),qut=nC(),y3=WS(),vF=jS();z1.TYPE="distance-joint";y3.TYPES[z1.TYPE]=z1;z1._super=y3;z1.prototype=Object.create(z1._super.prototype);var hct={frequencyHz:0,dampingRatio:0};function z1(x,V,o,_o,_r){if(!(this instanceof z1))return new z1(x,V,o,_o,_r);if(o&&_o&&"m_type"in _o&&"x"in o&&"y"in o){var l=o;o=_o,_o=l}x=uct(x,hct),y3.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=z1.TYPE,this.m_localAnchorA=x1.clone(_o?V.getLocalPoint(_o):x.localAnchorA||x1.zero()),this.m_localAnchorB=x1.clone(_r?o.getLocalPoint(_r):x.localAnchorB||x1.zero()),this.m_length=BG.isFinite(x.length)?x.length:x1.distance(V.getWorldPoint(this.m_localAnchorA),o.getWorldPoint(this.m_localAnchorB)),this.m_frequencyHz=x.frequencyHz,this.m_dampingRatio=x.dampingRatio,this.m_impulse=0,this.m_gamma=0,this.m_bias=0,this.m_u,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_mass}z1.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,length:this.m_length,impulse:this.m_impulse,gamma:this.m_gamma,bias:this.m_bias}};z1._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(vF,x.bodyA,V),x.bodyB=o(vF,x.bodyB,V);var _o=new z1(x);return _o};z1.prototype._setAnchors=function(x){x.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(x.anchorA)):x.localAnchorA&&this.m_localAnchorA.set(x.localAnchorA),x.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(x.anchorB)):x.localAnchorB&&this.m_localAnchorB.set(x.localAnchorB),x.length>0?this.m_length=+x.length:x.length<0||(x.anchorA||x.anchorA||x.anchorA||x.anchorA)&&(this.m_length=x1.distance(this.m_bodyA.getWorldPoint(this.m_localAnchorA),this.m_bodyB.getWorldPoint(this.m_localAnchorB)))};z1.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};z1.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};z1.prototype.setLength=function(x){this.m_length=x};z1.prototype.getLength=function(){return this.m_length};z1.prototype.setFrequency=function(x){this.m_frequencyHz=x};z1.prototype.getFrequency=function(){return this.m_frequencyHz};z1.prototype.setDampingRatio=function(x){this.m_dampingRatio=x};z1.prototype.getDampingRatio=function(){return this.m_dampingRatio};z1.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};z1.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};z1.prototype.getReactionForce=function(x){return x1.mul(this.m_impulse,this.m_u).mul(x)};z1.prototype.getReactionTorque=function(x){return 0};z1.prototype.initVelocityConstraints=function(x){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyA.c_velocity.v,_r=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_position.c,e_=this.m_bodyB.c_position.a,o_=this.m_bodyB.c_velocity.v,i_=this.m_bodyB.c_velocity.w,_e=JP.neo(o),c_=JP.neo(e_);this.m_rA=JP.mulVec2(_e,x1.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=JP.mulVec2(c_,x1.sub(this.m_localAnchorB,this.m_localCenterB)),this.m_u=x1.sub(x1.add(l,this.m_rB),x1.add(V,this.m_rA));var ws=this.m_u.length();ws>CG.linearSlop?this.m_u.mul(1/ws):this.m_u.set(0,0);var h_=x1.cross(this.m_rA,this.m_u),s_=x1.cross(this.m_rB,this.m_u),w_=this.m_invMassA+this.m_invIA*h_*h_+this.m_invMassB+this.m_invIB*s_*s_;if(this.m_mass=w_!=0?1/w_:0,this.m_frequencyHz>0){var L_=ws-this.m_length,y_=2*BG.PI*this.m_frequencyHz,I_=2*this.m_mass*this.m_dampingRatio*y_,k_=this.m_mass*y_*y_,j_=x.dt;this.m_gamma=j_*(I_+j_*k_),this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0,this.m_bias=L_*j_*k_*this.m_gamma,w_+=this.m_gamma,this.m_mass=w_!=0?1/w_:0}else this.m_gamma=0,this.m_bias=0;if(x.warmStarting){this.m_impulse*=x.dtRatio;var n2=x1.mul(this.m_impulse,this.m_u);_o.subMul(this.m_invMassA,n2),_r-=this.m_invIA*x1.cross(this.m_rA,n2),o_.addMul(this.m_invMassB,n2),i_+=this.m_invIB*x1.cross(this.m_rB,n2)}else this.m_impulse=0;this.m_bodyA.c_velocity.v.set(_o),this.m_bodyA.c_velocity.w=_r,this.m_bodyB.c_velocity.v.set(o_),this.m_bodyB.c_velocity.w=i_};z1.prototype.solveVelocityConstraints=function(x){var V=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,_o=this.m_bodyB.c_velocity.v,_r=this.m_bodyB.c_velocity.w,l=x1.add(V,x1.cross(o,this.m_rA)),e_=x1.add(_o,x1.cross(_r,this.m_rB)),o_=x1.dot(this.m_u,e_)-x1.dot(this.m_u,l),i_=-this.m_mass*(o_+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=i_;var _e=x1.mul(i_,this.m_u);V.subMul(this.m_invMassA,_e),o-=this.m_invIA*x1.cross(this.m_rA,_e),_o.addMul(this.m_invMassB,_e),_r+=this.m_invIB*x1.cross(this.m_rB,_e),this.m_bodyA.c_velocity.v.set(V),this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v.set(_o),this.m_bodyB.c_velocity.w=_r};z1.prototype.solvePositionConstraints=function(x){if(this.m_frequencyHz>0)return!0;var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyB.c_position.c,_r=this.m_bodyB.c_position.a,l=JP.neo(o),e_=JP.neo(_r),o_=JP.mulSub(l,this.m_localAnchorA,this.m_localCenterA),i_=JP.mulSub(e_,this.m_localAnchorB,this.m_localCenterB),_e=x1.sub(x1.add(_o,i_),x1.add(V,o_)),c_=_e.normalize(),ws=c_-this.m_length;ws=BG.clamp(ws,-CG.maxLinearCorrection,CG.maxLinearCorrection);var h_=-this.m_mass*ws,s_=x1.mul(h_,_e);return V.subMul(this.m_invMassA,s_),o-=this.m_invIA*x1.cross(o_,s_),_o.addMul(this.m_invMassB,s_),_r+=this.m_invIB*x1.cross(i_,s_),this.m_bodyA.c_position.c.set(V),this.m_bodyA.c_position.a=o,this.m_bodyB.c_position.c.set(_o),this.m_bodyB.c_position.a=_r,BG.abs(ws)<CG.linearSlop}});var DF=z0((Xut,VF)=>{var BF=typeof ASSERT>"u"?!1:ASSERT;VF.exports=eA;var PF=_x(),dct=aS(),kut=Y1(),x3=ky(),oS=Fy(),jut=MS(),wF=zS(),zut=sC(),PG=k1(),Wut=ES(),Nut=H1(),Out=rC(),Uut=nC(),f3=WS(),CF=jS();eA.TYPE="friction-joint";f3.TYPES[eA.TYPE]=eA;eA._super=f3;eA.prototype=Object.create(eA._super.prototype);var yct={maxForce:0,maxTorque:0};function eA(x,V,o,_o){if(!(this instanceof eA))return new eA(x,V,o,_o);x=dct(x,yct),f3.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=eA.TYPE,this.m_localAnchorA=oS.clone(_o?V.getLocalPoint(_o):x.localAnchorA||oS.zero()),this.m_localAnchorB=oS.clone(_o?o.getLocalPoint(_o):x.localAnchorB||oS.zero()),this.m_linearImpulse=oS.zero(),this.m_angularImpulse=0,this.m_maxForce=x.maxForce,this.m_maxTorque=x.maxTorque,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_linearMass,this.m_angularMass}eA.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,maxForce:this.m_maxForce,maxTorque:this.m_maxTorque,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB}};eA._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(CF,x.bodyA,V),x.bodyB=o(CF,x.bodyB,V);var _o=new eA(x);return _o};eA.prototype._setAnchors=function(x){x.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(x.anchorA)):x.localAnchorA&&this.m_localAnchorA.set(x.localAnchorA),x.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(x.anchorB)):x.localAnchorB&&this.m_localAnchorB.set(x.localAnchorB)};eA.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};eA.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};eA.prototype.setMaxForce=function(x){BF&&PF.assert(x3.isFinite(x)&&x>=0),this.m_maxForce=x};eA.prototype.getMaxForce=function(){return this.m_maxForce};eA.prototype.setMaxTorque=function(x){BF&&PF.assert(x3.isFinite(x)&&x>=0),this.m_maxTorque=x};eA.prototype.getMaxTorque=function(){return this.m_maxTorque};eA.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};eA.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};eA.prototype.getReactionForce=function(x){return oS.mul(x,this.m_linearImpulse)};eA.prototype.getReactionTorque=function(x){return x*this.m_angularImpulse};eA.prototype.initVelocityConstraints=function(x){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_bodyA.c_position.a,o=this.m_bodyA.c_velocity.v,_o=this.m_bodyA.c_velocity.w,_r=this.m_bodyB.c_position.a,l=this.m_bodyB.c_velocity.v,e_=this.m_bodyB.c_velocity.w,o_=PG.neo(V),i_=PG.neo(_r);this.m_rA=PG.mulVec2(o_,oS.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=PG.mulVec2(i_,oS.sub(this.m_localAnchorB,this.m_localCenterB));var _e=this.m_invMassA,c_=this.m_invMassB,ws=this.m_invIA,h_=this.m_invIB,s_=new wF;if(s_.ex.x=_e+c_+ws*this.m_rA.y*this.m_rA.y+h_*this.m_rB.y*this.m_rB.y,s_.ex.y=-ws*this.m_rA.x*this.m_rA.y-h_*this.m_rB.x*this.m_rB.y,s_.ey.x=s_.ex.y,s_.ey.y=_e+c_+ws*this.m_rA.x*this.m_rA.x+h_*this.m_rB.x*this.m_rB.x,this.m_linearMass=s_.getInverse(),this.m_angularMass=ws+h_,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),x.warmStarting){this.m_linearImpulse.mul(x.dtRatio),this.m_angularImpulse*=x.dtRatio;var w_=oS.neo(this.m_linearImpulse.x,this.m_linearImpulse.y);o.subMul(_e,w_),_o-=ws*(oS.cross(this.m_rA,w_)+this.m_angularImpulse),l.addMul(c_,w_),e_+=h_*(oS.cross(this.m_rB,w_)+this.m_angularImpulse)}else this.m_linearImpulse.setZero(),this.m_angularImpulse=0;this.m_bodyA.c_velocity.v=o,this.m_bodyA.c_velocity.w=_o,this.m_bodyB.c_velocity.v=l,this.m_bodyB.c_velocity.w=e_};eA.prototype.solveVelocityConstraints=function(x){var V=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,_o=this.m_bodyB.c_velocity.v,_r=this.m_bodyB.c_velocity.w,l=this.m_invMassA,e_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB,_e=x.dt;{var c_=_r-o,ws=-this.m_angularMass*c_,h_=this.m_angularImpulse,s_=_e*this.m_maxTorque;this.m_angularImpulse=x3.clamp(this.m_angularImpulse+ws,-s_,s_),ws=this.m_angularImpulse-h_,o-=o_*ws,_r+=i_*ws}{var c_=oS.sub(oS.add(_o,oS.cross(_r,this.m_rB)),oS.add(V,oS.cross(o,this.m_rA))),ws=oS.neg(wF.mulVec2(this.m_linearMass,c_)),h_=this.m_linearImpulse;this.m_linearImpulse.add(ws);var s_=_e*this.m_maxForce;this.m_linearImpulse.lengthSquared()>s_*s_&&(this.m_linearImpulse.normalize(),this.m_linearImpulse.mul(s_)),ws=oS.sub(this.m_linearImpulse,h_),V.subMul(l,ws),o-=o_*oS.cross(this.m_rA,ws),_o.addMul(e_,ws),_r+=i_*oS.cross(this.m_rB,ws)}this.m_bodyA.c_velocity.v=V,this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v=_o,this.m_bodyB.c_velocity.w=_r};eA.prototype.solvePositionConstraints=function(x){return!0}});var A3=z0((Qut,GF)=>{var xct=typeof ASSERT>"u"?!1:ASSERT;GF.exports=Uy;var fct=_x(),gct=aS(),rP=Y1(),SV=ky(),f1=Fy(),g3=MS(),vct=zS(),Act=sC(),IP=k1(),Yut=ES(),Hut=H1(),Zut=rC(),Kut=nC(),v3=WS(),MF=jS(),ID=0,wG=1,VG=2,DG=3;Uy.TYPE="revolute-joint";v3.TYPES[Uy.TYPE]=Uy;Uy._super=v3;Uy.prototype=Object.create(Uy._super.prototype);var Sct={lowerAngle:0,upperAngle:0,maxMotorTorque:0,motorSpeed:0,enableLimit:!1,enableMotor:!1};function Uy(x,V,o,_o){if(!(this instanceof Uy))return new Uy(x,V,o,_o);x=gct(x,Sct),v3.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=Uy.TYPE,this.m_localAnchorA=f1.clone(_o?V.getLocalPoint(_o):x.localAnchorA||f1.zero()),this.m_localAnchorB=f1.clone(_o?o.getLocalPoint(_o):x.localAnchorB||f1.zero()),this.m_referenceAngle=SV.isFinite(x.referenceAngle)?x.referenceAngle:o.getAngle()-V.getAngle(),this.m_impulse=g3(),this.m_motorImpulse=0,this.m_lowerAngle=x.lowerAngle,this.m_upperAngle=x.upperAngle,this.m_maxMotorTorque=x.maxMotorTorque,this.m_motorSpeed=x.motorSpeed,this.m_enableLimit=x.enableLimit,this.m_enableMotor=x.enableMotor,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_mass=new Act,this.m_motorMass,this.m_limitState=ID}Uy.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,lowerAngle:this.m_lowerAngle,upperAngle:this.m_upperAngle,maxMotorTorque:this.m_maxMotorTorque,motorSpeed:this.m_motorSpeed,enableLimit:this.m_enableLimit,enableMotor:this.m_enableMotor,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,referenceAngle:this.m_referenceAngle}};Uy._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(MF,x.bodyA,V),x.bodyB=o(MF,x.bodyB,V);var _o=new Uy(x);return _o};Uy.prototype._setAnchors=function(x){x.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(x.anchorA)):x.localAnchorA&&this.m_localAnchorA.set(x.localAnchorA),x.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(x.anchorB)):x.localAnchorB&&this.m_localAnchorB.set(x.localAnchorB)};Uy.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};Uy.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};Uy.prototype.getReferenceAngle=function(){return this.m_referenceAngle};Uy.prototype.getJointAngle=function(){var x=this.m_bodyA,V=this.m_bodyB;return V.m_sweep.a-x.m_sweep.a-this.m_referenceAngle};Uy.prototype.getJointSpeed=function(){var x=this.m_bodyA,V=this.m_bodyB;return V.m_angularVelocity-x.m_angularVelocity};Uy.prototype.isMotorEnabled=function(){return this.m_enableMotor};Uy.prototype.enableMotor=function(x){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=x};Uy.prototype.getMotorTorque=function(x){return x*this.m_motorImpulse};Uy.prototype.setMotorSpeed=function(x){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=x};Uy.prototype.getMotorSpeed=function(){return this.m_motorSpeed};Uy.prototype.setMaxMotorTorque=function(x){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorTorque=x};Uy.prototype.getMaxMotorTorque=function(){return this.m_maxMotorTorque};Uy.prototype.isLimitEnabled=function(){return this.m_enableLimit};Uy.prototype.enableLimit=function(x){x!=this.m_enableLimit&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=x,this.m_impulse.z=0)};Uy.prototype.getLowerLimit=function(){return this.m_lowerAngle};Uy.prototype.getUpperLimit=function(){return this.m_upperAngle};Uy.prototype.setLimits=function(x,V){xct&&fct.assert(x<=V),(x!=this.m_lowerAngle||V!=this.m_upperAngle)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=x,this.m_upperAngle=V)};Uy.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};Uy.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};Uy.prototype.getReactionForce=function(x){return f1.neo(this.m_impulse.x,this.m_impulse.y).mul(x)};Uy.prototype.getReactionTorque=function(x){return x*this.m_impulse.z};Uy.prototype.initVelocityConstraints=function(x){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_bodyA.c_position.a,o=this.m_bodyA.c_velocity.v,_o=this.m_bodyA.c_velocity.w,_r=this.m_bodyB.c_position.a,l=this.m_bodyB.c_velocity.v,e_=this.m_bodyB.c_velocity.w,o_=IP.neo(V),i_=IP.neo(_r);this.m_rA=IP.mulVec2(o_,f1.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=IP.mulVec2(i_,f1.sub(this.m_localAnchorB,this.m_localCenterB));var _e=this.m_invMassA,c_=this.m_invMassB,ws=this.m_invIA,h_=this.m_invIB,s_=ws+h_===0;if(this.m_mass.ex.x=_e+c_+this.m_rA.y*this.m_rA.y*ws+this.m_rB.y*this.m_rB.y*h_,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*ws-this.m_rB.y*this.m_rB.x*h_,this.m_mass.ez.x=-this.m_rA.y*ws-this.m_rB.y*h_,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=_e+c_+this.m_rA.x*this.m_rA.x*ws+this.m_rB.x*this.m_rB.x*h_,this.m_mass.ez.y=this.m_rA.x*ws+this.m_rB.x*h_,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=ws+h_,this.m_motorMass=ws+h_,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),(this.m_enableMotor==!1||s_)&&(this.m_motorImpulse=0),this.m_enableLimit&&s_==!1){var w_=_r-V-this.m_referenceAngle;SV.abs(this.m_upperAngle-this.m_lowerAngle)<2*rP.angularSlop?this.m_limitState=DG:w_<=this.m_lowerAngle?(this.m_limitState!=wG&&(this.m_impulse.z=0),this.m_limitState=wG):w_>=this.m_upperAngle?(this.m_limitState!=VG&&(this.m_impulse.z=0),this.m_limitState=VG):(this.m_limitState=ID,this.m_impulse.z=0)}else this.m_limitState=ID;if(x.warmStarting){this.m_impulse.mul(x.dtRatio),this.m_motorImpulse*=x.dtRatio;var L_=f1.neo(this.m_impulse.x,this.m_impulse.y);o.subMul(_e,L_),_o-=ws*(f1.cross(this.m_rA,L_)+this.m_motorImpulse+this.m_impulse.z),l.addMul(c_,L_),e_+=h_*(f1.cross(this.m_rB,L_)+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.setZero(),this.m_motorImpulse=0;this.m_bodyA.c_velocity.v=o,this.m_bodyA.c_velocity.w=_o,this.m_bodyB.c_velocity.v=l,this.m_bodyB.c_velocity.w=e_};Uy.prototype.solveVelocityConstraints=function(x){var V=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,_o=this.m_bodyB.c_velocity.v,_r=this.m_bodyB.c_velocity.w,l=this.m_invMassA,e_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB,_e=o_+i_===0;if(this.m_enableMotor&&this.m_limitState!=DG&&_e==!1){var c_=_r-o-this.m_motorSpeed,ws=-this.m_motorMass*c_,h_=this.m_motorImpulse,s_=x.dt*this.m_maxMotorTorque;this.m_motorImpulse=SV.clamp(this.m_motorImpulse+ws,-s_,s_),ws=this.m_motorImpulse-h_,o-=o_*ws,_r+=i_*ws}if(this.m_enableLimit&&this.m_limitState!=ID&&_e==!1){var w_=f1.zero();w_.addCombine(1,_o,1,f1.cross(_r,this.m_rB)),w_.subCombine(1,V,1,f1.cross(o,this.m_rA));var L_=_r-o,c_=g3(w_.x,w_.y,L_),ws=g3.neg(this.m_mass.solve33(c_));if(this.m_limitState==DG)this.m_impulse.add(ws);else if(this.m_limitState==wG){var y_=this.m_impulse.z+ws.z;if(y_<0){var I_=f1.combine(-1,w_,this.m_impulse.z,f1.neo(this.m_mass.ez.x,this.m_mass.ez.y)),k_=this.m_mass.solve22(I_);ws.x=k_.x,ws.y=k_.y,ws.z=-this.m_impulse.z,this.m_impulse.x+=k_.x,this.m_impulse.y+=k_.y,this.m_impulse.z=0}else this.m_impulse.add(ws)}else if(this.m_limitState==VG){var y_=this.m_impulse.z+ws.z;if(y_>0){var I_=f1.combine(-1,w_,this.m_impulse.z,f1.neo(this.m_mass.ez.x,this.m_mass.ez.y)),k_=this.m_mass.solve22(I_);ws.x=k_.x,ws.y=k_.y,ws.z=-this.m_impulse.z,this.m_impulse.x+=k_.x,this.m_impulse.y+=k_.y,this.m_impulse.z=0}else this.m_impulse.add(ws)}var j_=f1.neo(ws.x,ws.y);V.subMul(l,j_),o-=o_*(f1.cross(this.m_rA,j_)+ws.z),_o.addMul(e_,j_),_r+=i_*(f1.cross(this.m_rB,j_)+ws.z)}else{var c_=f1.zero();c_.addCombine(1,_o,1,f1.cross(_r,this.m_rB)),c_.subCombine(1,V,1,f1.cross(o,this.m_rA));var ws=this.m_mass.solve22(f1.neg(c_));this.m_impulse.x+=ws.x,this.m_impulse.y+=ws.y,V.subMul(l,ws),o-=o_*f1.cross(this.m_rA,ws),_o.addMul(e_,ws),_r+=i_*f1.cross(this.m_rB,ws)}this.m_bodyA.c_velocity.v=V,this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v=_o,this.m_bodyB.c_velocity.w=_r};Uy.prototype.solvePositionConstraints=function(x){var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyB.c_position.c,_r=this.m_bodyB.c_position.a,l=IP.neo(o),e_=IP.neo(_r),o_=0,i_=0,_e=this.m_invIA+this.m_invIB==0;if(this.m_enableLimit&&this.m_limitState!=ID&&_e==!1){var c_=_r-o-this.m_referenceAngle,ws=0;if(this.m_limitState==DG){var h_=SV.clamp(c_-this.m_lowerAngle,-rP.maxAngularCorrection,rP.maxAngularCorrection);ws=-this.m_motorMass*h_,o_=SV.abs(h_)}else if(this.m_limitState==wG){var h_=c_-this.m_lowerAngle;o_=-h_,h_=SV.clamp(h_+rP.angularSlop,-rP.maxAngularCorrection,0),ws=-this.m_motorMass*h_}else if(this.m_limitState==VG){var h_=c_-this.m_upperAngle;o_=h_,h_=SV.clamp(h_-rP.angularSlop,0,rP.maxAngularCorrection),ws=-this.m_motorMass*h_}o-=this.m_invIA*ws,_r+=this.m_invIB*ws}{l.set(o),e_.set(_r);var s_=IP.mulVec2(l,f1.sub(this.m_localAnchorA,this.m_localCenterA)),w_=IP.mulVec2(e_,f1.sub(this.m_localAnchorB,this.m_localCenterB)),h_=f1.zero();h_.addCombine(1,_o,1,w_),h_.subCombine(1,V,1,s_),i_=h_.length();var L_=this.m_invMassA,y_=this.m_invMassB,I_=this.m_invIA,k_=this.m_invIB,j_=new vct;j_.ex.x=L_+y_+I_*s_.y*s_.y+k_*w_.y*w_.y,j_.ex.y=-I_*s_.x*s_.y-k_*w_.x*w_.y,j_.ey.x=j_.ex.y,j_.ey.y=L_+y_+I_*s_.x*s_.x+k_*w_.x*w_.x;var n2=f1.neg(j_.solve(h_));V.subMul(L_,n2),o-=I_*f1.cross(s_,n2),_o.addMul(y_,n2),_r+=k_*f1.cross(w_,n2)}return this.m_bodyA.c_position.c.set(V),this.m_bodyA.c_position.a=o,this.m_bodyB.c_position.c.set(_o),this.m_bodyB.c_position.a=_r,i_<=rP.linearSlop&&o_<=rP.angularSlop}});var P3=z0((iht,RF)=>{var Cct=typeof ASSERT>"u"?!1:ASSERT;RF.exports=jy;var Bct=_x(),Pct=aS(),TD=Y1(),pC=ky(),M0=Fy(),TP=MS(),wct=zS(),IF=sC(),lC=k1(),$ut=ES(),tht=H1(),eht=rC(),oht=nC(),B3=WS(),JF=jS(),MG=0,S3=1,C3=2,TF=3;jy.TYPE="prismatic-joint";B3.TYPES[jy.TYPE]=jy;jy._super=B3;jy.prototype=Object.create(jy._super.prototype);var Vct={enableLimit:!1,lowerTranslation:0,upperTranslation:0,enableMotor:!1,maxMotorForce:0,motorSpeed:0};function jy(x,V,o,_o,_r){if(!(this instanceof jy))return new jy(x,V,o,_o,_r);x=Pct(x,Vct),B3.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=jy.TYPE,this.m_localAnchorA=M0.clone(_o?V.getLocalPoint(_o):x.localAnchorA||M0.zero()),this.m_localAnchorB=M0.clone(_o?o.getLocalPoint(_o):x.localAnchorB||M0.zero()),this.m_localXAxisA=M0.clone(_r?V.getLocalVector(_r):x.localAxisA||M0.neo(1,0)),this.m_localXAxisA.normalize(),this.m_localYAxisA=M0.cross(1,this.m_localXAxisA),this.m_referenceAngle=pC.isFinite(x.referenceAngle)?x.referenceAngle:o.getAngle()-V.getAngle(),this.m_impulse=TP(),this.m_motorMass=0,this.m_motorImpulse=0,this.m_lowerTranslation=x.lowerTranslation,this.m_upperTranslation=x.upperTranslation,this.m_maxMotorForce=x.maxMotorForce,this.m_motorSpeed=x.motorSpeed,this.m_enableLimit=x.enableLimit,this.m_enableMotor=x.enableMotor,this.m_limitState=MG,this.m_axis=M0.zero(),this.m_perp=M0.zero(),this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_axis,this.m_perp,this.m_s1,this.m_s2,this.m_a1,this.m_a2,this.m_K=new IF,this.m_motorMass}jy.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,lowerTranslation:this.m_lowerTranslation,upperTranslation:this.m_upperTranslation,maxMotorForce:this.m_maxMotorForce,motorSpeed:this.m_motorSpeed,enableLimit:this.m_enableLimit,enableMotor:this.m_enableMotor,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,localAxisA:this.m_localXAxisA,referenceAngle:this.m_referenceAngle}};jy._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(JF,x.bodyA,V),x.bodyB=o(JF,x.bodyB,V),x.localAxisA=M0(x.localAxisA);var _o=new jy(x);return _o};jy.prototype._setAnchors=function(x){x.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(x.anchorA)):x.localAnchorA&&this.m_localAnchorA.set(x.localAnchorA),x.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(x.anchorB)):x.localAnchorB&&this.m_localAnchorB.set(x.localAnchorB),x.localAxisA&&(this.m_localXAxisA.set(x.localAxisA),this.m_localYAxisA.set(M0.cross(1,x.localAxisA)))};jy.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};jy.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};jy.prototype.getLocalAxisA=function(){return this.m_localXAxisA};jy.prototype.getReferenceAngle=function(){return this.m_referenceAngle};jy.prototype.getJointTranslation=function(){var x=this.m_bodyA.getWorldPoint(this.m_localAnchorA),V=this.m_bodyB.getWorldPoint(this.m_localAnchorB),o=M0.sub(V,x),_o=this.m_bodyA.getWorldVector(this.m_localXAxisA),_r=M0.dot(o,_o);return _r};jy.prototype.getJointSpeed=function(){var x=this.m_bodyA,V=this.m_bodyB,o=lC.mulVec2(x.m_xf.q,M0.sub(this.m_localAnchorA,x.m_sweep.localCenter)),_o=lC.mulVec2(V.m_xf.q,M0.sub(this.m_localAnchorB,V.m_sweep.localCenter)),_r=M0.add(x.m_sweep.c,o),l=M0.add(V.m_sweep.c,_o),e_=M0.sub(l,_r),o_=lC.mulVec2(x.m_xf.q,this.m_localXAxisA),i_=x.m_linearVelocity,_e=V.m_linearVelocity,c_=x.m_angularVelocity,ws=V.m_angularVelocity,h_=M0.dot(e_,M0.cross(c_,o_))+M0.dot(o_,M0.sub(M0.addCross(_e,ws,_o),M0.addCross(i_,c_,o)));return h_};jy.prototype.isLimitEnabled=function(){return this.m_enableLimit};jy.prototype.enableLimit=function(x){x!=this.m_enableLimit&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=x,this.m_impulse.z=0)};jy.prototype.getLowerLimit=function(){return this.m_lowerTranslation};jy.prototype.getUpperLimit=function(){return this.m_upperTranslation};jy.prototype.setLimits=function(x,V){Cct&&Bct.assert(x<=V),(x!=this.m_lowerTranslation||V!=this.m_upperTranslation)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_lowerTranslation=x,this.m_upperTranslation=V,this.m_impulse.z=0)};jy.prototype.isMotorEnabled=function(){return this.m_enableMotor};jy.prototype.enableMotor=function(x){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=x};jy.prototype.setMotorSpeed=function(x){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=x};jy.prototype.setMaxMotorForce=function(x){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorForce=x};jy.prototype.getMaxMotorForce=function(){return this.m_maxMotorForce};jy.prototype.getMotorSpeed=function(){return this.m_motorSpeed};jy.prototype.getMotorForce=function(x){return x*this.m_motorImpulse};jy.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};jy.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};jy.prototype.getReactionForce=function(x){return M0.combine(this.m_impulse.x,this.m_perp,this.m_motorImpulse+this.m_impulse.z,this.m_axis).mul(x)};jy.prototype.getReactionTorque=function(x){return x*this.m_impulse.y};jy.prototype.initVelocityConstraints=function(x){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyA.c_velocity.v,_r=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_position.c,e_=this.m_bodyB.c_position.a,o_=this.m_bodyB.c_velocity.v,i_=this.m_bodyB.c_velocity.w,_e=lC.neo(o),c_=lC.neo(e_),ws=lC.mulVec2(_e,M0.sub(this.m_localAnchorA,this.m_localCenterA)),h_=lC.mulVec2(c_,M0.sub(this.m_localAnchorB,this.m_localCenterB)),s_=M0.zero();s_.addCombine(1,l,1,h_),s_.subCombine(1,V,1,ws);var w_=this.m_invMassA,L_=this.m_invMassB,y_=this.m_invIA,I_=this.m_invIB;this.m_axis=lC.mulVec2(_e,this.m_localXAxisA),this.m_a1=M0.cross(M0.add(s_,ws),this.m_axis),this.m_a2=M0.cross(h_,this.m_axis),this.m_motorMass=w_+L_+y_*this.m_a1*this.m_a1+I_*this.m_a2*this.m_a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass);{this.m_perp=lC.mulVec2(_e,this.m_localYAxisA),this.m_s1=M0.cross(M0.add(s_,ws),this.m_perp),this.m_s2=M0.cross(h_,this.m_perp);var k_=M0.cross(ws,this.m_perp),j_=w_+L_+y_*this.m_s1*this.m_s1+I_*this.m_s2*this.m_s2,n2=y_*this.m_s1+I_*this.m_s2,p2=y_*this.m_s1*this.m_a1+I_*this.m_s2*this.m_a2,u2=y_+I_;u2==0&&(u2=1);var T2=y_*this.m_a1+I_*this.m_a2,I2=w_+L_+y_*this.m_a1*this.m_a1+I_*this.m_a2*this.m_a2;this.m_K.ex.set(j_,n2,p2),this.m_K.ey.set(n2,u2,T2),this.m_K.ez.set(p2,T2,I2)}if(this.m_enableLimit){var q2=M0.dot(this.m_axis,s_);pC.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*TD.linearSlop?this.m_limitState=TF:q2<=this.m_lowerTranslation?this.m_limitState!=S3&&(this.m_limitState=S3,this.m_impulse.z=0):q2>=this.m_upperTranslation?this.m_limitState!=C3&&(this.m_limitState=C3,this.m_impulse.z=0):(this.m_limitState=MG,this.m_impulse.z=0)}else this.m_limitState=MG,this.m_impulse.z=0;if(this.m_enableMotor==!1&&(this.m_motorImpulse=0),x.warmStarting){this.m_impulse.mul(x.dtRatio),this.m_motorImpulse*=x.dtRatio;var O2=M0.combine(this.m_impulse.x,this.m_perp,this.m_motorImpulse+this.m_impulse.z,this.m_axis),X2=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,S_=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;_o.subMul(w_,O2),_r-=y_*X2,o_.addMul(L_,O2),i_+=I_*S_}else this.m_impulse.setZero(),this.m_motorImpulse=0;this.m_bodyA.c_velocity.v.set(_o),this.m_bodyA.c_velocity.w=_r,this.m_bodyB.c_velocity.v.set(o_),this.m_bodyB.c_velocity.w=i_};jy.prototype.solveVelocityConstraints=function(x){var V=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,_o=this.m_bodyB.c_velocity.v,_r=this.m_bodyB.c_velocity.w,l=this.m_invMassA,e_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB;if(this.m_enableMotor&&this.m_limitState!=TF){var _e=M0.dot(this.m_axis,M0.sub(_o,V))+this.m_a2*_r-this.m_a1*o,c_=this.m_motorMass*(this.m_motorSpeed-_e),ws=this.m_motorImpulse,h_=x.dt*this.m_maxMotorForce;this.m_motorImpulse=pC.clamp(this.m_motorImpulse+c_,-h_,h_),c_=this.m_motorImpulse-ws;var s_=M0.mul(c_,this.m_axis),w_=c_*this.m_a1,L_=c_*this.m_a2;V.subMul(l,s_),o-=o_*w_,_o.addMul(e_,s_),_r+=i_*L_}var y_=M0.zero();if(y_.x+=M0.dot(this.m_perp,_o)+this.m_s2*_r,y_.x-=M0.dot(this.m_perp,V)+this.m_s1*o,y_.y=_r-o,this.m_enableLimit&&this.m_limitState!=MG){var I_=0;I_+=M0.dot(this.m_axis,_o)+this.m_a2*_r,I_-=M0.dot(this.m_axis,V)+this.m_a1*o;var _e=TP(y_.x,y_.y,I_),k_=TP(this.m_impulse),j_=this.m_K.solve33(TP.neg(_e));this.m_impulse.add(j_),this.m_limitState==S3?this.m_impulse.z=pC.max(this.m_impulse.z,0):this.m_limitState==C3&&(this.m_impulse.z=pC.min(this.m_impulse.z,0));var n2=M0.combine(-1,y_,-(this.m_impulse.z-k_.z),M0.neo(this.m_K.ez.x,this.m_K.ez.y)),p2=M0.add(this.m_K.solve22(n2),M0.neo(k_.x,k_.y));this.m_impulse.x=p2.x,this.m_impulse.y=p2.y,j_=TP.sub(this.m_impulse,k_);var s_=M0.combine(j_.x,this.m_perp,j_.z,this.m_axis),w_=j_.x*this.m_s1+j_.y+j_.z*this.m_a1,L_=j_.x*this.m_s2+j_.y+j_.z*this.m_a2;V.subMul(l,s_),o-=o_*w_,_o.addMul(e_,s_),_r+=i_*L_}else{var j_=this.m_K.solve22(M0.neg(y_));this.m_impulse.x+=j_.x,this.m_impulse.y+=j_.y;var s_=M0.mul(j_.x,this.m_perp),w_=j_.x*this.m_s1+j_.y,L_=j_.x*this.m_s2+j_.y;V.subMul(l,s_),o-=o_*w_,_o.addMul(e_,s_),_r+=i_*L_}this.m_bodyA.c_velocity.v=V,this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v=_o,this.m_bodyB.c_velocity.w=_r};jy.prototype.solvePositionConstraints=function(x){var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyB.c_position.c,_r=this.m_bodyB.c_position.a,l=lC.neo(o),e_=lC.neo(_r),o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB,ws=lC.mulVec2(l,M0.sub(this.m_localAnchorA,this.m_localCenterA)),h_=lC.mulVec2(e_,M0.sub(this.m_localAnchorB,this.m_localCenterB)),s_=M0.sub(M0.add(_o,h_),M0.add(V,ws)),w_=lC.mulVec2(l,this.m_localXAxisA),L_=M0.cross(M0.add(s_,ws),w_),y_=M0.cross(h_,w_),I_=lC.mulVec2(l,this.m_localYAxisA),k_=M0.cross(M0.add(s_,ws),I_),j_=M0.cross(h_,I_),n2=TP(),p2=M0.zero();p2.x=M0.dot(I_,s_),p2.y=_r-o-this.m_referenceAngle;var u2=pC.abs(p2.x),T2=pC.abs(p2.y),I2=TD.linearSlop,q2=TD.maxLinearCorrection,O2=!1,X2=0;if(this.m_enableLimit){var S_=M0.dot(w_,s_);pC.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*I2?(X2=pC.clamp(S_,-q2,q2),u2=pC.max(u2,pC.abs(S_)),O2=!0):S_<=this.m_lowerTranslation?(X2=pC.clamp(S_-this.m_lowerTranslation+I2,-q2,0),u2=pC.max(u2,this.m_lowerTranslation-S_),O2=!0):S_>=this.m_upperTranslation&&(X2=pC.clamp(S_-this.m_upperTranslation-I2,0,q2),u2=pC.max(u2,S_-this.m_upperTranslation),O2=!0)}if(O2){var q_=o_+i_+_e*k_*k_+c_*j_*j_,N_=_e*k_+c_*j_,W_=_e*k_*L_+c_*j_*y_,o2=_e+c_;o2==0&&(o2=1);var m2=_e*L_+c_*y_,_2=o_+i_+_e*L_*L_+c_*y_*y_,v_=new IF;v_.ex.set(q_,N_,W_),v_.ey.set(N_,o2,m2),v_.ez.set(W_,m2,_2);var G_=TP();G_.x=p2.x,G_.y=p2.y,G_.z=X2,n2=v_.solve33(TP.neg(G_))}else{var q_=o_+i_+_e*k_*k_+c_*j_*j_,N_=_e*k_+c_*j_,o2=_e+c_;o2==0&&(o2=1);var v_=new wct;v_.ex.set(q_,N_),v_.ey.set(N_,o2);var K_=v_.solve(M0.neg(p2));n2.x=K_.x,n2.y=K_.y,n2.z=0}var C_=M0.combine(n2.x,I_,n2.z,w_),z_=n2.x*k_+n2.y+n2.z*L_,X_=n2.x*j_+n2.y+n2.z*y_;return V.subMul(o_,C_),o-=_e*z_,_o.addMul(i_,C_),_r+=c_*X_,this.m_bodyA.c_position.c=V,this.m_bodyA.c_position.a=o,this.m_bodyB.c_position.c=_o,this.m_bodyB.c_position.a=_r,u2<=TD.linearSlop&&T2<=TD.angularSlop}});var kF=z0((cht,EF)=>{var w3=typeof ASSERT>"u"?!1:ASSERT;EF.exports=AA;var V3=_x(),Dct=aS(),Mct=Y1(),qF=ky(),zy=Fy(),rht=MS(),nht=zS(),sht=sC(),cA=k1(),_ht=ES(),aht=H1(),pht=rC(),lht=nC(),RD=WS(),FF=jS(),RP=A3(),LF=P3();AA.TYPE="gear-joint";RD.TYPES[AA.TYPE]=AA;AA._super=RD;AA.prototype=Object.create(AA._super.prototype);var Gct={ratio:1};function AA(x,V,o,_o,_r,l){if(!(this instanceof AA))return new AA(x,V,o,_o,_r,l);x=Dct(x,Gct),RD.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=AA.TYPE,w3&&V3.assert(_o.m_type===RP.TYPE||_o.m_type===LF.TYPE),w3&&V3.assert(_r.m_type===RP.TYPE||_r.m_type===LF.TYPE),this.m_joint1=_o||x.joint1,this.m_joint2=_r||x.joint2,this.m_ratio=qF.isFinite(l)?l:x.ratio,this.m_type1=this.m_joint1.getType(),this.m_type2=this.m_joint2.getType();var e_,o_;this.m_bodyC=this.m_joint1.getBodyA(),this.m_bodyA=this.m_joint1.getBodyB();var i_=this.m_bodyA.m_xf,_e=this.m_bodyA.m_sweep.a,c_=this.m_bodyC.m_xf,ws=this.m_bodyC.m_sweep.a;if(this.m_type1===RP.TYPE){var h_=this.m_joint1;this.m_localAnchorC=h_.m_localAnchorA,this.m_localAnchorA=h_.m_localAnchorB,this.m_referenceAngleA=h_.m_referenceAngle,this.m_localAxisC=zy.zero(),e_=_e-ws-this.m_referenceAngleA}else{var s_=this.m_joint1;this.m_localAnchorC=s_.m_localAnchorA,this.m_localAnchorA=s_.m_localAnchorB,this.m_referenceAngleA=s_.m_referenceAngle,this.m_localAxisC=s_.m_localXAxisA;var w_=this.m_localAnchorC,L_=cA.mulTVec2(c_.q,zy.add(cA.mul(i_.q,this.m_localAnchorA),zy.sub(i_.p,c_.p)));e_=zy.dot(L_,this.m_localAxisC)-zy.dot(w_,this.m_localAxisC)}this.m_bodyD=this.m_joint2.getBodyA(),this.m_bodyB=this.m_joint2.getBodyB();var y_=this.m_bodyB.m_xf,I_=this.m_bodyB.m_sweep.a,k_=this.m_bodyD.m_xf,j_=this.m_bodyD.m_sweep.a;if(this.m_type2===RP.TYPE){var h_=this.m_joint2;this.m_localAnchorD=h_.m_localAnchorA,this.m_localAnchorB=h_.m_localAnchorB,this.m_referenceAngleB=h_.m_referenceAngle,this.m_localAxisD=zy.zero(),o_=I_-j_-this.m_referenceAngleB}else{var s_=this.m_joint2;this.m_localAnchorD=s_.m_localAnchorA,this.m_localAnchorB=s_.m_localAnchorB,this.m_referenceAngleB=s_.m_referenceAngle,this.m_localAxisD=s_.m_localXAxisA;var n2=this.m_localAnchorD,p2=cA.mulTVec2(k_.q,zy.add(cA.mul(y_.q,this.m_localAnchorB),zy.sub(y_.p,k_.p)));o_=zy.dot(p2,this.m_localAxisD)-zy.dot(n2,this.m_localAxisD)}this.m_constant=e_+this.m_ratio*o_,this.m_impulse=0,this.m_lcA,this.m_lcB,this.m_lcC,this.m_lcD,this.m_mA,this.m_mB,this.m_mC,this.m_mD,this.m_iA,this.m_iB,this.m_iC,this.m_iD,this.m_JvAC,this.m_JvBD,this.m_JwA,this.m_JwB,this.m_JwC,this.m_JwD,this.m_mass}AA.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,joint1:this.m_joint1,joint2:this.m_joint2,ratio:this.m_ratio}};AA._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(FF,x.bodyA,V),x.bodyB=o(FF,x.bodyB,V),x.joint1=o(RD,x.joint1,V),x.joint2=o(RD,x.joint2,V);var _o=new AA(x);return _o};AA.prototype.getJoint1=function(){return this.m_joint1};AA.prototype.getJoint2=function(){return this.m_joint2};AA.prototype.setRatio=function(x){w3&&V3.assert(qF.isFinite(x)),this.m_ratio=x};AA.prototype.getRatio=function(){return this.m_ratio};AA.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};AA.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};AA.prototype.getReactionForce=function(x){return zy.mul(this.m_impulse,this.m_JvAC).mul(x)};AA.prototype.getReactionTorque=function(x){var V=this.m_impulse*this.m_JwA;return x*V};AA.prototype.initVelocityConstraints=function(x){this.m_lcA=this.m_bodyA.m_sweep.localCenter,this.m_lcB=this.m_bodyB.m_sweep.localCenter,this.m_lcC=this.m_bodyC.m_sweep.localCenter,this.m_lcD=this.m_bodyD.m_sweep.localCenter,this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var V=this.m_bodyA.c_position.a,o=this.m_bodyA.c_velocity.v,_o=this.m_bodyA.c_velocity.w,_r=this.m_bodyB.c_position.a,l=this.m_bodyB.c_velocity.v,e_=this.m_bodyB.c_velocity.w,o_=this.m_bodyC.c_position.a,i_=this.m_bodyC.c_velocity.v,_e=this.m_bodyC.c_velocity.w,c_=this.m_bodyD.c_position.a,ws=this.m_bodyD.c_velocity.v,h_=this.m_bodyD.c_velocity.w,s_=cA.neo(V),w_=cA.neo(_r),L_=cA.neo(o_),y_=cA.neo(c_);if(this.m_mass=0,this.m_type1==RP.TYPE)this.m_JvAC=zy.zero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{var I_=cA.mulVec2(L_,this.m_localAxisC),k_=cA.mulSub(L_,this.m_localAnchorC,this.m_lcC),j_=cA.mulSub(s_,this.m_localAnchorA,this.m_lcA);this.m_JvAC=I_,this.m_JwC=zy.cross(k_,I_),this.m_JwA=zy.cross(j_,I_),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_type2==RP.TYPE)this.m_JvBD=zy.zero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{var I_=cA.mulVec2(y_,this.m_localAxisD),n2=cA.mulSub(y_,this.m_localAnchorD,this.m_lcD),p2=cA.mulSub(w_,this.m_localAnchorB,this.m_lcB);this.m_JvBD=zy.mul(this.m_ratio,I_),this.m_JwD=this.m_ratio*zy.cross(n2,I_),this.m_JwB=this.m_ratio*zy.cross(p2,I_),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,x.warmStarting?(o.addMul(this.m_mA*this.m_impulse,this.m_JvAC),_o+=this.m_iA*this.m_impulse*this.m_JwA,l.addMul(this.m_mB*this.m_impulse,this.m_JvBD),e_+=this.m_iB*this.m_impulse*this.m_JwB,i_.subMul(this.m_mC*this.m_impulse,this.m_JvAC),_e-=this.m_iC*this.m_impulse*this.m_JwC,ws.subMul(this.m_mD*this.m_impulse,this.m_JvBD),h_-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,this.m_bodyA.c_velocity.v.set(o),this.m_bodyA.c_velocity.w=_o,this.m_bodyB.c_velocity.v.set(l),this.m_bodyB.c_velocity.w=e_,this.m_bodyC.c_velocity.v.set(i_),this.m_bodyC.c_velocity.w=_e,this.m_bodyD.c_velocity.v.set(ws),this.m_bodyD.c_velocity.w=h_};AA.prototype.solveVelocityConstraints=function(x){var V=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,_o=this.m_bodyB.c_velocity.v,_r=this.m_bodyB.c_velocity.w,l=this.m_bodyC.c_velocity.v,e_=this.m_bodyC.c_velocity.w,o_=this.m_bodyD.c_velocity.v,i_=this.m_bodyD.c_velocity.w,_e=zy.dot(this.m_JvAC,V)-zy.dot(this.m_JvAC,l)+zy.dot(this.m_JvBD,_o)-zy.dot(this.m_JvBD,o_);_e+=this.m_JwA*o-this.m_JwC*e_+(this.m_JwB*_r-this.m_JwD*i_);var c_=-this.m_mass*_e;this.m_impulse+=c_,V.addMul(this.m_mA*c_,this.m_JvAC),o+=this.m_iA*c_*this.m_JwA,_o.addMul(this.m_mB*c_,this.m_JvBD),_r+=this.m_iB*c_*this.m_JwB,l.subMul(this.m_mC*c_,this.m_JvAC),e_-=this.m_iC*c_*this.m_JwC,o_.subMul(this.m_mD*c_,this.m_JvBD),i_-=this.m_iD*c_*this.m_JwD,this.m_bodyA.c_velocity.v.set(V),this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v.set(_o),this.m_bodyB.c_velocity.w=_r,this.m_bodyC.c_velocity.v.set(l),this.m_bodyC.c_velocity.w=e_,this.m_bodyD.c_velocity.v.set(o_),this.m_bodyD.c_velocity.w=i_};AA.prototype.solvePositionConstraints=function(x){var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyB.c_position.c,_r=this.m_bodyB.c_position.a,l=this.m_bodyC.c_position.c,e_=this.m_bodyC.c_position.a,o_=this.m_bodyD.c_position.c,i_=this.m_bodyD.c_position.a,_e=cA.neo(o),c_=cA.neo(_r),ws=cA.neo(e_),h_=cA.neo(i_),s_=0,w_,L_,y_,I_,k_,j_,n2,p2,u2=0;if(this.m_type1==RP.TYPE)y_=zy.zero(),k_=1,n2=1,u2+=this.m_iA+this.m_iC,w_=o-e_-this.m_referenceAngleA;else{var T2=cA.mulVec2(ws,this.m_localAxisC),I2=cA.mulSub(ws,this.m_localAnchorC,this.m_lcC),q2=cA.mulSub(_e,this.m_localAnchorA,this.m_lcA);y_=T2,n2=zy.cross(I2,T2),k_=zy.cross(q2,T2),u2+=this.m_mC+this.m_mA+this.m_iC*n2*n2+this.m_iA*k_*k_;var O2=zy.sub(this.m_localAnchorC,this.m_lcC),X2=cA.mulTVec2(ws,zy.add(q2,zy.sub(V,l)));w_=zy.dot(zy.sub(X2,O2),this.m_localAxisC)}if(this.m_type2==RP.TYPE)I_=zy.zero(),j_=this.m_ratio,p2=this.m_ratio,u2+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),L_=_r-i_-this.m_referenceAngleB;else{var T2=cA.mulVec2(h_,this.m_localAxisD),S_=cA.mulSub(h_,this.m_localAnchorD,this.m_lcD),q_=cA.mulSub(c_,this.m_localAnchorB,this.m_lcB);I_=zy.mul(this.m_ratio,T2),p2=this.m_ratio*zy.cross(S_,T2),j_=this.m_ratio*zy.cross(q_,T2),u2+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*p2*p2+this.m_iB*j_*j_;var N_=zy.sub(this.m_localAnchorD,this.m_lcD),W_=cA.mulTVec2(h_,zy.add(q_,zy.sub(_o,o_)));L_=zy.dot(W_,this.m_localAxisD)-zy.dot(N_,this.m_localAxisD)}var o2=w_+this.m_ratio*L_-this.m_constant,m2=0;return u2>0&&(m2=-o2/u2),V.addMul(this.m_mA*m2,y_),o+=this.m_iA*m2*k_,_o.addMul(this.m_mB*m2,I_),_r+=this.m_iB*m2*j_,l.subMul(this.m_mC*m2,y_),e_-=this.m_iC*m2*n2,o_.subMul(this.m_mD*m2,I_),i_-=this.m_iD*m2*p2,this.m_bodyA.c_position.c.set(V),this.m_bodyA.c_position.a=o,this.m_bodyB.c_position.c.set(_o),this.m_bodyB.c_position.a=_r,this.m_bodyC.c_position.c.set(l),this.m_bodyC.c_position.a=e_,this.m_bodyD.c_position.c.set(o_),this.m_bodyD.c_position.a=i_,s_<Mct.linearSlop}});var NF=z0((fht,WF)=>{var D3=typeof ASSERT>"u"?!1:ASSERT;WF.exports=D1;var M3=_x(),Jct=aS(),mht=Y1(),x4=ky(),NS=Fy(),bht=MS(),zF=zS(),uht=sC(),FD=k1(),hht=ES(),dht=H1(),yht=rC(),xht=nC(),G3=WS(),jF=jS();D1.TYPE="motor-joint";G3.TYPES[D1.TYPE]=D1;D1._super=G3;D1.prototype=Object.create(D1._super.prototype);var Ict={maxForce:1,maxTorque:1,correctionFactor:.3};function D1(x,V,o){if(!(this instanceof D1))return new D1(x,V,o);x=Jct(x,Ict),G3.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=D1.TYPE,this.m_linearOffset=x4.isFinite(x.linearOffset)?x.linearOffset:V.getLocalPoint(o.getPosition()),this.m_angularOffset=x4.isFinite(x.angularOffset)?x.angularOffset:o.getAngle()-V.getAngle(),this.m_linearImpulse=NS.zero(),this.m_angularImpulse=0,this.m_maxForce=x.maxForce,this.m_maxTorque=x.maxTorque,this.m_correctionFactor=x.correctionFactor,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_linearError,this.m_angularError,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_linearMass,this.m_angularMass}D1.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,maxForce:this.m_maxForce,maxTorque:this.m_maxTorque,correctionFactor:this.m_correctionFactor,linearOffset:this.m_linearOffset,angularOffset:this.m_angularOffset}};D1._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(jF,x.bodyA,V),x.bodyB=o(jF,x.bodyB,V);var _o=new D1(x);return _o};D1.prototype._setAnchors=function(x){x.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(x.anchorA)):x.localAnchorA&&this.m_localAnchorA.set(x.localAnchorA),x.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(x.anchorB)):x.localAnchorB&&this.m_localAnchorB.set(x.localAnchorB)};D1.prototype.setMaxForce=function(x){D3&&M3.assert(x4.isFinite(x)&&x>=0),this.m_maxForce=x};D1.prototype.getMaxForce=function(){return this.m_maxForce};D1.prototype.setMaxTorque=function(x){D3&&M3.assert(x4.isFinite(x)&&x>=0),this.m_maxTorque=x};D1.prototype.getMaxTorque=function(){return this.m_maxTorque};D1.prototype.setCorrectionFactor=function(x){D3&&M3.assert(x4.isFinite(x)&&0<=x&&x<=1),this.m_correctionFactor=x};D1.prototype.getCorrectionFactor=function(){return this.m_correctionFactor};D1.prototype.setLinearOffset=function(x){(x.x!=this.m_linearOffset.x||x.y!=this.m_linearOffset.y)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_linearOffset=x)};D1.prototype.getLinearOffset=function(){return this.m_linearOffset};D1.prototype.setAngularOffset=function(x){x!=this.m_angularOffset&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_angularOffset=x)};D1.prototype.getAngularOffset=function(){return this.m_angularOffset};D1.prototype.getAnchorA=function(){return this.m_bodyA.getPosition()};D1.prototype.getAnchorB=function(){return this.m_bodyB.getPosition()};D1.prototype.getReactionForce=function(x){return NS.mul(x,this.m_linearImpulse)};D1.prototype.getReactionTorque=function(x){return x*this.m_angularImpulse};D1.prototype.initVelocityConstraints=function(x){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyA.c_velocity.v,_r=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_position.c,e_=this.m_bodyB.c_position.a,o_=this.m_bodyB.c_velocity.v,i_=this.m_bodyB.c_velocity.w,_e=FD.neo(o),c_=FD.neo(e_);this.m_rA=FD.mulVec2(_e,NS.neg(this.m_localCenterA)),this.m_rB=FD.mulVec2(c_,NS.neg(this.m_localCenterB));var ws=this.m_invMassA,h_=this.m_invMassB,s_=this.m_invIA,w_=this.m_invIB,L_=new zF;if(L_.ex.x=ws+h_+s_*this.m_rA.y*this.m_rA.y+w_*this.m_rB.y*this.m_rB.y,L_.ex.y=-s_*this.m_rA.x*this.m_rA.y-w_*this.m_rB.x*this.m_rB.y,L_.ey.x=L_.ex.y,L_.ey.y=ws+h_+s_*this.m_rA.x*this.m_rA.x+w_*this.m_rB.x*this.m_rB.x,this.m_linearMass=L_.getInverse(),this.m_angularMass=s_+w_,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),this.m_linearError=NS.zero(),this.m_linearError.addCombine(1,l,1,this.m_rB),this.m_linearError.subCombine(1,V,1,this.m_rA),this.m_linearError.sub(FD.mulVec2(_e,this.m_linearOffset)),this.m_angularError=e_-o-this.m_angularOffset,x.warmStarting){this.m_linearImpulse.mul(x.dtRatio),this.m_angularImpulse*=x.dtRatio;var y_=NS.neo(this.m_linearImpulse.x,this.m_linearImpulse.y);_o.subMul(ws,y_),_r-=s_*(NS.cross(this.m_rA,y_)+this.m_angularImpulse),o_.addMul(h_,y_),i_+=w_*(NS.cross(this.m_rB,y_)+this.m_angularImpulse)}else this.m_linearImpulse.setZero(),this.m_angularImpulse=0;this.m_bodyA.c_velocity.v=_o,this.m_bodyA.c_velocity.w=_r,this.m_bodyB.c_velocity.v=o_,this.m_bodyB.c_velocity.w=i_};D1.prototype.solveVelocityConstraints=function(x){var V=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,_o=this.m_bodyB.c_velocity.v,_r=this.m_bodyB.c_velocity.w,l=this.m_invMassA,e_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB,_e=x.dt,c_=x.inv_dt;{var ws=_r-o+c_*this.m_correctionFactor*this.m_angularError,h_=-this.m_angularMass*ws,s_=this.m_angularImpulse,w_=_e*this.m_maxTorque;this.m_angularImpulse=x4.clamp(this.m_angularImpulse+h_,-w_,w_),h_=this.m_angularImpulse-s_,o-=o_*h_,_r+=i_*h_}{var ws=NS.zero();ws.addCombine(1,_o,1,NS.cross(_r,this.m_rB)),ws.subCombine(1,V,1,NS.cross(o,this.m_rA)),ws.addMul(c_*this.m_correctionFactor,this.m_linearError);var h_=NS.neg(zF.mulVec2(this.m_linearMass,ws)),s_=NS.clone(this.m_linearImpulse);this.m_linearImpulse.add(h_);var w_=_e*this.m_maxForce;this.m_linearImpulse.clamp(w_),h_=NS.sub(this.m_linearImpulse,s_),V.subMul(l,h_),o-=o_*NS.cross(this.m_rA,h_),_o.addMul(e_,h_),_r+=i_*NS.cross(this.m_rB,h_)}this.m_bodyA.c_velocity.v=V,this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v=_o,this.m_bodyB.c_velocity.w=_r};D1.prototype.solvePositionConstraints=function(x){return!0}});var YF=z0((Bht,XF)=>{var GG=typeof ASSERT>"u"?!1:ASSERT;XF.exports=W1;var JG=_x(),Tct=aS(),LD=ky(),JS=Fy(),ght=MS(),J3=zS(),vht=sC(),OF=k1(),Aht=ES(),Rct=H1(),Sht=rC(),Cht=nC(),I3=WS(),UF=jS();W1.TYPE="mouse-joint";I3.TYPES[W1.TYPE]=W1;W1._super=I3;W1.prototype=Object.create(W1._super.prototype);var Fct={maxForce:0,frequencyHz:5,dampingRatio:.7};function W1(x,V,o,_o){if(!(this instanceof W1))return new W1(x,V,o,_o);x=Tct(x,Fct),I3.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=W1.TYPE,GG&&JG.assert(LD.isFinite(x.maxForce)&&x.maxForce>=0),GG&&JG.assert(LD.isFinite(x.frequencyHz)&&x.frequencyHz>=0),GG&&JG.assert(LD.isFinite(x.dampingRatio)&&x.dampingRatio>=0),this.m_targetA=_o?JS.clone(_o):x.target||JS.zero(),this.m_localAnchorB=Rct.mulTVec2(o.getTransform(),this.m_targetA),this.m_maxForce=x.maxForce,this.m_impulse=JS.zero(),this.m_frequencyHz=x.frequencyHz,this.m_dampingRatio=x.dampingRatio,this.m_beta=0,this.m_gamma=0,this.m_rB=JS.zero(),this.m_localCenterB=JS.zero(),this.m_invMassB=0,this.m_invIB=0,this.mass=new J3,this.m_C=JS.zero()}W1.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,target:this.m_targetA,maxForce:this.m_maxForce,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,_localAnchorB:this.m_localAnchorB}};W1._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(UF,x.bodyA,V),x.bodyB=o(UF,x.bodyB,V),x.target=JS(x.target);var _o=new W1(x);return x._localAnchorB&&(_o.m_localAnchorB=x._localAnchorB),_o};W1.prototype.setTarget=function(x){this.m_bodyB.isAwake()==!1&&this.m_bodyB.setAwake(!0),this.m_targetA=JS.clone(x)};W1.prototype.getTarget=function(){return this.m_targetA};W1.prototype.setMaxForce=function(x){this.m_maxForce=x};W1.getMaxForce=function(){return this.m_maxForce};W1.prototype.setFrequency=function(x){this.m_frequencyHz=x};W1.prototype.getFrequency=function(){return this.m_frequencyHz};W1.prototype.setDampingRatio=function(x){this.m_dampingRatio=x};W1.prototype.getDampingRatio=function(){return this.m_dampingRatio};W1.prototype.getAnchorA=function(){return JS.clone(this.m_targetA)};W1.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};W1.prototype.getReactionForce=function(x){return JS.mul(x,this.m_impulse)};W1.prototype.getReactionTorque=function(x){return x*0};W1.prototype.shiftOrigin=function(x){this.m_targetA.sub(x)};W1.prototype.initVelocityConstraints=function(x){this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_bodyB.c_position,o=this.m_bodyB.c_velocity,_o=V.c,_r=V.a,l=o.v,e_=o.w,o_=OF.neo(_r),i_=this.m_bodyB.getMass(),_e=2*LD.PI*this.m_frequencyHz,c_=2*i_*this.m_dampingRatio*_e,ws=i_*(_e*_e),h_=x.dt;GG&&JG.assert(c_+h_*ws>LD.EPSILON),this.m_gamma=h_*(c_+h_*ws),this.m_gamma!=0&&(this.m_gamma=1/this.m_gamma),this.m_beta=h_*ws*this.m_gamma,this.m_rB=OF.mulVec2(o_,JS.sub(this.m_localAnchorB,this.m_localCenterB));var s_=new J3;s_.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,s_.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,s_.ey.x=s_.ex.y,s_.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,this.m_mass=s_.getInverse(),this.m_C.set(_o),this.m_C.addCombine(1,this.m_rB,-1,this.m_targetA),this.m_C.mul(this.m_beta),e_*=.98,x.warmStarting?(this.m_impulse.mul(x.dtRatio),l.addMul(this.m_invMassB,this.m_impulse),e_+=this.m_invIB*JS.cross(this.m_rB,this.m_impulse)):this.m_impulse.setZero(),o.v.set(l),o.w=e_};W1.prototype.solveVelocityConstraints=function(x){var V=this.m_bodyB.c_velocity,o=JS.clone(V.v),_o=V.w,_r=JS.cross(_o,this.m_rB);_r.add(o),_r.addCombine(1,this.m_C,this.m_gamma,this.m_impulse),_r.neg();var l=J3.mulVec2(this.m_mass,_r),e_=JS.clone(this.m_impulse);this.m_impulse.add(l);var o_=x.dt*this.m_maxForce;this.m_impulse.clamp(o_),l=JS.sub(this.m_impulse,e_),o.addMul(this.m_invMassB,l),_o+=this.m_invIB*JS.cross(this.m_rB,l),V.v.set(o),V.w=_o};W1.prototype.solvePositionConstraints=function(x){return!0}});var KF=z0((Iht,ZF)=>{var Lct=typeof ASSERT>"u"?!1:ASSERT;ZF.exports=N1;var qct=_x(),Ect=aS(),ED=Y1(),qD=ky(),Ay=Fy(),Pht=MS(),wht=zS(),Vht=sC(),FP=k1(),Dht=ES(),Mht=H1(),Ght=rC(),Jht=nC(),T3=WS(),HF=jS();N1.TYPE="pulley-joint";N1.MIN_PULLEY_LENGTH=2;T3.TYPES[N1.TYPE]=N1;N1._super=T3;N1.prototype=Object.create(N1._super.prototype);var kct={collideConnected:!0};function N1(x,V,o,_o,_r,l,e_,o_){if(!(this instanceof N1))return new N1(x,V,o,_o,_r,l,e_,o_);x=Ect(x,kct),T3.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=N1.TYPE,this.m_groundAnchorA=_o||x.groundAnchorA||Ay.neo(-1,1),this.m_groundAnchorB=_r||x.groundAnchorB||Ay.neo(1,1),this.m_localAnchorA=l?V.getLocalPoint(l):x.localAnchorA||Ay.neo(-1,0),this.m_localAnchorB=e_?o.getLocalPoint(e_):x.localAnchorB||Ay.neo(1,0),this.m_lengthA=qD.isFinite(x.lengthA)?x.lengthA:Ay.distance(l,_o),this.m_lengthB=qD.isFinite(x.lengthB)?x.lengthB:Ay.distance(e_,_r),this.m_ratio=qD.isFinite(o_)?o_:x.ratio,Lct&&qct.assert(o_>qD.EPSILON),this.m_constant=this.m_lengthA+this.m_ratio*this.m_lengthB,this.m_impulse=0,this.m_uA,this.m_uB,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_mass}N1.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,groundAnchorA:this.m_groundAnchorA,groundAnchorB:this.m_groundAnchorB,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,lengthA:this.m_lengthA,lengthB:this.m_lengthB,ratio:this.m_ratio}};N1._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(HF,x.bodyA,V),x.bodyB=o(HF,x.bodyB,V);var _o=new N1(x);return _o};N1.prototype.getGroundAnchorA=function(){return this.m_groundAnchorA};N1.prototype.getGroundAnchorB=function(){return this.m_groundAnchorB};N1.prototype.getLengthA=function(){return this.m_lengthA};N1.prototype.getLengthB=function(){return this.m_lengthB};N1.prototype.getRatio=function(){return this.m_ratio};N1.prototype.getCurrentLengthA=function(){var x=this.m_bodyA.getWorldPoint(this.m_localAnchorA),V=this.m_groundAnchorA;return Ay.distance(x,V)};N1.prototype.getCurrentLengthB=function(){var x=this.m_bodyB.getWorldPoint(this.m_localAnchorB),V=this.m_groundAnchorB;return Ay.distance(x,V)};N1.prototype.shiftOrigin=function(x){this.m_groundAnchorA.sub(x),this.m_groundAnchorB.sub(x)};N1.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};N1.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};N1.prototype.getReactionForce=function(x){return Ay.mul(this.m_impulse,this.m_uB).mul(x)};N1.prototype.getReactionTorque=function(x){return 0};N1.prototype.initVelocityConstraints=function(x){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyA.c_velocity.v,_r=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_position.c,e_=this.m_bodyB.c_position.a,o_=this.m_bodyB.c_velocity.v,i_=this.m_bodyB.c_velocity.w,_e=FP.neo(o),c_=FP.neo(e_);this.m_rA=FP.mulVec2(_e,Ay.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=FP.mulVec2(c_,Ay.sub(this.m_localAnchorB,this.m_localCenterB)),this.m_uA=Ay.sub(Ay.add(V,this.m_rA),this.m_groundAnchorA),this.m_uB=Ay.sub(Ay.add(l,this.m_rB),this.m_groundAnchorB);var ws=this.m_uA.length(),h_=this.m_uB.length();ws>10*ED.linearSlop?this.m_uA.mul(1/ws):this.m_uA.setZero(),h_>10*ED.linearSlop?this.m_uB.mul(1/h_):this.m_uB.setZero();var s_=Ay.cross(this.m_rA,this.m_uA),w_=Ay.cross(this.m_rB,this.m_uB),L_=this.m_invMassA+this.m_invIA*s_*s_,y_=this.m_invMassB+this.m_invIB*w_*w_;if(this.m_mass=L_+this.m_ratio*this.m_ratio*y_,this.m_mass>0&&(this.m_mass=1/this.m_mass),x.warmStarting){this.m_impulse*=x.dtRatio;var I_=Ay.mul(-this.m_impulse,this.m_uA),k_=Ay.mul(-this.m_ratio*this.m_impulse,this.m_uB);_o.addMul(this.m_invMassA,I_),_r+=this.m_invIA*Ay.cross(this.m_rA,I_),o_.addMul(this.m_invMassB,k_),i_+=this.m_invIB*Ay.cross(this.m_rB,k_)}else this.m_impulse=0;this.m_bodyA.c_velocity.v=_o,this.m_bodyA.c_velocity.w=_r,this.m_bodyB.c_velocity.v=o_,this.m_bodyB.c_velocity.w=i_};N1.prototype.solveVelocityConstraints=function(x){var V=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,_o=this.m_bodyB.c_velocity.v,_r=this.m_bodyB.c_velocity.w,l=Ay.add(V,Ay.cross(o,this.m_rA)),e_=Ay.add(_o,Ay.cross(_r,this.m_rB)),o_=-Ay.dot(this.m_uA,l)-this.m_ratio*Ay.dot(this.m_uB,e_),i_=-this.m_mass*o_;this.m_impulse+=i_;var _e=Ay.mul(-i_,this.m_uA),c_=Ay.mul(-this.m_ratio*i_,this.m_uB);V.addMul(this.m_invMassA,_e),o+=this.m_invIA*Ay.cross(this.m_rA,_e),_o.addMul(this.m_invMassB,c_),_r+=this.m_invIB*Ay.cross(this.m_rB,c_),this.m_bodyA.c_velocity.v=V,this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v=_o,this.m_bodyB.c_velocity.w=_r};N1.prototype.solvePositionConstraints=function(x){var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyB.c_position.c,_r=this.m_bodyB.c_position.a,l=FP.neo(o),e_=FP.neo(_r),o_=FP.mulVec2(l,Ay.sub(this.m_localAnchorA,this.m_localCenterA)),i_=FP.mulVec2(e_,Ay.sub(this.m_localAnchorB,this.m_localCenterB)),_e=Ay.sub(Ay.add(V,this.m_rA),this.m_groundAnchorA),c_=Ay.sub(Ay.add(_o,this.m_rB),this.m_groundAnchorB),ws=_e.length(),h_=c_.length();ws>10*ED.linearSlop?_e.mul(1/ws):_e.setZero(),h_>10*ED.linearSlop?c_.mul(1/h_):c_.setZero();var s_=Ay.cross(o_,_e),w_=Ay.cross(i_,c_),L_=this.m_invMassA+this.m_invIA*s_*s_,y_=this.m_invMassB+this.m_invIB*w_*w_,I_=L_+this.m_ratio*this.m_ratio*y_;I_>0&&(I_=1/I_);var k_=this.m_constant-ws-this.m_ratio*h_,j_=qD.abs(k_),n2=-I_*k_,p2=Ay.mul(-n2,_e),u2=Ay.mul(-this.m_ratio*n2,c_);return V.addMul(this.m_invMassA,p2),o+=this.m_invIA*Ay.cross(o_,p2),_o.addMul(this.m_invMassB,u2),_r+=this.m_invIB*Ay.cross(i_,u2),this.m_bodyA.c_position.c=V,this.m_bodyA.c_position.a=o,this.m_bodyB.c_position.c=_o,this.m_bodyB.c_position.a=_r,j_<ED.linearSlop}});var o9=z0((jht,e9)=>{e9.exports=dA;var jct=aS(),R3=Y1(),$F=ky(),iS=Fy(),Tht=MS(),Rht=zS(),Fht=sC(),LP=k1(),Lht=ES(),qht=H1(),Eht=rC(),kht=nC(),F3=WS(),QF=jS(),t9=0,zct=2;dA.TYPE="rope-joint";F3.TYPES[dA.TYPE]=dA;dA._super=F3;dA.prototype=Object.create(dA._super.prototype);var Wct={maxLength:0};function dA(x,V,o,_o){if(!(this instanceof dA))return new dA(x,V,o,_o);x=jct(x,Wct),F3.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=dA.TYPE,this.m_localAnchorA=_o?V.getLocalPoint(_o):x.localAnchorA||iS.neo(-1,0),this.m_localAnchorB=_o?o.getLocalPoint(_o):x.localAnchorB||iS.neo(1,0),this.m_maxLength=x.maxLength,this.m_mass=0,this.m_impulse=0,this.m_length=0,this.m_state=t9,this.m_u,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_mass}dA.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,maxLength:this.m_maxLength}};dA._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(QF,x.bodyA,V),x.bodyB=o(QF,x.bodyB,V);var _o=new dA(x);return _o};dA.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};dA.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};dA.prototype.setMaxLength=function(x){this.m_maxLength=x};dA.prototype.getMaxLength=function(){return this.m_maxLength};dA.prototype.getLimitState=function(){return this.m_state};dA.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};dA.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};dA.prototype.getReactionForce=function(x){return iS.mul(this.m_impulse,this.m_u).mul(x)};dA.prototype.getReactionTorque=function(x){return 0};dA.prototype.initVelocityConstraints=function(x){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyA.c_velocity.v,_r=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_position.c,e_=this.m_bodyB.c_position.a,o_=this.m_bodyB.c_velocity.v,i_=this.m_bodyB.c_velocity.w,_e=LP.neo(o),c_=LP.neo(e_);this.m_rA=LP.mulSub(_e,this.m_localAnchorA,this.m_localCenterA),this.m_rB=LP.mulSub(c_,this.m_localAnchorB,this.m_localCenterB),this.m_u=iS.zero(),this.m_u.addCombine(1,l,1,this.m_rB),this.m_u.subCombine(1,V,1,this.m_rA),this.m_length=this.m_u.length();var ws=this.m_length-this.m_maxLength;if(ws>0?this.m_state=zct:this.m_state=t9,this.m_length>R3.linearSlop)this.m_u.mul(1/this.m_length);else{this.m_u.setZero(),this.m_mass=0,this.m_impulse=0;return}var h_=iS.cross(this.m_rA,this.m_u),s_=iS.cross(this.m_rB,this.m_u),w_=this.m_invMassA+this.m_invIA*h_*h_+this.m_invMassB+this.m_invIB*s_*s_;if(this.m_mass=w_!=0?1/w_:0,x.warmStarting){this.m_impulse*=x.dtRatio;var L_=iS.mul(this.m_impulse,this.m_u);_o.subMul(this.m_invMassA,L_),_r-=this.m_invIA*iS.cross(this.m_rA,L_),o_.addMul(this.m_invMassB,L_),i_+=this.m_invIB*iS.cross(this.m_rB,L_)}else this.m_impulse=0;this.m_bodyA.c_velocity.v.set(_o),this.m_bodyA.c_velocity.w=_r,this.m_bodyB.c_velocity.v.set(o_),this.m_bodyB.c_velocity.w=i_};dA.prototype.solveVelocityConstraints=function(x){var V=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,_o=this.m_bodyB.c_velocity.v,_r=this.m_bodyB.c_velocity.w,l=iS.addCross(V,o,this.m_rA),e_=iS.addCross(_o,_r,this.m_rB),o_=this.m_length-this.m_maxLength,i_=iS.dot(this.m_u,iS.sub(e_,l));o_<0&&(i_+=x.inv_dt*o_);var _e=-this.m_mass*i_,c_=this.m_impulse;this.m_impulse=$F.min(0,this.m_impulse+_e),_e=this.m_impulse-c_;var ws=iS.mul(_e,this.m_u);V.subMul(this.m_invMassA,ws),o-=this.m_invIA*iS.cross(this.m_rA,ws),_o.addMul(this.m_invMassB,ws),_r+=this.m_invIB*iS.cross(this.m_rB,ws),this.m_bodyA.c_velocity.v=V,this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v=_o,this.m_bodyB.c_velocity.w=_r};dA.prototype.solvePositionConstraints=function(x){var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyB.c_position.c,_r=this.m_bodyB.c_position.a,l=LP.neo(o),e_=LP.neo(_r),o_=LP.mulSub(l,this.m_localAnchorA,this.m_localCenterA),i_=LP.mulSub(e_,this.m_localAnchorB,this.m_localCenterB),_e=iS.zero();_e.addCombine(1,_o,1,i_),_e.subCombine(1,V,1,o_);var c_=_e.normalize(),ws=c_-this.m_maxLength;ws=$F.clamp(ws,0,R3.maxLinearCorrection);var h_=-this.m_mass*ws,s_=iS.mul(h_,_e);return V.subMul(this.m_invMassA,s_),o-=this.m_invIA*iS.cross(o_,s_),_o.addMul(this.m_invMassB,s_),_r+=this.m_invIB*iS.cross(i_,s_),this.m_bodyA.c_position.c.set(V),this.m_bodyA.c_position.a=o,this.m_bodyB.c_position.c.set(_o),this.m_bodyB.c_position.a=_r,c_-this.m_maxLength<R3.linearSlop}});var s9=z0((Xht,n9)=>{n9.exports=Z1;var Nct=aS(),i9=Y1(),L3=ky(),c1=Fy(),f4=MS(),zht=zS(),kD=sC(),qP=k1(),Wht=ES(),Nht=H1(),Oht=rC(),Uht=nC(),q3=WS(),r9=jS();Z1.TYPE="weld-joint";q3.TYPES[Z1.TYPE]=Z1;Z1._super=q3;Z1.prototype=Object.create(Z1._super.prototype);var Oct={frequencyHz:0,dampingRatio:0};function Z1(x,V,o,_o){if(!(this instanceof Z1))return new Z1(x,V,o,_o);x=Nct(x,Oct),q3.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=Z1.TYPE,this.m_localAnchorA=c1.clone(_o?V.getLocalPoint(_o):x.localAnchorA||c1.zero()),this.m_localAnchorB=c1.clone(_o?o.getLocalPoint(_o):x.localAnchorB||c1.zero()),this.m_referenceAngle=L3.isFinite(x.referenceAngle)?x.referenceAngle:o.getAngle()-V.getAngle(),this.m_frequencyHz=x.frequencyHz,this.m_dampingRatio=x.dampingRatio,this.m_impulse=f4(),this.m_bias=0,this.m_gamma=0,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_mass=new kD}Z1.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,referenceAngle:this.m_referenceAngle}};Z1._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(r9,x.bodyA,V),x.bodyB=o(r9,x.bodyB,V);var _o=new Z1(x);return _o};Z1.prototype._setAnchors=function(x){x.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(x.anchorA)):x.localAnchorA&&this.m_localAnchorA.set(x.localAnchorA),x.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(x.anchorB)):x.localAnchorB&&this.m_localAnchorB.set(x.localAnchorB)};Z1.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};Z1.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};Z1.prototype.getReferenceAngle=function(){return this.m_referenceAngle};Z1.prototype.setFrequency=function(x){this.m_frequencyHz=x};Z1.prototype.getFrequency=function(){return this.m_frequencyHz};Z1.prototype.setDampingRatio=function(x){this.m_dampingRatio=x};Z1.prototype.getDampingRatio=function(){return this.m_dampingRatio};Z1.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};Z1.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};Z1.prototype.getReactionForce=function(x){return c1.neo(this.m_impulse.x,this.m_impulse.y).mul(x)};Z1.prototype.getReactionTorque=function(x){return x*this.m_impulse.z};Z1.prototype.initVelocityConstraints=function(x){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_bodyA.c_position.a,o=this.m_bodyA.c_velocity.v,_o=this.m_bodyA.c_velocity.w,_r=this.m_bodyB.c_position.a,l=this.m_bodyB.c_velocity.v,e_=this.m_bodyB.c_velocity.w,o_=qP.neo(V),i_=qP.neo(_r);this.m_rA=qP.mulVec2(o_,c1.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=qP.mulVec2(i_,c1.sub(this.m_localAnchorB,this.m_localCenterB));var _e=this.m_invMassA,c_=this.m_invMassB,ws=this.m_invIA,h_=this.m_invIB,s_=new kD;if(s_.ex.x=_e+c_+this.m_rA.y*this.m_rA.y*ws+this.m_rB.y*this.m_rB.y*h_,s_.ey.x=-this.m_rA.y*this.m_rA.x*ws-this.m_rB.y*this.m_rB.x*h_,s_.ez.x=-this.m_rA.y*ws-this.m_rB.y*h_,s_.ex.y=s_.ey.x,s_.ey.y=_e+c_+this.m_rA.x*this.m_rA.x*ws+this.m_rB.x*this.m_rB.x*h_,s_.ez.y=this.m_rA.x*ws+this.m_rB.x*h_,s_.ex.z=s_.ez.x,s_.ey.z=s_.ez.y,s_.ez.z=ws+h_,this.m_frequencyHz>0){s_.getInverse22(this.m_mass);var w_=ws+h_,L_=w_>0?1/w_:0,y_=_r-V-this.m_referenceAngle,I_=2*L3.PI*this.m_frequencyHz,k_=2*L_*this.m_dampingRatio*I_,j_=L_*I_*I_,n2=x.dt;this.m_gamma=n2*(k_+n2*j_),this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0,this.m_bias=y_*n2*j_*this.m_gamma,w_+=this.m_gamma,this.m_mass.ez.z=w_!=0?1/w_:0}else s_.ez.z==0?(s_.getInverse22(this.m_mass),this.m_gamma=0,this.m_bias=0):(s_.getSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0);if(x.warmStarting){this.m_impulse.mul(x.dtRatio);var p2=c1.neo(this.m_impulse.x,this.m_impulse.y);o.subMul(_e,p2),_o-=ws*(c1.cross(this.m_rA,p2)+this.m_impulse.z),l.addMul(c_,p2),e_+=h_*(c1.cross(this.m_rB,p2)+this.m_impulse.z)}else this.m_impulse.setZero();this.m_bodyA.c_velocity.v=o,this.m_bodyA.c_velocity.w=_o,this.m_bodyB.c_velocity.v=l,this.m_bodyB.c_velocity.w=e_};Z1.prototype.solveVelocityConstraints=function(x){var V=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,_o=this.m_bodyB.c_velocity.v,_r=this.m_bodyB.c_velocity.w,l=this.m_invMassA,e_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB;if(this.m_frequencyHz>0){var _e=_r-o,c_=-this.m_mass.ez.z*(_e+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=c_,o-=o_*c_,_r+=i_*c_;var ws=c1.zero();ws.addCombine(1,_o,1,c1.cross(_r,this.m_rB)),ws.subCombine(1,V,1,c1.cross(o,this.m_rA));var h_=c1.neg(kD.mulVec2(this.m_mass,ws));this.m_impulse.x+=h_.x,this.m_impulse.y+=h_.y;var s_=c1.clone(h_);V.subMul(l,s_),o-=o_*c1.cross(this.m_rA,s_),_o.addMul(e_,s_),_r+=i_*c1.cross(this.m_rB,s_)}else{var ws=c1.zero();ws.addCombine(1,_o,1,c1.cross(_r,this.m_rB)),ws.subCombine(1,V,1,c1.cross(o,this.m_rA));var _e=_r-o,w_=f4(ws.x,ws.y,_e),L_=f4.neg(kD.mulVec3(this.m_mass,w_));this.m_impulse.add(L_);var s_=c1.neo(L_.x,L_.y);V.subMul(l,s_),o-=o_*(c1.cross(this.m_rA,s_)+L_.z),_o.addMul(e_,s_),_r+=i_*(c1.cross(this.m_rB,s_)+L_.z)}this.m_bodyA.c_velocity.v=V,this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v=_o,this.m_bodyB.c_velocity.w=_r};Z1.prototype.solvePositionConstraints=function(x){var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyB.c_position.c,_r=this.m_bodyB.c_position.a,l=qP.neo(o),e_=qP.neo(_r),o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB,ws=qP.mulVec2(l,c1.sub(this.m_localAnchorA,this.m_localCenterA)),h_=qP.mulVec2(e_,c1.sub(this.m_localAnchorB,this.m_localCenterB)),s_,w_,L_=new kD;if(L_.ex.x=o_+i_+ws.y*ws.y*_e+h_.y*h_.y*c_,L_.ey.x=-ws.y*ws.x*_e-h_.y*h_.x*c_,L_.ez.x=-ws.y*_e-h_.y*c_,L_.ex.y=L_.ey.x,L_.ey.y=o_+i_+ws.x*ws.x*_e+h_.x*h_.x*c_,L_.ez.y=ws.x*_e+h_.x*c_,L_.ex.z=L_.ez.x,L_.ey.z=L_.ez.y,L_.ez.z=_e+c_,this.m_frequencyHz>0){var y_=c1.zero();y_.addCombine(1,_o,1,h_),y_.subCombine(1,V,1,ws),s_=y_.length(),w_=0;var I_=c1.neg(L_.solve22(y_));V.subMul(o_,I_),o-=_e*c1.cross(ws,I_),_o.addMul(i_,I_),_r+=c_*c1.cross(h_,I_)}else{var y_=c1.zero();y_.addCombine(1,_o,1,h_),y_.subCombine(1,V,1,ws);var k_=_r-o-this.m_referenceAngle;s_=y_.length(),w_=L3.abs(k_);var j_=f4(y_.x,y_.y,k_),n2=f4();if(L_.ez.z>0)n2=f4.neg(L_.solve33(j_));else{var p2=c1.neg(L_.solve22(y_));n2.set(p2.x,p2.y,0)}var I_=c1.neo(n2.x,n2.y);V.subMul(o_,I_),o-=_e*(c1.cross(ws,I_)+n2.z),_o.addMul(i_,I_),_r+=c_*(c1.cross(h_,I_)+n2.z)}return this.m_bodyA.c_position.c=V,this.m_bodyA.c_position.a=o,this.m_bodyB.c_position.c=_o,this.m_bodyB.c_position.a=_r,s_<=i9.linearSlop&&w_<=i9.angularSlop}});var p9=z0((edt,a9)=>{a9.exports=jx;var Uct=aS(),Xct=Y1(),E3=ky(),Xy=Fy(),Yht=MS(),Hht=zS(),Zht=sC(),uB=k1(),Kht=ES(),Qht=H1(),$ht=rC(),tdt=nC(),k3=WS(),_9=jS();jx.TYPE="wheel-joint";k3.TYPES[jx.TYPE]=jx;jx._super=k3;jx.prototype=Object.create(jx._super.prototype);var Yct={enableMotor:!1,maxMotorTorque:0,motorSpeed:0,frequencyHz:2,dampingRatio:.7};function jx(x,V,o,_o,_r){if(!(this instanceof jx))return new jx(x,V,o,_o,_r);x=Uct(x,Yct),k3.call(this,x,V,o),V=this.m_bodyA,o=this.m_bodyB,this.m_type=jx.TYPE,this.m_localAnchorA=Xy.clone(_o?V.getLocalPoint(_o):x.localAnchorA||Xy.zero()),this.m_localAnchorB=Xy.clone(_o?o.getLocalPoint(_o):x.localAnchorB||Xy.zero()),this.m_localXAxisA=Xy.clone(_r?V.getLocalVector(_r):x.localAxisA||x.localAxis||Xy.neo(1,0)),this.m_localYAxisA=Xy.cross(1,this.m_localXAxisA),this.m_mass=0,this.m_impulse=0,this.m_motorMass=0,this.m_motorImpulse=0,this.m_springMass=0,this.m_springImpulse=0,this.m_maxMotorTorque=x.maxMotorTorque,this.m_motorSpeed=x.motorSpeed,this.m_enableMotor=x.enableMotor,this.m_frequencyHz=x.frequencyHz,this.m_dampingRatio=x.dampingRatio,this.m_bias=0,this.m_gamma=0,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_ax=Xy.zero(),this.m_ay=Xy.zero(),this.m_sAx,this.m_sBx,this.m_sAy,this.m_sBy}jx.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,enableMotor:this.m_enableMotor,maxMotorTorque:this.m_maxMotorTorque,motorSpeed:this.m_motorSpeed,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,localAxisA:this.m_localXAxisA}};jx._deserialize=function(x,V,o){x=Object.assign({},x),x.bodyA=o(_9,x.bodyA,V),x.bodyB=o(_9,x.bodyB,V);var _o=new jx(x);return _o};jx.prototype._setAnchors=function(x){x.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(x.anchorA)):x.localAnchorA&&this.m_localAnchorA.set(x.localAnchorA),x.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(x.anchorB)):x.localAnchorB&&this.m_localAnchorB.set(x.localAnchorB),x.localAxisA&&(this.m_localXAxisA.set(x.localAxisA),this.m_localYAxisA.set(Xy.cross(1,x.localAxisA)))};jx.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};jx.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};jx.prototype.getLocalAxisA=function(){return this.m_localXAxisA};jx.prototype.getJointTranslation=function(){var x=this.m_bodyA,V=this.m_bodyB,o=x.getWorldPoint(this.m_localAnchorA),_o=V.getWorldPoint(this.m_localAnchorB),_r=Xy.sub(_o,o),l=x.getWorldVector(this.m_localXAxisA),e_=Xy.dot(_r,l);return e_};jx.prototype.getJointSpeed=function(){var x=this.m_bodyA.m_angularVelocity,V=this.m_bodyB.m_angularVelocity;return V-x};jx.prototype.isMotorEnabled=function(){return this.m_enableMotor};jx.prototype.enableMotor=function(x){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=x};jx.prototype.setMotorSpeed=function(x){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=x};jx.prototype.getMotorSpeed=function(){return this.m_motorSpeed};jx.prototype.setMaxMotorTorque=function(x){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorTorque=x};jx.prototype.getMaxMotorTorque=function(){return this.m_maxMotorTorque};jx.prototype.getMotorTorque=function(x){return x*this.m_motorImpulse};jx.prototype.setSpringFrequencyHz=function(x){this.m_frequencyHz=x};jx.prototype.getSpringFrequencyHz=function(){return this.m_frequencyHz};jx.prototype.setSpringDampingRatio=function(x){this.m_dampingRatio=x};jx.prototype.getSpringDampingRatio=function(){return this.m_dampingRatio};jx.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};jx.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};jx.prototype.getReactionForce=function(x){return Xy.combine(this.m_impulse,this.m_ay,this.m_springImpulse,this.m_ax).mul(x)};jx.prototype.getReactionTorque=function(x){return x*this.m_motorImpulse};jx.prototype.initVelocityConstraints=function(x){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_invMassA,o=this.m_invMassB,_o=this.m_invIA,_r=this.m_invIB,l=this.m_bodyA.c_position.c,e_=this.m_bodyA.c_position.a,o_=this.m_bodyA.c_velocity.v,i_=this.m_bodyA.c_velocity.w,_e=this.m_bodyB.c_position.c,c_=this.m_bodyB.c_position.a,ws=this.m_bodyB.c_velocity.v,h_=this.m_bodyB.c_velocity.w,s_=uB.neo(e_),w_=uB.neo(c_),L_=uB.mulVec2(s_,Xy.sub(this.m_localAnchorA,this.m_localCenterA)),y_=uB.mulVec2(w_,Xy.sub(this.m_localAnchorB,this.m_localCenterB)),I_=Xy.zero();if(I_.addCombine(1,_e,1,y_),I_.subCombine(1,l,1,L_),this.m_ay=uB.mulVec2(s_,this.m_localYAxisA),this.m_sAy=Xy.cross(Xy.add(I_,L_),this.m_ay),this.m_sBy=Xy.cross(y_,this.m_ay),this.m_mass=V+o+_o*this.m_sAy*this.m_sAy+_r*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_frequencyHz>0){this.m_ax=uB.mulVec2(s_,this.m_localXAxisA),this.m_sAx=Xy.cross(Xy.add(I_,L_),this.m_ax),this.m_sBx=Xy.cross(y_,this.m_ax);var k_=V+o+_o*this.m_sAx*this.m_sAx+_r*this.m_sBx*this.m_sBx;if(k_>0){this.m_springMass=1/k_;var j_=Xy.dot(I_,this.m_ax),n2=2*E3.PI*this.m_frequencyHz,I_=2*this.m_springMass*this.m_dampingRatio*n2,p2=this.m_springMass*n2*n2,u2=x.dt;this.m_gamma=u2*(I_+u2*p2),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=j_*u2*p2*this.m_gamma,this.m_springMass=k_+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}}else this.m_springImpulse=0;if(this.m_enableMotor?(this.m_motorMass=_o+_r,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),x.warmStarting){this.m_impulse*=x.dtRatio,this.m_springImpulse*=x.dtRatio,this.m_motorImpulse*=x.dtRatio;var T2=Xy.combine(this.m_impulse,this.m_ay,this.m_springImpulse,this.m_ax),I2=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,q2=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse;o_.subMul(this.m_invMassA,T2),i_-=this.m_invIA*I2,ws.addMul(this.m_invMassB,T2),h_+=this.m_invIB*q2}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0;this.m_bodyA.c_velocity.v.set(o_),this.m_bodyA.c_velocity.w=i_,this.m_bodyB.c_velocity.v.set(ws),this.m_bodyB.c_velocity.w=h_};jx.prototype.solveVelocityConstraints=function(x){var V=this.m_invMassA,o=this.m_invMassB,_o=this.m_invIA,_r=this.m_invIB,l=this.m_bodyA.c_velocity.v,e_=this.m_bodyA.c_velocity.w,o_=this.m_bodyB.c_velocity.v,i_=this.m_bodyB.c_velocity.w;{var _e=Xy.dot(this.m_ax,o_)-Xy.dot(this.m_ax,l)+this.m_sBx*i_-this.m_sAx*e_,c_=-this.m_springMass*(_e+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=c_;var ws=Xy.mul(c_,this.m_ax),h_=c_*this.m_sAx,s_=c_*this.m_sBx;l.subMul(V,ws),e_-=_o*h_,o_.addMul(o,ws),i_+=_r*s_}{var _e=i_-e_-this.m_motorSpeed,c_=-this.m_motorMass*_e,w_=this.m_motorImpulse,L_=x.dt*this.m_maxMotorTorque;this.m_motorImpulse=E3.clamp(this.m_motorImpulse+c_,-L_,L_),c_=this.m_motorImpulse-w_,e_-=_o*c_,i_+=_r*c_}{var _e=Xy.dot(this.m_ay,o_)-Xy.dot(this.m_ay,l)+this.m_sBy*i_-this.m_sAy*e_,c_=-this.m_mass*_e;this.m_impulse+=c_;var ws=Xy.mul(c_,this.m_ay),h_=c_*this.m_sAy,s_=c_*this.m_sBy;l.subMul(V,ws),e_-=_o*h_,o_.addMul(o,ws),i_+=_r*s_}this.m_bodyA.c_velocity.v.set(l),this.m_bodyA.c_velocity.w=e_,this.m_bodyB.c_velocity.v.set(o_),this.m_bodyB.c_velocity.w=i_};jx.prototype.solvePositionConstraints=function(x){var V=this.m_bodyA.c_position.c,o=this.m_bodyA.c_position.a,_o=this.m_bodyB.c_position.c,_r=this.m_bodyB.c_position.a,l=uB.neo(o),e_=uB.neo(_r),o_=uB.mulVec2(l,Xy.sub(this.m_localAnchorA,this.m_localCenterA)),i_=uB.mulVec2(e_,Xy.sub(this.m_localAnchorB,this.m_localCenterB)),_e=Xy.zero();_e.addCombine(1,_o,1,i_),_e.subCombine(1,V,1,o_);var c_=uB.mulVec2(l,this.m_localYAxisA),ws=Xy.cross(Xy.add(_e,o_),c_),h_=Xy.cross(i_,c_),s_=Xy.dot(_e,c_),w_=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,L_;w_!=0?L_=-s_/w_:L_=0;var y_=Xy.mul(L_,c_),I_=L_*ws,k_=L_*h_;return V.subMul(this.m_invMassA,y_),o-=this.m_invIA*I_,_o.addMul(this.m_invMassB,y_),_r+=this.m_invIB*k_,this.m_bodyA.c_position.c.set(V),this.m_bodyA.c_position.a=o,this.m_bodyB.c_position.c.set(_o),this.m_bodyB.c_position.a=_r,E3.abs(s_)<=Xct.linearSlop}});var l9=z0(Sy=>{Sy.internal={};Sy.Serializer=RR();Sy.Math=ky();Sy.Vec2=Fy();Sy.Vec3=MS();Sy.Mat22=zS();Sy.Mat33=sC();Sy.Transform=H1();Sy.Rot=k1();Sy.AABB=iB();Sy.Shape=xC();Sy.Fixture=tG();Sy.Body=jS();Sy.Contact=$B();Sy.Joint=WS();Sy.World=_3();Sy.Circle=VD();Sy.Edge=DD();Sy.Polygon=d4();Sy.Chain=bG();Sy.Box=YR();tF();nF();Sy.internal.CollidePolygons=aF();uF();gF();Sy.DistanceJoint=SF();Sy.FrictionJoint=DF();Sy.GearJoint=kF();Sy.MotorJoint=NF();Sy.MouseJoint=YF();Sy.PrismaticJoint=P3();Sy.PulleyJoint=KF();Sy.RevoluteJoint=A3();Sy.RopeJoint=o9();Sy.WeldJoint=s9();Sy.WheelJoint=p9();Sy.Settings=Y1();Sy.internal.Sweep=ES();Sy.internal.stats=rG();Sy.internal.Manifold=CP();Sy.internal.Distance=vD();Sy.internal.TimeOfImpact=i3();Sy.internal.DynamicTree=LJ();Sy.internal.Settings=Sy.Settings});var c9=z0(()=>{});var m9=z0(()=>{});var b9=z0((exports,module)=>{var c={};(function(){function c(x){throw x}var d=void 0,aa=!0,ba=null,ca=!1,e;e||(e=eval("(function() { try { return Module || {} } catch(e) { return {} } })()"));var da={},ea;for(ea in e)e.hasOwnProperty(ea)&&(da[ea]=e[ea]);var fa=typeof process=="object"&&typeof uT=="function",ga=typeof window=="object",ia=typeof importScripts=="function",ja=!ga&&!fa&&!ia;if(fa){e.print||(e.print=function(x){process.stdout.write(x+`
`)}),e.printErr||(e.printErr=function(x){process.stderr.write(x+`
`)});var ka=c9(),la=m9();e.read=function(o,V){var o=la.normalize(o),_o=ka.readFileSync(o);return!_o&&o!=la.resolve(o)&&(o=path.join(__dirname,"..","src",o),_o=ka.readFileSync(o)),_o&&!V&&(_o=_o.toString()),_o},e.readBinary=function(x){return e.read(x,aa)},e.load=function(x){ma(read(x))},e.thisProgram=1<process.argv.length?process.argv[1].replace(/\\/g,"/"):"unknown-program",e.arguments=process.argv.slice(2),typeof module<"u"&&(module.exports=e),process.on("uncaughtException",function(x){x instanceof na||c(x)})}else ja?(e.print||(e.print=print),typeof printErr<"u"&&(e.printErr=printErr),e.read=typeof read<"u"?read:function(){c("no read() available (jsc?)")},e.readBinary=function(x){return typeof readbuffer=="function"?new Uint8Array(readbuffer(x)):(x=read(x,"binary"),oa(typeof x=="object"),x)},typeof scriptArgs<"u"?e.arguments=scriptArgs:typeof arguments<"u"&&(e.arguments=arguments),this.Module=e,eval("if (typeof gc === 'function' && gc.toString().indexOf('[native code]') > 0) var gc = undefined")):ga||ia?(e.read=function(x){var V=new XMLHttpRequest;return V.open("GET",x,ca),V.send(ba),V.responseText},typeof arguments<"u"&&(e.arguments=arguments),typeof console<"u"?(e.print||(e.print=function(x){console.log(x)}),e.printErr||(e.printErr=function(x){console.log(x)})):e.print||(e.print=function(){}),ga?window.Module=e:e.load=importScripts):c("Unknown runtime environment. Where are we?");function ma(x){eval.call(ba,x)}!e.load&&e.read&&(e.load=function(x){ma(e.read(x))}),e.print||(e.print=function(){}),e.printErr||(e.printErr=e.print),e.arguments||(e.arguments=[]),e.thisProgram||(e.thisProgram="./this.program"),e.print=e.print,e.n=e.printErr,e.preRun=[],e.postRun=[];for(ea in da)da.hasOwnProperty(ea)&&(e[ea]=da[ea]);var h={ga:function(x){qa=x},aa:function(){return qa},A:function(){return ra},J:function(x){ra=x},Q:function(x){switch(x){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return x[x.length-1]==="*"?h.B:x[0]==="i"?(x=parseInt(x.substr(1)),oa(x%8===0),x/8):0}},P:function(x){return Math.max(h.Q(x),h.B)},ha:16,ua:function(x,V,o){return!o&&(x=="i64"||x=="double")?8:x?Math.min(V||(x?h.P(x):0),h.B):Math.min(V,8)},r:function(x,V,o){return o&&o.length?(o.splice||(o=Array.prototype.slice.call(o)),o.splice(0,0,V),e["dynCall_"+x].apply(ba,o)):e["dynCall_"+x].call(ba,V)},p:[ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba],V:function(x){for(var V=0;V<h.p.length;V++)if(!h.p[V])return h.p[V]=x,2*(1+V);c("Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS.")},fa:function(x){h.p[(x-2)/2]=ba},O:function(a,b){h.F||(h.F={});var f=h.F[a];if(f)return f;for(var f=[],g=0;g<b;g++)f.push("$"+g);g=sa(a),g[0]==='"'&&(g.indexOf('"',1)===g.length-1?g=g.substr(1,g.length-2):ua("invalid EM_ASM input |"+g+"|. Please use EM_ASM(..code..) (no quotes) or EM_ASM({ ..code($0).. }, input) (to input values)"));try{var k=eval("(function(Module, FS) { return function("+f.join(",")+"){ "+g+" } })")(e,typeof va<"u"?va:ba)}catch(x){e.n("error in executing inline EM_ASM code: "+x+` on: 

`+g+`

with args |`+f+"| (make sure to use the right one out of EM_ASM, EM_ASM_ARGS, etc.)"),c(x)}return h.F[a]=k},q:function(x){h.q.I||(h.q.I={}),h.q.I[x]||(h.q.I[x]=1,e.n(x))},G:{},wa:function(x,V){oa(V),h.G[V]||(h.G[V]={});var o=h.G[V];return o[x]||(o[x]=function(){return h.r(V,x,arguments)}),o[x]},M:function(){var x=[],V=0;this.da=function(_o){if(_o&=255,x.length==0)return _o&128?(x.push(_o),V=(_o&224)==192?1:(_o&240)==224?2:3,""):String.fromCharCode(_o);if(V&&(x.push(_o),V--,0<V))return"";var _o=x[0],_r=x[1],l=x[2],e_=x[3];return x.length==2?_o=String.fromCharCode((_o&31)<<6|_r&63):x.length==3?_o=String.fromCharCode((_o&15)<<12|(_r&63)<<6|l&63):(_o=(_o&7)<<18|(_r&63)<<12|(l&63)<<6|e_&63,_o=String.fromCharCode(((_o-65536)/1024|0)+55296,(_o-65536)%1024+56320)),x.length=0,_o},this.ea=function(o){for(var o=unescape(encodeURIComponent(o)),_o=[],_r=0;_r<o.length;_r++)_o.push(o.charCodeAt(_r));return _o}},va:function(){c("You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work")},u:function(x){var V=ra;return ra=ra+x|0,ra=ra+15&-16,V},U:function(x){var V=wa;return wa=wa+x|0,wa=wa+15&-16,V},o:function(x){var V=xa;return xa=xa+x|0,xa=xa+15&-16,xa>=ya&&ua("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+ya+", (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs."),V},C:function(x,V){return Math.ceil(x/(V||16))*(V||16)},ca:function(x,V,o){return o?+(x>>>0)+4294967296*+(V>>>0):+(x>>>0)+4294967296*+(V|0)},L:8,B:4,ia:0};e.Runtime=h,h.addFunction=h.V,h.removeFunction=h.fa;var za=ca,Ba,Da,qa;function oa(x,V){x||ua("Assertion failed: "+V)}function Ea(a){var b=e["_"+a];if(!b)try{b=eval("_"+a)}catch(x){}return oa(b,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)"),b}var Fa,Ga;(function(){function a(x){return x=x.toString().match(k).slice(1),{arguments:x[0],body:x[1],returnValue:x[2]}}var b=0,f={stackSave:function(){b=h.A()},stackRestore:function(){h.J(b)},arrayToC:function(x){var V=h.u(x.length);return Ha(x,V),V},stringToC:function(x){var V=0;return x!==ba&&x!==d&&x!==0&&(V=h.u((x.length<<2)+1),Ia(x,V)),V}},g={string:f.stringToC,array:f.arrayToC};Ga=function(_r,V,o,_o){var _r=Ea(_r),l=[];if(_o)for(var e_=0;e_<_o.length;e_++){var o_=g[o[e_]];o_?(b===0&&(b=h.A()),l[e_]=o_(_o[e_])):l[e_]=_o[e_]}return o=_r.apply(ba,l),V==="string"&&(o=sa(o)),b!==0&&f.stackRestore(),o};var k=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/,n={},m;for(m in f)f.hasOwnProperty(m)&&(n[m]=a(f[m]));Fa=function(b,f,g){var g=g||[],k=Ea(b),b=g.every(function(x){return x==="number"}),m=f!=="string";if(m&&b)return k;var Aa=g.map(function(x,V){return"$"+V}),f="(function("+Aa.join(",")+") {",ib=g.length;if(!b)for(var f=f+(n.stackSave.body+";"),Va=0;Va<ib;Va++){var db=Aa[Va],Ca=g[Va];Ca!=="number"&&(Ca=n[Ca+"ToC"],f+="var "+Ca.arguments+" = "+db+";",f+=Ca.body+";",f+=db+"="+Ca.returnValue+";")}return g=a(function(){return k}).returnValue,f+="var ret = "+g+"("+Aa.join(",")+");",m||(g=a(function(){return sa}).returnValue,f+="ret = "+g+"(ret);"),b||(f+=n.stackRestore.body+";"),eval(f+"return ret})")}})(),e.cwrap=Fa,e.ccall=Ga;function Ja(x,V,o){switch(o=o||"i8",o.charAt(o.length-1)==="*"&&(o="i32"),o){case"i1":Ka[x>>0]=V;break;case"i8":Ka[x>>0]=V;break;case"i16":La[x>>1]=V;break;case"i32":Ma[x>>2]=V;break;case"i64":Da=[V>>>0,(Ba=V,1<=+Oa(Ba)?0<Ba?(Pa(+Qa(Ba/4294967296),4294967295)|0)>>>0:~~+Ra((Ba-+(~~Ba>>>0))/4294967296)>>>0:0)],Ma[x>>2]=Da[0],Ma[x+4>>2]=Da[1];break;case"float":Sa[x>>2]=V;break;case"double":Ta[x>>3]=V;break;default:ua("invalid type for setValue: "+o)}}e.setValue=Ja;function Ua(x,V){switch(V=V||"i8",V.charAt(V.length-1)==="*"&&(V="i32"),V){case"i1":return Ka[x>>0];case"i8":return Ka[x>>0];case"i16":return La[x>>1];case"i32":return Ma[x>>2];case"i64":return Ma[x>>2];case"float":return Sa[x>>2];case"double":return Ta[x>>3];default:ua("invalid type for setValue: "+V)}return ba}e.getValue=Ua;var Wa=1,Xa=2,Za=4;e.ALLOC_NORMAL=0,e.ALLOC_STACK=Wa,e.ALLOC_STATIC=Xa,e.ALLOC_DYNAMIC=3,e.ALLOC_NONE=Za;function $a(x,V,o_,_o){var _r,l;typeof x=="number"?(_r=aa,l=x):(_r=ca,l=x.length);var e_=typeof V=="string"?V:ba,o_=o_==Za?_o:[ab,h.u,h.U,h.o][o_===d?Xa:o_](Math.max(l,e_?1:V.length));if(_r){for(_o=o_,oa((o_&3)==0),x=o_+(l&-4);_o<x;_o+=4)Ma[_o>>2]=0;for(x=o_+l;_o<x;)Ka[_o++>>0]=0;return o_}if(e_==="i8")return x.subarray||x.slice?bb.set(x,o_):bb.set(new Uint8Array(x),o_),o_;for(var _o=0,i_,_e;_o<l;){var c_=x[_o];typeof c_=="function"&&(c_=h.xa(c_)),_r=e_||V[_o],_r===0?_o++:(_r=="i64"&&(_r="i32"),Ja(o_+_o,c_,_r),_e!==_r&&(i_=h.Q(_r),_e=_r),_o+=i_)}return o_}e.allocate=$a;function sa(x,V){if(V===0||!x)return"";for(var o=ca,_o,_r=0;;){if(_o=bb[x+_r>>0],128<=_o)o=aa;else if(_o==0&&!V)break;if(_r++,V&&_r==V)break}V||(V=_r);var l="";if(!o){for(;0<V;)_o=String.fromCharCode.apply(String,bb.subarray(x,x+Math.min(V,1024))),l=l?l+_o:_o,x+=1024,V-=1024;return l}for(o=new h.M,_r=0;_r<V;_r++)_o=bb[x+_r>>0],l+=o.da(_o);return l}e.Pointer_stringify=sa,e.UTF16ToString=function(x){for(var V=0,o="";;){var _o=La[x+2*V>>1];if(_o==0)return o;++V,o+=String.fromCharCode(_o)}},e.stringToUTF16=function(x,V){for(var o=0;o<x.length;++o)La[V+2*o>>1]=x.charCodeAt(o);La[V+2*x.length>>1]=0},e.UTF32ToString=function(x){for(var V=0,o="";;){var _o=Ma[x+4*V>>2];if(_o==0)return o;++V,65536<=_o?(_o-=65536,o+=String.fromCharCode(55296|_o>>10,56320|_o&1023)):o+=String.fromCharCode(_o)}},e.stringToUTF32=function(x,V){for(var o=0,_o=0;_o<x.length;++_o){var l=x.charCodeAt(_o);if(55296<=l&&57343>=l)var _r=x.charCodeAt(++_o),l=65536+((l&1023)<<10)|_r&1023;Ma[V+4*o>>2]=l,++o}Ma[V+4*o>>2]=0};function cb(x){function V(c_,s_,h_){var s_=s_||1/0,w_="",L_=[],y_;if(x[l]==="N"){for(l++,x[l]==="K"&&l++,y_=[];x[l]!=="E";)if(x[l]==="S"){l++;var I_=x.indexOf("_",l);y_.push(o_[x.substring(l,I_)||0]||"?"),l=I_+1}else if(x[l]==="C")y_.push(y_[y_.length-1]),l+=2;else{var I_=parseInt(x.substr(l)),k_=I_.toString().length;if(!I_||!k_){l--;break}var j_=x.substr(l+k_,I_);y_.push(j_),o_.push(j_),l+=k_+I_}if(l++,y_=y_.join("::"),s_--,s_===0)return c_?[y_]:y_}else(x[l]==="K"||i_&&x[l]==="L")&&l++,(I_=parseInt(x.substr(l)))&&(k_=I_.toString().length,y_=x.substr(l+k_,I_),l+=k_+I_);i_=ca,x[l]==="I"?(l++,I_=V(aa),k_=V(aa,1,aa),w_+=k_[0]+" "+y_+"<"+I_.join(", ")+">"):w_=y_;t:for(;l<x.length&&0<s_--;)if(y_=x[l++],y_ in e_)L_.push(e_[y_]);else switch(y_){case"P":L_.push(V(aa,1,aa)[0]+"*");break;case"R":L_.push(V(aa,1,aa)[0]+"&");break;case"L":l++,I_=x.indexOf("E",l)-l,L_.push(x.substr(l,I_)),l+=I_+2;break;case"A":I_=parseInt(x.substr(l)),l+=I_.toString().length,x[l]!=="_"&&c("?"),l++,L_.push(V(aa,1,aa)[0]+" ["+I_+"]");break;case"E":break t;default:w_+="?"+y_;break t}return!h_&&L_.length===1&&L_[0]==="void"&&(L_=[]),c_?(w_&&L_.push(w_+"?"),L_):w_+("("+L_.join(", ")+")")}var o=!!e.___cxa_demangle;if(o)try{var _e=ab(x.length);Ia(x.substr(1),_e);var _o=ab(4),_r=e.___cxa_demangle(_e,0,0,_o);if(Ua(_o,"i32")===0&&_r)return sa(_r)}catch{}finally{_e&&eb(_e),_o&&eb(_o),_r&&eb(_r)}var l=3,e_={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},o_=[],i_=aa,_e=x;try{if(x=="Object._main"||x=="_main")return"main()";if(typeof x=="number"&&(x=sa(x)),x[0]!=="_"||x[1]!=="_"||x[2]!=="Z")return x;switch(x[3]){case"n":return"operator new()";case"d":return"operator delete()"}_e=V()}catch{_e+="?"}return 0<=_e.indexOf("?")&&!o&&h.q("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),_e}function fb(){var x;t:{if(x=Error(),!x.stack){try{c(Error(0))}catch(V){x=V}if(!x.stack){x="(no stack trace available)";break t}}x=x.stack.toString()}return x.replace(/__Z[\w\d_]+/g,function(V){var o=cb(V);return V===o?V:V+" ["+o+"]"})}e.stackTrace=function(){return fb()};for(var Ka,bb,La,gb,Ma,hb,Sa,Ta,jb=0,wa=0,kb=0,ra=0,lb=0,mb=0,xa=0,nb=e.TOTAL_STACK||5242880,ya=e.TOTAL_MEMORY||16777216,ob=65536;ob<ya||ob<2*nb;)ob=16777216>ob?2*ob:ob+16777216;ob!==ya&&(e.n("increasing TOTAL_MEMORY to "+ob+" to be compliant with the asm.js spec"),ya=ob),oa(typeof Int32Array<"u"&&typeof Float64Array<"u"&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var pb=new ArrayBuffer(ya);Ka=new Int8Array(pb),La=new Int16Array(pb),Ma=new Int32Array(pb),bb=new Uint8Array(pb),gb=new Uint16Array(pb),hb=new Uint32Array(pb),Sa=new Float32Array(pb),Ta=new Float64Array(pb),Ma[0]=255,oa(bb[0]===255&&bb[3]===0,"Typed arrays 2 must be run on a little-endian system"),e.HEAP=d,e.buffer=pb,e.HEAP8=Ka,e.HEAP16=La,e.HEAP32=Ma,e.HEAPU8=bb,e.HEAPU16=gb,e.HEAPU32=hb,e.HEAPF32=Sa,e.HEAPF64=Ta;function qb(x){for(;0<x.length;){var V=x.shift();if(typeof V=="function")V();else{var o=V.ta;typeof o=="number"?V.D===d?h.r("v",o):h.r("vi",o,[V.D]):o(V.D===d?ba:V.D)}}}var rb=[],sb=[],tb=[],ub=[],vb=[],wb=ca;function yb(x){rb.unshift(x)}e.addOnPreRun=e.na=yb,e.addOnInit=e.ka=function(x){sb.unshift(x)},e.addOnPreMain=e.ma=function(x){tb.unshift(x)},e.addOnExit=e.ja=function(x){ub.unshift(x)};function zb(x){vb.unshift(x)}e.addOnPostRun=e.la=zb;function Ab(x,V,o){return x=new h.M().ea(x),o&&(x.length=o),V||x.push(0),x}e.intArrayFromString=Ab;function Bb(x){for(var V=[],o=0;o<x.length;o++){var _o=x[o];255<_o&&(_o&=255),V.push(String.fromCharCode(_o))}return V.join("")}e.intArrayToString=Bb;function Ia(x,V,o){for(x=Ab(x,o),o=0;o<x.length;)Ka[V+o>>0]=x[o],o+=1}e.writeStringToMemory=Ia;function Ha(x,V){for(var o=0;o<x.length;o++)Ka[V+o>>0]=x[o]}e.writeArrayToMemory=Ha,e.writeAsciiToMemory=function(x,V,o){for(var _o=0;_o<x.length;_o++)Ka[V+_o>>0]=x.charCodeAt(_o);o||(Ka[V+x.length>>0]=0)};function Cb(x,V){return 0<=x?x:32>=V?2*Math.abs(1<<V-1)+x:Math.pow(2,V)+x}function Db(x,V){if(0>=x)return x;var o=32>=V?Math.abs(1<<V-1):Math.pow(2,V-1);return x>=o&&(32>=V||x>o)&&(x=-2*o+x),x}(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(x,V){var o=x&65535,_o=V&65535;return o*_o+((x>>>16)*_o+o*(V>>>16)<<16)|0}),Math.za=Math.imul;var Oa=Math.abs,Eb=Math.cos,Fb=Math.sin,Gb=Math.atan2,Hb=Math.sqrt,Ra=Math.ceil,Qa=Math.floor,Pa=Math.min,Ib=0,Jb=ba,Kb=ba;function Lb(){Ib++,e.monitorRunDependencies&&e.monitorRunDependencies(Ib)}e.addRunDependency=Lb;function Mb(){if(Ib--,e.monitorRunDependencies&&e.monitorRunDependencies(Ib),Ib==0&&(Jb!==ba&&(clearInterval(Jb),Jb=ba),Kb)){var x=Kb;Kb=ba,x()}}e.removeRunDependency=Mb,e.preloadedImages={},e.preloadedAudios={};var Nb=ba,jb=8,wa=jb+19808;sb.push(),$a([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,200,3,0,0,42,0,0,0,43,0,0,0,42,0,0,0,43,0,0,0,42,0,0,0,42,0,0,0,44,0,0,0,42,0,0,0,54,74,83,68,114,97,119,0,54,98,50,68,114,97,119,0,136,74,0,0,184,3,0,0,176,74,0,0,176,3,0,0,192,3,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,84,114,97,110,115,102,111,114,109,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,84,114,97,110,115,102,111,114,109,46,39,59,32,115,101,108,102,46,68,114,97,119,84,114,97,110,115,102,111,114,109,40,36,49,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,83,101,103,109,101,110,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,83,101,103,109,101,110,116,46,39,59,32,115,101,108,102,46,68,114,97,119,83,101,103,109,101,110,116,40,36,49,44,36,50,44,36,51,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,83,111,108,105,100,67,105,114,99,108,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,83,111,108,105,100,67,105,114,99,108,101,46,39,59,32,115,101,108,102,46,68,114,97,119,83,111,108,105,100,67,105,114,99,108,101,40,36,49,44,36,50,44,36,51,44,36,52,41,59,32,125,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,67,105,114,99,108,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,67,105,114,99,108,101,46,39,59,32,115,101,108,102,46,68,114,97,119,67,105,114,99,108,101,40,36,49,44,36,50,44,36,51,41,59,32,125,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,83,111,108,105,100,80,111,108,121,103,111,110,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,83,111,108,105,100,80,111,108,121,103,111,110,46,39,59,32,115,101,108,102,46,68,114,97,119,83,111,108,105,100,80,111,108,121,103,111,110,40,36,49,44,36,50,44,36,51,41,59,32,125,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,80,111,108,121,103,111,110,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,80,111,108,121,103,111,110,46,39,59,32,115,101,108,102,46,68,114,97,119,80,111,108,121,103,111,110,40,36,49,44,36,50,44,36,51,41,59,32,125,0,0,0,0,0,56,9,0,0,44,0,0,0,45,0,0,0,42,0,0,0,0,0,0,0,49,53,74,83,67,111,110,116,97,99,116,70,105,108,116,101,114,0,0,0,0,0,0,0,176,74,0,0,32,9,0,0,40,49,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,70,105,108,116,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,83,104,111,117,108,100,67,111,108,108,105,100,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,70,105,108,116,101,114,58,58,83,104,111,117,108,100,67,111,108,108,105,100,101,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,46,83,104,111,117,108,100,67,111,108,108,105,100,101,40,36,49,44,36,50,41,59,32,125,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,80,111,108,121,103,111,110,83,104,97,112,101,46,104,0,0,0,0,0,0,0,0,208,10,0,0,46,0,0,0,47,0,0,0,43,0,0,0,44,0,0,0,42,0,0,0,43,0,0,0,49,55,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0,0,0,0,0,49,55,98,50,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0,0,0,0,0,136,74,0,0,176,10,0,0,176,74,0,0,152,10,0,0,200,10,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,80,111,115,116,83,111,108,118,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,80,111,115,116,83,111,108,118,101,46,39,59,32,115,101,108,102,46,80,111,115,116,83,111,108,118,101,40,36,49,44,36,50,41,59,32,125,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,80,114,101,83,111,108,118,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,80,114,101,83,111,108,118,101,46,39,59,32,115,101,108,102,46,80,114,101,83,111,108,118,101,40,36,49,44,36,50,41,59,32,125,0,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,69,110,100,67,111,110,116,97,99,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,69,110,100,67,111,110,116,97,99,116,46,39,59,32,115,101,108,102,46,69,110,100,67,111,110,116,97,99,116,40,36,49,41,59,32,125,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,66,101,103,105,110,67,111,110,116,97,99,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,66,101,103,105,110,67,111,110,116,97,99,116,46,39,59,32,115,101,108,102,46,66,101,103,105,110,67,111,110,116,97,99,116,40,36,49,41,59,32,125,0,0,0,0,0,0,0,0,0,0,216,14,0,0,48,0,0,0,49,0,0,0,42,0,0,0,0,0,0,0,49,55,74,83,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,49,55,98,50,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,136,74,0,0,184,14,0,0,176,74,0,0,160,14,0,0,208,14,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,82,101,112,111,114,116,70,105,120,116,117,114,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,58,58,82,101,112,111,114,116,70,105,120,116,117,114,101,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,46,82,101,112,111,114,116,70,105,120,116,117,114,101,40,36,49,44,36,50,44,36,51,44,36,52,41,59,32,125,0,0,0,0,0,0,0,56,16,0,0,50,0,0,0,51,0,0,0,42,0,0,0,0,0,0,0,49,53,74,83,81,117,101,114,121,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,49,53,98,50,81,117,101,114,121,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,136,74,0,0,24,16,0,0,176,74,0,0,0,16,0,0,48,16,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,81,117,101,114,121,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,82,101,112,111,114,116,70,105,120,116,117,114,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,81,117,101,114,121,67,97,108,108,98,97,99,107,58,58,82,101,112,111,114,116,70,105,120,116,117,114,101,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,46,82,101,112,111,114,116,70,105,120,116,117,114,101,40,36,49,41,59,32,125,0,0,0,0,0,0,0,0,48,32,60,61,32,99,104,105,108,100,73,110,100,101,120,32,38,38,32,99,104,105,108,100,73,110,100,101,120,32,60,32,109,95,112,114,111,120,121,67,111,117,110,116,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,70,105,120,116,117,114,101,46,104,0,71,101,116,65,65,66,66,0,98,50,73,115,86,97,108,105,100,40,100,101,110,115,105,116,121,41,32,38,38,32,100,101,110,115,105,116,121,32,62,61,32,48,46,48,102,0,0,0,83,101,116,68,101,110,115,105,116,121,0,0,0,0,0,0,0,0,0,0,104,18,0,0,52,0,0,0,53,0,0,0,45,0,0,0,46,0,0,0,47,0,0,0,48,0,0,0,50,49,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,0,50,56,98,50,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,87,114,97,112,112,101,114,0,0,50,49,98,50,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,0,136,74,0,0,48,18,0,0,16,75,0,0,16,18,0,0,0,0,0,0,1,0,0,0,72,18,0,0,0,0,0,0,176,74,0,0,248,17,0,0,80,18,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,83,97,121,71,111,111,100,98,121,101,70,105,120,116,117,114,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,58,58,83,97,121,71,111,111,100,98,121,101,70,105,120,116,117,114,101,46,39,59,32,115,101,108,102,46,83,97,121,71,111,111,100,98,121,101,70,105,120,116,117,114,101,40,36,49,41,59,32,125,0,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,83,97,121,71,111,111,100,98,121,101,74,111,105,110,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,58,58,83,97,121,71,111,111,100,98,121,101,74,111,105,110,116,46,39,59,32,115,101,108,102,46,83,97,121,71,111,111,100,98,121,101,74,111,105,110,116,40,36,49,41,59,32,125,0,0,0,0,0,0,0,0,0,248,21,0,0,49,0,0,0,50,0,0,0,42,0,0,0,42,0,0,0,54,0,0,0,51,0,0,0,55,0,0,0,56,0,0,0,52,0,0,0,53,0,0,0,43,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,77,111,116,111,114,74,111,105,110,116,46,99,112,112,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,102,97,99,116,111,114,41,32,38,38,32,48,46,48,102,32,60,61,32,102,97,99,116,111,114,32,38,38,32,102,97,99,116,111,114,32,60,61,32,49,46,48,102,0,0,0,83,101,116,67,111,114,114,101,99,116,105,111,110,70,97,99,116,111,114,0,0,0,0,0,32,32,98,50,77,111,116,111,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,32,32,106,100,46,108,105,110,101,97,114,79,102,102,115,101,116,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,97,110,103,117,108,97,114,79,102,102,115,101,116,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,106,100,46,99,111,114,114,101,99,116,105,111,110,70,97,99,116,111,114,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,49,50,98,50,77,111,116,111,114,74,111,105,110,116,0,0,55,98,50,74,111,105,110,116,0,0,0,0,0,0,0,0,136,74,0,0,224,21,0,0,176,74,0,0,208,21,0,0,240,21,0,0,0,0,0,0,100,101,110,32,62,32,48,46,48,102,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,67,111,108,108,105,100,101,69,100,103,101,46,99,112,112,0,0,98,50,67,111,108,108,105,100,101,69,100,103,101,65,110,100,67,105,114,99,108,101,0,0,48,32,60,61,32,101,100,103,101,49,32,38,38,32,101,100,103,101,49,32,60,32,112,111,108,121,49,45,62,109,95,99,111,117,110,116,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,67,111,108,108,105,100,101,80,111,108,121,103,111,110,46,99,112,112,0,0,0,0,0,0,0,98,50,70,105,110,100,73,110,99,105,100,101,110,116,69,100,103,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,99,104,97,105,110,45,62,109,95,99,111,117,110,116,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,105,115,116,97,110,99,101,46,99,112,112,0,0,0,0,0,98,50,68,105,115,116,97,110,99,101,0,0,0,0,0,0,71,101,116,77,101,116,114,105,99,0,0,0,0,0,0,0,71,101,116,87,105,116,110,101,115,115,80,111,105,110,116,115,0,0,0,0,0,0,0,0,99,97,99,104,101,45,62,99,111,117,110,116,32,60,61,32,51,0,0,0,0,0,0,0,82,101,97,100,67,97,99,104,101,0,0,0,0,0,0,0,109,95,110,111,100,101,67,111,117,110,116,32,61,61,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,121,110,97,109,105,99,84,114,101,101,46,99,112,112,0,0,65,108,108,111,99,97,116,101,78,111,100,101,0,0,0,0,48,32,60,61,32,110,111,100,101,73,100,32,38,38,32,110,111,100,101,73,100,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,70,114,101,101,78,111,100,101,0,0,0,0,0,0,0,0,48,32,60,32,109,95,110,111,100,101,67,111,117,110,116,0,68,101,115,116,114,111,121,80,114,111,120,121,0,0,0,0,109,95,110,111,100,101,115,91,112,114,111,120,121,73,100,93,46,73,115,76,101,97,102,40,41,0,0,0,0,0,0,0,77,111,118,101,80,114,111,120,121,0,0,0,0,0,0,0,99,104,105,108,100,49,32,33,61,32,40,45,49,41,0,0,73,110,115,101,114,116,76,101,97,102,0,0,0,0,0,0,99,104,105,108,100,50,32,33,61,32,40,45,49,41,0,0,105,65,32,33,61,32,40,45,49,41,0,0,0,0,0,0,66,97,108,97,110,99,101,0,48,32,60,61,32,105,66,32,38,38,32,105,66,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,48,32,60,61,32,105,67,32,38,38,32,105,67,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,48,32,60,61,32,105,70,32,38,38,32,105,70,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,48,32,60,61,32,105,71,32,38,38,32,105,71,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,109,95,110,111,100,101,115,91,67,45,62,112,97,114,101,110,116,93,46,99,104,105,108,100,50,32,61,61,32,105,65,0,48,32,60,61,32,105,68,32,38,38,32,105,68,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,48,32,60,61,32,105,69,32,38,38,32,105,69,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,109,95,110,111,100,101,115,91,66,45,62,112,97,114,101,110,116,93,46,99,104,105,108,100,50,32,61,61,32,105,65,0,110,111,100,101,45,62,73,115,76,101,97,102,40,41,32,61,61,32,102,97,108,115,101,0,71,101,116,77,97,120,66,97,108,97,110,99,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,116,97,114,103,101,116,32,62,32,116,111,108,101,114,97,110,99,101,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,84,105,109,101,79,102,73,109,112,97,99,116,46,99,112,112,0,98,50,84,105,109,101,79,102,73,109,112,97,99,116,0,0,69,118,97,108,117,97,116,101,0,0,0,0,0,0,0,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,109,95,99,111,117,110,116,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,105,115,116,97,110,99,101,46,104,0,0,0,0,0,0,0,71,101,116,86,101,114,116,101,120,0,0,0,0,0,0,0,70,105,110,100,77,105,110,83,101,112,97,114,97,116,105,111,110,0,0,0,0,0,0,0,48,32,60,32,99,111,117,110,116,32,38,38,32,99,111,117,110,116,32,60,32,51,0,0,0,0,0,0,208,28,0,0,57,0,0,0,58,0,0,0,44,0,0,0,42,0,0,0,43,0,0,0,42,0,0,0,45,0,0,0,43,0,0,0,109,95,118,101,114,116,105,99,101,115,32,61,61,32,48,76,32,38,38,32,109,95,99,111,117,110,116,32,61,61,32,48,0,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,67,104,97,105,110,83,104,97,112,101,46,99,112,112,0,0,0,0,67,114,101,97,116,101,76,111,111,112,0,0,0,0,0,0,98,50,68,105,115,116,97,110,99,101,83,113,117,97,114,101,100,40,118,49,44,32,118,50,41,32,62,32,48,46,48,48,53,102,32,42,32,48,46,48,48,53,102,0,0,0,0,0,67,114,101,97,116,101,67,104,97,105,110,0,0,0,0,0,99,111,117,110,116,32,62,61,32,50,0,0,0,0,0,0,98,50,68,105,115,116,97,110,99,101,83,113,117,97,114,101,100,40,118,101,114,116,105,99,101,115,91,105,45,49,93,44,32,118,101,114,116,105,99,101,115,91,105,93,41,32,62,32,48,46,48,48,53,102,32,42,32,48,46,48,48,53,102,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,109,95,99,111,117,110,116,32,45,32,49,0,0,0,0,0,0,0,71,101,116,67,104,105,108,100,69,100,103,101,0,0,0,0,99,104,105,108,100,73,110,100,101,120,32,60,32,109,95,99,111,117,110,116,0,0,0,0,67,111,109,112,117,116,101,65,65,66,66,0,0,0,0,0,49,50,98,50,67,104,97,105,110,83,104,97,112,101,0,0,55,98,50,83,104,97,112,101,0,0,0,0,0,0,0,0,136,74,0,0,184,28,0,0,176,74,0,0,168,28,0,0,200,28,0,0,0,0,0,0,0,0,0,0,24,29,0,0,59,0,0,0,60,0,0,0,45,0,0,0,43,0,0,0,44,0,0,0,43,0,0,0,46,0,0,0,44,0,0,0,49,51,98,50,67,105,114,99,108,101,83,104,97,112,101,0,176,74,0,0,8,29,0,0,200,28,0,0,0,0,0,0,0,0,0,0,96,29,0,0,61,0,0,0,62,0,0,0,46,0,0,0,44,0,0,0,45,0,0,0,44,0,0,0,47,0,0,0,45,0,0,0,49,49,98,50,69,100,103,101,83,104,97,112,101,0,0,0,176,74,0,0,80,29,0,0,200,28,0,0,0,0,0,0,51,32,60,61,32,99,111,117,110,116,32,38,38,32,99,111,117,110,116,32,60,61,32,56,0,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,80,111,108,121,103,111,110,83,104,97,112,101,46,99,112,112,0,0,83,101,116,0,0,0,0,0,101,100,103,101,46,76,101,110,103,116,104,83,113,117,97,114,101,100,40,41,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,32,42,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,0,0,0,0,0,0,0,48,46,48,102,32,60,61,32,108,111,119,101,114,32,38,38,32,108,111,119,101,114,32,60,61,32,105,110,112,117,116,46,109,97,120,70,114,97,99,116,105,111,110,0,0,0,0,0,109,95,99,111,117,110,116,32,62,61,32,51,0,0,0,0,67,111,109,112,117,116,101,77,97,115,115,0,0,0,0,0,97,114,101,97,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,0,0,0,0,0,208,30,0,0,63,0,0,0,64,0,0,0,47,0,0,0,45,0,0,0,46,0,0,0,45,0,0,0,48,0,0,0,46,0,0,0,49,52,98,50,80,111,108,121,103,111,110,83,104,97,112,101,0,0,0,0,0,0,0,0,176,74,0,0,184,30,0,0,200,28,0,0,0,0,0,0,99,111,117,110,116,32,62,61,32,51,0,0,0,0,0,0,67,111,109,112,117,116,101,67,101,110,116,114,111,105,100,0,16,0,0,0,32,0,0,0,64,0,0,0,96,0,0,0,128,0,0,0,160,0,0,0,192,0,0,0,224,0,0,0,0,1,0,0,64,1,0,0,128,1,0,0,192,1,0,0,0,2,0,0,128,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,106,32,60,32,98,50,95,98,108,111,99,107,83,105,122,101,115,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,46,99,112,112,0,0,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,0,0,0,0,0,0,0,0,48,32,60,32,115,105,122,101,0,0,0,0,0,0,0,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,98,50,95,98,108,111,99,107,83,105,122,101,115,0,0,0,0,0,98,108,111,99,107,67,111,117,110,116,32,42,32,98,108,111,99,107,83,105,122,101,32,60,61,32,98,50,95,99,104,117,110,107,83,105,122,101,0,0,109,95,105,110,100,101,120,32,61,61,32,48,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,83,116,97,99,107,65,108,108,111,99,97,116,111,114,46,99,112,112,0,0,126,98,50,83,116,97,99,107,65,108,108,111,99,97,116,111,114,0,0,0,0,0,0,0,109,95,101,110,116,114,121,67,111,117,110,116,32,61,61,32,48,0,0,0,0,0,0,0,109,95,101,110,116,114,121,67,111,117,110,116,32,60,32,98,50,95,109,97,120,83,116,97,99,107,69,110,116,114,105,101,115,0,0,0,0,0,0,0,65,108,108,111,99,97,116,101,0,0,0,0,0,0,0,0,109,95,101,110,116,114,121,67,111,117,110,116,32,62,32,48,0,0,0,0,0,0,0,0,70,114,101,101,0,0,0,0,112,32,61,61,32,101,110,116,114,121,45,62,100,97,116,97,0,0,0,0,0,0,0,0,98,100,45,62,112,111,115,105,116,105,111,110,46,73,115,86,97,108,105,100,40,41,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,66,111,100,121,46,99,112,112,0,0,98,50,66,111,100,121,0,0,98,100,45,62,108,105,110,101,97,114,86,101,108,111,99,105,116,121,46,73,115,86,97,108,105,100,40,41,0,0,0,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,108,101,41,0,0,0,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,117,108,97,114,86,101,108,111,99,105,116,121,41,0,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,117,108,97,114,68,97,109,112,105,110,103,41,32,38,38,32,98,100,45,62,97,110,103,117,108,97,114,68,97,109,112,105,110,103,32,62,61,32,48,46,48,102,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,108,105,110,101,97,114,68,97,109,112,105,110,103,41,32,38,38,32,98,100,45,62,108,105,110,101,97,114,68,97,109,112,105,110,103,32,62,61,32,48,46,48,102,0,0,0,0,0,0,0,109,95,119,111,114,108,100,45,62,73,115,76,111,99,107,101,100,40,41,32,61,61,32,102,97,108,115,101,0,0,0,0,83,101,116,84,121,112,101,0,67,114,101,97,116,101,70,105,120,116,117,114,101,0,0,0,68,101,115,116,114,111,121,70,105,120,116,117,114,101,0,0,102,105,120,116,117,114,101,45,62,109,95,98,111,100,121,32,61,61,32,116,104,105,115,0,109,95,102,105,120,116,117,114,101,67,111,117,110,116,32,62,32,48,0,0,0,0,0,0,102,111,117,110,100,0,0,0,109,95,116,121,112,101,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,0,0,0,0,0,0,0,0,82,101,115,101,116,77,97,115,115,68,97,116,97,0,0,0,109,95,73,32,62,32,48,46,48,102,0,0,0,0,0,0,83,101,116,77,97,115,115,68,97,116,97,0,0,0,0,0,83,101,116,84,114,97,110,115,102,111,114,109,0,0,0,0,83,101,116,65,99,116,105,118,101,0,0,0,0,0,0,0,32,32,98,50,66,111,100,121,68,101,102,32,98,100,59,10,0,0,0,0,0,0,0,0,32,32,98,100,46,116,121,112,101,32,61,32,98,50,66,111,100,121,84,121,112,101,40,37,100,41,59,10,0,0,0,0,32,32,98,100,46,112,111,115,105,116,105,111,110,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,32,32,98,100,46,97,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,98,100,46,108,105,110,101,97,114,86,101,108,111,99,105,116,121,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,32,32,98,100,46,97,110,103,117,108,97,114,86,101,108,111,99,105,116,121,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,0,32,32,98,100,46,108,105,110,101,97,114,68,97,109,112,105,110,103,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,98,100,46,97,110,103,117,108,97,114,68,97,109,112,105,110,103,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,98,100,46,97,108,108,111,119,83,108,101,101,112,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,32,32,98,100,46,97,119,97,107,101,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,98,100,46,102,105,120,101,100,82,111,116,97,116,105,111,110,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,98,100,46,98,117,108,108,101,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,0,0,32,32,98,100,46,97,99,116,105,118,101,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,0,0,32,32,98,100,46,103,114,97,118,105,116,121,83,99,97,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,32,32,98,111,100,105,101,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,66,111,100,121,40,38,98,100,41,59,10,0,0,0,0,0,0,0,32,32,123,10,0,0,0,0,32,32,125,10,0,0,0,0,0,49,0,0,0,0,0,0,224,39,0,0,0,0,0,0,109,95,99,111,117,110,116,32,62,32,48,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,71,114,111,119,97,98,108,101,83,116,97,99,107,46,104,0,0,0,0,0,80,111,112,0,0,0,0,0,0,0,0,0,200,10,0,0,65,0,0,0,66,0,0,0,54,0,0,0,55,0,0,0,44,0,0,0,45,0,0,0,109,95,112,114,111,120,121,67,111,117,110,116,32,61,61,32],"i8",Za,h.L),$a([48,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,70,105,120,116,117,114,101,46,99,112,112,0,0,0,0,0,0,0,67,114,101,97,116,101,80,114,111,120,105,101,115,0,0,0,32,32,32,32,98,50,70,105,120,116,117,114,101,68,101,102,32,102,100,59,10,0,0,0,32,32,32,32,102,100,46,102,114,105,99,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,32,32,102,100,46,114,101,115,116,105,116,117,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,32,32,102,100,46,100,101,110,115,105,116,121,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,32,32,32,32,102,100,46,105,115,83,101,110,115,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,32,32,32,32,102,100,46,102,105,108,116,101,114,46,99,97,116,101,103,111,114,121,66,105,116,115,32,61,32,117,105,110,116,49,54,40,37,100,41,59,10,0,0,0,0,0,0,0,32,32,32,32,102,100,46,102,105,108,116,101,114,46,109,97,115,107,66,105,116,115,32,61,32,117,105,110,116,49,54,40,37,100,41,59,10,0,0,0,32,32,32,32,102,100,46,102,105,108,116,101,114,46,103,114,111,117,112,73,110,100,101,120,32,61,32,105,110,116,49,54,40,37,100,41,59,10,0,0,32,32,32,32,98,50,67,105,114,99,108,101,83,104,97,112,101,32,115,104,97,112,101,59,10,0,0,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,114,97,100,105,117,115,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,32,32,115,104,97,112,101,46,109,95,112,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,32,32,32,32,98,50,69,100,103,101,83,104,97,112,101,32,115,104,97,112,101,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,48,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,49,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,50,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,51,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,86,101,114,116,101,120,48,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,86,101,114,116,101,120,51,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,32,32,32,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,32,115,104,97,112,101,59,10,0,0,0,0,0,0,32,32,32,32,98,50,86,101,99,50,32,118,115,91,37,100,93,59,10,0,0,0,0,0,32,32,32,32,118,115,91,37,100,93,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,83,101,116,40,118,115,44,32,37,100,41,59,10,0,32,32,32,32,98,50,67,104,97,105,110,83,104,97,112,101,32,115,104,97,112,101,59,10,0,0,0,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,67,114,101,97,116,101,67,104,97,105,110,40,118,115,44,32,37,100,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,112,114,101,118,86,101,114,116,101,120,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,32,32,32,32,115,104,97,112,101,46,109,95,110,101,120,116,86,101,114,116,101,120,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,80,114,101,118,86,101,114,116,101,120,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,78,101,120,116,86,101,114,116,101,120,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,10,0,0,0,0,0,0,0,32,32,32,32,102,100,46,115,104,97,112,101,32,61,32,38,115,104,97,112,101,59,10,0,32,32,32,32,98,111,100,105,101,115,91,37,100,93,45,62,67,114,101,97,116,101,70,105,120,116,117,114,101,40,38,102,100,41,59,10,0,0,0,0,116,111,105,73,110,100,101,120,65,32,60,32,109,95,98,111,100,121,67,111,117,110,116,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,73,115,108,97,110,100,46,99,112,112,0,0,0,0,0,0,0,0,116,111,105,73,110,100,101,120,66,32,60,32,109,95,98,111,100,121,67,111,117,110,116,0,73,115,76,111,99,107,101,100,40,41,32,61,61,32,102,97,108,115,101,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,87,111,114,108,100,46,99,112,112,0,67,114,101,97,116,101,66,111,100,121,0,0,0,0,0,0,109,95,98,111,100,121,67,111,117,110,116,32,62,32,48,0,68,101,115,116,114,111,121,66,111,100,121,0,0,0,0,0,67,114,101,97,116,101,74,111,105,110,116,0,0,0,0,0,68,101,115,116,114,111,121,74,111,105,110,116,0,0,0,0,109,95,106,111,105,110,116,67,111,117,110,116,32,62,32,48,0,0,0,0,0,0,0,0,98,45,62,73,115,65,99,116,105,118,101,40,41,32,61,61,32,116,114,117,101,0,0,0,83,111,108,118,101,0,0,0,115,116,97,99,107,67,111,117,110,116,32,60,32,115,116,97,99,107,83,105,122,101,0,0,116,121,112,101,65,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,32,124,124,32,116,121,112,101,66,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,0,0,0,0,0,0,83,111,108,118,101,84,79,73,0,0,0,0,0,0,0,0,97,108,112,104,97,48,32,60,32,49,46,48,102,0,0,0,118,101,114,116,101,120,67,111,117,110,116,32,60,61,32,56,0,0,0,0,0,0,0,0,68,114,97,119,83,104,97,112,101,0,0,0,0,0,0,0,98,50,86,101,99,50,32,103,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,109,95,119,111,114,108,100,45,62,83,101,116,71,114,97,118,105,116,121,40,103,41,59,10,0,0,0,0,0,0,0,0,98,50,66,111,100,121,42,42,32,98,111,100,105,101,115,32,61,32,40,98,50,66,111,100,121,42,42,41,98,50,65,108,108,111,99,40,37,100,32,42,32,115,105,122,101,111,102,40,98,50,66,111,100,121,42,41,41,59,10,0,0,0,0,0,98,50,74,111,105,110,116,42,42,32,106,111,105,110,116,115,32,61,32,40,98,50,74,111,105,110,116,42,42,41,98,50,65,108,108,111,99,40,37,100,32,42,32,115,105,122,101,111,102,40,98,50,74,111,105,110,116,42,41,41,59,10,0,0,123,10,0,0,0,0,0,0,125,10,0,0,0,0,0,0,98,50,70,114,101,101,40,106,111,105,110,116,115,41,59,10,0,0,0,0,0,0,0,0,98,50,70,114,101,101,40,98,111,100,105,101,115,41,59,10,0,0,0,0,0,0,0,0,106,111,105,110,116,115,32,61,32,78,85,76,76,59,10,0,98,111,100,105,101,115,32,61,32,78,85,76,76,59,10,0,114,46,76,101,110,103,116,104,83,113,117,97,114,101,100,40,41,32,62,32,48,46,48,102,0,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,121,110,97,109,105,99,84,114,101,101,46,104,0,0,0,0,82,97,121,67,97,115,116,0,48,32,60,61,32,112,114,111,120,121,73,100,32,38,38,32,112,114,111,120,121,73,100,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,0,0,0,0,0,0,71,101,116,85,115,101,114,68,97,116,97,0,0,0,0,0,71,101,116,70,97,116,65,65,66,66,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,77,97,116,104,46,104,0,0,0,0,0,0,65,100,118,97,110,99,101,0,109,95,106,111,105,110,116,67,111,117,110,116,32,60,32,109,95,106,111,105,110,116,67,97,112,97,99,105,116,121,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,73,115,108,97,110,100,46,104,0,0,65,100,100,0,0,0,0,0,109,95,99,111,110,116,97,99,116,67,111,117,110,116,32,60,32,109,95,99,111,110,116,97,99,116,67,97,112,97,99,105,116,121,0,0,0,0,0,0,109,95,98,111,100,121,67,111,117,110,116,32,60,32,109,95,98,111,100,121,67,97,112,97,99,105,116,121,0,0,0,0,0,0,0,0,40,49,0,0,67,0,0,0,68,0,0,0,47,0,0,0,0,0,0,0,49,53,98,50,67,111,110,116,97,99,116,70,105,108,116,101,114,0,0,0,0,0,0,0,136,74,0,0,16,49,0,0,0,0,0,0,224,49,0,0,49,0,0,0,69,0,0,0,70,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,0,0,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,50,51,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,57,98,50,67,111,110,116,97,99,116,0,0,0,0,0,0,136,74,0,0,200,49,0,0,176,74,0,0,168,49,0,0,216,49,0,0,0,0,0,0,0,0,0,0,192,50,0,0,50,0,0,0,71,0,0,0,72,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,104,97,105,110,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,0,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,0,0,50,52,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,176,74,0,0,160,50,0,0,216,49,0,0,0,0,0,0,0,0,0,0,128,51,0,0,51,0,0,0,73,0,0,0,74,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,105,114,99,108,101,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,0,0,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,0,49,53,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,176,74,0,0,104,51,0,0,216,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,32,60,61,32,116,121,112,101,49,32,38,38,32,116,121,112,101,49,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,48,32,60,61,32,116,121,112,101,50,32,38,38,32,116,121,112,101,50,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0,0,0,0,0,0,115,95,105,110,105,116,105,97,108,105,122,101,100,32,61,61,32,116,114,117,101,0,0,0,48,32,60,61,32,116,121,112,101,65,32,38,38,32,116,121,112,101,66,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0,0,0,0,0,0,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,46,99,112,112,0,0,0,0,0,0,0,0,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,0,109,97,110,105,102,111,108,100,45,62,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0,0,0,0,0,0,0,0,73,110,105,116,105,97,108,105,122,101,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,0,0,0,112,111,105,110,116,67,111,117,110,116,32,61,61,32,49,32,124,124,32,112,111,105,110,116,67,111,117,110,116,32,61,61,32,50,0,0,0,0,0,0,83,111,108,118,101,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,0,0,0,0,0,0,0,0,97,46,120,32,62,61,32,48,46,48,102,32,38,38,32,97,46,121,32,62,61,32,48,46,48,102,0,0,0,0,0,0,112,99,45,62,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0,0,0,0,0,0,0,0,0,0,232,54,0,0,52,0,0,0,75,0,0,0,76,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,50,50,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,0,176,74,0,0,200,54,0,0,216,49,0,0,0,0,0,0,0,0,0,0,192,55,0,0,53,0,0,0,77,0,0,0,78,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,101,100,103,101,0,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,0,0,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,50,51,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,0,176,74,0,0,160,55,0,0,216,49,0,0,0,0,0,0,0,0,0,0,160,56,0,0,54,0,0,0,79,0,0,0,80,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,66,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,105,114,99,108,101,0,0,0,0,0,0,50,53,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,176,74,0,0,128,56,0,0,216,49,0,0,0,0,0,0,0,0,0,0,152,57,0,0,55,0,0,0,81,0,0,0,82,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,112,111,108,121,103,111,110,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,0,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,66,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,112,111,108,121,103,111,110,0,0,0,0,0,49,54,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,176,74,0,0,128,57,0,0,216,49,0,0,0,0,0,0,0,0,0,0,48,58,0,0,56,0,0,0,57,0,0,0,47,0,0,0,43,0,0,0,83,0,0,0,51,0,0,0,84,0,0,0,85,0,0,0,58,0,0,0,59,0,0,0,48,0,0,0,0,0,0,0,32,32,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0,49,53,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,0,0,0,0,0,0,0,176,74,0,0,24,58,0,0,240,21,0,0,0,0,0,0,0,0,0,0,152,59,0,0,60,0,0,0,61,0,0,0,48,0,0,0,44,0,0,0,86,0,0,0,51,0,0,0,87,0,0,0,88,0,0,0,62,0,0,0,63,0,0,0,49,0,0,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,102,111,114,99,101,41,32,38,38,32,102,111,114,99,101,32,62,61,32,48,46,48,102,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,46,99,112,112,0,0,83,101,116,77,97,120,70,111,114,99,101,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,116,111,114,113,117,101,41,32,38,38,32,116,111,114,113,117,101,32,62,61,32,48,46,48,102,0,0,0,0,0,83,101,116,77,97,120,84,111,114,113,117,101,0,0,0,0,32,32,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,49,53,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,0,0,0,0,0,0,0,176,74,0,0,128,59,0,0,240,21,0,0,0,0,0,0,0,0,0,0,56,61,0,0,64,0,0,0,65,0,0,0,49,0,0,0,45,0,0,0,89,0,0,0,51,0,0,0,90,0,0,0,91,0,0,0,66,0,0,0,67,0,0,0,50,0,0,0,0,0,0,0,109,95,116,121,112,101,65,32,61,61,32,101,95,114,101,118,111,108,117,116,101,74,111,105,110,116,32,124,124,32,109,95,116,121,112,101,65,32,61,61,32,101,95,112,114,105,115,109,97,116,105,99,74,111,105,110,116,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,71,101,97,114,74,111,105,110,116,46,99,112,112,0,0,0,0,0,0,98,50,71,101,97,114,74,111,105,110,116,0,0,0,0,0,109,95,116,121,112,101,66,32,61,61,32,101,95,114,101,118,111,108,117,116,101,74,111,105,110,116,32,124,124,32,109,95,116,121,112,101,66,32,61,61,32,101,95,112,114,105,115,109,97,116,105,99,74,111,105,110,116,0,0,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,114,97,116,105,111,41,0,0,0,0,0,0,0,0,83,101,116,82,97,116,105,111,0,0,0,0,0,0,0,0,32,32,98,50,71,101,97,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,106,111,105,110,116,49,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0,0,0,0,0,0,32,32,106,100,46,106,111,105,110,116,50,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0,0,0,0,0,0,49,49,98,50,71,101,97,114,74,111,105,110,116,0,0,0,176,74,0,0,40,61,0,0,240,21,0,0,0,0,0,0,102,97,108,115,101,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,74,111,105,110,116,46,99,112,112,0,0,67,114,101,97,116,101,0,0,68,101,115,116,114,111,121,0,0,0,0,0,240,21,0,0,42,0,0,0,42,0,0,0,42,0,0,0,42,0,0,0,92,0,0,0,51,0,0,0,93,0,0,0,94,0,0,0,42,0,0,0,42,0,0,0,42,0,0,0,0,0,0,0,100,101,102,45,62,98,111,100,121,65,32,33,61,32,100,101,102,45,62,98,111,100,121,66,0,0,0,0,0,0,0,0,98,50,74,111,105,110,116,0,47,47,32,68,117,109,112,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,102,111,114,32,116,104,105,115,32,106,111,105,110,116,32,116,121,112,101,46,10,0,0,0,0,0,0,184,63,0,0,68,0,0,0,69,0,0,0,50,0,0,0,46,0,0,0,95,0,0,0,70,0,0,0,96,0,0,0,97,0,0,0,71,0,0,0,72,0,0,0,51,0,0,0,0,0,0,0,100,101,102,45,62,116,97,114,103,101,116,46,73,115,86,97,108,105,100,40,41,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,77,111,117,115,101,74,111,105,110,116,46,99,112,112,0,0,0,0,0,98,50,77,111,117,115,101,74,111,105,110,116,0,0,0,0,98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,109,97,120,70,111,114,99,101,41,32,38,38,32,100,101,102,45,62,109,97,120,70,111,114,99,101,32,62,61,32,48,46,48,102,0,0,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,102,114,101,113,117,101,110,99,121,72,122,41,32,38,38,32,100,101,102,45,62,102,114,101,113,117,101,110,99,121,72,122,32,62,61,32,48,46,48,102,0,98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,100,97,109,112,105,110,103,82,97,116,105,111,41,32,38,38,32,100,101,102,45,62,100,97,109,112,105,110,103,82,97,116,105,111,32,62,61,32,48,46,48,102,0,0,0,0,0,0,0,100,32,43,32,104,32,42,32,107,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,0,0,0,0,73,110,105,116,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,0,49,50,98,50,77,111,117,115,101,74,111,105,110,116,0,0,176,74,0,0,168,63,0,0,240,21,0,0,0,0,0,0,77,111,117,115,101,32,106,111,105,110,116,32,100,117,109,112,105,110,103,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,46,10,0,0,0,0,0,0,8,65,0,0,73,0,0,0,74,0,0,0,51,0,0,0,47,0,0,0,98,0,0,0,51,0,0,0,99,0,0,0,100,0,0,0,75,0,0,0,76,0,0,0,52,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,46,99,112,112,0,32,32,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,119,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,117,112,112,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,77,111,116,111,114,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,49,54,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,0,0,0,0,0,0,176,74,0,0,240,64,0,0,240,21,0,0,0,0,0,0,114,97,116,105,111,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,80,117,108,108,101,121,74,111,105,110,116,46,99,112,112,0,0,0,0,73,110,105,116,105,97,108,105,122,101,0,0,0,0,0,0,0,0,0,0,192,66,0,0,77,0,0,0,78,0,0,0,52,0,0,0,48,0,0,0,101,0,0,0,79,0,0,0,102,0,0,0,103,0,0,0,80,0,0,0,81,0,0,0,53,0,0,0,0,0,0,0,100,101,102,45,62,114,97,116,105,111,32,33,61,32,48,46,48,102,0,0,0,0,0,0,98,50,80,117,108,108,101,121,74,111,105,110,116,0,0,0,32,32,98,50,80,117,108,108,101,121,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,65,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,66,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,0,32,32,106,100,46,114,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,49,51,98,50,80,117,108,108,101,121,74,111,105,110,116,0,176,74,0,0,176,66,0,0,240,21,0,0,0,0,0,0,0,0,0,0,248,67,0,0,82,0,0,0,83,0,0,0,53,0,0,0,49,0,0,0,104,0,0,0,51,0,0,0,105,0,0,0,106,0,0,0,84,0,0,0,85,0,0,0,54,0,0,0,0,0,0,0,108,111,119,101,114,32,60,61,32,117,112,112,101,114,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,46,99,112,112,0,0,83,101,116,76,105,109,105,116,115,0,0,0,0,0,0,0,32,32,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,101,110,97,98,108,101,76,105,109,105,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,108,111,119,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,117,112,112,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,49,53,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,0,0,0,0,0,0,0,176,74,0,0,224,67,0,0,240,21,0,0,0,0,0,0,0,0,0,0,136,68,0,0,86,0,0,0,87,0,0,0,54,0,0,0,50,0,0,0,107,0,0,0,51,0,0,0,108,0,0,0,109,0,0,0,88,0,0,0,89,0,0,0,55,0,0,0,0,0,0,0,32,32,98,50,82,111,112,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,109,97,120,76,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,49,49,98,50,82,111,112,101,74,111,105,110,116,0,0,0,176,74,0,0,120,68,0,0,240,21,0,0,0,0,0,0,0,0,0,0,24,69,0,0,90,0,0,0,91,0,0,0,55,0,0,0,51,0,0,0,110,0,0,0,51,0,0,0,111,0,0,0,112,0,0,0,92,0,0,0,93,0,0,0,56,0,0,0,0,0,0,0,32,32,98,50,87,101,108,100,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,114,101,102,101,114,101,110,99,101,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,49,49,98,50,87,101,108,100,74,111,105,110,116,0,0,0,176,74,0,0,8,69,0,0,240,21,0,0,0,0,0,0,0,0,0,0,72,71,0,0,94,0,0,0,95,0,0,0,56,0,0,0,52,0,0,0,113,0,0,0,51,0,0,0,114,0,0,0,115,0,0,0,96,0,0,0,97,0,0,0,57,0,0,0,0,0,0,0,32,32,98,50,87,104,101,101,108,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,120,105,115,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,101,110,97,98,108,101,77,111,116,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,109,111,116,111,114,83,112,101,101,100,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,109,97,120,77,111,116,111,114,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,102,114,101,113,117,101,110,99,121,72,122,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,32,32,106,100,46,100,97,109,112,105,110,103,82,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,50,98,50,87,104,101,101,108,74,111,105,110,116,0,0,176,74,0,0,56,71,0,0,240,21,0,0,0,0,0,0,43,0,0,0,0,0,0,0,117,110,99,97,117,103,104,116,0,0,0,0,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,0,0,0,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,0,0,116,101,114,109,105,110,97,116,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,0,0,0,0,0,0,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,0,0,0,0,0,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,0,0,0,0,0,0,0,248,72,0,0,116,0,0,0,117,0,0,0,46,0,0,0,0,0,0,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,0,83,116,57,98,97,100,95,97,108,108,111,99,0,0,0,0,176,74,0,0,232,72,0,0,128,73,0,0,0,0,0,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,116,104,114,101,119,32,97,110,32,101,120,99,101,112,116,105,111,110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,116,57,101,120,99,101,112,116,105,111,110,0,0,0,0,136,74,0,0,112,73,0,0,83,116,57,116,121,112,101,95,105,110,102,111,0,0,0,0,136,74,0,0,136,73,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,0,176,74,0,0,160,73,0,0,152,73,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,176,74,0,0,216,73,0,0,200,73,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,176,74,0,0,56,74,0,0,200,73,0,0,0,0,0,0,176,74,0,0,16,74,0,0,96,74,0,0,0,0,0,0,0,0,0,0,0,74,0,0,118,0,0,0,119,0,0,0,120,0,0,0,121,0,0,0,48,0,0,0,42,0,0,0,42,0,0,0,56,0,0,0,0,0,0,0,248,74,0,0,118,0,0,0,122,0,0,0,120,0,0,0,121,0,0,0,48,0,0,0,43,0,0,0,43,0,0,0,57,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,176,74,0,0,208,74,0,0,0,74,0,0,0,0,0,0,0,0,0,0,88,75,0,0,118,0,0,0,123,0,0,0,120,0,0,0,121,0,0,0,48,0,0,0,44,0,0,0,44,0,0,0,58,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,176,74,0,0,48,75,0,0,0,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",Za,h.L+10240);var Ob=h.C($a(12,"i8",Xa),8);oa(Ob%8==0);var Pb=Qa;function Qb(){return!!Qb.K}var Rb=0,Sb=[],Tb={};function Ub(x){if(!x||Tb[x])return x;for(var V in Tb)if(Tb[V].N===x)return V;return x}function Vb(){var x=Rb;if(!x)return i.setTempRet0(0),0|0;var V=Tb[x],o=V.type;if(!o)return i.setTempRet0(0),x|0;var _o=Array.prototype.slice.call(arguments);e.___cxa_is_pointer_type(o),Vb.buffer||(Vb.buffer=ab(4)),Ma[Vb.buffer>>2]=x;for(var x=Vb.buffer,_r=0;_r<_o.length;_r++)if(_o[_r]&&e.___cxa_can_catch(_o[_r],o,x))return x=Ma[x>>2],V.N=x,i.setTempRet0(_o[_r]),x|0;return x=Ma[x>>2],i.setTempRet0(o),x|0}e._memset=Wb;function Xb(x,V){Xb.H||(Xb.H={}),x in Xb.H||(h.r("v",V),Xb.H[x]=1)}e._strlen=Yb;var va=d,Zb=0;function $b(x){return Ma[Zb>>2]=x}var ac=9;function bc(x,V,o){if(x=va.$(x),!x)return $b(ac),-1;try{return va.write(x,Ka,V,o)}catch(_o){return va.ba(_o),-1}}function cc(x){return x=va.R(x),x?x.sa:-1}function dc(x,V){var o=Cb(x&255);Ka[dc.T>>0]=o;var _o=cc(V);return bc(_o,dc.T,1)==-1?((o=va.R(V))&&(o.error=aa),-1):o}var ec={},fc=1;function gc(l,V,o,_o){if(o*=V,o==0)return 0;var _r=cc(_o),l=bc(_r,l,o);return l==-1?((V=va.R(_o))&&(V.error=aa),0):l/V|0}function hc(x){return 0>x||x===0&&1/x===-1/0}function ic(x,V){function o(p2){var u2;return p2==="double"?u2=(Ma[Ob>>2]=Ma[V+_r>>2],Ma[Ob+4>>2]=Ma[V+(_r+4)>>2],+Ta[Ob>>3]):p2=="i64"?u2=[Ma[V+_r>>2],Ma[V+(_r+4)>>2]]:(p2="i32",u2=Ma[V+_r>>2]),_r+=h.P(p2),u2}for(var _o=x,_r=0,l=[],e_,o_;;){var i_=_o;if(e_=Ka[_o>>0],e_===0)break;if(o_=Ka[_o+1>>0],e_==37){var _e=ca,c_=ca,ws=ca,h_=ca,s_=ca;t:for(;;){switch(o_){case 43:_e=aa;break;case 45:c_=aa;break;case 35:ws=aa;break;case 48:if(h_)break t;h_=aa;break;case 32:s_=aa;break;default:break t}_o++,o_=Ka[_o+1>>0]}var w_=0;if(o_==42)w_=o("i32"),_o++,o_=Ka[_o+1>>0];else for(;48<=o_&&57>=o_;)w_=10*w_+(o_-48),_o++,o_=Ka[_o+1>>0];var L_=ca,y_=-1;if(o_==46){if(y_=0,L_=aa,_o++,o_=Ka[_o+1>>0],o_==42)y_=o("i32"),_o++;else for(;o_=Ka[_o+1>>0],!(48>o_||57<o_);)y_=10*y_+(o_-48),_o++;o_=Ka[_o+1>>0]}0>y_&&(y_=6,L_=ca);var I_;switch(String.fromCharCode(o_)){case"h":o_=Ka[_o+2>>0],o_==104?(_o++,I_=1):I_=2;break;case"l":o_=Ka[_o+2>>0],o_==108?(_o++,I_=8):I_=4;break;case"L":case"q":case"j":I_=8;break;case"z":case"t":case"I":I_=4;break;default:I_=ba}switch(I_&&_o++,o_=Ka[_o+1>>0],String.fromCharCode(o_)){case"d":case"i":case"u":case"o":case"x":case"X":case"p":i_=o_==100||o_==105,I_=I_||4;var k_=e_=o("i"+8*I_),j_;I_==8&&(e_=h.ca(e_[0],e_[1],o_==117)),4>=I_&&(e_=(i_?Db:Cb)(e_&Math.pow(256,I_)-1,8*I_));var n2=Math.abs(e_),i_="";if(o_==100||o_==105)j_=I_==8&&jc?jc.stringify(k_[0],k_[1],ba):Db(e_,8*I_).toString(10);else if(o_==117)j_=I_==8&&jc?jc.stringify(k_[0],k_[1],aa):Cb(e_,8*I_).toString(10),e_=Math.abs(e_);else if(o_==111)j_=(ws?"0":"")+n2.toString(8);else if(o_==120||o_==88){if(i_=ws&&e_!=0?"0x":"",I_==8&&jc)if(k_[1]){for(j_=(k_[1]>>>0).toString(16),ws=(k_[0]>>>0).toString(16);8>ws.length;)ws="0"+ws;j_+=ws}else j_=(k_[0]>>>0).toString(16);else if(0>e_){for(e_=-e_,j_=(n2-1).toString(16),k_=[],ws=0;ws<j_.length;ws++)k_.push((15-parseInt(j_[ws],16)).toString(16));for(j_=k_.join("");j_.length<2*I_;)j_="f"+j_}else j_=n2.toString(16);o_==88&&(i_=i_.toUpperCase(),j_=j_.toUpperCase())}else o_==112&&(n2===0?j_="(nil)":(i_="0x",j_=n2.toString(16)));if(L_)for(;j_.length<y_;)j_="0"+j_;for(0<=e_&&(_e?i_="+"+i_:s_&&(i_=" "+i_)),j_.charAt(0)=="-"&&(i_="-"+i_,j_=j_.substr(1));i_.length+j_.length<w_;)c_?j_+=" ":h_?j_="0"+j_:i_=" "+i_;j_=i_+j_,j_.split("").forEach(function(u2){l.push(u2.charCodeAt(0))});break;case"f":case"F":case"e":case"E":case"g":case"G":if(e_=o("double"),isNaN(e_))j_="nan",h_=ca;else if(isFinite(e_)){if(L_=ca,I_=Math.min(y_,20),(o_==103||o_==71)&&(L_=aa,y_=y_||1,I_=parseInt(e_.toExponential(I_).split("e")[1],10),y_>I_&&-4<=I_?(o_=(o_==103?"f":"F").charCodeAt(0),y_-=I_+1):(o_=(o_==103?"e":"E").charCodeAt(0),y_--),I_=Math.min(y_,20)),o_==101||o_==69?(j_=e_.toExponential(I_),/[eE][-+]\d$/.test(j_)&&(j_=j_.slice(0,-1)+"0"+j_.slice(-1))):(o_==102||o_==70)&&(j_=e_.toFixed(I_),e_===0&&hc(e_)&&(j_="-"+j_)),i_=j_.split("e"),L_&&!ws)for(;1<i_[0].length&&i_[0].indexOf(".")!=-1&&(i_[0].slice(-1)=="0"||i_[0].slice(-1)==".");)i_[0]=i_[0].slice(0,-1);else for(ws&&j_.indexOf(".")==-1&&(i_[0]+=".");y_>I_++;)i_[0]+="0";j_=i_[0]+(1<i_.length?"e"+i_[1]:""),o_==69&&(j_=j_.toUpperCase()),0<=e_&&(_e?j_="+"+j_:s_&&(j_=" "+j_))}else j_=(0>e_?"-":"")+"inf",h_=ca;for(;j_.length<w_;)j_=c_?j_+" ":h_&&(j_[0]=="-"||j_[0]=="+")?j_[0]+"0"+j_.slice(1):(h_?"0":" ")+j_;97>o_&&(j_=j_.toUpperCase()),j_.split("").forEach(function(u2){l.push(u2.charCodeAt(0))});break;case"s":if(h_=(_e=o("i8*"))?Yb(_e):6,L_&&(h_=Math.min(h_,y_)),!c_)for(;h_<w_--;)l.push(32);if(_e)for(ws=0;ws<h_;ws++)l.push(bb[_e++>>0]);else l=l.concat(Ab("(null)".substr(0,h_),aa));if(c_)for(;h_<w_--;)l.push(32);break;case"c":for(c_&&l.push(o("i8"));0<--w_;)l.push(32);c_||l.push(o("i8"));break;case"n":c_=o("i32*"),Ma[c_>>2]=l.length;break;case"%":l.push(e_);break;default:for(ws=i_;ws<_o+2;ws++)l.push(Ka[ws>>0])}_o+=2}else l.push(e_),_o+=1}return l}function kc(x,V,o){return o=ic(V,o),V=h.A(),x=gc($a(o,"i8",Wa),1,o.length,x),h.J(V),x}function lc(x,V){var o=ic(x,V),_o=Bb(o);return _o[_o.length-1]===`
`&&(_o=_o.substr(0,_o.length-1)),e.print(_o),o.length}e._memcpy=mc;function nc(x){nc.Z||(xa=xa+4095&-4096,nc.Z=aa,oa(h.o),nc.W=h.o,h.o=function(){ua("cannot dynamically allocate, sbrk now has control")});var V=xa;return x!=0&&nc.W(x),V}function ab(x){return h.o(x+8)+8&4294967288}e._malloc=ab;var oc=$a(1,"i32*",Xa);dc.T=$a([0],"i8",Xa),Zb=h.U(4),Ma[Zb>>2]=0,kb=ra=h.C(wa),lb=kb+nb,mb=xa=h.C(lb),oa(mb<ya,"TOTAL_MEMORY not big enough for stack"),e.X={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array},e.Y={abort:ua,assert:oa,min:Pa,jsCall:function(){var x=Array.prototype.slice.call(arguments);return h.p[x[0]].apply(ba,x.slice(1))},invoke_iiii:function(x,V,o,_o){try{return e.dynCall_iiii(x,V,o,_o)}catch(_r){typeof _r!="number"&&_r!=="longjmp"&&c(_r),i.setThrew(1,0)}},invoke_viiiii:function(x,V,o,_o,_r,l){try{e.dynCall_viiiii(x,V,o,_o,_r,l)}catch(e_){typeof e_!="number"&&e_!=="longjmp"&&c(e_),i.setThrew(1,0)}},invoke_did:function(x,V,o){try{return e.dynCall_did(x,V,o)}catch(_o){typeof _o!="number"&&_o!=="longjmp"&&c(_o),i.setThrew(1,0)}},invoke_vi:function(x,V){try{e.dynCall_vi(x,V)}catch(o){typeof o!="number"&&o!=="longjmp"&&c(o),i.setThrew(1,0)}},invoke_diiiid:function(x,V,o,_o,_r,l){try{return e.dynCall_diiiid(x,V,o,_o,_r,l)}catch(e_){typeof e_!="number"&&e_!=="longjmp"&&c(e_),i.setThrew(1,0)}},invoke_vii:function(x,V,o){try{e.dynCall_vii(x,V,o)}catch(_o){typeof _o!="number"&&_o!=="longjmp"&&c(_o),i.setThrew(1,0)}},invoke_viidii:function(x,V,o,_o,_r,l){try{e.dynCall_viidii(x,V,o,_o,_r,l)}catch(e_){typeof e_!="number"&&e_!=="longjmp"&&c(e_),i.setThrew(1,0)}},invoke_ii:function(x,V){try{return e.dynCall_ii(x,V)}catch(o){typeof o!="number"&&o!=="longjmp"&&c(o),i.setThrew(1,0)}},invoke_viidi:function(x,V,o,_o,_r){try{e.dynCall_viidi(x,V,o,_o,_r)}catch(l){typeof l!="number"&&l!=="longjmp"&&c(l),i.setThrew(1,0)}},invoke_viii:function(x,V,o,_o){try{e.dynCall_viii(x,V,o,_o)}catch(_r){typeof _r!="number"&&_r!=="longjmp"&&c(_r),i.setThrew(1,0)}},invoke_v:function(x){try{e.dynCall_v(x)}catch(V){typeof V!="number"&&V!=="longjmp"&&c(V),i.setThrew(1,0)}},invoke_viid:function(x,V,o,_o){try{e.dynCall_viid(x,V,o,_o)}catch(_r){typeof _r!="number"&&_r!=="longjmp"&&c(_r),i.setThrew(1,0)}},invoke_viiiiii:function(x,V,o,_o,_r,l,e_){try{e.dynCall_viiiiii(x,V,o,_o,_r,l,e_)}catch(o_){typeof o_!="number"&&o_!=="longjmp"&&c(o_),i.setThrew(1,0)}},invoke_iii:function(x,V,o){try{return e.dynCall_iii(x,V,o)}catch(_o){typeof _o!="number"&&_o!=="longjmp"&&c(_o),i.setThrew(1,0)}},invoke_iiiiii:function(x,V,o,_o,_r,l){try{return e.dynCall_iiiiii(x,V,o,_o,_r,l)}catch(e_){typeof e_!="number"&&e_!=="longjmp"&&c(e_),i.setThrew(1,0)}},invoke_viiii:function(x,V,o,_o,_r){try{e.dynCall_viiii(x,V,o,_o,_r)}catch(l){typeof l!="number"&&l!=="longjmp"&&c(l),i.setThrew(1,0)}},_cosf:Eb,_send:function(x,V,o){return d.ya(x)?bc(x,V,o):($b(ac),-1)},_pthread_key_create:function(x){return x==0?22:(Ma[x>>2]=fc,ec[fc]=0,fc++,0)},___cxa_guard_acquire:function(x){return Ka[x>>0]?0:Ka[x>>0]=1},___setErrNo:$b,_vfprintf:function(x,V,o){return kc(x,V,Ma[o>>2])},_emscripten_asm_const_int:function(x){var V=Array.prototype.slice.call(arguments,1);return h.O(x,V.length).apply(ba,V)|0},___assert_fail:function(x,V,o,_o){za=aa,c("Assertion failed: "+sa(x)+", at: "+[V?sa(V):"unknown filename",o,_o?sa(_o):"unknown function"]+" at "+fb())},_atan2f:Gb,__ZSt18uncaught_exceptionv:Qb,___cxa_guard_release:function(){},_pwrite:function(x,V,o,_o){if(x=va.$(x),!x)return $b(ac),-1;try{return va.write(x,Ka,V,o,_o)}catch(_r){return va.ba(_r),-1}},_emscripten_asm_const_double:function(x){var V=Array.prototype.slice.call(arguments,1);return+h.O(x,V.length).apply(ba,V)},_fprintf:kc,__reallyNegative:hc,_sbrk:nc,___cxa_begin_catch:function(x){Qb.K--,Sb.push(x);var V=Ub(x);return V&&Tb[V].S++,x},_sinf:Fb,_fileno:cc,___resumeException:function(x){Rb||(Rb=x);var V=Ub(x);V&&(Tb[V].S=0),c(x+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.")},___cxa_find_matching_catch:Vb,_sysconf:function(x){switch(x){case 30:return 4096;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 79:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return typeof navigator=="object"&&navigator.hardwareConcurrency||1}return $b(22),-1},_pthread_getspecific:function(x){return ec[x]||0},_vprintf:function(x,V){return lc(x,Ma[V>>2])},_emscripten_memcpy_big:function(x,V,o){return bb.set(bb.subarray(V,V+o),x),x},_pthread_once:Xb,_printf:lc,_floorf:Pb,_sqrtf:Hb,_write:bc,___errno_location:function(){return Zb},_pthread_setspecific:function(x,V){return x in ec?(ec[x]=V,0):22},_fputc:dc,___cxa_throw:function(x,V,o){Tb[x]={e:x,N:x,type:V,qa:o,S:0},Rb=x,"uncaught_exception"in Qb?Qb.K++:Qb.K=1,c(x+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.")},_abort:function(){e.abort()},_fwrite:gc,_time:function(x){var V=Date.now()/1e3|0;return x&&(Ma[x>>2]=V),V},___cxa_allocate_exception:function(x){return ab(x)},__formatString:ic,___cxa_pure_virtual:function(){za=aa,c("Pure virtual function called!")},STACKTOP:ra,STACK_MAX:lb,tempDoublePtr:Ob,ABORT:za,NaN:NaN,Infinity:1/0,_stderr:oc};var i=function(x,V,o){var _o=new x.Int8Array(o),_r=new x.Int16Array(o),l=new x.Int32Array(o),e_=new x.Uint8Array(o),o_=new x.Uint16Array(o),i_=new x.Uint32Array(o),_e=new x.Float32Array(o),c_=new x.Float64Array(o),ws=V.STACKTOP|0,h_=V.STACK_MAX|0,s_=V.tempDoublePtr|0,w_=V.ABORT|0,L_=V._stderr|0,y_=0,I_=0,k_=0,j_=0,n2=+V.NaN,p2=+V.Infinity,u2=0,T2=0,I2=0,q2=0,O2=0,X2=0,S_=0,q_=0,N_=0,W_=0,o2=0,m2=0,_2=0,v_=0,G_=0,K_=0,C_=0,z_=0,X_=0,l2=x.Math.floor,D2=x.Math.abs,V2=x.Math.sqrt,L2=x.Math.pow,B2=x.Math.cos,J2=x.Math.sin,U2=x.Math.tan,pa=x.Math.acos,h0=x.Math.asin,i0=x.Math.atan,S0=x.Math.atan2,k0=x.Math.exp,P0=x.Math.log,L0=x.Math.ceil,T0=x.Math.imul,Vy=V.abort,wV=V.assert,J4=V.min,G2=V.jsCall,lP=V.invoke_iiii,uC=V.invoke_viiiii,VV=V.invoke_did,DV=V.invoke_vi,I4=V.invoke_diiiid,T4=V.invoke_vii,MV=V.invoke_viidii,R4=V.invoke_ii,WP=V.invoke_viidi,NP=V.invoke_viii,F4=V.invoke_v,L4=V.invoke_viid,GV=V.invoke_viiiiii,q4=V.invoke_iii,a_=V.invoke_iiiiii,E4=V.invoke_viiii,oA=V._cosf,F1=V._send,vS=V._pthread_key_create,K2=V.___cxa_guard_acquire,o0=V.___setErrNo,rS=V._vfprintf,iy=V._emscripten_asm_const_int,Y2=V.___assert_fail,NC=V._atan2f,JV=V.__ZSt18uncaught_exceptionv,R0=V.___cxa_guard_release,IV=V._pwrite,OP=V._emscripten_asm_const_double,OC=V._fprintf,cP=V.__reallyNegative,HS=V._sbrk,LB=V.___cxa_begin_catch,TV=V._sinf,RV=V._fileno,FV=V.___resumeException,qB=V.___cxa_find_matching_catch,AS=V._sysconf,mP=V._pthread_getspecific,UP=V._vprintf,XP=V._emscripten_memcpy_big,bP=V._pthread_once,sI=V._printf,_I=V._floorf,aI=V._sqrtf,pI=V._write,k4=V.___errno_location,E6=V._pthread_setspecific,k6=V._fputc,K0=V.___cxa_throw,f0=V._abort,lI=V._fwrite,j6=V._time,_b=V.___cxa_allocate_exception,cI=V.__formatString,z6=V.___cxa_pure_virtual,W6=0;function uP(_){_=_|0;var _t=0;return _t=ws,ws=ws+_|0,ws=ws+15&-16,_t|0}function LV(){return ws|0}function YP(_){_=_|0,ws=_}function BA(_,_t){_=_|0,_t=_t|0,y_||(y_=_,I_=_t)}function mI(_){_=_|0,_o[s_>>0]=_o[_>>0],_o[s_+1>>0]=_o[_+1>>0],_o[s_+2>>0]=_o[_+2>>0],_o[s_+3>>0]=_o[_+3>>0]}function fB(_){_=_|0,_o[s_>>0]=_o[_>>0],_o[s_+1>>0]=_o[_+1>>0],_o[s_+2>>0]=_o[_+2>>0],_o[s_+3>>0]=_o[_+3>>0],_o[s_+4>>0]=_o[_+4>>0],_o[s_+5>>0]=_o[_+5>>0],_o[s_+6>>0]=_o[_+6>>0],_o[s_+7>>0]=_o[_+7>>0]}function qV(_){_=_|0,W_=_}function j4(){return W_|0}function UA(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(4)|0,_t)return _i=_t,l[_i>>2]=4576,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(4)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return l[_i>>2]=4576,ws=_,_i|0;return 0}function z4(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,yy[l[(l[_>>2]|0)+16>>2]&127](_,_t),ws=_i}function HP(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,yy[l[(l[_>>2]|0)+20>>2]&127](_,_t),ws=_i}function N6(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function O6(_){return _=_|0,l[_+16>>2]|0}function U6(_,_t){_=_|0,_t=_t|0,l[_+16>>2]=_t}function W4(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function MA(_){return _=_|0,_+80|0}function tM(_){return _=_|0,_+88|0}function d1(_,_t){_=_|0,_t=+_t,_e[_+104>>2]=_t}function X6(_){return _=_|0,+ +_e[_+104>>2]}function Y6(_,_t){_=_|0,_t=+_t,_e[_+68>>2]=_t}function H6(_){return _=_|0,+ +_e[_+68>>2]}function eM(_,_t){_=_|0,_t=+_t,_e[_+72>>2]=_t}function oM(_){return _=_|0,+ +_e[_+72>>2]}function iM(_){return _=_|0,l[_+4>>2]|0}function Z6(_){return _=_|0,l[_+48>>2]|0}function EV(_){return _=_|0,l[_+52>>2]|0}function kV(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[16]|0)&&K2(16)|0&&R0(16),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=8,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,8}function UC(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[32]|0)&&K2(32)|0&&R0(32),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=24,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,24}function XC(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[48]|0)&&K2(48)|0&&R0(48),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=40,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,40}function hP(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function rM(_){return _=_|0,l[_+12>>2]|0}function nM(_){return _=_|0,l[_+64>>2]|0}function N4(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function O4(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function sM(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function K6(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function Q6(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(36)|0,_t)return _i=_t,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(36)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return ws=_,_i|0;return 0}function $6(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0;_s=ws,t_=s0(36)|0;t:do if(!t_){for(;t_=l[4698]|0,l[4698]=t_+0,!!t_;)if(xb[t_&63](),t_=s0(36)|0,t_)break t;t_=_b(4)|0,l[t_>>2]=18632,K0(t_|0,18680,116)}while(!1);return __=t_+12|0,n_=t_+24|0,l[t_+0>>2]=l[_+0>>2],l[t_+4>>2]=l[_+4>>2],l[t_+8>>2]=l[_+8>>2],l[__+0>>2]=l[_t+0>>2],l[__+4>>2]=l[_t+4>>2],l[__+8>>2]=l[_t+8>>2],l[n_+0>>2]=l[_i+0>>2],l[n_+4>>2]=l[_i+4>>2],l[n_+8>>2]=l[_i+8>>2],ws=_s,t_|0}function t8(_){_=_|0;var _t=0,_i=0;_t=ws,_i=_+0|0,_=_i+36|0;do l[_i>>2]=0,_i=_i+4|0;while((_i|0)<(_|0));ws=_t}function e8(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[72]|0)&&K2(72)|0&&R0(72),_D(_i,_,_t),l[14]=l[_i+0>>2],l[15]=l[_i+4>>2],l[16]=l[_i+8>>2],ws=_s,56}function o8(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0;return _i=ws,!(_o[88]|0)&&K2(88)|0&&R0(88),t_=+_e[_>>2],n_=+_e[_+12>>2],_s=+_e[_+4>>2],__=+_e[_+16>>2],l_=t_*__-n_*_s,l_!=0&&(l_=1/l_),u_=+_e[_t>>2],x_=+_e[_t+4>>2],__=+(l_*(__*u_-n_*x_)),l_=+(l_*(t_*x_-_s*u_)),_=80,_e[_>>2]=__,_e[_+4>>2]=l_,ws=_i,80}function i8(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;_i=ws,_s=+_e[_>>2],n_=+_e[_+12>>2],t_=+_e[_+4>>2],__=+_e[_+16>>2],l_=_s*__-n_*t_,l_!=0&&(l_=1/l_),_e[_t>>2]=__*l_,__=-l_,_e[_t+12>>2]=n_*__,_e[_t+8>>2]=0,_e[_t+4>>2]=t_*__,_e[_t+16>>2]=_s*l_,_=_t+20|0,l[_+0>>2]=0,l[_+4>>2]=0,l[_+8>>2]=0,l[_+12>>2]=0,ws=_i}function r8(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,GI(_,_t),ws=_i}function n8(_){return _=_|0,_|0}function U4(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,l[_+0>>2]=l[_t+0>>2],l[_+4>>2]=l[_t+4>>2],l[_+8>>2]=l[_t+8>>2],ws=_i}function s8(_){return _=_|0,_+12|0}function _8(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,_=_+12|0,l[_+0>>2]=l[_t+0>>2],l[_+4>>2]=l[_t+4>>2],l[_+8>>2]=l[_t+8>>2],ws=_i}function _M(_){return _=_|0,_+24|0}function a8(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,_=_+24|0,l[_+0>>2]=l[_t+0>>2],l[_+4>>2]=l[_t+4>>2],l[_+8>>2]=l[_t+8>>2],ws=_i}function p8(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function l8(_){return _=_|0,l[(l[_+12>>2]|0)+4>>2]|0}function aM(_){return _=_|0,l[_+12>>2]|0}function c8(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;if(_i=ws,_s=_+38|0,(_t&1|0)==(e_[_s>>0]|0|0)){ws=_i;return}_=l[_+8>>2]|0,t_=_+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_+144>>2]=0),_o[_s>>0]=_t&1,ws=_i}function m8(_){return _=_|0,(_o[_+38>>0]|0)!=0|0}function b8(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0;if(_i=ws,u_=_+32|0,_r[u_+0>>1]=_r[_t+0>>1]|0,_r[u_+2>>1]=_r[_t+2>>1]|0,_r[u_+4>>1]=_r[_t+4>>1]|0,_t=l[_+8>>2]|0,!_t){ws=_i;return}if(t_=l[_t+112>>2]|0,t_)do _s=l[t_+4>>2]|0,((l[_s+48>>2]|0)==(_|0)||(l[_s+52>>2]|0)==(_|0))&&(u_=_s+4|0,l[u_>>2]=l[u_>>2]|8),t_=l[t_+12>>2]|0;while(t_|0);if(n_=l[_t+88>>2]|0,!n_){ws=_i;return}if(_t=_+28|0,(l[_t>>2]|0)<=0){ws=_i;return}_=_+24|0,t_=n_+102912|0,_s=n_+102908|0,l_=n_+102904|0,u_=l[t_>>2]|0,__=0;do n_=l[(l[_>>2]|0)+(__*28|0)+24>>2]|0,(u_|0)==(l[_s>>2]|0)&&(x_=l[l_>>2]|0,l[_s>>2]=u_<<1,u_=s0(u_<<3)|0,l[l_>>2]=u_,BS(u_|0,x_|0,l[t_>>2]<<2|0)|0,u0(x_),u_=l[t_>>2]|0),l[(l[l_>>2]|0)+(u_<<2)>>2]=n_,u_=(l[t_>>2]|0)+1|0,l[t_>>2]=u_,__=__+1|0;while((__|0)<(l[_t>>2]|0));ws=_i}function u8(_){return _=_|0,_+32|0}function jV(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0;if(_t=ws,_i=l[_+8>>2]|0,!_i){ws=_t;return}if(t_=l[_i+112>>2]|0,t_)do _s=l[t_+4>>2]|0,((l[_s+48>>2]|0)==(_|0)||(l[_s+52>>2]|0)==(_|0))&&(u_=_s+4|0,l[u_>>2]=l[u_>>2]|8),t_=l[t_+12>>2]|0;while(t_|0);if(n_=l[_i+88>>2]|0,!n_){ws=_t;return}if(_i=_+28|0,(l[_i>>2]|0)<=0){ws=_t;return}_=_+24|0,t_=n_+102912|0,_s=n_+102908|0,n_=n_+102904|0,u_=l[t_>>2]|0,l_=0;do __=l[(l[_>>2]|0)+(l_*28|0)+24>>2]|0,(u_|0)==(l[_s>>2]|0)&&(x_=l[n_>>2]|0,l[_s>>2]=u_<<1,u_=s0(u_<<3)|0,l[n_>>2]=u_,BS(u_|0,x_|0,l[t_>>2]<<2|0)|0,u0(x_),u_=l[t_>>2]|0),l[(l[n_>>2]|0)+(u_<<2)>>2]=__,u_=(l[t_>>2]|0)+1|0,l[t_>>2]=u_,l_=l_+1|0;while((l_|0)<(l[_i>>2]|0));ws=_t}function h8(_){return _=_|0,l[_+8>>2]|0}function d8(_){return _=_|0,l[_+4>>2]|0}function pM(_){return _=_|0,l[_+40>>2]|0}function y8(_,_t){_=_|0,_t=_t|0,l[_+40>>2]=_t}function x8(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;return _i=ws,_s=l[_+12>>2]|0,_=KC[l[(l[_s>>2]|0)+16>>2]&63](_s,(l[_+8>>2]|0)+12|0,_t)|0,ws=_i,_|0}function f8(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0;return t_=ws,n_=l[_+12>>2]|0,_t=BB[l[(l[n_>>2]|0)+20>>2]&63](n_,_t,_i,(l[_+8>>2]|0)+12|0,_s)|0,ws=t_,_t|0}function g8(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_i=ws,_s=l[_+12>>2]|0,KA[l[(l[_s>>2]|0)+28>>2]&63](_s,_t,+_e[_>>2]),ws=_i}function v8(_,_t){_=_|0,_t=+_t;var _i=0;if(_i=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0){_e[_>>2]=_t,ws=_i;return}else Y2(4512,4464,295,4552)}function A8(_){return _=_|0,+ +_e[_>>2]}function S8(_){return _=_|0,+ +_e[_+16>>2]}function C8(_,_t){_=_|0,_t=+_t,_e[_+16>>2]=_t}function B8(_){return _=_|0,+ +_e[_+20>>2]}function P8(_,_t){_=_|0,_t=+_t,_e[_+20>>2]=_t}function w8(_,_t){_=_|0,_t=_t|0;var _i=0;return _i=ws,(_t|0)>-1&&(l[_+28>>2]|0)>(_t|0)?(ws=_i,(l[_+24>>2]|0)+(_t*28|0)|0):(Y2(4416,4464,341,4504),0)}function V8(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,qI(_,_t),ws=_i}function D8(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function M8(){var _=0,_t=0;_=ws,_t=s0(6)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(6)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return _r[_t>>1]=1,_r[_t+2>>1]=-1,_r[_t+4>>1]=0,ws=_,_t|0}function G8(_){return _=_|0,_r[_>>1]|0}function lM(_,_t){_=_|0,_t=_t|0,_r[_>>1]=_t}function J8(_){return _=_|0,_r[_+2>>1]|0}function I8(_,_t){_=_|0,_t=_t|0,_r[_+2>>1]=_t}function X4(_){return _=_|0,_r[_+4>>1]|0}function T8(_,_t){_=_|0,_t=_t|0,_r[_+4>>1]=_t}function R8(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function F8(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(4)|0,_t)return _i=_t,l[_i>>2]=4080,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(4)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return l[_i>>2]=4080,ws=_,_i|0;return 0}function L8(_,_t){_=_|0,_t=_t|0;var _i=0;return _i=ws,_=v1[l[(l[_>>2]|0)+8>>2]&63](_,_t)|0,ws=_i,_|0}function q8(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function Y4(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0;_i=ws,t_=l[_+52>>2]|0,_s=t_+4|0,n_=_r[_s>>1]|0,!(n_&2)&&(__=n_&65535,(__&2|0)==0)&&(_r[_s>>1]=__|2,_e[t_+144>>2]=0),t_=_t,n_=l[t_+4>>2]|0,__=_+76|0,l[__>>2]=l[t_>>2],l[__+4>>2]=n_,ws=_i}function ZS(_){return _=_|0,_+76|0}function cM(_,_t){_=_|0,_t=+_t,_e[_+104>>2]=_t}function E8(_){return _=_|0,+ +_e[_+104>>2]}function k8(_,_t){_=_|0,_t=+_t,_e[_+84>>2]=_t}function zV(_){return _=_|0,+ +_e[_+84>>2]}function iA(_,_t){_=_|0,_t=+_t,_e[_+88>>2]=_t}function j8(_){return _=_|0,+ +_e[_+88>>2]}function H4(_){return _=_|0,l[_+4>>2]|0}function WV(_){return _=_|0,l[_+48>>2]|0}function EB(_){return _=_|0,l[_+52>>2]|0}function nS(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[104]|0)&&K2(104)|0&&R0(104),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=96,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,96}function N0(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[120]|0)&&K2(120)|0&&R0(120),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=112,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,112}function a1(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[136]|0)&&K2(136)|0&&R0(136),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=128,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,128}function AC(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function gB(_){return _=_|0,l[_+12>>2]|0}function mM(_){return _=_|0,l[_+64>>2]|0}function kB(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function bM(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function z8(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function sS(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function W8(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(8)|0,_t)return _i=_t,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(8)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return ws=_,_i|0;return 0}function Z4(_){_=+_;var _t=0,_i=0;_t=ws,_i=s0(8)|0;t:do if(!_i){for(;_i=l[4698]|0,l[4698]=_i+0,!!_i;)if(xb[_i&63](),_i=s0(8)|0,_i)break t;_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116)}while(!1);return _e[_i>>2]=+J2(+_),_e[_i+4>>2]=+B2(+_),ws=_t,_i|0}function KS(_,_t){_=_|0,_t=+_t,_e[_>>2]=+J2(+_t),_e[_+4>>2]=+B2(+_t)}function QS(_){_=_|0,_e[_>>2]=0,_e[_+4>>2]=1}function uM(_){_=_|0;var _t=0;return _t=+S0(+ +_e[_>>2],+ +_e[_+4>>2]),+_t}function $S(_){_=_|0;var _t=0,_i=0,_s=0;return _t=ws,!(_o[152]|0)&&K2(152)|0&&R0(152),_s=+ +_e[_+4>>2],_i=+ +_e[_>>2],_=144,_e[_>>2]=_s,_e[_+4>>2]=_i,ws=_t,144}function N8(_){_=_|0;var _t=0,_i=0,_s=0;return _t=ws,!(_o[168]|0)&&K2(168)|0&&R0(168),_s=+-+_e[_>>2],_i=+ +_e[_+4>>2],_=160,_e[_>>2]=_s,_e[_+4>>2]=_i,ws=_t,160}function hM(_){return _=_|0,+ +_e[_>>2]}function O8(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function YC(_){return _=_|0,+ +_e[_+4>>2]}function U8(_,_t){_=_|0,_t=+_t,_e[_+4>>2]=_t}function K1(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function X8(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0;if(_i=ws,_s=_+68|0,+_e[_t>>2]==+_e[_s>>2]&&+_e[_t+4>>2]==+_e[_+72>>2]){ws=_i;return}t_=l[_+48>>2]|0,n_=t_+4|0,__=o_[n_>>1]|0,__&2||(_r[n_>>1]=__|2,_e[t_+144>>2]=0),_=l[_+52>>2]|0,t_=_+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_+144>>2]=0),t_=_t,n_=l[t_+4>>2]|0,__=_s,l[__>>2]=l[t_>>2],l[__+4>>2]=n_,ws=_i}function HC(_){return _=_|0,_+68|0}function Y8(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0,n_=0,__=0;if(_i=ws,_s=_+76|0,+_e[_s>>2]==_t){ws=_i;return}t_=l[_+48>>2]|0,n_=t_+4|0,__=o_[n_>>1]|0,__&2||(_r[n_>>1]=__|2,_e[t_+144>>2]=0),_=l[_+52>>2]|0,t_=_+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_+144>>2]=0),_e[_s>>2]=_t,ws=_i}function ZC(_){return _=_|0,+ +_e[_+76>>2]}function H8(_,_t){_=_|0,_t=+_t;var _i=0;if(_i=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0){_e[_+92>>2]=_t,ws=_i;return}else Y2(14968,5304,228,15064)}function Yy(_){return _=_|0,+ +_e[_+92>>2]}function Z8(_,_t){_=_|0,_t=+_t;var _i=0;if(_i=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0){_e[_+96>>2]=_t,ws=_i;return}else Y2(15080,5304,239,15120)}function K8(_){return _=_|0,+ +_e[_+96>>2]}function mA(_,_t){_=_|0,_t=+_t;var _i=0;if(_i=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0&_t<=1){_e[_+100>>2]=_t,ws=_i;return}else Y2(5360,5304,250,5416)}function Q8(_){return _=_|0,+ +_e[_+100>>2]}function xA(_){return _=_|0,l[_+4>>2]|0}function $8(_){return _=_|0,l[_+48>>2]|0}function tC(_){return _=_|0,l[_+52>>2]|0}function tJ(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[184]|0)&&K2(184)|0&&R0(184),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=176,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,176}function fA(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[200]|0)&&K2(200)|0&&R0(200),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=192,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,192}function eJ(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[216]|0)&&K2(216)|0&&R0(216),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=208,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,208}function IS(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function K4(_){return _=_|0,l[_+12>>2]|0}function Q4(_){return _=_|0,l[_+64>>2]|0}function $4(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function eC(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function ZP(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function KP(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function QP(_){return _=_|0,+ +_e[_>>2]}function $P(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function _w(_){return _=_|0,+ +_e[_+4>>2]}function jB(_,_t){_=_|0,_t=+_t,_e[_+4>>2]=_t}function zB(_){return _=_|0,+ +_e[_+8>>2]}function dM(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function yM(_){return _=_|0,+ +_e[_+12>>2]}function oJ(_,_t){_=_|0,_t=+_t,_e[_+12>>2]=_t}function NV(_){return _=_|0,+ +_e[_+16>>2]}function xM(_,_t){_=_|0,_t=+_t,_e[_+16>>2]=_t}function OV(_){return _=_|0,+ +_e[_+20>>2]}function IC(_,_t){_=_|0,_t=+_t,_e[_+20>>2]=_t}function fM(_){return _=_|0,+ +_e[_+24>>2]}function gM(_,_t){_=_|0,_t=+_t,_e[_+24>>2]=_t}function tD(_){return _=_|0,+ +_e[_+28>>2]}function WB(_,_t){_=_|0,_t=+_t,_e[_+28>>2]=_t}function tV(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function eV(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function vM(){var _=0,_t=0,_i=0,_s=0;_=ws,_t=s0(52)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(52)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+44>>2]=0,_s=_t+4|0,_i=_t+36|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+16>>2]=0,l[_s+20>>2]=0,l[_s+24>>2]=0,l[_s+28>>2]=0,_o[_i>>0]=1,_o[_t+37>>0]=1,_o[_t+38>>0]=0,_o[_t+39>>0]=0,l[_t>>2]=0,_o[_t+40>>0]=1,_e[_t+48>>2]=1,ws=_,_t|0}function eD(_){return _=_|0,l[_>>2]|0}function UV(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function oV(_){return _=_|0,_+4|0}function iV(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+4|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function AM(_){return _=_|0,+ +_e[_+12>>2]}function hC(_,_t){_=_|0,_t=+_t,_e[_+12>>2]=_t}function q0(_){return _=_|0,_+16|0}function XA(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+16|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function oD(_){return _=_|0,+ +_e[_+24>>2]}function SM(_,_t){_=_|0,_t=+_t,_e[_+24>>2]=_t}function CM(_){return _=_|0,+ +_e[_+28>>2]}function BM(_,_t){_=_|0,_t=+_t,_e[_+28>>2]=_t}function rV(_){return _=_|0,+ +_e[_+32>>2]}function iJ(_,_t){_=_|0,_t=+_t,_e[_+32>>2]=_t}function rJ(_){return _=_|0,(_o[_+36>>0]|0)!=0|0}function nJ(_,_t){_=_|0,_t=_t|0,_o[_+36>>0]=_t&1}function oC(_){return _=_|0,(_o[_+37>>0]|0)!=0|0}function XV(_,_t){_=_|0,_t=_t|0,_o[_+37>>0]=_t&1}function PM(_){return _=_|0,(_o[_+38>>0]|0)!=0|0}function YV(_,_t){_=_|0,_t=_t|0,_o[_+38>>0]=_t&1}function wM(_){return _=_|0,(_o[_+39>>0]|0)!=0|0}function VM(_,_t){_=_|0,_t=_t|0,_o[_+39>>0]=_t&1}function DM(_){return _=_|0,(_o[_+40>>0]|0)!=0|0}function MM(_,_t){_=_|0,_t=_t|0,_o[_+40>>0]=_t&1}function TS(_){return _=_|0,l[_+44>>2]|0}function sJ(_,_t){_=_|0,_t=_t|0,l[_+44>>2]=_t}function NB(_){return _=_|0,+ +_e[_+48>>2]}function iD(_,_t){_=_|0,_t=+_t,_e[_+48>>2]=_t}function GM(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function JM(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(4)|0,_t)return _i=_t,l[_i>>2]=3728,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(4)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return l[_i>>2]=3728,ws=_,_i|0;return 0}function IM(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_;var n_=0;return n_=ws,t_=+VJ[l[(l[_>>2]|0)+8>>2]&63](_,_t,_i,_s,t_),ws=n_,+t_}function TM(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function HV(_){return _=_|0,_o[_>>0]|0}function Z2(_,_t){_=_|0,_t=_t|0,_o[_>>0]=_t}function dC(_){return _=_|0,_o[_+1>>0]|0}function OB(_,_t){_=_|0,_t=_t|0,_o[_+1>>0]=_t}function RM(_){return _=_|0,_o[_+2>>0]|0}function FM(_,_t){_=_|0,_t=_t|0,_o[_+2>>0]=_t}function rD(_){return _=_|0,_o[_+3>>0]|0}function _J(_,_t){_=_|0,_t=_t|0,_o[_+3>>0]=_t}function LM(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function aJ(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(8)|0,_t)return _i=_t,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(8)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return ws=_,_i|0;return 0}function qM(_,_t){_=+_,_t=+_t;var _i=0,_s=0;_i=ws,_s=s0(8)|0;t:do if(!_s){for(;_s=l[4698]|0,l[4698]=_s+0,!!_s;)if(xb[_s&63](),_s=s0(8)|0,_s)break t;_s=_b(4)|0,l[_s>>2]=18632,K0(_s|0,18680,116)}while(!1);return _e[_s>>2]=_,_e[_s+4>>2]=_t,ws=_i,_s|0}function ZV(_){_=_|0,_e[_>>2]=0,_e[_+4>>2]=0}function EM(_,_t,_i){_=_|0,_t=+_t,_i=+_i,_e[_>>2]=_t,_e[_+4>>2]=_i}function kM(_,_t){_=_|0,_t=_t|0,_e[_>>2]=+_e[_t>>2]+ +_e[_>>2],_=_+4|0,_e[_>>2]=+_e[_t+4>>2]+ +_e[_>>2]}function jM(_,_t){_=_|0,_t=_t|0,_e[_>>2]=+_e[_>>2]-+_e[_t>>2],_=_+4|0,_e[_>>2]=+_e[_>>2]-+_e[_t+4>>2]}function zM(_,_t){_=_|0,_t=+_t,_e[_>>2]=+_e[_>>2]*_t,_=_+4|0,_e[_>>2]=+_e[_>>2]*_t}function UB(_){_=_|0;var _t=0,_i=0;return _i=+_e[_>>2],_t=+_e[_+4>>2],_t=+V2(+(_i*_i+_t*_t)),+_t}function SS(_){_=_|0;var _t=0,_i=0;return _i=+_e[_>>2],_t=+_e[_+4>>2],+(_i*_i+_t*_t)}function Q0(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0;return _t=ws,_s=+_e[_>>2],n_=_+4|0,t_=+_e[n_>>2],_i=+V2(+(_s*_s+t_*t_)),_i<11920928955078125e-23?(t_=0,ws=_t,+t_):(__=1/_i,_e[_>>2]=_s*__,_e[n_>>2]=t_*__,t_=_i,ws=_t,+t_)}function WM(_){_=_|0;var _t=0;return _t=ws,_e[s_>>2]=+_e[_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040?(_=0,ws=_t,_|0):(_=(_e[s_>>2]=+_e[_+4>>2],((l[s_>>2]|0)&2139095040|0)!=2139095040),ws=_t,_|0)}function dP(_){_=_|0;var _t=0,_i=0,_s=0;return _t=ws,!(_o[232]|0)&&K2(232)|0&&R0(232),_s=+-+_e[_+4>>2],_i=+ +_e[_>>2],_=224,_e[_>>2]=_s,_e[_+4>>2]=_i,ws=_t,224}function pJ(_){return _=_|0,+ +_e[_>>2]}function KV(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function lJ(_){return _=_|0,+ +_e[_+4>>2]}function nV(_,_t){_=_|0,_t=+_t,_e[_+4>>2]=_t}function QV(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function cJ(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(12)|0,_t)return _i=_t,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(12)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return ws=_,_i|0;return 0}function uS(_,_t,_i){_=+_,_t=+_t,_i=+_i;var _s=0,t_=0;_s=ws,t_=s0(12)|0;t:do if(!t_){for(;t_=l[4698]|0,l[4698]=t_+0,!!t_;)if(xb[t_&63](),t_=s0(12)|0,t_)break t;t_=_b(4)|0,l[t_>>2]=18632,K0(t_|0,18680,116)}while(!1);return _e[t_>>2]=_,_e[t_+4>>2]=_t,_e[t_+8>>2]=_i,ws=_s,t_|0}function i2(_){_=_|0,_e[_>>2]=0,_e[_+4>>2]=0,_e[_+8>>2]=0}function _n(_,_t,_i,_s){_=_|0,_t=+_t,_i=+_i,_s=+_s,_e[_>>2]=_t,_e[_+4>>2]=_i,_e[_+8>>2]=_s}function r_(_,_t){_=_|0,_t=_t|0;var _i=0;_e[_>>2]=+_e[_t>>2]+ +_e[_>>2],_i=_+4|0,_e[_i>>2]=+_e[_t+4>>2]+ +_e[_i>>2],_=_+8|0,_e[_>>2]=+_e[_t+8>>2]+ +_e[_>>2]}function p_(_,_t){_=_|0,_t=_t|0;var _i=0;_e[_>>2]=+_e[_>>2]-+_e[_t>>2],_i=_+4|0,_e[_i>>2]=+_e[_i>>2]-+_e[_t+4>>2],_=_+8|0,_e[_>>2]=+_e[_>>2]-+_e[_t+8>>2]}function b_(_,_t){_=_|0,_t=+_t;var _i=0;_e[_>>2]=+_e[_>>2]*_t,_i=_+4|0,_e[_i>>2]=+_e[_i>>2]*_t,_=_+8|0,_e[_>>2]=+_e[_>>2]*_t}function d_(_){return _=_|0,+ +_e[_>>2]}function B_(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function T_(_){return _=_|0,+ +_e[_+4>>2]}function E_(_,_t){_=_|0,_t=+_t,_e[_+4>>2]=_t}function Y_(_){return _=_|0,+ +_e[_+8>>2]}function H_(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function U_(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function $_(){var _=0,_t=0;_=ws,_t=s0(16)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(16)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,ws=_,_t|0}function a2(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;return _t=ws,_s=+_e[_+8>>2],t_=+_e[_>>2],_i=+_e[_+12>>2],n_=+_e[_+4>>2],!(_s-t_>=0&_i-n_>=0)||(_e[s_>>2]=t_,((l[s_>>2]|0)&2139095040|0)==2139095040)||(_e[s_>>2]=n_,((l[s_>>2]|0)&2139095040|0)==2139095040)||(_e[s_>>2]=_s,((l[s_>>2]|0)&2139095040|0)==2139095040)?(_=0,ws=_t,_|0):(_=(_e[s_>>2]=_i,((l[s_>>2]|0)&2139095040|0)!=2139095040),ws=_t,_|0)}function g2(_){_=_|0;var _t=0,_i=0,_s=0;return _t=ws,!(_o[248]|0)&&K2(248)|0&&R0(248),_s=+((+_e[_>>2]+ +_e[_+8>>2])*.5),_i=+((+_e[_+4>>2]+ +_e[_+12>>2])*.5),_=240,_e[_>>2]=_s,_e[_+4>>2]=_i,ws=_t,240}function M2(_){_=_|0;var _t=0,_i=0,_s=0;return _t=ws,!(_o[264]|0)&&K2(264)|0&&R0(264),_s=+((+_e[_+8>>2]-+_e[_>>2])*.5),_i=+((+_e[_+12>>2]-+_e[_+4>>2])*.5),_=256,_e[_>>2]=_s,_e[_+4>>2]=_i,ws=_t,256}function R2(_){return _=_|0,+((+_e[_+8>>2]-+_e[_>>2]+(+_e[_+12>>2]-+_e[_+4>>2]))*2)}function W2(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;_i=ws,_s=+_e[_>>2],t_=+_e[_t>>2],__=+_e[_+4>>2],l_=+_e[_t+4>>2],t_=+(_s<t_?_s:t_),l_=+(__<l_?__:l_),n_=_,_e[n_>>2]=t_,_e[n_+4>>2]=l_,n_=_+8|0,l_=+_e[n_>>2],t_=+_e[_t+8>>2],__=+_e[_+12>>2],_s=+_e[_t+12>>2],t_=+(l_>t_?l_:t_),_s=+(__>_s?__:_s),_=n_,_e[_>>2]=t_,_e[_+4>>2]=_s,ws=_i}function z2(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0;_s=ws,t_=+_e[_t>>2],n_=+_e[_i>>2],__=+_e[_t+4>>2],l_=+_e[_i+4>>2],n_=+(t_<n_?t_:n_),l_=+(__<l_?__:l_),u_=_,_e[u_>>2]=n_,_e[u_+4>>2]=l_,l_=+_e[_t+8>>2],n_=+_e[_i+8>>2],__=+_e[_t+12>>2],t_=+_e[_i+12>>2],n_=+(l_>n_?l_:n_),t_=+(__>t_?__:t_),_t=_+8|0,_e[_t>>2]=n_,_e[_t+4>>2]=t_,ws=_s}function Q2(_,_t){_=_|0,_t=_t|0;var _i=0;return _i=ws,+_e[_>>2]<=+_e[_t>>2]&&+_e[_+4>>2]<=+_e[_t+4>>2]&&+_e[_t+8>>2]<=+_e[_+8>>2]?_t=+_e[_t+12>>2]<=+_e[_+12>>2]:_t=0,ws=_i,_t|0}function $2(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0;for(_s=ws,ws=ws+32|0,l_=_s+8|0,n_=_s+24|0,__=_s+16|0,t_=_s,x_=_i,M_=l[x_>>2]|0,x_=l[x_+4>>2]|0,A_=l_,l[A_>>2]=M_,l[A_+4>>2]=x_,J_=+_e[_i+8>>2]-(l[s_>>2]=M_,+_e[s_>>2]),g_=+_e[_i+12>>2]-+_e[_i+4>>2],_e[n_>>2]=J_,_e[n_+4>>2]=g_,J_>0||(J_=-J_),g_>0||(g_=-g_),_e[__>>2]=J_,_e[__+4>>2]=g_,x_=_+8|0,u_=t_+4|0,A_=0,g_=34028234663852886e22,f_=-34028234663852886e22;;){if(J_<11920928955078125e-23){if(J_=+_e[l_+(A_<<2)>>2],J_<+_e[_+(A_<<2)>>2]){t_=0,_=17;break}if(+_e[x_+(A_<<2)>>2]<J_){t_=0,_=17;break}}else if(R_=1/+_e[n_+(A_<<2)>>2],J_=+_e[l_+(A_<<2)>>2],V_=R_*(+_e[_+(A_<<2)>>2]-J_),J_=R_*(+_e[x_+(A_<<2)>>2]-J_),M_=V_>J_,R_=M_?J_:V_,J_=M_?V_:J_,R_>f_&&(_e[t_>>2]=0,_e[u_>>2]=0,_e[t_+(A_<<2)>>2]=M_?1:-1,f_=R_),g_=g_<J_?g_:J_,f_>g_){t_=0,_=17;break}if(A_=A_+1|0,(A_|0)>=2){_=14;break}J_=+_e[__+(A_<<2)>>2]}return(_|0)==14?f_<0||+_e[_i+16>>2]<f_?(M_=0,ws=_s,M_|0):(_e[_t+8>>2]=f_,x_=t_,A_=l[x_+4>>2]|0,M_=_t,l[M_>>2]=l[x_>>2],l[M_+4>>2]=A_,M_=1,ws=_s,M_|0):(_|0)==17?(ws=_s,t_|0):0}function t0(_){return _=_|0,_|0}function p0(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function _0(_){return _=_|0,_+8|0}function g0(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+8|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function b0(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function D0(){var _=0,_t=0;_=ws,_t=s0(28)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(28)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return _r[_t+22>>1]=1,_r[_t+24>>1]=-1,_r[_t+26>>1]=0,l[_t>>2]=0,l[_t+4>>2]=0,_e[_t+8>>2]=.20000000298023224,_e[_t+12>>2]=0,_e[_t+16>>2]=0,_o[_t+20>>0]=0,ws=_,_t|0}function E0(_){return _=_|0,l[_>>2]|0}function x0(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function l0(_){return _=_|0,l[_+4>>2]|0}function W0(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function j0(_){return _=_|0,+ +_e[_+8>>2]}function Cy(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function g1(_){return _=_|0,+ +_e[_+12>>2]}function M1(_,_t){_=_|0,_t=+_t,_e[_+12>>2]=_t}function YA(_){return _=_|0,+ +_e[_+16>>2]}function HA(_,_t){_=_|0,_t=+_t,_e[_+16>>2]=_t}function ZA(_){return _=_|0,(_o[_+20>>0]|0)!=0|0}function yP(_,_t){_=_|0,_t=_t|0,_o[_+20>>0]=_t&1}function TC(_){return _=_|0,_+22|0}function xP(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,_=_+22|0,_r[_+0>>1]=_r[_t+0>>1]|0,_r[_+2>>1]=_r[_t+2>>1]|0,_r[_+4>>1]=_r[_t+4>>1]|0,ws=_i}function CS(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function hS(){var _=0,_t=0,_i=0;_=ws,_t=s0(44)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(44)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=9,_i=_t+20|0,l[_i+0>>2]=0,l[_i+4>>2]=0,l[_i+8>>2]=0,l[_i+12>>2]=0,l[_i+16>>2]=0,l[_i+20>>2]=0,ws=_,_t|0}function GA(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0;t_=ws,l[_+8>>2]=_t,l[_+12>>2]=_i,x_=+_e[_s>>2]-+_e[_t+12>>2],A_=_s+4|0,n_=+_e[A_>>2]-+_e[_t+16>>2],__=+_e[_t+24>>2],l_=+_e[_t+20>>2],u_=+(x_*__+n_*l_),l_=+(__*n_-x_*l_),_t=_+20|0,_e[_t>>2]=u_,_e[_t+4>>2]=l_,l_=+_e[_s>>2]-+_e[_i+12>>2],u_=+_e[A_>>2]-+_e[_i+16>>2],x_=+_e[_i+24>>2],n_=+_e[_i+20>>2],__=+(l_*x_+u_*n_),n_=+(x_*u_-l_*n_),_t=_+28|0,_e[_t>>2]=__,_e[_t+4>>2]=n_,ws=t_}function SC(_){return _=_|0,_+20|0}function $V(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function nD(_){return _=_|0,_+28|0}function sV(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function _V(_){return _=_|0,+ +_e[_+36>>2]}function t4(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function e4(_){return _=_|0,+ +_e[_+40>>2]}function mJ(_,_t){_=_|0,_t=+_t,_e[_+40>>2]=_t}function e5(_){return _=_|0,l[_>>2]|0}function o5(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function i5(_){return _=_|0,l[_+4>>2]|0}function r5(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function n5(_){return _=_|0,l[_+8>>2]|0}function s5(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function _5(_){return _=_|0,l[_+12>>2]|0}function a5(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function p5(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function l5(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function c5(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function m5(){var _=0,_t=0,_i=0,_s=0;_=ws,_s=s0(64)|0;t:do if(!_s){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_s=s0(64)|0,_s)break t;_s=_b(4)|0,l[_s>>2]=18632,K0(_s|0,18680,116)}while(!1);_i=_s+0|0,_t=_i+64|0;do l[_i>>2]=0,_i=_i+4|0;while((_i|0)<(_t|0));return ws=_,_s|0}function b5(_){return _=_|0,_+40|0}function u5(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+40|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function h5(_){return _=_|0,_+48|0}function d5(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+48|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function y5(_){return _=_|0,l[_+56>>2]|0}function x5(_,_t){_=_|0,_t=_t|0,l[_+56>>2]=_t}function f5(_){return _=_|0,l[_+60>>2]|0}function g5(_,_t){_=_|0,_t=_t|0,l[_+60>>2]=_t}function v5(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function A5(){var _=0,_t=0,_i=0,_s=0;_=ws,_t=s0(72)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(72)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=2,_s=_t+20|0,_i=_t+36|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0,_e[_i>>2]=1,_e[_t+40>>2]=0,_e[_t+44>>2]=0,_o[_t+48>>0]=0,_e[_t+52>>2]=0,_e[_t+56>>2]=0,_o[_t+60>>0]=0,_e[_t+64>>2]=0,_e[_t+68>>2]=0,ws=_,_t|0}function S5(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0;n_=ws,l[_+8>>2]=_t,l[_+12>>2]=_i,l_=+_e[_s>>2]-+_e[_t+12>>2],J_=_s+4|0,A_=+_e[J_>>2]-+_e[_t+16>>2],f_=_t+24|0,u_=+_e[f_>>2],g_=_t+20|0,__=+_e[g_>>2],x_=+(l_*u_+A_*__),__=+(u_*A_-l_*__),R_=_+20|0,_e[R_>>2]=x_,_e[R_+4>>2]=__,__=+_e[_s>>2]-+_e[_i+12>>2],x_=+_e[J_>>2]-+_e[_i+16>>2],l_=+_e[_i+24>>2],A_=+_e[_i+20>>2],u_=+(__*l_+x_*A_),A_=+(l_*x_-__*A_),_s=_+28|0,_e[_s>>2]=u_,_e[_s+4>>2]=A_,A_=+_e[f_>>2],u_=+_e[t_>>2],__=+_e[g_>>2],x_=+_e[t_+4>>2],l_=+(A_*u_+__*x_),__=+(A_*x_-u_*__),_s=_+36|0,_e[_s>>2]=l_,_e[_s+4>>2]=__,_e[_+44>>2]=+_e[_i+56>>2]-+_e[_t+56>>2],ws=n_}function C5(_){return _=_|0,_+20|0}function B5(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function P5(_){return _=_|0,_+28|0}function w5(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function V5(_){return _=_|0,_+36|0}function D5(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+36|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function M5(_){return _=_|0,+ +_e[_+44>>2]}function G5(_,_t){_=_|0,_t=+_t,_e[_+44>>2]=_t}function J5(_){return _=_|0,(_o[_+48>>0]|0)!=0|0}function I5(_,_t){_=_|0,_t=_t|0,_o[_+48>>0]=_t&1}function T5(_){return _=_|0,+ +_e[_+52>>2]}function R5(_,_t){_=_|0,_t=+_t,_e[_+52>>2]=_t}function F5(_){return _=_|0,+ +_e[_+56>>2]}function L5(_,_t){_=_|0,_t=+_t,_e[_+56>>2]=_t}function q5(_){return _=_|0,(_o[_+60>>0]|0)!=0|0}function E5(_,_t){_=_|0,_t=_t|0,_o[_+60>>0]=_t&1}function k5(_){return _=_|0,+ +_e[_+64>>2]}function j5(_,_t){_=_|0,_t=+_t,_e[_+64>>2]=_t}function z5(_){return _=_|0,+ +_e[_+68>>2]}function W5(_,_t){_=_|0,_t=+_t,_e[_+68>>2]=_t}function N5(_){return _=_|0,l[_>>2]|0}function O5(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function U5(_){return _=_|0,l[_+4>>2]|0}function X5(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function Y5(_){return _=_|0,l[_+8>>2]|0}function H5(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function Z5(_){return _=_|0,l[_+12>>2]|0}function K5(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function Q5(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function $5(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function tL(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function eL(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0;_t=ws,_i=s0(103028)|0;t:do if(!_i){for(;_i=l[4698]|0,l[4698]=_i+0,!!_i;)if(xb[_i&63](),_i=s0(103028)|0,_i)break t;__=_b(4)|0,l[__>>2]=18632,K0(__|0,18680,116)}while(!1);t_=_i+8|0,l[t_>>2]=128,l[_i+4>>2]=0,_s=s0(1024)|0,l[_i>>2]=_s,YM(_s|0,0,l[t_>>2]<<3|0)|0,t_=_i+12|0,_s=t_+56|0;do l[t_>>2]=0,t_=t_+4|0;while((t_|0)<(_s|0));do if(!(_o[8640]|0)){for(_s=1,t_=0;;){if((t_|0)>=14){_s=7;break}if((_s|0)>(l[7936+(t_<<2)>>2]|0)&&(t_=t_+1|0),_o[7992+_s>>0]=t_,_s=_s+1|0,(_s|0)>=641){_s=12;break}}if((_s|0)==7)Y2(8648,8672,71,8720);else if((_s|0)==12){_o[8640]=1;break}}while(!1);if(l[_i+102468>>2]=0,l[_i+102472>>2]=0,l[_i+102476>>2]=0,l[_i+102864>>2]=0,l[_i+102872>>2]=-1,_s=_i+102884|0,l[_s>>2]=16,l[_i+102880>>2]=0,n_=s0(576)|0,t_=_i+102876|0,l[t_>>2]=n_,YM(n_|0,0,(l[_s>>2]|0)*36|0)|0,n_=(l[_s>>2]|0)+-1|0,t_=l[t_>>2]|0,(n_|0)>0){__=0;do n_=__,__=__+1|0,l[t_+(n_*36|0)+20>>2]=__,l[t_+(n_*36|0)+32>>2]=-1,n_=(l[_s>>2]|0)+-1|0;while((__|0)<(n_|0))}return l[t_+(n_*36|0)+20>>2]=-1,l[t_+(((l[_s>>2]|0)+-1|0)*36|0)+32>>2]=-1,n_=_i+102888|0,__=_i+102920|0,l[n_+0>>2]=0,l[n_+4>>2]=0,l[n_+8>>2]=0,l[n_+12>>2]=0,l[__>>2]=16,l[_i+102924>>2]=0,l[_i+102916>>2]=s0(128)|0,l[_i+102908>>2]=16,l[_i+102912>>2]=0,l[_i+102904>>2]=s0(64)|0,l[_i+102932>>2]=0,l[_i+102936>>2]=0,l[_i+102940>>2]=10112,l[_i+102944>>2]=10120,__=_i+102948|0,n_=_i+102968|0,l[_i+102980>>2]=0,l[_i+102984>>2]=0,_s=_i+102992|0,l[__+0>>2]=0,l[__+4>>2]=0,l[__+8>>2]=0,l[__+12>>2]=0,l[__+16>>2]=0,_o[_s>>0]=1,_o[_i+102993>>0]=1,_o[_i+102994>>0]=0,_o[_i+102995>>0]=1,_o[_i+102976>>0]=1,_s=_,t_=l[_s+4>>2]|0,l[n_>>2]=l[_s>>2],l[n_+4>>2]=t_,l[_i+102868>>2]=4,_e[_i+102988>>2]=0,l[__>>2]=_i,__=_i+102996|0,l[__+0>>2]=0,l[__+4>>2]=0,l[__+8>>2]=0,l[__+12>>2]=0,l[__+16>>2]=0,l[__+20>>2]=0,l[__+24>>2]=0,l[__+28>>2]=0,ws=_t,_i|0}function oL(_,_t){_=_|0,_t=_t|0,l[_+102980>>2]=_t}function iL(_,_t){_=_|0,_t=_t|0,l[_+102940>>2]=_t}function rL(_,_t){_=_|0,_t=_t|0,l[_+102944>>2]=_t}function nL(_,_t){_=_|0,_t=_t|0,l[_+102984>>2]=_t}function sL(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0;return _i=ws,l[_+102868>>2]&2&&Y2(11528,11552,109,11592),_s=bA(_,152)|0,_s?(n_=_t+4|0,_e[s_>>2]=+_e[n_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&Y2(9064,9088,27,9128),_e[s_>>2]=+_e[_t+8>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&Y2(9064,9088,27,9128),u_=_t+16|0,_e[s_>>2]=+_e[u_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&Y2(9136,9088,28,9128),_e[s_>>2]=+_e[_t+20>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&Y2(9136,9088,28,9128),x_=_t+12|0,_e[s_>>2]=+_e[x_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&Y2(9168,9088,29,9128),A_=_t+24|0,_e[s_>>2]=+_e[A_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&Y2(9192,9088,30,9128),l_=_t+32|0,f_=+_e[l_>>2],_e[s_>>2]=f_,((l[s_>>2]|0)&2139095040|0)==2139095040|!(f_>=0)&&Y2(9224,9088,31,9128),__=_t+28|0,f_=+_e[__>>2],_e[s_>>2]=f_,((l[s_>>2]|0)&2139095040|0)==2139095040|!(f_>=0)&&Y2(9288,9088,32,9128),t_=_s+4|0,g_=_o[_t+39>>0]|0?8:0,_r[t_>>1]=g_,_o[_t+38>>0]|0&&(g_=(g_&65535|16)&65535,_r[t_>>1]=g_),_o[_t+36>>0]|0&&(g_=(g_&65535|4)&65535,_r[t_>>1]=g_),_o[_t+37>>0]|0&&(g_=(g_&65535|2)&65535,_r[t_>>1]=g_),_o[_t+40>>0]|0&&(_r[t_>>1]=g_&65535|32),l[_s+88>>2]=_,g_=n_,n_=l[g_>>2]|0,g_=l[g_+4>>2]|0,t_=_s+12|0,l[t_>>2]=n_,l[t_+4>>2]=g_,f_=+_e[x_>>2],_e[_s+20>>2]=+J2(+f_),_e[_s+24>>2]=+B2(+f_),_e[_s+28>>2]=0,_e[_s+32>>2]=0,t_=_s+36|0,l[t_>>2]=n_,l[t_+4>>2]=g_,t_=_s+44|0,l[t_>>2]=n_,l[t_+4>>2]=g_,_e[_s+52>>2]=+_e[x_>>2],_e[_s+56>>2]=+_e[x_>>2],_e[_s+60>>2]=0,l[_s+108>>2]=0,l[_s+112>>2]=0,l[_s+92>>2]=0,l[_s+96>>2]=0,x_=u_,t_=l[x_+4>>2]|0,g_=_s+64|0,l[g_>>2]=l[x_>>2],l[g_+4>>2]=t_,_e[_s+72>>2]=+_e[A_>>2],_e[_s+132>>2]=+_e[__>>2],_e[_s+136>>2]=+_e[l_>>2],_e[_s+140>>2]=+_e[_t+48>>2],_e[_s+76>>2]=0,_e[_s+80>>2]=0,_e[_s+84>>2]=0,_e[_s+144>>2]=0,g_=l[_t>>2]|0,l[_s>>2]=g_,t_=_s+116|0,(g_|0)==2?(_e[t_>>2]=1,_e[_s+120>>2]=1):(_e[t_>>2]=0,_e[_s+120>>2]=0),_e[_s+124>>2]=0,_e[_s+128>>2]=0,l[_s+148>>2]=l[_t+44>>2],l[_s+100>>2]=0,l[_s+104>>2]=0):_s=0,l[_s+92>>2]=0,t_=_+102952|0,l[_s+96>>2]=l[t_>>2],_t=l[t_>>2]|0,_t?(l[_t+92>>2]=_s,l[t_>>2]=_s,g_=_+102960|0,A_=l[g_>>2]|0,A_=A_+1|0,l[g_>>2]=A_,ws=_i,_s|0):(l[t_>>2]=_s,g_=_+102960|0,A_=l[g_>>2]|0,A_=A_+1|0,l[g_>>2]=A_,ws=_i,_s|0)}function _L(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0;if(_i=ws,_s=_+102960|0,(l[_s>>2]|0)<=0&&Y2(11608,11552,133,11624),l[_+102868>>2]&2&&Y2(11528,11552,134,11624),__=_t+108|0,l_=l[__>>2]|0,l_){n_=_+102980|0;do x_=l_,l_=l[l_+12>>2]|0,u_=l[n_>>2]|0,u_?(g_=x_+4|0,yy[l[(l[u_>>2]|0)+8>>2]&127](u_,l[g_>>2]|0),u_=g_):u_=x_+4|0,zI(_,l[u_>>2]|0),l[__>>2]=l_;while(l_|0)}if(l[__>>2]=0,n_=_t+112|0,l_=l[n_>>2]|0,l_){__=_+102872|0;do g_=l_,l_=l[l_+12>>2]|0,aV(__,l[g_+4>>2]|0);while(l_|0)}l[n_>>2]=0,n_=_t+100|0,x_=l[n_>>2]|0;t:do if(!x_)t_=_t+104|0;else{for(u_=_+102980|0,__=_+102872|0,l_=_t+104|0;A_=x_,x_=l[x_+4>>2]|0,g_=l[u_>>2]|0,g_&&yy[l[(l[g_>>2]|0)+12>>2]&127](g_,A_),AJ(A_,__),vJ(A_,_),g_=_o[8036]|0,!((g_&255)>=14);)if(g_=_+((g_&255)<<2)+12|0,l[A_>>2]=l[g_>>2],l[g_>>2]=A_,l[n_>>2]=x_,l[l_>>2]=(l[l_>>2]|0)+-1,!x_){t_=l_;break t}Y2(8760,8672,171,9032)}while(!1);if(l[n_>>2]=0,l[t_>>2]=0,n_=_t+92|0,__=l[n_>>2]|0,t_=_t+96|0,__&&(l[__+96>>2]=l[t_>>2]),__=l[t_>>2]|0,__&&(l[__+92>>2]=l[n_>>2]),n_=_+102952|0,(l[n_>>2]|0)==(_t|0)&&(l[n_>>2]=l[t_>>2]),l[_s>>2]=(l[_s>>2]|0)+-1,_s=_o[8144]|0,(_s&255)<14){g_=_+((_s&255)<<2)+12|0,l[_t>>2]=l[g_>>2],l[g_>>2]=_t,ws=_i;return}else Y2(8760,8672,171,9032)}function aL(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0;_i=ws,l[_+102868>>2]&2&&Y2(11528,11552,214,11640);do switch(l[_t>>2]|0){case 4:{_s=bA(_,196)|0;do if(_s)if(l[_s>>2]=15768,__=_t+8|0,t_=_t+12|0,(l[__>>2]|0)==(l[t_>>2]|0)&&Y2(15816,15696,185,15848),l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[__>>2],l[_s+52>>2]=l[t_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],t_=_s+16|0,l[t_+0>>2]=0,l[t_+4>>2]=0,l[t_+8>>2]=0,l[t_+12>>2]=0,l[t_+16>>2]=0,l[t_+20>>2]=0,l[t_+24>>2]=0,l[t_+28>>2]=0,l[_s>>2]=16776,t_=_t+20|0,__=l[t_+4>>2]|0,O_=_s+68|0,l[O_>>2]=l[t_>>2],l[O_+4>>2]=__,O_=_t+28|0,__=l[O_+4>>2]|0,t_=_s+76|0,l[t_>>2]=l[O_>>2],l[t_+4>>2]=__,t_=_t+36|0,__=l[t_+4>>2]|0,O_=_s+92|0,l[O_>>2]=l[t_>>2],l[O_+4>>2]=__,O_=_t+44|0,__=l[O_+4>>2]|0,t_=_s+100|0,l[t_>>2]=l[O_>>2],l[t_+4>>2]=__,t_=_t+52|0,_e[_s+84>>2]=+_e[t_>>2],__=_t+56|0,_e[_s+88>>2]=+_e[__>>2],P_=+_e[_t+60>>2],P_!=0){_e[_s+112>>2]=P_,_e[_s+108>>2]=+_e[t_>>2]+P_*+_e[__>>2],_e[_s+116>>2]=0,n_=_s;break}else Y2(16824,16696,65,16848);else n_=0;while(!1);_s=n_;break}case 9:{_s=bA(_,180)|0;do if(_s)if(l[_s>>2]=15768,t_=_t+8|0,n_=_t+12|0,(l[t_>>2]|0)==(l[n_>>2]|0))Y2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[t_>>2],l[_s+52>>2]=l[n_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],A_=_s+16|0,l[A_+0>>2]=0,l[A_+4>>2]=0,l[A_+8>>2]=0,l[A_+12>>2]=0,l[A_+16>>2]=0,l[A_+20>>2]=0,l[A_+24>>2]=0,l[A_+28>>2]=0,l[_s>>2]=14920,A_=_t+20|0,O_=l[A_+4>>2]|0,D_=_s+68|0,l[D_>>2]=l[A_>>2],l[D_+4>>2]=O_,D_=_t+28|0,O_=l[D_+4>>2]|0,A_=_s+76|0,l[A_>>2]=l[D_>>2],l[A_+4>>2]=O_,_e[_s+84>>2]=0,_e[_s+88>>2]=0,_e[_s+92>>2]=0,_e[_s+96>>2]=+_e[_t+36>>2],_e[_s+100>>2]=+_e[_t+40>>2],A_=_s;break}else A_=0;while(!1);_s=A_;break}case 2:{_s=bA(_,256)|0,_s?(l[_s>>2]=15768,t_=_t+8|0,n_=_t+12|0,(l[t_>>2]|0)==(l[n_>>2]|0)&&Y2(15816,15696,185,15848),l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[t_>>2],l[_s+52>>2]=l[n_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],t_=_s+16|0,l[t_+0>>2]=0,l[t_+4>>2]=0,l[t_+8>>2]=0,l[t_+12>>2]=0,l[t_+16>>2]=0,l[t_+20>>2]=0,l[t_+24>>2]=0,l[t_+28>>2]=0,l[_s>>2]=16376,t_=_s+84|0,O_=_t+20|0,D_=l[O_+4>>2]|0,V_=_s+68|0,l[V_>>2]=l[O_>>2],l[V_+4>>2]=D_,V_=_t+28|0,D_=l[V_+4>>2]|0,O_=_s+76|0,l[O_>>2]=l[V_>>2],l[O_+4>>2]=D_,O_=_t+36|0,D_=l[O_>>2]|0,O_=l[O_+4>>2]|0,V_=t_,l[V_>>2]=D_,l[V_+4>>2]=O_,P_=(l[s_>>2]=D_,+_e[s_>>2]),F_=(l[s_>>2]=O_,+_e[s_>>2]),t2=+V2(+(P_*P_+F_*F_)),t2<11920928955078125e-23||(Q_=1/t2,P_=P_*Q_,_e[t_>>2]=P_,F_=F_*Q_,_e[_s+88>>2]=F_),e2=+-F_,Q_=+P_,D_=_s+92|0,_e[D_>>2]=e2,_e[D_+4>>2]=Q_,_e[_s+100>>2]=+_e[_t+44>>2],D_=_s+104|0,_e[_s+252>>2]=0,O_=_t+52|0,l[D_+0>>2]=0,l[D_+4>>2]=0,l[D_+8>>2]=0,l[D_+12>>2]=0,_e[_s+120>>2]=+_e[O_>>2],_e[_s+124>>2]=+_e[_t+56>>2],_e[_s+128>>2]=+_e[_t+64>>2],_e[_s+132>>2]=+_e[_t+68>>2],_o[_s+136>>0]=_o[_t+48>>0]|0,_o[_s+137>>0]=_o[_t+60>>0]|0,l[_s+140>>2]=0,O_=_s+184|0,l[O_+0>>2]=0,l[O_+4>>2]=0,l[O_+8>>2]=0,l[O_+12>>2]=0):_s=0;break}case 7:{n_=bA(_,224)|0;do if(n_)if(l[n_>>2]=15768,_s=_t+8|0,t_=_t+12|0,(l[_s>>2]|0)==(l[t_>>2]|0))Y2(15816,15696,185,15848);else{l[n_+4>>2]=l[_t>>2],l[n_+8>>2]=0,l[n_+12>>2]=0,l[n_+48>>2]=l[_s>>2],l[n_+52>>2]=l[t_>>2],l[n_+56>>2]=0,_o[n_+61>>0]=_o[_t+16>>0]|0,_o[n_+60>>0]=0,l[n_+64>>2]=l[_t+4>>2],D_=n_+16|0,l[D_+0>>2]=0,l[D_+4>>2]=0,l[D_+8>>2]=0,l[D_+12>>2]=0,l[D_+16>>2]=0,l[D_+20>>2]=0,l[D_+24>>2]=0,l[D_+28>>2]=0,l[n_>>2]=17712,D_=_t+20|0,O_=l[D_+4>>2]|0,g_=n_+76|0,l[g_>>2]=l[D_>>2],l[g_+4>>2]=O_,g_=_t+28|0,O_=l[g_+4>>2]|0,D_=n_+84|0,l[D_>>2]=l[g_>>2],l[D_+4>>2]=O_,D_=_t+36|0,O_=l[D_>>2]|0,D_=l[D_+4>>2]|0,g_=n_+92|0,l[g_>>2]=O_,l[g_+4>>2]=D_,g_=n_+100|0,_e[g_>>2]=(l[s_>>2]=D_,-+_e[s_>>2]),l[g_+4>>2]=O_,_e[n_+204>>2]=0,_e[n_+108>>2]=0,_e[n_+208>>2]=0,_e[n_+112>>2]=0,_e[n_+212>>2]=0,_e[n_+116>>2]=0,_e[n_+120>>2]=+_e[_t+48>>2],_e[n_+124>>2]=+_e[_t+52>>2],_o[n_+128>>0]=_o[_t+44>>0]|0,_e[n_+68>>2]=+_e[_t+56>>2],_e[n_+72>>2]=+_e[_t+60>>2],_e[n_+216>>2]=0,_e[n_+220>>2]=0,g_=n_+172|0,l[g_+0>>2]=0,l[g_+4>>2]=0,l[g_+8>>2]=0,l[g_+12>>2]=0,g_=n_;break}else g_=0;while(!1);_s=g_;break}case 3:{_s=bA(_,176)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,t_=_t+12|0,(l[n_>>2]|0)==(l[t_>>2]|0))Y2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],l[_s+52>>2]=l[t_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],f_=_s+16|0,l[f_+0>>2]=0,l[f_+4>>2]=0,l[f_+8>>2]=0,l[f_+12>>2]=0,l[f_+16>>2]=0,l[f_+20>>2]=0,l[f_+24>>2]=0,l[f_+28>>2]=0,l[_s>>2]=14768,f_=_t+20|0,O_=l[f_+4>>2]|0,D_=_s+80|0,l[D_>>2]=l[f_>>2],l[D_+4>>2]=O_,D_=_t+28|0,O_=l[D_+4>>2]|0,f_=_s+88|0,l[f_>>2]=l[D_>>2],l[f_+4>>2]=O_,_e[_s+104>>2]=+_e[_t+36>>2],_e[_s+68>>2]=+_e[_t+40>>2],_e[_s+72>>2]=+_e[_t+44>>2],_e[_s+100>>2]=0,_e[_s+96>>2]=0,_e[_s+76>>2]=0,f_=_s;break}else f_=0;while(!1);_s=f_;break}case 1:{_s=bA(_,228)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,t_=_t+12|0,(l[n_>>2]|0)==(l[t_>>2]|0))Y2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],l[_s+52>>2]=l[t_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],O_=_s+16|0,l[O_+0>>2]=0,l[O_+4>>2]=0,l[O_+8>>2]=0,l[O_+12>>2]=0,l[O_+16>>2]=0,l[O_+20>>2]=0,l[O_+24>>2]=0,l[O_+28>>2]=0,l[_s>>2]=17112,O_=_t+20|0,u_=l[O_+4>>2]|0,D_=_s+68|0,l[D_>>2]=l[O_>>2],l[D_+4>>2]=u_,D_=_t+28|0,u_=l[D_+4>>2]|0,O_=_s+76|0,l[O_>>2]=l[D_>>2],l[O_+4>>2]=u_,_e[_s+116>>2]=+_e[_t+36>>2],O_=_s+84|0,u_=_t+44|0,l[O_+0>>2]=0,l[O_+4>>2]=0,l[O_+8>>2]=0,l[O_+12>>2]=0,_e[_s+120>>2]=+_e[u_>>2],_e[_s+124>>2]=+_e[_t+48>>2],_e[_s+104>>2]=+_e[_t+60>>2],_e[_s+108>>2]=+_e[_t+56>>2],_o[_s+112>>0]=_o[_t+40>>0]|0,_o[_s+100>>0]=_o[_t+52>>0]|0,l[_s+224>>2]=0,u_=_s;break}else u_=0;while(!1);_s=u_;break}case 8:{_s=bA(_,208)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,t_=_t+12|0,(l[n_>>2]|0)==(l[t_>>2]|0))Y2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],l[_s+52>>2]=l[t_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],x_=_s+16|0,l[x_+0>>2]=0,l[x_+4>>2]=0,l[x_+8>>2]=0,l[x_+12>>2]=0,l[x_+16>>2]=0,l[x_+20>>2]=0,l[x_+24>>2]=0,l[x_+28>>2]=0,l[_s>>2]=17568,x_=_t+20|0,O_=l[x_+4>>2]|0,D_=_s+80|0,l[D_>>2]=l[x_>>2],l[D_+4>>2]=O_,D_=_t+28|0,O_=l[D_+4>>2]|0,x_=_s+88|0,l[x_>>2]=l[D_>>2],l[x_+4>>2]=O_,_e[_s+96>>2]=+_e[_t+36>>2],_e[_s+68>>2]=+_e[_t+40>>2],_e[_s+72>>2]=+_e[_t+44>>2],_e[_s+104>>2]=0,_e[_s+108>>2]=0,_e[_s+112>>2]=0,x_=_s;break}else x_=0;while(!1);_s=x_;break}case 6:{_s=bA(_,276)|0,_s?(l[_s>>2]=15768,n_=_t+8|0,t_=_t+12|0,(l[n_>>2]|0)==(l[t_>>2]|0)&&Y2(15816,15696,185,15848),l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,O_=_s+48|0,l[O_>>2]=l[n_>>2],x_=_s+52|0,l[x_>>2]=l[t_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],f_=_s+16|0,l[f_+0>>2]=0,l[f_+4>>2]=0,l[f_+8>>2]=0,l[f_+12>>2]=0,l[f_+16>>2]=0,l[f_+20>>2]=0,l[f_+24>>2]=0,l[f_+28>>2]=0,l[_s>>2]=15280,f_=_s+92|0,n_=_s+100|0,R_=_s+108|0,l_=_s+116|0,J_=_s+124|0,t_=_s+132|0,D_=_t+20|0,V_=l[D_>>2]|0,l[_s+68>>2]=V_,u_=_t+24|0,A_=l[u_>>2]|0,l[_s+72>>2]=A_,g_=l[V_+4>>2]|0,l[_s+76>>2]=g_,__=l[A_+4>>2]|0,l[_s+80>>2]=__,(g_+-1|0)>>>0>=2&&Y2(15328,15392,53,15448),(__+-1|0)>>>0>=2&&Y2(15464,15392,54,15448),M_=l[V_+48>>2]|0,l[_s+84>>2]=M_,V_=l[V_+52>>2]|0,l[O_>>2]=V_,t2=+_e[V_+20>>2],e2=+_e[V_+24>>2],P_=+_e[M_+20>>2],F_=+_e[M_+24>>2],D_=l[D_>>2]|0,(g_|0)==1?(e2=+_e[V_+56>>2],Q_=+_e[M_+56>>2],O_=D_+68|0,V_=l[O_+4>>2]|0,M_=R_,l[M_>>2]=l[O_>>2],l[M_+4>>2]=V_,M_=D_+76|0,V_=l[M_+4>>2]|0,O_=f_,l[O_>>2]=l[M_>>2],l[O_+4>>2]=V_,P_=+_e[D_+116>>2],_e[_s+140>>2]=P_,_e[J_>>2]=0,_e[_s+128>>2]=0,P_=e2-Q_-P_):(S2=+_e[M_+16>>2],s2=+_e[M_+12>>2],w2=+_e[V_+16>>2],h2=+_e[V_+12>>2],g_=D_+68|0,r2=l[g_>>2]|0,g_=l[g_+4>>2]|0,V_=R_,l[V_>>2]=r2,l[V_+4>>2]=g_,V_=D_+76|0,M_=l[V_>>2]|0,V_=l[V_+4>>2]|0,O_=f_,l[O_>>2]=M_,l[O_+4>>2]=V_,_e[_s+140>>2]=+_e[D_+100>>2],O_=D_+84|0,D_=l[O_>>2]|0,O_=l[O_+4>>2]|0,R_=J_,l[R_>>2]=D_,l[R_+4>>2]=O_,b2=(l[s_>>2]=r2,+_e[s_>>2]),Q_=(l[s_>>2]=g_,+_e[s_>>2]),f2=(l[s_>>2]=M_,+_e[s_>>2]),v2=(l[s_>>2]=V_,+_e[s_>>2]),s2=h2-s2+(e2*f2-t2*v2),e2=w2-S2+(t2*f2+e2*v2),t2=(l[s_>>2]=D_,+_e[s_>>2]*(F_*s2+P_*e2-b2)),P_=t2+(l[s_>>2]=O_,+_e[s_>>2]*(F_*e2-P_*s2-Q_))),g_=l[A_+48>>2]|0,l[_s+88>>2]=g_,A_=l[A_+52>>2]|0,l[x_>>2]=A_,e2=+_e[A_+20>>2],t2=+_e[A_+24>>2],F_=+_e[g_+20>>2],Q_=+_e[g_+24>>2],u_=l[u_>>2]|0,(__|0)==1?(w2=+_e[A_+56>>2],h2=+_e[g_+56>>2],r2=u_+68|0,O_=l[r2+4>>2]|0,D_=l_,l[D_>>2]=l[r2>>2],l[D_+4>>2]=O_,D_=u_+76|0,O_=l[D_+4>>2]|0,r2=n_,l[r2>>2]=l[D_>>2],l[r2+4>>2]=O_,F_=+_e[u_+116>>2],_e[_s+144>>2]=F_,_e[t_>>2]=0,_e[_s+136>>2]=0,F_=w2-h2-F_):(b2=+_e[g_+16>>2],w2=+_e[g_+12>>2],s2=+_e[A_+16>>2],x2=+_e[A_+12>>2],M_=u_+68|0,R_=l[M_>>2]|0,M_=l[M_+4>>2]|0,D_=l_,l[D_>>2]=R_,l[D_+4>>2]=M_,D_=u_+76|0,V_=l[D_>>2]|0,D_=l[D_+4>>2]|0,r2=n_,l[r2>>2]=V_,l[r2+4>>2]=D_,_e[_s+144>>2]=+_e[u_+100>>2],r2=u_+84|0,O_=l[r2>>2]|0,r2=l[r2+4>>2]|0,J_=t_,l[J_>>2]=O_,l[J_+4>>2]=r2,f2=(l[s_>>2]=R_,+_e[s_>>2]),h2=(l[s_>>2]=M_,+_e[s_>>2]),v2=(l[s_>>2]=V_,+_e[s_>>2]),S2=(l[s_>>2]=D_,+_e[s_>>2]),w2=x2-w2+(t2*v2-e2*S2),S2=s2-b2+(e2*v2+t2*S2),f2=(l[s_>>2]=O_,+_e[s_>>2]*(Q_*w2+F_*S2-f2)),F_=f2+(l[s_>>2]=r2,+_e[s_>>2]*(Q_*S2-F_*w2-h2))),x2=+_e[_t+28>>2],_e[_s+152>>2]=x2,_e[_s+148>>2]=P_+F_*x2,_e[_s+156>>2]=0):_s=0;break}case 5:{_s=bA(_,168)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,__=_t+12|0,(l[n_>>2]|0)==(l[__>>2]|0)&&Y2(15816,15696,185,15848),l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],__=l[__>>2]|0,l[_s+52>>2]=__,l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],n_=_s+16|0,l[n_+0>>2]=0,l[n_+4>>2]=0,l[n_+8>>2]=0,l[n_+12>>2]=0,l[n_+16>>2]=0,l[n_+20>>2]=0,l[n_+24>>2]=0,l[n_+28>>2]=0,l[_s>>2]=15912,n_=_t+20|0,_e[s_>>2]=+_e[n_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&Y2(15960,15984,34,16040),_e[s_>>2]=+_e[_t+24>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&Y2(15960,15984,34,16040),l_=_t+28|0,x2=+_e[l_>>2],_e[s_>>2]=x2,((l[s_>>2]|0)&2139095040|0)==2139095040|!(x2>=0)&&Y2(16056,15984,35,16040),u_=_t+32|0,x2=+_e[u_>>2],_e[s_>>2]=x2,((l[s_>>2]|0)&2139095040|0)==2139095040|!(x2>=0)&&Y2(16112,15984,36,16040),x_=_t+36|0,x2=+_e[x_>>2],_e[s_>>2]=x2,((l[s_>>2]|0)&2139095040|0)==2139095040|!(x2>=0))Y2(16168,15984,37,16040);else{t_=n_,r2=l[t_>>2]|0,t_=l[t_+4>>2]|0,O_=_s+76|0,l[O_>>2]=r2,l[O_+4>>2]=t_,w2=(l[s_>>2]=r2,+_e[s_>>2]-+_e[__+12>>2]),S2=(l[s_>>2]=t_,+_e[s_>>2]-+_e[__+16>>2]),f2=+_e[__+24>>2],x2=+_e[__+20>>2],h2=+(w2*f2+S2*x2),x2=+(f2*S2-w2*x2),t_=_s+68|0,_e[t_>>2]=h2,_e[t_+4>>2]=x2,_e[_s+104>>2]=+_e[l_>>2],_e[_s+96>>2]=0,_e[_s+100>>2]=0,_e[_s+84>>2]=+_e[u_>>2],_e[_s+88>>2]=+_e[x_>>2],_e[_s+92>>2]=0,_e[_s+108>>2]=0,t_=_s;break}else t_=0;while(!1);_s=t_;break}case 10:{_s=bA(_,168)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,t_=_t+12|0,(l[n_>>2]|0)==(l[t_>>2]|0))Y2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],l[_s+52>>2]=l[t_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],__=_s+16|0,l[__+0>>2]=0,l[__+4>>2]=0,l[__+8>>2]=0,l[__+12>>2]=0,l[__+16>>2]=0,l[__+20>>2]=0,l[__+24>>2]=0,l[__+28>>2]=0,l[_s>>2]=17424,__=_t+20|0,r2=l[__+4>>2]|0,O_=_s+68|0,l[O_>>2]=l[__>>2],l[O_+4>>2]=r2,O_=_t+28|0,r2=l[O_+4>>2]|0,__=_s+76|0,l[__>>2]=l[O_>>2],l[__+4>>2]=r2,_e[_s+84>>2]=+_e[_t+36>>2],_e[_s+160>>2]=0,_e[_s+92>>2]=0,l[_s+164>>2]=0,_e[_s+88>>2]=0,__=_s;break}else __=0;while(!1);_s=__;break}case 11:{_s=bA(_,192)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,t_=_t+12|0,(l[n_>>2]|0)==(l[t_>>2]|0))Y2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],l[_s+52>>2]=l[t_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],O_=_s+16|0,l[O_+0>>2]=0,l[O_+4>>2]=0,l[O_+8>>2]=0,l[O_+12>>2]=0,l[O_+16>>2]=0,l[O_+20>>2]=0,l[O_+24>>2]=0,l[O_+28>>2]=0,l[_s>>2]=5256,O_=_t+20|0,r2=l[O_+4>>2]|0,l_=_s+68|0,l[l_>>2]=l[O_>>2],l[l_+4>>2]=r2,_e[_s+76>>2]=+_e[_t+28>>2],_e[_s+80>>2]=0,_e[_s+84>>2]=0,_e[_s+88>>2]=0,_e[_s+92>>2]=+_e[_t+32>>2],_e[_s+96>>2]=+_e[_t+36>>2],_e[_s+100>>2]=+_e[_t+40>>2],l_=_s;break}else l_=0;while(!1);_s=l_;break}default:Y2(15688,15696,121,15744)}while(!1);if(l[_s+8>>2]=0,n_=_+102956|0,l[_s+12>>2]=l[n_>>2],t_=l[n_>>2]|0,t_&&(l[t_+8>>2]=_s),l[n_>>2]=_s,n_=_+102964|0,l[n_>>2]=(l[n_>>2]|0)+1,n_=_s+16|0,l[_s+20>>2]=_s,_=_s+52|0,l[n_>>2]=l[_>>2],l[_s+24>>2]=0,t_=_s+48|0,__=l[t_>>2]|0,l_=__+108|0,l[_s+28>>2]=l[l_>>2],l_=l[l_>>2]|0,l_&&(l[l_+8>>2]=n_,__=l[t_>>2]|0),l[__+108>>2]=n_,n_=_s+32|0,l[_s+36>>2]=_s,l[n_>>2]=l[t_>>2],l[_s+40>>2]=0,t_=l[_>>2]|0,__=t_+108|0,l[_s+44>>2]=l[__>>2],__=l[__>>2]|0,__&&(l[__+8>>2]=n_,t_=l[_>>2]|0),l[t_+108>>2]=n_,_=l[_t+8>>2]|0,_o[_t+16>>0]|0||(_t=l[(l[_t+12>>2]|0)+112>>2]|0,!_t))return ws=_i,_s|0;do(l[_t>>2]|0)==(_|0)&&(r2=(l[_t+4>>2]|0)+4|0,l[r2>>2]=l[r2>>2]|8),_t=l[_t+12>>2]|0;while(_t|0);return ws=_i,_s|0}function pL(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,zI(_,_t),ws=_i}function lL(_,_t,_i,_s){_=_|0,_t=+_t,_i=_i|0,_s=_s|0;var t_=0;t_=ws,vZ(_,_t,_i,_s),ws=t_}function cL(_){_=_|0;var _t=0;if(_t=ws,_=l[_+102952>>2]|0,!_){ws=_t;return}do _e[_+76>>2]=0,_e[_+80>>2]=0,_e[_+84>>2]=0,_=l[_+96>>2]|0;while(_|0);ws=_t}function mL(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0,Na=0,n0=0,v0=0;if(_t=ws,ws=ws+208|0,A_=_t+40|0,x_=_t+24|0,J_=_t+80|0,M_=_t+104|0,f_=_t+48|0,g_=_t+32|0,R_=_t,F_=_t+160|0,P_=_t+64|0,D_=_t+176|0,t2=_t+192|0,e2=_t+88|0,t_=_t+144|0,l_=_t+112|0,_s=_t+8|0,_i=_+102984|0,n_=l[_i>>2]|0,!n_){ws=_t;return}if(n_=l[n_+4>>2]|0,n_&1|0&&(E2=l[_+102952>>2]|0,(E2|0)!=0)){H2=F_+4|0,O_=F_+8|0,Q_=F_+12|0,f2=t2+4|0,S2=t2+8|0,w2=t2+12|0,h2=e2+4|0,r2=e2+8|0,x2=e2+12|0,c2=P_+4|0,A2=P_+8|0,d2=P_+12|0,s2=D_+4|0,b2=D_+8|0,v2=D_+12|0;do{if(P2=E2+12|0,F2=l[E2+100>>2]|0,F2){N2=E2+4|0;do{y2=_r[N2>>1]|0;do if(y2&32)if(C2=l[E2>>2]|0,(C2|0)==1){_e[D_>>2]=.5,_e[s2>>2]=.5,_e[b2>>2]=.8999999761581421,_e[v2>>2]=1,sD(_,l[F2+12>>2]|0,P2,D_);break}else if(C2)if(y2&2){_e[e2>>2]=.8999999761581421,_e[h2>>2]=.699999988079071,_e[r2>>2]=.699999988079071,_e[x2>>2]=1,sD(_,l[F2+12>>2]|0,P2,e2);break}else{_e[t2>>2]=.6000000238418579,_e[f2>>2]=.6000000238418579,_e[S2>>2]=.6000000238418579,_e[w2>>2]=1,sD(_,l[F2+12>>2]|0,P2,t2);break}else{_e[P_>>2]=.5,_e[c2>>2]=.8999999761581421,_e[A2>>2]=.5,_e[d2>>2]=1,sD(_,l[F2+12>>2]|0,P2,P_);break}else _e[F_>>2]=.5,_e[H2>>2]=.5,_e[O_>>2]=.30000001192092896,_e[Q_>>2]=1,sD(_,l[F2+12>>2]|0,P2,F_);while(!1);F2=l[F2+4>>2]|0}while(F2|0)}E2=l[E2+96>>2]|0}while(E2|0)}if(n_&2|0&&(V_=l[_+102956>>2]|0,(V_|0)!=0)){D_=f_+4|0,P_=f_+8|0,F_=f_+12|0;do y2=(l[V_+52>>2]|0)+12|0,F2=(l[V_+48>>2]|0)+12|0,t2=l[F2+4>>2]|0,C2=A_,l[C2>>2]=l[F2>>2],l[C2+4>>2]=t2,C2=l[y2+4>>2]|0,t2=x_,l[t2>>2]=l[y2>>2],l[t2+4>>2]=C2,yy[l[l[V_>>2]>>2]&127](J_,V_),yy[l[(l[V_>>2]|0)+4>>2]&127](M_,V_),_e[f_>>2]=.5,_e[D_>>2]=.800000011920929,_e[P_>>2]=.800000011920929,_e[F_>>2]=1,t2=l[V_+4>>2]|0,(t2|0)==3?(C2=l[_i>>2]|0,_g[l[(l[C2>>2]|0)+24>>2]&63](C2,J_,M_,f_)):(t2|0)==4?(C2=V_+68|0,y2=l[C2+4>>2]|0,F2=g_,l[F2>>2]=l[C2>>2],l[F2+4>>2]=y2,F2=V_+76|0,y2=l[F2+4>>2]|0,C2=R_,l[C2>>2]=l[F2>>2],l[C2+4>>2]=y2,C2=l[_i>>2]|0,_g[l[(l[C2>>2]|0)+24>>2]&63](C2,g_,J_,f_),C2=l[_i>>2]|0,_g[l[(l[C2>>2]|0)+24>>2]&63](C2,R_,M_,f_),C2=l[_i>>2]|0,_g[l[(l[C2>>2]|0)+24>>2]&63](C2,g_,R_,f_)):(t2|0)!=5&&(C2=l[_i>>2]|0,_g[l[(l[C2>>2]|0)+24>>2]&63](C2,A_,J_,f_),C2=l[_i>>2]|0,_g[l[(l[C2>>2]|0)+24>>2]&63](C2,J_,M_,f_),C2=l[_i>>2]|0,_g[l[(l[C2>>2]|0)+24>>2]&63](C2,x_,M_,f_)),V_=l[V_+12>>2]|0;while(V_|0)}if(n_&8)for(x_=_+102932|0;x_=l[x_>>2]|0,x_;)x_=x_+12|0;t:do if(n_&4|0&&(_e[t_>>2]=.8999999761581421,_e[t_+4>>2]=.30000001192092896,_e[t_+8>>2]=.8999999761581421,_e[t_+12>>2]=1,u_=l[_+102952>>2]|0,(u_|0)!=0)){A_=_+102884|0,D_=_+102876|0,x_=l_+4|0,V_=l_+8|0,M_=l_+12|0,R_=l_+16|0,J_=l_+20|0,f_=l_+24|0,g_=l_+28|0;e:for(;;){if(_r[u_+4>>1]&32&&(__=l[u_+100>>2]|0,(__|0)!=0)){O_=__;do{if(e2=O_+28|0,(l[e2>>2]|0)>0){t2=O_+24|0,F_=0;do{if(P_=l[(l[t2>>2]|0)+(F_*28|0)+24>>2]|0,(P_|0)<=-1){t_=37;break e}if((l[A_>>2]|0)<=(P_|0)){t_=37;break e}C2=l[D_>>2]|0,Na=+_e[C2+(P_*36|0)>>2],v0=+_e[C2+(P_*36|0)+4>>2],n0=+_e[C2+(P_*36|0)+8>>2],j2=+_e[C2+(P_*36|0)+12>>2],_e[l_>>2]=Na,_e[x_>>2]=v0,_e[V_>>2]=n0,_e[M_>>2]=v0,_e[R_>>2]=n0,_e[J_>>2]=j2,_e[f_>>2]=Na,_e[g_>>2]=j2,C2=l[_i>>2]|0,_g[l[(l[C2>>2]|0)+8>>2]&63](C2,l_,4,t_),F_=F_+1|0}while((F_|0)<(l[e2>>2]|0))}O_=l[O_+4>>2]|0}while(O_|0)}if(u_=l[u_+96>>2]|0,!u_)break t}(t_|0)==37&&Y2(12256,12200,164,12320)}while(!1);if(!(n_&16)){ws=_t;return}if(_=l[_+102952>>2]|0,!_){ws=_t;return}do F2=_+12|0,l[_s+0>>2]=l[F2+0>>2],l[_s+4>>2]=l[F2+4>>2],l[_s+8>>2]=l[F2+8>>2],l[_s+12>>2]=l[F2+12>>2],F2=_+44|0,y2=l[F2+4>>2]|0,C2=_s,l[C2>>2]=l[F2>>2],l[C2+4>>2]=y2,C2=l[_i>>2]|0,yy[l[(l[C2>>2]|0)+28>>2]&127](C2,_s),_=l[_+96>>2]|0;while(_|0);ws=_t}function bL(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0;__=ws,ws=ws+1040|0,t_=__,n_=t_+4|0,l[t_>>2]=n_,l_=t_+1028|0,l[l_>>2]=0,u_=t_+1032|0,l[u_>>2]=256,A_=l[t_>>2]|0,l[A_+(l[l_>>2]<<2)>>2]=l[_+102872>>2],D_=l[l_>>2]|0,M_=D_+1|0,l[l_>>2]=M_;do if((D_|0)>-1){J_=_+102876|0,f_=_i+4|0,g_=_i+8|0,A_=_i+12|0,_=_+102884|0;t:for(;;){if((M_|0)<=0){l_=4;break}M_=M_+-1|0,l[l_>>2]=M_,D_=l[t_>>2]|0,R_=l[D_+(M_<<2)>>2]|0;do if((R_|0)!=-1&&(x_=l[J_>>2]|0,!((+_e[_i>>2]-+_e[x_+(R_*36|0)+8>>2]>0?1:+_e[f_>>2]-+_e[x_+(R_*36|0)+12>>2]>0)|+_e[x_+(R_*36|0)>>2]-+_e[g_>>2]>0|+_e[x_+(R_*36|0)+4>>2]-+_e[A_>>2]>0))){if(V_=x_+(R_*36|0)+24|0,(l[V_>>2]|0)==-1){if((R_|0)<=-1){l_=11;break t}if((l[_>>2]|0)<=(R_|0)){l_=11;break t}if(!(v1[l[(l[_t>>2]|0)+8>>2]&63](_t,l[(l[x_+(R_*36|0)+16>>2]|0)+16>>2]|0)|0)){l_=21;break t}M_=l[l_>>2]|0;break}(M_|0)==(l[u_>>2]|0)&&(l[u_>>2]=M_<<1,M_=s0(M_<<3)|0,l[t_>>2]=M_,BS(M_|0,D_|0,l[l_>>2]<<2|0)|0,(D_|0)!=(n_|0))&&u0(D_),M_=l[t_>>2]|0,l[M_+(l[l_>>2]<<2)>>2]=l[V_>>2],V_=(l[l_>>2]|0)+1|0,l[l_>>2]=V_,R_=x_+(R_*36|0)+28|0,(V_|0)==(l[u_>>2]|0)&&(l[u_>>2]=V_<<1,D_=s0(V_<<3)|0,l[t_>>2]=D_,BS(D_|0,M_|0,l[l_>>2]<<2|0)|0,(M_|0)!=(n_|0))&&u0(M_),l[(l[t_>>2]|0)+(l[l_>>2]<<2)>>2]=l[R_>>2],M_=(l[l_>>2]|0)+1|0,l[l_>>2]=M_}while(!1);if((M_|0)<=0){l_=21;break}}if((l_|0)==4)Y2(10128,10144,67,10192);else if((l_|0)==11)Y2(12256,12200,158,12304);else if((l_|0)==21){_s=l[t_>>2]|0;break}}else _s=A_;while(!1);if((_s|0)==(n_|0)){ws=__;return}u0(_s),l[t_>>2]=0,ws=__}function uL(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0,Na=0,n0=0,v0=0;t_=ws,ws=ws+1088|0,l_=t_+1064|0,__=t_+1056|0,n_=t_+20|0,A_=t_,R_=l[_i>>2]|0,_i=l[_i+4>>2]|0,F_=_s,_s=l[F_>>2]|0,F_=l[F_+4>>2]|0,P_=(l[s_>>2]=R_,+_e[s_>>2]),M_=(l[s_>>2]=_i,+_e[s_>>2]),V_=(l[s_>>2]=_s,+_e[s_>>2]),V_=V_-P_,D_=(l[s_>>2]=F_,+_e[s_>>2]-M_),e2=V_*V_+D_*D_,e2>0||Y2(12168,12200,209,12248),e2=+V2(+e2),e2<11920928955078125e-23?(Q_=D_,O_=V_):(O_=1/e2,Q_=D_*O_,O_=V_*O_),e2=-Q_,S2=Q_<-0?e2:Q_,O_>0?Q_=O_:Q_=-O_,E2=P_+V_,P2=M_+D_,t2=n_+4|0,l[n_>>2]=t2,b2=n_+1028|0,l[b2>>2]=0,s2=n_+1032|0,l[s2>>2]=256,l[(l[n_>>2]|0)+(l[b2>>2]<<2)>>2]=l[_+102872>>2],j2=l[b2>>2]|0,C2=j2+1|0,l[b2>>2]=C2;t:do if((j2|0)>-1){v2=_+102876|0,f2=A_+8|0,w2=A_+16|0,h2=_+102884|0,r2=l_+8|0,x2=A_+4|0,A2=A_+8|0,_=A_+12|0,d2=__+4|0,c2=P_<E2?P_:E2,H2=M_>P2?M_:P2,E2=P_>E2?P_:E2,P2=M_<P2?M_:P2,N2=1;e:for(;;){o:for(;;){if((C2|0)<=0){__=11;break e}C2=C2+-1|0,l[b2>>2]=C2,y2=l[n_>>2]|0,F2=l[y2+(C2<<2)>>2]|0;do if((F2|0)!=-1&&(g_=l[v2>>2]|0,f_=+_e[g_+(F2*36|0)+8>>2],u_=+_e[g_+(F2*36|0)+12>>2],x_=+_e[g_+(F2*36|0)>>2],J_=+_e[g_+(F2*36|0)+4>>2],!(c2-f_>0|P2-u_>0|x_-E2>0|J_-H2>0))&&(Na=(P_-(f_+x_)*.5)*e2+O_*(M_-(u_+J_)*.5),Na>0||(Na=-Na),!(Na-(S2*(f_-x_)*.5+Q_*(u_-J_)*.5)>0))){if(j2=g_+(F2*36|0)+24|0,(l[j2>>2]|0)!=-1){(C2|0)==(l[s2>>2]|0)&&(l[s2>>2]=C2<<1,C2=s0(C2<<3)|0,l[n_>>2]=C2,BS(C2|0,y2|0,l[b2>>2]<<2|0)|0,(y2|0)!=(t2|0))&&u0(y2),y2=l[n_>>2]|0,l[y2+(l[b2>>2]<<2)>>2]=l[j2>>2],C2=(l[b2>>2]|0)+1|0,l[b2>>2]=C2,F2=g_+(F2*36|0)+28|0,(C2|0)==(l[s2>>2]|0)&&(l[s2>>2]=C2<<1,j2=s0(C2<<3)|0,l[n_>>2]=j2,BS(j2|0,y2|0,l[b2>>2]<<2|0)|0,(y2|0)!=(t2|0))&&u0(y2),l[(l[n_>>2]|0)+(l[b2>>2]<<2)>>2]=l[F2>>2],C2=(l[b2>>2]|0)+1|0,l[b2>>2]=C2;break}if(j2=A_,l[j2>>2]=R_,l[j2+4>>2]=_i,j2=f2,l[j2>>2]=_s,l[j2+4>>2]=F_,_e[w2>>2]=N2,(F2|0)<=-1){__=21;break e}if((l[h2>>2]|0)<=(F2|0)){__=21;break e}if(j2=l[g_+(F2*36|0)+16>>2]|0,F2=l[j2+16>>2]|0,C2=l[F2+12>>2]|0,BB[l[(l[C2>>2]|0)+20>>2]&63](C2,l_,A_,(l[F2+8>>2]|0)+12|0,l[j2+20>>2]|0)|0?(Na=+_e[r2>>2],v0=1-Na,n0=v0*+_e[x2>>2]+Na*+_e[_>>2],_e[__>>2]=+_e[A_>>2]*v0+Na*+_e[A2>>2],_e[d2>>2]=n0,Na=+VJ[l[(l[_t>>2]|0)+8>>2]&63](_t,F2,__,l_,Na)):Na=+_e[w2>>2],Na==0)break t;if(Na>0)break o;C2=l[b2>>2]|0}while(!1);if((C2|0)<=0)break t}if(E2=P_+V_*Na,P2=M_+D_*Na,C2=l[b2>>2]|0,(C2|0)<=0)break t;c2=P_<E2?P_:E2,H2=M_>P2?M_:P2,E2=P_>E2?P_:E2,P2=M_<P2?M_:P2,N2=Na}(__|0)==11?Y2(10128,10144,67,10192):(__|0)==21&&Y2(12256,12200,158,12304)}while(!1);if(__=l[n_>>2]|0,(__|0)==(t2|0)){ws=t_;return}u0(__),l[n_>>2]=0,ws=t_}function hL(_){return _=_|0,l[_+102952>>2]|0}function dL(_){return _=_|0,l[_+102956>>2]|0}function yL(_){return _=_|0,l[_+102932>>2]|0}function xL(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;if(_i=ws,_s=_+102976|0,(_t&1|0)==(e_[_s>>0]|0|0)){ws=_i;return}if(_o[_s>>0]=_t&1,_t){ws=_i;return}if(_=l[_+102952>>2]|0,!_){ws=_i;return}do _s=_+4|0,_t=o_[_s>>1]|0,_t&2||(_r[_s>>1]=_t|2,_e[_+144>>2]=0),_=l[_+96>>2]|0;while(_|0);ws=_i}function fL(_){return _=_|0,(_o[_+102976>>0]|0)!=0|0}function gL(_,_t){_=_|0,_t=_t|0,_o[_+102992>>0]=_t&1}function vL(_){return _=_|0,(_o[_+102992>>0]|0)!=0|0}function AL(_,_t){_=_|0,_t=_t|0,_o[_+102993>>0]=_t&1}function SL(_){return _=_|0,(_o[_+102993>>0]|0)!=0|0}function CL(_,_t){_=_|0,_t=_t|0,_o[_+102994>>0]=_t&1}function BL(_){return _=_|0,(_o[_+102994>>0]|0)!=0|0}function PL(_){return _=_|0,l[_+102900>>2]|0}function wL(_){return _=_|0,l[_+102960>>2]|0}function VL(_){return _=_|0,l[_+102964>>2]|0}function DL(_){return _=_|0,l[_+102936>>2]|0}function ML(_){_=_|0;var _t=0,_i=0;return _t=ws,_i=l[_+102872>>2]|0,(_i|0)==-1?(_i=0,ws=_t,_i|0):(_i=l[(l[_+102876>>2]|0)+(_i*36|0)+32>>2]|0,ws=_t,_i|0)}function GL(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;if(_t=ws,_i=l[_+102884>>2]|0,(_i|0)<=0)return n_=0,ws=_t,n_|0;for(_=l[_+102876>>2]|0,_s=0,t_=0;;){if((l[_+(_s*36|0)+32>>2]|0)>=2){if(n_=l[_+(_s*36|0)+24>>2]|0,(n_|0)==-1){_i=5;break}n_=(l[_+((l[_+(_s*36|0)+28>>2]|0)*36|0)+32>>2]|0)-(l[_+(n_*36|0)+32>>2]|0)|0,n_=(n_|0)>0?n_:0-n_|0,t_=(t_|0)>(n_|0)?t_:n_}if(_s=_s+1|0,(_s|0)>=(_i|0)){_i=8;break}}if((_i|0)==5)Y2(6616,6088,683,6640);else if((_i|0)==8)return ws=_t,t_|0;return 0}function JL(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;if(_t=ws,t_=l[_+102872>>2]|0,(t_|0)==-1)return n_=0,ws=_t,+n_;if(_s=l[_+102876>>2]|0,_i=(+_e[_s+(t_*36|0)+8>>2]-+_e[_s+(t_*36|0)>>2]+(+_e[_s+(t_*36|0)+12>>2]-+_e[_s+(t_*36|0)+4>>2]))*2,_=l[_+102884>>2]|0,(_|0)>0){t_=0,n_=0;do(l[_s+(t_*36|0)+32>>2]|0)>=0&&(n_=n_+(+_e[_s+(t_*36|0)+8>>2]-+_e[_s+(t_*36|0)>>2]+(+_e[_s+(t_*36|0)+12>>2]-+_e[_s+(t_*36|0)+4>>2]))*2),t_=t_+1|0;while((t_|0)<(_|0))}else n_=0;return n_=n_/_i,ws=_t,+n_}function IL(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+102968|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function TL(_){_=_|0;var _t=0,_i=0,_s=0;return _t=ws,!(_o[280]|0)&&K2(280)|0&&R0(280),_s=_+102968|0,_i=l[_s+4>>2]|0,_=272,l[_>>2]=l[_s>>2],l[_+4>>2]=_i,ws=_t,272}function RL(_){return _=_|0,(l[_+102868>>2]&2|0)!=0|0}function FL(_,_t){_=_|0,_t=_t|0;var _i=0;_=_+102868|0,_i=l[_>>2]|0,l[_>>2]=_t?_i|4:_i&-5}function LL(_){return _=_|0,(l[_+102868>>2]&4|0)!=0|0}function qL(_){return _=_|0,_+102996|0}function EL(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;if(_i=ws,ws=ws+16|0,_t=_i,l[_+102868>>2]&2){ws=_i;return}if(n_=+_e[_+102972>>2],c_[s_>>3]=+_e[_+102968>>2],l[_t>>2]=l[s_>>2],l[_t+4>>2]=l[s_+4>>2],_s=_t+8|0,c_[s_>>3]=n_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(11880,_t),ta(11912,_t),l[_t>>2]=l[_+102960>>2],ta(11944,_t),l[_t>>2]=l[_+102964>>2],ta(12008,_t),_s=l[_+102952>>2]|0,_s)for(t_=0;l[_s+8>>2]=t_,RI(_s),_s=l[_s+96>>2]|0,_s;)t_=t_+1|0;if(_=_+102956|0,t_=l[_>>2]|0,t_){for(_s=0;l[t_+56>>2]=_s,t_=l[t_+12>>2]|0,t_;)_s=_s+1|0;if(_s=l[_>>2]|0,_s){do(l[_s+4>>2]|0)!=6&&(ta(12072,_t),ry[l[(l[_s>>2]|0)+16>>2]&127](_s),ta(12080,_t)),_s=l[_s+12>>2]|0;while(_s|0);if(_=l[_>>2]|0,_)do(l[_+4>>2]|0)==6&&(ta(12072,_t),ry[l[(l[_>>2]|0)+16>>2]&127](_),ta(12080,_t)),_=l[_+12>>2]|0;while(_|0)}}ta(12088,_t),ta(12112,_t),ta(12136,_t),ta(12152,_t),ws=_i}function kL(_){_=_|0;var _t=0,_i=0,_s=0,t_=0;if(_t=ws,!_){ws=_t;return}if(_i=l[_+102952>>2]|0,_i)do for(_s=_i,_i=l[_i+96>>2]|0,_s=l[_s+100>>2]|0;_s;)t_=l[_s+4>>2]|0,l[_s+28>>2]=0,vJ(_s,_),_s=t_;while(_i|0);if(u0(l[_+102904>>2]|0),u0(l[_+102916>>2]|0),u0(l[_+102876>>2]|0),l[_+102468>>2]|0&&Y2(8840,8856,32,8904),l[_+102864>>2]|0&&Y2(8928,8856,33,8904),_i=_+4|0,t_=l[_>>2]|0,(l[_i>>2]|0)>0){_s=0;do u0(l[t_+(_s<<3)+4>>2]|0),_s=_s+1|0,t_=l[_>>2]|0;while((_s|0)<(l[_i>>2]|0))}u0(t_),u0(_),ws=_t}function jL(_){return _=_|0,_+68|0}function zL(_){return _=_|0,_+76|0}function WL(_){return _=_|0,_+84|0}function NL(_){return _=_|0,+ +_e[_+100>>2]}function OL(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0;return n_=l[_+48>>2]|0,_i=+_e[n_+24>>2],l_=+_e[_+68>>2],t_=+_e[n_+20>>2],__=+_e[_+72>>2],u_=l[_+52>>2]|0,A_=+_e[u_+24>>2],f_=+_e[_+76>>2],g_=+_e[u_+20>>2],x_=+_e[_+80>>2],_s=+_e[_+84>>2],_t=+_e[_+88>>2],+((+_e[u_+12>>2]+(A_*f_-g_*x_)-(+_e[n_+12>>2]+(_i*l_-t_*__)))*(_i*_s-t_*_t)+(f_*g_+A_*x_+ +_e[u_+16>>2]-(l_*t_+_i*__+ +_e[n_+16>>2]))*(t_*_s+_i*_t))}function UL(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0;return _i=ws,J_=l[_+48>>2]|0,R_=l[_+52>>2]|0,g_=+_e[_+68>>2]-+_e[J_+28>>2],t_=+_e[_+72>>2]-+_e[J_+32>>2],u_=+_e[J_+24>>2],A_=+_e[J_+20>>2],_s=g_*u_-t_*A_,g_=u_*t_+g_*A_,t_=+_e[_+76>>2]-+_e[R_+28>>2],l_=+_e[_+80>>2]-+_e[R_+32>>2],f_=+_e[R_+24>>2],x_=+_e[R_+20>>2],__=t_*f_-l_*x_,x_=f_*l_+t_*x_,t_=+_e[_+84>>2],l_=+_e[_+88>>2],f_=u_*t_-A_*l_,l_=A_*t_+u_*l_,_=J_+64|0,u_=+_e[_>>2],t_=+_e[_+4>>2],_=R_+64|0,A_=+_e[_>>2],_t=+_e[J_+72>>2],n_=+_e[R_+72>>2],_t=(x_+ +_e[R_+48>>2]-(g_+ +_e[J_+48>>2]))*f_*_t-(__+ +_e[R_+44>>2]-(_s+ +_e[J_+44>>2]))*l_*_t+(f_*(g_*_t+(A_-x_*n_-u_))+l_*(+_e[_+4>>2]+__*n_-t_-_s*_t)),ws=_i,+_t}function XL(_){return _=_|0,(_o[_+136>>0]|0)!=0|0}function YL(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0;if(_i=ws,_s=_+136|0,(_t&1|0)==(e_[_s>>0]|0|0)){ws=_i;return}t_=l[_+48>>2]|0,n_=t_+4|0,__=o_[n_>>1]|0,__&2||(_r[n_>>1]=__|2,_e[t_+144>>2]=0),t_=l[_+52>>2]|0,n_=t_+4|0,__=o_[n_>>1]|0,__&2||(_r[n_>>1]=__|2,_e[t_+144>>2]=0),_o[_s>>0]=_t&1,_e[_+112>>2]=0,ws=_i}function HL(_){return _=_|0,+ +_e[_+120>>2]}function ZL(_){return _=_|0,+ +_e[_+124>>2]}function KL(_,_t,_i){_=_|0,_t=+_t,_i=+_i;var _s=0,t_=0,n_=0,__=0,l_=0;if(t_=ws,_t<=_i||Y2(17160,16424,567,17232),_s=_+120|0,+_e[_s>>2]==_t&&+_e[_+124>>2]==_i){ws=t_;return}l_=l[_+48>>2]|0,n_=l_+4|0,__=o_[n_>>1]|0,__&2||(_r[n_>>1]=__|2,_e[l_+144>>2]=0),__=l[_+52>>2]|0,l_=__+4|0,n_=o_[l_>>1]|0,n_&2||(_r[l_>>1]=n_|2,_e[__+144>>2]=0),_e[_s>>2]=_t,_e[_+124>>2]=_i,_e[_+112>>2]=0,ws=t_}function QL(_){return _=_|0,(_o[_+137>>0]|0)!=0|0}function $L(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;if(_i=ws,_s=l[_+48>>2]|0,t_=_s+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,t_=n_+4|0,_s=o_[t_>>1]|0,_s&2){n_=_+137|0,t_=_t&1,_o[n_>>0]=t_,ws=_i;return}_r[t_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+137|0,t_=_t&1,_o[n_>>0]=t_,ws=_i}function _q(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0,n_=0;if(_i=ws,_s=l[_+48>>2]|0,t_=_s+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,t_=n_+4|0,_s=o_[t_>>1]|0,_s&2){n_=_+132|0,_e[n_>>2]=_t,ws=_i;return}_r[t_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+132|0,_e[n_>>2]=_t,ws=_i}function tE(_){return _=_|0,+ +_e[_+132>>2]}function eE(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0,n_=0;if(_i=ws,_s=l[_+48>>2]|0,t_=_s+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,t_=n_+4|0,_s=o_[t_>>1]|0,_s&2){n_=_+128|0,_e[n_>>2]=_t,ws=_i;return}_r[t_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+128|0,_e[n_>>2]=_t,ws=_i}function oE(_){return _=_|0,+ +_e[_+128>>2]}function iE(_,_t){return _=_|0,_t=+_t,+(+_e[_+116>>2]*_t)}function rE(_){return _=_|0,l[_+4>>2]|0}function nE(_){return _=_|0,l[_+48>>2]|0}function sE(_){return _=_|0,l[_+52>>2]|0}function _E(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[296]|0)&&K2(296)|0&&R0(296),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=288,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,288}function aE(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[312]|0)&&K2(312)|0&&R0(312),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=304,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,304}function pE(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[328]|0)&&K2(328)|0&&R0(328),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=320,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,320}function lE(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function cE(_){return _=_|0,l[_+12>>2]|0}function mE(_){return _=_|0,l[_+64>>2]|0}function bE(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function uE(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function hE(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function dE(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function yE(_){return _=_|0,_|0}function xE(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function fE(_){return _=_|0,+ +_e[_+8>>2]}function gE(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function vE(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function AE(_){return _=_|0,_|0}function SE(_,_t){_=_|0,_t=_t|0,_t=e_[_t>>0]|e_[_t+1>>0]<<8|e_[_t+2>>0]<<16|e_[_t+3>>0]<<24,_o[_>>0]=_t,_o[_+1>>0]=_t>>8,_o[_+2>>0]=_t>>16,_o[_+3>>0]=_t>>24}function CE(_){return _=_|0,l[_>>2]|0}function BE(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function PE(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function wE(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function VE(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(4)|0,_t)return _i=_t,l[_i>>2]=2688,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(4)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return l[_i>>2]=2688,ws=_,_i|0;return 0}function DE(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,yy[l[(l[_>>2]|0)+8>>2]&127](_,_t),ws=_i}function ME(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,yy[l[(l[_>>2]|0)+12>>2]&127](_,_t),ws=_i}function GE(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;_s=ws,lD[l[(l[_>>2]|0)+16>>2]&63](_,_t,_i),ws=_s}function JE(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;_s=ws,lD[l[(l[_>>2]|0)+20>>2]&63](_,_t,_i),ws=_s}function IE(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function TE(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(16)|0,_t)return _i=_t,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(16)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return ws=_,_i|0;return 0}function RE(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;_i=ws,_s=s0(16)|0;t:do if(!_s){for(;_s=l[4698]|0,l[4698]=_s+0,!!_s;)if(xb[_s&63](),_s=s0(16)|0,_s)break t;_s=_b(4)|0,l[_s>>2]=18632,K0(_s|0,18680,116)}while(!1);return n_=_,_=l[n_+4>>2]|0,t_=_s,l[t_>>2]=l[n_>>2],l[t_+4>>2]=_,t_=_t,_=l[t_+4>>2]|0,_t=_s+8|0,l[_t>>2]=l[t_>>2],l[_t+4>>2]=_,ws=_i,_s|0}function FE(_,_t,_i,_s){_=+_,_t=+_t,_i=+_i,_s=+_s;var t_=0,n_=0;t_=ws,n_=s0(16)|0;t:do if(!n_){for(;n_=l[4698]|0,l[4698]=n_+0,!!n_;)if(xb[n_&63](),n_=s0(16)|0,n_)break t;n_=_b(4)|0,l[n_>>2]=18632,K0(n_|0,18680,116)}while(!1);return _e[n_>>2]=_,_e[n_+4>>2]=_i,_e[n_+8>>2]=_t,_e[n_+12>>2]=_s,ws=t_,n_|0}function LE(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0;t_=_t,_t=l[t_+4>>2]|0,_s=_,l[_s>>2]=l[t_>>2],l[_s+4>>2]=_t,_s=_i,_i=l[_s+4>>2]|0,_t=_+8|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function qE(_){_=_|0,_e[_>>2]=1,_e[_+8>>2]=0,_e[_+4>>2]=0,_e[_+12>>2]=1}function EE(_){_=_|0;var _t=0;_t=ws,l[_+0>>2]=0,l[_+4>>2]=0,l[_+8>>2]=0,l[_+12>>2]=0,ws=_t}function kE(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0;return _t=ws,!(_o[352]|0)&&K2(352)|0&&R0(352),_i=+_e[_>>2],_s=+_e[_+8>>2],t_=+_e[_+4>>2],n_=+_e[_+12>>2],__=_i*n_-_s*t_,__!=0&&(__=1/__),l_=-__,_e[84]=n_*__,_e[85]=t_*l_,_e[86]=_s*l_,_e[87]=_i*__,ws=_t,336}function jE(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0;return _i=ws,!(_o[368]|0)&&K2(368)|0&&R0(368),t_=+_e[_>>2],n_=+_e[_+8>>2],_s=+_e[_+4>>2],__=+_e[_+12>>2],l_=t_*__-n_*_s,l_!=0&&(l_=1/l_),u_=+_e[_t>>2],x_=+_e[_t+4>>2],__=+(l_*(__*u_-n_*x_)),l_=+(l_*(t_*x_-_s*u_)),_=360,_e[_>>2]=__,_e[_+4>>2]=l_,ws=_i,360}function zE(_){return _=_|0,_|0}function WE(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function NE(_){return _=_|0,_+8|0}function OE(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+8|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function UE(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function XE(){var _=0,_t=0,_i=0,_s=0;_=ws,_t=s0(64)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(64)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=7,_s=_t+20|0,_i=_t+36|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0,_e[_i>>2]=1,_e[_t+40>>2]=0,_o[_t+44>>0]=0,_e[_t+48>>2]=0,_e[_t+52>>2]=0,_e[_t+56>>2]=2,_e[_t+60>>2]=.699999988079071,ws=_,_t|0}function YE(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0;n_=ws,l[_+8>>2]=_t,l[_+12>>2]=_i,l_=+_e[_s>>2]-+_e[_t+12>>2],f_=_s+4|0,A_=+_e[f_>>2]-+_e[_t+16>>2],g_=_t+24|0,u_=+_e[g_>>2],_t=_t+20|0,__=+_e[_t>>2],x_=+(l_*u_+A_*__),__=+(u_*A_-l_*__),J_=_+20|0,_e[J_>>2]=x_,_e[J_+4>>2]=__,__=+_e[_s>>2]-+_e[_i+12>>2],x_=+_e[f_>>2]-+_e[_i+16>>2],l_=+_e[_i+24>>2],A_=+_e[_i+20>>2],u_=+(__*l_+x_*A_),A_=+(l_*x_-__*A_),_s=_+28|0,_e[_s>>2]=u_,_e[_s+4>>2]=A_,A_=+_e[g_>>2],u_=+_e[t_>>2],__=+_e[_t>>2],x_=+_e[t_+4>>2],l_=+(A_*u_+__*x_),__=+(A_*x_-u_*__),_t=_+36|0,_e[_t>>2]=l_,_e[_t+4>>2]=__,ws=n_}function HE(_){return _=_|0,_+20|0}function ZE(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function KE(_){return _=_|0,_+28|0}function QE(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function $E(_){return _=_|0,_+36|0}function t7(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+36|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function e7(_){return _=_|0,(_o[_+44>>0]|0)!=0|0}function o7(_,_t){_=_|0,_t=_t|0,_o[_+44>>0]=_t&1}function i7(_){return _=_|0,+ +_e[_+48>>2]}function r7(_,_t){_=_|0,_t=+_t,_e[_+48>>2]=_t}function n7(_){return _=_|0,+ +_e[_+52>>2]}function s7(_,_t){_=_|0,_t=+_t,_e[_+52>>2]=_t}function _7(_){return _=_|0,+ +_e[_+56>>2]}function a7(_,_t){_=_|0,_t=+_t,_e[_+56>>2]=_t}function p7(_){return _=_|0,+ +_e[_+60>>2]}function l7(_,_t){_=_|0,_t=+_t,_e[_+60>>2]=_t}function c7(_){return _=_|0,l[_>>2]|0}function m7(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function b7(_){return _=_|0,l[_+4>>2]|0}function u7(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function h7(_){return _=_|0,l[_+8>>2]|0}function d7(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function y7(_){return _=_|0,l[_+12>>2]|0}function x7(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function f7(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function g7(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function v7(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function A7(){var _=0,_t=0,_i=0;_=ws,_t=s0(20)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(20)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t>>2]=7400,_i=_t+4|0,l[_i+0>>2]=0,l[_i+4>>2]=0,l[_i+8>>2]=0,l[_i+12>>2]=0,ws=_,_t|0}function S7(_){return _=_|0,l[_+4>>2]|0}function C7(_){_=_|0;var _t=0;return _t=ws,_=CB[l[(l[_>>2]|0)+12>>2]&63](_)|0,ws=_t,_|0}function B7(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;return _s=ws,_=KC[l[(l[_>>2]|0)+16>>2]&63](_,_t,_i)|0,ws=_s,_|0}function P7(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0;return n_=ws,_=BB[l[(l[_>>2]|0)+20>>2]&63](_,_t,_i,_s,t_)|0,ws=n_,_|0}function w7(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,_g[l[(l[_>>2]|0)+24>>2]&63](_,_t,_i,_s),ws=t_}function V7(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=ws,KA[l[(l[_>>2]|0)+28>>2]&63](_,_t,_i),ws=_s}function D7(_){return _=_|0,_+12|0}function M7(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+12|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function G7(_){return _=_|0,l[_+4>>2]|0}function J7(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function I7(_){return _=_|0,+ +_e[_+8>>2]}function T7(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function R7(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function F7(){var _=0,_t=0,_i=0;_=ws,_t=s0(48)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(48)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=8,_i=_t+20|0,l[_i+0>>2]=0,l[_i+4>>2]=0,l[_i+8>>2]=0,l[_i+12>>2]=0,l[_i+16>>2]=0,l[_i+20>>2]=0,l[_i+24>>2]=0,ws=_,_t|0}function L7(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0;t_=ws,l[_+8>>2]=_t,l[_+12>>2]=_i,x_=+_e[_s>>2]-+_e[_t+12>>2],A_=_s+4|0,n_=+_e[A_>>2]-+_e[_t+16>>2],__=+_e[_t+24>>2],l_=+_e[_t+20>>2],u_=+(x_*__+n_*l_),l_=+(__*n_-x_*l_),g_=_+20|0,_e[g_>>2]=u_,_e[g_+4>>2]=l_,l_=+_e[_s>>2]-+_e[_i+12>>2],u_=+_e[A_>>2]-+_e[_i+16>>2],x_=+_e[_i+24>>2],n_=+_e[_i+20>>2],__=+(l_*x_+u_*n_),n_=+(x_*u_-l_*n_),_s=_+28|0,_e[_s>>2]=__,_e[_s+4>>2]=n_,_e[_+36>>2]=+_e[_i+56>>2]-+_e[_t+56>>2],ws=t_}function q7(_){return _=_|0,_+20|0}function E7(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function k7(_){return _=_|0,_+28|0}function j7(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function z7(_){return _=_|0,+ +_e[_+36>>2]}function W7(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function N7(_){return _=_|0,+ +_e[_+40>>2]}function O7(_,_t){_=_|0,_t=+_t,_e[_+40>>2]=_t}function U7(_){return _=_|0,+ +_e[_+44>>2]}function X7(_,_t){_=_|0,_t=+_t,_e[_+44>>2]=_t}function Y7(_){return _=_|0,l[_>>2]|0}function H7(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function Z7(_){return _=_|0,l[_+4>>2]|0}function K7(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function Q7(_){return _=_|0,l[_+8>>2]|0}function $7(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function _k(_){return _=_|0,l[_+12>>2]|0}function _j(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function tz(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function ez(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function oz(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function iz(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function rz(_){return _=_|0,l[_+4>>2]|0}function nz(_,_t){_=_|0,_t=_t|0,_=_+4|0,l[_>>2]=l[_>>2]|_t}function sz(_,_t){_=_|0,_t=_t|0,_=_+4|0,l[_>>2]=l[_>>2]&~_t}function _z(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function az(){var _=0,_t=0;_=ws,_t=s0(16)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(16)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,ws=_,_t|0}function pz(_){return _=_|0,+ +_e[_>>2]}function lz(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function cz(_){return _=_|0,_+4|0}function mz(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+4|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function bz(_){return _=_|0,+ +_e[_+12>>2]}function uz(_,_t){_=_|0,_t=+_t,_e[_+12>>2]=_t}function hz(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function dz(_){return _=_|0,l[_+4>>2]|0}function yz(_){return _=_|0,l[_+48>>2]|0}function xz(_){return _=_|0,l[_+52>>2]|0}function fz(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[384]|0)&&K2(384)|0&&R0(384),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=376,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,376}function gz(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[400]|0)&&K2(400)|0&&R0(400),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=392,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,392}function vz(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[416]|0)&&K2(416)|0&&R0(416),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=408,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,408}function Az(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function Sz(_){return _=_|0,l[_+12>>2]|0}function Cz(_){return _=_|0,l[_+64>>2]|0}function Bz(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function Pz(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function wz(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function Vz(_){_=_|0;var _t=0;_t=ws,ry[l[(l[_>>2]|0)+16>>2]&127](_),ws=_t}function Dz(_){return _=_|0,l[_+68>>2]|0}function Mz(_){return _=_|0,l[_+72>>2]|0}function Gz(_,_t){_=_|0,_t=+_t;var _i=0;if(_i=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)==2139095040)Y2(15528,15392,394,15552);else{_e[_+152>>2]=_t,ws=_i;return}}function Jz(_){return _=_|0,+ +_e[_+152>>2]}function Iz(_){return _=_|0,l[_+4>>2]|0}function Tz(_){return _=_|0,l[_+48>>2]|0}function Rz(_){return _=_|0,l[_+52>>2]|0}function Fz(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[432]|0)&&K2(432)|0&&R0(432),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=424,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,424}function Lz(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[448]|0)&&K2(448)|0&&R0(448),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=440,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,440}function qz(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[464]|0)&&K2(464)|0&&R0(464),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=456,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,456}function Ez(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function kz(_){return _=_|0,l[_+12>>2]|0}function jz(_){return _=_|0,l[_+64>>2]|0}function zz(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function Wz(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function Nz(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function Oz(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function Uz(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function Xz(_){return _=_|0,_+80|0}function Yz(_){return _=_|0,_+88|0}function Hz(_,_t){_=_|0,_t=+_t,_e[_+68>>2]=_t}function Zz(_){return _=_|0,+ +_e[_+68>>2]}function Kz(_,_t){_=_|0,_t=+_t,_e[_+72>>2]=_t}function Qz(_){return _=_|0,+ +_e[_+72>>2]}function $z(_){_=_|0;var _t=0;_t=ws,ry[l[(l[_>>2]|0)+16>>2]&127](_),ws=_t}function tW(_){return _=_|0,l[_+4>>2]|0}function eW(_){return _=_|0,l[_+48>>2]|0}function oW(_){return _=_|0,l[_+52>>2]|0}function iW(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[480]|0)&&K2(480)|0&&R0(480),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=472,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,472}function rW(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[496]|0)&&K2(496)|0&&R0(496),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=488,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,488}function nW(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[512]|0)&&K2(512)|0&&R0(512),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=504,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,504}function sW(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function _W(_){return _=_|0,l[_+12>>2]|0}function aW(_){return _=_|0,l[_+64>>2]|0}function pW(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function lW(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function cW(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function mW(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function bW(){var _=0,_t=0;_=ws,_t=s0(16)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(16)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,ws=_,_t|0}function uW(_){return _=_|0,l[_>>2]|0}function hW(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function dW(_){return _=_|0,l[_+4>>2]|0}function yW(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function xW(_){return _=_|0,l[_+8>>2]|0}function fW(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function gW(_){return _=_|0,l[_+12>>2]|0}function vW(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function AW(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function SW(){var _=0,_t=0;_=ws,_t=s0(64)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(64)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,l[_t>>2]=4,_e[_t+20>>2]=-1,_e[_t+24>>2]=1,_e[_t+28>>2]=1,_e[_t+32>>2]=1,_e[_t+36>>2]=-1,_e[_t+40>>2]=0,_e[_t+44>>2]=1,_e[_t+48>>2]=0,_e[_t+52>>2]=0,_e[_t+56>>2]=0,_e[_t+60>>2]=1,_o[_t+16>>0]=1,ws=_,_t|0}function CW(_,_t,_i,_s,t_,n_,__,l_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,__=__|0,l_=+l_;var u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0;if(u_=ws,l[_+8>>2]=_t,l[_+12>>2]=_i,g_=_s,M_=l[g_+4>>2]|0,V_=_+20|0,l[V_>>2]=l[g_>>2],l[V_+4>>2]=M_,V_=t_,M_=l[V_+4>>2]|0,g_=_+28|0,l[g_>>2]=l[V_>>2],l[g_+4>>2]=M_,R_=+_e[n_>>2]-+_e[_t+12>>2],g_=n_+4|0,x_=+_e[g_>>2]-+_e[_t+16>>2],A_=+_e[_t+24>>2],f_=+_e[_t+20>>2],J_=+(R_*A_+x_*f_),f_=+(A_*x_-R_*f_),_t=_+36|0,_e[_t>>2]=J_,_e[_t+4>>2]=f_,f_=+_e[__>>2]-+_e[_i+12>>2],_t=__+4|0,J_=+_e[_t>>2]-+_e[_i+16>>2],R_=+_e[_i+24>>2],x_=+_e[_i+20>>2],A_=+(f_*R_+J_*x_),x_=+(R_*J_-f_*x_),_i=_+44|0,_e[_i>>2]=A_,_e[_i+4>>2]=x_,x_=+_e[n_>>2]-+_e[_s>>2],A_=+_e[g_>>2]-+_e[_s+4>>2],_e[_+52>>2]=+V2(+(x_*x_+A_*A_)),A_=+_e[__>>2]-+_e[t_>>2],x_=+_e[_t>>2]-+_e[t_+4>>2],_e[_+56>>2]=+V2(+(A_*A_+x_*x_)),_e[_+60>>2]=l_,l_>11920928955078125e-23){ws=u_;return}else Y2(16664,16696,51,16752)}function BW(_){return _=_|0,_+20|0}function PW(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function wW(_){return _=_|0,_+28|0}function VW(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function DW(_){return _=_|0,_+36|0}function MW(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+36|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function GW(_){return _=_|0,_+44|0}function JW(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+44|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function IW(_){return _=_|0,+ +_e[_+52>>2]}function TW(_,_t){_=_|0,_t=+_t,_e[_+52>>2]=_t}function RW(_){return _=_|0,+ +_e[_+56>>2]}function FW(_,_t){_=_|0,_t=+_t,_e[_+56>>2]=_t}function LW(_){return _=_|0,+ +_e[_+60>>2]}function qW(_,_t){_=_|0,_t=+_t,_e[_+60>>2]=_t}function EW(_){return _=_|0,l[_>>2]|0}function kW(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function jW(_){return _=_|0,l[_+4>>2]|0}function zW(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function WW(_){return _=_|0,l[_+8>>2]|0}function NW(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function OW(_){return _=_|0,l[_+12>>2]|0}function UW(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function XW(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function YW(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function HW(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function ZW(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function KW(){var _=0,_t=0;_=ws,_t=s0(20)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(20)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,l[_t+16>>2]=0,ws=_,_t|0}function QW(_){return _=_|0,_|0}function $W(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function tN(_){return _=_|0,+ +_e[_+8>>2]}function eN(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function oN(_){return _=_|0,+ +_e[_+12>>2]}function iN(_,_t){_=_|0,_t=+_t,_e[_+12>>2]=_t}function rN(_){return _=_|0,_+16|0}function nN(_,_t){_=_|0,_t=_t|0,l[_+16>>2]=l[_t>>2]}function sN(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function _N(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function aN(){var _=0,_t=0;_=ws,_t=s0(20)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(20)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,ws=_,_t|0}function pN(_){return _=_|0,l[_>>2]|0}function lN(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function cN(_){return _=_|0,l[_+4>>2]|0}function mN(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function bN(_){return _=_|0,l[_+8>>2]|0}function uN(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function hN(_){return _=_|0,l[_+12>>2]|0}function dN(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function yN(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function xN(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function fN(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function gN(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(16)|0,_t)return _i=_t,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(16)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return ws=_,_i|0;return 0}function vN(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;_i=ws,_s=s0(16)|0;t:do if(!_s){for(;_s=l[4698]|0,l[4698]=_s+0,!!_s;)if(xb[_s&63](),_s=s0(16)|0,_s)break t;_s=_b(4)|0,l[_s>>2]=18632,K0(_s|0,18680,116)}while(!1);return n_=_,_=l[n_+4>>2]|0,t_=_s,l[t_>>2]=l[n_>>2],l[t_+4>>2]=_,t_=_t,_=l[t_+4>>2]|0,_t=_s+8|0,l[_t>>2]=l[t_>>2],l[_t+4>>2]=_,ws=_i,_s|0}function AN(_){_=_|0,_e[_>>2]=0,_e[_+4>>2]=0,_e[_+8>>2]=0,_e[_+12>>2]=1}function SN(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0,t_=0;t_=_t,_s=l[t_+4>>2]|0,_t=_,l[_t>>2]=l[t_>>2],l[_t+4>>2]=_s,_e[_+8>>2]=+J2(+_i),_e[_+12>>2]=+B2(+_i)}function CN(_){return _=_|0,_|0}function BN(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function PN(_){return _=_|0,_+8|0}function wN(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+8|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function VN(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function DN(){var _=0,_t=0;_=ws,_t=s0(40)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(40)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t>>2]=6952,l[_t+4>>2]=3,_e[_t+8>>2]=.009999999776482582,l[_t+12>>2]=0,l[_t+16>>2]=0,_o[_t+36>>0]=0,_o[_t+37>>0]=0,ws=_,_t|0}function MN(_){_=_|0;var _t=0,_i=0;_t=ws,_i=_+12|0,u0(l[_i>>2]|0),l[_i>>2]=0,l[_+16>>2]=0,ws=_t}function GN(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0;for(t_=ws,_s=_+12|0,l[_s>>2]|0&&Y2(6984,7024,38,7080),n_=_+16|0,l[n_>>2]|0&&Y2(6984,7024,38,7080),(_i|0)<=2&&Y2(7904,7024,39,7080),l_=_t,u_=l[l_>>2]|0,l_=l[l_+4>>2]|0,__=1;;){if(g_=(l[s_>>2]=u_,+_e[s_>>2]),x_=(l[s_>>2]=l_,+_e[s_>>2]),f_=_t+(__<<3)|0,u_=l[f_>>2]|0,l_=l[f_+4>>2]|0,A_=(l[s_>>2]=u_,+_e[s_>>2]),A_=g_-A_,x_=x_-(l[s_>>2]=l_,+_e[s_>>2]),__=__+1|0,!(A_*A_+x_*x_>2499999936844688e-20)){__=9;break}if((__|0)>=(_i|0)){__=10;break}}if((__|0)==9)Y2(7096,7024,45,7080);else if((__|0)==10){l_=_i+1|0,l[n_>>2]=l_,l_=s0(l_<<3)|0,l[_s>>2]=l_,BS(l_|0,_t|0,_i<<3|0)|0,l_=l[_s>>2]|0,f_=l_,__=l[f_+4>>2]|0,l_=l_+(_i<<3)|0,l[l_>>2]=l[f_>>2],l[l_+4>>2]=__,l_=l[_s>>2]|0,__=l_+((l[n_>>2]|0)+-2<<3)|0,f_=l[__+4>>2]|0,u_=_+20|0,l[u_>>2]=l[__>>2],l[u_+4>>2]=f_,l_=l_+8|0,u_=l[l_+4>>2]|0,f_=_+28|0,l[f_>>2]=l[l_>>2],l[f_+4>>2]=u_,_o[_+36>>0]=1,_o[_+37>>0]=1,ws=t_;return}}function JN(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;_s=ws,VI(_,_t,_i),ws=_s}function IN(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i,_o[_+36>>0]=1}function TN(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i,_o[_+37>>0]=1}function RN(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;_s=ws,hJ(_,_t,_i),ws=_s}function FN(_){return _=_|0,l[_+4>>2]|0}function LN(_){_=_|0;var _t=0;return _t=ws,_=CB[l[(l[_>>2]|0)+12>>2]&63](_)|0,ws=_t,_|0}function qN(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;return _s=ws,_=KC[l[(l[_>>2]|0)+16>>2]&63](_,_t,_i)|0,ws=_s,_|0}function EN(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0;return n_=ws,_=BB[l[(l[_>>2]|0)+20>>2]&63](_,_t,_i,_s,t_)|0,ws=n_,_|0}function kN(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,_g[l[(l[_>>2]|0)+24>>2]&63](_,_t,_i,_s),ws=t_}function jN(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=ws,KA[l[(l[_>>2]|0)+28>>2]&63](_,_t,_i),ws=_s}function zN(_){return _=_|0,l[_+12>>2]|0}function WN(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function NN(_){return _=_|0,l[_+16>>2]|0}function ON(_,_t){_=_|0,_t=_t|0,l[_+16>>2]=_t}function UN(_){return _=_|0,_+20|0}function XN(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function YN(_){return _=_|0,_+28|0}function HN(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function ZN(_){return _=_|0,(_o[_+36>>0]|0)!=0|0}function KN(_,_t){_=_|0,_t=_t|0,_o[_+36>>0]=_t&1}function QN(_){return _=_|0,(_o[_+37>>0]|0)!=0|0}function $N(_,_t){_=_|0,_t=_t|0,_o[_+37>>0]=_t&1}function tO(_){return _=_|0,l[_+4>>2]|0}function eO(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function oO(_){return _=_|0,+ +_e[_+8>>2]}function iO(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function rO(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function nO(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(16)|0,_t)return _i=_t,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(16)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return ws=_,_i|0;return 0}function sO(_,_t,_i){_=+_,_t=+_t,_i=+_i;var _s=0,t_=0;_s=ws,t_=s0(16)|0;t:do if(!t_){for(;t_=l[4698]|0,l[4698]=t_+0,!!t_;)if(xb[t_&63](),t_=s0(16)|0,t_)break t;t_=_b(4)|0,l[t_>>2]=18632,K0(t_|0,18680,116)}while(!1);return _e[t_>>2]=_,_e[t_+4>>2]=_t,_e[t_+8>>2]=_i,_e[t_+12>>2]=1,ws=_s,t_|0}function _O(_,_t,_i,_s){_=_|0,_t=+_t,_i=+_i,_s=+_s,_e[_>>2]=_t,_e[_+4>>2]=_i,_e[_+8>>2]=_s,_e[_+12>>2]=1}function aO(_){return _=_|0,+ +_e[_>>2]}function pO(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function lO(_){return _=_|0,+ +_e[_+4>>2]}function cO(_,_t){_=_|0,_t=+_t,_e[_+4>>2]=_t}function mO(_){return _=_|0,+ +_e[_+8>>2]}function bO(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function uO(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function hO(_){return _=_|0,_+68|0}function dO(_){return _=_|0,_+76|0}function yO(_,_t){_=_|0,_t=+_t,_e[_+84>>2]=_t}function xO(_){return _=_|0,+ +_e[_+84>>2]}function fO(_){return _=_|0,l[_+164>>2]|0}function gO(_){return _=_|0,l[_+4>>2]|0}function vO(_){return _=_|0,l[_+48>>2]|0}function AO(_){return _=_|0,l[_+52>>2]|0}function SO(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[528]|0)&&K2(528)|0&&R0(528),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=520,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,520}function CO(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[544]|0)&&K2(544)|0&&R0(544),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=536,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,536}function BO(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[560]|0)&&K2(560)|0&&R0(560),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=552,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,552}function PO(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function wO(_){return _=_|0,l[_+12>>2]|0}function VO(_){return _=_|0,l[_+64>>2]|0}function DO(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function MO(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function GO(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function JO(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function IO(_){return _=_|0,_|0}function TO(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function RO(_){return _=_|0,_+8|0}function FO(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+8|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function LO(_){return _=_|0,+ +_e[_+16>>2]}function qO(_,_t){_=_|0,_t=+_t,_e[_+16>>2]=_t}function EO(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function kO(){var _=0,_t=0;_=ws,_t=s0(152)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(152)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t>>2]=7832,l[_t+4>>2]=2,_e[_t+8>>2]=.009999999776482582,l[_t+148>>2]=0,_e[_t+12>>2]=0,_e[_t+16>>2]=0,ws=_,_t|0}function jO(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0;_s=ws,ws=ws+96|0,g_=_s+32|0,A_=_s,(_i+-3|0)>>>0>=6&&Y2(7536,7568,122,7624),P_=~_i,P_=(P_|0)>-9?P_:-9,f_=~P_,BS(g_|0,_t|0,-8-(P_<<3)|0)|0,(P_|0)>-4&&Y2(15688,7568,159,7624),J_=0,_t=1,F_=+_e[g_>>2];do t2=+_e[g_+(_t<<3)>>2],(t2>F_||t2==F_&&+_e[g_+(_t<<3)+4>>2]<+_e[g_+(J_<<3)+4>>2])&&(u_=9),(u_|0)==9&&(u_=0,J_=_t,F_=t2),_t=_t+1|0;while((_t|0)!=(f_|0));for(R_=J_,M_=1,_t=0;;){l[A_+(_t<<2)>>2]=R_,D_=g_+(R_<<3)|0,_i=g_+(R_<<3)+4|0,P_=0,V_=1;do(P_|0)!=(R_|0)?(O_=+_e[D_>>2],t2=+_e[g_+(P_<<3)>>2]-O_,F_=+_e[_i>>2],e2=+_e[g_+(P_<<3)+4>>2]-F_,O_=+_e[g_+(V_<<3)>>2]-O_,F_=+_e[g_+(V_<<3)+4>>2]-F_,Q_=t2*F_-e2*O_,P_=Q_<0?V_:P_,Q_==0&&O_*O_+F_*F_>t2*t2+e2*e2&&(P_=V_)):P_=V_,V_=V_+1|0;while((V_|0)!=(f_|0));if(_i=_t+1|0,(P_|0)==(J_|0))break;R_=P_,M_=M_+1|0,_t=_i}(_i|0)<3&&Y2(15688,7568,224,7624),l[_+148>>2]=_i,(_t|0)>-1?x_=0:Y2(7904,7568,76,7920);do V_=g_+(l[A_+(x_<<2)>>2]<<3)|0,D_=l[V_+4>>2]|0,P_=_+(x_<<3)+20|0,l[P_>>2]=l[V_>>2],l[P_+4>>2]=D_,x_=x_+1|0;while((x_|0)!=(M_|0));g_=0;do{if(f_=g_,g_=g_+1|0,A_=(g_|0)<(_i|0),P_=A_?g_:0,e2=+_e[_+(P_<<3)+20>>2]-+_e[_+(f_<<3)+20>>2],F_=+_e[_+(P_<<3)+24>>2]-+_e[_+(f_<<3)+24>>2],t2=F_*F_,!(e2*e2+t2>14210854715202004e-30)){u_=23;break}x_=_+(f_<<3)+84|0,Q_=+F_,e2=+-e2,P_=x_,_e[P_>>2]=Q_,_e[P_+4>>2]=e2,f_=_+(f_<<3)+88|0,e2=+_e[f_>>2],t2=+V2(+(t2+e2*e2)),t2<11920928955078125e-23||(Q_=1/t2,_e[x_>>2]=F_*Q_,_e[f_>>2]=e2*Q_)}while(A_);(u_|0)==23&&Y2(7632,7568,243,7624),u_=_+12|0,x_=_+20|0,(_t|0)>1?(n_=0,__=0,t_=0,l_=0):Y2(7904,7568,76,7920);do P_=_+(l_<<3)+20|0,F_=+_e[P_>>2],t2=+_e[P_+4>>2],l_=l_+1|0,(l_|0)<(_i|0)?_t=_+(l_<<3)+20|0:_t=x_,P_=_t,e2=+_e[P_>>2],O_=+_e[P_+4>>2],Q_=(F_*O_-t2*e2)*.5,t_=t_+Q_,Q_=Q_*.3333333432674408,n_=n_+(F_+0+e2)*Q_,__=__+(t2+0+O_)*Q_;while((l_|0)!=(_i|0));if(t_>11920928955078125e-23){Q_=1/t_,O_=+(n_*Q_),Q_=+(__*Q_),P_=u_,_e[P_>>2]=O_,_e[P_+4>>2]=Q_,ws=_s;return}else Y2(7792,7568,115,7920)}function zO(_,_t,_i){_=_|0,_t=+_t,_i=+_i;var _s=0,t_=0;l[_+148>>2]=4,_s=-_t,t_=-_i,_e[_+20>>2]=_s,_e[_+24>>2]=t_,_e[_+28>>2]=_t,_e[_+32>>2]=t_,_e[_+36>>2]=_t,_e[_+40>>2]=_i,_e[_+44>>2]=_s,_e[_+48>>2]=_i,_e[_+84>>2]=0,_e[_+88>>2]=-1,_e[_+92>>2]=1,_e[_+96>>2]=0,_e[_+100>>2]=0,_e[_+104>>2]=1,_e[_+108>>2]=-1,_e[_+112>>2]=0,_e[_+12>>2]=0,_e[_+16>>2]=0}function WO(_,_t,_i,_s,t_){_=_|0,_t=+_t,_i=+_i,_s=_s|0,t_=+t_;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0;for(__=ws,n_=_+148|0,l[n_>>2]=4,l_=-_t,x_=-_i,_e[_+20>>2]=l_,_e[_+24>>2]=x_,_e[_+28>>2]=_t,_e[_+32>>2]=x_,_e[_+36>>2]=_t,_e[_+40>>2]=_i,_e[_+44>>2]=l_,_e[_+48>>2]=_i,_e[_+84>>2]=0,_e[_+88>>2]=-1,_e[_+92>>2]=1,_e[_+96>>2]=0,_e[_+100>>2]=0,_e[_+104>>2]=1,_e[_+108>>2]=-1,_e[_+112>>2]=0,f_=_s,g_=l[f_+4>>2]|0,A_=_+12|0,l[A_>>2]=l[f_>>2],l[A_+4>>2]=g_,_i=+_e[_s>>2],l_=+_e[_s+4>>2],_t=+J2(+t_),t_=+B2(+t_),u_=-1,_s=0;f_=_+(_s<<3)+20|0,R_=+_e[f_>>2],J_=+(_i+(t_*R_-_t*x_)),x_=+(l_+(_t*R_+t_*x_)),_e[f_>>2]=J_,_e[f_+4>>2]=x_,f_=_+(_s<<3)+84|0,x_=+_e[f_>>2],J_=+(t_*x_-_t*u_),x_=+(_t*x_+t_*u_),_e[f_>>2]=J_,_e[f_+4>>2]=x_,_s=_s+1|0,!((_s|0)>=(l[n_>>2]|0));)x_=+_e[_+(_s<<3)+24>>2],u_=+_e[_+(_s<<3)+88>>2];ws=__}function NO(_){return _=_|0,l[_+148>>2]|0}function OO(_,_t){_=_|0,_t=_t|0;var _i=0;return _i=ws,(_t|0)>-1&&(l[_+148>>2]|0)>(_t|0)?(ws=_i,_+(_t<<3)+20|0):(Y2(6800,2624,97,6880),0)}function UO(_){return _=_|0,l[_+4>>2]|0}function XO(_){_=_|0;var _t=0;return _t=ws,_=CB[l[(l[_>>2]|0)+12>>2]&63](_)|0,ws=_t,_|0}function YO(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;return _s=ws,_=KC[l[(l[_>>2]|0)+16>>2]&63](_,_t,_i)|0,ws=_s,_|0}function HO(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0;return n_=ws,_=BB[l[(l[_>>2]|0)+20>>2]&63](_,_t,_i,_s,t_)|0,ws=n_,_|0}function ZO(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,_g[l[(l[_>>2]|0)+24>>2]&63](_,_t,_i,_s),ws=t_}function KO(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=ws,KA[l[(l[_>>2]|0)+28>>2]&63](_,_t,_i),ws=_s}function QO(_){return _=_|0,_+12|0}function $O(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+12|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function tU(_){return _=_|0,l[_+148>>2]|0}function eU(_,_t){_=_|0,_t=_t|0,l[_+148>>2]=_t}function oU(_){return _=_|0,l[_+4>>2]|0}function iU(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function rU(_){return _=_|0,+ +_e[_+8>>2]}function nU(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function sU(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function _U(){var _=0,_t=0,_i=0;_=ws,_t=s0(48)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(48)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t>>2]=7472,l[_t+4>>2]=1,_e[_t+8>>2]=.009999999776482582,_i=_t+28|0,l[_i+0>>2]=0,l[_i+4>>2]=0,l[_i+8>>2]=0,l[_i+12>>2]=0,_r[_i+16>>1]=0,ws=_,_t|0}function aU(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0;t_=_t,_t=l[t_+4>>2]|0,_s=_+12|0,l[_s>>2]=l[t_>>2],l[_s+4>>2]=_t,_s=_i,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i,_o[_+44>>0]=0,_o[_+45>>0]=0}function pU(_){return _=_|0,l[_+4>>2]|0}function lU(_){_=_|0;var _t=0;return _t=ws,_=CB[l[(l[_>>2]|0)+12>>2]&63](_)|0,ws=_t,_|0}function cU(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;return _s=ws,_=KC[l[(l[_>>2]|0)+16>>2]&63](_,_t,_i)|0,ws=_s,_|0}function mU(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0;return n_=ws,_=BB[l[(l[_>>2]|0)+20>>2]&63](_,_t,_i,_s,t_)|0,ws=n_,_|0}function bU(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,_g[l[(l[_>>2]|0)+24>>2]&63](_,_t,_i,_s),ws=t_}function uU(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=ws,KA[l[(l[_>>2]|0)+28>>2]&63](_,_t,_i),ws=_s}function hU(_){return _=_|0,_+12|0}function dU(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+12|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function yU(_){return _=_|0,_+20|0}function xU(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function fU(_){return _=_|0,_+28|0}function gU(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function vU(_){return _=_|0,_+36|0}function AU(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+36|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function SU(_){return _=_|0,(_o[_+44>>0]|0)!=0|0}function CU(_,_t){_=_|0,_t=_t|0,_o[_+44>>0]=_t&1}function BU(_){return _=_|0,(_o[_+45>>0]|0)!=0|0}function PU(_,_t){_=_|0,_t=_t|0,_o[_+45>>0]=_t&1}function wU(_){return _=_|0,l[_+4>>2]|0}function VU(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function DU(_){return _=_|0,+ +_e[_+8>>2]}function MU(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function GU(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function JU(){var _=0,_t=0,_i=0;if(_=ws,_t=s0(4)|0,_t)return _i=_t,l[_i>>2]=2320,ws=_,_i|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(xb[_t&63](),_i=s0(4)|0,_i){_t=5;break}}if((_t|0)==4)_i=_b(4)|0,l[_i>>2]=18632,K0(_i|0,18680,116);else if((_t|0)==5)return l[_i>>2]=2320,ws=_,_i|0;return 0}function IU(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;return _s=ws,_=KC[l[(l[_>>2]|0)+8>>2]&63](_,_t,_i)|0,ws=_s,_|0}function TU(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function RU(){var _=0,_t=0,_i=0;_=ws,_t=s0(64)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(64)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=1,_i=_t+20|0,_e[_t+44>>2]=0,_e[_t+48>>2]=0,_e[_t+60>>2]=0,_e[_t+56>>2]=0,_o[_t+52>>0]=0,l[_i+0>>2]=0,l[_i+4>>2]=0,l[_i+8>>2]=0,l[_i+12>>2]=0,l[_i+16>>2]=0,_o[_i+20>>0]=0,ws=_,_t|0}function FU(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0;t_=ws,l[_+8>>2]=_t,l[_+12>>2]=_i,x_=+_e[_s>>2]-+_e[_t+12>>2],A_=_s+4|0,n_=+_e[A_>>2]-+_e[_t+16>>2],__=+_e[_t+24>>2],l_=+_e[_t+20>>2],u_=+(x_*__+n_*l_),l_=+(__*n_-x_*l_),g_=_+20|0,_e[g_>>2]=u_,_e[g_+4>>2]=l_,l_=+_e[_s>>2]-+_e[_i+12>>2],u_=+_e[A_>>2]-+_e[_i+16>>2],x_=+_e[_i+24>>2],n_=+_e[_i+20>>2],__=+(l_*x_+u_*n_),n_=+(x_*u_-l_*n_),_s=_+28|0,_e[_s>>2]=__,_e[_s+4>>2]=n_,_e[_+36>>2]=+_e[_i+56>>2]-+_e[_t+56>>2],ws=t_}function LU(_){return _=_|0,_+20|0}function qU(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function EU(_){return _=_|0,_+28|0}function kU(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function jU(_){return _=_|0,+ +_e[_+36>>2]}function zU(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function WU(_){return _=_|0,(_o[_+40>>0]|0)!=0|0}function NU(_,_t){_=_|0,_t=_t|0,_o[_+40>>0]=_t&1}function OU(_){return _=_|0,+ +_e[_+44>>2]}function UU(_,_t){_=_|0,_t=+_t,_e[_+44>>2]=_t}function XU(_){return _=_|0,+ +_e[_+48>>2]}function YU(_,_t){_=_|0,_t=+_t,_e[_+48>>2]=_t}function HU(_){return _=_|0,(_o[_+52>>0]|0)!=0|0}function ZU(_,_t){_=_|0,_t=_t|0,_o[_+52>>0]=_t&1}function KU(_){return _=_|0,+ +_e[_+56>>2]}function QU(_,_t){_=_|0,_t=+_t,_e[_+56>>2]=_t}function $U(_){return _=_|0,+ +_e[_+60>>2]}function tX(_,_t){_=_|0,_t=+_t,_e[_+60>>2]=_t}function eX(_){return _=_|0,l[_>>2]|0}function oX(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function iX(_){return _=_|0,l[_+4>>2]|0}function rX(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function nX(_){return _=_|0,l[_+8>>2]|0}function sX(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function _X(_){return _=_|0,l[_+12>>2]|0}function aX(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function pX(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function lX(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function cX(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function mX(){var _=0,_t=0,_i=0;_=ws,_t=s0(8)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(8)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return _i=_t,l[_i>>2]=0,l[_i+4>>2]=0,l[_t+4>>2]=0,l[_t>>2]=912,ws=_,_t|0}function bX(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,_g[l[(l[_>>2]|0)+8>>2]&63](_,_t,_i,_s),ws=t_}function uX(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,_g[l[(l[_>>2]|0)+12>>2]&63](_,_t,_i,_s),ws=t_}function hX(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0;var t_=0;t_=ws,MJ[l[(l[_>>2]|0)+16>>2]&63](_,_t,_i,_s),ws=t_}function dX(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0;var n_=0;n_=ws,DJ[l[(l[_>>2]|0)+20>>2]&63](_,_t,_i,_s,t_),ws=n_}function yX(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,_g[l[(l[_>>2]|0)+24>>2]&63](_,_t,_i,_s),ws=t_}function xX(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,yy[l[(l[_>>2]|0)+28>>2]&127](_,_t),ws=_i}function fX(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function gX(_){return _=_|0,_+76|0}function vX(_){return _=_|0,_+84|0}function AX(_){return _=_|0,_+92|0}function SX(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0;return n_=l[_+48>>2]|0,u_=l[_+52>>2]|0,_i=+_e[n_+24>>2],l_=+_e[_+76>>2],t_=+_e[n_+20>>2],__=+_e[_+80>>2],A_=+_e[u_+24>>2],f_=+_e[_+84>>2],g_=+_e[u_+20>>2],x_=+_e[_+88>>2],_s=+_e[_+92>>2],_t=+_e[_+96>>2],+((+_e[u_+12>>2]+(A_*f_-g_*x_)-(+_e[n_+12>>2]+(_i*l_-t_*__)))*(_i*_s-t_*_t)+(f_*g_+A_*x_+ +_e[u_+16>>2]-(l_*t_+_i*__+ +_e[n_+16>>2]))*(t_*_s+_i*_t))}function CX(_){return _=_|0,+(+_e[(l[_+52>>2]|0)+72>>2]-+_e[(l[_+48>>2]|0)+72>>2])}function BX(_){return _=_|0,(_o[_+128>>0]|0)!=0|0}function PX(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;if(_i=ws,_s=l[_+48>>2]|0,t_=_s+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,t_=n_+4|0,_s=o_[t_>>1]|0,_s&2){n_=_+128|0,t_=_t&1,_o[n_>>0]=t_,ws=_i;return}_r[t_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+128|0,t_=_t&1,_o[n_>>0]=t_,ws=_i}function wX(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0,n_=0;if(_i=ws,_s=l[_+48>>2]|0,t_=_s+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,t_=n_+4|0,_s=o_[t_>>1]|0,_s&2){n_=_+124|0,_e[n_>>2]=_t,ws=_i;return}_r[t_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+124|0,_e[n_>>2]=_t,ws=_i}function VX(_){return _=_|0,+ +_e[_+124>>2]}function DX(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0,n_=0;if(_i=ws,_s=l[_+48>>2]|0,t_=_s+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,t_=n_+4|0,_s=o_[t_>>1]|0,_s&2){n_=_+120|0,_e[n_>>2]=_t,ws=_i;return}_r[t_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+120|0,_e[n_>>2]=_t,ws=_i}function MX(_){return _=_|0,+ +_e[_+120>>2]}function GX(_,_t){return _=_|0,_t=+_t,+(+_e[_+112>>2]*_t)}function JX(_,_t){_=_|0,_t=+_t,_e[_+68>>2]=_t}function IX(_){return _=_|0,+ +_e[_+68>>2]}function TX(_,_t){_=_|0,_t=+_t,_e[_+72>>2]=_t}function RX(_){return _=_|0,+ +_e[_+72>>2]}function FX(_){return _=_|0,l[_+4>>2]|0}function LX(_){return _=_|0,l[_+48>>2]|0}function qX(_){return _=_|0,l[_+52>>2]|0}function EX(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[576]|0)&&K2(576)|0&&R0(576),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=568,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,568}function kX(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[592]|0)&&K2(592)|0&&R0(592),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=584,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,584}function jX(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[608]|0)&&K2(608)|0&&R0(608),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=600,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,600}function zX(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function WX(_){return _=_|0,l[_+12>>2]|0}function NX(_){return _=_|0,l[_+64>>2]|0}function OX(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function UX(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function XX(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function YX(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function HX(_){_=_|0;var _t=0,_i=0,_s=0;return _t=ws,!(_o[624]|0)&&K2(624)|0&&R0(624),_s=_+68|0,_i=l[_s+4>>2]|0,_=616,l[_>>2]=l[_s>>2],l[_+4>>2]=_i,ws=_t,616}function ZX(_){_=_|0;var _t=0,_i=0,_s=0;return _t=ws,!(_o[640]|0)&&K2(640)|0&&R0(640),_s=_+76|0,_i=l[_s+4>>2]|0,_=632,l[_>>2]=l[_s>>2],l[_+4>>2]=_i,ws=_t,632}function KX(_){return _=_|0,+ +_e[_+84>>2]}function QX(_){return _=_|0,+ +_e[_+88>>2]}function $X(_){return _=_|0,+ +_e[_+112>>2]}function tY(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0;return _i=ws,t_=l[_+48>>2]|0,n_=+_e[t_+24>>2],l_=+_e[_+92>>2],__=+_e[t_+20>>2],_t=+_e[_+96>>2],_=_+68|0,_s=+_e[_>>2],_s=+_e[t_+12>>2]+(n_*l_-__*_t)-_s,_t=l_*__+n_*_t+ +_e[t_+16>>2]-+_e[_+4>>2],_t=+V2(+(_s*_s+_t*_t)),ws=_i,+_t}function eY(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0;return _i=ws,t_=l[_+52>>2]|0,n_=+_e[t_+24>>2],l_=+_e[_+100>>2],__=+_e[t_+20>>2],_t=+_e[_+104>>2],_=_+76|0,_s=+_e[_>>2],_s=+_e[t_+12>>2]+(n_*l_-__*_t)-_s,_t=l_*__+n_*_t+ +_e[t_+16>>2]-+_e[_+4>>2],_t=+V2(+(_s*_s+_t*_t)),ws=_i,+_t}function oY(_){return _=_|0,l[_+4>>2]|0}function iY(_){return _=_|0,l[_+48>>2]|0}function rY(_){return _=_|0,l[_+52>>2]|0}function nY(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[656]|0)&&K2(656)|0&&R0(656),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=648,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,648}function sY(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[672]|0)&&K2(672)|0&&R0(672),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=664,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,664}function _Y(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[688]|0)&&K2(688)|0&&R0(688),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=680,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,680}function aY(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function pY(_){return _=_|0,l[_+12>>2]|0}function lY(_){return _=_|0,l[_+64>>2]|0}function cY(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function mY(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function bY(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function uY(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function hY(){var _=0,_t=0;_=ws,_t=s0(40)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(40)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=5,_e[_t+20>>2]=0,_e[_t+24>>2]=0,_e[_t+28>>2]=0,_e[_t+32>>2]=5,_e[_t+36>>2]=.699999988079071,ws=_,_t|0}function dY(_){return _=_|0,_+20|0}function yY(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function xY(_){return _=_|0,+ +_e[_+28>>2]}function fY(_,_t){_=_|0,_t=+_t,_e[_+28>>2]=_t}function gY(_){return _=_|0,+ +_e[_+32>>2]}function vY(_,_t){_=_|0,_t=+_t,_e[_+32>>2]=_t}function AY(_){return _=_|0,+ +_e[_+36>>2]}function SY(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function CY(_){return _=_|0,l[_>>2]|0}function BY(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function PY(_){return _=_|0,l[_+4>>2]|0}function wY(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function VY(_){return _=_|0,l[_+8>>2]|0}function DY(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function MY(_){return _=_|0,l[_+12>>2]|0}function GY(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function JY(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function IY(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function TY(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function RY(_){return _=_|0,_+64|0}function FY(_){return _=_|0,(l[_+4>>2]&2|0)!=0|0}function LY(_,_t){_=_|0,_t=_t|0;var _i=0;_=_+4|0,_i=l[_>>2]|0,l[_>>2]=_t?_i|4:_i&-5}function qY(_){return _=_|0,(l[_+4>>2]&4|0)!=0|0}function EY(_){return _=_|0,l[_+12>>2]|0}function kY(_){return _=_|0,l[_+48>>2]|0}function jY(_){return _=_|0,l[_+56>>2]|0}function zY(_){return _=_|0,l[_+52>>2]|0}function WY(_){return _=_|0,l[_+60>>2]|0}function NY(_,_t){_=_|0,_t=+_t,_e[_+136>>2]=_t}function OY(_){return _=_|0,+ +_e[_+136>>2]}function UY(_){_=_|0,_e[_+136>>2]=+V2(+(+_e[(l[_+48>>2]|0)+16>>2]*+_e[(l[_+52>>2]|0)+16>>2]))}function XY(_,_t){_=_|0,_t=+_t,_e[_+140>>2]=_t}function YY(_){return _=_|0,+ +_e[_+140>>2]}function HY(_){_=_|0;var _t=0,_i=0;_i=+_e[(l[_+48>>2]|0)+20>>2],_t=+_e[(l[_+52>>2]|0)+20>>2],_e[_+140>>2]=_i>_t?_i:_t}function ZY(_,_t){_=_|0,_t=+_t,_e[_+144>>2]=_t}function KY(_){return _=_|0,+ +_e[_+144>>2]}function QY(_){return _=_|0,l[_+4>>2]|0}function $Y(_){_=_|0;var _t=0;return _t=ws,_=CB[l[(l[_>>2]|0)+12>>2]&63](_)|0,ws=_t,_|0}function tH(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;return _s=ws,_=KC[l[(l[_>>2]|0)+16>>2]&63](_,_t,_i)|0,ws=_s,_|0}function eH(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0;return n_=ws,_=BB[l[(l[_>>2]|0)+20>>2]&63](_,_t,_i,_s,t_)|0,ws=n_,_|0}function oH(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,_g[l[(l[_>>2]|0)+24>>2]&63](_,_t,_i,_s),ws=t_}function iH(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=ws,KA[l[(l[_>>2]|0)+28>>2]&63](_,_t,_i),ws=_s}function rH(_){return _=_|0,l[_+4>>2]|0}function nH(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function sH(_){return _=_|0,+ +_e[_+8>>2]}function _H(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function aH(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function pH(){var _=0,_t=0,_i=0,_s=0;_=ws,_t=s0(48)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(48)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=3,_s=_t+20|0,_i=_t+36|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0,_e[_i>>2]=1,_e[_t+40>>2]=0,_e[_t+44>>2]=0,ws=_,_t|0}function lH(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0;n_=ws,l[_+8>>2]=_t,l[_+12>>2]=_i,g_=+_e[_s>>2]-+_e[_t+12>>2],u_=_s+4|0,l_=+_e[u_>>2]-+_e[_t+16>>2],__=+_e[_t+24>>2],x_=+_e[_t+20>>2],A_=+(g_*__+l_*x_),x_=+(__*l_-g_*x_),_t=_+20|0,_e[_t>>2]=A_,_e[_t+4>>2]=x_,x_=+_e[t_>>2]-+_e[_i+12>>2],_t=t_+4|0,A_=+_e[_t>>2]-+_e[_i+16>>2],g_=+_e[_i+24>>2],l_=+_e[_i+20>>2],__=+(x_*g_+A_*l_),l_=+(g_*A_-x_*l_),_i=_+28|0,_e[_i>>2]=__,_e[_i+4>>2]=l_,l_=+_e[t_>>2]-+_e[_s>>2],__=+_e[_t>>2]-+_e[u_>>2],_e[_+36>>2]=+V2(+(l_*l_+__*__)),ws=n_}function cH(_){return _=_|0,_+20|0}function mH(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function bH(_){return _=_|0,_+28|0}function uH(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function hH(_){return _=_|0,+ +_e[_+36>>2]}function dH(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function yH(_){return _=_|0,+ +_e[_+40>>2]}function xH(_,_t){_=_|0,_t=+_t,_e[_+40>>2]=_t}function fH(_){return _=_|0,+ +_e[_+44>>2]}function gH(_,_t){_=_|0,_t=+_t,_e[_+44>>2]=_t}function vH(_){return _=_|0,l[_>>2]|0}function AH(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function SH(_){return _=_|0,l[_+4>>2]|0}function CH(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function BH(_){return _=_|0,l[_+8>>2]|0}function PH(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function wH(_){return _=_|0,l[_+12>>2]|0}function VH(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function DH(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function MH(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function GH(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function JH(_,_t){_=_|0,_t=_t|0;var _i=0;return _i=ws,_=II(_,_t)|0,ws=_i,_|0}function IH(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0,t_=0;return _s=ws,ws=ws+32|0,t_=_s,_r[t_+22>>1]=1,_r[t_+24>>1]=-1,_r[t_+26>>1]=0,l[t_+4>>2]=0,_e[t_+8>>2]=.20000000298023224,_e[t_+12>>2]=0,_o[t_+20>>0]=0,l[t_>>2]=_t,_e[t_+16>>2]=_i,_t=II(_,t_)|0,ws=_s,_t|0}function TH(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0;for(_i=ws,n_=_+88|0,l[(l[n_>>2]|0)+102868>>2]&2&&Y2(9352,9088,216,9408),t_=_t+8|0,(l[t_>>2]|0)!=(_|0)&&Y2(9424,9088,222,9408),_s=_+104|0,(l[_s>>2]|0)<=0&&Y2(9448,9088,225,9408),A_=_+100|0,x_=l[A_>>2]|0,x_?(u_=x_,__=A_):Y2(9472,9088,241,9408);x_=u_+4|0,(u_|0)!=(_t|0);)if(u_=l[x_>>2]|0,u_)__=x_;else{l_=11;break}if((l_|0)==11&&Y2(9472,9088,241,9408),l_=_t+4|0,l[__>>2]=l[l_>>2],__=l[_+112>>2]|0,__)do u_=l[__+4>>2]|0,__=l[__+12>>2]|0,((l[u_+48>>2]|0)==(_t|0)||(l[u_+52>>2]|0)==(_t|0))&&aV((l[n_>>2]|0)+102872|0,u_);while(__|0);if(n_=l[n_>>2]|0,_r[_+4>>1]&32&&AJ(_t,n_+102872|0),vJ(_t,n_),l[t_>>2]=0,l[l_>>2]=0,t_=_o[8036]|0,(t_&255)<14){A_=n_+((t_&255)<<2)+12|0,l[_t>>2]=l[A_>>2],l[A_>>2]=_t,l[_s>>2]=(l[_s>>2]|0)+-1,pD(_),ws=_i;return}else Y2(8760,8672,171,9032)}function RH(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0;if(_s=ws,n_=l[_+88>>2]|0,l[n_+102868>>2]&2&&Y2(9352,9088,419,9560),t_=_+12|0,x_=+J2(+_i),_e[_+20>>2]=x_,u_=+B2(+_i),_e[_+24>>2]=u_,g_=l[_t>>2]|0,_t=l[_t+4>>2]|0,f_=t_,l[f_>>2]=g_,l[f_+4>>2]=_t,A_=+_e[_+28>>2],__=+_e[_+32>>2],l_=(l[s_>>2]=g_,+_e[s_>>2]+(u_*A_-x_*__)),__=A_*x_+u_*__+(l[s_>>2]=_t,+_e[s_>>2]),l_=+l_,__=+__,_t=_+44|0,_e[_t>>2]=l_,_e[_t+4>>2]=__,_e[_+56>>2]=_i,_t=_+36|0,_e[_t>>2]=l_,_e[_t+4>>2]=__,_e[_+52>>2]=_i,n_=n_+102872|0,_=l[_+100>>2]|0,!_){ws=_s;return}do SJ(_,n_,t_,t_),_=l[_+4>>2]|0;while(_|0);ws=_s}function FH(_){return _=_|0,_+12|0}function LH(_){return _=_|0,_+12|0}function qH(_){return _=_|0,+ +_e[_+56>>2]}function EH(_){return _=_|0,_+44|0}function kH(_){return _=_|0,_+28|0}function jH(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0;if(_i=ws,!(l[_>>2]|0)){ws=_i;return}__=+_e[_t>>2],n_=+_e[_t+4>>2],__*__+n_*n_>0&&(t_=_+4|0,_s=o_[t_>>1]|0,(_s&2|0)==0)&&(_r[t_>>1]=_s|2,_e[_+144>>2]=0),_s=_t,t_=l[_s+4>>2]|0,_t=_+64|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=t_,ws=_i}function zH(_){_=_|0;var _t=0,_i=0,_s=0;return _t=ws,!(_o[704]|0)&&K2(704)|0&&R0(704),_s=_+64|0,_i=l[_s+4>>2]|0,_=696,l[_>>2]=l[_s>>2],l[_+4>>2]=_i,ws=_t,696}function WH(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;if(_i=ws,!(l[_>>2]|0)){ws=_i;return}_t*_t>0&&(t_=_+4|0,_s=o_[t_>>1]|0,(_s&2|0)==0)&&(_r[t_>>1]=_s|2,_e[_+144>>2]=0),_e[_+72>>2]=_t,ws=_i}function NH(_){return _=_|0,+ +_e[_+72>>2]}function OH(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0;if(t_=ws,(l[_>>2]|0)!=2){ws=t_;return}if(__=_+4|0,l_=_r[__>>1]|0,_s&&!(l_&2)&&(n_=l_&65535,(n_&2|0)==0)&&(l_=(n_|2)&65535,_r[__>>1]=l_,_e[_+144>>2]=0),!(l_&2)){ws=t_;return}__=_+76|0,_e[__>>2]=+_e[_t>>2]+ +_e[__>>2],__=_t+4|0,l_=_+80|0,_e[l_>>2]=+_e[__>>2]+ +_e[l_>>2],l_=_+84|0,_e[l_>>2]=+_e[l_>>2]+((+_e[_i>>2]-+_e[_+44>>2])*+_e[__>>2]-(+_e[_i+4>>2]-+_e[_+48>>2])*+_e[_t>>2]),ws=t_}function UH(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0;if(_s=ws,(l[_>>2]|0)!=2){ws=_s;return}if(n_=_+4|0,__=_r[n_>>1]|0,_i&&!(__&2)&&(t_=__&65535,(t_&2|0)==0)&&(__=(t_|2)&65535,_r[n_>>1]=__,_e[_+144>>2]=0),!(__&2)){ws=_s;return}__=_+76|0,_e[__>>2]=+_e[_t>>2]+ +_e[__>>2],__=_+80|0,_e[__>>2]=+_e[_t+4>>2]+ +_e[__>>2],ws=_s}function XH(_,_t,_i){_=_|0,_t=+_t,_i=_i|0;var _s=0,t_=0,n_=0,__=0;if(_s=ws,(l[_>>2]|0)!=2){ws=_s;return}if(n_=_+4|0,__=_r[n_>>1]|0,_i&&!(__&2)&&(t_=__&65535,(t_&2|0)==0)&&(__=(t_|2)&65535,_r[n_>>1]=__,_e[_+144>>2]=0),!(__&2)){ws=_s;return}__=_+84|0,_e[__>>2]=+_e[__>>2]+_t,ws=_s}function YH(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0;if(t_=ws,(l[_>>2]|0)!=2){ws=t_;return}if(__=_+4|0,l_=_r[__>>1]|0,_s&&!(l_&2)&&(n_=l_&65535,(n_&2|0)==0)&&(l_=(n_|2)&65535,_r[__>>1]=l_,_e[_+144>>2]=0),!(l_&2)){ws=t_;return}x_=+_e[_+120>>2],__=_t+4|0,u_=x_*+_e[__>>2],l_=_+64|0,_e[l_>>2]=x_*+_e[_t>>2]+ +_e[l_>>2],l_=_+68|0,_e[l_>>2]=u_+ +_e[l_>>2],l_=_+72|0,_e[l_>>2]=+_e[l_>>2]+ +_e[_+128>>2]*((+_e[_i>>2]-+_e[_+44>>2])*+_e[__>>2]-(+_e[_i+4>>2]-+_e[_+48>>2])*+_e[_t>>2]),ws=t_}function HH(_,_t,_i){_=_|0,_t=+_t,_i=_i|0;var _s=0,t_=0,n_=0,__=0;if(_s=ws,(l[_>>2]|0)!=2){ws=_s;return}if(n_=_+4|0,__=_r[n_>>1]|0,_i&&!(__&2)&&(t_=__&65535,(t_&2|0)==0)&&(__=(t_|2)&65535,_r[n_>>1]=__,_e[_+144>>2]=0),!(__&2)){ws=_s;return}__=_+72|0,_e[__>>2]=+_e[__>>2]+ +_e[_+128>>2]*_t,ws=_s}function ZH(_){return _=_|0,+ +_e[_+116>>2]}function KH(_){_=_|0;var _t=0,_i=0;return _i=+_e[_+28>>2],_t=+_e[_+32>>2],+(+_e[_+124>>2]+ +_e[_+116>>2]*(_i*_i+_t*_t))}function QH(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;_i=_+116|0,_e[_t>>2]=+_e[_i>>2],_s=_+28|0,n_=+_e[_s>>2],t_=+_e[_+32>>2],_e[_t+12>>2]=+_e[_+124>>2]+ +_e[_i>>2]*(n_*n_+t_*t_),_i=l[_s+4>>2]|0,_=_t+4|0,l[_>>2]=l[_s>>2],l[_+4>>2]=_i}function $H(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0;if(_i=ws,l[(l[_+88>>2]|0)+102868>>2]&2&&Y2(9352,9088,355,9544),(l[_>>2]|0)!=2){ws=_i;return}l_=_+120|0,_e[l_>>2]=0,t_=_+124|0,_e[t_>>2]=0,_s=_+128|0,_e[_s>>2]=0,n_=+_e[_t>>2],n_=n_<=0?1:n_,_e[_+116>>2]=n_,_e[l_>>2]=1/n_,__=+_e[_t+12>>2];do if(__>0&&!(_r[_+4>>1]&16))if(x_=+_e[_t+4>>2],u_=+_e[_t+8>>2],n_=__-n_*(x_*x_+u_*u_),_e[t_>>2]=n_,n_>0){_e[_s>>2]=1/n_;break}else Y2(9528,9088,381,9544);while(!1);l_=_+44|0,t_=l_,x_=+_e[t_>>2],n_=+_e[t_+4>>2],t_=_t+4|0,_s=l[t_>>2]|0,t_=l[t_+4>>2]|0,_t=_+28|0,l[_t>>2]=_s,l[_t+4>>2]=t_,g_=+_e[_+24>>2],f_=(l[s_>>2]=_s,+_e[s_>>2]),__=+_e[_+20>>2],A_=(l[s_>>2]=t_,+_e[s_>>2]),u_=+_e[_+12>>2]+(g_*f_-__*A_),A_=f_*__+g_*A_+ +_e[_+16>>2],g_=+u_,__=+A_,_e[l_>>2]=g_,_e[l_+4>>2]=__,l_=_+36|0,_e[l_>>2]=g_,_e[l_+4>>2]=__,__=+_e[_+72>>2],l_=_+64|0,_e[l_>>2]=+_e[l_>>2]-__*(A_-n_),l_=_+68|0,_e[l_>>2]=__*(u_-x_)+ +_e[l_>>2],ws=_i}function tZ(_){_=_|0;var _t=0;_t=ws,pD(_),ws=_t}function eZ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;return _i=ws,!(_o[720]|0)&&K2(720)|0&&R0(720),n_=+_e[_+24>>2],l_=+_e[_t>>2],__=+_e[_+20>>2],_s=+_e[_t+4>>2],t_=+(+_e[_+12>>2]+(n_*l_-__*_s)),_s=+(l_*__+n_*_s+ +_e[_+16>>2]),_t=712,_e[_t>>2]=t_,_e[_t+4>>2]=_s,ws=_i,712}function oZ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;return _i=ws,!(_o[736]|0)&&K2(736)|0&&R0(736),n_=+_e[_+24>>2],l_=+_e[_t>>2],__=+_e[_+20>>2],_s=+_e[_t+4>>2],t_=+(n_*l_-__*_s),_s=+(l_*__+n_*_s),_t=728,_e[_t>>2]=t_,_e[_t+4>>2]=_s,ws=_i,728}function iZ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;return _i=ws,!(_o[752]|0)&&K2(752)|0&&R0(752),n_=+_e[_t>>2]-+_e[_+12>>2],__=+_e[_t+4>>2]-+_e[_+16>>2],l_=+_e[_+24>>2],_s=+_e[_+20>>2],t_=+(n_*l_+__*_s),_s=+(l_*__-n_*_s),_=744,_e[_>>2]=t_,_e[_+4>>2]=_s,ws=_i,744}function rZ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;return _i=ws,!(_o[768]|0)&&K2(768)|0&&R0(768),l_=+_e[_+24>>2],n_=+_e[_t>>2],_s=+_e[_+20>>2],__=+_e[_t+4>>2],t_=+(l_*n_+_s*__),_s=+(l_*__-n_*_s),_t=760,_e[_t>>2]=t_,_e[_t+4>>2]=_s,ws=_i,760}function nZ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0;return _i=ws,!(_o[784]|0)&&K2(784)|0&&R0(784),_s=+_e[_+72>>2],t_=+(+_e[_+64>>2]-_s*(+_e[_t+4>>2]-+_e[_+48>>2])),_s=+(_s*(+_e[_t>>2]-+_e[_+44>>2])+ +_e[_+68>>2]),_t=776,_e[_t>>2]=t_,_e[_t+4>>2]=_s,ws=_i,776}function sZ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0;return _i=ws,!(_o[800]|0)&&K2(800)|0&&R0(800),l_=+_e[_+24>>2],__=+_e[_t>>2],n_=+_e[_+20>>2],_s=+_e[_t+4>>2],u_=+_e[_+72>>2],t_=+(+_e[_+64>>2]-u_*(__*n_+l_*_s+ +_e[_+16>>2]-+_e[_+48>>2])),_s=+(u_*(+_e[_+12>>2]+(l_*__-n_*_s)-+_e[_+44>>2])+ +_e[_+68>>2]),_t=792,_e[_t>>2]=t_,_e[_t+4>>2]=_s,ws=_i,792}function _Z(_){return _=_|0,+ +_e[_+132>>2]}function aZ(_,_t){_=_|0,_t=+_t,_e[_+132>>2]=_t}function pZ(_){return _=_|0,+ +_e[_+136>>2]}function lZ(_,_t){_=_|0,_t=+_t,_e[_+136>>2]=_t}function cZ(_){return _=_|0,+ +_e[_+140>>2]}function mZ(_,_t){_=_|0,_t=+_t,_e[_+140>>2]=_t}function bZ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0;if(_i=ws,ws=ws+16|0,n_=_i,_s=_+88|0,l[(l[_s>>2]|0)+102868>>2]&2&&Y2(9352,9088,115,9384),(l[_>>2]|0)==(_t|0)){ws=_i;return}if(l[_>>2]=_t,pD(_),!(l[_>>2]|0)&&(_e[_+64>>2]=0,_e[_+68>>2]=0,_e[_+72>>2]=0,f_=+_e[_+56>>2],_e[_+52>>2]=f_,t_=_+44|0,__=l[t_>>2]|0,t_=l[t_+4>>2]|0,x_=_+36|0,l[x_>>2]=__,l[x_+4>>2]=t_,J_=+J2(+f_),_e[n_+8>>2]=J_,f_=+B2(+f_),_e[n_+12>>2]=f_,R_=+_e[_+28>>2],A_=+_e[_+32>>2],g_=(l[s_>>2]=__,+_e[s_>>2]-(f_*R_-J_*A_)),A_=(l[s_>>2]=t_,+_e[s_>>2]-(R_*J_+f_*A_)),g_=+g_,A_=+A_,t_=n_,_e[t_>>2]=g_,_e[t_+4>>2]=A_,t_=(l[_s>>2]|0)+102872|0,__=l[_+100>>2]|0,(__|0)!=0)){_t=_+12|0;do SJ(__,t_,n_,_t),__=l[__+4>>2]|0;while(__|0)}if(n_=_+4|0,t_=o_[n_>>1]|0,t_&2||(_r[n_>>1]=t_|2,_e[_+144>>2]=0),_e[_+76>>2]=0,_e[_+80>>2]=0,_e[_+84>>2]=0,t_=_+112|0,n_=l[t_>>2]|0,n_)do x_=n_,n_=l[n_+12>>2]|0,aV((l[_s>>2]|0)+102872|0,l[x_+4>>2]|0);while(n_|0);if(l[t_>>2]=0,t_=l[_s>>2]|0,l_=l[_+100>>2]|0,!l_){ws=_i;return}_s=t_+102912|0,_=t_+102908|0,t_=t_+102904|0;do{if(u_=l[l_+28>>2]|0,(u_|0)>0){_t=l_+24|0,x_=l[_s>>2]|0,n_=0;do __=l[(l[_t>>2]|0)+(n_*28|0)+24>>2]|0,(x_|0)==(l[_>>2]|0)&&(M_=l[t_>>2]|0,l[_>>2]=x_<<1,x_=s0(x_<<3)|0,l[t_>>2]=x_,BS(x_|0,M_|0,l[_s>>2]<<2|0)|0,u0(M_),x_=l[_s>>2]|0),l[(l[t_>>2]|0)+(x_<<2)>>2]=__,x_=(l[_s>>2]|0)+1|0,l[_s>>2]=x_,n_=n_+1|0;while((n_|0)!=(u_|0))}l_=l[l_+4>>2]|0}while(l_|0);ws=_i}function uZ(_){return _=_|0,l[_>>2]|0}function hZ(_,_t){_=_|0,_t=_t|0;var _i=0;_=_+4|0,_i=o_[_>>1]|0,_r[_>>1]=_t?_i|8:_i&65527}function dZ(_){return _=_|0,(_r[_+4>>1]&8)!=0|0}function yZ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0;if(_i=ws,_s=_+4|0,t_=o_[_s>>1]|0,_t){_r[_s>>1]=t_|4,ws=_i;return}if(_t=t_&65531,_r[_s>>1]=_t,t_&2){ws=_i;return}_r[_s>>1]=_t|2,_e[_+144>>2]=0,ws=_i}function xZ(_){return _=_|0,(_r[_+4>>1]&4)!=0|0}function fZ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0;if(_i=ws,_s=_+4|0,t_=o_[_s>>1]|0,!_t){_r[_s>>1]=t_&65533,_e[_+144>>2]=0,_t=_+64|0,l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,l[_t+16>>2]=0,l[_t+20>>2]=0,ws=_i;return}if(t_&2){ws=_i;return}_r[_s>>1]=t_|2,_e[_+144>>2]=0,ws=_i}function gZ(_){return _=_|0,(_r[_+4>>1]&2)!=0|0}function vZ(_,_t,_i,_s){_=_|0,_t=+_t,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0,Na=0,n0=0,v0=0,C0=0,I0=0,a0=0,_p=0,ey=0,H0=0,cy=0,G0=0,By=0,my=0,by=0,A1=0,rA=0,G1=0,RC=0,PS=0,yC=0,_f=0,U0=0,QC=0,ZM=0,pV=0,lV=0,i4=0,cV=0,XB=0,mV=0,mD=0,gP=0,YB=0,HB=0,bD=0,uD=0,ZB=0,bV=0,r4=0,$C=0,y1=0,Zy=0,O0=0,Z0=0,o1=0,F0=0,Ky=0,qy=0,S1=0,J1=0,qA=0,nA=0,tB=0,EA=0,KM=0,uV=0,vP=0,PB=0,GJ=0,JJ=0,IJ=0,XI=0,YI=0,HI=0,ZI=0,KI=0,QI=0,$I=0,tT=0,eT=0,oT=0,iT=0,rT=0,nT=0,sT=0,_T=0,aT=0,pT=0,lT=0,cT=0,mT=0,bT=0,xy=0,Py=0,wA=0,Ey=0,A0=0,Ty=0,_c=0,JA=0,u1=0,p1=0,C1=0,sy=0,IA=0,BC=0,_S=0,X1=0,sA=0,kA=0,jA=0,TA=0,RS=0,I1=0,_A=0,iC=0,dS=0,B1=0,P1=0,_y=0,_m=0,py=0,X0=0,Qy=0,h1=0,t1=0,_u=0,oy=0,gA=0,fy=0,m0=0,d0=0,w0=0,ty=0,i1=0,l1=0,yS=0,w1=0,KB=0,eB=0,$y=0,V1=0,Ry=0,_h=0,PC=0,hD=0,V0=0,y0=0,AP=0,Ya=0,_a=0,wC=0,oB=0,zA=0,WA=0,Wy=0,k2=0,c0=0;t_=ws,ws=ws+608|0,l_=t_,u_=t_+16|0,x_=t_+112|0,M_=t_+236|0,V_=t_+404|0,__=t_+136|0,D_=t_+536|0,g_=t_+456|0,f_=t_+492|0,A_=t_+528|0,J_=t_+368|0,R_=t_+591|0,f2=t_+588|0,n_=_+102868|0,t2=l[n_>>2]|0,t2&1&&(dJ(_+102872|0),t2=l[n_>>2]&-2,l[n_>>2]=t2),l[n_>>2]=t2|2,t2=_t>0,t2?e2=1/_t:e2=0,s2=_+102988|0,wA=+_e[s2>>2]*_t,S2=_o[_+102992>>0]|0,O_=_+102872|0,Q_=_+102932|0,x2=l[Q_>>2]|0;t:do if(x2){b2=_+102884|0,w2=_+102876|0,r2=_+102944|0,h2=_+102940|0;e:for(;;){H2=l[x2+48>>2]|0,A2=l[x2+52>>2]|0,d2=l[x2+56>>2]|0,c2=l[x2+60>>2]|0,N2=l[H2+8>>2]|0,E2=l[A2+8>>2]|0,P2=x2+4|0,y2=l[P2>>2]|0;o:do if(!(y2&8))F_=16;else{if(!(TI(E2,N2)|0)){k2=l[x2+12>>2]|0,aV(O_,x2),x2=k2;break}F2=l[h2>>2]|0;do if(F2)if(KC[l[(l[F2>>2]|0)+8>>2]&63](F2,H2,A2)|0){y2=l[P2>>2]|0;break}else{k2=l[x2+12>>2]|0,aV(O_,x2),x2=k2;break o}while(!1);l[P2>>2]=y2&-9,F_=16}while(!1);do if((F_|0)==16){if(F_=0,_r[N2+4>>1]&2?P2=(l[N2>>2]|0)!=0:P2=0,_r[E2+4>>1]&2?E2=(l[E2>>2]|0)!=0:E2=0,!(P2|E2)){x2=l[x2+12>>2]|0;break}if(d2=l[(l[H2+24>>2]|0)+(d2*28|0)+24>>2]|0,A2=l[(l[A2+24>>2]|0)+(c2*28|0)+24>>2]|0,(d2|0)<=-1){F_=24;break e}if(H2=l[b2>>2]|0,(H2|0)<=(d2|0)){F_=24;break e}if(c2=l[w2>>2]|0,!((A2|0)>-1&(H2|0)>(A2|0))){F_=26;break e}if((+_e[c2+(A2*36|0)>>2]-+_e[c2+(d2*36|0)+8>>2]>0?1:+_e[c2+(A2*36|0)+4>>2]-+_e[c2+(d2*36|0)+12>>2]>0)|+_e[c2+(d2*36|0)>>2]-+_e[c2+(A2*36|0)+8>>2]>0|+_e[c2+(d2*36|0)+4>>2]-+_e[c2+(A2*36|0)+12>>2]>0){k2=l[x2+12>>2]|0,aV(O_,x2),x2=k2;break}else{bJ(x2,l[r2>>2]|0),x2=l[x2+12>>2]|0;break}}while(!1);if(!x2)break t}((F_|0)==24||(F_|0)==26)&&Y2(12256,12200,164,12320)}while(!1);if(_e[_+103e3>>2]=0,b2=_+102995|0,!((_o[b2>>0]|0)==0|t2^1)){if(w2=_+103008|0,_e[w2>>2]=0,h2=_+103012|0,_e[h2>>2]=0,r2=_+103016|0,_e[r2>>2]=0,A2=_+102960|0,x2=_+68|0,EI(D_,l[A2>>2]|0,l[_+102936>>2]|0,l[_+102964>>2]|0,x2,l[_+102944>>2]|0),c2=_+102952|0,d2=l[c2>>2]|0,d2)do k2=d2+4|0,_r[k2>>1]=o_[k2>>1]&65534,d2=l[d2+96>>2]|0;while(d2|0);if(d2=l[Q_>>2]|0,d2)do k2=d2+4|0,l[k2>>2]=l[k2>>2]&-2,d2=l[d2+12>>2]|0;while(d2|0);if(d2=l[_+102956>>2]|0,d2)do _o[d2+60>>0]=0,d2=l[d2+12>>2]|0;while(d2|0);bV=l[A2>>2]|0,ZB=fP(x2,bV<<2)|0,$C=l[c2>>2]|0;t:do if($C){HB=D_+28|0,P2=D_+36|0,YB=D_+32|0,bD=_+102976|0,mV=D_+8|0,mD=D_+48|0,gP=D_+16|0,Na=_+102968|0,n0=_+102972|0,_f=D_+20|0,XB=D_+24|0,RC=M_+4|0,A1=M_+8|0,By=M_+12|0,G0=M_+16|0,cy=M_+20|0,H0=M_+21|0,ey=M_+24|0,v0=M_+28|0,PS=V_+4|0,I0=V_+8|0,i4=V_+12|0,cV=V_+16|0,uD=V_+20|0,d2=V_+21|0,H2=D_+12|0,E2=V_+24|0,N2=V_+28|0,F2=V_+32|0,y2=V_+36|0,C2=V_+40|0,j2=S2<<24>>24==0,_p=(_i|0)>0,r4=__+48|0,a0=__+40|0,my=__+44|0,by=(_s|0)>0,G1=__+36|0,rA=__+24|0,A2=l_+8|0,yC=l_+12|0,U0=u_+8|0,QC=u_+12|0,ZM=x_+8|0,pV=x_+16|0,lV=__+32|0,C0=__+28|0;e:for(;;){y1=$C+4|0,Zy=_r[y1>>1]|0;do if((Zy&35)==34&&l[$C>>2]|0){l[HB>>2]=0,l[P2>>2]=0,l[YB>>2]=0,l[ZB>>2]=$C,_r[y1>>1]=Zy&65535|1,O0=1;do{if(O0=O0+-1|0,y1=l[ZB+(O0<<2)>>2]|0,Z0=y1+4|0,!(_r[Z0>>1]&32)){F_=43;break e}UM(D_,y1),Zy=o_[Z0>>1]|0,Zy&2||(_r[Z0>>1]=Zy|2,_e[y1+144>>2]=0);do if(l[y1>>2]|0){if(Zy=l[y1+112>>2]|0,Zy)do{Z0=l[Zy+4>>2]|0,o1=Z0+4|0;do if((l[o1>>2]&7|0)==6){if(_o[(l[Z0+48>>2]|0)+38>>0]|0||_o[(l[Z0+52>>2]|0)+38>>0]|0||(CJ(D_,Z0),l[o1>>2]=l[o1>>2]|1,Z0=l[Zy>>2]|0,o1=Z0+4|0,F0=_r[o1>>1]|0,F0&1))break;if((O0|0)>=(bV|0)){F_=54;break e}l[ZB+(O0<<2)>>2]=Z0,_r[o1>>1]=F0&65535|1,O0=O0+1|0}while(!1);Zy=l[Zy+12>>2]|0}while(Zy|0);if(y1=l[y1+108>>2]|0,!y1)break;do{o1=y1+4|0,Zy=l[o1>>2]|0;do if(!(_o[Zy+60>>0]|0)){if(F0=l[y1>>2]|0,qy=F0+4|0,Ky=_r[qy>>1]|0,!(Ky&32))break;if(Z0=l[YB>>2]|0,(Z0|0)>=(l[mD>>2]|0)){F_=61;break e}if(l[YB>>2]=Z0+1,l[(l[gP>>2]|0)+(Z0<<2)>>2]=Zy,_o[(l[o1>>2]|0)+60>>0]=1,Ky&1)break;if((O0|0)>=(bV|0)){F_=64;break e}l[ZB+(O0<<2)>>2]=F0,_r[qy>>1]=Ky&65535|1,O0=O0+1|0}while(!1);y1=l[y1+12>>2]|0}while(y1|0)}while(!1)}while((O0|0)>0);if(y1=(_o[bD>>0]|0)==0,Zy=l[HB>>2]|0,o1=(Zy|0)>0,o1){F0=l[mV>>2]|0,Ky=0;do O0=l[F0+(Ky<<2)>>2]|0,Z0=O0+44|0,qy=l[Z0>>2]|0,Z0=l[Z0+4>>2]|0,Ty=+_e[O0+56>>2],k2=O0+64|0,A0=+_e[k2>>2],JA=+_e[k2+4>>2],u1=+_e[O0+72>>2],k2=O0+36|0,l[k2>>2]=qy,l[k2+4>>2]=Z0,_e[O0+52>>2]=Ty,(l[O0>>2]|0)==2&&(y0=+_e[O0+140>>2],Ya=+_e[O0+120>>2],_a=1/(+_e[O0+132>>2]*_t+1),A0=(A0+(y0*+_e[Na>>2]+Ya*+_e[O0+76>>2])*_t)*_a,JA=(JA+(y0*+_e[n0>>2]+Ya*+_e[O0+80>>2])*_t)*_a,u1=(u1+ +_e[O0+128>>2]*_t*+_e[O0+84>>2])*(1/(+_e[O0+136>>2]*_t+1))),O0=l[_f>>2]|0,k2=O0+(Ky*12|0)|0,l[k2>>2]=qy,l[k2+4>>2]=Z0,_e[O0+(Ky*12|0)+8>>2]=Ty,Z0=l[XB>>2]|0,Ya=+A0,_a=+JA,k2=Z0+(Ky*12|0)|0,_e[k2>>2]=Ya,_e[k2+4>>2]=_a,_e[Z0+(Ky*12|0)+8>>2]=u1,Ky=Ky+1|0;while((Ky|0)<(Zy|0))}else Z0=l[XB>>2]|0,O0=l[_f>>2]|0;if(_e[M_>>2]=_t,_e[RC>>2]=e2,_e[A1>>2]=wA,l[By>>2]=_i,l[G0>>2]=_s,_o[cy>>0]=S2,_o[H0+0>>0]=_o[f2+0>>0]|0,_o[H0+1>>0]=_o[f2+1>>0]|0,_o[H0+2>>0]=_o[f2+2>>0]|0,l[ey>>2]=O0,l[v0>>2]=Z0,_e[V_>>2]=_t,_e[PS>>2]=e2,_e[I0>>2]=wA,l[i4>>2]=_i,l[cV>>2]=_s,_o[uD>>0]=S2,_o[d2+0>>0]=_o[f2+0>>0]|0,_o[d2+1>>0]=_o[f2+1>>0]|0,_o[d2+2>>0]=_o[f2+2>>0]|0,l[E2>>2]=l[H2>>2],l[N2>>2]=l[P2>>2],l[F2>>2]=O0,l[y2>>2]=Z0,l[C2>>2]=l[D_>>2],bI(__,V_),uI(__),!j2&&(v2=l[r4>>2]|0,(v2|0)>0)){qA=l[C0>>2]|0,nA=l[a0>>2]|0,F0=0;do{if(qy=l[nA+(F0*156|0)+112>>2]|0,J1=l[nA+(F0*156|0)+116>>2]|0,A0=+_e[nA+(F0*156|0)+120>>2],C1=+_e[nA+(F0*156|0)+128>>2],p1=+_e[nA+(F0*156|0)+124>>2],u1=+_e[nA+(F0*156|0)+132>>2],tB=l[nA+(F0*156|0)+148>>2]|0,S1=qA+(qy*12|0)|0,Ky=S1,IA=+_e[Ky>>2],_S=+_e[Ky+4>>2],qy=qA+(qy*12|0)+8|0,BC=+_e[qy>>2],Ky=qA+(J1*12|0)|0,k2=Ky,X1=+_e[k2>>2],sA=+_e[k2+4>>2],J1=qA+(J1*12|0)+8|0,sy=+_e[J1>>2],k2=nA+(F0*156|0)+72|0,JA=+_e[k2>>2],Ty=+_e[k2+4>>2],(tB|0)>0){EA=0;do y0=+_e[nA+(F0*156|0)+(EA*36|0)+16>>2],_a=+_e[nA+(F0*156|0)+(EA*36|0)+20>>2],Ya=JA*y0+Ty*_a,_a=Ty*y0-JA*_a,BC=BC-C1*(+_e[nA+(F0*156|0)+(EA*36|0)>>2]*_a-+_e[nA+(F0*156|0)+(EA*36|0)+4>>2]*Ya),IA=IA-A0*Ya,_S=_S-A0*_a,sy=sy+u1*(_a*+_e[nA+(F0*156|0)+(EA*36|0)+8>>2]-Ya*+_e[nA+(F0*156|0)+(EA*36|0)+12>>2]),X1=X1+p1*Ya,sA=sA+p1*_a,EA=EA+1|0;while((EA|0)!=(tB|0))}_a=+IA,Ya=+_S,k2=S1,_e[k2>>2]=_a,_e[k2+4>>2]=Ya,_e[qy>>2]=BC,Ya=+X1,_a=+sA,k2=Ky,_e[k2>>2]=Ya,_e[k2+4>>2]=_a,_e[J1>>2]=sy,F0=F0+1|0}while((F0|0)<(v2|0))}if(F0=l[YB>>2]|0,Ky=(F0|0)>0,Ky){S1=l[gP>>2]|0,qy=0;do k2=l[S1+(qy<<2)>>2]|0,yy[l[(l[k2>>2]|0)+32>>2]&127](k2,M_),qy=qy+1|0;while((qy|0)<(F0|0))}if(_p){J1=0;do{if(Ky){qy=l[gP>>2]|0,S1=0;do k2=l[qy+(S1<<2)>>2]|0,yy[l[(l[k2>>2]|0)+36>>2]&127](k2,M_),S1=S1+1|0;while((S1|0)<(F0|0))}hI(__),J1=J1+1|0}while((J1|0)<(_i|0))}if(qA=l[r4>>2]|0,(qA|0)>0){J1=l[a0>>2]|0,S1=l[my>>2]|0,qy=0;do{if(nA=l[S1+(l[J1+(qy*156|0)+152>>2]<<2)>>2]|0,Ky=l[J1+(qy*156|0)+148>>2]|0,(Ky|0)>0){F0=0;do _e[nA+(F0*20|0)+72>>2]=+_e[J1+(qy*156|0)+(F0*36|0)+16>>2],_e[nA+(F0*20|0)+76>>2]=+_e[J1+(qy*156|0)+(F0*36|0)+20>>2],F0=F0+1|0;while((F0|0)<(Ky|0))}qy=qy+1|0}while((qy|0)<(qA|0))}if(o1){o1=0;do Zy=O0+(o1*12|0)|0,k2=Zy,A0=+_e[k2>>2],Ty=+_e[k2+4>>2],JA=+_e[O0+(o1*12|0)+8>>2],k2=Z0+(o1*12|0)|0,u1=+_e[k2>>2],C1=+_e[k2+4>>2],p1=+_e[Z0+(o1*12|0)+8>>2],_a=u1*_t,sy=C1*_t,sy=_a*_a+sy*sy,sy>4&&(_a=2/+V2(+sy),u1=u1*_a,C1=C1*_a),sy=p1*_t,sy*sy>2.4674012660980225&&(sy>0||(sy=-sy),p1=p1*(1.5707963705062866/sy)),_a=+(A0+u1*_t),Ya=+(Ty+C1*_t),O0=Zy,_e[O0>>2]=_a,_e[O0+4>>2]=Ya,O0=l[_f>>2]|0,_e[O0+(o1*12|0)+8>>2]=JA+p1*_t,Z0=l[XB>>2]|0,Ya=+u1,_a=+C1,Zy=Z0+(o1*12|0)|0,_e[Zy>>2]=Ya,_e[Zy+4>>2]=_a,_e[Z0+(o1*12|0)+8>>2]=p1,o1=o1+1|0,Zy=l[HB>>2]|0;while((o1|0)<(Zy|0))}o:do if(by)for(F0=l[r4>>2]|0,o1=0;;){if((F0|0)>0){Ky=l[rA>>2]|0,J1=l[G1>>2]|0,S1=0,_S=0;do{if(KM=J1+(S1*88|0)|0,tB=l[J1+(S1*88|0)+32>>2]|0,qA=l[J1+(S1*88|0)+36>>2]|0,EA=J1+(S1*88|0)+48|0,C1=+_e[EA>>2],sy=+_e[EA+4>>2],p1=+_e[J1+(S1*88|0)+40>>2],A0=+_e[J1+(S1*88|0)+64>>2],EA=J1+(S1*88|0)+56|0,IA=+_e[EA>>2],BC=+_e[EA+4>>2],JA=+_e[J1+(S1*88|0)+44>>2],u1=+_e[J1+(S1*88|0)+68>>2],EA=l[J1+(S1*88|0)+84>>2]|0,qy=Ky+(tB*12|0)|0,nA=qy,X1=+_e[nA>>2],sA=+_e[nA+4>>2],tB=Ky+(tB*12|0)+8|0,RS=+_e[tB>>2],nA=Ky+(qA*12|0)|0,k2=nA,kA=+_e[k2>>2],jA=+_e[k2+4>>2],qA=Ky+(qA*12|0)+8|0,TA=+_e[qA>>2],(EA|0)>0){Ty=p1+JA,uV=0;do P1=+J2(+RS),_e[A2>>2]=P1,_y=+B2(+RS),_e[yC>>2]=_y,B1=+J2(+TA),_e[U0>>2]=B1,_A=+B2(+TA),_e[QC>>2]=_A,I1=+(X1-(C1*_y-sy*P1)),P1=+(sA-(sy*_y+C1*P1)),k2=l_,_e[k2>>2]=I1,_e[k2+4>>2]=P1,P1=+(kA-(IA*_A-BC*B1)),B1=+(jA-(BC*_A+IA*B1)),k2=u_,_e[k2>>2]=P1,_e[k2+4>>2]=B1,dI(x_,KM,l_,u_,uV),k2=x_,B1=+_e[k2>>2],P1=+_e[k2+4>>2],k2=ZM,_A=+_e[k2>>2],I1=+_e[k2+4>>2],_y=+_e[pV>>2],dS=_A-X1,iC=I1-sA,_A=_A-kA,I1=I1-jA,_S=_S<_y?_S:_y,_y=(_y+.004999999888241291)*.20000000298023224,_y=_y<0?_y:0,py=P1*dS-B1*iC,_a=P1*_A-B1*I1,py=_a*u1*_a+(Ty+py*A0*py),py>0?_y=-(_y<-.20000000298023224?-.20000000298023224:_y)/py:_y=0,_a=B1*_y,Ya=P1*_y,X1=X1-p1*_a,sA=sA-p1*Ya,RS=RS-A0*(dS*Ya-iC*_a),kA=kA+JA*_a,jA=jA+JA*Ya,TA=TA+u1*(_A*Ya-I1*_a),uV=uV+1|0;while((uV|0)!=(EA|0))}_a=+X1,Ya=+sA,k2=qy,_e[k2>>2]=_a,_e[k2+4>>2]=Ya,_e[tB>>2]=RS,Ya=+kA,_a=+jA,k2=nA,_e[k2>>2]=Ya,_e[k2+4>>2]=_a,_e[qA>>2]=TA,S1=S1+1|0}while((S1|0)<(F0|0))}else _S=0;if(Ky=_S>=-.014999999664723873,S1=l[YB>>2]|0,(S1|0)>0){J1=l[gP>>2]|0,qy=0,qA=1;do k2=l[J1+(qy<<2)>>2]|0,qA=qA&(v1[l[(l[k2>>2]|0)+40>>2]&63](k2,M_)|0),qy=qy+1|0;while((qy|0)<(S1|0))}else qA=1;if(o1=o1+1|0,Ky&qA){o1=0;break o}if((o1|0)>=(_s|0)){o1=1;break}}else o1=1;while(!1);if((Zy|0)>0){Ky=l[mV>>2]|0,F0=0;do k2=l[Ky+(F0<<2)>>2]|0,Wy=O0+(F0*12|0)|0,WA=l[Wy>>2]|0,Wy=l[Wy+4>>2]|0,wC=k2+44|0,l[wC>>2]=WA,l[wC+4>>2]=Wy,y0=+_e[O0+(F0*12|0)+8>>2],_e[k2+56>>2]=y0,wC=Z0+(F0*12|0)|0,oB=l[wC+4>>2]|0,zA=k2+64|0,l[zA>>2]=l[wC>>2],l[zA+4>>2]=oB,_e[k2+72>>2]=+_e[Z0+(F0*12|0)+8>>2],_h=+J2(+y0),_e[k2+20>>2]=_h,y0=+B2(+y0),_e[k2+24>>2]=y0,V0=+_e[k2+28>>2],_a=+_e[k2+32>>2],Ya=(l[s_>>2]=WA,+_e[s_>>2]-(y0*V0-_h*_a)),_a=(l[s_>>2]=Wy,+_e[s_>>2]-(_h*V0+y0*_a)),Ya=+Ya,_a=+_a,k2=k2+12|0,_e[k2>>2]=Ya,_e[k2+4>>2]=_a,F0=F0+1|0;while((F0|0)<(Zy|0))}Zy=l[a0>>2]|0,jI(D_,Zy);do if(!y1){if(y1=l[HB>>2]|0,(y1|0)<=0)break;O0=l[mV>>2]|0,Z0=0,A0=34028234663852886e22;do{F0=l[O0+(Z0<<2)>>2]|0;o:do if(l[F0>>2]|0){do if(_r[F0+4>>1]&4){if(_a=+_e[F0+72>>2],_a*_a>.001218469929881394||(Ya=+_e[F0+64>>2],_a=+_e[F0+68>>2],Ya*Ya+_a*_a>9999999747378752e-20))break;k2=F0+144|0,_a=+_e[k2>>2]+_t,_e[k2>>2]=_a,A0=A0<_a?A0:_a;break o}while(!1);_e[F0+144>>2]=0,A0=0}while(!1);Z0=Z0+1|0}while((Z0|0)<(y1|0));if(!(A0>=.5)|o1)break;Z0=0;do k2=l[O0+(Z0<<2)>>2]|0,Wy=k2+4|0,_r[Wy>>1]=o_[Wy>>1]&65533,_e[k2+144>>2]=0,k2=k2+64|0,l[k2+0>>2]=0,l[k2+4>>2]=0,l[k2+8>>2]=0,l[k2+12>>2]=0,l[k2+16>>2]=0,l[k2+20>>2]=0,Z0=Z0+1|0;while((Z0|0)<(y1|0))}while(!1);if(y1=l[lV>>2]|0,AB(y1,Zy),AB(y1,l[G1>>2]|0),_e[w2>>2]=+_e[w2>>2]+0,_e[h2>>2]=+_e[h2>>2]+0,_e[r2>>2]=+_e[r2>>2]+0,y1=l[HB>>2]|0,(y1|0)<=0)break;Zy=l[mV>>2]|0,O0=0;do Z0=l[Zy+(O0<<2)>>2]|0,l[Z0>>2]|0||(k2=Z0+4|0,_r[k2>>1]=o_[k2>>1]&65534),O0=O0+1|0;while((O0|0)<(y1|0))}while(!1);if($C=l[$C+96>>2]|0,!$C)break t}(F_|0)==43?Y2(11696,11552,445,11720):(F_|0)==54?Y2(11728,11552,495,11720):(F_|0)==61?Y2(12384,12416,68,12456):(F_|0)==64&&Y2(11728,11552,524,11720)}while(!1);if(AB(x2,ZB),v2=l[c2>>2]|0,v2)do _r[v2+4>>1]&1&&l[v2>>2]|0&&JI(v2),v2=l[v2+96>>2]|0;while(v2|0);dJ(O_),_e[_+103020>>2]=0,kI(D_),_e[_+103004>>2]=0}if(_o[_+102993>>0]|0){if(t2){if(v2=_+102944|0,EI(D_,64,32,0,_+68|0,l[v2>>2]|0),_o[b2>>0]|0){if(f2=l[_+102952>>2]|0,f2)do k2=f2+4|0,_r[k2>>1]=o_[k2>>1]&65534,_e[f2+60>>2]=0,f2=l[f2+96>>2]|0;while(f2|0);if(f2=l[Q_>>2]|0,f2)do k2=f2+4|0,l[k2>>2]=l[k2>>2]&-34,l[f2+128>>2]=0,_e[f2+132>>2]=1,f2=l[f2+12>>2]|0;while(f2|0)}A1=D_+28|0,by=D_+36|0,my=D_+32|0,By=A_+4|0,G0=D_+40|0,cy=D_+44|0,S2=_+102994|0,H0=D_+8|0,yC=M_+16|0,cV=M_+20|0,IJ=M_+24|0,pV=M_+44|0,lV=M_+48|0,JJ=M_+52|0,PB=M_+28|0,rA=M_+56|0,mT=M_+92|0,cT=M_+128|0,lT=M_+56|0,pT=M_+60|0,aT=M_+64|0,_T=M_+68|0,sT=M_+72|0,nT=M_+76|0,rT=M_+80|0,YI=M_+84|0,iT=M_+88|0,oT=M_+92|0,eT=M_+96|0,tT=M_+100|0,$I=M_+104|0,QI=M_+108|0,KI=M_+112|0,ZI=M_+116|0,XI=M_+120|0,HI=M_+124|0,GJ=l_+4|0,vP=u_+28|0,uV=u_+88|0,KM=u_+56|0,EA=u_+64|0,tB=u_+68|0,nA=u_+72|0,qA=u_+80|0,J1=u_+84|0,S1=x_+16|0,qy=__+4|0,Ky=__+8|0,F0=__+12|0,o1=__+16|0,Z0=__+20|0,O0=__+24|0,Zy=__+28|0,y1=__+32|0,$C=__+36|0,r4=__+40|0,bV=__+44|0,ZB=__+48|0,uD=__+52|0,bD=__+56|0,HB=__+60|0,YB=__+64|0,gP=__+68|0,mD=__+72|0,mV=__+76|0,XB=__+80|0,i4=l_+9|0,QC=__+92|0,U0=__+96|0,ZM=l_+10|0,_f=__+84|0,PS=__+92|0,h2=__+84|0,G1=__+88|0,ey=D_+20|0,_p=D_+24|0,a0=D_+12|0,I0=M_+24|0,C0=M_+28|0,v0=M_+40|0,n0=M_+4|0,Na=M_+8|0,j2=M_+12|0,C2=M_+16|0,y2=M_+20|0,F2=M_+21|0,N2=M_+32|0,P2=M_+36|0,bT=(_i|0)>0,RC=V_+40|0,w2=V_+32|0,H2=V_+36|0,E2=V_+48|0,d2=V_+24|0,A2=l_+8|0,c2=l_+12|0,r2=u_+8|0,_s=u_+12|0,f2=x_+8|0,x2=x_+16|0;t:for(;;){if(xy=l[Q_>>2]|0,xy)wA=1,Py=0;else{F_=255;break}do{Ey=xy+4|0,_c=l[Ey>>2]|0;do if(_c&4|0&&(l[xy+128>>2]|0)<=8){if(_c&32)A0=+_e[xy+132>>2];else{if(_m=l[xy+48>>2]|0,_c=l[xy+52>>2]|0,_o[_m+38>>0]|0||_o[_c+38>>0]|0)break;if(m0=l[_m+8>>2]|0,w0=l[_c+8>>2]|0,ty=l[m0>>2]|0,i1=l[w0>>2]|0,!((ty|0)==2|(i1|0)==2)){F_=158;break t}if(d0=_r[m0+4>>1]|0,l1=_r[w0+4>>1]|0,!((d0&2)!=0&(ty|0)!=0|(l1&2)!=0&(i1|0)!=0)||!((d0&8)!=0|(ty|0)!=2|((l1&8)!=0|(i1|0)!=2)))break;ty=m0+28|0,l1=m0+60|0,Ty=+_e[l1>>2],d0=w0+28|0,i1=w0+60|0,A0=+_e[i1>>2];do if(Ty<A0){if(!(Ty<1)){F_=163;break t}Ya=(A0-Ty)/(1-Ty),Wy=m0+36|0,V0=+_e[Wy>>2],k2=m0+40|0,y0=+_e[k2>>2],_a=Ya*(+_e[m0+48>>2]-y0),_e[Wy>>2]=V0+Ya*(+_e[m0+44>>2]-V0),_e[k2>>2]=y0+_a,k2=m0+52|0,_a=+_e[k2>>2],_e[k2>>2]=_a+Ya*(+_e[m0+56>>2]-_a),_e[l1>>2]=A0}else{if(!(A0<Ty)){A0=Ty;break}if(!(A0<1)){F_=167;break t}_a=(Ty-A0)/(1-A0),Wy=w0+36|0,y0=+_e[Wy>>2],k2=w0+40|0,Ya=+_e[k2>>2],A0=_a*(+_e[w0+48>>2]-Ya),_e[Wy>>2]=y0+_a*(+_e[w0+44>>2]-y0),_e[k2>>2]=Ya+A0,k2=w0+52|0,A0=+_e[k2>>2],_e[k2>>2]=A0+_a*(+_e[w0+56>>2]-A0),_e[i1>>2]=Ty,A0=Ty}while(!1);if(!(A0<1)){F_=170;break t}k2=l[xy+56>>2]|0,m0=l[xy+60>>2]|0,l[yC>>2]=0,l[cV>>2]=0,_e[IJ>>2]=0,l[pV>>2]=0,l[lV>>2]=0,_e[JJ>>2]=0,OM(M_,l[_m+12>>2]|0,k2),OM(PB,l[_c+12>>2]|0,m0),_c=rA+0|0,_m=ty+0|0,m0=_c+36|0;do l[_c>>2]=l[_m>>2],_c=_c+4|0,_m=_m+4|0;while((_c|0)<(m0|0));_c=mT+0|0,_m=d0+0|0,m0=_c+36|0;do l[_c>>2]=l[_m>>2],_c=_c+4|0,_m=_m+4|0;while((_c|0)<(m0|0));if(_e[cT>>2]=1,l[1664]=(l[1664]|0)+1,C1=+_e[lT>>2],p1=+_e[pT>>2],kA=+_e[aT>>2],jA=+_e[_T>>2],_y=+_e[sT>>2],P1=+_e[nT>>2],dS=+_e[rT>>2],RS=+_e[iT>>2],sA=+_e[oT>>2],TA=+_e[eT>>2],u1=+_e[tT>>2],iC=+_e[$I>>2],B1=+_e[QI>>2],sy=+_e[KI>>2],IA=+_e[ZI>>2],JA=+_e[HI>>2],I1=+l2(+(dS/6.2831854820251465))*6.2831854820251465,dS=dS-I1,I1=+_e[YI>>2]-I1,X1=+l2(+(IA/6.2831854820251465))*6.2831854820251465,IA=IA-X1,X1=+_e[XI>>2]-X1,_A=+_e[IJ>>2]+ +_e[JJ>>2]+-.014999999664723873,_A=_A<.004999999888241291?.004999999888241291:_A,!(_A>.0012499999720603228)){F_=172;break t}_r[GJ>>1]=0,l[u_+0>>2]=l[M_+0>>2],l[u_+4>>2]=l[M_+4>>2],l[u_+8>>2]=l[M_+8>>2],l[u_+12>>2]=l[M_+12>>2],l[u_+16>>2]=l[M_+16>>2],l[u_+20>>2]=l[M_+20>>2],l[u_+24>>2]=l[M_+24>>2],l[vP+0>>2]=l[PB+0>>2],l[vP+4>>2]=l[PB+4>>2],l[vP+8>>2]=l[PB+8>>2],l[vP+12>>2]=l[PB+12>>2],l[vP+16>>2]=l[PB+16>>2],l[vP+20>>2]=l[PB+20>>2],l[vP+24>>2]=l[PB+24>>2],_o[uV>>0]=0,BC=_A+.0012499999720603228,_S=_A+-.0012499999720603228,_c=0,Ty=0;e:for(;;){if(h1=1-Ty,X0=h1*dS+Ty*I1,py=+J2(+X0),X0=+B2(+X0),oy=h1*kA+Ty*_y-(X0*C1-py*p1),Qy=h1*jA+Ty*P1-(py*C1+X0*p1),_u=h1*IA+Ty*X1,t1=+J2(+_u),_u=+B2(+_u),gA=h1*u1+Ty*B1-(_u*sA-t1*TA),h1=h1*iC+Ty*sy-(t1*sA+_u*TA),fy=+oy,_a=+Qy,k2=KM,_e[k2>>2]=fy,_e[k2+4>>2]=_a,_e[EA>>2]=py,_e[tB>>2]=X0,_a=+gA,fy=+h1,k2=nA,_e[k2>>2]=_a,_e[k2+4>>2]=fy,_e[qA>>2]=t1,_e[J1>>2]=_u,vI(x_,l_,u_),fy=+_e[S1>>2],fy<=0){_m=2,Ty=0;break}if(fy<BC){_m=3;break}if(l[__>>2]=M_,l[qy>>2]=PB,m0=l[GJ>>2]|0,w0=m0&65535,_m=m0>>>16,ty=_m&255,m0=m0>>>24,d0=m0&255,!(w0<<16>>16!=0&(w0&65535)<3)){F_=177;break t}_e[Ky>>2]=C1,_e[F0>>2]=p1,_e[o1>>2]=kA,_e[Z0>>2]=jA,_e[O0>>2]=_y,_e[Zy>>2]=P1,_e[y1>>2]=dS,_e[$C>>2]=I1,_e[r4>>2]=RS,_e[bV>>2]=sA,_e[ZB>>2]=TA,_e[uD>>2]=u1,_e[bD>>2]=iC,_e[HB>>2]=B1,_e[YB>>2]=sy,_e[gP>>2]=IA,_e[mD>>2]=X1,_e[mV>>2]=JA;do if(w0<<16>>16!=1)if(ty<<24>>24==d0<<24>>24){if(l[XB>>2]=2,w0=e_[i4>>0]|0,m0=l[lV>>2]|0,(m0|0)<=(w0|0)){F_=187;break t}if(d0=l[pV>>2]|0,w0=d0+(w0<<3)|0,$y=+_e[w0>>2],fy=+_e[w0+4>>2],w0=e_[ZM>>0]|0,(m0|0)<=(w0|0)){F_=189;break t}if(k2=d0+(w0<<3)|0,_h=+_e[k2>>2],V1=+_e[k2+4>>2],y0=_h-$y,V0=V1-fy,Ry=-y0,Ya=+V0,_a=+Ry,k2=QC,_e[k2>>2]=Ya,_e[k2+4>>2]=_a,y0=+V2(+(V0*V0+y0*y0)),y0<11920928955078125e-23||(_a=1/y0,V0=V0*_a,_e[QC>>2]=V0,Ry=_a*Ry,_e[U0>>2]=Ry),$y=($y+_h)*.5,fy=(fy+V1)*.5,Ya=+$y,_a=+fy,k2=_f,_e[k2>>2]=Ya,_e[k2+4>>2]=_a,_m=_m&255,(l[cV>>2]|0)<=(_m|0)){F_=193;break t}if(k2=(l[yC>>2]|0)+(_m<<3)|0,Ya=+_e[k2>>2],_a=+_e[k2+4>>2],!((_u*V0-t1*Ry)*(oy+(X0*Ya-py*_a)-(gA+(_u*$y-t1*fy)))+(t1*V0+_u*Ry)*(Qy+(py*Ya+X0*_a)-(h1+(t1*$y+_u*fy)))<0)){_a=kA,t1=jA,h1=_y,Ya=P1,Qy=dS,X0=I1,y0=C1,V0=p1,_h=u1,V1=iC,gA=B1,Ry=sy,_u=IA,oy=X1,$y=sA,fy=TA,m0=2,_m=1,py=1;break}t1=+-V0,_a=+-Ry,m0=QC,_e[m0>>2]=t1,_e[m0+4>>2]=_a,_a=kA,t1=jA,h1=_y,Ya=P1,Qy=dS,X0=I1,y0=C1,V0=p1,_h=u1,V1=iC,gA=B1,Ry=sy,_u=IA,oy=X1,$y=sA,fy=TA,m0=2,_m=1,py=1;break}else{if(l[XB>>2]=1,w0=_m&255,_m=l[cV>>2]|0,(_m|0)<=(w0|0)){F_=197;break t}if(d0=l[yC>>2]|0,k2=d0+(w0<<3)|0,$y=+_e[k2>>2],fy=+_e[k2+4>>2],(_m|0)<=(m0|0)){F_=199;break t}if(k2=d0+(m0<<3)|0,V0=+_e[k2>>2],V1=+_e[k2+4>>2],y0=V0-$y,_h=V1-fy,Ry=-y0,Ya=+_h,_a=+Ry,k2=QC,_e[k2>>2]=Ya,_e[k2+4>>2]=_a,y0=+V2(+(_h*_h+y0*y0)),y0<11920928955078125e-23||(_a=1/y0,_h=_h*_a,_e[QC>>2]=_h,Ry=_a*Ry,_e[U0>>2]=Ry),$y=($y+V0)*.5,fy=(fy+V1)*.5,Ya=+$y,_a=+fy,_m=_f,_e[_m>>2]=Ya,_e[_m+4>>2]=_a,_m=e_[i4>>0]|0,(l[lV>>2]|0)<=(_m|0)){F_=203;break t}if(k2=(l[pV>>2]|0)+(_m<<3)|0,Ya=+_e[k2>>2],_a=+_e[k2+4>>2],!((X0*_h-py*Ry)*(gA+(_u*Ya-t1*_a)-(oy+(X0*$y-py*fy)))+(py*_h+X0*Ry)*(h1+(t1*Ya+_u*_a)-(Qy+(py*$y+X0*fy)))<0)){_a=kA,t1=jA,h1=_y,Ya=P1,Qy=dS,X0=I1,y0=C1,V0=p1,_h=u1,V1=iC,gA=B1,Ry=sy,_u=IA,oy=X1,$y=sA,fy=TA,m0=1,_m=1,py=1;break}t1=+-_h,_a=+-Ry,m0=QC,_e[m0>>2]=t1,_e[m0+4>>2]=_a,_a=kA,t1=jA,h1=_y,Ya=P1,Qy=dS,X0=I1,y0=C1,V0=p1,_h=u1,V1=iC,gA=B1,Ry=sy,_u=IA,oy=X1,$y=sA,fy=TA,m0=1,_m=1,py=1;break}else{if(l[XB>>2]=0,_m=_m&255,(l[cV>>2]|0)<=(_m|0)){F_=180;break t}if(_m=(l[yC>>2]|0)+(_m<<3)|0,$y=+_e[_m>>2],fy=+_e[_m+4>>2],_m=e_[i4>>0]|0,(l[lV>>2]|0)<=(_m|0)){F_=182;break t}if(k2=(l[pV>>2]|0)+(_m<<3)|0,Ya=+_e[k2>>2],_a=+_e[k2+4>>2],oy=gA+(_u*Ya-t1*_a)-(oy+(X0*$y-py*fy)),py=h1+(t1*Ya+_u*_a)-(Qy+(py*$y+X0*fy)),_a=+oy,X0=+py,k2=QC,_e[k2>>2]=_a,_e[k2+4>>2]=X0,X0=+V2(+(oy*oy+py*py)),X0<11920928955078125e-23){_a=kA,t1=jA,h1=_y,Ya=P1,Qy=dS,X0=I1,y0=C1,V0=p1,_h=u1,V1=iC,gA=B1,Ry=sy,_u=IA,oy=X1,$y=sA,fy=TA,m0=0,_m=1,py=1;break}_a=1/X0,_e[QC>>2]=oy*_a,_e[U0>>2]=py*_a,_a=kA,t1=jA,h1=_y,Ya=P1,Qy=dS,X0=I1,y0=C1,V0=p1,_h=u1,V1=iC,gA=B1,Ry=sy,_u=IA,oy=X1,$y=sA,fy=TA,m0=0,_m=1,py=1}while(!1);for(;;){if(c0=1-py,X0=c0*Qy+X0*py,Qy=+J2(+X0),X0=+B2(+X0),h1=c0*_a+h1*py-(X0*y0-Qy*V0),t1=c0*t1+Ya*py-(Qy*y0+X0*V0),_u=c0*_u+oy*py,oy=+J2(+_u),_u=+B2(+_u),gA=c0*_h+gA*py-(_u*$y-oy*fy),fy=c0*V1+Ry*py-(oy*$y+_u*fy),m0)if((m0|0)==1){if(c0=+_e[PS>>2],V1=+_e[U0>>2],$y=X0*c0-Qy*V1,V1=Qy*c0+X0*V1,c0=+_e[h2>>2],_h=+_e[G1>>2],h1=h1+(X0*c0-Qy*_h),X0=t1+(Qy*c0+X0*_h),_h=-$y,c0=-V1,Ry=_u*_h+oy*c0,_h=_u*c0-oy*_h,m0=l[qy>>2]|0,d0=l[m0+16>>2]|0,m0=l[m0+20>>2]|0,(m0|0)>1){for(w1=0,Qy=_h*+_e[d0+4>>2]+Ry*+_e[d0>>2],w0=1;t1=Ry*+_e[d0+(w0<<3)>>2]+_h*+_e[d0+(w0<<3)+4>>2],ty=t1>Qy,w1=ty?w0:w1,w0=w0+1|0,(w0|0)!=(m0|0);)Qy=ty?t1:Qy;if((w1|0)<=-1){F_=223;break t}}else w1=0;if((m0|0)<=(w1|0)){F_=223;break t}w0=d0+(w1<<3)|0,_a=+_e[w0>>2],c0=+_e[w0+4>>2],oy=$y*(gA+(_u*_a-oy*c0)-h1)+V1*(fy+(oy*_a+_u*c0)-X0),w0=-1}else if((m0|0)==2){if(_a=+_e[PS>>2],V1=+_e[U0>>2],$y=_u*_a-oy*V1,V1=oy*_a+_u*V1,_a=+_e[h2>>2],c0=+_e[G1>>2],gA=gA+(_u*_a-oy*c0),_u=fy+(oy*_a+_u*c0),fy=-$y,c0=-V1,oy=X0*fy+Qy*c0,fy=X0*c0-Qy*fy,m0=l[__>>2]|0,d0=l[m0+16>>2]|0,m0=l[m0+20>>2]|0,(m0|0)>1){for(w0=0,Ry=fy*+_e[d0+4>>2]+oy*+_e[d0>>2],ty=1;_h=oy*+_e[d0+(ty<<3)>>2]+fy*+_e[d0+(ty<<3)+4>>2],i1=_h>Ry,w0=i1?ty:w0,ty=ty+1|0,(ty|0)!=(m0|0);)Ry=i1?_h:Ry;if((w0|0)<=-1){F_=230;break t}}else w0=0;if((m0|0)<=(w0|0)){F_=230;break t}w1=d0+(w0<<3)|0,c0=+_e[w1>>2],oy=+_e[w1+4>>2],oy=$y*(h1+(X0*c0-Qy*oy)-gA)+V1*(t1+(Qy*c0+X0*oy)-_u),w1=-1}else{F_=232;break t}else{if($y=+_e[PS>>2],V1=+_e[U0>>2],y0=X0*$y+Qy*V1,V0=X0*V1-Qy*$y,_h=-$y,c0=-V1,Ry=_u*_h+oy*c0,_h=_u*c0-oy*_h,m0=l[__>>2]|0,d0=l[m0+16>>2]|0,m0=l[m0+20>>2]|0,(m0|0)>1)for(w0=0,Ya=V0*+_e[d0+4>>2]+y0*+_e[d0>>2],i1=1;_a=y0*+_e[d0+(i1<<3)>>2]+V0*+_e[d0+(i1<<3)+4>>2],ty=_a>Ya,w0=ty?i1:w0,i1=i1+1|0,(i1|0)!=(m0|0);)Ya=ty?_a:Ya;else w0=0;if(ty=l[qy>>2]|0,i1=l[ty+16>>2]|0,ty=l[ty+20>>2]|0,(ty|0)>1)for(w1=0,y0=_h*+_e[i1+4>>2]+Ry*+_e[i1>>2],l1=1;V0=Ry*+_e[i1+(l1<<3)>>2]+_h*+_e[i1+(l1<<3)+4>>2],yS=V0>y0,w1=yS?l1:w1,l1=l1+1|0,(l1|0)!=(ty|0);)y0=yS?V0:y0;else w1=0;if(!((w0|0)>-1&(m0|0)>(w0|0))){F_=214;break t}if(k2=d0+(w0<<3)|0,Ry=+_e[k2>>2],_h=+_e[k2+4>>2],!((w1|0)>-1&(ty|0)>(w1|0))){F_=216;break t}k2=i1+(w1<<3)|0,_a=+_e[k2>>2],c0=+_e[k2+4>>2],oy=$y*(gA+(_u*_a-oy*c0)-(h1+(X0*Ry-Qy*_h)))+V1*(fy+(oy*_a+_u*c0)-(t1+(Qy*Ry+X0*_h)))}if(oy>BC){_m=4,Ty=1,F_=246;break e}if(oy>_S){Ty=py;break}if(h1=+wI(__,w0,w1,Ty),h1<_S){_m=1,F_=246;break e}if(!(h1<=BC))X0=Ty,Qy=py,m0=0;else{_m=3,F_=246;break e}for(;;){if(m0&1?_u=X0+(_A-h1)*(Qy-X0)/(oy-h1):_u=(X0+Qy)*.5,m0=m0+1|0,l[1670]=(l[1670]|0)+1,t1=+wI(__,w0,w1,_u),gA=t1-_A,gA>0||(gA=-gA),gA<.0012499999720603228){py=_u;break}if(d0=t1>_A,(m0|0)==50)break;X0=d0?_u:X0,Qy=d0?Qy:_u,h1=d0?t1:h1,oy=d0?oy:t1}if(k2=l[1672]|0,l[1672]=(k2|0)>(m0|0)?k2:m0,(_m|0)==8)break;_a=+_e[o1>>2],t1=+_e[Z0>>2],h1=+_e[O0>>2],Ya=+_e[Zy>>2],Qy=+_e[y1>>2],X0=+_e[$C>>2],y0=+_e[Ky>>2],V0=+_e[F0>>2],_h=+_e[uD>>2],V1=+_e[bD>>2],gA=+_e[HB>>2],Ry=+_e[YB>>2],_u=+_e[gP>>2],oy=+_e[mD>>2],$y=+_e[bV>>2],fy=+_e[ZB>>2],m0=l[XB>>2]|0,_m=_m+1|0}if(_c=_c+1|0,l[1666]=(l[1666]|0)+1,(_c|0)==20){_c=20,_m=1;break}}(F_|0)==246&&(F_=0,l[1666]=(l[1666]|0)+1,_c=_c+1|0),k2=l[1668]|0,l[1668]=(k2|0)>(_c|0)?k2:_c,(_m|0)==3?(A0=A0+(1-A0)*Ty,A0=A0<1?A0:1):A0=1,_e[xy+132>>2]=A0,l[Ey>>2]=l[Ey>>2]|32}A0<wA&&(wA=A0,Py=xy)}while(!1);xy=l[xy+12>>2]|0}while(xy|0);if((Py|0)==0|wA>.9999988079071045){F_=255;break}Ey=l[(l[Py+48>>2]|0)+8>>2]|0,xy=l[(l[Py+52>>2]|0)+8>>2]|0,w0=Ey+28|0,_c=g_+0|0,_m=w0+0|0,m0=_c+36|0;do l[_c>>2]=l[_m>>2],_c=_c+4|0,_m=_m+4|0;while((_c|0)<(m0|0));d0=xy+28|0,_c=f_+0|0,_m=d0+0|0,m0=_c+36|0;do l[_c>>2]=l[_m>>2],_c=_c+4|0,_m=_m+4|0;while((_c|0)<(m0|0));if(_c=Ey+60|0,A0=+_e[_c>>2],!(A0<1)){F_=257;break}if(y0=(wA-A0)/(1-A0),i1=Ey+44|0,k2=Ey+36|0,A0=+_e[k2>>2],l1=Ey+48|0,ty=Ey+40|0,Ya=+_e[ty>>2],_a=y0*(+_e[l1>>2]-Ya),_e[k2>>2]=A0+y0*(+_e[i1>>2]-A0),_e[ty>>2]=Ya+_a,ty=Ey+56|0,k2=Ey+52|0,_a=+_e[k2>>2],_a=_a+y0*(+_e[ty>>2]-_a),_e[k2>>2]=_a,_e[_c>>2]=wA,_c=Ey+36|0,k2=l[_c>>2]|0,_c=l[_c+4>>2]|0,yS=Ey+44|0,l[yS>>2]=k2,l[yS+4>>2]=_c,_e[ty>>2]=_a,y0=+J2(+_a),yS=Ey+20|0,_e[yS>>2]=y0,_a=+B2(+_a),KB=Ey+24|0,_e[KB>>2]=_a,PC=Ey+12|0,eB=Ey+28|0,Ya=+_e[eB>>2],w1=Ey+32|0,A0=+_e[w1>>2],c0=(l[s_>>2]=k2,+_e[s_>>2]-(_a*Ya-y0*A0)),A0=(l[s_>>2]=_c,+_e[s_>>2]-(y0*Ya+_a*A0)),c0=+c0,A0=+A0,_c=PC,_e[_c>>2]=c0,_e[_c+4>>2]=A0,_c=xy+60|0,A0=+_e[_c>>2],!(A0<1)){F_=259;break}if(V0=(wA-A0)/(1-A0),AP=xy+44|0,_m=xy+36|0,c0=+_e[_m>>2],hD=xy+48|0,wC=xy+40|0,y0=+_e[wC>>2],Ya=V0*(+_e[hD>>2]-y0),_e[_m>>2]=c0+V0*(+_e[AP>>2]-c0),_e[wC>>2]=y0+Ya,wC=xy+56|0,_m=xy+52|0,Ya=+_e[_m>>2],Ya=Ya+V0*(+_e[wC>>2]-Ya),_e[_m>>2]=Ya,_e[_c>>2]=wA,_c=xy+36|0,_m=l[_c>>2]|0,_c=l[_c+4>>2]|0,oB=xy+44|0,l[oB>>2]=_m,l[oB+4>>2]=_c,_e[wC>>2]=Ya,V0=+J2(+Ya),oB=xy+20|0,_e[oB>>2]=V0,Ya=+B2(+Ya),zA=xy+24|0,_e[zA>>2]=Ya,k2=xy+12|0,WA=xy+28|0,y0=+_e[WA>>2],Wy=xy+32|0,c0=+_e[Wy>>2],_a=(l[s_>>2]=_m,+_e[s_>>2]-(Ya*y0-V0*c0)),c0=(l[s_>>2]=_c,+_e[s_>>2]-(V0*y0+Ya*c0)),_a=+_a,c0=+c0,_c=k2,_e[_c>>2]=_a,_e[_c+4>>2]=c0,bJ(Py,l[v2>>2]|0),_c=Py+4|0,_m=l[_c>>2]|0,l[_c>>2]=_m&-33,m0=Py+128|0,l[m0>>2]=(l[m0>>2]|0)+1,(_m&6|0)!=6){l[_c>>2]=_m&-37,_c=w0+0|0,_m=g_+0|0,m0=_c+36|0;do l[_c>>2]=l[_m>>2],_c=_c+4|0,_m=_m+4|0;while((_c|0)<(m0|0));_c=d0+0|0,_m=f_+0|0,m0=_c+36|0;do l[_c>>2]=l[_m>>2],_c=_c+4|0,_m=_m+4|0;while((_c|0)<(m0|0));y0=+_e[ty>>2],_a=+J2(+y0),_e[yS>>2]=_a,y0=+B2(+y0),_e[KB>>2]=y0,c0=+_e[eB>>2],Ya=+_e[w1>>2],V0=+(+_e[i1>>2]-(y0*c0-_a*Ya)),Ya=+(+_e[l1>>2]-(_a*c0+y0*Ya)),_e[PC>>2]=V0,_e[PC+4>>2]=Ya,Ya=+_e[wC>>2],V0=+J2(+Ya),_e[oB>>2]=V0,Ya=+B2(+Ya),_e[zA>>2]=Ya,y0=+_e[WA>>2],c0=+_e[Wy>>2],_a=+(+_e[AP>>2]-(Ya*y0-V0*c0)),c0=+(+_e[hD>>2]-(V0*y0+Ya*c0)),_e[k2>>2]=_a,_e[k2+4>>2]=c0;continue}for(_m=Ey+4|0,m0=o_[_m>>1]|0,m0&2||(_r[_m>>1]=m0|2,_e[Ey+144>>2]=0),d0=xy+4|0,m0=o_[d0>>1]|0,m0&2||(_r[d0>>1]=m0|2,_e[xy+144>>2]=0),l[A1>>2]=0,l[by>>2]=0,l[my>>2]=0,UM(D_,Ey),UM(D_,xy),CJ(D_,Py),_r[_m>>1]=o_[_m>>1]|1,_r[d0>>1]=o_[d0>>1]|1,l[_c>>2]=l[_c>>2]|1,l[A_>>2]=Ey,l[By>>2]=xy,_c=Ey,Py=1;;){e:do if((l[_c>>2]|0)==2&&(P_=l[_c+112>>2]|0,(P_|0)!=0)){ty=_c+4|0,w0=P_;do{if((l[A1>>2]|0)==(l[G0>>2]|0)||(l[by>>2]|0)==(l[cy>>2]|0))break e;yS=l[w0+4>>2]|0,l1=yS+4|0;o:do if(!(l[l1>>2]&1)){d0=l[w0>>2]|0;do if((l[d0>>2]|0)==2){if(_r[ty>>1]&8)break;if(!(_r[d0+4>>1]&8))break o}while(!1);if(_o[(l[yS+48>>2]|0)+38>>0]|0||_o[(l[yS+52>>2]|0)+38>>0]|0)break;i1=d0+28|0,_c=J_+0|0,_m=i1+0|0,m0=_c+36|0;do l[_c>>2]=l[_m>>2],_c=_c+4|0,_m=_m+4|0;while((_c|0)<(m0|0));if(_c=d0+4|0,!(_r[_c>>1]&1)){if(_m=d0+60|0,A0=+_e[_m>>2],!(A0<1)){F_=280;break t}V0=(wA-A0)/(1-A0),k2=d0+36|0,c0=+_e[k2>>2],WA=d0+40|0,y0=+_e[WA>>2],Ya=V0*(+_e[d0+48>>2]-y0),_e[k2>>2]=c0+V0*(+_e[d0+44>>2]-c0),_e[WA>>2]=y0+Ya,WA=d0+56|0,k2=d0+52|0,Ya=+_e[k2>>2],Ya=Ya+V0*(+_e[WA>>2]-Ya),_e[k2>>2]=Ya,_e[_m>>2]=wA,k2=d0+36|0,Wy=l[k2>>2]|0,k2=l[k2+4>>2]|0,zA=d0+44|0,l[zA>>2]=Wy,l[zA+4>>2]=k2,_e[WA>>2]=Ya,V0=+J2(+Ya),_e[d0+20>>2]=V0,Ya=+B2(+Ya),_e[d0+24>>2]=Ya,y0=+_e[d0+28>>2],c0=+_e[d0+32>>2],_a=(l[s_>>2]=Wy,+_e[s_>>2]-(Ya*y0-V0*c0)),c0=(l[s_>>2]=k2,+_e[s_>>2]-(V0*y0+Ya*c0)),_a=+_a,c0=+c0,k2=d0+12|0,_e[k2>>2]=_a,_e[k2+4>>2]=c0}if(bJ(yS,l[v2>>2]|0),_m=l[l1>>2]|0,!(_m&4)){_c=i1+0|0,_m=J_+0|0,m0=_c+36|0;do l[_c>>2]=l[_m>>2],_c=_c+4|0,_m=_m+4|0;while((_c|0)<(m0|0));Ya=+_e[d0+56>>2],V0=+J2(+Ya),_e[d0+20>>2]=V0,Ya=+B2(+Ya),_e[d0+24>>2]=Ya,y0=+_e[d0+28>>2],c0=+_e[d0+32>>2],_a=+(+_e[d0+44>>2]-(Ya*y0-V0*c0)),c0=+(+_e[d0+48>>2]-(V0*y0+Ya*c0)),k2=d0+12|0,_e[k2>>2]=_a,_e[k2+4>>2]=c0;break}if(!(_m&2)){_c=i1+0|0,_m=J_+0|0,m0=_c+36|0;do l[_c>>2]=l[_m>>2],_c=_c+4|0,_m=_m+4|0;while((_c|0)<(m0|0));Ya=+_e[d0+56>>2],V0=+J2(+Ya),_e[d0+20>>2]=V0,Ya=+B2(+Ya),_e[d0+24>>2]=Ya,y0=+_e[d0+28>>2],c0=+_e[d0+32>>2],_a=+(+_e[d0+44>>2]-(Ya*y0-V0*c0)),c0=+(+_e[d0+48>>2]-(V0*y0+Ya*c0)),k2=d0+12|0,_e[k2>>2]=_a,_e[k2+4>>2]=c0;break}if(l[l1>>2]=_m|1,CJ(D_,yS),_m=o_[_c>>1]|0,_m&1)break;_r[_c>>1]=_m|1;do if(l[d0>>2]|0){if(_m&2)break;_r[_c>>1]=_m|3,_e[d0+144>>2]=0}while(!1);UM(D_,d0)}while(!1);w0=l[w0+12>>2]|0}while(w0|0)}while(!1);if((Py|0)>=2)break;_c=l[A_+(Py<<2)>>2]|0,Py=Py+1|0}if(wA=(1-wA)*_t,A0=1/wA,Py=l[Ey+8>>2]|0,Ey=l[xy+8>>2]|0,w0=l[A1>>2]|0,(w0|0)<=(Py|0)){F_=295;break}if((w0|0)<=(Ey|0)){F_=300;break}if(xy=(w0|0)>0,xy){m0=l[H0>>2]|0,_m=l[ey>>2]|0,_c=l[_p>>2]|0,d0=0;do k2=l[m0+(d0<<2)>>2]|0,Wy=k2+44|0,WA=l[Wy+4>>2]|0,zA=_m+(d0*12|0)|0,l[zA>>2]=l[Wy>>2],l[zA+4>>2]=WA,_e[_m+(d0*12|0)+8>>2]=+_e[k2+56>>2],zA=k2+64|0,WA=l[zA+4>>2]|0,Wy=_c+(d0*12|0)|0,l[Wy>>2]=l[zA>>2],l[Wy+4>>2]=WA,_e[_c+(d0*12|0)+8>>2]=+_e[k2+72>>2],d0=d0+1|0;while((d0|0)<(w0|0))}else _m=l[ey>>2]|0,_c=l[_p>>2]|0;l[I0>>2]=l[a0>>2],l[C0>>2]=l[by>>2],l[v0>>2]=l[D_>>2],_e[M_>>2]=wA,_e[n0>>2]=A0,_e[Na>>2]=1,l[j2>>2]=_i,l[C2>>2]=20,_o[y2>>0]=0,_o[F2+0>>0]=_o[R_+0>>0]|0,_o[F2+1>>0]=_o[R_+1>>0]|0,_o[F2+2>>0]=_o[R_+2>>0]|0,l[N2>>2]=_m,l[P2>>2]=_c,bI(V_,M_),w0=l[E2>>2]|0,d0=(w0|0)>0,ty=l[H2>>2]|0,i1=l[d2>>2]|0,m0=0;do{if(d0){l1=0,_S=0;do{if(hD=ty+(l1*88|0)|0,w1=l[ty+(l1*88|0)+32>>2]|0,eB=l[ty+(l1*88|0)+36>>2]|0,PC=ty+(l1*88|0)+48|0,u1=+_e[PC>>2],IA=+_e[PC+4>>2],PC=ty+(l1*88|0)+56|0,sy=+_e[PC>>2],C1=+_e[PC+4>>2],PC=l[ty+(l1*88|0)+84>>2]|0,(w1|0)==(Py|0)|(w1|0)==(Ey|0)?(A0=+_e[ty+(l1*88|0)+64>>2],p1=+_e[ty+(l1*88|0)+40>>2]):(A0=0,p1=0),(eB|0)==(Py|0)|(eB|0)==(Ey|0)?(Ty=+_e[ty+(l1*88|0)+68>>2],JA=+_e[ty+(l1*88|0)+44>>2]):(Ty=0,JA=0),yS=i1+(w1*12|0)|0,KB=yS,X1=+_e[KB>>2],sA=+_e[KB+4>>2],KB=i1+(w1*12|0)+8|0,_A=+_e[KB>>2],w1=i1+(eB*12|0)|0,k2=w1,kA=+_e[k2>>2],jA=+_e[k2+4>>2],eB=i1+(eB*12|0)+8|0,TA=+_e[eB>>2],(PC|0)>0){BC=p1+JA,AP=0;do B1=+J2(+_A),_e[A2>>2]=B1,_y=+B2(+_A),_e[c2>>2]=_y,P1=+J2(+TA),_e[r2>>2]=P1,I1=+B2(+TA),_e[_s>>2]=I1,RS=+(X1-(u1*_y-IA*B1)),B1=+(sA-(IA*_y+u1*B1)),k2=l_,_e[k2>>2]=RS,_e[k2+4>>2]=B1,B1=+(kA-(sy*I1-C1*P1)),P1=+(jA-(C1*I1+sy*P1)),k2=u_,_e[k2>>2]=B1,_e[k2+4>>2]=P1,dI(x_,hD,l_,u_,AP),k2=x_,P1=+_e[k2>>2],B1=+_e[k2+4>>2],k2=f2,I1=+_e[k2>>2],RS=+_e[k2+4>>2],_y=+_e[x2>>2],iC=I1-X1,dS=RS-sA,I1=I1-kA,RS=RS-jA,_S=_S<_y?_S:_y,_y=(_y+.004999999888241291)*.75,_y=_y<0?_y:0,py=B1*iC-P1*dS,c0=B1*I1-P1*RS,py=c0*Ty*c0+(BC+py*A0*py),py>0?_y=-(_y<-.20000000298023224?-.20000000298023224:_y)/py:_y=0,c0=P1*_y,_a=B1*_y,X1=X1-p1*c0,sA=sA-p1*_a,_A=_A-A0*(iC*_a-dS*c0),kA=kA+JA*c0,jA=jA+JA*_a,TA=TA+Ty*(I1*_a-RS*c0),AP=AP+1|0;while((AP|0)!=(PC|0))}c0=+X1,_a=+sA,k2=yS,_e[k2>>2]=c0,_e[k2+4>>2]=_a,_e[KB>>2]=_A,_a=+kA,c0=+jA,k2=w1,_e[k2>>2]=_a,_e[k2+4>>2]=c0,_e[eB>>2]=TA,l1=l1+1|0}while((l1|0)<(w0|0))}else _S=0;m0=m0+1|0}while(!(_S>=-.007499999832361937)&(m0|0)<20);if(k2=l[H0>>2]|0,zA=k2+(Py<<2)|0,oB=_m+(Py*12|0)|0,Wy=l[oB+4>>2]|0,WA=(l[zA>>2]|0)+36|0,l[WA>>2]=l[oB>>2],l[WA+4>>2]=Wy,_e[(l[zA>>2]|0)+52>>2]=+_e[_m+(Py*12|0)+8>>2],k2=k2+(Ey<<2)|0,zA=_m+(Ey*12|0)|0,WA=l[zA+4>>2]|0,Wy=(l[k2>>2]|0)+36|0,l[Wy>>2]=l[zA>>2],l[Wy+4>>2]=WA,_e[(l[k2>>2]|0)+52>>2]=+_e[_m+(Ey*12|0)+8>>2],uI(V_),bT){Py=0;do hI(V_),Py=Py+1|0;while((Py|0)<(_i|0))}if(xy){Py=0;do xy=_m+(Py*12|0)|0,k2=xy,Ty=+_e[k2>>2],A0=+_e[k2+4>>2],JA=+_e[_m+(Py*12|0)+8>>2],k2=_c+(Py*12|0)|0,u1=+_e[k2>>2],p1=+_e[k2+4>>2],C1=+_e[_c+(Py*12|0)+8>>2],c0=wA*u1,sy=wA*p1,sy=c0*c0+sy*sy,sy>4&&(c0=2/+V2(+sy),u1=u1*c0,p1=p1*c0),sy=wA*C1,sy*sy>2.4674012660980225&&(sy>0||(sy=-sy),C1=C1*(1.5707963705062866/sy)),_a=Ty+wA*u1,_h=A0+wA*p1,Ya=JA+wA*C1,Ry=+_a,c0=+_h,_m=xy,_e[_m>>2]=Ry,_e[_m+4>>2]=c0,_m=l[ey>>2]|0,_e[_m+(Py*12|0)+8>>2]=Ya,_c=l[_p>>2]|0,y0=+u1,V0=+p1,k2=_c+(Py*12|0)|0,_e[k2>>2]=y0,_e[k2+4>>2]=V0,_e[_c+(Py*12|0)+8>>2]=C1,k2=l[(l[H0>>2]|0)+(Py<<2)>>2]|0,Wy=k2+44|0,_e[Wy>>2]=Ry,_e[Wy+4>>2]=c0,_e[k2+56>>2]=Ya,Wy=k2+64|0,_e[Wy>>2]=y0,_e[Wy+4>>2]=V0,_e[k2+72>>2]=C1,V0=+J2(+Ya),_e[k2+20>>2]=V0,Ya=+B2(+Ya),_e[k2+24>>2]=Ya,y0=+_e[k2+28>>2],c0=+_e[k2+32>>2],_a=+(_a-(Ya*y0-V0*c0)),c0=+(_h-(V0*y0+Ya*c0)),k2=k2+12|0,_e[k2>>2]=_a,_e[k2+4>>2]=c0,Py=Py+1|0;while((Py|0)<(l[A1>>2]|0))}if(k2=l[RC>>2]|0,jI(D_,k2),Ey=l[w2>>2]|0,AB(Ey,k2),AB(Ey,l[H2>>2]|0),Ey=l[A1>>2]|0,(Ey|0)>0){xy=l[H0>>2]|0,Py=0;do{_c=l[xy+(Py<<2)>>2]|0,k2=_c+4|0,_r[k2>>1]=o_[k2>>1]&65534;do if((l[_c>>2]|0)==2){if(JI(_c),_c=l[_c+112>>2]|0,!_c)break;do k2=(l[_c+4>>2]|0)+4|0,l[k2>>2]=l[k2>>2]&-34,_c=l[_c+12>>2]|0;while(_c|0)}while(!1);Py=Py+1|0}while((Py|0)<(Ey|0))}if(dJ(O_),_o[S2>>0]|0){F_=332;break}}switch(F_|0){case 158:{Y2(11752,11552,641,11808);break}case 163:{Y2(11824,12336,704,12376);break}case 167:{Y2(11824,12336,704,12376);break}case 170:{Y2(11824,11552,676,11808);break}case 172:{Y2(6696,6720,279,6768);break}case 177:{Y2(6920,6720,52,16752);break}case 180:{Y2(6800,6832,103,6880);break}case 182:{Y2(6800,6832,103,6880);break}case 187:{Y2(6800,6832,103,6880);break}case 189:{Y2(6800,6832,103,6880);break}case 193:{Y2(6800,6832,103,6880);break}case 197:{Y2(6800,6832,103,6880);break}case 199:{Y2(6800,6832,103,6880);break}case 203:{Y2(6800,6832,103,6880);break}case 214:{Y2(6800,6832,103,6880);break}case 216:{Y2(6800,6832,103,6880);break}case 223:{Y2(6800,6832,103,6880);break}case 230:{Y2(6800,6832,103,6880);break}case 232:{Y2(15688,6720,186,6896);break}case 255:{_o[b2>>0]=1;break}case 257:{Y2(11824,12336,704,12376);break}case 259:{Y2(11824,12336,704,12376);break}case 280:{Y2(11824,12336,704,12376);break}case 295:{Y2(11432,11456,386,11808);break}case 300:{Y2(11504,11456,387,11808);break}case 332:{_o[b2>>0]=0;break}}kI(D_),_e[_+103024>>2]=0,F_=334}}else F_=334;if((F_|0)==334&&t2&&(_e[s2>>2]=e2),__=l[n_>>2]|0,!(__&4)){k2=__&-3,l[n_>>2]=k2,k2=_+102996|0,_e[k2>>2]=0,ws=t_;return}if(l_=l[_+102952>>2]|0,!l_){k2=__&-3,l[n_>>2]=k2,k2=_+102996|0,_e[k2>>2]=0,ws=t_;return}do _e[l_+76>>2]=0,_e[l_+80>>2]=0,_e[l_+84>>2]=0,l_=l[l_+96>>2]|0;while(l_|0);k2=__&-3,l[n_>>2]=k2,k2=_+102996|0,_e[k2>>2]=0,ws=t_}function sD(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0;if(t_=ws,ws=ws+112|0,g_=t_+16|0,A_=t_+88|0,x_=t_+96|0,u_=t_+104|0,n_=t_+8|0,__=t_,l_=t_+24|0,V_=l[_t+4>>2]|0,(V_|0)==3){if(l_=l[_t+16>>2]|0,x_=l[_t+12>>2]|0,_t=_i+12|0,f_=+_e[_t>>2],P_=+_e[x_>>2],g_=_i+8|0,J_=+_e[g_>>2],D_=+_e[x_+4>>2],M_=+_e[_i>>2],A_=_i+4|0,R_=+_e[A_>>2],_e[n_>>2]=M_+(f_*P_-J_*D_),_e[n_+4>>2]=P_*J_+f_*D_+R_,(l_|0)<=1){ws=t_;return}for(u_=__+4|0,_=_+102984|0,V_=1;D_=+_e[x_+(V_<<3)>>2],P_=+_e[x_+(V_<<3)+4>>2],_e[__>>2]=M_+(f_*D_-J_*P_),_e[u_>>2]=D_*J_+f_*P_+R_,e2=l[_>>2]|0,_g[l[(l[e2>>2]|0)+24>>2]&63](e2,n_,__,_s),e2=l[_>>2]|0,MJ[l[(l[e2>>2]|0)+16>>2]&63](e2,n_,.05000000074505806,_s),e2=__,t2=l[e2+4>>2]|0,F_=n_,l[F_>>2]=l[e2>>2],l[F_+4>>2]=t2,V_=V_+1|0,(V_|0)!=(l_|0);)f_=+_e[_t>>2],J_=+_e[g_>>2],M_=+_e[_i>>2],R_=+_e[A_>>2];ws=t_;return}else if(V_)if((V_|0)==2){if(n_=l[_t+148>>2]|0,(n_|0)>=9&&Y2(11840,11552,1077,11864),(n_|0)>0){__=_t+20|0,J_=+_e[_i+12>>2],R_=+_e[_i+8>>2],f_=+_e[_i>>2],M_=+_e[_i+4>>2],_i=0;do O_=+_e[__+(_i<<3)>>2],P_=+_e[__+(_i<<3)+4>>2],D_=+(f_+(J_*O_-R_*P_)),P_=+(O_*R_+J_*P_+M_),e2=l_+(_i<<3)|0,_e[e2>>2]=D_,_e[e2+4>>2]=P_,_i=_i+1|0;while((_i|0)!=(n_|0))}e2=l[_+102984>>2]|0,_g[l[(l[e2>>2]|0)+12>>2]&63](e2,l_,n_,_s),ws=t_;return}else if((V_|0)==1){D_=+_e[_i+12>>2],P_=+_e[_t+12>>2],M_=+_e[_i+8>>2],R_=+_e[_t+16>>2],J_=+_e[_i>>2],O_=+_e[_i+4>>2],_e[x_>>2]=J_+(D_*P_-M_*R_),_e[x_+4>>2]=P_*M_+D_*R_+O_,e2=_t+20|0,R_=+_e[e2>>2],P_=+_e[e2+4>>2],_e[u_>>2]=J_+(D_*R_-M_*P_),_e[u_+4>>2]=R_*M_+D_*P_+O_,e2=l[_+102984>>2]|0,_g[l[(l[e2>>2]|0)+24>>2]&63](e2,x_,u_,_s),ws=t_;return}else{ws=t_;return}else{D_=+_e[_i+12>>2],J_=+_e[_t+12>>2],M_=+_e[_i+8>>2],R_=+_e[_t+16>>2],P_=J_*M_+D_*R_+ +_e[_i+4>>2],_e[g_>>2]=+_e[_i>>2]+(D_*J_-M_*R_),_e[g_+4>>2]=P_,P_=+_e[_t+8>>2],_e[A_>>2]=D_-M_*0,_e[A_+4>>2]=M_+D_*0,e2=l[_+102984>>2]|0,DJ[l[(l[e2>>2]|0)+20>>2]&63](e2,g_,P_,A_,_s),ws=t_;return}}function AZ(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;return _=ws,_s=_r[_t+36>>1]|0,!(_s<<16>>16)||_s<<16>>16!=(_r[_i+36>>1]|0)?(_r[_i+32>>1]&_r[_t+34>>1])<<16>>16?(_s=(_r[_i+34>>1]&_r[_t+32>>1])<<16>>16!=0,ws=_,_s|0):(_s=0,ws=_,_s|0):(_s=_s<<16>>16>0,ws=_,_s|0)}function SZ(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0;if(n_=ws,t_=bA(t_,148)|0,!t_)return __=0,ws=n_,__|0;l[t_+4>>2]=4,l[t_+48>>2]=_,l[t_+52>>2]=_i,l[t_+56>>2]=_t,l[t_+60>>2]=_s,l[t_+124>>2]=0,l[t_+128>>2]=0,_s=_+16|0,__=t_+8|0,_t=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_t|0));if(_e[t_+136>>2]=+V2(+(+_e[_s>>2]*+_e[_i+16>>2])),u_=+_e[_+20>>2],l_=+_e[_i+20>>2],_e[t_+140>>2]=u_>l_?u_:l_,_e[t_+144>>2]=0,l[t_>>2]=12600,(l[(l[_+12>>2]|0)+4>>2]|0)!=3&&Y2(12808,12616,42,12688),l[(l[_i+12>>2]|0)+4>>2]|0)Y2(14416,12616,43,12688);else return __=t_,ws=n_,__|0;return 0}function CZ(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,ry[l[(l[_>>2]|0)+4>>2]&127](_),PA(_t,_,148),ws=_i}function BZ(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0;t_=ws,ws=ws+48|0,n_=t_,__=l[(l[_+48>>2]|0)+12>>2]|0,l[n_>>2]=7472,l[n_+4>>2]=1,_e[n_+8>>2]=.009999999776482582,l_=n_+28|0,l[l_+0>>2]=0,l[l_+4>>2]=0,l[l_+8>>2]=0,l[l_+12>>2]=0,_r[l_+16>>1]=0,hJ(__,n_,l[_+56>>2]|0),xI(_t,n_,_i,l[(l[_+52>>2]|0)+12>>2]|0,_s),ws=t_}function PZ(_){_=_|0}function wZ(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function VZ(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0;if(n_=ws,t_=bA(t_,148)|0,!t_)return __=0,ws=n_,__|0;l[t_+4>>2]=4,l[t_+48>>2]=_,l[t_+52>>2]=_i,l[t_+56>>2]=_t,l[t_+60>>2]=_s,l[t_+124>>2]=0,l[t_+128>>2]=0,_s=_+16|0,__=t_+8|0,_t=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_t|0));return _e[t_+136>>2]=+V2(+(+_e[_s>>2]*+_e[_i+16>>2])),u_=+_e[_+20>>2],l_=+_e[_i+20>>2],_e[t_+140>>2]=u_>l_?u_:l_,_e[t_+144>>2]=0,l[t_>>2]=12792,(l[(l[_+12>>2]|0)+4>>2]|0)!=3&&Y2(12808,12856,42,12928),(l[(l[_i+12>>2]|0)+4>>2]|0)==2?(__=t_,ws=n_,__|0):(Y2(14672,12856,43,12928),0)}function DZ(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,ry[l[(l[_>>2]|0)+4>>2]&127](_),PA(_t,_,148),ws=_i}function MZ(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0;t_=ws,ws=ws+48|0,n_=t_,__=l[(l[_+48>>2]|0)+12>>2]|0,l[n_>>2]=7472,l[n_+4>>2]=1,_e[n_+8>>2]=.009999999776482582,l_=n_+28|0,l[l_+0>>2]=0,l[l_+4>>2]=0,l[l_+8>>2]=0,l[l_+12>>2]=0,_r[l_+16>>1]=0,hJ(__,n_,l[_+56>>2]|0),fI(_t,n_,_i,l[(l[_+52>>2]|0)+12>>2]|0,_s),ws=t_}function GZ(_){_=_|0}function JZ(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function IZ(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0;if(_t=ws,t_=bA(t_,148)|0,!t_)return __=0,ws=_t,__|0;l[t_+4>>2]=4,l[t_+48>>2]=_,l[t_+52>>2]=_i,l[t_+56>>2]=0,l[t_+60>>2]=0,l[t_+124>>2]=0,l[t_+128>>2]=0,n_=_+16|0,__=t_+8|0,_s=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_s|0));if(_e[t_+136>>2]=+V2(+(+_e[n_>>2]*+_e[_i+16>>2])),u_=+_e[_+20>>2],l_=+_e[_i+20>>2],_e[t_+140>>2]=u_>l_?u_:l_,_e[t_+144>>2]=0,l[t_>>2]=13016,l[(l[_+12>>2]|0)+4>>2]|0&&Y2(13032,13080,43,13144),l[(l[_i+12>>2]|0)+4>>2]|0)Y2(14416,13080,44,13144);else return __=t_,ws=_t,__|0;return 0}function TZ(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,ry[l[(l[_>>2]|0)+4>>2]&127](_),PA(_t,_,148),ws=_i}function RZ(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0;if(t_=ws,g_=l[(l[_+48>>2]|0)+12>>2]|0,A_=l[(l[_+52>>2]|0)+12>>2]|0,n_=_t+60|0,l[n_>>2]=0,_=g_+12|0,l_=+_e[_i+12>>2],J_=+_e[_>>2],f_=+_e[_i+8>>2],u_=+_e[g_+16>>2],__=A_+12|0,M_=+_e[_s+12>>2],D_=+_e[__>>2],V_=+_e[_s+8>>2],R_=+_e[A_+16>>2],x_=+_e[_s>>2]+(M_*D_-V_*R_)-(+_e[_i>>2]+(l_*J_-f_*u_)),u_=D_*V_+M_*R_+ +_e[_s+4>>2]-(J_*f_+l_*u_+ +_e[_i+4>>2]),l_=+_e[g_+8>>2]+ +_e[A_+8>>2],x_*x_+u_*u_>l_*l_){ws=t_;return}l[_t+56>>2]=0,g_=l[_+4>>2]|0,A_=_t+48|0,l[A_>>2]=l[_>>2],l[A_+4>>2]=g_,_e[_t+40>>2]=0,_e[_t+44>>2]=0,l[n_>>2]=1,A_=l[__+4>>2]|0,g_=_t,l[g_>>2]=l[__>>2],l[g_+4>>2]=A_,l[_t+16>>2]=0,ws=t_}function FZ(_){_=_|0}function LZ(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function bJ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0;_s=ws,ws=ws+192|0,A_=_s+100|0,f_=_s+88|0,x_=_s+64|0,_i=_s,g_=_+64|0,t_=_i+0|0,__=g_+0|0,n_=t_+64|0;do l[t_>>2]=l[__>>2],t_=t_+4|0,__=__+4|0;while((t_|0)<(n_|0));if(n_=_+4|0,u_=l[n_>>2]|0,l[n_>>2]=u_|4,u_=u_>>>1,J_=l[_+48>>2]|0,R_=l[_+52>>2]|0,t_=(_o[R_+38>>0]|_o[J_+38>>0])<<24>>24!=0,l_=l[J_+8>>2]|0,__=l[R_+8>>2]|0,M_=l_+12|0,V_=__+12|0,t_)J_=l[J_+12>>2]|0,D_=l[R_+12>>2]|0,R_=l[_+56>>2]|0,P_=l[_+60>>2]|0,l[A_+16>>2]=0,l[A_+20>>2]=0,_e[A_+24>>2]=0,l[A_+44>>2]=0,l[A_+48>>2]=0,_e[A_+52>>2]=0,OM(A_,J_,R_),OM(A_+28|0,D_,P_),P_=A_+56|0,l[P_+0>>2]=l[M_+0>>2],l[P_+4>>2]=l[M_+4>>2],l[P_+8>>2]=l[M_+8>>2],l[P_+12>>2]=l[M_+12>>2],P_=A_+72|0,l[P_+0>>2]=l[V_+0>>2],l[P_+4>>2]=l[V_+4>>2],l[P_+8>>2]=l[V_+8>>2],l[P_+12>>2]=l[V_+12>>2],_o[A_+88>>0]=1,_r[f_+4>>1]=0,vI(x_,f_,A_),x_=+_e[x_+16>>2]<11920928955078125e-22,l[_+124>>2]=0,u_=u_&1;else{if(_g[l[l[_>>2]>>2]&63](_,g_,M_,V_),R_=_+124|0,x_=(l[R_>>2]|0)>0,x_){V_=l[_i+60>>2]|0,D_=(V_|0)>0,J_=0;do{f_=_+(J_*20|0)+72|0,_e[f_>>2]=0,g_=_+(J_*20|0)+76|0,_e[g_>>2]=0,A_=l[_+(J_*20|0)+80>>2]|0;t:do if(D_){for(P_=0;M_=P_+1|0,(l[_i+(P_*20|0)+16>>2]|0)!=(A_|0);)if((M_|0)<(V_|0))P_=M_;else break t;_e[f_>>2]=+_e[_i+(P_*20|0)+8>>2],_e[g_>>2]=+_e[_i+(P_*20|0)+12>>2]}while(!1);J_=J_+1|0}while((J_|0)<(l[R_>>2]|0))}u_=u_&1,x_^(u_|0)!=0&&(g_=l_+4|0,A_=o_[g_>>1]|0,A_&2||(_r[g_>>1]=A_|2,_e[l_+144>>2]=0),A_=__+4|0,l_=o_[A_>>1]|0,l_&2||(_r[A_>>1]=l_|2,_e[__+144>>2]=0))}if(__=l[n_>>2]|0,l[n_>>2]=x_?__|2:__&-3,n_=(u_|0)==0,__=x_^1,l_=(_t|0)==0,n_^1|__|l_||yy[l[(l[_t>>2]|0)+8>>2]&127](_t,_),n_|x_|l_||yy[l[(l[_t>>2]|0)+12>>2]&127](_t,_),t_|__|l_){ws=_s;return}lD[l[(l[_t>>2]|0)+16>>2]&63](_t,_,_i),ws=_s}function bI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0;if(_i=ws,l[_+0>>2]=l[_t+0>>2],l[_+4>>2]=l[_t+4>>2],l[_+8>>2]=l[_t+8>>2],l[_+12>>2]=l[_t+12>>2],l[_+16>>2]=l[_t+16>>2],l[_+20>>2]=l[_t+20>>2],J_=l[_t+40>>2]|0,u_=_+32|0,l[u_>>2]=J_,_s=l[_t+28>>2]|0,n_=_+48|0,l[n_>>2]=_s,t_=_+36|0,l[t_>>2]=fP(J_,_s*88|0)|0,_s=_+40|0,l[_s>>2]=fP(l[u_>>2]|0,(l[n_>>2]|0)*156|0)|0,l[_+24>>2]=l[_t+32>>2],l[_+28>>2]=l[_t+36>>2],u_=l[_t+24>>2]|0,_t=_+44|0,l[_t>>2]=u_,(l[n_>>2]|0)<=0){ws=_i;return}for(__=_+20|0,_=_+8|0,l_=0;;){if(x_=l[u_+(l_<<2)>>2]|0,A_=l[x_+48>>2]|0,g_=l[x_+52>>2]|0,J_=l[A_+8>>2]|0,f_=l[g_+8>>2]|0,u_=l[x_+124>>2]|0,(u_|0)<=0){_s=4;break}R_=+_e[(l[g_+12>>2]|0)+8>>2],M_=+_e[(l[A_+12>>2]|0)+8>>2],g_=l[_s>>2]|0,_e[g_+(l_*156|0)+136>>2]=+_e[x_+136>>2],_e[g_+(l_*156|0)+140>>2]=+_e[x_+140>>2],_e[g_+(l_*156|0)+144>>2]=+_e[x_+144>>2],e2=J_+8|0,l[g_+(l_*156|0)+112>>2]=l[e2>>2],t2=f_+8|0,l[g_+(l_*156|0)+116>>2]=l[t2>>2],P_=J_+120|0,_e[g_+(l_*156|0)+120>>2]=+_e[P_>>2],F_=f_+120|0,_e[g_+(l_*156|0)+124>>2]=+_e[F_>>2],D_=J_+128|0,_e[g_+(l_*156|0)+128>>2]=+_e[D_>>2],V_=f_+128|0,_e[g_+(l_*156|0)+132>>2]=+_e[V_>>2],l[g_+(l_*156|0)+152>>2]=l_,l[g_+(l_*156|0)+148>>2]=u_,A_=g_+(l_*156|0)+80|0,l[A_+0>>2]=0,l[A_+4>>2]=0,l[A_+8>>2]=0,l[A_+12>>2]=0,l[A_+16>>2]=0,l[A_+20>>2]=0,l[A_+24>>2]=0,l[A_+28>>2]=0,A_=l[t_>>2]|0,l[A_+(l_*88|0)+32>>2]=l[e2>>2],l[A_+(l_*88|0)+36>>2]=l[t2>>2],_e[A_+(l_*88|0)+40>>2]=+_e[P_>>2],_e[A_+(l_*88|0)+44>>2]=+_e[F_>>2],F_=J_+28|0,J_=l[F_+4>>2]|0,P_=A_+(l_*88|0)+48|0,l[P_>>2]=l[F_>>2],l[P_+4>>2]=J_,P_=f_+28|0,J_=l[P_+4>>2]|0,f_=A_+(l_*88|0)+56|0,l[f_>>2]=l[P_>>2],l[f_+4>>2]=J_,_e[A_+(l_*88|0)+64>>2]=+_e[D_>>2],_e[A_+(l_*88|0)+68>>2]=+_e[V_>>2],f_=x_+104|0,J_=l[f_+4>>2]|0,V_=A_+(l_*88|0)+16|0,l[V_>>2]=l[f_>>2],l[V_+4>>2]=J_,V_=x_+112|0,J_=l[V_+4>>2]|0,f_=A_+(l_*88|0)+24|0,l[f_>>2]=l[V_>>2],l[f_+4>>2]=J_,l[A_+(l_*88|0)+84>>2]=u_,_e[A_+(l_*88|0)+76>>2]=M_,_e[A_+(l_*88|0)+80>>2]=R_,l[A_+(l_*88|0)+72>>2]=l[x_+120>>2],f_=0;do J_=x_+(f_*20|0)+64|0,_o[__>>0]|0?(_e[g_+(l_*156|0)+(f_*36|0)+16>>2]=+_e[_>>2]*+_e[x_+(f_*20|0)+72>>2],_e[g_+(l_*156|0)+(f_*36|0)+20>>2]=+_e[_>>2]*+_e[x_+(f_*20|0)+76>>2]):(_e[g_+(l_*156|0)+(f_*36|0)+16>>2]=0,_e[g_+(l_*156|0)+(f_*36|0)+20>>2]=0),F_=g_+(l_*156|0)+(f_*36|0)|0,_e[g_+(l_*156|0)+(f_*36|0)+24>>2]=0,_e[g_+(l_*156|0)+(f_*36|0)+28>>2]=0,_e[g_+(l_*156|0)+(f_*36|0)+32>>2]=0,e2=A_+(l_*88|0)+(f_<<3)|0,l[F_+0>>2]=0,l[F_+4>>2]=0,l[F_+8>>2]=0,l[F_+12>>2]=0,F_=J_,t2=l[F_+4>>2]|0,l[e2>>2]=l[F_>>2],l[e2+4>>2]=t2,f_=f_+1|0;while((f_|0)!=(u_|0));if(l_=l_+1|0,(l_|0)>=(l[n_>>2]|0)){_s=12;break}u_=l[_t>>2]|0}if((_s|0)==4)Y2(13624,13640,73,13704);else if((_s|0)==12){ws=_i;return}}function uI(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0,Na=0,n0=0,v0=0,C0=0,I0=0,a0=0;if(_t=ws,ws=ws+32|0,_s=_t,_i=_+48|0,(l[_i>>2]|0)<=0){ws=_t;return}for(__=_+40|0,n_=_+36|0,l_=_+44|0,t_=_+24|0,A_=_+28|0,_=_s+4|0,f_=_s+8|0,x_=_s+24|0,u_=0;;){if(g_=l[__>>2]|0,F2=l[n_>>2]|0,w2=l[(l[l_>>2]|0)+(l[g_+(u_*156|0)+152>>2]<<2)>>2]|0,C2=l[g_+(u_*156|0)+112>>2]|0,h2=l[g_+(u_*156|0)+116>>2]|0,v2=+_e[g_+(u_*156|0)+120>>2],b2=+_e[g_+(u_*156|0)+124>>2],J_=+_e[g_+(u_*156|0)+128>>2],R_=+_e[g_+(u_*156|0)+132>>2],j2=F2+(u_*88|0)+48|0,P2=+_e[j2>>2],H2=+_e[j2+4>>2],j2=F2+(u_*88|0)+56|0,d2=+_e[j2>>2],N2=+_e[j2+4>>2],j2=l[t_>>2]|0,Na=j2+(C2*12|0)|0,t2=+_e[Na>>2],e2=+_e[Na+4>>2],r2=+_e[j2+(C2*12|0)+8>>2],Na=l[A_>>2]|0,y2=Na+(C2*12|0)|0,V_=+_e[y2>>2],F_=+_e[y2+4>>2],D_=+_e[Na+(C2*12|0)+8>>2],C2=j2+(h2*12|0)|0,O_=+_e[C2>>2],Q_=+_e[C2+4>>2],x2=+_e[j2+(h2*12|0)+8>>2],j2=Na+(h2*12|0)|0,s2=+_e[j2>>2],P_=+_e[j2+4>>2],M_=+_e[Na+(h2*12|0)+8>>2],h2=l[w2+124>>2]|0,(h2|0)<=0){_i=4;break}f2=+_e[F2+(u_*88|0)+80>>2],S2=+_e[F2+(u_*88|0)+76>>2],c2=+J2(+r2),A2=+B2(+r2),r2=+J2(+x2),x2=+B2(+x2),E2=t2-(P2*A2-H2*c2),P2=e2-(H2*A2+P2*c2),H2=O_-(d2*x2-N2*r2),d2=Q_-(N2*x2+d2*r2),F2=l[w2+120>>2]|0;t:do if(!F2)_e[_s>>2]=1,_e[_>>2]=0,n0=+_e[w2+112>>2],N2=+_e[w2+116>>2],E2=E2+(A2*n0-c2*N2),c2=n0*c2+A2*N2+P2,N2=+_e[w2+64>>2],P2=+_e[w2+68>>2],A2=H2+(x2*N2-r2*P2),r2=N2*r2+x2*P2+d2,P2=E2-A2,N2=c2-r2,P2*P2+N2*N2>14210854715202004e-30?(d2=A2-E2,x2=r2-c2,n0=+d2,H2=+x2,Na=_s,_e[Na>>2]=n0,_e[Na+4>>2]=H2,H2=+V2(+(d2*d2+x2*x2)),H2<11920928955078125e-23||(n0=1/H2,d2=d2*n0,_e[_s>>2]=d2,x2=x2*n0,_e[_>>2]=x2)):(d2=1,x2=0),P2=E2+d2*S2,n0=c2+x2*S2,E2=A2-d2*f2,N2=r2-x2*f2,A2=+((P2+E2)*.5),H2=+((n0+N2)*.5),Na=f_,_e[Na>>2]=A2,_e[Na+4>>2]=H2,_e[x_>>2]=d2*(E2-P2)+x2*(N2-n0);else if((F2|0)==2){v0=+_e[w2+104>>2],n0=+_e[w2+108>>2],N2=x2*v0-r2*n0,n0=v0*r2+x2*n0,v0=+N2,C0=+n0,F2=_s,_e[F2>>2]=v0,_e[F2+4>>2]=C0,C0=+_e[w2+112>>2],v0=+_e[w2+116>>2],H2=H2+(x2*C0-r2*v0),d2=C0*r2+x2*v0+d2,x2=N2,r2=n0,F2=0;do C0=+_e[w2+(F2*20|0)+64>>2],v0=+_e[w2+(F2*20|0)+68>>2],N2=E2+(A2*C0-c2*v0),v0=C0*c2+A2*v0+P2,C0=f2-(x2*(N2-H2)+(v0-d2)*r2),n0=N2+x2*C0,C0=v0+r2*C0,N2=N2-x2*S2,v0=v0-r2*S2,a0=+((N2+n0)*.5),I0=+((v0+C0)*.5),Na=_s+(F2<<3)+8|0,_e[Na>>2]=a0,_e[Na+4>>2]=I0,_e[_s+(F2<<2)+24>>2]=+_e[_s>>2]*(N2-n0)+ +_e[_>>2]*(v0-C0),F2=F2+1|0,x2=+_e[_s>>2],r2=+_e[_>>2];while((F2|0)<(h2|0));I0=+-x2,a0=+-r2,Na=_s,_e[Na>>2]=I0,_e[Na+4>>2]=a0}else if((F2|0)==1)for(C0=+_e[w2+104>>2],a0=+_e[w2+108>>2],I0=A2*C0-c2*a0,a0=C0*c2+A2*a0,C0=+I0,v0=+a0,F2=_s,_e[F2>>2]=C0,_e[F2+4>>2]=v0,v0=+_e[w2+112>>2],C0=+_e[w2+116>>2],E2=E2+(A2*v0-c2*C0),c2=v0*c2+A2*C0+P2,P2=I0,A2=a0,F2=0;;){if(a0=+_e[w2+(F2*20|0)+64>>2],I0=+_e[w2+(F2*20|0)+68>>2],v0=H2+(x2*a0-r2*I0),I0=a0*r2+x2*I0+d2,a0=S2-(P2*(v0-E2)+(I0-c2)*A2),C0=v0+P2*a0,a0=I0+A2*a0,v0=v0-P2*f2,I0=I0-A2*f2,N2=+((v0+C0)*.5),n0=+((I0+a0)*.5),Na=_s+(F2<<3)+8|0,_e[Na>>2]=N2,_e[Na+4>>2]=n0,_e[_s+(F2<<2)+24>>2]=+_e[_s>>2]*(v0-C0)+ +_e[_>>2]*(I0-a0),F2=F2+1|0,(F2|0)>=(h2|0))break t;P2=+_e[_s>>2],A2=+_e[_>>2]}while(!1);h2=g_+(u_*156|0)+72|0,Na=_s,F2=l[Na+4>>2]|0,w2=h2,l[w2>>2]=l[Na>>2],l[w2+4>>2]=F2,w2=g_+(u_*156|0)+148|0,F2=l[w2>>2]|0;do if((F2|0)>0){y2=g_+(u_*156|0)+76|0,b2=v2+b2,C2=g_+(u_*156|0)+140|0,j2=0;do r2=+_e[_s+(j2<<3)+8>>2],f2=r2-t2,I0=+_e[_s+(j2<<3)+12>>2],x2=+f2,S2=+(I0-e2),Na=g_+(u_*156|0)+(j2*36|0)|0,_e[Na>>2]=x2,_e[Na+4>>2]=S2,r2=r2-O_,S2=+r2,I0=+(I0-Q_),Na=g_+(u_*156|0)+(j2*36|0)+8|0,_e[Na>>2]=S2,_e[Na+4>>2]=I0,I0=+_e[y2>>2],S2=+_e[g_+(u_*156|0)+(j2*36|0)+4>>2],x2=+_e[h2>>2],a0=f2*I0-S2*x2,v2=+_e[g_+(u_*156|0)+(j2*36|0)+12>>2],x2=I0*r2-x2*v2,x2=b2+a0*J_*a0+x2*R_*x2,x2>0?x2=1/x2:x2=0,_e[g_+(u_*156|0)+(j2*36|0)+24>>2]=x2,x2=+_e[y2>>2],I0=-+_e[h2>>2],a0=f2*I0-x2*S2,x2=r2*I0-x2*v2,x2=b2+a0*J_*a0+x2*R_*x2,x2>0?x2=1/x2:x2=0,_e[g_+(u_*156|0)+(j2*36|0)+28>>2]=x2,Na=g_+(u_*156|0)+(j2*36|0)+32|0,_e[Na>>2]=0,v2=+_e[h2>>2]*(s2-M_*v2-V_+D_*S2)+ +_e[y2>>2]*(P_+M_*r2-F_-D_*f2),v2<-1&&(_e[Na>>2]=-(v2*+_e[C2>>2])),j2=j2+1|0;while((j2|0)!=(F2|0));if((l[w2>>2]|0)==2){if(C0=+_e[y2>>2],V_=+_e[h2>>2],v0=+_e[g_+(u_*156|0)>>2]*C0-+_e[g_+(u_*156|0)+4>>2]*V_,M_=C0*+_e[g_+(u_*156|0)+8>>2]-V_*+_e[g_+(u_*156|0)+12>>2],I0=C0*+_e[g_+(u_*156|0)+36>>2]-V_*+_e[g_+(u_*156|0)+40>>2],V_=C0*+_e[g_+(u_*156|0)+44>>2]-V_*+_e[g_+(u_*156|0)+48>>2],C0=J_*v0,a0=R_*M_,M_=b2+v0*C0+M_*a0,J_=b2+I0*J_*I0+V_*R_*V_,R_=b2+C0*I0+a0*V_,V_=M_*J_-R_*R_,!(M_*M_<V_*1e3)){l[w2>>2]=1;break}_e[g_+(u_*156|0)+96>>2]=M_,_e[g_+(u_*156|0)+100>>2]=R_,_e[g_+(u_*156|0)+104>>2]=R_,_e[g_+(u_*156|0)+108>>2]=J_,V_!=0&&(V_=1/V_),a0=-(V_*R_),_e[g_+(u_*156|0)+80>>2]=J_*V_,_e[g_+(u_*156|0)+84>>2]=a0,_e[g_+(u_*156|0)+88>>2]=a0,_e[g_+(u_*156|0)+92>>2]=M_*V_}}while(!1);if(u_=u_+1|0,(u_|0)>=(l[_i>>2]|0)){_i=32;break}}if((_i|0)==4)Y2(13720,13640,171,13752);else if((_i|0)==32){ws=_t;return}}function hI(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0;if(_t=ws,_s=_+48|0,(l[_s>>2]|0)<=0){ws=_t;return}_i=_+40|0,n_=_+28|0,h2=l[n_>>2]|0,__=0;t:for(;;){if(R_=l[_i>>2]|0,_=l[R_+(__*156|0)+112>>2]|0,t_=l[R_+(__*156|0)+116>>2]|0,g_=+_e[R_+(__*156|0)+120>>2],x_=+_e[R_+(__*156|0)+128>>2],A_=+_e[R_+(__*156|0)+124>>2],u_=+_e[R_+(__*156|0)+132>>2],c2=l[R_+(__*156|0)+148>>2]|0,l_=h2+(_*12|0)|0,y2=l_,F2=h2+(t_*12|0)|0,N2=R_+(__*156|0)+72|0,J_=+_e[N2>>2],f_=+_e[N2+4>>2],e2=-J_,O_=+_e[R_+(__*156|0)+136>>2],N2=(c2|0)==1,(c2+-1|0)>>>0>=2){_i=5;break}D_=+_e[F2+4>>2],F_=+_e[F2>>2],P_=+_e[y2+4>>2],F2=R_+(__*156|0)+144|0,t2=+_e[y2>>2],y2=0,V_=+_e[h2+(_*12|0)+8>>2],M_=+_e[h2+(t_*12|0)+8>>2];do E2=+_e[R_+(__*156|0)+(y2*36|0)+12>>2],d2=+_e[R_+(__*156|0)+(y2*36|0)+8>>2],A2=+_e[R_+(__*156|0)+(y2*36|0)+4>>2],x2=+_e[R_+(__*156|0)+(y2*36|0)>>2],P2=O_*+_e[R_+(__*156|0)+(y2*36|0)+16>>2],h2=R_+(__*156|0)+(y2*36|0)+20|0,H2=+_e[h2>>2],w2=H2-+_e[R_+(__*156|0)+(y2*36|0)+28>>2]*(f_*(F_-M_*E2-t2+V_*A2)+(D_+M_*d2-P_-V_*x2)*e2-+_e[F2>>2]),r2=-P2,P2=w2<P2?w2:P2,P2=P2<r2?r2:P2,H2=P2-H2,_e[h2>>2]=P2,P2=f_*H2,H2=H2*e2,t2=t2-g_*P2,P_=P_-g_*H2,V_=V_-x_*(x2*H2-A2*P2),F_=F_+A_*P2,D_=D_+A_*H2,M_=M_+u_*(d2*H2-E2*P2),y2=y2+1|0;while((y2|0)!=(c2|0));do if(N2)for(h2=0;C2=+_e[R_+(__*156|0)+(h2*36|0)+12>>2],E2=+_e[R_+(__*156|0)+(h2*36|0)+8>>2],H2=+_e[R_+(__*156|0)+(h2*36|0)+4>>2],d2=+_e[R_+(__*156|0)+(h2*36|0)>>2],y2=R_+(__*156|0)+(h2*36|0)+16|0,P2=+_e[y2>>2],j2=P2-+_e[R_+(__*156|0)+(h2*36|0)+24>>2]*(J_*(F_-M_*C2-t2+V_*H2)+f_*(D_+M_*E2-P_-V_*d2)-+_e[R_+(__*156|0)+(h2*36|0)+32>>2]),j2=j2>0?j2:0,P2=j2-P2,_e[y2>>2]=j2,j2=J_*P2,P2=f_*P2,t2=t2-g_*j2,P_=P_-g_*P2,V_=V_-x_*(d2*P2-H2*j2),F_=F_+A_*j2,D_=D_+A_*P2,M_=M_+u_*(E2*P2-C2*j2),h2;)h2=h2+1|0;else{if(c2=R_+(__*156|0)+16|0,d2=+_e[c2>>2],h2=R_+(__*156|0)+52|0,A2=+_e[h2>>2],!(d2>=0)|!(A2>=0)){_i=10;break t}if(Q_=+_e[R_+(__*156|0)+12>>2],O_=+_e[R_+(__*156|0)+8>>2],b2=+_e[R_+(__*156|0)+4>>2],S2=+_e[R_+(__*156|0)>>2],e2=+_e[R_+(__*156|0)+48>>2],s2=+_e[R_+(__*156|0)+44>>2],f2=+_e[R_+(__*156|0)+40>>2],v2=+_e[R_+(__*156|0)+36>>2],x2=+_e[R_+(__*156|0)+104>>2],H2=+_e[R_+(__*156|0)+100>>2],w2=J_*(F_-M_*Q_-t2+V_*b2)+f_*(D_+M_*O_-P_-V_*S2)-+_e[R_+(__*156|0)+32>>2]-(d2*+_e[R_+(__*156|0)+96>>2]+A2*x2),r2=J_*(F_-M_*e2-t2+V_*f2)+f_*(D_+M_*s2-P_-V_*v2)-+_e[R_+(__*156|0)+68>>2]-(d2*H2+A2*+_e[R_+(__*156|0)+108>>2]),j2=+_e[R_+(__*156|0)+80>>2]*w2+ +_e[R_+(__*156|0)+88>>2]*r2,C2=w2*+_e[R_+(__*156|0)+84>>2]+r2*+_e[R_+(__*156|0)+92>>2],E2=-j2,P2=-C2,!(!(j2<=-0)|!(C2<=-0))){d2=E2-d2,C2=P2-A2,H2=J_*d2,d2=f_*d2,j2=J_*C2,C2=f_*C2,x2=H2+j2,A2=d2+C2,_e[c2>>2]=E2,_e[h2>>2]=P2,t2=t2-g_*x2,P_=P_-g_*A2,F_=F_+A_*x2,D_=D_+A_*A2,V_=V_-x_*(S2*d2-b2*H2+(v2*C2-f2*j2)),M_=M_+u_*(O_*d2-Q_*H2+(s2*C2-e2*j2));break}if(j2=w2*+_e[R_+(__*156|0)+24>>2],E2=-j2,j2<=-0&&r2+H2*E2>=0){H2=E2-d2,C2=0-A2,P2=J_*H2,H2=f_*H2,j2=J_*C2,C2=f_*C2,A2=j2+P2,d2=C2+H2,_e[c2>>2]=E2,_e[h2>>2]=0,t2=t2-g_*A2,P_=P_-g_*d2,F_=F_+A_*A2,D_=D_+A_*d2,V_=V_-x_*(H2*S2-P2*b2+(C2*v2-j2*f2)),M_=M_+u_*(H2*O_-P2*Q_+(C2*s2-j2*e2));break}if(j2=r2*+_e[R_+(__*156|0)+60>>2],H2=-j2,j2<=-0&&w2+x2*H2>=0){E2=0-d2,C2=H2-A2,P2=J_*E2,E2=f_*E2,j2=J_*C2,C2=f_*C2,A2=P2+j2,d2=E2+C2,_e[c2>>2]=0,_e[h2>>2]=H2,t2=t2-g_*A2,P_=P_-g_*d2,F_=F_+A_*A2,D_=D_+A_*d2,V_=V_-x_*(E2*S2-P2*b2+(C2*v2-j2*f2)),M_=M_+u_*(E2*O_-P2*Q_+(C2*s2-j2*e2));break}!(w2>=0)|!(r2>=0)||(E2=0-d2,C2=0-A2,P2=J_*E2,E2=f_*E2,j2=J_*C2,C2=f_*C2,d2=P2+j2,H2=E2+C2,_e[c2>>2]=0,_e[h2>>2]=0,t2=t2-g_*d2,P_=P_-g_*H2,F_=F_+A_*d2,D_=D_+A_*H2,V_=V_-x_*(E2*S2-P2*b2+(C2*v2-j2*f2)),M_=M_+u_*(E2*O_-P2*Q_+(C2*s2-j2*e2)))}while(!1);if(j2=+t2,C2=+P_,h2=l_,_e[h2>>2]=j2,_e[h2+4>>2]=C2,h2=l[n_>>2]|0,_e[h2+(_*12|0)+8>>2]=V_,C2=+F_,j2=+D_,h2=h2+(t_*12|0)|0,_e[h2>>2]=C2,_e[h2+4>>2]=j2,h2=l[n_>>2]|0,_e[h2+(t_*12|0)+8>>2]=M_,__=__+1|0,(__|0)>=(l[_s>>2]|0)){_i=22;break}}if((_i|0)==5)Y2(13784,13640,314,13824);else if((_i|0)==10)Y2(13856,13640,412,13824);else if((_i|0)==22){ws=_t;return}}function dI(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0;if(n_=ws,(l[_t+84>>2]|0)<=0&&Y2(13888,13640,623,16752),R_=l[_t+72>>2]|0,R_)if((R_|0)==1){P_=_i+12|0,l_=+_e[P_>>2],u_=+_e[_t+16>>2],R_=_i+8|0,x_=+_e[R_>>2],g_=+_e[_t+20>>2],__=l_*u_-x_*g_,g_=u_*x_+l_*g_,l_=+__,x_=+g_,F_=_,_e[F_>>2]=l_,_e[F_+4>>2]=x_,x_=+_e[P_>>2],l_=+_e[_t+24>>2],u_=+_e[R_>>2],A_=+_e[_t+28>>2],M_=+_e[_s+12>>2],D_=+_e[_t+(t_<<3)>>2],V_=+_e[_s+8>>2],J_=+_e[_t+(t_<<3)+4>>2],f_=+_e[_s>>2]+(M_*D_-V_*J_),J_=D_*V_+M_*J_+ +_e[_s+4>>2],_e[_+16>>2]=__*(f_-(+_e[_i>>2]+(x_*l_-u_*A_)))+(J_-(l_*u_+x_*A_+ +_e[_i+4>>2]))*g_-+_e[_t+76>>2]-+_e[_t+80>>2],f_=+f_,J_=+J_,t_=_+8|0,_e[t_>>2]=f_,_e[t_+4>>2]=J_,ws=n_;return}else if((R_|0)==2){P_=_s+12|0,x_=+_e[P_>>2],A_=+_e[_t+16>>2],F_=_s+8|0,g_=+_e[F_>>2],D_=+_e[_t+20>>2],V_=x_*A_-g_*D_,D_=A_*g_+x_*D_,x_=+V_,g_=+D_,R_=_,_e[R_>>2]=x_,_e[R_+4>>2]=g_,g_=+_e[P_>>2],x_=+_e[_t+24>>2],A_=+_e[F_>>2],f_=+_e[_t+28>>2],u_=+_e[_i+12>>2],__=+_e[_t+(t_<<3)>>2],l_=+_e[_i+8>>2],M_=+_e[_t+(t_<<3)+4>>2],J_=+_e[_i>>2]+(u_*__-l_*M_),M_=__*l_+u_*M_+ +_e[_i+4>>2],_e[_+16>>2]=V_*(J_-(+_e[_s>>2]+(g_*x_-A_*f_)))+(M_-(x_*A_+g_*f_+ +_e[_s+4>>2]))*D_-+_e[_t+76>>2]-+_e[_t+80>>2],J_=+J_,M_=+M_,F_=_+8|0,_e[F_>>2]=J_,_e[F_+4>>2]=M_,V_=+-V_,D_=+-D_,F_=_,_e[F_>>2]=V_,_e[F_+4>>2]=D_,ws=n_;return}else{ws=n_;return}else{g_=+_e[_i+12>>2],A_=+_e[_t+24>>2],J_=+_e[_i+8>>2],u_=+_e[_t+28>>2],__=+_e[_i>>2]+(g_*A_-J_*u_),u_=A_*J_+g_*u_+ +_e[_i+4>>2],g_=+_e[_s+12>>2],J_=+_e[_t>>2],A_=+_e[_s+8>>2],x_=+_e[_t+4>>2],l_=+_e[_s>>2]+(g_*J_-A_*x_),x_=J_*A_+g_*x_+ +_e[_s+4>>2],g_=l_-__,A_=x_-u_,J_=+g_,f_=+A_,t_=_,_e[t_>>2]=J_,_e[t_+4>>2]=f_,f_=+V2(+(g_*g_+A_*A_)),f_<11920928955078125e-23?(J_=g_,f_=A_):(f_=1/f_,J_=g_*f_,_e[_>>2]=J_,f_=A_*f_,_e[_+4>>2]=f_),l_=+((__+l_)*.5),x_=+((u_+x_)*.5),t_=_+8|0,_e[t_>>2]=l_,_e[t_+4>>2]=x_,_e[_+16>>2]=g_*J_+A_*f_-+_e[_t+76>>2]-+_e[_t+80>>2],ws=n_;return}}function qZ(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0;if(_t=ws,t_=bA(t_,148)|0,!t_)return __=0,ws=_t,__|0;l[t_+4>>2]=4,l[t_+48>>2]=_,l[t_+52>>2]=_i,l[t_+56>>2]=0,l[t_+60>>2]=0,l[t_+124>>2]=0,l[t_+128>>2]=0,n_=_+16|0,__=t_+8|0,_s=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_s|0));if(_e[t_+136>>2]=+V2(+(+_e[n_>>2]*+_e[_i+16>>2])),u_=+_e[_+20>>2],l_=+_e[_i+20>>2],_e[t_+140>>2]=u_>l_?u_:l_,_e[t_+144>>2]=0,l[t_>>2]=13920,(l[(l[_+12>>2]|0)+4>>2]|0)!=1&&Y2(14096,13936,40,14e3),l[(l[_i+12>>2]|0)+4>>2]|0)Y2(14416,13936,41,14e3);else return __=t_,ws=_t,__|0;return 0}function EZ(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,ry[l[(l[_>>2]|0)+4>>2]&127](_),PA(_t,_,148),ws=_i}function kZ(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,xI(_t,l[(l[_+48>>2]|0)+12>>2]|0,_i,l[(l[_+52>>2]|0)+12>>2]|0,_s),ws=t_}function jZ(_){_=_|0}function zZ(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function WZ(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0;if(_t=ws,t_=bA(t_,148)|0,!t_)return __=0,ws=_t,__|0;l[t_+4>>2]=4,l[t_+48>>2]=_,l[t_+52>>2]=_i,l[t_+56>>2]=0,l[t_+60>>2]=0,l[t_+124>>2]=0,l[t_+128>>2]=0,n_=_+16|0,__=t_+8|0,_s=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_s|0));return _e[t_+136>>2]=+V2(+(+_e[n_>>2]*+_e[_i+16>>2])),u_=+_e[_+20>>2],l_=+_e[_i+20>>2],_e[t_+140>>2]=u_>l_?u_:l_,_e[t_+144>>2]=0,l[t_>>2]=14080,(l[(l[_+12>>2]|0)+4>>2]|0)!=1&&Y2(14096,14144,40,14216),(l[(l[_i+12>>2]|0)+4>>2]|0)==2?(__=t_,ws=_t,__|0):(Y2(14672,14144,41,14216),0)}function NZ(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,ry[l[(l[_>>2]|0)+4>>2]&127](_),PA(_t,_,148),ws=_i}function OZ(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,fI(_t,l[(l[_+48>>2]|0)+12>>2]|0,_i,l[(l[_+52>>2]|0)+12>>2]|0,_s),ws=t_}function UZ(_){_=_|0}function XZ(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function YZ(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0;if(_t=ws,t_=bA(t_,148)|0,!t_)return __=0,ws=_t,__|0;l[t_+4>>2]=4,l[t_+48>>2]=_,l[t_+52>>2]=_i,l[t_+56>>2]=0,l[t_+60>>2]=0,l[t_+124>>2]=0,l[t_+128>>2]=0,n_=_+16|0,__=t_+8|0,_s=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_s|0));if(_e[t_+136>>2]=+V2(+(+_e[n_>>2]*+_e[_i+16>>2])),u_=+_e[_+20>>2],l_=+_e[_i+20>>2],_e[t_+140>>2]=u_>l_?u_:l_,_e[t_+144>>2]=0,l[t_>>2]=14296,(l[(l[_+12>>2]|0)+4>>2]|0)!=2&&Y2(14536,14312,40,14384),l[(l[_i+12>>2]|0)+4>>2]|0)Y2(14416,14312,41,14384);else return __=t_,ws=_t,__|0;return 0}function HZ(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,ry[l[(l[_>>2]|0)+4>>2]&127](_),PA(_t,_,148),ws=_i}function ZZ(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0;t_=ws,__=l[(l[_+48>>2]|0)+12>>2]|0,g_=l[(l[_+52>>2]|0)+12>>2]|0,n_=_t+60|0,l[n_>>2]=0,_=g_+12|0,F_=+_e[_s+12>>2],u_=+_e[_>>2],x_=+_e[_s+8>>2],t2=+_e[g_+16>>2],l_=+_e[_s>>2]+(F_*u_-x_*t2)-+_e[_i>>2],t2=u_*x_+F_*t2+ +_e[_s+4>>2]-+_e[_i+4>>2],F_=+_e[_i+12>>2],x_=+_e[_i+8>>2],u_=l_*F_+t2*x_,x_=F_*t2-l_*x_,l_=+_e[__+8>>2]+ +_e[g_+8>>2],g_=l[__+148>>2]|0;do if((g_|0)>0){for(_i=0,_s=0,J_=-34028234663852886e22;;){if(R_=(u_-+_e[__+(_i<<3)+20>>2])*+_e[__+(_i<<3)+84>>2]+(x_-+_e[__+(_i<<3)+24>>2])*+_e[__+(_i<<3)+88>>2],R_>l_){_i=19;break}if(e2=R_>J_,J_=e2?R_:J_,_s=e2?_i:_s,_i=_i+1|0,(_i|0)>=(g_|0)){_i=4;break}}if((_i|0)==4){e2=J_<11920928955078125e-23;break}else if((_i|0)==19){ws=t_;return}}else _s=0,e2=1;while(!1);if(f_=_s+1|0,A_=__+(_s<<3)+20|0,_i=l[A_>>2]|0,A_=l[A_+4>>2]|0,F_=(l[s_>>2]=_i,+_e[s_>>2]),M_=(l[s_>>2]=A_,+_e[s_>>2]),f_=__+(((f_|0)<(g_|0)?f_:0)<<3)+20|0,g_=l[f_>>2]|0,f_=l[f_+4>>2]|0,t2=(l[s_>>2]=g_,+_e[s_>>2]),P_=(l[s_>>2]=f_,+_e[s_>>2]),e2){l[n_>>2]=1,l[_t+56>>2]=1,e2=__+(_s<<3)+84|0,f_=l[e2+4>>2]|0,g_=_t+40|0,l[g_>>2]=l[e2>>2],l[g_+4>>2]=f_,F_=+((F_+t2)*.5),t2=+((M_+P_)*.5),g_=_t+48|0,_e[g_>>2]=F_,_e[g_+4>>2]=t2,g_=_,f_=l[g_+4>>2]|0,e2=_t,l[e2>>2]=l[g_>>2],l[e2+4>>2]=f_,l[_t+16>>2]=0,ws=t_;return}if(R_=u_-F_,V_=x_-M_,J_=u_-t2,D_=x_-P_,R_*(t2-F_)+V_*(P_-M_)<=0){if(u_=R_*R_+V_*V_,u_>l_*l_){ws=t_;return}l[n_>>2]=1,l[_t+56>>2]=1,n_=_t+40|0,t2=+R_,l_=+V_,e2=n_,_e[e2>>2]=t2,_e[e2+4>>2]=l_,l_=+V2(+u_),l_<11920928955078125e-23||(t2=1/l_,_e[n_>>2]=R_*t2,_e[_t+44>>2]=V_*t2),g_=_t+48|0,l[g_>>2]=_i,l[g_+4>>2]=A_,g_=_,f_=l[g_+4>>2]|0,e2=_t,l[e2>>2]=l[g_>>2],l[e2+4>>2]=f_,l[_t+16>>2]=0,ws=t_;return}if(!(J_*(F_-t2)+D_*(M_-P_)<=0)){if(J_=(F_+t2)*.5,R_=(M_+P_)*.5,_i=__+(_s<<3)+84|0,(u_-J_)*+_e[_i>>2]+(x_-R_)*+_e[__+(_s<<3)+88>>2]>l_){ws=t_;return}l[n_>>2]=1,l[_t+56>>2]=1,e2=_i,f_=l[e2+4>>2]|0,g_=_t+40|0,l[g_>>2]=l[e2>>2],l[g_+4>>2]=f_,F_=+J_,t2=+R_,g_=_t+48|0,_e[g_>>2]=F_,_e[g_+4>>2]=t2,g_=_,f_=l[g_+4>>2]|0,e2=_t,l[e2>>2]=l[g_>>2],l[e2+4>>2]=f_,l[_t+16>>2]=0,ws=t_;return}if(u_=J_*J_+D_*D_,u_>l_*l_){ws=t_;return}l[n_>>2]=1,l[_t+56>>2]=1,n_=_t+40|0,t2=+J_,l_=+D_,e2=n_,_e[e2>>2]=t2,_e[e2+4>>2]=l_,l_=+V2(+u_),l_<11920928955078125e-23||(t2=1/l_,_e[n_>>2]=J_*t2,_e[_t+44>>2]=D_*t2),e2=_t+48|0,l[e2>>2]=g_,l[e2+4>>2]=f_,g_=_,f_=l[g_+4>>2]|0,e2=_t,l[e2>>2]=l[g_>>2],l[e2+4>>2]=f_,l[_t+16>>2]=0,ws=t_}function KZ(_){_=_|0}function QZ(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function $Z(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0;if(_t=ws,t_=bA(t_,148)|0,!t_)return __=0,ws=_t,__|0;l[t_+4>>2]=4,l[t_+48>>2]=_,l[t_+52>>2]=_i,l[t_+56>>2]=0,l[t_+60>>2]=0,l[t_+124>>2]=0,l[t_+128>>2]=0,n_=_+16|0,__=t_+8|0,_s=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_s|0));return _e[t_+136>>2]=+V2(+(+_e[n_>>2]*+_e[_i+16>>2])),u_=+_e[_+20>>2],l_=+_e[_i+20>>2],_e[t_+140>>2]=u_>l_?u_:l_,_e[t_+144>>2]=0,l[t_>>2]=14520,(l[(l[_+12>>2]|0)+4>>2]|0)!=2&&Y2(14536,14584,43,14648),(l[(l[_i+12>>2]|0)+4>>2]|0)==2?(__=t_,ws=_t,__|0):(Y2(14672,14584,44,14648),0)}function tK(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,ry[l[(l[_>>2]|0)+4>>2]&127](_),PA(_t,_,148),ws=_i}function eK(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0;if(t_=ws,ws=ws+80|0,f2=t_+76|0,J_=t_+72|0,g_=t_,f_=t_+48|0,n_=t_+24|0,O_=l[(l[_+48>>2]|0)+12>>2]|0,v2=l[(l[_+52>>2]|0)+12>>2]|0,_=_t+60|0,l[_>>2]=0,__=+_e[O_+8>>2]+ +_e[v2+8>>2],l[f2>>2]=0,l_=+gI(f2,O_,_i,v2,_s),l_>__){ws=t_;return}if(l[J_>>2]=0,u_=+gI(J_,v2,_s,O_,_i),u_>__){ws=t_;return}if(u_>l_+.0005000000237487257?(R_=+_e[_s>>2],D_=+_e[_s+4>>2],V_=+_e[_s+8>>2],M_=+_e[_s+12>>2],A_=+_e[_i>>2],l_=+_e[_i+4>>2],u_=+_e[_i+8>>2],x_=+_e[_i+12>>2],J_=l[J_>>2]|0,l[_t+56>>2]=2,_s=1,_i=v2):(R_=+_e[_i>>2],D_=+_e[_i+4>>2],V_=+_e[_i+8>>2],M_=+_e[_i+12>>2],A_=+_e[_s>>2],l_=+_e[_s+4>>2],u_=+_e[_s+8>>2],x_=+_e[_s+12>>2],J_=l[f2>>2]|0,l[_t+56>>2]=1,_s=0,_i=O_,O_=v2),v2=l[O_+148>>2]|0,(J_|0)<=-1&&Y2(5728,5768,74,5824),f2=l[_i+148>>2]|0,(f2|0)<=(J_|0)&&Y2(5728,5768,74,5824),P_=+_e[_i+(J_<<3)+84>>2],c2=+_e[_i+(J_<<3)+88>>2],F_=M_*P_-V_*c2,c2=V_*P_+M_*c2,P_=x_*F_+u_*c2,F_=x_*c2-u_*F_,(v2|0)>0)for(w2=0,x2=0,t2=34028234663852886e22;e2=P_*+_e[O_+(w2<<3)+84>>2]+F_*+_e[O_+(w2<<3)+88>>2],h2=e2<t2,x2=h2?w2:x2,w2=w2+1|0,(w2|0)!=(v2|0);)t2=h2?e2:t2;else x2=0;if(h2=x2+1|0,h2=(h2|0)<(v2|0)?h2:0,e2=+_e[O_+(x2<<3)+20>>2],b2=+_e[O_+(x2<<3)+24>>2],Q_=+(A_+(x_*e2-u_*b2)),b2=+(l_+(u_*e2+x_*b2)),w2=g_,_e[w2>>2]=Q_,_e[w2+4>>2]=b2,w2=J_&255,v2=g_+8|0,_o[v2>>0]=w2,_o[v2+1>>0]=x2,_o[v2+2>>0]=1,_o[v2+3>>0]=0,b2=+_e[O_+(h2<<3)+20>>2],Q_=+_e[O_+(h2<<3)+24>>2],e2=+(A_+(x_*b2-u_*Q_)),Q_=+(l_+(u_*b2+x_*Q_)),O_=g_+12|0,_e[O_>>2]=e2,_e[O_+4>>2]=Q_,O_=g_+20|0,_o[O_>>0]=w2,_o[O_+1>>0]=h2,_o[O_+2>>0]=1,_o[O_+3>>0]=0,O_=J_+1|0,O_=(O_|0)<(f2|0)?O_:0,x2=_i+(J_<<3)+20|0,Q_=+_e[x2>>2],e2=+_e[x2+4>>2],x2=_i+(O_<<3)+20|0,b2=+_e[x2>>2],s2=+_e[x2+4>>2],S2=b2-Q_,c2=s2-e2,P_=+V2(+(S2*S2+c2*c2)),P_<11920928955078125e-23||(r2=1/P_,S2=S2*r2,c2=c2*r2),r2=M_*S2-V_*c2,F_=M_*c2+V_*S2,t2=-r2,d2=R_+(M_*Q_-V_*e2),A2=D_+(V_*Q_+M_*e2),P_=d2*F_+A2*t2,(NM(f_,g_,t2,-F_,__-(d2*r2+A2*F_),J_)|0)<2){ws=t_;return}if((NM(n_,f_,r2,F_,__+((R_+(M_*b2-V_*s2))*r2+(D_+(V_*b2+M_*s2))*F_),O_)|0)<2){ws=t_;return}d2=+c2,A2=+-S2,g_=_t+40|0,_e[g_>>2]=d2,_e[g_+4>>2]=A2,A2=+((Q_+b2)*.5),d2=+((e2+s2)*.5),g_=_t+48|0,_e[g_>>2]=A2,_e[g_+4>>2]=d2,g_=_s<<24>>24==0,f_=0,J_=0;do R_=+_e[n_+(f_*12|0)>>2],M_=+_e[n_+(f_*12|0)+4>>2],F_*R_+M_*t2-P_<=__&&(d2=R_-A_,c2=M_-l_,A2=+(x_*d2+u_*c2),d2=+(x_*c2-u_*d2),_i=_t+(J_*20|0)|0,_e[_i>>2]=A2,_e[_i+4>>2]=d2,_i=_t+(J_*20|0)+16|0,_s=l[n_+(f_*12|0)+8>>2]|0,l[_i>>2]=_s,g_||(_o[_i>>0]=_s>>>8,_o[_i+1>>0]=_s,_o[_i+2>>0]=_s>>>24,_o[_i+3>>0]=_s>>>16),J_=J_+1|0),f_=f_+1|0;while((f_|0)!=2);l[_>>2]=J_,ws=t_}function oK(_){_=_|0}function iK(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function rK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0;if(x_=ws,e2=l[_+48>>2]|0,E2=l[e2+8>>2]|0,__=_+108|0,l[__>>2]=E2,H2=l[_+52>>2]|0,A2=l[H2+8>>2]|0,u_=_+112|0,l[u_>>2]=A2,x2=e2+28|0,c2=l[x2>>2]|0,x2=l[x2+4>>2]|0,S2=_+140|0,l[S2>>2]=c2,l[S2+4>>2]=x2,S2=H2+28|0,r2=l[S2>>2]|0,S2=l[S2+4>>2]|0,h2=_+148|0,l[h2>>2]=r2,l[h2+4>>2]=S2,h2=_+156|0,_e[h2>>2]=+_e[e2+120>>2],S2=_+160|0,_e[S2>>2]=+_e[H2+120>>2],w2=_+164|0,_e[w2>>2]=+_e[e2+128>>2],e2=_+168|0,_e[e2>>2]=+_e[H2+128>>2],H2=l[_t+24>>2]|0,l_=H2+(E2*12|0)|0,V_=+_e[l_>>2],D_=+_e[l_+4>>2],_i=+_e[H2+(E2*12|0)+8>>2],l_=_t+28|0,d2=l[l_>>2]|0,P2=d2+(E2*12|0)|0,M_=+_e[P2>>2],R_=+_e[P2+4>>2],t_=+_e[d2+(E2*12|0)+8>>2],E2=H2+(A2*12|0)|0,Q_=+_e[E2>>2],f2=+_e[E2+4>>2],b2=+_e[H2+(A2*12|0)+8>>2],H2=d2+(A2*12|0)|0,J_=+_e[H2>>2],_s=+_e[H2+4>>2],n_=+_e[d2+(A2*12|0)+8>>2],f_=+J2(+_i),_i=+B2(+_i),s2=+J2(+b2),b2=+B2(+b2),v2=+_e[_+80>>2]-(l[s_>>2]=c2,+_e[s_>>2]),g_=+_e[_+84>>2]-(l[s_>>2]=x2,+_e[s_>>2]),A_=_i*v2-f_*g_,g_=f_*v2+_i*g_,_i=+A_,v2=+g_,x2=_+124|0,_e[x2>>2]=_i,_e[x2+4>>2]=v2,v2=+_e[_+88>>2]-(l[s_>>2]=r2,+_e[s_>>2]),_i=+_e[_+92>>2]-+_e[_+152>>2],f_=b2*v2-s2*_i,_i=s2*v2+b2*_i,b2=+f_,v2=+_i,r2=_+132|0,_e[r2>>2]=b2,_e[r2+4>>2]=v2,r2=_+116|0,V_=Q_+f_-V_-A_,D_=f2+_i-D_-g_,f2=+V_,Q_=+D_,x2=r2,_e[x2>>2]=f2,_e[x2+4>>2]=Q_,Q_=+V2(+(V_*V_+D_*D_)),Q_>.004999999888241291?(f2=1/Q_,V_=V_*f2,_e[r2>>2]=V_,D_=f2*D_):(_e[r2>>2]=0,D_=0,V_=0),_e[_+120>>2]=D_,f2=D_*A_-g_*V_,s2=D_*f_-V_*_i,P_=+_e[h2>>2],F_=+_e[w2>>2],t2=+_e[S2>>2],O_=+_e[e2>>2],s2=t2+(P_+f2*f2*F_)+s2*s2*O_,s2!=0?f2=1/s2:f2=0,e2=_+172|0,_e[e2>>2]=f2,b2=+_e[_+68>>2],b2>0?(Q_=Q_-+_e[_+104>>2],N2=b2*6.2831854820251465,v2=N2*f2*N2,b2=+_e[_t>>2],f2=b2*(N2*f2*2*+_e[_+72>>2]+v2*b2),S2=_+96|0,_e[S2>>2]=f2,f2!=0?f2=1/f2:f2=0,_e[S2>>2]=f2,_e[_+76>>2]=v2*Q_*b2*f2,Q_=s2+f2,Q_!=0?Q_=1/Q_:Q_=0,_e[e2>>2]=Q_):(_e[_+96>>2]=0,_e[_+76>>2]=0),_o[_t+20>>0]|0){P2=_+100|0,Q_=+_e[_t+8>>2]*+_e[P2>>2],_e[P2>>2]=Q_,N2=V_*Q_,D_=Q_*D_,Q_=M_-N2*P_,s2=R_-D_*P_,v2=J_+N2*t2,f2=_s+D_*t2,b2=t_-F_*(D_*A_-N2*g_),N2=n_+O_*(D_*f_-N2*_i),P2=l[__>>2]|0,E2=l[l_>>2]|0,P2=E2+(P2*12|0)|0,Q_=+Q_,s2=+s2,E2=P2,_e[E2>>2]=Q_,P2=P2+4|0,_e[P2>>2]=s2,P2=l[__>>2]|0,E2=l[l_>>2]|0,P2=E2+(P2*12|0)+8|0,_e[P2>>2]=b2,P2=l[u_>>2]|0,P2=E2+(P2*12|0)|0,v2=+v2,f2=+f2,E2=P2,_e[E2>>2]=v2,P2=P2+4|0,_e[P2>>2]=f2,P2=l[u_>>2]|0,E2=l[l_>>2]|0,P2=E2+(P2*12|0)+8|0,_e[P2>>2]=N2,ws=x_;return}else{_e[_+100>>2]=0,Q_=M_,s2=R_,v2=J_,f2=_s,b2=t_,N2=n_,P2=l[__>>2]|0,E2=l[l_>>2]|0,P2=E2+(P2*12|0)|0,Q_=+Q_,s2=+s2,E2=P2,_e[E2>>2]=Q_,P2=P2+4|0,_e[P2>>2]=s2,P2=l[__>>2]|0,E2=l[l_>>2]|0,P2=E2+(P2*12|0)+8|0,_e[P2>>2]=b2,P2=l[u_>>2]|0,P2=E2+(P2*12|0)|0,v2=+v2,f2=+f2,E2=P2,_e[E2>>2]=v2,P2=P2+4|0,_e[P2>>2]=f2,P2=l[u_>>2]|0,E2=l[l_>>2]|0,P2=E2+(P2*12|0)+8|0,_e[P2>>2]=N2,ws=x_;return}}function nK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0;_i=ws,A_=_+108|0,F_=l[A_>>2]|0,_s=_t+28|0,O_=l[_s>>2]|0,R_=O_+(F_*12|0)|0,_t=R_,J_=+_e[_t>>2],M_=+_e[_t+4>>2],P_=+_e[O_+(F_*12|0)+8>>2],_t=_+112|0,F_=l[_t>>2]|0,Q_=O_+(F_*12|0)|0,x_=+_e[Q_>>2],u_=+_e[Q_+4>>2],D_=+_e[O_+(F_*12|0)+8>>2],g_=+_e[_+128>>2],n_=+_e[_+124>>2],t_=+_e[_+136>>2],V_=+_e[_+132>>2],__=+_e[_+116>>2],f_=+_e[_+120>>2],F_=_+100|0,e2=+_e[F_>>2],t2=+_e[_+172>>2]*(+_e[_+76>>2]+(__*(x_-D_*t_-(J_-P_*g_))+f_*(u_+D_*V_-(M_+P_*n_)))+ +_e[_+96>>2]*e2),l_=-t2,_e[F_>>2]=e2-t2,__=__*l_,l_=f_*l_,f_=+_e[_+156>>2],g_=P_-+_e[_+164>>2]*(n_*l_-__*g_),n_=+_e[_+160>>2],t_=D_+ +_e[_+168>>2]*(l_*V_-__*t_),J_=+(J_-f_*__),f_=+(M_-f_*l_),_=R_,_e[_>>2]=J_,_e[_+4>>2]=f_,_=l[_s>>2]|0,_e[_+((l[A_>>2]|0)*12|0)+8>>2]=g_,__=+(x_+__*n_),n_=+(u_+l_*n_),_=_+((l[_t>>2]|0)*12|0)|0,_e[_>>2]=__,_e[_+4>>2]=n_,_e[(l[_s>>2]|0)+((l[_t>>2]|0)*12|0)+8>>2]=t_,ws=_i}function sK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0;return _i=ws,+_e[_+68>>2]>0?(J_=1,ws=_i,J_|0):(_s=_+108|0,J_=l[_s>>2]|0,f_=_t+24|0,t2=l[f_>>2]|0,_t=t2+(J_*12|0)|0,F_=_t,A_=+_e[F_>>2],g_=+_e[F_+4>>2],t_=+_e[t2+(J_*12|0)+8>>2],J_=_+112|0,F_=l[J_>>2]|0,e2=t2+(F_*12|0)|0,R_=+_e[e2>>2],M_=+_e[e2+4>>2],l_=+_e[t2+(F_*12|0)+8>>2],u_=+J2(+t_),V_=+B2(+t_),P_=+J2(+l_),D_=+B2(+l_),x_=+_e[_+80>>2]-+_e[_+140>>2],__=+_e[_+84>>2]-+_e[_+144>>2],n_=V_*x_-u_*__,__=u_*x_+V_*__,V_=+_e[_+88>>2]-+_e[_+148>>2],x_=+_e[_+92>>2]-+_e[_+152>>2],u_=D_*V_-P_*x_,x_=P_*V_+D_*x_,D_=R_+u_-A_-n_,V_=M_+x_-g_-__,P_=+V2(+(D_*D_+V_*V_)),P_<11920928955078125e-23?P_=0:(O_=1/P_,D_=D_*O_,V_=V_*O_),P_=P_-+_e[_+104>>2],P_=P_<.20000000298023224?P_:.20000000298023224,P_=P_<-.20000000298023224?-.20000000298023224:P_,s2=-(+_e[_+172>>2]*P_),Q_=D_*s2,D_=V_*s2,s2=+_e[_+156>>2],V_=t_-+_e[_+164>>2]*(n_*D_-__*Q_),__=+_e[_+160>>2],O_=l_+ +_e[_+168>>2]*(u_*D_-x_*Q_),A_=+(A_-s2*Q_),g_=+(g_-s2*D_),e2=_t,_e[e2>>2]=A_,_e[e2+4>>2]=g_,e2=l[f_>>2]|0,_e[e2+((l[_s>>2]|0)*12|0)+8>>2]=V_,V_=+(R_+__*Q_),D_=+(M_+__*D_),e2=e2+((l[J_>>2]|0)*12|0)|0,_e[e2>>2]=V_,_e[e2+4>>2]=D_,_e[(l[f_>>2]|0)+((l[J_>>2]|0)*12|0)+8>>2]=O_,P_>0||(P_=-P_),e2=P_<.004999999888241291,ws=_i,e2|0)}function _K(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+48>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+80>>2],t_=+_e[l_+20>>2],_s=+_e[_t+84>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function aK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+52>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+88>>2],t_=+_e[l_+20>>2],_s=+_e[_t+92>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function pK(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=+_e[_t+100>>2]*_i,_i=_s*+_e[_t+120>>2],_e[_>>2]=+_e[_t+116>>2]*_s,_e[_+4>>2]=_i}function lK(_,_t){return _=_|0,_t=+_t,0}function cK(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;_t=ws,ws=ws+16|0,_i=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,ta(14816,_i),l[_i>>2]=n_,ta(17784,_i),l[_i>>2]=_s,ta(17816,_i),l[_i>>2]=e_[_+61>>0],ta(17848,_i),t_=+_e[_+84>>2],c_[s_>>3]=+_e[_+80>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17888,_i),t_=+_e[_+92>>2],c_[s_>>3]=+_e[_+88>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17936,_i),c_[s_>>3]=+_e[_+104>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(14848,_i),c_[s_>>3]=+_e[_+68>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18120,_i),c_[s_>>3]=+_e[_+72>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18152,_i),l[_i>>2]=l[_+56>>2],ta(18184,_i),ws=_t}function mK(_){_=_|0}function bK(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function uK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0;if(g_=ws,x_=l[_+48>>2]|0,x2=l[x_+8>>2]|0,u_=_+104|0,l[u_>>2]=x2,r2=l[_+52>>2]|0,w2=l[r2+8>>2]|0,A_=_+108|0,l[A_>>2]=w2,f2=x_+28|0,S2=l[f2>>2]|0,f2=l[f2+4>>2]|0,s2=_+128|0,l[s2>>2]=S2,l[s2+4>>2]=f2,s2=r2+28|0,v2=l[s2>>2]|0,s2=l[s2+4>>2]|0,h2=_+136|0,l[h2>>2]=v2,l[h2+4>>2]=s2,f_=+_e[x_+120>>2],_e[_+144>>2]=f_,J_=+_e[r2+120>>2],_e[_+148>>2]=J_,R_=+_e[x_+128>>2],_e[_+152>>2]=R_,D_=+_e[r2+128>>2],_e[_+156>>2]=D_,r2=l[_t+24>>2]|0,F_=+_e[r2+(x2*12|0)+8>>2],x_=_t+28|0,h2=l[x_>>2]|0,c2=h2+(x2*12|0)|0,M_=+_e[c2>>2],_s=+_e[c2+4>>2],__=+_e[h2+(x2*12|0)+8>>2],e2=+_e[r2+(w2*12|0)+8>>2],r2=h2+(w2*12|0)|0,t_=+_e[r2>>2],n_=+_e[r2+4>>2],l_=+_e[h2+(w2*12|0)+8>>2],P_=+J2(+F_),F_=+B2(+F_),Q_=+J2(+e2),e2=+B2(+e2),b2=+_e[_+68>>2]-(l[s_>>2]=S2,+_e[s_>>2]),V_=+_e[_+72>>2]-(l[s_>>2]=f2,+_e[s_>>2]),_i=F_*b2-P_*V_,V_=P_*b2+F_*V_,F_=+_i,b2=+V_,f2=_+112|0,_e[f2>>2]=F_,_e[f2+4>>2]=b2,b2=+_e[_+76>>2]-(l[s_>>2]=v2,+_e[s_>>2]),F_=+_e[_+80>>2]-(l[s_>>2]=s2,+_e[s_>>2]),P_=e2*b2-Q_*F_,F_=Q_*b2+e2*F_,e2=+P_,b2=+F_,s2=_+120|0,_e[s2>>2]=e2,_e[s2+4>>2]=b2,b2=f_+J_,e2=b2+V_*R_*V_+F_*D_*F_,Q_=R_*_i,t2=D_*P_,O_=-(V_*Q_)-F_*t2,t2=b2+_i*Q_+P_*t2,Q_=e2*t2-O_*O_,Q_!=0&&(Q_=1/Q_),b2=-(O_*Q_),_e[_+160>>2]=t2*Q_,_e[_+164>>2]=b2,_e[_+168>>2]=b2,_e[_+172>>2]=e2*Q_,t2=R_+D_,t2>0&&(t2=1/t2),_e[_+176>>2]=t2,s2=_+84|0,_o[_t+20>>0]|0){x2=_t+8|0,A2=+_e[x2>>2],b2=A2*+_e[s2>>2],_e[s2>>2]=b2,c2=_+88|0,A2=A2*+_e[c2>>2],_e[c2>>2]=A2,c2=_+92|0,d2=+_e[x2>>2]*+_e[c2>>2],_e[c2>>2]=d2,M_=M_-f_*b2,t2=_s-f_*A2,O_=t_+J_*b2,Q_=n_+J_*A2,e2=__-R_*(d2+(A2*_i-b2*V_)),b2=l_+D_*(d2+(A2*P_-b2*F_)),c2=l[u_>>2]|0,x2=l[x_>>2]|0,c2=x2+(c2*12|0)|0,F_=+M_,t2=+t2,x2=c2,_e[x2>>2]=F_,c2=c2+4|0,_e[c2>>2]=t2,c2=l[u_>>2]|0,x2=l[x_>>2]|0,c2=x2+(c2*12|0)+8|0,_e[c2>>2]=e2,c2=l[A_>>2]|0,c2=x2+(c2*12|0)|0,O_=+O_,Q_=+Q_,x2=c2,_e[x2>>2]=O_,c2=c2+4|0,_e[c2>>2]=Q_,c2=l[A_>>2]|0,x2=l[x_>>2]|0,c2=x2+(c2*12|0)+8|0,_e[c2>>2]=b2,ws=g_;return}else{_e[s2>>2]=0,_e[_+88>>2]=0,_e[_+92>>2]=0,F_=M_,t2=_s,O_=t_,Q_=n_,e2=__,b2=l_,c2=l[u_>>2]|0,x2=l[x_>>2]|0,c2=x2+(c2*12|0)|0,F_=+F_,t2=+t2,x2=c2,_e[x2>>2]=F_,c2=c2+4|0,_e[c2>>2]=t2,c2=l[u_>>2]|0,x2=l[x_>>2]|0,c2=x2+(c2*12|0)+8|0,_e[c2>>2]=e2,c2=l[A_>>2]|0,c2=x2+(c2*12|0)|0,O_=+O_,Q_=+Q_,x2=c2,_e[x2>>2]=O_,c2=c2+4|0,_e[c2>>2]=Q_,c2=l[A_>>2]|0,x2=l[x_>>2]|0,c2=x2+(c2*12|0)+8|0,_e[c2>>2]=b2,ws=g_;return}}function hK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0;J_=ws,l_=_+104|0,g_=l[l_>>2]|0,__=_t+28|0,f2=l[__>>2]|0,O_=f2+(g_*12|0)|0,u_=+_e[O_>>2],n_=+_e[O_+4>>2],e2=+_e[f2+(g_*12|0)+8>>2],g_=_+108|0,O_=l[g_>>2]|0,S2=f2+(O_*12|0)|0,x_=+_e[S2>>2],A_=+_e[S2+4>>2],t2=+_e[f2+(O_*12|0)+8>>2],t_=+_e[_+144>>2],_s=+_e[_+148>>2],_i=+_e[_+152>>2],f_=+_e[_+156>>2],s2=+_e[_t>>2],_t=_+92|0,M_=+_e[_t>>2],F_=s2*+_e[_+100>>2],V_=M_-(t2-e2)*+_e[_+176>>2],P_=-F_,F_=V_<F_?V_:F_,F_=F_<P_?P_:F_,_e[_t>>2]=F_,M_=F_-M_,e2=e2-_i*M_,M_=t2+f_*M_,t2=+_e[_+124>>2],F_=+_e[_+120>>2],P_=+_e[_+116>>2],V_=+_e[_+112>>2],v2=P_*e2+(x_-t2*M_-u_),b2=A_+F_*M_-n_-V_*e2,Q_=+_e[_+164>>2]*v2+ +_e[_+172>>2]*b2,_t=_+84|0,O_=_t,D_=+_e[O_>>2],R_=+_e[O_+4>>2],b2=D_-(+_e[_+160>>2]*v2+ +_e[_+168>>2]*b2),_e[_t>>2]=b2,O_=_+88|0,Q_=+_e[O_>>2]-Q_,_e[O_>>2]=Q_,s2=s2*+_e[_+96>>2],v2=b2*b2+Q_*Q_,v2>s2*s2&&(v2=+V2(+v2),v2<11920928955078125e-23||(v2=1/v2,b2=b2*v2,_e[_t>>2]=b2,Q_=Q_*v2,_e[O_>>2]=Q_),b2=s2*b2,_e[_t>>2]=b2,Q_=s2*Q_,_e[O_>>2]=Q_),v2=b2-D_,b2=Q_-R_,s2=+(u_-t_*v2),Q_=+(n_-t_*b2),S2=(l[__>>2]|0)+((l[l_>>2]|0)*12|0)|0,_e[S2>>2]=s2,_e[S2+4>>2]=Q_,S2=l[__>>2]|0,_e[S2+((l[l_>>2]|0)*12|0)+8>>2]=e2-_i*(V_*b2-v2*P_),Q_=+(x_+_s*v2),s2=+(A_+_s*b2),S2=S2+((l[g_>>2]|0)*12|0)|0,_e[S2>>2]=Q_,_e[S2+4>>2]=s2,_e[(l[__>>2]|0)+((l[g_>>2]|0)*12|0)+8>>2]=M_+f_*(b2*F_-v2*t2),ws=J_}function dK(_,_t){return _=_|0,_t=_t|0,1}function yK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+48>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+68>>2],t_=+_e[l_+20>>2],_s=+_e[_t+72>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function xK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+52>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+76>>2],t_=+_e[l_+20>>2],_s=+_e[_t+80>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function fK(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=+_e[_t+88>>2]*_i,_e[_>>2]=+_e[_t+84>>2]*_i,_e[_+4>>2]=_s}function gK(_,_t){return _=_|0,_t=+_t,+(+_e[_+92>>2]*_t)}function vK(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;_t=ws,ws=ws+16|0,_i=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,ta(15136,_i),l[_i>>2]=n_,ta(17784,_i),l[_i>>2]=_s,ta(17816,_i),l[_i>>2]=e_[_+61>>0],ta(17848,_i),t_=+_e[_+72>>2],c_[s_>>3]=+_e[_+68>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17888,_i),t_=+_e[_+80>>2],c_[s_>>3]=+_e[_+76>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17936,_i),c_[s_>>3]=+_e[_+96>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(15168,_i),c_[s_>>3]=+_e[_+100>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(15200,_i),l[_i>>2]=l[_+56>>2],ta(18184,_i),ws=_t}function AK(_){_=_|0}function SK(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function CK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0,Na=0,n0=0,v0=0,C0=0,I0=0,a0=0,_p=0,ey=0,H0=0,cy=0,G0=0,By=0,my=0,by=0,A1=0,rA=0,G1=0;if(P_=ws,I0=l[_+48>>2]|0,C0=l[I0+8>>2]|0,J_=_+160|0,l[J_>>2]=C0,j2=l[_+52>>2]|0,v0=l[j2+8>>2]|0,_i=_+164|0,l[_i>>2]=v0,R_=l[_+84>>2]|0,n0=l[R_+8>>2]|0,V_=_+168|0,l[V_>>2]=n0,Na=l[_+88>>2]|0,S2=l[Na+8>>2]|0,D_=_+172|0,l[D_>>2]=S2,y2=_+176|0,a0=I0+28|0,C2=l[a0+4>>2]|0,d2=y2,l[d2>>2]=l[a0>>2],l[d2+4>>2]=C2,d2=_+184|0,C2=j2+28|0,a0=l[C2+4>>2]|0,F2=d2,l[F2>>2]=l[C2>>2],l[F2+4>>2]=a0,F2=_+192|0,a0=R_+28|0,C2=l[a0+4>>2]|0,_p=F2,l[_p>>2]=l[a0>>2],l[_p+4>>2]=C2,_p=Na+28|0,C2=l[_p>>2]|0,_p=l[_p+4>>2]|0,a0=_+200|0,l[a0>>2]=C2,l[a0+4>>2]=_p,F_=+_e[I0+120>>2],_e[_+208>>2]=F_,t2=+_e[j2+120>>2],_e[_+212>>2]=t2,e2=+_e[R_+120>>2],_e[_+216>>2]=e2,O_=+_e[Na+120>>2],_e[_+220>>2]=O_,Q_=+_e[I0+128>>2],_e[_+224>>2]=Q_,s2=+_e[j2+128>>2],_e[_+228>>2]=s2,b2=+_e[R_+128>>2],_e[_+232>>2]=b2,v2=+_e[Na+128>>2],_e[_+236>>2]=v2,Na=l[_t+24>>2]|0,w2=+_e[Na+(C0*12|0)+8>>2],R_=_t+28|0,j2=l[R_>>2]|0,I0=j2+(C0*12|0)|0,f2=+_e[I0>>2],M_=+_e[I0+4>>2],x_=+_e[j2+(C0*12|0)+8>>2],E2=+_e[Na+(v0*12|0)+8>>2],C0=j2+(v0*12|0)|0,_s=+_e[C0>>2],t_=+_e[C0+4>>2],A_=+_e[j2+(v0*12|0)+8>>2],r2=+_e[Na+(n0*12|0)+8>>2],v0=j2+(n0*12|0)|0,n_=+_e[v0>>2],__=+_e[v0+4>>2],g_=+_e[j2+(n0*12|0)+8>>2],P2=+_e[Na+(S2*12|0)+8>>2],Na=j2+(S2*12|0)|0,l_=+_e[Na>>2],u_=+_e[Na+4>>2],f_=+_e[j2+(S2*12|0)+8>>2],x2=+J2(+w2),w2=+B2(+w2),c2=+J2(+E2),E2=+B2(+E2),h2=+J2(+r2),r2=+B2(+r2),A2=+J2(+P2),P2=+B2(+P2),S2=_+272|0,_e[S2>>2]=0,H2=(l[s_>>2]=C2,+_e[s_>>2]),(l[_+76>>2]|0)==1?(_e[_+240>>2]=0,_e[_+244>>2]=0,_e[_+256>>2]=1,_e[_+264>>2]=1,N2=Q_+b2,x2=0,w2=0,r2=1,h2=1):(By=+_e[_+124>>2],ey=+_e[_+128>>2],H0=r2*By-h2*ey,ey=h2*By+r2*ey,By=+_e[_+108>>2]-+_e[F2>>2],G0=+_e[_+112>>2]-+_e[_+196>>2],cy=+_e[_+92>>2]-+_e[y2>>2],N2=+_e[_+96>>2]-+_e[_+180>>2],by=+H0,my=+ey,_p=_+240|0,_e[_p>>2]=by,_e[_p+4>>2]=my,h2=ey*(r2*By-h2*G0)-H0*(h2*By+r2*G0),_e[_+264>>2]=h2,r2=ey*(w2*cy-x2*N2)-H0*(x2*cy+w2*N2),_e[_+256>>2]=r2,N2=e2+F_+h2*b2*h2+r2*Q_*r2,x2=H0,w2=ey),N2=N2+0,_e[S2>>2]=N2,(l[_+80>>2]|0)==1?(_e[_+248>>2]=0,_e[_+252>>2]=0,A2=+_e[_+152>>2],_e[_+260>>2]=A2,_e[_+268>>2]=A2,P2=A2*A2*(s2+v2),c2=0,H2=0,E2=A2):(A1=+_e[_+132>>2],H0=+_e[_+136>>2],cy=P2*A1-A2*H0,H0=A2*A1+P2*H0,A1=+_e[_+116>>2]-H2,ey=+_e[_+120>>2]-+_e[_+204>>2],G0=+_e[_+100>>2]-+_e[d2>>2],By=+_e[_+104>>2]-+_e[_+188>>2],my=+_e[_+152>>2],by=cy*my,H2=H0*my,G1=+by,rA=+H2,_p=_+248|0,_e[_p>>2]=G1,_e[_p+4>>2]=rA,A2=(H0*(P2*A1-A2*ey)-cy*(A2*A1+P2*ey))*my,_e[_+268>>2]=A2,E2=my*(H0*(E2*G0-c2*By)-cy*(c2*G0+E2*By)),_e[_+260>>2]=E2,P2=my*my*(O_+t2)+A2*v2*A2+E2*E2*s2,c2=by),P2=N2+P2,_e[S2>>2]=P2,P2>0?P2=1/P2:P2=0,_e[S2>>2]=P2,S2=_+156|0,_o[_t+20>>0]|0){G1=+_e[S2>>2],N2=F_*G1,cy=G1*t2,my=G1*e2,rA=G1*O_,P2=f2+x2*N2,N2=M_+N2*w2,H0=_s+c2*cy,cy=t_+cy*H2,By=n_-x2*my,my=__-w2*my,A1=l_-c2*rA,rA=u_-H2*rA,ey=x_+G1*Q_*r2,G0=A_+G1*s2*E2,by=g_-G1*b2*h2,G1=f_-G1*v2*A2,_p=l[J_>>2]|0,a0=l[R_>>2]|0,_p=a0+(_p*12|0)|0,P2=+P2,N2=+N2,a0=_p,_e[a0>>2]=P2,_p=_p+4|0,_e[_p>>2]=N2,_p=l[J_>>2]|0,a0=l[R_>>2]|0,_p=a0+(_p*12|0)+8|0,_e[_p>>2]=ey,_p=l[_i>>2]|0,_p=a0+(_p*12|0)|0,H0=+H0,cy=+cy,a0=_p,_e[a0>>2]=H0,_p=_p+4|0,_e[_p>>2]=cy,_p=l[_i>>2]|0,a0=l[R_>>2]|0,_p=a0+(_p*12|0)+8|0,_e[_p>>2]=G0,_p=l[V_>>2]|0,_p=a0+(_p*12|0)|0,By=+By,my=+my,a0=_p,_e[a0>>2]=By,_p=_p+4|0,_e[_p>>2]=my,_p=l[V_>>2]|0,a0=l[R_>>2]|0,_p=a0+(_p*12|0)+8|0,_e[_p>>2]=by,_p=l[D_>>2]|0,_p=a0+(_p*12|0)|0,A1=+A1,rA=+rA,a0=_p,_e[a0>>2]=A1,_p=_p+4|0,_e[_p>>2]=rA,_p=l[D_>>2]|0,a0=l[R_>>2]|0,_p=a0+(_p*12|0)+8|0,_e[_p>>2]=G1,ws=P_;return}else{_e[S2>>2]=0,P2=f2,N2=M_,H0=_s,cy=t_,By=n_,my=__,A1=l_,rA=u_,ey=x_,G0=A_,by=g_,G1=f_,_p=l[J_>>2]|0,a0=l[R_>>2]|0,_p=a0+(_p*12|0)|0,P2=+P2,N2=+N2,a0=_p,_e[a0>>2]=P2,_p=_p+4|0,_e[_p>>2]=N2,_p=l[J_>>2]|0,a0=l[R_>>2]|0,_p=a0+(_p*12|0)+8|0,_e[_p>>2]=ey,_p=l[_i>>2]|0,_p=a0+(_p*12|0)|0,H0=+H0,cy=+cy,a0=_p,_e[a0>>2]=H0,_p=_p+4|0,_e[_p>>2]=cy,_p=l[_i>>2]|0,a0=l[R_>>2]|0,_p=a0+(_p*12|0)+8|0,_e[_p>>2]=G0,_p=l[V_>>2]|0,_p=a0+(_p*12|0)|0,By=+By,my=+my,a0=_p,_e[a0>>2]=By,_p=_p+4|0,_e[_p>>2]=my,_p=l[V_>>2]|0,a0=l[R_>>2]|0,_p=a0+(_p*12|0)+8|0,_e[_p>>2]=by,_p=l[D_>>2]|0,_p=a0+(_p*12|0)|0,A1=+A1,rA=+rA,a0=_p,_e[a0>>2]=A1,_p=_p+4|0,_e[_p>>2]=rA,_p=l[D_>>2]|0,a0=l[R_>>2]|0,_p=a0+(_p*12|0)+8|0,_e[_p>>2]=G1,ws=P_;return}}function BK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0;_i=ws,O_=_+160|0,D_=l[O_>>2]|0,_s=_t+28|0,h2=l[_s>>2]|0,A_=h2+(D_*12|0)|0,b2=+_e[A_>>2],v2=+_e[A_+4>>2],F_=+_e[h2+(D_*12|0)+8>>2],D_=_+164|0,A_=l[D_>>2]|0,_t=h2+(A_*12|0)|0,t2=+_e[_t>>2],e2=+_e[_t+4>>2],f_=+_e[h2+(A_*12|0)+8>>2],A_=_+168|0,_t=l[A_>>2]|0,w2=h2+(_t*12|0)|0,V_=+_e[w2>>2],M_=+_e[w2+4>>2],n_=+_e[h2+(_t*12|0)+8>>2],_t=_+172|0,w2=l[_t>>2]|0,r2=h2+(w2*12|0)|0,x_=+_e[r2>>2],u_=+_e[r2+4>>2],S2=+_e[h2+(w2*12|0)+8>>2],J_=+_e[_+240>>2],R_=+_e[_+244>>2],__=+_e[_+248>>2],l_=+_e[_+252>>2],Q_=+_e[_+256>>2],g_=+_e[_+264>>2],P_=+_e[_+260>>2],t_=+_e[_+268>>2],s2=+_e[_+272>>2]*((b2-V_)*J_+(v2-M_)*R_+((t2-x_)*__+(e2-u_)*l_)+(F_*Q_-n_*g_+(f_*P_-S2*t_))),f2=-s2,w2=_+156|0,_e[w2>>2]=+_e[w2>>2]-s2,s2=+_e[_+208>>2]*f2,Q_=F_+ +_e[_+224>>2]*f2*Q_,F_=+_e[_+212>>2]*f2,P_=f_+ +_e[_+228>>2]*f2*P_,f_=+_e[_+216>>2]*f2,g_=n_-+_e[_+232>>2]*f2*g_,n_=+_e[_+220>>2]*f2,t_=S2-+_e[_+236>>2]*f2*t_,b2=+(b2+J_*s2),s2=+(v2+R_*s2),_=(l[_s>>2]|0)+((l[O_>>2]|0)*12|0)|0,_e[_>>2]=b2,_e[_+4>>2]=s2,_=l[_s>>2]|0,_e[_+((l[O_>>2]|0)*12|0)+8>>2]=Q_,t2=+(t2+__*F_),F_=+(e2+F_*l_),_=_+((l[D_>>2]|0)*12|0)|0,_e[_>>2]=t2,_e[_+4>>2]=F_,_=l[_s>>2]|0,_e[_+((l[D_>>2]|0)*12|0)+8>>2]=P_,J_=+(V_-J_*f_),f_=+(M_-R_*f_),_=_+((l[A_>>2]|0)*12|0)|0,_e[_>>2]=J_,_e[_+4>>2]=f_,_=l[_s>>2]|0,_e[_+((l[A_>>2]|0)*12|0)+8>>2]=g_,__=+(x_-__*n_),n_=+(u_-l_*n_),_=_+((l[_t>>2]|0)*12|0)|0,_e[_>>2]=__,_e[_+4>>2]=n_,_e[(l[_s>>2]|0)+((l[_t>>2]|0)*12|0)+8>>2]=t_,ws=_i}function PK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0,Na=0,n0=0,v0=0,C0=0;return _s=ws,_i=_+160|0,A_=l[_i>>2]|0,J_=_t+24|0,N2=l[J_>>2]|0,D_=N2+(A_*12|0)|0,_t=D_,F_=+_e[_t>>2],P_=+_e[_t+4>>2],V_=+_e[N2+(A_*12|0)+8>>2],_t=_+164|0,A_=l[_t>>2]|0,R_=N2+(A_*12|0)|0,n_=+_e[R_>>2],__=+_e[R_+4>>2],l_=+_e[N2+(A_*12|0)+8>>2],A_=_+168|0,R_=l[A_>>2]|0,P2=N2+(R_*12|0)|0,u_=+_e[P2>>2],x_=+_e[P2+4>>2],g_=+_e[N2+(R_*12|0)+8>>2],R_=_+172|0,P2=l[R_>>2]|0,F2=N2+(P2*12|0)|0,f_=+_e[F2>>2],t_=+_e[F2+4>>2],M_=+_e[N2+(P2*12|0)+8>>2],t2=+J2(+V_),e2=+B2(+V_),w2=+J2(+l_),h2=+B2(+l_),S2=+J2(+g_),r2=+B2(+g_),f2=+J2(+M_),v2=+B2(+M_),(l[_+76>>2]|0)==1?(E2=+_e[_+224>>2],r2=+_e[_+232>>2],s2=0,b2=0,O_=E2,t2=r2,Q_=1,e2=1,S2=V_-g_-+_e[_+140>>2],r2=E2+r2):(Na=+_e[_+124>>2],C2=+_e[_+128>>2],s2=r2*Na-S2*C2,b2=S2*Na+r2*C2,j2=+_e[_+108>>2]-+_e[_+192>>2],c2=+_e[_+112>>2]-+_e[_+196>>2],A2=+_e[_+92>>2]-+_e[_+176>>2],y2=+_e[_+96>>2]-+_e[_+180>>2],x2=e2*A2-t2*y2,y2=t2*A2+e2*y2,A2=b2*(r2*j2-S2*c2)-s2*(S2*j2+r2*c2),E2=b2*x2-s2*y2,d2=+_e[_+232>>2],H2=+_e[_+224>>2],x2=F_-u_+x2,y2=P_-x_+y2,O_=H2,t2=d2,Q_=E2,e2=A2,S2=Na*(r2*x2+S2*y2-j2)+C2*(r2*y2-S2*x2-c2),r2=+_e[_+216>>2]+ +_e[_+208>>2]+A2*A2*d2+E2*H2*E2),(l[_+80>>2]|0)==1?(w2=+_e[_+152>>2],d2=+_e[_+228>>2],h2=+_e[_+236>>2],E2=w2*w2*(d2+h2),H2=w2,x2=0,c2=0,A2=w2,v2=l_-M_-+_e[_+144>>2]):(v0=+_e[_+132>>2],y2=+_e[_+136>>2],x2=v2*v0-f2*y2,C0=f2*v0+v2*y2,n0=+_e[_+116>>2]-+_e[_+200>>2],Na=+_e[_+120>>2]-+_e[_+204>>2],c2=+_e[_+100>>2]-+_e[_+184>>2],C2=+_e[_+104>>2]-+_e[_+188>>2],j2=h2*c2-w2*C2,C2=w2*c2+h2*C2,c2=+_e[_+152>>2],w2=c2*(C0*(v2*n0-f2*Na)-x2*(f2*n0+v2*Na)),A2=c2*(C0*j2-x2*C2),h2=+_e[_+236>>2],d2=+_e[_+228>>2],j2=n_-f_+j2,C2=__-t_+C2,E2=c2*c2*(+_e[_+220>>2]+ +_e[_+212>>2])+w2*w2*h2+A2*d2*A2,H2=c2,x2=x2*c2,c2=C0*c2,v2=v0*(v2*j2+f2*C2-n0)+y2*(v2*C2-f2*j2-Na)),f2=r2+0+E2,f2>0?v2=-(S2+v2*H2-+_e[_+148>>2])/f2:v2=0,Na=v2*+_e[_+208>>2],n0=v2*+_e[_+212>>2],v0=v2*+_e[_+216>>2],C0=v2*+_e[_+220>>2],j2=+(F_+s2*Na),Na=+(P_+b2*Na),F2=D_,_e[F2>>2]=j2,_e[F2+4>>2]=Na,F2=l[J_>>2]|0,_e[F2+((l[_i>>2]|0)*12|0)+8>>2]=V_+Q_*v2*O_,Na=+(n_+x2*n0),n0=+(__+c2*n0),F2=F2+((l[_t>>2]|0)*12|0)|0,_e[F2>>2]=Na,_e[F2+4>>2]=n0,F2=l[J_>>2]|0,_e[F2+((l[_t>>2]|0)*12|0)+8>>2]=l_+A2*v2*d2,n0=+(u_-s2*v0),v0=+(x_-b2*v0),F2=F2+((l[A_>>2]|0)*12|0)|0,_e[F2>>2]=n0,_e[F2+4>>2]=v0,F2=l[J_>>2]|0,_e[F2+((l[A_>>2]|0)*12|0)+8>>2]=g_-e2*v2*t2,v0=+(f_-x2*C0),C0=+(t_-c2*C0),F2=F2+((l[R_>>2]|0)*12|0)|0,_e[F2>>2]=v0,_e[F2+4>>2]=C0,_e[(l[J_>>2]|0)+((l[R_>>2]|0)*12|0)+8>>2]=M_-w2*v2*h2,ws=_s,1}function wK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+48>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+92>>2],t_=+_e[l_+20>>2],_s=+_e[_t+96>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function VK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+52>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+100>>2],t_=+_e[l_+20>>2],_s=+_e[_t+104>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function DK(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0,t_=0;t_=+_e[_t+156>>2],_s=t_*+_e[_t+244>>2]*_i,_e[_>>2]=t_*+_e[_t+240>>2]*_i,_e[_+4>>2]=_s}function MK(_,_t){return _=_|0,_t=+_t,+(+_e[_+156>>2]*+_e[_+256>>2]*_t)}function GK(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0;_t=ws,ws=ws+16|0,_i=_t,__=l[(l[_+48>>2]|0)+8>>2]|0,n_=l[(l[_+52>>2]|0)+8>>2]|0,t_=l[(l[_+68>>2]|0)+56>>2]|0,_s=l[(l[_+72>>2]|0)+56>>2]|0,ta(15568,_i),l[_i>>2]=__,ta(17784,_i),l[_i>>2]=n_,ta(17816,_i),l[_i>>2]=e_[_+61>>0],ta(17848,_i),l[_i>>2]=t_,ta(15592,_i),l[_i>>2]=_s,ta(15624,_i),c_[s_>>3]=+_e[_+152>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(17048,_i),l[_i>>2]=l[_+56>>2],ta(18184,_i),ws=_t}function JK(_){_=_|0}function IK(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function TK(_){_=_|0,_=ws,ws=ws+16|0,ta(15856,_),ws=_}function RK(_){_=_|0}function FK(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function LK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0;if(__=ws,O_=l[_+52>>2]|0,t_=l[O_+8>>2]|0,n_=_+116|0,l[n_>>2]=t_,t2=O_+28|0,e2=l[t2>>2]|0,t2=l[t2+4>>2]|0,_s=_+128|0,l[_s>>2]=e2,l[_s+4>>2]=t2,l_=+_e[O_+120>>2],_e[_+136>>2]=l_,_i=+_e[O_+128>>2],_e[_+140>>2]=_i,_s=l[_t+24>>2]|0,Q_=_s+(t_*12|0)|0,f_=+_e[Q_>>2],A_=+_e[Q_+4>>2],M_=+_e[_s+(t_*12|0)+8>>2],_s=_t+28|0,Q_=l[_s>>2]|0,s2=Q_+(t_*12|0)|0,x_=+_e[s2>>2],u_=+_e[s2+4>>2],g_=+_e[Q_+(t_*12|0)+8>>2],D_=+J2(+M_),M_=+B2(+M_),F_=+_e[O_+116>>2],P_=+_e[_+84>>2]*6.2831854820251465,V_=+_e[_t>>2],J_=V_*F_*P_*P_,F_=P_*F_*2*+_e[_+88>>2]+J_,P_=(l[s_>>2]=e2,+_e[s_>>2]),R_=(l[s_>>2]=t2,+_e[s_>>2]),F_>11920928955078125e-23||Y2(16232,15984,125,16272),V_=V_*F_,V_!=0&&(V_=1/V_),_e[_+108>>2]=V_,J_=J_*V_,_e[_+92>>2]=J_,P_=+_e[_+68>>2]-P_,F_=+_e[_+72>>2]-R_,R_=M_*P_-D_*F_,M_=D_*P_+M_*F_,F_=+R_,P_=+M_,s2=_+120|0,_e[s2>>2]=F_,_e[s2+4>>2]=P_,P_=V_+(l_+M_*_i*M_),F_=_i*R_,D_=M_*F_,V_=V_+(l_+R_*F_),F_=P_*V_-D_*D_,F_!=0&&(F_=1/F_),D_=D_*F_,_e[_+144>>2]=V_*F_,_e[_+148>>2]=D_,_e[_+152>>2]=D_,_e[_+156>>2]=P_*F_,t2=_+160|0,F_=f_+R_-+_e[_+76>>2],A_=A_+M_-+_e[_+80>>2],D_=+F_,P_=+A_,s2=t2,_e[s2>>2]=D_,_e[s2+4>>2]=P_,_e[t2>>2]=J_*F_,_e[_+164>>2]=J_*A_,A_=g_*.9800000190734863,t2=_+96|0,_o[_t+20>>0]|0){V_=+_e[_t+8>>2],F_=V_*+_e[t2>>2],_e[t2>>2]=F_,s2=_+100|0,V_=V_*+_e[s2>>2],_e[s2>>2]=V_,D_=x_+l_*F_,P_=u_+V_*l_,F_=A_+_i*(V_*R_-F_*M_),s2=l[_s>>2]|0,s2=s2+(t_*12|0)|0,D_=+D_,P_=+P_,Q_=s2,_e[Q_>>2]=D_,s2=s2+4|0,_e[s2>>2]=P_,s2=l[n_>>2]|0,Q_=l[_s>>2]|0,s2=Q_+(s2*12|0)+8|0,_e[s2>>2]=F_,ws=__;return}else{_e[t2>>2]=0,_e[_+100>>2]=0,D_=x_,P_=u_,F_=A_,s2=l[_s>>2]|0,s2=s2+(t_*12|0)|0,D_=+D_,P_=+P_,Q_=s2,_e[Q_>>2]=D_,s2=s2+4|0,_e[s2>>2]=P_,s2=l[n_>>2]|0,Q_=l[_s>>2]|0,s2=Q_+(s2*12|0)+8|0,_e[s2>>2]=F_,ws=__;return}}function qK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0;g_=ws,_s=_+116|0,M_=l[_s>>2]|0,t_=_t+28|0,R_=l[t_>>2]|0,n_=R_+(M_*12|0)|0,t2=n_,l_=+_e[t2>>2],__=+_e[t2+4>>2],A_=+_e[R_+(M_*12|0)+8>>2],u_=+_e[_+124>>2],x_=+_e[_+120>>2],V_=+_e[_+108>>2],M_=_+96|0,F_=+_e[M_>>2],R_=_+100|0,J_=+_e[R_>>2],D_=-(l_-A_*u_+ +_e[_+160>>2]+V_*F_),V_=-(__+A_*x_+ +_e[_+164>>2]+V_*J_),P_=+_e[_+148>>2]*D_+ +_e[_+156>>2]*V_,t2=M_,f_=+_e[t2>>2],_i=+_e[t2+4>>2],V_=F_+(+_e[_+144>>2]*D_+ +_e[_+152>>2]*V_),_e[M_>>2]=V_,J_=P_+J_,_e[R_>>2]=J_,P_=+_e[_t>>2]*+_e[_+104>>2],D_=J_*J_+V_*V_,D_>P_*P_&&(F_=P_/+V2(+D_),V_=V_*F_,_e[M_>>2]=V_,J_=F_*J_,_e[R_>>2]=J_),D_=V_-f_,V_=J_-_i,P_=+_e[_+136>>2],F_=A_+ +_e[_+140>>2]*(V_*x_-D_*u_),D_=+(l_+D_*P_),P_=+(__+V_*P_),t2=n_,_e[t2>>2]=D_,_e[t2+4>>2]=P_,_e[(l[t_>>2]|0)+((l[_s>>2]|0)*12|0)+8>>2]=F_,ws=g_}function EK(_,_t){return _=_|0,_t=_t|0,1}function kK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t+76|0,_i=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function jK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+52>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+68>>2],t_=+_e[l_+20>>2],_s=+_e[_t+72>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function zK(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=+_e[_t+100>>2]*_i,_e[_>>2]=+_e[_t+96>>2]*_i,_e[_+4>>2]=_s}function WK(_,_t){return _=_|0,_t=+_t,+(_t*0)}function NK(_,_t){_=_|0,_t=_t|0;var _i=0;_i=_+76|0,_e[_i>>2]=+_e[_i>>2]-+_e[_t>>2],_=_+80|0,_e[_>>2]=+_e[_>>2]-+_e[_t+4>>2]}function OK(_){_=_|0,_=ws,ws=ws+16|0,ta(16328,_),ws=_}function UK(_){_=_|0}function XK(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function YK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0,Na=0,n0=0;J_=ws,g_=l[_+48>>2]|0,y2=l[g_+8>>2]|0,A_=_+144|0,l[A_>>2]=y2,F2=l[_+52>>2]|0,P2=l[F2+8>>2]|0,f_=_+148|0,l[f_>>2]=P2,H2=g_+28|0,E2=l[H2>>2]|0,H2=l[H2+4>>2]|0,A2=_+152|0,l[A2>>2]=E2,l[A2+4>>2]=H2,A2=F2+28|0,d2=l[A2>>2]|0,A2=l[A2+4>>2]|0,c2=_+160|0,l[c2>>2]=d2,l[c2+4>>2]=A2,c2=_+168|0,_e[c2>>2]=+_e[g_+120>>2],M_=+_e[F2+120>>2],_e[_+172>>2]=M_,V_=+_e[g_+128>>2],_e[_+176>>2]=V_,P_=+_e[F2+128>>2],_e[_+180>>2]=P_,F2=l[_t+24>>2]|0,g_=F2+(y2*12|0)|0,s2=+_e[g_>>2],f2=+_e[g_+4>>2],x2=+_e[F2+(y2*12|0)+8>>2],g_=_t+28|0,N2=l[g_>>2]|0,C2=N2+(y2*12|0)|0,t_=+_e[C2>>2],n_=+_e[C2+4>>2],u_=+_e[N2+(y2*12|0)+8>>2],y2=F2+(P2*12|0)|0,F_=+_e[y2>>2],R_=+_e[y2+4>>2],_s=+_e[F2+(P2*12|0)+8>>2],F2=N2+(P2*12|0)|0,__=+_e[F2>>2],l_=+_e[F2+4>>2],x_=+_e[N2+(P2*12|0)+8>>2],e2=+J2(+x2),x2=+B2(+x2),_i=+J2(+_s),_s=+B2(+_s),D_=+_e[_+68>>2]-(l[s_>>2]=E2,+_e[s_>>2]),r2=+_e[_+72>>2]-(l[s_>>2]=H2,+_e[s_>>2]),O_=x2*D_-e2*r2,r2=e2*D_+x2*r2,D_=+_e[_+76>>2]-(l[s_>>2]=d2,+_e[s_>>2]),Q_=+_e[_+80>>2]-(l[s_>>2]=A2,+_e[s_>>2]),h2=_s*D_-_i*Q_,Q_=_i*D_+_s*Q_,s2=F_-s2+h2-O_,f2=R_-f2+Q_-r2,R_=+_e[c2>>2],F_=+_e[_+84>>2],_s=+_e[_+88>>2],D_=x2*F_-e2*_s,_s=e2*F_+x2*_s,F_=+D_,_i=+_s,c2=_+184|0,_e[c2>>2]=F_,_e[c2+4>>2]=_i,O_=O_+s2,r2=r2+f2,_i=O_*_s-r2*D_,_e[_+208>>2]=_i,F_=h2*_s-Q_*D_,_e[_+212>>2]=F_,w2=R_+M_,b2=V_*_i,v2=P_*F_,S2=w2+_i*b2+F_*v2,S2>0?t2=1/S2:t2=S2,_e[_+252>>2]=t2,n0=+_e[_+92>>2],Na=+_e[_+96>>2],t2=x2*n0-e2*Na,e2=e2*n0+x2*Na,Na=+t2,n0=+e2,C2=_+192|0,_e[C2>>2]=Na,_e[C2+4>>2]=n0,O_=O_*e2-r2*t2,_e[_+200>>2]=O_,Q_=h2*e2-Q_*t2,_e[_+204>>2]=Q_,n0=V_*O_,Na=P_*Q_,j2=n0+Na,r2=n0*_i+Na*F_,h2=P_+V_,x2=b2+v2,_e[_+216>>2]=w2+O_*n0+Q_*Na,_e[_+220>>2]=j2,_e[_+224>>2]=r2,_e[_+228>>2]=j2,_e[_+232>>2]=h2==0?1:h2,_e[_+236>>2]=x2,_e[_+240>>2]=r2,_e[_+244>>2]=x2,_e[_+248>>2]=S2;do if(_o[_+136>>0]|0){if(s2=s2*D_+f2*_s,b2=+_e[_+124>>2],v2=+_e[_+120>>2],f2=b2-v2,f2>0||(f2=-f2),f2<.009999999776482582){l[_+140>>2]=3;break}if(s2<=v2){if(c2=_+140|0,(l[c2>>2]|0)==1)break;l[c2>>2]=1,_e[_+112>>2]=0;break}if(c2=_+140|0,!(s2>=b2)){l[c2>>2]=0,_e[_+112>>2]=0;break}(l[c2>>2]|0)!=2&&(l[c2>>2]=2,_e[_+112>>2]=0)}else l[_+140>>2]=0,_e[_+112>>2]=0;while(!1);if(_o[_+137>>0]|0||(_e[_+116>>2]=0),c2=_+104|0,_o[_t+20>>0]|0){y2=_t+8|0,n0=+_e[y2>>2],w2=n0*+_e[c2>>2],_e[c2>>2]=w2,C2=_+108|0,S2=n0*+_e[C2>>2],_e[C2>>2]=S2,C2=_+112|0,n0=n0*+_e[C2>>2],_e[C2>>2]=n0,C2=_+116|0,j2=+_e[y2>>2]*+_e[C2>>2],_e[C2>>2]=j2,n0=j2+n0,j2=w2*t2+D_*n0,Na=w2*e2+n0*_s,h2=t_-R_*j2,r2=n_-R_*Na,j2=__+M_*j2,Na=l_+M_*Na,x2=u_-V_*(w2*O_+S2+n0*_i),n0=x_+P_*(S2+w2*Q_+n0*F_),C2=l[A_>>2]|0,y2=l[g_>>2]|0,C2=y2+(C2*12|0)|0,h2=+h2,r2=+r2,y2=C2,_e[y2>>2]=h2,C2=C2+4|0,_e[C2>>2]=r2,C2=l[A_>>2]|0,y2=l[g_>>2]|0,C2=y2+(C2*12|0)+8|0,_e[C2>>2]=x2,C2=l[f_>>2]|0,C2=y2+(C2*12|0)|0,j2=+j2,Na=+Na,y2=C2,_e[y2>>2]=j2,C2=C2+4|0,_e[C2>>2]=Na,C2=l[f_>>2]|0,y2=l[g_>>2]|0,C2=y2+(C2*12|0)+8|0,_e[C2>>2]=n0,ws=J_;return}else{l[c2+0>>2]=0,l[c2+4>>2]=0,l[c2+8>>2]=0,l[c2+12>>2]=0,h2=t_,r2=n_,j2=__,Na=l_,x2=u_,n0=x_,C2=l[A_>>2]|0,y2=l[g_>>2]|0,C2=y2+(C2*12|0)|0,h2=+h2,r2=+r2,y2=C2,_e[y2>>2]=h2,C2=C2+4|0,_e[C2>>2]=r2,C2=l[A_>>2]|0,y2=l[g_>>2]|0,C2=y2+(C2*12|0)+8|0,_e[C2>>2]=x2,C2=l[f_>>2]|0,C2=y2+(C2*12|0)|0,j2=+j2,Na=+Na,y2=C2,_e[y2>>2]=j2,C2=C2+4|0,_e[C2>>2]=Na,C2=l[f_>>2]|0,y2=l[g_>>2]|0,C2=y2+(C2*12|0)+8|0,_e[C2>>2]=n0,ws=J_;return}}function HK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0;if(_i=ws,ws=ws+48|0,A_=_i+28|0,V_=_i+16|0,g_=_i+8|0,Q_=_i,l_=_+144|0,x_=l[l_>>2]|0,u_=_t+28|0,c2=l[u_>>2]|0,P2=c2+(x_*12|0)|0,D_=+_e[P2>>2],R_=+_e[P2+4>>2],P_=+_e[c2+(x_*12|0)+8>>2],x_=_+148|0,P2=l[x_>>2]|0,x2=c2+(P2*12|0)|0,M_=+_e[x2>>2],f_=+_e[x2+4>>2],e2=+_e[c2+(P2*12|0)+8>>2],_s=+_e[_+168>>2],t_=+_e[_+172>>2],n_=+_e[_+176>>2],__=+_e[_+180>>2],_o[_+137>>0]|0&&(l[_+140>>2]|0)!=3&&(A2=+_e[_+184>>2],S2=+_e[_+188>>2],H2=+_e[_+212>>2],d2=+_e[_+208>>2],P2=_+116|0,E2=+_e[P2>>2],b2=+_e[_t>>2]*+_e[_+128>>2],N2=E2+ +_e[_+252>>2]*(+_e[_+132>>2]-((M_-D_)*A2+(f_-R_)*S2+e2*H2-P_*d2)),s2=-b2,b2=N2<b2?N2:b2,b2=b2<s2?s2:b2,_e[P2>>2]=b2,E2=b2-E2,A2=A2*E2,S2=S2*E2,f_=f_+t_*S2,R_=R_-_s*S2,M_=M_+t_*A2,D_=D_-_s*A2,P_=P_-n_*d2*E2,e2=e2+__*H2*E2),H2=M_-D_,E2=f_-R_,F_=_+192|0,O_=_+196|0,t2=_+204|0,_t=_+200|0,A2=H2*+_e[F_>>2]+E2*+_e[O_>>2]+e2*+_e[t2>>2]-P_*+_e[_t>>2],d2=e2-P_,_o[_+136>>0]|0&&(J_=_+140|0,(l[J_>>2]|0)!=0)){r2=_+184|0,c2=_+188|0,Q_=_+212|0,x2=_+208|0,w2=_+104|0,s2=+_e[w2>>2],h2=_+108|0,b2=+_e[h2>>2],f2=_+112|0,S2=+_e[f2>>2],v2=_+216|0,A2=-A2,d2=-d2,H2=-(H2*+_e[r2>>2]+E2*+_e[c2>>2]+e2*+_e[Q_>>2]-P_*+_e[x2>>2]),_e[V_>>2]=A2,_e[V_+4>>2]=d2,_e[V_+8>>2]=H2,_D(A_,v2,V_),_e[w2>>2]=+_e[A_>>2]+ +_e[w2>>2],P2=A_+4|0,_e[h2>>2]=+_e[P2>>2]+ +_e[h2>>2],V_=A_+8|0,H2=+_e[V_>>2]+ +_e[f2>>2],_e[f2>>2]=H2,J_=l[J_>>2]|0,(J_|0)==1?(H2=H2>0?H2:0,_e[f2>>2]=H2):(J_|0)==2&&(H2=H2<0?H2:0,_e[f2>>2]=H2),E2=H2-S2,aD(g_,v2,A2-+_e[_+240>>2]*E2,d2-E2*+_e[_+244>>2]),A2=s2+ +_e[g_>>2],d2=b2+ +_e[g_+4>>2],_e[w2>>2]=A2,_e[h2>>2]=d2,A2=A2-s2,d2=d2-b2,E2=+_e[f2>>2]-S2,_e[A_>>2]=A2,_e[P2>>2]=d2,_e[V_>>2]=E2,N2=d2+A2*+_e[t2>>2]+E2*+_e[Q_>>2],H2=A2*+_e[F_>>2]+E2*+_e[r2>>2],d2=A2*+_e[_t>>2]+d2+E2*+_e[x2>>2],E2=A2*+_e[O_>>2]+E2*+_e[c2>>2],A2=_s*E2,S2=_s*H2,S2=D_-S2,A2=R_-A2,H2=t_*H2,E2=t_*E2,H2=M_+H2,E2=f_+E2,d2=n_*d2,N2=__*N2,d2=P_-d2,N2=e2+N2,P2=l[l_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)|0,S2=+S2,A2=+A2,c2=P2,_e[c2>>2]=S2,P2=P2+4|0,_e[P2>>2]=A2,P2=l[l_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)+8|0,_e[P2>>2]=d2,P2=l[x_>>2]|0,P2=c2+(P2*12|0)|0,H2=+H2,E2=+E2,c2=P2,_e[c2>>2]=H2,P2=P2+4|0,_e[P2>>2]=E2,P2=l[x_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)+8|0,_e[P2>>2]=N2,ws=_i;return}aD(Q_,_+216|0,-A2,-d2),E2=+_e[Q_>>2],P2=_+104|0,_e[P2>>2]=E2+ +_e[P2>>2],d2=+_e[Q_+4>>2],P2=_+108|0,_e[P2>>2]=d2+ +_e[P2>>2],N2=d2+E2*+_e[t2>>2],H2=E2*+_e[F_>>2],d2=E2*+_e[_t>>2]+d2,E2=E2*+_e[O_>>2],A2=_s*E2,S2=_s*H2,S2=D_-S2,A2=R_-A2,H2=t_*H2,E2=t_*E2,H2=M_+H2,E2=f_+E2,d2=n_*d2,N2=__*N2,d2=P_-d2,N2=e2+N2,P2=l[l_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)|0,S2=+S2,A2=+A2,c2=P2,_e[c2>>2]=S2,P2=P2+4|0,_e[P2>>2]=A2,P2=l[l_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)+8|0,_e[P2>>2]=d2,P2=l[x_>>2]|0,P2=c2+(P2*12|0)|0,H2=+H2,E2=+E2,c2=P2,_e[c2>>2]=H2,P2=P2+4|0,_e[P2>>2]=E2,P2=l[x_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)+8|0,_e[P2>>2]=N2,ws=_i}function ZK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0;_s=ws,ws=ws+64|0,S2=_s+24|0,s2=_s+12|0,v2=_s,_i=_+144|0,H2=l[_i>>2]|0,F_=_t+24|0,E2=l[F_>>2]|0,_t=E2+(H2*12|0)|0,D_=+_e[_t>>2],P_=+_e[_t+4>>2],e2=+_e[E2+(H2*12|0)+8>>2],_t=_+148|0,H2=l[_t>>2]|0,P2=E2+(H2*12|0)|0,O_=+_e[P2>>2],Q_=+_e[P2+4>>2],l_=+_e[E2+(H2*12|0)+8>>2],c2=+J2(+e2),d2=+B2(+e2),u_=+J2(+l_),h2=+B2(+l_),x_=+_e[_+168>>2],A_=+_e[_+172>>2],t2=+_e[_+176>>2],t_=+_e[_+180>>2],r2=+_e[_+68>>2]-+_e[_+152>>2],g_=+_e[_+72>>2]-+_e[_+156>>2],b2=d2*r2-c2*g_,g_=c2*r2+d2*g_,r2=+_e[_+76>>2]-+_e[_+160>>2],f_=+_e[_+80>>2]-+_e[_+164>>2],f2=h2*r2-u_*f_,f_=u_*r2+h2*f_,h2=O_+f2-D_-b2,r2=Q_+f_-P_-g_,u_=+_e[_+84>>2],M_=+_e[_+88>>2],J_=d2*u_-c2*M_,M_=c2*u_+d2*M_,b2=b2+h2,g_=g_+r2,u_=M_*b2-J_*g_,__=f2*M_-f_*J_,A2=+_e[_+92>>2],V_=+_e[_+96>>2],R_=d2*A2-c2*V_,V_=c2*A2+d2*V_,g_=V_*b2-R_*g_,f_=f2*V_-f_*R_,f2=R_*h2+V_*r2,b2=l_-e2-+_e[_+100>>2],f2>0?w2=f2:w2=-f2,b2>0?n_=b2:n_=-b2;do if(_o[_+136>>0]|0){if(h2=J_*h2+M_*r2,r2=+_e[_+124>>2],x2=+_e[_+120>>2],c2=r2-x2,c2>0||(c2=-c2),c2<.009999999776482582){r2=h2<.20000000298023224?h2:.20000000298023224,h2>0||(h2=-h2),x2=r2<-.20000000298023224?-.20000000298023224:r2,_=1,w2=w2>h2?w2:h2;break}if(h2<=x2){A2=h2-x2+.004999999888241291,A2=A2<0?A2:0,d2=x2-h2,x2=A2<-.20000000298023224?-.20000000298023224:A2,_=1,w2=w2>d2?w2:d2;break}h2>=r2?(d2=h2-r2,x2=d2+-.004999999888241291,x2=x2<.20000000298023224?x2:.20000000298023224,x2=x2<0?0:x2,_=1,w2=w2>d2?w2:d2):(x2=0,_=0)}else x2=0,_=0;while(!1);return c2=x_+A_,A2=t2*g_,d2=t_*f_,h2=f_*d2+(c2+g_*A2),r2=d2+A2,_?(F2=__*d2+u_*A2,y2=t2+t_,d2=t2*u_,A2=t_*__,N2=A2+d2,_e[S2>>2]=h2,_e[S2+4>>2]=r2,_e[S2+8>>2]=F2,_e[S2+12>>2]=r2,_e[S2+16>>2]=y2==0?1:y2,_e[S2+20>>2]=N2,_e[S2+24>>2]=F2,_e[S2+28>>2]=N2,_e[S2+32>>2]=__*A2+(c2+u_*d2),_e[v2>>2]=-f2,_e[v2+4>>2]=-b2,_e[v2+8>>2]=-x2,_D(s2,S2,v2),b2=+_e[s2>>2],x2=+_e[s2+8>>2],f2=+_e[s2+4>>2]):(x2=t2+t_,x2=x2==0?1:x2,f2=-f2,c2=-b2,A2=x2*h2-r2*r2,A2!=0&&(A2=1/A2),b2=(x2*f2-r2*c2)*A2,x2=0,f2=(h2*c2-r2*f2)*A2),F2=J_*x2+R_*b2,y2=M_*x2+V_*b2,d2=+(D_-x_*F2),N2=+(P_-x_*y2),P2=(l[F_>>2]|0)+((l[_i>>2]|0)*12|0)|0,_e[P2>>2]=d2,_e[P2+4>>2]=N2,P2=l[F_>>2]|0,_e[P2+((l[_i>>2]|0)*12|0)+8>>2]=e2-t2*(u_*x2+(f2+g_*b2)),F2=+(O_+A_*F2),y2=+(Q_+A_*y2),P2=P2+((l[_t>>2]|0)*12|0)|0,_e[P2>>2]=F2,_e[P2+4>>2]=y2,_e[(l[F_>>2]|0)+((l[_t>>2]|0)*12|0)+8>>2]=l_+t_*(__*x2+(f2+f_*b2)),w2<=.004999999888241291?(P2=n_<=.03490658849477768,ws=_s,P2|0):(P2=0,ws=_s,P2|0)}function KK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+48>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+68>>2],t_=+_e[l_+20>>2],_s=+_e[_t+72>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function QK(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+52>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+76>>2],t_=+_e[l_+20>>2],_s=+_e[_t+80>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function $K(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0,t_=0,n_=0;n_=+_e[_t+104>>2],t_=+_e[_t+116>>2]+ +_e[_t+112>>2],_s=(n_*+_e[_t+196>>2]+t_*+_e[_t+188>>2])*_i,_e[_>>2]=(n_*+_e[_t+192>>2]+ +_e[_t+184>>2]*t_)*_i,_e[_+4>>2]=_s}function tQ(_,_t){return _=_|0,_t=+_t,+(+_e[_+108>>2]*_t)}function eQ(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;_t=ws,ws=ws+16|0,_i=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,ta(16480,_i),l[_i>>2]=n_,ta(17784,_i),l[_i>>2]=_s,ta(17816,_i),l[_i>>2]=e_[_+61>>0],ta(17848,_i),t_=+_e[_+72>>2],c_[s_>>3]=+_e[_+68>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17888,_i),t_=+_e[_+80>>2],c_[s_>>3]=+_e[_+76>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17936,_i),t_=+_e[_+88>>2],c_[s_>>3]=+_e[_+84>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17984,_i),c_[s_>>3]=+_e[_+100>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(17640,_i),l[_i>>2]=e_[_+136>>0],ta(17280,_i),c_[s_>>3]=+_e[_+120>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(16512,_i),c_[s_>>3]=+_e[_+124>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(16552,_i),l[_i>>2]=e_[_+137>>0],ta(18024,_i),c_[s_>>3]=+_e[_+132>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18056,_i),c_[s_>>3]=+_e[_+128>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(16592,_i),l[_i>>2]=l[_+56>>2],ta(18184,_i),ws=_t}function oQ(_){_=_|0}function iQ(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function rQ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0;if(A_=ws,V_=l[_+48>>2]|0,H2=l[V_+8>>2]|0,l_=_+120|0,l[l_>>2]=H2,d2=l[_+52>>2]|0,c2=l[d2+8>>2]|0,x_=_+124|0,l[x_>>2]=c2,s2=V_+28|0,x2=l[s2>>2]|0,s2=l[s2+4>>2]|0,F_=_+160|0,l[F_>>2]=x2,l[F_+4>>2]=s2,F_=d2+28|0,f2=l[F_>>2]|0,F_=l[F_+4>>2]|0,e2=_+168|0,l[e2>>2]=f2,l[e2+4>>2]=F_,e2=_+176|0,_e[e2>>2]=+_e[V_+120>>2],F_=_+180|0,_e[F_>>2]=+_e[d2+120>>2],t2=_+184|0,_e[t2>>2]=+_e[V_+128>>2],V_=_+188|0,_e[V_>>2]=+_e[d2+128>>2],d2=l[_t+24>>2]|0,u_=d2+(H2*12|0)|0,P_=+_e[u_>>2],v2=+_e[u_+4>>2],R_=+_e[d2+(H2*12|0)+8>>2],u_=_t+28|0,A2=l[u_>>2]|0,E2=A2+(H2*12|0)|0,M_=+_e[E2>>2],J_=+_e[E2+4>>2],n_=+_e[A2+(H2*12|0)+8>>2],H2=d2+(c2*12|0)|0,Q_=+_e[H2>>2],b2=+_e[H2+4>>2],O_=+_e[d2+(c2*12|0)+8>>2],d2=A2+(c2*12|0)|0,_s=+_e[d2>>2],t_=+_e[d2+4>>2],__=+_e[A2+(c2*12|0)+8>>2],_i=+J2(+R_),R_=+B2(+R_),r2=+J2(+O_),O_=+B2(+O_),D_=+_e[_+92>>2]-(l[s_>>2]=x2,+_e[s_>>2]),f_=+_e[_+96>>2]-(l[s_>>2]=s2,+_e[s_>>2]),g_=R_*D_-_i*f_,f_=_i*D_+R_*f_,R_=+g_,D_=+f_,s2=_+144|0,_e[s2>>2]=R_,_e[s2+4>>2]=D_,D_=+_e[_+100>>2]-(l[s_>>2]=f2,+_e[s_>>2]),R_=+_e[_+104>>2]-+_e[_+172>>2],_i=O_*D_-r2*R_,R_=r2*D_+O_*R_,O_=+_i,D_=+R_,f2=_+152|0,_e[f2>>2]=O_,_e[f2+4>>2]=D_,f2=_+128|0,P_=P_+g_-+_e[_+68>>2],v2=v2+f_-+_e[_+72>>2],D_=+P_,O_=+v2,s2=f2,_e[s2>>2]=D_,_e[s2+4>>2]=O_,s2=_+136|0,Q_=Q_+_i-+_e[_+76>>2],b2=b2+R_-+_e[_+80>>2],O_=+Q_,D_=+b2,x2=s2,_e[x2>>2]=O_,_e[x2+4>>2]=D_,D_=+V2(+(P_*P_+v2*v2)),O_=+V2(+(Q_*Q_+b2*b2)),D_>.04999999701976776?(D_=1/D_,P_=P_*D_,_e[f2>>2]=P_,D_=D_*v2):(_e[f2>>2]=0,D_=0,P_=0),_e[_+132>>2]=D_,O_>.04999999701976776?(O_=1/O_,Q_=O_*Q_,_e[s2>>2]=Q_,O_=O_*b2):(_e[s2>>2]=0,O_=0,Q_=0),_e[_+140>>2]=O_,P2=g_*D_-f_*P_,r2=_i*O_-R_*Q_,b2=+_e[e2>>2],v2=+_e[t2>>2],S2=+_e[F_>>2],h2=+_e[V_>>2],w2=+_e[_+112>>2],r2=b2+P2*P2*v2+w2*w2*(S2+r2*r2*h2),r2>0&&(r2=1/r2),_e[_+192>>2]=r2,_o[_t+20>>0]|0){E2=_+116|0,P2=+_e[_t+8>>2]*+_e[E2>>2],_e[E2>>2]=P2,r2=-P2,P_=P_*r2,D_=D_*r2,w2=-(P2*w2),P2=Q_*w2,O_=O_*w2,Q_=M_+P_*b2,b2=J_+D_*b2,w2=_s+P2*S2,r2=t_+O_*S2,S2=n_+v2*(D_*g_-P_*f_),P2=__+h2*(O_*_i-P2*R_),E2=l[l_>>2]|0,H2=l[u_>>2]|0,E2=H2+(E2*12|0)|0,v2=+Q_,h2=+b2,H2=E2,_e[H2>>2]=v2,E2=E2+4|0,_e[E2>>2]=h2,E2=l[l_>>2]|0,H2=l[u_>>2]|0,E2=H2+(E2*12|0)+8|0,_e[E2>>2]=S2,E2=l[x_>>2]|0,E2=H2+(E2*12|0)|0,h2=+w2,r2=+r2,H2=E2,_e[H2>>2]=h2,E2=E2+4|0,_e[E2>>2]=r2,E2=l[x_>>2]|0,H2=l[u_>>2]|0,E2=H2+(E2*12|0)+8|0,_e[E2>>2]=P2,ws=A_;return}else{_e[_+116>>2]=0,v2=M_,S2=J_,h2=_s,r2=t_,w2=n_,P2=__,E2=l[l_>>2]|0,H2=l[u_>>2]|0,E2=H2+(E2*12|0)|0,v2=+v2,S2=+S2,H2=E2,_e[H2>>2]=v2,E2=E2+4|0,_e[E2>>2]=S2,E2=l[l_>>2]|0,H2=l[u_>>2]|0,E2=H2+(E2*12|0)+8|0,_e[E2>>2]=w2,E2=l[x_>>2]|0,E2=H2+(E2*12|0)|0,h2=+h2,r2=+r2,H2=E2,_e[H2>>2]=h2,E2=E2+4|0,_e[E2>>2]=r2,E2=l[x_>>2]|0,H2=l[u_>>2]|0,E2=H2+(E2*12|0)+8|0,_e[E2>>2]=P2,ws=A_;return}}function nQ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0;_i=ws,A_=_+120|0,O_=l[A_>>2]|0,_s=_t+28|0,Q_=l[_s>>2]|0,R_=Q_+(O_*12|0)|0,_t=R_,D_=+_e[_t>>2],V_=+_e[_t+4>>2],t2=+_e[Q_+(O_*12|0)+8>>2],_t=_+124|0,O_=l[_t>>2]|0,s2=Q_+(O_*12|0)|0,x_=+_e[s2>>2],u_=+_e[s2+4>>2],F_=+_e[Q_+(O_*12|0)+8>>2],g_=+_e[_+148>>2],n_=+_e[_+144>>2],t_=+_e[_+156>>2],P_=+_e[_+152>>2],J_=+_e[_+128>>2],M_=+_e[_+132>>2],e2=+_e[_+112>>2],__=+_e[_+136>>2],l_=+_e[_+140>>2],f_=+_e[_+192>>2]*(-((D_-t2*g_)*J_+(V_+t2*n_)*M_)-e2*((x_-F_*t_)*__+(u_+F_*P_)*l_)),O_=_+116|0,_e[O_>>2]=+_e[O_>>2]-f_,J_=J_*f_,M_=M_*f_,f_=e2*f_,__=__*f_,l_=f_*l_,f_=+_e[_+176>>2],g_=t2+ +_e[_+184>>2]*(M_*n_-J_*g_),n_=+_e[_+180>>2],t_=F_+ +_e[_+188>>2]*(l_*P_-__*t_),J_=+(D_+J_*f_),f_=+(V_+M_*f_),_=R_,_e[_>>2]=J_,_e[_+4>>2]=f_,_=l[_s>>2]|0,_e[_+((l[A_>>2]|0)*12|0)+8>>2]=g_,__=+(x_+__*n_),n_=+(u_+l_*n_),_=_+((l[_t>>2]|0)*12|0)|0,_e[_>>2]=__,_e[_+4>>2]=n_,_e[(l[_s>>2]|0)+((l[_t>>2]|0)*12|0)+8>>2]=t_,ws=_i}function sQ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0;return _i=ws,_s=_+120|0,A_=l[_s>>2]|0,_t=_t+24|0,w2=l[_t>>2]|0,u_=w2+(A_*12|0)|0,S2=u_,l_=+_e[S2>>2],R_=+_e[S2+4>>2],t_=+_e[w2+(A_*12|0)+8>>2],A_=_+124|0,S2=l[A_>>2]|0,h2=w2+(S2*12|0)|0,M_=+_e[h2>>2],x_=+_e[h2+4>>2],g_=+_e[w2+(S2*12|0)+8>>2],f_=+J2(+t_),V_=+B2(+t_),e2=+J2(+g_),P_=+B2(+g_),J_=+_e[_+92>>2]-+_e[_+160>>2],__=+_e[_+96>>2]-+_e[_+164>>2],n_=V_*J_-f_*__,__=f_*J_+V_*__,V_=+_e[_+100>>2]-+_e[_+168>>2],J_=+_e[_+104>>2]-+_e[_+172>>2],f_=P_*V_-e2*J_,J_=e2*V_+P_*J_,P_=l_+n_-+_e[_+68>>2],V_=R_+__-+_e[_+72>>2],e2=M_+f_-+_e[_+76>>2],t2=x_+J_-+_e[_+80>>2],F_=+V2(+(P_*P_+V_*V_)),D_=+V2(+(e2*e2+t2*t2)),F_>.04999999701976776?(f2=1/F_,V_=V_*f2,P_=P_*f2):(V_=0,P_=0),D_>.04999999701976776?(v2=1/D_,t2=t2*v2,v2=e2*v2):(t2=0,v2=0),r2=n_*V_-__*P_,f2=f_*t2-J_*v2,Q_=+_e[_+176>>2],O_=+_e[_+184>>2],e2=+_e[_+180>>2],s2=+_e[_+188>>2],b2=+_e[_+112>>2],f2=Q_+r2*r2*O_+b2*b2*(e2+f2*f2*s2),f2>0&&(f2=1/f2),D_=+_e[_+108>>2]-F_-D_*b2,D_>0?F_=D_:F_=-D_,f2=f2*D_,P_=P_*f2,D_=V_*f2,f2=f2*b2,r2=v2*f2,f2=t2*f2,v2=+(l_+P_*Q_),b2=+(R_+D_*Q_),h2=u_,_e[h2>>2]=v2,_e[h2+4>>2]=b2,h2=l[_t>>2]|0,_e[h2+((l[_s>>2]|0)*12|0)+8>>2]=t_+(n_*D_-__*P_)*O_,b2=+(M_+r2*e2),v2=+(x_+f2*e2),h2=h2+((l[A_>>2]|0)*12|0)|0,_e[h2>>2]=b2,_e[h2+4>>2]=v2,_e[(l[_t>>2]|0)+((l[A_>>2]|0)*12|0)+8>>2]=g_+s2*(f_*f2-J_*r2),ws=_i,F_<.004999999888241291|0}function _Q(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+48>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+92>>2],t_=+_e[l_+20>>2],_s=+_e[_t+96>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function aQ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+52>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+100>>2],t_=+_e[l_+20>>2],_s=+_e[_t+104>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function pQ(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0,t_=0;t_=+_e[_t+116>>2],_s=t_*+_e[_t+140>>2]*_i,_e[_>>2]=t_*+_e[_t+136>>2]*_i,_e[_+4>>2]=_s}function lQ(_,_t){return _=_|0,_t=+_t,0}function cQ(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;_t=ws,ws=ws+16|0,_i=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,ta(16864,_i),l[_i>>2]=n_,ta(17784,_i),l[_i>>2]=_s,ta(17816,_i),l[_i>>2]=e_[_+61>>0],ta(17848,_i),t_=+_e[_+72>>2],c_[s_>>3]=+_e[_+68>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(16888,_i),t_=+_e[_+80>>2],c_[s_>>3]=+_e[_+76>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(16936,_i),t_=+_e[_+96>>2],c_[s_>>3]=+_e[_+92>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17888,_i),t_=+_e[_+104>>2],c_[s_>>3]=+_e[_+100>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17936,_i),c_[s_>>3]=+_e[_+84>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(16984,_i),c_[s_>>3]=+_e[_+88>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(17016,_i),c_[s_>>3]=+_e[_+112>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(17048,_i),l[_i>>2]=l[_+56>>2],ta(18184,_i),ws=_t}function mQ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_i=_+68|0,_e[_i>>2]=+_e[_i>>2]-+_e[_t>>2],_i=_t+4|0,_s=_+72|0,_e[_s>>2]=+_e[_s>>2]-+_e[_i>>2],_s=_+76|0,_e[_s>>2]=+_e[_s>>2]-+_e[_t>>2],_t=_+80|0,_e[_t>>2]=+_e[_t>>2]-+_e[_i>>2]}function bQ(_){_=_|0}function uQ(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function hQ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0;g_=ws,x_=l[_+48>>2]|0,c2=l[x_+8>>2]|0,u_=_+128|0,l[u_>>2]=c2,x2=l[_+52>>2]|0,h2=l[x2+8>>2]|0,A_=_+132|0,l[A_>>2]=h2,S2=x_+28|0,w2=l[S2>>2]|0,S2=l[S2+4>>2]|0,Q_=_+152|0,l[Q_>>2]=w2,l[Q_+4>>2]=S2,Q_=x2+28|0,f2=l[Q_>>2]|0,Q_=l[Q_+4>>2]|0,r2=_+160|0,l[r2>>2]=f2,l[r2+4>>2]=Q_,f_=+_e[x_+120>>2],_e[_+168>>2]=f_,J_=+_e[x2+120>>2],_e[_+172>>2]=J_,R_=+_e[x_+128>>2],_e[_+176>>2]=R_,_i=+_e[x2+128>>2],_e[_+180>>2]=_i,x2=l[_t+24>>2]|0,e2=+_e[x2+(c2*12|0)+8>>2],x_=_t+28|0,r2=l[x_>>2]|0,A2=r2+(c2*12|0)|0,D_=+_e[A2>>2],_s=+_e[A2+4>>2],__=+_e[r2+(c2*12|0)+8>>2],t2=+_e[x2+(h2*12|0)+8>>2],x2=r2+(h2*12|0)|0,t_=+_e[x2>>2],n_=+_e[x2+4>>2],l_=+_e[r2+(h2*12|0)+8>>2],P_=+J2(+e2),F_=+B2(+e2),v2=+J2(+t2),s2=+B2(+t2),O_=+_e[_+68>>2]-(l[s_>>2]=w2,+_e[s_>>2]),V_=+_e[_+72>>2]-(l[s_>>2]=S2,+_e[s_>>2]),M_=F_*O_-P_*V_,V_=P_*O_+F_*V_,F_=+M_,O_=+V_,S2=_+136|0,_e[S2>>2]=F_,_e[S2+4>>2]=O_,O_=+_e[_+76>>2]-(l[s_>>2]=f2,+_e[s_>>2]),F_=+_e[_+80>>2]-(l[s_>>2]=Q_,+_e[s_>>2]),P_=s2*O_-v2*F_,F_=v2*O_+s2*F_,s2=+P_,O_=+F_,Q_=_+144|0,_e[Q_>>2]=s2,_e[Q_+4>>2]=O_,O_=R_+_i,Q_=O_==0,s2=f_+J_,_e[_+184>>2]=s2+R_*V_*V_+_i*F_*F_,v2=-(R_*V_*M_)-_i*F_*P_,_e[_+196>>2]=v2,b2=-(R_*V_)-_i*F_,_e[_+208>>2]=b2,_e[_+188>>2]=v2,_e[_+200>>2]=s2+R_*M_*M_+_i*P_*P_,s2=R_*M_+_i*P_,_e[_+212>>2]=s2,_e[_+192>>2]=b2,_e[_+204>>2]=s2,_e[_+216>>2]=O_,O_>0&&(O_=1/O_),_e[_+220>>2]=O_,(_o[_+100>>0]|0)==0|Q_&&(_e[_+96>>2]=0);do if((_o[_+112>>0]|0)==0|Q_)l[_+224>>2]=0;else{if(t2=t2-e2-+_e[_+116>>2],e2=+_e[_+124>>2],O_=+_e[_+120>>2],s2=e2-O_,s2>0||(s2=-s2),s2<.06981317698955536){l[_+224>>2]=3;break}if(t2<=O_){Q_=_+224|0,(l[Q_>>2]|0)!=1&&(_e[_+92>>2]=0),l[Q_>>2]=1;break}if(Q_=_+224|0,!(t2>=e2)){l[Q_>>2]=0,_e[_+92>>2]=0;break}(l[Q_>>2]|0)!=2&&(_e[_+92>>2]=0),l[Q_>>2]=2}while(!1);if(Q_=_+84|0,_o[_t+20>>0]|0){c2=_t+8|0,E2=+_e[c2>>2],v2=E2*+_e[Q_>>2],_e[Q_>>2]=v2,A2=_+88|0,d2=E2*+_e[A2>>2],_e[A2>>2]=d2,A2=_+92|0,E2=E2*+_e[A2>>2],_e[A2>>2]=E2,A2=_+96|0,H2=+_e[c2>>2]*+_e[A2>>2],_e[A2>>2]=H2,t2=D_-f_*v2,e2=_s-f_*d2,s2=t_+J_*v2,b2=n_+J_*d2,O_=__-R_*(E2+(H2+(d2*M_-v2*V_))),v2=l_+_i*(E2+(H2+(d2*P_-v2*F_))),A2=l[u_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)|0,t2=+t2,e2=+e2,c2=A2,_e[c2>>2]=t2,A2=A2+4|0,_e[A2>>2]=e2,A2=l[u_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)+8|0,_e[A2>>2]=O_,A2=l[A_>>2]|0,A2=c2+(A2*12|0)|0,s2=+s2,b2=+b2,c2=A2,_e[c2>>2]=s2,A2=A2+4|0,_e[A2>>2]=b2,A2=l[A_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)+8|0,_e[A2>>2]=v2,ws=g_;return}else{l[Q_+0>>2]=0,l[Q_+4>>2]=0,l[Q_+8>>2]=0,l[Q_+12>>2]=0,t2=D_,e2=_s,s2=t_,b2=n_,O_=__,v2=l_,A2=l[u_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)|0,t2=+t2,e2=+e2,c2=A2,_e[c2>>2]=t2,A2=A2+4|0,_e[A2>>2]=e2,A2=l[u_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)+8|0,_e[A2>>2]=O_,A2=l[A_>>2]|0,A2=c2+(A2*12|0)|0,s2=+s2,b2=+b2,c2=A2,_e[c2>>2]=s2,A2=A2+4|0,_e[A2>>2]=b2,A2=l[A_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)+8|0,_e[A2>>2]=v2,ws=g_;return}}function dQ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0;if(_i=ws,_s=_+88|0,t_=l[_s>>2]|0,l[t_+102868>>2]&2&&Y2(9352,9088,456,9576),n_=_+4|0,__=_r[n_>>1]|0,!((__&32)!=0^_t)){ws=_i;return}if(__=__&65535,_t){if(_r[n_>>1]=__|32,_s=t_+102872|0,t_=l[_+100>>2]|0,!t_){ws=_i;return}_=_+12|0;do LI(t_,_s,_),t_=l[t_+4>>2]|0;while(t_|0);ws=_i;return}if(_r[n_>>1]=__&65503,t_=t_+102872|0,_t=l[_+100>>2]|0,_t)do AJ(_t,t_),_t=l[_t+4>>2]|0;while(_t|0);if(_=_+112|0,t_=l[_>>2]|0,t_)do __=t_,t_=l[t_+12>>2]|0,aV((l[_s>>2]|0)+102872|0,l[__+4>>2]|0);while(t_|0);l[_>>2]=0,ws=_i}function yQ(_){return _=_|0,(_r[_+4>>1]&32)!=0|0}function xQ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0;if(_i=ws,t_=_+4|0,_s=o_[t_>>1]|0,!((_s&16|0)!=0^_t)){ws=_i;return}_r[t_>>1]=_t?_s|16:_s&65519,_e[_+72>>2]=0,pD(_),ws=_i}function fQ(_){return _=_|0,(_r[_+4>>1]&16)!=0|0}function gQ(_){return _=_|0,l[_+100>>2]|0}function vQ(_){return _=_|0,l[_+108>>2]|0}function AQ(_){return _=_|0,l[_+112>>2]|0}function SQ(_){return _=_|0,l[_+96>>2]|0}function CQ(_){return _=_|0,l[_+148>>2]|0}function BQ(_,_t){_=_|0,_t=_t|0,l[_+148>>2]=_t}function PQ(_){return _=_|0,l[_+88>>2]|0}function wQ(_){_=_|0;var _t=0;_t=ws,RI(_),ws=_t}function VQ(_){return _=_|0,_+68|0}function DQ(_){return _=_|0,_+76|0}function MQ(_,_t){_=_|0,_t=+_t;var _i=0;if(_i=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0){_e[_+96>>2]=_t,ws=_i;return}else Y2(14968,15008,217,15064)}function GQ(_){return _=_|0,+ +_e[_+96>>2]}function JQ(_,_t){_=_|0,_t=+_t;var _i=0;if(_i=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0){_e[_+100>>2]=_t,ws=_i;return}else Y2(15080,15008,228,15120)}function IQ(_){return _=_|0,+ +_e[_+100>>2]}function TQ(_){return _=_|0,l[_+4>>2]|0}function RQ(_){return _=_|0,l[_+48>>2]|0}function FQ(_){return _=_|0,l[_+52>>2]|0}function LQ(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[816]|0)&&K2(816)|0&&R0(816),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=808,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,808}function qQ(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[832]|0)&&K2(832)|0&&R0(832),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=824,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,824}function EQ(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[848]|0)&&K2(848)|0&&R0(848),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=840,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,840}function kQ(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function jQ(_){return _=_|0,l[_+12>>2]|0}function zQ(_){return _=_|0,l[_+64>>2]|0}function WQ(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function NQ(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function OQ(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function UQ(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function XQ(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function YQ(){var _=0,_t=0;_=ws,_t=s0(32)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(32)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=6,l[_t+20>>2]=0,l[_t+24>>2]=0,_e[_t+28>>2]=1,ws=_,_t|0}function HQ(_){return _=_|0,l[_+20>>2]|0}function ZQ(_,_t){_=_|0,_t=_t|0,l[_+20>>2]=_t}function KQ(_){return _=_|0,l[_+24>>2]|0}function QQ(_,_t){_=_|0,_t=_t|0,l[_+24>>2]=_t}function $Q(_){return _=_|0,+ +_e[_+28>>2]}function t$(_,_t){_=_|0,_t=+_t,_e[_+28>>2]=_t}function e$(_){return _=_|0,l[_>>2]|0}function o$(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function i$(_){return _=_|0,l[_+4>>2]|0}function r$(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function n$(_){return _=_|0,l[_+8>>2]|0}function s$(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function _$(_){return _=_|0,l[_+12>>2]|0}function a$(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function p$(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function l$(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function c$(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function m$(_){return _=_|0,_+68|0}function b$(_){return _=_|0,_+76|0}function u$(_){return _=_|0,+ +_e[_+116>>2]}function h$(_){return _=_|0,+(+_e[(l[_+52>>2]|0)+56>>2]-+_e[(l[_+48>>2]|0)+56>>2]-+_e[_+116>>2])}function d$(_){return _=_|0,+(+_e[(l[_+52>>2]|0)+72>>2]-+_e[(l[_+48>>2]|0)+72>>2])}function y$(_){return _=_|0,(_o[_+112>>0]|0)!=0|0}function x$(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0;if(_i=ws,_s=_+112|0,(_t&1|0)==(e_[_s>>0]|0|0)){ws=_i;return}t_=l[_+48>>2]|0,n_=t_+4|0,__=o_[n_>>1]|0,__&2||(_r[n_>>1]=__|2,_e[t_+144>>2]=0),t_=l[_+52>>2]|0,n_=t_+4|0,__=o_[n_>>1]|0,__&2||(_r[n_>>1]=__|2,_e[t_+144>>2]=0),_o[_s>>0]=_t&1,_e[_+92>>2]=0,ws=_i}function f$(_){return _=_|0,+ +_e[_+120>>2]}function g$(_){return _=_|0,+ +_e[_+124>>2]}function v$(_,_t,_i){_=_|0,_t=+_t,_i=+_i;var _s=0,t_=0,n_=0,__=0,l_=0;if(t_=ws,_t<=_i||Y2(17160,17176,471,17232),_s=_+120|0,+_e[_s>>2]==_t&&+_e[_+124>>2]==_i){ws=t_;return}l_=l[_+48>>2]|0,n_=l_+4|0,__=o_[n_>>1]|0,__&2||(_r[n_>>1]=__|2,_e[l_+144>>2]=0),__=l[_+52>>2]|0,l_=__+4|0,n_=o_[l_>>1]|0,n_&2||(_r[l_>>1]=n_|2,_e[__+144>>2]=0),_e[_+92>>2]=0,_e[_s>>2]=_t,_e[_+124>>2]=_i,ws=t_}function A$(_){return _=_|0,(_o[_+100>>0]|0)!=0|0}function S$(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;if(_i=ws,_s=l[_+48>>2]|0,t_=_s+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,t_=n_+4|0,_s=o_[t_>>1]|0,_s&2){n_=_+100|0,t_=_t&1,_o[n_>>0]=t_,ws=_i;return}_r[t_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+100|0,t_=_t&1,_o[n_>>0]=t_,ws=_i}function C$(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0,n_=0;if(_i=ws,_s=l[_+48>>2]|0,t_=_s+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,t_=n_+4|0,_s=o_[t_>>1]|0,_s&2){n_=_+108|0,_e[n_>>2]=_t,ws=_i;return}_r[t_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+108|0,_e[n_>>2]=_t,ws=_i}function B$(_){return _=_|0,+ +_e[_+108>>2]}function P$(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0,n_=0;if(_i=ws,_s=l[_+48>>2]|0,t_=_s+4|0,n_=o_[t_>>1]|0,n_&2||(_r[t_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,t_=n_+4|0,_s=o_[t_>>1]|0,_s&2){n_=_+104|0,_e[n_>>2]=_t,ws=_i;return}_r[t_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+104|0,_e[n_>>2]=_t,ws=_i}function w$(_){return _=_|0,+ +_e[_+104>>2]}function V$(_,_t){return _=_|0,_t=+_t,+(+_e[_+96>>2]*_t)}function D$(_){return _=_|0,l[_+4>>2]|0}function M$(_){return _=_|0,l[_+48>>2]|0}function G$(_){return _=_|0,l[_+52>>2]|0}function J$(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[864]|0)&&K2(864)|0&&R0(864),yy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=856,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,856}function I$(_){_=_|0;var _t=0,_i=0,_s=0;return _i=ws,ws=ws+16|0,_t=_i,!(_o[880]|0)&&K2(880)|0&&R0(880),yy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=872,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_i,872}function T$(_,_t){_=_|0,_t=+_t;var _i=0,_s=0,t_=0;return _s=ws,ws=ws+16|0,_i=_s,!(_o[896]|0)&&K2(896)|0&&R0(896),KA[l[(l[_>>2]|0)+8>>2]&63](_i,_,_t),t_=_i,_=l[t_+4>>2]|0,_i=888,l[_i>>2]=l[t_>>2],l[_i+4>>2]=_,ws=_s,888}function R$(_,_t){_=_|0,_t=+_t;var _i=0;return _i=ws,_t=+CC[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_i,+_t}function F$(_){return _=_|0,l[_+12>>2]|0}function L$(_){return _=_|0,l[_+64>>2]|0}function q$(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function E$(_){_=_|0;var _t=0;return _t=ws,_r[(l[_+48>>2]|0)+4>>1]&32?(_=(_r[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function k$(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function j$(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function z$(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}ry[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function W$(){var _=0,_t=0;_=ws,_t=s0(16)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(16)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,ws=_,_t|0}function N$(_){return _=_|0,l[_>>2]|0}function O$(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function U$(_){return _=_|0,l[_+4>>2]|0}function X$(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function Y$(_){return _=_|0,l[_+8>>2]|0}function H$(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function Z$(_){return _=_|0,l[_+12>>2]|0}function K$(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function Q$(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function $$(){var _=0,_t=0;_=ws,_t=s0(40)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(40)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=10,_e[_t+20>>2]=-1,_e[_t+24>>2]=0,_e[_t+28>>2]=1,_e[_t+32>>2]=0,_e[_t+36>>2]=0,ws=_,_t|0}function ttt(_){return _=_|0,_+20|0}function ett(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function ott(_){return _=_|0,_+28|0}function itt(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function rtt(_){return _=_|0,+ +_e[_+36>>2]}function ntt(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function stt(_){return _=_|0,l[_>>2]|0}function _tt(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function att(_){return _=_|0,l[_+4>>2]|0}function ptt(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function ltt(_){return _=_|0,l[_+8>>2]|0}function ctt(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function mtt(_){return _=_|0,l[_+12>>2]|0}function btt(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function utt(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function htt(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function dtt(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function ytt(){var _=0,_t=0;_=ws,_t=s0(44)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(xb[_t&63](),_t=s0(44)|0,_t)break t;_t=_b(4)|0,l[_t>>2]=18632,K0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=11,_e[_t+20>>2]=0,_e[_t+24>>2]=0,_e[_t+28>>2]=0,_e[_t+32>>2]=1,_e[_t+36>>2]=1,_e[_t+40>>2]=.30000001192092896,ws=_,_t|0}function xtt(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0;_s=ws,l[_+8>>2]=_t,l[_+12>>2]=_i,t_=_i+12|0,l_=+_e[t_>>2],l_=l_-+_e[_t+12>>2],u_=+_e[t_+4>>2]-+_e[_t+16>>2],x_=+_e[_t+24>>2],n_=+_e[_t+20>>2],__=+(l_*x_+u_*n_),n_=+(x_*u_-l_*n_),t_=_+20|0,_e[t_>>2]=__,_e[t_+4>>2]=n_,_e[_+28>>2]=+_e[_i+56>>2]-+_e[_t+56>>2],ws=_s}function ftt(_){return _=_|0,_+20|0}function gtt(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=_t,_i=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function vtt(_){return _=_|0,+ +_e[_+28>>2]}function Att(_,_t){_=_|0,_t=+_t,_e[_+28>>2]=_t}function Stt(_){return _=_|0,+ +_e[_+32>>2]}function Ctt(_,_t){_=_|0,_t=+_t,_e[_+32>>2]=_t}function Btt(_){return _=_|0,+ +_e[_+36>>2]}function Ptt(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function wtt(_){return _=_|0,+ +_e[_+40>>2]}function Vtt(_,_t){_=_|0,_t=+_t,_e[_+40>>2]=_t}function Dtt(_){return _=_|0,l[_>>2]|0}function Mtt(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function Gtt(_){return _=_|0,l[_+4>>2]|0}function Jtt(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function Itt(_){return _=_|0,l[_+8>>2]|0}function Ttt(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function Rtt(_){return _=_|0,l[_+12>>2]|0}function Ftt(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function Ltt(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function qtt(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function Ett(_){_=_|0;var _t=0;_t=ws,_&&u0(_),ws=_t}function ktt(){return 0}function jtt(){return 1}function ztt(){return 2}function Wtt(){return 3}function Ntt(){return 4}function Ott(){return 0}function Utt(){return 1}function Xtt(){return 2}function Ytt(){return 3}function Htt(){return 4}function Ztt(){return 5}function Ktt(){return 6}function Qtt(){return 7}function $tt(){return 8}function tet(){return 9}function eet(){return 10}function oet(){return 11}function iet(){return 0}function ret(){return 1}function net(){return 2}function set(){return 3}function _et(){return 0}function aet(){return 1}function pet(){return 2}function cet(){return 0}function met(){return 1}function bet(){return 2}function uet(){return 1}function het(){return 2}function det(){return 4}function yet(){return 8}function xet(){return 16}function fet(){return 0}function get(){return 1}function vet(_){_=_|0}function Aet(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Set(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,iy(2096,_|0,_t|0,_i|0,_s|0)|0,ws=t_}function Cet(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,iy(1864,_|0,_t|0,_i|0,_s|0)|0,ws=t_}function Bet(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0;var t_=0;t_=ws,iy(1648,_|0,_t|0,+_i,_s|0)|0,ws=t_}function Pet(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0;var n_=0;n_=ws,iy(1416,_|0,_t|0,+_i,_s|0,t_|0)|0,ws=n_}function wet(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;t_=ws,iy(1200,_|0,_t|0,_i|0,_s|0)|0,ws=t_}function Vet(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,iy(984,_|0,_t|0)|0,ws=_i}function Det(_){_=_|0}function Met(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Get(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;return _s=ws,_=(iy(2376,_|0,_t|0,_i|0)|0)!=0,ws=_s,_|0}function Jet(_){_=_|0}function Iet(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Tet(_){_=_|0}function Ret(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Fet(_){_=_|0}function Let(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function qet(_){_=_|0}function Eet(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function ket(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,iy(3480,_|0,_t|0)|0,ws=_i}function jet(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,iy(3248,_|0,_t|0)|0,ws=_i}function zet(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;_s=ws,iy(3016,_|0,_t|0,_i|0)|0,ws=_s}function Wet(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;_s=ws,iy(2784,_|0,_t|0,_i|0)|0,ws=_s}function Net(_){_=_|0}function Oet(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Uet(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_;var n_=0;return n_=ws,t_=+OP(3816,_|0,_t|0,_i|0,_s|0,+t_),ws=n_,+t_}function Xet(_){_=_|0}function Yet(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Het(_,_t){_=_|0,_t=_t|0;var _i=0;return _i=ws,_=(iy(4168,_|0,_t|0)|0)!=0,ws=_i,_|0}function Zet(_){_=_|0}function Ket(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Qet(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,yy[l[(l[_>>2]|0)+16>>2]&127](_,_t),ws=_i}function $et(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,yy[l[(l[_>>2]|0)+20>>2]&127](_,_t),ws=_i}function tot(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,iy(4992,_|0,_t|0)|0,ws=_i}function eot(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,iy(4728,_|0,_t|0)|0,ws=_i}function oot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0;if(g_=ws,x_=l[_+48>>2]|0,C2=l[x_+8>>2]|0,u_=_+104|0,l[u_>>2]=C2,y2=l[_+52>>2]|0,N2=l[y2+8>>2]|0,A_=_+108|0,l[A_>>2]=N2,E2=x_+28|0,P2=l[E2>>2]|0,E2=l[E2+4>>2]|0,d2=_+128|0,l[d2>>2]=P2,l[d2+4>>2]=E2,d2=y2+28|0,H2=l[d2>>2]|0,d2=l[d2+4>>2]|0,A2=_+136|0,l[A2>>2]=H2,l[A2+4>>2]=d2,A2=_+156|0,_e[A2>>2]=+_e[x_+120>>2],x2=_+160|0,_e[x2>>2]=+_e[y2+120>>2],R_=+_e[x_+128>>2],_e[_+164>>2]=R_,D_=+_e[y2+128>>2],_e[_+168>>2]=D_,y2=l[_t+24>>2]|0,x_=y2+(C2*12|0)|0,t2=+_e[x_>>2],Q_=+_e[x_+4>>2],b2=+_e[y2+(C2*12|0)+8>>2],x_=_t+28|0,F2=l[x_>>2]|0,j2=F2+(C2*12|0)|0,F_=+_e[j2>>2],_s=+_e[j2+4>>2],__=+_e[F2+(C2*12|0)+8>>2],C2=y2+(N2*12|0)|0,f2=+_e[C2>>2],O_=+_e[C2+4>>2],s2=+_e[y2+(N2*12|0)+8>>2],y2=F2+(N2*12|0)|0,t_=+_e[y2>>2],n_=+_e[y2+4>>2],l_=+_e[F2+(N2*12|0)+8>>2],e2=+J2(+b2),v2=+B2(+b2),c2=+J2(+s2),J_=+B2(+s2),_i=(l[s_>>2]=P2,-+_e[s_>>2]),V_=(l[s_>>2]=E2,-+_e[s_>>2]),M_=v2*_i-e2*V_,V_=e2*_i+v2*V_,_i=+M_,f_=+V_,E2=_+112|0,_e[E2>>2]=_i,_e[E2+4>>2]=f_,f_=(l[s_>>2]=H2,-+_e[s_>>2]),_i=(l[s_>>2]=d2,-+_e[s_>>2]),P_=J_*f_-c2*_i,_i=c2*f_+J_*_i,J_=+P_,f_=+_i,d2=_+120|0,_e[d2>>2]=J_,_e[d2+4>>2]=f_,f_=+_e[A2>>2],J_=+_e[x2>>2],c2=f_+J_,w2=c2+V_*R_*V_+_i*D_*_i,r2=R_*M_,S2=D_*P_,h2=-(V_*r2)-_i*S2,S2=c2+M_*r2+P_*S2,r2=w2*S2-h2*h2,r2!=0&&(r2=1/r2),c2=-(h2*r2),_e[_+172>>2]=S2*r2,_e[_+176>>2]=c2,_e[_+180>>2]=c2,_e[_+184>>2]=w2*r2,S2=R_+D_,S2>0&&(S2=1/S2),_e[_+188>>2]=S2,h2=+_e[_+68>>2],c2=+_e[_+72>>2],r2=+(f2+P_-t2-M_-(v2*h2-e2*c2)),c2=+(O_+_i-Q_-V_-(e2*h2+v2*c2)),x2=_+144|0,_e[x2>>2]=r2,_e[x2+4>>2]=c2,_e[_+152>>2]=s2-b2-+_e[_+76>>2],x2=_+80|0,_o[_t+20>>0]|0){C2=_t+8|0,v2=+_e[C2>>2],c2=v2*+_e[x2>>2],_e[x2>>2]=c2,j2=_+84|0,v2=v2*+_e[j2>>2],_e[j2>>2]=v2,j2=_+88|0,b2=+_e[C2>>2]*+_e[j2>>2],_e[j2>>2]=b2,f2=F_-f_*c2,S2=_s-f_*v2,h2=t_+J_*c2,r2=n_+J_*v2,w2=__-R_*(b2+(v2*M_-c2*V_)),c2=l_+D_*(b2+(v2*P_-c2*_i)),j2=l[u_>>2]|0,C2=l[x_>>2]|0,j2=C2+(j2*12|0)|0,f2=+f2,S2=+S2,C2=j2,_e[C2>>2]=f2,j2=j2+4|0,_e[j2>>2]=S2,j2=l[u_>>2]|0,C2=l[x_>>2]|0,j2=C2+(j2*12|0)+8|0,_e[j2>>2]=w2,j2=l[A_>>2]|0,j2=C2+(j2*12|0)|0,h2=+h2,r2=+r2,C2=j2,_e[C2>>2]=h2,j2=j2+4|0,_e[j2>>2]=r2,j2=l[A_>>2]|0,C2=l[x_>>2]|0,j2=C2+(j2*12|0)+8|0,_e[j2>>2]=c2,ws=g_;return}else{_e[x2>>2]=0,_e[_+84>>2]=0,_e[_+88>>2]=0,f2=F_,S2=_s,h2=t_,r2=n_,w2=__,c2=l_,j2=l[u_>>2]|0,C2=l[x_>>2]|0,j2=C2+(j2*12|0)|0,f2=+f2,S2=+S2,C2=j2,_e[C2>>2]=f2,j2=j2+4|0,_e[j2>>2]=S2,j2=l[u_>>2]|0,C2=l[x_>>2]|0,j2=C2+(j2*12|0)+8|0,_e[j2>>2]=w2,j2=l[A_>>2]|0,j2=C2+(j2*12|0)|0,h2=+h2,r2=+r2,C2=j2,_e[C2>>2]=h2,j2=j2+4|0,_e[j2>>2]=r2,j2=l[A_>>2]|0,C2=l[x_>>2]|0,j2=C2+(j2*12|0)+8|0,_e[j2>>2]=c2,ws=g_;return}}function iot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0;J_=ws,l_=_+104|0,g_=l[l_>>2]|0,__=_t+28|0,f2=l[__>>2]|0,O_=f2+(g_*12|0)|0,u_=+_e[O_>>2],n_=+_e[O_+4>>2],e2=+_e[f2+(g_*12|0)+8>>2],g_=_+108|0,O_=l[g_>>2]|0,S2=f2+(O_*12|0)|0,x_=+_e[S2>>2],A_=+_e[S2+4>>2],t2=+_e[f2+(O_*12|0)+8>>2],t_=+_e[_+156>>2],_s=+_e[_+160>>2],_i=+_e[_+164>>2],f_=+_e[_+168>>2],s2=+_e[_t>>2],b2=+_e[_t+4>>2]*+_e[_+100>>2],_t=_+88|0,M_=+_e[_t>>2],F_=s2*+_e[_+96>>2],V_=M_-+_e[_+188>>2]*(t2-e2+b2*+_e[_+152>>2]),P_=-F_,F_=V_<F_?V_:F_,F_=F_<P_?P_:F_,_e[_t>>2]=F_,M_=F_-M_,e2=e2-_i*M_,M_=t2+f_*M_,t2=+_e[_+124>>2],F_=+_e[_+120>>2],P_=+_e[_+116>>2],V_=+_e[_+112>>2],v2=+_e[_+144>>2]*b2+(P_*e2+(x_-t2*M_-u_)),b2=b2*+_e[_+148>>2]+(A_+F_*M_-n_-V_*e2),Q_=+_e[_+176>>2]*v2+ +_e[_+184>>2]*b2,_t=_+80|0,O_=_t,D_=+_e[O_>>2],R_=+_e[O_+4>>2],b2=D_-(+_e[_+172>>2]*v2+ +_e[_+180>>2]*b2),_e[_t>>2]=b2,O_=_+84|0,Q_=+_e[O_>>2]-Q_,_e[O_>>2]=Q_,s2=s2*+_e[_+92>>2],v2=b2*b2+Q_*Q_,v2>s2*s2&&(v2=+V2(+v2),v2<11920928955078125e-23||(v2=1/v2,b2=b2*v2,_e[_t>>2]=b2,Q_=Q_*v2,_e[O_>>2]=Q_),b2=s2*b2,_e[_t>>2]=b2,Q_=s2*Q_,_e[O_>>2]=Q_),v2=b2-D_,b2=Q_-R_,s2=+(u_-t_*v2),Q_=+(n_-t_*b2),S2=(l[__>>2]|0)+((l[l_>>2]|0)*12|0)|0,_e[S2>>2]=s2,_e[S2+4>>2]=Q_,S2=l[__>>2]|0,_e[S2+((l[l_>>2]|0)*12|0)+8>>2]=e2-_i*(V_*b2-v2*P_),Q_=+(x_+_s*v2),s2=+(A_+_s*b2),S2=S2+((l[g_>>2]|0)*12|0)|0,_e[S2>>2]=Q_,_e[S2+4>>2]=s2,_e[(l[__>>2]|0)+((l[g_>>2]|0)*12|0)+8>>2]=M_+f_*(b2*F_-v2*t2),ws=J_}function rot(_,_t){return _=_|0,_t=_t|0,1}function not(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=(l[_t+48>>2]|0)+12|0,_i=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function sot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_s=(l[_t+52>>2]|0)+12|0,_i=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_i}function _ot(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=+_e[_t+84>>2]*_i,_e[_>>2]=+_e[_t+80>>2]*_i,_e[_+4>>2]=_s}function aot(_,_t){return _=_|0,_t=+_t,+(+_e[_+88>>2]*_t)}function pot(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;_t=ws,ws=ws+16|0,_i=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,ta(5440,_i),l[_i>>2]=n_,ta(17784,_i),l[_i>>2]=_s,ta(17816,_i),l[_i>>2]=e_[_+61>>0],ta(17848,_i),t_=+_e[_+72>>2],c_[s_>>3]=+_e[_+68>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(5464,_i),c_[s_>>3]=+_e[_+76>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(5512,_i),c_[s_>>3]=+_e[_+92>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(15168,_i),c_[s_>>3]=+_e[_+96>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(15200,_i),c_[s_>>3]=+_e[_+100>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(5544,_i),l[_i>>2]=l[_+56>>2],ta(18184,_i),ws=_t}function lot(_,_t){_=_|0,_t=_t|0}function cot(_){_=_|0}function mot(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function W0t(_){_=_|0,LB(_|0)|0,kit()}function yI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0;_i=ws,_s=_+40|0,t_=l[_s>>2]|0,n_=_+36|0,_=_+32|0,(t_|0)==(l[n_>>2]|0)&&(__=l[_>>2]|0,l[n_>>2]=t_<<1,t_=s0(t_<<3)|0,l[_>>2]=t_,BS(t_|0,__|0,l[_s>>2]<<2|0)|0,u0(__),t_=l[_s>>2]|0),l[(l[_>>2]|0)+(t_<<2)>>2]=_t,l[_s>>2]=(l[_s>>2]|0)+1,ws=_i}function xI(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0;if(l_=ws,n_=_+60|0,l[n_>>2]=0,__=_s+12|0,x_=+_e[t_+12>>2],O_=+_e[__>>2],D_=+_e[t_+8>>2],P_=+_e[_s+16>>2],e2=+_e[t_>>2]+(x_*O_-D_*P_)-+_e[_i>>2],P_=O_*D_+x_*P_+ +_e[t_+4>>2]-+_e[_i+4>>2],x_=+_e[_i+12>>2],D_=+_e[_i+8>>2],O_=e2*x_+P_*D_,D_=x_*P_-e2*D_,_i=_t+12|0,t_=l[_i>>2]|0,_i=l[_i+4>>2]|0,e2=(l[s_>>2]=t_,+_e[s_>>2]),P_=(l[s_>>2]=_i,+_e[s_>>2]),M_=_t+20|0,R_=l[M_>>2]|0,M_=l[M_+4>>2]|0,x_=(l[s_>>2]=R_,+_e[s_>>2]),A_=(l[s_>>2]=M_,+_e[s_>>2]),u_=x_-e2,V_=A_-P_,F_=u_*(x_-O_)+V_*(A_-D_),J_=O_-e2,f_=D_-P_,t2=J_*u_+f_*V_,g_=+_e[_t+8>>2]+ +_e[_s+8>>2],t2<=0){if(J_*J_+f_*f_>g_*g_){ws=l_;return}if(_o[_t+44>>0]|0&&(_s=_t+28|0,Q_=+_e[_s>>2],(e2-O_)*(e2-Q_)+(P_-D_)*(P_-+_e[_s+4>>2])>0)){ws=l_;return}l[n_>>2]=1,l[_+56>>2]=0,_e[_+40>>2]=0,_e[_+44>>2]=0,R_=_+48|0,l[R_>>2]=t_,l[R_+4>>2]=_i,R_=_+16|0,l[R_>>2]=0,_o[R_>>0]=0,_o[R_+1>>0]=0,_o[R_+2>>0]=0,_o[R_+3>>0]=0,R_=__,M_=l[R_+4>>2]|0,_s=_,l[_s>>2]=l[R_>>2],l[_s+4>>2]=M_,ws=l_;return}if(F_<=0){if(u_=O_-x_,f_=D_-A_,u_*u_+f_*f_>g_*g_){ws=l_;return}if(_o[_t+45>>0]|0&&(_s=_t+36|0,Q_=+_e[_s>>2],u_*(Q_-x_)+f_*(+_e[_s+4>>2]-A_)>0)){ws=l_;return}l[n_>>2]=1,l[_+56>>2]=0,_e[_+40>>2]=0,_e[_+44>>2]=0,_s=_+48|0,l[_s>>2]=R_,l[_s+4>>2]=M_,R_=_+16|0,l[R_>>2]=0,_o[R_>>0]=1,_o[R_+1>>0]=0,_o[R_+2>>0]=0,_o[R_+3>>0]=0,R_=__,M_=l[R_+4>>2]|0,_s=_,l[_s>>2]=l[R_>>2],l[_s+4>>2]=M_,ws=l_;return}if(Q_=u_*u_+V_*V_,Q_>0||Y2(5640,5656,127,5704),Q_=1/Q_,O_=O_-(e2*F_+x_*t2)*Q_,Q_=D_-(P_*F_+A_*t2)*Q_,O_*O_+Q_*Q_>g_*g_){ws=l_;return}x_=-V_,u_*f_+J_*x_<0?u_=-u_:V_=x_,x_=+V2(+(u_*u_+V_*V_)),x_<11920928955078125e-23||(Q_=1/x_,V_=V_*Q_,u_=u_*Q_),l[n_>>2]=1,l[_+56>>2]=1,O_=+V_,Q_=+u_,R_=_+40|0,_e[R_>>2]=O_,_e[R_+4>>2]=Q_,R_=_+48|0,l[R_>>2]=t_,l[R_+4>>2]=_i,R_=_+16|0,l[R_>>2]=0,_o[R_>>0]=0,_o[R_+1>>0]=0,_o[R_+2>>0]=1,_o[R_+3>>0]=0,R_=__,M_=l[R_+4>>2]|0,_s=_,l[_s>>2]=l[R_>>2],l[_s+4>>2]=M_,ws=l_}function fI(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0;n_=ws,ws=ws+336|0,g_=n_,x_=n_+304|0,__=n_+280|0,f_=n_+24|0,l_=f_+132|0,v2=+_e[_i+12>>2],A2=+_e[t_+8>>2],e2=+_e[_i+8>>2],b2=+_e[t_+12>>2],t2=v2*A2-e2*b2,b2=A2*e2+v2*b2,A2=+t2,s2=+b2,Q_=+_e[t_>>2]-+_e[_i>>2],x2=+_e[t_+4>>2]-+_e[_i+4>>2],O_=v2*Q_+e2*x2,Q_=v2*x2-e2*Q_,e2=+O_,x2=+Q_,_i=l_,_e[_i>>2]=e2,_e[_i+4>>2]=x2,_i=f_+140|0,_e[_i>>2]=A2,_e[_i+4>>2]=s2,_i=f_+144|0,s2=+_e[_s+12>>2],t_=f_+140|0,A2=+_e[_s+16>>2],O_=O_+(b2*s2-t2*A2),u_=f_+136|0,Q_=s2*t2+b2*A2+Q_,A2=+O_,b2=+Q_,c2=f_+148|0,_e[c2>>2]=A2,_e[c2+4>>2]=b2,c2=_t+28|0,f2=l[c2>>2]|0,c2=l[c2+4>>2]|0,J_=f_+156|0,l[J_>>2]=f2,l[J_+4>>2]=c2,J_=f_+164|0,F_=_t+12|0,M_=l[F_>>2]|0,F_=l[F_+4>>2]|0,R_=J_,l[R_>>2]=M_,l[R_+4>>2]=F_,R_=f_+172|0,D_=_t+20|0,y2=l[D_>>2]|0,D_=l[D_+4>>2]|0,F2=R_,l[F2>>2]=y2,l[F2+4>>2]=D_,F2=_t+36|0,d2=l[F2>>2]|0,F2=l[F2+4>>2]|0,V_=f_+180|0,l[V_>>2]=d2,l[V_+4>>2]=F2,V_=(_o[_t+44>>0]|0)!=0,P_=(_o[_t+45>>0]|0)==0,b2=(l[s_>>2]=y2,+_e[s_>>2]),A2=(l[s_>>2]=M_,+_e[s_>>2]),t2=b2-A2,s2=(l[s_>>2]=D_,+_e[s_>>2]),x2=(l[s_>>2]=F_,+_e[s_>>2]),e2=s2-x2,v2=+V2(+(t2*t2+e2*e2)),h2=(l[s_>>2]=f2,+_e[s_>>2]),r2=(l[s_>>2]=c2,+_e[s_>>2]),w2=(l[s_>>2]=d2,+_e[s_>>2]),S2=(l[s_>>2]=F2,+_e[s_>>2]),v2<11920928955078125e-23||(N2=1/v2,t2=t2*N2,e2=e2*N2),M_=f_+196|0,v2=-t2,_e[M_>>2]=e2,_t=f_+200|0,_e[_t>>2]=v2,v2=(O_-A2)*e2+(Q_-x2)*v2,V_?(A2=A2-h2,x2=x2-r2,H2=+V2(+(A2*A2+x2*x2)),H2<11920928955078125e-23||(N2=1/H2,A2=A2*N2,x2=x2*N2),N2=-A2,_e[f_+188>>2]=x2,_e[f_+192>>2]=N2,D_=e2*A2-t2*x2>=0,h2=(O_-h2)*x2+(Q_-r2)*N2):(D_=0,h2=0);t:do if(P_){if(!V_)if(y2=v2>=0,_o[f_+248>>0]=y2&1,V_=f_+212|0,y2){d2=M_,y2=l[d2>>2]|0,d2=l[d2+4>>2]|0,F2=V_,l[F2>>2]=y2,l[F2+4>>2]=d2,P2=(l[s_>>2]=y2,+-+_e[s_>>2]),N2=+t2,y2=f_+228|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2,y2=f_+236|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2;break}else{P2=+-e2,N2=+t2,F2=V_,_e[F2>>2]=P2,_e[F2+4>>2]=N2,F2=M_,d2=l[F2>>2]|0,F2=l[F2+4>>2]|0,y2=f_+228|0,l[y2>>2]=d2,l[y2+4>>2]=F2,y2=f_+236|0,l[y2>>2]=d2,l[y2+4>>2]=F2;break}if(V_=h2>=0,D_){if(V_)_o[f_+248>>0]=1,V_=f_+212|0;else if(y2=v2>=0,_o[f_+248>>0]=y2&1,V_=f_+212|0,!y2){P2=+-e2,N2=+t2,d2=V_,_e[d2>>2]=P2,_e[d2+4>>2]=N2,d2=M_,F2=l[d2>>2]|0,d2=l[d2+4>>2]|0,y2=f_+228|0,l[y2>>2]=F2,l[y2+4>>2]=d2,y2=f_+236|0,_e[y2>>2]=(l[s_>>2]=F2,-+_e[s_>>2]),_e[y2+4>>2]=N2;break}y2=M_,F2=l[y2+4>>2]|0,d2=V_,l[d2>>2]=l[y2>>2],l[d2+4>>2]=F2,d2=f_+188|0,F2=l[d2+4>>2]|0,y2=f_+228|0,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2,P2=+-+_e[M_>>2],N2=+-+_e[_t>>2],y2=f_+236|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2;break}else{if(V_){if(y2=v2>=0,_o[f_+248>>0]=y2&1,V_=f_+212|0,y2){d2=M_,y2=l[d2>>2]|0,d2=l[d2+4>>2]|0,F2=V_,l[F2>>2]=y2,l[F2+4>>2]=d2,F2=f_+228|0,l[F2>>2]=y2,l[F2+4>>2]=d2,P2=(l[s_>>2]=y2,+-+_e[s_>>2]),N2=+t2,y2=f_+236|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2;break}}else _o[f_+248>>0]=0,V_=f_+212|0;N2=+-e2,P2=+t2,d2=V_,_e[d2>>2]=N2,_e[d2+4>>2]=P2,d2=M_,F2=l[d2+4>>2]|0,y2=f_+228|0,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2,P2=+-+_e[f_+188>>2],N2=+-+_e[f_+192>>2],y2=f_+236|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2;break}}else{if(w2=w2-b2,S2=S2-s2,r2=+V2(+(w2*w2+S2*S2)),r2<11920928955078125e-23||(N2=1/r2,w2=w2*N2,S2=S2*N2),N2=-w2,P_=f_+204|0,_e[P_>>2]=S2,F_=f_+208|0,_e[F_>>2]=N2,f2=t2*S2-e2*w2>0,O_=(O_-b2)*S2+(Q_-s2)*N2,!V_)if(V_=v2>=0,f2){if(V_)_o[f_+248>>0]=1,V_=f_+212|0;else if(y2=O_>=0,_o[f_+248>>0]=y2&1,V_=f_+212|0,!y2){P2=+-e2,N2=+t2,d2=V_,_e[d2>>2]=P2,_e[d2+4>>2]=N2,d2=f_+228|0,_e[d2>>2]=P2,_e[d2+4>>2]=N2,d2=M_,F2=l[d2+4>>2]|0,y2=f_+236|0,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2;break}y2=M_,F2=l[y2+4>>2]|0,d2=V_,l[d2>>2]=l[y2>>2],l[d2+4>>2]=F2,P2=+-+_e[M_>>2],N2=+-+_e[_t>>2],d2=f_+228|0,_e[d2>>2]=P2,_e[d2+4>>2]=N2,d2=f_+204|0,F2=l[d2+4>>2]|0,y2=f_+236|0,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2;break}else{if(V_){if(y2=O_>=0,_o[f_+248>>0]=y2&1,V_=f_+212|0,y2){F2=M_,d2=l[F2>>2]|0,F2=l[F2+4>>2]|0,y2=V_,l[y2>>2]=d2,l[y2+4>>2]=F2,P2=(l[s_>>2]=d2,+-+_e[s_>>2]),N2=+t2,y2=f_+228|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2,y2=f_+236|0,l[y2>>2]=d2,l[y2+4>>2]=F2;break}}else _o[f_+248>>0]=0,V_=f_+212|0;N2=+-e2,P2=+t2,d2=V_,_e[d2>>2]=N2,_e[d2+4>>2]=P2,P2=+-+_e[P_>>2],N2=+-+_e[F_>>2],d2=f_+228|0,_e[d2>>2]=P2,_e[d2+4>>2]=N2,d2=M_,F2=l[d2+4>>2]|0,y2=f_+236|0,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2;break}if(D_&f2){if(!(h2>=0)&!(v2>=0)){if(y2=O_>=0,_o[f_+248>>0]=y2&1,V_=f_+212|0,!y2){P2=+-e2,N2=+t2,y2=V_,_e[y2>>2]=P2,_e[y2+4>>2]=N2,y2=f_+228|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2,y2=f_+236|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2;break}}else _o[f_+248>>0]=1,V_=f_+212|0;d2=M_,F2=l[d2+4>>2]|0,y2=V_,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2,y2=f_+188|0,F2=l[y2+4>>2]|0,d2=f_+228|0,l[d2>>2]=l[y2>>2],l[d2+4>>2]=F2,d2=f_+204|0,F2=l[d2+4>>2]|0,y2=f_+236|0,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2;break}if(D_){do if(h2>=0)_o[f_+248>>0]=1,V_=f_+212|0;else{if(v2>=0){if(y2=O_>=0,_o[f_+248>>0]=y2&1,V_=f_+212|0,y2)break}else _o[f_+248>>0]=0,V_=f_+212|0;P2=+-e2,N2=+t2,y2=V_,_e[y2>>2]=P2,_e[y2+4>>2]=N2,N2=+-+_e[P_>>2],P2=+-+_e[F_>>2],y2=f_+228|0,_e[y2>>2]=N2,_e[y2+4>>2]=P2,P2=+-+_e[M_>>2],N2=+-+_e[_t>>2],y2=f_+236|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2;break t}while(!1);d2=M_,F2=l[d2+4>>2]|0,y2=V_,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2,y2=f_+188|0,F2=l[y2+4>>2]|0,d2=f_+228|0,l[d2>>2]=l[y2>>2],l[d2+4>>2]=F2,d2=M_,F2=l[d2+4>>2]|0,y2=f_+236|0,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2;break}if(!f2){if(!(h2>=0)|!(v2>=0))_o[f_+248>>0]=0,V_=f_+212|0;else if(y2=O_>=0,_o[f_+248>>0]=y2&1,V_=f_+212|0,y2){F2=M_,d2=l[F2>>2]|0,F2=l[F2+4>>2]|0,y2=V_,l[y2>>2]=d2,l[y2+4>>2]=F2,y2=f_+228|0,l[y2>>2]=d2,l[y2+4>>2]=F2,y2=f_+236|0,l[y2>>2]=d2,l[y2+4>>2]=F2;break}P2=+-e2,N2=+t2,y2=V_,_e[y2>>2]=P2,_e[y2+4>>2]=N2,N2=+-+_e[P_>>2],P2=+-+_e[F_>>2],y2=f_+228|0,_e[y2>>2]=N2,_e[y2+4>>2]=P2,P2=+-+_e[f_+188>>2],N2=+-+_e[f_+192>>2],y2=f_+236|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2;break}do if(O_>=0)_o[f_+248>>0]=1,V_=f_+212|0;else{if(h2>=0){if(y2=v2>=0,_o[f_+248>>0]=y2&1,V_=f_+212|0,y2)break}else _o[f_+248>>0]=0,V_=f_+212|0;P2=+-e2,N2=+t2,y2=V_,_e[y2>>2]=P2,_e[y2+4>>2]=N2,N2=+-+_e[M_>>2],P2=+-+_e[_t>>2],y2=f_+228|0,_e[y2>>2]=N2,_e[y2+4>>2]=P2,P2=+-+_e[f_+188>>2],N2=+-+_e[f_+192>>2],y2=f_+236|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2;break t}while(!1);d2=M_,F2=l[d2+4>>2]|0,y2=V_,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2,y2=M_,F2=l[y2+4>>2]|0,d2=f_+228|0,l[d2>>2]=l[y2>>2],l[d2+4>>2]=F2,d2=f_+204|0,F2=l[d2+4>>2]|0,y2=f_+236|0,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2}while(!1);if(F_=l[_s+148>>2]|0,V_=f_+128|0,l[V_>>2]=F_,(F_|0)>0){D_=0;do H2=+_e[_i>>2],P2=+_e[_s+(D_<<3)+20>>2],N2=+_e[t_>>2],E2=+_e[_s+(D_<<3)+24>>2],A2=+(+_e[l_>>2]+(H2*P2-N2*E2)),E2=+(P2*N2+H2*E2+ +_e[u_>>2]),y2=f_+(D_<<3)|0,_e[y2>>2]=A2,_e[y2+4>>2]=E2,E2=+_e[_i>>2],A2=+_e[_s+(D_<<3)+84>>2],H2=+_e[t_>>2],N2=+_e[_s+(D_<<3)+88>>2],P2=+(E2*A2-H2*N2),N2=+(A2*H2+E2*N2),y2=f_+(D_<<3)+64|0,_e[y2>>2]=P2,_e[y2+4>>2]=N2,D_=D_+1|0;while((D_|0)<(F_|0));F_=l[V_>>2]|0}if(D_=f_+244|0,_e[D_>>2]=.019999999552965164,V_=_+60|0,l[V_>>2]=0,P_=_o[f_+248>>0]|0,f2=(F_|0)>0,!f2){ws=n_;return}for(t2=+_e[f_+164>>2],s2=+_e[f_+168>>2],Q_=+_e[f_+212>>2],b2=+_e[f_+216>>2],v2=34028234663852886e22,O_=34028234663852886e22,d2=0;e2=(+_e[f_+(d2<<3)>>2]-t2)*Q_+(+_e[f_+(d2<<3)+4>>2]-s2)*b2,c2=e2<v2,O_=c2?e2:O_,d2=d2+1|0,!((d2|0)>=(F_|0));)v2=c2?e2:v2;if(O_>.019999999552965164){ws=n_;return}t2=+_e[f_+216>>2],e2=+_e[f_+212>>2];do if(f2){for(S2=+_e[f_+164>>2],h2=+_e[f_+168>>2],r2=+_e[f_+172>>2],x2=+_e[f_+176>>2],w2=+_e[f_+228>>2],v2=+_e[f_+232>>2],b2=+_e[f_+236>>2],s2=+_e[f_+240>>2],A2=-34028234663852886e22,f2=0,d2=0,c2=-1,H2=-34028234663852886e22;;){if(E2=+_e[f_+(f2<<3)+64>>2],N2=-E2,P2=-+_e[f_+(f2<<3)+68>>2],j2=+_e[f_+(f2<<3)>>2],Q_=+_e[f_+(f2<<3)+4>>2],C2=(j2-S2)*N2+(Q_-h2)*P2,Q_=(j2-r2)*N2+(Q_-x2)*P2,Q_=C2<Q_?C2:Q_,Q_>.019999999552965164){d2=2;break}if(t2*E2+e2*P2>=0?Q_>A2&&!((N2-b2)*e2+(P2-s2)*t2<-.03490658849477768)?A_=77:Q_=H2:Q_>A2&&!((N2-w2)*e2+(P2-v2)*t2<-.03490658849477768)?A_=77:Q_=H2,(A_|0)==77&&(A_=0,A2=Q_,d2=2,c2=f2),f2=f2+1|0,(f2|0)>=(F_|0)){f2=c2,A_=79;break}else H2=Q_}if((A_|0)==79&&!d2){A_=82;break}if(Q_>.019999999552965164){ws=n_;return}Q_>O_*.9800000190734863+.0010000000474974513?(c2=(d2|0)==1,d2=_+56|0,c2?(f2=c2,c2=g_,A_=84):(l[d2>>2]=2,P_=J_,_t=l[P_+4>>2]|0,J_=g_,l[J_>>2]=l[P_>>2],l[J_+4>>2]=_t,J_=g_+8|0,_o[J_>>0]=0,_t=f2&255,_o[J_+1>>0]=_t,_o[J_+2>>0]=0,_o[J_+3>>0]=1,J_=R_,R_=l[J_+4>>2]|0,P_=g_+12|0,l[P_>>2]=l[J_>>2],l[P_+4>>2]=R_,P_=g_+20|0,_o[P_>>0]=0,_o[P_+1>>0]=_t,_o[P_+2>>0]=0,_o[P_+3>>0]=1,P_=f2+1|0,P_=(P_|0)<(F_|0)?P_:0,F_=f_+(f2<<3)|0,R_=f_+(P_<<3)|0,_t=f_+(f2<<3)+64|0,J_=l[R_+4>>2]|0,R_=l[R_>>2]|0,f_=c2,c2=P_,P_=l[F_>>2]|0,F_=l[F_+4>>2]|0,M_=l[_t>>2]|0,_t=l[_t+4>>2]|0)):A_=82}else A_=82;while(!1);(A_|0)==82&&(f2=1,c2=g_,d2=_+56|0,A_=84);do if((A_|0)==84){if(l[d2>>2]=1,(F_|0)>1)for(F2=0,O_=e2*+_e[f_+64>>2]+t2*+_e[f_+68>>2],A_=1;Q_=e2*+_e[f_+(A_<<3)+64>>2]+t2*+_e[f_+(A_<<3)+68>>2],d2=Q_<O_,F2=d2?A_:F2,A_=A_+1|0,!((A_|0)>=(F_|0));)O_=d2?Q_:O_;else F2=0;if(d2=F2+1|0,d2=(d2|0)<(F_|0)?d2:0,A_=f_+(F2<<3)|0,y2=l[A_+4>>2]|0,F_=g_,l[F_>>2]=l[A_>>2],l[F_+4>>2]=y2,F_=g_+8|0,_o[F_>>0]=0,_o[F_+1>>0]=F2,_o[F_+2>>0]=1,_o[F_+3>>0]=0,F_=f_+(d2<<3)|0,F2=l[F_+4>>2]|0,y2=g_+12|0,l[y2>>2]=l[F_>>2],l[y2+4>>2]=F2,y2=g_+20|0,_o[y2>>0]=0,_o[y2+1>>0]=d2,_o[y2+2>>0]=1,_o[y2+3>>0]=0,P_<<24>>24){F_=J_,_t=M_,J_=l[R_+4>>2]|0,R_=l[R_>>2]|0,g_=c2,f_=f2,f2=0,c2=1,P_=l[F_>>2]|0,F_=l[F_+4>>2]|0,M_=l[_t>>2]|0,_t=l[_t+4>>2]|0;break}else{F_=R_,R_=J_,M_=(_e[s_>>2]=-+_e[M_>>2],l[s_>>2]|0),J_=l[R_+4>>2]|0,R_=l[R_>>2]|0,g_=c2,f_=f2,f2=1,c2=0,P_=l[F_>>2]|0,F_=l[F_+4>>2]|0,_t=(_e[s_>>2]=-+_e[_t>>2],l[s_>>2]|0);break}}while(!1);if(e2=(l[s_>>2]=F_,+_e[s_>>2]),t2=(l[s_>>2]=_t,+_e[s_>>2]),N2=(l[s_>>2]=_t,+_e[s_>>2]),Q_=(l[s_>>2]=M_,+_e[s_>>2]),C2=(l[s_>>2]=P_,+_e[s_>>2]),j2=-Q_,O_=-N2,(NM(x_,g_,N2,j2,N2*C2+(l[s_>>2]=F_,+_e[s_>>2]*j2),f2)|0)<2){ws=n_;return}if(j2=(l[s_>>2]=J_,+_e[s_>>2]),j2=(l[s_>>2]=R_,+_e[s_>>2]*O_+Q_*j2),(NM(__,x_,O_,(l[s_>>2]=M_,+_e[s_>>2]),j2,c2)|0)<2){ws=n_;return}x_=_+40|0,f_?(y2=x_,l[y2>>2]=M_,l[y2+4>>2]=_t,y2=_+48|0,l[y2>>2]=P_,l[y2+4>>2]=F_):(y2=_s+(f2<<3)+84|0,F2=l[y2+4>>2]|0,d2=x_,l[d2>>2]=l[y2>>2],l[d2+4>>2]=F2,d2=_s+(f2<<3)+20|0,F2=l[d2+4>>2]|0,y2=_+48|0,l[y2>>2]=l[d2>>2],l[y2+4>>2]=F2),O_=(l[s_>>2]=P_,+_e[s_>>2]),Q_=(l[s_>>2]=M_,+_e[s_>>2]),s2=+_e[D_>>2],b2=+_e[l_>>2],v2=+_e[u_>>2],S2=+_e[_i>>2],w2=+_e[t_>>2],t_=0,_i=0;do u_=__+(t_*12|0)|0,h2=+_e[u_>>2],r2=+_e[__+(t_*12|0)+4>>2],(h2-O_)*Q_+(r2-e2)*t2<=s2&&(l_=_+(_i*20|0)|0,f_?(j2=h2-b2,N2=r2-v2,C2=+(j2*S2+N2*w2),j2=+(S2*N2-j2*w2),y2=l_,_e[y2>>2]=C2,_e[y2+4>>2]=j2,l[_+(_i*20|0)+16>>2]=l[__+(t_*12|0)+8>>2]):(d2=u_,y2=l[d2+4>>2]|0,F2=l_,l[F2>>2]=l[d2>>2],l[F2+4>>2]=y2,F2=__+(t_*12|0)+8|0,y2=_+(_i*20|0)+16|0,_o[y2+2>>0]=_o[F2+3>>0]|0,_o[y2+3>>0]=_o[F2+2>>0]|0,_o[y2>>0]=_o[F2+1>>0]|0,_o[y2+1>>0]=_o[F2>>0]|0),_i=_i+1|0),t_=t_+1|0;while((t_|0)!=2);l[V_>>2]=_i,ws=n_}function gI(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0;if(n_=ws,__=l[_t+148>>2]|0,l_=l[_s+148>>2]|0,V_=+_e[t_+12>>2],g_=+_e[_i+8>>2],F_=+_e[t_+8>>2],u_=+_e[_i+12>>2],x_=V_*g_-F_*u_,u_=g_*F_+V_*u_,g_=+_e[_i>>2]-+_e[t_>>2],D_=+_e[_i+4>>2]-+_e[t_+4>>2],A_=V_*g_+F_*D_,g_=V_*D_-F_*g_,(__|0)<=0)return P_=0,F_=-34028234663852886e22,l[_>>2]=P_,ws=n_,+F_;_i=(l_|0)>0,f_=0,t_=0,J_=-34028234663852886e22;do{if(F_=+_e[_t+(t_<<3)+84>>2],V_=+_e[_t+(t_<<3)+88>>2],R_=u_*F_-x_*V_,V_=x_*F_+u_*V_,F_=+_e[_t+(t_<<3)+20>>2],D_=+_e[_t+(t_<<3)+24>>2],M_=A_+(u_*F_-x_*D_),D_=g_+(x_*F_+u_*D_),_i){P_=0,F_=34028234663852886e22;do t2=R_*(+_e[_s+(P_<<3)+20>>2]-M_)+V_*(+_e[_s+(P_<<3)+24>>2]-D_),F_=t2<F_?t2:F_,P_=P_+1|0;while((P_|0)!=(l_|0))}else F_=34028234663852886e22;P_=F_>J_,J_=P_?F_:J_,f_=P_?t_:f_,t_=t_+1|0}while((t_|0)!=(__|0));return l[_>>2]=f_,ws=n_,+J_}function NM(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=+_i,_s=+_s,t_=+t_,n_=n_|0;var __=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0;return A_=ws,l_=_t+4|0,__=+_e[_t>>2]*_i+ +_e[l_>>2]*_s-t_,u_=_t+12|0,x_=_t+16|0,t_=+_e[u_>>2]*_i+ +_e[x_>>2]*_s-t_,__<=0?(l[_+0>>2]=l[_t+0>>2],l[_+4>>2]=l[_t+4>>2],l[_+8>>2]=l[_t+8>>2],g_=1):g_=0,t_<=0&&(f_=g_+1|0,g_=_+(g_*12|0)|0,l[g_+0>>2]=l[u_+0>>2],l[g_+4>>2]=l[u_+4>>2],l[g_+8>>2]=l[u_+8>>2],g_=f_),__*t_<0?(t_=__/(__-t_),_s=+_e[_t>>2],_i=+_e[l_>>2],_s=+(_s+t_*(+_e[u_>>2]-_s)),_i=+(_i+t_*(+_e[x_>>2]-_i)),f_=_+(g_*12|0)|0,_e[f_>>2]=_s,_e[f_+4>>2]=_i,f_=_+(g_*12|0)+8|0,_o[f_>>0]=n_,_o[f_+1>>0]=_o[_t+9>>0]|0,_o[f_+2>>0]=0,_o[f_+3>>0]=1,f_=g_+1|0,ws=A_,f_|0):(f_=g_,ws=A_,f_|0)}function OM(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0;if(_s=ws,t_=l[_t+4>>2]|0,(t_|0)==3){(_i|0)<=-1&&Y2(5872,5912,53,7624),t_=_t+16|0,(l[t_>>2]|0)<=(_i|0)&&Y2(5872,5912,53,7624),__=_t+12|0,u_=(l[__>>2]|0)+(_i<<3)|0,l_=l[u_+4>>2]|0,n_=_,l[n_>>2]=l[u_>>2],l[n_+4>>2]=l_,n_=_i+1|0,_i=_+8|0,__=l[__>>2]|0,(n_|0)<(l[t_>>2]|0)?(__=__+(n_<<3)|0,l_=l[__+4>>2]|0,u_=_i,l[u_>>2]=l[__>>2],l[u_+4>>2]=l_):(l_=l[__+4>>2]|0,u_=_i,l[u_>>2]=l[__>>2],l[u_+4>>2]=l_),l[_+16>>2]=_,l[_+20>>2]=2,_e[_+24>>2]=+_e[_t+8>>2],ws=_s;return}else if((t_|0)==2){l[_+16>>2]=_t+20,l[_+20>>2]=l[_t+148>>2],_e[_+24>>2]=+_e[_t+8>>2],ws=_s;return}else if(t_)if((t_|0)==1){l[_+16>>2]=_t+12,l[_+20>>2]=2,_e[_+24>>2]=+_e[_t+8>>2],ws=_s;return}else Y2(15688,5912,81,7624);else{l[_+16>>2]=_t+12,l[_+20>>2]=1,_e[_+24>>2]=+_e[_t+8>>2],ws=_s;return}}function vI(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0,Na=0,n0=0,v0=0,C0=0,I0=0,a0=0,_p=0,ey=0,H0=0,cy=0,G0=0,By=0,my=0,by=0,A1=0,rA=0,G1=0,RC=0,PS=0,yC=0,_f=0,U0=0;_s=ws,ws=ws+144|0,n_=_s,t2=_s+124|0,Q_=_s+112|0,l[1462]=(l[1462]|0)+1,P_=+_e[_i+56>>2],D_=+_e[_i+60>>2],F_=+_e[_i+64>>2],O_=+_e[_i+68>>2],V_=+_e[_i+72>>2],s2=+_e[_i+76>>2],S2=+_e[_i+80>>2],M_=+_e[_i+84>>2],__=_t+4|0,r2=_r[__>>1]|0,(r2&65535)>=4&&Y2(6016,5912,102,6040),h2=r2&65535,l_=n_+108|0,l[l_>>2]=h2;t:do if(r2<<16>>16){for(r2=_i+16|0,x2=_i+48|0,h2=_i+44|0,c2=l[_i+20>>2]|0,A2=0;;){if(H2=e_[_t+A2+6>>0]|0,l[n_+(A2*36|0)+28>>2]=H2,d2=e_[_t+A2+9>>0]|0,l[n_+(A2*36|0)+32>>2]=d2,(c2|0)<=(H2|0)){C2=6;break}if(G0=(l[r2>>2]|0)+(H2<<3)|0,n0=+_e[G0>>2],j2=+_e[G0+4>>2],(l[x2>>2]|0)<=(d2|0)){C2=8;break}if(d2=(l[h2>>2]|0)+(d2<<3)|0,By=+_e[d2>>2],H0=+_e[d2+4>>2],my=P_+(n0*O_-j2*F_),cy=+my,by=+(j2*O_+n0*F_+D_),d2=n_+(A2*36|0)|0,_e[d2>>2]=cy,_e[d2+4>>2]=by,by=V_+(By*M_-H0*S2),cy=+by,By=+(H0*M_+By*S2+s2),d2=n_+(A2*36|0)+8|0,_e[d2>>2]=cy,_e[d2+4>>2]=By,my=+(by-my),by=+(+_e[n_+(A2*36|0)+12>>2]-+_e[n_+(A2*36|0)+4>>2]),d2=n_+(A2*36|0)+16|0,_e[d2>>2]=my,_e[d2+4>>2]=by,_e[n_+(A2*36|0)+24>>2]=0,A2=A2+1|0,d2=l[l_>>2]|0,(A2|0)>=(d2|0)){w2=d2;break t}}((C2|0)==6||(C2|0)==8)&&Y2(6800,6832,103,6880)}else w2=h2;while(!1);do if((w2|0)>1){if(my=+_e[_t>>2],by=+AI(n_),!(by<my*.5)&&!(my*2<by|by<11920928955078125e-23)){w2=l[l_>>2]|0,C2=15;break}l[l_>>2]=0,C2=17}else C2=15;while(!1);(C2|0)==15&&(w2?(N2=w2,R_=_i+20|0,b2=_i+44|0,v2=_i+48|0,e2=n_+16|0,g_=n_+24|0,f2=_i+16|0):C2=17);do if((C2|0)==17)if(l[n_+28>>2]=0,l[n_+32>>2]=0,w2=_i+20|0,(l[w2>>2]|0)<=0&&Y2(6800,6832,103,6880),h2=_i+16|0,r2=l[h2>>2]|0,j2=+_e[r2>>2],n0=+_e[r2+4>>2],r2=_i+48|0,(l[r2>>2]|0)>0){b2=_i+44|0,e2=l[b2>>2]|0,By=+_e[e2>>2],ey=+_e[e2+4>>2],my=P_+(j2*O_-n0*F_),by=n0*O_+j2*F_+D_,H0=+my,cy=+by,e2=n_,_e[e2>>2]=H0,_e[e2+4>>2]=cy,cy=V_+(By*M_-ey*S2),By=ey*M_+By*S2+s2,ey=+cy,H0=+By,e2=n_+8|0,_e[e2>>2]=ey,_e[e2+4>>2]=H0,e2=n_+16|0,my=+(cy-my),by=+(By-by),g_=e2,_e[g_>>2]=my,_e[g_+4>>2]=by,g_=n_+24|0,_e[g_>>2]=1,l[l_>>2]=1,N2=1,R_=w2,v2=r2,f2=h2;break}else Y2(6800,6832,103,6880);while(!1);H2=n_+16|0,d2=n_+20|0,A2=n_+52|0,c2=n_+56|0,r2=n_+36|0,x2=n_+52|0,w2=n_+60|0,P2=n_+72|0,E2=n_+88|0,h2=n_+96|0,F2=0;t:for(;;){if(y2=(N2|0)>0,y2){C2=0;do l[t2+(C2<<2)>>2]=l[n_+(C2*36|0)+28>>2],l[Q_+(C2<<2)>>2]=l[n_+(C2*36|0)+32>>2],C2=C2+1|0;while((C2|0)!=(N2|0))}do if((N2|0)==2){if(G0=e2,by=+_e[G0>>2],j2=+_e[G0+4>>2],G0=x2,v0=+_e[G0>>2],H0=+_e[G0+4>>2],n0=v0-by,ey=H0-j2,j2=by*n0+j2*ey,j2>=-0){_e[g_>>2]=1,l[l_>>2]=1,C2=45;break}if(n0=v0*n0+H0*ey,n0<=0){_e[w2>>2]=1,l[l_>>2]=1,C2=n_+0|0,Na=r2+0|0,C0=C2+36|0;do l[C2>>2]=l[Na>>2],C2=C2+4|0,Na=Na+4|0;while((C2|0)<(C0|0));C2=45;break}else{by=1/(n0-j2),_e[g_>>2]=n0*by,_e[w2>>2]=-(j2*by),l[l_>>2]=2,C2=46;break}}else if((N2|0)==3){if(G0=e2,RC=+_e[G0>>2],rA=+_e[G0+4>>2],G0=x2,A1=+_e[G0>>2],G1=+_e[G0+4>>2],G0=E2,PS=+_e[G0>>2],j2=+_e[G0+4>>2],_f=A1-RC,v0=G1-rA,H0=RC*_f+rA*v0,cy=A1*_f+G1*v0,n0=PS-RC,yC=j2-rA,ey=RC*n0+rA*yC,by=PS*n0+j2*yC,U0=PS-A1,By=j2-G1,my=A1*U0+G1*By,By=PS*U0+j2*By,n0=_f*yC-v0*n0,v0=(A1*j2-G1*PS)*n0,j2=(rA*PS-RC*j2)*n0,n0=(RC*G1-rA*A1)*n0,!(!(H0>=-0)|!(ey>=-0))){_e[g_>>2]=1,l[l_>>2]=1,C2=45;break}if(!(!(H0<-0)|!(cy>0)|!(n0<=0))){U0=1/(cy-H0),_e[g_>>2]=cy*U0,_e[w2>>2]=-(H0*U0),l[l_>>2]=2,C2=46;break}if(!(!(ey<-0)|!(by>0)|!(j2<=0))){U0=1/(by-ey),_e[g_>>2]=by*U0,_e[h2>>2]=-(ey*U0),l[l_>>2]=2,C2=r2+0|0,Na=P2+0|0,C0=C2+36|0;do l[C2>>2]=l[Na>>2],C2=C2+4|0,Na=Na+4|0;while((C2|0)<(C0|0));C2=46;break}if(!(!(cy<=0)|!(my>=-0))){_e[w2>>2]=1,l[l_>>2]=1,C2=n_+0|0,Na=r2+0|0,C0=C2+36|0;do l[C2>>2]=l[Na>>2],C2=C2+4|0,Na=Na+4|0;while((C2|0)<(C0|0));C2=45;break}if(!(!(by<=0)|!(By<=0))){_e[h2>>2]=1,l[l_>>2]=1,C2=n_+0|0,Na=P2+0|0,C0=C2+36|0;do l[C2>>2]=l[Na>>2],C2=C2+4|0,Na=Na+4|0;while((C2|0)<(C0|0));C2=45;break}if(!(my<-0)|!(By>0)|!(v0<=0)){C2=43;break t}U0=1/(By-my),_e[w2>>2]=By*U0,_e[h2>>2]=-(my*U0),l[l_>>2]=2,C2=n_+0|0,Na=P2+0|0,C0=C2+36|0;do l[C2>>2]=l[Na>>2],C2=C2+4|0,Na=Na+4|0;while((C2|0)<(C0|0));C2=46}else if((N2|0)==1)C2=45;else{C2=44;break t}while(!1);do if((C2|0)==45)Na=1,j2=-+_e[H2>>2],n0=-+_e[d2>>2];else if((C2|0)==46)if(_f=+_e[H2>>2],n0=+_e[A2>>2]-_f,U0=+_e[d2>>2],j2=+_e[c2>>2]-U0,_f*j2-n0*U0>0){Na=2,j2=-j2;break}else{Na=2,n0=-n0;break}while(!1);if(j2*j2+n0*n0<14210854715202004e-30){N2=Na,C2=71;break}if(C0=n_+(Na*36|0)|0,cy=-j2,U0=-n0,H0=O_*cy+F_*U0,cy=O_*U0-F_*cy,I0=l[f2>>2]|0,a0=l[R_>>2]|0,(a0|0)>1){for(_p=0,v0=cy*+_e[I0+4>>2]+H0*+_e[I0>>2],G0=1;ey=H0*+_e[I0+(G0<<3)>>2]+cy*+_e[I0+(G0<<3)+4>>2],C2=ey>v0,_p=C2?G0:_p,G0=G0+1|0,(G0|0)!=(a0|0);)v0=C2?ey:v0;if(C2=n_+(Na*36|0)+28|0,l[C2>>2]=_p,(_p|0)<=-1){C2=56;break}}else C2=n_+(Na*36|0)+28|0,l[C2>>2]=0,_p=0;if((a0|0)<=(_p|0)){C2=56;break}if(_f=+_e[I0+(_p<<3)>>2],ey=+_e[I0+(_p<<3)+4>>2],v0=P_+(O_*_f-F_*ey),U0=+v0,ey=+(_f*F_+O_*ey+D_),I0=C0,_e[I0>>2]=U0,_e[I0+4>>2]=ey,ey=M_*j2+S2*n0,j2=M_*n0-j2*S2,I0=l[b2>>2]|0,C0=l[v2>>2]|0,(C0|0)>1){for(a0=0,H0=j2*+_e[I0+4>>2]+ey*+_e[I0>>2],_p=1;n0=ey*+_e[I0+(_p<<3)>>2]+j2*+_e[I0+(_p<<3)+4>>2],G0=n0>H0,a0=G0?_p:a0,_p=_p+1|0,(_p|0)!=(C0|0);)H0=G0?n0:H0;if(_p=n_+(Na*36|0)+32|0,l[_p>>2]=a0,(a0|0)<=-1){C2=63;break}}else _p=n_+(Na*36|0)+32|0,l[_p>>2]=0,a0=0;if((C0|0)<=(a0|0)){C2=63;break}if(PS=+_e[I0+(a0<<3)>>2],U0=+_e[I0+(a0<<3)+4>>2],_f=V_+(M_*PS-S2*U0),yC=+_f,U0=+(PS*S2+M_*U0+s2),G0=n_+(Na*36|0)+8|0,_e[G0>>2]=yC,_e[G0+4>>2]=U0,_f=+(_f-v0),U0=+(+_e[n_+(Na*36|0)+12>>2]-+_e[n_+(Na*36|0)+4>>2]),G0=n_+(Na*36|0)+16|0,_e[G0>>2]=_f,_e[G0+4>>2]=U0,F2=F2+1|0,l[1464]=(l[1464]|0)+1,y2){C2=l[C2>>2]|0,y2=0;do{if((C2|0)==(l[t2+(y2<<2)>>2]|0)&&(l[_p>>2]|0)==(l[Q_+(y2<<2)>>2]|0)){C2=70;break t}y2=y2+1|0}while((y2|0)<(N2|0))}if(N2=(l[l_>>2]|0)+1|0,l[l_>>2]=N2,(F2|0)>=20){C2=71;break}}(C2|0)==43?(U0=1/(n0+(v0+j2)),_e[g_>>2]=v0*U0,_e[w2>>2]=j2*U0,_e[h2>>2]=n0*U0,l[l_>>2]=3,t_=l[1466]|0,l[1466]=(t_|0)>(F2|0)?t_:F2,t_=_+8|0,A_=F2,C2=75):(C2|0)==44?Y2(15688,5912,498,5960):(C2|0)==56||(C2|0)==63?Y2(6800,6832,103,6880):(C2|0)==70&&(N2=l[l_>>2]|0,C2=71);do if((C2|0)==71)if(R_=l[1466]|0,l[1466]=(R_|0)>(F2|0)?R_:F2,R_=_+8|0,!N2)Y2(15688,5912,218,5992);else if((N2|0)==1){A_=n_,_p=l[A_>>2]|0,A_=l[A_+4>>2]|0,t_=_,l[t_>>2]=_p,l[t_+4>>2]=A_,t_=n_+8|0,G0=l[t_>>2]|0,t_=l[t_+4>>2]|0,a0=R_,l[a0>>2]=G0,l[a0+4>>2]=t_,f_=(l[s_>>2]=_p,+_e[s_>>2]),J_=(l[s_>>2]=G0,+_e[s_>>2]),x_=(l[s_>>2]=A_,+_e[s_>>2]),u_=(l[s_>>2]=t_,+_e[s_>>2]),t_=R_,A_=F2;break}else if((N2|0)==2){_f=+_e[g_>>2],u_=+_e[w2>>2],f_=_f*+_e[n_>>2]+u_*+_e[n_+36>>2],x_=_f*+_e[n_+4>>2]+u_*+_e[n_+40>>2],U0=+f_,J_=+x_,t_=_,_e[t_>>2]=U0,_e[t_+4>>2]=J_,J_=_f*+_e[n_+8>>2]+u_*+_e[n_+44>>2],u_=_f*+_e[n_+12>>2]+u_*+_e[n_+48>>2],_f=+J_,U0=+u_,t_=R_,_e[t_>>2]=_f,_e[t_+4>>2]=U0,t_=R_,A_=F2;break}else if((N2|0)==3){t_=R_,A_=F2,C2=75;break}else Y2(15688,5912,237,5992);while(!1);if((C2|0)==75&&(f_=+_e[g_>>2],x_=+_e[w2>>2],u_=+_e[h2>>2],J_=f_*+_e[n_>>2]+x_*+_e[n_+36>>2]+u_*+_e[n_+72>>2],u_=f_*+_e[n_+4>>2]+x_*+_e[n_+40>>2]+u_*+_e[n_+76>>2],x_=+J_,f_=+u_,G0=_,_e[G0>>2]=x_,_e[G0+4>>2]=f_,G0=t_,_e[G0>>2]=x_,_e[G0+4>>2]=f_,f_=J_,x_=u_),_f=f_-J_,g_=_+4|0,R_=_+12|0,U0=x_-u_,t2=_+16|0,_e[t2>>2]=+V2(+(_f*_f+U0*U0)),l[_+20>>2]=A_,_e[_t>>2]=+AI(n_),l_=l[l_>>2]|0,_r[__>>1]=l_,(l_|0)>0){__=0;do _o[_t+__+6>>0]=l[n_+(__*36|0)+28>>2],_o[_t+__+9>>0]=l[n_+(__*36|0)+32>>2],__=__+1|0;while((__|0)<(l_|0))}if(!(_o[_i+88>>0]|0)){ws=_s;return}if(u_=+_e[_i+24>>2],x_=+_e[_i+52>>2],f_=+_e[t2>>2],J_=u_+x_,!(f_>J_&f_>11920928955078125e-23)){_f=+((+_e[_>>2]+ +_e[t_>>2])*.5),U0=+((+_e[g_>>2]+ +_e[R_>>2])*.5),G0=_,_e[G0>>2]=_f,_e[G0+4>>2]=U0,G0=t_,_e[G0>>2]=_f,_e[G0+4>>2]=U0,_e[t2>>2]=0,ws=_s;return}_e[t2>>2]=f_-J_,M_=+_e[t_>>2],f_=+_e[_>>2],P_=M_-f_,J_=+_e[R_>>2],V_=+_e[g_>>2],D_=J_-V_,F_=+V2(+(P_*P_+D_*D_)),F_<11920928955078125e-23||(U0=1/F_,P_=P_*U0,D_=D_*U0),_e[_>>2]=u_*P_+f_,_e[g_>>2]=u_*D_+V_,_e[t_>>2]=M_-x_*P_,_e[R_>>2]=J_-x_*D_,ws=_s}function AI(_){_=_|0;var _t=0,_i=0,_s=0,t_=0;if(_t=ws,_i=l[_+108>>2]|0,(_i|0)==3)return _s=+_e[_+16>>2],t_=+_e[_+20>>2],_s=(+_e[_+52>>2]-_s)*(+_e[_+92>>2]-t_)-(+_e[_+56>>2]-t_)*(+_e[_+88>>2]-_s),ws=_t,+_s;if(!_i)Y2(15688,5912,247,5976);else{if((_i|0)==2)return _s=+_e[_+16>>2]-+_e[_+52>>2],t_=+_e[_+20>>2]-+_e[_+56>>2],t_=+V2(+(_s*_s+t_*t_)),ws=_t,+t_;if((_i|0)==1)return t_=0,ws=_t,+t_;Y2(15688,5912,260,5976)}return 0}function SI(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0;if(_t=ws,_i=_+16|0,_s=l[_i>>2]|0,(_s|0)==-1){if(t_=_+8|0,n_=l[t_>>2]|0,_s=_+12|0,(n_|0)!=(l[_s>>2]|0)&&Y2(6056,6088,58,6136),_=_+4|0,__=l[_>>2]|0,l[_s>>2]=n_<<1,n_=s0(n_*72|0)|0,l[_>>2]=n_,BS(n_|0,__|0,(l[t_>>2]|0)*36|0)|0,u0(__),n_=l[t_>>2]|0,__=(l[_s>>2]|0)+-1|0,_=l[_>>2]|0,(n_|0)<(__|0))do __=n_,n_=n_+1|0,l[_+(__*36|0)+20>>2]=n_,l[_+(__*36|0)+32>>2]=-1,__=(l[_s>>2]|0)+-1|0;while((n_|0)<(__|0));l[_+(__*36|0)+20>>2]=-1,l[_+(((l[_s>>2]|0)+-1|0)*36|0)+32>>2]=-1,_s=l[t_>>2]|0,l[_i>>2]=_s}else t_=_+8|0,_=l[_+4>>2]|0;return __=_+(_s*36|0)+20|0,l[_i>>2]=l[__>>2],l[__>>2]=-1,l[_+(_s*36|0)+24>>2]=-1,l[_+(_s*36|0)+28>>2]=-1,l[_+(_s*36|0)+32>>2]=0,l[_+(_s*36|0)+16>>2]=0,l[t_>>2]=(l[t_>>2]|0)+1,ws=_t,_s|0}function uJ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0;if(_i=ws,(_t|0)<=-1&&Y2(6152,6088,94,6192),(l[_+12>>2]|0)<=(_t|0)&&Y2(6152,6088,94,6192),_s=_+8|0,(l[_s>>2]|0)>0){t_=_+16|0,_=l[_+4>>2]|0,l[_+(_t*36|0)+20>>2]=l[t_>>2],l[_+(_t*36|0)+32>>2]=-1,l[t_>>2]=_t,l[_s>>2]=(l[_s>>2]|0)+-1,ws=_i;return}else Y2(6208,6088,95,6192)}function CI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0;if(_i=ws,A_=_+24|0,l[A_>>2]=(l[A_>>2]|0)+1,A_=l[_>>2]|0,(A_|0)==-1){l[_>>2]=_t,l[(l[_+4>>2]|0)+(_t*36|0)+20>>2]=-1,ws=_i;return}_s=_+4|0,u_=l[_s>>2]|0,t_=+_e[u_+(_t*36|0)>>2],n_=+_e[u_+(_t*36|0)+4>>2],__=+_e[u_+(_t*36|0)+8>>2],l_=+_e[u_+(_t*36|0)+12>>2],x_=l[u_+(A_*36|0)+24>>2]|0;t:do if((x_|0)!=-1)do{if(g_=l[u_+(A_*36|0)+28>>2]|0,M_=+_e[u_+(A_*36|0)+8>>2],e2=+_e[u_+(A_*36|0)>>2],D_=+_e[u_+(A_*36|0)+12>>2],J_=+_e[u_+(A_*36|0)+4>>2],F_=((M_>__?M_:__)-(e2<t_?e2:t_)+((D_>l_?D_:l_)-(J_<n_?J_:n_)))*2,f_=F_*2,J_=(F_-(M_-e2+(D_-J_))*2)*2,D_=+_e[u_+(x_*36|0)>>2],e2=t_<D_?t_:D_,M_=+_e[u_+(x_*36|0)+4>>2],F_=n_<M_?n_:M_,P_=+_e[u_+(x_*36|0)+8>>2],R_=__>P_?__:P_,V_=+_e[u_+(x_*36|0)+12>>2],t2=l_>V_?l_:V_,(l[u_+(x_*36|0)+24>>2]|0)==-1?R_=(R_-e2+(t2-F_))*2:R_=(R_-e2+(t2-F_))*2-(P_-D_+(V_-M_))*2,R_=J_+R_,M_=+_e[u_+(g_*36|0)>>2],F_=t_<M_?t_:M_,O_=+_e[u_+(g_*36|0)+4>>2],e2=n_<O_?n_:O_,D_=+_e[u_+(g_*36|0)+8>>2],P_=__>D_?__:D_,V_=+_e[u_+(g_*36|0)+12>>2],t2=l_>V_?l_:V_,(l[u_+(g_*36|0)+24>>2]|0)==-1?M_=(P_-F_+(t2-e2))*2:M_=(P_-F_+(t2-e2))*2-(D_-M_+(V_-O_))*2,J_=J_+M_,f_<R_&f_<J_)break t;A_=R_<J_?x_:g_,x_=l[u_+(A_*36|0)+24>>2]|0}while((x_|0)!=-1);while(!1);if(u_=l[u_+(A_*36|0)+20>>2]|0,x_=SI(_)|0,g_=l[_s>>2]|0,l[g_+(x_*36|0)+20>>2]=u_,l[g_+(x_*36|0)+16>>2]=0,g_=l[_s>>2]|0,O_=+_e[g_+(A_*36|0)>>2],e2=+_e[g_+(A_*36|0)+4>>2],O_=+(t_<O_?t_:O_),e2=+(n_<e2?n_:e2),Q_=g_+(x_*36|0)|0,_e[Q_>>2]=O_,_e[Q_+4>>2]=e2,e2=+_e[g_+(A_*36|0)+8>>2],O_=+_e[g_+(A_*36|0)+12>>2],e2=+(__>e2?__:e2),O_=+(l_>O_?l_:O_),g_=g_+(x_*36|0)+8|0,_e[g_>>2]=e2,_e[g_+4>>2]=O_,g_=l[_s>>2]|0,l[g_+(x_*36|0)+32>>2]=(l[g_+(A_*36|0)+32>>2]|0)+1,(u_|0)==-1?(l[g_+(x_*36|0)+24>>2]=A_,l[g_+(x_*36|0)+28>>2]=_t,l[g_+(A_*36|0)+20>>2]=x_,Q_=g_+(_t*36|0)+20|0,l[Q_>>2]=x_,l[_>>2]=x_,x_=l[Q_>>2]|0):(Q_=g_+(u_*36|0)+24|0,(l[Q_>>2]|0)==(A_|0)?l[Q_>>2]=x_:l[g_+(u_*36|0)+28>>2]=x_,l[g_+(x_*36|0)+24>>2]=A_,l[g_+(x_*36|0)+28>>2]=_t,l[g_+(A_*36|0)+20>>2]=x_,l[g_+(_t*36|0)+20>>2]=x_),(x_|0)==-1){ws=_i;return}for(;;){if(A_=PI(_,x_)|0,_t=l[_s>>2]|0,u_=l[_t+(A_*36|0)+24>>2]|0,x_=l[_t+(A_*36|0)+28>>2]|0,(u_|0)==-1){_s=20;break}if((x_|0)==-1){_s=22;break}if(g_=l[_t+(u_*36|0)+32>>2]|0,Q_=l[_t+(x_*36|0)+32>>2]|0,l[_t+(A_*36|0)+32>>2]=((g_|0)>(Q_|0)?g_:Q_)+1,vB(_t+(A_*36|0)|0,_t+(u_*36|0)|0,_t+(x_*36|0)|0),x_=l[(l[_s>>2]|0)+(A_*36|0)+20>>2]|0,(x_|0)==-1){_s=24;break}}if((_s|0)==20)Y2(6288,6088,304,6304);else if((_s|0)==22)Y2(6320,6088,305,6304);else if((_s|0)==24){ws=_i;return}}function BI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;if(_s=ws,(l[_>>2]|0)==(_t|0)){l[_>>2]=-1,ws=_s;return}if(_i=_+4|0,t_=l[_i>>2]|0,n_=l[t_+(_t*36|0)+20>>2]|0,__=l[t_+(n_*36|0)+20>>2]|0,l_=l[t_+(n_*36|0)+24>>2]|0,(l_|0)==(_t|0)&&(l_=l[t_+(n_*36|0)+28>>2]|0),(__|0)==-1){l[_>>2]=l_,l[t_+(l_*36|0)+20>>2]=-1,uJ(_,n_),ws=_s;return}_t=t_+(__*36|0)+24|0,(l[_t>>2]|0)==(n_|0)?l[_t>>2]=l_:l[t_+(__*36|0)+28>>2]=l_,l[t_+(l_*36|0)+20>>2]=__,uJ(_,n_);do l_=PI(_,__)|0,_t=l[_i>>2]|0,t_=l[_t+(l_*36|0)+24>>2]|0,n_=l[_t+(l_*36|0)+28>>2]|0,vB(_t+(l_*36|0)|0,_t+(t_*36|0)|0,_t+(n_*36|0)|0),_t=l[_i>>2]|0,t_=l[_t+(t_*36|0)+32>>2]|0,n_=l[_t+(n_*36|0)+32>>2]|0,l[_t+(l_*36|0)+32>>2]=((t_|0)>(n_|0)?t_:n_)+1,__=l[_t+(l_*36|0)+20>>2]|0;while((__|0)!=-1);ws=_s}function vB(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0;_s=ws,t_=+_e[_t>>2],n_=+_e[_i>>2],__=+_e[_t+4>>2],l_=+_e[_i+4>>2],n_=+(t_<n_?t_:n_),l_=+(__<l_?__:l_),u_=_,_e[u_>>2]=n_,_e[u_+4>>2]=l_,l_=+_e[_t+8>>2],n_=+_e[_i+8>>2],__=+_e[_t+12>>2],t_=+_e[_i+12>>2],n_=+(l_>n_?l_:n_),t_=+(__>t_?__:t_),_t=_+8|0,_e[_t>>2]=n_,_e[_t+4>>2]=t_,ws=_s}function PI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0;if(_i=ws,(_t|0)==-1&&Y2(6336,6088,379,6352),__=l[_+4>>2]|0,n_=__+(_t*36|0)|0,J_=__+(_t*36|0)+24|0,f_=l[J_>>2]|0,(f_|0)==-1||(l_=__+(_t*36|0)+32|0,(l[l_>>2]|0)<2))return P_=_t,ws=_i,P_|0;if(R_=__+(_t*36|0)+28|0,g_=l[R_>>2]|0,(f_|0)<=-1&&Y2(6360,6088,389,6352),A_=l[_+12>>2]|0,(f_|0)>=(A_|0)&&Y2(6360,6088,389,6352),(g_|0)>-1&(g_|0)<(A_|0)||Y2(6392,6088,390,6352),x_=__+(f_*36|0)|0,u_=__+(g_*36|0)|0,_s=__+(g_*36|0)+32|0,t_=__+(f_*36|0)+32|0,M_=(l[_s>>2]|0)-(l[t_>>2]|0)|0,(M_|0)>1){P_=__+(g_*36|0)+24|0,f_=l[P_>>2]|0,J_=__+(g_*36|0)+28|0,M_=l[J_>>2]|0,D_=__+(f_*36|0)|0,V_=__+(M_*36|0)|0,(f_|0)>-1&(f_|0)<(A_|0)||Y2(6424,6088,404,6352),(M_|0)>-1&(M_|0)<(A_|0)||Y2(6456,6088,405,6352),l[P_>>2]=_t,P_=__+(_t*36|0)+20|0,A_=__+(g_*36|0)+20|0,l[A_>>2]=l[P_>>2],l[P_>>2]=g_,A_=l[A_>>2]|0;do if((A_|0)!=-1){if(_=__+(A_*36|0)+24|0,(l[_>>2]|0)==(_t|0)){l[_>>2]=g_;break}if(_=__+(A_*36|0)+28|0,(l[_>>2]|0)==(_t|0)){l[_>>2]=g_;break}else Y2(6488,6088,421,6352)}else l[_>>2]=g_;while(!1);return A_=__+(f_*36|0)+32|0,_=__+(M_*36|0)+32|0,(l[A_>>2]|0)>(l[_>>2]|0)?(l[J_>>2]=f_,l[R_>>2]=M_,l[__+(M_*36|0)+20>>2]=_t,vB(n_,x_,V_),vB(u_,n_,D_),t_=l[t_>>2]|0,P_=l[_>>2]|0,P_=((t_|0)>(P_|0)?t_:P_)+1|0,l[l_>>2]=P_,t_=l[A_>>2]|0,t_=(P_|0)>(t_|0)?P_:t_):(l[J_>>2]=M_,l[R_>>2]=f_,l[__+(f_*36|0)+20>>2]=_t,vB(n_,x_,D_),vB(u_,n_,V_),t_=l[t_>>2]|0,P_=l[A_>>2]|0,P_=((t_|0)>(P_|0)?t_:P_)+1|0,l[l_>>2]=P_,t_=l[_>>2]|0,t_=(P_|0)>(t_|0)?P_:t_),l[_s>>2]=t_+1,P_=g_,ws=_i,P_|0}if((M_|0)>=-1)return P_=_t,ws=_i,P_|0;P_=__+(f_*36|0)+24|0,D_=l[P_>>2]|0,V_=__+(f_*36|0)+28|0,M_=l[V_>>2]|0,g_=__+(D_*36|0)|0,R_=__+(M_*36|0)|0,(D_|0)>-1&(D_|0)<(A_|0)||Y2(6520,6088,464,6352),(M_|0)>-1&(M_|0)<(A_|0)||Y2(6552,6088,465,6352),l[P_>>2]=_t,P_=__+(_t*36|0)+20|0,A_=__+(f_*36|0)+20|0,l[A_>>2]=l[P_>>2],l[P_>>2]=f_,A_=l[A_>>2]|0;do if((A_|0)!=-1){if(_=__+(A_*36|0)+24|0,(l[_>>2]|0)==(_t|0)){l[_>>2]=f_;break}if(_=__+(A_*36|0)+28|0,(l[_>>2]|0)==(_t|0)){l[_>>2]=f_;break}else Y2(6584,6088,481,6352)}else l[_>>2]=f_;while(!1);return A_=__+(D_*36|0)+32|0,_=__+(M_*36|0)+32|0,(l[A_>>2]|0)>(l[_>>2]|0)?(l[V_>>2]=D_,l[J_>>2]=M_,l[__+(M_*36|0)+20>>2]=_t,vB(n_,u_,R_),vB(x_,n_,g_),_s=l[_s>>2]|0,P_=l[_>>2]|0,P_=((_s|0)>(P_|0)?_s:P_)+1|0,l[l_>>2]=P_,_s=l[A_>>2]|0,_s=(P_|0)>(_s|0)?P_:_s):(l[V_>>2]=M_,l[J_>>2]=D_,l[__+(D_*36|0)+20>>2]=_t,vB(n_,u_,g_),vB(x_,n_,R_),_s=l[_s>>2]|0,P_=l[A_>>2]|0,P_=((_s|0)>(P_|0)?_s:P_)+1|0,l[l_>>2]=P_,_s=l[_>>2]|0,_s=(P_|0)>(_s|0)?P_:_s),l[t_>>2]=_s+1,P_=f_,ws=_i,P_|0}function wI(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=+_s;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0;if(x_=ws,J_=1-_s,A_=J_*+_e[_+32>>2]+ +_e[_+36>>2]*_s,g_=+J2(+A_),A_=+B2(+A_),n_=+_e[_+8>>2],u_=+_e[_+12>>2],l_=J_*+_e[_+16>>2]+ +_e[_+24>>2]*_s-(A_*n_-g_*u_),u_=J_*+_e[_+20>>2]+ +_e[_+28>>2]*_s-(g_*n_+A_*u_),n_=J_*+_e[_+68>>2]+ +_e[_+72>>2]*_s,__=+J2(+n_),n_=+B2(+n_),R_=+_e[_+44>>2],M_=+_e[_+48>>2],t_=J_*+_e[_+52>>2]+ +_e[_+60>>2]*_s-(n_*R_-__*M_),_s=J_*+_e[_+56>>2]+ +_e[_+64>>2]*_s-(__*R_+n_*M_),V_=l[_+80>>2]|0,(V_|0)==1)return f_=+_e[_+92>>2],J_=+_e[_+96>>2],R_=+_e[_+84>>2],M_=+_e[_+88>>2],_=l[_+4>>2]|0,(_i|0)<=-1&&Y2(6800,6832,103,6880),(l[_+20>>2]|0)<=(_i|0)&&Y2(6800,6832,103,6880),V_=(l[_+16>>2]|0)+(_i<<3)|0,P_=+_e[V_>>2],D_=+_e[V_+4>>2],M_=(A_*f_-g_*J_)*(t_+(n_*P_-__*D_)-(l_+(A_*R_-g_*M_)))+(g_*f_+A_*J_)*(_s+(__*P_+n_*D_)-(u_+(g_*R_+A_*M_))),ws=x_,+M_;if((V_|0)==2)return R_=+_e[_+92>>2],M_=+_e[_+96>>2],f_=+_e[_+84>>2],J_=+_e[_+88>>2],_=l[_>>2]|0,(_t|0)<=-1&&Y2(6800,6832,103,6880),(l[_+20>>2]|0)<=(_t|0)&&Y2(6800,6832,103,6880),V_=(l[_+16>>2]|0)+(_t<<3)|0,D_=+_e[V_>>2],P_=+_e[V_+4>>2],P_=(n_*R_-__*M_)*(l_+(A_*D_-g_*P_)-(t_+(n_*f_-__*J_)))+(__*R_+n_*M_)*(u_+(g_*D_+A_*P_)-(_s+(__*f_+n_*J_))),ws=x_,+P_;if(V_)Y2(15688,6720,239,6784);else return V_=l[_>>2]|0,(_t|0)<=-1&&Y2(6800,6832,103,6880),(l[V_+20>>2]|0)<=(_t|0)&&Y2(6800,6832,103,6880),_t=(l[V_+16>>2]|0)+(_t<<3)|0,f_=+_e[_t>>2],J_=+_e[_t+4>>2],_t=l[_+4>>2]|0,(_i|0)<=-1&&Y2(6800,6832,103,6880),(l[_t+20>>2]|0)<=(_i|0)&&Y2(6800,6832,103,6880),V_=(l[_t+16>>2]|0)+(_i<<3)|0,D_=+_e[V_>>2],P_=+_e[V_+4>>2],P_=+_e[_+92>>2]*(t_+(n_*D_-__*P_)-(l_+(A_*f_-g_*J_)))+ +_e[_+96>>2]*(_s+(__*D_+n_*P_)-(u_+(g_*f_+A_*J_))),ws=x_,+P_;return 0}function bot(_){_=_|0;var _t=0;_t=ws,l[_>>2]=6952,u0(l[_+12>>2]|0),u0(_),ws=_t}function uot(_){_=_|0;var _t=0,_i=0;_t=ws,l[_>>2]=6952,_i=_+12|0,u0(l[_i>>2]|0),l[_i>>2]=0,l[_+16>>2]=0,ws=_t}function VI(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0;for(t_=ws,_s=_+12|0,l[_s>>2]|0&&Y2(6984,7024,60,7144),n_=_+16|0,l[n_>>2]|0&&Y2(6984,7024,60,7144),(_i|0)<=1&&Y2(7160,7024,61,7144),u_=+_e[_t>>2],l_=+_e[_t+4>>2],__=1;;){if(A_=u_,u_=+_e[_t+(__<<3)>>2],A_=A_-u_,x_=l_,l_=+_e[_t+(__<<3)+4>>2],x_=x_-l_,__=__+1|0,!(A_*A_+x_*x_>2499999936844688e-20)){__=9;break}if((__|0)>=(_i|0)){__=10;break}}if((__|0)==9)Y2(7176,7024,66,7144);else if((__|0)==10){l[n_>>2]=_i,__=s0(_i<<3)|0,l[_s>>2]=__,BS(__|0,_t|0,l[n_>>2]<<3|0)|0,__=_+20|0,l[__+0>>2]=0,l[__+4>>2]=0,l[__+8>>2]=0,l[__+12>>2]=0,_r[__+16>>1]=0,ws=t_;return}}function hot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;return _i=ws,_t=bA(_t,40)|0,_t?(l[_t>>2]=6952,l[_t+4>>2]=3,_e[_t+8>>2]=.009999999776482582,l[_t+12>>2]=0,l[_t+16>>2]=0,_o[_t+36>>0]=0,_o[_t+37>>0]=0):_t=0,VI(_t,l[_+12>>2]|0,l[_+16>>2]|0),_s=_+20|0,t_=l[_s+4>>2]|0,n_=_t+20|0,l[n_>>2]=l[_s>>2],l[n_+4>>2]=t_,n_=_+28|0,t_=l[n_+4>>2]|0,_s=_t+28|0,l[_s>>2]=l[n_>>2],l[_s+4>>2]=t_,_o[_t+36>>0]=_o[_+36>>0]|0,_o[_t+37>>0]=_o[_+37>>0]|0,ws=_i,_t|0}function dot(_){return _=_|0,(l[_+16>>2]|0)+-1|0}function hJ(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0;if(_s=ws,(_i|0)<=-1&&Y2(7240,7024,112,7280),t_=_+16|0,((l[t_>>2]|0)+-1|0)<=(_i|0)&&Y2(7240,7024,112,7280),l[_t+4>>2]=1,_e[_t+8>>2]=+_e[_+8>>2],n_=_+12|0,__=(l[n_>>2]|0)+(_i<<3)|0,l_=l[__+4>>2]|0,u_=_t+12|0,l[u_>>2]=l[__>>2],l[u_+4>>2]=l_,u_=(l[n_>>2]|0)+(_i+1<<3)|0,l_=l[u_+4>>2]|0,__=_t+20|0,l[__>>2]=l[u_>>2],l[__+4>>2]=l_,__=_t+28|0,(_i|0)>0?(x_=(l[n_>>2]|0)+(_i+-1<<3)|0,l_=l[x_+4>>2]|0,u_=__,l[u_>>2]=l[x_>>2],l[u_+4>>2]=l_,_o[_t+44>>0]=1):(l_=_+20|0,u_=l[l_+4>>2]|0,x_=__,l[x_>>2]=l[l_>>2],l[x_+4>>2]=u_,_o[_t+44>>0]=_o[_+36>>0]|0),__=_t+36|0,((l[t_>>2]|0)+-2|0)>(_i|0)){l_=(l[n_>>2]|0)+(_i+2<<3)|0,u_=l[l_+4>>2]|0,x_=__,l[x_>>2]=l[l_>>2],l[x_+4>>2]=u_,_o[_t+45>>0]=1,ws=_s;return}else{l_=_+28|0,u_=l[l_+4>>2]|0,x_=__,l[x_>>2]=l[l_>>2],l[x_+4>>2]=u_,_o[_t+45>>0]=_o[_+37>>0]|0,ws=_s;return}}function yot(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,0}function xot(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0;return n_=ws,ws=ws+48|0,__=n_,l_=l[_+16>>2]|0,(l_|0)>(t_|0)?(l[__>>2]=7472,l[__+4>>2]=1,_e[__+8>>2]=.009999999776482582,u_=__+28|0,l[u_+0>>2]=0,l[u_+4>>2]=0,l[u_+8>>2]=0,l[u_+12>>2]=0,_r[u_+16>>1]=0,u_=t_+1|0,_=l[_+12>>2]|0,A_=_+(t_<<3)|0,x_=l[A_+4>>2]|0,t_=__+12|0,l[t_>>2]=l[A_>>2],l[t_+4>>2]=x_,l_=_+(((u_|0)==(l_|0)?0:u_)<<3)|0,t_=l[l_+4>>2]|0,_=__+20|0,l[_>>2]=l[l_>>2],l[_+4>>2]=t_,_=DI(__,_t,_i,_s,0)|0,ws=n_,_|0):(Y2(7296,7024,152,12248),0)}function fot(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0;if(t_=ws,n_=l[_+16>>2]|0,(n_|0)>(_s|0)){R_=_s+1|0,n_=(R_|0)==(n_|0)?0:R_,_=l[_+12>>2]|0,g_=+_e[_i+12>>2],A_=+_e[_+(_s<<3)>>2],f_=+_e[_i+8>>2],u_=+_e[_+(_s<<3)+4>>2],l_=+_e[_i>>2],x_=l_+(g_*A_-f_*u_),J_=+_e[_i+4>>2],u_=A_*f_+g_*u_+J_,A_=+_e[_+(n_<<3)>>2],__=+_e[_+(n_<<3)+4>>2],l_=l_+(g_*A_-f_*__),__=J_+(f_*A_+g_*__),g_=+(x_<l_?x_:l_),A_=+(u_<__?u_:__),_=_t,_e[_>>2]=g_,_e[_+4>>2]=A_,l_=+(x_>l_?x_:l_),__=+(u_>__?u_:__),_=_t+8|0,_e[_>>2]=l_,_e[_+4>>2]=__,ws=t_;return}else Y2(7296,7024,171,7320)}function got(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,_=ws,l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,ws=_}function vot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;return _i=ws,_t=bA(_t,20)|0,_t?(l[_t>>2]=7400,_s=_t+4|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0):_t=0,n_=_+4|0,_s=l[n_+4>>2]|0,t_=_t+4|0,l[t_>>2]=l[n_>>2],l[t_+4>>2]=_s,t_=_+12|0,_=l[t_+4>>2]|0,_s=_t+12|0,l[_s>>2]=l[t_>>2],l[_s+4>>2]=_,ws=_i,_t|0}function Aot(_){return _=_|0,1}function Sot(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0;return _s=+_e[_t+12>>2],l_=+_e[_+12>>2],__=+_e[_t+8>>2],t_=+_e[_+16>>2],n_=+_e[_i>>2]-(+_e[_t>>2]+(_s*l_-__*t_)),t_=+_e[_i+4>>2]-(+_e[_t+4>>2]+(l_*__+_s*t_)),_s=+_e[_+8>>2],n_*n_+t_*t_<=_s*_s|0}function Cot(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0;return t_=ws,A_=+_e[_s+12>>2],u_=+_e[_+12>>2],g_=+_e[_s+8>>2],__=+_e[_+16>>2],x_=+_e[_i>>2],n_=x_-(+_e[_s>>2]+(A_*u_-g_*__)),l_=+_e[_i+4>>2],__=l_-(+_e[_s+4>>2]+(u_*g_+A_*__)),A_=+_e[_+8>>2],x_=+_e[_i+8>>2]-x_,l_=+_e[_i+12>>2]-l_,g_=n_*x_+__*l_,u_=x_*x_+l_*l_,A_=g_*g_-(n_*n_+__*__-A_*A_)*u_,A_<0|u_<11920928955078125e-23||(g_=g_+ +V2(+A_),A_=-g_,!(g_<=-0))||!(u_*+_e[_i+16>>2]>=A_)?(_s=0,ws=t_,_s|0):(g_=A_/u_,_e[_t+8>>2]=g_,n_=n_+x_*g_,l_=__+l_*g_,g_=+n_,__=+l_,_s=_t,_e[_s>>2]=g_,_e[_s+4>>2]=__,__=+V2(+(n_*n_+l_*l_)),__<11920928955078125e-23?(_s=1,ws=t_,_s|0):(g_=1/__,_e[_t>>2]=n_*g_,_e[_t+4>>2]=l_*g_,_s=1,ws=t_,_s|0))}function Bot(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0;t_=+_e[_i+12>>2],u_=+_e[_+12>>2],l_=+_e[_i+8>>2],n_=+_e[_+16>>2],__=+_e[_i>>2]+(t_*u_-l_*n_),n_=+_e[_i+4>>2]+(u_*l_+t_*n_),_s=_+8|0,t_=+_e[_s>>2],_e[_t>>2]=__-t_,_e[_t+4>>2]=n_-t_,t_=+_e[_s>>2],_e[_t+8>>2]=__+t_,_e[_t+12>>2]=n_+t_}function Pot(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0;l_=_+8|0,n_=+_e[l_>>2],n_=n_*_i*3.1415927410125732*n_,_e[_t>>2]=n_,__=_+12|0,A_=__,x_=l[A_+4>>2]|0,u_=_t+4|0,l[u_>>2]=l[A_>>2],l[u_+4>>2]=x_,t_=+_e[l_>>2],_s=+_e[__>>2],_i=+_e[_+16>>2],_e[_t+12>>2]=n_*(t_*t_*.5+(_s*_s+_i*_i))}function wot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;return _i=ws,_t=bA(_t,48)|0,_t?(l[_t>>2]=7472,l[_t+4>>2]=1,_e[_t+8>>2]=.009999999776482582,_s=_t+28|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0,_r[_s+16>>1]=0):_t=0,n_=_+4|0,t_=l[n_+4>>2]|0,_s=_t+4|0,l[_s>>2]=l[n_>>2],l[_s+4>>2]=t_,_s=_t+12|0,_=_+12|0,l[_s+0>>2]=l[_+0>>2],l[_s+4>>2]=l[_+4>>2],l[_s+8>>2]=l[_+8>>2],l[_s+12>>2]=l[_+12>>2],l[_s+16>>2]=l[_+16>>2],l[_s+20>>2]=l[_+20>>2],l[_s+24>>2]=l[_+24>>2],l[_s+28>>2]=l[_+28>>2],_r[_s+32>>1]=_r[_+32>>1]|0,ws=_i,_t|0}function Vot(_){return _=_|0,1}function Mot(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,0}function DI(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0;return t_=ws,A_=+_e[_s>>2],x_=+_e[_i>>2]-A_,g_=+_e[_s+4>>2],l_=+_e[_i+4>>2]-g_,n_=_s+12|0,R_=+_e[n_>>2],_s=_s+8|0,u_=+_e[_s>>2],__=x_*R_+l_*u_,x_=R_*l_-x_*u_,A_=+_e[_i+8>>2]-A_,g_=+_e[_i+12>>2]-g_,l_=R_*A_+u_*g_-__,A_=R_*g_-u_*A_-x_,F_=_+12|0,u_=+_e[F_>>2],g_=+_e[F_+4>>2],_=_+20|0,R_=+_e[_>>2],R_=R_-u_,J_=+_e[_+4>>2]-g_,D_=-R_,f_=R_*R_+J_*J_,M_=+V2(+f_),M_<11920928955078125e-23?V_=J_:(P_=1/M_,V_=J_*P_,D_=P_*D_),M_=(g_-x_)*D_+(u_-__)*V_,P_=A_*D_+l_*V_,P_==0||(P_=M_/P_,P_<0)||f_==0||+_e[_i+16>>2]<P_||(R_=(R_*(__+l_*P_-u_)+J_*(x_+A_*P_-g_))/f_,R_<0|R_>1)?(F_=0,ws=t_,F_|0):(_e[_t+8>>2]=P_,P_=+_e[n_>>2],l_=+_e[_s>>2],__=V_*P_-D_*l_,l_=D_*P_+V_*l_,M_>0?(D_=+-__,P_=+-l_,F_=_t,_e[F_>>2]=D_,_e[F_+4>>2]=P_,F_=1,ws=t_,F_|0):(D_=+__,P_=+l_,F_=_t,_e[F_>>2]=D_,_e[F_+4>>2]=P_,F_=1,ws=t_,F_|0))}function Got(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0;_s=ws,l_=+_e[_i+12>>2],A_=+_e[_+12>>2],x_=+_e[_i+8>>2],__=+_e[_+16>>2],n_=+_e[_i>>2],u_=n_+(l_*A_-x_*__),g_=+_e[_i+4>>2],__=A_*x_+l_*__+g_,A_=+_e[_+20>>2],t_=+_e[_+24>>2],n_=n_+(l_*A_-x_*t_),t_=g_+(x_*A_+l_*t_),l_=+_e[_+8>>2],A_=+((u_<n_?u_:n_)-l_),x_=+((__<t_?__:t_)-l_),_i=_t,_e[_i>>2]=A_,_e[_i+4>>2]=x_,n_=+(l_+(u_>n_?u_:n_)),t_=+(l_+(__>t_?__:t_)),_i=_t+8|0,_e[_i>>2]=n_,_e[_i+4>>2]=t_,ws=_s}function Jot(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0,t_=0;_s=ws,_e[_t>>2]=0,t_=+((+_e[_+12>>2]+ +_e[_+20>>2])*.5),_i=+((+_e[_+16>>2]+ +_e[_+24>>2])*.5),_=_t+4|0,_e[_>>2]=t_,_e[_+4>>2]=_i,_e[_t+12>>2]=0,ws=_s}function Iot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;return _i=ws,_t=bA(_t,152)|0,_t?(l[_t>>2]=7832,l[_t+4>>2]=2,_e[_t+8>>2]=.009999999776482582,l[_t+148>>2]=0,_e[_t+12>>2]=0,_e[_t+16>>2]=0):_t=0,n_=_+4|0,t_=l[n_+4>>2]|0,_s=_t+4|0,l[_s>>2]=l[n_>>2],l[_s+4>>2]=t_,BS(_t+12|0,_+12|0,140)|0,ws=_i,_t|0}function Tot(_){return _=_|0,1}function Rot(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0;if(_s=ws,__=+_e[_i>>2]-+_e[_t>>2],l_=+_e[_i+4>>2]-+_e[_t+4>>2],u_=+_e[_t+12>>2],n_=+_e[_t+8>>2],t_=__*u_+l_*n_,n_=u_*l_-__*n_,_t=l[_+148>>2]|0,(_t|0)>0)_i=0;else return _i=1,ws=_s,_i|0;for(;;){if((t_-+_e[_+(_i<<3)+20>>2])*+_e[_+(_i<<3)+84>>2]+(n_-+_e[_+(_i<<3)+24>>2])*+_e[_+(_i<<3)+88>>2]>0){_t=0,_=4;break}if(_i=_i+1|0,(_i|0)>=(_t|0)){_t=1,_=4;break}}return(_|0)==4?(ws=_s,_t|0):0}function Fot(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0;t_=ws,A_=+_e[_s>>2],x_=+_e[_i>>2]-A_,F_=+_e[_s+4>>2],R_=+_e[_i+4>>2]-F_,u_=_s+12|0,P_=+_e[u_>>2],_s=_s+8|0,J_=+_e[_s>>2],g_=x_*P_+R_*J_,x_=P_*R_-x_*J_,A_=+_e[_i+8>>2]-A_,F_=+_e[_i+12>>2]-F_,R_=P_*A_+J_*F_-g_,A_=P_*F_-J_*A_-x_,f_=l[_+148>>2]|0,J_=+_e[_i+16>>2];do if((f_|0)>0){V_=0,_i=-1,M_=0,D_=J_;t:for(;;){t2=+_e[_+(V_<<3)+84>>2],F_=+_e[_+(V_<<3)+88>>2],P_=(+_e[_+(V_<<3)+20>>2]-g_)*t2+(+_e[_+(V_<<3)+24>>2]-x_)*F_,F_=R_*t2+A_*F_;do if(F_==0){if(P_<0){n_=0,f_=17;break t}}else{if(F_<0&&P_<M_*F_){_i=V_,M_=P_/F_;break}F_>0&&P_<D_*F_&&(D_=P_/F_)}while(!1);if(V_=V_+1|0,D_<M_){n_=0,f_=17;break}if((V_|0)>=(f_|0)){f_=12;break}}if((f_|0)==12){if(M_>=0){__=J_,n_=_i,l_=M_;break}Y2(7712,7568,328,12248)}else if((f_|0)==17)return ws=t_,n_|0}else __=J_,n_=-1,l_=0;while(!1);return l_<=__||Y2(7712,7568,328,12248),(n_|0)<=-1?(V_=0,ws=t_,V_|0):(_e[_t+8>>2]=l_,P_=+_e[u_>>2],M_=+_e[_+(n_<<3)+84>>2],D_=+_e[_s>>2],t2=+_e[_+(n_<<3)+88>>2],F_=+(P_*M_-D_*t2),t2=+(M_*D_+P_*t2),V_=_t,_e[V_>>2]=F_,_e[V_+4>>2]=t2,V_=1,ws=t_,V_|0)}function Lot(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0;if(_s=ws,t_=+_e[_i+12>>2],A_=+_e[_+20>>2],n_=+_e[_i+8>>2],g_=+_e[_+24>>2],__=+_e[_i>>2],u_=__+(t_*A_-n_*g_),l_=+_e[_i+4>>2],g_=A_*n_+t_*g_+l_,_i=l[_+148>>2]|0,(_i|0)>1){x_=u_,A_=g_,f_=1;do M_=+_e[_+(f_<<3)+20>>2],J_=+_e[_+(f_<<3)+24>>2],R_=__+(t_*M_-n_*J_),J_=M_*n_+t_*J_+l_,x_=x_<R_?x_:R_,A_=A_<J_?A_:J_,u_=u_>R_?u_:R_,g_=g_>J_?g_:J_,f_=f_+1|0;while((f_|0)<(_i|0))}else A_=g_,x_=u_;M_=+_e[_+8>>2],J_=+(x_-M_),R_=+(A_-M_),f_=_t,_e[f_>>2]=J_,_e[f_+4>>2]=R_,R_=+(u_+M_),M_=+(g_+M_),f_=_t+8|0,_e[f_>>2]=R_,_e[f_+4>>2]=M_,ws=_s}function qot(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0;_s=ws,t_=l[_+148>>2]|0,(t_|0)>2?(__=0,n_=0,g_=0):Y2(7760,7568,385,7776);do n_=n_+ +_e[_+(g_<<3)+20>>2],__=__+ +_e[_+(g_<<3)+24>>2],g_=g_+1|0;while((g_|0)<(t_|0));A_=1/+(t_|0),n_=n_*A_,A_=__*A_,M_=_+20|0,P_=_+24|0,u_=0,x_=0,__=0,l_=0,V_=0;do D_=+_e[_+(V_<<3)+20>>2]-n_,f_=+_e[_+(V_<<3)+24>>2]-A_,V_=V_+1|0,g_=(V_|0)<(t_|0),g_?(J_=_+(V_<<3)+20|0,R_=_+(V_<<3)+24|0):(J_=M_,R_=P_),t2=+_e[J_>>2]-n_,F_=+_e[R_>>2]-A_,e2=D_*F_-f_*t2,O_=e2*.5,l_=l_+O_,O_=O_*.3333333432674408,u_=u_+(D_+t2)*O_,x_=x_+(f_+F_)*O_,__=__+e2*.0833333358168602*(t2*t2+(D_*D_+D_*t2)+(F_*F_+(f_*f_+f_*F_)));while(g_);if(f_=l_*_i,_e[_t>>2]=f_,l_>11920928955078125e-23){O_=1/l_,e2=u_*O_,O_=x_*O_,F_=n_+e2,t2=A_+O_,A_=+F_,D_=+t2,P_=_t+4|0,_e[P_>>2]=A_,_e[P_+4>>2]=D_,_e[_t+12>>2]=__*_i+f_*(F_*F_+t2*t2-(e2*e2+O_*O_)),ws=_s;return}else Y2(7792,7568,431,7776)}function bA(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0;if(_i=ws,!_t)return l_=0,ws=_i,l_|0;if((_t|0)<=0&&Y2(8744,8672,102,8992),(_t|0)>640)return l_=s0(_t)|0,ws=_i,l_|0;if(l_=_o[7992+_t>>0]|0,t_=l_&255,(l_&255)>=14&&Y2(8760,8672,110,8992),_t=_+(t_<<2)+12|0,_s=l[_t>>2]|0,_s)return l[_t>>2]=l[_s>>2],l_=_s,ws=_i,l_|0;if(_s=_+4|0,n_=l[_s>>2]|0,__=_+8|0,(n_|0)==(l[__>>2]|0)&&(l_=l[_>>2]|0,n_=n_+128|0,l[__>>2]=n_,n_=s0(n_<<3)|0,l[_>>2]=n_,BS(n_|0,l_|0,l[_s>>2]<<3|0)|0,YM((l[_>>2]|0)+(l[_s>>2]<<3)|0,0,1024)|0,u0(l_),n_=l[_s>>2]|0),l_=l[_>>2]|0,__=s0(16384)|0,_=l_+(n_<<3)+4|0,l[_>>2]=__,t_=l[7936+(t_<<2)>>2]|0,l[l_+(n_<<3)>>2]=t_,n_=16384/(t_|0)|0,(T0(n_,t_)|0)>=16385&&Y2(8800,8672,138,8992),n_=n_+-1|0,(n_|0)>0){l_=0;do u_=l_,l_=l_+1|0,l[__+(T0(u_,t_)|0)>>2]=__+(T0(l_,t_)|0),__=l[_>>2]|0;while((l_|0)!=(n_|0))}return l[__+(T0(n_,t_)|0)>>2]=0,l[_t>>2]=l[l[_>>2]>>2],l[_s>>2]=(l[_s>>2]|0)+1,u_=l[_>>2]|0,ws=_i,u_|0}function PA(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;if(_s=ws,!_i){ws=_s;return}if((_i|0)<=0&&Y2(8744,8672,162,9032),(_i|0)>640){u0(_t),ws=_s;return}_i=_o[7992+_i>>0]|0,(_i&255)>=14&&Y2(8760,8672,171,9032),_i=_+((_i&255)<<2)+12|0,l[_t>>2]=l[_i>>2],l[_i>>2]=_t,ws=_s}function _D(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0;t_=+_e[_t+16>>2],A_=+_e[_t+32>>2],__=+_e[_t+20>>2],_s=+_e[_t+28>>2],J_=t_*A_-__*_s,x_=+_e[_t+24>>2],n_=+_e[_t+12>>2],f_=__*x_-A_*n_,g_=_s*n_-t_*x_,u_=+_e[_t>>2],l_=+_e[_t+4>>2],R_=+_e[_t+8>>2],M_=J_*u_+l_*f_+g_*R_,M_!=0&&(M_=1/M_),V_=+_e[_i>>2],D_=+_e[_i+4>>2],P_=+_e[_i+8>>2],_e[_>>2]=M_*(J_*V_+D_*f_+g_*P_),_e[_+4>>2]=M_*((D_*A_-P_*_s)*u_+l_*(P_*x_-A_*V_)+(_s*V_-D_*x_)*R_),_e[_+8>>2]=M_*((t_*P_-__*D_)*u_+l_*(__*V_-P_*n_)+(D_*n_-t_*V_)*R_)}function aD(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=+_s;var t_=0,n_=0,__=0,l_=0,u_=0;n_=+_e[_t>>2],__=+_e[_t+12>>2],t_=+_e[_t+4>>2],l_=+_e[_t+16>>2],u_=n_*l_-__*t_,u_!=0&&(u_=1/u_),_e[_>>2]=u_*(l_*_i-__*_s),_e[_+4>>2]=u_*(n_*_s-t_*_i)}function MI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;_i=ws,_s=+_e[_>>2],n_=+_e[_+12>>2],t_=+_e[_+4>>2],__=+_e[_+16>>2],l_=_s*__-n_*t_,l_!=0&&(l_=1/l_),_e[_t>>2]=__*l_,__=-l_,_e[_t+12>>2]=n_*__,_e[_t+8>>2]=0,_e[_t+4>>2]=t_*__,_e[_t+16>>2]=_s*l_,_=_t+20|0,l[_+0>>2]=0,l[_+4>>2]=0,l[_+8>>2]=0,l[_+12>>2]=0,ws=_i}function GI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0;_s=+_e[_+16>>2],_i=+_e[_+32>>2],A_=_s*_i,g_=+_e[_+20>>2],n_=+_e[_+28>>2],__=+_e[_+24>>2],l_=+_e[_+12>>2],x_=_i*l_,u_=n_*l_-_s*__,t_=+_e[_>>2],g_=(A_-g_*n_)*t_+ +_e[_+4>>2]*(g_*__-x_)+u_*+_e[_+8>>2],g_!=0&&(g_=1/g_),_e[_t>>2]=g_*(A_-n_*n_),A_=g_*(__*n_-x_),_e[_t+4>>2]=A_,x_=g_*u_,_e[_t+8>>2]=x_,_e[_t+12>>2]=A_,_e[_t+16>>2]=g_*(t_*_i-__*__),A_=g_*(l_*__-t_*n_),_e[_t+20>>2]=A_,_e[_t+24>>2]=x_,_e[_t+28>>2]=A_,_e[_t+32>>2]=g_*(t_*_s-l_*l_)}function ta(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_i=ws,ws=ws+16|0,_s=_i,l[_s>>2]=_t,UP(_|0,_s|0)|0,ws=_i}function fP(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;return _s=ws,_i=_+102796|0,t_=l[_i>>2]|0,(t_|0)>=32&&Y2(8952,8856,38,8992),n_=_+(t_*12|0)+102412|0,l[_+(t_*12|0)+102416>>2]=_t,__=_+102400|0,l_=l[__>>2]|0,(l_+_t|0)>102400?(l[n_>>2]=s0(_t)|0,_o[_+(t_*12|0)+102420>>0]=1):(l[n_>>2]=_+l_,_o[_+(t_*12|0)+102420>>0]=0,l[__>>2]=(l[__>>2]|0)+_t),l_=_+102404|0,__=(l[l_>>2]|0)+_t|0,l[l_>>2]=__,l_=_+102408|0,_t=l[l_>>2]|0,l[l_>>2]=(_t|0)>(__|0)?_t:__,l[_i>>2]=(l[_i>>2]|0)+1,ws=_s,l[n_>>2]|0}function AB(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0;_s=ws,_i=_+102796|0,t_=l[_i>>2]|0,(t_|0)<=0&&Y2(9008,8856,63,9032),n_=t_+-1|0,(l[_+(n_*12|0)+102412>>2]|0)!=(_t|0)&&Y2(9040,8856,65,9032),_o[_+(n_*12|0)+102420>>0]|0?(u0(_t),_t=_+(n_*12|0)+102416|0,t_=l[_i>>2]|0):(_t=_+(n_*12|0)+102416|0,n_=_+102400|0,l[n_>>2]=(l[n_>>2]|0)-(l[_t>>2]|0)),n_=_+102404|0,l[n_>>2]=(l[n_>>2]|0)-(l[_t>>2]|0),l[_i>>2]=t_+-1,ws=_s}function pD(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0;if(t_=ws,ws=ws+16|0,x_=t_,l_=_+116|0,u_=_+120|0,_s=_+124|0,__=_+128|0,_i=_+28|0,_e[_i>>2]=0,_e[_+32>>2]=0,l[l_+0>>2]=0,l[l_+4>>2]=0,l[l_+8>>2]=0,l[l_+12>>2]=0,A_=l[_>>2]|0,(A_|0)==1|(A_|0)==0){f_=_+12|0,g_=l[f_>>2]|0,f_=l[f_+4>>2]|0,M_=_+36|0,l[M_>>2]=g_,l[M_+4>>2]=f_,M_=_+44|0,l[M_>>2]=g_,l[M_+4>>2]=f_,_e[_+52>>2]=+_e[_+56>>2],ws=t_;return}else if((A_|0)==2){if(M_=l[_+100>>2]|0,M_){A_=x_+4|0,g_=x_+8|0,f_=x_+12|0,V_=0,J_=0,R_=0,D_=0;do P_=+_e[M_>>2],P_!=0&&(F_=l[M_+12>>2]|0,KA[l[(l[F_>>2]|0)+28>>2]&63](F_,x_,P_),V_=+_e[x_>>2],J_=V_+ +_e[l_>>2],_e[l_>>2]=J_,R_=R_+V_*+_e[A_>>2],D_=D_+V_*+_e[g_>>2],V_=+_e[f_>>2]+ +_e[_s>>2],_e[_s>>2]=V_),M_=l[M_+4>>2]|0;while(M_|0);J_>0?(P_=1/J_,_e[u_>>2]=P_,R_=R_*P_,D_=D_*P_):_t=11}else D_=0,R_=0,V_=0,_t=11;(_t|0)==11&&(_e[l_>>2]=1,_e[u_>>2]=1,J_=1);do if(V_>0&&!(_r[_+4>>1]&16))if(J_=V_-(D_*D_+R_*R_)*J_,_e[_s>>2]=J_,J_>0){n_=1/J_;break}else Y2(9528,9088,334,9512);else _t=17;while(!1);(_t|0)==17&&(_e[_s>>2]=0,n_=0),_e[__>>2]=n_,F_=_+44|0,M_=F_,P_=+_e[M_>>2],J_=+_e[M_+4>>2],t2=+R_,n_=+D_,M_=_i,_e[M_>>2]=t2,_e[M_+4>>2]=n_,n_=+_e[_+24>>2],t2=+_e[_+20>>2],V_=+_e[_+12>>2]+(n_*R_-t2*D_),R_=R_*t2+n_*D_+ +_e[_+16>>2],n_=+V_,D_=+R_,_e[F_>>2]=n_,_e[F_+4>>2]=D_,F_=_+36|0,_e[F_>>2]=n_,_e[F_+4>>2]=D_,D_=+_e[_+72>>2],F_=_+64|0,_e[F_>>2]=+_e[F_>>2]-D_*(R_-J_),F_=_+68|0,_e[F_>>2]=D_*(V_-P_)+ +_e[F_>>2],ws=t_;return}else Y2(9480,9088,299,9512)}function JI(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0;if(_t=ws,ws=ws+16|0,_s=_t,l_=+_e[_+52>>2],u_=+J2(+l_),_e[_s+8>>2]=u_,l_=+B2(+l_),_e[_s+12>>2]=l_,x_=+_e[_+28>>2],n_=+_e[_+32>>2],__=+(+_e[_+36>>2]-(l_*x_-u_*n_)),n_=+(+_e[_+40>>2]-(x_*u_+l_*n_)),_i=_s,_e[_i>>2]=__,_e[_i+4>>2]=n_,_i=(l[_+88>>2]|0)+102872|0,t_=l[_+100>>2]|0,!t_){ws=_t;return}_=_+12|0;do SJ(t_,_i,_s,_),t_=l[t_+4>>2]|0;while(t_|0);ws=_t}function II(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0;if(_i=ws,_s=_+88|0,u_=l[_s>>2]|0,l[u_+102868>>2]&2&&Y2(9352,9088,168,9392),__=bA(u_,44)|0,__?(_r[__+32>>1]=1,_r[__+34>>1]=-1,_r[__+36>>1]=0,l[__+40>>2]=0,l[__+24>>2]=0,l[__+28>>2]=0,l[__+0>>2]=0,l[__+4>>2]=0,l[__+8>>2]=0,l[__+12>>2]=0):__=0,l[__+40>>2]=l[_t+4>>2],_e[__+16>>2]=+_e[_t+8>>2],_e[__+20>>2]=+_e[_t+12>>2],t_=__+8|0,l[t_>>2]=_,n_=__+4|0,l[n_>>2]=0,l_=__+32|0,A_=_t+22|0,_r[l_+0>>1]=_r[A_+0>>1]|0,_r[l_+2>>1]=_r[A_+2>>1]|0,_r[l_+4>>1]=_r[A_+4>>1]|0,_o[__+38>>0]=_o[_t+20>>0]|0,l_=l[_t>>2]|0,l_=v1[l[(l[l_>>2]|0)+8>>2]&63](l_,u_)|0,l[__+12>>2]=l_,l_=CB[l[(l[l_>>2]|0)+12>>2]&63](l_)|0,A_=bA(u_,l_*28|0)|0,u_=__+24|0,l[u_>>2]=A_,(l_|0)>0){x_=0;do l[A_+(x_*28|0)+16>>2]=0,A_=l[u_>>2]|0,l[A_+(x_*28|0)+24>>2]=-1,x_=x_+1|0;while((x_|0)!=(l_|0))}return l[__+28>>2]=0,g_=+_e[_t+16>>2],_e[__>>2]=g_,_r[_+4>>1]&32&&(LI(__,(l[_s>>2]|0)+102872|0,_+12|0),g_=+_e[__>>2]),A_=_+100|0,l[n_>>2]=l[A_>>2],l[A_>>2]=__,A_=_+104|0,l[A_>>2]=(l[A_>>2]|0)+1,l[t_>>2]=_,g_>0?(pD(_),A_=l[_s>>2]|0,A_=A_+102868|0,x_=l[A_>>2]|0,x_=x_|1,l[A_>>2]=x_,ws=_i,__|0):(A_=l[_s>>2]|0,A_=A_+102868|0,x_=l[A_>>2]|0,x_=x_|1,l[A_>>2]=x_,ws=_i,__|0)}function TI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;_i=ws,(l[_>>2]|0)!=2&&(l[_t>>2]|0)!=2?_t=0:_s=3;t:do if((_s|0)==3)if(_s=l[_+108>>2]|0,!_s)_t=1;else for(;;){if((l[_s>>2]|0)==(_t|0)&&!(_o[(l[_s+4>>2]|0)+61>>0]|0)){_t=0;break t}if(_s=l[_s+12>>2]|0,!_s){_t=1;break}}while(!1);return ws=_i,_t|0}function RI(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0;if(_t=ws,ws=ws+16|0,_i=_t,t_=_+8|0,_s=l[t_>>2]|0,ta(12072,_i),ta(9592,_i),l[_i>>2]=l[_>>2],ta(9616,_i),__=+_e[_+16>>2],c_[s_>>3]=+_e[_+12>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],n_=_i+8|0,c_[s_>>3]=__,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],ta(9648,_i),c_[s_>>3]=+_e[_+56>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(9688,_i),__=+_e[_+68>>2],c_[s_>>3]=+_e[_+64>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],n_=_i+8|0,c_[s_>>3]=__,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],ta(9712,_i),c_[s_>>3]=+_e[_+72>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(9760,_i),c_[s_>>3]=+_e[_+132>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(9800,_i),c_[s_>>3]=+_e[_+136>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(9832,_i),n_=_+4|0,l[_i>>2]=(o_[n_>>1]|0)&4,ta(9864,_i),l[_i>>2]=(o_[n_>>1]|0)&2,ta(9896,_i),l[_i>>2]=(o_[n_>>1]|0)&16,ta(9920,_i),l[_i>>2]=(o_[n_>>1]|0)&8,ta(9952,_i),l[_i>>2]=(o_[n_>>1]|0)&32,ta(9984,_i),c_[s_>>3]=+_e[_+140>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(10016,_i),l[_i>>2]=l[t_>>2],ta(10048,_i),ta(11360,_i),_=l[_+100>>2]|0,!_){ta(12080,_i),ws=_t;return}do ta(10096,_i),qI(_,_s),ta(10104,_i),_=l[_+4>>2]|0;while(_|0);ta(12080,_i),ws=_t}function Eot(_){_=_|0}function kot(_){_=_|0}function aV(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0;if(_i=ws,t_=_t+48|0,_s=_t+52|0,__=l[(l[t_>>2]|0)+8>>2]|0,n_=l[(l[_s>>2]|0)+8>>2]|0,l_=l[_+72>>2]|0,l_|0&&l[_t+4>>2]&2|0&&yy[l[(l[l_>>2]|0)+12>>2]&127](l_,_t),u_=_t+8|0,x_=l[u_>>2]|0,l_=_t+12|0,x_&&(l[x_+12>>2]=l[l_>>2]),x_=l[l_>>2]|0,x_&&(l[x_+8>>2]=l[u_>>2]),u_=_+60|0,(l[u_>>2]|0)==(_t|0)&&(l[u_>>2]=l[l_>>2]),u_=_t+24|0,x_=l[u_>>2]|0,l_=_t+28|0,x_&&(l[x_+12>>2]=l[l_>>2]),x_=l[l_>>2]|0,x_&&(l[x_+8>>2]=l[u_>>2]),__=__+112|0,(_t+16|0)==(l[__>>2]|0)&&(l[__>>2]=l[l_>>2]),l_=_t+40|0,u_=l[l_>>2]|0,__=_t+44|0,u_&&(l[u_+12>>2]=l[__>>2]),u_=l[__>>2]|0,u_&&(l[u_+8>>2]=l[l_>>2]),n_=n_+112|0,(_t+32|0)==(l[n_>>2]|0)&&(l[n_>>2]=l[__>>2]),n_=l[_+76>>2]|0,_o[13392]|0||Y2(13552,13448,103,15752),t_=l[t_>>2]|0,_s=l[_s>>2]|0,(l[_t+124>>2]|0)>0&&!(_o[t_+38>>0]|0)&&!(_o[_s+38>>0]|0)&&(__=l[t_+8>>2]|0,l_=__+4|0,u_=o_[l_>>1]|0,u_&2||(_r[l_>>1]=u_|2,_e[__+144>>2]=0),__=l[_s+8>>2]|0,u_=__+4|0,l_=o_[u_>>1]|0,l_&2||(_r[u_>>1]=l_|2,_e[__+144>>2]=0)),t_=l[(l[t_+12>>2]|0)+4>>2]|0,_s=l[(l[_s+12>>2]|0)+4>>2]|0,(t_|0)>-1&(_s|0)<4){yy[l[13200+(t_*48|0)+(_s*12|0)+4>>2]&127](_t,n_),x_=_+64|0,l[x_>>2]=(l[x_>>2]|0)+-1,ws=_i;return}else Y2(13576,13448,119,15752)}function dJ(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0;_t=ws,ws=ws+1040|0,t_=_t,_s=_+52|0,l[_s>>2]=0,n_=_+40|0,P_=l[n_>>2]|0;do if((P_|0)>0){for(V_=_+32|0,g_=_+56|0,M_=_+12|0,J_=_+4|0,f_=t_+4|0,u_=t_+1028|0,R_=t_+1032|0,A_=_+48|0,__=_+44|0,D_=0;;){if(e2=l[(l[V_>>2]|0)+(D_<<2)>>2]|0,l[g_>>2]=e2,(e2|0)!=-1){if((e2|0)<=-1){u_=7;break}if((l[M_>>2]|0)<=(e2|0)){u_=7;break}if(O_=l[J_>>2]|0,l[t_>>2]=f_,l[u_>>2]=0,l[R_>>2]=256,gJ(t_,_),(l[u_>>2]|0)>0){t2=O_+(e2*36|0)|0,P_=O_+(e2*36|0)+4|0,F_=O_+(e2*36|0)+8|0,e2=O_+(e2*36|0)+12|0;do{O_=zot(t_)|0;do if((O_|0)!=-1&&(x_=l[J_>>2]|0,!((+_e[t2>>2]-+_e[x_+(O_*36|0)+8>>2]>0?1:+_e[P_>>2]-+_e[x_+(O_*36|0)+12>>2]>0)|+_e[x_+(O_*36|0)>>2]-+_e[F_>>2]>0|+_e[x_+(O_*36|0)+4>>2]-+_e[e2>>2]>0))){if(Q_=x_+(O_*36|0)+24|0,(l[Q_>>2]|0)!=-1){gJ(t_,Q_),gJ(t_,x_+(O_*36|0)+28|0);break}Q_=l[g_>>2]|0,(Q_|0)!=(O_|0)&&(s2=l[_s>>2]|0,(s2|0)==(l[A_>>2]|0)&&(Q_=l[__>>2]|0,l[A_>>2]=s2<<1,s2=s0(s2<<4)|0,l[__>>2]=s2,BS(s2|0,Q_|0,l[_s>>2]<<3|0)|0,u0(Q_),Q_=l[g_>>2]|0,s2=l[_s>>2]|0),b2=l[__>>2]|0,l[b2+(s2<<3)>>2]=(Q_|0)>(O_|0)?O_:Q_,s2=l[g_>>2]|0,l[b2+(l[_s>>2]<<3)+4>>2]=(s2|0)<(O_|0)?O_:s2,l[_s>>2]=(l[_s>>2]|0)+1)}while(!1)}while((l[u_>>2]|0)>0)}P_=l[t_>>2]|0,(P_|0)!=(f_|0)&&(u0(P_),l[t_>>2]=0),P_=l[n_>>2]|0}if(D_=D_+1|0,(D_|0)>=(P_|0)){u_=23;break}}if((u_|0)==7)Y2(12256,12200,164,12320);else if((u_|0)==23){_i=__,l_=l[_s>>2]|0;break}}else _i=_+44|0,l_=0;while(!1);if(l[n_>>2]=0,b2=l[_i>>2]|0,l[t_>>2]=58,yJ(b2,b2+(l_<<3)|0,t_),(l[_s>>2]|0)<=0){ws=_t;return}u_=_+12|0,l_=_+4|0,__=_+68|0,n_=_+76|0,t_=_+60|0,_=_+64|0,f_=l[_i>>2]|0,A_=f_,f_=l[f_>>2]|0,g_=0;t:for(;;){if(x_=A_+(g_<<3)|0,(f_|0)<=-1){u_=28;break}if(R_=l[u_>>2]|0,(R_|0)<=(f_|0)){u_=28;break}if(J_=l[l_>>2]|0,A_=A_+(g_<<3)+4|0,M_=l[A_>>2]|0,!((M_|0)>-1&(R_|0)>(M_|0))){u_=30;break}D_=l[J_+(f_*36|0)+16>>2]|0,M_=l[J_+(M_*36|0)+16>>2]|0,R_=l[D_+16>>2]|0,f_=l[M_+16>>2]|0,J_=l[D_+20>>2]|0,M_=l[M_+20>>2]|0,D_=l[R_+8>>2]|0,V_=l[f_+8>>2]|0;e:do if((D_|0)!=(V_|0)){if(O_=l[V_+112>>2]|0,O_)do{if((l[O_>>2]|0)==(D_|0)&&(e2=l[O_+4>>2]|0,P_=l[e2+48>>2]|0,F_=l[e2+52>>2]|0,t2=l[e2+56>>2]|0,e2=l[e2+60>>2]|0,(P_|0)==(R_|0)&(F_|0)==(f_|0)&(t2|0)==(J_|0)&(e2|0)==(M_|0)||(P_|0)==(f_|0)&(F_|0)==(R_|0)&(t2|0)==(M_|0)&(e2|0)==(J_|0)))break e;O_=l[O_+12>>2]|0}while(O_|0);if(TI(V_,D_)|0){if(V_=l[__>>2]|0,V_|0&&!(KC[l[(l[V_>>2]|0)+8>>2]&63](V_,R_,f_)|0))break;if(V_=l[n_>>2]|0,_o[13392]|0||(l[3300]=46,l[3301]=98,_o[13208]=1,l[3324]=47,l[3325]=99,_o[13304]=1,l[3306]=47,l[3307]=99,_o[13232]=0,l[3330]=48,l[3331]=100,_o[13328]=1,l[3312]=49,l[3313]=101,_o[13256]=1,l[3303]=49,l[3304]=101,_o[13220]=0,l[3318]=50,l[3319]=102,_o[13280]=1,l[3327]=50,l[3328]=102,_o[13316]=0,l[3336]=51,l[3337]=103,_o[13352]=1,l[3309]=51,l[3310]=103,_o[13244]=0,l[3342]=52,l[3343]=104,_o[13376]=1,l[3333]=52,l[3334]=104,_o[13340]=0,_o[13392]=1),D_=l[(l[R_+12>>2]|0)+4>>2]|0,P_=l[(l[f_+12>>2]|0)+4>>2]|0,D_>>>0>=4){u_=43;break t}if(P_>>>0>=4){u_=45;break t}if(F_=l[13200+(D_*48|0)+(P_*12|0)>>2]|0,F_&&(_o[13200+(D_*48|0)+(P_*12|0)+8>>0]|0?V_=BB[F_&63](R_,J_,f_,M_,V_)|0:V_=BB[F_&63](f_,M_,R_,J_,V_)|0,V_)){M_=l[V_+48>>2]|0,R_=l[V_+52>>2]|0,J_=l[M_+8>>2]|0,f_=l[R_+8>>2]|0,l[V_+8>>2]=0,l[V_+12>>2]=l[t_>>2],D_=l[t_>>2]|0,D_&&(l[D_+8>>2]=V_),l[t_>>2]=V_,F_=V_+16|0,l[V_+20>>2]=V_,l[F_>>2]=f_,l[V_+24>>2]=0,D_=J_+112|0,l[V_+28>>2]=l[D_>>2],P_=l[D_>>2]|0,P_&&(l[P_+8>>2]=F_),l[D_>>2]=F_,D_=V_+32|0,l[V_+36>>2]=V_,l[D_>>2]=J_,l[V_+40>>2]=0,P_=f_+112|0,l[V_+44>>2]=l[P_>>2],V_=l[P_>>2]|0,V_&&(l[V_+8>>2]=D_),l[P_>>2]=D_;do if(!(_o[M_+38>>0]|0)){if(_o[R_+38>>0]|0||(R_=J_+4|0,M_=o_[R_>>1]|0,M_&2||(_r[R_>>1]=M_|2,_e[J_+144>>2]=0),R_=f_+4|0,J_=o_[R_>>1]|0,J_&2))break;_r[R_>>1]=J_|2,_e[f_+144>>2]=0}while(!1);l[_>>2]=(l[_>>2]|0)+1}}}while(!1);for(J_=l[_s>>2]|0;;){if(g_=g_+1|0,(g_|0)>=(J_|0)){u_=68;break t}if(R_=l[_i>>2]|0,f_=l[R_+(g_<<3)>>2]|0,(f_|0)!=(l[x_>>2]|0)){A_=R_;continue t}if((l[R_+(g_<<3)+4>>2]|0)!=(l[A_>>2]|0)){A_=R_;continue t}}}if((u_|0)==28)Y2(12256,12200,158,12304);else if((u_|0)==30)Y2(12256,12200,158,12304);else if((u_|0)==43)Y2(13400,13448,80,15744);else if((u_|0)==45)Y2(13504,13448,81,15744);else if((u_|0)==68){ws=_t;return}}function jot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0;return _i=ws,t_=l[_>>2]|0,_s=l[_t>>2]|0,(t_|0)>=(_s|0)?(t_|0)==(_s|0)?_=(l[_+4>>2]|0)<(l[_t+4>>2]|0):_=0:_=1,ws=_i,_|0}function yJ(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0;_s=ws,ws=ws+16|0,t_=_s;t:for(;;){l_=_t,__=_t+-8|0;e:for(;;){switch(u_=_,g_=l_-u_|0,f_=g_>>3,f_|0){case 5:{n_=8;break t}case 1:case 0:{n_=51;break t}case 3:{n_=6;break t}case 2:{n_=4;break t}case 4:{n_=7;break t}default:}if((g_|0)<248){n_=10;break t}A_=(f_|0)/2|0,x_=_+(A_<<3)|0,(g_|0)>7992?(g_=(f_|0)/4|0,g_=fJ(_,_+(g_<<3)|0,x_,_+(g_+A_<<3)|0,__,_i)|0):g_=o4(_,x_,__,_i)|0;do if(v1[l[_i>>2]&63](_,x_)|0)f_=__;else{for(f_=__;f_=f_+-8|0,(_|0)!=(f_|0);)if(v1[l[_i>>2]&63](f_,x_)|0){n_=34;break}if((n_|0)==34){n_=0,J_=_,A_=l[J_>>2]|0,J_=l[J_+4>>2]|0,V_=f_,M_=l[V_+4>>2]|0,R_=_,l[R_>>2]=l[V_>>2],l[R_+4>>2]=M_,R_=f_,l[R_>>2]=A_,l[R_+4>>2]=J_,g_=g_+1|0;break}if(u_=_+8|0,!(v1[l[_i>>2]&63](_,__)|0)){if((u_|0)==(__|0)){n_=51;break t}for(;x_=u_+8|0,!(v1[l[_i>>2]&63](_,u_)|0);)if((x_|0)==(__|0)){n_=51;break t}else u_=x_;V_=u_,M_=l[V_>>2]|0,V_=l[V_+4>>2]|0,J_=__,R_=l[J_+4>>2]|0,l[u_>>2]=l[J_>>2],l[u_+4>>2]=R_,u_=__,l[u_>>2]=M_,l[u_+4>>2]=V_,u_=x_}if((u_|0)==(__|0)){n_=51;break t}else A_=__;for(;;){for(;x_=u_+8|0,!(v1[l[_i>>2]&63](_,u_)|0);)u_=x_;do A_=A_+-8|0;while(v1[l[_i>>2]&63](_,A_)|0);if(u_>>>0>=A_>>>0){_=u_;continue e}V_=u_,M_=l[V_>>2]|0,V_=l[V_+4>>2]|0,J_=A_,R_=l[J_+4>>2]|0,l[u_>>2]=l[J_>>2],l[u_+4>>2]=R_,u_=A_,l[u_>>2]=M_,l[u_+4>>2]=V_,u_=x_}}while(!1);A_=_+8|0;o:do if(A_>>>0<f_>>>0)for(;;){for(R_=A_;;)if(A_=R_+8|0,v1[l[_i>>2]&63](R_,x_)|0)R_=A_;else{J_=f_;break}do J_=J_+-8|0;while(!(v1[l[_i>>2]&63](J_,x_)|0));if(R_>>>0>J_>>>0){A_=R_;break o}V_=R_,M_=l[V_>>2]|0,V_=l[V_+4>>2]|0,P_=J_,D_=l[P_+4>>2]|0,f_=R_,l[f_>>2]=l[P_>>2],l[f_+4>>2]=D_,f_=J_,l[f_>>2]=M_,l[f_+4>>2]=V_,f_=J_,x_=(x_|0)==(R_|0)?J_:x_,g_=g_+1|0}while(!1);if((A_|0)!=(x_|0)&&v1[l[_i>>2]&63](x_,A_)|0&&(D_=A_,V_=l[D_>>2]|0,D_=l[D_+4>>2]|0,R_=x_,M_=l[R_+4>>2]|0,P_=A_,l[P_>>2]=l[R_>>2],l[P_+4>>2]=M_,P_=x_,l[P_>>2]=V_,l[P_+4>>2]=D_,g_=g_+1|0),!g_){if(g_=FI(_,A_,_i)|0,x_=A_+8|0,FI(x_,_t,_i)|0){n_=46;break}if(g_){_=x_;continue}}if(P_=A_,(P_-u_|0)>=(l_-P_|0)){n_=50;break}yJ(_,A_,_i),_=A_+8|0}if((n_|0)==46)if(n_=0,g_){n_=51;break}else{_t=A_;continue}else if((n_|0)==50){n_=0,yJ(A_+8|0,_t,_i),_t=A_;continue}}if((n_|0)==4){if(!(v1[l[_i>>2]&63](__,_)|0)){ws=_s;return}D_=_,V_=l[D_>>2]|0,D_=l[D_+4>>2]|0,R_=__,M_=l[R_+4>>2]|0,P_=_,l[P_>>2]=l[R_>>2],l[P_+4>>2]=M_,P_=__,l[P_>>2]=V_,l[P_+4>>2]=D_,ws=_s;return}else if((n_|0)==6){o4(_,_+8|0,__,_i)|0,ws=_s;return}else if((n_|0)==7){xJ(_,_+8|0,_+16|0,__,_i)|0,ws=_s;return}else if((n_|0)==8){fJ(_,_+8|0,_+16|0,_+24|0,__,_i)|0,ws=_s;return}else if((n_|0)==10){if(l_=_+16|0,o4(_,_+8|0,l_,_i)|0,n_=_+24|0,(n_|0)==(_t|0)){ws=_s;return}for(;;){if(v1[l[_i>>2]&63](n_,l_)|0){for(D_=n_,P_=l[D_+4>>2]|0,__=t_,l[__>>2]=l[D_>>2],l[__+4>>2]=P_,__=n_;V_=l_,D_=l[V_+4>>2]|0,P_=__,l[P_>>2]=l[V_>>2],l[P_+4>>2]=D_,(l_|0)!=(_|0);)if(__=l_+-8|0,v1[l[_i>>2]&63](t_,__)|0)P_=l_,l_=__,__=P_;else break;V_=t_,D_=l[V_+4>>2]|0,P_=l_,l[P_>>2]=l[V_>>2],l[P_+4>>2]=D_}if(__=n_+8|0,(__|0)==(_t|0))break;l_=n_,n_=__}ws=_s;return}else if((n_|0)==51){ws=_s;return}}function o4(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0;return t_=ws,l_=v1[l[_s>>2]&63](_t,_)|0,n_=v1[l[_s>>2]&63](_i,_t)|0,l_?(__=_,l_=l[__>>2]|0,__=l[__+4>>2]|0,n_?(_s=_i,u_=l[_s+4>>2]|0,x_=_,l[x_>>2]=l[_s>>2],l[x_+4>>2]=u_,x_=_i,l[x_>>2]=l_,l[x_+4>>2]=__,x_=1,ws=t_,x_|0):(n_=_t,u_=l[n_+4>>2]|0,x_=_,l[x_>>2]=l[n_>>2],l[x_+4>>2]=u_,x_=_t,l[x_>>2]=l_,l[x_+4>>2]=__,v1[l[_s>>2]&63](_i,_t)|0?(u_=_t,l_=l[u_>>2]|0,u_=l[u_+4>>2]|0,_=_i,__=l[_+4>>2]|0,x_=_t,l[x_>>2]=l[_>>2],l[x_+4>>2]=__,x_=_i,l[x_>>2]=l_,l[x_+4>>2]=u_,x_=2,ws=t_,x_|0):(x_=1,ws=t_,x_|0))):n_?(__=_t,n_=l[__>>2]|0,__=l[__+4>>2]|0,x_=_i,u_=l[x_+4>>2]|0,l_=_t,l[l_>>2]=l[x_>>2],l[l_+4>>2]=u_,l_=_i,l[l_>>2]=n_,l[l_+4>>2]=__,v1[l[_s>>2]&63](_t,_)|0?(u_=_,l_=l[u_>>2]|0,u_=l[u_+4>>2]|0,_s=_t,__=l[_s+4>>2]|0,x_=_,l[x_>>2]=l[_s>>2],l[x_+4>>2]=__,x_=_t,l[x_>>2]=l_,l[x_+4>>2]=u_,x_=2,ws=t_,x_|0):(x_=1,ws=t_,x_|0)):(l_=0,ws=t_,l_|0)}function xJ(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0;return n_=ws,__=o4(_,_t,_i,t_)|0,v1[l[t_>>2]&63](_s,_i)|0?(l_=_i,u_=l[l_>>2]|0,l_=l[l_+4>>2]|0,g_=_s,A_=l[g_+4>>2]|0,x_=_i,l[x_>>2]=l[g_>>2],l[x_+4>>2]=A_,l[_s>>2]=u_,l[_s+4>>2]=l_,v1[l[t_>>2]&63](_i,_t)|0?(A_=_t,x_=l[A_>>2]|0,A_=l[A_+4>>2]|0,l_=_i,u_=l[l_+4>>2]|0,g_=_t,l[g_>>2]=l[l_>>2],l[g_+4>>2]=u_,g_=_i,l[g_>>2]=x_,l[g_+4>>2]=A_,v1[l[t_>>2]&63](_t,_)|0?(A_=_,x_=l[A_>>2]|0,A_=l[A_+4>>2]|0,l_=_t,u_=l[l_+4>>2]|0,g_=_,l[g_>>2]=l[l_>>2],l[g_+4>>2]=u_,g_=_t,l[g_>>2]=x_,l[g_+4>>2]=A_,g_=__+3|0,ws=n_,g_|0):(g_=__+2|0,ws=n_,g_|0)):(g_=__+1|0,ws=n_,g_|0)):(_s=__,ws=n_,_s|0)}function fJ(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0;var __=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0;return __=ws,l_=xJ(_,_t,_i,_s,n_)|0,v1[l[n_>>2]&63](t_,_s)|0?(u_=_s,x_=l[u_>>2]|0,u_=l[u_+4>>2]|0,f_=t_,g_=l[f_+4>>2]|0,A_=_s,l[A_>>2]=l[f_>>2],l[A_+4>>2]=g_,l[t_>>2]=x_,l[t_+4>>2]=u_,v1[l[n_>>2]&63](_s,_i)|0?(g_=_i,A_=l[g_>>2]|0,g_=l[g_+4>>2]|0,u_=_s,x_=l[u_+4>>2]|0,f_=_i,l[f_>>2]=l[u_>>2],l[f_+4>>2]=x_,f_=_s,l[f_>>2]=A_,l[f_+4>>2]=g_,v1[l[n_>>2]&63](_i,_t)|0?(g_=_t,A_=l[g_>>2]|0,g_=l[g_+4>>2]|0,u_=_i,x_=l[u_+4>>2]|0,f_=_t,l[f_>>2]=l[u_>>2],l[f_+4>>2]=x_,f_=_i,l[f_>>2]=A_,l[f_+4>>2]=g_,v1[l[n_>>2]&63](_t,_)|0?(g_=_,A_=l[g_>>2]|0,g_=l[g_+4>>2]|0,u_=_t,x_=l[u_+4>>2]|0,f_=_,l[f_>>2]=l[u_>>2],l[f_+4>>2]=x_,f_=_t,l[f_>>2]=A_,l[f_+4>>2]=g_,f_=l_+4|0,ws=__,f_|0):(f_=l_+3|0,ws=__,f_|0)):(f_=l_+2|0,ws=__,f_|0)):(f_=l_+1|0,ws=__,f_|0)):(t_=l_,ws=__,t_|0)}function FI(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0;switch(_s=ws,ws=ws+16|0,n_=_s,_t-_>>3|0){case 2:return t_=_t+-8|0,v1[l[_i>>2]&63](t_,_)|0?(u_=_,l_=l[u_>>2]|0,u_=l[u_+4>>2]|0,_t=t_,__=l[_t+4>>2]|0,x_=_,l[x_>>2]=l[_t>>2],l[x_+4>>2]=__,x_=t_,l[x_>>2]=l_,l[x_+4>>2]=u_,x_=1,ws=_s,x_|0):(x_=1,ws=_s,x_|0);case 4:return xJ(_,_+8|0,_+16|0,_t+-8|0,_i)|0,x_=1,ws=_s,x_|0;case 5:return fJ(_,_+8|0,_+16|0,_+24|0,_t+-8|0,_i)|0,x_=1,ws=_s,x_|0;case 3:return o4(_,_+8|0,_t+-8|0,_i)|0,x_=1,ws=_s,x_|0;case 1:case 0:return x_=1,ws=_s,x_|0;default:{if(x_=_+16|0,o4(_,_+8|0,x_,_i)|0,__=_+24|0,(__|0)==(_t|0))return x_=1,ws=_s,x_|0;for(l_=0;;){if(v1[l[_i>>2]&63](__,x_)|0){for(g_=__,A_=l[g_+4>>2]|0,u_=n_,l[u_>>2]=l[g_>>2],l[u_+4>>2]=A_,u_=__;f_=x_,A_=l[f_+4>>2]|0,g_=u_,l[g_>>2]=l[f_>>2],l[g_+4>>2]=A_,(x_|0)!=(_|0);)if(u_=x_+-8|0,v1[l[_i>>2]&63](n_,u_)|0)f_=x_,x_=u_,u_=f_;else break;if(A_=n_,g_=l[A_+4>>2]|0,f_=x_,l[f_>>2]=l[A_>>2],l[f_+4>>2]=g_,l_=l_+1|0,(l_|0)==8)break}if(u_=__+8|0,(u_|0)==(_t|0)){_=1,t_=15;break}else x_=__,__=u_}return(t_|0)==15?(ws=_s,_|0):(f_=(__+8|0)==(_t|0),ws=_s,f_|0)}}return 0}function gJ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0;_s=ws,_i=_+1028|0,t_=l[_i>>2]|0,n_=_+1032|0,(t_|0)==(l[n_>>2]|0)&&(__=l[_>>2]|0,l[n_>>2]=t_<<1,n_=s0(t_<<3)|0,l[_>>2]=n_,BS(n_|0,__|0,l[_i>>2]<<2|0)|0,(__|0)!=(_+4|0))&&u0(__),l[(l[_>>2]|0)+(l[_i>>2]<<2)>>2]=l[_t>>2],l[_i>>2]=(l[_i>>2]|0)+1,ws=_s}function zot(_){_=_|0;var _t=0,_i=0;return _t=_+1028|0,_i=l[_t>>2]|0,(_i|0)>0?(_i=_i+-1|0,l[_t>>2]=_i,l[(l[_>>2]|0)+(_i<<2)>>2]|0):(Y2(10128,10144,67,10192),0)}function Wot(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Not(_,_t){_=_|0,_t=_t|0}function Oot(_,_t){_=_|0,_t=_t|0}function Uot(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0}function Xot(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0}function Yot(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function vJ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0;if(_i=ws,l[_+28>>2]|0&&Y2(10232,10256,72,15752),_s=_+12|0,t_=l[_s>>2]|0,t_=CB[l[(l[t_>>2]|0)+12>>2]&63](t_)|0,_=_+24|0,PA(_t,l[_>>2]|0,t_*28|0),l[_>>2]=0,_=l[_s>>2]|0,t_=l[_+4>>2]|0,(t_|0)==2){ry[l[l[_>>2]>>2]&127](_),PA(_t,_,152),l[_s>>2]=0,ws=_i;return}else if(t_)if((t_|0)==3){ry[l[l[_>>2]>>2]&127](_),PA(_t,_,40),l[_s>>2]=0,ws=_i;return}else if((t_|0)==1){ry[l[l[_>>2]>>2]&127](_),PA(_t,_,48),l[_s>>2]=0,ws=_i;return}else Y2(15688,10256,115,15752);else{ry[l[l[_>>2]>>2]&127](_),PA(_t,_,20),l[_s>>2]=0,ws=_i;return}}function LI(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0;if(_s=ws,t_=_+28|0,l[t_>>2]|0&&Y2(10232,10256,124,10304),n_=_+12|0,x_=l[n_>>2]|0,x_=CB[l[(l[x_>>2]|0)+12>>2]&63](x_)|0,l[t_>>2]=x_,(x_|0)<=0){ws=_s;return}__=_+24|0,l_=_t+4|0,u_=_t+28|0,x_=0;do A_=l[__>>2]|0,f_=A_+(x_*28|0)|0,g_=l[n_>>2]|0,_g[l[(l[g_>>2]|0)+24>>2]&63](g_,f_,_i,x_),g_=SI(_t)|0,R_=+(+_e[f_>>2]+-.10000000149011612),M_=+(+_e[A_+(x_*28|0)+4>>2]+-.10000000149011612),J_=(l[l_>>2]|0)+(g_*36|0)|0,_e[J_>>2]=R_,_e[J_+4>>2]=M_,M_=+(+_e[A_+(x_*28|0)+8>>2]+.10000000149011612),R_=+(+_e[A_+(x_*28|0)+12>>2]+.10000000149011612),J_=(l[l_>>2]|0)+(g_*36|0)+8|0,_e[J_>>2]=M_,_e[J_+4>>2]=R_,l[(l[l_>>2]|0)+(g_*36|0)+16>>2]=f_,l[(l[l_>>2]|0)+(g_*36|0)+32>>2]=0,CI(_t,g_),l[u_>>2]=(l[u_>>2]|0)+1,yI(_t,g_),l[A_+(x_*28|0)+24>>2]=g_,l[A_+(x_*28|0)+16>>2]=_,l[A_+(x_*28|0)+20>>2]=x_,x_=x_+1|0;while((x_|0)<(l[t_>>2]|0));ws=_s}function AJ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0;if(_s=ws,_i=_+28|0,(l[_i>>2]|0)<=0){l[_i>>2]=0,ws=_s;return}for(_=_+24|0,__=_t+40|0,l_=_t+32|0,n_=_t+28|0,t_=_t+12|0,x_=_t+4|0,u_=0;;){if(g_=(l[_>>2]|0)+(u_*28|0)+24|0,A_=l[g_>>2]|0,R_=l[__>>2]|0,(R_|0)>0){f_=l[l_>>2]|0,J_=0;do M_=f_+(J_<<2)|0,(l[M_>>2]|0)==(A_|0)&&(l[M_>>2]=-1,R_=l[__>>2]|0),J_=J_+1|0;while((J_|0)<(R_|0))}if(l[n_>>2]=(l[n_>>2]|0)+-1,(A_|0)<=-1){_t=10;break}if((l[t_>>2]|0)<=(A_|0)){_t=10;break}if((l[(l[x_>>2]|0)+(A_*36|0)+24>>2]|0)!=-1){_t=12;break}if(BI(_t,A_),uJ(_t,A_),l[g_>>2]=-1,u_=u_+1|0,(u_|0)>=(l[_i>>2]|0)){_t=14;break}}if((_t|0)==10)Y2(12256,6088,123,6224);else if((_t|0)==12)Y2(6240,6088,124,6224);else if((_t|0)==14){l[_i>>2]=0,ws=_s;return}}function SJ(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0;if(t_=ws,ws=ws+32|0,__=t_+16|0,l_=t_,n_=_+28|0,(l[n_>>2]|0)<=0){ws=t_;return}for(u_=_+24|0,g_=_+12|0,f_=__+4|0,J_=l_+4|0,R_=__+8|0,M_=l_+8|0,V_=__+12|0,D_=l_+12|0,P_=_s+4|0,F_=_i+4|0,x_=_t+12|0,_=_t+4|0,A_=0;;){if(S2=l[u_>>2]|0,v2=l[g_>>2]|0,f2=S2+(A_*28|0)+20|0,_g[l[(l[v2>>2]|0)+24>>2]&63](v2,__,_i,l[f2>>2]|0),v2=l[g_>>2]|0,_g[l[(l[v2>>2]|0)+24>>2]&63](v2,l_,_s,l[f2>>2]|0),f2=S2+(A_*28|0)|0,O_=+_e[__>>2],s2=+_e[l_>>2],s2=O_<s2?O_:s2,O_=+_e[f_>>2],h2=+_e[J_>>2],Q_=+s2,h2=+(O_<h2?O_:h2),v2=f2,_e[v2>>2]=Q_,_e[v2+4>>2]=h2,v2=S2+(A_*28|0)+8|0,h2=+_e[R_>>2],Q_=+_e[M_>>2],Q_=h2>Q_?h2:Q_,h2=+_e[V_>>2],O_=+_e[D_>>2],e2=+Q_,O_=+(h2>O_?h2:O_),t2=v2,_e[t2>>2]=e2,_e[t2+4>>2]=O_,O_=+_e[_s>>2]-+_e[_i>>2],e2=+_e[P_>>2]-+_e[F_>>2],t2=l[S2+(A_*28|0)+24>>2]|0,(t2|0)<=-1){_t=5;break}if((l[x_>>2]|0)<=(t2|0)){_t=5;break}if(r2=l[_>>2]|0,(l[r2+(t2*36|0)+24>>2]|0)!=-1){_t=7;break}if(+_e[r2+(t2*36|0)>>2]<=s2&&+_e[r2+(t2*36|0)+4>>2]<=+_e[S2+(A_*28|0)+4>>2]&&Q_<=+_e[r2+(t2*36|0)+8>>2]&&+_e[S2+(A_*28|0)+12>>2]<=+_e[r2+(t2*36|0)+12>>2]||(BI(_t,t2),r2=f2,h2=+_e[r2>>2],s2=+_e[r2+4>>2],r2=v2,b2=+_e[r2>>2],h2=h2+-.10000000149011612,s2=s2+-.10000000149011612,b2=b2+.10000000149011612,Q_=+_e[r2+4>>2]+.10000000149011612,w2=O_*2,O_=e2*2,w2<0?e2=h2+w2:(e2=h2,b2=w2+b2),O_<0?s2=s2+O_:Q_=O_+Q_,r2=l[_>>2]|0,h2=+e2,w2=+s2,S2=r2+(t2*36|0)|0,_e[S2>>2]=h2,_e[S2+4>>2]=w2,w2=+b2,h2=+Q_,r2=r2+(t2*36|0)+8|0,_e[r2>>2]=w2,_e[r2+4>>2]=h2,CI(_t,t2),yI(_t,t2)),A_=A_+1|0,(A_|0)>=(l[n_>>2]|0)){_t=20;break}}if((_t|0)==5)Y2(12256,6088,132,6272);else if((_t|0)==7)Y2(6240,6088,134,6272);else if((_t|0)==20){ws=t_;return}}function qI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0;if(_s=ws,ws=ws+32|0,_i=_s,ta(10320,_i),c_[s_>>3]=+_e[_+16>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(10344,_i),c_[s_>>3]=+_e[_+20>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(10376,_i),c_[s_>>3]=+_e[_>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(10408,_i),l[_i>>2]=e_[_+38>>0],ta(10440,_i),l[_i>>2]=o_[_+32>>1],ta(10472,_i),l[_i>>2]=o_[_+34>>1],ta(10520,_i),l[_i>>2]=_r[_+36>>1],ta(10560,_i),_=l[_+12>>2]|0,t_=l[_+4>>2]|0,(t_|0)==1)ta(10704,_i),c_[s_>>3]=+_e[_+8>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(10632,_i),l_=_+28|0,u_=+_e[l_+4>>2],c_[s_>>3]=+_e[l_>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],l_=_i+8|0,c_[s_>>3]=u_,l[l_>>2]=l[s_>>2],l[l_+4>>2]=l[s_+4>>2],ta(10728,_i),u_=+_e[_+16>>2],c_[s_>>3]=+_e[_+12>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],l_=_i+8|0,c_[s_>>3]=u_,l[l_>>2]=l[s_>>2],l[l_+4>>2]=l[s_+4>>2],ta(10776,_i),l_=_+20|0,u_=+_e[l_+4>>2],c_[s_>>3]=+_e[l_>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],l_=_i+8|0,c_[s_>>3]=u_,l[l_>>2]=l[s_>>2],l[l_+4>>2]=l[s_+4>>2],ta(10824,_i),u_=+_e[_+40>>2],c_[s_>>3]=+_e[_+36>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],l_=_i+8|0,c_[s_>>3]=u_,l[l_>>2]=l[s_>>2],l[l_+4>>2]=l[s_+4>>2],ta(10872,_i),l[_i>>2]=e_[_+44>>0],ta(10920,_i),l[_i>>2]=e_[_+45>>0],ta(10960,_i);else if((t_|0)==2){if(ta(11e3,_i),l[_i>>2]=8,ta(11032,_i),t_=_+148|0,n_=l[t_>>2]|0,(n_|0)>0){_=_+20|0,__=0;do x_=+_e[_+(__<<3)>>2],u_=+_e[_+(__<<3)+4>>2],l[_i>>2]=__,n_=_i+4|0,c_[s_>>3]=x_,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],n_=_i+12|0,c_[s_>>3]=u_,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],ta(11056,_i),__=__+1|0,n_=l[t_>>2]|0;while((__|0)<(n_|0))}l[_i>>2]=n_,ta(11096,_i)}else if(!t_)ta(10600,_i),c_[s_>>3]=+_e[_+8>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(10632,_i),x_=+_e[_+16>>2],c_[s_>>3]=+_e[_+12>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],l_=_i+8|0,c_[s_>>3]=x_,l[l_>>2]=l[s_>>2],l[l_+4>>2]=l[s_+4>>2],ta(10664,_i);else if((t_|0)==3){if(ta(11120,_i),t_=_+16|0,l[_i>>2]=l[t_>>2],ta(11032,_i),n_=l[t_>>2]|0,(n_|0)>0){l_=_+12|0,__=0;do n_=l[l_>>2]|0,u_=+_e[n_+(__<<3)>>2],x_=+_e[n_+(__<<3)+4>>2],l[_i>>2]=__,n_=_i+4|0,c_[s_>>3]=u_,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],n_=_i+12|0,c_[s_>>3]=x_,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],ta(11056,_i),__=__+1|0,n_=l[t_>>2]|0;while((__|0)<(n_|0))}l[_i>>2]=n_,ta(11152,_i),l_=_+20|0,x_=+_e[l_+4>>2],c_[s_>>3]=+_e[l_>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],l_=_i+8|0,c_[s_>>3]=x_,l[l_>>2]=l[s_>>2],l[l_+4>>2]=l[s_+4>>2],ta(11184,_i),l_=_+28|0,x_=+_e[l_+4>>2],c_[s_>>3]=+_e[l_>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],l_=_i+8|0,c_[s_>>3]=x_,l[l_>>2]=l[s_>>2],l[l_+4>>2]=l[s_+4>>2],ta(11232,_i),l[_i>>2]=e_[_+36>>0],ta(11280,_i),l[_i>>2]=e_[_+37>>0],ta(11320,_i)}else{ws=_s;return}ta(11360,_i),ta(11368,_i),ta(11360,_i),l[_i>>2]=_t,ta(11392,_i),ws=_s}function EI(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0;var __=0,l_=0;__=ws,l_=_+40|0,l[l_>>2]=_t,l[_+44>>2]=_i,l[_+48>>2]=_s,l[_+28>>2]=0,l[_+36>>2]=0,l[_+32>>2]=0,l[_>>2]=t_,l[_+4>>2]=n_,l[_+8>>2]=fP(t_,_t<<2)|0,l[_+12>>2]=fP(l[_>>2]|0,_i<<2)|0,l[_+16>>2]=fP(l[_>>2]|0,_s<<2)|0,l[_+24>>2]=fP(l[_>>2]|0,(l[l_>>2]|0)*12|0)|0,l[_+20>>2]=fP(l[_>>2]|0,(l[l_>>2]|0)*12|0)|0,ws=__}function kI(_){_=_|0;var _t=0;_t=ws,AB(l[_>>2]|0,l[_+20>>2]|0),AB(l[_>>2]|0,l[_+24>>2]|0),AB(l[_>>2]|0,l[_+16>>2]|0),AB(l[_>>2]|0,l[_+12>>2]|0),AB(l[_>>2]|0,l[_+8>>2]|0),ws=_t}function jI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0;if(n_=ws,ws=ws+32|0,_s=n_,_i=_+4|0,!(l[_i>>2]|0)){ws=n_;return}if(t_=_+36|0,(l[t_>>2]|0)<=0){ws=n_;return}A_=_+12|0,l_=_s+16|0,u_=0;do{if(x_=l[(l[A_>>2]|0)+(u_<<2)>>2]|0,__=l[_t+(u_*156|0)+148>>2]|0,l[l_>>2]=__,(__|0)>0){_=0;do _e[_s+(_<<2)>>2]=+_e[_t+(u_*156|0)+(_*36|0)+16>>2],_e[_s+(_<<2)+8>>2]=+_e[_t+(u_*156|0)+(_*36|0)+20>>2],_=_+1|0;while((_|0)<(__|0))}__=l[_i>>2]|0,lD[l[(l[__>>2]|0)+20>>2]&63](__,x_,_s),u_=u_+1|0}while((u_|0)<(l[t_>>2]|0));ws=n_}function zI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0;_i=ws,l[_+102868>>2]&2&&Y2(11528,11552,274,11656),_s=_o[_t+61>>0]|0,n_=_t+8|0,__=l[n_>>2]|0,t_=_t+12|0,__&&(l[__+12>>2]=l[t_>>2]),__=l[t_>>2]|0,__&&(l[__+8>>2]=l[n_>>2]),n_=_+102956|0,(l[n_>>2]|0)==(_t|0)&&(l[n_>>2]=l[t_>>2]),t_=l[_t+48>>2]|0,n_=l[_t+52>>2]|0,l_=t_+4|0,__=o_[l_>>1]|0,__&2||(_r[l_>>1]=__|2,_e[t_+144>>2]=0),__=n_+4|0,l_=o_[__>>1]|0,l_&2||(_r[__>>1]=l_|2,_e[n_+144>>2]=0),l_=_t+24|0,u_=l[l_>>2]|0,__=_t+28|0,u_&&(l[u_+12>>2]=l[__>>2]),u_=l[__>>2]|0,u_&&(l[u_+8>>2]=l[l_>>2]),u_=t_+108|0,(_t+16|0)==(l[u_>>2]|0)&&(l[u_>>2]=l[__>>2]),l[l_>>2]=0,l[__>>2]=0,l_=_t+40|0,u_=l[l_>>2]|0,__=_t+44|0,u_&&(l[u_+12>>2]=l[__>>2]),u_=l[__>>2]|0,u_&&(l[u_+8>>2]=l[l_>>2]),u_=n_+108|0,(_t+32|0)==(l[u_>>2]|0)&&(l[u_>>2]=l[__>>2]),l[l_>>2]=0,l[__>>2]=0,ry[l[(l[_t>>2]|0)+24>>2]&127](_t);do switch(l[_t+4>>2]|0){case 7:{PA(_,_t,224);break}case 8:{PA(_,_t,208);break}case 9:{PA(_,_t,180);break}case 10:{PA(_,_t,168);break}case 11:{PA(_,_t,192);break}case 3:{PA(_,_t,176);break}case 5:{PA(_,_t,168);break}case 2:{PA(_,_t,256);break}case 1:{PA(_,_t,228);break}case 4:{PA(_,_t,196);break}case 6:{PA(_,_t,276);break}default:Y2(15688,15696,178,15752)}while(!1);if(_t=_+102964|0,_=l[_t>>2]|0,(_|0)<=0&&Y2(11672,11552,346,11656),l[_t>>2]=_+-1,_s<<24>>24){ws=_i;return}if(_s=l[n_+112>>2]|0,!_s){ws=_i;return}do(l[_s>>2]|0)==(t_|0)&&(u_=(l[_s+4>>2]|0)+4|0,l[u_>>2]=l[u_>>2]|8),_s=l[_s+12>>2]|0;while(_s|0);ws=_i}function UM(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;if(_i=_+28|0,_s=l[_i>>2]|0,(_s|0)<(l[_+40>>2]|0)){l[_t+8>>2]=_s,_s=l[_i>>2]|0,l[(l[_+8>>2]|0)+(_s<<2)>>2]=_t,l[_i>>2]=_s+1;return}else Y2(12504,12416,54,12456)}function CJ(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0;if(_s=_+36|0,_i=l[_s>>2]|0,(_i|0)<(l[_+44>>2]|0)){l[_s>>2]=_i+1,l[(l[_+12>>2]|0)+(_i<<2)>>2]=_t;return}else Y2(12464,12416,62,12456)}function Hot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0;if(f_=ws,ws=ws+48|0,c2=f_+36|0,r2=f_+24|0,F_=f_+16|0,t2=f_+8|0,V_=f_,x_=_+128|0,g_=l[x_>>2]|0,A_=_t+28|0,b2=l[A_>>2]|0,D_=b2+(g_*12|0)|0,n_=+_e[D_>>2],__=+_e[D_+4>>2],R_=+_e[b2+(g_*12|0)+8>>2],g_=_+132|0,D_=l[g_>>2]|0,P_=b2+(D_*12|0)|0,u_=+_e[P_>>2],t_=+_e[P_+4>>2],M_=+_e[b2+(D_*12|0)+8>>2],_i=+_e[_+168>>2],J_=+_e[_+172>>2],l_=+_e[_+176>>2],_s=+_e[_+180>>2],D_=l_+_s==0,_o[_+100>>0]|0&&!((l[_+224>>2]|0)==3|D_)&&(b2=_+96|0,x2=+_e[b2>>2],h2=+_e[_t>>2]*+_e[_+104>>2],f2=x2-+_e[_+220>>2]*(M_-R_-+_e[_+108>>2]),S2=-h2,h2=f2<h2?f2:h2,h2=h2<S2?S2:h2,_e[b2>>2]=h2,x2=h2-x2,R_=R_-l_*x2,M_=M_+_s*x2),_o[_+112>>0]|0&&(w2=_+224|0,!((l[w2>>2]|0)==0|D_))){P_=_+148|0,_t=_+144|0,D_=_+140|0,V_=_+136|0,e2=u_-M_*+_e[P_>>2]-n_+R_*+_e[D_>>2],s2=t_+M_*+_e[_t>>2]-__-R_*+_e[V_>>2],_e[c2>>2]=e2,_e[c2+4>>2]=s2,_e[c2+8>>2]=M_-R_,b2=_+184|0,_D(r2,b2,c2),f2=+_e[r2>>2],O_=-f2,S2=+_e[r2+4>>2],v2=-S2,h2=+_e[r2+8>>2],Q_=-h2,w2=l[w2>>2]|0;do if((w2|0)==2)if(F_=_+84|0,w2=_+92|0,x2=+_e[w2>>2],h2=x2-h2,h2>0){aD(t2,b2,x2*+_e[_+208>>2]-e2,x2*+_e[_+212>>2]-s2),O_=+_e[t2>>2],v2=+_e[t2+4>>2],Q_=-+_e[w2>>2],_e[F_>>2]=O_+ +_e[F_>>2],c2=_+88|0,_e[c2>>2]=v2+ +_e[c2>>2],_e[w2>>2]=0;break}else{_e[F_>>2]=+_e[F_>>2]-f2,c2=_+88|0,_e[c2>>2]=+_e[c2>>2]-S2,_e[w2>>2]=h2;break}else if((w2|0)==3)c2=_+84|0,_e[c2>>2]=+_e[c2>>2]-f2,c2=_+88|0,_e[c2>>2]=+_e[c2>>2]-S2,c2=_+92|0,_e[c2>>2]=+_e[c2>>2]-h2;else if((w2|0)==1)if(w2=_+84|0,t2=_+92|0,x2=+_e[t2>>2],h2=x2-h2,h2<0){aD(F_,b2,x2*+_e[_+208>>2]-e2,x2*+_e[_+212>>2]-s2),O_=+_e[F_>>2],v2=+_e[F_+4>>2],Q_=-+_e[t2>>2],_e[w2>>2]=O_+ +_e[w2>>2],c2=_+88|0,_e[c2>>2]=v2+ +_e[c2>>2],_e[t2>>2]=0;break}else{_e[w2>>2]=+_e[w2>>2]-f2,c2=_+88|0,_e[c2>>2]=+_e[c2>>2]-S2,_e[t2>>2]=h2;break}while(!1);x2=Q_+(v2*+_e[_t>>2]-O_*+_e[P_>>2]),f2=Q_+(v2*+_e[V_>>2]-O_*+_e[D_>>2]),s2=O_,S2=J_*s2,h2=J_*v2,s2=_i*s2,v2=_i*v2,S2=u_+S2,h2=t_+h2,s2=n_-s2,v2=__-v2,f2=l_*f2,x2=_s*x2,f2=R_-f2,x2=M_+x2,c2=l[x_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)|0,s2=+s2,v2=+v2,r2=c2,_e[r2>>2]=s2,c2=c2+4|0,_e[c2>>2]=v2,c2=l[x_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)+8|0,_e[c2>>2]=f2,c2=l[g_>>2]|0,c2=r2+(c2*12|0)|0,S2=+S2,h2=+h2,r2=c2,_e[r2>>2]=S2,c2=c2+4|0,_e[c2>>2]=h2,c2=l[g_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)+8|0,_e[c2>>2]=x2,ws=f_;return}w2=_+148|0,b2=_+144|0,c2=_+140|0,r2=_+136|0,aD(V_,_+184|0,-(u_-M_*+_e[w2>>2]-n_+R_*+_e[c2>>2]),-(t_+M_*+_e[b2>>2]-__-R_*+_e[r2>>2])),s2=+_e[V_>>2],t2=_+84|0,_e[t2>>2]=s2+ +_e[t2>>2],v2=+_e[V_+4>>2],t2=_+88|0,_e[t2>>2]=v2+ +_e[t2>>2],x2=v2*+_e[b2>>2]-s2*+_e[w2>>2],f2=v2*+_e[r2>>2]-s2*+_e[c2>>2],S2=J_*s2,h2=J_*v2,s2=_i*s2,v2=_i*v2,S2=u_+S2,h2=t_+h2,s2=n_-s2,v2=__-v2,f2=l_*f2,x2=_s*x2,f2=R_-f2,x2=M_+x2,c2=l[x_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)|0,s2=+s2,v2=+v2,r2=c2,_e[r2>>2]=s2,c2=c2+4|0,_e[c2>>2]=v2,c2=l[x_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)+8|0,_e[c2>>2]=f2,c2=l[g_>>2]|0,c2=r2+(c2*12|0)|0,S2=+S2,h2=+h2,r2=c2,_e[r2>>2]=S2,c2=c2+4|0,_e[c2>>2]=h2,c2=l[g_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)+8|0,_e[c2>>2]=x2,ws=f_}function Zot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0;return _s=ws,_i=_+128|0,x_=l[_i>>2]|0,__=_t+24|0,S2=l[__>>2]|0,_t=S2+(x_*12|0)|0,w2=_t,l_=+_e[w2>>2],n_=+_e[w2+4>>2],f_=+_e[S2+(x_*12|0)+8>>2],x_=_+132|0,w2=l[x_>>2]|0,h2=S2+(w2*12|0)|0,t_=+_e[h2>>2],u_=+_e[h2+4>>2],J_=+_e[S2+(w2*12|0)+8>>2],w2=_+176|0,S2=_+180|0,_o[_+112>>0]|0?(R_=+_e[S2>>2],M_=+_e[w2>>2],S2=l[_+224>>2]|0,(S2|0)==0|R_+M_==0?(A_=M_,g_=R_,V_=0):(A_=J_-f_-+_e[_+116>>2],(S2|0)==2?(V_=A_-+_e[_+124>>2],D_=V_+-.03490658849477768,D_=D_<.13962635397911072?D_:.13962635397911072,D_=-(+_e[_+220>>2]*(D_<0?0:D_))):(S2|0)==1?(V_=A_-+_e[_+120>>2],D_=V_+.03490658849477768,D_=D_<0?D_:0,V_=-V_,D_=-(+_e[_+220>>2]*(D_<-.13962635397911072?-.13962635397911072:D_))):(S2|0)==3?(V_=A_-+_e[_+120>>2],V_=V_<.13962635397911072?V_:.13962635397911072,V_=V_<-.13962635397911072?-.13962635397911072:V_,D_=-(+_e[_+220>>2]*V_),V_>0||(V_=-V_)):(V_=0,D_=0),A_=M_,g_=R_,f_=f_-D_*M_,J_=J_+D_*R_)):(A_=+_e[w2>>2],g_=+_e[S2>>2],V_=0),P_=+J2(+f_),F_=+B2(+f_),t2=+J2(+J_),e2=+B2(+J_),D_=+_e[_+68>>2]-+_e[_+152>>2],R_=+_e[_+72>>2]-+_e[_+156>>2],O_=F_*D_-P_*R_,R_=P_*D_+F_*R_,F_=+_e[_+76>>2]-+_e[_+160>>2],D_=+_e[_+80>>2]-+_e[_+164>>2],P_=e2*F_-t2*D_,D_=t2*F_+e2*D_,e2=t_+P_-l_-O_,F_=u_+D_-n_-R_,t2=+V2(+(e2*e2+F_*F_)),M_=+_e[_+168>>2],s2=+_e[_+172>>2],r2=M_+s2,v2=r2+R_*R_*A_+D_*D_*g_,f2=O_*A_,Q_=P_*g_,b2=-(R_*f2)-D_*Q_,Q_=r2+O_*f2+P_*Q_,f2=v2*Q_-b2*b2,f2!=0&&(f2=1/f2),r2=-((e2*Q_-F_*b2)*f2),f2=-((F_*v2-e2*b2)*f2),v2=+(l_-M_*r2),b2=+(n_-M_*f2),h2=_t,_e[h2>>2]=v2,_e[h2+4>>2]=b2,h2=l[__>>2]|0,_e[h2+((l[_i>>2]|0)*12|0)+8>>2]=f_-A_*(O_*f2-R_*r2),b2=+(t_+s2*r2),v2=+(u_+s2*f2),h2=h2+((l[x_>>2]|0)*12|0)|0,_e[h2>>2]=b2,_e[h2+4>>2]=v2,_e[(l[__>>2]|0)+((l[x_>>2]|0)*12|0)+8>>2]=J_+g_*(P_*f2-D_*r2),t2<=.004999999888241291?(h2=V_<=.03490658849477768,ws=_s,h2|0):(h2=0,ws=_s,h2|0)}function Kot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+48>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+68>>2],t_=+_e[l_+20>>2],_s=+_e[_t+72>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function Qot(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+52>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+76>>2],t_=+_e[l_+20>>2],_s=+_e[_t+80>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function $ot(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=+_e[_t+88>>2]*_i,_e[_>>2]=+_e[_t+84>>2]*_i,_e[_+4>>2]=_s}function tit(_,_t){return _=_|0,_t=+_t,+(+_e[_+92>>2]*_t)}function eit(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;_t=ws,ws=ws+16|0,_i=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,ta(17248,_i),l[_i>>2]=n_,ta(17784,_i),l[_i>>2]=_s,ta(17816,_i),l[_i>>2]=e_[_+61>>0],ta(17848,_i),t_=+_e[_+72>>2],c_[s_>>3]=+_e[_+68>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17888,_i),t_=+_e[_+80>>2],c_[s_>>3]=+_e[_+76>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17936,_i),c_[s_>>3]=+_e[_+116>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(17640,_i),l[_i>>2]=e_[_+112>>0],ta(17280,_i),c_[s_>>3]=+_e[_+120>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(17312,_i),c_[s_>>3]=+_e[_+124>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(17344,_i),l[_i>>2]=e_[_+100>>0],ta(18024,_i),c_[s_>>3]=+_e[_+108>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18056,_i),c_[s_>>3]=+_e[_+104>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18088,_i),l[_i>>2]=l[_+56>>2],ta(18184,_i),ws=_t}function oit(_){_=_|0}function iit(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function rit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0;if(_i=ws,D_=l[_+48>>2]|0,c2=l[D_+8>>2]|0,_s=_+96|0,l[_s>>2]=c2,x2=l[_+52>>2]|0,h2=l[x2+8>>2]|0,t_=_+100|0,l[t_>>2]=h2,b2=D_+28|0,w2=l[b2>>2]|0,b2=l[b2+4>>2]|0,F_=_+128|0,l[F_>>2]=w2,l[F_+4>>2]=b2,F_=x2+28|0,f2=l[F_>>2]|0,F_=l[F_+4>>2]|0,v2=_+136|0,l[v2>>2]=f2,l[v2+4>>2]=F_,v2=_+144|0,_e[v2>>2]=+_e[D_+120>>2],F_=_+148|0,_e[F_>>2]=+_e[x2+120>>2],O_=_+152|0,_e[O_>>2]=+_e[D_+128>>2],D_=_+156|0,_e[D_>>2]=+_e[x2+128>>2],x2=l[_t+24>>2]|0,n_=x2+(c2*12|0)|0,V_=+_e[n_>>2],P_=+_e[n_+4>>2],__=+_e[x2+(c2*12|0)+8>>2],n_=_t+28|0,r2=l[n_>>2]|0,A2=r2+(c2*12|0)|0,M_=+_e[A2>>2],R_=+_e[A2+4>>2],x_=+_e[r2+(c2*12|0)+8>>2],c2=x2+(h2*12|0)|0,t2=+_e[c2>>2],S2=+_e[c2+4>>2],Q_=+_e[x2+(h2*12|0)+8>>2],x2=r2+(h2*12|0)|0,J_=+_e[x2>>2],f_=+_e[x2+4>>2],l_=+_e[r2+(h2*12|0)+8>>2],u_=+J2(+__),__=+B2(+__),e2=+J2(+Q_),Q_=+B2(+Q_),s2=+_e[_+68>>2]-(l[s_>>2]=w2,+_e[s_>>2]),g_=+_e[_+72>>2]-(l[s_>>2]=b2,+_e[s_>>2]),A_=__*s2-u_*g_,g_=u_*s2+__*g_,__=+A_,s2=+g_,b2=_+112|0,_e[b2>>2]=__,_e[b2+4>>2]=s2,s2=+_e[_+76>>2]-(l[s_>>2]=f2,+_e[s_>>2]),__=+_e[_+80>>2]-+_e[_+140>>2],u_=Q_*s2-e2*__,__=e2*s2+Q_*__,Q_=+u_,s2=+__,f2=_+120|0,_e[f2>>2]=Q_,_e[f2+4>>2]=s2,f2=_+104|0,V_=t2+u_-V_-A_,P_=S2+__-P_-g_,S2=+V_,t2=+P_,b2=f2,_e[b2>>2]=S2,_e[b2+4>>2]=t2,b2=_+108|0,t2=+V2(+(V_*V_+P_*P_)),_e[_+88>>2]=t2,l[_+164>>2]=t2-+_e[_+84>>2]>0?2:0,!(t2>.004999999888241291)){_e[f2>>2]=0,_e[b2>>2]=0,_e[_+160>>2]=0,_e[_+92>>2]=0,ws=_i;return}e2=1/t2,V_=e2*V_,_e[f2>>2]=V_,e2=e2*P_,_e[b2>>2]=e2,d2=A_*e2-g_*V_,S2=e2*u_-V_*__,Q_=+_e[v2>>2],P_=+_e[O_>>2],s2=+_e[F_>>2],t2=+_e[D_>>2],S2=s2+(Q_+d2*d2*P_)+S2*S2*t2,S2!=0?S2=1/S2:S2=0,_e[_+160>>2]=S2,_o[_t+20>>0]|0?(A2=_+92|0,S2=+_e[_t+8>>2]*+_e[A2>>2],_e[A2>>2]=S2,d2=V_*S2,S2=S2*e2,M_=M_-d2*Q_,R_=R_-S2*Q_,J_=J_+d2*s2,f_=f_+S2*s2,x_=x_-P_*(S2*A_-d2*g_),l_=l_+t2*(S2*u_-d2*__)):_e[_+92>>2]=0,d2=+M_,S2=+R_,A2=(l[n_>>2]|0)+((l[_s>>2]|0)*12|0)|0,_e[A2>>2]=d2,_e[A2+4>>2]=S2,A2=l[n_>>2]|0,_e[A2+((l[_s>>2]|0)*12|0)+8>>2]=x_,S2=+J_,d2=+f_,A2=A2+((l[t_>>2]|0)*12|0)|0,_e[A2>>2]=S2,_e[A2+4>>2]=d2,_e[(l[n_>>2]|0)+((l[t_>>2]|0)*12|0)+8>>2]=l_,ws=_i}function nit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0;f_=ws,l_=_+96|0,_s=l[l_>>2]|0,t_=_t+28|0,O_=l[t_>>2]|0,u_=O_+(_s*12|0)|0,e2=u_,A_=+_e[e2>>2],x_=+_e[e2+4>>2],V_=+_e[O_+(_s*12|0)+8>>2],_s=_+100|0,e2=l[_s>>2]|0,Q_=O_+(e2*12|0)|0,__=+_e[Q_>>2],n_=+_e[Q_+4>>2],J_=+_e[O_+(e2*12|0)+8>>2],R_=+_e[_+116>>2],M_=+_e[_+112>>2],g_=+_e[_+124>>2],_i=+_e[_+120>>2],F_=+_e[_+88>>2]-+_e[_+84>>2],P_=+_e[_+104>>2],D_=+_e[_+108>>2],t2=(__-J_*g_-(A_-V_*R_))*P_+(n_+J_*_i-(x_+V_*M_))*D_,F_<0&&(t2=t2+F_*+_e[_t+4>>2]),Q_=_+92|0,s2=+_e[Q_>>2],F_=s2-t2*+_e[_+160>>2],F_=F_>0?0:F_,_e[Q_>>2]=F_,s2=F_-s2,P_=P_*s2,D_=D_*s2,s2=+_e[_+144>>2],V_=V_-+_e[_+152>>2]*(M_*D_-P_*R_),F_=+_e[_+148>>2],t2=J_+ +_e[_+156>>2]*(D_*_i-P_*g_),R_=+(A_-s2*P_),M_=+(x_-s2*D_),Q_=u_,_e[Q_>>2]=R_,_e[Q_+4>>2]=M_,Q_=l[t_>>2]|0,_e[Q_+((l[l_>>2]|0)*12|0)+8>>2]=V_,P_=+(__+P_*F_),F_=+(n_+D_*F_),Q_=Q_+((l[_s>>2]|0)*12|0)|0,_e[Q_>>2]=P_,_e[Q_+4>>2]=F_,_e[(l[t_>>2]|0)+((l[_s>>2]|0)*12|0)+8>>2]=t2,ws=f_}function sit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0;return _s=ws,_i=_+96|0,g_=l[_i>>2]|0,_t=_t+24|0,t2=l[_t>>2]|0,l_=t2+(g_*12|0)|0,F_=l_,x_=+_e[F_>>2],u_=+_e[F_+4>>2],M_=+_e[t2+(g_*12|0)+8>>2],g_=_+100|0,F_=l[g_>>2]|0,e2=t2+(F_*12|0)|0,n_=+_e[e2>>2],t_=+_e[e2+4>>2],f_=+_e[t2+(F_*12|0)+8>>2],__=+J2(+M_),V_=+B2(+M_),D_=+J2(+f_),P_=+B2(+f_),A_=+_e[_+68>>2]-+_e[_+128>>2],J_=+_e[_+72>>2]-+_e[_+132>>2],R_=V_*A_-__*J_,J_=__*A_+V_*J_,V_=+_e[_+76>>2]-+_e[_+136>>2],A_=+_e[_+80>>2]-+_e[_+140>>2],__=P_*V_-D_*A_,A_=D_*V_+P_*A_,P_=n_+__-x_-R_,V_=t_+A_-u_-J_,D_=+V2(+(P_*P_+V_*V_)),D_<11920928955078125e-23?D_=0:(O_=1/D_,P_=P_*O_,V_=V_*O_),e2=_+84|0,s2=D_-+_e[e2>>2],s2=s2<.20000000298023224?s2:.20000000298023224,s2=-(+_e[_+160>>2]*(s2<0?0:s2)),Q_=P_*s2,P_=V_*s2,s2=+_e[_+144>>2],V_=M_-+_e[_+152>>2]*(R_*P_-J_*Q_),M_=+_e[_+148>>2],O_=f_+ +_e[_+156>>2]*(__*P_-A_*Q_),J_=+(x_-s2*Q_),R_=+(u_-s2*P_),t2=l_,_e[t2>>2]=J_,_e[t2+4>>2]=R_,t2=l[_t>>2]|0,_e[t2+((l[_i>>2]|0)*12|0)+8>>2]=V_,V_=+(n_+M_*Q_),P_=+(t_+M_*P_),t2=t2+((l[g_>>2]|0)*12|0)|0,_e[t2>>2]=V_,_e[t2+4>>2]=P_,_e[(l[_t>>2]|0)+((l[g_>>2]|0)*12|0)+8>>2]=O_,ws=_s,D_-+_e[e2>>2]<.004999999888241291|0}function _it(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+48>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+68>>2],t_=+_e[l_+20>>2],_s=+_e[_t+72>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function ait(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+52>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+76>>2],t_=+_e[l_+20>>2],_s=+_e[_t+80>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function pit(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=+_e[_t+92>>2]*_i,_i=_s*+_e[_t+108>>2],_e[_>>2]=+_e[_t+104>>2]*_s,_e[_+4>>2]=_i}function lit(_,_t){return _=_|0,_t=+_t,0}function cit(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;_t=ws,ws=ws+16|0,_i=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,ta(17472,_i),l[_i>>2]=n_,ta(17784,_i),l[_i>>2]=_s,ta(17816,_i),l[_i>>2]=e_[_+61>>0],ta(17848,_i),t_=+_e[_+72>>2],c_[s_>>3]=+_e[_+68>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17888,_i),t_=+_e[_+80>>2],c_[s_>>3]=+_e[_+76>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17936,_i),c_[s_>>3]=+_e[_+84>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(17496,_i),l[_i>>2]=l[_+56>>2],ta(18184,_i),ws=_t}function mit(_){_=_|0}function bit(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function uit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0;g_=ws,ws=ws+48|0,v2=g_,x_=l[_+48>>2]|0,c2=l[x_+8>>2]|0,u_=_+116|0,l[u_>>2]=c2,x2=l[_+52>>2]|0,M_=l[x2+8>>2]|0,A_=_+120|0,l[A_>>2]=M_,P_=x_+28|0,b2=l[P_>>2]|0,P_=l[P_+4>>2]|0,V_=_+140|0,l[V_>>2]=b2,l[V_+4>>2]=P_,V_=x2+28|0,_i=l[V_>>2]|0,V_=l[V_+4>>2]|0,r2=_+148|0,l[r2>>2]=_i,l[r2+4>>2]=V_,f_=+_e[x_+120>>2],_e[_+156>>2]=f_,J_=+_e[x2+120>>2],_e[_+160>>2]=J_,R_=+_e[x_+128>>2],_e[_+164>>2]=R_,D_=+_e[x2+128>>2],_e[_+168>>2]=D_,x2=l[_t+24>>2]|0,O_=+_e[x2+(c2*12|0)+8>>2],x_=_t+28|0,r2=l[x_>>2]|0,A2=r2+(c2*12|0)|0,F_=+_e[A2>>2],_s=+_e[A2+4>>2],__=+_e[r2+(c2*12|0)+8>>2],e2=+_e[x2+(M_*12|0)+8>>2],x2=r2+(M_*12|0)|0,t_=+_e[x2>>2],n_=+_e[x2+4>>2],l_=+_e[r2+(M_*12|0)+8>>2],t2=+J2(+O_),s2=+B2(+O_),h2=+J2(+e2),S2=+B2(+e2),M_=_+124|0,f2=+_e[_+80>>2]-(l[s_>>2]=b2,+_e[s_>>2]),w2=+_e[_+84>>2]-(l[s_>>2]=P_,+_e[s_>>2]),Q_=s2*f2-t2*w2,w2=t2*f2+s2*w2,s2=+Q_,f2=+w2,P_=M_,_e[P_>>2]=s2,_e[P_+4>>2]=f2,P_=_+132|0,f2=+_e[_+88>>2]-(l[s_>>2]=_i,+_e[s_>>2]),s2=+_e[_+92>>2]-(l[s_>>2]=V_,+_e[s_>>2]),t2=S2*f2-h2*s2,s2=h2*f2+S2*s2,S2=+t2,f2=+s2,V_=P_,_e[V_>>2]=S2,_e[V_+4>>2]=f2,f2=f_+J_,V_=_+128|0,_i=_+136|0,_e[v2>>2]=f2+R_*w2*w2+D_*s2*s2,S2=-(R_*w2*Q_)-D_*s2*t2,_e[v2+12>>2]=S2,s2=-(R_*w2)-D_*s2,_e[v2+24>>2]=s2,_e[v2+4>>2]=S2,_e[v2+16>>2]=f2+R_*Q_*Q_+D_*t2*t2,t2=R_*Q_+D_*t2,_e[v2+28>>2]=t2,_e[v2+8>>2]=s2,_e[v2+20>>2]=t2,t2=R_+D_,_e[v2+32>>2]=t2,b2=_+68|0;do if(+_e[b2>>2]>0)MI(v2,_+172|0),t2>0?s2=1/t2:s2=0,e2=e2-O_-+_e[_+96>>2],h2=+_e[b2>>2]*6.2831854820251465,O_=h2*s2*h2,Q_=+_e[_t>>2],s2=Q_*(h2*s2*2*+_e[_+72>>2]+Q_*O_),b2=_+100|0,_e[b2>>2]=s2,s2!=0?s2=1/s2:s2=0,_e[b2>>2]=s2,_e[_+76>>2]=e2*Q_*O_*s2,t2=t2+s2,t2!=0?t2=1/t2:t2=0,_e[_+204>>2]=t2;else if(b2=_+172|0,t2==0){MI(v2,b2),_e[_+100>>2]=0,_e[_+76>>2]=0;break}else{GI(v2,b2),_e[_+100>>2]=0,_e[_+76>>2]=0;break}while(!1);if(b2=_+104|0,_o[_t+20>>0]|0){e2=+_e[_t+8>>2],h2=e2*+_e[b2>>2],_e[b2>>2]=h2,A2=_+108|0,O_=e2*+_e[A2>>2],_e[A2>>2]=O_,A2=_+112|0,e2=e2*+_e[A2>>2],_e[A2>>2]=e2,Q_=F_-f_*h2,s2=_s-f_*O_,S2=t_+J_*h2,w2=n_+J_*O_,f2=__-R_*(e2+(O_*+_e[M_>>2]-h2*+_e[V_>>2])),h2=l_+D_*(e2+(O_*+_e[P_>>2]-h2*+_e[_i>>2])),A2=l[u_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)|0,Q_=+Q_,s2=+s2,c2=A2,_e[c2>>2]=Q_,A2=A2+4|0,_e[A2>>2]=s2,A2=l[u_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)+8|0,_e[A2>>2]=f2,A2=l[A_>>2]|0,A2=c2+(A2*12|0)|0,S2=+S2,w2=+w2,c2=A2,_e[c2>>2]=S2,A2=A2+4|0,_e[A2>>2]=w2,A2=l[A_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)+8|0,_e[A2>>2]=h2,ws=g_;return}else{_e[b2>>2]=0,_e[_+108>>2]=0,_e[_+112>>2]=0,Q_=F_,s2=_s,S2=t_,w2=n_,f2=__,h2=l_,A2=l[u_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)|0,Q_=+Q_,s2=+s2,c2=A2,_e[c2>>2]=Q_,A2=A2+4|0,_e[A2>>2]=s2,A2=l[u_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)+8|0,_e[A2>>2]=f2,A2=l[A_>>2]|0,A2=c2+(A2*12|0)|0,S2=+S2,w2=+w2,c2=A2,_e[c2>>2]=S2,A2=A2+4|0,_e[A2>>2]=w2,A2=l[A_>>2]|0,c2=l[x_>>2]|0,A2=c2+(A2*12|0)+8|0,_e[A2>>2]=h2,ws=g_;return}}function hit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0;if(_s=ws,_i=_+116|0,V_=l[_i>>2]|0,u_=_t+28|0,D_=l[u_>>2]|0,n_=D_+(V_*12|0)|0,_t=n_,l_=+_e[_t>>2],__=+_e[_t+4>>2],M_=+_e[D_+(V_*12|0)+8>>2],_t=_+120|0,V_=l[_t>>2]|0,P_=D_+(V_*12|0)|0,x_=+_e[P_>>2],t_=+_e[P_+4>>2],R_=+_e[D_+(V_*12|0)+8>>2],A_=+_e[_+156>>2],g_=+_e[_+160>>2],J_=+_e[_+164>>2],f_=+_e[_+168>>2],+_e[_+68>>2]>0){P_=_+112|0,Q_=+_e[P_>>2],v2=+_e[_+204>>2]*(R_-M_+ +_e[_+76>>2]+ +_e[_+100>>2]*Q_),s2=-v2,_e[P_>>2]=Q_-v2,v2=M_-J_*s2,s2=R_+f_*s2,R_=+_e[_+136>>2],Q_=+_e[_+132>>2],F_=+_e[_+128>>2],b2=+_e[_+124>>2],M_=F_*v2+(x_-R_*s2-l_),t2=t_+Q_*s2-__-b2*v2,e2=+_e[_+172>>2]*M_+ +_e[_+184>>2]*t2,t2=+_e[_+176>>2]*M_+ +_e[_+188>>2]*t2,M_=-e2,O_=-t2,P_=_+104|0,_e[P_>>2]=+_e[P_>>2]-e2,P_=_+108|0,_e[P_>>2]=+_e[P_>>2]-t2,t2=O_,e2=M_,F_=v2-J_*(b2*O_-F_*M_),M_=s2+f_*(Q_*O_-R_*M_),J_=g_*e2,R_=g_*t2,g_=A_*e2,f_=A_*t2,J_=x_+J_,R_=t_+R_,g_=l_-g_,f_=__-f_,g_=+g_,f_=+f_,P_=n_,D_=P_,_e[D_>>2]=g_,P_=P_+4|0,_e[P_>>2]=f_,P_=l[_i>>2]|0,D_=l[u_>>2]|0,P_=D_+(P_*12|0)+8|0,_e[P_>>2]=F_,P_=l[_t>>2]|0,P_=D_+(P_*12|0)|0,J_=+J_,R_=+R_,D_=P_,_e[D_>>2]=J_,P_=P_+4|0,_e[P_>>2]=R_,P_=l[_t>>2]|0,D_=l[u_>>2]|0,P_=D_+(P_*12|0)+8|0,_e[P_>>2]=M_,ws=_s;return}else{b2=+_e[_+136>>2],F_=+_e[_+132>>2],Q_=+_e[_+128>>2],f2=+_e[_+124>>2],t2=x_-R_*b2-l_+M_*Q_,s2=t_+R_*F_-__-M_*f2,v2=R_-M_,e2=t2*+_e[_+172>>2]+s2*+_e[_+184>>2]+v2*+_e[_+196>>2],O_=t2*+_e[_+176>>2]+s2*+_e[_+188>>2]+v2*+_e[_+200>>2],v2=t2*+_e[_+180>>2]+s2*+_e[_+192>>2]+v2*+_e[_+204>>2],s2=-e2,t2=-O_,P_=_+104|0,_e[P_>>2]=+_e[P_>>2]-e2,P_=_+108|0,_e[P_>>2]=+_e[P_>>2]-O_,P_=_+112|0,_e[P_>>2]=+_e[P_>>2]-v2,O_=t2,e2=s2,Q_=M_-J_*(f2*t2-Q_*s2-v2),v2=R_+f_*(F_*t2-b2*s2-v2),s2=g_*e2,b2=g_*O_,e2=A_*e2,O_=A_*O_,s2=x_+s2,b2=t_+b2,e2=l_-e2,O_=__-O_,e2=+e2,O_=+O_,P_=n_,D_=P_,_e[D_>>2]=e2,P_=P_+4|0,_e[P_>>2]=O_,P_=l[_i>>2]|0,D_=l[u_>>2]|0,P_=D_+(P_*12|0)+8|0,_e[P_>>2]=Q_,P_=l[_t>>2]|0,P_=D_+(P_*12|0)|0,s2=+s2,b2=+b2,D_=P_,_e[D_>>2]=s2,P_=P_+4|0,_e[P_>>2]=b2,P_=l[_t>>2]|0,D_=l[u_>>2]|0,P_=D_+(P_*12|0)+8|0,_e[P_>>2]=v2,ws=_s;return}}function dit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0;return _i=ws,ws=ws+64|0,f2=_i+24|0,S2=_i+12|0,v2=_i,_s=_+116|0,t_=l[_s>>2]|0,_t=_t+24|0,x2=l[_t>>2]|0,r2=x2+(t_*12|0)|0,J_=+_e[r2>>2],u_=+_e[r2+4>>2],n_=+_e[x2+(t_*12|0)+8>>2],t_=_+120|0,r2=l[t_>>2]|0,c2=x2+(r2*12|0)|0,l_=+_e[c2>>2],x_=+_e[c2+4>>2],g_=+_e[x2+(r2*12|0)+8>>2],P_=+J2(+n_),b2=+B2(+n_),s2=+J2(+g_),O_=+B2(+g_),A_=+_e[_+156>>2],R_=+_e[_+160>>2],__=+_e[_+164>>2],f_=+_e[_+168>>2],F_=+_e[_+80>>2]-+_e[_+140>>2],V_=+_e[_+84>>2]-+_e[_+144>>2],M_=b2*F_-P_*V_,V_=P_*F_+b2*V_,b2=+_e[_+88>>2]-+_e[_+148>>2],F_=+_e[_+92>>2]-+_e[_+152>>2],P_=O_*b2-s2*F_,F_=s2*b2+O_*F_,O_=A_+R_,b2=O_+__*V_*V_+f_*F_*F_,_e[f2>>2]=b2,s2=-(__*V_*M_)-f_*F_*P_,_e[f2+12>>2]=s2,Q_=-(__*V_)-f_*F_,_e[f2+24>>2]=Q_,_e[f2+4>>2]=s2,O_=O_+__*M_*M_+f_*P_*P_,_e[f2+16>>2]=O_,w2=__*M_+f_*P_,_e[f2+28>>2]=w2,_e[f2+8>>2]=Q_,_e[f2+20>>2]=w2,w2=__+f_,_e[f2+32>>2]=w2,Q_=l_+P_-J_-M_,e2=x_+F_-u_-V_,+_e[_+68>>2]>0?(D_=+V2(+(e2*e2+Q_*Q_)),t2=b2*O_-s2*s2,t2!=0&&(t2=1/t2),h2=-(t2*(O_*Q_-s2*e2)),t2=-(t2*(b2*e2-s2*Q_)),P_=P_*t2-F_*h2,F_=t2,e2=h2,M_=M_*t2-V_*h2,t2=0):(h2=g_-n_-+_e[_+96>>2],D_=+V2(+(e2*e2+Q_*Q_)),h2>0?t2=h2:t2=-h2,_e[S2>>2]=Q_,_e[S2+4>>2]=e2,_e[S2+8>>2]=h2,w2>0?(_D(v2,f2,S2),b2=+_e[v2+4>>2],e2=+_e[v2>>2],O_=-+_e[v2+8>>2]):(w2=b2*O_-s2*s2,w2!=0&&(w2=1/w2),b2=w2*(b2*e2-s2*Q_),e2=w2*(O_*Q_-s2*e2),O_=0),h2=-e2,w2=-b2,P_=O_+(P_*w2-F_*h2),F_=w2,e2=h2,M_=O_+(M_*w2-V_*h2)),h2=+(J_-A_*e2),w2=+(u_-A_*F_),c2=(l[_t>>2]|0)+((l[_s>>2]|0)*12|0)|0,_e[c2>>2]=h2,_e[c2+4>>2]=w2,c2=l[_t>>2]|0,_e[c2+((l[_s>>2]|0)*12|0)+8>>2]=n_-__*M_,w2=+(l_+R_*e2),h2=+(x_+R_*F_),c2=c2+((l[t_>>2]|0)*12|0)|0,_e[c2>>2]=w2,_e[c2+4>>2]=h2,_e[(l[_t>>2]|0)+((l[t_>>2]|0)*12|0)+8>>2]=g_+f_*P_,D_<=.004999999888241291?(c2=t2<=.03490658849477768,ws=_i,c2|0):(c2=0,ws=_i,c2|0)}function yit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+48>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+80>>2],t_=+_e[l_+20>>2],_s=+_e[_t+84>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function xit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+52>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+88>>2],t_=+_e[l_+20>>2],_s=+_e[_t+92>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function fit(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0;_s=+_e[_t+108>>2]*_i,_e[_>>2]=+_e[_t+104>>2]*_i,_e[_+4>>2]=_s}function git(_,_t){return _=_|0,_t=+_t,+(+_e[_+112>>2]*_t)}function vit(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;_t=ws,ws=ws+16|0,_i=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,ta(17616,_i),l[_i>>2]=n_,ta(17784,_i),l[_i>>2]=_s,ta(17816,_i),l[_i>>2]=e_[_+61>>0],ta(17848,_i),t_=+_e[_+84>>2],c_[s_>>3]=+_e[_+80>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17888,_i),t_=+_e[_+92>>2],c_[s_>>3]=+_e[_+88>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17936,_i),c_[s_>>3]=+_e[_+96>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(17640,_i),c_[s_>>3]=+_e[_+68>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18120,_i),c_[s_>>3]=+_e[_+72>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18152,_i),l[_i>>2]=l[_+56>>2],ta(18184,_i),ws=_t}function Ait(_){_=_|0}function Sit(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Cit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0,x2=0,c2=0,A2=0,d2=0,H2=0,E2=0,P2=0,N2=0,F2=0,y2=0,C2=0,j2=0;if(A_=ws,n_=l[_+48>>2]|0,F2=l[n_+8>>2]|0,P_=_+132|0,l[P_>>2]=F2,_s=l[_+52>>2]|0,E2=l[_s+8>>2]|0,g_=_+136|0,l[g_>>2]=E2,s2=n_+28|0,H2=l[s2>>2]|0,s2=l[s2+4>>2]|0,f2=_+140|0,l[f2>>2]=H2,l[f2+4>>2]=s2,f2=_s+28|0,v2=l[f2>>2]|0,f2=l[f2+4>>2]|0,u_=_+148|0,l[u_>>2]=v2,l[u_+4>>2]=f2,b2=+_e[n_+120>>2],u_=_+156|0,_e[u_>>2]=b2,r2=+_e[_s+120>>2],l_=_+160|0,_e[l_>>2]=r2,e2=+_e[n_+128>>2],n_=_+164|0,_e[n_>>2]=e2,t2=+_e[_s+128>>2],_s=_+168|0,_e[_s>>2]=t2,N2=l[_t+24>>2]|0,F_=N2+(F2*12|0)|0,Q_=+_e[F_>>2],O_=+_e[F_+4>>2],S2=+_e[N2+(F2*12|0)+8>>2],F_=_t+28|0,P2=l[F_>>2]|0,y2=P2+(F2*12|0)|0,f_=+_e[y2>>2],J_=+_e[y2+4>>2],V_=+_e[P2+(F2*12|0)+8>>2],F2=N2+(E2*12|0)|0,_i=+_e[F2>>2],t_=+_e[F2+4>>2],x_=+_e[N2+(E2*12|0)+8>>2],N2=P2+(E2*12|0)|0,R_=+_e[N2>>2],M_=+_e[N2+4>>2],D_=+_e[P2+(E2*12|0)+8>>2],d2=+J2(+S2),S2=+B2(+S2),A2=+J2(+x_),x_=+B2(+x_),__=+_e[_+76>>2]-(l[s_>>2]=H2,+_e[s_>>2]),x2=+_e[_+80>>2]-(l[s_>>2]=s2,+_e[s_>>2]),w2=S2*__-d2*x2,x2=d2*__+S2*x2,__=+_e[_+84>>2]-(l[s_>>2]=v2,+_e[s_>>2]),c2=+_e[_+88>>2]-(l[s_>>2]=f2,+_e[s_>>2]),h2=x_*__-A2*c2,c2=A2*__+x_*c2,Q_=_i+h2-Q_-w2,O_=t_+c2-O_-x2,t_=+_e[_+100>>2],_i=+_e[_+104>>2],x_=S2*t_-d2*_i,_i=d2*t_+S2*_i,t_=+x_,__=+_i,f2=_+180|0,_e[f2>>2]=t_,_e[f2+4>>2]=__,w2=w2+Q_,x2=x2+O_,__=_i*w2-x_*x2,_e[_+196>>2]=__,t_=h2*_i-c2*x_,_e[_+200>>2]=t_,r2=b2+r2,b2=r2+__*e2*__+t_*t2*t_,b2>0&&(b2=1/b2),_e[_+204>>2]=b2,s2=_+212|0,_e[s2>>2]=0,v2=_+216|0,_e[v2>>2]=0,f2=_+220|0,_e[f2>>2]=0,A2=+_e[_+68>>2],A2>0?(j2=+_e[_+92>>2],C2=+_e[_+96>>2],b2=S2*j2-d2*C2,S2=d2*j2+S2*C2,C2=+b2,d2=+S2,y2=_+172|0,_e[y2>>2]=C2,_e[y2+4>>2]=d2,d2=w2*S2-x2*b2,_e[_+188>>2]=d2,w2=h2*S2-c2*b2,_e[_+192>>2]=w2,w2=r2+d2*e2*d2+w2*t2*w2,w2>0&&(x2=1/w2,_e[s2>>2]=x2,j2=A2*6.2831854820251465,r2=j2*x2*j2,h2=+_e[_t>>2],x2=h2*(j2*x2*2*+_e[_+72>>2]+h2*r2),x2>0&&(x2=1/x2),_e[f2>>2]=x2,_e[v2>>2]=(Q_*b2+O_*S2)*h2*r2*x2,O_=w2+x2,_e[s2>>2]=O_,O_>0&&(_e[s2>>2]=1/O_))):_e[_+116>>2]=0,_o[_+128>>0]|0?(t2=t2+e2,s2=_+208|0,_e[s2>>2]=t2,t2>0&&(_e[s2>>2]=1/t2)):(_e[_+208>>2]=0,_e[_+112>>2]=0),_o[_t+20>>0]|0){F2=_t+8|0,y2=_+108|0,r2=+_e[F2>>2]*+_e[y2>>2],_e[y2>>2]=r2,y2=_+116|0,j2=+_e[F2>>2]*+_e[y2>>2],_e[y2>>2]=j2,y2=_+112|0,h2=+_e[F2>>2]*+_e[y2>>2],_e[y2>>2]=h2,d2=r2*x_+j2*+_e[_+172>>2],A2=r2*_i+j2*+_e[_+176>>2],c2=+_e[u_>>2],C2=+_e[l_>>2],x2=f_-d2*c2,c2=J_-A2*c2,d2=R_+d2*C2,C2=M_+A2*C2,A2=V_-(h2+(r2*__+j2*+_e[_+188>>2]))*+_e[n_>>2],j2=D_+(h2+(r2*t_+j2*+_e[_+192>>2]))*+_e[_s>>2],y2=l[P_>>2]|0,F2=l[F_>>2]|0,y2=F2+(y2*12|0)|0,x2=+x2,c2=+c2,F2=y2,_e[F2>>2]=x2,y2=y2+4|0,_e[y2>>2]=c2,y2=l[P_>>2]|0,F2=l[F_>>2]|0,y2=F2+(y2*12|0)+8|0,_e[y2>>2]=A2,y2=l[g_>>2]|0,y2=F2+(y2*12|0)|0,d2=+d2,C2=+C2,F2=y2,_e[F2>>2]=d2,y2=y2+4|0,_e[y2>>2]=C2,y2=l[g_>>2]|0,F2=l[F_>>2]|0,y2=F2+(y2*12|0)+8|0,_e[y2>>2]=j2,ws=A_;return}else{_e[_+108>>2]=0,_e[_+116>>2]=0,_e[_+112>>2]=0,x2=f_,c2=J_,d2=R_,C2=M_,A2=V_,j2=D_,y2=l[P_>>2]|0,F2=l[F_>>2]|0,y2=F2+(y2*12|0)|0,x2=+x2,c2=+c2,F2=y2,_e[F2>>2]=x2,y2=y2+4|0,_e[y2>>2]=c2,y2=l[P_>>2]|0,F2=l[F_>>2]|0,y2=F2+(y2*12|0)+8|0,_e[y2>>2]=A2,y2=l[g_>>2]|0,y2=F2+(y2*12|0)|0,d2=+d2,C2=+C2,F2=y2,_e[F2>>2]=d2,y2=y2+4|0,_e[y2>>2]=C2,y2=l[g_>>2]|0,F2=l[F_>>2]|0,y2=F2+(y2*12|0)+8|0,_e[y2>>2]=j2,ws=A_;return}}function Bit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0;_i=ws,P_=+_e[_+156>>2],g_=+_e[_+160>>2],V_=+_e[_+164>>2],l_=+_e[_+168>>2],R_=_+132|0,_s=l[R_>>2]|0,t_=_t+28|0,s2=l[t_>>2]|0,O_=s2+(_s*12|0)|0,F_=+_e[O_>>2],t2=+_e[O_+4>>2],e2=+_e[s2+(_s*12|0)+8>>2],_s=_+136|0,O_=l[_s>>2]|0,b2=s2+(O_*12|0)|0,__=+_e[b2>>2],M_=+_e[b2+4>>2],x_=+_e[s2+(O_*12|0)+8>>2],J_=+_e[_+172>>2],f_=+_e[_+176>>2],u_=+_e[_+192>>2],D_=+_e[_+188>>2],O_=_+116|0,Q_=+_e[O_>>2],n_=+_e[_+212>>2]*(+_e[_+216>>2]+(x_*u_+(J_*(__-F_)+f_*(M_-t2))-e2*D_)+ +_e[_+220>>2]*Q_),A_=-n_,_e[O_>>2]=Q_-n_,J_=J_*A_,f_=f_*A_,F_=F_-P_*J_,t2=t2-P_*f_,D_=e2-V_*D_*A_,J_=__+g_*J_,f_=M_+g_*f_,A_=x_+l_*u_*A_,O_=_+112|0,u_=+_e[O_>>2],x_=+_e[_t>>2]*+_e[_+120>>2],M_=u_-+_e[_+208>>2]*(A_-D_-+_e[_+124>>2]),__=-x_,x_=M_<x_?M_:x_,x_=x_<__?__:x_,_e[O_>>2]=x_,u_=x_-u_,D_=D_-V_*u_,u_=A_+l_*u_,A_=+_e[_+180>>2],x_=+_e[_+184>>2],__=+_e[_+200>>2],M_=+_e[_+196>>2],e2=+_e[_+204>>2]*((J_-F_)*A_+(f_-t2)*x_+__*u_-M_*D_),n_=-e2,_t=_+108|0,_e[_t>>2]=+_e[_t>>2]-e2,A_=A_*n_,x_=x_*n_,F_=+(F_-P_*A_),P_=+(t2-P_*x_),_t=(l[t_>>2]|0)+((l[R_>>2]|0)*12|0)|0,_e[_t>>2]=F_,_e[_t+4>>2]=P_,_t=l[t_>>2]|0,_e[_t+((l[R_>>2]|0)*12|0)+8>>2]=D_-V_*M_*n_,A_=+(J_+g_*A_),x_=+(f_+g_*x_),_t=_t+((l[_s>>2]|0)*12|0)|0,_e[_t>>2]=A_,_e[_t+4>>2]=x_,_e[(l[t_>>2]|0)+((l[_s>>2]|0)*12|0)+8>>2]=u_+l_*__*n_,ws=_i}function Pit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0;return _s=ws,_i=_+132|0,F_=l[_i>>2]|0,_t=_t+24|0,f2=l[_t>>2]|0,v2=f2+(F_*12|0)|0,__=+_e[v2>>2],u_=+_e[v2+4>>2],A_=+_e[f2+(F_*12|0)+8>>2],F_=_+136|0,v2=l[F_>>2]|0,S2=f2+(v2*12|0)|0,V_=+_e[S2>>2],P_=+_e[S2+4>>2],t2=+_e[f2+(v2*12|0)+8>>2],D_=+J2(+A_),J_=+B2(+A_),l_=+J2(+t2),t_=+B2(+t2),R_=+_e[_+76>>2]-+_e[_+140>>2],x_=+_e[_+80>>2]-+_e[_+144>>2],g_=J_*R_-D_*x_,x_=D_*R_+J_*x_,R_=+_e[_+84>>2]-+_e[_+148>>2],O_=+_e[_+88>>2]-+_e[_+152>>2],e2=t_*R_-l_*O_,O_=l_*R_+t_*O_,t_=V_-__+e2-g_,R_=P_-u_+O_-x_,l_=+_e[_+100>>2],n_=+_e[_+104>>2],f_=J_*l_-D_*n_,n_=D_*l_+J_*n_,J_=f_*t_+n_*R_,l_=+_e[_+156>>2],D_=+_e[_+160>>2],M_=+_e[_+164>>2],b2=+_e[_+196>>2],Q_=+_e[_+168>>2],s2=+_e[_+200>>2],s2=l_+D_+b2*M_*b2+s2*Q_*s2,s2!=0?s2=-J_/s2:s2=0,w2=f_*s2,b2=n_*s2,__=+(__-w2*l_),u_=+(u_-b2*l_),S2=(l[_t>>2]|0)+((l[_i>>2]|0)*12|0)|0,_e[S2>>2]=__,_e[S2+4>>2]=u_,S2=l[_t>>2]|0,_e[S2+((l[_i>>2]|0)*12|0)+8>>2]=A_-(n_*(g_+t_)-f_*(x_+R_))*s2*M_,V_=+(V_+w2*D_),b2=+(P_+b2*D_),S2=S2+((l[F_>>2]|0)*12|0)|0,_e[S2>>2]=V_,_e[S2+4>>2]=b2,_e[(l[_t>>2]|0)+((l[F_>>2]|0)*12|0)+8>>2]=t2+(e2*n_-O_*f_)*s2*Q_,J_>0?(w2=J_,S2=w2<=.004999999888241291,ws=_s,S2|0):(w2=-J_,S2=w2<=.004999999888241291,ws=_s,S2|0)}function wit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+48>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+76>>2],t_=+_e[l_+20>>2],_s=+_e[_t+80>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function Vit(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0;l_=l[_t+52>>2]|0,__=+_e[l_+24>>2],n_=+_e[_t+84>>2],t_=+_e[l_+20>>2],_s=+_e[_t+88>>2],_i=n_*t_+__*_s+ +_e[l_+16>>2],_e[_>>2]=+_e[l_+12>>2]+(__*n_-t_*_s),_e[_+4>>2]=_i}function Dit(_,_t,_i){_=_|0,_t=_t|0,_i=+_i;var _s=0,t_=0,n_=0;n_=+_e[_t+108>>2],t_=+_e[_t+116>>2],_s=(n_*+_e[_t+184>>2]+t_*+_e[_t+176>>2])*_i,_e[_>>2]=(n_*+_e[_t+180>>2]+t_*+_e[_t+172>>2])*_i,_e[_+4>>2]=_s}function Mit(_,_t){return _=_|0,_t=+_t,+(+_e[_+112>>2]*_t)}function Git(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0;_t=ws,ws=ws+16|0,_i=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,ta(17760,_i),l[_i>>2]=n_,ta(17784,_i),l[_i>>2]=_s,ta(17816,_i),l[_i>>2]=e_[_+61>>0],ta(17848,_i),t_=+_e[_+80>>2],c_[s_>>3]=+_e[_+76>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17888,_i),t_=+_e[_+88>>2],c_[s_>>3]=+_e[_+84>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17936,_i),t_=+_e[_+96>>2],c_[s_>>3]=+_e[_+92>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],_s=_i+8|0,c_[s_>>3]=t_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],ta(17984,_i),l[_i>>2]=e_[_+128>>0],ta(18024,_i),c_[s_>>3]=+_e[_+124>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18056,_i),c_[s_>>3]=+_e[_+120>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18088,_i),c_[s_>>3]=+_e[_+68>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18120,_i),c_[s_>>3]=+_e[_+72>>2],l[_i>>2]=l[s_>>2],l[_i+4>>2]=l[s_+4>>2],ta(18152,_i),l[_i>>2]=l[_+56>>2],ta(18184,_i),ws=_t}function Jit(_){_=_|0}function Iit(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function SB(_,_t){_=_|0,_t=_t|0;var _i=0;_i=ws,ws=ws+16|0,l[_i>>2]=_t,_t=l[L_>>2]|0,rS(_t|0,_|0,_i|0)|0,k6(10,_t|0)|0,f0()}function Tit(){var _=0,_t=0,_i=0,_s=0,t_=0;_=ws,ws=ws+16|0,_t=_,_=_+12|0,bP(18448,44)|0&&SB(18456,_t),_i=mP(l[4610]|0)|0,_i||SB(18424,_t),_i=l[_i>>2]|0,_i||SB(18424,_t),t_=_i+48|0,_s=l[t_>>2]|0,t_=l[t_+4>>2]|0,(_s&-256|0)==1126902528&(t_|0)==1129074247||(l[_t>>2]=18272,SB(18384,_t)),(_s|0)==1126902529&(t_|0)==1129074247?_s=l[_i+44>>2]|0:_s=_i+80|0,l[_>>2]=_s,t_=l[_i>>2]|0,_i=l[t_+4>>2]|0,NI(18816,t_,_)|0?(t_=l[_>>2]|0,t_=CB[l[(l[t_>>2]|0)+8>>2]&63](t_)|0,l[_t>>2]=18272,l[_t+4>>2]=_i,l[_t+8>>2]=t_,SB(18288,_t)):(l[_t>>2]=18272,l[_t+4>>2]=_i,SB(18336,_t))}function Rit(){var _=0;if(_=ws,ws=ws+16|0,vS(18440,124)|0)SB(18512,_);else{ws=_;return}}function Fit(_){_=_|0;var _t=0;if(_t=ws,ws=ws+16|0,u0(_),E6(l[4610]|0,0)|0)SB(18568,_t);else{ws=_t;return}}function Lit(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function qit(_){_=_|0}function Eit(_){return _=_|0,18648}function WI(_){_=_|0;var _t=0;_t=ws,ws=ws+16|0,xb[_&63](),SB(18696,_t)}function kit(){var _=0,_t=0;_t=ws,ws=ws+16|0,bP(18448,44)|0&&SB(18456,_t),_t=mP(l[4610]|0)|0,_t|0&&(_=l[_t>>2]|0,(_|0)!=0)&&(_t=_+48|0,(l[_t>>2]&-256|0)==1126902528?(l[_t+4>>2]|0)==1129074247:0)&&WI(l[_+12>>2]|0),_t=l[4566]|0,l[4566]=_t+0,WI(_t)}function jit(_){_=_|0}function zit(_){_=_|0}function Wit(_){_=_|0}function Nit(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Oit(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function Uit(_){_=_|0;var _t=0;_t=ws,u0(_),ws=_t}function NI(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0;if(_s=ws,ws=ws+64|0,t_=_s,(_|0)==(_t|0))return __=1,ws=_s,__|0;if(!_t||(_t=UI(_t,18944)|0,!_t))return __=0,ws=_s,__|0;__=t_+0|0,n_=__+56|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(n_|0));return l[t_>>2]=_t,l[t_+8>>2]=_,l[t_+12>>2]=-1,l[t_+48>>2]=1,_g[l[(l[_t>>2]|0)+28>>2]&63](_t,t_,l[_i>>2]|0,1),(l[t_+24>>2]|0)!=1?(__=0,ws=_s,__|0):(l[_i>>2]=l[t_+16>>2],__=1,ws=_s,__|0)}function BJ(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0;if(_s=ws,t_=_+16|0,n_=l[t_>>2]|0,!n_){l[t_>>2]=_t,l[_+24>>2]=_i,l[_+36>>2]=1,ws=_s;return}if((n_|0)!=(_t|0)){n_=_+36|0,l[n_>>2]=(l[n_>>2]|0)+1,l[_+24>>2]=2,_o[_+54>>0]=1,ws=_s;return}if(_t=_+24|0,(l[_t>>2]|0)!=2){ws=_s;return}l[_t>>2]=_i,ws=_s}function Xit(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;if(t_=ws,(l[_t+8>>2]|0)!=(_|0)){ws=t_;return}BJ(_t,_i,_s),ws=t_}function Yit(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0;if(t_=ws,(_|0)==(l[_t+8>>2]|0)){BJ(_t,_i,_s),ws=t_;return}else{_=l[_+8>>2]|0,_g[l[(l[_>>2]|0)+28>>2]&63](_,_t,_i,_s),ws=t_;return}}function OI(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0;t_=ws,n_=l[_+4>>2]|0,__=n_>>8,n_&1&&(__=l[(l[_i>>2]|0)+__>>2]|0),_=l[_>>2]|0,_g[l[(l[_>>2]|0)+28>>2]&63](_,_t,_i+__|0,n_&2|0?_s:2),ws=t_}function Hit(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0,__=0;if(t_=ws,(_|0)==(l[_t+8>>2]|0)){BJ(_t,_i,_s),ws=t_;return}if(__=l[_+12>>2]|0,n_=_+(__<<3)+16|0,OI(_+16|0,_t,_i,_s),(__|0)<=1){ws=t_;return}for(__=_t+54|0,_=_+24|0;;){if(OI(_,_t,_i,_s),_o[__>>0]|0){_s=7;break}if(_=_+8|0,_>>>0>=n_>>>0){_s=7;break}}if((_s|0)==7){ws=t_;return}}function UI(_,_t){_=_|0,_t=_t|0;var _i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0;_i=ws,ws=ws+64|0,u_=_i,_s=l[_>>2]|0,t_=_+(l[_s+-8>>2]|0)|0,_s=l[_s+-4>>2]|0,l[u_>>2]=_t,l[u_+4>>2]=_,l[u_+8>>2]=18888,g_=u_+12|0,x_=u_+16|0,A_=u_+20|0,n_=u_+24|0,_=u_+28|0,__=u_+32|0,l_=u_+40|0,J_=(_s|0)==(_t|0),_t=g_+0|0,f_=_t+40|0;do l[_t>>2]=0,_t=_t+4|0;while((_t|0)<(f_|0));_r[g_+40>>1]=0,_o[g_+42>>0]=0;do if(J_)l[u_+48>>2]=1,cD[l[(l[_s>>2]|0)+20>>2]&63](_s,u_,t_,t_,1,0),_=(l[n_>>2]|0)==1?t_:0;else{if(HM[l[(l[_s>>2]|0)+24>>2]&63](_s,u_,t_,1,0),_s=l[u_+36>>2]|0,_s){if((_s|0)!=1){_=0;break}}else{if((l[l_>>2]|0)!=1){_=0;break}if((l[_>>2]|0)!=1){_=0;break}_=(l[__>>2]|0)==1?l[A_>>2]|0:0;break}if((l[n_>>2]|0)!=1){if(l[l_>>2]|0){_=0;break}if((l[_>>2]|0)!=1){_=0;break}if((l[__>>2]|0)!=1){_=0;break}}_=l[x_>>2]|0}while(!1);return ws=_i,_|0}function PJ(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0;var t_=0,n_=0;if(t_=ws,_o[_+53>>0]=1,(l[_+4>>2]|0)!=(_i|0)){ws=t_;return}if(_o[_+52>>0]=1,_i=_+16|0,n_=l[_i>>2]|0,!n_){if(l[_i>>2]=_t,l[_+24>>2]=_s,l[_+36>>2]=1,!((_s|0)==1&&(l[_+48>>2]|0)==1)){ws=t_;return}_o[_+54>>0]=1,ws=t_;return}if((n_|0)!=(_t|0)){n_=_+36|0,l[n_>>2]=(l[n_>>2]|0)+1,_o[_+54>>0]=1,ws=t_;return}if(_t=_+24|0,_i=l[_t>>2]|0,(_i|0)==2?l[_t>>2]=_s:_s=_i,!((_s|0)==1&&(l[_+48>>2]|0)==1)){ws=t_;return}_o[_+54>>0]=1,ws=t_}function Zit(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0;if(n_=ws,(_|0)==(l[_t+8>>2]|0)){if((l[_t+4>>2]|0)!=(_i|0)){ws=n_;return}if(_i=_t+28|0,(l[_i>>2]|0)==1){ws=n_;return}l[_i>>2]=_s,ws=n_;return}if((_|0)!=(l[_t>>2]|0)){if(D_=l[_+12>>2]|0,x_=_+(D_<<3)+16|0,XM(_+16|0,_t,_i,_s,t_),A_=_+24|0,(D_|0)<=1){ws=n_;return}if(f_=l[_+8>>2]|0,!(f_&2|0)&&(g_=_t+36|0,(l[g_>>2]|0)!=1)){if(!(f_&1)){for(J_=_t+54|0,f_=A_;;){if(_o[J_>>0]|0){f_=43;break}if((l[g_>>2]|0)==1){f_=43;break}if(XM(f_,_t,_i,_s,t_),f_=f_+8|0,f_>>>0>=x_>>>0){f_=43;break}}if((f_|0)==43){ws=n_;return}}for(f_=_t+24|0,J_=_t+54|0,R_=A_;;){if(_o[J_>>0]|0){f_=43;break}if((l[g_>>2]|0)==1&&(l[f_>>2]|0)==1){f_=43;break}if(XM(R_,_t,_i,_s,t_),R_=R_+8|0,R_>>>0>=x_>>>0){f_=43;break}}if((f_|0)==43){ws=n_;return}}for(g_=_t+54|0;;){if(_o[g_>>0]|0){f_=43;break}if(XM(A_,_t,_i,_s,t_),A_=A_+8|0,A_>>>0>=x_>>>0){f_=43;break}}if((f_|0)==43){ws=n_;return}}if((l[_t+16>>2]|0)!=(_i|0)&&(__=_t+20|0,(l[__>>2]|0)!=(_i|0))){if(l[_t+32>>2]=_s,x_=_t+44|0,(l[x_>>2]|0)==4){ws=n_;return}D_=l[_+12>>2]|0,V_=_+(D_<<3)+16|0;t:do if((D_|0)>0){g_=_t+52|0,A_=_t+53|0,R_=_t+54|0,J_=_+8|0,f_=_t+24|0,D_=0,M_=0,_=_+16|0;e:do{if(_o[g_>>0]=0,_o[A_>>0]=0,wJ(_,_t,_i,_i,1,t_),_o[R_>>0]|0)break;do if(_o[A_>>0]|0){if(!(_o[g_>>0]|0))if(l[J_>>2]&1){M_=1;break}else{M_=1;break e}if((l[f_>>2]|0)==1){f_=25;break t}if(l[J_>>2]&2)D_=1,M_=1;else{f_=25;break t}}while(!1);_=_+8|0}while(_>>>0<V_>>>0);D_?(u_=M_,f_=24):(l_=M_,f_=21)}else l_=0,f_=21;while(!1);if((f_|0)==21&&(l[__>>2]=_i,D_=_t+40|0,l[D_>>2]=(l[D_>>2]|0)+1,(l[_t+36>>2]|0)==1&&(l[_t+24>>2]|0)==2?(_o[_t+54>>0]=1,l_?f_=25:f_=26):(u_=l_,f_=24)),(f_|0)==24&&(u_?f_=25:f_=26),(f_|0)==25){l[x_>>2]=3,ws=n_;return}else if((f_|0)==26){l[x_>>2]=4,ws=n_;return}}if((_s|0)!=1){ws=n_;return}l[_t+32>>2]=1,ws=n_}function wJ(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0;var __=0,l_=0,u_=0;__=ws,l_=l[_+4>>2]|0,u_=l_>>8,l_&1&&(u_=l[(l[_s>>2]|0)+u_>>2]|0),_=l[_>>2]|0,cD[l[(l[_>>2]|0)+20>>2]&63](_,_t,_i,_s+u_|0,l_&2|0?t_:2,n_),ws=__}function XM(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0;n_=ws,__=l[_+4>>2]|0,l_=__>>8,__&1&&(l_=l[(l[_i>>2]|0)+l_>>2]|0),_=l[_>>2]|0,HM[l[(l[_>>2]|0)+24>>2]&63](_,_t,_i+l_|0,__&2|0?_s:2,t_),ws=n_}function Kit(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0,__=0,l_=0,u_=0,x_=0;if(n_=ws,(_|0)==(l[_t+8>>2]|0)){if((l[_t+4>>2]|0)!=(_i|0)){ws=n_;return}if(__=_t+28|0,(l[__>>2]|0)==1){ws=n_;return}l[__>>2]=_s,ws=n_;return}if((_|0)!=(l[_t>>2]|0)){u_=l[_+8>>2]|0,HM[l[(l[u_>>2]|0)+24>>2]&63](u_,_t,_i,_s,t_),ws=n_;return}if((l[_t+16>>2]|0)!=(_i|0)&&(l_=_t+20|0,(l[l_>>2]|0)!=(_i|0))){if(l[_t+32>>2]=_s,_s=_t+44|0,(l[_s>>2]|0)==4){ws=n_;return}u_=_t+52|0,_o[u_>>0]=0,x_=_t+53|0,_o[x_>>0]=0,_=l[_+8>>2]|0,cD[l[(l[_>>2]|0)+20>>2]&63](_,_t,_i,_i,1,t_),_o[x_>>0]|0?_o[u_>>0]|0||(_=1,__=13):(_=0,__=13);do if((__|0)==13){if(l[l_>>2]=_i,x_=_t+40|0,l[x_>>2]=(l[x_>>2]|0)+1,(l[_t+36>>2]|0)==1&&(l[_t+24>>2]|0)==2){if(_o[_t+54>>0]=1,_)break}else __=16;if((__|0)==16&&_)break;l[_s>>2]=4,ws=n_;return}while(!1);l[_s>>2]=3,ws=n_;return}if((_s|0)!=1){ws=n_;return}l[_t+32>>2]=1,ws=n_}function Qit(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0;var n_=0;if(t_=ws,(l[_t+8>>2]|0)==(_|0)){if((l[_t+4>>2]|0)!=(_i|0)){ws=t_;return}if(_t=_t+28|0,(l[_t>>2]|0)==1){ws=t_;return}l[_t>>2]=_s,ws=t_;return}if((l[_t>>2]|0)!=(_|0)){ws=t_;return}if((l[_t+16>>2]|0)!=(_i|0)&&(n_=_t+20|0,(l[n_>>2]|0)!=(_i|0))){l[_t+32>>2]=_s,l[n_>>2]=_i,_=_t+40|0,l[_>>2]=(l[_>>2]|0)+1,(l[_t+36>>2]|0)==1&&(l[_t+24>>2]|0)==2&&(_o[_t+54>>0]=1),l[_t+44>>2]=4,ws=t_;return}if((_s|0)!=1){ws=t_;return}l[_t+32>>2]=1,ws=t_}function $it(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0;var __=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0;if(x_=ws,(_|0)==(l[_t+8>>2]|0)){PJ(_t,_i,_s,t_),ws=x_;return}__=_t+52|0,u_=_o[__>>0]|0,g_=_t+53|0,A_=_o[g_>>0]|0,R_=l[_+12>>2]|0,f_=_+(R_<<3)+16|0,_o[__>>0]=0,_o[g_>>0]=0,wJ(_+16|0,_t,_i,_s,t_,n_);t:do if((R_|0)>1){l_=_t+24|0,J_=_+8|0,R_=_t+54|0,_=_+24|0;do{if(_o[R_>>0]|0)break t;if(_o[__>>0]|0){if((l[l_>>2]|0)==1||!(l[J_>>2]&2))break t}else if(_o[g_>>0]|0&&!(l[J_>>2]&1|0))break t;_o[__>>0]=0,_o[g_>>0]=0,wJ(_,_t,_i,_s,t_,n_),_=_+8|0}while(_>>>0<f_>>>0)}while(!1);_o[__>>0]=u_,_o[g_>>0]=A_,ws=x_}function trt(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0;var __=0;if(__=ws,(_|0)==(l[_t+8>>2]|0)){PJ(_t,_i,_s,t_),ws=__;return}else{_=l[_+8>>2]|0,cD[l[(l[_>>2]|0)+20>>2]&63](_,_t,_i,_s,t_,n_),ws=__;return}}function ert(_,_t,_i,_s,t_,n_){if(_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,n_=ws,(l[_t+8>>2]|0)!=(_|0)){ws=n_;return}PJ(_t,_i,_s,t_),ws=n_}function ort(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0;return _s=ws,ws=ws+16|0,t_=_s,l[t_>>2]=l[_i>>2],_=KC[l[(l[_>>2]|0)+16>>2]&63](_,_t,t_)|0,_t=_&1,_?(l[_i>>2]=l[t_>>2],ws=_s,_t|0):(ws=_s,_t|0)}function irt(_){_=_|0;var _t=0;return _t=ws,_?_=(UI(_,19056)|0)!=0:_=0,ws=_t,_&1|0}function s0(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0,e2=0,O_=0,Q_=0,s2=0,b2=0,v2=0,f2=0,S2=0,w2=0,h2=0,r2=0;_t=ws;do if(_>>>0<245){if(_>>>0<11?_=16:_=_+11&-8,F_=_>>>3,J_=l[4826]|0,t2=J_>>>F_,t2&3){__=(t2&1^1)+F_|0,n_=__<<1,_s=19344+(n_<<2)|0,n_=19344+(n_+2<<2)|0,l_=l[n_>>2]|0,_i=l_+8|0,t_=l[_i>>2]|0;do if((_s|0)!=(t_|0))if(t_>>>0<(l[4830]|0)>>>0&&f0(),u_=t_+12|0,(l[u_>>2]|0)==(l_|0)){l[u_>>2]=_s,l[n_>>2]=t_;break}else f0();else l[4826]=J_&~(1<<__);while(!1);return r2=__<<3,l[l_+4>>2]=r2|3,r2=l_+(r2|4)|0,l[r2>>2]=l[r2>>2]|1,r2=_i,ws=_t,r2|0}if(_>>>0>(l[4828]|0)>>>0){if(t2){__=2<<F_,__=t2<<F_&(__|0-__),__=(__&0-__)+-1|0,_i=__>>>12&16,__=__>>>_i,t_=__>>>5&8,__=__>>>t_,n_=__>>>2&4,__=__>>>n_,_s=__>>>1&2,__=__>>>_s,l_=__>>>1&1,l_=(t_|_i|n_|_s|l_)+(__>>>l_)|0,__=l_<<1,_s=19344+(__<<2)|0,__=19344+(__+2<<2)|0,n_=l[__>>2]|0,_i=n_+8|0,t_=l[_i>>2]|0;do if((_s|0)!=(t_|0))if(t_>>>0<(l[4830]|0)>>>0&&f0(),u_=t_+12|0,(l[u_>>2]|0)==(n_|0)){l[u_>>2]=_s,l[__>>2]=t_;break}else f0();else l[4826]=J_&~(1<<l_);while(!1);return __=l_<<3,t_=__-_|0,l[n_+4>>2]=_|3,_s=n_+_|0,l[n_+(_|4)>>2]=t_|1,l[n_+__>>2]=t_,__=l[4828]|0,__&&(n_=l[4831]|0,u_=__>>>3,l_=u_<<1,__=19344+(l_<<2)|0,x_=l[4826]|0,u_=1<<u_,x_&u_?(l_=19344+(l_+2<<2)|0,u_=l[l_>>2]|0,u_>>>0<(l[4830]|0)>>>0?f0():(f2=l_,v2=u_)):(l[4826]=x_|u_,f2=19344+(l_+2<<2)|0,v2=__),l[f2>>2]=n_,l[v2+12>>2]=n_,l[n_+8>>2]=v2,l[n_+12>>2]=__),l[4828]=t_,l[4831]=_s,r2=_i,ws=_t,r2|0}if(J_=l[4827]|0,J_){for(_s=(J_&0-J_)+-1|0,h2=_s>>>12&16,_s=_s>>>h2,w2=_s>>>5&8,_s=_s>>>w2,r2=_s>>>2&4,_s=_s>>>r2,t_=_s>>>1&2,_s=_s>>>t_,_i=_s>>>1&1,_i=l[19608+((w2|h2|r2|t_|_i)+(_s>>>_i)<<2)>>2]|0,_s=(l[_i+4>>2]&-8)-_|0,t_=_i;n_=l[t_+16>>2]|0,!(!n_&&(n_=l[t_+20>>2]|0,!n_));)t_=(l[n_+4>>2]&-8)-_|0,r2=t_>>>0<_s>>>0,_s=r2?t_:_s,t_=n_,_i=r2?n_:_i;__=l[4830]|0,_i>>>0<__>>>0&&f0(),t_=_i+_|0,_i>>>0>=t_>>>0&&f0(),n_=l[_i+24>>2]|0,u_=l[_i+12>>2]|0;do if((u_|0)==(_i|0)){if(u_=_i+20|0,l_=l[u_>>2]|0,!l_&&(u_=_i+16|0,l_=l[u_>>2]|0,!l_)){b2=0;break}for(;;){if(x_=l_+20|0,A_=l[x_>>2]|0,A_){l_=A_,u_=x_;continue}if(A_=l_+16|0,x_=l[A_>>2]|0,x_)l_=x_,u_=A_;else break}if(u_>>>0<__>>>0)f0();else{l[u_>>2]=0,b2=l_;break}}else if(l_=l[_i+8>>2]|0,l_>>>0<__>>>0&&f0(),__=l_+12|0,(l[__>>2]|0)!=(_i|0)&&f0(),x_=u_+8|0,(l[x_>>2]|0)==(_i|0)){l[__>>2]=u_,l[x_>>2]=l_,b2=u_;break}else f0();while(!1);do if(n_){if(__=l[_i+28>>2]|0,l_=19608+(__<<2)|0,(_i|0)==(l[l_>>2]|0)){if(l[l_>>2]=b2,!b2){l[4827]=l[4827]&~(1<<__);break}}else if(n_>>>0<(l[4830]|0)>>>0&&f0(),__=n_+16|0,(l[__>>2]|0)==(_i|0)?l[__>>2]=b2:l[n_+20>>2]=b2,!b2)break;b2>>>0<(l[4830]|0)>>>0&&f0(),l[b2+24>>2]=n_,n_=l[_i+16>>2]|0;do if(n_)if(n_>>>0<(l[4830]|0)>>>0)f0();else{l[b2+16>>2]=n_,l[n_+24>>2]=b2;break}while(!1);if(n_=l[_i+20>>2]|0,n_)if(n_>>>0<(l[4830]|0)>>>0)f0();else{l[b2+20>>2]=n_,l[n_+24>>2]=b2;break}}while(!1);return _s>>>0<16?(r2=_s+_|0,l[_i+4>>2]=r2|3,r2=_i+(r2+4)|0,l[r2>>2]=l[r2>>2]|1):(l[_i+4>>2]=_|3,l[_i+(_|4)>>2]=_s|1,l[_i+(_s+_)>>2]=_s,__=l[4828]|0,__&&(n_=l[4831]|0,x_=__>>>3,l_=x_<<1,__=19344+(l_<<2)|0,u_=l[4826]|0,x_=1<<x_,u_&x_?(l_=19344+(l_+2<<2)|0,u_=l[l_>>2]|0,u_>>>0<(l[4830]|0)>>>0?f0():(s2=l_,Q_=u_)):(l[4826]=u_|x_,s2=19344+(l_+2<<2)|0,Q_=__),l[s2>>2]=n_,l[Q_+12>>2]=n_,l[n_+8>>2]=Q_,l[n_+12>>2]=__),l[4828]=_s,l[4831]=t_),r2=_i+8|0,ws=_t,r2|0}}}else if(_>>>0<=4294967231){if(Q_=_+11|0,_=Q_&-8,b2=l[4827]|0,b2){s2=0-_|0,Q_=Q_>>>8,Q_?_>>>0>16777215?v2=31:(h2=(Q_+1048320|0)>>>16&8,r2=Q_<<h2,w2=(r2+520192|0)>>>16&4,r2=r2<<w2,v2=(r2+245760|0)>>>16&2,v2=14-(w2|h2|v2)+(r2<<v2>>>15)|0,v2=_>>>(v2+7|0)&1|v2<<1):v2=0,f2=l[19608+(v2<<2)>>2]|0;t:do if(!f2)w2=0,Q_=0;else for((v2|0)==31?Q_=0:Q_=25-(v2>>>1)|0,w2=0,S2=_<<Q_,Q_=0;;){if(r2=l[f2+4>>2]&-8,h2=r2-_|0,h2>>>0<s2>>>0)if((r2|0)==(_|0)){s2=h2,w2=f2,Q_=f2;break t}else s2=h2,Q_=f2;if(r2=l[f2+20>>2]|0,f2=l[f2+(S2>>>31<<2)+16>>2]|0,w2=(r2|0)==0|(r2|0)==(f2|0)?w2:r2,f2)S2=S2<<1;else break}while(!1);if((w2|0)==0&(Q_|0)==0){if(r2=2<<v2,b2=b2&(r2|0-r2),!b2)break;r2=(b2&0-b2)+-1|0,f2=r2>>>12&16,r2=r2>>>f2,v2=r2>>>5&8,r2=r2>>>v2,S2=r2>>>2&4,r2=r2>>>S2,h2=r2>>>1&2,r2=r2>>>h2,w2=r2>>>1&1,w2=l[19608+((v2|f2|S2|h2|w2)+(r2>>>w2)<<2)>>2]|0}if(w2)for(;;){if(r2=(l[w2+4>>2]&-8)-_|0,b2=r2>>>0<s2>>>0,s2=b2?r2:s2,Q_=b2?w2:Q_,b2=l[w2+16>>2]|0,b2){w2=b2;continue}if(w2=l[w2+20>>2]|0,!w2)break}if(Q_|0&&s2>>>0<((l[4828]|0)-_|0)>>>0){t_=l[4830]|0,Q_>>>0<t_>>>0&&f0(),_i=Q_+_|0,Q_>>>0>=_i>>>0&&f0(),_s=l[Q_+24>>2]|0,__=l[Q_+12>>2]|0;do if((__|0)==(Q_|0)){if(__=Q_+20|0,n_=l[__>>2]|0,!n_&&(__=Q_+16|0,n_=l[__>>2]|0,!n_)){e2=0;break}for(;;){if(l_=n_+20|0,u_=l[l_>>2]|0,u_){n_=u_,__=l_;continue}if(l_=n_+16|0,u_=l[l_>>2]|0,u_)n_=u_,__=l_;else break}if(__>>>0<t_>>>0)f0();else{l[__>>2]=0,e2=n_;break}}else if(n_=l[Q_+8>>2]|0,n_>>>0<t_>>>0&&f0(),t_=n_+12|0,(l[t_>>2]|0)!=(Q_|0)&&f0(),l_=__+8|0,(l[l_>>2]|0)==(Q_|0)){l[t_>>2]=__,l[l_>>2]=n_,e2=__;break}else f0();while(!1);do if(_s){if(n_=l[Q_+28>>2]|0,t_=19608+(n_<<2)|0,(Q_|0)==(l[t_>>2]|0)){if(l[t_>>2]=e2,!e2){l[4827]=l[4827]&~(1<<n_);break}}else if(_s>>>0<(l[4830]|0)>>>0&&f0(),t_=_s+16|0,(l[t_>>2]|0)==(Q_|0)?l[t_>>2]=e2:l[_s+20>>2]=e2,!e2)break;e2>>>0<(l[4830]|0)>>>0&&f0(),l[e2+24>>2]=_s,_s=l[Q_+16>>2]|0;do if(_s)if(_s>>>0<(l[4830]|0)>>>0)f0();else{l[e2+16>>2]=_s,l[_s+24>>2]=e2;break}while(!1);if(_s=l[Q_+20>>2]|0,_s)if(_s>>>0<(l[4830]|0)>>>0)f0();else{l[e2+20>>2]=_s,l[_s+24>>2]=e2;break}}while(!1);t:do if(s2>>>0>=16){if(l[Q_+4>>2]=_|3,l[Q_+(_|4)>>2]=s2|1,l[Q_+(s2+_)>>2]=s2,t_=s2>>>3,s2>>>0<256){__=t_<<1,_s=19344+(__<<2)|0,n_=l[4826]|0,t_=1<<t_;do if(!(n_&t_))l[4826]=n_|t_,t2=19344+(__+2<<2)|0,F_=_s;else{if(t_=19344+(__+2<<2)|0,n_=l[t_>>2]|0,n_>>>0>=(l[4830]|0)>>>0){t2=t_,F_=n_;break}f0()}while(!1);l[t2>>2]=_i,l[F_+12>>2]=_i,l[Q_+(_+8)>>2]=F_,l[Q_+(_+12)>>2]=_s;break}if(_s=s2>>>8,_s?s2>>>0>16777215?_s=31:(h2=(_s+1048320|0)>>>16&8,r2=_s<<h2,w2=(r2+520192|0)>>>16&4,r2=r2<<w2,_s=(r2+245760|0)>>>16&2,_s=14-(w2|h2|_s)+(r2<<_s>>>15)|0,_s=s2>>>(_s+7|0)&1|_s<<1):_s=0,t_=19608+(_s<<2)|0,l[Q_+(_+28)>>2]=_s,l[Q_+(_+20)>>2]=0,l[Q_+(_+16)>>2]=0,__=l[4827]|0,n_=1<<_s,!(__&n_)){l[4827]=__|n_,l[t_>>2]=_i,l[Q_+(_+24)>>2]=t_,l[Q_+(_+12)>>2]=_i,l[Q_+(_+8)>>2]=_i;break}t_=l[t_>>2]|0,(_s|0)==31?_s=0:_s=25-(_s>>>1)|0;e:do if((l[t_+4>>2]&-8|0)!=(s2|0)){for(_s=s2<<_s;n_=t_+(_s>>>31<<2)+16|0,__=l[n_>>2]|0,!!__;)if((l[__+4>>2]&-8|0)==(s2|0)){J_=__;break e}else _s=_s<<1,t_=__;if(n_>>>0<(l[4830]|0)>>>0)f0();else{l[n_>>2]=_i,l[Q_+(_+24)>>2]=t_,l[Q_+(_+12)>>2]=_i,l[Q_+(_+8)>>2]=_i;break t}}else J_=t_;while(!1);if(t_=J_+8|0,_s=l[t_>>2]|0,n_=l[4830]|0,J_>>>0<n_>>>0&&f0(),_s>>>0<n_>>>0)f0();else{l[_s+12>>2]=_i,l[t_>>2]=_i,l[Q_+(_+8)>>2]=_s,l[Q_+(_+12)>>2]=J_,l[Q_+(_+24)>>2]=0;break}}else r2=s2+_|0,l[Q_+4>>2]=r2|3,r2=Q_+(r2+4)|0,l[r2>>2]=l[r2>>2]|1;while(!1);return r2=Q_+8|0,ws=_t,r2|0}}}else _=-1;while(!1);if(J_=l[4828]|0,_>>>0<=J_>>>0)return _s=J_-_|0,_i=l[4831]|0,_s>>>0>15?(l[4831]=_i+_,l[4828]=_s,l[_i+(_+4)>>2]=_s|1,l[_i+J_>>2]=_s,l[_i+4>>2]=_|3):(l[4828]=0,l[4831]=0,l[_i+4>>2]=J_|3,r2=_i+(J_+4)|0,l[r2>>2]=l[r2>>2]|1),r2=_i+8|0,ws=_t,r2|0;if(J_=l[4829]|0,_>>>0<J_>>>0)return h2=J_-_|0,l[4829]=h2,r2=l[4832]|0,l[4832]=r2+_,l[r2+(_+4)>>2]=h2|1,l[r2+4>>2]=_|3,r2=r2+8|0,ws=_t,r2|0;do if(!(l[4944]|0))if(J_=AS(30)|0,J_+-1&J_)f0();else{l[4946]=J_,l[4945]=J_,l[4947]=-1,l[4948]=-1,l[4949]=0,l[4937]=0,l[4944]=(j6(0)|0)&-16^1431655768;break}while(!1);if(t2=_+48|0,J_=l[4946]|0,e2=_+47|0,Q_=J_+e2|0,J_=0-J_|0,F_=Q_&J_,F_>>>0<=_>>>0||(s2=l[4936]|0,s2|0&&(h2=l[4934]|0,r2=h2+F_|0,r2>>>0<=h2>>>0|r2>>>0>s2>>>0)))return r2=0,ws=_t,r2|0;t:do if(l[4937]&4)s2=0,f_=199;else{b2=l[4832]|0;e:do if(b2){for(s2=19752;v2=l[s2>>2]|0,!(v2>>>0<=b2>>>0&&(O_=s2+4|0,(v2+(l[O_>>2]|0)|0)>>>0>b2>>>0));)if(s2=l[s2+8>>2]|0,!s2){f_=182;break e}s2?(b2=Q_-(l[4829]|0)&J_,b2>>>0<2147483647?(J_=HS(b2|0)|0,s2=(J_|0)==((l[s2>>2]|0)+(l[O_>>2]|0)|0),O_=J_,Q_=b2,J_=s2?J_:-1,s2=s2?b2:0,f_=191):s2=0):f_=182}else f_=182;while(!1);do if((f_|0)==182)if(J_=HS(0)|0,(J_|0)!=-1)if(Q_=J_,s2=l[4945]|0,O_=s2+-1|0,O_&Q_?s2=F_-Q_+(O_+Q_&0-s2)|0:s2=F_,O_=l[4934]|0,Q_=O_+s2|0,s2>>>0>_>>>0&s2>>>0<2147483647){if(r2=l[4936]|0,r2|0&&Q_>>>0<=O_>>>0|Q_>>>0>r2>>>0){s2=0;break}O_=HS(s2|0)|0,f_=(O_|0)==(J_|0),Q_=s2,J_=f_?J_:-1,s2=f_?s2:0,f_=191}else s2=0;else s2=0;while(!1);e:do if((f_|0)==191){if(f_=0-Q_|0,(J_|0)!=-1){R_=s2,f_=202;break t}do if((O_|0)!=-1&Q_>>>0<2147483647&Q_>>>0<t2>>>0&&(P_=l[4946]|0,P_=e2-Q_+P_&0-P_,P_>>>0<2147483647))if((HS(P_|0)|0)==-1){HS(f_|0)|0;break e}else{Q_=P_+Q_|0;break}while(!1);if((O_|0)!=-1){J_=O_,R_=Q_,f_=202;break t}}while(!1);l[4937]=l[4937]|4,f_=199}while(!1);if((f_|0)==199&&F_>>>0<2147483647&&(D_=HS(F_|0)|0,V_=HS(0)|0,(V_|0)!=-1&(D_|0)!=-1&D_>>>0<V_>>>0)&&(M_=V_-D_|0,R_=M_>>>0>(_+40|0)>>>0,R_)&&(J_=D_,R_=R_?M_:s2,f_=202),(f_|0)==202){M_=(l[4934]|0)+R_|0,l[4934]=M_,M_>>>0>(l[4935]|0)>>>0&&(l[4935]=M_),M_=l[4832]|0;t:do if(M_){for(F_=19752;;){if(D_=l[F_>>2]|0,P_=F_+4|0,V_=l[P_>>2]|0,(J_|0)==(D_+V_|0)){f_=214;break}if(t2=l[F_+8>>2]|0,t2)F_=t2;else break}if((f_|0)==214&&!(l[F_+12>>2]&8|0)&&M_>>>0>=D_>>>0&M_>>>0<J_>>>0){l[P_>>2]=V_+R_,_i=(l[4829]|0)+R_|0,_s=M_+8|0,_s&7?_s=0-_s&7:_s=0,r2=_i-_s|0,l[4832]=M_+_s,l[4829]=r2,l[M_+(_s+4)>>2]=r2|1,l[M_+(_i+4)>>2]=40,l[4833]=l[4948];break}for(J_>>>0<(l[4830]|0)>>>0&&(l[4830]=J_),D_=J_+R_|0,V_=19752;;){if((l[V_>>2]|0)==(D_|0)){f_=224;break}if(P_=l[V_+8>>2]|0,P_)V_=P_;else break}if((f_|0)==224&&!(l[V_+12>>2]&8|0)){l[V_>>2]=J_,__=V_+4|0,l[__>>2]=(l[__>>2]|0)+R_,__=J_+8|0,__&7?__=0-__&7:__=0,l_=J_+(R_+8)|0,l_&7?g_=0-l_&7:g_=0,f_=J_+(g_+R_)|0,l_=__+_|0,u_=J_+l_|0,A_=f_-(J_+__)-_|0,l[J_+(__+4)>>2]=_|3;e:do if((f_|0)!=(l[4832]|0)){if((f_|0)==(l[4831]|0)){r2=(l[4828]|0)+A_|0,l[4828]=r2,l[4831]=u_,l[J_+(l_+4)>>2]=r2|1,l[J_+(r2+l_)>>2]=r2;break}if(M_=R_+4|0,D_=l[J_+(M_+g_)>>2]|0,(D_&3|0)==1){_=D_&-8,V_=D_>>>3;o:do if(D_>>>0>=256){x_=l[J_+((g_|24)+R_)>>2]|0,P_=l[J_+(R_+12+g_)>>2]|0;do if((P_|0)==(f_|0)){if(P_=g_|16,D_=J_+(M_+P_)|0,V_=l[D_>>2]|0,!V_&&(D_=J_+(P_+R_)|0,V_=l[D_>>2]|0,!V_)){n_=0;break}for(;;){if(P_=V_+20|0,F_=l[P_>>2]|0,F_){V_=F_,D_=P_;continue}if(P_=V_+16|0,F_=l[P_>>2]|0,F_)V_=F_,D_=P_;else break}if(D_>>>0<(l[4830]|0)>>>0)f0();else{l[D_>>2]=0,n_=V_;break}}else if(D_=l[J_+((g_|8)+R_)>>2]|0,D_>>>0<(l[4830]|0)>>>0&&f0(),F_=D_+12|0,(l[F_>>2]|0)!=(f_|0)&&f0(),V_=P_+8|0,(l[V_>>2]|0)==(f_|0)){l[F_>>2]=P_,l[V_>>2]=D_,n_=P_;break}else f0();while(!1);if(!x_)break;D_=l[J_+(R_+28+g_)>>2]|0,V_=19608+(D_<<2)|0;do if((f_|0)!=(l[V_>>2]|0)){if(x_>>>0<(l[4830]|0)>>>0&&f0(),V_=x_+16|0,(l[V_>>2]|0)==(f_|0)?l[V_>>2]=n_:l[x_+20>>2]=n_,!n_)break o}else{if(l[V_>>2]=n_,n_)break;l[4827]=l[4827]&~(1<<D_);break o}while(!1);n_>>>0<(l[4830]|0)>>>0&&f0(),l[n_+24>>2]=x_,x_=g_|16,f_=l[J_+(x_+R_)>>2]|0;do if(f_)if(f_>>>0<(l[4830]|0)>>>0)f0();else{l[n_+16>>2]=f_,l[f_+24>>2]=n_;break}while(!1);if(x_=l[J_+(M_+x_)>>2]|0,!x_)break;if(x_>>>0<(l[4830]|0)>>>0)f0();else{l[n_+20>>2]=x_,l[x_+24>>2]=n_;break}}else{M_=l[J_+((g_|8)+R_)>>2]|0,n_=l[J_+(R_+12+g_)>>2]|0,D_=19344+(V_<<1<<2)|0;do if((M_|0)!=(D_|0)){if(M_>>>0<(l[4830]|0)>>>0&&f0(),(l[M_+12>>2]|0)==(f_|0))break;f0()}while(!1);if((n_|0)==(M_|0)){l[4826]=l[4826]&~(1<<V_);break}do if((n_|0)==(D_|0))x_=n_+8|0;else{if(n_>>>0<(l[4830]|0)>>>0&&f0(),V_=n_+8|0,(l[V_>>2]|0)==(f_|0)){x_=V_;break}f0()}while(!1);l[M_+12>>2]=n_,l[x_>>2]=M_}while(!1);f_=J_+((_|g_)+R_)|0,A_=_+A_|0}if(n_=f_+4|0,l[n_>>2]=l[n_>>2]&-2,l[J_+(l_+4)>>2]=A_|1,l[J_+(A_+l_)>>2]=A_,n_=A_>>>3,A_>>>0<256){A_=n_<<1,_i=19344+(A_<<2)|0,x_=l[4826]|0,n_=1<<n_;do if(!(x_&n_))l[4826]=x_|n_,t_=19344+(A_+2<<2)|0,_s=_i;else{if(x_=19344+(A_+2<<2)|0,n_=l[x_>>2]|0,n_>>>0>=(l[4830]|0)>>>0){t_=x_,_s=n_;break}f0()}while(!1);l[t_>>2]=u_,l[_s+12>>2]=u_,l[J_+(l_+8)>>2]=_s,l[J_+(l_+12)>>2]=_i;break}_s=A_>>>8;do if(!_s)_s=0;else{if(A_>>>0>16777215){_s=31;break}h2=(_s+1048320|0)>>>16&8,r2=_s<<h2,w2=(r2+520192|0)>>>16&4,r2=r2<<w2,_s=(r2+245760|0)>>>16&2,_s=14-(w2|h2|_s)+(r2<<_s>>>15)|0,_s=A_>>>(_s+7|0)&1|_s<<1}while(!1);if(x_=19608+(_s<<2)|0,l[J_+(l_+28)>>2]=_s,l[J_+(l_+20)>>2]=0,l[J_+(l_+16)>>2]=0,t_=l[4827]|0,n_=1<<_s,!(t_&n_)){l[4827]=t_|n_,l[x_>>2]=u_,l[J_+(l_+24)>>2]=x_,l[J_+(l_+12)>>2]=u_,l[J_+(l_+8)>>2]=u_;break}x_=l[x_>>2]|0,(_s|0)==31?_s=0:_s=25-(_s>>>1)|0;o:do if((l[x_+4>>2]&-8|0)!=(A_|0)){for(_s=A_<<_s;n_=x_+(_s>>>31<<2)+16|0,t_=l[n_>>2]|0,!!t_;)if((l[t_+4>>2]&-8|0)==(A_|0)){_i=t_;break o}else _s=_s<<1,x_=t_;if(n_>>>0<(l[4830]|0)>>>0)f0();else{l[n_>>2]=u_,l[J_+(l_+24)>>2]=x_,l[J_+(l_+12)>>2]=u_,l[J_+(l_+8)>>2]=u_;break e}}else _i=x_;while(!1);if(t_=_i+8|0,_s=l[t_>>2]|0,n_=l[4830]|0,_i>>>0<n_>>>0&&f0(),_s>>>0<n_>>>0)f0();else{l[_s+12>>2]=u_,l[t_>>2]=u_,l[J_+(l_+8)>>2]=_s,l[J_+(l_+12)>>2]=_i,l[J_+(l_+24)>>2]=0;break}}else r2=(l[4829]|0)+A_|0,l[4829]=r2,l[4832]=u_,l[J_+(l_+4)>>2]=r2|1;while(!1);return r2=J_+(__|8)|0,ws=_t,r2|0}for(_s=19752;_i=l[_s>>2]|0,!(_i>>>0<=M_>>>0&&(g_=l[_s+4>>2]|0,A_=_i+g_|0,A_>>>0>M_>>>0));)_s=l[_s+8>>2]|0;if(_s=_i+(g_+-39)|0,_s&7?_s=0-_s&7:_s=0,_i=_i+(g_+-47+_s)|0,_i=_i>>>0<(M_+16|0)>>>0?M_:_i,_s=_i+8|0,t_=J_+8|0,t_&7?t_=0-t_&7:t_=0,r2=R_+-40-t_|0,l[4832]=J_+t_,l[4829]=r2,l[J_+(t_+4)>>2]=r2|1,l[J_+(R_+-36)>>2]=40,l[4833]=l[4948],l[_i+4>>2]=27,l[_s+0>>2]=l[4938],l[_s+4>>2]=l[4939],l[_s+8>>2]=l[4940],l[_s+12>>2]=l[4941],l[4938]=J_,l[4939]=R_,l[4941]=0,l[4940]=_s,_s=_i+28|0,l[_s>>2]=7,(_i+32|0)>>>0<A_>>>0)do r2=_s,_s=_s+4|0,l[_s>>2]=7;while((r2+8|0)>>>0<A_>>>0);if((_i|0)!=(M_|0)){if(_i=_i-M_|0,_s=M_+(_i+4)|0,l[_s>>2]=l[_s>>2]&-2,l[M_+4>>2]=_i|1,l[M_+_i>>2]=_i,_s=_i>>>3,_i>>>0<256){n_=_s<<1,_i=19344+(n_<<2)|0,t_=l[4826]|0,_s=1<<_s;do if(!(t_&_s))l[4826]=t_|_s,u_=19344+(n_+2<<2)|0,l_=_i;else{if(t_=19344+(n_+2<<2)|0,_s=l[t_>>2]|0,_s>>>0>=(l[4830]|0)>>>0){u_=t_,l_=_s;break}f0()}while(!1);l[u_>>2]=M_,l[l_+12>>2]=M_,l[M_+8>>2]=l_,l[M_+12>>2]=_i;break}if(_s=_i>>>8,_s?_i>>>0>16777215?_s=31:(h2=(_s+1048320|0)>>>16&8,r2=_s<<h2,w2=(r2+520192|0)>>>16&4,r2=r2<<w2,_s=(r2+245760|0)>>>16&2,_s=14-(w2|h2|_s)+(r2<<_s>>>15)|0,_s=_i>>>(_s+7|0)&1|_s<<1):_s=0,l_=19608+(_s<<2)|0,l[M_+28>>2]=_s,l[M_+20>>2]=0,l[M_+16>>2]=0,t_=l[4827]|0,n_=1<<_s,!(t_&n_)){l[4827]=t_|n_,l[l_>>2]=M_,l[M_+24>>2]=l_,l[M_+12>>2]=M_,l[M_+8>>2]=M_;break}t_=l[l_>>2]|0,(_s|0)==31?_s=0:_s=25-(_s>>>1)|0;e:do if((l[t_+4>>2]&-8|0)!=(_i|0)){for(_s=_i<<_s;l_=t_+(_s>>>31<<2)+16|0,n_=l[l_>>2]|0,!!n_;)if((l[n_+4>>2]&-8|0)==(_i|0)){__=n_;break e}else _s=_s<<1,t_=n_;if(l_>>>0<(l[4830]|0)>>>0)f0();else{l[l_>>2]=M_,l[M_+24>>2]=t_,l[M_+12>>2]=M_,l[M_+8>>2]=M_;break t}}else __=t_;while(!1);if(t_=__+8|0,_s=l[t_>>2]|0,_i=l[4830]|0,__>>>0<_i>>>0&&f0(),_s>>>0<_i>>>0)f0();else{l[_s+12>>2]=M_,l[t_>>2]=M_,l[M_+8>>2]=_s,l[M_+12>>2]=__,l[M_+24>>2]=0;break}}}else{r2=l[4830]|0,(r2|0)==0|J_>>>0<r2>>>0&&(l[4830]=J_),l[4938]=J_,l[4939]=R_,l[4941]=0,l[4835]=l[4944],l[4834]=-1,_i=0;do r2=_i<<1,h2=19344+(r2<<2)|0,l[19344+(r2+3<<2)>>2]=h2,l[19344+(r2+2<<2)>>2]=h2,_i=_i+1|0;while((_i|0)!=32);_i=J_+8|0,_i&7?_i=0-_i&7:_i=0,r2=R_+-40-_i|0,l[4832]=J_+_i,l[4829]=r2,l[J_+(_i+4)>>2]=r2|1,l[J_+(R_+-36)>>2]=40,l[4833]=l[4948]}while(!1);if(_i=l[4829]|0,_i>>>0>_>>>0)return h2=_i-_|0,l[4829]=h2,r2=l[4832]|0,l[4832]=r2+_,l[r2+(_+4)>>2]=h2|1,l[r2+4>>2]=_|3,r2=r2+8|0,ws=_t,r2|0}return l[(k4()|0)>>2]=12,r2=0,ws=_t,r2|0}function u0(_){_=_|0;var _t=0,_i=0,_s=0,t_=0,n_=0,__=0,l_=0,u_=0,x_=0,A_=0,g_=0,f_=0,J_=0,R_=0,M_=0,V_=0,D_=0,P_=0,F_=0,t2=0;if(_t=ws,!_){ws=_t;return}R_=_+-8|0,M_=l[4830]|0,R_>>>0<M_>>>0&&f0(),f_=l[_+-4>>2]|0,g_=f_&3,(g_|0)==1&&f0(),l_=f_&-8,__=_+(l_+-8)|0;do if(f_&1)_i=R_,A_=l_;else{if(P_=l[R_>>2]|0,!g_){ws=_t;return}if(R_=-8-P_|0,f_=_+R_|0,g_=P_+l_|0,f_>>>0<M_>>>0&&f0(),(f_|0)==(l[4831]|0)){if(_i=_+(l_+-4)|0,(l[_i>>2]&3|0)!=3){_i=f_,A_=g_;break}l[4828]=g_,l[_i>>2]=l[_i>>2]&-2,l[_+(R_+4)>>2]=g_|1,l[__>>2]=g_,ws=_t;return}if(D_=P_>>>3,P_>>>0<256){if(_i=l[_+(R_+8)>>2]|0,A_=l[_+(R_+12)>>2]|0,J_=19344+(D_<<1<<2)|0,(_i|0)!=(J_|0)&&(_i>>>0<M_>>>0&&f0(),(l[_i+12>>2]|0)!=(f_|0)&&f0()),(A_|0)==(_i|0)){l[4826]=l[4826]&~(1<<D_),_i=f_,A_=g_;break}(A_|0)!=(J_|0)?(A_>>>0<M_>>>0&&f0(),J_=A_+8|0,(l[J_>>2]|0)==(f_|0)?V_=J_:f0()):V_=A_+8|0,l[_i+12>>2]=A_,l[V_>>2]=_i,_i=f_,A_=g_;break}V_=l[_+(R_+24)>>2]|0,D_=l[_+(R_+12)>>2]|0;do if((D_|0)==(f_|0)){if(P_=_+(R_+20)|0,D_=l[P_>>2]|0,!D_&&(P_=_+(R_+16)|0,D_=l[P_>>2]|0,!D_)){J_=0;break}for(;;){if(t2=D_+20|0,F_=l[t2>>2]|0,F_){D_=F_,P_=t2;continue}if(F_=D_+16|0,t2=l[F_>>2]|0,t2)D_=t2,P_=F_;else break}if(P_>>>0<M_>>>0)f0();else{l[P_>>2]=0,J_=D_;break}}else if(P_=l[_+(R_+8)>>2]|0,P_>>>0<M_>>>0&&f0(),M_=P_+12|0,(l[M_>>2]|0)!=(f_|0)&&f0(),F_=D_+8|0,(l[F_>>2]|0)==(f_|0)){l[M_>>2]=D_,l[F_>>2]=P_,J_=D_;break}else f0();while(!1);if(V_){if(D_=l[_+(R_+28)>>2]|0,M_=19608+(D_<<2)|0,(f_|0)==(l[M_>>2]|0)){if(l[M_>>2]=J_,!J_){l[4827]=l[4827]&~(1<<D_),_i=f_,A_=g_;break}}else if(V_>>>0<(l[4830]|0)>>>0&&f0(),M_=V_+16|0,(l[M_>>2]|0)==(f_|0)?l[M_>>2]=J_:l[V_+20>>2]=J_,!J_){_i=f_,A_=g_;break}J_>>>0<(l[4830]|0)>>>0&&f0(),l[J_+24>>2]=V_,M_=l[_+(R_+16)>>2]|0;do if(M_)if(M_>>>0<(l[4830]|0)>>>0)f0();else{l[J_+16>>2]=M_,l[M_+24>>2]=J_;break}while(!1);if(R_=l[_+(R_+20)>>2]|0,R_)if(R_>>>0<(l[4830]|0)>>>0)f0();else{l[J_+20>>2]=R_,l[R_+24>>2]=J_,_i=f_,A_=g_;break}else _i=f_,A_=g_}else _i=f_,A_=g_}while(!1);if(_i>>>0>=__>>>0&&f0(),g_=_+(l_+-4)|0,f_=l[g_>>2]|0,f_&1||f0(),f_&2)l[g_>>2]=f_&-2,l[_i+4>>2]=A_|1,l[_i+A_>>2]=A_;else{if((__|0)==(l[4832]|0)){if(t2=(l[4829]|0)+A_|0,l[4829]=t2,l[4832]=_i,l[_i+4>>2]=t2|1,(_i|0)!=(l[4831]|0)){ws=_t;return}l[4831]=0,l[4828]=0,ws=_t;return}if((__|0)==(l[4831]|0)){t2=(l[4828]|0)+A_|0,l[4828]=t2,l[4831]=_i,l[_i+4>>2]=t2|1,l[_i+t2>>2]=t2,ws=_t;return}A_=(f_&-8)+A_|0,g_=f_>>>3;do if(f_>>>0>=256){x_=l[_+(l_+16)>>2]|0,R_=l[_+(l_|4)>>2]|0;do if((R_|0)==(__|0)){if(f_=_+(l_+12)|0,g_=l[f_>>2]|0,!g_&&(f_=_+(l_+8)|0,g_=l[f_>>2]|0,!g_)){u_=0;break}for(;;){if(J_=g_+20|0,R_=l[J_>>2]|0,R_){g_=R_,f_=J_;continue}if(J_=g_+16|0,R_=l[J_>>2]|0,R_)g_=R_,f_=J_;else break}if(f_>>>0<(l[4830]|0)>>>0)f0();else{l[f_>>2]=0,u_=g_;break}}else if(f_=l[_+l_>>2]|0,f_>>>0<(l[4830]|0)>>>0&&f0(),J_=f_+12|0,(l[J_>>2]|0)!=(__|0)&&f0(),g_=R_+8|0,(l[g_>>2]|0)==(__|0)){l[J_>>2]=R_,l[g_>>2]=f_,u_=R_;break}else f0();while(!1);if(x_){if(g_=l[_+(l_+20)>>2]|0,f_=19608+(g_<<2)|0,(__|0)==(l[f_>>2]|0)){if(l[f_>>2]=u_,!u_){l[4827]=l[4827]&~(1<<g_);break}}else if(x_>>>0<(l[4830]|0)>>>0&&f0(),g_=x_+16|0,(l[g_>>2]|0)==(__|0)?l[g_>>2]=u_:l[x_+20>>2]=u_,!u_)break;u_>>>0<(l[4830]|0)>>>0&&f0(),l[u_+24>>2]=x_,__=l[_+(l_+8)>>2]|0;do if(__)if(__>>>0<(l[4830]|0)>>>0)f0();else{l[u_+16>>2]=__,l[__+24>>2]=u_;break}while(!1);if(__=l[_+(l_+12)>>2]|0,__)if(__>>>0<(l[4830]|0)>>>0)f0();else{l[u_+20>>2]=__,l[__+24>>2]=u_;break}}}else{if(u_=l[_+l_>>2]|0,_=l[_+(l_|4)>>2]|0,l_=19344+(g_<<1<<2)|0,(u_|0)!=(l_|0)&&(u_>>>0<(l[4830]|0)>>>0&&f0(),(l[u_+12>>2]|0)!=(__|0)&&f0()),(_|0)==(u_|0)){l[4826]=l[4826]&~(1<<g_);break}(_|0)!=(l_|0)?(_>>>0<(l[4830]|0)>>>0&&f0(),l_=_+8|0,(l[l_>>2]|0)==(__|0)?x_=l_:f0()):x_=_+8|0,l[u_+12>>2]=_,l[x_>>2]=u_}while(!1);if(l[_i+4>>2]=A_|1,l[_i+A_>>2]=A_,(_i|0)==(l[4831]|0)){l[4828]=A_,ws=_t;return}}if(__=A_>>>3,A_>>>0<256){_=__<<1,_s=19344+(_<<2)|0,l_=l[4826]|0,__=1<<__,l_&__?(__=19344+(_+2<<2)|0,_=l[__>>2]|0,_>>>0<(l[4830]|0)>>>0?f0():(t_=__,n_=_)):(l[4826]=l_|__,t_=19344+(_+2<<2)|0,n_=_s),l[t_>>2]=_i,l[n_+12>>2]=_i,l[_i+8>>2]=n_,l[_i+12>>2]=_s,ws=_t;return}t_=A_>>>8,t_?A_>>>0>16777215?t_=31:(F_=(t_+1048320|0)>>>16&8,t2=t_<<F_,P_=(t2+520192|0)>>>16&4,t2=t2<<P_,t_=(t2+245760|0)>>>16&2,t_=14-(P_|F_|t_)+(t2<<t_>>>15)|0,t_=A_>>>(t_+7|0)&1|t_<<1):t_=0,n_=19608+(t_<<2)|0,l[_i+28>>2]=t_,l[_i+20>>2]=0,l[_i+16>>2]=0,_=l[4827]|0,__=1<<t_;t:do if(_&__){n_=l[n_>>2]|0,(t_|0)==31?t_=0:t_=25-(t_>>>1)|0;e:do if((l[n_+4>>2]&-8|0)!=(A_|0)){for(t_=A_<<t_,_=n_;__=_+(t_>>>31<<2)+16|0,n_=l[__>>2]|0,!!n_;)if((l[n_+4>>2]&-8|0)==(A_|0)){_s=n_;break e}else t_=t_<<1,_=n_;if(__>>>0<(l[4830]|0)>>>0)f0();else{l[__>>2]=_i,l[_i+24>>2]=_,l[_i+12>>2]=_i,l[_i+8>>2]=_i;break t}}else _s=n_;while(!1);if(n_=_s+8|0,t_=l[n_>>2]|0,__=l[4830]|0,_s>>>0<__>>>0&&f0(),t_>>>0<__>>>0)f0();else{l[t_+12>>2]=_i,l[n_>>2]=_i,l[_i+8>>2]=t_,l[_i+12>>2]=_s,l[_i+24>>2]=0;break}}else l[4827]=_|__,l[n_>>2]=_i,l[_i+24>>2]=n_,l[_i+12>>2]=_i,l[_i+8>>2]=_i;while(!1);if(t2=(l[4834]|0)+-1|0,l[4834]=t2,!t2)_i=19760;else{ws=_t;return}for(;_i=l[_i>>2]|0,_i;)_i=_i+8|0;l[4834]=-1,ws=_t}function rrt(){}function YM(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0,t_=0,n_=0,__=0;if(_s=_+_i|0,(_i|0)>=20){if(_t=_t&255,__=_&3,n_=_t|_t<<8|_t<<16|_t<<24,t_=_s&-4,__)for(__=_+4-__|0;(_|0)<(__|0);)_o[_>>0]=_t,_=_+1|0;for(;(_|0)<(t_|0);)l[_>>2]=n_,_=_+4|0}for(;(_|0)<(_s|0);)_o[_>>0]=_t,_=_+1|0;return _-_i|0}function nrt(_){_=_|0;var _t=0;for(_t=_;_o[_t>>0]|0;)_t=_t+1|0;return _t-_|0}function BS(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0;var _s=0;if((_i|0)>=4096)return XP(_|0,_t|0,_i|0)|0;if(_s=_|0,(_&3)==(_t&3)){for(;_&3;){if(!_i)return _s|0;_o[_>>0]=_o[_t>>0]|0,_=_+1|0,_t=_t+1|0,_i=_i-1|0}for(;(_i|0)>=4;)l[_>>2]=l[_t>>2],_=_+4|0,_t=_t+4|0,_i=_i-4|0}for(;(_i|0)>0;)_o[_>>0]=_o[_t>>0]|0,_=_+1|0,_t=_t+1|0,_i=_i-1|0;return _s|0}function srt(_,_t,_i,_s){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,KC[_&63](_t|0,_i|0,_s|0)|0}function _rt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(0,_|0,_t|0,_i|0)|0}function art(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(1,_|0,_t|0,_i|0)|0}function prt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(2,_|0,_t|0,_i|0)|0}function lrt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(3,_|0,_t|0,_i|0)|0}function crt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(4,_|0,_t|0,_i|0)|0}function mrt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(5,_|0,_t|0,_i|0)|0}function brt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(6,_|0,_t|0,_i|0)|0}function urt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(7,_|0,_t|0,_i|0)|0}function hrt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(8,_|0,_t|0,_i|0)|0}function drt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(9,_|0,_t|0,_i|0)|0}function yrt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(10,_|0,_t|0,_i|0)|0}function xrt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(11,_|0,_t|0,_i|0)|0}function frt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(12,_|0,_t|0,_i|0)|0}function grt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(13,_|0,_t|0,_i|0)|0}function vrt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(14,_|0,_t|0,_i|0)|0}function Art(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(15,_|0,_t|0,_i|0)|0}function Srt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(16,_|0,_t|0,_i|0)|0}function Crt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(17,_|0,_t|0,_i|0)|0}function Brt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(18,_|0,_t|0,_i|0)|0}function Prt(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,G2(19,_|0,_t|0,_i|0)|0}function wrt(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,HM[_&63](_t|0,_i|0,_s|0,t_|0,n_|0)}function Vrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(0,_|0,_t|0,_i|0,_s|0,t_|0)}function Drt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(1,_|0,_t|0,_i|0,_s|0,t_|0)}function Mrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(2,_|0,_t|0,_i|0,_s|0,t_|0)}function Grt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(3,_|0,_t|0,_i|0,_s|0,t_|0)}function Jrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(4,_|0,_t|0,_i|0,_s|0,t_|0)}function Irt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(5,_|0,_t|0,_i|0,_s|0,t_|0)}function Trt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(6,_|0,_t|0,_i|0,_s|0,t_|0)}function Rrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(7,_|0,_t|0,_i|0,_s|0,t_|0)}function Frt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(8,_|0,_t|0,_i|0,_s|0,t_|0)}function Lrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(9,_|0,_t|0,_i|0,_s|0,t_|0)}function qrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(10,_|0,_t|0,_i|0,_s|0,t_|0)}function Ert(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(11,_|0,_t|0,_i|0,_s|0,t_|0)}function krt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(12,_|0,_t|0,_i|0,_s|0,t_|0)}function jrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(13,_|0,_t|0,_i|0,_s|0,t_|0)}function zrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(14,_|0,_t|0,_i|0,_s|0,t_|0)}function Wrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(15,_|0,_t|0,_i|0,_s|0,t_|0)}function Nrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(16,_|0,_t|0,_i|0,_s|0,t_|0)}function Ort(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(17,_|0,_t|0,_i|0,_s|0,t_|0)}function Urt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(18,_|0,_t|0,_i|0,_s|0,t_|0)}function Xrt(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(19,_|0,_t|0,_i|0,_s|0,t_|0)}function Yrt(_,_t,_i){return _=_|0,_t=_t|0,_i=+_i,+CC[_&63](_t|0,+_i)}function Hrt(_,_t){return _=_|0,_t=+_t,+G2(0,_|0,+_t)}function Zrt(_,_t){return _=_|0,_t=+_t,+G2(1,_|0,+_t)}function Krt(_,_t){return _=_|0,_t=+_t,+G2(2,_|0,+_t)}function Qrt(_,_t){return _=_|0,_t=+_t,+G2(3,_|0,+_t)}function $rt(_,_t){return _=_|0,_t=+_t,+G2(4,_|0,+_t)}function tnt(_,_t){return _=_|0,_t=+_t,+G2(5,_|0,+_t)}function ent(_,_t){return _=_|0,_t=+_t,+G2(6,_|0,+_t)}function ont(_,_t){return _=_|0,_t=+_t,+G2(7,_|0,+_t)}function int(_,_t){return _=_|0,_t=+_t,+G2(8,_|0,+_t)}function rnt(_,_t){return _=_|0,_t=+_t,+G2(9,_|0,+_t)}function nnt(_,_t){return _=_|0,_t=+_t,+G2(10,_|0,+_t)}function snt(_,_t){return _=_|0,_t=+_t,+G2(11,_|0,+_t)}function _nt(_,_t){return _=_|0,_t=+_t,+G2(12,_|0,+_t)}function ant(_,_t){return _=_|0,_t=+_t,+G2(13,_|0,+_t)}function pnt(_,_t){return _=_|0,_t=+_t,+G2(14,_|0,+_t)}function lnt(_,_t){return _=_|0,_t=+_t,+G2(15,_|0,+_t)}function cnt(_,_t){return _=_|0,_t=+_t,+G2(16,_|0,+_t)}function mnt(_,_t){return _=_|0,_t=+_t,+G2(17,_|0,+_t)}function bnt(_,_t){return _=_|0,_t=+_t,+G2(18,_|0,+_t)}function unt(_,_t){return _=_|0,_t=+_t,+G2(19,_|0,+_t)}function hnt(_,_t){_=_|0,_t=_t|0,ry[_&127](_t|0)}function dnt(_){_=_|0,G2(0,_|0)}function ynt(_){_=_|0,G2(1,_|0)}function xnt(_){_=_|0,G2(2,_|0)}function fnt(_){_=_|0,G2(3,_|0)}function gnt(_){_=_|0,G2(4,_|0)}function vnt(_){_=_|0,G2(5,_|0)}function Ant(_){_=_|0,G2(6,_|0)}function Snt(_){_=_|0,G2(7,_|0)}function Cnt(_){_=_|0,G2(8,_|0)}function Bnt(_){_=_|0,G2(9,_|0)}function Pnt(_){_=_|0,G2(10,_|0)}function wnt(_){_=_|0,G2(11,_|0)}function Vnt(_){_=_|0,G2(12,_|0)}function Dnt(_){_=_|0,G2(13,_|0)}function Mnt(_){_=_|0,G2(14,_|0)}function Gnt(_){_=_|0,G2(15,_|0)}function Jnt(_){_=_|0,G2(16,_|0)}function Int(_){_=_|0,G2(17,_|0)}function Tnt(_){_=_|0,G2(18,_|0)}function Rnt(_){_=_|0,G2(19,_|0)}function Fnt(_,_t,_i,_s,t_,n_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=+n_,+VJ[_&63](_t|0,_i|0,_s|0,t_|0,+n_)}function Lnt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(0,_|0,_t|0,_i|0,_s|0,+t_)}function qnt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(1,_|0,_t|0,_i|0,_s|0,+t_)}function Ent(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(2,_|0,_t|0,_i|0,_s|0,+t_)}function knt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(3,_|0,_t|0,_i|0,_s|0,+t_)}function jnt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(4,_|0,_t|0,_i|0,_s|0,+t_)}function znt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(5,_|0,_t|0,_i|0,_s|0,+t_)}function Wnt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(6,_|0,_t|0,_i|0,_s|0,+t_)}function Nnt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(7,_|0,_t|0,_i|0,_s|0,+t_)}function Ont(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(8,_|0,_t|0,_i|0,_s|0,+t_)}function Unt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(9,_|0,_t|0,_i|0,_s|0,+t_)}function Xnt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(10,_|0,_t|0,_i|0,_s|0,+t_)}function Ynt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(11,_|0,_t|0,_i|0,_s|0,+t_)}function Hnt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(12,_|0,_t|0,_i|0,_s|0,+t_)}function Znt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(13,_|0,_t|0,_i|0,_s|0,+t_)}function Knt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(14,_|0,_t|0,_i|0,_s|0,+t_)}function Qnt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(15,_|0,_t|0,_i|0,_s|0,+t_)}function $nt(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(16,_|0,_t|0,_i|0,_s|0,+t_)}function tst(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(17,_|0,_t|0,_i|0,_s|0,+t_)}function est(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(18,_|0,_t|0,_i|0,_s|0,+t_)}function ost(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,+G2(19,_|0,_t|0,_i|0,_s|0,+t_)}function ist(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,yy[_&127](_t|0,_i|0)}function rst(_,_t){_=_|0,_t=_t|0,G2(0,_|0,_t|0)}function nst(_,_t){_=_|0,_t=_t|0,G2(1,_|0,_t|0)}function sst(_,_t){_=_|0,_t=_t|0,G2(2,_|0,_t|0)}function _st(_,_t){_=_|0,_t=_t|0,G2(3,_|0,_t|0)}function ast(_,_t){_=_|0,_t=_t|0,G2(4,_|0,_t|0)}function pst(_,_t){_=_|0,_t=_t|0,G2(5,_|0,_t|0)}function lst(_,_t){_=_|0,_t=_t|0,G2(6,_|0,_t|0)}function cst(_,_t){_=_|0,_t=_t|0,G2(7,_|0,_t|0)}function mst(_,_t){_=_|0,_t=_t|0,G2(8,_|0,_t|0)}function bst(_,_t){_=_|0,_t=_t|0,G2(9,_|0,_t|0)}function ust(_,_t){_=_|0,_t=_t|0,G2(10,_|0,_t|0)}function hst(_,_t){_=_|0,_t=_t|0,G2(11,_|0,_t|0)}function dst(_,_t){_=_|0,_t=_t|0,G2(12,_|0,_t|0)}function yst(_,_t){_=_|0,_t=_t|0,G2(13,_|0,_t|0)}function xst(_,_t){_=_|0,_t=_t|0,G2(14,_|0,_t|0)}function fst(_,_t){_=_|0,_t=_t|0,G2(15,_|0,_t|0)}function gst(_,_t){_=_|0,_t=_t|0,G2(16,_|0,_t|0)}function vst(_,_t){_=_|0,_t=_t|0,G2(17,_|0,_t|0)}function Ast(_,_t){_=_|0,_t=_t|0,G2(18,_|0,_t|0)}function Sst(_,_t){_=_|0,_t=_t|0,G2(19,_|0,_t|0)}function Cst(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=+_s,t_=t_|0,n_=n_|0,DJ[_&63](_t|0,_i|0,+_s,t_|0,n_|0)}function Bst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(0,_|0,_t|0,+_i,_s|0,t_|0)}function Pst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(1,_|0,_t|0,+_i,_s|0,t_|0)}function wst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(2,_|0,_t|0,+_i,_s|0,t_|0)}function Vst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(3,_|0,_t|0,+_i,_s|0,t_|0)}function Dst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(4,_|0,_t|0,+_i,_s|0,t_|0)}function Mst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(5,_|0,_t|0,+_i,_s|0,t_|0)}function Gst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(6,_|0,_t|0,+_i,_s|0,t_|0)}function Jst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(7,_|0,_t|0,+_i,_s|0,t_|0)}function Ist(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(8,_|0,_t|0,+_i,_s|0,t_|0)}function Tst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(9,_|0,_t|0,+_i,_s|0,t_|0)}function Rst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(10,_|0,_t|0,+_i,_s|0,t_|0)}function Fst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(11,_|0,_t|0,+_i,_s|0,t_|0)}function Lst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(12,_|0,_t|0,+_i,_s|0,t_|0)}function qst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(13,_|0,_t|0,+_i,_s|0,t_|0)}function Est(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(14,_|0,_t|0,+_i,_s|0,t_|0)}function kst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(15,_|0,_t|0,+_i,_s|0,t_|0)}function jst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(16,_|0,_t|0,+_i,_s|0,t_|0)}function zst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(17,_|0,_t|0,+_i,_s|0,t_|0)}function Wst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(18,_|0,_t|0,+_i,_s|0,t_|0)}function Nst(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,G2(19,_|0,_t|0,+_i,_s|0,t_|0)}function Ost(_,_t){return _=_|0,_t=_t|0,CB[_&63](_t|0)|0}function Ust(_){return _=_|0,G2(0,_|0)|0}function Xst(_){return _=_|0,G2(1,_|0)|0}function Yst(_){return _=_|0,G2(2,_|0)|0}function Hst(_){return _=_|0,G2(3,_|0)|0}function Zst(_){return _=_|0,G2(4,_|0)|0}function Kst(_){return _=_|0,G2(5,_|0)|0}function Qst(_){return _=_|0,G2(6,_|0)|0}function $st(_){return _=_|0,G2(7,_|0)|0}function t_t(_){return _=_|0,G2(8,_|0)|0}function e_t(_){return _=_|0,G2(9,_|0)|0}function o_t(_){return _=_|0,G2(10,_|0)|0}function i_t(_){return _=_|0,G2(11,_|0)|0}function r_t(_){return _=_|0,G2(12,_|0)|0}function n_t(_){return _=_|0,G2(13,_|0)|0}function s_t(_){return _=_|0,G2(14,_|0)|0}function __t(_){return _=_|0,G2(15,_|0)|0}function a_t(_){return _=_|0,G2(16,_|0)|0}function p_t(_){return _=_|0,G2(17,_|0)|0}function l_t(_){return _=_|0,G2(18,_|0)|0}function c_t(_){return _=_|0,G2(19,_|0)|0}function m_t(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=+_s,t_=t_|0,MJ[_&63](_t|0,_i|0,+_s,t_|0)}function b_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(0,_|0,_t|0,+_i,_s|0)}function u_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(1,_|0,_t|0,+_i,_s|0)}function h_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(2,_|0,_t|0,+_i,_s|0)}function d_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(3,_|0,_t|0,+_i,_s|0)}function y_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(4,_|0,_t|0,+_i,_s|0)}function x_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(5,_|0,_t|0,+_i,_s|0)}function f_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(6,_|0,_t|0,+_i,_s|0)}function g_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(7,_|0,_t|0,+_i,_s|0)}function v_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(8,_|0,_t|0,+_i,_s|0)}function A_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(9,_|0,_t|0,+_i,_s|0)}function S_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(10,_|0,_t|0,+_i,_s|0)}function C_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(11,_|0,_t|0,+_i,_s|0)}function B_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(12,_|0,_t|0,+_i,_s|0)}function P_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(13,_|0,_t|0,+_i,_s|0)}function w_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(14,_|0,_t|0,+_i,_s|0)}function V_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(15,_|0,_t|0,+_i,_s|0)}function D_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(16,_|0,_t|0,+_i,_s|0)}function M_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(17,_|0,_t|0,+_i,_s|0)}function G_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(18,_|0,_t|0,+_i,_s|0)}function J_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,G2(19,_|0,_t|0,+_i,_s|0)}function I_t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,lD[_&63](_t|0,_i|0,_s|0)}function T_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(0,_|0,_t|0,_i|0)}function R_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(1,_|0,_t|0,_i|0)}function F_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(2,_|0,_t|0,_i|0)}function L_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(3,_|0,_t|0,_i|0)}function q_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(4,_|0,_t|0,_i|0)}function E_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(5,_|0,_t|0,_i|0)}function k_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(6,_|0,_t|0,_i|0)}function j_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(7,_|0,_t|0,_i|0)}function z_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(8,_|0,_t|0,_i|0)}function W_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(9,_|0,_t|0,_i|0)}function N_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(10,_|0,_t|0,_i|0)}function O_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(11,_|0,_t|0,_i|0)}function U_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(12,_|0,_t|0,_i|0)}function X_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(13,_|0,_t|0,_i|0)}function Y_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(14,_|0,_t|0,_i|0)}function H_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(15,_|0,_t|0,_i|0)}function Z_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(16,_|0,_t|0,_i|0)}function K_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(17,_|0,_t|0,_i|0)}function Q_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(18,_|0,_t|0,_i|0)}function $_t(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,G2(19,_|0,_t|0,_i|0)}function t2t(_){_=_|0,xb[_&63]()}function e2t(){G2(0)}function o2t(){G2(1)}function i2t(){G2(2)}function r2t(){G2(3)}function n2t(){G2(4)}function s2t(){G2(5)}function _2t(){G2(6)}function a2t(){G2(7)}function p2t(){G2(8)}function l2t(){G2(9)}function c2t(){G2(10)}function m2t(){G2(11)}function b2t(){G2(12)}function u2t(){G2(13)}function h2t(){G2(14)}function d2t(){G2(15)}function y2t(){G2(16)}function x2t(){G2(17)}function f2t(){G2(18)}function g2t(){G2(19)}function v2t(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=+_s,KA[_&63](_t|0,_i|0,+_s)}function A2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(0,_|0,_t|0,+_i)}function S2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(1,_|0,_t|0,+_i)}function C2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(2,_|0,_t|0,+_i)}function B2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(3,_|0,_t|0,+_i)}function P2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(4,_|0,_t|0,+_i)}function w2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(5,_|0,_t|0,+_i)}function V2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(6,_|0,_t|0,+_i)}function D2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(7,_|0,_t|0,+_i)}function M2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(8,_|0,_t|0,+_i)}function G2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(9,_|0,_t|0,+_i)}function J2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(10,_|0,_t|0,+_i)}function I2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(11,_|0,_t|0,+_i)}function T2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(12,_|0,_t|0,+_i)}function R2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(13,_|0,_t|0,+_i)}function F2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(14,_|0,_t|0,+_i)}function L2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(15,_|0,_t|0,+_i)}function q2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(16,_|0,_t|0,+_i)}function E2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(17,_|0,_t|0,+_i)}function k2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(18,_|0,_t|0,+_i)}function j2t(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,G2(19,_|0,_t|0,+_i)}function z2t(_,_t,_i,_s,t_,n_,__){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,__=__|0,cD[_&63](_t|0,_i|0,_s|0,t_|0,n_|0,__|0)}function W2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(0,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function N2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(1,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function O2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(2,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function U2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(3,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function X2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(4,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function Y2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(5,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function H2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(6,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function Z2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(7,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function K2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(8,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function Q2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(9,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function $2t(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(10,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function tat(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(11,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function eat(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(12,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function oat(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(13,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function iat(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(14,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function rat(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(15,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function nat(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(16,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function sat(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(17,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function _at(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(18,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function aat(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,G2(19,_|0,_t|0,_i|0,_s|0,t_|0,n_|0)}function pat(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,v1[_&63](_t|0,_i|0)|0}function lat(_,_t){return _=_|0,_t=_t|0,G2(0,_|0,_t|0)|0}function cat(_,_t){return _=_|0,_t=_t|0,G2(1,_|0,_t|0)|0}function mat(_,_t){return _=_|0,_t=_t|0,G2(2,_|0,_t|0)|0}function bat(_,_t){return _=_|0,_t=_t|0,G2(3,_|0,_t|0)|0}function uat(_,_t){return _=_|0,_t=_t|0,G2(4,_|0,_t|0)|0}function hat(_,_t){return _=_|0,_t=_t|0,G2(5,_|0,_t|0)|0}function dat(_,_t){return _=_|0,_t=_t|0,G2(6,_|0,_t|0)|0}function yat(_,_t){return _=_|0,_t=_t|0,G2(7,_|0,_t|0)|0}function xat(_,_t){return _=_|0,_t=_t|0,G2(8,_|0,_t|0)|0}function fat(_,_t){return _=_|0,_t=_t|0,G2(9,_|0,_t|0)|0}function gat(_,_t){return _=_|0,_t=_t|0,G2(10,_|0,_t|0)|0}function vat(_,_t){return _=_|0,_t=_t|0,G2(11,_|0,_t|0)|0}function Aat(_,_t){return _=_|0,_t=_t|0,G2(12,_|0,_t|0)|0}function Sat(_,_t){return _=_|0,_t=_t|0,G2(13,_|0,_t|0)|0}function Cat(_,_t){return _=_|0,_t=_t|0,G2(14,_|0,_t|0)|0}function Bat(_,_t){return _=_|0,_t=_t|0,G2(15,_|0,_t|0)|0}function Pat(_,_t){return _=_|0,_t=_t|0,G2(16,_|0,_t|0)|0}function wat(_,_t){return _=_|0,_t=_t|0,G2(17,_|0,_t|0)|0}function Vat(_,_t){return _=_|0,_t=_t|0,G2(18,_|0,_t|0)|0}function Dat(_,_t){return _=_|0,_t=_t|0,G2(19,_|0,_t|0)|0}function Mat(_,_t,_i,_s,t_,n_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,BB[_&63](_t|0,_i|0,_s|0,t_|0,n_|0)|0}function Gat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(0,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Jat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(1,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Iat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(2,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Tat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(3,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Rat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(4,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Fat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(5,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Lat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(6,_|0,_t|0,_i|0,_s|0,t_|0)|0}function qat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(7,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Eat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(8,_|0,_t|0,_i|0,_s|0,t_|0)|0}function kat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(9,_|0,_t|0,_i|0,_s|0,t_|0)|0}function jat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(10,_|0,_t|0,_i|0,_s|0,t_|0)|0}function zat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(11,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Wat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(12,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Nat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(13,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Oat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(14,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Uat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(15,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Xat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(16,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Yat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(17,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Hat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(18,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Zat(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,G2(19,_|0,_t|0,_i|0,_s|0,t_|0)|0}function Kat(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,_g[_&63](_t|0,_i|0,_s|0,t_|0)}function Qat(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(0,_|0,_t|0,_i|0,_s|0)}function $at(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(1,_|0,_t|0,_i|0,_s|0)}function tpt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(2,_|0,_t|0,_i|0,_s|0)}function ept(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(3,_|0,_t|0,_i|0,_s|0)}function opt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(4,_|0,_t|0,_i|0,_s|0)}function ipt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(5,_|0,_t|0,_i|0,_s|0)}function rpt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(6,_|0,_t|0,_i|0,_s|0)}function npt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(7,_|0,_t|0,_i|0,_s|0)}function spt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(8,_|0,_t|0,_i|0,_s|0)}function _pt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(9,_|0,_t|0,_i|0,_s|0)}function apt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(10,_|0,_t|0,_i|0,_s|0)}function ppt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(11,_|0,_t|0,_i|0,_s|0)}function lpt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(12,_|0,_t|0,_i|0,_s|0)}function cpt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(13,_|0,_t|0,_i|0,_s|0)}function mpt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(14,_|0,_t|0,_i|0,_s|0)}function bpt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(15,_|0,_t|0,_i|0,_s|0)}function upt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(16,_|0,_t|0,_i|0,_s|0)}function hpt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(17,_|0,_t|0,_i|0,_s|0)}function dpt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(18,_|0,_t|0,_i|0,_s|0)}function ypt(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,G2(19,_|0,_t|0,_i|0,_s|0)}function Hy(_,_t,_i){return _=_|0,_t=_t|0,_i=_i|0,Vy(0),0}function Dy(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,Vy(1)}function m1(_,_t){return _=_|0,_t=+_t,Vy(2),0}function uA(_){_=_|0,Vy(3)}function uy(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=+t_,Vy(4),0}function ny(_,_t){_=_|0,_t=_t|0,Vy(5)}function hy(_,_t,_i,_s,t_){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,t_=t_|0,Vy(6)}function Ly(_){return _=_|0,Vy(7),0}function dy(_,_t,_i,_s){_=_|0,_t=_t|0,_i=+_i,_s=_s|0,Vy(8)}function Iy(_,_t,_i){_=_|0,_t=_t|0,_i=_i|0,Vy(9)}function My(){Vy(10)}function xpt(){z6()}function L1(_,_t,_i){_=_|0,_t=_t|0,_i=+_i,Vy(11)}function Gy(_,_t,_i,_s,t_,n_){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,n_=n_|0,Vy(12)}function Q1(_,_t){return _=_|0,_t=_t|0,Vy(13),0}function b1(_,_t,_i,_s,t_){return _=_|0,_t=_t|0,_i=_i|0,_s=_s|0,t_=t_|0,Vy(14),0}function $1(_,_t,_i,_s){_=_|0,_t=_t|0,_i=_i|0,_s=_s|0,Vy(15)}var KC=[Hy,Hy,_rt,Hy,art,Hy,prt,Hy,lrt,Hy,crt,Hy,mrt,Hy,brt,Hy,urt,Hy,hrt,Hy,drt,Hy,yrt,Hy,xrt,Hy,frt,Hy,grt,Hy,vrt,Hy,Art,Hy,Srt,Hy,Crt,Hy,Brt,Hy,Prt,Hy,Get,yot,Sot,Mot,Rot,AZ,NI,Hy,Hy,Hy,Hy,Hy,Hy,Hy,Hy,Hy,Hy,Hy,Hy,Hy,Hy,Hy],HM=[Dy,Dy,Vrt,Dy,Drt,Dy,Mrt,Dy,Grt,Dy,Jrt,Dy,Irt,Dy,Trt,Dy,Rrt,Dy,Frt,Dy,Lrt,Dy,qrt,Dy,Ert,Dy,krt,Dy,jrt,Dy,zrt,Dy,Wrt,Dy,Nrt,Dy,Ort,Dy,Urt,Dy,Xrt,Dy,Qit,Kit,Zit,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy],CC=[m1,m1,Hrt,m1,Zrt,m1,Krt,m1,Qrt,m1,$rt,m1,tnt,m1,ent,m1,ont,m1,int,m1,rnt,m1,nnt,m1,snt,m1,_nt,m1,ant,m1,pnt,m1,lnt,m1,cnt,m1,mnt,m1,bnt,m1,unt,m1,aot,lK,gK,MK,WK,tQ,lQ,tit,lit,git,Mit,m1,m1,m1,m1,m1,m1,m1,m1,m1,m1,m1],ry=[uA,uA,dnt,uA,ynt,uA,xnt,uA,fnt,uA,gnt,uA,vnt,uA,Ant,uA,Snt,uA,Cnt,uA,Bnt,uA,Pnt,uA,wnt,uA,Vnt,uA,Dnt,uA,Mnt,uA,Gnt,uA,Jnt,uA,Int,uA,Tnt,uA,Rnt,uA,vet,Aet,Det,Met,qet,Eet,Net,Oet,Xet,Yet,Zet,Ket,pot,cot,mot,uot,bot,Fet,Let,Jet,Iet,Tet,Ret,kot,Wot,Eot,Yot,PZ,wZ,GZ,JZ,FZ,LZ,jZ,zZ,UZ,XZ,KZ,QZ,oK,iK,cK,mK,bK,vK,AK,SK,GK,JK,IK,TK,RK,FK,OK,UK,XK,eQ,oQ,iQ,cQ,bQ,uQ,eit,oit,iit,cit,mit,bit,vit,Ait,Sit,Git,Jit,Iit,qit,Lit,jit,Nit,zit,Wit,Oit,Uit,Fit,uA,uA,uA],VJ=[uy,uy,Lnt,uy,qnt,uy,Ent,uy,knt,uy,jnt,uy,znt,uy,Wnt,uy,Nnt,uy,Ont,uy,Unt,uy,Xnt,uy,Ynt,uy,Hnt,uy,Znt,uy,Knt,uy,Qnt,uy,$nt,uy,tst,uy,est,uy,ost,uy,Uet,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy,uy],yy=[ny,ny,rst,ny,nst,ny,sst,ny,_st,ny,ast,ny,pst,ny,lst,ny,cst,ny,mst,ny,bst,ny,ust,ny,hst,ny,dst,ny,yst,ny,xst,ny,fst,ny,gst,ny,vst,ny,Ast,ny,Sst,ny,Vet,ket,jet,Qet,$et,tot,eot,not,sot,lot,oot,iot,Not,Oot,_K,aK,rK,nK,yK,xK,uK,hK,wK,VK,CK,BK,kK,jK,NK,LK,qK,KK,QK,YK,HK,_Q,aQ,mQ,rQ,nQ,Kot,Qot,hQ,Hot,_it,ait,rit,nit,yit,xit,uit,hit,wit,Vit,Cit,Bit,TZ,HZ,tK,EZ,NZ,CZ,DZ,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny,ny],DJ=[hy,hy,Bst,hy,Pst,hy,wst,hy,Vst,hy,Dst,hy,Mst,hy,Gst,hy,Jst,hy,Ist,hy,Tst,hy,Rst,hy,Fst,hy,Lst,hy,qst,hy,Est,hy,kst,hy,jst,hy,zst,hy,Wst,hy,Nst,hy,Pet,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy,hy],CB=[Ly,Ly,Ust,Ly,Xst,Ly,Yst,Ly,Hst,Ly,Zst,Ly,Kst,Ly,Qst,Ly,$st,Ly,t_t,Ly,e_t,Ly,o_t,Ly,i_t,Ly,r_t,Ly,n_t,Ly,s_t,Ly,__t,Ly,a_t,Ly,p_t,Ly,l_t,Ly,c_t,Ly,dot,Aot,Vot,Tot,Eit,Ly,Ly,Ly,Ly,Ly,Ly,Ly,Ly,Ly,Ly,Ly,Ly,Ly,Ly,Ly,Ly,Ly],MJ=[dy,dy,b_t,dy,u_t,dy,h_t,dy,d_t,dy,y_t,dy,x_t,dy,f_t,dy,g_t,dy,v_t,dy,A_t,dy,S_t,dy,C_t,dy,B_t,dy,P_t,dy,w_t,dy,V_t,dy,D_t,dy,M_t,dy,G_t,dy,J_t,dy,Bet,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy,dy],lD=[Iy,Iy,T_t,Iy,R_t,Iy,F_t,Iy,L_t,Iy,q_t,Iy,E_t,Iy,k_t,Iy,j_t,Iy,z_t,Iy,W_t,Iy,N_t,Iy,O_t,Iy,U_t,Iy,X_t,Iy,Y_t,Iy,H_t,Iy,Z_t,Iy,K_t,Iy,Q_t,Iy,$_t,Iy,zet,Wet,Uot,Xot,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy],xb=[My,My,e2t,My,o2t,My,i2t,My,r2t,My,n2t,My,s2t,My,_2t,My,a2t,My,p2t,My,l2t,My,c2t,My,m2t,My,b2t,My,u2t,My,h2t,My,d2t,My,y2t,My,x2t,My,f2t,My,g2t,My,xpt,Tit,Rit,My,My,My,My,My,My,My,My,My,My,My,My,My,My,My,My,My,My,My],KA=[L1,L1,A2t,L1,S2t,L1,C2t,L1,B2t,L1,P2t,L1,w2t,L1,V2t,L1,D2t,L1,M2t,L1,G2t,L1,J2t,L1,I2t,L1,T2t,L1,R2t,L1,F2t,L1,L2t,L1,q2t,L1,E2t,L1,k2t,L1,j2t,L1,_ot,got,Pot,Jot,qot,pK,fK,DK,zK,$K,pQ,$ot,pit,fit,Dit,L1,L1,L1,L1,L1,L1,L1],cD=[Gy,Gy,W2t,Gy,N2t,Gy,O2t,Gy,U2t,Gy,X2t,Gy,Y2t,Gy,H2t,Gy,Z2t,Gy,K2t,Gy,Q2t,Gy,$2t,Gy,tat,Gy,eat,Gy,oat,Gy,iat,Gy,rat,Gy,nat,Gy,sat,Gy,_at,Gy,aat,Gy,ert,trt,$it,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy],v1=[Q1,Q1,lat,Q1,cat,Q1,mat,Q1,bat,Q1,uat,Q1,hat,Q1,dat,Q1,yat,Q1,xat,Q1,fat,Q1,gat,Q1,vat,Q1,Aat,Q1,Sat,Q1,Cat,Q1,Bat,Q1,Pat,Q1,wat,Q1,Vat,Q1,Dat,Q1,Het,rot,hot,vot,wot,Iot,sK,dK,PK,EK,ZK,sQ,Zot,sit,dit,Pit,jot,Q1,Q1,Q1,Q1,Q1],BB=[b1,b1,Gat,b1,Jat,b1,Iat,b1,Tat,b1,Rat,b1,Fat,b1,Lat,b1,qat,b1,Eat,b1,kat,b1,jat,b1,zat,b1,Wat,b1,Nat,b1,Oat,b1,Uat,b1,Xat,b1,Yat,b1,Hat,b1,Zat,b1,xot,Cot,DI,Fot,IZ,YZ,$Z,qZ,WZ,SZ,VZ,b1,b1,b1,b1,b1,b1,b1,b1,b1,b1,b1],_g=[$1,$1,Qat,$1,$at,$1,tpt,$1,ept,$1,opt,$1,ipt,$1,rpt,$1,npt,$1,spt,$1,_pt,$1,apt,$1,ppt,$1,lpt,$1,cpt,$1,mpt,$1,bpt,$1,upt,$1,hpt,$1,dpt,$1,ypt,$1,Set,Cet,wet,fot,Bot,Got,Lot,BZ,MZ,RZ,kZ,OZ,ZZ,eK,Xit,Yit,Hit,$1,$1,$1,$1,$1];return{_emscripten_bind_b2WheelJoint_GetSpringDampingRatio_0:RX,_emscripten_bind_b2ContactEdge_set_next_1:K$,_emscripten_bind_b2ChainShape_get_m_count_0:NN,_emscripten_bind_b2Fixture_SetFriction_1:C8,_emscripten_bind_b2Shape_ComputeAABB_3:oH,_emscripten_bind_b2FrictionJointDef_set_userData_1:r5,_emscripten_bind_b2Vec3_get_z_0:Y_,_emscripten_bind_b2World_IsLocked_0:RL,_emscripten_bind_b2Draw_GetFlags_0:rz,_emscripten_bind_b2FrictionJoint_IsActive_0:NQ,_emscripten_bind_b2Color_set_g_1:cO,_emscripten_bind_b2WheelJointDef_get_frequencyHz_0:_7,_emscripten_bind_b2RopeJointDef_set_localAnchorA_1:ett,_emscripten_bind_b2PolygonShape_RayCast_4:HO,_emscripten_bind_b2World_GetTreeBalance_0:GL,_emscripten_bind_b2PrismaticJointDef_get_upperTranslation_0:F5,_emscripten_bind_JSDraw_DrawSolidCircle_4:dX,_emscripten_bind_b2RevoluteJoint_GetLocalAnchorA_0:m$,_emscripten_bind_b2FixtureDef_get_filter_0:TC,_emscripten_bind_b2FrictionJointDef_get_type_0:e5,_emscripten_bind_b2RevoluteJoint_GetMotorTorque_1:V$,_emscripten_bind_b2MotorJointDef_set_type_1:Mtt,_emscripten_bind_b2RayCastInput_get_p1_0:IO,_emscripten_bind_b2EdgeShape_set_m_hasVertex3_1:PU,_emscripten_bind_b2JointEdge_set_joint_1:yW,_emscripten_enum_b2ShapeType_e_polygon:ztt,_emscripten_bind_b2Fixture___destroy___0:D8,_emscripten_bind_b2PulleyJoint_SetUserData_1:cY,_emscripten_bind_b2World_SetWarmStarting_1:gL,_emscripten_bind_JSDraw_DrawCircle_3:hX,_emscripten_bind_b2WeldJoint_IsActive_0:lW,_emscripten_bind_b2DestructionListener___destroy___0:XQ,_emscripten_bind_b2BodyDef_set_type_1:UV,_emscripten_bind_b2ChainShape_ComputeAABB_3:kN,_emscripten_bind_b2MouseJointDef_set_type_1:BY,_emscripten_bind_b2JointEdge_get_prev_0:xW,_emscripten_bind_b2WeldJoint_GetReactionTorque_1:sW,_emscripten_bind_b2MotorJointDef_get_maxForce_0:Stt,_emscripten_bind_b2DistanceJointDef_get_userData_0:SH,_emscripten_bind_b2BodyDef_get_position_0:oV,_emscripten_bind_b2RopeJointDef_get_localAnchorB_0:ott,_emscripten_bind_b2RevoluteJointDef_set_userData_1:rX,_emscripten_bind_b2RevoluteJointDef_get_localAnchorA_0:LU,_emscripten_bind_b2World_SetContactFilter_1:iL,_emscripten_bind_b2WheelJointDef_get_collideConnected_0:f7,_emscripten_bind_b2MouseJointDef_set_userData_1:wY,_emscripten_bind_JSDraw_DrawSegment_3:yX,_emscripten_bind_b2FixtureDef_set_restitution_1:M1,_emscripten_bind_b2MotorJointDef_Initialize_2:xtt,_emscripten_bind_b2EdgeShape_GetChildCount_0:lU,_emscripten_bind_b2Mat33_get_ey_0:s8,_emscripten_bind_b2MouseJoint_IsActive_0:bM,_emscripten_bind_b2World_GetGravity_0:TL,_emscripten_bind_b2World_DrawDebugData_0:mL,_emscripten_bind_b2Profile_get_broadphase_0:fM,_emscripten_bind_b2PulleyJointDef_get_bodyA_0:WW,_emscripten_bind_b2PrismaticJoint_SetLimits_2:KL,_emscripten_bind_b2PulleyJointDef_get_localAnchorA_0:DW,_emscripten_bind_b2DistanceJoint_GetAnchorA_0:kV,_emscripten_bind_b2ManifoldPoint_set_tangentImpulse_1:iN,_emscripten_bind_b2PolygonShape_get_m_count_0:tU,_emscripten_bind_b2RopeJointDef_set_collideConnected_1:htt,_emscripten_bind_b2CircleShape_set_m_p_1:M7,_emscripten_bind_JSContactListener_EndContact_1:ME,_emscripten_bind_b2MassData_set_mass_1:lz,_emscripten_bind_b2Vec3_get_x_0:d_,_emscripten_bind_b2ChainShape_CreateChain_2:JN,_emscripten_bind_b2Color_get_r_0:aO,_emscripten_bind_b2World_DestroyBody_1:_L,_emscripten_bind_b2Profile_get_solvePosition_0:OV,_emscripten_bind_b2Shape_RayCast_4:eH,_emscripten_bind_b2PulleyJoint_GetGroundAnchorA_0:HX,_emscripten_bind_b2Mat33___destroy___0:p8,_emscripten_bind_b2GearJoint_GetReactionTorque_1:Ez,_emscripten_bind_b2WeldJointDef_set_collideConnected_1:ez,_emscripten_bind_b2Manifold_get_type_0:y5,_emscripten_bind_b2RevoluteJoint___destroy___0:j$,_emscripten_bind_b2PulleyJointDef_b2PulleyJointDef_0:SW,_emscripten_bind_b2World_SetAutoClearForces_1:FL,_emscripten_bind_b2PrismaticJointDef_set_lowerTranslation_1:R5,_emscripten_bind_b2BodyDef_set_position_1:iV,_emscripten_bind_b2Transform_get_q_0:PN,_emscripten_bind_b2FrictionJoint_GetMaxForce_0:GQ,_emscripten_bind_b2PolygonShape_set_m_count_1:eU,_emscripten_bind_b2Contact_GetNext_0:EY,_emscripten_bind_b2MotorJointDef_set_userData_1:Jtt,_emscripten_bind_b2EdgeShape_get_m_type_0:wU,_emscripten_bind_b2GearJoint_GetJoint1_0:Dz,_emscripten_bind_b2WheelJoint_GetMaxMotorTorque_0:MX,_emscripten_bind_b2MotorJoint_SetMaxTorque_1:Z8,_emscripten_bind_b2GearJoint_GetAnchorA_0:Fz,_emscripten_enum_b2JointType_e_mouseJoint:Ztt,_emscripten_bind_b2MouseJointDef_set_bodyA_1:DY,_emscripten_enum_b2JointType_e_revoluteJoint:Utt,_emscripten_bind_b2World_SetContactListener_1:rL,_emscripten_bind_b2Body_IsAwake_0:gZ,_emscripten_bind_b2JointEdge_set_other_1:hW,_emscripten_bind_b2RevoluteJoint_IsMotorEnabled_0:A$,_emscripten_bind_b2MouseJointDef_set_target_1:yY,_emscripten_bind_b2MotorJoint_SetCorrectionFactor_1:mA,_emscripten_bind_b2FixtureDef_get_density_0:YA,_emscripten_bind_b2ChainShape_set_m_vertices_1:WN,_emscripten_bind_b2ChainShape_get_m_vertices_0:zN,_emscripten_bind_b2Rot_set_s_1:O8,_emscripten_bind_b2MotorJointDef_get_collideConnected_0:Ltt,_emscripten_bind_b2RevoluteJoint_GetUpperLimit_0:g$,_emscripten_bind_b2WheelJointDef_set_bodyB_1:x7,_emscripten_bind_b2WheelJointDef_set_enableMotor_1:o7,_emscripten_bind_b2FixtureDef_get_userData_0:l0,_emscripten_bind_b2FrictionJointDef_set_collideConnected_1:l5,_emscripten_bind_b2PrismaticJointDef_get_lowerTranslation_0:T5,_emscripten_bind_b2GearJoint_GetCollideConnected_0:Nz,_emscripten_bind_b2RevoluteJointDef_get_upperAngle_0:XU,_emscripten_bind_b2Body_ApplyAngularImpulse_2:HH,_emscripten_enum_b2JointType_e_frictionJoint:tet,_emscripten_bind_b2RayCastOutput_set_fraction_1:gE,_emscripten_bind_b2Color_set_r_1:pO,_emscripten_bind_b2DistanceJointDef_get_length_0:hH,_emscripten_bind_b2PulleyJoint_GetBodyB_0:rY,_emscripten_bind_b2WheelJointDef_set_type_1:m7,_emscripten_bind_b2World_GetTreeQuality_0:JL,_emscripten_bind_b2BodyDef_set_gravityScale_1:iD,_emscripten_bind_b2RopeJointDef_set_bodyB_1:btt,_emscripten_bind_b2PrismaticJoint_GetLowerLimit_0:HL,_emscripten_bind_b2AABB_get_lowerBound_0:t0,_emscripten_bind_b2WheelJoint_SetMotorSpeed_1:wX,_emscripten_bind_b2PrismaticJointDef_get_referenceAngle_0:M5,_emscripten_bind_b2Body_SetMassData_1:$H,_emscripten_bind_b2BodyDef_get_angularVelocity_0:oD,_emscripten_bind_b2WeldJoint_SetDampingRatio_1:Kz,_emscripten_bind_b2PrismaticJointDef___destroy___0:tL,_emscripten_bind_b2Contact_IsTouching_0:FY,_emscripten_bind_b2Draw_SetFlags_1:iz,_emscripten_bind_b2AABB_Contains_1:Q2,_emscripten_bind_b2DistanceJoint_GetNext_0:rM,_emscripten_bind_b2GearJoint_GetReactionForce_1:qz,_emscripten_bind_b2PrismaticJoint_GetNext_0:cE,_emscripten_bind_b2Filter_get_groupIndex_0:X4,_emscripten_bind_b2PrismaticJoint_GetType_0:rE,_emscripten_bind_b2Fixture_GetRestitution_0:B8,_emscripten_bind_b2Transform_set_q_1:wN,_emscripten_bind_b2PolygonShape___destroy___0:sU,_emscripten_bind_b2AABB_get_upperBound_0:_0,_emscripten_bind_b2Transform___destroy___0:VN,_emscripten_bind_b2WeldJointDef_set_localAnchorB_1:j7,_emscripten_bind_b2CircleShape_set_m_radius_1:T7,_emscripten_bind_b2EdgeShape_set_m_hasVertex0_1:CU,_emscripten_bind_b2RopeJoint_GetMaxLength_0:xO,_emscripten_bind_b2GearJoint_GetUserData_0:jz,_emscripten_bind_b2MotorJoint_GetCollideConnected_0:ZP,_emscripten_bind_b2GearJointDef_set_type_1:o$,_emscripten_bind_b2DistanceJoint_SetDampingRatio_1:eM,_emscripten_bind_b2Contact_GetFixtureA_0:kY,_emscripten_bind_b2QueryCallback___destroy___0:_N,_emscripten_bind_b2PulleyJointDef_get_ratio_0:LW,_emscripten_bind_b2PrismaticJointDef_get_localAnchorB_0:P5,_emscripten_bind_b2CircleShape_set_m_type_1:J7,_emscripten_enum_b2ShapeType_e_typeCount:Ntt,_emscripten_bind_b2Body_SetTransform_2:RH,_emscripten_bind_b2RopeJoint_GetAnchorB_0:CO,_emscripten_bind_b2AABB_set_upperBound_1:g0,_emscripten_bind_b2MouseJointDef_get_collideConnected_0:JY,_emscripten_bind_b2ContactImpulse___destroy___0:W4,_emscripten_bind_b2PrismaticJointDef_b2PrismaticJointDef_0:A5,_emscripten_bind_b2Vec2_set_x_1:KV,_emscripten_bind_b2RayCastInput___destroy___0:EO,_emscripten_bind_b2Body_ApplyForceToCenter_2:UH,_emscripten_bind_JSDestructionListener_JSDestructionListener_0:UA,_emscripten_bind_b2WheelJointDef_set_localAnchorA_1:ZE,_emscripten_bind_b2FrictionJoint_GetBodyB_0:FQ,_emscripten_bind_b2DistanceJointDef_get_bodyA_0:BH,_emscripten_bind_b2WeldJointDef_set_bodyA_1:$7,_emscripten_bind_b2World_SetDestructionListener_1:oL,_emscripten_bind_b2RevoluteJoint_GetJointSpeed_0:d$,_emscripten_bind_b2WheelJoint_GetLocalAnchorB_0:vX,_emscripten_bind_b2JointDef___destroy___0:fN,_emscripten_bind_b2PrismaticJointDef_Initialize_4:S5,_emscripten_bind_b2FrictionJointDef_get_localAnchorA_0:SC,_emscripten_bind_b2CircleShape_GetChildCount_0:C7,_emscripten_bind_b2BodyDef_get_bullet_0:wM,_emscripten_bind_b2ManifoldPoint_get_localPoint_0:QW,_emscripten_bind_b2PrismaticJointDef_get_type_0:N5,_emscripten_bind_b2MassData_get_center_0:cz,_emscripten_bind_b2World_b2World_1:eL,_emscripten_bind_b2WheelJoint_GetReactionForce_1:jX,_emscripten_bind_b2World_SetSubStepping_1:CL,_emscripten_bind_b2Vec2_op_add_1:kM,_emscripten_bind_b2Joint_GetBodyA_0:yz,_emscripten_bind_b2Joint_GetCollideConnected_0:wz,_emscripten_bind_b2MotorJoint_GetReactionTorque_1:IS,_emscripten_bind_b2WheelJoint_IsMotorEnabled_0:BX,_emscripten_bind_b2WheelJointDef___destroy___0:v7,_emscripten_bind_b2Vec3_SetZero_0:i2,_emscripten_enum_b2JointType_e_pulleyJoint:Htt,_emscripten_bind_b2ChainShape_get_m_nextVertex_0:YN,_emscripten_bind_b2Contact_SetEnabled_1:LY,_emscripten_bind_b2Shape_set_m_radius_1:_H,_emscripten_bind_b2GearJointDef_get_joint2_0:KQ,_emscripten_bind_b2World_SetDebugDraw_1:nL,_emscripten_bind_b2ContactID_set_key_1:BE,_emscripten_bind_b2RevoluteJointDef_set_collideConnected_1:lX,_malloc:s0,_emscripten_bind_b2World_GetProxyCount_0:PL,_emscripten_bind_b2Vec2_Normalize_0:Q0,_emscripten_bind_b2WheelJoint_GetJointSpeed_0:CX,_emscripten_bind_b2FrictionJointDef_set_localAnchorA_1:$V,_emscripten_bind_b2GearJoint_GetRatio_0:Jz,_emscripten_bind_JSRayCastCallback_JSRayCastCallback_0:JM,_emscripten_bind_b2RayCastInput_set_p2_1:FO,_emscripten_bind_b2RevoluteJointDef_get_motorSpeed_0:KU,_emscripten_bind_b2RayCastOutput_get_normal_0:yE,_emscripten_bind_b2WeldJoint_GetBodyA_0:eW,_emscripten_bind_b2MotorJointDef_set_maxForce_1:Ctt,_emscripten_enum_b2DrawFlag_e_jointBit:het,_emscripten_bind_b2FixtureDef_get_isSensor_0:ZA,_emscripten_bind_b2PulleyJointDef_set_bodyB_1:UW,_emscripten_bind_b2WheelJoint_EnableMotor_1:PX,_emscripten_bind_b2WheelJoint_GetLocalAnchorA_0:gX,_emscripten_bind_JSDraw_DrawSolidPolygon_3:uX,_emscripten_bind_b2Rot_Set_1:KS,_emscripten_bind_b2ContactFeature_set_typeB_1:_J,_emscripten_bind_JSDraw___destroy___0:fX,_emscripten_bind_b2MouseJointDef___destroy___0:TY,_emscripten_bind_b2Mat33_Solve22_1:o8,_emscripten_bind_b2Profile_set_solvePosition_1:IC,_emscripten_bind_b2ContactFilter___destroy___0:z$,_emscripten_bind_b2PulleyJointDef_get_localAnchorB_0:GW,_emscripten_bind_b2ChainShape_set_m_hasPrevVertex_1:KN,_emscripten_bind_b2PrismaticJoint___destroy___0:dE,_emscripten_bind_b2World_CreateJoint_1:aL,_emscripten_bind_b2Profile_get_solveTOI_0:tD,_emscripten_bind_b2ManifoldPoint_get_id_0:rN,_emscripten_bind_b2Manifold_set_pointCount_1:g5,_emscripten_bind_b2PrismaticJoint_GetMotorSpeed_0:tE,_emscripten_bind_b2Body_SetSleepingAllowed_1:yZ,_emscripten_bind_b2Rot_SetIdentity_0:QS,_emscripten_bind_b2PulleyJoint_GetGroundAnchorB_0:ZX,_emscripten_bind_b2Vec3_op_add_1:r_,_emscripten_bind_b2FrictionJoint_GetType_0:TQ,_emscripten_bind_b2DistanceJointDef_set_dampingRatio_1:gH,_emscripten_bind_b2MotorJoint_GetBodyA_0:$8,_emscripten_bind_b2MouseJointDef_get_dampingRatio_0:AY,_emscripten_bind_b2RevoluteJoint_GetMotorSpeed_0:B$,_emscripten_bind_b2ChainShape_set_m_type_1:eO,_emscripten_bind_b2RevoluteJointDef_set_bodyB_1:aX,_emscripten_bind_b2Body_GetGravityScale_0:cZ,_emscripten_bind_b2GearJointDef_get_bodyB_0:_$,_emscripten_bind_b2Mat33_b2Mat33_0:Q6,_emscripten_bind_b2MouseJointDef_get_bodyB_0:MY,_emscripten_bind_b2Shape_TestPoint_2:tH,_emscripten_bind_b2Body_GetWorldVector_1:oZ,_emscripten_bind_b2WeldJointDef_get_frequencyHz_0:N7,_emscripten_bind_b2PolygonShape_Set_2:jO,_emscripten_bind_b2Manifold___destroy___0:v5,_emscripten_bind_b2PulleyJointDef_set_lengthA_1:TW,_emscripten_bind_b2RevoluteJointDef_set_localAnchorA_1:qU,_emscripten_bind_b2GearJoint___destroy___0:Oz,_emscripten_bind_b2RevoluteJoint_GetJointAngle_0:h$,_emscripten_bind_b2PulleyJointDef_set_ratio_1:qW,_emscripten_bind_b2JointEdge_set_prev_1:fW,_emscripten_bind_b2PrismaticJoint_GetReactionTorque_1:lE,_emscripten_bind_b2Body_GetLocalPoint_1:iZ,_emscripten_bind_b2PrismaticJoint_GetCollideConnected_0:hE,_emscripten_bind_b2RopeJointDef_get_userData_0:att,_emscripten_bind_b2DistanceJoint_IsActive_0:O4,_emscripten_bind_b2MotorJointDef_set_angularOffset_1:Att,_emscripten_bind_b2Vec2_b2Vec2_2:qM,_emscripten_bind_b2PrismaticJoint_GetJointTranslation_0:OL,_emscripten_bind_b2Vec2_b2Vec2_0:aJ,_emscripten_bind_b2DistanceJoint_GetAnchorB_0:UC,_emscripten_bind_b2WheelJointDef_get_maxMotorTorque_0:i7,_emscripten_bind_b2Vec2_op_sub_1:jM,_emscripten_bind_b2CircleShape_get_m_p_0:D7,_emscripten_bind_b2ContactFeature_get_indexA_0:HV,_emscripten_bind_b2MotorJointDef_b2MotorJointDef_0:ytt,_emscripten_bind_b2ChainShape_set_m_nextVertex_1:HN,_emscripten_bind_b2PulleyJoint_GetCollideConnected_0:bY,_emscripten_bind_b2PulleyJoint_GetAnchorB_0:sY,_emscripten_bind_b2Mat33_get_ex_0:n8,_emscripten_bind_b2Body_GetPosition_0:LH,_emscripten_bind_b2Profile___destroy___0:tV,_emscripten_bind_b2ContactEdge_get_prev_0:Y$,_emscripten_bind_b2DistanceJoint_SetFrequency_1:Y6,_emscripten_enum_b2ShapeType_e_chain:Wtt,_emscripten_enum_b2ContactFeatureType_e_vertex:fet,_emscripten_bind_b2Fixture_GetBody_0:h8,_emscripten_bind_b2ContactImpulse_set_count_1:U6,_emscripten_bind_b2PulleyJointDef_get_bodyB_0:OW,_emscripten_bind_b2Rot_set_c_1:U8,_emscripten_bind_b2RevoluteJoint_GetReactionTorque_1:R$,_emscripten_bind_b2Fixture_SetDensity_1:v8,_emscripten_bind_b2ChainShape_get_m_prevVertex_0:UN,_emscripten_bind_b2World_ClearForces_0:cL,_emscripten_bind_b2Vec3___destroy___0:U_,_emscripten_bind_b2WheelJointDef_set_userData_1:u7,_emscripten_bind_b2WeldJoint_SetFrequency_1:Hz,_emscripten_bind_JSContactListener_PreSolve_2:GE,_emscripten_bind_b2Body_SetFixedRotation_1:xQ,_emscripten_bind_b2RayCastOutput_set_normal_1:xE,_emscripten_bind_b2DistanceJoint_GetDampingRatio_0:oM,_emscripten_bind_b2WeldJointDef_set_userData_1:K7,_emscripten_bind_b2Body_GetMassData_1:QH,_emscripten_bind_b2MouseJointDef_set_bodyB_1:GY,_emscripten_bind_b2CircleShape_GetType_0:S7,_emscripten_bind_b2PolygonShape_GetType_0:UO,_emscripten_bind_b2PrismaticJointDef_set_referenceAngle_1:G5,_emscripten_bind_b2RopeJointDef_get_collideConnected_0:utt,_emscripten_bind_b2FixtureDef_set_filter_1:xP,_emscripten_bind_b2PulleyJointDef_get_groundAnchorA_0:BW,_emscripten_bind_b2Fixture_SetFilterData_1:b8,_emscripten_bind_b2FrictionJointDef_get_userData_0:i5,_emscripten_bind_b2RayCastCallback___destroy___0:Uz,_emscripten_bind_b2PulleyJointDef_set_localAnchorA_1:MW,_emscripten_bind_b2MotorJoint_SetUserData_1:$4,_emscripten_bind_b2PrismaticJoint_GetLocalAxisA_0:WL,_emscripten_bind_b2MotorJoint_GetBodyB_0:tC,_emscripten_bind_b2Transform_Set_2:SN,_emscripten_bind_b2MouseJoint_SetTarget_1:Y4,_emscripten_bind_b2RopeJointDef_get_localAnchorA_0:ttt,_emscripten_bind_b2ContactEdge_set_contact_1:X$,_emscripten_bind_b2RevoluteJointDef_get_enableLimit_0:WU,_emscripten_bind_b2CircleShape_get_m_radius_0:I7,_emscripten_bind_b2RevoluteJoint_GetUserData_0:L$,_emscripten_bind_b2Profile_set_solveTOI_1:WB,_emscripten_bind_b2PrismaticJointDef_set_type_1:O5,_emscripten_bind_b2GearJointDef_get_userData_0:i$,_emscripten_bind_b2WheelJoint_SetSpringFrequencyHz_1:JX,_emscripten_bind_b2FrictionJointDef___destroy___0:c5,_emscripten_bind_b2PrismaticJoint_GetReactionForce_1:pE,_emscripten_bind_b2Transform_b2Transform_0:gN,_emscripten_bind_b2MouseJoint_GetCollideConnected_0:z8,_emscripten_enum_b2LimitState_e_equalLimits:set,_emscripten_bind_b2ManifoldPoint_set_normalImpulse_1:eN,_emscripten_bind_b2Body_GetContactList_0:AQ,_emscripten_bind_b2Body_IsFixedRotation_0:fQ,_emscripten_enum_b2DrawFlag_e_shapeBit:uet,_emscripten_bind_b2Contact_GetFriction_0:OY,_emscripten_bind_b2WheelJoint_GetAnchorB_0:kX,_emscripten_bind_b2DistanceJointDef_set_length_1:dH,_emscripten_bind_b2DistanceJoint_GetLocalAnchorB_0:tM,_emscripten_bind_b2FrictionJoint_GetLocalAnchorB_0:DQ,_emscripten_bind_b2Mat33_set_ey_1:_8,_emscripten_bind_b2DistanceJointDef_get_type_0:vH,_emscripten_bind_b2Draw_ClearFlags_1:sz,_emscripten_bind_b2Body_IsActive_0:yQ,_emscripten_bind_b2Contact_ResetRestitution_0:HY,_emscripten_bind_b2World_GetAllowSleeping_0:fL,_emscripten_bind_b2ManifoldPoint_b2ManifoldPoint_0:KW,_emscripten_bind_b2PrismaticJointDef_set_maxMotorForce_1:j5,_emscripten_bind_b2GearJointDef_set_bodyA_1:s$,_emscripten_bind_b2RevoluteJointDef_set_enableMotor_1:ZU,_emscripten_bind_b2PulleyJoint_IsActive_0:mY,_emscripten_bind_b2MouseJoint_GetNext_0:gB,_emscripten_bind_b2Transform_set_p_1:BN,_emscripten_bind_b2EdgeShape_set_m_vertex0_1:gU,_emscripten_bind_b2PulleyJointDef_get_lengthB_0:RW,_emscripten_bind_b2WeldJoint_SetUserData_1:pW,_emscripten_bind_b2Fixture_SetSensor_1:c8,_emscripten_bind_b2GearJointDef_get_joint1_0:HQ,_emscripten_bind_b2PrismaticJoint_GetMotorForce_1:iE,_emscripten_bind_b2DistanceJoint_GetBodyA_0:Z6,_emscripten_bind_b2GearJoint_IsActive_0:Wz,_emscripten_bind_b2EdgeShape_get_m_vertex0_0:fU,_emscripten_bind_b2World_GetBodyCount_0:wL,_emscripten_bind_b2Fixture_GetMassData_1:g8,_emscripten_bind_b2WeldJointDef_get_collideConnected_0:tz,_emscripten_bind_b2FrictionJoint_GetMaxTorque_0:IQ,_emscripten_bind_b2EdgeShape_RayCast_4:mU,_emscripten_bind_b2BodyDef_set_allowSleep_1:nJ,_emscripten_bind_b2PulleyJoint_GetType_0:oY,_emscripten_bind_b2WeldJointDef_set_localAnchorA_1:E7,_emscripten_bind_b2Profile_set_step_1:$P,_emscripten_bind_b2ContactEdge_set_other_1:O$,_emscripten_bind_b2PulleyJoint_GetCurrentLengthB_0:eY,_emscripten_bind_b2Vec2_op_mul_1:zM,_emscripten_bind_b2PrismaticJointDef_get_localAnchorA_0:C5,_emscripten_bind_b2EdgeShape___destroy___0:GU,_emscripten_bind_b2RopeJoint_GetAnchorA_0:SO,_emscripten_bind_b2World_GetContactCount_0:DL,_emscripten_bind_b2MotorJointDef_set_correctionFactor_1:Vtt,_emscripten_bind_b2DistanceJointDef_set_userData_1:CH,_emscripten_bind_b2ContactEdge_get_other_0:N$,_emscripten_bind_b2RopeJoint_GetLocalAnchorB_0:dO,_emscripten_bind_b2PulleyJointDef___destroy___0:HW,_emscripten_bind_b2MouseJoint_GetBodyB_0:EB,_emscripten_bind_b2PolygonShape_TestPoint_2:YO,_emscripten_bind_b2EdgeShape_set_m_vertex3_1:AU,_emscripten_bind_b2PolygonShape_b2PolygonShape_0:kO,_emscripten_bind_b2GearJointDef_set_ratio_1:t$,_emscripten_bind_b2WheelJoint_SetMaxMotorTorque_1:DX,_emscripten_bind_b2WheelJointDef_get_localAxisA_0:$E,_emscripten_bind_b2DistanceJointDef_get_localAnchorA_0:cH,_emscripten_bind_b2MassData_set_center_1:mz,_emscripten_bind_b2Contact_SetTangentSpeed_1:ZY,_emscripten_bind_b2FrictionJointDef_get_localAnchorB_0:nD,_emscripten_bind_b2BodyDef_get_active_0:DM,_emscripten_bind_b2Body_GetAngularVelocity_0:NH,_emscripten_bind_b2WeldJoint_GetBodyB_0:oW,_emscripten_bind_b2Draw___destroy___0:_z,_emscripten_bind_b2WheelJointDef_Initialize_4:YE,_emscripten_bind_b2WeldJointDef_set_dampingRatio_1:X7,_emscripten_bind_b2Contact_IsEnabled_0:qY,_emscripten_bind_b2Joint_GetAnchorB_0:gz,_emscripten_bind_b2PrismaticJointDef_get_userData_0:U5,_emscripten_bind_b2MotorJoint_GetMaxForce_0:Yy,_emscripten_bind_b2RevoluteJoint_GetBodyA_0:M$,_emscripten_bind_b2ContactID_set_cf_1:SE,_emscripten_bind_b2Rot_GetXAxis_0:$S,_emscripten_bind_b2ContactEdge_set_prev_1:H$,_emscripten_bind_b2Vec3_Set_3:_n,_emscripten_bind_b2Fixture_GetNext_0:d8,_emscripten_bind_b2FrictionJointDef_set_localAnchorB_1:sV,_emscripten_bind_b2PulleyJoint_GetNext_0:pY,_emscripten_bind_b2ChainShape_get_m_type_0:tO,_emscripten_bind_b2GearJointDef_get_bodyA_0:n$,_emscripten_bind_b2DistanceJointDef_set_frequencyHz_1:xH,_emscripten_bind_b2RevoluteJointDef_get_localAnchorB_0:EU,_emscripten_bind_b2RevoluteJointDef_get_referenceAngle_0:jU,_emscripten_bind_JSContactFilter___destroy___0:TU,_memset:YM,_emscripten_bind_b2PolygonShape_get_m_radius_0:rU,_emscripten_bind_b2RopeJoint_GetUserData_0:VO,_emscripten_bind_b2RopeJointDef_get_bodyA_0:ltt,_emscripten_bind_b2DistanceJointDef_get_dampingRatio_0:fH,_emscripten_enum_b2ManifoldType_e_faceA:aet,_emscripten_enum_b2ManifoldType_e_faceB:pet,_emscripten_bind_b2RevoluteJointDef_get_bodyB_0:_X,_emscripten_bind_b2FixtureDef_b2FixtureDef_0:D0,_emscripten_bind_b2PrismaticJoint_SetUserData_1:bE,_emscripten_bind_b2EdgeShape_get_m_hasVertex3_0:BU,_emscripten_enum_b2ShapeType_e_edge:jtt,_emscripten_bind_b2RevoluteJoint_GetMaxMotorTorque_0:w$,_emscripten_bind_b2BodyDef_set_active_1:MM,_emscripten_bind_b2DistanceJointDef_set_localAnchorB_1:uH,_emscripten_bind_b2Body_GetWorldPoint_1:eZ,_emscripten_bind_b2ManifoldPoint_get_normalImpulse_0:tN,_emscripten_bind_JSContactFilter_ShouldCollide_2:IU,_emscripten_bind_b2Joint_GetReactionTorque_1:Az,_emscripten_bind_b2RevoluteJointDef_set_type_1:oX,_emscripten_bind_b2RopeJointDef_b2RopeJointDef_0:$$,_emscripten_bind_b2BodyDef_get_linearDamping_0:CM,_emscripten_bind_b2MotorJointDef_get_bodyB_0:Rtt,_emscripten_bind_b2World_Step_3:lL,_emscripten_bind_b2CircleShape_RayCast_4:P7,_emscripten_bind_b2Profile_get_step_0:QP,_emscripten_bind_b2Vec3_b2Vec3_0:cJ,_emscripten_bind_b2Vec3_b2Vec3_3:uS,_emscripten_bind_b2PulleyJoint_GetLengthB_0:QX,_emscripten_bind_b2Filter_set_categoryBits_1:lM,_emscripten_bind_b2MotorJoint_GetUserData_0:Q4,_emscripten_bind_b2PrismaticJoint_GetLocalAnchorA_0:jL,_emscripten_bind_b2Shape_get_m_type_0:rH,_emscripten_bind_b2MouseJoint_SetDampingRatio_1:iA,_emscripten_bind_b2World_GetAutoClearForces_0:LL,_emscripten_enum_b2ShapeType_e_circle:ktt,_emscripten_bind_b2BodyDef_set_fixedRotation_1:YV,_emscripten_bind_b2RopeJoint_GetLimitState_0:fO,_emscripten_bind_b2JointDef_get_collideConnected_0:yN,_emscripten_bind_b2Body_Dump_0:wQ,_emscripten_bind_b2RevoluteJoint_GetLowerLimit_0:f$,_emscripten_bind_b2Body_GetWorldCenter_0:EH,_emscripten_bind_JSContactListener___destroy___0:IE,_emscripten_bind_b2BodyDef_set_linearVelocity_1:XA,_emscripten_bind_b2JointDef_set_collideConnected_1:xN,_emscripten_bind_b2MotorJoint___destroy___0:KP,_emscripten_bind_b2Body_GetUserData_0:CQ,_emscripten_bind_b2World_GetContinuousPhysics_0:SL,_emscripten_bind_b2Fixture_RayCast_3:f8,_emscripten_bind_b2JointDef_set_bodyA_1:uN,_emscripten_bind_b2GearJointDef_get_collideConnected_0:p$,_emscripten_bind_b2RopeJointDef_get_maxLength_0:rtt,_emscripten_bind_b2MouseJointDef_get_bodyA_0:VY,_emscripten_bind_b2Body_SetBullet_1:hZ,_emscripten_bind_b2DistanceJoint_GetType_0:iM,_emscripten_bind_b2FixtureDef_get_restitution_0:g1,_emscripten_bind_b2Fixture_GetType_0:l8,_emscripten_bind_b2PulleyJointDef_set_localAnchorB_1:JW,_emscripten_bind_b2RevoluteJoint_GetBodyB_0:G$,_emscripten_bind_b2Profile_set_solveInit_1:oJ,_emscripten_bind_b2RopeJointDef_set_type_1:_tt,_emscripten_bind_b2PrismaticJointDef_get_bodyB_0:Z5,_emscripten_bind_b2Body_SetLinearVelocity_1:jH,_emscripten_bind_b2RevoluteJoint_GetReferenceAngle_0:u$,_emscripten_bind_b2PulleyJointDef_get_userData_0:jW,_emscripten_bind_b2PrismaticJointDef_set_bodyB_1:K5,_emscripten_bind_b2FrictionJointDef_b2FrictionJointDef_0:hS,_free:u0,_emscripten_bind_b2PulleyJoint_GetCurrentLengthA_0:tY,_emscripten_bind_b2Manifold_get_localNormal_0:b5,_emscripten_bind_b2AABB_RayCast_2:$2,_emscripten_bind_b2FixtureDef_set_isSensor_1:yP,_emscripten_bind_b2RopeJoint_GetBodyB_0:AO,_emscripten_bind_b2PrismaticJoint_GetAnchorA_0:_E,_emscripten_bind_b2ChainShape_set_m_count_1:ON,_emscripten_bind_b2PrismaticJoint_IsMotorEnabled_0:QL,_emscripten_bind_b2WeldJoint_GetFrequency_0:Zz,_emscripten_bind_b2Joint_GetUserData_0:Cz,_emscripten_bind_b2RevoluteJointDef_get_lowerAngle_0:OU,_emscripten_bind_b2Manifold_set_type_1:x5,_emscripten_bind_b2DistanceJoint_GetLength_0:X6,_emscripten_bind_b2RopeJointDef_set_maxLength_1:ntt,_emscripten_bind_b2ChainShape_TestPoint_2:qN,_emscripten_bind_b2PrismaticJoint_GetReferenceAngle_0:NL,_emscripten_bind_b2RayCastInput_get_p2_0:RO,_emscripten_bind_b2RevoluteJoint_EnableLimit_1:x$,_emscripten_bind_b2BodyDef_set_angle_1:hC,_emscripten_bind_b2WeldJoint_GetUserData_0:aW,_emscripten_bind_b2WheelJointDef_get_localAnchorA_0:HE,_emscripten_bind_b2PulleyJointDef_set_type_1:kW,_emscripten_bind_b2Body_IsBullet_0:dZ,_emscripten_bind_b2MotorJointDef_set_bodyA_1:Ttt,_emscripten_bind_b2Mat33_GetSymInverse33_1:r8,_emscripten_bind_b2Body_ApplyLinearImpulse_3:YH,_emscripten_bind_b2PolygonShape_ComputeMass_2:KO,_emscripten_bind_b2WeldJoint_GetLocalAnchorA_0:Xz,_emscripten_bind_b2MouseJoint_SetFrequency_1:k8,_emscripten_bind_b2EdgeShape_get_m_vertex1_0:hU,_emscripten_bind_b2BodyDef_set_awake_1:XV,_emscripten_bind_b2Vec2_get_y_0:lJ,_emscripten_bind_b2Body_CreateFixture_1:JH,_emscripten_bind_b2Body_CreateFixture_2:IH,_emscripten_bind_b2PulleyJoint_GetUserData_0:lY,_emscripten_bind_b2Body_SetActive_1:dQ,_emscripten_bind_b2Fixture_GetUserData_0:pM,_emscripten_bind_b2PolygonShape_ComputeAABB_3:ZO,_emscripten_bind_b2ContactFeature_get_typeA_0:RM,_emscripten_bind_b2MouseJoint_GetReactionForce_1:a1,_emscripten_bind_b2FrictionJoint_GetReactionTorque_1:kQ,_emscripten_bind_b2EdgeShape_TestPoint_2:cU,_memcpy:BS,_emscripten_bind_b2PolygonShape_get_m_centroid_0:QO,_emscripten_bind_b2ChainShape___destroy___0:rO,_emscripten_bind_b2GearJoint_SetUserData_1:zz,_emscripten_bind_b2Vec3_set_z_1:H_,_emscripten_bind_b2PrismaticJointDef_set_enableLimit_1:I5,_emscripten_bind_b2DistanceJoint_GetFrequency_0:H6,_emscripten_bind_b2Body_SetGravityScale_1:mZ,_emscripten_enum_b2ContactFeatureType_e_face:get,_emscripten_bind_b2AABB_GetPerimeter_0:R2,_emscripten_bind_b2PulleyJointDef_get_lengthA_0:IW,_emscripten_bind_b2Vec3_set_x_1:B_,_emscripten_bind_b2PulleyJointDef_get_type_0:EW,_emscripten_bind_JSDestructionListener_SayGoodbyeJoint_1:z4,_emscripten_bind_b2Shape___destroy___0:aH,_strlen:nrt,_emscripten_bind_b2Color_set_b_1:bO,_emscripten_bind_b2Joint_GetReactionForce_1:vz,_emscripten_bind_b2FixtureDef_set_friction_1:Cy,_emscripten_bind_b2ContactID___destroy___0:PE,_emscripten_bind_b2EdgeShape_get_m_hasVertex0_0:SU,_emscripten_bind_JSRayCastCallback_ReportFixture_4:IM,_emscripten_bind_b2MotorJointDef_get_linearOffset_0:ftt,_emscripten_bind_b2Profile_set_solveVelocity_1:xM,_emscripten_bind_b2PrismaticJoint_GetAnchorB_0:aE,_emscripten_bind_b2WeldJointDef_b2WeldJointDef_0:F7,_emscripten_enum_b2BodyType_b2_staticBody:cet,_emscripten_bind_b2RevoluteJointDef_set_upperAngle_1:YU,_emscripten_bind_b2RevoluteJointDef_get_type_0:eX,_emscripten_bind_b2GearJointDef_get_type_0:e$,_emscripten_bind_b2ChainShape_GetType_0:FN,_emscripten_bind_b2RayCastInput_get_maxFraction_0:LO,_emscripten_bind_b2GearJoint_GetBodyA_0:Tz,_emscripten_bind_b2Body_GetLocalVector_1:rZ,_emscripten_bind_b2PrismaticJoint_EnableLimit_1:YL,_emscripten_bind_b2FrictionJointDef_get_maxForce_0:_V,_emscripten_bind_b2BodyDef_set_angularVelocity_1:SM,_emscripten_bind_b2Body_SetLinearDamping_1:aZ,_emscripten_bind_b2WheelJoint_GetBodyB_0:qX,_emscripten_bind_b2Color___destroy___0:uO,_emscripten_bind_b2PrismaticJoint_IsActive_0:uE,_emscripten_bind_b2Filter_get_categoryBits_0:G8,_emscripten_enum_b2JointType_e_weldJoint:$tt,_emscripten_bind_b2World_SetContinuousPhysics_1:AL,_emscripten_bind_b2MouseJointDef_get_target_0:dY,_emscripten_bind_b2Manifold_b2Manifold_0:m5,_emscripten_bind_b2PulleyJointDef_set_userData_1:zW,_emscripten_bind_b2FrictionJointDef_set_maxForce_1:t4,_emscripten_bind_b2DistanceJointDef_b2DistanceJointDef_0:pH,_emscripten_bind_b2PolygonShape_set_m_centroid_1:$O,_emscripten_bind_b2Mat33_GetInverse22_1:i8,_emscripten_bind_b2PolygonShape_SetAsBox_4:WO,_emscripten_bind_b2EdgeShape_get_m_vertex2_0:yU,_emscripten_bind_b2WheelJoint_GetReactionTorque_1:zX,_emscripten_bind_b2RevoluteJointDef_b2RevoluteJointDef_0:RU,_emscripten_bind_b2ContactFeature_set_typeA_1:FM,_emscripten_bind_b2Fixture_Dump_1:V8,_emscripten_bind_b2World_GetJointList_0:dL,_emscripten_bind_b2Manifold_set_localPoint_1:d5,_emscripten_bind_b2DistanceJoint_SetUserData_1:N4,_emscripten_bind_b2BodyDef_set_bullet_1:VM,_emscripten_bind_b2RayCastOutput___destroy___0:vE,___cxa_can_catch:ort,_emscripten_bind_b2WheelJoint_GetNext_0:WX,_emscripten_bind_b2AABB_GetCenter_0:g2,_emscripten_bind_b2Filter_set_groupIndex_1:T8,_emscripten_bind_b2JointDef_b2JointDef_0:aN,_emscripten_bind_b2CircleShape_b2CircleShape_0:A7,_emscripten_bind_b2GearJointDef_b2GearJointDef_0:YQ,_emscripten_bind_b2JointDef_get_bodyB_0:hN,_emscripten_bind_b2DistanceJoint_GetReactionForce_1:XC,_emscripten_bind_b2PrismaticJoint_GetJointSpeed_0:UL,_emscripten_bind_b2PulleyJointDef_get_groundAnchorB_0:wW,_emscripten_bind_b2Joint_GetAnchorA_0:fz,_emscripten_bind_b2Contact_GetRestitution_0:YY,_emscripten_bind_b2ContactEdge_get_contact_0:U$,_emscripten_bind_b2RevoluteJointDef_get_userData_0:iX,_emscripten_bind_b2Body_ApplyTorque_2:XH,_emscripten_bind_b2Fixture_GetAABB_1:w8,_emscripten_bind_b2DistanceJointDef_Initialize_4:lH,_emscripten_bind_b2PrismaticJointDef_set_collideConnected_1:$5,_emscripten_bind_b2PrismaticJointDef_set_localAxisA_1:D5,_emscripten_bind_b2Contact_GetTangentSpeed_0:KY,_emscripten_enum_b2LimitState_e_atLowerLimit:ret,_emscripten_bind_b2ManifoldPoint_set_id_1:nN,_emscripten_bind_b2WheelJointDef_get_bodyB_0:y7,_emscripten_bind_b2WeldJoint_GetLocalAnchorB_0:Yz,_emscripten_bind_b2RevoluteJointDef_set_localAnchorB_1:kU,_emscripten_bind_b2RevoluteJoint_GetType_0:D$,_emscripten_bind_b2Body_DestroyFixture_1:TH,_emscripten_bind_b2Profile_set_broadphase_1:gM,_emscripten_bind_b2WheelJointDef_get_localAnchorB_0:KE,_emscripten_bind_b2ContactImpulse_get_count_0:O6,_emscripten_bind_b2World_GetJointCount_0:VL,_emscripten_bind_b2WheelJoint_GetMotorSpeed_0:VX,_emscripten_bind_b2Body_GetAngularDamping_0:pZ,_emscripten_bind_b2WheelJointDef_get_dampingRatio_0:p7,_emscripten_bind_b2RayCastOutput_get_fraction_0:fE,_emscripten_enum_b2ManifoldType_e_circles:_et,_emscripten_bind_b2GearJoint_SetRatio_1:Gz,_emscripten_bind_JSDraw_DrawPolygon_3:bX,_emscripten_bind_b2Filter___destroy___0:R8,_emscripten_bind_b2JointEdge_set_next_1:vW,___cxa_is_pointer_type:irt,_emscripten_bind_b2BodyDef_get_fixedRotation_0:PM,_emscripten_bind_b2PrismaticJointDef_set_motorSpeed_1:W5,_emscripten_bind_b2ChainShape_SetPrevVertex_1:IN,_emscripten_bind_b2MotorJoint_IsActive_0:eC,_emscripten_bind_b2MouseJoint_GetReactionTorque_1:AC,_emscripten_bind_b2MouseJoint_GetUserData_0:mM,_emscripten_bind_b2WheelJoint_GetUserData_0:NX,_emscripten_bind_b2Vec3_op_sub_1:p_,_emscripten_bind_b2BodyDef_get_gravityScale_0:NB,_emscripten_bind_b2Shape_GetType_0:QY,_emscripten_bind_b2AABB_IsValid_0:a2,_emscripten_bind_b2WheelJoint_GetBodyA_0:LX,_emscripten_bind_JSDraw_DrawTransform_1:xX,_emscripten_bind_b2PulleyJoint_GetLengthA_0:KX,_emscripten_bind_b2DistanceJointDef_get_frequencyHz_0:yH,_emscripten_bind_b2RevoluteJoint_SetMotorSpeed_1:C$,_emscripten_bind_b2World___destroy___0:kL,_emscripten_bind_b2ChainShape_get_m_hasNextVertex_0:QN,_emscripten_bind_b2ChainShape_SetNextVertex_1:TN,_emscripten_bind_b2Body_SetType_1:bZ,_emscripten_bind_b2Body_GetMass_0:ZH,_emscripten_bind_b2Rot_b2Rot_0:W8,_emscripten_bind_b2Rot_b2Rot_1:Z4,_emscripten_enum_b2JointType_e_distanceJoint:Ytt,_emscripten_bind_b2PulleyJoint___destroy___0:uY,_emscripten_bind_b2PrismaticJoint_GetLocalAnchorB_0:zL,_emscripten_bind_b2MouseJoint_GetType_0:H4,_emscripten_bind_JSQueryCallback___destroy___0:q8,_emscripten_bind_b2RevoluteJointDef_set_lowerAngle_1:UU,_emscripten_bind_b2JointEdge___destroy___0:AW,_emscripten_bind_b2PulleyJoint_GetRatio_0:$X,_emscripten_bind_JSContactListener_BeginContact_1:DE,_emscripten_bind_b2MotorJointDef_set_linearOffset_1:gtt,_emscripten_enum_b2JointType_e_motorJoint:oet,_emscripten_bind_b2JointEdge_get_next_0:gW,_emscripten_bind_b2RayCastInput_set_maxFraction_1:qO,_emscripten_bind_b2MouseJoint_GetBodyA_0:WV,_emscripten_bind_b2Profile_set_collide_1:jB,_emscripten_bind_b2AABB_b2AABB_0:$_,_emscripten_bind_b2Fixture_Refilter_0:jV,_emscripten_bind_b2World_CreateBody_1:sL,_emscripten_bind_b2RopeJointDef_set_userData_1:ptt,_emscripten_bind_b2Fixture_IsSensor_0:m8,_emscripten_bind_b2WeldJoint_GetType_0:tW,_emscripten_bind_b2PrismaticJointDef_get_motorSpeed_0:z5,_emscripten_bind_b2Rot___destroy___0:K1,_emscripten_bind_b2Filter_get_maskBits_0:J8,_emscripten_bind_b2Mat22_get_ex_0:zE,_emscripten_bind_b2Body_GetFixtureList_0:gQ,_emscripten_bind_b2RevoluteJointDef_get_enableMotor_0:HU,_emscripten_bind_b2MouseJointDef_set_dampingRatio_1:SY,_emscripten_bind_JSRayCastCallback___destroy___0:TM,_emscripten_bind_b2ContactListener___destroy___0:ZW,_emscripten_bind_b2PrismaticJointDef_set_localAnchorB_1:w5,_emscripten_enum_b2DrawFlag_e_pairBit:yet,_emscripten_bind_b2FrictionJoint___destroy___0:UQ,_emscripten_bind_b2WeldJoint_Dump_0:$z,_emscripten_bind_b2MotorJoint_SetMaxForce_1:H8,_emscripten_bind_b2FrictionJointDef_get_maxTorque_0:e4,_emscripten_bind_b2FrictionJoint_GetLocalAnchorA_0:VQ,_emscripten_bind_b2WeldJointDef_get_localAnchorB_0:k7,_emscripten_bind_b2PrismaticJointDef_get_bodyA_0:Y5,_emscripten_bind_b2Vec2_IsValid_0:WM,_emscripten_bind_b2PrismaticJointDef_set_bodyA_1:H5,_emscripten_bind_b2World_GetWarmStarting_0:vL,_emscripten_bind_b2RevoluteJointDef_set_enableLimit_1:NU,_emscripten_bind_b2WeldJointDef___destroy___0:oz,_emscripten_bind_b2Mat22_Solve_1:jE,_emscripten_bind_b2Color_get_g_0:lO,_emscripten_bind_VoidPtr___destroy___0:eV,_emscripten_bind_b2RopeJoint_GetNext_0:wO,_emscripten_bind_b2Filter_b2Filter_0:M8,_emscripten_bind_b2PolygonShape_GetChildCount_0:XO,_emscripten_bind_b2GearJointDef_get_ratio_0:$Q,_emscripten_bind_b2Mat33_Solve33_1:e8,_emscripten_bind_b2PulleyJoint_GetReactionForce_1:_Y,_emscripten_bind_b2WheelJoint_GetCollideConnected_0:XX,_emscripten_bind_b2WheelJoint_SetSpringDampingRatio_1:TX,_emscripten_bind_b2RevoluteJointDef___destroy___0:cX,_emscripten_bind_b2MouseJointDef_get_maxForce_0:xY,_emscripten_bind_b2RevoluteJoint_EnableMotor_1:S$,_emscripten_bind_b2ContactFeature_get_typeB_0:rD,_emscripten_bind_b2MotorJoint_SetLinearOffset_1:X8,_emscripten_bind_b2MotorJoint_GetReactionForce_1:eJ,_emscripten_bind_b2Rot_GetAngle_0:uM,_emscripten_bind_b2World_SetAllowSleeping_1:xL,_emscripten_bind_b2MotorJoint_SetAngularOffset_1:Y8,_emscripten_bind_b2MotorJoint_GetLinearOffset_0:HC,_emscripten_bind_b2FrictionJoint_GetCollideConnected_0:OQ,_emscripten_bind_b2WheelJointDef_set_motorSpeed_1:s7,_emscripten_bind_b2MotorJoint_GetAnchorA_0:tJ,_emscripten_bind_b2Fixture_GetDensity_0:A8,_emscripten_bind_b2PolygonShape_get_m_type_0:oU,_emscripten_bind_b2Vec2_Set_2:EM,_emscripten_bind_b2WeldJointDef_get_type_0:Y7,_emscripten_bind_b2MouseJointDef_b2MouseJointDef_0:hY,_emscripten_bind_b2Rot_get_s_0:hM,_emscripten_bind_b2FrictionJoint_SetMaxTorque_1:JQ,_emscripten_bind_b2MouseJointDef_get_frequencyHz_0:gY,_emscripten_bind_b2FrictionJoint_SetUserData_1:WQ,_emscripten_bind_b2FixtureDef_set_userData_1:W0,_emscripten_bind_b2JointDef_get_userData_0:cN,_emscripten_bind_b2DistanceJointDef_get_collideConnected_0:DH,_emscripten_bind_b2RevoluteJointDef_set_referenceAngle_1:zU,_emscripten_bind_b2ContactFeature___destroy___0:LM,_emscripten_bind_b2DistanceJointDef_set_bodyB_1:VH,_emscripten_bind_JSQueryCallback_JSQueryCallback_0:F8,_emscripten_bind_b2ChainShape_GetChildCount_0:LN,_emscripten_bind_b2MassData_b2MassData_0:az,_emscripten_bind_b2Vec3_set_y_1:E_,_emscripten_bind_b2AABB_Combine_1:W2,_emscripten_bind_b2AABB_Combine_2:z2,_emscripten_bind_b2PrismaticJoint_GetBodyA_0:nE,_emscripten_bind_b2PrismaticJoint_GetMaxMotorForce_0:oE,_emscripten_bind_b2AABB___destroy___0:b0,_emscripten_bind_b2Body_IsSleepingAllowed_0:xZ,_emscripten_bind_b2MouseJointDef_set_maxForce_1:fY,_emscripten_bind_b2MotorJoint_GetCorrectionFactor_0:Q8,_emscripten_bind_b2Profile_get_solve_0:zB,_emscripten_bind_JSDestructionListener_SayGoodbyeFixture_1:HP,_emscripten_bind_b2PolygonShape_GetVertexCount_0:NO,_emscripten_bind_b2Rot_get_c_0:YC,_emscripten_bind_b2AABB_set_lowerBound_1:p0,_emscripten_bind_b2ChainShape_get_m_hasPrevVertex_0:ZN,_emscripten_bind_b2MouseJoint_SetMaxForce_1:cM,_emscripten_bind_b2FrictionJointDef_get_bodyB_0:_5,_emscripten_bind_b2JointDef_set_userData_1:mN,_emscripten_bind_b2ManifoldPoint_get_tangentImpulse_0:oN,_emscripten_bind_b2RevoluteJointDef_get_maxMotorTorque_0:$U,_emscripten_bind_b2WeldJointDef_get_dampingRatio_0:U7,_emscripten_bind_b2MouseJoint___destroy___0:sS,_emscripten_bind_b2EdgeShape_b2EdgeShape_0:_U,_emscripten_bind_b2FrictionJoint_GetReactionForce_1:EQ,_emscripten_bind_b2DistanceJointDef_set_type_1:AH,_emscripten_bind_b2WeldJoint___destroy___0:mW,_emscripten_bind_JSContactListener_PostSolve_2:JE,_emscripten_bind_b2PulleyJoint_GetBodyA_0:iY,_emscripten_bind_b2RopeJointDef_get_type_0:stt,_emscripten_bind_b2CircleShape_ComputeMass_2:V7,_emscripten_bind_b2DistanceJointDef_get_localAnchorB_0:bH,_emscripten_bind_b2GearJointDef___destroy___0:c$,_emscripten_bind_b2RevoluteJointDef_set_bodyA_1:sX,_emscripten_enum_b2BodyType_b2_dynamicBody:bet,_emscripten_bind_b2CircleShape_TestPoint_2:B7,_emscripten_bind_b2MotorJointDef_get_maxTorque_0:Btt,_emscripten_bind_b2Body_GetLinearVelocityFromLocalPoint_1:sZ,_emscripten_bind_b2Mat22_b2Mat22_0:TE,_emscripten_bind_b2MouseJoint_GetAnchorB_0:N0,_emscripten_enum_b2BodyType_b2_kinematicBody:met,_emscripten_bind_b2Manifold_get_localPoint_0:h5,_emscripten_bind_b2GearJoint_GetBodyB_0:Rz,_emscripten_bind_b2ChainShape_Clear_0:MN,_emscripten_bind_b2CircleShape___destroy___0:R7,_emscripten_bind_b2MotorJoint_GetType_0:xA,_emscripten_bind_b2BodyDef_get_awake_0:oC,_emscripten_bind_b2Contact_SetRestitution_1:XY,_emscripten_bind_b2BodyDef_get_angularDamping_0:rV,_emscripten_bind_b2EdgeShape_get_m_vertex3_0:vU,_emscripten_bind_b2Fixture_SetUserData_1:y8,_emscripten_bind_b2Transform_SetIdentity_0:AN,_emscripten_bind_b2GearJointDef_set_joint1_1:ZQ,_emscripten_bind_b2EdgeShape_set_m_vertex2_1:xU,_emscripten_bind_b2ContactEdge_get_next_0:Z$,_emscripten_bind_b2ContactFeature_set_indexB_1:OB,_emscripten_bind_b2Body_GetLinearVelocityFromWorldPoint_1:nZ,_emscripten_bind_b2WeldJoint_GetCollideConnected_0:cW,_emscripten_bind_b2Mat22_set_ey_1:OE,_emscripten_bind_b2WheelJointDef_set_frequencyHz_1:a7,_emscripten_bind_b2World_GetSubStepping_0:BL,_emscripten_bind_b2Rot_GetYAxis_0:N8,_emscripten_bind_b2Contact_GetChildIndexB_0:WY,_emscripten_bind_b2DistanceJoint___destroy___0:K6,_emscripten_bind_b2EdgeShape_GetType_0:pU,_emscripten_bind_b2WheelJointDef_set_dampingRatio_1:l7,_emscripten_bind_b2ManifoldPoint___destroy___0:sN,_emscripten_enum_b2JointType_e_prismaticJoint:Xtt,_emscripten_bind_b2MotorJoint_GetNext_0:K4,_emscripten_bind_b2Vec2_Length_0:UB,_emscripten_bind_b2Vec2_SetZero_0:ZV,_emscripten_bind_b2RopeJoint___destroy___0:JO,_emscripten_bind_b2World_DestroyJoint_1:pL,_emscripten_bind_b2JointDef_set_bodyB_1:dN,_emscripten_bind_b2Mat22_Set_2:LE,_emscripten_bind_b2Body_GetType_0:uZ,_emscripten_bind_b2WeldJoint_GetAnchorB_0:rW,_emscripten_bind_b2WeldJoint_GetNext_0:_W,_emscripten_bind_b2Shape_get_m_radius_0:sH,_emscripten_bind_b2EdgeShape_ComputeAABB_3:bU,_emscripten_bind_b2BodyDef_get_type_0:eD,_emscripten_bind_b2WheelJointDef_set_collideConnected_1:g7,_emscripten_bind_JSDestructionListener___destroy___0:N6,_emscripten_bind_b2MotorJointDef_get_type_0:Dtt,_emscripten_bind_b2RopeJoint_GetLocalAnchorA_0:hO,_emscripten_bind_b2BodyDef_set_linearDamping_1:BM,_emscripten_bind_b2FrictionJoint_GetUserData_0:zQ,_emscripten_bind_b2Contact_SetFriction_1:NY,_emscripten_bind_b2Manifold_set_localNormal_1:u5,_emscripten_bind_b2JointDef_get_bodyA_0:bN,_emscripten_bind_b2Body_GetLinearDamping_0:_Z,_emscripten_bind_b2WeldJointDef_set_frequencyHz_1:O7,_emscripten_bind_b2Body_ResetMassData_0:tZ,_emscripten_bind_b2PrismaticJointDef_set_enableMotor_1:E5,_emscripten_enum_b2JointType_e_wheelJoint:Qtt,_emscripten_bind_b2Vec2_Skew_0:dP,_emscripten_bind_b2MouseJoint_GetDampingRatio_0:j8,_emscripten_bind_b2RevoluteJoint_GetAnchorA_0:J$,_emscripten_bind_b2ChainShape_set_m_prevVertex_1:XN,_emscripten_bind_b2WheelJoint_GetAnchorA_0:EX,_emscripten_bind_b2MotorJoint_GetMaxTorque_0:K8,_emscripten_bind_b2FrictionJoint_GetNext_0:jQ,_emscripten_bind_b2PrismaticJointDef_set_userData_1:X5,_emscripten_bind_b2FrictionJointDef_set_type_1:o5,_emscripten_bind_b2PrismaticJoint_GetUserData_0:mE,_emscripten_bind_b2FrictionJointDef_get_collideConnected_0:p5,_emscripten_bind_b2Body_GetInertia_0:KH,_emscripten_bind_b2WeldJointDef_set_referenceAngle_1:W7,_emscripten_bind_b2FrictionJoint_GetAnchorA_0:LQ,_emscripten_bind_b2RopeJoint_GetType_0:gO,_emscripten_bind_b2MassData_get_I_0:bz,_emscripten_bind_b2WheelJointDef_get_motorSpeed_0:n7,_emscripten_bind_b2WeldJointDef_get_referenceAngle_0:z7,_emscripten_enum_b2JointType_e_ropeJoint:eet,_emscripten_bind_b2Filter_set_maskBits_1:I8,_emscripten_bind_b2EdgeShape_set_m_radius_1:MU,_emscripten_bind_b2MotorJointDef_set_collideConnected_1:qtt,_emscripten_bind_b2Mat22_b2Mat22_2:RE,_emscripten_bind_b2WheelJointDef_set_maxMotorTorque_1:r7,_emscripten_bind_b2FrictionJointDef_set_bodyB_1:a5,_emscripten_bind_b2Mat22_b2Mat22_4:FE,_emscripten_bind_b2ChainShape_set_m_hasNextVertex_1:$N,_emscripten_bind_b2Mat22_GetInverse_0:kE,_emscripten_bind_b2PrismaticJoint_EnableMotor_1:$L,_emscripten_bind_b2CircleShape_get_m_type_0:G7,_emscripten_bind_b2DistanceJoint_GetLocalAnchorA_0:MA,_emscripten_bind_b2ContactEdge_b2ContactEdge_0:W$,_emscripten_bind_b2BodyDef___destroy___0:GM,_emscripten_bind_b2FrictionJointDef_set_maxTorque_1:mJ,_emscripten_bind_b2PolygonShape_GetVertex_1:OO,_emscripten_bind_b2PulleyJointDef_set_groundAnchorB_1:VW,_emscripten_bind_b2RevoluteJointDef_get_collideConnected_0:pX,_emscripten_bind_b2DistanceJointDef_set_bodyA_1:PH,_emscripten_bind_b2RevoluteJoint_SetLimits_2:v$,_emscripten_bind_b2WeldJointDef_set_type_1:H7,_emscripten_bind_b2MotorJointDef___destroy___0:Ett,_emscripten_bind_b2FixtureDef_set_density_1:HA,_emscripten_bind_b2Shape_set_m_type_1:nH,_emscripten_bind_b2WheelJoint_GetJointTranslation_0:SX,_emscripten_bind_b2WheelJoint_GetMotorTorque_1:GX,_emscripten_bind_b2RopeJoint_SetUserData_1:DO,_emscripten_bind_b2RopeJointDef___destroy___0:dtt,_emscripten_bind_b2WheelJoint_IsActive_0:UX,_emscripten_bind_b2PrismaticJointDef_get_enableMotor_0:q5,_emscripten_bind_b2MotorJointDef_set_bodyB_1:Ftt,_emscripten_bind_b2Transform_b2Transform_2:vN,_emscripten_bind_b2WeldJoint_GetReactionForce_1:nW,_emscripten_bind_b2ChainShape_RayCast_4:EN,_emscripten_bind_b2PrismaticJoint_GetUpperLimit_0:ZL,_emscripten_bind_b2ContactID_get_cf_0:AE,_emscripten_bind_b2MouseJointDef_set_frequencyHz_1:vY,_emscripten_bind_b2ChainShape_get_m_radius_0:oO,_emscripten_bind_b2Body_GetLinearVelocity_0:zH,_emscripten_bind_b2ChainShape_set_m_radius_1:iO,_emscripten_bind_b2DistanceJoint_GetReactionTorque_1:hP,_emscripten_bind_b2World_Dump_0:EL,_emscripten_bind_b2RevoluteJoint_GetLocalAnchorB_0:b$,_emscripten_bind_JSContactFilter_JSContactFilter_0:JU,_emscripten_bind_b2Profile_set_solve_1:dM,_emscripten_bind_b2WeldJoint_GetDampingRatio_0:Qz,_emscripten_bind_b2Color_get_b_0:mO,_emscripten_bind_b2MouseJointDef_get_userData_0:PY,_emscripten_bind_b2CircleShape_ComputeAABB_3:w7,_emscripten_bind_b2RopeJoint_GetReactionForce_1:BO,_emscripten_bind_b2PrismaticJointDef_get_enableLimit_0:J5,_emscripten_bind_b2ManifoldPoint_set_localPoint_1:$W,_emscripten_bind_b2Fixture_GetFilterData_0:u8,_emscripten_bind_b2World_GetBodyList_0:hL,_emscripten_bind_b2Shape_ComputeMass_2:iH,_emscripten_bind_b2Joint_GetNext_0:Sz,_emscripten_bind_b2PrismaticJointDef_get_collideConnected_0:Q5,_emscripten_bind_b2World_RayCast_3:uL,_emscripten_bind_b2MassData_set_I_1:uz,_emscripten_bind_b2MassData___destroy___0:hz,_emscripten_bind_b2Profile_get_collide_0:_w,_emscripten_bind_b2Color_b2Color_3:sO,_emscripten_bind_b2Color_b2Color_0:nO,_emscripten_bind_b2MouseJoint_GetFrequency_0:zV,_emscripten_bind_b2WeldJointDef_Initialize_3:L7,_emscripten_bind_b2Shape_GetChildCount_0:$Y,_emscripten_enum_b2JointType_e_gearJoint:Ktt,_emscripten_bind_b2FixtureDef_get_friction_0:j0,_emscripten_bind_b2PrismaticJointDef_set_localAnchorA_1:B5,_emscripten_bind_b2Contact_GetManifold_0:RY,_emscripten_bind_b2MouseJoint_GetTarget_0:ZS,_emscripten_bind_b2WeldJointDef_get_localAnchorA_0:q7,_emscripten_bind_b2MouseJoint_SetUserData_1:kB,_emscripten_bind_b2JointEdge_get_other_0:uW,_emscripten_bind_b2ChainShape_GetChildEdge_2:RN,_emscripten_bind_b2GearJointDef_set_collideConnected_1:l$,_emscripten_bind_b2MotorJointDef_get_angularOffset_0:vtt,_emscripten_bind_b2WheelJoint_SetUserData_1:OX,_emscripten_bind_b2Body_ApplyForce_3:OH,_emscripten_bind_b2PrismaticJoint_SetMotorSpeed_1:_q,_emscripten_bind_b2DistanceJoint_GetCollideConnected_0:sM,_emscripten_bind_b2MouseJoint_GetMaxForce_0:E8,_emscripten_bind_b2World_SetGravity_1:IL,_emscripten_bind_b2Mat22_SetZero_0:EE,_emscripten_bind_b2Contact_GetChildIndexA_0:jY,_emscripten_bind_b2Fixture_SetRestitution_1:P8,_emscripten_bind_b2Body_GetTransform_0:FH,_emscripten_bind_b2ContactEdge___destroy___0:Q$,_emscripten_bind_b2Mat33_set_ex_1:U4,_emscripten_bind_b2AABB_GetExtents_0:M2,_emscripten_bind_b2RevoluteJointDef_get_bodyA_0:nX,_emscripten_bind_b2PrismaticJoint_GetBodyB_0:sE,_emscripten_bind_b2WheelJointDef_set_bodyA_1:d7,_emscripten_bind_b2DistanceJointDef_set_collideConnected_1:MH,_emscripten_bind_b2BodyDef_get_angle_0:AM,_emscripten_bind_b2PulleyJoint_GetReactionTorque_1:aY,_emscripten_bind_b2FixtureDef_get_shape_0:E0,_emscripten_bind_b2WeldJointDef_get_userData_0:Z7,_emscripten_bind_b2FrictionJoint_SetMaxForce_1:MQ,_emscripten_bind_b2Mat33_b2Mat33_3:$6,_emscripten_bind_b2Vec3_get_y_0:T_,_emscripten_bind_b2JointDef_get_type_0:pN,_emscripten_bind_JSQueryCallback_ReportFixture_1:L8,_emscripten_bind_b2Fixture_TestPoint_1:x8,_emscripten_bind_b2RevoluteJoint_GetCollideConnected_0:k$,_emscripten_bind_JSDraw_JSDraw_0:mX,_emscripten_bind_b2MouseJoint_GetAnchorA_0:nS,_emscripten_bind_b2Transform_get_p_0:CN,_emscripten_bind_b2EdgeShape_ComputeMass_2:uU,_emscripten_bind_b2World_GetProfile_0:qL,_emscripten_bind_b2DistanceJointDef___destroy___0:GH,_emscripten_bind_b2RopeJointDef_set_bodyA_1:ctt,_emscripten_bind_b2JointDef_set_type_1:lN,_emscripten_bind_b2Draw_AppendFlags_1:nz,_emscripten_bind_b2MotorJointDef_get_userData_0:Gtt,_emscripten_bind_b2World_GetContactList_0:yL,_emscripten_bind_b2Mat33_set_ez_1:a8,_emscripten_bind_b2JointEdge_b2JointEdge_0:bW,_emscripten_bind_b2FrictionJointDef_get_bodyA_0:n5,_emscripten_bind_b2WheelJointDef_get_type_0:c7,_emscripten_bind_b2RevoluteJoint_GetReactionForce_1:T$,_emscripten_bind_b2PulleyJointDef_set_collideConnected_1:YW,_emscripten_bind_b2RopeJoint_GetCollideConnected_0:GO,_emscripten_bind_b2GearJointDef_set_joint2_1:QQ,_emscripten_bind_b2BodyDef_set_userData_1:sJ,_emscripten_bind_b2GearJoint_GetAnchorB_0:Lz,_emscripten_bind_b2RopeJoint_IsActive_0:MO,_emscripten_bind_b2Fixture_GetFriction_0:S8,_emscripten_enum_b2DrawFlag_e_aabbBit:det,_emscripten_bind_b2RevoluteJointDef_Initialize_3:FU,_emscripten_bind_b2Body_GetAngle_0:qH,_emscripten_bind_b2EdgeShape_Set_2:aU,_emscripten_bind_b2Mat33_SetZero_0:t8,_emscripten_bind_b2MotorJointDef_set_maxTorque_1:Ptt,_emscripten_bind_b2PrismaticJointDef_get_localAxisA_0:V5,_emscripten_bind_b2Mat22_get_ey_0:NE,_emscripten_bind_b2Mat22_SetIdentity_0:qE,_emscripten_bind_b2Joint_IsActive_0:Pz,_emscripten_bind_b2BodyDef_get_allowSleep_0:rJ,_emscripten_bind_b2World_GetTreeHeight_0:ML,_emscripten_bind_b2GearJoint_GetJoint2_0:Mz,_emscripten_bind_b2EdgeShape_set_m_vertex1_1:dU,_emscripten_bind_b2Body_GetWorld_0:PQ,_emscripten_enum_b2LimitState_e_inactiveLimit:iet,_emscripten_bind_b2PulleyJointDef_set_lengthB_1:FW,_emscripten_bind_b2Body_SetAwake_1:fZ,_emscripten_bind_b2PrismaticJointDef_set_upperTranslation_1:L5,_emscripten_bind_b2Vec2___destroy___0:QV,_emscripten_bind_b2RayCastInput_set_p1_1:TO,_emscripten_bind_b2Contact_ResetFriction_0:UY,_emscripten_bind_b2PulleyJoint_GetAnchorA_0:nY,_emscripten_bind_b2BodyDef_get_linearVelocity_0:q0,_emscripten_bind_b2DistanceJointDef_get_bodyB_0:wH,_emscripten_bind_b2Mat22___destroy___0:UE,_emscripten_bind_b2RevoluteJoint_GetAnchorB_0:I$,_emscripten_bind_b2RevoluteJoint_GetNext_0:F$,_emscripten_bind_b2WeldJointDef_get_bodyA_0:Q7,_emscripten_bind_b2MotorJoint_GetAnchorB_0:fA,_emscripten_bind_b2Fixture_GetShape_0:aM,_emscripten_bind_b2PolygonShape_SetAsBox_2:zO,_emscripten_bind_b2Vec3_op_mul_1:b_,_emscripten_bind_b2PolygonShape_set_m_type_1:iU,_emscripten_bind_b2WheelJoint_GetType_0:FX,_emscripten_bind_b2MotorJoint_GetAngularOffset_0:ZC,_emscripten_bind_b2RevoluteJoint_IsActive_0:E$,_emscripten_bind_b2GearJoint_GetNext_0:kz,_emscripten_bind_b2MotorJointDef_get_correctionFactor_0:wtt,_emscripten_bind_b2Color_Set_3:_O,_emscripten_bind_b2EdgeShape_set_m_type_1:VU,_emscripten_bind_b2WheelJoint_GetLocalAxisA_0:AX,_emscripten_bind_b2Body_GetNext_0:SQ,_emscripten_bind_b2RopeJoint_GetBodyA_0:vO,_emscripten_enum_b2JointType_e_unknownJoint:Ott,_emscripten_bind_b2ContactFeature_set_indexA_1:Z2,_emscripten_bind_b2Profile_get_solveInit_0:yM,_emscripten_bind_b2BodyDef_set_angularDamping_1:iJ,_emscripten_bind_b2FrictionJoint_GetAnchorB_0:qQ,_emscripten_bind_b2World_QueryAABB_2:bL,_emscripten_bind_b2BodyDef_get_userData_0:TS,_emscripten_bind_b2ContactID_get_key_0:CE,_emscripten_bind_b2Body_SetAngularVelocity_1:WH,_emscripten_bind_b2WheelJointDef_get_userData_0:b7,_emscripten_bind_b2RevoluteJoint_IsLimitEnabled_0:y$,_emscripten_bind_b2DistanceJoint_GetBodyB_0:EV,_emscripten_bind_b2RevoluteJointDef_set_maxMotorTorque_1:tX,_emscripten_bind_b2WeldJointDef_set_bodyB_1:_j,_emscripten_bind_b2RevoluteJoint_SetUserData_1:q$,_emscripten_bind_b2DistanceJoint_SetLength_1:d1,_emscripten_bind_b2JointEdge_get_joint_0:dW,_emscripten_bind_b2Body_GetLocalCenter_0:kH,_emscripten_bind_b2FixtureDef___destroy___0:CS,_emscripten_bind_b2FixtureDef_set_shape_1:x0,_emscripten_bind_b2WeldJoint_GetAnchorA_0:iW,_emscripten_bind_b2Profile_get_solveVelocity_0:NV,_emscripten_bind_b2WeldJointDef_get_bodyB_0:_k,_emscripten_bind_b2Body_SetAngularDamping_1:lZ,_emscripten_bind_b2PulleyJointDef_Initialize_7:CW,_emscripten_bind_b2GearJointDef_set_bodyB_1:a$,_emscripten_bind_b2RopeJoint_GetReactionTorque_1:PO,_emscripten_bind_b2Mat22_set_ex_1:WE,_emscripten_bind_b2GearJoint_GetType_0:Iz,_emscripten_enum_b2DrawFlag_e_centerOfMassBit:xet,_emscripten_bind_b2ChainShape_b2ChainShape_0:DN,_emscripten_bind_b2RevoluteJoint_SetMaxMotorTorque_1:P$,_emscripten_bind_b2RopeJointDef_set_localAnchorB_1:itt,_emscripten_bind_b2FrictionJointDef_Initialize_3:GA,_emscripten_bind_b2GearJointDef_set_userData_1:r$,_emscripten_bind_b2ChainShape_CreateLoop_2:GN,_emscripten_bind_b2EdgeShape_get_m_radius_0:DU,_emscripten_bind_b2Contact_GetFixtureB_0:zY,_emscripten_bind_b2ChainShape_ComputeMass_2:jN,_emscripten_bind_b2Vec2_set_y_1:nV,_emscripten_bind_b2PrismaticJoint_IsLimitEnabled_0:XL,_emscripten_bind_b2RopeJointDef_get_bodyB_0:mtt,_emscripten_bind_b2BodyDef_b2BodyDef_0:vM,_emscripten_bind_b2MassData_get_mass_0:pz,_emscripten_bind_b2WheelJoint___destroy___0:YX,_emscripten_bind_b2Joint_GetBodyB_0:xz,_emscripten_bind_b2MouseJointDef_set_collideConnected_1:IY,_emscripten_bind_b2WheelJointDef_set_localAxisA_1:t7,_emscripten_bind_b2Joint_Dump_0:Vz,_emscripten_bind_b2WheelJointDef_b2WheelJointDef_0:XE,_emscripten_bind_b2RevoluteJointDef_set_motorSpeed_1:QU,_emscripten_bind_b2MotorJointDef_get_bodyA_0:Itt,_emscripten_bind_b2WheelJointDef_get_enableMotor_0:e7,_emscripten_bind_b2Vec2_LengthSquared_0:SS,_emscripten_bind_b2FrictionJointDef_set_bodyA_1:s5,_emscripten_bind_b2WheelJoint_GetSpringFrequencyHz_0:IX,_emscripten_bind_b2ContactFeature_get_indexB_0:dC,_emscripten_bind_b2Body_GetJointList_0:vQ,_emscripten_bind_b2FrictionJoint_GetBodyA_0:RQ,_emscripten_bind_b2WheelJointDef_set_localAnchorB_1:QE,_emscripten_bind_b2DistanceJointDef_set_localAnchorA_1:mH,_emscripten_bind_b2PrismaticJointDef_get_maxMotorForce_0:k5,_emscripten_bind_b2Body_SetUserData_1:BQ,_emscripten_bind_b2DistanceJoint_GetUserData_0:nM,_emscripten_bind_b2PulleyJointDef_set_bodyA_1:NW,_emscripten_bind_b2Joint_GetType_0:dz,_emscripten_bind_b2Manifold_get_pointCount_0:f5,_emscripten_bind_b2Mat33_get_ez_0:_M,_emscripten_bind_b2DestructionListenerWrapper___destroy___0:wE,_emscripten_bind_b2WheelJointDef_get_bodyA_0:h7,_emscripten_enum_b2LimitState_e_atUpperLimit:net,_emscripten_bind_b2PulleyJointDef_set_groundAnchorA_1:PW,_emscripten_bind_b2MouseJointDef_get_type_0:CY,_emscripten_bind_b2PrismaticJoint_SetMaxMotorForce_1:eE,_emscripten_bind_b2PulleyJointDef_get_collideConnected_0:XW,_emscripten_bind_b2RopeJoint_SetMaxLength_1:yO,_emscripten_bind_b2Joint_SetUserData_1:Bz,_emscripten_bind_b2PolygonShape_set_m_radius_1:nU,_emscripten_bind_b2Vec2_get_x_0:pJ,_emscripten_bind_JSContactListener_JSContactListener_0:VE,runPostSets:rrt,stackAlloc:uP,stackSave:LV,stackRestore:YP,setThrew:BA,setTempRet0:qV,getTempRet0:j4,dynCall_iiii:srt,dynCall_viiiii:wrt,dynCall_did:Yrt,dynCall_vi:hnt,dynCall_diiiid:Fnt,dynCall_vii:ist,dynCall_viidii:Cst,dynCall_ii:Ost,dynCall_viidi:m_t,dynCall_viii:I_t,dynCall_v:t2t,dynCall_viid:v2t,dynCall_viiiiii:z2t,dynCall_iii:pat,dynCall_iiiiii:Mat,dynCall_viiii:Kat}}(e.X,e.Y,pb),pc=e._emscripten_bind_b2WheelJoint_GetSpringDampingRatio_0=i._emscripten_bind_b2WheelJoint_GetSpringDampingRatio_0,qc=e._emscripten_bind_b2ContactEdge_set_next_1=i._emscripten_bind_b2ContactEdge_set_next_1,rc=e._emscripten_bind_b2ChainShape_get_m_count_0=i._emscripten_bind_b2ChainShape_get_m_count_0,sc=e._emscripten_bind_b2Fixture_SetFriction_1=i._emscripten_bind_b2Fixture_SetFriction_1,tc=e._emscripten_bind_b2Shape_ComputeAABB_3=i._emscripten_bind_b2Shape_ComputeAABB_3,uc=e._emscripten_bind_b2FrictionJointDef_set_userData_1=i._emscripten_bind_b2FrictionJointDef_set_userData_1,vc=e._emscripten_bind_b2Vec3_get_z_0=i._emscripten_bind_b2Vec3_get_z_0,wc=e._emscripten_bind_b2World_IsLocked_0=i._emscripten_bind_b2World_IsLocked_0,xc=e._emscripten_bind_b2Draw_GetFlags_0=i._emscripten_bind_b2Draw_GetFlags_0,yc=e._emscripten_bind_b2FrictionJoint_IsActive_0=i._emscripten_bind_b2FrictionJoint_IsActive_0,zc=e._emscripten_bind_b2Color_set_g_1=i._emscripten_bind_b2Color_set_g_1,Ac=e._emscripten_bind_b2WheelJointDef_get_frequencyHz_0=i._emscripten_bind_b2WheelJointDef_get_frequencyHz_0,Bc=e._emscripten_bind_b2RopeJointDef_set_localAnchorA_1=i._emscripten_bind_b2RopeJointDef_set_localAnchorA_1,Cc=e._emscripten_bind_b2PolygonShape_RayCast_4=i._emscripten_bind_b2PolygonShape_RayCast_4,Dc=e._emscripten_bind_b2World_GetTreeBalance_0=i._emscripten_bind_b2World_GetTreeBalance_0,Ec=e._emscripten_bind_b2PrismaticJointDef_get_upperTranslation_0=i._emscripten_bind_b2PrismaticJointDef_get_upperTranslation_0,Fc=e._emscripten_bind_JSDraw_DrawSolidCircle_4=i._emscripten_bind_JSDraw_DrawSolidCircle_4,Gc=e._emscripten_bind_b2RevoluteJoint_GetLocalAnchorA_0=i._emscripten_bind_b2RevoluteJoint_GetLocalAnchorA_0,Hc=e._emscripten_bind_b2FixtureDef_get_filter_0=i._emscripten_bind_b2FixtureDef_get_filter_0,Ic=e._emscripten_bind_b2FrictionJointDef_get_type_0=i._emscripten_bind_b2FrictionJointDef_get_type_0,Jc=e._emscripten_bind_b2RevoluteJoint_GetMotorTorque_1=i._emscripten_bind_b2RevoluteJoint_GetMotorTorque_1,Kc=e._emscripten_bind_b2MotorJointDef_set_type_1=i._emscripten_bind_b2MotorJointDef_set_type_1,Lc=e._emscripten_bind_b2RayCastInput_get_p1_0=i._emscripten_bind_b2RayCastInput_get_p1_0,Mc=e._emscripten_bind_b2EdgeShape_set_m_hasVertex3_1=i._emscripten_bind_b2EdgeShape_set_m_hasVertex3_1,Nc=e._emscripten_bind_b2JointEdge_set_joint_1=i._emscripten_bind_b2JointEdge_set_joint_1,Oc=e._emscripten_enum_b2ShapeType_e_polygon=i._emscripten_enum_b2ShapeType_e_polygon,Pc=e._emscripten_bind_b2Fixture___destroy___0=i._emscripten_bind_b2Fixture___destroy___0,Qc=e._emscripten_bind_b2PulleyJoint_SetUserData_1=i._emscripten_bind_b2PulleyJoint_SetUserData_1,Rc=e._emscripten_bind_b2World_SetWarmStarting_1=i._emscripten_bind_b2World_SetWarmStarting_1,Sc=e._emscripten_bind_JSDraw_DrawCircle_3=i._emscripten_bind_JSDraw_DrawCircle_3,Tc=e._emscripten_bind_b2WeldJoint_IsActive_0=i._emscripten_bind_b2WeldJoint_IsActive_0,Uc=e._emscripten_bind_b2DestructionListener___destroy___0=i._emscripten_bind_b2DestructionListener___destroy___0,Vc=e._emscripten_bind_b2BodyDef_set_type_1=i._emscripten_bind_b2BodyDef_set_type_1,Wc=e._emscripten_bind_b2ChainShape_ComputeAABB_3=i._emscripten_bind_b2ChainShape_ComputeAABB_3,Xc=e._emscripten_bind_b2MouseJointDef_set_type_1=i._emscripten_bind_b2MouseJointDef_set_type_1,Yc=e._emscripten_bind_b2JointEdge_get_prev_0=i._emscripten_bind_b2JointEdge_get_prev_0,Zc=e._emscripten_bind_b2WeldJoint_GetReactionTorque_1=i._emscripten_bind_b2WeldJoint_GetReactionTorque_1,$c=e._emscripten_bind_b2MotorJointDef_get_maxForce_0=i._emscripten_bind_b2MotorJointDef_get_maxForce_0,ad=e._emscripten_bind_b2DistanceJointDef_get_userData_0=i._emscripten_bind_b2DistanceJointDef_get_userData_0,bd=e._emscripten_bind_b2BodyDef_get_position_0=i._emscripten_bind_b2BodyDef_get_position_0,cd=e._emscripten_bind_b2RopeJointDef_get_localAnchorB_0=i._emscripten_bind_b2RopeJointDef_get_localAnchorB_0,dd=e._emscripten_bind_b2RevoluteJointDef_set_userData_1=i._emscripten_bind_b2RevoluteJointDef_set_userData_1,ed=e._emscripten_bind_b2RevoluteJointDef_get_localAnchorA_0=i._emscripten_bind_b2RevoluteJointDef_get_localAnchorA_0,fd=e._emscripten_bind_b2World_SetContactFilter_1=i._emscripten_bind_b2World_SetContactFilter_1,gd=e._emscripten_bind_b2WheelJointDef_get_collideConnected_0=i._emscripten_bind_b2WheelJointDef_get_collideConnected_0,hd=e._emscripten_bind_b2MouseJointDef_set_userData_1=i._emscripten_bind_b2MouseJointDef_set_userData_1,id=e._emscripten_bind_JSDraw_DrawSegment_3=i._emscripten_bind_JSDraw_DrawSegment_3,jd=e._emscripten_bind_b2FixtureDef_set_restitution_1=i._emscripten_bind_b2FixtureDef_set_restitution_1,kd=e._emscripten_bind_b2MotorJointDef_Initialize_2=i._emscripten_bind_b2MotorJointDef_Initialize_2,ld=e._emscripten_bind_b2EdgeShape_GetChildCount_0=i._emscripten_bind_b2EdgeShape_GetChildCount_0,md=e._emscripten_bind_b2Mat33_get_ey_0=i._emscripten_bind_b2Mat33_get_ey_0,nd=e._emscripten_bind_b2MouseJoint_IsActive_0=i._emscripten_bind_b2MouseJoint_IsActive_0,od=e._emscripten_bind_b2World_GetGravity_0=i._emscripten_bind_b2World_GetGravity_0,pd=e._emscripten_bind_b2World_DrawDebugData_0=i._emscripten_bind_b2World_DrawDebugData_0,qd=e._emscripten_bind_b2Profile_get_broadphase_0=i._emscripten_bind_b2Profile_get_broadphase_0,rd=e._emscripten_bind_b2PulleyJointDef_get_bodyA_0=i._emscripten_bind_b2PulleyJointDef_get_bodyA_0,sd=e._emscripten_bind_b2PrismaticJoint_SetLimits_2=i._emscripten_bind_b2PrismaticJoint_SetLimits_2,td=e._emscripten_bind_b2PulleyJointDef_get_localAnchorA_0=i._emscripten_bind_b2PulleyJointDef_get_localAnchorA_0,ud=e._emscripten_bind_b2DistanceJoint_GetAnchorA_0=i._emscripten_bind_b2DistanceJoint_GetAnchorA_0,vd=e._emscripten_bind_b2ManifoldPoint_set_tangentImpulse_1=i._emscripten_bind_b2ManifoldPoint_set_tangentImpulse_1,wd=e._emscripten_bind_b2PolygonShape_get_m_count_0=i._emscripten_bind_b2PolygonShape_get_m_count_0,xd=e._emscripten_bind_b2RopeJointDef_set_collideConnected_1=i._emscripten_bind_b2RopeJointDef_set_collideConnected_1,yd=e._emscripten_bind_b2CircleShape_set_m_p_1=i._emscripten_bind_b2CircleShape_set_m_p_1,zd=e._emscripten_bind_JSContactListener_EndContact_1=i._emscripten_bind_JSContactListener_EndContact_1,Ad=e._emscripten_bind_b2MassData_set_mass_1=i._emscripten_bind_b2MassData_set_mass_1,Bd=e._emscripten_bind_b2Vec3_get_x_0=i._emscripten_bind_b2Vec3_get_x_0,Cd=e._emscripten_bind_b2ChainShape_CreateChain_2=i._emscripten_bind_b2ChainShape_CreateChain_2,Dd=e._emscripten_bind_b2Color_get_r_0=i._emscripten_bind_b2Color_get_r_0,Ed=e._emscripten_bind_b2World_DestroyBody_1=i._emscripten_bind_b2World_DestroyBody_1,Fd=e._emscripten_bind_b2Profile_get_solvePosition_0=i._emscripten_bind_b2Profile_get_solvePosition_0,Gd=e._emscripten_bind_b2Shape_RayCast_4=i._emscripten_bind_b2Shape_RayCast_4,Hd=e._emscripten_bind_b2PulleyJoint_GetGroundAnchorA_0=i._emscripten_bind_b2PulleyJoint_GetGroundAnchorA_0,Id=e._emscripten_bind_b2Mat33___destroy___0=i._emscripten_bind_b2Mat33___destroy___0,Jd=e._emscripten_bind_b2GearJoint_GetReactionTorque_1=i._emscripten_bind_b2GearJoint_GetReactionTorque_1,Kd=e._emscripten_bind_b2WeldJointDef_set_collideConnected_1=i._emscripten_bind_b2WeldJointDef_set_collideConnected_1,Ld=e._emscripten_bind_b2Manifold_get_type_0=i._emscripten_bind_b2Manifold_get_type_0,Md=e._emscripten_bind_b2RevoluteJoint___destroy___0=i._emscripten_bind_b2RevoluteJoint___destroy___0,Nd=e._emscripten_bind_b2PulleyJointDef_b2PulleyJointDef_0=i._emscripten_bind_b2PulleyJointDef_b2PulleyJointDef_0,Od=e._emscripten_bind_b2World_SetAutoClearForces_1=i._emscripten_bind_b2World_SetAutoClearForces_1,Pd=e._emscripten_bind_b2PrismaticJointDef_set_lowerTranslation_1=i._emscripten_bind_b2PrismaticJointDef_set_lowerTranslation_1,Qd=e._emscripten_bind_b2BodyDef_set_position_1=i._emscripten_bind_b2BodyDef_set_position_1,Rd=e._emscripten_bind_b2Transform_get_q_0=i._emscripten_bind_b2Transform_get_q_0,Sd=e._emscripten_bind_b2FrictionJoint_GetMaxForce_0=i._emscripten_bind_b2FrictionJoint_GetMaxForce_0,Td=e._emscripten_bind_b2PolygonShape_set_m_count_1=i._emscripten_bind_b2PolygonShape_set_m_count_1,Ud=e._emscripten_bind_b2Contact_GetNext_0=i._emscripten_bind_b2Contact_GetNext_0,Vd=e._emscripten_bind_b2MotorJointDef_set_userData_1=i._emscripten_bind_b2MotorJointDef_set_userData_1,Wd=e._emscripten_bind_b2EdgeShape_get_m_type_0=i._emscripten_bind_b2EdgeShape_get_m_type_0,Xd=e._emscripten_bind_b2GearJoint_GetJoint1_0=i._emscripten_bind_b2GearJoint_GetJoint1_0,Yd=e._emscripten_bind_b2WheelJoint_GetMaxMotorTorque_0=i._emscripten_bind_b2WheelJoint_GetMaxMotorTorque_0,Zd=e._emscripten_bind_b2MotorJoint_SetMaxTorque_1=i._emscripten_bind_b2MotorJoint_SetMaxTorque_1,$d=e._emscripten_bind_b2GearJoint_GetAnchorA_0=i._emscripten_bind_b2GearJoint_GetAnchorA_0,ae=e._emscripten_enum_b2JointType_e_mouseJoint=i._emscripten_enum_b2JointType_e_mouseJoint,be=e._emscripten_bind_b2MouseJointDef_set_bodyA_1=i._emscripten_bind_b2MouseJointDef_set_bodyA_1,ce=e._emscripten_enum_b2JointType_e_revoluteJoint=i._emscripten_enum_b2JointType_e_revoluteJoint,de=e._emscripten_bind_b2World_SetContactListener_1=i._emscripten_bind_b2World_SetContactListener_1,ee=e._emscripten_bind_b2Body_IsAwake_0=i._emscripten_bind_b2Body_IsAwake_0,fe=e._emscripten_bind_b2JointEdge_set_other_1=i._emscripten_bind_b2JointEdge_set_other_1,ge=e._emscripten_bind_b2RevoluteJoint_IsMotorEnabled_0=i._emscripten_bind_b2RevoluteJoint_IsMotorEnabled_0,he=e._emscripten_bind_b2MouseJointDef_set_target_1=i._emscripten_bind_b2MouseJointDef_set_target_1,ie=e._emscripten_bind_b2MotorJoint_SetCorrectionFactor_1=i._emscripten_bind_b2MotorJoint_SetCorrectionFactor_1,je=e._emscripten_bind_b2FixtureDef_get_density_0=i._emscripten_bind_b2FixtureDef_get_density_0,ke=e._emscripten_bind_b2ChainShape_set_m_vertices_1=i._emscripten_bind_b2ChainShape_set_m_vertices_1,le=e._emscripten_bind_b2ChainShape_get_m_vertices_0=i._emscripten_bind_b2ChainShape_get_m_vertices_0,me=e._emscripten_bind_b2Rot_set_s_1=i._emscripten_bind_b2Rot_set_s_1,ne=e._emscripten_bind_b2MotorJointDef_get_collideConnected_0=i._emscripten_bind_b2MotorJointDef_get_collideConnected_0,oe=e._emscripten_bind_b2RevoluteJoint_GetUpperLimit_0=i._emscripten_bind_b2RevoluteJoint_GetUpperLimit_0,pe=e._emscripten_bind_b2WheelJointDef_set_bodyB_1=i._emscripten_bind_b2WheelJointDef_set_bodyB_1,qe=e._emscripten_bind_b2WheelJointDef_set_enableMotor_1=i._emscripten_bind_b2WheelJointDef_set_enableMotor_1,re=e._emscripten_bind_b2FixtureDef_get_userData_0=i._emscripten_bind_b2FixtureDef_get_userData_0,se=e._emscripten_bind_b2FrictionJointDef_set_collideConnected_1=i._emscripten_bind_b2FrictionJointDef_set_collideConnected_1,te=e._emscripten_bind_b2PrismaticJointDef_get_lowerTranslation_0=i._emscripten_bind_b2PrismaticJointDef_get_lowerTranslation_0,ue=e._emscripten_bind_b2GearJoint_GetCollideConnected_0=i._emscripten_bind_b2GearJoint_GetCollideConnected_0,ve=e._emscripten_bind_b2RevoluteJointDef_get_upperAngle_0=i._emscripten_bind_b2RevoluteJointDef_get_upperAngle_0,we=e._emscripten_bind_b2Body_ApplyAngularImpulse_2=i._emscripten_bind_b2Body_ApplyAngularImpulse_2,xe=e._emscripten_enum_b2JointType_e_frictionJoint=i._emscripten_enum_b2JointType_e_frictionJoint,ye=e._emscripten_bind_b2RayCastOutput_set_fraction_1=i._emscripten_bind_b2RayCastOutput_set_fraction_1,ze=e._emscripten_bind_b2Color_set_r_1=i._emscripten_bind_b2Color_set_r_1,Ae=e._emscripten_bind_b2DistanceJointDef_get_length_0=i._emscripten_bind_b2DistanceJointDef_get_length_0,Be=e._emscripten_bind_b2PulleyJoint_GetBodyB_0=i._emscripten_bind_b2PulleyJoint_GetBodyB_0,Ce=e._emscripten_bind_b2WheelJointDef_set_type_1=i._emscripten_bind_b2WheelJointDef_set_type_1,De=e._emscripten_bind_b2World_GetTreeQuality_0=i._emscripten_bind_b2World_GetTreeQuality_0,Ee=e._emscripten_bind_b2BodyDef_set_gravityScale_1=i._emscripten_bind_b2BodyDef_set_gravityScale_1,Fe=e._emscripten_bind_b2RopeJointDef_set_bodyB_1=i._emscripten_bind_b2RopeJointDef_set_bodyB_1,Ge=e._emscripten_bind_b2PrismaticJoint_GetLowerLimit_0=i._emscripten_bind_b2PrismaticJoint_GetLowerLimit_0,He=e._emscripten_bind_b2AABB_get_lowerBound_0=i._emscripten_bind_b2AABB_get_lowerBound_0,Ie=e._emscripten_bind_b2WheelJoint_SetMotorSpeed_1=i._emscripten_bind_b2WheelJoint_SetMotorSpeed_1,Je=e._emscripten_bind_b2PrismaticJointDef_get_referenceAngle_0=i._emscripten_bind_b2PrismaticJointDef_get_referenceAngle_0,Ke=e._emscripten_bind_b2Body_SetMassData_1=i._emscripten_bind_b2Body_SetMassData_1,Le=e._emscripten_bind_b2BodyDef_get_angularVelocity_0=i._emscripten_bind_b2BodyDef_get_angularVelocity_0,Me=e._emscripten_bind_b2WeldJoint_SetDampingRatio_1=i._emscripten_bind_b2WeldJoint_SetDampingRatio_1,Ne=e._emscripten_bind_b2PrismaticJointDef___destroy___0=i._emscripten_bind_b2PrismaticJointDef___destroy___0,Oe=e._emscripten_bind_b2Contact_IsTouching_0=i._emscripten_bind_b2Contact_IsTouching_0,Pe=e._emscripten_bind_b2Draw_SetFlags_1=i._emscripten_bind_b2Draw_SetFlags_1,Qe=e._emscripten_bind_b2AABB_Contains_1=i._emscripten_bind_b2AABB_Contains_1,Re=e._emscripten_bind_b2DistanceJoint_GetNext_0=i._emscripten_bind_b2DistanceJoint_GetNext_0,Se=e._emscripten_bind_b2GearJoint_GetReactionForce_1=i._emscripten_bind_b2GearJoint_GetReactionForce_1,Te=e._emscripten_bind_b2PrismaticJoint_GetNext_0=i._emscripten_bind_b2PrismaticJoint_GetNext_0,Ue=e._emscripten_bind_b2Filter_get_groupIndex_0=i._emscripten_bind_b2Filter_get_groupIndex_0,Ve=e._emscripten_bind_b2PrismaticJoint_GetType_0=i._emscripten_bind_b2PrismaticJoint_GetType_0,We=e._emscripten_bind_b2Fixture_GetRestitution_0=i._emscripten_bind_b2Fixture_GetRestitution_0,Xe=e._emscripten_bind_b2Transform_set_q_1=i._emscripten_bind_b2Transform_set_q_1,Ye=e._emscripten_bind_b2PolygonShape___destroy___0=i._emscripten_bind_b2PolygonShape___destroy___0,Ze=e._emscripten_bind_b2AABB_get_upperBound_0=i._emscripten_bind_b2AABB_get_upperBound_0,$e=e._emscripten_bind_b2Transform___destroy___0=i._emscripten_bind_b2Transform___destroy___0,af=e._emscripten_bind_b2WeldJointDef_set_localAnchorB_1=i._emscripten_bind_b2WeldJointDef_set_localAnchorB_1,bf=e._emscripten_bind_b2CircleShape_set_m_radius_1=i._emscripten_bind_b2CircleShape_set_m_radius_1,cf=e._emscripten_bind_b2EdgeShape_set_m_hasVertex0_1=i._emscripten_bind_b2EdgeShape_set_m_hasVertex0_1,df=e._emscripten_bind_b2RopeJoint_GetMaxLength_0=i._emscripten_bind_b2RopeJoint_GetMaxLength_0,ef=e._emscripten_bind_b2GearJoint_GetUserData_0=i._emscripten_bind_b2GearJoint_GetUserData_0,ff=e._emscripten_bind_b2MotorJoint_GetCollideConnected_0=i._emscripten_bind_b2MotorJoint_GetCollideConnected_0,gf=e._emscripten_bind_b2GearJointDef_set_type_1=i._emscripten_bind_b2GearJointDef_set_type_1,hf=e._emscripten_bind_b2DistanceJoint_SetDampingRatio_1=i._emscripten_bind_b2DistanceJoint_SetDampingRatio_1,jf=e._emscripten_bind_b2Contact_GetFixtureA_0=i._emscripten_bind_b2Contact_GetFixtureA_0,kf=e._emscripten_bind_b2QueryCallback___destroy___0=i._emscripten_bind_b2QueryCallback___destroy___0,lf=e._emscripten_bind_b2PulleyJointDef_get_ratio_0=i._emscripten_bind_b2PulleyJointDef_get_ratio_0,mf=e._emscripten_bind_b2PrismaticJointDef_get_localAnchorB_0=i._emscripten_bind_b2PrismaticJointDef_get_localAnchorB_0,nf=e._emscripten_bind_b2CircleShape_set_m_type_1=i._emscripten_bind_b2CircleShape_set_m_type_1,of=e._emscripten_enum_b2ShapeType_e_typeCount=i._emscripten_enum_b2ShapeType_e_typeCount,pf=e._emscripten_bind_b2Body_SetTransform_2=i._emscripten_bind_b2Body_SetTransform_2,qf=e._emscripten_bind_b2RopeJoint_GetAnchorB_0=i._emscripten_bind_b2RopeJoint_GetAnchorB_0,rf=e._emscripten_bind_b2AABB_set_upperBound_1=i._emscripten_bind_b2AABB_set_upperBound_1,sf=e._emscripten_bind_b2MouseJointDef_get_collideConnected_0=i._emscripten_bind_b2MouseJointDef_get_collideConnected_0,tf=e._emscripten_bind_b2ContactImpulse___destroy___0=i._emscripten_bind_b2ContactImpulse___destroy___0,uf=e._emscripten_bind_b2PrismaticJointDef_b2PrismaticJointDef_0=i._emscripten_bind_b2PrismaticJointDef_b2PrismaticJointDef_0,vf=e._emscripten_bind_b2Vec2_set_x_1=i._emscripten_bind_b2Vec2_set_x_1,wf=e._emscripten_bind_b2RayCastInput___destroy___0=i._emscripten_bind_b2RayCastInput___destroy___0,xf=e._emscripten_bind_b2Body_ApplyForceToCenter_2=i._emscripten_bind_b2Body_ApplyForceToCenter_2,yf=e._emscripten_bind_JSDestructionListener_JSDestructionListener_0=i._emscripten_bind_JSDestructionListener_JSDestructionListener_0,zf=e._emscripten_bind_b2WheelJointDef_set_localAnchorA_1=i._emscripten_bind_b2WheelJointDef_set_localAnchorA_1,Af=e._emscripten_bind_b2FrictionJoint_GetBodyB_0=i._emscripten_bind_b2FrictionJoint_GetBodyB_0,Bf=e._emscripten_bind_b2DistanceJointDef_get_bodyA_0=i._emscripten_bind_b2DistanceJointDef_get_bodyA_0,Cf=e._emscripten_bind_b2WeldJointDef_set_bodyA_1=i._emscripten_bind_b2WeldJointDef_set_bodyA_1,Df=e._emscripten_bind_b2World_SetDestructionListener_1=i._emscripten_bind_b2World_SetDestructionListener_1,Ef=e._emscripten_bind_b2RevoluteJoint_GetJointSpeed_0=i._emscripten_bind_b2RevoluteJoint_GetJointSpeed_0,Ff=e._emscripten_bind_b2WheelJoint_GetLocalAnchorB_0=i._emscripten_bind_b2WheelJoint_GetLocalAnchorB_0,Gf=e._emscripten_bind_b2JointDef___destroy___0=i._emscripten_bind_b2JointDef___destroy___0,Hf=e._emscripten_bind_b2PrismaticJointDef_Initialize_4=i._emscripten_bind_b2PrismaticJointDef_Initialize_4,If=e._emscripten_bind_b2FrictionJointDef_get_localAnchorA_0=i._emscripten_bind_b2FrictionJointDef_get_localAnchorA_0,Jf=e._emscripten_bind_b2CircleShape_GetChildCount_0=i._emscripten_bind_b2CircleShape_GetChildCount_0,Kf=e._emscripten_bind_b2BodyDef_get_bullet_0=i._emscripten_bind_b2BodyDef_get_bullet_0,Lf=e._emscripten_bind_b2ManifoldPoint_get_localPoint_0=i._emscripten_bind_b2ManifoldPoint_get_localPoint_0,Mf=e._emscripten_bind_b2PrismaticJointDef_get_type_0=i._emscripten_bind_b2PrismaticJointDef_get_type_0,Nf=e._emscripten_bind_b2MassData_get_center_0=i._emscripten_bind_b2MassData_get_center_0,Of=e._emscripten_bind_b2World_b2World_1=i._emscripten_bind_b2World_b2World_1,Pf=e._emscripten_bind_b2WheelJoint_GetReactionForce_1=i._emscripten_bind_b2WheelJoint_GetReactionForce_1,Qf=e._emscripten_bind_b2World_SetSubStepping_1=i._emscripten_bind_b2World_SetSubStepping_1,Rf=e._emscripten_bind_b2Vec2_op_add_1=i._emscripten_bind_b2Vec2_op_add_1,Sf=e._emscripten_bind_b2Joint_GetBodyA_0=i._emscripten_bind_b2Joint_GetBodyA_0,Tf=e._emscripten_bind_b2Joint_GetCollideConnected_0=i._emscripten_bind_b2Joint_GetCollideConnected_0,Uf=e._emscripten_bind_b2MotorJoint_GetReactionTorque_1=i._emscripten_bind_b2MotorJoint_GetReactionTorque_1,Vf=e._emscripten_bind_b2WheelJoint_IsMotorEnabled_0=i._emscripten_bind_b2WheelJoint_IsMotorEnabled_0,Wf=e._emscripten_bind_b2WheelJointDef___destroy___0=i._emscripten_bind_b2WheelJointDef___destroy___0,Xf=e._emscripten_bind_b2Vec3_SetZero_0=i._emscripten_bind_b2Vec3_SetZero_0,Yf=e._emscripten_enum_b2JointType_e_pulleyJoint=i._emscripten_enum_b2JointType_e_pulleyJoint,Zf=e._emscripten_bind_b2ChainShape_get_m_nextVertex_0=i._emscripten_bind_b2ChainShape_get_m_nextVertex_0,$f=e._emscripten_bind_b2Contact_SetEnabled_1=i._emscripten_bind_b2Contact_SetEnabled_1,ag=e._emscripten_bind_b2Shape_set_m_radius_1=i._emscripten_bind_b2Shape_set_m_radius_1,bg=e._emscripten_bind_b2GearJointDef_get_joint2_0=i._emscripten_bind_b2GearJointDef_get_joint2_0,cg=e._emscripten_bind_b2World_SetDebugDraw_1=i._emscripten_bind_b2World_SetDebugDraw_1,dg=e._emscripten_bind_b2ContactID_set_key_1=i._emscripten_bind_b2ContactID_set_key_1,eg=e._emscripten_bind_b2RevoluteJointDef_set_collideConnected_1=i._emscripten_bind_b2RevoluteJointDef_set_collideConnected_1,ab=e._malloc=i._malloc,fg=e._emscripten_bind_b2World_GetProxyCount_0=i._emscripten_bind_b2World_GetProxyCount_0,gg=e._emscripten_bind_b2Vec2_Normalize_0=i._emscripten_bind_b2Vec2_Normalize_0,hg=e._emscripten_bind_b2WheelJoint_GetJointSpeed_0=i._emscripten_bind_b2WheelJoint_GetJointSpeed_0,ig=e._emscripten_bind_b2FrictionJointDef_set_localAnchorA_1=i._emscripten_bind_b2FrictionJointDef_set_localAnchorA_1,jg=e._emscripten_bind_b2GearJoint_GetRatio_0=i._emscripten_bind_b2GearJoint_GetRatio_0,kg=e._emscripten_bind_JSRayCastCallback_JSRayCastCallback_0=i._emscripten_bind_JSRayCastCallback_JSRayCastCallback_0,lg=e._emscripten_bind_b2RayCastInput_set_p2_1=i._emscripten_bind_b2RayCastInput_set_p2_1,mg=e._emscripten_bind_b2RevoluteJointDef_get_motorSpeed_0=i._emscripten_bind_b2RevoluteJointDef_get_motorSpeed_0,ng=e._emscripten_bind_b2RayCastOutput_get_normal_0=i._emscripten_bind_b2RayCastOutput_get_normal_0,og=e._emscripten_bind_b2WeldJoint_GetBodyA_0=i._emscripten_bind_b2WeldJoint_GetBodyA_0,pg=e._emscripten_bind_b2MotorJointDef_set_maxForce_1=i._emscripten_bind_b2MotorJointDef_set_maxForce_1,qg=e._emscripten_enum_b2DrawFlag_e_jointBit=i._emscripten_enum_b2DrawFlag_e_jointBit,rg=e._emscripten_bind_b2FixtureDef_get_isSensor_0=i._emscripten_bind_b2FixtureDef_get_isSensor_0,sg=e._emscripten_bind_b2PulleyJointDef_set_bodyB_1=i._emscripten_bind_b2PulleyJointDef_set_bodyB_1,tg=e._emscripten_bind_b2WheelJoint_EnableMotor_1=i._emscripten_bind_b2WheelJoint_EnableMotor_1,ug=e._emscripten_bind_b2WheelJoint_GetLocalAnchorA_0=i._emscripten_bind_b2WheelJoint_GetLocalAnchorA_0,vg=e._emscripten_bind_JSDraw_DrawSolidPolygon_3=i._emscripten_bind_JSDraw_DrawSolidPolygon_3,wg=e._emscripten_bind_b2Rot_Set_1=i._emscripten_bind_b2Rot_Set_1,xg=e._emscripten_bind_b2ContactFeature_set_typeB_1=i._emscripten_bind_b2ContactFeature_set_typeB_1,yg=e._emscripten_bind_JSDraw___destroy___0=i._emscripten_bind_JSDraw___destroy___0,zg=e._emscripten_bind_b2MouseJointDef___destroy___0=i._emscripten_bind_b2MouseJointDef___destroy___0,Ag=e._emscripten_bind_b2Mat33_Solve22_1=i._emscripten_bind_b2Mat33_Solve22_1,Bg=e._emscripten_bind_b2Profile_set_solvePosition_1=i._emscripten_bind_b2Profile_set_solvePosition_1,Cg=e._emscripten_bind_b2ContactFilter___destroy___0=i._emscripten_bind_b2ContactFilter___destroy___0,Dg=e._emscripten_bind_b2PulleyJointDef_get_localAnchorB_0=i._emscripten_bind_b2PulleyJointDef_get_localAnchorB_0,Eg=e._emscripten_bind_b2ChainShape_set_m_hasPrevVertex_1=i._emscripten_bind_b2ChainShape_set_m_hasPrevVertex_1,Fg=e._emscripten_bind_b2PrismaticJoint___destroy___0=i._emscripten_bind_b2PrismaticJoint___destroy___0,Gg=e._emscripten_bind_b2World_CreateJoint_1=i._emscripten_bind_b2World_CreateJoint_1,Hg=e._emscripten_bind_b2Profile_get_solveTOI_0=i._emscripten_bind_b2Profile_get_solveTOI_0,Ig=e._emscripten_bind_b2ManifoldPoint_get_id_0=i._emscripten_bind_b2ManifoldPoint_get_id_0,Jg=e._emscripten_bind_b2Manifold_set_pointCount_1=i._emscripten_bind_b2Manifold_set_pointCount_1,Kg=e._emscripten_bind_b2PrismaticJoint_GetMotorSpeed_0=i._emscripten_bind_b2PrismaticJoint_GetMotorSpeed_0,Lg=e._emscripten_bind_b2Body_SetSleepingAllowed_1=i._emscripten_bind_b2Body_SetSleepingAllowed_1,Mg=e._emscripten_bind_b2Rot_SetIdentity_0=i._emscripten_bind_b2Rot_SetIdentity_0,Ng=e._emscripten_bind_b2PulleyJoint_GetGroundAnchorB_0=i._emscripten_bind_b2PulleyJoint_GetGroundAnchorB_0,Og=e._emscripten_bind_b2Vec3_op_add_1=i._emscripten_bind_b2Vec3_op_add_1,Pg=e._emscripten_bind_b2FrictionJoint_GetType_0=i._emscripten_bind_b2FrictionJoint_GetType_0,Qg=e._emscripten_bind_b2DistanceJointDef_set_dampingRatio_1=i._emscripten_bind_b2DistanceJointDef_set_dampingRatio_1,Rg=e._emscripten_bind_b2MotorJoint_GetBodyA_0=i._emscripten_bind_b2MotorJoint_GetBodyA_0,Sg=e._emscripten_bind_b2MouseJointDef_get_dampingRatio_0=i._emscripten_bind_b2MouseJointDef_get_dampingRatio_0,Tg=e._emscripten_bind_b2RevoluteJoint_GetMotorSpeed_0=i._emscripten_bind_b2RevoluteJoint_GetMotorSpeed_0,Ug=e._emscripten_bind_b2ChainShape_set_m_type_1=i._emscripten_bind_b2ChainShape_set_m_type_1,Vg=e._emscripten_bind_b2RevoluteJointDef_set_bodyB_1=i._emscripten_bind_b2RevoluteJointDef_set_bodyB_1,Wg=e._emscripten_bind_b2Body_GetGravityScale_0=i._emscripten_bind_b2Body_GetGravityScale_0,Xg=e._emscripten_bind_b2GearJointDef_get_bodyB_0=i._emscripten_bind_b2GearJointDef_get_bodyB_0,Yg=e._emscripten_bind_b2Mat33_b2Mat33_0=i._emscripten_bind_b2Mat33_b2Mat33_0,Zg=e._emscripten_bind_b2MouseJointDef_get_bodyB_0=i._emscripten_bind_b2MouseJointDef_get_bodyB_0,$g=e._emscripten_bind_b2Shape_TestPoint_2=i._emscripten_bind_b2Shape_TestPoint_2,ah=e._emscripten_bind_b2Body_GetWorldVector_1=i._emscripten_bind_b2Body_GetWorldVector_1,bh=e._emscripten_bind_b2WeldJointDef_get_frequencyHz_0=i._emscripten_bind_b2WeldJointDef_get_frequencyHz_0,ch=e._emscripten_bind_b2PolygonShape_Set_2=i._emscripten_bind_b2PolygonShape_Set_2,dh=e._emscripten_bind_b2Manifold___destroy___0=i._emscripten_bind_b2Manifold___destroy___0,eh=e._emscripten_bind_b2PulleyJointDef_set_lengthA_1=i._emscripten_bind_b2PulleyJointDef_set_lengthA_1,fh=e._emscripten_bind_b2RevoluteJointDef_set_localAnchorA_1=i._emscripten_bind_b2RevoluteJointDef_set_localAnchorA_1,gh=e._emscripten_bind_b2GearJoint___destroy___0=i._emscripten_bind_b2GearJoint___destroy___0,hh=e._emscripten_bind_b2RevoluteJoint_GetJointAngle_0=i._emscripten_bind_b2RevoluteJoint_GetJointAngle_0,ih=e._emscripten_bind_b2PulleyJointDef_set_ratio_1=i._emscripten_bind_b2PulleyJointDef_set_ratio_1,jh=e._emscripten_bind_b2JointEdge_set_prev_1=i._emscripten_bind_b2JointEdge_set_prev_1,kh=e._emscripten_bind_b2PrismaticJoint_GetReactionTorque_1=i._emscripten_bind_b2PrismaticJoint_GetReactionTorque_1,lh=e._emscripten_bind_b2Body_GetLocalPoint_1=i._emscripten_bind_b2Body_GetLocalPoint_1,mh=e._emscripten_bind_b2PrismaticJoint_GetCollideConnected_0=i._emscripten_bind_b2PrismaticJoint_GetCollideConnected_0,nh=e._emscripten_bind_b2RopeJointDef_get_userData_0=i._emscripten_bind_b2RopeJointDef_get_userData_0,oh=e._emscripten_bind_b2DistanceJoint_IsActive_0=i._emscripten_bind_b2DistanceJoint_IsActive_0,ph=e._emscripten_bind_b2MotorJointDef_set_angularOffset_1=i._emscripten_bind_b2MotorJointDef_set_angularOffset_1,qh=e._emscripten_bind_b2Vec2_b2Vec2_2=i._emscripten_bind_b2Vec2_b2Vec2_2,rh=e._emscripten_bind_b2PrismaticJoint_GetJointTranslation_0=i._emscripten_bind_b2PrismaticJoint_GetJointTranslation_0,sh=e._emscripten_bind_b2Vec2_b2Vec2_0=i._emscripten_bind_b2Vec2_b2Vec2_0,th=e._emscripten_bind_b2DistanceJoint_GetAnchorB_0=i._emscripten_bind_b2DistanceJoint_GetAnchorB_0,uh=e._emscripten_bind_b2WheelJointDef_get_maxMotorTorque_0=i._emscripten_bind_b2WheelJointDef_get_maxMotorTorque_0,vh=e._emscripten_bind_b2Vec2_op_sub_1=i._emscripten_bind_b2Vec2_op_sub_1,wh=e._emscripten_bind_b2CircleShape_get_m_p_0=i._emscripten_bind_b2CircleShape_get_m_p_0,xh=e._emscripten_bind_b2ContactFeature_get_indexA_0=i._emscripten_bind_b2ContactFeature_get_indexA_0,yh=e._emscripten_bind_b2MotorJointDef_b2MotorJointDef_0=i._emscripten_bind_b2MotorJointDef_b2MotorJointDef_0,zh=e._emscripten_bind_b2ChainShape_set_m_nextVertex_1=i._emscripten_bind_b2ChainShape_set_m_nextVertex_1,Ah=e._emscripten_bind_b2PulleyJoint_GetCollideConnected_0=i._emscripten_bind_b2PulleyJoint_GetCollideConnected_0,Bh=e._emscripten_bind_b2PulleyJoint_GetAnchorB_0=i._emscripten_bind_b2PulleyJoint_GetAnchorB_0,Ch=e._emscripten_bind_b2Mat33_get_ex_0=i._emscripten_bind_b2Mat33_get_ex_0,Dh=e._emscripten_bind_b2Body_GetPosition_0=i._emscripten_bind_b2Body_GetPosition_0,Eh=e._emscripten_bind_b2Profile___destroy___0=i._emscripten_bind_b2Profile___destroy___0,Fh=e._emscripten_bind_b2ContactEdge_get_prev_0=i._emscripten_bind_b2ContactEdge_get_prev_0,Gh=e._emscripten_bind_b2DistanceJoint_SetFrequency_1=i._emscripten_bind_b2DistanceJoint_SetFrequency_1,Hh=e._emscripten_enum_b2ShapeType_e_chain=i._emscripten_enum_b2ShapeType_e_chain,Ih=e._emscripten_enum_b2ContactFeatureType_e_vertex=i._emscripten_enum_b2ContactFeatureType_e_vertex,Jh=e._emscripten_bind_b2Fixture_GetBody_0=i._emscripten_bind_b2Fixture_GetBody_0,Kh=e._emscripten_bind_b2ContactImpulse_set_count_1=i._emscripten_bind_b2ContactImpulse_set_count_1,Lh=e._emscripten_bind_b2PulleyJointDef_get_bodyB_0=i._emscripten_bind_b2PulleyJointDef_get_bodyB_0,Mh=e._emscripten_bind_b2Rot_set_c_1=i._emscripten_bind_b2Rot_set_c_1,Nh=e._emscripten_bind_b2RevoluteJoint_GetReactionTorque_1=i._emscripten_bind_b2RevoluteJoint_GetReactionTorque_1,Oh=e._emscripten_bind_b2Fixture_SetDensity_1=i._emscripten_bind_b2Fixture_SetDensity_1,Ph=e._emscripten_bind_b2ChainShape_get_m_prevVertex_0=i._emscripten_bind_b2ChainShape_get_m_prevVertex_0,Qh=e._emscripten_bind_b2World_ClearForces_0=i._emscripten_bind_b2World_ClearForces_0,Rh=e._emscripten_bind_b2Vec3___destroy___0=i._emscripten_bind_b2Vec3___destroy___0,Sh=e._emscripten_bind_b2WheelJointDef_set_userData_1=i._emscripten_bind_b2WheelJointDef_set_userData_1,Th=e._emscripten_bind_b2WeldJoint_SetFrequency_1=i._emscripten_bind_b2WeldJoint_SetFrequency_1,Uh=e._emscripten_bind_JSContactListener_PreSolve_2=i._emscripten_bind_JSContactListener_PreSolve_2,Vh=e._emscripten_bind_b2Body_SetFixedRotation_1=i._emscripten_bind_b2Body_SetFixedRotation_1,Wh=e._emscripten_bind_b2RayCastOutput_set_normal_1=i._emscripten_bind_b2RayCastOutput_set_normal_1,Xh=e._emscripten_bind_b2DistanceJoint_GetDampingRatio_0=i._emscripten_bind_b2DistanceJoint_GetDampingRatio_0,Yh=e._emscripten_bind_b2WeldJointDef_set_userData_1=i._emscripten_bind_b2WeldJointDef_set_userData_1,Zh=e._emscripten_bind_b2Body_GetMassData_1=i._emscripten_bind_b2Body_GetMassData_1,$h=e._emscripten_bind_b2MouseJointDef_set_bodyB_1=i._emscripten_bind_b2MouseJointDef_set_bodyB_1,ai=e._emscripten_bind_b2CircleShape_GetType_0=i._emscripten_bind_b2CircleShape_GetType_0,bi=e._emscripten_bind_b2PolygonShape_GetType_0=i._emscripten_bind_b2PolygonShape_GetType_0,ci=e._emscripten_bind_b2PrismaticJointDef_set_referenceAngle_1=i._emscripten_bind_b2PrismaticJointDef_set_referenceAngle_1,di=e._emscripten_bind_b2RopeJointDef_get_collideConnected_0=i._emscripten_bind_b2RopeJointDef_get_collideConnected_0,ei=e._emscripten_bind_b2FixtureDef_set_filter_1=i._emscripten_bind_b2FixtureDef_set_filter_1,fi=e._emscripten_bind_b2PulleyJointDef_get_groundAnchorA_0=i._emscripten_bind_b2PulleyJointDef_get_groundAnchorA_0,gi=e._emscripten_bind_b2Fixture_SetFilterData_1=i._emscripten_bind_b2Fixture_SetFilterData_1,hi=e._emscripten_bind_b2FrictionJointDef_get_userData_0=i._emscripten_bind_b2FrictionJointDef_get_userData_0,ii=e._emscripten_bind_b2RayCastCallback___destroy___0=i._emscripten_bind_b2RayCastCallback___destroy___0,ji=e._emscripten_bind_b2PulleyJointDef_set_localAnchorA_1=i._emscripten_bind_b2PulleyJointDef_set_localAnchorA_1,ki=e._emscripten_bind_b2MotorJoint_SetUserData_1=i._emscripten_bind_b2MotorJoint_SetUserData_1,li=e._emscripten_bind_b2PrismaticJoint_GetLocalAxisA_0=i._emscripten_bind_b2PrismaticJoint_GetLocalAxisA_0,mi=e._emscripten_bind_b2MotorJoint_GetBodyB_0=i._emscripten_bind_b2MotorJoint_GetBodyB_0,ni=e._emscripten_bind_b2Transform_Set_2=i._emscripten_bind_b2Transform_Set_2,oi=e._emscripten_bind_b2MouseJoint_SetTarget_1=i._emscripten_bind_b2MouseJoint_SetTarget_1,pi=e._emscripten_bind_b2RopeJointDef_get_localAnchorA_0=i._emscripten_bind_b2RopeJointDef_get_localAnchorA_0,qi=e._emscripten_bind_b2ContactEdge_set_contact_1=i._emscripten_bind_b2ContactEdge_set_contact_1,ri=e._emscripten_bind_b2RevoluteJointDef_get_enableLimit_0=i._emscripten_bind_b2RevoluteJointDef_get_enableLimit_0,si=e._emscripten_bind_b2CircleShape_get_m_radius_0=i._emscripten_bind_b2CircleShape_get_m_radius_0,ti=e._emscripten_bind_b2RevoluteJoint_GetUserData_0=i._emscripten_bind_b2RevoluteJoint_GetUserData_0,ui=e._emscripten_bind_b2Profile_set_solveTOI_1=i._emscripten_bind_b2Profile_set_solveTOI_1,vi=e._emscripten_bind_b2PrismaticJointDef_set_type_1=i._emscripten_bind_b2PrismaticJointDef_set_type_1,wi=e._emscripten_bind_b2GearJointDef_get_userData_0=i._emscripten_bind_b2GearJointDef_get_userData_0,xi=e._emscripten_bind_b2WheelJoint_SetSpringFrequencyHz_1=i._emscripten_bind_b2WheelJoint_SetSpringFrequencyHz_1,yi=e._emscripten_bind_b2FrictionJointDef___destroy___0=i._emscripten_bind_b2FrictionJointDef___destroy___0,zi=e._emscripten_bind_b2PrismaticJoint_GetReactionForce_1=i._emscripten_bind_b2PrismaticJoint_GetReactionForce_1,Ai=e._emscripten_bind_b2Transform_b2Transform_0=i._emscripten_bind_b2Transform_b2Transform_0,Bi=e._emscripten_bind_b2MouseJoint_GetCollideConnected_0=i._emscripten_bind_b2MouseJoint_GetCollideConnected_0,Ci=e._emscripten_enum_b2LimitState_e_equalLimits=i._emscripten_enum_b2LimitState_e_equalLimits,Di=e._emscripten_bind_b2ManifoldPoint_set_normalImpulse_1=i._emscripten_bind_b2ManifoldPoint_set_normalImpulse_1,Ei=e._emscripten_bind_b2Body_GetContactList_0=i._emscripten_bind_b2Body_GetContactList_0,Fi=e._emscripten_bind_b2Body_IsFixedRotation_0=i._emscripten_bind_b2Body_IsFixedRotation_0,Gi=e._emscripten_enum_b2DrawFlag_e_shapeBit=i._emscripten_enum_b2DrawFlag_e_shapeBit,Hi=e._emscripten_bind_b2Contact_GetFriction_0=i._emscripten_bind_b2Contact_GetFriction_0,Ii=e._emscripten_bind_b2WheelJoint_GetAnchorB_0=i._emscripten_bind_b2WheelJoint_GetAnchorB_0,Ji=e._emscripten_bind_b2DistanceJointDef_set_length_1=i._emscripten_bind_b2DistanceJointDef_set_length_1,Ki=e._emscripten_bind_b2DistanceJoint_GetLocalAnchorB_0=i._emscripten_bind_b2DistanceJoint_GetLocalAnchorB_0,Li=e._emscripten_bind_b2FrictionJoint_GetLocalAnchorB_0=i._emscripten_bind_b2FrictionJoint_GetLocalAnchorB_0,Mi=e._emscripten_bind_b2Mat33_set_ey_1=i._emscripten_bind_b2Mat33_set_ey_1,Ni=e._emscripten_bind_b2DistanceJointDef_get_type_0=i._emscripten_bind_b2DistanceJointDef_get_type_0,Oi=e._emscripten_bind_b2Draw_ClearFlags_1=i._emscripten_bind_b2Draw_ClearFlags_1,Pi=e._emscripten_bind_b2Body_IsActive_0=i._emscripten_bind_b2Body_IsActive_0,Qi=e._emscripten_bind_b2Contact_ResetRestitution_0=i._emscripten_bind_b2Contact_ResetRestitution_0,Ri=e._emscripten_bind_b2World_GetAllowSleeping_0=i._emscripten_bind_b2World_GetAllowSleeping_0,Si=e._emscripten_bind_b2ManifoldPoint_b2ManifoldPoint_0=i._emscripten_bind_b2ManifoldPoint_b2ManifoldPoint_0,Ti=e._emscripten_bind_b2PrismaticJointDef_set_maxMotorForce_1=i._emscripten_bind_b2PrismaticJointDef_set_maxMotorForce_1,Ui=e._emscripten_bind_b2GearJointDef_set_bodyA_1=i._emscripten_bind_b2GearJointDef_set_bodyA_1,Vi=e._emscripten_bind_b2RevoluteJointDef_set_enableMotor_1=i._emscripten_bind_b2RevoluteJointDef_set_enableMotor_1,Wi=e._emscripten_bind_b2PulleyJoint_IsActive_0=i._emscripten_bind_b2PulleyJoint_IsActive_0,Xi=e._emscripten_bind_b2MouseJoint_GetNext_0=i._emscripten_bind_b2MouseJoint_GetNext_0,Yi=e._emscripten_bind_b2Transform_set_p_1=i._emscripten_bind_b2Transform_set_p_1,Zi=e._emscripten_bind_b2EdgeShape_set_m_vertex0_1=i._emscripten_bind_b2EdgeShape_set_m_vertex0_1,$i=e._emscripten_bind_b2PulleyJointDef_get_lengthB_0=i._emscripten_bind_b2PulleyJointDef_get_lengthB_0,aj=e._emscripten_bind_b2WeldJoint_SetUserData_1=i._emscripten_bind_b2WeldJoint_SetUserData_1,bj=e._emscripten_bind_b2Fixture_SetSensor_1=i._emscripten_bind_b2Fixture_SetSensor_1,cj=e._emscripten_bind_b2GearJointDef_get_joint1_0=i._emscripten_bind_b2GearJointDef_get_joint1_0,dj=e._emscripten_bind_b2PrismaticJoint_GetMotorForce_1=i._emscripten_bind_b2PrismaticJoint_GetMotorForce_1,ej=e._emscripten_bind_b2DistanceJoint_GetBodyA_0=i._emscripten_bind_b2DistanceJoint_GetBodyA_0,fj=e._emscripten_bind_b2GearJoint_IsActive_0=i._emscripten_bind_b2GearJoint_IsActive_0,gj=e._emscripten_bind_b2EdgeShape_get_m_vertex0_0=i._emscripten_bind_b2EdgeShape_get_m_vertex0_0,hj=e._emscripten_bind_b2World_GetBodyCount_0=i._emscripten_bind_b2World_GetBodyCount_0,ij=e._emscripten_bind_b2Fixture_GetMassData_1=i._emscripten_bind_b2Fixture_GetMassData_1,jj=e._emscripten_bind_b2WeldJointDef_get_collideConnected_0=i._emscripten_bind_b2WeldJointDef_get_collideConnected_0,kj=e._emscripten_bind_b2FrictionJoint_GetMaxTorque_0=i._emscripten_bind_b2FrictionJoint_GetMaxTorque_0,lj=e._emscripten_bind_b2EdgeShape_RayCast_4=i._emscripten_bind_b2EdgeShape_RayCast_4,mj=e._emscripten_bind_b2BodyDef_set_allowSleep_1=i._emscripten_bind_b2BodyDef_set_allowSleep_1,nj=e._emscripten_bind_b2PulleyJoint_GetType_0=i._emscripten_bind_b2PulleyJoint_GetType_0,oj=e._emscripten_bind_b2WeldJointDef_set_localAnchorA_1=i._emscripten_bind_b2WeldJointDef_set_localAnchorA_1,pj=e._emscripten_bind_b2Profile_set_step_1=i._emscripten_bind_b2Profile_set_step_1,qj=e._emscripten_bind_b2ContactEdge_set_other_1=i._emscripten_bind_b2ContactEdge_set_other_1,rj=e._emscripten_bind_b2PulleyJoint_GetCurrentLengthB_0=i._emscripten_bind_b2PulleyJoint_GetCurrentLengthB_0,sj=e._emscripten_bind_b2Vec2_op_mul_1=i._emscripten_bind_b2Vec2_op_mul_1,tj=e._emscripten_bind_b2PrismaticJointDef_get_localAnchorA_0=i._emscripten_bind_b2PrismaticJointDef_get_localAnchorA_0,uj=e._emscripten_bind_b2EdgeShape___destroy___0=i._emscripten_bind_b2EdgeShape___destroy___0,vj=e._emscripten_bind_b2RopeJoint_GetAnchorA_0=i._emscripten_bind_b2RopeJoint_GetAnchorA_0,wj=e._emscripten_bind_b2World_GetContactCount_0=i._emscripten_bind_b2World_GetContactCount_0,xj=e._emscripten_bind_b2MotorJointDef_set_correctionFactor_1=i._emscripten_bind_b2MotorJointDef_set_correctionFactor_1,yj=e._emscripten_bind_b2DistanceJointDef_set_userData_1=i._emscripten_bind_b2DistanceJointDef_set_userData_1,zj=e._emscripten_bind_b2ContactEdge_get_other_0=i._emscripten_bind_b2ContactEdge_get_other_0,Aj=e._emscripten_bind_b2RopeJoint_GetLocalAnchorB_0=i._emscripten_bind_b2RopeJoint_GetLocalAnchorB_0,Bj=e._emscripten_bind_b2PulleyJointDef___destroy___0=i._emscripten_bind_b2PulleyJointDef___destroy___0,Cj=e._emscripten_bind_b2MouseJoint_GetBodyB_0=i._emscripten_bind_b2MouseJoint_GetBodyB_0,Dj=e._emscripten_bind_b2PolygonShape_TestPoint_2=i._emscripten_bind_b2PolygonShape_TestPoint_2,Ej=e._emscripten_bind_b2EdgeShape_set_m_vertex3_1=i._emscripten_bind_b2EdgeShape_set_m_vertex3_1,Fj=e._emscripten_bind_b2PolygonShape_b2PolygonShape_0=i._emscripten_bind_b2PolygonShape_b2PolygonShape_0,Gj=e._emscripten_bind_b2GearJointDef_set_ratio_1=i._emscripten_bind_b2GearJointDef_set_ratio_1,Hj=e._emscripten_bind_b2WheelJoint_SetMaxMotorTorque_1=i._emscripten_bind_b2WheelJoint_SetMaxMotorTorque_1,Ij=e._emscripten_bind_b2WheelJointDef_get_localAxisA_0=i._emscripten_bind_b2WheelJointDef_get_localAxisA_0,Jj=e._emscripten_bind_b2DistanceJointDef_get_localAnchorA_0=i._emscripten_bind_b2DistanceJointDef_get_localAnchorA_0,Kj=e._emscripten_bind_b2MassData_set_center_1=i._emscripten_bind_b2MassData_set_center_1,Lj=e._emscripten_bind_b2Contact_SetTangentSpeed_1=i._emscripten_bind_b2Contact_SetTangentSpeed_1,Mj=e._emscripten_bind_b2FrictionJointDef_get_localAnchorB_0=i._emscripten_bind_b2FrictionJointDef_get_localAnchorB_0,Nj=e._emscripten_bind_b2BodyDef_get_active_0=i._emscripten_bind_b2BodyDef_get_active_0,Oj=e._emscripten_bind_b2Body_GetAngularVelocity_0=i._emscripten_bind_b2Body_GetAngularVelocity_0,Pj=e._emscripten_bind_b2WeldJoint_GetBodyB_0=i._emscripten_bind_b2WeldJoint_GetBodyB_0,Qj=e._emscripten_bind_b2Draw___destroy___0=i._emscripten_bind_b2Draw___destroy___0,Rj=e._emscripten_bind_b2WheelJointDef_Initialize_4=i._emscripten_bind_b2WheelJointDef_Initialize_4,Sj=e._emscripten_bind_b2WeldJointDef_set_dampingRatio_1=i._emscripten_bind_b2WeldJointDef_set_dampingRatio_1,Tj=e._emscripten_bind_b2Contact_IsEnabled_0=i._emscripten_bind_b2Contact_IsEnabled_0,Uj=e._emscripten_bind_b2Joint_GetAnchorB_0=i._emscripten_bind_b2Joint_GetAnchorB_0,Vj=e._emscripten_bind_b2PrismaticJointDef_get_userData_0=i._emscripten_bind_b2PrismaticJointDef_get_userData_0,Wj=e._emscripten_bind_b2MotorJoint_GetMaxForce_0=i._emscripten_bind_b2MotorJoint_GetMaxForce_0,Xj=e._emscripten_bind_b2RevoluteJoint_GetBodyA_0=i._emscripten_bind_b2RevoluteJoint_GetBodyA_0,Yj=e._emscripten_bind_b2ContactID_set_cf_1=i._emscripten_bind_b2ContactID_set_cf_1,Zj=e._emscripten_bind_b2Rot_GetXAxis_0=i._emscripten_bind_b2Rot_GetXAxis_0,$j=e._emscripten_bind_b2ContactEdge_set_prev_1=i._emscripten_bind_b2ContactEdge_set_prev_1,ak=e._emscripten_bind_b2Vec3_Set_3=i._emscripten_bind_b2Vec3_Set_3,bk=e._emscripten_bind_b2Fixture_GetNext_0=i._emscripten_bind_b2Fixture_GetNext_0,ck=e._emscripten_bind_b2FrictionJointDef_set_localAnchorB_1=i._emscripten_bind_b2FrictionJointDef_set_localAnchorB_1,dk=e._emscripten_bind_b2PulleyJoint_GetNext_0=i._emscripten_bind_b2PulleyJoint_GetNext_0,ek=e._emscripten_bind_b2ChainShape_get_m_type_0=i._emscripten_bind_b2ChainShape_get_m_type_0,fk=e._emscripten_bind_b2GearJointDef_get_bodyA_0=i._emscripten_bind_b2GearJointDef_get_bodyA_0,gk=e._emscripten_bind_b2DistanceJointDef_set_frequencyHz_1=i._emscripten_bind_b2DistanceJointDef_set_frequencyHz_1,hk=e._emscripten_bind_b2RevoluteJointDef_get_localAnchorB_0=i._emscripten_bind_b2RevoluteJointDef_get_localAnchorB_0,ik=e._emscripten_bind_b2RevoluteJointDef_get_referenceAngle_0=i._emscripten_bind_b2RevoluteJointDef_get_referenceAngle_0,jk=e._emscripten_bind_JSContactFilter___destroy___0=i._emscripten_bind_JSContactFilter___destroy___0,Wb=e._memset=i._memset,kk=e._emscripten_bind_b2PolygonShape_get_m_radius_0=i._emscripten_bind_b2PolygonShape_get_m_radius_0,lk=e._emscripten_bind_b2RopeJoint_GetUserData_0=i._emscripten_bind_b2RopeJoint_GetUserData_0,mk=e._emscripten_bind_b2RopeJointDef_get_bodyA_0=i._emscripten_bind_b2RopeJointDef_get_bodyA_0,nk=e._emscripten_bind_b2DistanceJointDef_get_dampingRatio_0=i._emscripten_bind_b2DistanceJointDef_get_dampingRatio_0,ok=e._emscripten_enum_b2ManifoldType_e_faceA=i._emscripten_enum_b2ManifoldType_e_faceA,pk=e._emscripten_enum_b2ManifoldType_e_faceB=i._emscripten_enum_b2ManifoldType_e_faceB,qk=e._emscripten_bind_b2RevoluteJointDef_get_bodyB_0=i._emscripten_bind_b2RevoluteJointDef_get_bodyB_0,rk=e._emscripten_bind_b2FixtureDef_b2FixtureDef_0=i._emscripten_bind_b2FixtureDef_b2FixtureDef_0,sk=e._emscripten_bind_b2PrismaticJoint_SetUserData_1=i._emscripten_bind_b2PrismaticJoint_SetUserData_1,tk=e._emscripten_bind_b2EdgeShape_get_m_hasVertex3_0=i._emscripten_bind_b2EdgeShape_get_m_hasVertex3_0,uk=e._emscripten_enum_b2ShapeType_e_edge=i._emscripten_enum_b2ShapeType_e_edge,vk=e._emscripten_bind_b2RevoluteJoint_GetMaxMotorTorque_0=i._emscripten_bind_b2RevoluteJoint_GetMaxMotorTorque_0,wk=e._emscripten_bind_b2BodyDef_set_active_1=i._emscripten_bind_b2BodyDef_set_active_1,xk=e._emscripten_bind_b2DistanceJointDef_set_localAnchorB_1=i._emscripten_bind_b2DistanceJointDef_set_localAnchorB_1,yk=e._emscripten_bind_b2Body_GetWorldPoint_1=i._emscripten_bind_b2Body_GetWorldPoint_1,zk=e._emscripten_bind_b2ManifoldPoint_get_normalImpulse_0=i._emscripten_bind_b2ManifoldPoint_get_normalImpulse_0,Ak=e._emscripten_bind_JSContactFilter_ShouldCollide_2=i._emscripten_bind_JSContactFilter_ShouldCollide_2,Bk=e._emscripten_bind_b2Joint_GetReactionTorque_1=i._emscripten_bind_b2Joint_GetReactionTorque_1,Ck=e._emscripten_bind_b2RevoluteJointDef_set_type_1=i._emscripten_bind_b2RevoluteJointDef_set_type_1,Dk=e._emscripten_bind_b2RopeJointDef_b2RopeJointDef_0=i._emscripten_bind_b2RopeJointDef_b2RopeJointDef_0,Ek=e._emscripten_bind_b2BodyDef_get_linearDamping_0=i._emscripten_bind_b2BodyDef_get_linearDamping_0,Fk=e._emscripten_bind_b2MotorJointDef_get_bodyB_0=i._emscripten_bind_b2MotorJointDef_get_bodyB_0,Gk=e._emscripten_bind_b2World_Step_3=i._emscripten_bind_b2World_Step_3,Hk=e._emscripten_bind_b2CircleShape_RayCast_4=i._emscripten_bind_b2CircleShape_RayCast_4,Ik=e._emscripten_bind_b2Profile_get_step_0=i._emscripten_bind_b2Profile_get_step_0,Jk=e._emscripten_bind_b2Vec3_b2Vec3_0=i._emscripten_bind_b2Vec3_b2Vec3_0,Kk=e._emscripten_bind_b2Vec3_b2Vec3_3=i._emscripten_bind_b2Vec3_b2Vec3_3,Lk=e._emscripten_bind_b2PulleyJoint_GetLengthB_0=i._emscripten_bind_b2PulleyJoint_GetLengthB_0,Mk=e._emscripten_bind_b2Filter_set_categoryBits_1=i._emscripten_bind_b2Filter_set_categoryBits_1,Nk=e._emscripten_bind_b2MotorJoint_GetUserData_0=i._emscripten_bind_b2MotorJoint_GetUserData_0,Ok=e._emscripten_bind_b2PrismaticJoint_GetLocalAnchorA_0=i._emscripten_bind_b2PrismaticJoint_GetLocalAnchorA_0,Pk=e._emscripten_bind_b2Shape_get_m_type_0=i._emscripten_bind_b2Shape_get_m_type_0,Qk=e._emscripten_bind_b2MouseJoint_SetDampingRatio_1=i._emscripten_bind_b2MouseJoint_SetDampingRatio_1,Rk=e._emscripten_bind_b2World_GetAutoClearForces_0=i._emscripten_bind_b2World_GetAutoClearForces_0,Sk=e._emscripten_enum_b2ShapeType_e_circle=i._emscripten_enum_b2ShapeType_e_circle,Tk=e._emscripten_bind_b2BodyDef_set_fixedRotation_1=i._emscripten_bind_b2BodyDef_set_fixedRotation_1,Uk=e._emscripten_bind_b2RopeJoint_GetLimitState_0=i._emscripten_bind_b2RopeJoint_GetLimitState_0,Vk=e._emscripten_bind_b2JointDef_get_collideConnected_0=i._emscripten_bind_b2JointDef_get_collideConnected_0,Wk=e._emscripten_bind_b2Body_Dump_0=i._emscripten_bind_b2Body_Dump_0,Xk=e._emscripten_bind_b2RevoluteJoint_GetLowerLimit_0=i._emscripten_bind_b2RevoluteJoint_GetLowerLimit_0,Yk=e._emscripten_bind_b2Body_GetWorldCenter_0=i._emscripten_bind_b2Body_GetWorldCenter_0,Zk=e._emscripten_bind_JSContactListener___destroy___0=i._emscripten_bind_JSContactListener___destroy___0,$k=e._emscripten_bind_b2BodyDef_set_linearVelocity_1=i._emscripten_bind_b2BodyDef_set_linearVelocity_1,al=e._emscripten_bind_b2JointDef_set_collideConnected_1=i._emscripten_bind_b2JointDef_set_collideConnected_1,bl=e._emscripten_bind_b2MotorJoint___destroy___0=i._emscripten_bind_b2MotorJoint___destroy___0,cl=e._emscripten_bind_b2Body_GetUserData_0=i._emscripten_bind_b2Body_GetUserData_0,dl=e._emscripten_bind_b2World_GetContinuousPhysics_0=i._emscripten_bind_b2World_GetContinuousPhysics_0,el=e._emscripten_bind_b2Fixture_RayCast_3=i._emscripten_bind_b2Fixture_RayCast_3,fl=e._emscripten_bind_b2JointDef_set_bodyA_1=i._emscripten_bind_b2JointDef_set_bodyA_1,gl=e._emscripten_bind_b2GearJointDef_get_collideConnected_0=i._emscripten_bind_b2GearJointDef_get_collideConnected_0,hl=e._emscripten_bind_b2RopeJointDef_get_maxLength_0=i._emscripten_bind_b2RopeJointDef_get_maxLength_0,il=e._emscripten_bind_b2MouseJointDef_get_bodyA_0=i._emscripten_bind_b2MouseJointDef_get_bodyA_0,jl=e._emscripten_bind_b2Body_SetBullet_1=i._emscripten_bind_b2Body_SetBullet_1,kl=e._emscripten_bind_b2DistanceJoint_GetType_0=i._emscripten_bind_b2DistanceJoint_GetType_0,ll=e._emscripten_bind_b2FixtureDef_get_restitution_0=i._emscripten_bind_b2FixtureDef_get_restitution_0,ml=e._emscripten_bind_b2Fixture_GetType_0=i._emscripten_bind_b2Fixture_GetType_0,nl=e._emscripten_bind_b2PulleyJointDef_set_localAnchorB_1=i._emscripten_bind_b2PulleyJointDef_set_localAnchorB_1,ol=e._emscripten_bind_b2RevoluteJoint_GetBodyB_0=i._emscripten_bind_b2RevoluteJoint_GetBodyB_0,pl=e._emscripten_bind_b2Profile_set_solveInit_1=i._emscripten_bind_b2Profile_set_solveInit_1,ql=e._emscripten_bind_b2RopeJointDef_set_type_1=i._emscripten_bind_b2RopeJointDef_set_type_1,rl=e._emscripten_bind_b2PrismaticJointDef_get_bodyB_0=i._emscripten_bind_b2PrismaticJointDef_get_bodyB_0,sl=e._emscripten_bind_b2Body_SetLinearVelocity_1=i._emscripten_bind_b2Body_SetLinearVelocity_1,tl=e._emscripten_bind_b2RevoluteJoint_GetReferenceAngle_0=i._emscripten_bind_b2RevoluteJoint_GetReferenceAngle_0,ul=e._emscripten_bind_b2PulleyJointDef_get_userData_0=i._emscripten_bind_b2PulleyJointDef_get_userData_0,vl=e._emscripten_bind_b2PrismaticJointDef_set_bodyB_1=i._emscripten_bind_b2PrismaticJointDef_set_bodyB_1,wl=e._emscripten_bind_b2FrictionJointDef_b2FrictionJointDef_0=i._emscripten_bind_b2FrictionJointDef_b2FrictionJointDef_0,eb=e._free=i._free,xl=e._emscripten_bind_b2PulleyJoint_GetCurrentLengthA_0=i._emscripten_bind_b2PulleyJoint_GetCurrentLengthA_0,yl=e._emscripten_bind_b2Manifold_get_localNormal_0=i._emscripten_bind_b2Manifold_get_localNormal_0,zl=e._emscripten_bind_b2AABB_RayCast_2=i._emscripten_bind_b2AABB_RayCast_2,Al=e._emscripten_bind_b2FixtureDef_set_isSensor_1=i._emscripten_bind_b2FixtureDef_set_isSensor_1,Bl=e._emscripten_bind_b2RopeJoint_GetBodyB_0=i._emscripten_bind_b2RopeJoint_GetBodyB_0,Cl=e._emscripten_bind_b2PrismaticJoint_GetAnchorA_0=i._emscripten_bind_b2PrismaticJoint_GetAnchorA_0,Dl=e._emscripten_bind_b2ChainShape_set_m_count_1=i._emscripten_bind_b2ChainShape_set_m_count_1,El=e._emscripten_bind_b2PrismaticJoint_IsMotorEnabled_0=i._emscripten_bind_b2PrismaticJoint_IsMotorEnabled_0,Fl=e._emscripten_bind_b2WeldJoint_GetFrequency_0=i._emscripten_bind_b2WeldJoint_GetFrequency_0,Gl=e._emscripten_bind_b2Joint_GetUserData_0=i._emscripten_bind_b2Joint_GetUserData_0,Hl=e._emscripten_bind_b2RevoluteJointDef_get_lowerAngle_0=i._emscripten_bind_b2RevoluteJointDef_get_lowerAngle_0,Il=e._emscripten_bind_b2Manifold_set_type_1=i._emscripten_bind_b2Manifold_set_type_1,Jl=e._emscripten_bind_b2DistanceJoint_GetLength_0=i._emscripten_bind_b2DistanceJoint_GetLength_0,Kl=e._emscripten_bind_b2RopeJointDef_set_maxLength_1=i._emscripten_bind_b2RopeJointDef_set_maxLength_1,Ll=e._emscripten_bind_b2ChainShape_TestPoint_2=i._emscripten_bind_b2ChainShape_TestPoint_2,Ml=e._emscripten_bind_b2PrismaticJoint_GetReferenceAngle_0=i._emscripten_bind_b2PrismaticJoint_GetReferenceAngle_0,Nl=e._emscripten_bind_b2RayCastInput_get_p2_0=i._emscripten_bind_b2RayCastInput_get_p2_0,Ol=e._emscripten_bind_b2RevoluteJoint_EnableLimit_1=i._emscripten_bind_b2RevoluteJoint_EnableLimit_1,Pl=e._emscripten_bind_b2BodyDef_set_angle_1=i._emscripten_bind_b2BodyDef_set_angle_1,Ql=e._emscripten_bind_b2WeldJoint_GetUserData_0=i._emscripten_bind_b2WeldJoint_GetUserData_0,Rl=e._emscripten_bind_b2WheelJointDef_get_localAnchorA_0=i._emscripten_bind_b2WheelJointDef_get_localAnchorA_0,Sl=e._emscripten_bind_b2PulleyJointDef_set_type_1=i._emscripten_bind_b2PulleyJointDef_set_type_1,Tl=e._emscripten_bind_b2Body_IsBullet_0=i._emscripten_bind_b2Body_IsBullet_0,Ul=e._emscripten_bind_b2MotorJointDef_set_bodyA_1=i._emscripten_bind_b2MotorJointDef_set_bodyA_1,Vl=e._emscripten_bind_b2Mat33_GetSymInverse33_1=i._emscripten_bind_b2Mat33_GetSymInverse33_1,Wl=e._emscripten_bind_b2Body_ApplyLinearImpulse_3=i._emscripten_bind_b2Body_ApplyLinearImpulse_3,Xl=e._emscripten_bind_b2PolygonShape_ComputeMass_2=i._emscripten_bind_b2PolygonShape_ComputeMass_2,Yl=e._emscripten_bind_b2WeldJoint_GetLocalAnchorA_0=i._emscripten_bind_b2WeldJoint_GetLocalAnchorA_0,Zl=e._emscripten_bind_b2MouseJoint_SetFrequency_1=i._emscripten_bind_b2MouseJoint_SetFrequency_1,$l=e._emscripten_bind_b2EdgeShape_get_m_vertex1_0=i._emscripten_bind_b2EdgeShape_get_m_vertex1_0,am=e._emscripten_bind_b2BodyDef_set_awake_1=i._emscripten_bind_b2BodyDef_set_awake_1,bm=e._emscripten_bind_b2Vec2_get_y_0=i._emscripten_bind_b2Vec2_get_y_0,cm=e._emscripten_bind_b2Body_CreateFixture_1=i._emscripten_bind_b2Body_CreateFixture_1,dm=e._emscripten_bind_b2Body_CreateFixture_2=i._emscripten_bind_b2Body_CreateFixture_2,em=e._emscripten_bind_b2PulleyJoint_GetUserData_0=i._emscripten_bind_b2PulleyJoint_GetUserData_0,fm=e._emscripten_bind_b2Body_SetActive_1=i._emscripten_bind_b2Body_SetActive_1,gm=e._emscripten_bind_b2Fixture_GetUserData_0=i._emscripten_bind_b2Fixture_GetUserData_0,hm=e._emscripten_bind_b2PolygonShape_ComputeAABB_3=i._emscripten_bind_b2PolygonShape_ComputeAABB_3,im=e._emscripten_bind_b2ContactFeature_get_typeA_0=i._emscripten_bind_b2ContactFeature_get_typeA_0,jm=e._emscripten_bind_b2MouseJoint_GetReactionForce_1=i._emscripten_bind_b2MouseJoint_GetReactionForce_1,km=e._emscripten_bind_b2FrictionJoint_GetReactionTorque_1=i._emscripten_bind_b2FrictionJoint_GetReactionTorque_1,lm=e._emscripten_bind_b2EdgeShape_TestPoint_2=i._emscripten_bind_b2EdgeShape_TestPoint_2,mc=e._memcpy=i._memcpy,mm=e._emscripten_bind_b2PolygonShape_get_m_centroid_0=i._emscripten_bind_b2PolygonShape_get_m_centroid_0,nm=e._emscripten_bind_b2ChainShape___destroy___0=i._emscripten_bind_b2ChainShape___destroy___0,om=e._emscripten_bind_b2GearJoint_SetUserData_1=i._emscripten_bind_b2GearJoint_SetUserData_1,pm=e._emscripten_bind_b2Vec3_set_z_1=i._emscripten_bind_b2Vec3_set_z_1,qm=e._emscripten_bind_b2PrismaticJointDef_set_enableLimit_1=i._emscripten_bind_b2PrismaticJointDef_set_enableLimit_1,rm=e._emscripten_bind_b2DistanceJoint_GetFrequency_0=i._emscripten_bind_b2DistanceJoint_GetFrequency_0,sm=e._emscripten_bind_b2Body_SetGravityScale_1=i._emscripten_bind_b2Body_SetGravityScale_1,tm=e._emscripten_enum_b2ContactFeatureType_e_face=i._emscripten_enum_b2ContactFeatureType_e_face,um=e._emscripten_bind_b2AABB_GetPerimeter_0=i._emscripten_bind_b2AABB_GetPerimeter_0,vm=e._emscripten_bind_b2PulleyJointDef_get_lengthA_0=i._emscripten_bind_b2PulleyJointDef_get_lengthA_0,wm=e._emscripten_bind_b2Vec3_set_x_1=i._emscripten_bind_b2Vec3_set_x_1,xm=e._emscripten_bind_b2PulleyJointDef_get_type_0=i._emscripten_bind_b2PulleyJointDef_get_type_0,ym=e._emscripten_bind_JSDestructionListener_SayGoodbyeJoint_1=i._emscripten_bind_JSDestructionListener_SayGoodbyeJoint_1,zm=e._emscripten_bind_b2Shape___destroy___0=i._emscripten_bind_b2Shape___destroy___0,Yb=e._strlen=i._strlen,Am=e._emscripten_bind_b2Color_set_b_1=i._emscripten_bind_b2Color_set_b_1,Bm=e._emscripten_bind_b2Joint_GetReactionForce_1=i._emscripten_bind_b2Joint_GetReactionForce_1,Cm=e._emscripten_bind_b2FixtureDef_set_friction_1=i._emscripten_bind_b2FixtureDef_set_friction_1,Dm=e._emscripten_bind_b2ContactID___destroy___0=i._emscripten_bind_b2ContactID___destroy___0,Em=e._emscripten_bind_b2EdgeShape_get_m_hasVertex0_0=i._emscripten_bind_b2EdgeShape_get_m_hasVertex0_0,Fm=e._emscripten_bind_JSRayCastCallback_ReportFixture_4=i._emscripten_bind_JSRayCastCallback_ReportFixture_4,Gm=e._emscripten_bind_b2MotorJointDef_get_linearOffset_0=i._emscripten_bind_b2MotorJointDef_get_linearOffset_0,Hm=e._emscripten_bind_b2Profile_set_solveVelocity_1=i._emscripten_bind_b2Profile_set_solveVelocity_1,Im=e._emscripten_bind_b2PrismaticJoint_GetAnchorB_0=i._emscripten_bind_b2PrismaticJoint_GetAnchorB_0,Jm=e._emscripten_bind_b2WeldJointDef_b2WeldJointDef_0=i._emscripten_bind_b2WeldJointDef_b2WeldJointDef_0,Km=e._emscripten_enum_b2BodyType_b2_staticBody=i._emscripten_enum_b2BodyType_b2_staticBody,Lm=e._emscripten_bind_b2RevoluteJointDef_set_upperAngle_1=i._emscripten_bind_b2RevoluteJointDef_set_upperAngle_1,Mm=e._emscripten_bind_b2RevoluteJointDef_get_type_0=i._emscripten_bind_b2RevoluteJointDef_get_type_0,Nm=e._emscripten_bind_b2GearJointDef_get_type_0=i._emscripten_bind_b2GearJointDef_get_type_0,Om=e._emscripten_bind_b2ChainShape_GetType_0=i._emscripten_bind_b2ChainShape_GetType_0,Pm=e._emscripten_bind_b2RayCastInput_get_maxFraction_0=i._emscripten_bind_b2RayCastInput_get_maxFraction_0,Qm=e._emscripten_bind_b2GearJoint_GetBodyA_0=i._emscripten_bind_b2GearJoint_GetBodyA_0,Rm=e._emscripten_bind_b2Body_GetLocalVector_1=i._emscripten_bind_b2Body_GetLocalVector_1,Sm=e._emscripten_bind_b2PrismaticJoint_EnableLimit_1=i._emscripten_bind_b2PrismaticJoint_EnableLimit_1,Tm=e._emscripten_bind_b2FrictionJointDef_get_maxForce_0=i._emscripten_bind_b2FrictionJointDef_get_maxForce_0,Um=e._emscripten_bind_b2BodyDef_set_angularVelocity_1=i._emscripten_bind_b2BodyDef_set_angularVelocity_1,Vm=e._emscripten_bind_b2Body_SetLinearDamping_1=i._emscripten_bind_b2Body_SetLinearDamping_1,Wm=e._emscripten_bind_b2WheelJoint_GetBodyB_0=i._emscripten_bind_b2WheelJoint_GetBodyB_0,Xm=e._emscripten_bind_b2Color___destroy___0=i._emscripten_bind_b2Color___destroy___0,Ym=e._emscripten_bind_b2PrismaticJoint_IsActive_0=i._emscripten_bind_b2PrismaticJoint_IsActive_0,Zm=e._emscripten_bind_b2Filter_get_categoryBits_0=i._emscripten_bind_b2Filter_get_categoryBits_0,$m=e._emscripten_enum_b2JointType_e_weldJoint=i._emscripten_enum_b2JointType_e_weldJoint,an=e._emscripten_bind_b2World_SetContinuousPhysics_1=i._emscripten_bind_b2World_SetContinuousPhysics_1,bn=e._emscripten_bind_b2MouseJointDef_get_target_0=i._emscripten_bind_b2MouseJointDef_get_target_0,cn=e._emscripten_bind_b2Manifold_b2Manifold_0=i._emscripten_bind_b2Manifold_b2Manifold_0,dn=e._emscripten_bind_b2PulleyJointDef_set_userData_1=i._emscripten_bind_b2PulleyJointDef_set_userData_1,en=e._emscripten_bind_b2FrictionJointDef_set_maxForce_1=i._emscripten_bind_b2FrictionJointDef_set_maxForce_1,fn=e._emscripten_bind_b2DistanceJointDef_b2DistanceJointDef_0=i._emscripten_bind_b2DistanceJointDef_b2DistanceJointDef_0,gn=e._emscripten_bind_b2PolygonShape_set_m_centroid_1=i._emscripten_bind_b2PolygonShape_set_m_centroid_1,hn=e._emscripten_bind_b2Mat33_GetInverse22_1=i._emscripten_bind_b2Mat33_GetInverse22_1,jn=e._emscripten_bind_b2PolygonShape_SetAsBox_4=i._emscripten_bind_b2PolygonShape_SetAsBox_4,kn=e._emscripten_bind_b2EdgeShape_get_m_vertex2_0=i._emscripten_bind_b2EdgeShape_get_m_vertex2_0,ln=e._emscripten_bind_b2WheelJoint_GetReactionTorque_1=i._emscripten_bind_b2WheelJoint_GetReactionTorque_1,mn=e._emscripten_bind_b2RevoluteJointDef_b2RevoluteJointDef_0=i._emscripten_bind_b2RevoluteJointDef_b2RevoluteJointDef_0,nn=e._emscripten_bind_b2ContactFeature_set_typeA_1=i._emscripten_bind_b2ContactFeature_set_typeA_1,on=e._emscripten_bind_b2Fixture_Dump_1=i._emscripten_bind_b2Fixture_Dump_1,pn=e._emscripten_bind_b2World_GetJointList_0=i._emscripten_bind_b2World_GetJointList_0,qn=e._emscripten_bind_b2Manifold_set_localPoint_1=i._emscripten_bind_b2Manifold_set_localPoint_1,rn=e._emscripten_bind_b2DistanceJoint_SetUserData_1=i._emscripten_bind_b2DistanceJoint_SetUserData_1,sn=e._emscripten_bind_b2BodyDef_set_bullet_1=i._emscripten_bind_b2BodyDef_set_bullet_1,tn=e._emscripten_bind_b2RayCastOutput___destroy___0=i._emscripten_bind_b2RayCastOutput___destroy___0;e.___cxa_can_catch=i.___cxa_can_catch;var un=e._emscripten_bind_b2WheelJoint_GetNext_0=i._emscripten_bind_b2WheelJoint_GetNext_0,vn=e._emscripten_bind_b2AABB_GetCenter_0=i._emscripten_bind_b2AABB_GetCenter_0,wn=e._emscripten_bind_b2Filter_set_groupIndex_1=i._emscripten_bind_b2Filter_set_groupIndex_1,xn=e._emscripten_bind_b2JointDef_b2JointDef_0=i._emscripten_bind_b2JointDef_b2JointDef_0,yn=e._emscripten_bind_b2CircleShape_b2CircleShape_0=i._emscripten_bind_b2CircleShape_b2CircleShape_0,zn=e._emscripten_bind_b2GearJointDef_b2GearJointDef_0=i._emscripten_bind_b2GearJointDef_b2GearJointDef_0,An=e._emscripten_bind_b2JointDef_get_bodyB_0=i._emscripten_bind_b2JointDef_get_bodyB_0,Bn=e._emscripten_bind_b2DistanceJoint_GetReactionForce_1=i._emscripten_bind_b2DistanceJoint_GetReactionForce_1,Cn=e._emscripten_bind_b2PrismaticJoint_GetJointSpeed_0=i._emscripten_bind_b2PrismaticJoint_GetJointSpeed_0,Dn=e._emscripten_bind_b2PulleyJointDef_get_groundAnchorB_0=i._emscripten_bind_b2PulleyJointDef_get_groundAnchorB_0,En=e._emscripten_bind_b2Joint_GetAnchorA_0=i._emscripten_bind_b2Joint_GetAnchorA_0,Fn=e._emscripten_bind_b2Contact_GetRestitution_0=i._emscripten_bind_b2Contact_GetRestitution_0,Gn=e._emscripten_bind_b2ContactEdge_get_contact_0=i._emscripten_bind_b2ContactEdge_get_contact_0,Hn=e._emscripten_bind_b2RevoluteJointDef_get_userData_0=i._emscripten_bind_b2RevoluteJointDef_get_userData_0,In=e._emscripten_bind_b2Body_ApplyTorque_2=i._emscripten_bind_b2Body_ApplyTorque_2,Jn=e._emscripten_bind_b2Fixture_GetAABB_1=i._emscripten_bind_b2Fixture_GetAABB_1,Kn=e._emscripten_bind_b2DistanceJointDef_Initialize_4=i._emscripten_bind_b2DistanceJointDef_Initialize_4,Ln=e._emscripten_bind_b2PrismaticJointDef_set_collideConnected_1=i._emscripten_bind_b2PrismaticJointDef_set_collideConnected_1,Mn=e._emscripten_bind_b2PrismaticJointDef_set_localAxisA_1=i._emscripten_bind_b2PrismaticJointDef_set_localAxisA_1,Nn=e._emscripten_bind_b2Contact_GetTangentSpeed_0=i._emscripten_bind_b2Contact_GetTangentSpeed_0,On=e._emscripten_enum_b2LimitState_e_atLowerLimit=i._emscripten_enum_b2LimitState_e_atLowerLimit,Pn=e._emscripten_bind_b2ManifoldPoint_set_id_1=i._emscripten_bind_b2ManifoldPoint_set_id_1,Qn=e._emscripten_bind_b2WheelJointDef_get_bodyB_0=i._emscripten_bind_b2WheelJointDef_get_bodyB_0,Rn=e._emscripten_bind_b2WeldJoint_GetLocalAnchorB_0=i._emscripten_bind_b2WeldJoint_GetLocalAnchorB_0,Sn=e._emscripten_bind_b2RevoluteJointDef_set_localAnchorB_1=i._emscripten_bind_b2RevoluteJointDef_set_localAnchorB_1,Tn=e._emscripten_bind_b2RevoluteJoint_GetType_0=i._emscripten_bind_b2RevoluteJoint_GetType_0,Un=e._emscripten_bind_b2Body_DestroyFixture_1=i._emscripten_bind_b2Body_DestroyFixture_1,Vn=e._emscripten_bind_b2Profile_set_broadphase_1=i._emscripten_bind_b2Profile_set_broadphase_1,Wn=e._emscripten_bind_b2WheelJointDef_get_localAnchorB_0=i._emscripten_bind_b2WheelJointDef_get_localAnchorB_0,Xn=e._emscripten_bind_b2ContactImpulse_get_count_0=i._emscripten_bind_b2ContactImpulse_get_count_0,Yn=e._emscripten_bind_b2World_GetJointCount_0=i._emscripten_bind_b2World_GetJointCount_0,Zn=e._emscripten_bind_b2WheelJoint_GetMotorSpeed_0=i._emscripten_bind_b2WheelJoint_GetMotorSpeed_0,$n=e._emscripten_bind_b2Body_GetAngularDamping_0=i._emscripten_bind_b2Body_GetAngularDamping_0,ao=e._emscripten_bind_b2WheelJointDef_get_dampingRatio_0=i._emscripten_bind_b2WheelJointDef_get_dampingRatio_0,bo=e._emscripten_bind_b2RayCastOutput_get_fraction_0=i._emscripten_bind_b2RayCastOutput_get_fraction_0,co=e._emscripten_enum_b2ManifoldType_e_circles=i._emscripten_enum_b2ManifoldType_e_circles,eo=e._emscripten_bind_b2GearJoint_SetRatio_1=i._emscripten_bind_b2GearJoint_SetRatio_1,fo=e._emscripten_bind_JSDraw_DrawPolygon_3=i._emscripten_bind_JSDraw_DrawPolygon_3,go=e._emscripten_bind_b2Filter___destroy___0=i._emscripten_bind_b2Filter___destroy___0,ho=e._emscripten_bind_b2JointEdge_set_next_1=i._emscripten_bind_b2JointEdge_set_next_1;e.___cxa_is_pointer_type=i.___cxa_is_pointer_type;var io=e._emscripten_bind_b2BodyDef_get_fixedRotation_0=i._emscripten_bind_b2BodyDef_get_fixedRotation_0,jo=e._emscripten_bind_b2PrismaticJointDef_set_motorSpeed_1=i._emscripten_bind_b2PrismaticJointDef_set_motorSpeed_1,ko=e._emscripten_bind_b2ChainShape_SetPrevVertex_1=i._emscripten_bind_b2ChainShape_SetPrevVertex_1,lo=e._emscripten_bind_b2MotorJoint_IsActive_0=i._emscripten_bind_b2MotorJoint_IsActive_0,mo=e._emscripten_bind_b2MouseJoint_GetReactionTorque_1=i._emscripten_bind_b2MouseJoint_GetReactionTorque_1,no=e._emscripten_bind_b2MouseJoint_GetUserData_0=i._emscripten_bind_b2MouseJoint_GetUserData_0,oo=e._emscripten_bind_b2WheelJoint_GetUserData_0=i._emscripten_bind_b2WheelJoint_GetUserData_0,po=e._emscripten_bind_b2Vec3_op_sub_1=i._emscripten_bind_b2Vec3_op_sub_1,qo=e._emscripten_bind_b2BodyDef_get_gravityScale_0=i._emscripten_bind_b2BodyDef_get_gravityScale_0,ro=e._emscripten_bind_b2Shape_GetType_0=i._emscripten_bind_b2Shape_GetType_0,so=e._emscripten_bind_b2AABB_IsValid_0=i._emscripten_bind_b2AABB_IsValid_0,to=e._emscripten_bind_b2WheelJoint_GetBodyA_0=i._emscripten_bind_b2WheelJoint_GetBodyA_0,uo=e._emscripten_bind_JSDraw_DrawTransform_1=i._emscripten_bind_JSDraw_DrawTransform_1,vo=e._emscripten_bind_b2PulleyJoint_GetLengthA_0=i._emscripten_bind_b2PulleyJoint_GetLengthA_0,wo=e._emscripten_bind_b2DistanceJointDef_get_frequencyHz_0=i._emscripten_bind_b2DistanceJointDef_get_frequencyHz_0,xo=e._emscripten_bind_b2RevoluteJoint_SetMotorSpeed_1=i._emscripten_bind_b2RevoluteJoint_SetMotorSpeed_1,yo=e._emscripten_bind_b2World___destroy___0=i._emscripten_bind_b2World___destroy___0,zo=e._emscripten_bind_b2ChainShape_get_m_hasNextVertex_0=i._emscripten_bind_b2ChainShape_get_m_hasNextVertex_0,Ao=e._emscripten_bind_b2ChainShape_SetNextVertex_1=i._emscripten_bind_b2ChainShape_SetNextVertex_1,Bo=e._emscripten_bind_b2Body_SetType_1=i._emscripten_bind_b2Body_SetType_1,Co=e._emscripten_bind_b2Body_GetMass_0=i._emscripten_bind_b2Body_GetMass_0,Do=e._emscripten_bind_b2Rot_b2Rot_0=i._emscripten_bind_b2Rot_b2Rot_0,Eo=e._emscripten_bind_b2Rot_b2Rot_1=i._emscripten_bind_b2Rot_b2Rot_1,Fo=e._emscripten_enum_b2JointType_e_distanceJoint=i._emscripten_enum_b2JointType_e_distanceJoint,Go=e._emscripten_bind_b2PulleyJoint___destroy___0=i._emscripten_bind_b2PulleyJoint___destroy___0,Ho=e._emscripten_bind_b2PrismaticJoint_GetLocalAnchorB_0=i._emscripten_bind_b2PrismaticJoint_GetLocalAnchorB_0,Io=e._emscripten_bind_b2MouseJoint_GetType_0=i._emscripten_bind_b2MouseJoint_GetType_0,Jo=e._emscripten_bind_JSQueryCallback___destroy___0=i._emscripten_bind_JSQueryCallback___destroy___0,Ko=e._emscripten_bind_b2RevoluteJointDef_set_lowerAngle_1=i._emscripten_bind_b2RevoluteJointDef_set_lowerAngle_1,Lo=e._emscripten_bind_b2JointEdge___destroy___0=i._emscripten_bind_b2JointEdge___destroy___0,Mo=e._emscripten_bind_b2PulleyJoint_GetRatio_0=i._emscripten_bind_b2PulleyJoint_GetRatio_0,No=e._emscripten_bind_JSContactListener_BeginContact_1=i._emscripten_bind_JSContactListener_BeginContact_1,Oo=e._emscripten_bind_b2MotorJointDef_set_linearOffset_1=i._emscripten_bind_b2MotorJointDef_set_linearOffset_1,Po=e._emscripten_enum_b2JointType_e_motorJoint=i._emscripten_enum_b2JointType_e_motorJoint,Qo=e._emscripten_bind_b2JointEdge_get_next_0=i._emscripten_bind_b2JointEdge_get_next_0,Ro=e._emscripten_bind_b2RayCastInput_set_maxFraction_1=i._emscripten_bind_b2RayCastInput_set_maxFraction_1,So=e._emscripten_bind_b2MouseJoint_GetBodyA_0=i._emscripten_bind_b2MouseJoint_GetBodyA_0,To=e._emscripten_bind_b2Profile_set_collide_1=i._emscripten_bind_b2Profile_set_collide_1,Uo=e._emscripten_bind_b2AABB_b2AABB_0=i._emscripten_bind_b2AABB_b2AABB_0,Vo=e._emscripten_bind_b2Fixture_Refilter_0=i._emscripten_bind_b2Fixture_Refilter_0,Wo=e._emscripten_bind_b2World_CreateBody_1=i._emscripten_bind_b2World_CreateBody_1,Xo=e._emscripten_bind_b2RopeJointDef_set_userData_1=i._emscripten_bind_b2RopeJointDef_set_userData_1,Yo=e._emscripten_bind_b2Fixture_IsSensor_0=i._emscripten_bind_b2Fixture_IsSensor_0,Zo=e._emscripten_bind_b2WeldJoint_GetType_0=i._emscripten_bind_b2WeldJoint_GetType_0,$o=e._emscripten_bind_b2PrismaticJointDef_get_motorSpeed_0=i._emscripten_bind_b2PrismaticJointDef_get_motorSpeed_0,ap=e._emscripten_bind_b2Rot___destroy___0=i._emscripten_bind_b2Rot___destroy___0,bp=e._emscripten_bind_b2Filter_get_maskBits_0=i._emscripten_bind_b2Filter_get_maskBits_0,cp=e._emscripten_bind_b2Mat22_get_ex_0=i._emscripten_bind_b2Mat22_get_ex_0,dp=e._emscripten_bind_b2Body_GetFixtureList_0=i._emscripten_bind_b2Body_GetFixtureList_0,ep=e._emscripten_bind_b2RevoluteJointDef_get_enableMotor_0=i._emscripten_bind_b2RevoluteJointDef_get_enableMotor_0,fp=e._emscripten_bind_b2MouseJointDef_set_dampingRatio_1=i._emscripten_bind_b2MouseJointDef_set_dampingRatio_1,gp=e._emscripten_bind_JSRayCastCallback___destroy___0=i._emscripten_bind_JSRayCastCallback___destroy___0,hp=e._emscripten_bind_b2ContactListener___destroy___0=i._emscripten_bind_b2ContactListener___destroy___0,ip=e._emscripten_bind_b2PrismaticJointDef_set_localAnchorB_1=i._emscripten_bind_b2PrismaticJointDef_set_localAnchorB_1,jp=e._emscripten_enum_b2DrawFlag_e_pairBit=i._emscripten_enum_b2DrawFlag_e_pairBit,kp=e._emscripten_bind_b2FrictionJoint___destroy___0=i._emscripten_bind_b2FrictionJoint___destroy___0,lp=e._emscripten_bind_b2WeldJoint_Dump_0=i._emscripten_bind_b2WeldJoint_Dump_0,mp=e._emscripten_bind_b2MotorJoint_SetMaxForce_1=i._emscripten_bind_b2MotorJoint_SetMaxForce_1,np=e._emscripten_bind_b2FrictionJointDef_get_maxTorque_0=i._emscripten_bind_b2FrictionJointDef_get_maxTorque_0,op=e._emscripten_bind_b2FrictionJoint_GetLocalAnchorA_0=i._emscripten_bind_b2FrictionJoint_GetLocalAnchorA_0,pp=e._emscripten_bind_b2WeldJointDef_get_localAnchorB_0=i._emscripten_bind_b2WeldJointDef_get_localAnchorB_0,qp=e._emscripten_bind_b2PrismaticJointDef_get_bodyA_0=i._emscripten_bind_b2PrismaticJointDef_get_bodyA_0,rp=e._emscripten_bind_b2Vec2_IsValid_0=i._emscripten_bind_b2Vec2_IsValid_0,sp=e._emscripten_bind_b2PrismaticJointDef_set_bodyA_1=i._emscripten_bind_b2PrismaticJointDef_set_bodyA_1,tp=e._emscripten_bind_b2World_GetWarmStarting_0=i._emscripten_bind_b2World_GetWarmStarting_0,up=e._emscripten_bind_b2RevoluteJointDef_set_enableLimit_1=i._emscripten_bind_b2RevoluteJointDef_set_enableLimit_1,vp=e._emscripten_bind_b2WeldJointDef___destroy___0=i._emscripten_bind_b2WeldJointDef___destroy___0,wp=e._emscripten_bind_b2Mat22_Solve_1=i._emscripten_bind_b2Mat22_Solve_1,xp=e._emscripten_bind_b2Color_get_g_0=i._emscripten_bind_b2Color_get_g_0,yp=e._emscripten_bind_VoidPtr___destroy___0=i._emscripten_bind_VoidPtr___destroy___0,zp=e._emscripten_bind_b2RopeJoint_GetNext_0=i._emscripten_bind_b2RopeJoint_GetNext_0,Ap=e._emscripten_bind_b2Filter_b2Filter_0=i._emscripten_bind_b2Filter_b2Filter_0,Bp=e._emscripten_bind_b2PolygonShape_GetChildCount_0=i._emscripten_bind_b2PolygonShape_GetChildCount_0,Cp=e._emscripten_bind_b2GearJointDef_get_ratio_0=i._emscripten_bind_b2GearJointDef_get_ratio_0,Dp=e._emscripten_bind_b2Mat33_Solve33_1=i._emscripten_bind_b2Mat33_Solve33_1,Ep=e._emscripten_bind_b2PulleyJoint_GetReactionForce_1=i._emscripten_bind_b2PulleyJoint_GetReactionForce_1,Fp=e._emscripten_bind_b2WheelJoint_GetCollideConnected_0=i._emscripten_bind_b2WheelJoint_GetCollideConnected_0,Gp=e._emscripten_bind_b2WheelJoint_SetSpringDampingRatio_1=i._emscripten_bind_b2WheelJoint_SetSpringDampingRatio_1,Hp=e._emscripten_bind_b2RevoluteJointDef___destroy___0=i._emscripten_bind_b2RevoluteJointDef___destroy___0,Ip=e._emscripten_bind_b2MouseJointDef_get_maxForce_0=i._emscripten_bind_b2MouseJointDef_get_maxForce_0,Jp=e._emscripten_bind_b2RevoluteJoint_EnableMotor_1=i._emscripten_bind_b2RevoluteJoint_EnableMotor_1,Kp=e._emscripten_bind_b2ContactFeature_get_typeB_0=i._emscripten_bind_b2ContactFeature_get_typeB_0,Lp=e._emscripten_bind_b2MotorJoint_SetLinearOffset_1=i._emscripten_bind_b2MotorJoint_SetLinearOffset_1,Mp=e._emscripten_bind_b2MotorJoint_GetReactionForce_1=i._emscripten_bind_b2MotorJoint_GetReactionForce_1,Np=e._emscripten_bind_b2Rot_GetAngle_0=i._emscripten_bind_b2Rot_GetAngle_0,Op=e._emscripten_bind_b2World_SetAllowSleeping_1=i._emscripten_bind_b2World_SetAllowSleeping_1,Pp=e._emscripten_bind_b2MotorJoint_SetAngularOffset_1=i._emscripten_bind_b2MotorJoint_SetAngularOffset_1,Qp=e._emscripten_bind_b2MotorJoint_GetLinearOffset_0=i._emscripten_bind_b2MotorJoint_GetLinearOffset_0,Rp=e._emscripten_bind_b2FrictionJoint_GetCollideConnected_0=i._emscripten_bind_b2FrictionJoint_GetCollideConnected_0,Sp=e._emscripten_bind_b2WheelJointDef_set_motorSpeed_1=i._emscripten_bind_b2WheelJointDef_set_motorSpeed_1,Tp=e._emscripten_bind_b2MotorJoint_GetAnchorA_0=i._emscripten_bind_b2MotorJoint_GetAnchorA_0,Up=e._emscripten_bind_b2Fixture_GetDensity_0=i._emscripten_bind_b2Fixture_GetDensity_0,Vp=e._emscripten_bind_b2PolygonShape_get_m_type_0=i._emscripten_bind_b2PolygonShape_get_m_type_0,Wp=e._emscripten_bind_b2Vec2_Set_2=i._emscripten_bind_b2Vec2_Set_2,Xp=e._emscripten_bind_b2WeldJointDef_get_type_0=i._emscripten_bind_b2WeldJointDef_get_type_0,Yp=e._emscripten_bind_b2MouseJointDef_b2MouseJointDef_0=i._emscripten_bind_b2MouseJointDef_b2MouseJointDef_0,Zp=e._emscripten_bind_b2Rot_get_s_0=i._emscripten_bind_b2Rot_get_s_0,$p=e._emscripten_bind_b2FrictionJoint_SetMaxTorque_1=i._emscripten_bind_b2FrictionJoint_SetMaxTorque_1,aq=e._emscripten_bind_b2MouseJointDef_get_frequencyHz_0=i._emscripten_bind_b2MouseJointDef_get_frequencyHz_0,bq=e._emscripten_bind_b2FrictionJoint_SetUserData_1=i._emscripten_bind_b2FrictionJoint_SetUserData_1,cq=e._emscripten_bind_b2FixtureDef_set_userData_1=i._emscripten_bind_b2FixtureDef_set_userData_1,dq=e._emscripten_bind_b2JointDef_get_userData_0=i._emscripten_bind_b2JointDef_get_userData_0,eq=e._emscripten_bind_b2DistanceJointDef_get_collideConnected_0=i._emscripten_bind_b2DistanceJointDef_get_collideConnected_0,fq=e._emscripten_bind_b2RevoluteJointDef_set_referenceAngle_1=i._emscripten_bind_b2RevoluteJointDef_set_referenceAngle_1,gq=e._emscripten_bind_b2ContactFeature___destroy___0=i._emscripten_bind_b2ContactFeature___destroy___0,hq=e._emscripten_bind_b2DistanceJointDef_set_bodyB_1=i._emscripten_bind_b2DistanceJointDef_set_bodyB_1,iq=e._emscripten_bind_JSQueryCallback_JSQueryCallback_0=i._emscripten_bind_JSQueryCallback_JSQueryCallback_0,jq=e._emscripten_bind_b2ChainShape_GetChildCount_0=i._emscripten_bind_b2ChainShape_GetChildCount_0,kq=e._emscripten_bind_b2MassData_b2MassData_0=i._emscripten_bind_b2MassData_b2MassData_0,lq=e._emscripten_bind_b2Vec3_set_y_1=i._emscripten_bind_b2Vec3_set_y_1,mq=e._emscripten_bind_b2AABB_Combine_1=i._emscripten_bind_b2AABB_Combine_1,nq=e._emscripten_bind_b2AABB_Combine_2=i._emscripten_bind_b2AABB_Combine_2,oq=e._emscripten_bind_b2PrismaticJoint_GetBodyA_0=i._emscripten_bind_b2PrismaticJoint_GetBodyA_0,pq=e._emscripten_bind_b2PrismaticJoint_GetMaxMotorForce_0=i._emscripten_bind_b2PrismaticJoint_GetMaxMotorForce_0,qq=e._emscripten_bind_b2AABB___destroy___0=i._emscripten_bind_b2AABB___destroy___0,rq=e._emscripten_bind_b2Body_IsSleepingAllowed_0=i._emscripten_bind_b2Body_IsSleepingAllowed_0,sq=e._emscripten_bind_b2MouseJointDef_set_maxForce_1=i._emscripten_bind_b2MouseJointDef_set_maxForce_1,tq=e._emscripten_bind_b2MotorJoint_GetCorrectionFactor_0=i._emscripten_bind_b2MotorJoint_GetCorrectionFactor_0,uq=e._emscripten_bind_b2Profile_get_solve_0=i._emscripten_bind_b2Profile_get_solve_0,vq=e._emscripten_bind_JSDestructionListener_SayGoodbyeFixture_1=i._emscripten_bind_JSDestructionListener_SayGoodbyeFixture_1,wq=e._emscripten_bind_b2PolygonShape_GetVertexCount_0=i._emscripten_bind_b2PolygonShape_GetVertexCount_0,xq=e._emscripten_bind_b2Rot_get_c_0=i._emscripten_bind_b2Rot_get_c_0,yq=e._emscripten_bind_b2AABB_set_lowerBound_1=i._emscripten_bind_b2AABB_set_lowerBound_1,zq=e._emscripten_bind_b2ChainShape_get_m_hasPrevVertex_0=i._emscripten_bind_b2ChainShape_get_m_hasPrevVertex_0,Aq=e._emscripten_bind_b2MouseJoint_SetMaxForce_1=i._emscripten_bind_b2MouseJoint_SetMaxForce_1,Bq=e._emscripten_bind_b2FrictionJointDef_get_bodyB_0=i._emscripten_bind_b2FrictionJointDef_get_bodyB_0,Cq=e._emscripten_bind_b2JointDef_set_userData_1=i._emscripten_bind_b2JointDef_set_userData_1,Dq=e._emscripten_bind_b2ManifoldPoint_get_tangentImpulse_0=i._emscripten_bind_b2ManifoldPoint_get_tangentImpulse_0,Eq=e._emscripten_bind_b2RevoluteJointDef_get_maxMotorTorque_0=i._emscripten_bind_b2RevoluteJointDef_get_maxMotorTorque_0,Fq=e._emscripten_bind_b2WeldJointDef_get_dampingRatio_0=i._emscripten_bind_b2WeldJointDef_get_dampingRatio_0,Gq=e._emscripten_bind_b2MouseJoint___destroy___0=i._emscripten_bind_b2MouseJoint___destroy___0,Hq=e._emscripten_bind_b2EdgeShape_b2EdgeShape_0=i._emscripten_bind_b2EdgeShape_b2EdgeShape_0,Iq=e._emscripten_bind_b2FrictionJoint_GetReactionForce_1=i._emscripten_bind_b2FrictionJoint_GetReactionForce_1,Jq=e._emscripten_bind_b2DistanceJointDef_set_type_1=i._emscripten_bind_b2DistanceJointDef_set_type_1,Kq=e._emscripten_bind_b2WeldJoint___destroy___0=i._emscripten_bind_b2WeldJoint___destroy___0,Lq=e._emscripten_bind_JSContactListener_PostSolve_2=i._emscripten_bind_JSContactListener_PostSolve_2,Mq=e._emscripten_bind_b2PulleyJoint_GetBodyA_0=i._emscripten_bind_b2PulleyJoint_GetBodyA_0,Nq=e._emscripten_bind_b2RopeJointDef_get_type_0=i._emscripten_bind_b2RopeJointDef_get_type_0,Oq=e._emscripten_bind_b2CircleShape_ComputeMass_2=i._emscripten_bind_b2CircleShape_ComputeMass_2,Pq=e._emscripten_bind_b2DistanceJointDef_get_localAnchorB_0=i._emscripten_bind_b2DistanceJointDef_get_localAnchorB_0,Qq=e._emscripten_bind_b2GearJointDef___destroy___0=i._emscripten_bind_b2GearJointDef___destroy___0,Rq=e._emscripten_bind_b2RevoluteJointDef_set_bodyA_1=i._emscripten_bind_b2RevoluteJointDef_set_bodyA_1,Sq=e._emscripten_enum_b2BodyType_b2_dynamicBody=i._emscripten_enum_b2BodyType_b2_dynamicBody,Tq=e._emscripten_bind_b2CircleShape_TestPoint_2=i._emscripten_bind_b2CircleShape_TestPoint_2,Uq=e._emscripten_bind_b2MotorJointDef_get_maxTorque_0=i._emscripten_bind_b2MotorJointDef_get_maxTorque_0,Vq=e._emscripten_bind_b2Body_GetLinearVelocityFromLocalPoint_1=i._emscripten_bind_b2Body_GetLinearVelocityFromLocalPoint_1,Wq=e._emscripten_bind_b2Mat22_b2Mat22_0=i._emscripten_bind_b2Mat22_b2Mat22_0,Xq=e._emscripten_bind_b2MouseJoint_GetAnchorB_0=i._emscripten_bind_b2MouseJoint_GetAnchorB_0,Yq=e._emscripten_enum_b2BodyType_b2_kinematicBody=i._emscripten_enum_b2BodyType_b2_kinematicBody,Zq=e._emscripten_bind_b2Manifold_get_localPoint_0=i._emscripten_bind_b2Manifold_get_localPoint_0,$q=e._emscripten_bind_b2GearJoint_GetBodyB_0=i._emscripten_bind_b2GearJoint_GetBodyB_0,ar=e._emscripten_bind_b2ChainShape_Clear_0=i._emscripten_bind_b2ChainShape_Clear_0,br=e._emscripten_bind_b2CircleShape___destroy___0=i._emscripten_bind_b2CircleShape___destroy___0,cr=e._emscripten_bind_b2MotorJoint_GetType_0=i._emscripten_bind_b2MotorJoint_GetType_0,dr=e._emscripten_bind_b2BodyDef_get_awake_0=i._emscripten_bind_b2BodyDef_get_awake_0,er=e._emscripten_bind_b2Contact_SetRestitution_1=i._emscripten_bind_b2Contact_SetRestitution_1,fr=e._emscripten_bind_b2BodyDef_get_angularDamping_0=i._emscripten_bind_b2BodyDef_get_angularDamping_0,gr=e._emscripten_bind_b2EdgeShape_get_m_vertex3_0=i._emscripten_bind_b2EdgeShape_get_m_vertex3_0,hr=e._emscripten_bind_b2Fixture_SetUserData_1=i._emscripten_bind_b2Fixture_SetUserData_1,ir=e._emscripten_bind_b2Transform_SetIdentity_0=i._emscripten_bind_b2Transform_SetIdentity_0,jr=e._emscripten_bind_b2GearJointDef_set_joint1_1=i._emscripten_bind_b2GearJointDef_set_joint1_1,kr=e._emscripten_bind_b2EdgeShape_set_m_vertex2_1=i._emscripten_bind_b2EdgeShape_set_m_vertex2_1,lr=e._emscripten_bind_b2ContactEdge_get_next_0=i._emscripten_bind_b2ContactEdge_get_next_0,mr=e._emscripten_bind_b2ContactFeature_set_indexB_1=i._emscripten_bind_b2ContactFeature_set_indexB_1,nr=e._emscripten_bind_b2Body_GetLinearVelocityFromWorldPoint_1=i._emscripten_bind_b2Body_GetLinearVelocityFromWorldPoint_1,or=e._emscripten_bind_b2WeldJoint_GetCollideConnected_0=i._emscripten_bind_b2WeldJoint_GetCollideConnected_0,pr=e._emscripten_bind_b2Mat22_set_ey_1=i._emscripten_bind_b2Mat22_set_ey_1,qr=e._emscripten_bind_b2WheelJointDef_set_frequencyHz_1=i._emscripten_bind_b2WheelJointDef_set_frequencyHz_1,rr=e._emscripten_bind_b2World_GetSubStepping_0=i._emscripten_bind_b2World_GetSubStepping_0,sr=e._emscripten_bind_b2Rot_GetYAxis_0=i._emscripten_bind_b2Rot_GetYAxis_0,tr=e._emscripten_bind_b2Contact_GetChildIndexB_0=i._emscripten_bind_b2Contact_GetChildIndexB_0,ur=e._emscripten_bind_b2DistanceJoint___destroy___0=i._emscripten_bind_b2DistanceJoint___destroy___0,vr=e._emscripten_bind_b2EdgeShape_GetType_0=i._emscripten_bind_b2EdgeShape_GetType_0,wr=e._emscripten_bind_b2WheelJointDef_set_dampingRatio_1=i._emscripten_bind_b2WheelJointDef_set_dampingRatio_1,xr=e._emscripten_bind_b2ManifoldPoint___destroy___0=i._emscripten_bind_b2ManifoldPoint___destroy___0,yr=e._emscripten_enum_b2JointType_e_prismaticJoint=i._emscripten_enum_b2JointType_e_prismaticJoint,zr=e._emscripten_bind_b2MotorJoint_GetNext_0=i._emscripten_bind_b2MotorJoint_GetNext_0,Ar=e._emscripten_bind_b2Vec2_Length_0=i._emscripten_bind_b2Vec2_Length_0,Br=e._emscripten_bind_b2Vec2_SetZero_0=i._emscripten_bind_b2Vec2_SetZero_0,Cr=e._emscripten_bind_b2RopeJoint___destroy___0=i._emscripten_bind_b2RopeJoint___destroy___0,Dr=e._emscripten_bind_b2World_DestroyJoint_1=i._emscripten_bind_b2World_DestroyJoint_1,Er=e._emscripten_bind_b2JointDef_set_bodyB_1=i._emscripten_bind_b2JointDef_set_bodyB_1,Fr=e._emscripten_bind_b2Mat22_Set_2=i._emscripten_bind_b2Mat22_Set_2,Gr=e._emscripten_bind_b2Body_GetType_0=i._emscripten_bind_b2Body_GetType_0,Hr=e._emscripten_bind_b2WeldJoint_GetAnchorB_0=i._emscripten_bind_b2WeldJoint_GetAnchorB_0,Ir=e._emscripten_bind_b2WeldJoint_GetNext_0=i._emscripten_bind_b2WeldJoint_GetNext_0,Jr=e._emscripten_bind_b2Shape_get_m_radius_0=i._emscripten_bind_b2Shape_get_m_radius_0,Kr=e._emscripten_bind_b2EdgeShape_ComputeAABB_3=i._emscripten_bind_b2EdgeShape_ComputeAABB_3,Lr=e._emscripten_bind_b2BodyDef_get_type_0=i._emscripten_bind_b2BodyDef_get_type_0,Mr=e._emscripten_bind_b2WheelJointDef_set_collideConnected_1=i._emscripten_bind_b2WheelJointDef_set_collideConnected_1,Nr=e._emscripten_bind_JSDestructionListener___destroy___0=i._emscripten_bind_JSDestructionListener___destroy___0,Or=e._emscripten_bind_b2MotorJointDef_get_type_0=i._emscripten_bind_b2MotorJointDef_get_type_0,Pr=e._emscripten_bind_b2RopeJoint_GetLocalAnchorA_0=i._emscripten_bind_b2RopeJoint_GetLocalAnchorA_0,Qr=e._emscripten_bind_b2BodyDef_set_linearDamping_1=i._emscripten_bind_b2BodyDef_set_linearDamping_1,Rr=e._emscripten_bind_b2FrictionJoint_GetUserData_0=i._emscripten_bind_b2FrictionJoint_GetUserData_0,Sr=e._emscripten_bind_b2Contact_SetFriction_1=i._emscripten_bind_b2Contact_SetFriction_1,Tr=e._emscripten_bind_b2Manifold_set_localNormal_1=i._emscripten_bind_b2Manifold_set_localNormal_1,Ur=e._emscripten_bind_b2JointDef_get_bodyA_0=i._emscripten_bind_b2JointDef_get_bodyA_0,Vr=e._emscripten_bind_b2Body_GetLinearDamping_0=i._emscripten_bind_b2Body_GetLinearDamping_0,Wr=e._emscripten_bind_b2WeldJointDef_set_frequencyHz_1=i._emscripten_bind_b2WeldJointDef_set_frequencyHz_1,Xr=e._emscripten_bind_b2Body_ResetMassData_0=i._emscripten_bind_b2Body_ResetMassData_0,Yr=e._emscripten_bind_b2PrismaticJointDef_set_enableMotor_1=i._emscripten_bind_b2PrismaticJointDef_set_enableMotor_1,Zr=e._emscripten_enum_b2JointType_e_wheelJoint=i._emscripten_enum_b2JointType_e_wheelJoint,$r=e._emscripten_bind_b2Vec2_Skew_0=i._emscripten_bind_b2Vec2_Skew_0,as=e._emscripten_bind_b2MouseJoint_GetDampingRatio_0=i._emscripten_bind_b2MouseJoint_GetDampingRatio_0,bs=e._emscripten_bind_b2RevoluteJoint_GetAnchorA_0=i._emscripten_bind_b2RevoluteJoint_GetAnchorA_0,cs=e._emscripten_bind_b2ChainShape_set_m_prevVertex_1=i._emscripten_bind_b2ChainShape_set_m_prevVertex_1,ds=e._emscripten_bind_b2WheelJoint_GetAnchorA_0=i._emscripten_bind_b2WheelJoint_GetAnchorA_0,es=e._emscripten_bind_b2MotorJoint_GetMaxTorque_0=i._emscripten_bind_b2MotorJoint_GetMaxTorque_0,fs=e._emscripten_bind_b2FrictionJoint_GetNext_0=i._emscripten_bind_b2FrictionJoint_GetNext_0,gs=e._emscripten_bind_b2PrismaticJointDef_set_userData_1=i._emscripten_bind_b2PrismaticJointDef_set_userData_1,hs=e._emscripten_bind_b2FrictionJointDef_set_type_1=i._emscripten_bind_b2FrictionJointDef_set_type_1,is=e._emscripten_bind_b2PrismaticJoint_GetUserData_0=i._emscripten_bind_b2PrismaticJoint_GetUserData_0,js=e._emscripten_bind_b2FrictionJointDef_get_collideConnected_0=i._emscripten_bind_b2FrictionJointDef_get_collideConnected_0,ks=e._emscripten_bind_b2Body_GetInertia_0=i._emscripten_bind_b2Body_GetInertia_0,ls=e._emscripten_bind_b2WeldJointDef_set_referenceAngle_1=i._emscripten_bind_b2WeldJointDef_set_referenceAngle_1,ms=e._emscripten_bind_b2FrictionJoint_GetAnchorA_0=i._emscripten_bind_b2FrictionJoint_GetAnchorA_0,ns=e._emscripten_bind_b2RopeJoint_GetType_0=i._emscripten_bind_b2RopeJoint_GetType_0,os=e._emscripten_bind_b2MassData_get_I_0=i._emscripten_bind_b2MassData_get_I_0,ps=e._emscripten_bind_b2WheelJointDef_get_motorSpeed_0=i._emscripten_bind_b2WheelJointDef_get_motorSpeed_0,qs=e._emscripten_bind_b2WeldJointDef_get_referenceAngle_0=i._emscripten_bind_b2WeldJointDef_get_referenceAngle_0,rs=e._emscripten_enum_b2JointType_e_ropeJoint=i._emscripten_enum_b2JointType_e_ropeJoint,ss=e._emscripten_bind_b2Filter_set_maskBits_1=i._emscripten_bind_b2Filter_set_maskBits_1,ts=e._emscripten_bind_b2EdgeShape_set_m_radius_1=i._emscripten_bind_b2EdgeShape_set_m_radius_1,us=e._emscripten_bind_b2MotorJointDef_set_collideConnected_1=i._emscripten_bind_b2MotorJointDef_set_collideConnected_1,vs=e._emscripten_bind_b2Mat22_b2Mat22_2=i._emscripten_bind_b2Mat22_b2Mat22_2,xs=e._emscripten_bind_b2WheelJointDef_set_maxMotorTorque_1=i._emscripten_bind_b2WheelJointDef_set_maxMotorTorque_1,ys=e._emscripten_bind_b2FrictionJointDef_set_bodyB_1=i._emscripten_bind_b2FrictionJointDef_set_bodyB_1,zs=e._emscripten_bind_b2Mat22_b2Mat22_4=i._emscripten_bind_b2Mat22_b2Mat22_4,As=e._emscripten_bind_b2ChainShape_set_m_hasNextVertex_1=i._emscripten_bind_b2ChainShape_set_m_hasNextVertex_1,Bs=e._emscripten_bind_b2Mat22_GetInverse_0=i._emscripten_bind_b2Mat22_GetInverse_0,Cs=e._emscripten_bind_b2PrismaticJoint_EnableMotor_1=i._emscripten_bind_b2PrismaticJoint_EnableMotor_1,Ds=e._emscripten_bind_b2CircleShape_get_m_type_0=i._emscripten_bind_b2CircleShape_get_m_type_0,Es=e._emscripten_bind_b2DistanceJoint_GetLocalAnchorA_0=i._emscripten_bind_b2DistanceJoint_GetLocalAnchorA_0,Fs=e._emscripten_bind_b2ContactEdge_b2ContactEdge_0=i._emscripten_bind_b2ContactEdge_b2ContactEdge_0,Gs=e._emscripten_bind_b2BodyDef___destroy___0=i._emscripten_bind_b2BodyDef___destroy___0,Hs=e._emscripten_bind_b2FrictionJointDef_set_maxTorque_1=i._emscripten_bind_b2FrictionJointDef_set_maxTorque_1,Is=e._emscripten_bind_b2PolygonShape_GetVertex_1=i._emscripten_bind_b2PolygonShape_GetVertex_1,Js=e._emscripten_bind_b2PulleyJointDef_set_groundAnchorB_1=i._emscripten_bind_b2PulleyJointDef_set_groundAnchorB_1,Ks=e._emscripten_bind_b2RevoluteJointDef_get_collideConnected_0=i._emscripten_bind_b2RevoluteJointDef_get_collideConnected_0,Ls=e._emscripten_bind_b2DistanceJointDef_set_bodyA_1=i._emscripten_bind_b2DistanceJointDef_set_bodyA_1,Ms=e._emscripten_bind_b2RevoluteJoint_SetLimits_2=i._emscripten_bind_b2RevoluteJoint_SetLimits_2,Ns=e._emscripten_bind_b2WeldJointDef_set_type_1=i._emscripten_bind_b2WeldJointDef_set_type_1,Os=e._emscripten_bind_b2MotorJointDef___destroy___0=i._emscripten_bind_b2MotorJointDef___destroy___0,Ps=e._emscripten_bind_b2FixtureDef_set_density_1=i._emscripten_bind_b2FixtureDef_set_density_1,Qs=e._emscripten_bind_b2Shape_set_m_type_1=i._emscripten_bind_b2Shape_set_m_type_1,Rs=e._emscripten_bind_b2WheelJoint_GetJointTranslation_0=i._emscripten_bind_b2WheelJoint_GetJointTranslation_0,Ss=e._emscripten_bind_b2WheelJoint_GetMotorTorque_1=i._emscripten_bind_b2WheelJoint_GetMotorTorque_1,Ts=e._emscripten_bind_b2RopeJoint_SetUserData_1=i._emscripten_bind_b2RopeJoint_SetUserData_1,Us=e._emscripten_bind_b2RopeJointDef___destroy___0=i._emscripten_bind_b2RopeJointDef___destroy___0,Vs=e._emscripten_bind_b2WheelJoint_IsActive_0=i._emscripten_bind_b2WheelJoint_IsActive_0,Ws=e._emscripten_bind_b2PrismaticJointDef_get_enableMotor_0=i._emscripten_bind_b2PrismaticJointDef_get_enableMotor_0,Xs=e._emscripten_bind_b2MotorJointDef_set_bodyB_1=i._emscripten_bind_b2MotorJointDef_set_bodyB_1,Ys=e._emscripten_bind_b2Transform_b2Transform_2=i._emscripten_bind_b2Transform_b2Transform_2,Zs=e._emscripten_bind_b2WeldJoint_GetReactionForce_1=i._emscripten_bind_b2WeldJoint_GetReactionForce_1,$s=e._emscripten_bind_b2ChainShape_RayCast_4=i._emscripten_bind_b2ChainShape_RayCast_4,at=e._emscripten_bind_b2PrismaticJoint_GetUpperLimit_0=i._emscripten_bind_b2PrismaticJoint_GetUpperLimit_0,bt=e._emscripten_bind_b2ContactID_get_cf_0=i._emscripten_bind_b2ContactID_get_cf_0,ct=e._emscripten_bind_b2MouseJointDef_set_frequencyHz_1=i._emscripten_bind_b2MouseJointDef_set_frequencyHz_1,dt=e._emscripten_bind_b2ChainShape_get_m_radius_0=i._emscripten_bind_b2ChainShape_get_m_radius_0,et=e._emscripten_bind_b2Body_GetLinearVelocity_0=i._emscripten_bind_b2Body_GetLinearVelocity_0,ft=e._emscripten_bind_b2ChainShape_set_m_radius_1=i._emscripten_bind_b2ChainShape_set_m_radius_1,gt=e._emscripten_bind_b2DistanceJoint_GetReactionTorque_1=i._emscripten_bind_b2DistanceJoint_GetReactionTorque_1,ht=e._emscripten_bind_b2World_Dump_0=i._emscripten_bind_b2World_Dump_0,it=e._emscripten_bind_b2RevoluteJoint_GetLocalAnchorB_0=i._emscripten_bind_b2RevoluteJoint_GetLocalAnchorB_0,jt=e._emscripten_bind_JSContactFilter_JSContactFilter_0=i._emscripten_bind_JSContactFilter_JSContactFilter_0,kt=e._emscripten_bind_b2Profile_set_solve_1=i._emscripten_bind_b2Profile_set_solve_1,lt=e._emscripten_bind_b2WeldJoint_GetDampingRatio_0=i._emscripten_bind_b2WeldJoint_GetDampingRatio_0,mt=e._emscripten_bind_b2Color_get_b_0=i._emscripten_bind_b2Color_get_b_0,nt=e._emscripten_bind_b2MouseJointDef_get_userData_0=i._emscripten_bind_b2MouseJointDef_get_userData_0,ot=e._emscripten_bind_b2CircleShape_ComputeAABB_3=i._emscripten_bind_b2CircleShape_ComputeAABB_3,pt=e._emscripten_bind_b2RopeJoint_GetReactionForce_1=i._emscripten_bind_b2RopeJoint_GetReactionForce_1,qt=e._emscripten_bind_b2PrismaticJointDef_get_enableLimit_0=i._emscripten_bind_b2PrismaticJointDef_get_enableLimit_0,rt=e._emscripten_bind_b2ManifoldPoint_set_localPoint_1=i._emscripten_bind_b2ManifoldPoint_set_localPoint_1,st=e._emscripten_bind_b2Fixture_GetFilterData_0=i._emscripten_bind_b2Fixture_GetFilterData_0,tt=e._emscripten_bind_b2World_GetBodyList_0=i._emscripten_bind_b2World_GetBodyList_0,ut=e._emscripten_bind_b2Shape_ComputeMass_2=i._emscripten_bind_b2Shape_ComputeMass_2,vt=e._emscripten_bind_b2Joint_GetNext_0=i._emscripten_bind_b2Joint_GetNext_0,wt=e._emscripten_bind_b2PrismaticJointDef_get_collideConnected_0=i._emscripten_bind_b2PrismaticJointDef_get_collideConnected_0,xt=e._emscripten_bind_b2World_RayCast_3=i._emscripten_bind_b2World_RayCast_3,yt=e._emscripten_bind_b2MassData_set_I_1=i._emscripten_bind_b2MassData_set_I_1,zt=e._emscripten_bind_b2MassData___destroy___0=i._emscripten_bind_b2MassData___destroy___0,At=e._emscripten_bind_b2Profile_get_collide_0=i._emscripten_bind_b2Profile_get_collide_0,Bt=e._emscripten_bind_b2Color_b2Color_3=i._emscripten_bind_b2Color_b2Color_3,Ct=e._emscripten_bind_b2Color_b2Color_0=i._emscripten_bind_b2Color_b2Color_0,Dt=e._emscripten_bind_b2MouseJoint_GetFrequency_0=i._emscripten_bind_b2MouseJoint_GetFrequency_0,Et=e._emscripten_bind_b2WeldJointDef_Initialize_3=i._emscripten_bind_b2WeldJointDef_Initialize_3,Ft=e._emscripten_bind_b2Shape_GetChildCount_0=i._emscripten_bind_b2Shape_GetChildCount_0,Gt=e._emscripten_enum_b2JointType_e_gearJoint=i._emscripten_enum_b2JointType_e_gearJoint,Ht=e._emscripten_bind_b2FixtureDef_get_friction_0=i._emscripten_bind_b2FixtureDef_get_friction_0,It=e._emscripten_bind_b2PrismaticJointDef_set_localAnchorA_1=i._emscripten_bind_b2PrismaticJointDef_set_localAnchorA_1,Jt=e._emscripten_bind_b2Contact_GetManifold_0=i._emscripten_bind_b2Contact_GetManifold_0,Kt=e._emscripten_bind_b2MouseJoint_GetTarget_0=i._emscripten_bind_b2MouseJoint_GetTarget_0,Lt=e._emscripten_bind_b2WeldJointDef_get_localAnchorA_0=i._emscripten_bind_b2WeldJointDef_get_localAnchorA_0,Mt=e._emscripten_bind_b2MouseJoint_SetUserData_1=i._emscripten_bind_b2MouseJoint_SetUserData_1,Nt=e._emscripten_bind_b2JointEdge_get_other_0=i._emscripten_bind_b2JointEdge_get_other_0,Ot=e._emscripten_bind_b2ChainShape_GetChildEdge_2=i._emscripten_bind_b2ChainShape_GetChildEdge_2,Pt=e._emscripten_bind_b2GearJointDef_set_collideConnected_1=i._emscripten_bind_b2GearJointDef_set_collideConnected_1,Qt=e._emscripten_bind_b2MotorJointDef_get_angularOffset_0=i._emscripten_bind_b2MotorJointDef_get_angularOffset_0,Rt=e._emscripten_bind_b2WheelJoint_SetUserData_1=i._emscripten_bind_b2WheelJoint_SetUserData_1,St=e._emscripten_bind_b2Body_ApplyForce_3=i._emscripten_bind_b2Body_ApplyForce_3,Tt=e._emscripten_bind_b2PrismaticJoint_SetMotorSpeed_1=i._emscripten_bind_b2PrismaticJoint_SetMotorSpeed_1,Ut=e._emscripten_bind_b2DistanceJoint_GetCollideConnected_0=i._emscripten_bind_b2DistanceJoint_GetCollideConnected_0,Vt=e._emscripten_bind_b2MouseJoint_GetMaxForce_0=i._emscripten_bind_b2MouseJoint_GetMaxForce_0,Wt=e._emscripten_bind_b2World_SetGravity_1=i._emscripten_bind_b2World_SetGravity_1,Xt=e._emscripten_bind_b2Mat22_SetZero_0=i._emscripten_bind_b2Mat22_SetZero_0,Yt=e._emscripten_bind_b2Contact_GetChildIndexA_0=i._emscripten_bind_b2Contact_GetChildIndexA_0,Zt=e._emscripten_bind_b2Fixture_SetRestitution_1=i._emscripten_bind_b2Fixture_SetRestitution_1,$t=e._emscripten_bind_b2Body_GetTransform_0=i._emscripten_bind_b2Body_GetTransform_0,au=e._emscripten_bind_b2ContactEdge___destroy___0=i._emscripten_bind_b2ContactEdge___destroy___0,bu=e._emscripten_bind_b2Mat33_set_ex_1=i._emscripten_bind_b2Mat33_set_ex_1,cu=e._emscripten_bind_b2AABB_GetExtents_0=i._emscripten_bind_b2AABB_GetExtents_0,du=e._emscripten_bind_b2RevoluteJointDef_get_bodyA_0=i._emscripten_bind_b2RevoluteJointDef_get_bodyA_0,eu=e._emscripten_bind_b2PrismaticJoint_GetBodyB_0=i._emscripten_bind_b2PrismaticJoint_GetBodyB_0,fu=e._emscripten_bind_b2WheelJointDef_set_bodyA_1=i._emscripten_bind_b2WheelJointDef_set_bodyA_1,gu=e._emscripten_bind_b2DistanceJointDef_set_collideConnected_1=i._emscripten_bind_b2DistanceJointDef_set_collideConnected_1,hu=e._emscripten_bind_b2BodyDef_get_angle_0=i._emscripten_bind_b2BodyDef_get_angle_0,iu=e._emscripten_bind_b2PulleyJoint_GetReactionTorque_1=i._emscripten_bind_b2PulleyJoint_GetReactionTorque_1,ju=e._emscripten_bind_b2FixtureDef_get_shape_0=i._emscripten_bind_b2FixtureDef_get_shape_0,ku=e._emscripten_bind_b2WeldJointDef_get_userData_0=i._emscripten_bind_b2WeldJointDef_get_userData_0,lu=e._emscripten_bind_b2FrictionJoint_SetMaxForce_1=i._emscripten_bind_b2FrictionJoint_SetMaxForce_1,mu=e._emscripten_bind_b2Mat33_b2Mat33_3=i._emscripten_bind_b2Mat33_b2Mat33_3,nu=e._emscripten_bind_b2Vec3_get_y_0=i._emscripten_bind_b2Vec3_get_y_0,ou=e._emscripten_bind_b2JointDef_get_type_0=i._emscripten_bind_b2JointDef_get_type_0,pu=e._emscripten_bind_JSQueryCallback_ReportFixture_1=i._emscripten_bind_JSQueryCallback_ReportFixture_1,qu=e._emscripten_bind_b2Fixture_TestPoint_1=i._emscripten_bind_b2Fixture_TestPoint_1,ru=e._emscripten_bind_b2RevoluteJoint_GetCollideConnected_0=i._emscripten_bind_b2RevoluteJoint_GetCollideConnected_0,su=e._emscripten_bind_JSDraw_JSDraw_0=i._emscripten_bind_JSDraw_JSDraw_0,tu=e._emscripten_bind_b2MouseJoint_GetAnchorA_0=i._emscripten_bind_b2MouseJoint_GetAnchorA_0,uu=e._emscripten_bind_b2Transform_get_p_0=i._emscripten_bind_b2Transform_get_p_0,vu=e._emscripten_bind_b2EdgeShape_ComputeMass_2=i._emscripten_bind_b2EdgeShape_ComputeMass_2,wu=e._emscripten_bind_b2World_GetProfile_0=i._emscripten_bind_b2World_GetProfile_0,xu=e._emscripten_bind_b2DistanceJointDef___destroy___0=i._emscripten_bind_b2DistanceJointDef___destroy___0,yu=e._emscripten_bind_b2RopeJointDef_set_bodyA_1=i._emscripten_bind_b2RopeJointDef_set_bodyA_1,zu=e._emscripten_bind_b2JointDef_set_type_1=i._emscripten_bind_b2JointDef_set_type_1,Au=e._emscripten_bind_b2Draw_AppendFlags_1=i._emscripten_bind_b2Draw_AppendFlags_1,Bu=e._emscripten_bind_b2MotorJointDef_get_userData_0=i._emscripten_bind_b2MotorJointDef_get_userData_0,Cu=e._emscripten_bind_b2World_GetContactList_0=i._emscripten_bind_b2World_GetContactList_0,Du=e._emscripten_bind_b2Mat33_set_ez_1=i._emscripten_bind_b2Mat33_set_ez_1,Eu=e._emscripten_bind_b2JointEdge_b2JointEdge_0=i._emscripten_bind_b2JointEdge_b2JointEdge_0,Fu=e._emscripten_bind_b2FrictionJointDef_get_bodyA_0=i._emscripten_bind_b2FrictionJointDef_get_bodyA_0,Gu=e._emscripten_bind_b2WheelJointDef_get_type_0=i._emscripten_bind_b2WheelJointDef_get_type_0,Hu=e._emscripten_bind_b2RevoluteJoint_GetReactionForce_1=i._emscripten_bind_b2RevoluteJoint_GetReactionForce_1,Iu=e._emscripten_bind_b2PulleyJointDef_set_collideConnected_1=i._emscripten_bind_b2PulleyJointDef_set_collideConnected_1,Ju=e._emscripten_bind_b2RopeJoint_GetCollideConnected_0=i._emscripten_bind_b2RopeJoint_GetCollideConnected_0,Ku=e._emscripten_bind_b2GearJointDef_set_joint2_1=i._emscripten_bind_b2GearJointDef_set_joint2_1,Lu=e._emscripten_bind_b2BodyDef_set_userData_1=i._emscripten_bind_b2BodyDef_set_userData_1,Mu=e._emscripten_bind_b2GearJoint_GetAnchorB_0=i._emscripten_bind_b2GearJoint_GetAnchorB_0,Nu=e._emscripten_bind_b2RopeJoint_IsActive_0=i._emscripten_bind_b2RopeJoint_IsActive_0,Ou=e._emscripten_bind_b2Fixture_GetFriction_0=i._emscripten_bind_b2Fixture_GetFriction_0,Pu=e._emscripten_enum_b2DrawFlag_e_aabbBit=i._emscripten_enum_b2DrawFlag_e_aabbBit,Qu=e._emscripten_bind_b2RevoluteJointDef_Initialize_3=i._emscripten_bind_b2RevoluteJointDef_Initialize_3,Ru=e._emscripten_bind_b2Body_GetAngle_0=i._emscripten_bind_b2Body_GetAngle_0,Su=e._emscripten_bind_b2EdgeShape_Set_2=i._emscripten_bind_b2EdgeShape_Set_2,Tu=e._emscripten_bind_b2Mat33_SetZero_0=i._emscripten_bind_b2Mat33_SetZero_0,Uu=e._emscripten_bind_b2MotorJointDef_set_maxTorque_1=i._emscripten_bind_b2MotorJointDef_set_maxTorque_1,Vu=e._emscripten_bind_b2PrismaticJointDef_get_localAxisA_0=i._emscripten_bind_b2PrismaticJointDef_get_localAxisA_0,Wu=e._emscripten_bind_b2Mat22_get_ey_0=i._emscripten_bind_b2Mat22_get_ey_0,Xu=e._emscripten_bind_b2Mat22_SetIdentity_0=i._emscripten_bind_b2Mat22_SetIdentity_0,Yu=e._emscripten_bind_b2Joint_IsActive_0=i._emscripten_bind_b2Joint_IsActive_0,Zu=e._emscripten_bind_b2BodyDef_get_allowSleep_0=i._emscripten_bind_b2BodyDef_get_allowSleep_0,$u=e._emscripten_bind_b2World_GetTreeHeight_0=i._emscripten_bind_b2World_GetTreeHeight_0,av=e._emscripten_bind_b2GearJoint_GetJoint2_0=i._emscripten_bind_b2GearJoint_GetJoint2_0,bv=e._emscripten_bind_b2EdgeShape_set_m_vertex1_1=i._emscripten_bind_b2EdgeShape_set_m_vertex1_1,cv=e._emscripten_bind_b2Body_GetWorld_0=i._emscripten_bind_b2Body_GetWorld_0,dv=e._emscripten_enum_b2LimitState_e_inactiveLimit=i._emscripten_enum_b2LimitState_e_inactiveLimit,ev=e._emscripten_bind_b2PulleyJointDef_set_lengthB_1=i._emscripten_bind_b2PulleyJointDef_set_lengthB_1,fv=e._emscripten_bind_b2Body_SetAwake_1=i._emscripten_bind_b2Body_SetAwake_1,gv=e._emscripten_bind_b2PrismaticJointDef_set_upperTranslation_1=i._emscripten_bind_b2PrismaticJointDef_set_upperTranslation_1,hv=e._emscripten_bind_b2Vec2___destroy___0=i._emscripten_bind_b2Vec2___destroy___0,iv=e._emscripten_bind_b2RayCastInput_set_p1_1=i._emscripten_bind_b2RayCastInput_set_p1_1,jv=e._emscripten_bind_b2Contact_ResetFriction_0=i._emscripten_bind_b2Contact_ResetFriction_0,kv=e._emscripten_bind_b2PulleyJoint_GetAnchorA_0=i._emscripten_bind_b2PulleyJoint_GetAnchorA_0,lv=e._emscripten_bind_b2BodyDef_get_linearVelocity_0=i._emscripten_bind_b2BodyDef_get_linearVelocity_0,mv=e._emscripten_bind_b2DistanceJointDef_get_bodyB_0=i._emscripten_bind_b2DistanceJointDef_get_bodyB_0,nv=e._emscripten_bind_b2Mat22___destroy___0=i._emscripten_bind_b2Mat22___destroy___0,ov=e._emscripten_bind_b2RevoluteJoint_GetAnchorB_0=i._emscripten_bind_b2RevoluteJoint_GetAnchorB_0,pv=e._emscripten_bind_b2RevoluteJoint_GetNext_0=i._emscripten_bind_b2RevoluteJoint_GetNext_0,qv=e._emscripten_bind_b2WeldJointDef_get_bodyA_0=i._emscripten_bind_b2WeldJointDef_get_bodyA_0,rv=e._emscripten_bind_b2MotorJoint_GetAnchorB_0=i._emscripten_bind_b2MotorJoint_GetAnchorB_0,sv=e._emscripten_bind_b2Fixture_GetShape_0=i._emscripten_bind_b2Fixture_GetShape_0,tv=e._emscripten_bind_b2PolygonShape_SetAsBox_2=i._emscripten_bind_b2PolygonShape_SetAsBox_2,uv=e._emscripten_bind_b2Vec3_op_mul_1=i._emscripten_bind_b2Vec3_op_mul_1,vv=e._emscripten_bind_b2PolygonShape_set_m_type_1=i._emscripten_bind_b2PolygonShape_set_m_type_1,wv=e._emscripten_bind_b2WheelJoint_GetType_0=i._emscripten_bind_b2WheelJoint_GetType_0,xv=e._emscripten_bind_b2MotorJoint_GetAngularOffset_0=i._emscripten_bind_b2MotorJoint_GetAngularOffset_0,yv=e._emscripten_bind_b2RevoluteJoint_IsActive_0=i._emscripten_bind_b2RevoluteJoint_IsActive_0,zv=e._emscripten_bind_b2GearJoint_GetNext_0=i._emscripten_bind_b2GearJoint_GetNext_0,Av=e._emscripten_bind_b2MotorJointDef_get_correctionFactor_0=i._emscripten_bind_b2MotorJointDef_get_correctionFactor_0,Bv=e._emscripten_bind_b2Color_Set_3=i._emscripten_bind_b2Color_Set_3,Cv=e._emscripten_bind_b2EdgeShape_set_m_type_1=i._emscripten_bind_b2EdgeShape_set_m_type_1,Dv=e._emscripten_bind_b2WheelJoint_GetLocalAxisA_0=i._emscripten_bind_b2WheelJoint_GetLocalAxisA_0,Ev=e._emscripten_bind_b2Body_GetNext_0=i._emscripten_bind_b2Body_GetNext_0,Fv=e._emscripten_bind_b2RopeJoint_GetBodyA_0=i._emscripten_bind_b2RopeJoint_GetBodyA_0,Gv=e._emscripten_enum_b2JointType_e_unknownJoint=i._emscripten_enum_b2JointType_e_unknownJoint,Hv=e._emscripten_bind_b2ContactFeature_set_indexA_1=i._emscripten_bind_b2ContactFeature_set_indexA_1,Iv=e._emscripten_bind_b2Profile_get_solveInit_0=i._emscripten_bind_b2Profile_get_solveInit_0,Jv=e._emscripten_bind_b2BodyDef_set_angularDamping_1=i._emscripten_bind_b2BodyDef_set_angularDamping_1,Kv=e._emscripten_bind_b2FrictionJoint_GetAnchorB_0=i._emscripten_bind_b2FrictionJoint_GetAnchorB_0,Lv=e._emscripten_bind_b2World_QueryAABB_2=i._emscripten_bind_b2World_QueryAABB_2,Mv=e._emscripten_bind_b2BodyDef_get_userData_0=i._emscripten_bind_b2BodyDef_get_userData_0,Nv=e._emscripten_bind_b2ContactID_get_key_0=i._emscripten_bind_b2ContactID_get_key_0,Ov=e._emscripten_bind_b2Body_SetAngularVelocity_1=i._emscripten_bind_b2Body_SetAngularVelocity_1,Pv=e._emscripten_bind_b2WheelJointDef_get_userData_0=i._emscripten_bind_b2WheelJointDef_get_userData_0,Qv=e._emscripten_bind_b2RevoluteJoint_IsLimitEnabled_0=i._emscripten_bind_b2RevoluteJoint_IsLimitEnabled_0,Rv=e._emscripten_bind_b2DistanceJoint_GetBodyB_0=i._emscripten_bind_b2DistanceJoint_GetBodyB_0,Sv=e._emscripten_bind_b2RevoluteJointDef_set_maxMotorTorque_1=i._emscripten_bind_b2RevoluteJointDef_set_maxMotorTorque_1,Tv=e._emscripten_bind_b2WeldJointDef_set_bodyB_1=i._emscripten_bind_b2WeldJointDef_set_bodyB_1,Uv=e._emscripten_bind_b2RevoluteJoint_SetUserData_1=i._emscripten_bind_b2RevoluteJoint_SetUserData_1,Vv=e._emscripten_bind_b2DistanceJoint_SetLength_1=i._emscripten_bind_b2DistanceJoint_SetLength_1,Wv=e._emscripten_bind_b2JointEdge_get_joint_0=i._emscripten_bind_b2JointEdge_get_joint_0,Xv=e._emscripten_bind_b2Body_GetLocalCenter_0=i._emscripten_bind_b2Body_GetLocalCenter_0,Yv=e._emscripten_bind_b2FixtureDef___destroy___0=i._emscripten_bind_b2FixtureDef___destroy___0,Zv=e._emscripten_bind_b2FixtureDef_set_shape_1=i._emscripten_bind_b2FixtureDef_set_shape_1,$v=e._emscripten_bind_b2WeldJoint_GetAnchorA_0=i._emscripten_bind_b2WeldJoint_GetAnchorA_0,aw=e._emscripten_bind_b2Profile_get_solveVelocity_0=i._emscripten_bind_b2Profile_get_solveVelocity_0,bw=e._emscripten_bind_b2WeldJointDef_get_bodyB_0=i._emscripten_bind_b2WeldJointDef_get_bodyB_0,cw=e._emscripten_bind_b2Body_SetAngularDamping_1=i._emscripten_bind_b2Body_SetAngularDamping_1,dw=e._emscripten_bind_b2PulleyJointDef_Initialize_7=i._emscripten_bind_b2PulleyJointDef_Initialize_7,ew=e._emscripten_bind_b2GearJointDef_set_bodyB_1=i._emscripten_bind_b2GearJointDef_set_bodyB_1,fw=e._emscripten_bind_b2RopeJoint_GetReactionTorque_1=i._emscripten_bind_b2RopeJoint_GetReactionTorque_1,gw=e._emscripten_bind_b2Mat22_set_ex_1=i._emscripten_bind_b2Mat22_set_ex_1,hw=e._emscripten_bind_b2GearJoint_GetType_0=i._emscripten_bind_b2GearJoint_GetType_0,iw=e._emscripten_enum_b2DrawFlag_e_centerOfMassBit=i._emscripten_enum_b2DrawFlag_e_centerOfMassBit,jw=e._emscripten_bind_b2ChainShape_b2ChainShape_0=i._emscripten_bind_b2ChainShape_b2ChainShape_0,kw=e._emscripten_bind_b2RevoluteJoint_SetMaxMotorTorque_1=i._emscripten_bind_b2RevoluteJoint_SetMaxMotorTorque_1,lw=e._emscripten_bind_b2RopeJointDef_set_localAnchorB_1=i._emscripten_bind_b2RopeJointDef_set_localAnchorB_1,mw=e._emscripten_bind_b2FrictionJointDef_Initialize_3=i._emscripten_bind_b2FrictionJointDef_Initialize_3,nw=e._emscripten_bind_b2GearJointDef_set_userData_1=i._emscripten_bind_b2GearJointDef_set_userData_1,ow=e._emscripten_bind_b2ChainShape_CreateLoop_2=i._emscripten_bind_b2ChainShape_CreateLoop_2,pw=e._emscripten_bind_b2EdgeShape_get_m_radius_0=i._emscripten_bind_b2EdgeShape_get_m_radius_0,qw=e._emscripten_bind_b2Contact_GetFixtureB_0=i._emscripten_bind_b2Contact_GetFixtureB_0,rw=e._emscripten_bind_b2ChainShape_ComputeMass_2=i._emscripten_bind_b2ChainShape_ComputeMass_2,sw=e._emscripten_bind_b2Vec2_set_y_1=i._emscripten_bind_b2Vec2_set_y_1,tw=e._emscripten_bind_b2PrismaticJoint_IsLimitEnabled_0=i._emscripten_bind_b2PrismaticJoint_IsLimitEnabled_0,uw=e._emscripten_bind_b2RopeJointDef_get_bodyB_0=i._emscripten_bind_b2RopeJointDef_get_bodyB_0,vw=e._emscripten_bind_b2BodyDef_b2BodyDef_0=i._emscripten_bind_b2BodyDef_b2BodyDef_0,ww=e._emscripten_bind_b2MassData_get_mass_0=i._emscripten_bind_b2MassData_get_mass_0,xw=e._emscripten_bind_b2WheelJoint___destroy___0=i._emscripten_bind_b2WheelJoint___destroy___0,yw=e._emscripten_bind_b2Joint_GetBodyB_0=i._emscripten_bind_b2Joint_GetBodyB_0,zw=e._emscripten_bind_b2MouseJointDef_set_collideConnected_1=i._emscripten_bind_b2MouseJointDef_set_collideConnected_1,Aw=e._emscripten_bind_b2WheelJointDef_set_localAxisA_1=i._emscripten_bind_b2WheelJointDef_set_localAxisA_1,Bw=e._emscripten_bind_b2Joint_Dump_0=i._emscripten_bind_b2Joint_Dump_0,Cw=e._emscripten_bind_b2WheelJointDef_b2WheelJointDef_0=i._emscripten_bind_b2WheelJointDef_b2WheelJointDef_0,Dw=e._emscripten_bind_b2RevoluteJointDef_set_motorSpeed_1=i._emscripten_bind_b2RevoluteJointDef_set_motorSpeed_1,Ew=e._emscripten_bind_b2MotorJointDef_get_bodyA_0=i._emscripten_bind_b2MotorJointDef_get_bodyA_0,Fw=e._emscripten_bind_b2WheelJointDef_get_enableMotor_0=i._emscripten_bind_b2WheelJointDef_get_enableMotor_0,Gw=e._emscripten_bind_b2Vec2_LengthSquared_0=i._emscripten_bind_b2Vec2_LengthSquared_0,Hw=e._emscripten_bind_b2FrictionJointDef_set_bodyA_1=i._emscripten_bind_b2FrictionJointDef_set_bodyA_1,Iw=e._emscripten_bind_b2WheelJoint_GetSpringFrequencyHz_0=i._emscripten_bind_b2WheelJoint_GetSpringFrequencyHz_0,Jw=e._emscripten_bind_b2ContactFeature_get_indexB_0=i._emscripten_bind_b2ContactFeature_get_indexB_0,Kw=e._emscripten_bind_b2Body_GetJointList_0=i._emscripten_bind_b2Body_GetJointList_0,Lw=e._emscripten_bind_b2FrictionJoint_GetBodyA_0=i._emscripten_bind_b2FrictionJoint_GetBodyA_0,Mw=e._emscripten_bind_b2WheelJointDef_set_localAnchorB_1=i._emscripten_bind_b2WheelJointDef_set_localAnchorB_1,Nw=e._emscripten_bind_b2DistanceJointDef_set_localAnchorA_1=i._emscripten_bind_b2DistanceJointDef_set_localAnchorA_1,Ow=e._emscripten_bind_b2PrismaticJointDef_get_maxMotorForce_0=i._emscripten_bind_b2PrismaticJointDef_get_maxMotorForce_0,Pw=e._emscripten_bind_b2Body_SetUserData_1=i._emscripten_bind_b2Body_SetUserData_1,Qw=e._emscripten_bind_b2DistanceJoint_GetUserData_0=i._emscripten_bind_b2DistanceJoint_GetUserData_0,Rw=e._emscripten_bind_b2PulleyJointDef_set_bodyA_1=i._emscripten_bind_b2PulleyJointDef_set_bodyA_1,Sw=e._emscripten_bind_b2Joint_GetType_0=i._emscripten_bind_b2Joint_GetType_0,Tw=e._emscripten_bind_b2Manifold_get_pointCount_0=i._emscripten_bind_b2Manifold_get_pointCount_0,Uw=e._emscripten_bind_b2Mat33_get_ez_0=i._emscripten_bind_b2Mat33_get_ez_0,Vw=e._emscripten_bind_b2DestructionListenerWrapper___destroy___0=i._emscripten_bind_b2DestructionListenerWrapper___destroy___0,Ww=e._emscripten_bind_b2WheelJointDef_get_bodyA_0=i._emscripten_bind_b2WheelJointDef_get_bodyA_0,Xw=e._emscripten_enum_b2LimitState_e_atUpperLimit=i._emscripten_enum_b2LimitState_e_atUpperLimit,Yw=e._emscripten_bind_b2PulleyJointDef_set_groundAnchorA_1=i._emscripten_bind_b2PulleyJointDef_set_groundAnchorA_1,Zw=e._emscripten_bind_b2MouseJointDef_get_type_0=i._emscripten_bind_b2MouseJointDef_get_type_0,$w=e._emscripten_bind_b2PrismaticJoint_SetMaxMotorForce_1=i._emscripten_bind_b2PrismaticJoint_SetMaxMotorForce_1,ax=e._emscripten_bind_b2PulleyJointDef_get_collideConnected_0=i._emscripten_bind_b2PulleyJointDef_get_collideConnected_0,bx=e._emscripten_bind_b2RopeJoint_SetMaxLength_1=i._emscripten_bind_b2RopeJoint_SetMaxLength_1,cx=e._emscripten_bind_b2Joint_SetUserData_1=i._emscripten_bind_b2Joint_SetUserData_1,dx=e._emscripten_bind_b2PolygonShape_set_m_radius_1=i._emscripten_bind_b2PolygonShape_set_m_radius_1,ex=e._emscripten_bind_b2Vec2_get_x_0=i._emscripten_bind_b2Vec2_get_x_0,fx=e._emscripten_bind_JSContactListener_JSContactListener_0=i._emscripten_bind_JSContactListener_JSContactListener_0;e.runPostSets=i.runPostSets,e.dynCall_iiii=i.dynCall_iiii,e.dynCall_viiiii=i.dynCall_viiiii,e.dynCall_did=i.dynCall_did,e.dynCall_vi=i.dynCall_vi,e.dynCall_diiiid=i.dynCall_diiiid,e.dynCall_vii=i.dynCall_vii,e.dynCall_viidii=i.dynCall_viidii,e.dynCall_ii=i.dynCall_ii,e.dynCall_viidi=i.dynCall_viidi,e.dynCall_viii=i.dynCall_viii,e.dynCall_v=i.dynCall_v,e.dynCall_viid=i.dynCall_viid,e.dynCall_viiiiii=i.dynCall_viiiiii,e.dynCall_iii=i.dynCall_iii,e.dynCall_iiiiii=i.dynCall_iiiiii,e.dynCall_viiii=i.dynCall_viiii,h.u=i.stackAlloc,h.A=i.stackSave,h.J=i.stackRestore,h.ga=i.setTempRet0,h.aa=i.getTempRet0;var jc=ba;if(Nb)if(typeof e.locateFile=="function"?Nb=e.locateFile(Nb):e.memoryInitializerPrefixURL&&(Nb=e.memoryInitializerPrefixURL+Nb),fa||ja){var gx=e.readBinary(Nb);bb.set(gx,jb)}else Lb(),Browser.oa(Nb,function(x){bb.set(x,jb),Mb()},function(){c("could not load memory initializer "+Nb)});function na(x){this.name="ExitStatus",this.message="Program terminated with exit("+x+")",this.status=x}na.prototype=Error();var hx,ix=ba,Kb=function x(){!e.calledRun&&kx&&lx(),e.calledRun||(Kb=x)};e.callMain=e.pa=function(x){function V(){for(var e_=0;3>e_;e_++)_o.push(0)}oa(Ib==0,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),oa(rb.length==0,"cannot call main when preRun functions remain to be called"),x=x||[],wb||(wb=aa,qb(sb));var o=x.length+1,_o=[$a(Ab(e.thisProgram),"i8",0)];V();for(var _r=0;_r<o-1;_r+=1)_o.push($a(Ab(x[_r]),"i8",0)),V();_o.push(0),_o=$a(_o,"i32",0),hx=ra;try{var l=e._main(o,_o,0);mx(l)}catch(e_){e_ instanceof na||(e_=="SimulateInfiniteLoop"?e.noExitRuntime=aa:(e_&&typeof e_=="object"&&e_.stack&&e.n("exception thrown: "+[e_,e_.stack]),c(e_)))}finally{}};function lx(x){function V(){if(!e.calledRun&&(e.calledRun=aa,!za)){if(wb||(wb=aa,qb(sb)),qb(tb),ga&&ix!==ba&&e.n("pre-main prep time: "+(Date.now()-ix)+" ms"),e._main&&kx&&e.callMain(x),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)zb(e.postRun.shift());qb(vb)}}if(x=x||e.arguments,ix===ba&&(ix=Date.now()),!(0<Ib)){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)yb(e.preRun.shift());qb(rb),!(0<Ib)&&!e.calledRun&&(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),V()},1)):V())}}e.run=e.Aa=lx;function mx(x){e.noExitRuntime||(za=aa,ra=hx,qb(ub),fa?(process.stdout.once("drain",function(){process.exit(x)}),console.log(" "),setTimeout(function(){process.exit(x)},500)):ja&&typeof quit=="function"&&quit(x),c(new na(x)))}e.exit=e.ra=mx;function ua(x){x&&(e.print(x),e.n(x)),za=aa,c("abort() at "+fb()+`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`)}if(e.abort=e.abort=ua,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();var kx=aa;e.noInitialRun&&(kx=ca),e.noExitRuntime=aa,lx(),j.prototype=Object.create(j.prototype),j.prototype.g=j,j.k={},e.WrapperObject=j,e.getCache=p,e.wrapPointer=q,e.castObject=nx,e.NULL=q(0),e.destroy=ox,e.compare=px,e.getPointer=qx,e.getClass=rx,sx.prototype=Object.create(tx.prototype),sx.prototype.g=sx,sx.k={},e.JSDestructionListener=sx,sx.prototype.SayGoodbyeJoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ym(V,o)},sx.prototype.SayGoodbyeFixture=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vq(V,o)},sx.prototype.__destroy__=function(){Nr(this.e)},ux.prototype=Object.create(j.prototype),ux.prototype.g=ux,ux.k={},e.b2ContactImpulse=ux,ux.prototype.get_count=function(){return Xn(this.e)},ux.prototype.set_count=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Kh(V,o)},ux.prototype.__destroy__=function(){tf(this.e)},s.prototype=Object.create(t.prototype),s.prototype.g=s,s.k={},e.b2DistanceJoint=s,s.prototype.GetLocalAnchorA=function(){return q(Es(this.e),u)},s.prototype.GetLocalAnchorB=function(){return q(Ki(this.e),u)},s.prototype.SetLength=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vv(V,o)},s.prototype.GetLength=function(){return Jl(this.e)},s.prototype.SetFrequency=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Gh(V,o)},s.prototype.GetFrequency=function(){return rm(this.e)},s.prototype.SetDampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hf(V,o)},s.prototype.GetDampingRatio=function(){return Xh(this.e)},s.prototype.GetType=function(){return kl(this.e)},s.prototype.GetBodyA=function(){return q(ej(this.e),v)},s.prototype.GetBodyB=function(){return q(Rv(this.e),v)},s.prototype.GetAnchorA=function(){return q(ud(this.e),u)},s.prototype.GetAnchorB=function(){return q(th(this.e),u)},s.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Bn(V,o),u)},s.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return gt(V,o)},s.prototype.GetNext=function(){return q(Re(this.e),t)},s.prototype.GetUserData=function(){return Qw(this.e)},s.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);rn(V,o)},s.prototype.IsActive=function(){return oh(this.e)},s.prototype.GetCollideConnected=function(){return Ut(this.e)},s.prototype.__destroy__=function(){ur(this.e)},vx.prototype=Object.create(j.prototype),vx.prototype.g=vx,vx.k={},e.b2Mat33=vx,vx.prototype.SetZero=function(){Tu(this.e)},vx.prototype.Solve33=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Dp(V,o),wx)},vx.prototype.Solve22=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Ag(V,o),u)},vx.prototype.GetInverse22=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hn(V,o)},vx.prototype.GetSymInverse33=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vl(V,o)},vx.prototype.get_ex=function(){return q(Ch(this.e),wx)},vx.prototype.set_ex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bu(V,o)},vx.prototype.get_ey=function(){return q(md(this.e),wx)},vx.prototype.set_ey=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mi(V,o)},vx.prototype.get_ez=function(){return q(Uw(this.e),wx)},vx.prototype.set_ez=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Du(V,o)},vx.prototype.__destroy__=function(){Id(this.e)},w.prototype=Object.create(j.prototype),w.prototype.g=w,w.k={},e.b2Fixture=w,w.prototype.GetType=function(){return ml(this.e)},w.prototype.GetShape=function(){return q(sv(this.e),xx)},w.prototype.SetSensor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bj(V,o)},w.prototype.IsSensor=function(){return Yo(this.e)},w.prototype.SetFilterData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gi(V,o)},w.prototype.GetFilterData=function(){return q(st(this.e),yx)},w.prototype.Refilter=function(){Vo(this.e)},w.prototype.GetBody=function(){return q(Jh(this.e),v)},w.prototype.GetNext=function(){return q(bk(this.e),w)},w.prototype.GetUserData=function(){return gm(this.e)},w.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hr(V,o)},w.prototype.TestPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return qu(V,o)},w.prototype.RayCast=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);return el(_o,_r,l,e_)},w.prototype.GetMassData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ij(V,o)},w.prototype.SetDensity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Oh(V,o)},w.prototype.GetDensity=function(){return Up(this.e)},w.prototype.GetFriction=function(){return Ou(this.e)},w.prototype.SetFriction=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sc(V,o)},w.prototype.GetRestitution=function(){return We(this.e)},w.prototype.SetRestitution=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zt(V,o)},w.prototype.GetAABB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Jn(V,o),zx)},w.prototype.Dump=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);on(V,o)},w.prototype.__destroy__=function(){Pc(this.e)},yx.prototype=Object.create(j.prototype),yx.prototype.g=yx,yx.k={},e.b2Filter=yx,yx.prototype.get_categoryBits=function(){return Zm(this.e)},yx.prototype.set_categoryBits=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mk(V,o)},yx.prototype.get_maskBits=function(){return bp(this.e)},yx.prototype.set_maskBits=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ss(V,o)},yx.prototype.get_groupIndex=function(){return Ue(this.e)},yx.prototype.set_groupIndex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);wn(V,o)},yx.prototype.__destroy__=function(){go(this.e)},Ax.prototype=Object.create(Bx.prototype),Ax.prototype.g=Ax,Ax.k={},e.JSQueryCallback=Ax,Ax.prototype.ReportFixture=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return pu(V,o)},Ax.prototype.__destroy__=function(){Jo(this.e)},y.prototype=Object.create(t.prototype),y.prototype.g=y,y.k={},e.b2MouseJoint=y,y.prototype.SetTarget=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);oi(V,o)},y.prototype.GetTarget=function(){return q(Kt(this.e),u)},y.prototype.SetMaxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Aq(V,o)},y.prototype.GetMaxForce=function(){return Vt(this.e)},y.prototype.SetFrequency=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zl(V,o)},y.prototype.GetFrequency=function(){return Dt(this.e)},y.prototype.SetDampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qk(V,o)},y.prototype.GetDampingRatio=function(){return as(this.e)},y.prototype.GetType=function(){return Io(this.e)},y.prototype.GetBodyA=function(){return q(So(this.e),v)},y.prototype.GetBodyB=function(){return q(Cj(this.e),v)},y.prototype.GetAnchorA=function(){return q(tu(this.e),u)},y.prototype.GetAnchorB=function(){return q(Xq(this.e),u)},y.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(jm(V,o),u)},y.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return mo(V,o)},y.prototype.GetNext=function(){return q(Xi(this.e),t)},y.prototype.GetUserData=function(){return no(this.e)},y.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mt(V,o)},y.prototype.IsActive=function(){return nd(this.e)},y.prototype.GetCollideConnected=function(){return Bi(this.e)},y.prototype.__destroy__=function(){Gq(this.e)},Cx.prototype=Object.create(j.prototype),Cx.prototype.g=Cx,Cx.k={},e.b2Rot=Cx,Cx.prototype.Set=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);wg(V,o)},Cx.prototype.SetIdentity=function(){Mg(this.e)},Cx.prototype.GetAngle=function(){return Np(this.e)},Cx.prototype.GetXAxis=function(){return q(Zj(this.e),u)},Cx.prototype.GetYAxis=function(){return q(sr(this.e),u)},Cx.prototype.get_s=function(){return Zp(this.e)},Cx.prototype.set_s=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);me(V,o)},Cx.prototype.get_c=function(){return xq(this.e)},Cx.prototype.set_c=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mh(V,o)},Cx.prototype.__destroy__=function(){ap(this.e)},z.prototype=Object.create(t.prototype),z.prototype.g=z,z.k={},e.b2MotorJoint=z,z.prototype.SetLinearOffset=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Lp(V,o)},z.prototype.GetLinearOffset=function(){return q(Qp(this.e),u)},z.prototype.SetAngularOffset=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pp(V,o)},z.prototype.GetAngularOffset=function(){return xv(this.e)},z.prototype.SetMaxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);mp(V,o)},z.prototype.GetMaxForce=function(){return Wj(this.e)},z.prototype.SetMaxTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zd(V,o)},z.prototype.GetMaxTorque=function(){return es(this.e)},z.prototype.SetCorrectionFactor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ie(V,o)},z.prototype.GetCorrectionFactor=function(){return tq(this.e)},z.prototype.GetType=function(){return cr(this.e)},z.prototype.GetBodyA=function(){return q(Rg(this.e),v)},z.prototype.GetBodyB=function(){return q(mi(this.e),v)},z.prototype.GetAnchorA=function(){return q(Tp(this.e),u)},z.prototype.GetAnchorB=function(){return q(rv(this.e),u)},z.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Mp(V,o),u)},z.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Uf(V,o)},z.prototype.GetNext=function(){return q(zr(this.e),t)},z.prototype.GetUserData=function(){return Nk(this.e)},z.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ki(V,o)},z.prototype.IsActive=function(){return lo(this.e)},z.prototype.GetCollideConnected=function(){return ff(this.e)},z.prototype.__destroy__=function(){bl(this.e)},A.prototype=Object.create(j.prototype),A.prototype.g=A,A.k={},e.b2Profile=A,A.prototype.get_step=function(){return Ik(this.e)},A.prototype.set_step=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pj(V,o)},A.prototype.get_collide=function(){return At(this.e)},A.prototype.set_collide=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);To(V,o)},A.prototype.get_solve=function(){return uq(this.e)},A.prototype.set_solve=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);kt(V,o)},A.prototype.get_solveInit=function(){return Iv(this.e)},A.prototype.set_solveInit=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pl(V,o)},A.prototype.get_solveVelocity=function(){return aw(this.e)},A.prototype.set_solveVelocity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Hm(V,o)},A.prototype.get_solvePosition=function(){return Fd(this.e)},A.prototype.set_solvePosition=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Bg(V,o)},A.prototype.get_broadphase=function(){return qd(this.e)},A.prototype.set_broadphase=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vn(V,o)},A.prototype.get_solveTOI=function(){return Hg(this.e)},A.prototype.set_solveTOI=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ui(V,o)},A.prototype.__destroy__=function(){Eh(this.e)},Dx.prototype=Object.create(j.prototype),Dx.prototype.g=Dx,Dx.k={},e.VoidPtr=Dx,Dx.prototype.__destroy__=function(){yp(this.e)},B.prototype=Object.create(j.prototype),B.prototype.g=B,B.k={},e.b2BodyDef=B,B.prototype.get_type=function(){return Lr(this.e)},B.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vc(V,o)},B.prototype.get_position=function(){return q(bd(this.e),u)},B.prototype.set_position=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qd(V,o)},B.prototype.get_angle=function(){return hu(this.e)},B.prototype.set_angle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pl(V,o)},B.prototype.get_linearVelocity=function(){return q(lv(this.e),u)},B.prototype.set_linearVelocity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$k(V,o)},B.prototype.get_angularVelocity=function(){return Le(this.e)},B.prototype.set_angularVelocity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Um(V,o)},B.prototype.get_linearDamping=function(){return Ek(this.e)},B.prototype.set_linearDamping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qr(V,o)},B.prototype.get_angularDamping=function(){return fr(this.e)},B.prototype.set_angularDamping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Jv(V,o)},B.prototype.get_allowSleep=function(){return Zu(this.e)},B.prototype.set_allowSleep=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);mj(V,o)},B.prototype.get_awake=function(){return dr(this.e)},B.prototype.set_awake=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);am(V,o)},B.prototype.get_fixedRotation=function(){return io(this.e)},B.prototype.set_fixedRotation=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Tk(V,o)},B.prototype.get_bullet=function(){return Kf(this.e)},B.prototype.set_bullet=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sn(V,o)},B.prototype.get_active=function(){return Nj(this.e)},B.prototype.set_active=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);wk(V,o)},B.prototype.get_userData=function(){return Mv(this.e)},B.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Lu(V,o)},B.prototype.get_gravityScale=function(){return qo(this.e)},B.prototype.set_gravityScale=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ee(V,o)},B.prototype.__destroy__=function(){Gs(this.e)},Ex.prototype=Object.create(Fx.prototype),Ex.prototype.g=Ex,Ex.k={},e.JSRayCastCallback=Ex,Ex.prototype.ReportFixture=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Fm(_r,l,e_,o_,i_)},Ex.prototype.__destroy__=function(){gp(this.e)},Gx.prototype=Object.create(j.prototype),Gx.prototype.g=Gx,Gx.k={},e.b2ContactFeature=Gx,Gx.prototype.get_indexA=function(){return xh(this.e)},Gx.prototype.set_indexA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Hv(V,o)},Gx.prototype.get_indexB=function(){return Jw(this.e)},Gx.prototype.set_indexB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);mr(V,o)},Gx.prototype.get_typeA=function(){return im(this.e)},Gx.prototype.set_typeA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);nn(V,o)},Gx.prototype.get_typeB=function(){return Kp(this.e)},Gx.prototype.set_typeB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xg(V,o)},Gx.prototype.__destroy__=function(){gq(this.e)},u.prototype=Object.create(j.prototype),u.prototype.g=u,u.k={},e.b2Vec2=u,u.prototype.SetZero=function(){Br(this.e)},u.prototype.Set=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Wp(o,_o,_r)},u.prototype.op_add=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Rf(V,o)},u.prototype.op_sub=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vh(V,o)},u.prototype.op_mul=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sj(V,o)},u.prototype.Length=function(){return Ar(this.e)},u.prototype.LengthSquared=function(){return Gw(this.e)},u.prototype.Normalize=function(){return gg(this.e)},u.prototype.IsValid=function(){return rp(this.e)},u.prototype.Skew=function(){return q($r(this.e),u)},u.prototype.get_x=function(){return ex(this.e)},u.prototype.set_x=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vf(V,o)},u.prototype.get_y=function(){return bm(this.e)},u.prototype.set_y=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sw(V,o)},u.prototype.__destroy__=function(){hv(this.e)},wx.prototype=Object.create(j.prototype),wx.prototype.g=wx,wx.k={},e.b2Vec3=wx,wx.prototype.SetZero=function(){Xf(this.e)},wx.prototype.Set=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);ak(_o,_r,l,e_)},wx.prototype.op_add=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Og(V,o)},wx.prototype.op_sub=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);po(V,o)},wx.prototype.op_mul=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);uv(V,o)},wx.prototype.get_x=function(){return Bd(this.e)},wx.prototype.set_x=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);wm(V,o)},wx.prototype.get_y=function(){return nu(this.e)},wx.prototype.set_y=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);lq(V,o)},wx.prototype.get_z=function(){return vc(this.e)},wx.prototype.set_z=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pm(V,o)},wx.prototype.__destroy__=function(){Rh(this.e)},zx.prototype=Object.create(j.prototype),zx.prototype.g=zx,zx.k={},e.b2AABB=zx,zx.prototype.IsValid=function(){return so(this.e)},zx.prototype.GetCenter=function(){return q(vn(this.e),u)},zx.prototype.GetExtents=function(){return q(cu(this.e),u)},zx.prototype.GetPerimeter=function(){return um(this.e)},zx.prototype.Combine=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);_r===d?mq(o,_o):nq(o,_o,_r)},zx.prototype.Contains=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Qe(V,o)},zx.prototype.RayCast=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return zl(o,_o,_r)},zx.prototype.get_lowerBound=function(){return q(He(this.e),u)},zx.prototype.set_lowerBound=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);yq(V,o)},zx.prototype.get_upperBound=function(){return q(Ze(this.e),u)},zx.prototype.set_upperBound=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);rf(V,o)},zx.prototype.__destroy__=function(){qq(this.e)},Hx.prototype=Object.create(j.prototype),Hx.prototype.g=Hx,Hx.k={},e.b2FixtureDef=Hx,Hx.prototype.get_shape=function(){return q(ju(this.e),xx)},Hx.prototype.set_shape=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zv(V,o)},Hx.prototype.get_userData=function(){return re(this.e)},Hx.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cq(V,o)},Hx.prototype.get_friction=function(){return Ht(this.e)},Hx.prototype.set_friction=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Cm(V,o)},Hx.prototype.get_restitution=function(){return ll(this.e)},Hx.prototype.set_restitution=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);jd(V,o)},Hx.prototype.get_density=function(){return je(this.e)},Hx.prototype.set_density=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ps(V,o)},Hx.prototype.get_isSensor=function(){return rg(this.e)},Hx.prototype.set_isSensor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Al(V,o)},Hx.prototype.get_filter=function(){return q(Hc(this.e),yx)},Hx.prototype.set_filter=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ei(V,o)},Hx.prototype.__destroy__=function(){Yv(this.e)},C.prototype=Object.create(D.prototype),C.prototype.g=C,C.k={},e.b2FrictionJointDef=C,C.prototype.Initialize=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);mw(_o,_r,l,e_)},C.prototype.get_localAnchorA=function(){return q(If(this.e),u)},C.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ig(V,o)},C.prototype.get_localAnchorB=function(){return q(Mj(this.e),u)},C.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ck(V,o)},C.prototype.get_maxForce=function(){return Tm(this.e)},C.prototype.set_maxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);en(V,o)},C.prototype.get_maxTorque=function(){return np(this.e)},C.prototype.set_maxTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Hs(V,o)},C.prototype.get_type=function(){return Ic(this.e)},C.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hs(V,o)},C.prototype.get_userData=function(){return hi(this.e)},C.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);uc(V,o)},C.prototype.get_bodyA=function(){return q(Fu(this.e),v)},C.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Hw(V,o)},C.prototype.get_bodyB=function(){return q(Bq(this.e),v)},C.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ys(V,o)},C.prototype.get_collideConnected=function(){return js(this.e)},C.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);se(V,o)},C.prototype.__destroy__=function(){yi(this.e)},Ix.prototype=Object.create(j.prototype),Ix.prototype.g=Ix,Ix.k={},e.b2Manifold=Ix,Ix.prototype.get_localNormal=function(){return q(yl(this.e),u)},Ix.prototype.set_localNormal=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Tr(V,o)},Ix.prototype.get_localPoint=function(){return q(Zq(this.e),u)},Ix.prototype.set_localPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qn(V,o)},Ix.prototype.get_type=function(){return Ld(this.e)},Ix.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Il(V,o)},Ix.prototype.get_pointCount=function(){return Tw(this.e)},Ix.prototype.set_pointCount=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Jg(V,o)},Ix.prototype.__destroy__=function(){dh(this.e)},E.prototype=Object.create(D.prototype),E.prototype.g=E,E.k={},e.b2PrismaticJointDef=E,E.prototype.Initialize=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Hf(_r,l,e_,o_,i_)},E.prototype.get_localAnchorA=function(){return q(tj(this.e),u)},E.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);It(V,o)},E.prototype.get_localAnchorB=function(){return q(mf(this.e),u)},E.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ip(V,o)},E.prototype.get_localAxisA=function(){return q(Vu(this.e),u)},E.prototype.set_localAxisA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mn(V,o)},E.prototype.get_referenceAngle=function(){return Je(this.e)},E.prototype.set_referenceAngle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ci(V,o)},E.prototype.get_enableLimit=function(){return qt(this.e)},E.prototype.set_enableLimit=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qm(V,o)},E.prototype.get_lowerTranslation=function(){return te(this.e)},E.prototype.set_lowerTranslation=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pd(V,o)},E.prototype.get_upperTranslation=function(){return Ec(this.e)},E.prototype.set_upperTranslation=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gv(V,o)},E.prototype.get_enableMotor=function(){return Ws(this.e)},E.prototype.set_enableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Yr(V,o)},E.prototype.get_maxMotorForce=function(){return Ow(this.e)},E.prototype.set_maxMotorForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ti(V,o)},E.prototype.get_motorSpeed=function(){return $o(this.e)},E.prototype.set_motorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);jo(V,o)},E.prototype.get_type=function(){return Mf(this.e)},E.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vi(V,o)},E.prototype.get_userData=function(){return Vj(this.e)},E.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gs(V,o)},E.prototype.get_bodyA=function(){return q(qp(this.e),v)},E.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sp(V,o)},E.prototype.get_bodyB=function(){return q(rl(this.e),v)},E.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vl(V,o)},E.prototype.get_collideConnected=function(){return wt(this.e)},E.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ln(V,o)},E.prototype.__destroy__=function(){Ne(this.e)},F.prototype=Object.create(j.prototype),F.prototype.g=F,F.k={},e.b2World=F,F.prototype.SetDestructionListener=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Df(V,o)},F.prototype.SetContactFilter=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fd(V,o)},F.prototype.SetContactListener=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);de(V,o)},F.prototype.SetDebugDraw=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cg(V,o)},F.prototype.CreateBody=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Wo(V,o),v)},F.prototype.DestroyBody=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ed(V,o)},F.prototype.CreateJoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Gg(V,o),t)},F.prototype.DestroyJoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Dr(V,o)},F.prototype.Step=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Gk(_o,_r,l,e_)},F.prototype.ClearForces=function(){Qh(this.e)},F.prototype.DrawDebugData=function(){pd(this.e)},F.prototype.QueryAABB=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Lv(o,_o,_r)},F.prototype.RayCast=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);xt(_o,_r,l,e_)},F.prototype.GetBodyList=function(){return q(tt(this.e),v)},F.prototype.GetJointList=function(){return q(pn(this.e),t)},F.prototype.GetContactList=function(){return q(Cu(this.e),G)},F.prototype.SetAllowSleeping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Op(V,o)},F.prototype.GetAllowSleeping=function(){return Ri(this.e)},F.prototype.SetWarmStarting=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Rc(V,o)},F.prototype.GetWarmStarting=function(){return tp(this.e)},F.prototype.SetContinuousPhysics=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);an(V,o)},F.prototype.GetContinuousPhysics=function(){return dl(this.e)},F.prototype.SetSubStepping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qf(V,o)},F.prototype.GetSubStepping=function(){return rr(this.e)},F.prototype.GetProxyCount=function(){return fg(this.e)},F.prototype.GetBodyCount=function(){return hj(this.e)},F.prototype.GetJointCount=function(){return Yn(this.e)},F.prototype.GetContactCount=function(){return wj(this.e)},F.prototype.GetTreeHeight=function(){return $u(this.e)},F.prototype.GetTreeBalance=function(){return Dc(this.e)},F.prototype.GetTreeQuality=function(){return De(this.e)},F.prototype.SetGravity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Wt(V,o)},F.prototype.GetGravity=function(){return q(od(this.e),u)},F.prototype.IsLocked=function(){return wc(this.e)},F.prototype.SetAutoClearForces=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Od(V,o)},F.prototype.GetAutoClearForces=function(){return Rk(this.e)},F.prototype.GetProfile=function(){return q(wu(this.e),A)},F.prototype.Dump=function(){ht(this.e)},F.prototype.__destroy__=function(){yo(this.e)},H.prototype=Object.create(t.prototype),H.prototype.g=H,H.k={},e.b2PrismaticJoint=H,H.prototype.GetLocalAnchorA=function(){return q(Ok(this.e),u)},H.prototype.GetLocalAnchorB=function(){return q(Ho(this.e),u)},H.prototype.GetLocalAxisA=function(){return q(li(this.e),u)},H.prototype.GetReferenceAngle=function(){return Ml(this.e)},H.prototype.GetJointTranslation=function(){return rh(this.e)},H.prototype.GetJointSpeed=function(){return Cn(this.e)},H.prototype.IsLimitEnabled=function(){return tw(this.e)},H.prototype.EnableLimit=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sm(V,o)},H.prototype.GetLowerLimit=function(){return Ge(this.e)},H.prototype.GetUpperLimit=function(){return at(this.e)},H.prototype.SetLimits=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);sd(o,_o,_r)},H.prototype.IsMotorEnabled=function(){return El(this.e)},H.prototype.EnableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Cs(V,o)},H.prototype.SetMotorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Tt(V,o)},H.prototype.GetMotorSpeed=function(){return Kg(this.e)},H.prototype.SetMaxMotorForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$w(V,o)},H.prototype.GetMaxMotorForce=function(){return pq(this.e)},H.prototype.GetMotorForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return dj(V,o)},H.prototype.GetType=function(){return Ve(this.e)},H.prototype.GetBodyA=function(){return q(oq(this.e),v)},H.prototype.GetBodyB=function(){return q(eu(this.e),v)},H.prototype.GetAnchorA=function(){return q(Cl(this.e),u)},H.prototype.GetAnchorB=function(){return q(Im(this.e),u)},H.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(zi(V,o),u)},H.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return kh(V,o)},H.prototype.GetNext=function(){return q(Te(this.e),t)},H.prototype.GetUserData=function(){return is(this.e)},H.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sk(V,o)},H.prototype.IsActive=function(){return Ym(this.e)},H.prototype.GetCollideConnected=function(){return mh(this.e)},H.prototype.__destroy__=function(){Fg(this.e)},Jx.prototype=Object.create(j.prototype),Jx.prototype.g=Jx,Jx.k={},e.b2RayCastOutput=Jx,Jx.prototype.get_normal=function(){return q(ng(this.e),u)},Jx.prototype.set_normal=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Wh(V,o)},Jx.prototype.get_fraction=function(){return bo(this.e)},Jx.prototype.set_fraction=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ye(V,o)},Jx.prototype.__destroy__=function(){tn(this.e)},Kx.prototype=Object.create(j.prototype),Kx.prototype.g=Kx,Kx.k={},e.b2ContactID=Kx,Kx.prototype.get_cf=function(){return q(bt(this.e),Gx)},Kx.prototype.set_cf=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Yj(V,o)},Kx.prototype.get_key=function(){return Nv(this.e)},Kx.prototype.set_key=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);dg(V,o)},Kx.prototype.__destroy__=function(){Dm(this.e)},tx.prototype=Object.create(j.prototype),tx.prototype.g=tx,tx.k={},e.b2DestructionListenerWrapper=tx,tx.prototype.__destroy__=function(){Vw(this.e)},Lx.prototype=Object.create(Mx.prototype),Lx.prototype.g=Lx,Lx.k={},e.JSContactListener=Lx,Lx.prototype.BeginContact=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);No(V,o)},Lx.prototype.EndContact=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zd(V,o)},Lx.prototype.PreSolve=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Uh(o,_o,_r)},Lx.prototype.PostSolve=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Lq(o,_o,_r)},Lx.prototype.__destroy__=function(){Zk(this.e)},Nx.prototype=Object.create(j.prototype),Nx.prototype.g=Nx,Nx.k={},e.b2Mat22=Nx,Nx.prototype.Set=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Fr(o,_o,_r)},Nx.prototype.SetIdentity=function(){Xu(this.e)},Nx.prototype.SetZero=function(){Xt(this.e)},Nx.prototype.GetInverse=function(){return q(Bs(this.e),Nx)},Nx.prototype.Solve=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(wp(V,o),u)},Nx.prototype.get_ex=function(){return q(cp(this.e),u)},Nx.prototype.set_ex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gw(V,o)},Nx.prototype.get_ey=function(){return q(Wu(this.e),u)},Nx.prototype.set_ey=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pr(V,o)},Nx.prototype.__destroy__=function(){nv(this.e)},I.prototype=Object.create(D.prototype),I.prototype.g=I,I.k={},e.b2WheelJointDef=I,I.prototype.Initialize=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Rj(_r,l,e_,o_,i_)},I.prototype.get_localAnchorA=function(){return q(Rl(this.e),u)},I.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zf(V,o)},I.prototype.get_localAnchorB=function(){return q(Wn(this.e),u)},I.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mw(V,o)},I.prototype.get_localAxisA=function(){return q(Ij(this.e),u)},I.prototype.set_localAxisA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Aw(V,o)},I.prototype.get_enableMotor=function(){return Fw(this.e)},I.prototype.set_enableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qe(V,o)},I.prototype.get_maxMotorTorque=function(){return uh(this.e)},I.prototype.set_maxMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xs(V,o)},I.prototype.get_motorSpeed=function(){return ps(this.e)},I.prototype.set_motorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sp(V,o)},I.prototype.get_frequencyHz=function(){return Ac(this.e)},I.prototype.set_frequencyHz=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qr(V,o)},I.prototype.get_dampingRatio=function(){return ao(this.e)},I.prototype.set_dampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);wr(V,o)},I.prototype.get_type=function(){return Gu(this.e)},I.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ce(V,o)},I.prototype.get_userData=function(){return Pv(this.e)},I.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sh(V,o)},I.prototype.get_bodyA=function(){return q(Ww(this.e),v)},I.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fu(V,o)},I.prototype.get_bodyB=function(){return q(Qn(this.e),v)},I.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pe(V,o)},I.prototype.get_collideConnected=function(){return gd(this.e)},I.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mr(V,o)},I.prototype.__destroy__=function(){Wf(this.e)},Ox.prototype=Object.create(xx.prototype),Ox.prototype.g=Ox,Ox.k={},e.b2CircleShape=Ox,Ox.prototype.GetType=function(){return ai(this.e)},Ox.prototype.GetChildCount=function(){return Jf(this.e)},Ox.prototype.TestPoint=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return Tq(o,_o,_r)},Ox.prototype.RayCast=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Hk(_r,l,e_,o_,i_)},Ox.prototype.ComputeAABB=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);ot(_o,_r,l,e_)},Ox.prototype.ComputeMass=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Oq(o,_o,_r)},Ox.prototype.get_m_p=function(){return q(wh(this.e),u)},Ox.prototype.set_m_p=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);yd(V,o)},Ox.prototype.get_m_type=function(){return Ds(this.e)},Ox.prototype.set_m_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);nf(V,o)},Ox.prototype.get_m_radius=function(){return si(this.e)},Ox.prototype.set_m_radius=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bf(V,o)},Ox.prototype.__destroy__=function(){br(this.e)},J.prototype=Object.create(D.prototype),J.prototype.g=J,J.k={},e.b2WeldJointDef=J,J.prototype.Initialize=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Et(_o,_r,l,e_)},J.prototype.get_localAnchorA=function(){return q(Lt(this.e),u)},J.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);oj(V,o)},J.prototype.get_localAnchorB=function(){return q(pp(this.e),u)},J.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);af(V,o)},J.prototype.get_referenceAngle=function(){return qs(this.e)},J.prototype.set_referenceAngle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ls(V,o)},J.prototype.get_frequencyHz=function(){return bh(this.e)},J.prototype.set_frequencyHz=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Wr(V,o)},J.prototype.get_dampingRatio=function(){return Fq(this.e)},J.prototype.set_dampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sj(V,o)},J.prototype.get_type=function(){return Xp(this.e)},J.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ns(V,o)},J.prototype.get_userData=function(){return ku(this.e)},J.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Yh(V,o)},J.prototype.get_bodyA=function(){return q(qv(this.e),v)},J.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Cf(V,o)},J.prototype.get_bodyB=function(){return q(bw(this.e),v)},J.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Tv(V,o)},J.prototype.get_collideConnected=function(){return jj(this.e)},J.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Kd(V,o)},J.prototype.__destroy__=function(){vp(this.e)},Px.prototype=Object.create(j.prototype),Px.prototype.g=Px,Px.k={},e.b2Draw=Px,Px.prototype.SetFlags=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pe(V,o)},Px.prototype.GetFlags=function(){return xc(this.e)},Px.prototype.AppendFlags=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Au(V,o)},Px.prototype.ClearFlags=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Oi(V,o)},Px.prototype.__destroy__=function(){Qj(this.e)},Qx.prototype=Object.create(j.prototype),Qx.prototype.g=Qx,Qx.k={},e.b2MassData=Qx,Qx.prototype.get_mass=function(){return ww(this.e)},Qx.prototype.set_mass=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ad(V,o)},Qx.prototype.get_center=function(){return q(Nf(this.e),u)},Qx.prototype.set_center=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Kj(V,o)},Qx.prototype.get_I=function(){return os(this.e)},Qx.prototype.set_I=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);yt(V,o)},Qx.prototype.__destroy__=function(){zt(this.e)},t.prototype=Object.create(j.prototype),t.prototype.g=t,t.k={},e.b2Joint=t,t.prototype.GetType=function(){return Sw(this.e)},t.prototype.GetBodyA=function(){return q(Sf(this.e),v)},t.prototype.GetBodyB=function(){return q(yw(this.e),v)},t.prototype.GetAnchorA=function(){return q(En(this.e),u)},t.prototype.GetAnchorB=function(){return q(Uj(this.e),u)},t.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Bm(V,o),u)},t.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Bk(V,o)},t.prototype.GetNext=function(){return q(vt(this.e),t)},t.prototype.GetUserData=function(){return Gl(this.e)},t.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cx(V,o)},t.prototype.IsActive=function(){return Yu(this.e)},t.prototype.GetCollideConnected=function(){return Tf(this.e)},t.prototype.Dump=function(){Bw(this.e)},Rx.prototype=Object.create(t.prototype),Rx.prototype.g=Rx,Rx.k={},e.b2GearJoint=Rx,Rx.prototype.GetJoint1=function(){return q(Xd(this.e),t)},Rx.prototype.GetJoint2=function(){return q(av(this.e),t)},Rx.prototype.SetRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);eo(V,o)},Rx.prototype.GetRatio=function(){return jg(this.e)},Rx.prototype.GetType=function(){return hw(this.e)},Rx.prototype.GetBodyA=function(){return q(Qm(this.e),v)},Rx.prototype.GetBodyB=function(){return q($q(this.e),v)},Rx.prototype.GetAnchorA=function(){return q($d(this.e),u)},Rx.prototype.GetAnchorB=function(){return q(Mu(this.e),u)},Rx.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Se(V,o),u)},Rx.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Jd(V,o)},Rx.prototype.GetNext=function(){return q(zv(this.e),t)},Rx.prototype.GetUserData=function(){return ef(this.e)},Rx.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);om(V,o)},Rx.prototype.IsActive=function(){return fj(this.e)},Rx.prototype.GetCollideConnected=function(){return ue(this.e)},Rx.prototype.__destroy__=function(){gh(this.e)},Fx.prototype=Object.create(j.prototype),Fx.prototype.g=Fx,Fx.k={},e.b2RayCastCallback=Fx,Fx.prototype.__destroy__=function(){ii(this.e)},K.prototype=Object.create(t.prototype),K.prototype.g=K,K.k={},e.b2WeldJoint=K,K.prototype.GetLocalAnchorA=function(){return q(Yl(this.e),u)},K.prototype.GetLocalAnchorB=function(){return q(Rn(this.e),u)},K.prototype.SetFrequency=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Th(V,o)},K.prototype.GetFrequency=function(){return Fl(this.e)},K.prototype.SetDampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Me(V,o)},K.prototype.GetDampingRatio=function(){return lt(this.e)},K.prototype.Dump=function(){lp(this.e)},K.prototype.GetType=function(){return Zo(this.e)},K.prototype.GetBodyA=function(){return q(og(this.e),v)},K.prototype.GetBodyB=function(){return q(Pj(this.e),v)},K.prototype.GetAnchorA=function(){return q($v(this.e),u)},K.prototype.GetAnchorB=function(){return q(Hr(this.e),u)},K.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Zs(V,o),u)},K.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Zc(V,o)},K.prototype.GetNext=function(){return q(Ir(this.e),t)},K.prototype.GetUserData=function(){return Ql(this.e)},K.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);aj(V,o)},K.prototype.IsActive=function(){return Tc(this.e)},K.prototype.GetCollideConnected=function(){return or(this.e)},K.prototype.__destroy__=function(){Kq(this.e)},Sx.prototype=Object.create(j.prototype),Sx.prototype.g=Sx,Sx.k={},e.b2JointEdge=Sx,Sx.prototype.get_other=function(){return q(Nt(this.e),v)},Sx.prototype.set_other=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fe(V,o)},Sx.prototype.get_joint=function(){return q(Wv(this.e),t)},Sx.prototype.set_joint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Nc(V,o)},Sx.prototype.get_prev=function(){return q(Yc(this.e),Sx)},Sx.prototype.set_prev=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);jh(V,o)},Sx.prototype.get_next=function(){return q(Qo(this.e),Sx)},Sx.prototype.set_next=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ho(V,o)},Sx.prototype.__destroy__=function(){Lo(this.e)},L.prototype=Object.create(D.prototype),L.prototype.g=L,L.k={},e.b2PulleyJointDef=L,L.prototype.Initialize=function(i_,_e,c_,ws,h_,s_,w_){var o_=this.e,i_=i_&&typeof i_=="object"?i_.e:r(i_),_e=_e&&typeof _e=="object"?_e.e:r(_e),c_=c_&&typeof c_=="object"?c_.e:r(c_),ws=ws&&typeof ws=="object"?ws.e:r(ws),h_=h_&&typeof h_=="object"?h_.e:r(h_),s_=s_&&typeof s_=="object"?s_.e:r(s_),w_=w_&&typeof w_=="object"?w_.e:r(w_);dw(o_,i_,_e,c_,ws,h_,s_,w_)},L.prototype.get_groundAnchorA=function(){return q(fi(this.e),u)},L.prototype.set_groundAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Yw(V,o)},L.prototype.get_groundAnchorB=function(){return q(Dn(this.e),u)},L.prototype.set_groundAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Js(V,o)},L.prototype.get_localAnchorA=function(){return q(td(this.e),u)},L.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ji(V,o)},L.prototype.get_localAnchorB=function(){return q(Dg(this.e),u)},L.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);nl(V,o)},L.prototype.get_lengthA=function(){return vm(this.e)},L.prototype.set_lengthA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);eh(V,o)},L.prototype.get_lengthB=function(){return $i(this.e)},L.prototype.set_lengthB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ev(V,o)},L.prototype.get_ratio=function(){return lf(this.e)},L.prototype.set_ratio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ih(V,o)},L.prototype.get_type=function(){return xm(this.e)},L.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sl(V,o)},L.prototype.get_userData=function(){return ul(this.e)},L.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);dn(V,o)},L.prototype.get_bodyA=function(){return q(rd(this.e),v)},L.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Rw(V,o)},L.prototype.get_bodyB=function(){return q(Lh(this.e),v)},L.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sg(V,o)},L.prototype.get_collideConnected=function(){return ax(this.e)},L.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Iu(V,o)},L.prototype.__destroy__=function(){Bj(this.e)},Mx.prototype=Object.create(j.prototype),Mx.prototype.g=Mx,Mx.k={},e.b2ContactListener=Mx,Mx.prototype.__destroy__=function(){hp(this.e)},Tx.prototype=Object.create(j.prototype),Tx.prototype.g=Tx,Tx.k={},e.b2ManifoldPoint=Tx,Tx.prototype.get_localPoint=function(){return q(Lf(this.e),u)},Tx.prototype.set_localPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);rt(V,o)},Tx.prototype.get_normalImpulse=function(){return zk(this.e)},Tx.prototype.set_normalImpulse=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Di(V,o)},Tx.prototype.get_tangentImpulse=function(){return Dq(this.e)},Tx.prototype.set_tangentImpulse=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vd(V,o)},Tx.prototype.get_id=function(){return q(Ig(this.e),Kx)},Tx.prototype.set_id=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pn(V,o)},Tx.prototype.__destroy__=function(){xr(this.e)},Bx.prototype=Object.create(j.prototype),Bx.prototype.g=Bx,Bx.k={},e.b2QueryCallback=Bx,Bx.prototype.__destroy__=function(){kf(this.e)},D.prototype=Object.create(j.prototype),D.prototype.g=D,D.k={},e.b2JointDef=D,D.prototype.get_type=function(){return ou(this.e)},D.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zu(V,o)},D.prototype.get_userData=function(){return dq(this.e)},D.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Cq(V,o)},D.prototype.get_bodyA=function(){return q(Ur(this.e),v)},D.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fl(V,o)},D.prototype.get_bodyB=function(){return q(An(this.e),v)},D.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Er(V,o)},D.prototype.get_collideConnected=function(){return Vk(this.e)},D.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);al(V,o)},D.prototype.__destroy__=function(){Gf(this.e)},Ux.prototype=Object.create(j.prototype),Ux.prototype.g=Ux,Ux.k={},e.b2Transform=Ux,Ux.prototype.SetIdentity=function(){ir(this.e)},Ux.prototype.Set=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);ni(o,_o,_r)},Ux.prototype.get_p=function(){return q(uu(this.e),u)},Ux.prototype.set_p=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Yi(V,o)},Ux.prototype.get_q=function(){return q(Rd(this.e),Cx)},Ux.prototype.set_q=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Xe(V,o)},Ux.prototype.__destroy__=function(){$e(this.e)},M.prototype=Object.create(xx.prototype),M.prototype.g=M,M.k={},e.b2ChainShape=M,M.prototype.Clear=function(){ar(this.e)},M.prototype.CreateLoop=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);ow(o,_o,_r)},M.prototype.CreateChain=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Cd(o,_o,_r)},M.prototype.SetPrevVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ko(V,o)},M.prototype.SetNextVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ao(V,o)},M.prototype.GetChildEdge=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Ot(o,_o,_r)},M.prototype.GetType=function(){return Om(this.e)},M.prototype.GetChildCount=function(){return jq(this.e)},M.prototype.TestPoint=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return Ll(o,_o,_r)},M.prototype.RayCast=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return $s(_r,l,e_,o_,i_)},M.prototype.ComputeAABB=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Wc(_o,_r,l,e_)},M.prototype.ComputeMass=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);rw(o,_o,_r)},M.prototype.get_m_vertices=function(){return q(le(this.e),u)},M.prototype.set_m_vertices=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ke(V,o)},M.prototype.get_m_count=function(){return rc(this.e)},M.prototype.set_m_count=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Dl(V,o)},M.prototype.get_m_prevVertex=function(){return q(Ph(this.e),u)},M.prototype.set_m_prevVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cs(V,o)},M.prototype.get_m_nextVertex=function(){return q(Zf(this.e),u)},M.prototype.set_m_nextVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zh(V,o)},M.prototype.get_m_hasPrevVertex=function(){return zq(this.e)},M.prototype.set_m_hasPrevVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Eg(V,o)},M.prototype.get_m_hasNextVertex=function(){return zo(this.e)},M.prototype.set_m_hasNextVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);As(V,o)},M.prototype.get_m_type=function(){return ek(this.e)},M.prototype.set_m_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ug(V,o)},M.prototype.get_m_radius=function(){return dt(this.e)},M.prototype.set_m_radius=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ft(V,o)},M.prototype.__destroy__=function(){nm(this.e)},Vx.prototype=Object.create(j.prototype),Vx.prototype.g=Vx,Vx.k={},e.b2Color=Vx,Vx.prototype.Set=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Bv(_o,_r,l,e_)},Vx.prototype.get_r=function(){return Dd(this.e)},Vx.prototype.set_r=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ze(V,o)},Vx.prototype.get_g=function(){return xp(this.e)},Vx.prototype.set_g=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zc(V,o)},Vx.prototype.get_b=function(){return mt(this.e)},Vx.prototype.set_b=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Am(V,o)},Vx.prototype.__destroy__=function(){Xm(this.e)},N.prototype=Object.create(t.prototype),N.prototype.g=N,N.k={},e.b2RopeJoint=N,N.prototype.GetLocalAnchorA=function(){return q(Pr(this.e),u)},N.prototype.GetLocalAnchorB=function(){return q(Aj(this.e),u)},N.prototype.SetMaxLength=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bx(V,o)},N.prototype.GetMaxLength=function(){return df(this.e)},N.prototype.GetLimitState=function(){return Uk(this.e)},N.prototype.GetType=function(){return ns(this.e)},N.prototype.GetBodyA=function(){return q(Fv(this.e),v)},N.prototype.GetBodyB=function(){return q(Bl(this.e),v)},N.prototype.GetAnchorA=function(){return q(vj(this.e),u)},N.prototype.GetAnchorB=function(){return q(qf(this.e),u)},N.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(pt(V,o),u)},N.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return fw(V,o)},N.prototype.GetNext=function(){return q(zp(this.e),t)},N.prototype.GetUserData=function(){return lk(this.e)},N.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ts(V,o)},N.prototype.IsActive=function(){return Nu(this.e)},N.prototype.GetCollideConnected=function(){return Ju(this.e)},N.prototype.__destroy__=function(){Cr(this.e)},Wx.prototype=Object.create(j.prototype),Wx.prototype.g=Wx,Wx.k={},e.b2RayCastInput=Wx,Wx.prototype.get_p1=function(){return q(Lc(this.e),u)},Wx.prototype.set_p1=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);iv(V,o)},Wx.prototype.get_p2=function(){return q(Nl(this.e),u)},Wx.prototype.set_p2=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);lg(V,o)},Wx.prototype.get_maxFraction=function(){return Pm(this.e)},Wx.prototype.set_maxFraction=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ro(V,o)},Wx.prototype.__destroy__=function(){wf(this.e)},O.prototype=Object.create(xx.prototype),O.prototype.g=O,O.k={},e.b2PolygonShape=O,O.prototype.Set=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);ch(o,_o,_r)},O.prototype.SetAsBox=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);o_===d?tv(_r,l,e_):i_===d?_emscripten_bind_b2PolygonShape_SetAsBox_3(_r,l,e_,o_):jn(_r,l,e_,o_,i_)},O.prototype.GetVertexCount=function(){return wq(this.e)},O.prototype.GetVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Is(V,o),u)},O.prototype.GetType=function(){return bi(this.e)},O.prototype.GetChildCount=function(){return Bp(this.e)},O.prototype.TestPoint=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return Dj(o,_o,_r)},O.prototype.RayCast=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Cc(_r,l,e_,o_,i_)},O.prototype.ComputeAABB=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);hm(_o,_r,l,e_)},O.prototype.ComputeMass=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Xl(o,_o,_r)},O.prototype.get_m_centroid=function(){return q(mm(this.e),u)},O.prototype.set_m_centroid=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gn(V,o)},O.prototype.get_m_count=function(){return wd(this.e)},O.prototype.set_m_count=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Td(V,o)},O.prototype.get_m_type=function(){return Vp(this.e)},O.prototype.set_m_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vv(V,o)},O.prototype.get_m_radius=function(){return kk(this.e)},O.prototype.set_m_radius=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);dx(V,o)},O.prototype.__destroy__=function(){Ye(this.e)},P.prototype=Object.create(xx.prototype),P.prototype.g=P,P.k={},e.b2EdgeShape=P,P.prototype.Set=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Su(o,_o,_r)},P.prototype.GetType=function(){return vr(this.e)},P.prototype.GetChildCount=function(){return ld(this.e)},P.prototype.TestPoint=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return lm(o,_o,_r)},P.prototype.RayCast=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return lj(_r,l,e_,o_,i_)},P.prototype.ComputeAABB=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Kr(_o,_r,l,e_)},P.prototype.ComputeMass=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);vu(o,_o,_r)},P.prototype.get_m_vertex1=function(){return q($l(this.e),u)},P.prototype.set_m_vertex1=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bv(V,o)},P.prototype.get_m_vertex2=function(){return q(kn(this.e),u)},P.prototype.set_m_vertex2=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);kr(V,o)},P.prototype.get_m_vertex0=function(){return q(gj(this.e),u)},P.prototype.set_m_vertex0=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zi(V,o)},P.prototype.get_m_vertex3=function(){return q(gr(this.e),u)},P.prototype.set_m_vertex3=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ej(V,o)},P.prototype.get_m_hasVertex0=function(){return Em(this.e)},P.prototype.set_m_hasVertex0=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cf(V,o)},P.prototype.get_m_hasVertex3=function(){return tk(this.e)},P.prototype.set_m_hasVertex3=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mc(V,o)},P.prototype.get_m_type=function(){return Wd(this.e)},P.prototype.set_m_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Cv(V,o)},P.prototype.get_m_radius=function(){return pw(this.e)},P.prototype.set_m_radius=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ts(V,o)},P.prototype.__destroy__=function(){uj(this.e)},Xx.prototype=Object.create(Yx.prototype),Xx.prototype.g=Xx,Xx.k={},e.JSContactFilter=Xx,Xx.prototype.ShouldCollide=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return Ak(o,_o,_r)},Xx.prototype.__destroy__=function(){jk(this.e)},Q.prototype=Object.create(D.prototype),Q.prototype.g=Q,Q.k={},e.b2RevoluteJointDef=Q,Q.prototype.Initialize=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Qu(_o,_r,l,e_)},Q.prototype.get_localAnchorA=function(){return q(ed(this.e),u)},Q.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fh(V,o)},Q.prototype.get_localAnchorB=function(){return q(hk(this.e),u)},Q.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sn(V,o)},Q.prototype.get_referenceAngle=function(){return ik(this.e)},Q.prototype.set_referenceAngle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fq(V,o)},Q.prototype.get_enableLimit=function(){return ri(this.e)},Q.prototype.set_enableLimit=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);up(V,o)},Q.prototype.get_lowerAngle=function(){return Hl(this.e)},Q.prototype.set_lowerAngle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ko(V,o)},Q.prototype.get_upperAngle=function(){return ve(this.e)},Q.prototype.set_upperAngle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Lm(V,o)},Q.prototype.get_enableMotor=function(){return ep(this.e)},Q.prototype.set_enableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vi(V,o)},Q.prototype.get_motorSpeed=function(){return mg(this.e)},Q.prototype.set_motorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Dw(V,o)},Q.prototype.get_maxMotorTorque=function(){return Eq(this.e)},Q.prototype.set_maxMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sv(V,o)},Q.prototype.get_type=function(){return Mm(this.e)},Q.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ck(V,o)},Q.prototype.get_userData=function(){return Hn(this.e)},Q.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);dd(V,o)},Q.prototype.get_bodyA=function(){return q(du(this.e),v)},Q.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Rq(V,o)},Q.prototype.get_bodyB=function(){return q(qk(this.e),v)},Q.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vg(V,o)},Q.prototype.get_collideConnected=function(){return Ks(this.e)},Q.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);eg(V,o)},Q.prototype.__destroy__=function(){Hp(this.e)},Zx.prototype=Object.create(Px.prototype),Zx.prototype.g=Zx,Zx.k={},e.JSDraw=Zx,Zx.prototype.DrawPolygon=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);fo(_o,_r,l,e_)},Zx.prototype.DrawSolidPolygon=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);vg(_o,_r,l,e_)},Zx.prototype.DrawCircle=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Sc(_o,_r,l,e_)},Zx.prototype.DrawSolidCircle=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Fc(_r,l,e_,o_,i_)},Zx.prototype.DrawSegment=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);id(_o,_r,l,e_)},Zx.prototype.DrawTransform=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);uo(V,o)},Zx.prototype.__destroy__=function(){yg(this.e)},R.prototype=Object.create(t.prototype),R.prototype.g=R,R.k={},e.b2WheelJoint=R,R.prototype.GetLocalAnchorA=function(){return q(ug(this.e),u)},R.prototype.GetLocalAnchorB=function(){return q(Ff(this.e),u)},R.prototype.GetLocalAxisA=function(){return q(Dv(this.e),u)},R.prototype.GetJointTranslation=function(){return Rs(this.e)},R.prototype.GetJointSpeed=function(){return hg(this.e)},R.prototype.IsMotorEnabled=function(){return Vf(this.e)},R.prototype.EnableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);tg(V,o)},R.prototype.SetMotorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ie(V,o)},R.prototype.GetMotorSpeed=function(){return Zn(this.e)},R.prototype.SetMaxMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Hj(V,o)},R.prototype.GetMaxMotorTorque=function(){return Yd(this.e)},R.prototype.GetMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Ss(V,o)},R.prototype.SetSpringFrequencyHz=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xi(V,o)},R.prototype.GetSpringFrequencyHz=function(){return Iw(this.e)},R.prototype.SetSpringDampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Gp(V,o)},R.prototype.GetSpringDampingRatio=function(){return pc(this.e)},R.prototype.GetType=function(){return wv(this.e)},R.prototype.GetBodyA=function(){return q(to(this.e),v)},R.prototype.GetBodyB=function(){return q(Wm(this.e),v)},R.prototype.GetAnchorA=function(){return q(ds(this.e),u)},R.prototype.GetAnchorB=function(){return q(Ii(this.e),u)},R.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Pf(V,o),u)},R.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return ln(V,o)},R.prototype.GetNext=function(){return q(un(this.e),t)},R.prototype.GetUserData=function(){return oo(this.e)},R.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Rt(V,o)},R.prototype.IsActive=function(){return Vs(this.e)},R.prototype.GetCollideConnected=function(){return Fp(this.e)},R.prototype.__destroy__=function(){xw(this.e)},S.prototype=Object.create(t.prototype),S.prototype.g=S,S.k={},e.b2PulleyJoint=S,S.prototype.GetGroundAnchorA=function(){return q(Hd(this.e),u)},S.prototype.GetGroundAnchorB=function(){return q(Ng(this.e),u)},S.prototype.GetLengthA=function(){return vo(this.e)},S.prototype.GetLengthB=function(){return Lk(this.e)},S.prototype.GetRatio=function(){return Mo(this.e)},S.prototype.GetCurrentLengthA=function(){return xl(this.e)},S.prototype.GetCurrentLengthB=function(){return rj(this.e)},S.prototype.GetType=function(){return nj(this.e)},S.prototype.GetBodyA=function(){return q(Mq(this.e),v)},S.prototype.GetBodyB=function(){return q(Be(this.e),v)},S.prototype.GetAnchorA=function(){return q(kv(this.e),u)},S.prototype.GetAnchorB=function(){return q(Bh(this.e),u)},S.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Ep(V,o),u)},S.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return iu(V,o)},S.prototype.GetNext=function(){return q(dk(this.e),t)},S.prototype.GetUserData=function(){return em(this.e)},S.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qc(V,o)},S.prototype.IsActive=function(){return Wi(this.e)},S.prototype.GetCollideConnected=function(){return Ah(this.e)},S.prototype.__destroy__=function(){Go(this.e)},T.prototype=Object.create(D.prototype),T.prototype.g=T,T.k={},e.b2MouseJointDef=T,T.prototype.get_target=function(){return q(bn(this.e),u)},T.prototype.set_target=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);he(V,o)},T.prototype.get_maxForce=function(){return Ip(this.e)},T.prototype.set_maxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sq(V,o)},T.prototype.get_frequencyHz=function(){return aq(this.e)},T.prototype.set_frequencyHz=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ct(V,o)},T.prototype.get_dampingRatio=function(){return Sg(this.e)},T.prototype.set_dampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fp(V,o)},T.prototype.get_type=function(){return Zw(this.e)},T.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Xc(V,o)},T.prototype.get_userData=function(){return nt(this.e)},T.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hd(V,o)},T.prototype.get_bodyA=function(){return q(il(this.e),v)},T.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);be(V,o)},T.prototype.get_bodyB=function(){return q(Zg(this.e),v)},T.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$h(V,o)},T.prototype.get_collideConnected=function(){return sf(this.e)},T.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zw(V,o)},T.prototype.__destroy__=function(){zg(this.e)},G.prototype=Object.create(j.prototype),G.prototype.g=G,G.k={},e.b2Contact=G,G.prototype.GetManifold=function(){return q(Jt(this.e),Ix)},G.prototype.IsTouching=function(){return Oe(this.e)},G.prototype.SetEnabled=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$f(V,o)},G.prototype.IsEnabled=function(){return Tj(this.e)},G.prototype.GetNext=function(){return q(Ud(this.e),G)},G.prototype.GetFixtureA=function(){return q(jf(this.e),w)},G.prototype.GetChildIndexA=function(){return Yt(this.e)},G.prototype.GetFixtureB=function(){return q(qw(this.e),w)},G.prototype.GetChildIndexB=function(){return tr(this.e)},G.prototype.SetFriction=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sr(V,o)},G.prototype.GetFriction=function(){return Hi(this.e)},G.prototype.ResetFriction=function(){jv(this.e)},G.prototype.SetRestitution=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);er(V,o)},G.prototype.GetRestitution=function(){return Fn(this.e)},G.prototype.ResetRestitution=function(){Qi(this.e)},G.prototype.SetTangentSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Lj(V,o)},G.prototype.GetTangentSpeed=function(){return Nn(this.e)},xx.prototype=Object.create(j.prototype),xx.prototype.g=xx,xx.k={},e.b2Shape=xx,xx.prototype.GetType=function(){return ro(this.e)},xx.prototype.GetChildCount=function(){return Ft(this.e)},xx.prototype.TestPoint=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return $g(o,_o,_r)},xx.prototype.RayCast=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Gd(_r,l,e_,o_,i_)},xx.prototype.ComputeAABB=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);tc(_o,_r,l,e_)},xx.prototype.ComputeMass=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);ut(o,_o,_r)},xx.prototype.get_m_type=function(){return Pk(this.e)},xx.prototype.set_m_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qs(V,o)},xx.prototype.get_m_radius=function(){return Jr(this.e)},xx.prototype.set_m_radius=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ag(V,o)},xx.prototype.__destroy__=function(){zm(this.e)},U.prototype=Object.create(D.prototype),U.prototype.g=U,U.k={},e.b2DistanceJointDef=U,U.prototype.Initialize=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Kn(_r,l,e_,o_,i_)},U.prototype.get_localAnchorA=function(){return q(Jj(this.e),u)},U.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Nw(V,o)},U.prototype.get_localAnchorB=function(){return q(Pq(this.e),u)},U.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xk(V,o)},U.prototype.get_length=function(){return Ae(this.e)},U.prototype.set_length=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ji(V,o)},U.prototype.get_frequencyHz=function(){return wo(this.e)},U.prototype.set_frequencyHz=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gk(V,o)},U.prototype.get_dampingRatio=function(){return nk(this.e)},U.prototype.set_dampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qg(V,o)},U.prototype.get_type=function(){return Ni(this.e)},U.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Jq(V,o)},U.prototype.get_userData=function(){return ad(this.e)},U.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);yj(V,o)},U.prototype.get_bodyA=function(){return q(Bf(this.e),v)},U.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ls(V,o)},U.prototype.get_bodyB=function(){return q(mv(this.e),v)},U.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hq(V,o)},U.prototype.get_collideConnected=function(){return eq(this.e)},U.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gu(V,o)},U.prototype.__destroy__=function(){xu(this.e)},v.prototype=Object.create(j.prototype),v.prototype.g=v,v.k={},e.b2Body=v,v.prototype.CreateFixture=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return q(_r===d?cm(o,_o):dm(o,_o,_r),w)},v.prototype.DestroyFixture=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Un(V,o)},v.prototype.SetTransform=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);pf(o,_o,_r)},v.prototype.GetTransform=function(){return q($t(this.e),Ux)},v.prototype.GetPosition=function(){return q(Dh(this.e),u)},v.prototype.GetAngle=function(){return Ru(this.e)},v.prototype.GetWorldCenter=function(){return q(Yk(this.e),u)},v.prototype.GetLocalCenter=function(){return q(Xv(this.e),u)},v.prototype.SetLinearVelocity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sl(V,o)},v.prototype.GetLinearVelocity=function(){return q(et(this.e),u)},v.prototype.SetAngularVelocity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ov(V,o)},v.prototype.GetAngularVelocity=function(){return Oj(this.e)},v.prototype.ApplyForce=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);St(_o,_r,l,e_)},v.prototype.ApplyForceToCenter=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);xf(o,_o,_r)},v.prototype.ApplyTorque=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);In(o,_o,_r)},v.prototype.ApplyLinearImpulse=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Wl(_o,_r,l,e_)},v.prototype.ApplyAngularImpulse=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);we(o,_o,_r)},v.prototype.GetMass=function(){return Co(this.e)},v.prototype.GetInertia=function(){return ks(this.e)},v.prototype.GetMassData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zh(V,o)},v.prototype.SetMassData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ke(V,o)},v.prototype.ResetMassData=function(){Xr(this.e)},v.prototype.GetWorldPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(yk(V,o),u)},v.prototype.GetWorldVector=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(ah(V,o),u)},v.prototype.GetLocalPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(lh(V,o),u)},v.prototype.GetLocalVector=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Rm(V,o),u)},v.prototype.GetLinearVelocityFromWorldPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(nr(V,o),u)},v.prototype.GetLinearVelocityFromLocalPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Vq(V,o),u)},v.prototype.GetLinearDamping=function(){return Vr(this.e)},v.prototype.SetLinearDamping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vm(V,o)},v.prototype.GetAngularDamping=function(){return $n(this.e)},v.prototype.SetAngularDamping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cw(V,o)},v.prototype.GetGravityScale=function(){return Wg(this.e)},v.prototype.SetGravityScale=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sm(V,o)},v.prototype.SetType=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Bo(V,o)},v.prototype.GetType=function(){return Gr(this.e)},v.prototype.SetBullet=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);jl(V,o)},v.prototype.IsBullet=function(){return Tl(this.e)},v.prototype.SetSleepingAllowed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Lg(V,o)},v.prototype.IsSleepingAllowed=function(){return rq(this.e)},v.prototype.SetAwake=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fv(V,o)},v.prototype.IsAwake=function(){return ee(this.e)},v.prototype.SetActive=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fm(V,o)},v.prototype.IsActive=function(){return Pi(this.e)},v.prototype.SetFixedRotation=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vh(V,o)},v.prototype.IsFixedRotation=function(){return Fi(this.e)},v.prototype.GetFixtureList=function(){return q(dp(this.e),w)},v.prototype.GetJointList=function(){return q(Kw(this.e),Sx)},v.prototype.GetContactList=function(){return q(Ei(this.e),$x)},v.prototype.GetNext=function(){return q(Ev(this.e),v)},v.prototype.GetUserData=function(){return cl(this.e)},v.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pw(V,o)},v.prototype.GetWorld=function(){return q(cv(this.e),F)},v.prototype.Dump=function(){Wk(this.e)},W.prototype=Object.create(t.prototype),W.prototype.g=W,W.k={},e.b2FrictionJoint=W,W.prototype.GetLocalAnchorA=function(){return q(op(this.e),u)},W.prototype.GetLocalAnchorB=function(){return q(Li(this.e),u)},W.prototype.SetMaxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);lu(V,o)},W.prototype.GetMaxForce=function(){return Sd(this.e)},W.prototype.SetMaxTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$p(V,o)},W.prototype.GetMaxTorque=function(){return kj(this.e)},W.prototype.GetType=function(){return Pg(this.e)},W.prototype.GetBodyA=function(){return q(Lw(this.e),v)},W.prototype.GetBodyB=function(){return q(Af(this.e),v)},W.prototype.GetAnchorA=function(){return q(ms(this.e),u)},W.prototype.GetAnchorB=function(){return q(Kv(this.e),u)},W.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Iq(V,o),u)},W.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return km(V,o)},W.prototype.GetNext=function(){return q(fs(this.e),t)},W.prototype.GetUserData=function(){return Rr(this.e)},W.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bq(V,o)},W.prototype.IsActive=function(){return yc(this.e)},W.prototype.GetCollideConnected=function(){return Rp(this.e)},W.prototype.__destroy__=function(){kp(this.e)},ay.prototype=Object.create(j.prototype),ay.prototype.g=ay,ay.k={},e.b2DestructionListener=ay,ay.prototype.__destroy__=function(){Uc(this.e)},X.prototype=Object.create(D.prototype),X.prototype.g=X,X.k={},e.b2GearJointDef=X,X.prototype.get_joint1=function(){return q(cj(this.e),t)},X.prototype.set_joint1=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);jr(V,o)},X.prototype.get_joint2=function(){return q(bg(this.e),t)},X.prototype.set_joint2=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ku(V,o)},X.prototype.get_ratio=function(){return Cp(this.e)},X.prototype.set_ratio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Gj(V,o)},X.prototype.get_type=function(){return Nm(this.e)},X.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gf(V,o)},X.prototype.get_userData=function(){return wi(this.e)},X.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);nw(V,o)},X.prototype.get_bodyA=function(){return q(fk(this.e),v)},X.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ui(V,o)},X.prototype.get_bodyB=function(){return q(Xg(this.e),v)},X.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ew(V,o)},X.prototype.get_collideConnected=function(){return gl(this.e)},X.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pt(V,o)},X.prototype.__destroy__=function(){Qq(this.e)},Y.prototype=Object.create(t.prototype),Y.prototype.g=Y,Y.k={},e.b2RevoluteJoint=Y,Y.prototype.GetLocalAnchorA=function(){return q(Gc(this.e),u)},Y.prototype.GetLocalAnchorB=function(){return q(it(this.e),u)},Y.prototype.GetReferenceAngle=function(){return tl(this.e)},Y.prototype.GetJointAngle=function(){return hh(this.e)},Y.prototype.GetJointSpeed=function(){return Ef(this.e)},Y.prototype.IsLimitEnabled=function(){return Qv(this.e)},Y.prototype.EnableLimit=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ol(V,o)},Y.prototype.GetLowerLimit=function(){return Xk(this.e)},Y.prototype.GetUpperLimit=function(){return oe(this.e)},Y.prototype.SetLimits=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Ms(o,_o,_r)},Y.prototype.IsMotorEnabled=function(){return ge(this.e)},Y.prototype.EnableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Jp(V,o)},Y.prototype.SetMotorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xo(V,o)},Y.prototype.GetMotorSpeed=function(){return Tg(this.e)},Y.prototype.SetMaxMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);kw(V,o)},Y.prototype.GetMaxMotorTorque=function(){return vk(this.e)},Y.prototype.GetMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Jc(V,o)},Y.prototype.GetType=function(){return Tn(this.e)},Y.prototype.GetBodyA=function(){return q(Xj(this.e),v)},Y.prototype.GetBodyB=function(){return q(ol(this.e),v)},Y.prototype.GetAnchorA=function(){return q(bs(this.e),u)},Y.prototype.GetAnchorB=function(){return q(ov(this.e),u)},Y.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Hu(V,o),u)},Y.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Nh(V,o)},Y.prototype.GetNext=function(){return q(pv(this.e),t)},Y.prototype.GetUserData=function(){return ti(this.e)},Y.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Uv(V,o)},Y.prototype.IsActive=function(){return yv(this.e)},Y.prototype.GetCollideConnected=function(){return ru(this.e)},Y.prototype.__destroy__=function(){Md(this.e)},Yx.prototype=Object.create(j.prototype),Yx.prototype.g=Yx,Yx.k={},e.b2ContactFilter=Yx,Yx.prototype.__destroy__=function(){Cg(this.e)},$x.prototype=Object.create(j.prototype),$x.prototype.g=$x,$x.k={},e.b2ContactEdge=$x,$x.prototype.get_other=function(){return q(zj(this.e),v)},$x.prototype.set_other=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qj(V,o)},$x.prototype.get_contact=function(){return q(Gn(this.e),G)},$x.prototype.set_contact=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qi(V,o)},$x.prototype.get_prev=function(){return q(Fh(this.e),$x)},$x.prototype.set_prev=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$j(V,o)},$x.prototype.get_next=function(){return q(lr(this.e),$x)},$x.prototype.set_next=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qc(V,o)},$x.prototype.__destroy__=function(){au(this.e)},Z.prototype=Object.create(D.prototype),Z.prototype.g=Z,Z.k={},e.b2RopeJointDef=Z,Z.prototype.get_localAnchorA=function(){return q(pi(this.e),u)},Z.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Bc(V,o)},Z.prototype.get_localAnchorB=function(){return q(cd(this.e),u)},Z.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);lw(V,o)},Z.prototype.get_maxLength=function(){return hl(this.e)},Z.prototype.set_maxLength=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Kl(V,o)},Z.prototype.get_type=function(){return Nq(this.e)},Z.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ql(V,o)},Z.prototype.get_userData=function(){return nh(this.e)},Z.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Xo(V,o)},Z.prototype.get_bodyA=function(){return q(mk(this.e),v)},Z.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);yu(V,o)},Z.prototype.get_bodyB=function(){return q(uw(this.e),v)},Z.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Fe(V,o)},Z.prototype.get_collideConnected=function(){return di(this.e)},Z.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xd(V,o)},Z.prototype.__destroy__=function(){Us(this.e)},$.prototype=Object.create(D.prototype),$.prototype.g=$,$.k={},e.b2MotorJointDef=$,$.prototype.Initialize=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);kd(o,_o,_r)},$.prototype.get_linearOffset=function(){return q(Gm(this.e),u)},$.prototype.set_linearOffset=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Oo(V,o)},$.prototype.get_angularOffset=function(){return Qt(this.e)},$.prototype.set_angularOffset=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ph(V,o)},$.prototype.get_maxForce=function(){return $c(this.e)},$.prototype.set_maxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pg(V,o)},$.prototype.get_maxTorque=function(){return Uq(this.e)},$.prototype.set_maxTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Uu(V,o)},$.prototype.get_correctionFactor=function(){return Av(this.e)},$.prototype.set_correctionFactor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xj(V,o)},$.prototype.get_type=function(){return Or(this.e)},$.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Kc(V,o)},$.prototype.get_userData=function(){return Bu(this.e)},$.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vd(V,o)},$.prototype.get_bodyA=function(){return q(Ew(this.e),v)},$.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ul(V,o)},$.prototype.get_bodyB=function(){return q(Fk(this.e),v)},$.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Xs(V,o)},$.prototype.get_collideConnected=function(){return ne(this.e)},$.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);us(V,o)},$.prototype.__destroy__=function(){Os(this.e)},e.b2Shape.e_circle=Sk(),e.b2Shape.e_edge=uk(),e.b2Shape.e_polygon=Oc(),e.b2Shape.e_chain=Hh(),e.b2Shape.e_typeCount=of(),e.e_unknownJoint=Gv(),e.e_revoluteJoint=ce(),e.e_prismaticJoint=yr(),e.e_distanceJoint=Fo(),e.e_pulleyJoint=Yf(),e.e_mouseJoint=ae(),e.e_gearJoint=Gt(),e.e_wheelJoint=Zr(),e.e_weldJoint=$m(),e.e_frictionJoint=xe(),e.e_ropeJoint=rs(),e.e_motorJoint=Po(),e.e_inactiveLimit=dv(),e.e_atLowerLimit=On(),e.e_atUpperLimit=Xw(),e.e_equalLimits=Ci(),e.b2Manifold.e_circles=co(),e.b2Manifold.e_faceA=ok(),e.b2Manifold.e_faceB=pk(),e.b2_staticBody=Km(),e.b2_kinematicBody=Yq(),e.b2_dynamicBody=Sq(),e.b2Draw.e_shapeBit=Gi(),e.b2Draw.e_jointBit=qg(),e.b2Draw.e_aabbBit=Pu(),e.b2Draw.e_pairBit=jp(),e.b2Draw.e_centerOfMassBit=iw(),e.b2ContactFeature.e_vertex=Ih(),e.b2ContactFeature.e_face=tm();function j(){}j.prototype=Object.create(j.prototype),j.prototype.g=j,j.k={},e.WrapperObject=j;function p(x){return(x||j).k}e.getCache=p;function q(x,V){var o=p(V),_o=o[x];return _o||(_o=Object.create((V||j).prototype),_o.e=x,o[x]=_o)}e.wrapPointer=q;function nx(x,V){return q(x.e,V)}e.castObject=nx,e.NULL=q(0);function ox(x){x.__destroy__||c("Error: Cannot destroy object. (Did you create it yourself?)"),x.__destroy__(),delete p(x.g)[x.e]}e.destroy=ox;function px(x,V){return x.e===V.e}e.compare=px;function qx(x){return x.e}e.getPointer=qx;function rx(x){return x.g}e.getClass=rx;function r(x){return typeof x=="string"?$a(Ab(x),"i8",Wa):x}function sx(){this.e=yf(),p(sx)[this.e]=this}sx.prototype=Object.create(tx.prototype),sx.prototype.g=sx,sx.k={},e.JSDestructionListener=sx,sx.prototype.SayGoodbyeJoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ym(V,o)},sx.prototype.SayGoodbyeFixture=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vq(V,o)},sx.prototype.__destroy__=function(){Nr(this.e)};function ux(){c("cannot construct a b2ContactImpulse, no constructor in IDL")}ux.prototype=Object.create(j.prototype),ux.prototype.g=ux,ux.k={},e.b2ContactImpulse=ux,ux.prototype.get_count=function(){return Xn(this.e)},ux.prototype.set_count=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Kh(V,o)},ux.prototype.__destroy__=function(){tf(this.e)};function s(){c("cannot construct a b2DistanceJoint, no constructor in IDL")}s.prototype=Object.create(t.prototype),s.prototype.g=s,s.k={},e.b2DistanceJoint=s,s.prototype.GetLocalAnchorA=function(){return q(Es(this.e),u)},s.prototype.GetLocalAnchorB=function(){return q(Ki(this.e),u)},s.prototype.SetLength=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vv(V,o)},s.prototype.GetLength=function(){return Jl(this.e)},s.prototype.SetFrequency=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Gh(V,o)},s.prototype.GetFrequency=function(){return rm(this.e)},s.prototype.SetDampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hf(V,o)},s.prototype.GetDampingRatio=function(){return Xh(this.e)},s.prototype.GetType=function(){return kl(this.e)},s.prototype.GetBodyA=function(){return q(ej(this.e),v)},s.prototype.GetBodyB=function(){return q(Rv(this.e),v)},s.prototype.GetAnchorA=function(){return q(ud(this.e),u)},s.prototype.GetAnchorB=function(){return q(th(this.e),u)},s.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Bn(V,o),u)},s.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return gt(V,o)},s.prototype.GetNext=function(){return q(Re(this.e),t)},s.prototype.GetUserData=function(){return Qw(this.e)},s.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);rn(V,o)},s.prototype.IsActive=function(){return oh(this.e)},s.prototype.GetCollideConnected=function(){return Ut(this.e)},s.prototype.__destroy__=function(){ur(this.e)};function vx(x,V,o){x=x&&typeof x=="object"?x.e:r(x),V=V&&typeof V=="object"?V.e:r(V),o=o&&typeof o=="object"?o.e:r(o),this.e=x===d?Yg():V===d?_emscripten_bind_b2Mat33_b2Mat33_1(x):o===d?_emscripten_bind_b2Mat33_b2Mat33_2(x,V):mu(x,V,o),p(vx)[this.e]=this}vx.prototype=Object.create(j.prototype),vx.prototype.g=vx,vx.k={},e.b2Mat33=vx,vx.prototype.SetZero=function(){Tu(this.e)},vx.prototype.Solve33=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Dp(V,o),wx)},vx.prototype.Solve22=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Ag(V,o),u)},vx.prototype.GetInverse22=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hn(V,o)},vx.prototype.GetSymInverse33=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vl(V,o)},vx.prototype.get_ex=function(){return q(Ch(this.e),wx)},vx.prototype.set_ex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bu(V,o)},vx.prototype.get_ey=function(){return q(md(this.e),wx)},vx.prototype.set_ey=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mi(V,o)},vx.prototype.get_ez=function(){return q(Uw(this.e),wx)},vx.prototype.set_ez=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Du(V,o)},vx.prototype.__destroy__=function(){Id(this.e)};function w(){c("cannot construct a b2Fixture, no constructor in IDL")}w.prototype=Object.create(j.prototype),w.prototype.g=w,w.k={},e.b2Fixture=w,w.prototype.GetType=function(){return ml(this.e)},w.prototype.GetShape=function(){return q(sv(this.e),xx)},w.prototype.SetSensor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bj(V,o)},w.prototype.IsSensor=function(){return Yo(this.e)},w.prototype.SetFilterData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gi(V,o)},w.prototype.GetFilterData=function(){return q(st(this.e),yx)},w.prototype.Refilter=function(){Vo(this.e)},w.prototype.GetBody=function(){return q(Jh(this.e),v)},w.prototype.GetNext=function(){return q(bk(this.e),w)},w.prototype.GetUserData=function(){return gm(this.e)},w.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hr(V,o)},w.prototype.TestPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return qu(V,o)},w.prototype.RayCast=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);return el(_o,_r,l,e_)},w.prototype.GetMassData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ij(V,o)},w.prototype.SetDensity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Oh(V,o)},w.prototype.GetDensity=function(){return Up(this.e)},w.prototype.GetFriction=function(){return Ou(this.e)},w.prototype.SetFriction=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sc(V,o)},w.prototype.GetRestitution=function(){return We(this.e)},w.prototype.SetRestitution=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zt(V,o)},w.prototype.GetAABB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Jn(V,o),zx)},w.prototype.Dump=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);on(V,o)},w.prototype.__destroy__=function(){Pc(this.e)};function yx(){this.e=Ap(),p(yx)[this.e]=this}yx.prototype=Object.create(j.prototype),yx.prototype.g=yx,yx.k={},e.b2Filter=yx,yx.prototype.get_categoryBits=function(){return Zm(this.e)},yx.prototype.set_categoryBits=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mk(V,o)},yx.prototype.get_maskBits=function(){return bp(this.e)},yx.prototype.set_maskBits=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ss(V,o)},yx.prototype.get_groupIndex=function(){return Ue(this.e)},yx.prototype.set_groupIndex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);wn(V,o)},yx.prototype.__destroy__=function(){go(this.e)};function Ax(){this.e=iq(),p(Ax)[this.e]=this}Ax.prototype=Object.create(Bx.prototype),Ax.prototype.g=Ax,Ax.k={},e.JSQueryCallback=Ax,Ax.prototype.ReportFixture=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return pu(V,o)},Ax.prototype.__destroy__=function(){Jo(this.e)};function y(){c("cannot construct a b2MouseJoint, no constructor in IDL")}y.prototype=Object.create(t.prototype),y.prototype.g=y,y.k={},e.b2MouseJoint=y,y.prototype.SetTarget=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);oi(V,o)},y.prototype.GetTarget=function(){return q(Kt(this.e),u)},y.prototype.SetMaxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Aq(V,o)},y.prototype.GetMaxForce=function(){return Vt(this.e)},y.prototype.SetFrequency=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zl(V,o)},y.prototype.GetFrequency=function(){return Dt(this.e)},y.prototype.SetDampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qk(V,o)},y.prototype.GetDampingRatio=function(){return as(this.e)},y.prototype.GetType=function(){return Io(this.e)},y.prototype.GetBodyA=function(){return q(So(this.e),v)},y.prototype.GetBodyB=function(){return q(Cj(this.e),v)},y.prototype.GetAnchorA=function(){return q(tu(this.e),u)},y.prototype.GetAnchorB=function(){return q(Xq(this.e),u)},y.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(jm(V,o),u)},y.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return mo(V,o)},y.prototype.GetNext=function(){return q(Xi(this.e),t)},y.prototype.GetUserData=function(){return no(this.e)},y.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mt(V,o)},y.prototype.IsActive=function(){return nd(this.e)},y.prototype.GetCollideConnected=function(){return Bi(this.e)},y.prototype.__destroy__=function(){Gq(this.e)};function Cx(x){x=x&&typeof x=="object"?x.e:r(x),this.e=x===d?Do():Eo(x),p(Cx)[this.e]=this}Cx.prototype=Object.create(j.prototype),Cx.prototype.g=Cx,Cx.k={},e.b2Rot=Cx,Cx.prototype.Set=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);wg(V,o)},Cx.prototype.SetIdentity=function(){Mg(this.e)},Cx.prototype.GetAngle=function(){return Np(this.e)},Cx.prototype.GetXAxis=function(){return q(Zj(this.e),u)},Cx.prototype.GetYAxis=function(){return q(sr(this.e),u)},Cx.prototype.get_s=function(){return Zp(this.e)},Cx.prototype.set_s=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);me(V,o)},Cx.prototype.get_c=function(){return xq(this.e)},Cx.prototype.set_c=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mh(V,o)},Cx.prototype.__destroy__=function(){ap(this.e)};function z(){c("cannot construct a b2MotorJoint, no constructor in IDL")}z.prototype=Object.create(t.prototype),z.prototype.g=z,z.k={},e.b2MotorJoint=z,z.prototype.SetLinearOffset=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Lp(V,o)},z.prototype.GetLinearOffset=function(){return q(Qp(this.e),u)},z.prototype.SetAngularOffset=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pp(V,o)},z.prototype.GetAngularOffset=function(){return xv(this.e)},z.prototype.SetMaxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);mp(V,o)},z.prototype.GetMaxForce=function(){return Wj(this.e)},z.prototype.SetMaxTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zd(V,o)},z.prototype.GetMaxTorque=function(){return es(this.e)},z.prototype.SetCorrectionFactor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ie(V,o)},z.prototype.GetCorrectionFactor=function(){return tq(this.e)},z.prototype.GetType=function(){return cr(this.e)},z.prototype.GetBodyA=function(){return q(Rg(this.e),v)},z.prototype.GetBodyB=function(){return q(mi(this.e),v)},z.prototype.GetAnchorA=function(){return q(Tp(this.e),u)},z.prototype.GetAnchorB=function(){return q(rv(this.e),u)},z.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Mp(V,o),u)},z.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Uf(V,o)},z.prototype.GetNext=function(){return q(zr(this.e),t)},z.prototype.GetUserData=function(){return Nk(this.e)},z.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ki(V,o)},z.prototype.IsActive=function(){return lo(this.e)},z.prototype.GetCollideConnected=function(){return ff(this.e)},z.prototype.__destroy__=function(){bl(this.e)};function A(){c("cannot construct a b2Profile, no constructor in IDL")}A.prototype=Object.create(j.prototype),A.prototype.g=A,A.k={},e.b2Profile=A,A.prototype.get_step=function(){return Ik(this.e)},A.prototype.set_step=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pj(V,o)},A.prototype.get_collide=function(){return At(this.e)},A.prototype.set_collide=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);To(V,o)},A.prototype.get_solve=function(){return uq(this.e)},A.prototype.set_solve=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);kt(V,o)},A.prototype.get_solveInit=function(){return Iv(this.e)},A.prototype.set_solveInit=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pl(V,o)},A.prototype.get_solveVelocity=function(){return aw(this.e)},A.prototype.set_solveVelocity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Hm(V,o)},A.prototype.get_solvePosition=function(){return Fd(this.e)},A.prototype.set_solvePosition=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Bg(V,o)},A.prototype.get_broadphase=function(){return qd(this.e)},A.prototype.set_broadphase=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vn(V,o)},A.prototype.get_solveTOI=function(){return Hg(this.e)},A.prototype.set_solveTOI=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ui(V,o)},A.prototype.__destroy__=function(){Eh(this.e)};function Dx(){c("cannot construct a VoidPtr, no constructor in IDL")}Dx.prototype=Object.create(j.prototype),Dx.prototype.g=Dx,Dx.k={},e.VoidPtr=Dx,Dx.prototype.__destroy__=function(){yp(this.e)};function B(){this.e=vw(),p(B)[this.e]=this}B.prototype=Object.create(j.prototype),B.prototype.g=B,B.k={},e.b2BodyDef=B,B.prototype.get_type=function(){return Lr(this.e)},B.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vc(V,o)},B.prototype.get_position=function(){return q(bd(this.e),u)},B.prototype.set_position=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qd(V,o)},B.prototype.get_angle=function(){return hu(this.e)},B.prototype.set_angle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pl(V,o)},B.prototype.get_linearVelocity=function(){return q(lv(this.e),u)},B.prototype.set_linearVelocity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$k(V,o)},B.prototype.get_angularVelocity=function(){return Le(this.e)},B.prototype.set_angularVelocity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Um(V,o)},B.prototype.get_linearDamping=function(){return Ek(this.e)},B.prototype.set_linearDamping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qr(V,o)},B.prototype.get_angularDamping=function(){return fr(this.e)},B.prototype.set_angularDamping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Jv(V,o)},B.prototype.get_allowSleep=function(){return Zu(this.e)},B.prototype.set_allowSleep=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);mj(V,o)},B.prototype.get_awake=function(){return dr(this.e)},B.prototype.set_awake=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);am(V,o)},B.prototype.get_fixedRotation=function(){return io(this.e)},B.prototype.set_fixedRotation=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Tk(V,o)},B.prototype.get_bullet=function(){return Kf(this.e)},B.prototype.set_bullet=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sn(V,o)},B.prototype.get_active=function(){return Nj(this.e)},B.prototype.set_active=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);wk(V,o)},B.prototype.get_userData=function(){return Mv(this.e)},B.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Lu(V,o)},B.prototype.get_gravityScale=function(){return qo(this.e)},B.prototype.set_gravityScale=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ee(V,o)},B.prototype.__destroy__=function(){Gs(this.e)};function Ex(){this.e=kg(),p(Ex)[this.e]=this}Ex.prototype=Object.create(Fx.prototype),Ex.prototype.g=Ex,Ex.k={},e.JSRayCastCallback=Ex,Ex.prototype.ReportFixture=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Fm(_r,l,e_,o_,i_)},Ex.prototype.__destroy__=function(){gp(this.e)};function Gx(){c("cannot construct a b2ContactFeature, no constructor in IDL")}Gx.prototype=Object.create(j.prototype),Gx.prototype.g=Gx,Gx.k={},e.b2ContactFeature=Gx,Gx.prototype.get_indexA=function(){return xh(this.e)},Gx.prototype.set_indexA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Hv(V,o)},Gx.prototype.get_indexB=function(){return Jw(this.e)},Gx.prototype.set_indexB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);mr(V,o)},Gx.prototype.get_typeA=function(){return im(this.e)},Gx.prototype.set_typeA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);nn(V,o)},Gx.prototype.get_typeB=function(){return Kp(this.e)},Gx.prototype.set_typeB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xg(V,o)},Gx.prototype.__destroy__=function(){gq(this.e)};function u(x,V){x=x&&typeof x=="object"?x.e:r(x),V=V&&typeof V=="object"?V.e:r(V),this.e=x===d?sh():V===d?_emscripten_bind_b2Vec2_b2Vec2_1(x):qh(x,V),p(u)[this.e]=this}u.prototype=Object.create(j.prototype),u.prototype.g=u,u.k={},e.b2Vec2=u,u.prototype.SetZero=function(){Br(this.e)},u.prototype.Set=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Wp(o,_o,_r)},u.prototype.op_add=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Rf(V,o)},u.prototype.op_sub=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vh(V,o)},u.prototype.op_mul=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sj(V,o)},u.prototype.Length=function(){return Ar(this.e)},u.prototype.LengthSquared=function(){return Gw(this.e)},u.prototype.Normalize=function(){return gg(this.e)},u.prototype.IsValid=function(){return rp(this.e)},u.prototype.Skew=function(){return q($r(this.e),u)},u.prototype.get_x=function(){return ex(this.e)},u.prototype.set_x=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vf(V,o)},u.prototype.get_y=function(){return bm(this.e)},u.prototype.set_y=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sw(V,o)},u.prototype.__destroy__=function(){hv(this.e)};function wx(x,V,o){x=x&&typeof x=="object"?x.e:r(x),V=V&&typeof V=="object"?V.e:r(V),o=o&&typeof o=="object"?o.e:r(o),this.e=x===d?Jk():V===d?_emscripten_bind_b2Vec3_b2Vec3_1(x):o===d?_emscripten_bind_b2Vec3_b2Vec3_2(x,V):Kk(x,V,o),p(wx)[this.e]=this}wx.prototype=Object.create(j.prototype),wx.prototype.g=wx,wx.k={},e.b2Vec3=wx,wx.prototype.SetZero=function(){Xf(this.e)},wx.prototype.Set=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);ak(_o,_r,l,e_)},wx.prototype.op_add=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Og(V,o)},wx.prototype.op_sub=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);po(V,o)},wx.prototype.op_mul=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);uv(V,o)},wx.prototype.get_x=function(){return Bd(this.e)},wx.prototype.set_x=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);wm(V,o)},wx.prototype.get_y=function(){return nu(this.e)},wx.prototype.set_y=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);lq(V,o)},wx.prototype.get_z=function(){return vc(this.e)},wx.prototype.set_z=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pm(V,o)},wx.prototype.__destroy__=function(){Rh(this.e)};function zx(){this.e=Uo(),p(zx)[this.e]=this}zx.prototype=Object.create(j.prototype),zx.prototype.g=zx,zx.k={},e.b2AABB=zx,zx.prototype.IsValid=function(){return so(this.e)},zx.prototype.GetCenter=function(){return q(vn(this.e),u)},zx.prototype.GetExtents=function(){return q(cu(this.e),u)},zx.prototype.GetPerimeter=function(){return um(this.e)},zx.prototype.Combine=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);_r===d?mq(o,_o):nq(o,_o,_r)},zx.prototype.Contains=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Qe(V,o)},zx.prototype.RayCast=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return zl(o,_o,_r)},zx.prototype.get_lowerBound=function(){return q(He(this.e),u)},zx.prototype.set_lowerBound=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);yq(V,o)},zx.prototype.get_upperBound=function(){return q(Ze(this.e),u)},zx.prototype.set_upperBound=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);rf(V,o)},zx.prototype.__destroy__=function(){qq(this.e)};function Hx(){this.e=rk(),p(Hx)[this.e]=this}Hx.prototype=Object.create(j.prototype),Hx.prototype.g=Hx,Hx.k={},e.b2FixtureDef=Hx,Hx.prototype.get_shape=function(){return q(ju(this.e),xx)},Hx.prototype.set_shape=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zv(V,o)},Hx.prototype.get_userData=function(){return re(this.e)},Hx.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cq(V,o)},Hx.prototype.get_friction=function(){return Ht(this.e)},Hx.prototype.set_friction=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Cm(V,o)},Hx.prototype.get_restitution=function(){return ll(this.e)},Hx.prototype.set_restitution=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);jd(V,o)},Hx.prototype.get_density=function(){return je(this.e)},Hx.prototype.set_density=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ps(V,o)},Hx.prototype.get_isSensor=function(){return rg(this.e)},Hx.prototype.set_isSensor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Al(V,o)},Hx.prototype.get_filter=function(){return q(Hc(this.e),yx)},Hx.prototype.set_filter=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ei(V,o)},Hx.prototype.__destroy__=function(){Yv(this.e)};function C(){this.e=wl(),p(C)[this.e]=this}C.prototype=Object.create(D.prototype),C.prototype.g=C,C.k={},e.b2FrictionJointDef=C,C.prototype.Initialize=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);mw(_o,_r,l,e_)},C.prototype.get_localAnchorA=function(){return q(If(this.e),u)},C.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ig(V,o)},C.prototype.get_localAnchorB=function(){return q(Mj(this.e),u)},C.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ck(V,o)},C.prototype.get_maxForce=function(){return Tm(this.e)},C.prototype.set_maxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);en(V,o)},C.prototype.get_maxTorque=function(){return np(this.e)},C.prototype.set_maxTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Hs(V,o)},C.prototype.get_type=function(){return Ic(this.e)},C.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hs(V,o)},C.prototype.get_userData=function(){return hi(this.e)},C.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);uc(V,o)},C.prototype.get_bodyA=function(){return q(Fu(this.e),v)},C.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Hw(V,o)},C.prototype.get_bodyB=function(){return q(Bq(this.e),v)},C.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ys(V,o)},C.prototype.get_collideConnected=function(){return js(this.e)},C.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);se(V,o)},C.prototype.__destroy__=function(){yi(this.e)};function Ix(){this.e=cn(),p(Ix)[this.e]=this}Ix.prototype=Object.create(j.prototype),Ix.prototype.g=Ix,Ix.k={},e.b2Manifold=Ix,Ix.prototype.get_localNormal=function(){return q(yl(this.e),u)},Ix.prototype.set_localNormal=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Tr(V,o)},Ix.prototype.get_localPoint=function(){return q(Zq(this.e),u)},Ix.prototype.set_localPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qn(V,o)},Ix.prototype.get_type=function(){return Ld(this.e)},Ix.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Il(V,o)},Ix.prototype.get_pointCount=function(){return Tw(this.e)},Ix.prototype.set_pointCount=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Jg(V,o)},Ix.prototype.__destroy__=function(){dh(this.e)};function E(){this.e=uf(),p(E)[this.e]=this}E.prototype=Object.create(D.prototype),E.prototype.g=E,E.k={},e.b2PrismaticJointDef=E,E.prototype.Initialize=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Hf(_r,l,e_,o_,i_)},E.prototype.get_localAnchorA=function(){return q(tj(this.e),u)},E.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);It(V,o)},E.prototype.get_localAnchorB=function(){return q(mf(this.e),u)},E.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ip(V,o)},E.prototype.get_localAxisA=function(){return q(Vu(this.e),u)},E.prototype.set_localAxisA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mn(V,o)},E.prototype.get_referenceAngle=function(){return Je(this.e)},E.prototype.set_referenceAngle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ci(V,o)},E.prototype.get_enableLimit=function(){return qt(this.e)},E.prototype.set_enableLimit=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qm(V,o)},E.prototype.get_lowerTranslation=function(){return te(this.e)},E.prototype.set_lowerTranslation=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pd(V,o)},E.prototype.get_upperTranslation=function(){return Ec(this.e)},E.prototype.set_upperTranslation=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gv(V,o)},E.prototype.get_enableMotor=function(){return Ws(this.e)},E.prototype.set_enableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Yr(V,o)},E.prototype.get_maxMotorForce=function(){return Ow(this.e)},E.prototype.set_maxMotorForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ti(V,o)},E.prototype.get_motorSpeed=function(){return $o(this.e)},E.prototype.set_motorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);jo(V,o)},E.prototype.get_type=function(){return Mf(this.e)},E.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vi(V,o)},E.prototype.get_userData=function(){return Vj(this.e)},E.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gs(V,o)},E.prototype.get_bodyA=function(){return q(qp(this.e),v)},E.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sp(V,o)},E.prototype.get_bodyB=function(){return q(rl(this.e),v)},E.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vl(V,o)},E.prototype.get_collideConnected=function(){return wt(this.e)},E.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ln(V,o)},E.prototype.__destroy__=function(){Ne(this.e)};function F(x){x=x&&typeof x=="object"?x.e:r(x),this.e=Of(x),p(F)[this.e]=this}F.prototype=Object.create(j.prototype),F.prototype.g=F,F.k={},e.b2World=F,F.prototype.SetDestructionListener=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Df(V,o)},F.prototype.SetContactFilter=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fd(V,o)},F.prototype.SetContactListener=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);de(V,o)},F.prototype.SetDebugDraw=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cg(V,o)},F.prototype.CreateBody=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Wo(V,o),v)},F.prototype.DestroyBody=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ed(V,o)},F.prototype.CreateJoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Gg(V,o),t)},F.prototype.DestroyJoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Dr(V,o)},F.prototype.Step=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Gk(_o,_r,l,e_)},F.prototype.ClearForces=function(){Qh(this.e)},F.prototype.DrawDebugData=function(){pd(this.e)},F.prototype.QueryAABB=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Lv(o,_o,_r)},F.prototype.RayCast=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);xt(_o,_r,l,e_)},F.prototype.GetBodyList=function(){return q(tt(this.e),v)},F.prototype.GetJointList=function(){return q(pn(this.e),t)},F.prototype.GetContactList=function(){return q(Cu(this.e),G)},F.prototype.SetAllowSleeping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Op(V,o)},F.prototype.GetAllowSleeping=function(){return Ri(this.e)},F.prototype.SetWarmStarting=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Rc(V,o)},F.prototype.GetWarmStarting=function(){return tp(this.e)},F.prototype.SetContinuousPhysics=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);an(V,o)},F.prototype.GetContinuousPhysics=function(){return dl(this.e)},F.prototype.SetSubStepping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qf(V,o)},F.prototype.GetSubStepping=function(){return rr(this.e)},F.prototype.GetProxyCount=function(){return fg(this.e)},F.prototype.GetBodyCount=function(){return hj(this.e)},F.prototype.GetJointCount=function(){return Yn(this.e)},F.prototype.GetContactCount=function(){return wj(this.e)},F.prototype.GetTreeHeight=function(){return $u(this.e)},F.prototype.GetTreeBalance=function(){return Dc(this.e)},F.prototype.GetTreeQuality=function(){return De(this.e)},F.prototype.SetGravity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Wt(V,o)},F.prototype.GetGravity=function(){return q(od(this.e),u)},F.prototype.IsLocked=function(){return wc(this.e)},F.prototype.SetAutoClearForces=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Od(V,o)},F.prototype.GetAutoClearForces=function(){return Rk(this.e)},F.prototype.GetProfile=function(){return q(wu(this.e),A)},F.prototype.Dump=function(){ht(this.e)},F.prototype.__destroy__=function(){yo(this.e)};function H(){c("cannot construct a b2PrismaticJoint, no constructor in IDL")}H.prototype=Object.create(t.prototype),H.prototype.g=H,H.k={},e.b2PrismaticJoint=H,H.prototype.GetLocalAnchorA=function(){return q(Ok(this.e),u)},H.prototype.GetLocalAnchorB=function(){return q(Ho(this.e),u)},H.prototype.GetLocalAxisA=function(){return q(li(this.e),u)},H.prototype.GetReferenceAngle=function(){return Ml(this.e)},H.prototype.GetJointTranslation=function(){return rh(this.e)},H.prototype.GetJointSpeed=function(){return Cn(this.e)},H.prototype.IsLimitEnabled=function(){return tw(this.e)},H.prototype.EnableLimit=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sm(V,o)},H.prototype.GetLowerLimit=function(){return Ge(this.e)},H.prototype.GetUpperLimit=function(){return at(this.e)},H.prototype.SetLimits=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);sd(o,_o,_r)},H.prototype.IsMotorEnabled=function(){return El(this.e)},H.prototype.EnableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Cs(V,o)},H.prototype.SetMotorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Tt(V,o)},H.prototype.GetMotorSpeed=function(){return Kg(this.e)},H.prototype.SetMaxMotorForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$w(V,o)},H.prototype.GetMaxMotorForce=function(){return pq(this.e)},H.prototype.GetMotorForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return dj(V,o)},H.prototype.GetType=function(){return Ve(this.e)},H.prototype.GetBodyA=function(){return q(oq(this.e),v)},H.prototype.GetBodyB=function(){return q(eu(this.e),v)},H.prototype.GetAnchorA=function(){return q(Cl(this.e),u)},H.prototype.GetAnchorB=function(){return q(Im(this.e),u)},H.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(zi(V,o),u)},H.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return kh(V,o)},H.prototype.GetNext=function(){return q(Te(this.e),t)},H.prototype.GetUserData=function(){return is(this.e)},H.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sk(V,o)},H.prototype.IsActive=function(){return Ym(this.e)},H.prototype.GetCollideConnected=function(){return mh(this.e)},H.prototype.__destroy__=function(){Fg(this.e)};function Jx(){c("cannot construct a b2RayCastOutput, no constructor in IDL")}Jx.prototype=Object.create(j.prototype),Jx.prototype.g=Jx,Jx.k={},e.b2RayCastOutput=Jx,Jx.prototype.get_normal=function(){return q(ng(this.e),u)},Jx.prototype.set_normal=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Wh(V,o)},Jx.prototype.get_fraction=function(){return bo(this.e)},Jx.prototype.set_fraction=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ye(V,o)},Jx.prototype.__destroy__=function(){tn(this.e)};function Kx(){c("cannot construct a b2ContactID, no constructor in IDL")}Kx.prototype=Object.create(j.prototype),Kx.prototype.g=Kx,Kx.k={},e.b2ContactID=Kx,Kx.prototype.get_cf=function(){return q(bt(this.e),Gx)},Kx.prototype.set_cf=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Yj(V,o)},Kx.prototype.get_key=function(){return Nv(this.e)},Kx.prototype.set_key=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);dg(V,o)},Kx.prototype.__destroy__=function(){Dm(this.e)};function tx(){c("cannot construct a b2DestructionListenerWrapper, no constructor in IDL")}tx.prototype=Object.create(j.prototype),tx.prototype.g=tx,tx.k={},e.b2DestructionListenerWrapper=tx,tx.prototype.__destroy__=function(){Vw(this.e)};function Lx(){this.e=fx(),p(Lx)[this.e]=this}Lx.prototype=Object.create(Mx.prototype),Lx.prototype.g=Lx,Lx.k={},e.JSContactListener=Lx,Lx.prototype.BeginContact=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);No(V,o)},Lx.prototype.EndContact=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zd(V,o)},Lx.prototype.PreSolve=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Uh(o,_o,_r)},Lx.prototype.PostSolve=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Lq(o,_o,_r)},Lx.prototype.__destroy__=function(){Zk(this.e)};function Nx(x,V,o,_o){x=x&&typeof x=="object"?x.e:r(x),V=V&&typeof V=="object"?V.e:r(V),o=o&&typeof o=="object"?o.e:r(o),_o=_o&&typeof _o=="object"?_o.e:r(_o),this.e=x===d?Wq():V===d?_emscripten_bind_b2Mat22_b2Mat22_1(x):o===d?vs(x,V):_o===d?_emscripten_bind_b2Mat22_b2Mat22_3(x,V,o):zs(x,V,o,_o),p(Nx)[this.e]=this}Nx.prototype=Object.create(j.prototype),Nx.prototype.g=Nx,Nx.k={},e.b2Mat22=Nx,Nx.prototype.Set=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Fr(o,_o,_r)},Nx.prototype.SetIdentity=function(){Xu(this.e)},Nx.prototype.SetZero=function(){Xt(this.e)},Nx.prototype.GetInverse=function(){return q(Bs(this.e),Nx)},Nx.prototype.Solve=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(wp(V,o),u)},Nx.prototype.get_ex=function(){return q(cp(this.e),u)},Nx.prototype.set_ex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gw(V,o)},Nx.prototype.get_ey=function(){return q(Wu(this.e),u)},Nx.prototype.set_ey=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pr(V,o)},Nx.prototype.__destroy__=function(){nv(this.e)};function I(){this.e=Cw(),p(I)[this.e]=this}I.prototype=Object.create(D.prototype),I.prototype.g=I,I.k={},e.b2WheelJointDef=I,I.prototype.Initialize=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Rj(_r,l,e_,o_,i_)},I.prototype.get_localAnchorA=function(){return q(Rl(this.e),u)},I.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zf(V,o)},I.prototype.get_localAnchorB=function(){return q(Wn(this.e),u)},I.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mw(V,o)},I.prototype.get_localAxisA=function(){return q(Ij(this.e),u)},I.prototype.set_localAxisA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Aw(V,o)},I.prototype.get_enableMotor=function(){return Fw(this.e)},I.prototype.set_enableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qe(V,o)},I.prototype.get_maxMotorTorque=function(){return uh(this.e)},I.prototype.set_maxMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xs(V,o)},I.prototype.get_motorSpeed=function(){return ps(this.e)},I.prototype.set_motorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sp(V,o)},I.prototype.get_frequencyHz=function(){return Ac(this.e)},I.prototype.set_frequencyHz=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qr(V,o)},I.prototype.get_dampingRatio=function(){return ao(this.e)},I.prototype.set_dampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);wr(V,o)},I.prototype.get_type=function(){return Gu(this.e)},I.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ce(V,o)},I.prototype.get_userData=function(){return Pv(this.e)},I.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sh(V,o)},I.prototype.get_bodyA=function(){return q(Ww(this.e),v)},I.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fu(V,o)},I.prototype.get_bodyB=function(){return q(Qn(this.e),v)},I.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pe(V,o)},I.prototype.get_collideConnected=function(){return gd(this.e)},I.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mr(V,o)},I.prototype.__destroy__=function(){Wf(this.e)};function Ox(){this.e=yn(),p(Ox)[this.e]=this}Ox.prototype=Object.create(xx.prototype),Ox.prototype.g=Ox,Ox.k={},e.b2CircleShape=Ox,Ox.prototype.GetType=function(){return ai(this.e)},Ox.prototype.GetChildCount=function(){return Jf(this.e)},Ox.prototype.TestPoint=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return Tq(o,_o,_r)},Ox.prototype.RayCast=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Hk(_r,l,e_,o_,i_)},Ox.prototype.ComputeAABB=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);ot(_o,_r,l,e_)},Ox.prototype.ComputeMass=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Oq(o,_o,_r)},Ox.prototype.get_m_p=function(){return q(wh(this.e),u)},Ox.prototype.set_m_p=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);yd(V,o)},Ox.prototype.get_m_type=function(){return Ds(this.e)},Ox.prototype.set_m_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);nf(V,o)},Ox.prototype.get_m_radius=function(){return si(this.e)},Ox.prototype.set_m_radius=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bf(V,o)},Ox.prototype.__destroy__=function(){br(this.e)};function J(){this.e=Jm(),p(J)[this.e]=this}J.prototype=Object.create(D.prototype),J.prototype.g=J,J.k={},e.b2WeldJointDef=J,J.prototype.Initialize=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Et(_o,_r,l,e_)},J.prototype.get_localAnchorA=function(){return q(Lt(this.e),u)},J.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);oj(V,o)},J.prototype.get_localAnchorB=function(){return q(pp(this.e),u)},J.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);af(V,o)},J.prototype.get_referenceAngle=function(){return qs(this.e)},J.prototype.set_referenceAngle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ls(V,o)},J.prototype.get_frequencyHz=function(){return bh(this.e)},J.prototype.set_frequencyHz=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Wr(V,o)},J.prototype.get_dampingRatio=function(){return Fq(this.e)},J.prototype.set_dampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sj(V,o)},J.prototype.get_type=function(){return Xp(this.e)},J.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ns(V,o)},J.prototype.get_userData=function(){return ku(this.e)},J.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Yh(V,o)},J.prototype.get_bodyA=function(){return q(qv(this.e),v)},J.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Cf(V,o)},J.prototype.get_bodyB=function(){return q(bw(this.e),v)},J.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Tv(V,o)},J.prototype.get_collideConnected=function(){return jj(this.e)},J.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Kd(V,o)},J.prototype.__destroy__=function(){vp(this.e)};function Px(){c("cannot construct a b2Draw, no constructor in IDL")}Px.prototype=Object.create(j.prototype),Px.prototype.g=Px,Px.k={},e.b2Draw=Px,Px.prototype.SetFlags=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pe(V,o)},Px.prototype.GetFlags=function(){return xc(this.e)},Px.prototype.AppendFlags=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Au(V,o)},Px.prototype.ClearFlags=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Oi(V,o)},Px.prototype.__destroy__=function(){Qj(this.e)};function Qx(){this.e=kq(),p(Qx)[this.e]=this}Qx.prototype=Object.create(j.prototype),Qx.prototype.g=Qx,Qx.k={},e.b2MassData=Qx,Qx.prototype.get_mass=function(){return ww(this.e)},Qx.prototype.set_mass=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ad(V,o)},Qx.prototype.get_center=function(){return q(Nf(this.e),u)},Qx.prototype.set_center=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Kj(V,o)},Qx.prototype.get_I=function(){return os(this.e)},Qx.prototype.set_I=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);yt(V,o)},Qx.prototype.__destroy__=function(){zt(this.e)};function t(){c("cannot construct a b2Joint, no constructor in IDL")}t.prototype=Object.create(j.prototype),t.prototype.g=t,t.k={},e.b2Joint=t,t.prototype.GetType=function(){return Sw(this.e)},t.prototype.GetBodyA=function(){return q(Sf(this.e),v)},t.prototype.GetBodyB=function(){return q(yw(this.e),v)},t.prototype.GetAnchorA=function(){return q(En(this.e),u)},t.prototype.GetAnchorB=function(){return q(Uj(this.e),u)},t.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Bm(V,o),u)},t.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Bk(V,o)},t.prototype.GetNext=function(){return q(vt(this.e),t)},t.prototype.GetUserData=function(){return Gl(this.e)},t.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cx(V,o)},t.prototype.IsActive=function(){return Yu(this.e)},t.prototype.GetCollideConnected=function(){return Tf(this.e)},t.prototype.Dump=function(){Bw(this.e)};function Rx(){c("cannot construct a b2GearJoint, no constructor in IDL")}Rx.prototype=Object.create(t.prototype),Rx.prototype.g=Rx,Rx.k={},e.b2GearJoint=Rx,Rx.prototype.GetJoint1=function(){return q(Xd(this.e),t)},Rx.prototype.GetJoint2=function(){return q(av(this.e),t)},Rx.prototype.SetRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);eo(V,o)},Rx.prototype.GetRatio=function(){return jg(this.e)},Rx.prototype.GetType=function(){return hw(this.e)},Rx.prototype.GetBodyA=function(){return q(Qm(this.e),v)},Rx.prototype.GetBodyB=function(){return q($q(this.e),v)},Rx.prototype.GetAnchorA=function(){return q($d(this.e),u)},Rx.prototype.GetAnchorB=function(){return q(Mu(this.e),u)},Rx.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Se(V,o),u)},Rx.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Jd(V,o)},Rx.prototype.GetNext=function(){return q(zv(this.e),t)},Rx.prototype.GetUserData=function(){return ef(this.e)},Rx.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);om(V,o)},Rx.prototype.IsActive=function(){return fj(this.e)},Rx.prototype.GetCollideConnected=function(){return ue(this.e)},Rx.prototype.__destroy__=function(){gh(this.e)};function Fx(){c("cannot construct a b2RayCastCallback, no constructor in IDL")}Fx.prototype=Object.create(j.prototype),Fx.prototype.g=Fx,Fx.k={},e.b2RayCastCallback=Fx,Fx.prototype.__destroy__=function(){ii(this.e)};function K(){c("cannot construct a b2WeldJoint, no constructor in IDL")}K.prototype=Object.create(t.prototype),K.prototype.g=K,K.k={},e.b2WeldJoint=K,K.prototype.GetLocalAnchorA=function(){return q(Yl(this.e),u)},K.prototype.GetLocalAnchorB=function(){return q(Rn(this.e),u)},K.prototype.SetFrequency=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Th(V,o)},K.prototype.GetFrequency=function(){return Fl(this.e)},K.prototype.SetDampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Me(V,o)},K.prototype.GetDampingRatio=function(){return lt(this.e)},K.prototype.Dump=function(){lp(this.e)},K.prototype.GetType=function(){return Zo(this.e)},K.prototype.GetBodyA=function(){return q(og(this.e),v)},K.prototype.GetBodyB=function(){return q(Pj(this.e),v)},K.prototype.GetAnchorA=function(){return q($v(this.e),u)},K.prototype.GetAnchorB=function(){return q(Hr(this.e),u)},K.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Zs(V,o),u)},K.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Zc(V,o)},K.prototype.GetNext=function(){return q(Ir(this.e),t)},K.prototype.GetUserData=function(){return Ql(this.e)},K.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);aj(V,o)},K.prototype.IsActive=function(){return Tc(this.e)},K.prototype.GetCollideConnected=function(){return or(this.e)},K.prototype.__destroy__=function(){Kq(this.e)};function Sx(){this.e=Eu(),p(Sx)[this.e]=this}Sx.prototype=Object.create(j.prototype),Sx.prototype.g=Sx,Sx.k={},e.b2JointEdge=Sx,Sx.prototype.get_other=function(){return q(Nt(this.e),v)},Sx.prototype.set_other=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fe(V,o)},Sx.prototype.get_joint=function(){return q(Wv(this.e),t)},Sx.prototype.set_joint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Nc(V,o)},Sx.prototype.get_prev=function(){return q(Yc(this.e),Sx)},Sx.prototype.set_prev=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);jh(V,o)},Sx.prototype.get_next=function(){return q(Qo(this.e),Sx)},Sx.prototype.set_next=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ho(V,o)},Sx.prototype.__destroy__=function(){Lo(this.e)};function L(){this.e=Nd(),p(L)[this.e]=this}L.prototype=Object.create(D.prototype),L.prototype.g=L,L.k={},e.b2PulleyJointDef=L,L.prototype.Initialize=function(i_,_e,c_,ws,h_,s_,w_){var o_=this.e,i_=i_&&typeof i_=="object"?i_.e:r(i_),_e=_e&&typeof _e=="object"?_e.e:r(_e),c_=c_&&typeof c_=="object"?c_.e:r(c_),ws=ws&&typeof ws=="object"?ws.e:r(ws),h_=h_&&typeof h_=="object"?h_.e:r(h_),s_=s_&&typeof s_=="object"?s_.e:r(s_),w_=w_&&typeof w_=="object"?w_.e:r(w_);dw(o_,i_,_e,c_,ws,h_,s_,w_)},L.prototype.get_groundAnchorA=function(){return q(fi(this.e),u)},L.prototype.set_groundAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Yw(V,o)},L.prototype.get_groundAnchorB=function(){return q(Dn(this.e),u)},L.prototype.set_groundAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Js(V,o)},L.prototype.get_localAnchorA=function(){return q(td(this.e),u)},L.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ji(V,o)},L.prototype.get_localAnchorB=function(){return q(Dg(this.e),u)},L.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);nl(V,o)},L.prototype.get_lengthA=function(){return vm(this.e)},L.prototype.set_lengthA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);eh(V,o)},L.prototype.get_lengthB=function(){return $i(this.e)},L.prototype.set_lengthB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ev(V,o)},L.prototype.get_ratio=function(){return lf(this.e)},L.prototype.set_ratio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ih(V,o)},L.prototype.get_type=function(){return xm(this.e)},L.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sl(V,o)},L.prototype.get_userData=function(){return ul(this.e)},L.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);dn(V,o)},L.prototype.get_bodyA=function(){return q(rd(this.e),v)},L.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Rw(V,o)},L.prototype.get_bodyB=function(){return q(Lh(this.e),v)},L.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sg(V,o)},L.prototype.get_collideConnected=function(){return ax(this.e)},L.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Iu(V,o)},L.prototype.__destroy__=function(){Bj(this.e)};function Mx(){c("cannot construct a b2ContactListener, no constructor in IDL")}Mx.prototype=Object.create(j.prototype),Mx.prototype.g=Mx,Mx.k={},e.b2ContactListener=Mx,Mx.prototype.__destroy__=function(){hp(this.e)};function Tx(){this.e=Si(),p(Tx)[this.e]=this}Tx.prototype=Object.create(j.prototype),Tx.prototype.g=Tx,Tx.k={},e.b2ManifoldPoint=Tx,Tx.prototype.get_localPoint=function(){return q(Lf(this.e),u)},Tx.prototype.set_localPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);rt(V,o)},Tx.prototype.get_normalImpulse=function(){return zk(this.e)},Tx.prototype.set_normalImpulse=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Di(V,o)},Tx.prototype.get_tangentImpulse=function(){return Dq(this.e)},Tx.prototype.set_tangentImpulse=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vd(V,o)},Tx.prototype.get_id=function(){return q(Ig(this.e),Kx)},Tx.prototype.set_id=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pn(V,o)},Tx.prototype.__destroy__=function(){xr(this.e)};function Bx(){c("cannot construct a b2QueryCallback, no constructor in IDL")}Bx.prototype=Object.create(j.prototype),Bx.prototype.g=Bx,Bx.k={},e.b2QueryCallback=Bx,Bx.prototype.__destroy__=function(){kf(this.e)};function D(){this.e=xn(),p(D)[this.e]=this}D.prototype=Object.create(j.prototype),D.prototype.g=D,D.k={},e.b2JointDef=D,D.prototype.get_type=function(){return ou(this.e)},D.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zu(V,o)},D.prototype.get_userData=function(){return dq(this.e)},D.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Cq(V,o)},D.prototype.get_bodyA=function(){return q(Ur(this.e),v)},D.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fl(V,o)},D.prototype.get_bodyB=function(){return q(An(this.e),v)},D.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Er(V,o)},D.prototype.get_collideConnected=function(){return Vk(this.e)},D.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);al(V,o)},D.prototype.__destroy__=function(){Gf(this.e)};function Ux(x,V){x=x&&typeof x=="object"?x.e:r(x),V=V&&typeof V=="object"?V.e:r(V),this.e=x===d?Ai():V===d?_emscripten_bind_b2Transform_b2Transform_1(x):Ys(x,V),p(Ux)[this.e]=this}Ux.prototype=Object.create(j.prototype),Ux.prototype.g=Ux,Ux.k={},e.b2Transform=Ux,Ux.prototype.SetIdentity=function(){ir(this.e)},Ux.prototype.Set=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);ni(o,_o,_r)},Ux.prototype.get_p=function(){return q(uu(this.e),u)},Ux.prototype.set_p=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Yi(V,o)},Ux.prototype.get_q=function(){return q(Rd(this.e),Cx)},Ux.prototype.set_q=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Xe(V,o)},Ux.prototype.__destroy__=function(){$e(this.e)};function M(){this.e=jw(),p(M)[this.e]=this}M.prototype=Object.create(xx.prototype),M.prototype.g=M,M.k={},e.b2ChainShape=M,M.prototype.Clear=function(){ar(this.e)},M.prototype.CreateLoop=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);ow(o,_o,_r)},M.prototype.CreateChain=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Cd(o,_o,_r)},M.prototype.SetPrevVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ko(V,o)},M.prototype.SetNextVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ao(V,o)},M.prototype.GetChildEdge=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Ot(o,_o,_r)},M.prototype.GetType=function(){return Om(this.e)},M.prototype.GetChildCount=function(){return jq(this.e)},M.prototype.TestPoint=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return Ll(o,_o,_r)},M.prototype.RayCast=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return $s(_r,l,e_,o_,i_)},M.prototype.ComputeAABB=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Wc(_o,_r,l,e_)},M.prototype.ComputeMass=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);rw(o,_o,_r)},M.prototype.get_m_vertices=function(){return q(le(this.e),u)},M.prototype.set_m_vertices=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ke(V,o)},M.prototype.get_m_count=function(){return rc(this.e)},M.prototype.set_m_count=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Dl(V,o)},M.prototype.get_m_prevVertex=function(){return q(Ph(this.e),u)},M.prototype.set_m_prevVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cs(V,o)},M.prototype.get_m_nextVertex=function(){return q(Zf(this.e),u)},M.prototype.set_m_nextVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zh(V,o)},M.prototype.get_m_hasPrevVertex=function(){return zq(this.e)},M.prototype.set_m_hasPrevVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Eg(V,o)},M.prototype.get_m_hasNextVertex=function(){return zo(this.e)},M.prototype.set_m_hasNextVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);As(V,o)},M.prototype.get_m_type=function(){return ek(this.e)},M.prototype.set_m_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ug(V,o)},M.prototype.get_m_radius=function(){return dt(this.e)},M.prototype.set_m_radius=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ft(V,o)},M.prototype.__destroy__=function(){nm(this.e)};function Vx(x,V,o){x=x&&typeof x=="object"?x.e:r(x),V=V&&typeof V=="object"?V.e:r(V),o=o&&typeof o=="object"?o.e:r(o),this.e=x===d?Ct():V===d?_emscripten_bind_b2Color_b2Color_1(x):o===d?_emscripten_bind_b2Color_b2Color_2(x,V):Bt(x,V,o),p(Vx)[this.e]=this}Vx.prototype=Object.create(j.prototype),Vx.prototype.g=Vx,Vx.k={},e.b2Color=Vx,Vx.prototype.Set=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Bv(_o,_r,l,e_)},Vx.prototype.get_r=function(){return Dd(this.e)},Vx.prototype.set_r=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ze(V,o)},Vx.prototype.get_g=function(){return xp(this.e)},Vx.prototype.set_g=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zc(V,o)},Vx.prototype.get_b=function(){return mt(this.e)},Vx.prototype.set_b=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Am(V,o)},Vx.prototype.__destroy__=function(){Xm(this.e)};function N(){c("cannot construct a b2RopeJoint, no constructor in IDL")}N.prototype=Object.create(t.prototype),N.prototype.g=N,N.k={},e.b2RopeJoint=N,N.prototype.GetLocalAnchorA=function(){return q(Pr(this.e),u)},N.prototype.GetLocalAnchorB=function(){return q(Aj(this.e),u)},N.prototype.SetMaxLength=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bx(V,o)},N.prototype.GetMaxLength=function(){return df(this.e)},N.prototype.GetLimitState=function(){return Uk(this.e)},N.prototype.GetType=function(){return ns(this.e)},N.prototype.GetBodyA=function(){return q(Fv(this.e),v)},N.prototype.GetBodyB=function(){return q(Bl(this.e),v)},N.prototype.GetAnchorA=function(){return q(vj(this.e),u)},N.prototype.GetAnchorB=function(){return q(qf(this.e),u)},N.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(pt(V,o),u)},N.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return fw(V,o)},N.prototype.GetNext=function(){return q(zp(this.e),t)},N.prototype.GetUserData=function(){return lk(this.e)},N.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ts(V,o)},N.prototype.IsActive=function(){return Nu(this.e)},N.prototype.GetCollideConnected=function(){return Ju(this.e)},N.prototype.__destroy__=function(){Cr(this.e)};function Wx(){c("cannot construct a b2RayCastInput, no constructor in IDL")}Wx.prototype=Object.create(j.prototype),Wx.prototype.g=Wx,Wx.k={},e.b2RayCastInput=Wx,Wx.prototype.get_p1=function(){return q(Lc(this.e),u)},Wx.prototype.set_p1=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);iv(V,o)},Wx.prototype.get_p2=function(){return q(Nl(this.e),u)},Wx.prototype.set_p2=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);lg(V,o)},Wx.prototype.get_maxFraction=function(){return Pm(this.e)},Wx.prototype.set_maxFraction=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ro(V,o)},Wx.prototype.__destroy__=function(){wf(this.e)};function O(){this.e=Fj(),p(O)[this.e]=this}O.prototype=Object.create(xx.prototype),O.prototype.g=O,O.k={},e.b2PolygonShape=O,O.prototype.Set=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);ch(o,_o,_r)},O.prototype.SetAsBox=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);o_===d?tv(_r,l,e_):i_===d?_emscripten_bind_b2PolygonShape_SetAsBox_3(_r,l,e_,o_):jn(_r,l,e_,o_,i_)},O.prototype.GetVertexCount=function(){return wq(this.e)},O.prototype.GetVertex=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Is(V,o),u)},O.prototype.GetType=function(){return bi(this.e)},O.prototype.GetChildCount=function(){return Bp(this.e)},O.prototype.TestPoint=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return Dj(o,_o,_r)},O.prototype.RayCast=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Cc(_r,l,e_,o_,i_)},O.prototype.ComputeAABB=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);hm(_o,_r,l,e_)},O.prototype.ComputeMass=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Xl(o,_o,_r)},O.prototype.get_m_centroid=function(){return q(mm(this.e),u)},O.prototype.set_m_centroid=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gn(V,o)},O.prototype.get_m_count=function(){return wd(this.e)},O.prototype.set_m_count=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Td(V,o)},O.prototype.get_m_type=function(){return Vp(this.e)},O.prototype.set_m_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);vv(V,o)},O.prototype.get_m_radius=function(){return kk(this.e)},O.prototype.set_m_radius=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);dx(V,o)},O.prototype.__destroy__=function(){Ye(this.e)};function P(){this.e=Hq(),p(P)[this.e]=this}P.prototype=Object.create(xx.prototype),P.prototype.g=P,P.k={},e.b2EdgeShape=P,P.prototype.Set=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Su(o,_o,_r)},P.prototype.GetType=function(){return vr(this.e)},P.prototype.GetChildCount=function(){return ld(this.e)},P.prototype.TestPoint=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return lm(o,_o,_r)},P.prototype.RayCast=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return lj(_r,l,e_,o_,i_)},P.prototype.ComputeAABB=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Kr(_o,_r,l,e_)},P.prototype.ComputeMass=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);vu(o,_o,_r)},P.prototype.get_m_vertex1=function(){return q($l(this.e),u)},P.prototype.set_m_vertex1=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bv(V,o)},P.prototype.get_m_vertex2=function(){return q(kn(this.e),u)},P.prototype.set_m_vertex2=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);kr(V,o)},P.prototype.get_m_vertex0=function(){return q(gj(this.e),u)},P.prototype.set_m_vertex0=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zi(V,o)},P.prototype.get_m_vertex3=function(){return q(gr(this.e),u)},P.prototype.set_m_vertex3=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ej(V,o)},P.prototype.get_m_hasVertex0=function(){return Em(this.e)},P.prototype.set_m_hasVertex0=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cf(V,o)},P.prototype.get_m_hasVertex3=function(){return tk(this.e)},P.prototype.set_m_hasVertex3=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Mc(V,o)},P.prototype.get_m_type=function(){return Wd(this.e)},P.prototype.set_m_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Cv(V,o)},P.prototype.get_m_radius=function(){return pw(this.e)},P.prototype.set_m_radius=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ts(V,o)},P.prototype.__destroy__=function(){uj(this.e)};function Xx(){this.e=jt(),p(Xx)[this.e]=this}Xx.prototype=Object.create(Yx.prototype),Xx.prototype.g=Xx,Xx.k={},e.JSContactFilter=Xx,Xx.prototype.ShouldCollide=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return Ak(o,_o,_r)},Xx.prototype.__destroy__=function(){jk(this.e)};function Q(){this.e=mn(),p(Q)[this.e]=this}Q.prototype=Object.create(D.prototype),Q.prototype.g=Q,Q.k={},e.b2RevoluteJointDef=Q,Q.prototype.Initialize=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Qu(_o,_r,l,e_)},Q.prototype.get_localAnchorA=function(){return q(ed(this.e),u)},Q.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fh(V,o)},Q.prototype.get_localAnchorB=function(){return q(hk(this.e),u)},Q.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sn(V,o)},Q.prototype.get_referenceAngle=function(){return ik(this.e)},Q.prototype.set_referenceAngle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fq(V,o)},Q.prototype.get_enableLimit=function(){return ri(this.e)},Q.prototype.set_enableLimit=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);up(V,o)},Q.prototype.get_lowerAngle=function(){return Hl(this.e)},Q.prototype.set_lowerAngle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ko(V,o)},Q.prototype.get_upperAngle=function(){return ve(this.e)},Q.prototype.set_upperAngle=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Lm(V,o)},Q.prototype.get_enableMotor=function(){return ep(this.e)},Q.prototype.set_enableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vi(V,o)},Q.prototype.get_motorSpeed=function(){return mg(this.e)},Q.prototype.set_motorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Dw(V,o)},Q.prototype.get_maxMotorTorque=function(){return Eq(this.e)},Q.prototype.set_maxMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sv(V,o)},Q.prototype.get_type=function(){return Mm(this.e)},Q.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ck(V,o)},Q.prototype.get_userData=function(){return Hn(this.e)},Q.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);dd(V,o)},Q.prototype.get_bodyA=function(){return q(du(this.e),v)},Q.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Rq(V,o)},Q.prototype.get_bodyB=function(){return q(qk(this.e),v)},Q.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vg(V,o)},Q.prototype.get_collideConnected=function(){return Ks(this.e)},Q.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);eg(V,o)},Q.prototype.__destroy__=function(){Hp(this.e)};function Zx(){this.e=su(),p(Zx)[this.e]=this}Zx.prototype=Object.create(Px.prototype),Zx.prototype.g=Zx,Zx.k={},e.JSDraw=Zx,Zx.prototype.DrawPolygon=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);fo(_o,_r,l,e_)},Zx.prototype.DrawSolidPolygon=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);vg(_o,_r,l,e_)},Zx.prototype.DrawCircle=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Sc(_o,_r,l,e_)},Zx.prototype.DrawSolidCircle=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Fc(_r,l,e_,o_,i_)},Zx.prototype.DrawSegment=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);id(_o,_r,l,e_)},Zx.prototype.DrawTransform=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);uo(V,o)},Zx.prototype.__destroy__=function(){yg(this.e)};function R(){c("cannot construct a b2WheelJoint, no constructor in IDL")}R.prototype=Object.create(t.prototype),R.prototype.g=R,R.k={},e.b2WheelJoint=R,R.prototype.GetLocalAnchorA=function(){return q(ug(this.e),u)},R.prototype.GetLocalAnchorB=function(){return q(Ff(this.e),u)},R.prototype.GetLocalAxisA=function(){return q(Dv(this.e),u)},R.prototype.GetJointTranslation=function(){return Rs(this.e)},R.prototype.GetJointSpeed=function(){return hg(this.e)},R.prototype.IsMotorEnabled=function(){return Vf(this.e)},R.prototype.EnableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);tg(V,o)},R.prototype.SetMotorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ie(V,o)},R.prototype.GetMotorSpeed=function(){return Zn(this.e)},R.prototype.SetMaxMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Hj(V,o)},R.prototype.GetMaxMotorTorque=function(){return Yd(this.e)},R.prototype.GetMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Ss(V,o)},R.prototype.SetSpringFrequencyHz=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xi(V,o)},R.prototype.GetSpringFrequencyHz=function(){return Iw(this.e)},R.prototype.SetSpringDampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Gp(V,o)},R.prototype.GetSpringDampingRatio=function(){return pc(this.e)},R.prototype.GetType=function(){return wv(this.e)},R.prototype.GetBodyA=function(){return q(to(this.e),v)},R.prototype.GetBodyB=function(){return q(Wm(this.e),v)},R.prototype.GetAnchorA=function(){return q(ds(this.e),u)},R.prototype.GetAnchorB=function(){return q(Ii(this.e),u)},R.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Pf(V,o),u)},R.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return ln(V,o)},R.prototype.GetNext=function(){return q(un(this.e),t)},R.prototype.GetUserData=function(){return oo(this.e)},R.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Rt(V,o)},R.prototype.IsActive=function(){return Vs(this.e)},R.prototype.GetCollideConnected=function(){return Fp(this.e)},R.prototype.__destroy__=function(){xw(this.e)};function S(){c("cannot construct a b2PulleyJoint, no constructor in IDL")}S.prototype=Object.create(t.prototype),S.prototype.g=S,S.k={},e.b2PulleyJoint=S,S.prototype.GetGroundAnchorA=function(){return q(Hd(this.e),u)},S.prototype.GetGroundAnchorB=function(){return q(Ng(this.e),u)},S.prototype.GetLengthA=function(){return vo(this.e)},S.prototype.GetLengthB=function(){return Lk(this.e)},S.prototype.GetRatio=function(){return Mo(this.e)},S.prototype.GetCurrentLengthA=function(){return xl(this.e)},S.prototype.GetCurrentLengthB=function(){return rj(this.e)},S.prototype.GetType=function(){return nj(this.e)},S.prototype.GetBodyA=function(){return q(Mq(this.e),v)},S.prototype.GetBodyB=function(){return q(Be(this.e),v)},S.prototype.GetAnchorA=function(){return q(kv(this.e),u)},S.prototype.GetAnchorB=function(){return q(Bh(this.e),u)},S.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Ep(V,o),u)},S.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return iu(V,o)},S.prototype.GetNext=function(){return q(dk(this.e),t)},S.prototype.GetUserData=function(){return em(this.e)},S.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qc(V,o)},S.prototype.IsActive=function(){return Wi(this.e)},S.prototype.GetCollideConnected=function(){return Ah(this.e)},S.prototype.__destroy__=function(){Go(this.e)};function T(){this.e=Yp(),p(T)[this.e]=this}T.prototype=Object.create(D.prototype),T.prototype.g=T,T.k={},e.b2MouseJointDef=T,T.prototype.get_target=function(){return q(bn(this.e),u)},T.prototype.set_target=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);he(V,o)},T.prototype.get_maxForce=function(){return Ip(this.e)},T.prototype.set_maxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sq(V,o)},T.prototype.get_frequencyHz=function(){return aq(this.e)},T.prototype.set_frequencyHz=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ct(V,o)},T.prototype.get_dampingRatio=function(){return Sg(this.e)},T.prototype.set_dampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fp(V,o)},T.prototype.get_type=function(){return Zw(this.e)},T.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Xc(V,o)},T.prototype.get_userData=function(){return nt(this.e)},T.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hd(V,o)},T.prototype.get_bodyA=function(){return q(il(this.e),v)},T.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);be(V,o)},T.prototype.get_bodyB=function(){return q(Zg(this.e),v)},T.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$h(V,o)},T.prototype.get_collideConnected=function(){return sf(this.e)},T.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);zw(V,o)},T.prototype.__destroy__=function(){zg(this.e)};function G(){c("cannot construct a b2Contact, no constructor in IDL")}G.prototype=Object.create(j.prototype),G.prototype.g=G,G.k={},e.b2Contact=G,G.prototype.GetManifold=function(){return q(Jt(this.e),Ix)},G.prototype.IsTouching=function(){return Oe(this.e)},G.prototype.SetEnabled=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$f(V,o)},G.prototype.IsEnabled=function(){return Tj(this.e)},G.prototype.GetNext=function(){return q(Ud(this.e),G)},G.prototype.GetFixtureA=function(){return q(jf(this.e),w)},G.prototype.GetChildIndexA=function(){return Yt(this.e)},G.prototype.GetFixtureB=function(){return q(qw(this.e),w)},G.prototype.GetChildIndexB=function(){return tr(this.e)},G.prototype.SetFriction=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Sr(V,o)},G.prototype.GetFriction=function(){return Hi(this.e)},G.prototype.ResetFriction=function(){jv(this.e)},G.prototype.SetRestitution=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);er(V,o)},G.prototype.GetRestitution=function(){return Fn(this.e)},G.prototype.ResetRestitution=function(){Qi(this.e)},G.prototype.SetTangentSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Lj(V,o)},G.prototype.GetTangentSpeed=function(){return Nn(this.e)};function xx(){c("cannot construct a b2Shape, no constructor in IDL")}xx.prototype=Object.create(j.prototype),xx.prototype.g=xx,xx.k={},e.b2Shape=xx,xx.prototype.GetType=function(){return ro(this.e)},xx.prototype.GetChildCount=function(){return Ft(this.e)},xx.prototype.TestPoint=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return $g(o,_o,_r)},xx.prototype.RayCast=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Gd(_r,l,e_,o_,i_)},xx.prototype.ComputeAABB=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);tc(_o,_r,l,e_)},xx.prototype.ComputeMass=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);ut(o,_o,_r)},xx.prototype.get_m_type=function(){return Pk(this.e)},xx.prototype.set_m_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qs(V,o)},xx.prototype.get_m_radius=function(){return Jr(this.e)},xx.prototype.set_m_radius=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ag(V,o)},xx.prototype.__destroy__=function(){zm(this.e)};function U(){this.e=fn(),p(U)[this.e]=this}U.prototype=Object.create(D.prototype),U.prototype.g=U,U.k={},e.b2DistanceJointDef=U,U.prototype.Initialize=function(l,e_,o_,i_){var _r=this.e,l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Kn(_r,l,e_,o_,i_)},U.prototype.get_localAnchorA=function(){return q(Jj(this.e),u)},U.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Nw(V,o)},U.prototype.get_localAnchorB=function(){return q(Pq(this.e),u)},U.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xk(V,o)},U.prototype.get_length=function(){return Ae(this.e)},U.prototype.set_length=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ji(V,o)},U.prototype.get_frequencyHz=function(){return wo(this.e)},U.prototype.set_frequencyHz=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gk(V,o)},U.prototype.get_dampingRatio=function(){return nk(this.e)},U.prototype.set_dampingRatio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Qg(V,o)},U.prototype.get_type=function(){return Ni(this.e)},U.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Jq(V,o)},U.prototype.get_userData=function(){return ad(this.e)},U.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);yj(V,o)},U.prototype.get_bodyA=function(){return q(Bf(this.e),v)},U.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ls(V,o)},U.prototype.get_bodyB=function(){return q(mv(this.e),v)},U.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);hq(V,o)},U.prototype.get_collideConnected=function(){return eq(this.e)},U.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gu(V,o)},U.prototype.__destroy__=function(){xu(this.e)};function v(){c("cannot construct a b2Body, no constructor in IDL")}v.prototype=Object.create(j.prototype),v.prototype.g=v,v.k={},e.b2Body=v,v.prototype.CreateFixture=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);return q(_r===d?cm(o,_o):dm(o,_o,_r),w)},v.prototype.DestroyFixture=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Un(V,o)},v.prototype.SetTransform=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);pf(o,_o,_r)},v.prototype.GetTransform=function(){return q($t(this.e),Ux)},v.prototype.GetPosition=function(){return q(Dh(this.e),u)},v.prototype.GetAngle=function(){return Ru(this.e)},v.prototype.GetWorldCenter=function(){return q(Yk(this.e),u)},v.prototype.GetLocalCenter=function(){return q(Xv(this.e),u)},v.prototype.SetLinearVelocity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sl(V,o)},v.prototype.GetLinearVelocity=function(){return q(et(this.e),u)},v.prototype.SetAngularVelocity=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ov(V,o)},v.prototype.GetAngularVelocity=function(){return Oj(this.e)},v.prototype.ApplyForce=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);St(_o,_r,l,e_)},v.prototype.ApplyForceToCenter=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);xf(o,_o,_r)},v.prototype.ApplyTorque=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);In(o,_o,_r)},v.prototype.ApplyLinearImpulse=function(_r,l,e_){var _o=this.e,_r=_r&&typeof _r=="object"?_r.e:r(_r),l=l&&typeof l=="object"?l.e:r(l),e_=e_&&typeof e_=="object"?e_.e:r(e_);Wl(_o,_r,l,e_)},v.prototype.ApplyAngularImpulse=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);we(o,_o,_r)},v.prototype.GetMass=function(){return Co(this.e)},v.prototype.GetInertia=function(){return ks(this.e)},v.prototype.GetMassData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Zh(V,o)},v.prototype.SetMassData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ke(V,o)},v.prototype.ResetMassData=function(){Xr(this.e)},v.prototype.GetWorldPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(yk(V,o),u)},v.prototype.GetWorldVector=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(ah(V,o),u)},v.prototype.GetLocalPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(lh(V,o),u)},v.prototype.GetLocalVector=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Rm(V,o),u)},v.prototype.GetLinearVelocityFromWorldPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(nr(V,o),u)},v.prototype.GetLinearVelocityFromLocalPoint=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Vq(V,o),u)},v.prototype.GetLinearDamping=function(){return Vr(this.e)},v.prototype.SetLinearDamping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vm(V,o)},v.prototype.GetAngularDamping=function(){return $n(this.e)},v.prototype.SetAngularDamping=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);cw(V,o)},v.prototype.GetGravityScale=function(){return Wg(this.e)},v.prototype.SetGravityScale=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);sm(V,o)},v.prototype.SetType=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Bo(V,o)},v.prototype.GetType=function(){return Gr(this.e)},v.prototype.SetBullet=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);jl(V,o)},v.prototype.IsBullet=function(){return Tl(this.e)},v.prototype.SetSleepingAllowed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Lg(V,o)},v.prototype.IsSleepingAllowed=function(){return rq(this.e)},v.prototype.SetAwake=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fv(V,o)},v.prototype.IsAwake=function(){return ee(this.e)},v.prototype.SetActive=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);fm(V,o)},v.prototype.IsActive=function(){return Pi(this.e)},v.prototype.SetFixedRotation=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vh(V,o)},v.prototype.IsFixedRotation=function(){return Fi(this.e)},v.prototype.GetFixtureList=function(){return q(dp(this.e),w)},v.prototype.GetJointList=function(){return q(Kw(this.e),Sx)},v.prototype.GetContactList=function(){return q(Ei(this.e),$x)},v.prototype.GetNext=function(){return q(Ev(this.e),v)},v.prototype.GetUserData=function(){return cl(this.e)},v.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pw(V,o)},v.prototype.GetWorld=function(){return q(cv(this.e),F)},v.prototype.Dump=function(){Wk(this.e)};function W(){c("cannot construct a b2FrictionJoint, no constructor in IDL")}W.prototype=Object.create(t.prototype),W.prototype.g=W,W.k={},e.b2FrictionJoint=W,W.prototype.GetLocalAnchorA=function(){return q(op(this.e),u)},W.prototype.GetLocalAnchorB=function(){return q(Li(this.e),u)},W.prototype.SetMaxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);lu(V,o)},W.prototype.GetMaxForce=function(){return Sd(this.e)},W.prototype.SetMaxTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$p(V,o)},W.prototype.GetMaxTorque=function(){return kj(this.e)},W.prototype.GetType=function(){return Pg(this.e)},W.prototype.GetBodyA=function(){return q(Lw(this.e),v)},W.prototype.GetBodyB=function(){return q(Af(this.e),v)},W.prototype.GetAnchorA=function(){return q(ms(this.e),u)},W.prototype.GetAnchorB=function(){return q(Kv(this.e),u)},W.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Iq(V,o),u)},W.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return km(V,o)},W.prototype.GetNext=function(){return q(fs(this.e),t)},W.prototype.GetUserData=function(){return Rr(this.e)},W.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);bq(V,o)},W.prototype.IsActive=function(){return yc(this.e)},W.prototype.GetCollideConnected=function(){return Rp(this.e)},W.prototype.__destroy__=function(){kp(this.e)};function ay(){c("cannot construct a b2DestructionListener, no constructor in IDL")}ay.prototype=Object.create(j.prototype),ay.prototype.g=ay,ay.k={},e.b2DestructionListener=ay,ay.prototype.__destroy__=function(){Uc(this.e)};function X(){this.e=zn(),p(X)[this.e]=this}X.prototype=Object.create(D.prototype),X.prototype.g=X,X.k={},e.b2GearJointDef=X,X.prototype.get_joint1=function(){return q(cj(this.e),t)},X.prototype.set_joint1=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);jr(V,o)},X.prototype.get_joint2=function(){return q(bg(this.e),t)},X.prototype.set_joint2=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ku(V,o)},X.prototype.get_ratio=function(){return Cp(this.e)},X.prototype.set_ratio=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Gj(V,o)},X.prototype.get_type=function(){return Nm(this.e)},X.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);gf(V,o)},X.prototype.get_userData=function(){return wi(this.e)},X.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);nw(V,o)},X.prototype.get_bodyA=function(){return q(fk(this.e),v)},X.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ui(V,o)},X.prototype.get_bodyB=function(){return q(Xg(this.e),v)},X.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ew(V,o)},X.prototype.get_collideConnected=function(){return gl(this.e)},X.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Pt(V,o)},X.prototype.__destroy__=function(){Qq(this.e)};function Y(){c("cannot construct a b2RevoluteJoint, no constructor in IDL")}Y.prototype=Object.create(t.prototype),Y.prototype.g=Y,Y.k={},e.b2RevoluteJoint=Y,Y.prototype.GetLocalAnchorA=function(){return q(Gc(this.e),u)},Y.prototype.GetLocalAnchorB=function(){return q(it(this.e),u)},Y.prototype.GetReferenceAngle=function(){return tl(this.e)},Y.prototype.GetJointAngle=function(){return hh(this.e)},Y.prototype.GetJointSpeed=function(){return Ef(this.e)},Y.prototype.IsLimitEnabled=function(){return Qv(this.e)},Y.prototype.EnableLimit=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ol(V,o)},Y.prototype.GetLowerLimit=function(){return Xk(this.e)},Y.prototype.GetUpperLimit=function(){return oe(this.e)},Y.prototype.SetLimits=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);Ms(o,_o,_r)},Y.prototype.IsMotorEnabled=function(){return ge(this.e)},Y.prototype.EnableMotor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Jp(V,o)},Y.prototype.SetMotorSpeed=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xo(V,o)},Y.prototype.GetMotorSpeed=function(){return Tg(this.e)},Y.prototype.SetMaxMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);kw(V,o)},Y.prototype.GetMaxMotorTorque=function(){return vk(this.e)},Y.prototype.GetMotorTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Jc(V,o)},Y.prototype.GetType=function(){return Tn(this.e)},Y.prototype.GetBodyA=function(){return q(Xj(this.e),v)},Y.prototype.GetBodyB=function(){return q(ol(this.e),v)},Y.prototype.GetAnchorA=function(){return q(bs(this.e),u)},Y.prototype.GetAnchorB=function(){return q(ov(this.e),u)},Y.prototype.GetReactionForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Hu(V,o),u)},Y.prototype.GetReactionTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);return Nh(V,o)},Y.prototype.GetNext=function(){return q(pv(this.e),t)},Y.prototype.GetUserData=function(){return ti(this.e)},Y.prototype.SetUserData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Uv(V,o)},Y.prototype.IsActive=function(){return yv(this.e)},Y.prototype.GetCollideConnected=function(){return ru(this.e)},Y.prototype.__destroy__=function(){Md(this.e)};function Yx(){c("cannot construct a b2ContactFilter, no constructor in IDL")}Yx.prototype=Object.create(j.prototype),Yx.prototype.g=Yx,Yx.k={},e.b2ContactFilter=Yx,Yx.prototype.__destroy__=function(){Cg(this.e)};function $x(){this.e=Fs(),p($x)[this.e]=this}$x.prototype=Object.create(j.prototype),$x.prototype.g=$x,$x.k={},e.b2ContactEdge=$x,$x.prototype.get_other=function(){return q(zj(this.e),v)},$x.prototype.set_other=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qj(V,o)},$x.prototype.get_contact=function(){return q(Gn(this.e),G)},$x.prototype.set_contact=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qi(V,o)},$x.prototype.get_prev=function(){return q(Fh(this.e),$x)},$x.prototype.set_prev=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);$j(V,o)},$x.prototype.get_next=function(){return q(lr(this.e),$x)},$x.prototype.set_next=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);qc(V,o)},$x.prototype.__destroy__=function(){au(this.e)};function Z(){this.e=Dk(),p(Z)[this.e]=this}Z.prototype=Object.create(D.prototype),Z.prototype.g=Z,Z.k={},e.b2RopeJointDef=Z,Z.prototype.get_localAnchorA=function(){return q(pi(this.e),u)},Z.prototype.set_localAnchorA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Bc(V,o)},Z.prototype.get_localAnchorB=function(){return q(cd(this.e),u)},Z.prototype.set_localAnchorB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);lw(V,o)},Z.prototype.get_maxLength=function(){return hl(this.e)},Z.prototype.set_maxLength=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Kl(V,o)},Z.prototype.get_type=function(){return Nq(this.e)},Z.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ql(V,o)},Z.prototype.get_userData=function(){return nh(this.e)},Z.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Xo(V,o)},Z.prototype.get_bodyA=function(){return q(mk(this.e),v)},Z.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);yu(V,o)},Z.prototype.get_bodyB=function(){return q(uw(this.e),v)},Z.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Fe(V,o)},Z.prototype.get_collideConnected=function(){return di(this.e)},Z.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xd(V,o)},Z.prototype.__destroy__=function(){Us(this.e)};function $(){this.e=yh(),p($)[this.e]=this}$.prototype=Object.create(D.prototype),$.prototype.g=$,$.k={},e.b2MotorJointDef=$,$.prototype.Initialize=function(_o,_r){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_r=_r&&typeof _r=="object"?_r.e:r(_r);kd(o,_o,_r)},$.prototype.get_linearOffset=function(){return q(Gm(this.e),u)},$.prototype.set_linearOffset=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Oo(V,o)},$.prototype.get_angularOffset=function(){return Qt(this.e)},$.prototype.set_angularOffset=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);ph(V,o)},$.prototype.get_maxForce=function(){return $c(this.e)},$.prototype.set_maxForce=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);pg(V,o)},$.prototype.get_maxTorque=function(){return Uq(this.e)},$.prototype.set_maxTorque=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Uu(V,o)},$.prototype.get_correctionFactor=function(){return Av(this.e)},$.prototype.set_correctionFactor=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);xj(V,o)},$.prototype.get_type=function(){return Or(this.e)},$.prototype.set_type=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Kc(V,o)},$.prototype.get_userData=function(){return Bu(this.e)},$.prototype.set_userData=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Vd(V,o)},$.prototype.get_bodyA=function(){return q(Ew(this.e),v)},$.prototype.set_bodyA=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Ul(V,o)},$.prototype.get_bodyB=function(){return q(Fk(this.e),v)},$.prototype.set_bodyB=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);Xs(V,o)},$.prototype.get_collideConnected=function(){return ne(this.e)},$.prototype.set_collideConnected=function(o){var V=this.e,o=o&&typeof o=="object"?o.e:r(o);us(V,o)},$.prototype.__destroy__=function(){Os(this.e)},e.b2Shape.e_circle=Sk(),e.b2Shape.e_edge=uk(),e.b2Shape.e_polygon=Oc(),e.b2Shape.e_chain=Hh(),e.b2Shape.e_typeCount=of(),e.e_unknownJoint=Gv(),e.e_revoluteJoint=ce(),e.e_prismaticJoint=yr(),e.e_distanceJoint=Fo(),e.e_pulleyJoint=Yf(),e.e_mouseJoint=ae(),e.e_gearJoint=Gt(),e.e_wheelJoint=Zr(),e.e_weldJoint=$m(),e.e_frictionJoint=xe(),e.e_ropeJoint=rs(),e.e_motorJoint=Po(),e.e_inactiveLimit=dv(),e.e_atLowerLimit=On(),e.e_atUpperLimit=Xw(),e.e_equalLimits=Ci(),e.b2Manifold.e_circles=co(),e.b2Manifold.e_faceA=ok(),e.b2Manifold.e_faceB=pk(),e.b2_staticBody=Km(),e.b2_kinematicBody=Yq(),e.b2_dynamicBody=Sq(),e.b2Draw.e_shapeBit=Gi(),e.b2Draw.e_jointBit=qg(),e.b2Draw.e_aabbBit=Pu(),e.b2Draw.e_pairBit=jp(),e.b2Draw.e_centerOfMassBit=iw(),e.b2ContactFeature.e_vertex=Ih(),e.b2ContactFeature.e_face=tm(),this.Box2D=e}).call(c);module.exports=c.Box2D});var z9=z0((R6,j9)=>{(function(x,V){typeof R6=="object"&&typeof j9<"u"?V(R6):typeof define=="function"&&define.amd?define(["exports"],V):(x=x||self,V(x.box2d={}))})(R6,function(x){"use strict";function V(i2,..._n){if(!i2)throw new Error(..._n)}function o(i2,_n){return i2!==void 0?i2:_n}let _o=1e37,_r=1e-5,l=_r*_r,e_=3.14159265359,o_=2,i_=8,_e=.1,c_=2,ws=.008,h_=2/180*e_,s_=2*ws,w_=8,L_=32,y_=1,I_=.2,k_=8/180*e_,j_=2,n2=j_*j_,p2=.5*e_,u2=p2*p2,T2=.2,I2=.75,q2=-1,O2=2147483647,X2=.75,S_=1,q_=.25,N_=.5,W_=2,o2=W_*W_,m2=256,_2=2.5,v_=.5,G_=.01,K_=2/180*e_;function C_(i2){return null}function z_(i2){}function X_(i2,..._n){}class l2{constructor(_n=0,r_=0,p_=0){this.major=0,this.minor=0,this.revision=0,this.major=_n,this.minor=r_,this.revision=p_}toString(){return this.major+"."+this.minor+"."+this.revision}}let D2=new l2(2,3,2),V2="master",L2="fbf51801d80fc389d43dc46524520e89043b6faf";function B2(i2){return parseInt(i2,10)}function J2(i2){return Math.abs(parseInt(i2,10))}function U2(i2,_n){let r_=new Array(i2);for(let p_=0;p_<i2;++p_)r_[p_]=_n(p_);return r_}function pa(i2){let _n=new Array(i2);for(let r_=0;r_<i2;++r_)_n[r_]=null;return _n}function h0(i2,_n=0){let r_=new Array(i2);for(let p_=0;p_<i2;++p_)r_[p_]=_n;return r_}let i0=e_/180,S0=180/e_,k0=2*e_,P0=Math.abs;function L0(i2,_n){return i2<_n?i2:_n}function T0(i2,_n){return i2>_n?i2:_n}function Vy(i2,_n,r_){return i2<_n?_n:i2>r_?r_:i2}function wV(i2,_n){let r_=i2[0];i2[0]=_n[0],_n[0]=r_}let J4=isFinite;function G2(i2){return i2*i2}function lP(i2){return 1/Math.sqrt(i2)}let uC=Math.sqrt,VV=Math.pow;function DV(i2){return i2*i0}function I4(i2){return i2*S0}let T4=Math.cos,MV=Math.sin,R4=Math.acos,WP=Math.asin,NP=Math.atan2;function F4(i2){return i2|=i2>>1&2147483647,i2|=i2>>2&1073741823,i2|=i2>>4&268435455,i2|=i2>>8&16777215,i2|=i2>>16&65535,i2+1}function L4(i2){return i2>0&&(i2&i2-1)===0}function GV(){return Math.random()*2-1}function q4(i2,_n){return(_n-i2)*Math.random()+i2}class a_{constructor(..._n){if(_n[0]instanceof Float32Array){if(_n[0].length!==2)throw new Error;this.data=_n[0]}else{let r_=typeof _n[0]=="number"?_n[0]:0,p_=typeof _n[1]=="number"?_n[1]:0;this.data=new Float32Array([r_,p_])}}get x(){return this.data[0]}set x(_n){this.data[0]=_n}get y(){return this.data[1]}set y(_n){this.data[1]=_n}Clone(){return new a_(this.x,this.y)}SetZero(){return this.x=0,this.y=0,this}Set(_n,r_){return this.x=_n,this.y=r_,this}Copy(_n){return this.x=_n.x,this.y=_n.y,this}SelfAdd(_n){return this.x+=_n.x,this.y+=_n.y,this}SelfAddXY(_n,r_){return this.x+=_n,this.y+=r_,this}SelfSub(_n){return this.x-=_n.x,this.y-=_n.y,this}SelfSubXY(_n,r_){return this.x-=_n,this.y-=r_,this}SelfMul(_n){return this.x*=_n,this.y*=_n,this}SelfMulAdd(_n,r_){return this.x+=_n*r_.x,this.y+=_n*r_.y,this}SelfMulSub(_n,r_){return this.x-=_n*r_.x,this.y-=_n*r_.y,this}Dot(_n){return this.x*_n.x+this.y*_n.y}Cross(_n){return this.x*_n.y-this.y*_n.x}Length(){let _n=this.x,r_=this.y;return Math.sqrt(_n*_n+r_*r_)}LengthSquared(){let _n=this.x,r_=this.y;return _n*_n+r_*r_}Normalize(){let _n=this.Length();if(_n>=_r){let r_=1/_n;this.x*=r_,this.y*=r_}return _n}SelfNormalize(){let _n=this.Length();if(_n>=_r){let r_=1/_n;this.x*=r_,this.y*=r_}return this}SelfRotate(_n){let r_=Math.cos(_n),p_=Math.sin(_n),b_=this.x;return this.x=r_*b_-p_*this.y,this.y=p_*b_+r_*this.y,this}SelfRotateCosSin(_n,r_){let p_=this.x;return this.x=_n*p_-r_*this.y,this.y=r_*p_+_n*this.y,this}IsValid(){return isFinite(this.x)&&isFinite(this.y)}SelfCrossVS(_n){let r_=this.x;return this.x=_n*this.y,this.y=-_n*r_,this}SelfCrossSV(_n){let r_=this.x;return this.x=-_n*this.y,this.y=_n*r_,this}SelfMinV(_n){return this.x=L0(this.x,_n.x),this.y=L0(this.y,_n.y),this}SelfMaxV(_n){return this.x=T0(this.x,_n.x),this.y=T0(this.y,_n.y),this}SelfAbs(){return this.x=P0(this.x),this.y=P0(this.y),this}SelfNeg(){return this.x=-this.x,this.y=-this.y,this}SelfSkew(){let _n=this.x;return this.x=-this.y,this.y=_n,this}static MakeArray(_n){return U2(_n,r_=>new a_)}static AbsV(_n,r_){return r_.x=P0(_n.x),r_.y=P0(_n.y),r_}static MinV(_n,r_,p_){return p_.x=L0(_n.x,r_.x),p_.y=L0(_n.y,r_.y),p_}static MaxV(_n,r_,p_){return p_.x=T0(_n.x,r_.x),p_.y=T0(_n.y,r_.y),p_}static ClampV(_n,r_,p_,b_){return b_.x=Vy(_n.x,r_.x,p_.x),b_.y=Vy(_n.y,r_.y,p_.y),b_}static RotateV(_n,r_,p_){let b_=_n.x,d_=_n.y,B_=Math.cos(r_),T_=Math.sin(r_);return p_.x=B_*b_-T_*d_,p_.y=T_*b_+B_*d_,p_}static DotVV(_n,r_){return _n.x*r_.x+_n.y*r_.y}static CrossVV(_n,r_){return _n.x*r_.y-_n.y*r_.x}static CrossVS(_n,r_,p_){let b_=_n.x;return p_.x=r_*_n.y,p_.y=-r_*b_,p_}static CrossVOne(_n,r_){let p_=_n.x;return r_.x=_n.y,r_.y=-p_,r_}static CrossSV(_n,r_,p_){let b_=r_.x;return p_.x=-_n*r_.y,p_.y=_n*b_,p_}static CrossOneV(_n,r_){let p_=_n.x;return r_.x=-_n.y,r_.y=p_,r_}static AddVV(_n,r_,p_){return p_.x=_n.x+r_.x,p_.y=_n.y+r_.y,p_}static SubVV(_n,r_,p_){return p_.x=_n.x-r_.x,p_.y=_n.y-r_.y,p_}static MulSV(_n,r_,p_){return p_.x=r_.x*_n,p_.y=r_.y*_n,p_}static MulVS(_n,r_,p_){return p_.x=_n.x*r_,p_.y=_n.y*r_,p_}static AddVMulSV(_n,r_,p_,b_){return b_.x=_n.x+r_*p_.x,b_.y=_n.y+r_*p_.y,b_}static SubVMulSV(_n,r_,p_,b_){return b_.x=_n.x-r_*p_.x,b_.y=_n.y-r_*p_.y,b_}static AddVCrossSV(_n,r_,p_,b_){let d_=p_.x;return b_.x=_n.x-r_*p_.y,b_.y=_n.y+r_*d_,b_}static MidVV(_n,r_,p_){return p_.x=(_n.x+r_.x)*.5,p_.y=(_n.y+r_.y)*.5,p_}static ExtVV(_n,r_,p_){return p_.x=(r_.x-_n.x)*.5,p_.y=(r_.y-_n.y)*.5,p_}static IsEqualToV(_n,r_){return _n.x===r_.x&&_n.y===r_.y}static DistanceVV(_n,r_){let p_=_n.x-r_.x,b_=_n.y-r_.y;return Math.sqrt(p_*p_+b_*b_)}static DistanceSquaredVV(_n,r_){let p_=_n.x-r_.x,b_=_n.y-r_.y;return p_*p_+b_*b_}static NegV(_n,r_){return r_.x=-_n.x,r_.y=-_n.y,r_}}a_.ZERO=new a_(0,0),a_.UNITX=new a_(1,0),a_.UNITY=new a_(0,1),a_.s_t0=new a_,a_.s_t1=new a_,a_.s_t2=new a_,a_.s_t3=new a_;let E4=new a_(0,0);class oA{constructor(..._n){if(_n[0]instanceof Float32Array){if(_n[0].length!==3)throw new Error;this.data=_n[0]}else{let r_=typeof _n[0]=="number"?_n[0]:0,p_=typeof _n[1]=="number"?_n[1]:0,b_=typeof _n[2]=="number"?_n[2]:0;this.data=new Float32Array([r_,p_,b_])}}get x(){return this.data[0]}set x(_n){this.data[0]=_n}get y(){return this.data[1]}set y(_n){this.data[1]=_n}get z(){return this.data[2]}set z(_n){this.data[2]=_n}Clone(){return new oA(this.x,this.y,this.z)}SetZero(){return this.x=0,this.y=0,this.z=0,this}SetXYZ(_n,r_,p_){return this.x=_n,this.y=r_,this.z=p_,this}Copy(_n){return this.x=_n.x,this.y=_n.y,this.z=_n.z,this}SelfNeg(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}SelfAdd(_n){return this.x+=_n.x,this.y+=_n.y,this.z+=_n.z,this}SelfAddXYZ(_n,r_,p_){return this.x+=_n,this.y+=r_,this.z+=p_,this}SelfSub(_n){return this.x-=_n.x,this.y-=_n.y,this.z-=_n.z,this}SelfSubXYZ(_n,r_,p_){return this.x-=_n,this.y-=r_,this.z-=p_,this}SelfMul(_n){return this.x*=_n,this.y*=_n,this.z*=_n,this}static DotV3V3(_n,r_){return _n.x*r_.x+_n.y*r_.y+_n.z*r_.z}static CrossV3V3(_n,r_,p_){let b_=_n.x,d_=_n.y,B_=_n.z,T_=r_.x,E_=r_.y,Y_=r_.z;return p_.x=d_*Y_-B_*E_,p_.y=B_*T_-b_*Y_,p_.z=b_*E_-d_*T_,p_}}oA.ZERO=new oA(0,0,0),oA.s_t0=new oA;class F1{constructor(){this.data=new Float32Array([1,0,0,1]),this.ex=new a_(this.data.subarray(0,2)),this.ey=new a_(this.data.subarray(2,4))}Clone(){return new F1().Copy(this)}static FromVV(_n,r_){return new F1().SetVV(_n,r_)}static FromSSSS(_n,r_,p_,b_){return new F1().SetSSSS(_n,r_,p_,b_)}static FromAngle(_n){return new F1().SetAngle(_n)}SetSSSS(_n,r_,p_,b_){return this.ex.Set(_n,p_),this.ey.Set(r_,b_),this}SetVV(_n,r_){return this.ex.Copy(_n),this.ey.Copy(r_),this}SetAngle(_n){let r_=Math.cos(_n),p_=Math.sin(_n);return this.ex.Set(r_,p_),this.ey.Set(-p_,r_),this}Copy(_n){return this.ex.Copy(_n.ex),this.ey.Copy(_n.ey),this}SetIdentity(){return this.ex.Set(1,0),this.ey.Set(0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this}GetAngle(){return Math.atan2(this.ex.y,this.ex.x)}GetInverse(_n){let r_=this.ex.x,p_=this.ey.x,b_=this.ex.y,d_=this.ey.y,B_=r_*d_-p_*b_;return B_!==0&&(B_=1/B_),_n.ex.x=B_*d_,_n.ey.x=-B_*p_,_n.ex.y=-B_*b_,_n.ey.y=B_*r_,_n}Solve(_n,r_,p_){let b_=this.ex.x,d_=this.ey.x,B_=this.ex.y,T_=this.ey.y,E_=b_*T_-d_*B_;return E_!==0&&(E_=1/E_),p_.x=E_*(T_*_n-d_*r_),p_.y=E_*(b_*r_-B_*_n),p_}SelfAbs(){return this.ex.SelfAbs(),this.ey.SelfAbs(),this}SelfInv(){return this.GetInverse(this),this}SelfAddM(_n){return this.ex.SelfAdd(_n.ex),this.ey.SelfAdd(_n.ey),this}SelfSubM(_n){return this.ex.SelfSub(_n.ex),this.ey.SelfSub(_n.ey),this}static AbsM(_n,r_){let p_=_n.ex,b_=_n.ey;return r_.ex.x=P0(p_.x),r_.ex.y=P0(p_.y),r_.ey.x=P0(b_.x),r_.ey.y=P0(b_.y),r_}static MulMV(_n,r_,p_){let b_=_n.ex,d_=_n.ey,B_=r_.x,T_=r_.y;return p_.x=b_.x*B_+d_.x*T_,p_.y=b_.y*B_+d_.y*T_,p_}static MulTMV(_n,r_,p_){let b_=_n.ex,d_=_n.ey,B_=r_.x,T_=r_.y;return p_.x=b_.x*B_+b_.y*T_,p_.y=d_.x*B_+d_.y*T_,p_}static AddMM(_n,r_,p_){let b_=_n.ex,d_=_n.ey,B_=r_.ex,T_=r_.ey;return p_.ex.x=b_.x+B_.x,p_.ex.y=b_.y+B_.y,p_.ey.x=d_.x+T_.x,p_.ey.y=d_.y+T_.y,p_}static MulMM(_n,r_,p_){let b_=_n.ex.x,d_=_n.ex.y,B_=_n.ey.x,T_=_n.ey.y,E_=r_.ex.x,Y_=r_.ex.y,H_=r_.ey.x,U_=r_.ey.y;return p_.ex.x=b_*E_+B_*Y_,p_.ex.y=d_*E_+T_*Y_,p_.ey.x=b_*H_+B_*U_,p_.ey.y=d_*H_+T_*U_,p_}static MulTMM(_n,r_,p_){let b_=_n.ex.x,d_=_n.ex.y,B_=_n.ey.x,T_=_n.ey.y,E_=r_.ex.x,Y_=r_.ex.y,H_=r_.ey.x,U_=r_.ey.y;return p_.ex.x=b_*E_+d_*Y_,p_.ex.y=B_*E_+T_*Y_,p_.ey.x=b_*H_+d_*U_,p_.ey.y=B_*H_+T_*U_,p_}}F1.IDENTITY=new F1;class vS{constructor(){this.data=new Float32Array([1,0,0,0,1,0,0,0,1]),this.ex=new oA(this.data.subarray(0,3)),this.ey=new oA(this.data.subarray(3,6)),this.ez=new oA(this.data.subarray(6,9))}Clone(){return new vS().Copy(this)}SetVVV(_n,r_,p_){return this.ex.Copy(_n),this.ey.Copy(r_),this.ez.Copy(p_),this}Copy(_n){return this.ex.Copy(_n.ex),this.ey.Copy(_n.ey),this.ez.Copy(_n.ez),this}SetIdentity(){return this.ex.SetXYZ(1,0,0),this.ey.SetXYZ(0,1,0),this.ez.SetXYZ(0,0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this}SelfAddM(_n){return this.ex.SelfAdd(_n.ex),this.ey.SelfAdd(_n.ey),this.ez.SelfAdd(_n.ez),this}Solve33(_n,r_,p_,b_){let d_=this.ex.x,B_=this.ex.y,T_=this.ex.z,E_=this.ey.x,Y_=this.ey.y,H_=this.ey.z,U_=this.ez.x,$_=this.ez.y,a2=this.ez.z,g2=d_*(Y_*a2-H_*$_)+B_*(H_*U_-E_*a2)+T_*(E_*$_-Y_*U_);return g2!==0&&(g2=1/g2),b_.x=g2*(_n*(Y_*a2-H_*$_)+r_*(H_*U_-E_*a2)+p_*(E_*$_-Y_*U_)),b_.y=g2*(d_*(r_*a2-p_*$_)+B_*(p_*U_-_n*a2)+T_*(_n*$_-r_*U_)),b_.z=g2*(d_*(Y_*p_-H_*r_)+B_*(H_*_n-E_*p_)+T_*(E_*r_-Y_*_n)),b_}Solve22(_n,r_,p_){let b_=this.ex.x,d_=this.ey.x,B_=this.ex.y,T_=this.ey.y,E_=b_*T_-d_*B_;return E_!==0&&(E_=1/E_),p_.x=E_*(T_*_n-d_*r_),p_.y=E_*(b_*r_-B_*_n),p_}GetInverse22(_n){let r_=this.ex.x,p_=this.ey.x,b_=this.ex.y,d_=this.ey.y,B_=r_*d_-p_*b_;B_!==0&&(B_=1/B_),_n.ex.x=B_*d_,_n.ey.x=-B_*p_,_n.ex.z=0,_n.ex.y=-B_*b_,_n.ey.y=B_*r_,_n.ey.z=0,_n.ez.x=0,_n.ez.y=0,_n.ez.z=0}GetSymInverse33(_n){let r_=oA.DotV3V3(this.ex,oA.CrossV3V3(this.ey,this.ez,oA.s_t0));r_!==0&&(r_=1/r_);let p_=this.ex.x,b_=this.ey.x,d_=this.ez.x,B_=this.ey.y,T_=this.ez.y,E_=this.ez.z;_n.ex.x=r_*(B_*E_-T_*T_),_n.ex.y=r_*(d_*T_-b_*E_),_n.ex.z=r_*(b_*T_-d_*B_),_n.ey.x=_n.ex.y,_n.ey.y=r_*(p_*E_-d_*d_),_n.ey.z=r_*(d_*b_-p_*T_),_n.ez.x=_n.ex.z,_n.ez.y=_n.ey.z,_n.ez.z=r_*(p_*B_-b_*b_)}static MulM33V3(_n,r_,p_){let b_=r_.x,d_=r_.y,B_=r_.z;return p_.x=_n.ex.x*b_+_n.ey.x*d_+_n.ez.x*B_,p_.y=_n.ex.y*b_+_n.ey.y*d_+_n.ez.y*B_,p_.z=_n.ex.z*b_+_n.ey.z*d_+_n.ez.z*B_,p_}static MulM33XYZ(_n,r_,p_,b_,d_){return d_.x=_n.ex.x*r_+_n.ey.x*p_+_n.ez.x*b_,d_.y=_n.ex.y*r_+_n.ey.y*p_+_n.ez.y*b_,d_.z=_n.ex.z*r_+_n.ey.z*p_+_n.ez.z*b_,d_}static MulM33V2(_n,r_,p_){let b_=r_.x,d_=r_.y;return p_.x=_n.ex.x*b_+_n.ey.x*d_,p_.y=_n.ex.y*b_+_n.ey.y*d_,p_}static MulM33XY(_n,r_,p_,b_){return b_.x=_n.ex.x*r_+_n.ey.x*p_,b_.y=_n.ex.y*r_+_n.ey.y*p_,b_}}vS.IDENTITY=new vS;class K2{constructor(_n=0){this.s=0,this.c=1,_n&&(this.s=Math.sin(_n),this.c=Math.cos(_n))}Clone(){return new K2().Copy(this)}Copy(_n){return this.s=_n.s,this.c=_n.c,this}SetAngle(_n){return this.s=Math.sin(_n),this.c=Math.cos(_n),this}SetIdentity(){return this.s=0,this.c=1,this}GetAngle(){return Math.atan2(this.s,this.c)}GetXAxis(_n){return _n.x=this.c,_n.y=this.s,_n}GetYAxis(_n){return _n.x=-this.s,_n.y=this.c,_n}static MulRR(_n,r_,p_){let b_=_n.c,d_=_n.s,B_=r_.c,T_=r_.s;return p_.s=d_*B_+b_*T_,p_.c=b_*B_-d_*T_,p_}static MulTRR(_n,r_,p_){let b_=_n.c,d_=_n.s,B_=r_.c,T_=r_.s;return p_.s=b_*T_-d_*B_,p_.c=b_*B_+d_*T_,p_}static MulRV(_n,r_,p_){let b_=_n.c,d_=_n.s,B_=r_.x,T_=r_.y;return p_.x=b_*B_-d_*T_,p_.y=d_*B_+b_*T_,p_}static MulTRV(_n,r_,p_){let b_=_n.c,d_=_n.s,B_=r_.x,T_=r_.y;return p_.x=b_*B_+d_*T_,p_.y=-d_*B_+b_*T_,p_}}K2.IDENTITY=new K2;class o0{constructor(){this.p=new a_,this.q=new K2}Clone(){return new o0().Copy(this)}Copy(_n){return this.p.Copy(_n.p),this.q.Copy(_n.q),this}SetIdentity(){return this.p.SetZero(),this.q.SetIdentity(),this}SetPositionRotation(_n,r_){return this.p.Copy(_n),this.q.Copy(r_),this}SetPositionAngle(_n,r_){return this.p.Copy(_n),this.q.SetAngle(r_),this}SetPosition(_n){return this.p.Copy(_n),this}SetPositionXY(_n,r_){return this.p.Set(_n,r_),this}SetRotation(_n){return this.q.Copy(_n),this}SetRotationAngle(_n){return this.q.SetAngle(_n),this}GetPosition(){return this.p}GetRotation(){return this.q}GetRotationAngle(){return this.q.GetAngle()}GetAngle(){return this.q.GetAngle()}static MulXV(_n,r_,p_){let b_=_n.q.c,d_=_n.q.s,B_=r_.x,T_=r_.y;return p_.x=b_*B_-d_*T_+_n.p.x,p_.y=d_*B_+b_*T_+_n.p.y,p_}static MulTXV(_n,r_,p_){let b_=_n.q.c,d_=_n.q.s,B_=r_.x-_n.p.x,T_=r_.y-_n.p.y;return p_.x=b_*B_+d_*T_,p_.y=-d_*B_+b_*T_,p_}static MulXX(_n,r_,p_){return K2.MulRR(_n.q,r_.q,p_.q),a_.AddVV(K2.MulRV(_n.q,r_.p,p_.p),_n.p,p_.p),p_}static MulTXX(_n,r_,p_){return K2.MulTRR(_n.q,r_.q,p_.q),K2.MulTRV(_n.q,a_.SubVV(r_.p,_n.p,p_.p),p_.p),p_}}o0.IDENTITY=new o0;class rS{constructor(){this.localCenter=new a_,this.c0=new a_,this.c=new a_,this.a0=0,this.a=0,this.alpha0=0}Clone(){return new rS().Copy(this)}Copy(_n){return this.localCenter.Copy(_n.localCenter),this.c0.Copy(_n.c0),this.c.Copy(_n.c),this.a0=_n.a0,this.a=_n.a,this.alpha0=_n.alpha0,this}GetTransform(_n,r_){let p_=1-r_;_n.p.x=p_*this.c0.x+r_*this.c.x,_n.p.y=p_*this.c0.y+r_*this.c.y;let b_=p_*this.a0+r_*this.a;return _n.q.SetAngle(b_),_n.p.SelfSub(K2.MulRV(_n.q,this.localCenter,a_.s_t0)),_n}Advance(_n){let r_=(_n-this.alpha0)/(1-this.alpha0),p_=1-r_;this.c0.x=p_*this.c0.x+r_*this.c.x,this.c0.y=p_*this.c0.y+r_*this.c.y,this.a0=p_*this.a0+r_*this.a,this.alpha0=_n}Normalize(){let _n=k0*Math.floor(this.a0/k0);this.a0-=_n,this.a-=_n}}class iy{constructor(..._n){if(_n[0]instanceof Float32Array){if(_n[0].length!==4)throw new Error;this.data=_n[0]}else{let r_=typeof _n[0]=="number"?_n[0]:.5,p_=typeof _n[1]=="number"?_n[1]:.5,b_=typeof _n[2]=="number"?_n[2]:.5,d_=typeof _n[3]=="number"?_n[3]:1;this.data=new Float32Array([r_,p_,b_,d_])}}get r(){return this.data[0]}set r(_n){this.data[0]=_n}get g(){return this.data[1]}set g(_n){this.data[1]=_n}get b(){return this.data[2]}set b(_n){this.data[2]=_n}get a(){return this.data[3]}set a(_n){this.data[3]=_n}Clone(){return new iy().Copy(this)}Copy(_n){return this.r=_n.r,this.g=_n.g,this.b=_n.b,this.a=_n.a,this}IsEqual(_n){return this.r===_n.r&&this.g===_n.g&&this.b===_n.b&&this.a===_n.a}IsZero(){return this.r===0&&this.g===0&&this.b===0&&this.a===0}Set(_n,r_,p_,b_=this.a){this.SetRGBA(_n,r_,p_,b_)}SetByteRGB(_n,r_,p_){return this.r=_n/255,this.g=r_/255,this.b=p_/255,this}SetByteRGBA(_n,r_,p_,b_){return this.r=_n/255,this.g=r_/255,this.b=p_/255,this.a=b_/255,this}SetRGB(_n,r_,p_){return this.r=_n,this.g=r_,this.b=p_,this}SetRGBA(_n,r_,p_,b_){return this.r=_n,this.g=r_,this.b=p_,this.a=b_,this}SelfAdd(_n){return this.r+=_n.r,this.g+=_n.g,this.b+=_n.b,this.a+=_n.a,this}Add(_n,r_){return r_.r=this.r+_n.r,r_.g=this.g+_n.g,r_.b=this.b+_n.b,r_.a=this.a+_n.a,r_}SelfSub(_n){return this.r-=_n.r,this.g-=_n.g,this.b-=_n.b,this.a-=_n.a,this}Sub(_n,r_){return r_.r=this.r-_n.r,r_.g=this.g-_n.g,r_.b=this.b-_n.b,r_.a=this.a-_n.a,r_}SelfMul(_n){return this.r*=_n,this.g*=_n,this.b*=_n,this.a*=_n,this}Mul(_n,r_){return r_.r=this.r*_n,r_.g=this.g*_n,r_.b=this.b*_n,r_.a=this.a*_n,r_}Mix(_n,r_){iy.MixColors(this,_n,r_)}static MixColors(_n,r_,p_){let b_=p_*(r_.r-_n.r),d_=p_*(r_.g-_n.g),B_=p_*(r_.b-_n.b),T_=p_*(r_.a-_n.a);_n.r+=b_,_n.g+=d_,_n.b+=B_,_n.a+=T_,r_.r-=b_,r_.g-=d_,r_.b-=B_,r_.a-=T_}MakeStyleString(_n=this.a){return iy.MakeStyleString(this.r,this.g,this.b,_n)}static MakeStyleString(_n,r_,p_,b_=1){return _n*=255,r_*=255,p_*=255,b_<1?`rgba(${_n},${r_},${p_},${b_})`:`rgb(${_n},${r_},${p_})`}}iy.ZERO=new iy(0,0,0,0),iy.RED=new iy(1,0,0),iy.GREEN=new iy(0,1,0),iy.BLUE=new iy(0,0,1),function(i2){i2[i2.e_none=0]="e_none",i2[i2.e_shapeBit=1]="e_shapeBit",i2[i2.e_jointBit=2]="e_jointBit",i2[i2.e_aabbBit=4]="e_aabbBit",i2[i2.e_pairBit=8]="e_pairBit",i2[i2.e_centerOfMassBit=16]="e_centerOfMassBit",i2[i2.e_particleBit=32]="e_particleBit",i2[i2.e_controllerBit=64]="e_controllerBit",i2[i2.e_all=63]="e_all"}(x.b2DrawFlags||(x.b2DrawFlags={}));class Y2{constructor(){this.m_drawFlags=0}SetFlags(_n){this.m_drawFlags=_n}GetFlags(){return this.m_drawFlags}AppendFlags(_n){this.m_drawFlags|=_n}ClearFlags(_n){this.m_drawFlags&=~_n}}class NC{constructor(){this.m_start=Date.now()}Reset(){return this.m_start=Date.now(),this}GetMilliseconds(){return Date.now()-this.m_start}}class JV{constructor(){this.m_count=0,this.m_min_count=0,this.m_max_count=0}GetCount(){return this.m_count}GetMinCount(){return this.m_min_count}GetMaxCount(){return this.m_max_count}ResetCount(){let _n=this.m_count;return this.m_count=0,_n}ResetMinCount(){this.m_min_count=0}ResetMaxCount(){this.m_max_count=0}Increment(){this.m_count++,this.m_max_count<this.m_count&&(this.m_max_count=this.m_count)}Decrement(){this.m_count--,this.m_min_count>this.m_count&&(this.m_min_count=this.m_count)}}class R0{constructor(_n){this.m_stack=[],this.m_count=0,this.m_stack=U2(_n,r_=>null),this.m_count=0}Reset(){return this.m_count=0,this}Push(_n){this.m_stack[this.m_count]=_n,this.m_count++}Pop(){this.m_count--;let _n=this.m_stack[this.m_count];if(this.m_stack[this.m_count]=null,_n===null)throw new Error;return _n}GetCount(){return this.m_count}}class IV{}class OP{}class OC{constructor(){this.m_buffer=a_.MakeArray(2),this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0}Copy(_n){return _n.m_vertices===_n.m_buffer?(this.m_vertices=this.m_buffer,this.m_buffer[0].Copy(_n.m_buffer[0]),this.m_buffer[1].Copy(_n.m_buffer[1])):this.m_vertices=_n.m_vertices,this.m_count=_n.m_count,this.m_radius=_n.m_radius,this}Reset(){return this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0,this}SetShape(_n,r_){_n.SetupDistanceProxy(this,r_)}SetVerticesRadius(_n,r_,p_){this.m_vertices=_n,this.m_count=r_,this.m_radius=p_}GetSupport(_n){let r_=0,p_=a_.DotVV(this.m_vertices[0],_n);for(let b_=1;b_<this.m_count;++b_){let d_=a_.DotVV(this.m_vertices[b_],_n);d_>p_&&(r_=b_,p_=d_)}return r_}GetSupportVertex(_n){let r_=0,p_=a_.DotVV(this.m_vertices[0],_n);for(let b_=1;b_<this.m_count;++b_){let d_=a_.DotVV(this.m_vertices[b_],_n);d_>p_&&(r_=b_,p_=d_)}return this.m_vertices[r_]}GetVertexCount(){return this.m_count}GetVertex(_n){return this.m_vertices[_n]}}class cP{constructor(){this.metric=0,this.count=0,this.indexA=[0,0,0],this.indexB=[0,0,0]}Reset(){return this.metric=0,this.count=0,this}}class HS{constructor(){this.proxyA=new OC,this.proxyB=new OC,this.transformA=new o0,this.transformB=new o0,this.useRadii=!1}Reset(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this}}class LB{constructor(){this.pointA=new a_,this.pointB=new a_,this.distance=0,this.iterations=0}Reset(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this}}class TV{constructor(){this.proxyA=new OC,this.proxyB=new OC,this.transformA=new o0,this.transformB=new o0,this.translationB=new a_}}class RV{constructor(){this.point=new a_,this.normal=new a_,this.lambda=0,this.iterations=0}}x.b2_gjkCalls=0,x.b2_gjkIters=0,x.b2_gjkMaxIters=0;function FV(){x.b2_gjkCalls=0,x.b2_gjkIters=0,x.b2_gjkMaxIters=0}class qB{constructor(){this.wA=new a_,this.wB=new a_,this.w=new a_,this.a=0,this.indexA=0,this.indexB=0}Copy(_n){return this.wA.Copy(_n.wA),this.wB.Copy(_n.wB),this.w.Copy(_n.w),this.a=_n.a,this.indexA=_n.indexA,this.indexB=_n.indexB,this}}class AS{constructor(){this.m_v1=new qB,this.m_v2=new qB,this.m_v3=new qB,this.m_vertices=[],this.m_count=0,this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3}ReadCache(_n,r_,p_,b_,d_){this.m_count=_n.count;let B_=this.m_vertices;for(let T_=0;T_<this.m_count;++T_){let E_=B_[T_];E_.indexA=_n.indexA[T_],E_.indexB=_n.indexB[T_];let Y_=r_.GetVertex(E_.indexA),H_=b_.GetVertex(E_.indexB);o0.MulXV(p_,Y_,E_.wA),o0.MulXV(d_,H_,E_.wB),a_.SubVV(E_.wB,E_.wA,E_.w),E_.a=0}if(this.m_count>1){let T_=_n.metric,E_=this.GetMetric();(E_<.5*T_||2*T_<E_||E_<_r)&&(this.m_count=0)}if(this.m_count===0){let T_=B_[0];T_.indexA=0,T_.indexB=0;let E_=r_.GetVertex(0),Y_=b_.GetVertex(0);o0.MulXV(p_,E_,T_.wA),o0.MulXV(d_,Y_,T_.wB),a_.SubVV(T_.wB,T_.wA,T_.w),T_.a=1,this.m_count=1}}WriteCache(_n){_n.metric=this.GetMetric(),_n.count=this.m_count;let r_=this.m_vertices;for(let p_=0;p_<this.m_count;++p_)_n.indexA[p_]=r_[p_].indexA,_n.indexB[p_]=r_[p_].indexB}GetSearchDirection(_n){switch(this.m_count){case 1:return a_.NegV(this.m_v1.w,_n);case 2:{let r_=a_.SubVV(this.m_v2.w,this.m_v1.w,_n);return a_.CrossVV(r_,a_.NegV(this.m_v1.w,a_.s_t0))>0?a_.CrossOneV(r_,_n):a_.CrossVOne(r_,_n)}default:return _n.SetZero()}}GetClosestPoint(_n){switch(this.m_count){case 0:return _n.SetZero();case 1:return _n.Copy(this.m_v1.w);case 2:return _n.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:return _n.SetZero();default:return _n.SetZero()}}GetWitnessPoints(_n,r_){switch(this.m_count){case 0:break;case 1:_n.Copy(this.m_v1.wA),r_.Copy(this.m_v1.wB);break;case 2:_n.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,_n.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,r_.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,r_.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:r_.x=_n.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,r_.y=_n.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:break}}GetMetric(){switch(this.m_count){case 0:return 0;case 1:return 0;case 2:return a_.DistanceVV(this.m_v1.w,this.m_v2.w);case 3:return a_.CrossVV(a_.SubVV(this.m_v2.w,this.m_v1.w,a_.s_t0),a_.SubVV(this.m_v3.w,this.m_v1.w,a_.s_t1));default:return 0}}Solve2(){let _n=this.m_v1.w,r_=this.m_v2.w,p_=a_.SubVV(r_,_n,AS.s_e12),b_=-a_.DotVV(_n,p_);if(b_<=0){this.m_v1.a=1,this.m_count=1;return}let d_=a_.DotVV(r_,p_);if(d_<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2);return}let B_=1/(d_+b_);this.m_v1.a=d_*B_,this.m_v2.a=b_*B_,this.m_count=2}Solve3(){let _n=this.m_v1.w,r_=this.m_v2.w,p_=this.m_v3.w,b_=a_.SubVV(r_,_n,AS.s_e12),d_=a_.DotVV(_n,b_),T_=a_.DotVV(r_,b_),E_=-d_,Y_=a_.SubVV(p_,_n,AS.s_e13),H_=a_.DotVV(_n,Y_),$_=a_.DotVV(p_,Y_),a2=-H_,g2=a_.SubVV(p_,r_,AS.s_e23),M2=a_.DotVV(r_,g2),W2=a_.DotVV(p_,g2),z2=-M2,Q2=a_.CrossVV(b_,Y_),$2=Q2*a_.CrossVV(r_,p_),t0=Q2*a_.CrossVV(p_,_n),p0=Q2*a_.CrossVV(_n,r_);if(E_<=0&&a2<=0){this.m_v1.a=1,this.m_count=1;return}if(T_>0&&E_>0&&p0<=0){let g0=1/(T_+E_);this.m_v1.a=T_*g0,this.m_v2.a=E_*g0,this.m_count=2;return}if($_>0&&a2>0&&t0<=0){let g0=1/($_+a2);this.m_v1.a=$_*g0,this.m_v3.a=a2*g0,this.m_count=2,this.m_v2.Copy(this.m_v3);return}if(T_<=0&&z2<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2);return}if($_<=0&&W2<=0){this.m_v3.a=1,this.m_count=1,this.m_v1.Copy(this.m_v3);return}if(W2>0&&z2>0&&$2<=0){let g0=1/(W2+z2);this.m_v2.a=W2*g0,this.m_v3.a=z2*g0,this.m_count=2,this.m_v1.Copy(this.m_v3);return}let _0=1/($2+t0+p0);this.m_v1.a=$2*_0,this.m_v2.a=t0*_0,this.m_v3.a=p0*_0,this.m_count=3}}AS.s_e12=new a_,AS.s_e13=new a_,AS.s_e23=new a_;let mP=new AS,UP=[0,0,0],XP=[0,0,0],bP=new a_,sI=new a_,_I=new a_,aI=new a_,pI=new a_;function k4(i2,_n,r_){++x.b2_gjkCalls;let p_=r_.proxyA,b_=r_.proxyB,d_=r_.transformA,B_=r_.transformB,T_=mP;T_.ReadCache(_n,p_,d_,b_,B_);let E_=T_.m_vertices,Y_=20,H_=UP,U_=XP,$_=0,a2=0;for(;a2<Y_;){$_=T_.m_count;for(let W2=0;W2<$_;++W2)H_[W2]=E_[W2].indexA,U_[W2]=E_[W2].indexB;switch(T_.m_count){case 1:break;case 2:T_.Solve2();break;case 3:T_.Solve3();break;default:break}if(T_.m_count===3)break;let g2=T_.GetSearchDirection(sI);if(g2.LengthSquared()<l)break;let M2=E_[T_.m_count];M2.indexA=p_.GetSupport(K2.MulTRV(d_.q,a_.NegV(g2,a_.s_t0),aI)),o0.MulXV(d_,p_.GetVertex(M2.indexA),M2.wA),M2.indexB=b_.GetSupport(K2.MulTRV(B_.q,g2,pI)),o0.MulXV(B_,b_.GetVertex(M2.indexB),M2.wB),a_.SubVV(M2.wB,M2.wA,M2.w),++a2,++x.b2_gjkIters;let R2=!1;for(let W2=0;W2<$_;++W2)if(M2.indexA===H_[W2]&&M2.indexB===U_[W2]){R2=!0;break}if(R2)break;++T_.m_count}if(x.b2_gjkMaxIters=T0(x.b2_gjkMaxIters,a2),T_.GetWitnessPoints(i2.pointA,i2.pointB),i2.distance=a_.DistanceVV(i2.pointA,i2.pointB),i2.iterations=a2,T_.WriteCache(_n),r_.useRadii){let g2=p_.m_radius,M2=b_.m_radius;if(i2.distance>g2+M2&&i2.distance>_r){i2.distance-=g2+M2;let R2=a_.SubVV(i2.pointB,i2.pointA,_I);R2.Normalize(),i2.pointA.SelfMulAdd(g2,R2),i2.pointB.SelfMulSub(M2,R2)}else{let R2=a_.MidVV(i2.pointA,i2.pointB,bP);i2.pointA.Copy(R2),i2.pointB.Copy(R2),i2.distance=0}}}let E6=new a_,k6=new AS,K0=new a_,f0=new a_,lI=new a_,j6=new a_,_b=new a_,cI=new a_;function z6(i2,_n){i2.iterations=0,i2.lambda=1,i2.normal.SetZero(),i2.point.SetZero();let r_=_n.proxyA,p_=_n.proxyB,b_=T0(r_.m_radius,s_),d_=T0(p_.m_radius,s_),B_=b_+d_,T_=_n.transformA,E_=_n.transformB,Y_=_n.translationB,H_=E6.Set(0,0),U_=0,$_=k6;$_.m_count=0;let a2=$_.m_vertices,g2=r_.GetSupport(K2.MulTRV(T_.q,a_.NegV(Y_,a_.s_t1),a_.s_t0)),M2=o0.MulXV(T_,r_.GetVertex(g2),K0),R2=p_.GetSupport(K2.MulTRV(E_.q,Y_,a_.s_t0)),W2=o0.MulXV(E_,p_.GetVertex(R2),f0),z2=a_.SubVV(M2,W2,lI),Q2=T0(s_,B_-s_),$2=.5*ws,t0=20,p0=0;for(;p0<t0&&P0(z2.Length()-Q2)>$2;){i2.iterations+=1,g2=r_.GetSupport(K2.MulTRV(T_.q,a_.NegV(z2,a_.s_t1),a_.s_t0)),M2=o0.MulXV(T_,r_.GetVertex(g2),K0),R2=p_.GetSupport(K2.MulTRV(E_.q,z2,a_.s_t0)),W2=o0.MulXV(E_,p_.GetVertex(R2),f0);let b0=a_.SubVV(M2,W2,j6);z2.Normalize();let D0=a_.DotVV(z2,b0),E0=a_.DotVV(z2,Y_);if(D0-Q2>U_*E0){if(E0<=0||(U_=(D0-Q2)/E0,U_>1))return!1;H_.Copy(z2).SelfNeg(),$_.m_count=0}let x0=a2[$_.m_count];switch(x0.indexA=R2,x0.wA.Copy(W2).SelfMulAdd(U_,Y_),x0.indexB=g2,x0.wB.Copy(M2),x0.w.Copy(x0.wB).SelfSub(x0.wA),x0.a=1,$_.m_count+=1,$_.m_count){case 1:break;case 2:$_.Solve2();break;case 3:$_.Solve3();break;default:}if($_.m_count===3)return!1;$_.GetClosestPoint(z2),++p0}let _0=_b,g0=cI;return $_.GetWitnessPoints(_0,g0),z2.LengthSquared()>0&&(H_.Copy(z2).SelfNeg(),H_.Normalize()),i2.normal.Copy(H_),i2.lambda=U_,i2.iterations=p0,!0}(function(i2){i2[i2.e_vertex=0]="e_vertex",i2[i2.e_face=1]="e_face"})(x.b2ContactFeatureType||(x.b2ContactFeatureType={}));class W6{constructor(){this._key=0,this._key_invalid=!1,this._indexA=0,this._indexB=0,this._typeA=0,this._typeB=0}get key(){return this._key_invalid&&(this._key_invalid=!1,this._key=this._indexA|this._indexB<<8|this._typeA<<16|this._typeB<<24),this._key}set key(_n){this._key=_n,this._key_invalid=!1,this._indexA=this._key&255,this._indexB=this._key>>8&255,this._typeA=this._key>>16&255,this._typeB=this._key>>24&255}get indexA(){return this._indexA}set indexA(_n){this._indexA=_n,this._key_invalid=!0}get indexB(){return this._indexB}set indexB(_n){this._indexB=_n,this._key_invalid=!0}get typeA(){return this._typeA}set typeA(_n){this._typeA=_n,this._key_invalid=!0}get typeB(){return this._typeB}set typeB(_n){this._typeB=_n,this._key_invalid=!0}}class uP{constructor(){this.cf=new W6}Copy(_n){return this.key=_n.key,this}Clone(){return new uP().Copy(this)}get key(){return this.cf.key}set key(_n){this.cf.key=_n}}class LV{constructor(){this.localPoint=new a_,this.normalImpulse=0,this.tangentImpulse=0,this.id=new uP}static MakeArray(_n){return U2(_n,r_=>new LV)}Reset(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0}Copy(_n){return this.localPoint.Copy(_n.localPoint),this.normalImpulse=_n.normalImpulse,this.tangentImpulse=_n.tangentImpulse,this.id.Copy(_n.id),this}}(function(i2){i2[i2.e_unknown=-1]="e_unknown",i2[i2.e_circles=0]="e_circles",i2[i2.e_faceA=1]="e_faceA",i2[i2.e_faceB=2]="e_faceB"})(x.b2ManifoldType||(x.b2ManifoldType={}));class YP{constructor(){this.points=LV.MakeArray(o_),this.localNormal=new a_,this.localPoint=new a_,this.type=x.b2ManifoldType.e_unknown,this.pointCount=0}Reset(){for(let _n=0;_n<o_;++_n)this.points[_n].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=x.b2ManifoldType.e_unknown,this.pointCount=0}Copy(_n){this.pointCount=_n.pointCount;for(let r_=0;r_<o_;++r_)this.points[r_].Copy(_n.points[r_]);return this.localNormal.Copy(_n.localNormal),this.localPoint.Copy(_n.localPoint),this.type=_n.type,this}Clone(){return new YP().Copy(this)}}class BA{constructor(){this.normal=new a_,this.points=a_.MakeArray(o_),this.separations=h0(o_)}Initialize(_n,r_,p_,b_,d_){if(_n.pointCount!==0)switch(_n.type){case x.b2ManifoldType.e_circles:{this.normal.Set(1,0);let B_=o0.MulXV(r_,_n.localPoint,BA.Initialize_s_pointA),T_=o0.MulXV(b_,_n.points[0].localPoint,BA.Initialize_s_pointB);a_.DistanceSquaredVV(B_,T_)>l&&a_.SubVV(T_,B_,this.normal).SelfNormalize();let E_=a_.AddVMulSV(B_,p_,this.normal,BA.Initialize_s_cA),Y_=a_.SubVMulSV(T_,d_,this.normal,BA.Initialize_s_cB);a_.MidVV(E_,Y_,this.points[0]),this.separations[0]=a_.DotVV(a_.SubVV(Y_,E_,a_.s_t0),this.normal);break}case x.b2ManifoldType.e_faceA:{K2.MulRV(r_.q,_n.localNormal,this.normal);let B_=o0.MulXV(r_,_n.localPoint,BA.Initialize_s_planePoint);for(let T_=0;T_<_n.pointCount;++T_){let E_=o0.MulXV(b_,_n.points[T_].localPoint,BA.Initialize_s_clipPoint),Y_=p_-a_.DotVV(a_.SubVV(E_,B_,a_.s_t0),this.normal),H_=a_.AddVMulSV(E_,Y_,this.normal,BA.Initialize_s_cA),U_=a_.SubVMulSV(E_,d_,this.normal,BA.Initialize_s_cB);a_.MidVV(H_,U_,this.points[T_]),this.separations[T_]=a_.DotVV(a_.SubVV(U_,H_,a_.s_t0),this.normal)}break}case x.b2ManifoldType.e_faceB:{K2.MulRV(b_.q,_n.localNormal,this.normal);let B_=o0.MulXV(b_,_n.localPoint,BA.Initialize_s_planePoint);for(let T_=0;T_<_n.pointCount;++T_){let E_=o0.MulXV(r_,_n.points[T_].localPoint,BA.Initialize_s_clipPoint),Y_=d_-a_.DotVV(a_.SubVV(E_,B_,a_.s_t0),this.normal),H_=a_.AddVMulSV(E_,Y_,this.normal,BA.Initialize_s_cB),U_=a_.SubVMulSV(E_,p_,this.normal,BA.Initialize_s_cA);a_.MidVV(U_,H_,this.points[T_]),this.separations[T_]=a_.DotVV(a_.SubVV(U_,H_,a_.s_t0),this.normal)}this.normal.SelfNeg();break}}}}BA.Initialize_s_pointA=new a_,BA.Initialize_s_pointB=new a_,BA.Initialize_s_cA=new a_,BA.Initialize_s_cB=new a_,BA.Initialize_s_planePoint=new a_,BA.Initialize_s_clipPoint=new a_,function(i2){i2[i2.b2_nullState=0]="b2_nullState",i2[i2.b2_addState=1]="b2_addState",i2[i2.b2_persistState=2]="b2_persistState",i2[i2.b2_removeState=3]="b2_removeState"}(x.b2PointState||(x.b2PointState={}));function mI(i2,_n,r_,p_){let b_;for(b_=0;b_<r_.pointCount;++b_){let B_=r_.points[b_].id.key;i2[b_]=x.b2PointState.b2_removeState;for(let T_=0,E_=p_.pointCount;T_<E_;++T_)if(p_.points[T_].id.key===B_){i2[b_]=x.b2PointState.b2_persistState;break}}for(;b_<o_;++b_)i2[b_]=x.b2PointState.b2_nullState;for(b_=0;b_<p_.pointCount;++b_){let B_=p_.points[b_].id.key;_n[b_]=x.b2PointState.b2_addState;for(let T_=0,E_=r_.pointCount;T_<E_;++T_)if(r_.points[T_].id.key===B_){_n[b_]=x.b2PointState.b2_persistState;break}}for(;b_<o_;++b_)_n[b_]=x.b2PointState.b2_nullState}class fB{constructor(){this.v=new a_,this.id=new uP}static MakeArray(_n){return U2(_n,r_=>new fB)}Copy(_n){return this.v.Copy(_n.v),this.id.Copy(_n.id),this}}class qV{constructor(){this.p1=new a_,this.p2=new a_,this.maxFraction=1}Copy(_n){return this.p1.Copy(_n.p1),this.p2.Copy(_n.p2),this.maxFraction=_n.maxFraction,this}}class j4{constructor(){this.normal=new a_,this.fraction=0}Copy(_n){return this.normal.Copy(_n.normal),this.fraction=_n.fraction,this}}class UA{constructor(){this.lowerBound=new a_,this.upperBound=new a_,this.m_cache_center=new a_,this.m_cache_extent=new a_}Copy(_n){return this.lowerBound.Copy(_n.lowerBound),this.upperBound.Copy(_n.upperBound),this}IsValid(){return!(!this.lowerBound.IsValid()||!this.upperBound.IsValid()||this.upperBound.x<this.lowerBound.x||this.upperBound.y<this.lowerBound.y)}GetCenter(){return a_.MidVV(this.lowerBound,this.upperBound,this.m_cache_center)}GetExtents(){return a_.ExtVV(this.lowerBound,this.upperBound,this.m_cache_extent)}GetPerimeter(){let _n=this.upperBound.x-this.lowerBound.x,r_=this.upperBound.y-this.lowerBound.y;return 2*(_n+r_)}Combine1(_n){return this.lowerBound.x=L0(this.lowerBound.x,_n.lowerBound.x),this.lowerBound.y=L0(this.lowerBound.y,_n.lowerBound.y),this.upperBound.x=T0(this.upperBound.x,_n.upperBound.x),this.upperBound.y=T0(this.upperBound.y,_n.upperBound.y),this}Combine2(_n,r_){return this.lowerBound.x=L0(_n.lowerBound.x,r_.lowerBound.x),this.lowerBound.y=L0(_n.lowerBound.y,r_.lowerBound.y),this.upperBound.x=T0(_n.upperBound.x,r_.upperBound.x),this.upperBound.y=T0(_n.upperBound.y,r_.upperBound.y),this}static Combine(_n,r_,p_){return p_.Combine2(_n,r_),p_}Contains(_n){return!(this.lowerBound.x<=_n.lowerBound.x||this.lowerBound.y<=_n.lowerBound.y||_n.upperBound.x<=this.upperBound.x||_n.upperBound.y<=this.upperBound.y)}RayCast(_n,r_){let p_=-_o,b_=_o,d_=r_.p1.x,B_=r_.p1.y,T_=r_.p2.x-r_.p1.x,E_=r_.p2.y-r_.p1.y,Y_=P0(T_),H_=P0(E_),U_=_n.normal;if(Y_<_r){if(d_<this.lowerBound.x||this.upperBound.x<d_)return!1}else{let $_=1/T_,a2=(this.lowerBound.x-d_)*$_,g2=(this.upperBound.x-d_)*$_,M2=-1;if(a2>g2){let R2=a2;a2=g2,g2=R2,M2=1}if(a2>p_&&(U_.x=M2,U_.y=0,p_=a2),b_=L0(b_,g2),p_>b_)return!1}if(H_<_r){if(B_<this.lowerBound.y||this.upperBound.y<B_)return!1}else{let $_=1/E_,a2=(this.lowerBound.y-B_)*$_,g2=(this.upperBound.y-B_)*$_,M2=-1;if(a2>g2){let R2=a2;a2=g2,g2=R2,M2=1}if(a2>p_&&(U_.x=0,U_.y=M2,p_=a2),b_=L0(b_,g2),p_>b_)return!1}return p_<0||r_.maxFraction<p_?!1:(_n.fraction=p_,!0)}TestContain(_n){return!(_n.x<this.lowerBound.x||this.upperBound.x<_n.x||_n.y<this.lowerBound.y||this.upperBound.y<_n.y)}TestOverlap(_n){return!(this.upperBound.x<_n.lowerBound.x||this.upperBound.y<_n.lowerBound.y||_n.upperBound.x<this.lowerBound.x||_n.upperBound.y<this.lowerBound.y)}}function z4(i2,_n){return!(i2.upperBound.x<_n.lowerBound.x||i2.upperBound.y<_n.lowerBound.y||_n.upperBound.x<i2.lowerBound.x||_n.upperBound.y<i2.lowerBound.y)}function HP(i2,_n,r_,p_,b_){let d_=0,B_=_n[0],T_=_n[1],E_=a_.DotVV(r_,B_.v)-p_,Y_=a_.DotVV(r_,T_.v)-p_;if(E_<=0&&i2[d_++].Copy(B_),Y_<=0&&i2[d_++].Copy(T_),E_*Y_<0){let H_=E_/(E_-Y_),U_=i2[d_].v;U_.x=B_.v.x+H_*(T_.v.x-B_.v.x),U_.y=B_.v.y+H_*(T_.v.y-B_.v.y);let $_=i2[d_].id;$_.cf.indexA=b_,$_.cf.indexB=B_.id.cf.indexB,$_.cf.typeA=x.b2ContactFeatureType.e_vertex,$_.cf.typeB=x.b2ContactFeatureType.e_face,++d_}return d_}let N6=new HS,O6=new cP,U6=new LB;function W4(i2,_n,r_,p_,b_,d_){let B_=N6.Reset();B_.proxyA.SetShape(i2,_n),B_.proxyB.SetShape(r_,p_),B_.transformA.Copy(b_),B_.transformB.Copy(d_),B_.useRadii=!0;let T_=O6.Reset();T_.count=0;let E_=U6.Reset();return k4(E_,T_,B_),E_.distance<10*_r}function MA(i2){if(i2===null)throw new Error;return i2}class tM{constructor(_n=0){this.m_id=0,this.aabb=new UA,this._userData=null,this.parent=null,this.child1=null,this.child2=null,this.height=0,this.m_id=_n}get userData(){if(this._userData===null)throw new Error;return this._userData}set userData(_n){if(this._userData!==null)throw new Error;this._userData=_n}Reset(){this._userData=null}IsLeaf(){return this.child1===null}}class d1{constructor(){this.m_root=null,this.m_freeList=null,this.m_path=0,this.m_insertionCount=0,this.m_stack=new R0(256)}Query(_n,r_){let p_=this.m_stack.Reset();for(p_.Push(this.m_root);p_.GetCount()>0;){let b_=p_.Pop();if(b_!==null&&b_.aabb.TestOverlap(_n))if(b_.IsLeaf()){if(!r_(b_))return}else p_.Push(b_.child1),p_.Push(b_.child2)}}QueryPoint(_n,r_){let p_=this.m_stack.Reset();for(p_.Push(this.m_root);p_.GetCount()>0;){let b_=p_.Pop();if(b_!==null&&b_.aabb.TestContain(_n))if(b_.IsLeaf()){if(!r_(b_))return}else p_.Push(b_.child1),p_.Push(b_.child2)}}RayCast(_n,r_){let p_=_n.p1,b_=_n.p2,d_=a_.SubVV(b_,p_,d1.s_r);d_.Normalize();let B_=a_.CrossOneV(d_,d1.s_v),T_=a_.AbsV(B_,d1.s_abs_v),E_=_n.maxFraction,Y_=d1.s_segmentAABB,H_=p_.x+E_*(b_.x-p_.x),U_=p_.y+E_*(b_.y-p_.y);Y_.lowerBound.x=L0(p_.x,H_),Y_.lowerBound.y=L0(p_.y,U_),Y_.upperBound.x=T0(p_.x,H_),Y_.upperBound.y=T0(p_.y,U_);let $_=this.m_stack.Reset();for($_.Push(this.m_root);$_.GetCount()>0;){let a2=$_.Pop();if(a2===null||!z4(a2.aabb,Y_))continue;let g2=a2.aabb.GetCenter(),M2=a2.aabb.GetExtents();if(!(P0(a_.DotVV(B_,a_.SubVV(p_,g2,a_.s_t0)))-a_.DotVV(T_,M2)>0))if(a2.IsLeaf()){let W2=d1.s_subInput;W2.p1.Copy(_n.p1),W2.p2.Copy(_n.p2),W2.maxFraction=E_;let z2=r_(W2,a2);if(z2===0)return;z2>0&&(E_=z2,H_=p_.x+E_*(b_.x-p_.x),U_=p_.y+E_*(b_.y-p_.y),Y_.lowerBound.x=L0(p_.x,H_),Y_.lowerBound.y=L0(p_.y,U_),Y_.upperBound.x=T0(p_.x,H_),Y_.upperBound.y=T0(p_.y,U_))}else $_.Push(a2.child1),$_.Push(a2.child2)}}AllocateNode(){if(this.m_freeList!==null){let _n=this.m_freeList;return this.m_freeList=_n.parent,_n.parent=null,_n.child1=null,_n.child2=null,_n.height=0,_n}return new tM(d1.s_node_id++)}FreeNode(_n){_n.parent=this.m_freeList,_n.child1=null,_n.child2=null,_n.height=-1,_n.Reset(),this.m_freeList=_n}CreateProxy(_n,r_){let p_=this.AllocateNode(),b_=_e,d_=_e;return p_.aabb.lowerBound.x=_n.lowerBound.x-b_,p_.aabb.lowerBound.y=_n.lowerBound.y-d_,p_.aabb.upperBound.x=_n.upperBound.x+b_,p_.aabb.upperBound.y=_n.upperBound.y+d_,p_.userData=r_,p_.height=0,this.InsertLeaf(p_),p_}DestroyProxy(_n){this.RemoveLeaf(_n),this.FreeNode(_n)}MoveProxy(_n,r_,p_){if(_n.aabb.Contains(r_))return!1;this.RemoveLeaf(_n);let b_=_e,d_=_e;_n.aabb.lowerBound.x=r_.lowerBound.x-b_,_n.aabb.lowerBound.y=r_.lowerBound.y-d_,_n.aabb.upperBound.x=r_.upperBound.x+b_,_n.aabb.upperBound.y=r_.upperBound.y+d_;let B_=c_*p_.x,T_=c_*p_.y;return B_<0?_n.aabb.lowerBound.x+=B_:_n.aabb.upperBound.x+=B_,T_<0?_n.aabb.lowerBound.y+=T_:_n.aabb.upperBound.y+=T_,this.InsertLeaf(_n),!0}InsertLeaf(_n){if(++this.m_insertionCount,this.m_root===null){this.m_root=_n,this.m_root.parent=null;return}let r_=_n.aabb,p_=this.m_root;for(;!p_.IsLeaf();){let T_=MA(p_.child1),E_=MA(p_.child2),Y_=p_.aabb.GetPerimeter(),H_=d1.s_combinedAABB;H_.Combine2(p_.aabb,r_);let U_=H_.GetPerimeter(),$_=2*U_,a2=2*(U_-Y_),g2,M2=d1.s_aabb,R2,W2;T_.IsLeaf()?(M2.Combine2(r_,T_.aabb),g2=M2.GetPerimeter()+a2):(M2.Combine2(r_,T_.aabb),R2=T_.aabb.GetPerimeter(),W2=M2.GetPerimeter(),g2=W2-R2+a2);let z2;if(E_.IsLeaf()?(M2.Combine2(r_,E_.aabb),z2=M2.GetPerimeter()+a2):(M2.Combine2(r_,E_.aabb),R2=E_.aabb.GetPerimeter(),W2=M2.GetPerimeter(),z2=W2-R2+a2),$_<g2&&$_<z2)break;g2<z2?p_=T_:p_=E_}let b_=p_.parent,d_=this.AllocateNode();d_.parent=b_,d_.aabb.Combine2(r_,p_.aabb),d_.height=p_.height+1,b_!==null?(b_.child1===p_?b_.child1=d_:b_.child2=d_,d_.child1=p_,d_.child2=_n,p_.parent=d_,_n.parent=d_):(d_.child1=p_,d_.child2=_n,p_.parent=d_,_n.parent=d_,this.m_root=d_);let B_=_n.parent;for(;B_!==null;){B_=this.Balance(B_);let T_=MA(B_.child1),E_=MA(B_.child2);B_.height=1+T0(T_.height,E_.height),B_.aabb.Combine2(T_.aabb,E_.aabb),B_=B_.parent}}RemoveLeaf(_n){if(_n===this.m_root){this.m_root=null;return}let r_=MA(_n.parent),p_=r_&&r_.parent,b_=MA(r_.child1===_n?r_.child2:r_.child1);if(p_!==null){p_.child1===r_?p_.child1=b_:p_.child2=b_,b_.parent=p_,this.FreeNode(r_);let d_=p_;for(;d_!==null;){d_=this.Balance(d_);let B_=MA(d_.child1),T_=MA(d_.child2);d_.aabb.Combine2(B_.aabb,T_.aabb),d_.height=1+T0(B_.height,T_.height),d_=d_.parent}}else this.m_root=b_,b_.parent=null,this.FreeNode(r_)}Balance(_n){if(_n.IsLeaf()||_n.height<2)return _n;let r_=MA(_n.child1),p_=MA(_n.child2),b_=p_.height-r_.height;if(b_>1){let d_=MA(p_.child1),B_=MA(p_.child2);return p_.child1=_n,p_.parent=_n.parent,_n.parent=p_,p_.parent!==null?p_.parent.child1===_n?p_.parent.child1=p_:p_.parent.child2=p_:this.m_root=p_,d_.height>B_.height?(p_.child2=d_,_n.child2=B_,B_.parent=_n,_n.aabb.Combine2(r_.aabb,B_.aabb),p_.aabb.Combine2(_n.aabb,d_.aabb),_n.height=1+T0(r_.height,B_.height),p_.height=1+T0(_n.height,d_.height)):(p_.child2=B_,_n.child2=d_,d_.parent=_n,_n.aabb.Combine2(r_.aabb,d_.aabb),p_.aabb.Combine2(_n.aabb,B_.aabb),_n.height=1+T0(r_.height,d_.height),p_.height=1+T0(_n.height,B_.height)),p_}if(b_<-1){let d_=MA(r_.child1),B_=MA(r_.child2);return r_.child1=_n,r_.parent=_n.parent,_n.parent=r_,r_.parent!==null?r_.parent.child1===_n?r_.parent.child1=r_:r_.parent.child2=r_:this.m_root=r_,d_.height>B_.height?(r_.child2=d_,_n.child1=B_,B_.parent=_n,_n.aabb.Combine2(p_.aabb,B_.aabb),r_.aabb.Combine2(_n.aabb,d_.aabb),_n.height=1+T0(p_.height,B_.height),r_.height=1+T0(_n.height,d_.height)):(r_.child2=B_,_n.child1=d_,d_.parent=_n,_n.aabb.Combine2(p_.aabb,d_.aabb),r_.aabb.Combine2(_n.aabb,B_.aabb),_n.height=1+T0(p_.height,d_.height),r_.height=1+T0(_n.height,B_.height)),r_}return _n}GetHeight(){return this.m_root===null?0:this.m_root.height}static GetAreaNode(_n){if(_n===null||_n.IsLeaf())return 0;let r_=_n.aabb.GetPerimeter();return r_+=d1.GetAreaNode(_n.child1),r_+=d1.GetAreaNode(_n.child2),r_}GetAreaRatio(){if(this.m_root===null)return 0;let r_=this.m_root.aabb.GetPerimeter();return d1.GetAreaNode(this.m_root)/r_}static ComputeHeightNode(_n){if(_n===null||_n.IsLeaf())return 0;let r_=d1.ComputeHeightNode(_n.child1),p_=d1.ComputeHeightNode(_n.child2);return 1+T0(r_,p_)}ComputeHeight(){return d1.ComputeHeightNode(this.m_root)}ValidateStructure(_n){if(_n===null||(this.m_root,_n.IsLeaf()))return;let r_=MA(_n.child1),p_=MA(_n.child2);this.ValidateStructure(r_),this.ValidateStructure(p_)}ValidateMetrics(_n){if(_n===null||_n.IsLeaf())return;let r_=MA(_n.child1),p_=MA(_n.child2);d1.s_aabb.Combine2(r_.aabb,p_.aabb),this.ValidateMetrics(r_),this.ValidateMetrics(p_)}Validate(){}static GetMaxBalanceNode(_n,r_){if(_n===null||_n.height<=1)return r_;let p_=MA(_n.child1),b_=MA(_n.child2),d_=P0(b_.height-p_.height);return T0(r_,d_)}GetMaxBalance(){return d1.GetMaxBalanceNode(this.m_root,0)}RebuildBottomUp(){this.Validate()}static ShiftOriginNode(_n,r_){if(_n===null||_n.height<=1)return;let p_=_n.child1,b_=_n.child2;d1.ShiftOriginNode(p_,r_),d1.ShiftOriginNode(b_,r_),_n.aabb.lowerBound.SelfSub(r_),_n.aabb.upperBound.SelfSub(r_)}ShiftOrigin(_n){d1.ShiftOriginNode(this.m_root,_n)}}d1.s_r=new a_,d1.s_v=new a_,d1.s_abs_v=new a_,d1.s_segmentAABB=new UA,d1.s_subInput=new qV,d1.s_combinedAABB=new UA,d1.s_aabb=new UA,d1.s_node_id=0;function X6(i2,_n,r_){let p_=i2[_n];i2[_n]=i2[r_],i2[r_]=p_}function Y6(i2,_n){return i2<_n}function H6(i2,_n=0,r_=i2.length-_n,p_=Y6){let b_=_n,d_=[],B_=0;for(;;){for(;b_+1<r_;r_++){let T_=i2[b_+Math.floor(Math.random()*(r_-b_))];d_[B_++]=r_;for(let E_=b_-1;;){for(;p_(i2[++E_],T_););for(;p_(T_,i2[--r_]););if(E_>=r_)break;X6(i2,E_,r_)}}if(B_===0)break;b_=r_,r_=d_[--B_]}return i2}class eM{constructor(_n,r_){this.proxyA=_n,this.proxyB=r_}}class oM{constructor(){this.m_tree=new d1,this.m_proxyCount=0,this.m_moveCount=0,this.m_moveBuffer=[],this.m_pairCount=0,this.m_pairBuffer=[]}CreateProxy(_n,r_){let p_=this.m_tree.CreateProxy(_n,r_);return++this.m_proxyCount,this.BufferMove(p_),p_}DestroyProxy(_n){this.UnBufferMove(_n),--this.m_proxyCount,this.m_tree.DestroyProxy(_n)}MoveProxy(_n,r_,p_){this.m_tree.MoveProxy(_n,r_,p_)&&this.BufferMove(_n)}TouchProxy(_n){this.BufferMove(_n)}GetProxyCount(){return this.m_proxyCount}UpdatePairs(_n){this.m_pairCount=0;for(let p_=0;p_<this.m_moveCount;++p_){let b_=this.m_moveBuffer[p_];if(b_===null)continue;let d_=b_.aabb;this.m_tree.Query(d_,B_=>{if(B_.m_id===b_.m_id)return!0;let T_,E_;if(B_.m_id<b_.m_id?(T_=B_,E_=b_):(T_=b_,E_=B_),this.m_pairCount===this.m_pairBuffer.length)this.m_pairBuffer[this.m_pairCount]=new eM(T_,E_);else{let Y_=this.m_pairBuffer[this.m_pairCount];Y_.proxyA=T_,Y_.proxyB=E_}return++this.m_pairCount,!0})}this.m_moveCount=0,H6(this.m_pairBuffer,0,this.m_pairCount,iM);let r_=0;for(;r_<this.m_pairCount;){let p_=this.m_pairBuffer[r_],b_=p_.proxyA.userData,d_=p_.proxyB.userData;for(_n(b_,d_),++r_;r_<this.m_pairCount;){let B_=this.m_pairBuffer[r_];if(B_.proxyA.m_id!==p_.proxyA.m_id||B_.proxyB.m_id!==p_.proxyB.m_id)break;++r_}}}Query(_n,r_){this.m_tree.Query(_n,r_)}QueryPoint(_n,r_){this.m_tree.QueryPoint(_n,r_)}RayCast(_n,r_){this.m_tree.RayCast(_n,r_)}GetTreeHeight(){return this.m_tree.GetHeight()}GetTreeBalance(){return this.m_tree.GetMaxBalance()}GetTreeQuality(){return this.m_tree.GetAreaRatio()}ShiftOrigin(_n){this.m_tree.ShiftOrigin(_n)}BufferMove(_n){this.m_moveBuffer[this.m_moveCount]=_n,++this.m_moveCount}UnBufferMove(_n){let r_=this.m_moveBuffer.indexOf(_n);this.m_moveBuffer[r_]=null}}function iM(i2,_n){return i2.proxyA.m_id<_n.proxyA.m_id?!0:i2.proxyA.m_id===_n.proxyA.m_id?i2.proxyB.m_id<_n.proxyB.m_id:!1}x.b2_toiTime=0,x.b2_toiMaxTime=0,x.b2_toiCalls=0,x.b2_toiIters=0,x.b2_toiMaxIters=0,x.b2_toiRootIters=0,x.b2_toiMaxRootIters=0;function Z6(){x.b2_toiTime=0,x.b2_toiMaxTime=0,x.b2_toiCalls=0,x.b2_toiIters=0,x.b2_toiMaxIters=0,x.b2_toiRootIters=0,x.b2_toiMaxRootIters=0}let EV=new o0,kV=new o0,UC=new a_,XC=new a_,hP=new a_,rM=new a_,nM=new a_;class N4{constructor(){this.proxyA=new OC,this.proxyB=new OC,this.sweepA=new rS,this.sweepB=new rS,this.tMax=0}}(function(i2){i2[i2.e_unknown=0]="e_unknown",i2[i2.e_failed=1]="e_failed",i2[i2.e_overlapped=2]="e_overlapped",i2[i2.e_touching=3]="e_touching",i2[i2.e_separated=4]="e_separated"})(x.b2TOIOutputState||(x.b2TOIOutputState={}));class O4{constructor(){this.state=x.b2TOIOutputState.e_unknown,this.t=0}}(function(i2){i2[i2.e_unknown=-1]="e_unknown",i2[i2.e_points=0]="e_points",i2[i2.e_faceA=1]="e_faceA",i2[i2.e_faceB=2]="e_faceB"})(x.b2SeparationFunctionType||(x.b2SeparationFunctionType={}));class sM{constructor(){this.m_sweepA=new rS,this.m_sweepB=new rS,this.m_type=x.b2SeparationFunctionType.e_unknown,this.m_localPoint=new a_,this.m_axis=new a_}Initialize(_n,r_,p_,b_,d_,B_){this.m_proxyA=r_,this.m_proxyB=b_;let T_=_n.count;this.m_sweepA.Copy(p_),this.m_sweepB.Copy(d_);let E_=EV,Y_=kV;if(this.m_sweepA.GetTransform(E_,B_),this.m_sweepB.GetTransform(Y_,B_),T_===1){this.m_type=x.b2SeparationFunctionType.e_points;let H_=this.m_proxyA.GetVertex(_n.indexA[0]),U_=this.m_proxyB.GetVertex(_n.indexB[0]),$_=o0.MulXV(E_,H_,UC),a2=o0.MulXV(Y_,U_,XC);a_.SubVV(a2,$_,this.m_axis);let g2=this.m_axis.Normalize();return this.m_localPoint.SetZero(),g2}else if(_n.indexA[0]===_n.indexA[1]){this.m_type=x.b2SeparationFunctionType.e_faceB;let H_=this.m_proxyB.GetVertex(_n.indexB[0]),U_=this.m_proxyB.GetVertex(_n.indexB[1]);a_.CrossVOne(a_.SubVV(U_,H_,a_.s_t0),this.m_axis).SelfNormalize();let $_=K2.MulRV(Y_.q,this.m_axis,hP);a_.MidVV(H_,U_,this.m_localPoint);let a2=o0.MulXV(Y_,this.m_localPoint,XC),g2=this.m_proxyA.GetVertex(_n.indexA[0]),M2=o0.MulXV(E_,g2,UC),R2=a_.DotVV(a_.SubVV(M2,a2,a_.s_t0),$_);return R2<0&&(this.m_axis.SelfNeg(),R2=-R2),R2}else{this.m_type=x.b2SeparationFunctionType.e_faceA;let H_=this.m_proxyA.GetVertex(_n.indexA[0]),U_=this.m_proxyA.GetVertex(_n.indexA[1]);a_.CrossVOne(a_.SubVV(U_,H_,a_.s_t0),this.m_axis).SelfNormalize();let $_=K2.MulRV(E_.q,this.m_axis,hP);a_.MidVV(H_,U_,this.m_localPoint);let a2=o0.MulXV(E_,this.m_localPoint,UC),g2=this.m_proxyB.GetVertex(_n.indexB[0]),M2=o0.MulXV(Y_,g2,XC),R2=a_.DotVV(a_.SubVV(M2,a2,a_.s_t0),$_);return R2<0&&(this.m_axis.SelfNeg(),R2=-R2),R2}}FindMinSeparation(_n,r_,p_){let b_=EV,d_=kV;switch(this.m_sweepA.GetTransform(b_,p_),this.m_sweepB.GetTransform(d_,p_),this.m_type){case x.b2SeparationFunctionType.e_points:{let B_=K2.MulTRV(b_.q,this.m_axis,rM),T_=K2.MulTRV(d_.q,a_.NegV(this.m_axis,a_.s_t0),nM);_n[0]=this.m_proxyA.GetSupport(B_),r_[0]=this.m_proxyB.GetSupport(T_);let E_=this.m_proxyA.GetVertex(_n[0]),Y_=this.m_proxyB.GetVertex(r_[0]),H_=o0.MulXV(b_,E_,UC),U_=o0.MulXV(d_,Y_,XC);return a_.DotVV(a_.SubVV(U_,H_,a_.s_t0),this.m_axis)}case x.b2SeparationFunctionType.e_faceA:{let B_=K2.MulRV(b_.q,this.m_axis,hP),T_=o0.MulXV(b_,this.m_localPoint,UC),E_=K2.MulTRV(d_.q,a_.NegV(B_,a_.s_t0),nM);_n[0]=-1,r_[0]=this.m_proxyB.GetSupport(E_);let Y_=this.m_proxyB.GetVertex(r_[0]),H_=o0.MulXV(d_,Y_,XC);return a_.DotVV(a_.SubVV(H_,T_,a_.s_t0),B_)}case x.b2SeparationFunctionType.e_faceB:{let B_=K2.MulRV(d_.q,this.m_axis,hP),T_=o0.MulXV(d_,this.m_localPoint,XC),E_=K2.MulTRV(b_.q,a_.NegV(B_,a_.s_t0),rM);r_[0]=-1,_n[0]=this.m_proxyA.GetSupport(E_);let Y_=this.m_proxyA.GetVertex(_n[0]),H_=o0.MulXV(b_,Y_,UC);return a_.DotVV(a_.SubVV(H_,T_,a_.s_t0),B_)}default:return _n[0]=-1,r_[0]=-1,0}}Evaluate(_n,r_,p_){let b_=EV,d_=kV;switch(this.m_sweepA.GetTransform(b_,p_),this.m_sweepB.GetTransform(d_,p_),this.m_type){case x.b2SeparationFunctionType.e_points:{let B_=this.m_proxyA.GetVertex(_n),T_=this.m_proxyB.GetVertex(r_),E_=o0.MulXV(b_,B_,UC),Y_=o0.MulXV(d_,T_,XC);return a_.DotVV(a_.SubVV(Y_,E_,a_.s_t0),this.m_axis)}case x.b2SeparationFunctionType.e_faceA:{let B_=K2.MulRV(b_.q,this.m_axis,hP),T_=o0.MulXV(b_,this.m_localPoint,UC),E_=this.m_proxyB.GetVertex(r_),Y_=o0.MulXV(d_,E_,XC);return a_.DotVV(a_.SubVV(Y_,T_,a_.s_t0),B_)}case x.b2SeparationFunctionType.e_faceB:{let B_=K2.MulRV(d_.q,this.m_axis,hP),T_=o0.MulXV(d_,this.m_localPoint,XC),E_=this.m_proxyA.GetVertex(_n),Y_=o0.MulXV(b_,E_,UC);return a_.DotVV(a_.SubVV(Y_,T_,a_.s_t0),B_)}default:return 0}}}let K6=new NC,Q6=new cP,$6=new HS,t8=new LB,e8=new sM,o8=[0],i8=[0],r8=new rS,n8=new rS;function U4(i2,_n){let r_=K6.Reset();++x.b2_toiCalls,i2.state=x.b2TOIOutputState.e_unknown,i2.t=_n.tMax;let p_=_n.proxyA,b_=_n.proxyB,d_=T0(i_,T0(p_.m_count,b_.m_count)),B_=r8.Copy(_n.sweepA),T_=n8.Copy(_n.sweepB);B_.Normalize(),T_.Normalize();let E_=_n.tMax,Y_=p_.m_radius+b_.m_radius,H_=T0(ws,Y_-3*ws),U_=.25*ws,$_=0,a2=20,g2=0,M2=Q6;M2.count=0;let R2=$6;for(R2.proxyA.Copy(_n.proxyA),R2.proxyB.Copy(_n.proxyB),R2.useRadii=!1;;){let z2=EV,Q2=kV;B_.GetTransform(z2,$_),T_.GetTransform(Q2,$_),R2.transformA.Copy(z2),R2.transformB.Copy(Q2);let $2=t8;if(k4($2,M2,R2),$2.distance<=0){i2.state=x.b2TOIOutputState.e_overlapped,i2.t=0;break}if($2.distance<H_+U_){i2.state=x.b2TOIOutputState.e_touching,i2.t=$_;break}let t0=e8;t0.Initialize(M2,p_,B_,b_,T_,$_);let p0=!1,_0=E_,g0=0;for(;;){let b0=o8,D0=i8,E0=t0.FindMinSeparation(b0,D0,_0);if(E0>H_+U_){i2.state=x.b2TOIOutputState.e_separated,i2.t=E_,p0=!0;break}if(E0>H_-U_){$_=_0;break}let x0=t0.Evaluate(b0[0],D0[0],$_);if(x0<H_-U_){i2.state=x.b2TOIOutputState.e_failed,i2.t=$_,p0=!0;break}if(x0<=H_+U_){i2.state=x.b2TOIOutputState.e_touching,i2.t=$_,p0=!0;break}let l0=0,W0=$_,j0=_0;for(;;){let Cy=0;l0&1?Cy=W0+(H_-x0)*(j0-W0)/(E0-x0):Cy=.5*(W0+j0),++l0,++x.b2_toiRootIters;let g1=t0.Evaluate(b0[0],D0[0],Cy);if(P0(g1-H_)<U_){_0=Cy;break}if(g1>H_?(W0=Cy,x0=g1):(j0=Cy,E0=g1),l0===50)break}if(x.b2_toiMaxRootIters=T0(x.b2_toiMaxRootIters,l0),++g0,g0===d_)break}if(++g2,++x.b2_toiIters,p0)break;if(g2===a2){i2.state=x.b2TOIOutputState.e_failed,i2.t=$_;break}}x.b2_toiMaxIters=T0(x.b2_toiMaxIters,g2);let W2=r_.GetMilliseconds();x.b2_toiMaxTime=T0(x.b2_toiMaxTime,W2),x.b2_toiTime+=W2}let s8=new a_,_8=new a_;function _M(i2,_n,r_,p_,b_){i2.pointCount=0;let d_=o0.MulXV(r_,_n.m_p,s8),B_=o0.MulXV(b_,p_.m_p,_8),T_=a_.DistanceSquaredVV(d_,B_),E_=_n.m_radius+p_.m_radius;T_>E_*E_||(i2.type=x.b2ManifoldType.e_circles,i2.localPoint.Copy(_n.m_p),i2.localNormal.SetZero(),i2.pointCount=1,i2.points[0].localPoint.Copy(p_.m_p),i2.points[0].id.key=0)}let a8=new a_,p8=new a_,l8=new a_;function aM(i2,_n,r_,p_,b_){i2.pointCount=0;let d_=o0.MulXV(b_,p_.m_p,a8),B_=o0.MulTXV(r_,d_,p8),T_=0,E_=-_o,Y_=_n.m_radius+p_.m_radius,H_=_n.m_count,U_=_n.m_vertices,$_=_n.m_normals;for(let Q2=0;Q2<H_;++Q2){let $2=a_.DotVV($_[Q2],a_.SubVV(B_,U_[Q2],a_.s_t0));if($2>Y_)return;$2>E_&&(E_=$2,T_=Q2)}let a2=T_,g2=(a2+1)%H_,M2=U_[a2],R2=U_[g2];if(E_<_r){i2.pointCount=1,i2.type=x.b2ManifoldType.e_faceA,i2.localNormal.Copy($_[T_]),a_.MidVV(M2,R2,i2.localPoint),i2.points[0].localPoint.Copy(p_.m_p),i2.points[0].id.key=0;return}let W2=a_.DotVV(a_.SubVV(B_,M2,a_.s_t0),a_.SubVV(R2,M2,a_.s_t1)),z2=a_.DotVV(a_.SubVV(B_,R2,a_.s_t0),a_.SubVV(M2,R2,a_.s_t1));if(W2<=0){if(a_.DistanceSquaredVV(B_,M2)>Y_*Y_)return;i2.pointCount=1,i2.type=x.b2ManifoldType.e_faceA,a_.SubVV(B_,M2,i2.localNormal).SelfNormalize(),i2.localPoint.Copy(M2),i2.points[0].localPoint.Copy(p_.m_p),i2.points[0].id.key=0}else if(z2<=0){if(a_.DistanceSquaredVV(B_,R2)>Y_*Y_)return;i2.pointCount=1,i2.type=x.b2ManifoldType.e_faceA,a_.SubVV(B_,R2,i2.localNormal).SelfNormalize(),i2.localPoint.Copy(R2),i2.points[0].localPoint.Copy(p_.m_p),i2.points[0].id.key=0}else{let Q2=a_.MidVV(M2,R2,l8);if(a_.DotVV(a_.SubVV(B_,Q2,a_.s_t1),$_[a2])>Y_)return;i2.pointCount=1,i2.type=x.b2ManifoldType.e_faceA,i2.localNormal.Copy($_[a2]).SelfNormalize(),i2.localPoint.Copy(Q2),i2.points[0].localPoint.Copy(p_.m_p),i2.points[0].id.key=0}}let c8=new a_,m8=new a_,b8=new a_,u8=new a_;function jV(i2,_n,r_,p_,b_){let d_=i2.m_vertices,B_=i2.m_normals,T_=p_.m_count,E_=p_.m_vertices,Y_=K2.MulRV(_n.q,B_[r_],c8),H_=K2.MulTRV(b_.q,Y_,m8),U_=0,$_=_o;for(let R2=0;R2<T_;++R2){let W2=a_.DotVV(E_[R2],H_);W2<$_&&($_=W2,U_=R2)}let a2=o0.MulXV(_n,d_[r_],b8),g2=o0.MulXV(b_,E_[U_],u8);return a_.DotVV(a_.SubVV(g2,a2,a_.s_t0),Y_)}let h8=new a_,d8=new a_;function pM(i2,_n,r_,p_,b_){let d_=_n.m_count,B_=_n.m_normals,T_=a_.SubVV(o0.MulXV(b_,p_.m_centroid,a_.s_t0),o0.MulXV(r_,_n.m_centroid,a_.s_t1),h8),E_=K2.MulTRV(r_.q,T_,d8),Y_=0,H_=-_o;for(let Q2=0;Q2<d_;++Q2){let $2=a_.DotVV(B_[Q2],E_);$2>H_&&(H_=$2,Y_=Q2)}let U_=jV(_n,r_,Y_,p_,b_),$_=(Y_+d_-1)%d_,a2=jV(_n,r_,$_,p_,b_),g2=(Y_+1)%d_,M2=jV(_n,r_,g2,p_,b_),R2=0,W2=0,z2=0;if(a2>U_&&a2>M2)z2=-1,R2=$_,W2=a2;else if(M2>U_)z2=1,R2=g2,W2=M2;else return i2[0]=Y_,U_;for(;z2===-1?Y_=(R2+d_-1)%d_:Y_=(R2+1)%d_,U_=jV(_n,r_,Y_,p_,b_),U_>W2;)R2=Y_,W2=U_;return i2[0]=R2,W2}let y8=new a_;function x8(i2,_n,r_,p_,b_,d_){let B_=_n.m_normals,T_=b_.m_count,E_=b_.m_vertices,Y_=b_.m_normals,H_=K2.MulTRV(d_.q,K2.MulRV(r_.q,B_[p_],a_.s_t0),y8),U_=0,$_=_o;for(let Q2=0;Q2<T_;++Q2){let $2=a_.DotVV(H_,Y_[Q2]);$2<$_&&($_=$2,U_=Q2)}let a2=U_,g2=(a2+1)%T_,M2=i2[0];o0.MulXV(d_,E_[a2],M2.v);let R2=M2.id.cf;R2.indexA=p_,R2.indexB=a2,R2.typeA=x.b2ContactFeatureType.e_face,R2.typeB=x.b2ContactFeatureType.e_vertex;let W2=i2[1];o0.MulXV(d_,E_[g2],W2.v);let z2=W2.id.cf;z2.indexA=p_,z2.indexB=g2,z2.typeA=x.b2ContactFeatureType.e_face,z2.typeB=x.b2ContactFeatureType.e_vertex}let f8=fB.MakeArray(2),g8=fB.MakeArray(2),v8=fB.MakeArray(2),A8=[0],S8=[0],C8=new a_,B8=new a_,P8=new a_,w8=new a_,V8=new a_,D8=new a_,M8=new a_,G8=new a_;function lM(i2,_n,r_,p_,b_){i2.pointCount=0;let d_=_n.m_radius+p_.m_radius,B_=A8;B_[0]=0;let T_=pM(B_,_n,r_,p_,b_);if(T_>d_)return;let E_=S8;E_[0]=0;let Y_=pM(E_,p_,b_,_n,r_);if(Y_>d_)return;let H_,U_,$_,a2,g2=0,M2=0;Y_>.98*T_+.001?(H_=p_,U_=_n,$_=b_,a2=r_,g2=E_[0],i2.type=x.b2ManifoldType.e_faceB,M2=1):(H_=_n,U_=p_,$_=r_,a2=b_,g2=B_[0],i2.type=x.b2ManifoldType.e_faceA,M2=0);let z2=f8;x8(z2,H_,$_,g2,U_,a2);let Q2=H_.m_count,$2=H_.m_vertices,t0=g2,p0=(g2+1)%Q2,_0=$2[t0],g0=$2[p0],b0=a_.SubVV(g0,_0,C8);b0.Normalize();let D0=a_.CrossVOne(b0,B8),E0=a_.MidVV(_0,g0,P8),x0=K2.MulRV($_.q,b0,V8),l0=a_.CrossVOne(x0,w8),W0=o0.MulXV($_,_0,M8),j0=o0.MulXV($_,g0,G8),Cy=a_.DotVV(l0,W0),g1=-a_.DotVV(x0,W0)+d_,M1=a_.DotVV(x0,j0)+d_,YA=g8,HA=v8,ZA,yP=a_.NegV(x0,D8);if(ZA=HP(YA,z2,yP,g1,t0),ZA<2||(ZA=HP(HA,YA,x0,M1,p0),ZA<2))return;i2.localNormal.Copy(D0),i2.localPoint.Copy(E0);let TC=0;for(let xP=0;xP<o_;++xP){let CS=HA[xP];if(a_.DotVV(l0,CS.v)-Cy<=d_){let GA=i2.points[TC];if(o0.MulTXV(a2,CS.v,GA.localPoint),GA.id.Copy(CS.id),M2){let SC=GA.id.cf;GA.id.cf.indexA=SC.indexB,GA.id.cf.indexB=SC.indexA,GA.id.cf.typeA=SC.typeB,GA.id.cf.typeB=SC.typeA}++TC}}i2.pointCount=TC}let J8=new a_,I8=new a_,X4=new a_,T8=new a_,R8=new a_,F8=new a_,L8=new a_,q8=new uP;function Y4(i2,_n,r_,p_,b_){i2.pointCount=0;let d_=o0.MulTXV(r_,o0.MulXV(b_,p_.m_p,a_.s_t0),J8),B_=_n.m_vertex1,T_=_n.m_vertex2,E_=a_.SubVV(T_,B_,I8),Y_=a_.DotVV(E_,a_.SubVV(T_,d_,a_.s_t0)),H_=a_.DotVV(E_,a_.SubVV(d_,B_,a_.s_t0)),U_=_n.m_radius+p_.m_radius,$_=q8;if($_.cf.indexB=0,$_.cf.typeB=x.b2ContactFeatureType.e_vertex,H_<=0){let z2=B_,Q2=a_.SubVV(d_,z2,X4);if(a_.DotVV(Q2,Q2)>U_*U_)return;if(_n.m_hasVertex0){let t0=_n.m_vertex0,p0=B_,_0=a_.SubVV(p0,t0,T8);if(a_.DotVV(_0,a_.SubVV(p0,d_,a_.s_t0))>0)return}$_.cf.indexA=0,$_.cf.typeA=x.b2ContactFeatureType.e_vertex,i2.pointCount=1,i2.type=x.b2ManifoldType.e_circles,i2.localNormal.SetZero(),i2.localPoint.Copy(z2),i2.points[0].id.Copy($_),i2.points[0].localPoint.Copy(p_.m_p);return}if(Y_<=0){let z2=T_,Q2=a_.SubVV(d_,z2,X4);if(a_.DotVV(Q2,Q2)>U_*U_)return;if(_n.m_hasVertex3){let t0=_n.m_vertex3,p0=T_,_0=a_.SubVV(t0,p0,R8);if(a_.DotVV(_0,a_.SubVV(d_,p0,a_.s_t0))>0)return}$_.cf.indexA=1,$_.cf.typeA=x.b2ContactFeatureType.e_vertex,i2.pointCount=1,i2.type=x.b2ManifoldType.e_circles,i2.localNormal.SetZero(),i2.localPoint.Copy(z2),i2.points[0].id.Copy($_),i2.points[0].localPoint.Copy(p_.m_p);return}let a2=a_.DotVV(E_,E_),g2=F8;g2.x=1/a2*(Y_*B_.x+H_*T_.x),g2.y=1/a2*(Y_*B_.y+H_*T_.y);let M2=a_.SubVV(d_,g2,X4);if(a_.DotVV(M2,M2)>U_*U_)return;let W2=L8.Set(-E_.y,E_.x);a_.DotVV(W2,a_.SubVV(d_,B_,a_.s_t0))<0&&W2.Set(-W2.x,-W2.y),W2.Normalize(),$_.cf.indexA=0,$_.cf.typeA=x.b2ContactFeatureType.e_face,i2.pointCount=1,i2.type=x.b2ManifoldType.e_faceA,i2.localNormal.Copy(W2),i2.localPoint.Copy(B_),i2.points[0].id.Copy($_),i2.points[0].localPoint.Copy(p_.m_p)}var ZS;(function(i2){i2[i2.e_unknown=0]="e_unknown",i2[i2.e_edgeA=1]="e_edgeA",i2[i2.e_edgeB=2]="e_edgeB"})(ZS||(ZS={}));class cM{constructor(){this.type=ZS.e_unknown,this.index=0,this.separation=0}}class E8{constructor(){this.vertices=[],this.normals=[],this.count=0}}class k8{constructor(){this.i1=0,this.i2=0,this.v1=new a_,this.v2=new a_,this.normal=new a_,this.sideNormal1=new a_,this.sideOffset1=0,this.sideNormal2=new a_,this.sideOffset2=0}}var zV;(function(i2){i2[i2.e_isolated=0]="e_isolated",i2[i2.e_concave=1]="e_concave",i2[i2.e_convex=2]="e_convex"})(zV||(zV={}));class iA{constructor(){this.m_polygonB=new E8,this.m_xf=new o0,this.m_centroidB=new a_,this.m_v0=new a_,this.m_v1=new a_,this.m_v2=new a_,this.m_v3=new a_,this.m_normal0=new a_,this.m_normal1=new a_,this.m_normal2=new a_,this.m_normal=new a_,this.m_type1=zV.e_isolated,this.m_type2=zV.e_isolated,this.m_lowerLimit=new a_,this.m_upperLimit=new a_,this.m_radius=0,this.m_front=!1}Collide(_n,r_,p_,b_,d_){o0.MulTXX(p_,d_,this.m_xf),o0.MulXV(this.m_xf,b_.m_centroid,this.m_centroidB),this.m_v0.Copy(r_.m_vertex0),this.m_v1.Copy(r_.m_vertex1),this.m_v2.Copy(r_.m_vertex2),this.m_v3.Copy(r_.m_vertex3);let B_=r_.m_hasVertex0,T_=r_.m_hasVertex3,E_=a_.SubVV(this.m_v2,this.m_v1,iA.s_edge1);E_.Normalize(),this.m_normal1.Set(E_.y,-E_.x);let Y_=a_.DotVV(this.m_normal1,a_.SubVV(this.m_centroidB,this.m_v1,a_.s_t0)),H_=0,U_=0,$_=!1,a2=!1;if(B_){let b0=a_.SubVV(this.m_v1,this.m_v0,iA.s_edge0);b0.Normalize(),this.m_normal0.Set(b0.y,-b0.x),$_=a_.CrossVV(b0,E_)>=0,H_=a_.DotVV(this.m_normal0,a_.SubVV(this.m_centroidB,this.m_v0,a_.s_t0))}if(T_){let b0=a_.SubVV(this.m_v3,this.m_v2,iA.s_edge2);b0.Normalize(),this.m_normal2.Set(b0.y,-b0.x),a2=a_.CrossVV(E_,b0)>0,U_=a_.DotVV(this.m_normal2,a_.SubVV(this.m_centroidB,this.m_v2,a_.s_t0))}B_&&T_?$_&&a2?(this.m_front=H_>=0||Y_>=0||U_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):$_?(this.m_front=H_>=0||Y_>=0&&U_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):a2?(this.m_front=U_>=0||H_>=0&&Y_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):(this.m_front=H_>=0&&Y_>=0&&U_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):B_?$_?(this.m_front=H_>=0||Y_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):(this.m_front=H_>=0&&Y_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):T_?a2?(this.m_front=Y_>=0||U_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=Y_>=0&&U_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=Y_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1))),this.m_polygonB.count=b_.m_count;for(let b0=0;b0<b_.m_count;++b0)this.m_polygonB.vertices.length<=b0&&this.m_polygonB.vertices.push(new a_),this.m_polygonB.normals.length<=b0&&this.m_polygonB.normals.push(new a_),o0.MulXV(this.m_xf,b_.m_vertices[b0],this.m_polygonB.vertices[b0]),K2.MulRV(this.m_xf.q,b_.m_normals[b0],this.m_polygonB.normals[b0]);this.m_radius=b_.m_radius+r_.m_radius,_n.pointCount=0;let g2=this.ComputeEdgeSeparation(iA.s_edgeAxis);if(g2.type===ZS.e_unknown||g2.separation>this.m_radius)return;let M2=this.ComputePolygonSeparation(iA.s_polygonAxis);if(M2.type!==ZS.e_unknown&&M2.separation>this.m_radius)return;let R2=.98,W2=.001,z2;M2.type===ZS.e_unknown?z2=g2:M2.separation>R2*g2.separation+W2?z2=M2:z2=g2;let Q2=iA.s_ie,$2=iA.s_rf;if(z2.type===ZS.e_edgeA){_n.type=x.b2ManifoldType.e_faceA;let b0=0,D0=a_.DotVV(this.m_normal,this.m_polygonB.normals[0]);for(let j0=1;j0<this.m_polygonB.count;++j0){let Cy=a_.DotVV(this.m_normal,this.m_polygonB.normals[j0]);Cy<D0&&(D0=Cy,b0=j0)}let E0=b0,x0=(E0+1)%this.m_polygonB.count,l0=Q2[0];l0.v.Copy(this.m_polygonB.vertices[E0]),l0.id.cf.indexA=0,l0.id.cf.indexB=E0,l0.id.cf.typeA=x.b2ContactFeatureType.e_face,l0.id.cf.typeB=x.b2ContactFeatureType.e_vertex;let W0=Q2[1];W0.v.Copy(this.m_polygonB.vertices[x0]),W0.id.cf.indexA=0,W0.id.cf.indexB=x0,W0.id.cf.typeA=x.b2ContactFeatureType.e_face,W0.id.cf.typeB=x.b2ContactFeatureType.e_vertex,this.m_front?($2.i1=0,$2.i2=1,$2.v1.Copy(this.m_v1),$2.v2.Copy(this.m_v2),$2.normal.Copy(this.m_normal1)):($2.i1=1,$2.i2=0,$2.v1.Copy(this.m_v2),$2.v2.Copy(this.m_v1),$2.normal.Copy(this.m_normal1).SelfNeg())}else{_n.type=x.b2ManifoldType.e_faceB;let b0=Q2[0];b0.v.Copy(this.m_v1),b0.id.cf.indexA=0,b0.id.cf.indexB=z2.index,b0.id.cf.typeA=x.b2ContactFeatureType.e_vertex,b0.id.cf.typeB=x.b2ContactFeatureType.e_face;let D0=Q2[1];D0.v.Copy(this.m_v2),D0.id.cf.indexA=0,D0.id.cf.indexB=z2.index,D0.id.cf.typeA=x.b2ContactFeatureType.e_vertex,D0.id.cf.typeB=x.b2ContactFeatureType.e_face,$2.i1=z2.index,$2.i2=($2.i1+1)%this.m_polygonB.count,$2.v1.Copy(this.m_polygonB.vertices[$2.i1]),$2.v2.Copy(this.m_polygonB.vertices[$2.i2]),$2.normal.Copy(this.m_polygonB.normals[$2.i1])}$2.sideNormal1.Set($2.normal.y,-$2.normal.x),$2.sideNormal2.Copy($2.sideNormal1).SelfNeg(),$2.sideOffset1=a_.DotVV($2.sideNormal1,$2.v1),$2.sideOffset2=a_.DotVV($2.sideNormal2,$2.v2);let t0=iA.s_clipPoints1,p0=iA.s_clipPoints2,_0=0;if(_0=HP(t0,Q2,$2.sideNormal1,$2.sideOffset1,$2.i1),_0<o_||(_0=HP(p0,t0,$2.sideNormal2,$2.sideOffset2,$2.i2),_0<o_))return;z2.type===ZS.e_edgeA?(_n.localNormal.Copy($2.normal),_n.localPoint.Copy($2.v1)):(_n.localNormal.Copy(b_.m_normals[$2.i1]),_n.localPoint.Copy(b_.m_vertices[$2.i1]));let g0=0;for(let b0=0;b0<o_;++b0){let D0;if(D0=a_.DotVV($2.normal,a_.SubVV(p0[b0].v,$2.v1,a_.s_t0)),D0<=this.m_radius){let E0=_n.points[g0];z2.type===ZS.e_edgeA?(o0.MulTXV(this.m_xf,p0[b0].v,E0.localPoint),E0.id.Copy(p0[b0].id)):(E0.localPoint.Copy(p0[b0].v),E0.id.cf.typeA=p0[b0].id.cf.typeB,E0.id.cf.typeB=p0[b0].id.cf.typeA,E0.id.cf.indexA=p0[b0].id.cf.indexB,E0.id.cf.indexB=p0[b0].id.cf.indexA),++g0}}_n.pointCount=g0}ComputeEdgeSeparation(_n){let r_=_n;r_.type=ZS.e_edgeA,r_.index=this.m_front?0:1,r_.separation=_o;for(let p_=0;p_<this.m_polygonB.count;++p_){let b_=a_.DotVV(this.m_normal,a_.SubVV(this.m_polygonB.vertices[p_],this.m_v1,a_.s_t0));b_<r_.separation&&(r_.separation=b_)}return r_}ComputePolygonSeparation(_n){let r_=_n;r_.type=ZS.e_unknown,r_.index=-1,r_.separation=-_o;let p_=iA.s_perp.Set(-this.m_normal.y,this.m_normal.x);for(let b_=0;b_<this.m_polygonB.count;++b_){let d_=a_.NegV(this.m_polygonB.normals[b_],iA.s_n),B_=a_.DotVV(d_,a_.SubVV(this.m_polygonB.vertices[b_],this.m_v1,a_.s_t0)),T_=a_.DotVV(d_,a_.SubVV(this.m_polygonB.vertices[b_],this.m_v2,a_.s_t0)),E_=L0(B_,T_);if(E_>this.m_radius)return r_.type=ZS.e_edgeB,r_.index=b_,r_.separation=E_,r_;if(a_.DotVV(d_,p_)>=0){if(a_.DotVV(a_.SubVV(d_,this.m_upperLimit,a_.s_t0),this.m_normal)<-h_)continue}else if(a_.DotVV(a_.SubVV(d_,this.m_lowerLimit,a_.s_t0),this.m_normal)<-h_)continue;E_>r_.separation&&(r_.type=ZS.e_edgeB,r_.index=b_,r_.separation=E_)}return r_}}iA.s_edge1=new a_,iA.s_edge0=new a_,iA.s_edge2=new a_,iA.s_ie=fB.MakeArray(2),iA.s_rf=new k8,iA.s_clipPoints1=fB.MakeArray(2),iA.s_clipPoints2=fB.MakeArray(2),iA.s_edgeAxis=new cM,iA.s_polygonAxis=new cM,iA.s_n=new a_,iA.s_perp=new a_;let j8=new iA;function H4(i2,_n,r_,p_,b_){j8.Collide(i2,_n,r_,p_,b_)}class WV{constructor(){this.mass=0,this.center=new a_(0,0),this.I=0}}(function(i2){i2[i2.e_unknown=-1]="e_unknown",i2[i2.e_circleShape=0]="e_circleShape",i2[i2.e_edgeShape=1]="e_edgeShape",i2[i2.e_polygonShape=2]="e_polygonShape",i2[i2.e_chainShape=3]="e_chainShape",i2[i2.e_shapeTypeCount=4]="e_shapeTypeCount"})(x.b2ShapeType||(x.b2ShapeType={}));class EB{constructor(_n,r_){this.m_type=x.b2ShapeType.e_unknown,this.m_radius=0,this.m_type=_n,this.m_radius=r_}Copy(_n){return this.m_radius=_n.m_radius,this}GetType(){return this.m_type}}class nS extends EB{constructor(_n=0){super(x.b2ShapeType.e_circleShape,_n),this.m_p=new a_}Set(_n,r_=this.m_radius){return this.m_p.Copy(_n),this.m_radius=r_,this}Clone(){return new nS().Copy(this)}Copy(_n){return super.Copy(_n),this.m_p.Copy(_n.m_p),this}GetChildCount(){return 1}TestPoint(_n,r_){let p_=o0.MulXV(_n,this.m_p,nS.TestPoint_s_center),b_=a_.SubVV(r_,p_,nS.TestPoint_s_d);return a_.DotVV(b_,b_)<=G2(this.m_radius)}ComputeDistance(_n,r_,p_,b_){let d_=o0.MulXV(_n,this.m_p,nS.ComputeDistance_s_center);return a_.SubVV(r_,d_,p_),p_.Normalize()-this.m_radius}RayCast(_n,r_,p_,b_){let d_=o0.MulXV(p_,this.m_p,nS.RayCast_s_position),B_=a_.SubVV(r_.p1,d_,nS.RayCast_s_s),T_=a_.DotVV(B_,B_)-G2(this.m_radius),E_=a_.SubVV(r_.p2,r_.p1,nS.RayCast_s_r),Y_=a_.DotVV(B_,E_),H_=a_.DotVV(E_,E_),U_=Y_*Y_-H_*T_;if(U_<0||H_<_r)return!1;let $_=-(Y_+uC(U_));return 0<=$_&&$_<=r_.maxFraction*H_?($_/=H_,_n.fraction=$_,a_.AddVMulSV(B_,$_,E_,_n.normal).SelfNormalize(),!0):!1}ComputeAABB(_n,r_,p_){let b_=o0.MulXV(r_,this.m_p,nS.ComputeAABB_s_p);_n.lowerBound.Set(b_.x-this.m_radius,b_.y-this.m_radius),_n.upperBound.Set(b_.x+this.m_radius,b_.y+this.m_radius)}ComputeMass(_n,r_){let p_=G2(this.m_radius);_n.mass=r_*e_*p_,_n.center.Copy(this.m_p),_n.I=_n.mass*(.5*p_+a_.DotVV(this.m_p,this.m_p))}SetupDistanceProxy(_n,r_){_n.m_vertices=_n.m_buffer,_n.m_vertices[0].Copy(this.m_p),_n.m_count=1,_n.m_radius=this.m_radius}ComputeSubmergedArea(_n,r_,p_,b_){let d_=o0.MulXV(p_,this.m_p,new a_),B_=-(a_.DotVV(_n,d_)-r_);if(B_<-this.m_radius+_r)return 0;if(B_>this.m_radius)return b_.Copy(d_),e_*this.m_radius*this.m_radius;let T_=this.m_radius*this.m_radius,E_=B_*B_,Y_=T_*(WP(B_/this.m_radius)+e_/2)+B_*uC(T_-E_),H_=-2/3*VV(T_-E_,1.5)/Y_;return b_.x=d_.x+_n.x*H_,b_.y=d_.y+_n.y*H_,Y_}Dump(_n){_n(`    const shape: b2CircleShape = new b2CircleShape();
`),_n(`    shape.m_radius = %.15f;
`,this.m_radius),_n(`    shape.m_p.Set(%.15f, %.15f);
`,this.m_p.x,this.m_p.y)}}nS.TestPoint_s_center=new a_,nS.TestPoint_s_d=new a_,nS.ComputeDistance_s_center=new a_,nS.RayCast_s_position=new a_,nS.RayCast_s_s=new a_,nS.RayCast_s_r=new a_,nS.ComputeAABB_s_p=new a_;class N0 extends EB{constructor(){super(x.b2ShapeType.e_polygonShape,s_),this.m_centroid=new a_(0,0),this.m_vertices=[],this.m_normals=[],this.m_count=0}Clone(){return new N0().Copy(this)}Copy(_n){super.Copy(_n),this.m_centroid.Copy(_n.m_centroid),this.m_count=_n.m_count,this.m_vertices=a_.MakeArray(this.m_count),this.m_normals=a_.MakeArray(this.m_count);for(let r_=0;r_<this.m_count;++r_)this.m_vertices[r_].Copy(_n.m_vertices[r_]),this.m_normals[r_].Copy(_n.m_normals[r_]);return this}GetChildCount(){return 1}Set(..._n){if(typeof _n[0][0]=="number"){let r_=_n[0];if(r_.length%2!==0)throw new Error;return this._Set(p_=>({x:r_[p_*2],y:r_[p_*2+1]}),r_.length/2)}else{let r_=_n[0],p_=_n[1]||r_.length;return this._Set(b_=>r_[b_],p_)}}_Set(_n,r_){if(r_<3)return this.SetAsBox(1,1);let p_=r_,b_=[];for(let H_=0;H_<p_;++H_){let U_=_n(H_),$_=!0;for(let a2=0;a2<b_.length;++a2)if(a_.DistanceSquaredVV(U_,b_[a2])<.5*ws*(.5*ws)){$_=!1;break}$_&&b_.push(U_)}if(p_=b_.length,p_<3)return this.SetAsBox(1,1);let d_=0,B_=b_[0].x;for(let H_=1;H_<p_;++H_){let U_=b_[H_].x;(U_>B_||U_===B_&&b_[H_].y<b_[d_].y)&&(d_=H_,B_=U_)}let T_=[],E_=0,Y_=d_;for(;;){T_[E_]=Y_;let H_=0;for(let U_=1;U_<p_;++U_){if(H_===Y_){H_=U_;continue}let $_=a_.SubVV(b_[H_],b_[T_[E_]],N0.Set_s_r),a2=a_.SubVV(b_[U_],b_[T_[E_]],N0.Set_s_v),g2=a_.CrossVV($_,a2);g2<0&&(H_=U_),g2===0&&a2.LengthSquared()>$_.LengthSquared()&&(H_=U_)}if(++E_,Y_=H_,H_===d_)break}this.m_count=E_,this.m_vertices=a_.MakeArray(this.m_count),this.m_normals=a_.MakeArray(this.m_count);for(let H_=0;H_<E_;++H_)this.m_vertices[H_].Copy(b_[T_[H_]]);for(let H_=0;H_<E_;++H_){let U_=this.m_vertices[H_],$_=this.m_vertices[(H_+1)%E_],a2=a_.SubVV($_,U_,a_.s_t0);a_.CrossVOne(a2,this.m_normals[H_]).SelfNormalize()}return N0.ComputeCentroid(this.m_vertices,E_,this.m_centroid),this}SetAsBox(_n,r_,p_,b_=0){if(this.m_count=4,this.m_vertices=a_.MakeArray(this.m_count),this.m_normals=a_.MakeArray(this.m_count),this.m_vertices[0].Set(-_n,-r_),this.m_vertices[1].Set(_n,-r_),this.m_vertices[2].Set(_n,r_),this.m_vertices[3].Set(-_n,r_),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero(),p_){this.m_centroid.Copy(p_);let d_=new o0;d_.SetPosition(p_),d_.SetRotationAngle(b_);for(let B_=0;B_<this.m_count;++B_)o0.MulXV(d_,this.m_vertices[B_],this.m_vertices[B_]),K2.MulRV(d_.q,this.m_normals[B_],this.m_normals[B_])}return this}TestPoint(_n,r_){let p_=o0.MulTXV(_n,r_,N0.TestPoint_s_pLocal);for(let b_=0;b_<this.m_count;++b_)if(a_.DotVV(this.m_normals[b_],a_.SubVV(p_,this.m_vertices[b_],a_.s_t0))>0)return!1;return!0}ComputeDistance(_n,r_,p_,b_){let d_=o0.MulTXV(_n,r_,N0.ComputeDistance_s_pLocal),B_=-_o,T_=N0.ComputeDistance_s_normalForMaxDistance.Copy(d_);for(let E_=0;E_<this.m_count;++E_){let Y_=a_.DotVV(this.m_normals[E_],a_.SubVV(d_,this.m_vertices[E_],a_.s_t0));Y_>B_&&(B_=Y_,T_.Copy(this.m_normals[E_]))}if(B_>0){let E_=N0.ComputeDistance_s_minDistance.Copy(T_),Y_=B_*B_;for(let H_=0;H_<this.m_count;++H_){let U_=a_.SubVV(d_,this.m_vertices[H_],N0.ComputeDistance_s_distance),$_=U_.LengthSquared();Y_>$_&&(E_.Copy(U_),Y_=$_)}return K2.MulRV(_n.q,E_,p_),p_.Normalize(),Math.sqrt(Y_)}else return K2.MulRV(_n.q,T_,p_),B_}RayCast(_n,r_,p_,b_){let d_=o0.MulTXV(p_,r_.p1,N0.RayCast_s_p1),B_=o0.MulTXV(p_,r_.p2,N0.RayCast_s_p2),T_=a_.SubVV(B_,d_,N0.RayCast_s_d),E_=0,Y_=r_.maxFraction,H_=-1;for(let U_=0;U_<this.m_count;++U_){let $_=a_.DotVV(this.m_normals[U_],a_.SubVV(this.m_vertices[U_],d_,a_.s_t0)),a2=a_.DotVV(this.m_normals[U_],T_);if(a2===0){if($_<0)return!1}else a2<0&&$_<E_*a2?(E_=$_/a2,H_=U_):a2>0&&$_<Y_*a2&&(Y_=$_/a2);if(Y_<E_)return!1}return H_>=0?(_n.fraction=E_,K2.MulRV(p_.q,this.m_normals[H_],_n.normal),!0):!1}ComputeAABB(_n,r_,p_){let b_=o0.MulXV(r_,this.m_vertices[0],_n.lowerBound),d_=_n.upperBound.Copy(b_);for(let T_=0;T_<this.m_count;++T_){let E_=o0.MulXV(r_,this.m_vertices[T_],N0.ComputeAABB_s_v);a_.MinV(E_,b_,b_),a_.MaxV(E_,d_,d_)}let B_=this.m_radius;b_.SelfSubXY(B_,B_),d_.SelfAddXY(B_,B_)}ComputeMass(_n,r_){let p_=N0.ComputeMass_s_center.SetZero(),b_=0,d_=0,B_=N0.ComputeMass_s_s.SetZero();for(let E_=0;E_<this.m_count;++E_)B_.SelfAdd(this.m_vertices[E_]);B_.SelfMul(1/this.m_count);let T_=1/3;for(let E_=0;E_<this.m_count;++E_){let Y_=a_.SubVV(this.m_vertices[E_],B_,N0.ComputeMass_s_e1),H_=a_.SubVV(this.m_vertices[(E_+1)%this.m_count],B_,N0.ComputeMass_s_e2),U_=a_.CrossVV(Y_,H_),$_=.5*U_;b_+=$_,p_.SelfAdd(a_.MulSV($_*T_,a_.AddVV(Y_,H_,a_.s_t0),a_.s_t1));let a2=Y_.x,g2=Y_.y,M2=H_.x,R2=H_.y,W2=a2*a2+M2*a2+M2*M2,z2=g2*g2+R2*g2+R2*R2;d_+=.25*T_*U_*(W2+z2)}_n.mass=r_*b_,p_.SelfMul(1/b_),a_.AddVV(p_,B_,_n.center),_n.I=r_*d_,_n.I+=_n.mass*(a_.DotVV(_n.center,_n.center)-a_.DotVV(p_,p_))}Validate(){for(let _n=0;_n<this.m_count;++_n){let r_=_n,p_=(_n+1)%this.m_count,b_=this.m_vertices[r_],d_=a_.SubVV(this.m_vertices[p_],b_,N0.Validate_s_e);for(let B_=0;B_<this.m_count;++B_){if(B_===r_||B_===p_)continue;let T_=a_.SubVV(this.m_vertices[B_],b_,N0.Validate_s_v);if(a_.CrossVV(d_,T_)<0)return!1}}return!0}SetupDistanceProxy(_n,r_){_n.m_vertices=this.m_vertices,_n.m_count=this.m_count,_n.m_radius=this.m_radius}ComputeSubmergedArea(_n,r_,p_,b_){let d_=K2.MulTRV(p_.q,_n,N0.ComputeSubmergedArea_s_normalL),B_=r_-a_.DotVV(_n,p_.p),T_=[],E_=0,Y_=-1,H_=-1,U_=!1;for(let _0=0;_0<this.m_count;++_0){T_[_0]=a_.DotVV(d_,this.m_vertices[_0])-B_;let g0=T_[_0]<-_r;_0>0&&(g0?U_||(Y_=_0-1,E_++):U_&&(H_=_0-1,E_++)),U_=g0}switch(E_){case 0:if(U_){let _0=N0.ComputeSubmergedArea_s_md;return this.ComputeMass(_0,1),o0.MulXV(p_,_0.center,b_),_0.mass}else return 0;case 1:Y_===-1?Y_=this.m_count-1:H_=this.m_count-1;break}let $_=(Y_+1)%this.m_count,a2=(H_+1)%this.m_count,g2=(0-T_[Y_])/(T_[$_]-T_[Y_]),M2=(0-T_[H_])/(T_[a2]-T_[H_]),R2=N0.ComputeSubmergedArea_s_intoVec.Set(this.m_vertices[Y_].x*(1-g2)+this.m_vertices[$_].x*g2,this.m_vertices[Y_].y*(1-g2)+this.m_vertices[$_].y*g2),W2=N0.ComputeSubmergedArea_s_outoVec.Set(this.m_vertices[H_].x*(1-M2)+this.m_vertices[a2].x*M2,this.m_vertices[H_].y*(1-M2)+this.m_vertices[a2].y*M2),z2=0,Q2=N0.ComputeSubmergedArea_s_center.SetZero(),$2=this.m_vertices[$_],t0,p0=$_;for(;p0!==a2;){p0=(p0+1)%this.m_count,p0===a2?t0=W2:t0=this.m_vertices[p0];let _0=.5*(($2.x-R2.x)*(t0.y-R2.y)-($2.y-R2.y)*(t0.x-R2.x));z2+=_0,Q2.x+=_0*(R2.x+$2.x+t0.x)/3,Q2.y+=_0*(R2.y+$2.y+t0.y)/3,$2=t0}return Q2.SelfMul(1/z2),o0.MulXV(p_,Q2,b_),z2}Dump(_n){_n(`    const shape: b2PolygonShape = new b2PolygonShape();
`),_n(`    const vs: b2Vec2[] = [];
`);for(let r_=0;r_<this.m_count;++r_)_n(`    vs[%d] = new b2Vec2(%.15f, %.15f);
`,r_,this.m_vertices[r_].x,this.m_vertices[r_].y);_n(`    shape.Set(vs, %d);
`,this.m_count)}static ComputeCentroid(_n,r_,p_){let b_=p_;b_.SetZero();let d_=0,B_=N0.ComputeCentroid_s_pRef.SetZero(),T_=1/3;for(let E_=0;E_<r_;++E_){let Y_=B_,H_=_n[E_],U_=_n[(E_+1)%r_],$_=a_.SubVV(H_,Y_,N0.ComputeCentroid_s_e1),a2=a_.SubVV(U_,Y_,N0.ComputeCentroid_s_e2),M2=.5*a_.CrossVV($_,a2);d_+=M2,b_.x+=M2*T_*(Y_.x+H_.x+U_.x),b_.y+=M2*T_*(Y_.y+H_.y+U_.y)}return b_.SelfMul(1/d_),b_}}N0.Set_s_r=new a_,N0.Set_s_v=new a_,N0.TestPoint_s_pLocal=new a_,N0.ComputeDistance_s_pLocal=new a_,N0.ComputeDistance_s_normalForMaxDistance=new a_,N0.ComputeDistance_s_minDistance=new a_,N0.ComputeDistance_s_distance=new a_,N0.RayCast_s_p1=new a_,N0.RayCast_s_p2=new a_,N0.RayCast_s_d=new a_,N0.ComputeAABB_s_v=new a_,N0.ComputeMass_s_center=new a_,N0.ComputeMass_s_s=new a_,N0.ComputeMass_s_e1=new a_,N0.ComputeMass_s_e2=new a_,N0.Validate_s_e=new a_,N0.Validate_s_v=new a_,N0.ComputeSubmergedArea_s_normalL=new a_,N0.ComputeSubmergedArea_s_md=new WV,N0.ComputeSubmergedArea_s_intoVec=new a_,N0.ComputeSubmergedArea_s_outoVec=new a_,N0.ComputeSubmergedArea_s_center=new a_,N0.ComputeCentroid_s_pRef=new a_,N0.ComputeCentroid_s_e1=new a_,N0.ComputeCentroid_s_e2=new a_;class a1 extends EB{constructor(){super(x.b2ShapeType.e_edgeShape,s_),this.m_vertex1=new a_,this.m_vertex2=new a_,this.m_vertex0=new a_,this.m_vertex3=new a_,this.m_hasVertex0=!1,this.m_hasVertex3=!1}Set(_n,r_){return this.m_vertex1.Copy(_n),this.m_vertex2.Copy(r_),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this}Clone(){return new a1().Copy(this)}Copy(_n){return super.Copy(_n),this.m_vertex1.Copy(_n.m_vertex1),this.m_vertex2.Copy(_n.m_vertex2),this.m_vertex0.Copy(_n.m_vertex0),this.m_vertex3.Copy(_n.m_vertex3),this.m_hasVertex0=_n.m_hasVertex0,this.m_hasVertex3=_n.m_hasVertex3,this}GetChildCount(){return 1}TestPoint(_n,r_){return!1}ComputeDistance(_n,r_,p_,b_){let d_=o0.MulXV(_n,this.m_vertex1,a1.ComputeDistance_s_v1),B_=o0.MulXV(_n,this.m_vertex2,a1.ComputeDistance_s_v2),T_=a_.SubVV(r_,d_,a1.ComputeDistance_s_d),E_=a_.SubVV(B_,d_,a1.ComputeDistance_s_s),Y_=a_.DotVV(T_,E_);if(Y_>0){let H_=a_.DotVV(E_,E_);Y_>H_?a_.SubVV(r_,B_,T_):T_.SelfMulSub(Y_/H_,E_)}return p_.Copy(T_),p_.Normalize()}RayCast(_n,r_,p_,b_){let d_=o0.MulTXV(p_,r_.p1,a1.RayCast_s_p1),B_=o0.MulTXV(p_,r_.p2,a1.RayCast_s_p2),T_=a_.SubVV(B_,d_,a1.RayCast_s_d),E_=this.m_vertex1,Y_=this.m_vertex2,H_=a_.SubVV(Y_,E_,a1.RayCast_s_e),U_=_n.normal.Set(H_.y,-H_.x).SelfNormalize(),$_=a_.DotVV(U_,a_.SubVV(E_,d_,a_.s_t0)),a2=a_.DotVV(U_,T_);if(a2===0)return!1;let g2=$_/a2;if(g2<0||r_.maxFraction<g2)return!1;let M2=a_.AddVMulSV(d_,g2,T_,a1.RayCast_s_q),R2=a_.SubVV(Y_,E_,a1.RayCast_s_r),W2=a_.DotVV(R2,R2);if(W2===0)return!1;let z2=a_.DotVV(a_.SubVV(M2,E_,a_.s_t0),R2)/W2;return z2<0||1<z2?!1:(_n.fraction=g2,K2.MulRV(p_.q,_n.normal,_n.normal),$_>0&&_n.normal.SelfNeg(),!0)}ComputeAABB(_n,r_,p_){let b_=o0.MulXV(r_,this.m_vertex1,a1.ComputeAABB_s_v1),d_=o0.MulXV(r_,this.m_vertex2,a1.ComputeAABB_s_v2);a_.MinV(b_,d_,_n.lowerBound),a_.MaxV(b_,d_,_n.upperBound);let B_=this.m_radius;_n.lowerBound.SelfSubXY(B_,B_),_n.upperBound.SelfAddXY(B_,B_)}ComputeMass(_n,r_){_n.mass=0,a_.MidVV(this.m_vertex1,this.m_vertex2,_n.center),_n.I=0}SetupDistanceProxy(_n,r_){_n.m_vertices=_n.m_buffer,_n.m_vertices[0].Copy(this.m_vertex1),_n.m_vertices[1].Copy(this.m_vertex2),_n.m_count=2,_n.m_radius=this.m_radius}ComputeSubmergedArea(_n,r_,p_,b_){return b_.SetZero(),0}Dump(_n){_n(`    const shape: b2EdgeShape = new b2EdgeShape();
`),_n(`    shape.m_radius = %.15f;
`,this.m_radius),_n(`    shape.m_vertex0.Set(%.15f, %.15f);
`,this.m_vertex0.x,this.m_vertex0.y),_n(`    shape.m_vertex1.Set(%.15f, %.15f);
`,this.m_vertex1.x,this.m_vertex1.y),_n(`    shape.m_vertex2.Set(%.15f, %.15f);
`,this.m_vertex2.x,this.m_vertex2.y),_n(`    shape.m_vertex3.Set(%.15f, %.15f);
`,this.m_vertex3.x,this.m_vertex3.y),_n(`    shape.m_hasVertex0 = %s;
`,this.m_hasVertex0),_n(`    shape.m_hasVertex3 = %s;
`,this.m_hasVertex3)}}a1.ComputeDistance_s_v1=new a_,a1.ComputeDistance_s_v2=new a_,a1.ComputeDistance_s_d=new a_,a1.ComputeDistance_s_s=new a_,a1.RayCast_s_p1=new a_,a1.RayCast_s_p2=new a_,a1.RayCast_s_d=new a_,a1.RayCast_s_e=new a_,a1.RayCast_s_q=new a_,a1.RayCast_s_r=new a_,a1.ComputeAABB_s_v1=new a_,a1.ComputeAABB_s_v2=new a_;class AC extends EB{constructor(){super(x.b2ShapeType.e_chainShape,s_),this.m_vertices=[],this.m_count=0,this.m_prevVertex=new a_,this.m_nextVertex=new a_,this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1}CreateLoop(..._n){if(typeof _n[0][0]=="number"){let r_=_n[0];if(r_.length%2!==0)throw new Error;return this._CreateLoop(p_=>({x:r_[p_*2],y:r_[p_*2+1]}),r_.length/2)}else{let r_=_n[0],p_=_n[1]||r_.length;return this._CreateLoop(b_=>r_[b_],p_)}}_CreateLoop(_n,r_){if(r_<3)return this;this.m_count=r_+1,this.m_vertices=a_.MakeArray(this.m_count);for(let p_=0;p_<r_;++p_)this.m_vertices[p_].Copy(_n(p_));return this.m_vertices[r_].Copy(this.m_vertices[0]),this.m_prevVertex.Copy(this.m_vertices[this.m_count-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this}CreateChain(..._n){if(typeof _n[0][0]=="number"){let r_=_n[0];if(r_.length%2!==0)throw new Error;return this._CreateChain(p_=>({x:r_[p_*2],y:r_[p_*2+1]}),r_.length/2)}else{let r_=_n[0],p_=_n[1]||r_.length;return this._CreateChain(b_=>r_[b_],p_)}}_CreateChain(_n,r_){this.m_count=r_,this.m_vertices=a_.MakeArray(r_);for(let p_=0;p_<r_;++p_)this.m_vertices[p_].Copy(_n(p_));return this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_prevVertex.SetZero(),this.m_nextVertex.SetZero(),this}SetPrevVertex(_n){return this.m_prevVertex.Copy(_n),this.m_hasPrevVertex=!0,this}SetNextVertex(_n){return this.m_nextVertex.Copy(_n),this.m_hasNextVertex=!0,this}Clone(){return new AC().Copy(this)}Copy(_n){return super.Copy(_n),this._CreateChain(r_=>_n.m_vertices[r_],_n.m_count),this.m_prevVertex.Copy(_n.m_prevVertex),this.m_nextVertex.Copy(_n.m_nextVertex),this.m_hasPrevVertex=_n.m_hasPrevVertex,this.m_hasNextVertex=_n.m_hasNextVertex,this}GetChildCount(){return this.m_count-1}GetChildEdge(_n,r_){_n.m_radius=this.m_radius,_n.m_vertex1.Copy(this.m_vertices[r_]),_n.m_vertex2.Copy(this.m_vertices[r_+1]),r_>0?(_n.m_vertex0.Copy(this.m_vertices[r_-1]),_n.m_hasVertex0=!0):(_n.m_vertex0.Copy(this.m_prevVertex),_n.m_hasVertex0=this.m_hasPrevVertex),r_<this.m_count-2?(_n.m_vertex3.Copy(this.m_vertices[r_+2]),_n.m_hasVertex3=!0):(_n.m_vertex3.Copy(this.m_nextVertex),_n.m_hasVertex3=this.m_hasNextVertex)}TestPoint(_n,r_){return!1}ComputeDistance(_n,r_,p_,b_){let d_=AC.ComputeDistance_s_edgeShape;return this.GetChildEdge(d_,b_),d_.ComputeDistance(_n,r_,p_,0)}RayCast(_n,r_,p_,b_){let d_=AC.RayCast_s_edgeShape;return d_.m_vertex1.Copy(this.m_vertices[b_]),d_.m_vertex2.Copy(this.m_vertices[(b_+1)%this.m_count]),d_.RayCast(_n,r_,p_,0)}ComputeAABB(_n,r_,p_){let b_=this.m_vertices[p_],d_=this.m_vertices[(p_+1)%this.m_count],B_=o0.MulXV(r_,b_,AC.ComputeAABB_s_v1),T_=o0.MulXV(r_,d_,AC.ComputeAABB_s_v2);a_.MinV(B_,T_,_n.lowerBound),a_.MaxV(B_,T_,_n.upperBound)}ComputeMass(_n,r_){_n.mass=0,_n.center.SetZero(),_n.I=0}SetupDistanceProxy(_n,r_){_n.m_vertices=_n.m_buffer,_n.m_vertices[0].Copy(this.m_vertices[r_]),r_+1<this.m_count?_n.m_vertices[1].Copy(this.m_vertices[r_+1]):_n.m_vertices[1].Copy(this.m_vertices[0]),_n.m_count=2,_n.m_radius=this.m_radius}ComputeSubmergedArea(_n,r_,p_,b_){return b_.SetZero(),0}Dump(_n){_n(`    const shape: b2ChainShape = new b2ChainShape();
`),_n(`    const vs: b2Vec2[] = [];
`);for(let r_=0;r_<this.m_count;++r_)_n(`    vs[%d] = new bVec2(%.15f, %.15f);
`,r_,this.m_vertices[r_].x,this.m_vertices[r_].y);_n(`    shape.CreateChain(vs, %d);
`,this.m_count),_n(`    shape.m_prevVertex.Set(%.15f, %.15f);
`,this.m_prevVertex.x,this.m_prevVertex.y),_n(`    shape.m_nextVertex.Set(%.15f, %.15f);
`,this.m_nextVertex.x,this.m_nextVertex.y),_n(`    shape.m_hasPrevVertex = %s;
`,this.m_hasPrevVertex?"true":"false"),_n(`    shape.m_hasNextVertex = %s;
`,this.m_hasNextVertex?"true":"false")}}AC.ComputeDistance_s_edgeShape=new a1,AC.RayCast_s_edgeShape=new a1,AC.ComputeAABB_s_v1=new a_,AC.ComputeAABB_s_v2=new a_;class gB{constructor(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0}Clone(){return new gB().Copy(this)}Copy(_n){return this.categoryBits=_n.categoryBits,this.maskBits=_n.maskBits,this.groupIndex=_n.groupIndex||0,this}}gB.DEFAULT=new gB;class mM{constructor(){this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.isSensor=!1,this.filter=new gB}}class kB{constructor(_n,r_){this.aabb=new UA,this.childIndex=0,this.fixture=_n,this.childIndex=r_,this.fixture.m_shape.ComputeAABB(this.aabb,this.fixture.m_body.GetTransform(),r_),this.treeNode=this.fixture.m_body.m_world.m_contactManager.m_broadPhase.CreateProxy(this.aabb,this)}Reset(){this.fixture.m_body.m_world.m_contactManager.m_broadPhase.DestroyProxy(this.treeNode)}Touch(){this.fixture.m_body.m_world.m_contactManager.m_broadPhase.TouchProxy(this.treeNode)}Synchronize(_n,r_,p_){if(_n===r_)this.fixture.m_shape.ComputeAABB(this.aabb,_n,this.childIndex),this.fixture.m_body.m_world.m_contactManager.m_broadPhase.MoveProxy(this.treeNode,this.aabb,p_);else{let b_=kB.Synchronize_s_aabb1,d_=kB.Synchronize_s_aabb2;this.fixture.m_shape.ComputeAABB(b_,_n,this.childIndex),this.fixture.m_shape.ComputeAABB(d_,r_,this.childIndex),this.aabb.Combine2(b_,d_),this.fixture.m_body.m_world.m_contactManager.m_broadPhase.MoveProxy(this.treeNode,this.aabb,p_)}}}kB.Synchronize_s_aabb1=new UA,kB.Synchronize_s_aabb2=new UA;class bM{constructor(_n,r_){this.m_density=0,this.m_next=null,this.m_friction=0,this.m_restitution=0,this.m_proxies=[],this.m_filter=new gB,this.m_isSensor=!1,this.m_userData=null,this.m_body=_n,this.m_shape=r_.shape.Clone(),this.m_userData=o(r_.userData,null),this.m_friction=o(r_.friction,.2),this.m_restitution=o(r_.restitution,0),this.m_filter.Copy(o(r_.filter,gB.DEFAULT)),this.m_isSensor=o(r_.isSensor,!1),this.m_density=o(r_.density,0)}get m_proxyCount(){return this.m_proxies.length}Reset(){}GetType(){return this.m_shape.GetType()}GetShape(){return this.m_shape}SetSensor(_n){_n!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=_n)}IsSensor(){return this.m_isSensor}SetFilterData(_n){this.m_filter.Copy(_n),this.Refilter()}GetFilterData(){return this.m_filter}Refilter(){let _n=this.m_body.GetContactList();for(;_n;){let r_=_n.contact,p_=r_.GetFixtureA(),b_=r_.GetFixtureB();(p_===this||b_===this)&&r_.FlagForFiltering(),_n=_n.next}this.TouchProxies()}GetBody(){return this.m_body}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(_n){this.m_userData=_n}TestPoint(_n){return this.m_shape.TestPoint(this.m_body.GetTransform(),_n)}ComputeDistance(_n,r_,p_){return this.m_shape.ComputeDistance(this.m_body.GetTransform(),_n,r_,p_)}RayCast(_n,r_,p_){return this.m_shape.RayCast(_n,r_,this.m_body.GetTransform(),p_)}GetMassData(_n=new WV){return this.m_shape.ComputeMass(_n,this.m_density),_n}SetDensity(_n){this.m_density=_n}GetDensity(){return this.m_density}GetFriction(){return this.m_friction}SetFriction(_n){this.m_friction=_n}GetRestitution(){return this.m_restitution}SetRestitution(_n){this.m_restitution=_n}GetAABB(_n){return this.m_proxies[_n].aabb}Dump(_n,r_){_n(`    const fd: b2FixtureDef = new b2FixtureDef();
`),_n(`    fd.friction = %.15f;
`,this.m_friction),_n(`    fd.restitution = %.15f;
`,this.m_restitution),_n(`    fd.density = %.15f;
`,this.m_density),_n(`    fd.isSensor = %s;
`,this.m_isSensor?"true":"false"),_n(`    fd.filter.categoryBits = %d;
`,this.m_filter.categoryBits),_n(`    fd.filter.maskBits = %d;
`,this.m_filter.maskBits),_n(`    fd.filter.groupIndex = %d;
`,this.m_filter.groupIndex),this.m_shape.Dump(_n),_n(`
`),_n(`    fd.shape = shape;
`),_n(`
`),_n(`    bodies[%d].CreateFixture(fd);
`,r_)}CreateProxies(){if(this.m_proxies.length!==0)throw new Error;for(let _n=0;_n<this.m_shape.GetChildCount();++_n)this.m_proxies[_n]=new kB(this,_n)}DestroyProxies(){for(let _n of this.m_proxies)_n.Reset();this.m_proxies.length=0}TouchProxies(){for(let _n of this.m_proxies)_n.Touch()}SynchronizeProxies(_n,r_,p_){for(let b_ of this.m_proxies)b_.Synchronize(_n,r_,p_)}}(function(i2){i2[i2.b2_unknown=-1]="b2_unknown",i2[i2.b2_staticBody=0]="b2_staticBody",i2[i2.b2_kinematicBody=1]="b2_kinematicBody",i2[i2.b2_dynamicBody=2]="b2_dynamicBody"})(x.b2BodyType||(x.b2BodyType={}));class z8{constructor(){this.type=x.b2BodyType.b2_staticBody,this.position=new a_(0,0),this.angle=0,this.linearVelocity=new a_(0,0),this.angularVelocity=0,this.linearDamping=0,this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.active=!0,this.userData=null,this.gravityScale=1}}class sS{constructor(_n,r_){this.m_type=x.b2BodyType.b2_staticBody,this.m_islandFlag=!1,this.m_awakeFlag=!1,this.m_autoSleepFlag=!1,this.m_bulletFlag=!1,this.m_fixedRotationFlag=!1,this.m_activeFlag=!1,this.m_toiFlag=!1,this.m_islandIndex=0,this.m_xf=new o0,this.m_xf0=new o0,this.m_sweep=new rS,this.m_linearVelocity=new a_,this.m_angularVelocity=0,this.m_force=new a_,this.m_torque=0,this.m_prev=null,this.m_next=null,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_jointList=null,this.m_contactList=null,this.m_mass=1,this.m_invMass=1,this.m_I=0,this.m_invI=0,this.m_linearDamping=0,this.m_angularDamping=0,this.m_gravityScale=1,this.m_sleepTime=0,this.m_userData=null,this.m_controllerList=null,this.m_controllerCount=0,this.m_bulletFlag=o(_n.bullet,!1),this.m_fixedRotationFlag=o(_n.fixedRotation,!1),this.m_autoSleepFlag=o(_n.allowSleep,!0),this.m_awakeFlag=o(_n.awake,!0),this.m_activeFlag=o(_n.active,!0),this.m_world=r_,this.m_xf.p.Copy(o(_n.position,a_.ZERO)),this.m_xf.q.SetAngle(o(_n.angle,0)),this.m_xf0.Copy(this.m_xf),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a=this.m_xf.q.GetAngle(),this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(o(_n.linearVelocity,a_.ZERO)),this.m_angularVelocity=o(_n.angularVelocity,0),this.m_linearDamping=o(_n.linearDamping,0),this.m_angularDamping=o(_n.angularDamping,0),this.m_gravityScale=o(_n.gravityScale,1),this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=o(_n.type,x.b2BodyType.b2_staticBody),_n.type===x.b2BodyType.b2_dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_userData=_n.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_controllerList=null,this.m_controllerCount=0}CreateFixture(_n,r_=0){return _n instanceof EB?this.CreateFixtureShapeDensity(_n,r_):this.CreateFixtureDef(_n)}CreateFixtureDef(_n){if(this.m_world.IsLocked())throw new Error;let r_=new bM(this,_n);return this.m_activeFlag&&r_.CreateProxies(),r_.m_next=this.m_fixtureList,this.m_fixtureList=r_,++this.m_fixtureCount,r_.m_density>0&&this.ResetMassData(),this.m_world.m_newFixture=!0,r_}CreateFixtureShapeDensity(_n,r_=0){let p_=sS.CreateFixtureShapeDensity_s_def;return p_.shape=_n,p_.density=r_,this.CreateFixtureDef(p_)}DestroyFixture(_n){if(this.m_world.IsLocked())throw new Error;let r_=this.m_fixtureList,p_=null;for(;r_!==null;){if(r_===_n){p_?p_.m_next=_n.m_next:this.m_fixtureList=_n.m_next;break}p_=r_,r_=r_.m_next}let b_=this.m_contactList;for(;b_;){let d_=b_.contact;b_=b_.next;let B_=d_.GetFixtureA(),T_=d_.GetFixtureB();(_n===B_||_n===T_)&&this.m_world.m_contactManager.Destroy(d_)}this.m_activeFlag&&_n.DestroyProxies(),_n.m_next=null,_n.Reset(),--this.m_fixtureCount,this.ResetMassData()}SetTransformVec(_n,r_){this.SetTransformXY(_n.x,_n.y,r_)}SetTransformXY(_n,r_,p_){if(this.m_world.IsLocked())throw new Error;this.m_xf.q.SetAngle(p_),this.m_xf.p.Set(_n,r_),this.m_xf0.Copy(this.m_xf),o0.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=p_,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=p_;for(let b_=this.m_fixtureList;b_;b_=b_.m_next)b_.SynchronizeProxies(this.m_xf,this.m_xf,a_.ZERO);this.m_world.m_contactManager.FindNewContacts()}SetTransform(_n){this.SetTransformVec(_n.p,_n.GetAngle())}GetTransform(){return this.m_xf}GetPosition(){return this.m_xf.p}SetPosition(_n){this.SetTransformVec(_n,this.GetAngle())}SetPositionXY(_n,r_){this.SetTransformXY(_n,r_,this.GetAngle())}GetAngle(){return this.m_sweep.a}SetAngle(_n){this.SetTransformVec(this.GetPosition(),_n)}GetWorldCenter(){return this.m_sweep.c}GetLocalCenter(){return this.m_sweep.localCenter}SetLinearVelocity(_n){this.m_type!==x.b2BodyType.b2_staticBody&&(a_.DotVV(_n,_n)>0&&this.SetAwake(!0),this.m_linearVelocity.Copy(_n))}GetLinearVelocity(){return this.m_linearVelocity}SetAngularVelocity(_n){this.m_type!==x.b2BodyType.b2_staticBody&&(_n*_n>0&&this.SetAwake(!0),this.m_angularVelocity=_n)}GetAngularVelocity(){return this.m_angularVelocity}GetDefinition(_n){return _n.type=this.GetType(),_n.allowSleep=this.m_autoSleepFlag,_n.angle=this.GetAngle(),_n.angularDamping=this.m_angularDamping,_n.gravityScale=this.m_gravityScale,_n.angularVelocity=this.m_angularVelocity,_n.fixedRotation=this.m_fixedRotationFlag,_n.bullet=this.m_bulletFlag,_n.awake=this.m_awakeFlag,_n.linearDamping=this.m_linearDamping,_n.linearVelocity.Copy(this.GetLinearVelocity()),_n.position.Copy(this.GetPosition()),_n.userData=this.GetUserData(),_n}ApplyForce(_n,r_,p_=!0){this.m_type===x.b2BodyType.b2_dynamicBody&&(p_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=_n.x,this.m_force.y+=_n.y,this.m_torque+=(r_.x-this.m_sweep.c.x)*_n.y-(r_.y-this.m_sweep.c.y)*_n.x))}ApplyForceToCenter(_n,r_=!0){this.m_type===x.b2BodyType.b2_dynamicBody&&(r_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=_n.x,this.m_force.y+=_n.y))}ApplyTorque(_n,r_=!0){this.m_type===x.b2BodyType.b2_dynamicBody&&(r_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_torque+=_n))}ApplyLinearImpulse(_n,r_,p_=!0){this.m_type===x.b2BodyType.b2_dynamicBody&&(p_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*_n.x,this.m_linearVelocity.y+=this.m_invMass*_n.y,this.m_angularVelocity+=this.m_invI*((r_.x-this.m_sweep.c.x)*_n.y-(r_.y-this.m_sweep.c.y)*_n.x)))}ApplyLinearImpulseToCenter(_n,r_=!0){this.m_type===x.b2BodyType.b2_dynamicBody&&(r_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*_n.x,this.m_linearVelocity.y+=this.m_invMass*_n.y))}ApplyAngularImpulse(_n,r_=!0){this.m_type===x.b2BodyType.b2_dynamicBody&&(r_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*_n))}GetMass(){return this.m_mass}GetInertia(){return this.m_I+this.m_mass*a_.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter)}GetMassData(_n){return _n.mass=this.m_mass,_n.I=this.m_I+this.m_mass*a_.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter),_n.center.Copy(this.m_sweep.localCenter),_n}SetMassData(_n){if(this.m_world.IsLocked())throw new Error;if(this.m_type!==x.b2BodyType.b2_dynamicBody)return;this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=_n.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,_n.I>0&&!this.m_fixedRotationFlag&&(this.m_I=_n.I-this.m_mass*a_.DotVV(_n.center,_n.center),this.m_invI=1/this.m_I);let r_=sS.SetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(_n.center),o0.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),a_.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,a_.SubVV(this.m_sweep.c,r_,a_.s_t0),this.m_linearVelocity)}ResetMassData(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===x.b2BodyType.b2_staticBody||this.m_type===x.b2BodyType.b2_kinematicBody){this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;return}let _n=sS.ResetMassData_s_localCenter.SetZero();for(let p_=this.m_fixtureList;p_;p_=p_.m_next){if(p_.m_density===0)continue;let b_=p_.GetMassData(sS.ResetMassData_s_massData);this.m_mass+=b_.mass,_n.x+=b_.center.x*b_.mass,_n.y+=b_.center.y*b_.mass,this.m_I+=b_.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,_n.x*=this.m_invMass,_n.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&!this.m_fixedRotationFlag?(this.m_I-=this.m_mass*a_.DotVV(_n,_n),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);let r_=sS.ResetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(_n),o0.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),a_.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,a_.SubVV(this.m_sweep.c,r_,a_.s_t0),this.m_linearVelocity)}GetWorldPoint(_n,r_){return o0.MulXV(this.m_xf,_n,r_)}GetWorldVector(_n,r_){return K2.MulRV(this.m_xf.q,_n,r_)}GetLocalPoint(_n,r_){return o0.MulTXV(this.m_xf,_n,r_)}GetLocalVector(_n,r_){return K2.MulTRV(this.m_xf.q,_n,r_)}GetLinearVelocityFromWorldPoint(_n,r_){return a_.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,a_.SubVV(_n,this.m_sweep.c,a_.s_t0),r_)}GetLinearVelocityFromLocalPoint(_n,r_){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(_n,r_),r_)}GetLinearDamping(){return this.m_linearDamping}SetLinearDamping(_n){this.m_linearDamping=_n}GetAngularDamping(){return this.m_angularDamping}SetAngularDamping(_n){this.m_angularDamping=_n}GetGravityScale(){return this.m_gravityScale}SetGravityScale(_n){this.m_gravityScale=_n}SetType(_n){if(this.m_world.IsLocked())throw new Error;if(this.m_type===_n)return;this.m_type=_n,this.ResetMassData(),this.m_type===x.b2BodyType.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;let r_=this.m_contactList;for(;r_;){let p_=r_;r_=r_.next,this.m_world.m_contactManager.Destroy(p_.contact)}this.m_contactList=null;for(let p_=this.m_fixtureList;p_;p_=p_.m_next)p_.TouchProxies()}GetType(){return this.m_type}SetBullet(_n){this.m_bulletFlag=_n}IsBullet(){return this.m_bulletFlag}SetSleepingAllowed(_n){this.m_autoSleepFlag=_n,_n||this.SetAwake(!0)}IsSleepingAllowed(){return this.m_autoSleepFlag}SetAwake(_n){_n?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)}IsAwake(){return this.m_awakeFlag}SetActive(_n){if(this.m_world.IsLocked())throw new Error;if(_n!==this.IsActive())if(this.m_activeFlag=_n,_n)for(let r_=this.m_fixtureList;r_;r_=r_.m_next)r_.CreateProxies();else{for(let p_=this.m_fixtureList;p_;p_=p_.m_next)p_.DestroyProxies();let r_=this.m_contactList;for(;r_;){let p_=r_;r_=r_.next,this.m_world.m_contactManager.Destroy(p_.contact)}this.m_contactList=null}}IsActive(){return this.m_activeFlag}SetFixedRotation(_n){this.m_fixedRotationFlag!==_n&&(this.m_fixedRotationFlag=_n,this.m_angularVelocity=0,this.ResetMassData())}IsFixedRotation(){return this.m_fixedRotationFlag}GetFixtureList(){return this.m_fixtureList}GetJointList(){return this.m_jointList}GetContactList(){return this.m_contactList}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(_n){this.m_userData=_n}GetWorld(){return this.m_world}Dump(_n){let r_=this.m_islandIndex;_n(`{
`),_n(`  const bd: b2BodyDef = new b2BodyDef();
`);let p_="";switch(this.m_type){case x.b2BodyType.b2_staticBody:p_="b2BodyType.b2_staticBody";break;case x.b2BodyType.b2_kinematicBody:p_="b2BodyType.b2_kinematicBody";break;case x.b2BodyType.b2_dynamicBody:p_="b2BodyType.b2_dynamicBody";break;default:break}_n(`  bd.type = %s;
`,p_),_n(`  bd.position.Set(%.15f, %.15f);
`,this.m_xf.p.x,this.m_xf.p.y),_n(`  bd.angle = %.15f;
`,this.m_sweep.a),_n(`  bd.linearVelocity.Set(%.15f, %.15f);
`,this.m_linearVelocity.x,this.m_linearVelocity.y),_n(`  bd.angularVelocity = %.15f;
`,this.m_angularVelocity),_n(`  bd.linearDamping = %.15f;
`,this.m_linearDamping),_n(`  bd.angularDamping = %.15f;
`,this.m_angularDamping),_n(`  bd.allowSleep = %s;
`,this.m_autoSleepFlag?"true":"false"),_n(`  bd.awake = %s;
`,this.m_awakeFlag?"true":"false"),_n(`  bd.fixedRotation = %s;
`,this.m_fixedRotationFlag?"true":"false"),_n(`  bd.bullet = %s;
`,this.m_bulletFlag?"true":"false"),_n(`  bd.active = %s;
`,this.m_activeFlag?"true":"false"),_n(`  bd.gravityScale = %.15f;
`,this.m_gravityScale),_n(`
`),_n(`  bodies[%d] = this.m_world.CreateBody(bd);
`,this.m_islandIndex),_n(`
`);for(let b_=this.m_fixtureList;b_;b_=b_.m_next)_n(`  {
`),b_.Dump(_n,r_),_n(`  }
`);_n(`}
`)}SynchronizeFixtures(){let _n=sS.SynchronizeFixtures_s_xf1;_n.q.SetAngle(this.m_sweep.a0),K2.MulRV(_n.q,this.m_sweep.localCenter,_n.p),a_.SubVV(this.m_sweep.c0,_n.p,_n.p);let r_=a_.SubVV(this.m_sweep.c,this.m_sweep.c0,sS.SynchronizeFixtures_s_displacement);for(let p_=this.m_fixtureList;p_;p_=p_.m_next)p_.SynchronizeProxies(_n,this.m_xf,r_)}SynchronizeTransform(){this.m_xf.q.SetAngle(this.m_sweep.a),K2.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),a_.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}ShouldCollide(_n){return this.m_type===x.b2BodyType.b2_staticBody&&_n.m_type===x.b2BodyType.b2_staticBody?!1:this.ShouldCollideConnected(_n)}ShouldCollideConnected(_n){for(let r_=this.m_jointList;r_;r_=r_.next)if(r_.other===_n&&!r_.joint.m_collideConnected)return!1;return!0}Advance(_n){this.m_sweep.Advance(_n),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.SetAngle(this.m_sweep.a),K2.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),a_.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}GetControllerList(){return this.m_controllerList}GetControllerCount(){return this.m_controllerCount}}sS.CreateFixtureShapeDensity_s_def=new mM,sS.SetMassData_s_oldCenter=new a_,sS.ResetMassData_s_localCenter=new a_,sS.ResetMassData_s_oldCenter=new a_,sS.ResetMassData_s_massData=new WV,sS.SynchronizeFixtures_s_xf1=new o0,sS.SynchronizeFixtures_s_displacement=new a_,function(i2){i2[i2.e_unknownJoint=0]="e_unknownJoint",i2[i2.e_revoluteJoint=1]="e_revoluteJoint",i2[i2.e_prismaticJoint=2]="e_prismaticJoint",i2[i2.e_distanceJoint=3]="e_distanceJoint",i2[i2.e_pulleyJoint=4]="e_pulleyJoint",i2[i2.e_mouseJoint=5]="e_mouseJoint",i2[i2.e_gearJoint=6]="e_gearJoint",i2[i2.e_wheelJoint=7]="e_wheelJoint",i2[i2.e_weldJoint=8]="e_weldJoint",i2[i2.e_frictionJoint=9]="e_frictionJoint",i2[i2.e_ropeJoint=10]="e_ropeJoint",i2[i2.e_motorJoint=11]="e_motorJoint",i2[i2.e_areaJoint=12]="e_areaJoint"}(x.b2JointType||(x.b2JointType={})),function(i2){i2[i2.e_inactiveLimit=0]="e_inactiveLimit",i2[i2.e_atLowerLimit=1]="e_atLowerLimit",i2[i2.e_atUpperLimit=2]="e_atUpperLimit",i2[i2.e_equalLimits=3]="e_equalLimits"}(x.b2LimitState||(x.b2LimitState={}));class W8{constructor(){this.linear=new a_,this.angularA=0,this.angularB=0}SetZero(){return this.linear.SetZero(),this.angularA=0,this.angularB=0,this}Set(_n,r_,p_){return this.linear.Copy(_n),this.angularA=r_,this.angularB=p_,this}}class Z4{constructor(_n){this._other=null,this.prev=null,this.next=null,this.joint=_n}get other(){if(this._other===null)throw new Error;return this._other}set other(_n){if(this._other!==null)throw new Error;this._other=_n}Reset(){this._other=null,this.prev=null,this.next=null}}class KS{constructor(_n){this.type=x.b2JointType.e_unknownJoint,this.userData=null,this.collideConnected=!1,this.type=_n}}class QS{constructor(_n){this.m_type=x.b2JointType.e_unknownJoint,this.m_prev=null,this.m_next=null,this.m_edgeA=new Z4(this),this.m_edgeB=new Z4(this),this.m_index=0,this.m_islandFlag=!1,this.m_collideConnected=!1,this.m_userData=null,this.m_type=_n.type,this.m_edgeA.other=_n.bodyB,this.m_edgeB.other=_n.bodyA,this.m_bodyA=_n.bodyA,this.m_bodyB=_n.bodyB,this.m_collideConnected=o(_n.collideConnected,!1),this.m_userData=o(_n.userData,null)}GetType(){return this.m_type}GetBodyA(){return this.m_bodyA}GetBodyB(){return this.m_bodyB}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(_n){this.m_userData=_n}IsActive(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()}GetCollideConnected(){return this.m_collideConnected}Dump(_n){_n(`// Dump is not supported for this joint type.
`)}ShiftOrigin(_n){}}class uM extends KS{constructor(){super(x.b2JointType.e_distanceJoint),this.localAnchorA=new a_,this.localAnchorB=new a_,this.length=1,this.frequencyHz=0,this.dampingRatio=0}Initialize(_n,r_,p_,b_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(b_,this.localAnchorB),this.length=a_.DistanceVV(p_,b_),this.frequencyHz=0,this.dampingRatio=0}}class $S extends QS{constructor(_n){super(_n),this.m_frequencyHz=0,this.m_dampingRatio=0,this.m_bias=0,this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_gamma=0,this.m_impulse=0,this.m_length=0,this.m_indexA=0,this.m_indexB=0,this.m_u=new a_,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=0,this.m_qA=new K2,this.m_qB=new K2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_frequencyHz=o(_n.frequencyHz,0),this.m_dampingRatio=o(_n.dampingRatio,0),this.m_localAnchorA.Copy(_n.localAnchorA),this.m_localAnchorB.Copy(_n.localAnchorB),this.m_length=_n.length}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*this.m_impulse*this.m_u.x,r_.y=_n*this.m_impulse*this.m_u.y,r_}GetReactionTorque(_n){return 0}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetLength(_n){this.m_length=_n}Length(){return this.m_length}SetFrequency(_n){this.m_frequencyHz=_n}GetFrequency(){return this.m_frequencyHz}SetDampingRatio(_n){this.m_dampingRatio=_n}GetDampingRatio(){return this.m_dampingRatio}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2DistanceJointDef = new b2DistanceJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.length = %.15f;
`,this.m_length),_n(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),_n(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.velocities[this.m_indexA].v,d_=_n.velocities[this.m_indexA].w,B_=_n.positions[this.m_indexB].c,T_=_n.positions[this.m_indexB].a,E_=_n.velocities[this.m_indexB].v,Y_=_n.velocities[this.m_indexB].w,H_=this.m_qA.SetAngle(p_),U_=this.m_qB.SetAngle(T_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),K2.MulRV(H_,this.m_lalcA,this.m_rA),a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),K2.MulRV(U_,this.m_lalcB,this.m_rB),this.m_u.x=B_.x+this.m_rB.x-r_.x-this.m_rA.x,this.m_u.y=B_.y+this.m_rB.y-r_.y-this.m_rA.y;let $_=this.m_u.Length();$_>ws?this.m_u.SelfMul(1/$_):this.m_u.SetZero();let a2=a_.CrossVV(this.m_rA,this.m_u),g2=a_.CrossVV(this.m_rB,this.m_u),M2=this.m_invMassA+this.m_invIA*a2*a2+this.m_invMassB+this.m_invIB*g2*g2;if(this.m_mass=M2!==0?1/M2:0,this.m_frequencyHz>0){let R2=$_-this.m_length,W2=2*e_*this.m_frequencyHz,z2=2*this.m_mass*this.m_dampingRatio*W2,Q2=this.m_mass*W2*W2,$2=_n.step.dt;this.m_gamma=$2*(z2+$2*Q2),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=R2*$2*Q2*this.m_gamma,M2+=this.m_gamma,this.m_mass=M2!==0?1/M2:0}else this.m_gamma=0,this.m_bias=0;if(_n.step.warmStarting){this.m_impulse*=_n.step.dtRatio;let R2=a_.MulSV(this.m_impulse,this.m_u,$S.InitVelocityConstraints_s_P);b_.SelfMulSub(this.m_invMassA,R2),d_-=this.m_invIA*a_.CrossVV(this.m_rA,R2),E_.SelfMulAdd(this.m_invMassB,R2),Y_+=this.m_invIB*a_.CrossVV(this.m_rB,R2)}else this.m_impulse=0;_n.velocities[this.m_indexA].w=d_,_n.velocities[this.m_indexB].w=Y_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,B_=a_.AddVCrossSV(r_,p_,this.m_rA,$S.SolveVelocityConstraints_s_vpA),T_=a_.AddVCrossSV(b_,d_,this.m_rB,$S.SolveVelocityConstraints_s_vpB),E_=a_.DotVV(this.m_u,a_.SubVV(T_,B_,a_.s_t0)),Y_=-this.m_mass*(E_+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=Y_;let H_=a_.MulSV(Y_,this.m_u,$S.SolveVelocityConstraints_s_P);r_.SelfMulSub(this.m_invMassA,H_),p_-=this.m_invIA*a_.CrossVV(this.m_rA,H_),b_.SelfMulAdd(this.m_invMassB,H_),d_+=this.m_invIB*a_.CrossVV(this.m_rB,H_),_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){if(this.m_frequencyHz>0)return!0;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,B_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_),E_=K2.MulRV(B_,this.m_lalcA,this.m_rA),Y_=K2.MulRV(T_,this.m_lalcB,this.m_rB),H_=this.m_u;H_.x=b_.x+Y_.x-r_.x-E_.x,H_.y=b_.y+Y_.y-r_.y-E_.y;let $_=this.m_u.Normalize()-this.m_length;$_=Vy($_,-I_,I_);let a2=-this.m_mass*$_,g2=a_.MulSV(a2,H_,$S.SolvePositionConstraints_s_P);return r_.SelfMulSub(this.m_invMassA,g2),p_-=this.m_invIA*a_.CrossVV(E_,g2),b_.SelfMulAdd(this.m_invMassB,g2),d_+=this.m_invIB*a_.CrossVV(Y_,g2),_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,P0($_)<ws}}$S.InitVelocityConstraints_s_P=new a_,$S.SolveVelocityConstraints_s_vpA=new a_,$S.SolveVelocityConstraints_s_vpB=new a_,$S.SolveVelocityConstraints_s_P=new a_,$S.SolvePositionConstraints_s_P=new a_;class N8 extends KS{constructor(){super(x.b2JointType.e_areaJoint),this.bodies=[],this.frequencyHz=0,this.dampingRatio=0}AddBody(_n){this.bodies.push(_n),this.bodies.length===1?this.bodyA=_n:this.bodies.length===2&&(this.bodyB=_n)}}class hM extends QS{constructor(_n){super(_n),this.m_frequencyHz=0,this.m_dampingRatio=0,this.m_impulse=0,this.m_targetArea=0,this.m_delta=new a_,this.m_bodies=_n.bodies,this.m_frequencyHz=o(_n.frequencyHz,0),this.m_dampingRatio=o(_n.dampingRatio,0),this.m_targetLengths=h0(_n.bodies.length),this.m_normals=a_.MakeArray(_n.bodies.length),this.m_joints=[],this.m_deltas=a_.MakeArray(_n.bodies.length);let r_=new uM;r_.frequencyHz=this.m_frequencyHz,r_.dampingRatio=this.m_dampingRatio,this.m_targetArea=0;for(let p_=0;p_<this.m_bodies.length;++p_){let b_=this.m_bodies[p_],d_=this.m_bodies[(p_+1)%this.m_bodies.length],B_=b_.GetWorldCenter(),T_=d_.GetWorldCenter();this.m_targetLengths[p_]=a_.DistanceVV(B_,T_),this.m_targetArea+=a_.CrossVV(B_,T_),r_.Initialize(b_,d_,B_,T_),this.m_joints[p_]=b_.GetWorld().CreateJoint(r_)}this.m_targetArea*=.5}GetAnchorA(_n){return _n}GetAnchorB(_n){return _n}GetReactionForce(_n,r_){return r_}GetReactionTorque(_n){return 0}SetFrequency(_n){this.m_frequencyHz=_n;for(let r_=0;r_<this.m_joints.length;++r_)this.m_joints[r_].SetFrequency(_n)}GetFrequency(){return this.m_frequencyHz}SetDampingRatio(_n){this.m_dampingRatio=_n;for(let r_=0;r_<this.m_joints.length;++r_)this.m_joints[r_].SetDampingRatio(_n)}GetDampingRatio(){return this.m_dampingRatio}Dump(_n){_n(`Area joint dumping is not supported.
`)}InitVelocityConstraints(_n){for(let r_=0;r_<this.m_bodies.length;++r_){let p_=this.m_bodies[(r_+this.m_bodies.length-1)%this.m_bodies.length],b_=this.m_bodies[(r_+1)%this.m_bodies.length],d_=_n.positions[p_.m_islandIndex].c,B_=_n.positions[b_.m_islandIndex].c,T_=this.m_deltas[r_];a_.SubVV(B_,d_,T_)}if(_n.step.warmStarting){this.m_impulse*=_n.step.dtRatio;for(let r_=0;r_<this.m_bodies.length;++r_){let p_=this.m_bodies[r_],b_=_n.velocities[p_.m_islandIndex].v,d_=this.m_deltas[r_];b_.x+=p_.m_invMass*d_.y*.5*this.m_impulse,b_.y+=p_.m_invMass*-d_.x*.5*this.m_impulse}}else this.m_impulse=0}SolveVelocityConstraints(_n){let r_=0,p_=0;for(let d_=0;d_<this.m_bodies.length;++d_){let B_=this.m_bodies[d_],T_=_n.velocities[B_.m_islandIndex].v,E_=this.m_deltas[d_];r_+=E_.LengthSquared()/B_.GetMass(),p_+=a_.CrossVV(T_,E_)}let b_=-2*p_/r_;this.m_impulse+=b_;for(let d_=0;d_<this.m_bodies.length;++d_){let B_=this.m_bodies[d_],T_=_n.velocities[B_.m_islandIndex].v,E_=this.m_deltas[d_];T_.x+=B_.m_invMass*E_.y*.5*b_,T_.y+=B_.m_invMass*-E_.x*.5*b_}}SolvePositionConstraints(_n){let r_=0,p_=0;for(let T_=0;T_<this.m_bodies.length;++T_){let E_=this.m_bodies[T_],Y_=this.m_bodies[(T_+1)%this.m_bodies.length],H_=_n.positions[E_.m_islandIndex].c,U_=_n.positions[Y_.m_islandIndex].c,$_=a_.SubVV(U_,H_,this.m_delta),a2=$_.Length();a2<_r&&(a2=1),this.m_normals[T_].x=$_.y/a2,this.m_normals[T_].y=-$_.x/a2,r_+=a2,p_+=a_.CrossVV(H_,U_)}p_*=.5;let d_=.5*(this.m_targetArea-p_)/r_,B_=!0;for(let T_=0;T_<this.m_bodies.length;++T_){let E_=this.m_bodies[T_],Y_=_n.positions[E_.m_islandIndex].c,H_=(T_+1)%this.m_bodies.length,U_=a_.AddVV(this.m_normals[T_],this.m_normals[H_],this.m_delta);U_.SelfMul(d_);let $_=U_.LengthSquared();$_>G2(I_)&&U_.SelfMul(I_/uC($_)),$_>G2(ws)&&(B_=!1),Y_.x+=U_.x,Y_.y+=U_.y}return B_}}class O8 extends KS{constructor(){super(x.b2JointType.e_frictionJoint),this.localAnchorA=new a_,this.localAnchorB=new a_,this.maxForce=0,this.maxTorque=0}Initialize(_n,r_,p_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(p_,this.localAnchorB)}}class YC extends QS{constructor(_n){super(_n),this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_linearImpulse=new a_,this.m_angularImpulse=0,this.m_maxForce=0,this.m_maxTorque=0,this.m_indexA=0,this.m_indexB=0,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_linearMass=new F1,this.m_angularMass=0,this.m_qA=new K2,this.m_qB=new K2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_K=new F1,this.m_localAnchorA.Copy(_n.localAnchorA),this.m_localAnchorB.Copy(_n.localAnchorB),this.m_linearImpulse.SetZero(),this.m_maxForce=o(_n.maxForce,0),this.m_maxTorque=o(_n.maxTorque,0),this.m_linearMass.SetZero()}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].a,p_=_n.velocities[this.m_indexA].v,b_=_n.velocities[this.m_indexA].w,d_=_n.positions[this.m_indexB].a,B_=_n.velocities[this.m_indexB].v,T_=_n.velocities[this.m_indexB].w,E_=this.m_qA.SetAngle(r_),Y_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let H_=K2.MulRV(E_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let U_=K2.MulRV(Y_,this.m_lalcB,this.m_rB),$_=this.m_invMassA,a2=this.m_invMassB,g2=this.m_invIA,M2=this.m_invIB,R2=this.m_K;if(R2.ex.x=$_+a2+g2*H_.y*H_.y+M2*U_.y*U_.y,R2.ex.y=-g2*H_.x*H_.y-M2*U_.x*U_.y,R2.ey.x=R2.ex.y,R2.ey.y=$_+a2+g2*H_.x*H_.x+M2*U_.x*U_.x,R2.GetInverse(this.m_linearMass),this.m_angularMass=g2+M2,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),_n.step.warmStarting){this.m_linearImpulse.SelfMul(_n.step.dtRatio),this.m_angularImpulse*=_n.step.dtRatio;let W2=this.m_linearImpulse;p_.SelfMulSub($_,W2),b_-=g2*(a_.CrossVV(this.m_rA,W2)+this.m_angularImpulse),B_.SelfMulAdd(a2,W2),T_+=M2*(a_.CrossVV(this.m_rB,W2)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;_n.velocities[this.m_indexA].w=b_,_n.velocities[this.m_indexB].w=T_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,B_=this.m_invMassA,T_=this.m_invMassB,E_=this.m_invIA,Y_=this.m_invIB,H_=_n.step.dt;{let U_=d_-p_,$_=-this.m_angularMass*U_,a2=this.m_angularImpulse,g2=H_*this.m_maxTorque;this.m_angularImpulse=Vy(this.m_angularImpulse+$_,-g2,g2),$_=this.m_angularImpulse-a2,p_-=E_*$_,d_+=Y_*$_}{let U_=a_.SubVV(a_.AddVCrossSV(b_,d_,this.m_rB,a_.s_t0),a_.AddVCrossSV(r_,p_,this.m_rA,a_.s_t1),YC.SolveVelocityConstraints_s_Cdot_v2),$_=F1.MulMV(this.m_linearMass,U_,YC.SolveVelocityConstraints_s_impulseV).SelfNeg(),a2=YC.SolveVelocityConstraints_s_oldImpulseV.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd($_);let g2=H_*this.m_maxForce;this.m_linearImpulse.LengthSquared()>g2*g2&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(g2)),a_.SubVV(this.m_linearImpulse,a2,$_),r_.SelfMulSub(B_,$_),p_-=E_*a_.CrossVV(this.m_rA,$_),b_.SelfMulAdd(T_,$_),d_+=Y_*a_.CrossVV(this.m_rB,$_)}_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){return!0}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*this.m_linearImpulse.x,r_.y=_n*this.m_linearImpulse.y,r_}GetReactionTorque(_n){return _n*this.m_angularImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetMaxForce(_n){this.m_maxForce=_n}GetMaxForce(){return this.m_maxForce}SetMaxTorque(_n){this.m_maxTorque=_n}GetMaxTorque(){return this.m_maxTorque}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2FrictionJointDef = new b2FrictionJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.maxForce = %.15f;
`,this.m_maxForce),_n(`  jd.maxTorque = %.15f;
`,this.m_maxTorque),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}YC.SolveVelocityConstraints_s_Cdot_v2=new a_,YC.SolveVelocityConstraints_s_impulseV=new a_,YC.SolveVelocityConstraints_s_oldImpulseV=new a_;class U8 extends KS{constructor(){super(x.b2JointType.e_gearJoint),this.ratio=1}}class K1 extends QS{constructor(_n){super(_n),this.m_typeA=x.b2JointType.e_unknownJoint,this.m_typeB=x.b2JointType.e_unknownJoint,this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_localAnchorC=new a_,this.m_localAnchorD=new a_,this.m_localAxisC=new a_,this.m_localAxisD=new a_,this.m_referenceAngleA=0,this.m_referenceAngleB=0,this.m_constant=0,this.m_ratio=0,this.m_impulse=0,this.m_indexA=0,this.m_indexB=0,this.m_indexC=0,this.m_indexD=0,this.m_lcA=new a_,this.m_lcB=new a_,this.m_lcC=new a_,this.m_lcD=new a_,this.m_mA=0,this.m_mB=0,this.m_mC=0,this.m_mD=0,this.m_iA=0,this.m_iB=0,this.m_iC=0,this.m_iD=0,this.m_JvAC=new a_,this.m_JvBD=new a_,this.m_JwA=0,this.m_JwB=0,this.m_JwC=0,this.m_JwD=0,this.m_mass=0,this.m_qA=new K2,this.m_qB=new K2,this.m_qC=new K2,this.m_qD=new K2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_lalcC=new a_,this.m_lalcD=new a_,this.m_joint1=_n.joint1,this.m_joint2=_n.joint2,this.m_typeA=this.m_joint1.GetType(),this.m_typeB=this.m_joint2.GetType();let r_,p_;this.m_bodyC=this.m_joint1.GetBodyA(),this.m_bodyA=this.m_joint1.GetBodyB();let b_=this.m_bodyA.m_xf,d_=this.m_bodyA.m_sweep.a,B_=this.m_bodyC.m_xf,T_=this.m_bodyC.m_sweep.a;if(this.m_typeA===x.b2JointType.e_revoluteJoint){let $_=_n.joint1;this.m_localAnchorC.Copy($_.m_localAnchorA),this.m_localAnchorA.Copy($_.m_localAnchorB),this.m_referenceAngleA=$_.m_referenceAngle,this.m_localAxisC.SetZero(),r_=d_-T_-this.m_referenceAngleA}else{let $_=_n.joint1;this.m_localAnchorC.Copy($_.m_localAnchorA),this.m_localAnchorA.Copy($_.m_localAnchorB),this.m_referenceAngleA=$_.m_referenceAngle,this.m_localAxisC.Copy($_.m_localXAxisA);let a2=this.m_localAnchorC,g2=K2.MulTRV(B_.q,a_.AddVV(K2.MulRV(b_.q,this.m_localAnchorA,a_.s_t0),a_.SubVV(b_.p,B_.p,a_.s_t1),a_.s_t0),a_.s_t0);r_=a_.DotVV(a_.SubVV(g2,a2,a_.s_t0),this.m_localAxisC)}this.m_bodyD=this.m_joint2.GetBodyA(),this.m_bodyB=this.m_joint2.GetBodyB();let E_=this.m_bodyB.m_xf,Y_=this.m_bodyB.m_sweep.a,H_=this.m_bodyD.m_xf,U_=this.m_bodyD.m_sweep.a;if(this.m_typeB===x.b2JointType.e_revoluteJoint){let $_=_n.joint2;this.m_localAnchorD.Copy($_.m_localAnchorA),this.m_localAnchorB.Copy($_.m_localAnchorB),this.m_referenceAngleB=$_.m_referenceAngle,this.m_localAxisD.SetZero(),p_=Y_-U_-this.m_referenceAngleB}else{let $_=_n.joint2;this.m_localAnchorD.Copy($_.m_localAnchorA),this.m_localAnchorB.Copy($_.m_localAnchorB),this.m_referenceAngleB=$_.m_referenceAngle,this.m_localAxisD.Copy($_.m_localXAxisA);let a2=this.m_localAnchorD,g2=K2.MulTRV(H_.q,a_.AddVV(K2.MulRV(E_.q,this.m_localAnchorB,a_.s_t0),a_.SubVV(E_.p,H_.p,a_.s_t1),a_.s_t0),a_.s_t0);p_=a_.DotVV(a_.SubVV(g2,a2,a_.s_t0),this.m_localAxisD)}this.m_ratio=o(_n.ratio,1),this.m_constant=r_+this.m_ratio*p_,this.m_impulse=0}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;let r_=_n.positions[this.m_indexA].a,p_=_n.velocities[this.m_indexA].v,b_=_n.velocities[this.m_indexA].w,d_=_n.positions[this.m_indexB].a,B_=_n.velocities[this.m_indexB].v,T_=_n.velocities[this.m_indexB].w,E_=_n.positions[this.m_indexC].a,Y_=_n.velocities[this.m_indexC].v,H_=_n.velocities[this.m_indexC].w,U_=_n.positions[this.m_indexD].a,$_=_n.velocities[this.m_indexD].v,a2=_n.velocities[this.m_indexD].w,g2=this.m_qA.SetAngle(r_),M2=this.m_qB.SetAngle(d_),R2=this.m_qC.SetAngle(E_),W2=this.m_qD.SetAngle(U_);if(this.m_mass=0,this.m_typeA===x.b2JointType.e_revoluteJoint)this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{let z2=K2.MulRV(R2,this.m_localAxisC,K1.InitVelocityConstraints_s_u);a_.SubVV(this.m_localAnchorC,this.m_lcC,this.m_lalcC);let Q2=K2.MulRV(R2,this.m_lalcC,K1.InitVelocityConstraints_s_rC);a_.SubVV(this.m_localAnchorA,this.m_lcA,this.m_lalcA);let $2=K2.MulRV(g2,this.m_lalcA,K1.InitVelocityConstraints_s_rA);this.m_JvAC.Copy(z2),this.m_JwC=a_.CrossVV(Q2,z2),this.m_JwA=a_.CrossVV($2,z2),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_typeB===x.b2JointType.e_revoluteJoint)this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{let z2=K2.MulRV(W2,this.m_localAxisD,K1.InitVelocityConstraints_s_u);a_.SubVV(this.m_localAnchorD,this.m_lcD,this.m_lalcD);let Q2=K2.MulRV(W2,this.m_lalcD,K1.InitVelocityConstraints_s_rD);a_.SubVV(this.m_localAnchorB,this.m_lcB,this.m_lalcB);let $2=K2.MulRV(M2,this.m_lalcB,K1.InitVelocityConstraints_s_rB);a_.MulSV(this.m_ratio,z2,this.m_JvBD),this.m_JwD=this.m_ratio*a_.CrossVV(Q2,z2),this.m_JwB=this.m_ratio*a_.CrossVV($2,z2),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,_n.step.warmStarting?(p_.SelfMulAdd(this.m_mA*this.m_impulse,this.m_JvAC),b_+=this.m_iA*this.m_impulse*this.m_JwA,B_.SelfMulAdd(this.m_mB*this.m_impulse,this.m_JvBD),T_+=this.m_iB*this.m_impulse*this.m_JwB,Y_.SelfMulSub(this.m_mC*this.m_impulse,this.m_JvAC),H_-=this.m_iC*this.m_impulse*this.m_JwC,$_.SelfMulSub(this.m_mD*this.m_impulse,this.m_JvBD),a2-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,_n.velocities[this.m_indexA].w=b_,_n.velocities[this.m_indexB].w=T_,_n.velocities[this.m_indexC].w=H_,_n.velocities[this.m_indexD].w=a2}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,B_=_n.velocities[this.m_indexC].v,T_=_n.velocities[this.m_indexC].w,E_=_n.velocities[this.m_indexD].v,Y_=_n.velocities[this.m_indexD].w,H_=a_.DotVV(this.m_JvAC,a_.SubVV(r_,B_,a_.s_t0))+a_.DotVV(this.m_JvBD,a_.SubVV(b_,E_,a_.s_t0));H_+=this.m_JwA*p_-this.m_JwC*T_+(this.m_JwB*d_-this.m_JwD*Y_);let U_=-this.m_mass*H_;this.m_impulse+=U_,r_.SelfMulAdd(this.m_mA*U_,this.m_JvAC),p_+=this.m_iA*U_*this.m_JwA,b_.SelfMulAdd(this.m_mB*U_,this.m_JvBD),d_+=this.m_iB*U_*this.m_JwB,B_.SelfMulSub(this.m_mC*U_,this.m_JvAC),T_-=this.m_iC*U_*this.m_JwC,E_.SelfMulSub(this.m_mD*U_,this.m_JvBD),Y_-=this.m_iD*U_*this.m_JwD,_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_,_n.velocities[this.m_indexC].w=T_,_n.velocities[this.m_indexD].w=Y_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,B_=_n.positions[this.m_indexC].c,T_=_n.positions[this.m_indexC].a,E_=_n.positions[this.m_indexD].c,Y_=_n.positions[this.m_indexD].a,H_=this.m_qA.SetAngle(p_),U_=this.m_qB.SetAngle(d_),$_=this.m_qC.SetAngle(T_),a2=this.m_qD.SetAngle(Y_),g2=0,M2,R2,W2=this.m_JvAC,z2=this.m_JvBD,Q2,$2,t0,p0,_0=0;if(this.m_typeA===x.b2JointType.e_revoluteJoint)W2.SetZero(),Q2=1,t0=1,_0+=this.m_iA+this.m_iC,M2=p_-T_-this.m_referenceAngleA;else{let D0=K2.MulRV($_,this.m_localAxisC,K1.SolvePositionConstraints_s_u),E0=K2.MulRV($_,this.m_lalcC,K1.SolvePositionConstraints_s_rC),x0=K2.MulRV(H_,this.m_lalcA,K1.SolvePositionConstraints_s_rA);W2.Copy(D0),t0=a_.CrossVV(E0,D0),Q2=a_.CrossVV(x0,D0),_0+=this.m_mC+this.m_mA+this.m_iC*t0*t0+this.m_iA*Q2*Q2;let l0=this.m_lalcC,W0=K2.MulTRV($_,a_.AddVV(x0,a_.SubVV(r_,B_,a_.s_t0),a_.s_t0),a_.s_t0);M2=a_.DotVV(a_.SubVV(W0,l0,a_.s_t0),this.m_localAxisC)}if(this.m_typeB===x.b2JointType.e_revoluteJoint)z2.SetZero(),$2=this.m_ratio,p0=this.m_ratio,_0+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),R2=d_-Y_-this.m_referenceAngleB;else{let D0=K2.MulRV(a2,this.m_localAxisD,K1.SolvePositionConstraints_s_u),E0=K2.MulRV(a2,this.m_lalcD,K1.SolvePositionConstraints_s_rD),x0=K2.MulRV(U_,this.m_lalcB,K1.SolvePositionConstraints_s_rB);a_.MulSV(this.m_ratio,D0,z2),p0=this.m_ratio*a_.CrossVV(E0,D0),$2=this.m_ratio*a_.CrossVV(x0,D0),_0+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*p0*p0+this.m_iB*$2*$2;let l0=this.m_lalcD,W0=K2.MulTRV(a2,a_.AddVV(x0,a_.SubVV(b_,E_,a_.s_t0),a_.s_t0),a_.s_t0);R2=a_.DotVV(a_.SubVV(W0,l0,a_.s_t0),this.m_localAxisD)}let g0=M2+this.m_ratio*R2-this.m_constant,b0=0;return _0>0&&(b0=-g0/_0),r_.SelfMulAdd(this.m_mA*b0,W2),p_+=this.m_iA*b0*Q2,b_.SelfMulAdd(this.m_mB*b0,z2),d_+=this.m_iB*b0*$2,B_.SelfMulSub(this.m_mC*b0,W2),T_-=this.m_iC*b0*t0,E_.SelfMulSub(this.m_mD*b0,z2),Y_-=this.m_iD*b0*p0,_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,_n.positions[this.m_indexC].a=T_,_n.positions[this.m_indexD].a=Y_,g2<ws}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return a_.MulSV(_n*this.m_impulse,this.m_JvAC,r_)}GetReactionTorque(_n){return _n*this.m_impulse*this.m_JwA}GetJoint1(){return this.m_joint1}GetJoint2(){return this.m_joint2}GetRatio(){return this.m_ratio}SetRatio(_n){this.m_ratio=_n}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex,b_=this.m_joint1.m_index,d_=this.m_joint2.m_index;_n(`  const jd: b2GearJointDef = new b2GearJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.joint1 = joints[%d];
`,b_),_n(`  jd.joint2 = joints[%d];
`,d_),_n(`  jd.ratio = %.15f;
`,this.m_ratio),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}K1.InitVelocityConstraints_s_u=new a_,K1.InitVelocityConstraints_s_rA=new a_,K1.InitVelocityConstraints_s_rB=new a_,K1.InitVelocityConstraints_s_rC=new a_,K1.InitVelocityConstraints_s_rD=new a_,K1.SolvePositionConstraints_s_u=new a_,K1.SolvePositionConstraints_s_rA=new a_,K1.SolvePositionConstraints_s_rB=new a_,K1.SolvePositionConstraints_s_rC=new a_,K1.SolvePositionConstraints_s_rD=new a_;class X8 extends KS{constructor(){super(x.b2JointType.e_motorJoint),this.linearOffset=new a_(0,0),this.angularOffset=0,this.maxForce=1,this.maxTorque=1,this.correctionFactor=.3}Initialize(_n,r_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(this.bodyB.GetPosition(),this.linearOffset);let p_=this.bodyA.GetAngle(),b_=this.bodyB.GetAngle();this.angularOffset=b_-p_}}class HC extends QS{constructor(_n){super(_n),this.m_linearOffset=new a_,this.m_angularOffset=0,this.m_linearImpulse=new a_,this.m_angularImpulse=0,this.m_maxForce=0,this.m_maxTorque=0,this.m_correctionFactor=.3,this.m_indexA=0,this.m_indexB=0,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_linearError=new a_,this.m_angularError=0,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_linearMass=new F1,this.m_angularMass=0,this.m_qA=new K2,this.m_qB=new K2,this.m_K=new F1,this.m_linearOffset.Copy(o(_n.linearOffset,a_.ZERO)),this.m_linearImpulse.SetZero(),this.m_maxForce=o(_n.maxForce,0),this.m_maxTorque=o(_n.maxTorque,0),this.m_correctionFactor=o(_n.correctionFactor,.3)}GetAnchorA(_n){let r_=this.m_bodyA.GetPosition();return _n.x=r_.x,_n.y=r_.y,_n}GetAnchorB(_n){let r_=this.m_bodyB.GetPosition();return _n.x=r_.x,_n.y=r_.y,_n}GetReactionForce(_n,r_){return a_.MulSV(_n,this.m_linearImpulse,r_)}GetReactionTorque(_n){return _n*this.m_angularImpulse}SetLinearOffset(_n){a_.IsEqualToV(_n,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(_n))}GetLinearOffset(){return this.m_linearOffset}SetAngularOffset(_n){_n!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=_n)}GetAngularOffset(){return this.m_angularOffset}SetMaxForce(_n){this.m_maxForce=_n}GetMaxForce(){return this.m_maxForce}SetMaxTorque(_n){this.m_maxTorque=_n}GetMaxTorque(){return this.m_maxTorque}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.velocities[this.m_indexA].v,d_=_n.velocities[this.m_indexA].w,B_=_n.positions[this.m_indexB].c,T_=_n.positions[this.m_indexB].a,E_=_n.velocities[this.m_indexB].v,Y_=_n.velocities[this.m_indexB].w,H_=this.m_qA.SetAngle(p_),U_=this.m_qB.SetAngle(T_),$_=K2.MulRV(H_,a_.SubVV(this.m_linearOffset,this.m_localCenterA,a_.s_t0),this.m_rA),a2=K2.MulRV(U_,a_.NegV(this.m_localCenterB,a_.s_t0),this.m_rB),g2=this.m_invMassA,M2=this.m_invMassB,R2=this.m_invIA,W2=this.m_invIB,z2=this.m_K;if(z2.ex.x=g2+M2+R2*$_.y*$_.y+W2*a2.y*a2.y,z2.ex.y=-R2*$_.x*$_.y-W2*a2.x*a2.y,z2.ey.x=z2.ex.y,z2.ey.y=g2+M2+R2*$_.x*$_.x+W2*a2.x*a2.x,z2.GetInverse(this.m_linearMass),this.m_angularMass=R2+W2,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),a_.SubVV(a_.AddVV(B_,a2,a_.s_t0),a_.AddVV(r_,$_,a_.s_t1),this.m_linearError),this.m_angularError=T_-p_-this.m_angularOffset,_n.step.warmStarting){this.m_linearImpulse.SelfMul(_n.step.dtRatio),this.m_angularImpulse*=_n.step.dtRatio;let Q2=this.m_linearImpulse;b_.SelfMulSub(g2,Q2),d_-=R2*(a_.CrossVV($_,Q2)+this.m_angularImpulse),E_.SelfMulAdd(M2,Q2),Y_+=W2*(a_.CrossVV(a2,Q2)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;_n.velocities[this.m_indexA].w=d_,_n.velocities[this.m_indexB].w=Y_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,B_=this.m_invMassA,T_=this.m_invMassB,E_=this.m_invIA,Y_=this.m_invIB,H_=_n.step.dt,U_=_n.step.inv_dt;{let $_=d_-p_+U_*this.m_correctionFactor*this.m_angularError,a2=-this.m_angularMass*$_,g2=this.m_angularImpulse,M2=H_*this.m_maxTorque;this.m_angularImpulse=Vy(this.m_angularImpulse+a2,-M2,M2),a2=this.m_angularImpulse-g2,p_-=E_*a2,d_+=Y_*a2}{let $_=this.m_rA,a2=this.m_rB,g2=a_.AddVV(a_.SubVV(a_.AddVV(b_,a_.CrossSV(d_,a2,a_.s_t0),a_.s_t0),a_.AddVV(r_,a_.CrossSV(p_,$_,a_.s_t1),a_.s_t1),a_.s_t2),a_.MulSV(U_*this.m_correctionFactor,this.m_linearError,a_.s_t3),HC.SolveVelocityConstraints_s_Cdot_v2),M2=F1.MulMV(this.m_linearMass,g2,HC.SolveVelocityConstraints_s_impulse_v2).SelfNeg(),R2=HC.SolveVelocityConstraints_s_oldImpulse_v2.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(M2);let W2=H_*this.m_maxForce;this.m_linearImpulse.LengthSquared()>W2*W2&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(W2)),a_.SubVV(this.m_linearImpulse,R2,M2),r_.SelfMulSub(B_,M2),p_-=E_*a_.CrossVV($_,M2),b_.SelfMulAdd(T_,M2),d_+=Y_*a_.CrossVV(a2,M2)}_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){return!0}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2MotorJointDef = new b2MotorJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.linearOffset.Set(%.15f, %.15f);
`,this.m_linearOffset.x,this.m_linearOffset.y),_n(`  jd.angularOffset = %.15f;
`,this.m_angularOffset),_n(`  jd.maxForce = %.15f;
`,this.m_maxForce),_n(`  jd.maxTorque = %.15f;
`,this.m_maxTorque),_n(`  jd.correctionFactor = %.15f;
`,this.m_correctionFactor),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}HC.SolveVelocityConstraints_s_Cdot_v2=new a_,HC.SolveVelocityConstraints_s_impulse_v2=new a_,HC.SolveVelocityConstraints_s_oldImpulse_v2=new a_;class Y8 extends KS{constructor(){super(x.b2JointType.e_mouseJoint),this.target=new a_,this.maxForce=0,this.frequencyHz=5,this.dampingRatio=.7}}class ZC extends QS{constructor(_n){super(_n),this.m_localAnchorB=new a_,this.m_targetA=new a_,this.m_frequencyHz=0,this.m_dampingRatio=0,this.m_beta=0,this.m_impulse=new a_,this.m_maxForce=0,this.m_gamma=0,this.m_indexA=0,this.m_indexB=0,this.m_rB=new a_,this.m_localCenterB=new a_,this.m_invMassB=0,this.m_invIB=0,this.m_mass=new F1,this.m_C=new a_,this.m_qB=new K2,this.m_lalcB=new a_,this.m_K=new F1,this.m_targetA.Copy(o(_n.target,a_.ZERO)),o0.MulTXV(this.m_bodyB.GetTransform(),this.m_targetA,this.m_localAnchorB),this.m_maxForce=o(_n.maxForce,0),this.m_impulse.SetZero(),this.m_frequencyHz=o(_n.frequencyHz,0),this.m_dampingRatio=o(_n.dampingRatio,0),this.m_beta=0,this.m_gamma=0}SetTarget(_n){this.m_bodyB.IsAwake()||this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(_n)}GetTarget(){return this.m_targetA}SetMaxForce(_n){this.m_maxForce=_n}GetMaxForce(){return this.m_maxForce}SetFrequency(_n){this.m_frequencyHz=_n}GetFrequency(){return this.m_frequencyHz}SetDampingRatio(_n){this.m_dampingRatio=_n}GetDampingRatio(){return this.m_dampingRatio}InitVelocityConstraints(_n){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexB].c,p_=_n.positions[this.m_indexB].a,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,B_=this.m_qB.SetAngle(p_),T_=this.m_bodyB.GetMass(),E_=2*e_*this.m_frequencyHz,Y_=2*T_*this.m_dampingRatio*E_,H_=T_*(E_*E_),U_=_n.step.dt;this.m_gamma=U_*(Y_+U_*H_),this.m_gamma!==0&&(this.m_gamma=1/this.m_gamma),this.m_beta=U_*H_*this.m_gamma,a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),K2.MulRV(B_,this.m_lalcB,this.m_rB);let $_=this.m_K;$_.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,$_.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,$_.ey.x=$_.ex.y,$_.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,$_.GetInverse(this.m_mass),this.m_C.x=r_.x+this.m_rB.x-this.m_targetA.x,this.m_C.y=r_.y+this.m_rB.y-this.m_targetA.y,this.m_C.SelfMul(this.m_beta),d_*=.98,_n.step.warmStarting?(this.m_impulse.SelfMul(_n.step.dtRatio),b_.x+=this.m_invMassB*this.m_impulse.x,b_.y+=this.m_invMassB*this.m_impulse.y,d_+=this.m_invIB*a_.CrossVV(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),_n.velocities[this.m_indexB].w=d_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexB].v,p_=_n.velocities[this.m_indexB].w,b_=a_.AddVCrossSV(r_,p_,this.m_rB,ZC.SolveVelocityConstraints_s_Cdot),d_=F1.MulMV(this.m_mass,a_.AddVV(b_,a_.AddVV(this.m_C,a_.MulSV(this.m_gamma,this.m_impulse,a_.s_t0),a_.s_t0),a_.s_t0).SelfNeg(),ZC.SolveVelocityConstraints_s_impulse),B_=ZC.SolveVelocityConstraints_s_oldImpulse.Copy(this.m_impulse);this.m_impulse.SelfAdd(d_);let T_=_n.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>T_*T_&&this.m_impulse.SelfMul(T_/this.m_impulse.Length()),a_.SubVV(this.m_impulse,B_,d_),r_.SelfMulAdd(this.m_invMassB,d_),p_+=this.m_invIB*a_.CrossVV(this.m_rB,d_),_n.velocities[this.m_indexB].w=p_}SolvePositionConstraints(_n){return!0}GetAnchorA(_n){return _n.x=this.m_targetA.x,_n.y=this.m_targetA.y,_n}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return a_.MulSV(_n,this.m_impulse,r_)}GetReactionTorque(_n){return 0}Dump(_n){_n(`Mouse joint dumping is not supported.
`)}ShiftOrigin(_n){this.m_targetA.SelfSub(_n)}}ZC.SolveVelocityConstraints_s_Cdot=new a_,ZC.SolveVelocityConstraints_s_impulse=new a_,ZC.SolveVelocityConstraints_s_oldImpulse=new a_;class H8 extends KS{constructor(){super(x.b2JointType.e_prismaticJoint),this.localAnchorA=new a_,this.localAnchorB=new a_,this.localAxisA=new a_(1,0),this.referenceAngle=0,this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorForce=0,this.motorSpeed=0}Initialize(_n,r_,p_,b_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(p_,this.localAnchorB),this.bodyA.GetLocalVector(b_,this.localAxisA),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}class Yy extends QS{constructor(_n){super(_n),this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_localXAxisA=new a_,this.m_localYAxisA=new a_,this.m_referenceAngle=0,this.m_impulse=new oA(0,0,0),this.m_motorImpulse=0,this.m_lowerTranslation=0,this.m_upperTranslation=0,this.m_maxMotorForce=0,this.m_motorSpeed=0,this.m_enableLimit=!1,this.m_enableMotor=!1,this.m_limitState=x.b2LimitState.e_inactiveLimit,this.m_indexA=0,this.m_indexB=0,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_axis=new a_(0,0),this.m_perp=new a_(0,0),this.m_s1=0,this.m_s2=0,this.m_a1=0,this.m_a2=0,this.m_K=new vS,this.m_K3=new vS,this.m_K2=new F1,this.m_motorMass=0,this.m_qA=new K2,this.m_qB=new K2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_rA=new a_,this.m_rB=new a_,this.m_localAnchorA.Copy(o(_n.localAnchorA,a_.ZERO)),this.m_localAnchorB.Copy(o(_n.localAnchorB,a_.ZERO)),this.m_localXAxisA.Copy(o(_n.localAxisA,new a_(1,0))).SelfNormalize(),a_.CrossOneV(this.m_localXAxisA,this.m_localYAxisA),this.m_referenceAngle=o(_n.referenceAngle,0),this.m_lowerTranslation=o(_n.lowerTranslation,0),this.m_upperTranslation=o(_n.upperTranslation,0),this.m_maxMotorForce=o(_n.maxMotorForce,0),this.m_motorSpeed=o(_n.motorSpeed,0),this.m_enableLimit=o(_n.enableLimit,!1),this.m_enableMotor=o(_n.enableMotor,!1)}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.velocities[this.m_indexA].v,d_=_n.velocities[this.m_indexA].w,B_=_n.positions[this.m_indexB].c,T_=_n.positions[this.m_indexB].a,E_=_n.velocities[this.m_indexB].v,Y_=_n.velocities[this.m_indexB].w,H_=this.m_qA.SetAngle(p_),U_=this.m_qB.SetAngle(T_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let $_=K2.MulRV(H_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let a2=K2.MulRV(U_,this.m_lalcB,this.m_rB),g2=a_.AddVV(a_.SubVV(B_,r_,a_.s_t0),a_.SubVV(a2,$_,a_.s_t1),Yy.InitVelocityConstraints_s_d),M2=this.m_invMassA,R2=this.m_invMassB,W2=this.m_invIA,z2=this.m_invIB;if(K2.MulRV(H_,this.m_localXAxisA,this.m_axis),this.m_a1=a_.CrossVV(a_.AddVV(g2,$_,a_.s_t0),this.m_axis),this.m_a2=a_.CrossVV(a2,this.m_axis),this.m_motorMass=M2+R2+W2*this.m_a1*this.m_a1+z2*this.m_a2*this.m_a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),K2.MulRV(H_,this.m_localYAxisA,this.m_perp),this.m_s1=a_.CrossVV(a_.AddVV(g2,$_,a_.s_t0),this.m_perp),this.m_s2=a_.CrossVV(a2,this.m_perp),this.m_K.ex.x=M2+R2+W2*this.m_s1*this.m_s1+z2*this.m_s2*this.m_s2,this.m_K.ex.y=W2*this.m_s1+z2*this.m_s2,this.m_K.ex.z=W2*this.m_s1*this.m_a1+z2*this.m_s2*this.m_a2,this.m_K.ey.x=this.m_K.ex.y,this.m_K.ey.y=W2+z2,this.m_K.ey.y===0&&(this.m_K.ey.y=1),this.m_K.ey.z=W2*this.m_a1+z2*this.m_a2,this.m_K.ez.x=this.m_K.ex.z,this.m_K.ez.y=this.m_K.ey.z,this.m_K.ez.z=M2+R2+W2*this.m_a1*this.m_a1+z2*this.m_a2*this.m_a2,this.m_enableLimit){let Q2=a_.DotVV(this.m_axis,g2);P0(this.m_upperTranslation-this.m_lowerTranslation)<2*ws?this.m_limitState=x.b2LimitState.e_equalLimits:Q2<=this.m_lowerTranslation?this.m_limitState!==x.b2LimitState.e_atLowerLimit&&(this.m_limitState=x.b2LimitState.e_atLowerLimit,this.m_impulse.z=0):Q2>=this.m_upperTranslation?this.m_limitState!==x.b2LimitState.e_atUpperLimit&&(this.m_limitState=x.b2LimitState.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=x.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=x.b2LimitState.e_inactiveLimit,this.m_impulse.z=0;if(this.m_enableMotor||(this.m_motorImpulse=0),_n.step.warmStarting){this.m_impulse.SelfMul(_n.step.dtRatio),this.m_motorImpulse*=_n.step.dtRatio;let Q2=a_.AddVV(a_.MulSV(this.m_impulse.x,this.m_perp,a_.s_t0),a_.MulSV(this.m_motorImpulse+this.m_impulse.z,this.m_axis,a_.s_t1),Yy.InitVelocityConstraints_s_P),$2=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,t0=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;b_.SelfMulSub(M2,Q2),d_-=W2*$2,E_.SelfMulAdd(R2,Q2),Y_+=z2*t0}else this.m_impulse.SetZero(),this.m_motorImpulse=0;_n.velocities[this.m_indexA].w=d_,_n.velocities[this.m_indexB].w=Y_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,B_=this.m_invMassA,T_=this.m_invMassB,E_=this.m_invIA,Y_=this.m_invIB;if(this.m_enableMotor&&this.m_limitState!==x.b2LimitState.e_equalLimits){let $_=a_.DotVV(this.m_axis,a_.SubVV(b_,r_,a_.s_t0))+this.m_a2*d_-this.m_a1*p_,a2=this.m_motorMass*(this.m_motorSpeed-$_),g2=this.m_motorImpulse,M2=_n.step.dt*this.m_maxMotorForce;this.m_motorImpulse=Vy(this.m_motorImpulse+a2,-M2,M2),a2=this.m_motorImpulse-g2;let R2=a_.MulSV(a2,this.m_axis,Yy.SolveVelocityConstraints_s_P),W2=a2*this.m_a1,z2=a2*this.m_a2;r_.SelfMulSub(B_,R2),p_-=E_*W2,b_.SelfMulAdd(T_,R2),d_+=Y_*z2}let H_=a_.DotVV(this.m_perp,a_.SubVV(b_,r_,a_.s_t0))+this.m_s2*d_-this.m_s1*p_,U_=d_-p_;if(this.m_enableLimit&&this.m_limitState!==x.b2LimitState.e_inactiveLimit){let $_=a_.DotVV(this.m_axis,a_.SubVV(b_,r_,a_.s_t0))+this.m_a2*d_-this.m_a1*p_,a2=Yy.SolveVelocityConstraints_s_f1.Copy(this.m_impulse),g2=this.m_K.Solve33(-H_,-U_,-$_,Yy.SolveVelocityConstraints_s_df3);this.m_impulse.SelfAdd(g2),this.m_limitState===x.b2LimitState.e_atLowerLimit?this.m_impulse.z=T0(this.m_impulse.z,0):this.m_limitState===x.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=L0(this.m_impulse.z,0));let M2=-H_-(this.m_impulse.z-a2.z)*this.m_K.ez.x,R2=-U_-(this.m_impulse.z-a2.z)*this.m_K.ez.y,W2=this.m_K.Solve22(M2,R2,Yy.SolveVelocityConstraints_s_f2r);W2.x+=a2.x,W2.y+=a2.y,this.m_impulse.x=W2.x,this.m_impulse.y=W2.y,g2.x=this.m_impulse.x-a2.x,g2.y=this.m_impulse.y-a2.y,g2.z=this.m_impulse.z-a2.z;let z2=a_.AddVV(a_.MulSV(g2.x,this.m_perp,a_.s_t0),a_.MulSV(g2.z,this.m_axis,a_.s_t1),Yy.SolveVelocityConstraints_s_P),Q2=g2.x*this.m_s1+g2.y+g2.z*this.m_a1,$2=g2.x*this.m_s2+g2.y+g2.z*this.m_a2;r_.SelfMulSub(B_,z2),p_-=E_*Q2,b_.SelfMulAdd(T_,z2),d_+=Y_*$2}else{let $_=this.m_K.Solve22(-H_,-U_,Yy.SolveVelocityConstraints_s_df2);this.m_impulse.x+=$_.x,this.m_impulse.y+=$_.y;let a2=a_.MulSV($_.x,this.m_perp,Yy.SolveVelocityConstraints_s_P),g2=$_.x*this.m_s1+$_.y,M2=$_.x*this.m_s2+$_.y;r_.SelfMulSub(B_,a2),p_-=E_*g2,b_.SelfMulAdd(T_,a2),d_+=Y_*M2}_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,B_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_),E_=this.m_invMassA,Y_=this.m_invMassB,H_=this.m_invIA,U_=this.m_invIB,$_=K2.MulRV(B_,this.m_lalcA,this.m_rA),a2=K2.MulRV(T_,this.m_lalcB,this.m_rB),g2=a_.SubVV(a_.AddVV(b_,a2,a_.s_t0),a_.AddVV(r_,$_,a_.s_t1),Yy.SolvePositionConstraints_s_d),M2=K2.MulRV(B_,this.m_localXAxisA,this.m_axis),R2=a_.CrossVV(a_.AddVV(g2,$_,a_.s_t0),M2),W2=a_.CrossVV(a2,M2),z2=K2.MulRV(B_,this.m_localYAxisA,this.m_perp),Q2=a_.CrossVV(a_.AddVV(g2,$_,a_.s_t0),z2),$2=a_.CrossVV(a2,z2),t0=Yy.SolvePositionConstraints_s_impulse,p0=a_.DotVV(z2,g2),_0=d_-p_-this.m_referenceAngle,g0=P0(p0),b0=P0(_0),D0=!1,E0=0;if(this.m_enableLimit){let j0=a_.DotVV(M2,g2);P0(this.m_upperTranslation-this.m_lowerTranslation)<2*ws?(E0=Vy(j0,-I_,I_),g0=T0(g0,P0(j0)),D0=!0):j0<=this.m_lowerTranslation?(E0=Vy(j0-this.m_lowerTranslation+ws,-I_,0),g0=T0(g0,this.m_lowerTranslation-j0),D0=!0):j0>=this.m_upperTranslation&&(E0=Vy(j0-this.m_upperTranslation-ws,0,I_),g0=T0(g0,j0-this.m_upperTranslation),D0=!0)}if(D0){let j0=E_+Y_+H_*Q2*Q2+U_*$2*$2,Cy=H_*Q2+U_*$2,g1=H_*Q2*R2+U_*$2*W2,M1=H_+U_;M1===0&&(M1=1);let YA=H_*R2+U_*W2,HA=E_+Y_+H_*R2*R2+U_*W2*W2,ZA=this.m_K3;ZA.ex.SetXYZ(j0,Cy,g1),ZA.ey.SetXYZ(Cy,M1,YA),ZA.ez.SetXYZ(g1,YA,HA),t0=ZA.Solve33(-p0,-_0,-E0,t0)}else{let j0=E_+Y_+H_*Q2*Q2+U_*$2*$2,Cy=H_*Q2+U_*$2,g1=H_+U_;g1===0&&(g1=1);let M1=this.m_K2;M1.ex.Set(j0,Cy),M1.ey.Set(Cy,g1);let YA=M1.Solve(-p0,-_0,Yy.SolvePositionConstraints_s_impulse1);t0.x=YA.x,t0.y=YA.y,t0.z=0}let x0=a_.AddVV(a_.MulSV(t0.x,z2,a_.s_t0),a_.MulSV(t0.z,M2,a_.s_t1),Yy.SolvePositionConstraints_s_P),l0=t0.x*Q2+t0.y+t0.z*R2,W0=t0.x*$2+t0.y+t0.z*W2;return r_.SelfMulSub(E_,x0),p_-=H_*l0,b_.SelfMulAdd(Y_,x0),d_+=U_*W0,_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,g0<=ws&&b0<=h_}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),r_.y=_n*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y),r_}GetReactionTorque(_n){return _n*this.m_impulse.y}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetReferenceAngle(){return this.m_referenceAngle}GetJointTranslation(){let _n=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,Yy.GetJointTranslation_s_pA),r_=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,Yy.GetJointTranslation_s_pB),p_=a_.SubVV(r_,_n,Yy.GetJointTranslation_s_d),b_=this.m_bodyA.GetWorldVector(this.m_localXAxisA,Yy.GetJointTranslation_s_axis);return a_.DotVV(p_,b_)}GetJointSpeed(){let _n=this.m_bodyA,r_=this.m_bodyB;a_.SubVV(this.m_localAnchorA,_n.m_sweep.localCenter,this.m_lalcA);let p_=K2.MulRV(_n.m_xf.q,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,r_.m_sweep.localCenter,this.m_lalcB);let b_=K2.MulRV(r_.m_xf.q,this.m_lalcB,this.m_rB),d_=a_.AddVV(_n.m_sweep.c,p_,a_.s_t0),B_=a_.AddVV(r_.m_sweep.c,b_,a_.s_t1),T_=a_.SubVV(B_,d_,a_.s_t2),E_=_n.GetWorldVector(this.m_localXAxisA,this.m_axis),Y_=_n.m_linearVelocity,H_=r_.m_linearVelocity,U_=_n.m_angularVelocity,$_=r_.m_angularVelocity;return a_.DotVV(T_,a_.CrossSV(U_,E_,a_.s_t0))+a_.DotVV(E_,a_.SubVV(a_.AddVCrossSV(H_,$_,b_,a_.s_t0),a_.AddVCrossSV(Y_,U_,p_,a_.s_t1),a_.s_t0))}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(_n){_n!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=_n,this.m_impulse.z=0)}GetLowerLimit(){return this.m_lowerTranslation}GetUpperLimit(){return this.m_upperTranslation}SetLimits(_n,r_){(_n!==this.m_lowerTranslation||r_!==this.m_upperTranslation)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=_n,this.m_upperTranslation=r_,this.m_impulse.z=0)}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(_n){_n!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=_n)}SetMotorSpeed(_n){_n!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=_n)}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorForce(_n){_n!==this.m_maxMotorForce&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=_n)}GetMaxMotorForce(){return this.m_maxMotorForce}GetMotorForce(_n){return _n*this.m_motorImpulse}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2PrismaticJointDef = new b2PrismaticJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.localAxisA.Set(%.15f, %.15f);
`,this.m_localXAxisA.x,this.m_localXAxisA.y),_n(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),_n(`  jd.enableLimit = %s;
`,this.m_enableLimit?"true":"false"),_n(`  jd.lowerTranslation = %.15f;
`,this.m_lowerTranslation),_n(`  jd.upperTranslation = %.15f;
`,this.m_upperTranslation),_n(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),_n(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),_n(`  jd.maxMotorForce = %.15f;
`,this.m_maxMotorForce),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}Yy.InitVelocityConstraints_s_d=new a_,Yy.InitVelocityConstraints_s_P=new a_,Yy.SolveVelocityConstraints_s_P=new a_,Yy.SolveVelocityConstraints_s_f2r=new a_,Yy.SolveVelocityConstraints_s_f1=new oA,Yy.SolveVelocityConstraints_s_df3=new oA,Yy.SolveVelocityConstraints_s_df2=new a_,Yy.SolvePositionConstraints_s_d=new a_,Yy.SolvePositionConstraints_s_impulse=new oA,Yy.SolvePositionConstraints_s_impulse1=new a_,Yy.SolvePositionConstraints_s_P=new a_,Yy.GetJointTranslation_s_pA=new a_,Yy.GetJointTranslation_s_pB=new a_,Yy.GetJointTranslation_s_d=new a_,Yy.GetJointTranslation_s_axis=new a_;let Z8=2;class K8 extends KS{constructor(){super(x.b2JointType.e_pulleyJoint),this.groundAnchorA=new a_(-1,1),this.groundAnchorB=new a_(1,1),this.localAnchorA=new a_(-1,0),this.localAnchorB=new a_(1,0),this.lengthA=0,this.lengthB=0,this.ratio=1,this.collideConnected=!0}Initialize(_n,r_,p_,b_,d_,B_,T_){this.bodyA=_n,this.bodyB=r_,this.groundAnchorA.Copy(p_),this.groundAnchorB.Copy(b_),this.bodyA.GetLocalPoint(d_,this.localAnchorA),this.bodyB.GetLocalPoint(B_,this.localAnchorB),this.lengthA=a_.DistanceVV(d_,p_),this.lengthB=a_.DistanceVV(B_,b_),this.ratio=T_}}class mA extends QS{constructor(_n){super(_n),this.m_groundAnchorA=new a_,this.m_groundAnchorB=new a_,this.m_lengthA=0,this.m_lengthB=0,this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_constant=0,this.m_ratio=0,this.m_impulse=0,this.m_indexA=0,this.m_indexB=0,this.m_uA=new a_,this.m_uB=new a_,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=0,this.m_qA=new K2,this.m_qB=new K2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_groundAnchorA.Copy(o(_n.groundAnchorA,new a_(-1,1))),this.m_groundAnchorB.Copy(o(_n.groundAnchorB,new a_(1,0))),this.m_localAnchorA.Copy(o(_n.localAnchorA,new a_(-1,0))),this.m_localAnchorB.Copy(o(_n.localAnchorB,new a_(1,0))),this.m_lengthA=o(_n.lengthA,0),this.m_lengthB=o(_n.lengthB,0),this.m_ratio=o(_n.ratio,1),this.m_constant=o(_n.lengthA,0)+this.m_ratio*o(_n.lengthB,0),this.m_impulse=0}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.velocities[this.m_indexA].v,d_=_n.velocities[this.m_indexA].w,B_=_n.positions[this.m_indexB].c,T_=_n.positions[this.m_indexB].a,E_=_n.velocities[this.m_indexB].v,Y_=_n.velocities[this.m_indexB].w,H_=this.m_qA.SetAngle(p_),U_=this.m_qB.SetAngle(T_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),K2.MulRV(H_,this.m_lalcA,this.m_rA),a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),K2.MulRV(U_,this.m_lalcB,this.m_rB),this.m_uA.Copy(r_).SelfAdd(this.m_rA).SelfSub(this.m_groundAnchorA),this.m_uB.Copy(B_).SelfAdd(this.m_rB).SelfSub(this.m_groundAnchorB);let $_=this.m_uA.Length(),a2=this.m_uB.Length();$_>10*ws?this.m_uA.SelfMul(1/$_):this.m_uA.SetZero(),a2>10*ws?this.m_uB.SelfMul(1/a2):this.m_uB.SetZero();let g2=a_.CrossVV(this.m_rA,this.m_uA),M2=a_.CrossVV(this.m_rB,this.m_uB),R2=this.m_invMassA+this.m_invIA*g2*g2,W2=this.m_invMassB+this.m_invIB*M2*M2;if(this.m_mass=R2+this.m_ratio*this.m_ratio*W2,this.m_mass>0&&(this.m_mass=1/this.m_mass),_n.step.warmStarting){this.m_impulse*=_n.step.dtRatio;let z2=a_.MulSV(-this.m_impulse,this.m_uA,mA.InitVelocityConstraints_s_PA),Q2=a_.MulSV(-this.m_ratio*this.m_impulse,this.m_uB,mA.InitVelocityConstraints_s_PB);b_.SelfMulAdd(this.m_invMassA,z2),d_+=this.m_invIA*a_.CrossVV(this.m_rA,z2),E_.SelfMulAdd(this.m_invMassB,Q2),Y_+=this.m_invIB*a_.CrossVV(this.m_rB,Q2)}else this.m_impulse=0;_n.velocities[this.m_indexA].w=d_,_n.velocities[this.m_indexB].w=Y_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,B_=a_.AddVCrossSV(r_,p_,this.m_rA,mA.SolveVelocityConstraints_s_vpA),T_=a_.AddVCrossSV(b_,d_,this.m_rB,mA.SolveVelocityConstraints_s_vpB),E_=-a_.DotVV(this.m_uA,B_)-this.m_ratio*a_.DotVV(this.m_uB,T_),Y_=-this.m_mass*E_;this.m_impulse+=Y_;let H_=a_.MulSV(-Y_,this.m_uA,mA.SolveVelocityConstraints_s_PA),U_=a_.MulSV(-this.m_ratio*Y_,this.m_uB,mA.SolveVelocityConstraints_s_PB);r_.SelfMulAdd(this.m_invMassA,H_),p_+=this.m_invIA*a_.CrossVV(this.m_rA,H_),b_.SelfMulAdd(this.m_invMassB,U_),d_+=this.m_invIB*a_.CrossVV(this.m_rB,U_),_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,B_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let E_=K2.MulRV(B_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let Y_=K2.MulRV(T_,this.m_lalcB,this.m_rB),H_=this.m_uA.Copy(r_).SelfAdd(E_).SelfSub(this.m_groundAnchorA),U_=this.m_uB.Copy(b_).SelfAdd(Y_).SelfSub(this.m_groundAnchorB),$_=H_.Length(),a2=U_.Length();$_>10*ws?H_.SelfMul(1/$_):H_.SetZero(),a2>10*ws?U_.SelfMul(1/a2):U_.SetZero();let g2=a_.CrossVV(E_,H_),M2=a_.CrossVV(Y_,U_),R2=this.m_invMassA+this.m_invIA*g2*g2,W2=this.m_invMassB+this.m_invIB*M2*M2,z2=R2+this.m_ratio*this.m_ratio*W2;z2>0&&(z2=1/z2);let Q2=this.m_constant-$_-this.m_ratio*a2,$2=P0(Q2),t0=-z2*Q2,p0=a_.MulSV(-t0,H_,mA.SolvePositionConstraints_s_PA),_0=a_.MulSV(-this.m_ratio*t0,U_,mA.SolvePositionConstraints_s_PB);return r_.SelfMulAdd(this.m_invMassA,p0),p_+=this.m_invIA*a_.CrossVV(E_,p0),b_.SelfMulAdd(this.m_invMassB,_0),d_+=this.m_invIB*a_.CrossVV(Y_,_0),_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,$2<ws}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*this.m_impulse*this.m_uB.x,r_.y=_n*this.m_impulse*this.m_uB.y,r_}GetReactionTorque(_n){return 0}GetGroundAnchorA(){return this.m_groundAnchorA}GetGroundAnchorB(){return this.m_groundAnchorB}GetLengthA(){return this.m_lengthA}GetLengthB(){return this.m_lengthB}GetRatio(){return this.m_ratio}GetCurrentLengthA(){let _n=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,mA.GetCurrentLengthA_s_p),r_=this.m_groundAnchorA;return a_.DistanceVV(_n,r_)}GetCurrentLengthB(){let _n=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,mA.GetCurrentLengthB_s_p),r_=this.m_groundAnchorB;return a_.DistanceVV(_n,r_)}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2PulleyJointDef = new b2PulleyJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.groundAnchorA.Set(%.15f, %.15f);
`,this.m_groundAnchorA.x,this.m_groundAnchorA.y),_n(`  jd.groundAnchorB.Set(%.15f, %.15f);
`,this.m_groundAnchorB.x,this.m_groundAnchorB.y),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.lengthA = %.15f;
`,this.m_lengthA),_n(`  jd.lengthB = %.15f;
`,this.m_lengthB),_n(`  jd.ratio = %.15f;
`,this.m_ratio),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}ShiftOrigin(_n){this.m_groundAnchorA.SelfSub(_n),this.m_groundAnchorB.SelfSub(_n)}}mA.InitVelocityConstraints_s_PA=new a_,mA.InitVelocityConstraints_s_PB=new a_,mA.SolveVelocityConstraints_s_vpA=new a_,mA.SolveVelocityConstraints_s_vpB=new a_,mA.SolveVelocityConstraints_s_PA=new a_,mA.SolveVelocityConstraints_s_PB=new a_,mA.SolvePositionConstraints_s_PA=new a_,mA.SolvePositionConstraints_s_PB=new a_,mA.GetCurrentLengthA_s_p=new a_,mA.GetCurrentLengthB_s_p=new a_;class Q8 extends KS{constructor(){super(x.b2JointType.e_revoluteJoint),this.localAnchorA=new a_(0,0),this.localAnchorB=new a_(0,0),this.referenceAngle=0,this.enableLimit=!1,this.lowerAngle=0,this.upperAngle=0,this.enableMotor=!1,this.motorSpeed=0,this.maxMotorTorque=0}Initialize(_n,r_,p_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(p_,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}class xA extends QS{constructor(_n){super(_n),this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_impulse=new oA,this.m_motorImpulse=0,this.m_enableMotor=!1,this.m_maxMotorTorque=0,this.m_motorSpeed=0,this.m_enableLimit=!1,this.m_referenceAngle=0,this.m_lowerAngle=0,this.m_upperAngle=0,this.m_indexA=0,this.m_indexB=0,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=new vS,this.m_motorMass=0,this.m_limitState=x.b2LimitState.e_inactiveLimit,this.m_qA=new K2,this.m_qB=new K2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_K=new F1,this.m_localAnchorA.Copy(o(_n.localAnchorA,a_.ZERO)),this.m_localAnchorB.Copy(o(_n.localAnchorB,a_.ZERO)),this.m_referenceAngle=o(_n.referenceAngle,0),this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerAngle=o(_n.lowerAngle,0),this.m_upperAngle=o(_n.upperAngle,0),this.m_maxMotorTorque=o(_n.maxMotorTorque,0),this.m_motorSpeed=o(_n.motorSpeed,0),this.m_enableLimit=o(_n.enableLimit,!1),this.m_enableMotor=o(_n.enableMotor,!1),this.m_limitState=x.b2LimitState.e_inactiveLimit}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].a,p_=_n.velocities[this.m_indexA].v,b_=_n.velocities[this.m_indexA].w,d_=_n.positions[this.m_indexB].a,B_=_n.velocities[this.m_indexB].v,T_=_n.velocities[this.m_indexB].w,E_=this.m_qA.SetAngle(r_),Y_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),K2.MulRV(E_,this.m_lalcA,this.m_rA),a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),K2.MulRV(Y_,this.m_lalcB,this.m_rB);let H_=this.m_invMassA,U_=this.m_invMassB,$_=this.m_invIA,a2=this.m_invIB,g2=$_+a2===0;if(this.m_mass.ex.x=H_+U_+this.m_rA.y*this.m_rA.y*$_+this.m_rB.y*this.m_rB.y*a2,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*$_-this.m_rB.y*this.m_rB.x*a2,this.m_mass.ez.x=-this.m_rA.y*$_-this.m_rB.y*a2,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=H_+U_+this.m_rA.x*this.m_rA.x*$_+this.m_rB.x*this.m_rB.x*a2,this.m_mass.ez.y=this.m_rA.x*$_+this.m_rB.x*a2,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=$_+a2,this.m_motorMass=$_+a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),(!this.m_enableMotor||g2)&&(this.m_motorImpulse=0),this.m_enableLimit&&!g2){let M2=d_-r_-this.m_referenceAngle;P0(this.m_upperAngle-this.m_lowerAngle)<2*h_?this.m_limitState=x.b2LimitState.e_equalLimits:M2<=this.m_lowerAngle?(this.m_limitState!==x.b2LimitState.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=x.b2LimitState.e_atLowerLimit):M2>=this.m_upperAngle?(this.m_limitState!==x.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=x.b2LimitState.e_atUpperLimit):(this.m_limitState=x.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=x.b2LimitState.e_inactiveLimit;if(_n.step.warmStarting){this.m_impulse.SelfMul(_n.step.dtRatio),this.m_motorImpulse*=_n.step.dtRatio;let M2=xA.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y);p_.SelfMulSub(H_,M2),b_-=$_*(a_.CrossVV(this.m_rA,M2)+this.m_motorImpulse+this.m_impulse.z),B_.SelfMulAdd(U_,M2),T_+=a2*(a_.CrossVV(this.m_rB,M2)+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.SetZero(),this.m_motorImpulse=0;_n.velocities[this.m_indexA].w=b_,_n.velocities[this.m_indexB].w=T_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,B_=this.m_invMassA,T_=this.m_invMassB,E_=this.m_invIA,Y_=this.m_invIB,H_=E_+Y_===0;if(this.m_enableMotor&&this.m_limitState!==x.b2LimitState.e_equalLimits&&!H_){let U_=d_-p_-this.m_motorSpeed,$_=-this.m_motorMass*U_,a2=this.m_motorImpulse,g2=_n.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=Vy(this.m_motorImpulse+$_,-g2,g2),$_=this.m_motorImpulse-a2,p_-=E_*$_,d_+=Y_*$_}if(this.m_enableLimit&&this.m_limitState!==x.b2LimitState.e_inactiveLimit&&!H_){let U_=a_.SubVV(a_.AddVCrossSV(b_,d_,this.m_rB,a_.s_t0),a_.AddVCrossSV(r_,p_,this.m_rA,a_.s_t1),xA.SolveVelocityConstraints_s_Cdot1),$_=d_-p_,a2=this.m_mass.Solve33(U_.x,U_.y,$_,xA.SolveVelocityConstraints_s_impulse_v3).SelfNeg();if(this.m_limitState===x.b2LimitState.e_equalLimits)this.m_impulse.SelfAdd(a2);else if(this.m_limitState===x.b2LimitState.e_atLowerLimit)if(this.m_impulse.z+a2.z<0){let R2=-U_.x+this.m_impulse.z*this.m_mass.ez.x,W2=-U_.y+this.m_impulse.z*this.m_mass.ez.y,z2=this.m_mass.Solve22(R2,W2,xA.SolveVelocityConstraints_s_reduced_v2);a2.x=z2.x,a2.y=z2.y,a2.z=-this.m_impulse.z,this.m_impulse.x+=z2.x,this.m_impulse.y+=z2.y,this.m_impulse.z=0}else this.m_impulse.SelfAdd(a2);else if(this.m_limitState===x.b2LimitState.e_atUpperLimit)if(this.m_impulse.z+a2.z>0){let R2=-U_.x+this.m_impulse.z*this.m_mass.ez.x,W2=-U_.y+this.m_impulse.z*this.m_mass.ez.y,z2=this.m_mass.Solve22(R2,W2,xA.SolveVelocityConstraints_s_reduced_v2);a2.x=z2.x,a2.y=z2.y,a2.z=-this.m_impulse.z,this.m_impulse.x+=z2.x,this.m_impulse.y+=z2.y,this.m_impulse.z=0}else this.m_impulse.SelfAdd(a2);let g2=xA.SolveVelocityConstraints_s_P.Set(a2.x,a2.y);r_.SelfMulSub(B_,g2),p_-=E_*(a_.CrossVV(this.m_rA,g2)+a2.z),b_.SelfMulAdd(T_,g2),d_+=Y_*(a_.CrossVV(this.m_rB,g2)+a2.z)}else{let U_=a_.SubVV(a_.AddVCrossSV(b_,d_,this.m_rB,a_.s_t0),a_.AddVCrossSV(r_,p_,this.m_rA,a_.s_t1),xA.SolveVelocityConstraints_s_Cdot_v2),$_=this.m_mass.Solve22(-U_.x,-U_.y,xA.SolveVelocityConstraints_s_impulse_v2);this.m_impulse.x+=$_.x,this.m_impulse.y+=$_.y,r_.SelfMulSub(B_,$_),p_-=E_*a_.CrossVV(this.m_rA,$_),b_.SelfMulAdd(T_,$_),d_+=Y_*a_.CrossVV(this.m_rB,$_)}_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,B_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_),E_=0,Y_=0,H_=this.m_invIA+this.m_invIB===0;if(this.m_enableLimit&&this.m_limitState!==x.b2LimitState.e_inactiveLimit&&!H_){let U_=d_-p_-this.m_referenceAngle,$_=0;if(this.m_limitState===x.b2LimitState.e_equalLimits){let a2=Vy(U_-this.m_lowerAngle,-k_,k_);$_=-this.m_motorMass*a2,E_=P0(a2)}else if(this.m_limitState===x.b2LimitState.e_atLowerLimit){let a2=U_-this.m_lowerAngle;E_=-a2,a2=Vy(a2+h_,-k_,0),$_=-this.m_motorMass*a2}else if(this.m_limitState===x.b2LimitState.e_atUpperLimit){let a2=U_-this.m_upperAngle;E_=a2,a2=Vy(a2-h_,0,k_),$_=-this.m_motorMass*a2}p_-=this.m_invIA*$_,d_+=this.m_invIB*$_}{B_.SetAngle(p_),T_.SetAngle(d_),a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let U_=K2.MulRV(B_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let $_=K2.MulRV(T_,this.m_lalcB,this.m_rB),a2=a_.SubVV(a_.AddVV(b_,$_,a_.s_t0),a_.AddVV(r_,U_,a_.s_t1),xA.SolvePositionConstraints_s_C_v2);Y_=a2.Length();let g2=this.m_invMassA,M2=this.m_invMassB,R2=this.m_invIA,W2=this.m_invIB,z2=this.m_K;z2.ex.x=g2+M2+R2*U_.y*U_.y+W2*$_.y*$_.y,z2.ex.y=-R2*U_.x*U_.y-W2*$_.x*$_.y,z2.ey.x=z2.ex.y,z2.ey.y=g2+M2+R2*U_.x*U_.x+W2*$_.x*$_.x;let Q2=z2.Solve(a2.x,a2.y,xA.SolvePositionConstraints_s_impulse).SelfNeg();r_.SelfMulSub(g2,Q2),p_-=R2*a_.CrossVV(U_,Q2),b_.SelfMulAdd(M2,Q2),d_+=W2*a_.CrossVV($_,Q2)}return _n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,Y_<=ws&&E_<=h_}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*this.m_impulse.x,r_.y=_n*this.m_impulse.y,r_}GetReactionTorque(_n){return _n*this.m_impulse.z}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}GetJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle}GetJointSpeed(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(_n){_n!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=_n)}GetMotorTorque(_n){return _n*this.m_motorImpulse}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorTorque(_n){_n!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=_n)}GetMaxMotorTorque(){return this.m_maxMotorTorque}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(_n){_n!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=_n,this.m_impulse.z=0)}GetLowerLimit(){return this.m_lowerAngle}GetUpperLimit(){return this.m_upperAngle}SetLimits(_n,r_){(_n!==this.m_lowerAngle||r_!==this.m_upperAngle)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=_n,this.m_upperAngle=r_)}SetMotorSpeed(_n){_n!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=_n)}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2RevoluteJointDef = new b2RevoluteJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),_n(`  jd.enableLimit = %s;
`,this.m_enableLimit?"true":"false"),_n(`  jd.lowerAngle = %.15f;
`,this.m_lowerAngle),_n(`  jd.upperAngle = %.15f;
`,this.m_upperAngle),_n(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),_n(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),_n(`  jd.maxMotorTorque = %.15f;
`,this.m_maxMotorTorque),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}xA.InitVelocityConstraints_s_P=new a_,xA.SolveVelocityConstraints_s_P=new a_,xA.SolveVelocityConstraints_s_Cdot_v2=new a_,xA.SolveVelocityConstraints_s_Cdot1=new a_,xA.SolveVelocityConstraints_s_impulse_v3=new oA,xA.SolveVelocityConstraints_s_reduced_v2=new a_,xA.SolveVelocityConstraints_s_impulse_v2=new a_,xA.SolvePositionConstraints_s_C_v2=new a_,xA.SolvePositionConstraints_s_impulse=new a_;class $8 extends KS{constructor(){super(x.b2JointType.e_ropeJoint),this.localAnchorA=new a_(-1,0),this.localAnchorB=new a_(1,0),this.maxLength=0}}class tC extends QS{constructor(_n){super(_n),this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_maxLength=0,this.m_length=0,this.m_impulse=0,this.m_indexA=0,this.m_indexB=0,this.m_u=new a_,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=0,this.m_state=x.b2LimitState.e_inactiveLimit,this.m_qA=new K2,this.m_qB=new K2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_localAnchorA.Copy(o(_n.localAnchorA,new a_(-1,0))),this.m_localAnchorB.Copy(o(_n.localAnchorB,new a_(1,0))),this.m_maxLength=o(_n.maxLength,0)}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.velocities[this.m_indexA].v,d_=_n.velocities[this.m_indexA].w,B_=_n.positions[this.m_indexB].c,T_=_n.positions[this.m_indexB].a,E_=_n.velocities[this.m_indexB].v,Y_=_n.velocities[this.m_indexB].w,H_=this.m_qA.SetAngle(p_),U_=this.m_qB.SetAngle(T_);if(a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),K2.MulRV(H_,this.m_lalcA,this.m_rA),a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),K2.MulRV(U_,this.m_lalcB,this.m_rB),this.m_u.Copy(B_).SelfAdd(this.m_rB).SelfSub(r_).SelfSub(this.m_rA),this.m_length=this.m_u.Length(),this.m_length-this.m_maxLength>0?this.m_state=x.b2LimitState.e_atUpperLimit:this.m_state=x.b2LimitState.e_inactiveLimit,this.m_length>ws)this.m_u.SelfMul(1/this.m_length);else{this.m_u.SetZero(),this.m_mass=0,this.m_impulse=0;return}let a2=a_.CrossVV(this.m_rA,this.m_u),g2=a_.CrossVV(this.m_rB,this.m_u),M2=this.m_invMassA+this.m_invIA*a2*a2+this.m_invMassB+this.m_invIB*g2*g2;if(this.m_mass=M2!==0?1/M2:0,_n.step.warmStarting){this.m_impulse*=_n.step.dtRatio;let R2=a_.MulSV(this.m_impulse,this.m_u,tC.InitVelocityConstraints_s_P);b_.SelfMulSub(this.m_invMassA,R2),d_-=this.m_invIA*a_.CrossVV(this.m_rA,R2),E_.SelfMulAdd(this.m_invMassB,R2),Y_+=this.m_invIB*a_.CrossVV(this.m_rB,R2)}else this.m_impulse=0;_n.velocities[this.m_indexA].w=d_,_n.velocities[this.m_indexB].w=Y_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,B_=a_.AddVCrossSV(r_,p_,this.m_rA,tC.SolveVelocityConstraints_s_vpA),T_=a_.AddVCrossSV(b_,d_,this.m_rB,tC.SolveVelocityConstraints_s_vpB),E_=this.m_length-this.m_maxLength,Y_=a_.DotVV(this.m_u,a_.SubVV(T_,B_,a_.s_t0));E_<0&&(Y_+=_n.step.inv_dt*E_);let H_=-this.m_mass*Y_,U_=this.m_impulse;this.m_impulse=L0(0,this.m_impulse+H_),H_=this.m_impulse-U_;let $_=a_.MulSV(H_,this.m_u,tC.SolveVelocityConstraints_s_P);r_.SelfMulSub(this.m_invMassA,$_),p_-=this.m_invIA*a_.CrossVV(this.m_rA,$_),b_.SelfMulAdd(this.m_invMassB,$_),d_+=this.m_invIB*a_.CrossVV(this.m_rB,$_),_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,B_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let E_=K2.MulRV(B_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let Y_=K2.MulRV(T_,this.m_lalcB,this.m_rB),H_=this.m_u.Copy(b_).SelfAdd(Y_).SelfSub(r_).SelfSub(E_),U_=H_.Normalize(),$_=U_-this.m_maxLength;$_=Vy($_,0,I_);let a2=-this.m_mass*$_,g2=a_.MulSV(a2,H_,tC.SolvePositionConstraints_s_P);return r_.SelfMulSub(this.m_invMassA,g2),p_-=this.m_invIA*a_.CrossVV(E_,g2),b_.SelfMulAdd(this.m_invMassB,g2),d_+=this.m_invIB*a_.CrossVV(Y_,g2),_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,U_-this.m_maxLength<ws}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return a_.MulSV(_n*this.m_impulse,this.m_u,r_)}GetReactionTorque(_n){return 0}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetMaxLength(_n){this.m_maxLength=_n}GetMaxLength(){return this.m_maxLength}GetLimitState(){return this.m_state}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2RopeJointDef = new b2RopeJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.maxLength = %.15f;
`,this.m_maxLength),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}tC.InitVelocityConstraints_s_P=new a_,tC.SolveVelocityConstraints_s_vpA=new a_,tC.SolveVelocityConstraints_s_vpB=new a_,tC.SolveVelocityConstraints_s_P=new a_,tC.SolvePositionConstraints_s_P=new a_;class tJ extends KS{constructor(){super(x.b2JointType.e_weldJoint),this.localAnchorA=new a_,this.localAnchorB=new a_,this.referenceAngle=0,this.frequencyHz=0,this.dampingRatio=0}Initialize(_n,r_,p_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(p_,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}class fA extends QS{constructor(_n){super(_n),this.m_frequencyHz=0,this.m_dampingRatio=0,this.m_bias=0,this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_referenceAngle=0,this.m_gamma=0,this.m_impulse=new oA(0,0,0),this.m_indexA=0,this.m_indexB=0,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=new vS,this.m_qA=new K2,this.m_qB=new K2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_K=new vS,this.m_frequencyHz=o(_n.frequencyHz,0),this.m_dampingRatio=o(_n.dampingRatio,0),this.m_localAnchorA.Copy(o(_n.localAnchorA,a_.ZERO)),this.m_localAnchorB.Copy(o(_n.localAnchorB,a_.ZERO)),this.m_referenceAngle=o(_n.referenceAngle,0),this.m_impulse.SetZero()}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].a,p_=_n.velocities[this.m_indexA].v,b_=_n.velocities[this.m_indexA].w,d_=_n.positions[this.m_indexB].a,B_=_n.velocities[this.m_indexB].v,T_=_n.velocities[this.m_indexB].w,E_=this.m_qA.SetAngle(r_),Y_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),K2.MulRV(E_,this.m_lalcA,this.m_rA),a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),K2.MulRV(Y_,this.m_lalcB,this.m_rB);let H_=this.m_invMassA,U_=this.m_invMassB,$_=this.m_invIA,a2=this.m_invIB,g2=this.m_K;if(g2.ex.x=H_+U_+this.m_rA.y*this.m_rA.y*$_+this.m_rB.y*this.m_rB.y*a2,g2.ey.x=-this.m_rA.y*this.m_rA.x*$_-this.m_rB.y*this.m_rB.x*a2,g2.ez.x=-this.m_rA.y*$_-this.m_rB.y*a2,g2.ex.y=g2.ey.x,g2.ey.y=H_+U_+this.m_rA.x*this.m_rA.x*$_+this.m_rB.x*this.m_rB.x*a2,g2.ez.y=this.m_rA.x*$_+this.m_rB.x*a2,g2.ex.z=g2.ez.x,g2.ey.z=g2.ez.y,g2.ez.z=$_+a2,this.m_frequencyHz>0){g2.GetInverse22(this.m_mass);let M2=$_+a2,R2=M2>0?1/M2:0,W2=d_-r_-this.m_referenceAngle,z2=2*e_*this.m_frequencyHz,Q2=2*R2*this.m_dampingRatio*z2,$2=R2*z2*z2,t0=_n.step.dt;this.m_gamma=t0*(Q2+t0*$2),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=W2*t0*$2*this.m_gamma,M2+=this.m_gamma,this.m_mass.ez.z=M2!==0?1/M2:0}else g2.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0;if(_n.step.warmStarting){this.m_impulse.SelfMul(_n.step.dtRatio);let M2=fA.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y);p_.SelfMulSub(H_,M2),b_-=$_*(a_.CrossVV(this.m_rA,M2)+this.m_impulse.z),B_.SelfMulAdd(U_,M2),T_+=a2*(a_.CrossVV(this.m_rB,M2)+this.m_impulse.z)}else this.m_impulse.SetZero();_n.velocities[this.m_indexA].w=b_,_n.velocities[this.m_indexB].w=T_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,B_=this.m_invMassA,T_=this.m_invMassB,E_=this.m_invIA,Y_=this.m_invIB;if(this.m_frequencyHz>0){let H_=d_-p_,U_=-this.m_mass.ez.z*(H_+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=U_,p_-=E_*U_,d_+=Y_*U_;let $_=a_.SubVV(a_.AddVCrossSV(b_,d_,this.m_rB,a_.s_t0),a_.AddVCrossSV(r_,p_,this.m_rA,a_.s_t1),fA.SolveVelocityConstraints_s_Cdot1),a2=vS.MulM33XY(this.m_mass,$_.x,$_.y,fA.SolveVelocityConstraints_s_impulse1).SelfNeg();this.m_impulse.x+=a2.x,this.m_impulse.y+=a2.y;let g2=a2;r_.SelfMulSub(B_,g2),p_-=E_*a_.CrossVV(this.m_rA,g2),b_.SelfMulAdd(T_,g2),d_+=Y_*a_.CrossVV(this.m_rB,g2)}else{let H_=a_.SubVV(a_.AddVCrossSV(b_,d_,this.m_rB,a_.s_t0),a_.AddVCrossSV(r_,p_,this.m_rA,a_.s_t1),fA.SolveVelocityConstraints_s_Cdot1),U_=d_-p_,$_=vS.MulM33XYZ(this.m_mass,H_.x,H_.y,U_,fA.SolveVelocityConstraints_s_impulse).SelfNeg();this.m_impulse.SelfAdd($_);let a2=fA.SolveVelocityConstraints_s_P.Set($_.x,$_.y);r_.SelfMulSub(B_,a2),p_-=E_*(a_.CrossVV(this.m_rA,a2)+$_.z),b_.SelfMulAdd(T_,a2),d_+=Y_*(a_.CrossVV(this.m_rB,a2)+$_.z)}_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,B_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_),E_=this.m_invMassA,Y_=this.m_invMassB,H_=this.m_invIA,U_=this.m_invIB;a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let $_=K2.MulRV(B_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let a2=K2.MulRV(T_,this.m_lalcB,this.m_rB),g2,M2,R2=this.m_K;if(R2.ex.x=E_+Y_+$_.y*$_.y*H_+a2.y*a2.y*U_,R2.ey.x=-$_.y*$_.x*H_-a2.y*a2.x*U_,R2.ez.x=-$_.y*H_-a2.y*U_,R2.ex.y=R2.ey.x,R2.ey.y=E_+Y_+$_.x*$_.x*H_+a2.x*a2.x*U_,R2.ez.y=$_.x*H_+a2.x*U_,R2.ex.z=R2.ez.x,R2.ey.z=R2.ez.y,R2.ez.z=H_+U_,this.m_frequencyHz>0){let W2=a_.SubVV(a_.AddVV(b_,a2,a_.s_t0),a_.AddVV(r_,$_,a_.s_t1),fA.SolvePositionConstraints_s_C1);g2=W2.Length(),M2=0;let z2=R2.Solve22(W2.x,W2.y,fA.SolvePositionConstraints_s_P).SelfNeg();r_.SelfMulSub(E_,z2),p_-=H_*a_.CrossVV($_,z2),b_.SelfMulAdd(Y_,z2),d_+=U_*a_.CrossVV(a2,z2)}else{let W2=a_.SubVV(a_.AddVV(b_,a2,a_.s_t0),a_.AddVV(r_,$_,a_.s_t1),fA.SolvePositionConstraints_s_C1),z2=d_-p_-this.m_referenceAngle;g2=W2.Length(),M2=P0(z2);let Q2=R2.Solve33(W2.x,W2.y,z2,fA.SolvePositionConstraints_s_impulse).SelfNeg(),$2=fA.SolvePositionConstraints_s_P.Set(Q2.x,Q2.y);r_.SelfMulSub(E_,$2),p_-=H_*(a_.CrossVV(this.m_rA,$2)+Q2.z),b_.SelfMulAdd(Y_,$2),d_+=U_*(a_.CrossVV(this.m_rB,$2)+Q2.z)}return _n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,g2<=ws&&M2<=h_}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*this.m_impulse.x,r_.y=_n*this.m_impulse.y,r_}GetReactionTorque(_n){return _n*this.m_impulse.z}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}SetFrequency(_n){this.m_frequencyHz=_n}GetFrequency(){return this.m_frequencyHz}SetDampingRatio(_n){this.m_dampingRatio=_n}GetDampingRatio(){return this.m_dampingRatio}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2WeldJointDef = new b2WeldJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),_n(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),_n(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}fA.InitVelocityConstraints_s_P=new a_,fA.SolveVelocityConstraints_s_Cdot1=new a_,fA.SolveVelocityConstraints_s_impulse1=new a_,fA.SolveVelocityConstraints_s_impulse=new oA,fA.SolveVelocityConstraints_s_P=new a_,fA.SolvePositionConstraints_s_C1=new a_,fA.SolvePositionConstraints_s_P=new a_,fA.SolvePositionConstraints_s_impulse=new oA;class eJ extends KS{constructor(){super(x.b2JointType.e_wheelJoint),this.localAnchorA=new a_(0,0),this.localAnchorB=new a_(0,0),this.localAxisA=new a_(1,0),this.enableMotor=!1,this.maxMotorTorque=0,this.motorSpeed=0,this.frequencyHz=2,this.dampingRatio=.7}Initialize(_n,r_,p_,b_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(p_,this.localAnchorB),this.bodyA.GetLocalVector(b_,this.localAxisA)}}class IS extends QS{constructor(_n){super(_n),this.m_frequencyHz=0,this.m_dampingRatio=0,this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_localXAxisA=new a_,this.m_localYAxisA=new a_,this.m_impulse=0,this.m_motorImpulse=0,this.m_springImpulse=0,this.m_maxMotorTorque=0,this.m_motorSpeed=0,this.m_enableMotor=!1,this.m_indexA=0,this.m_indexB=0,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_ax=new a_,this.m_ay=new a_,this.m_sAx=0,this.m_sBx=0,this.m_sAy=0,this.m_sBy=0,this.m_mass=0,this.m_motorMass=0,this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_qA=new K2,this.m_qB=new K2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_rA=new a_,this.m_rB=new a_,this.m_frequencyHz=o(_n.frequencyHz,2),this.m_dampingRatio=o(_n.dampingRatio,.7),this.m_localAnchorA.Copy(o(_n.localAnchorA,a_.ZERO)),this.m_localAnchorB.Copy(o(_n.localAnchorB,a_.ZERO)),this.m_localXAxisA.Copy(o(_n.localAxisA,a_.UNITX)),a_.CrossOneV(this.m_localXAxisA,this.m_localYAxisA),this.m_maxMotorTorque=o(_n.maxMotorTorque,0),this.m_motorSpeed=o(_n.motorSpeed,0),this.m_enableMotor=o(_n.enableMotor,!1),this.m_ax.SetZero(),this.m_ay.SetZero()}GetMotorSpeed(){return this.m_motorSpeed}GetMaxMotorTorque(){return this.m_maxMotorTorque}SetSpringFrequencyHz(_n){this.m_frequencyHz=_n}GetSpringFrequencyHz(){return this.m_frequencyHz}SetSpringDampingRatio(_n){this.m_dampingRatio=_n}GetSpringDampingRatio(){return this.m_dampingRatio}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=this.m_invMassA,p_=this.m_invMassB,b_=this.m_invIA,d_=this.m_invIB,B_=_n.positions[this.m_indexA].c,T_=_n.positions[this.m_indexA].a,E_=_n.velocities[this.m_indexA].v,Y_=_n.velocities[this.m_indexA].w,H_=_n.positions[this.m_indexB].c,U_=_n.positions[this.m_indexB].a,$_=_n.velocities[this.m_indexB].v,a2=_n.velocities[this.m_indexB].w,g2=this.m_qA.SetAngle(T_),M2=this.m_qB.SetAngle(U_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let R2=K2.MulRV(g2,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let W2=K2.MulRV(M2,this.m_lalcB,this.m_rB),z2=a_.SubVV(a_.AddVV(H_,W2,a_.s_t0),a_.AddVV(B_,R2,a_.s_t1),IS.InitVelocityConstraints_s_d);if(K2.MulRV(g2,this.m_localYAxisA,this.m_ay),this.m_sAy=a_.CrossVV(a_.AddVV(z2,R2,a_.s_t0),this.m_ay),this.m_sBy=a_.CrossVV(W2,this.m_ay),this.m_mass=r_+p_+b_*this.m_sAy*this.m_sAy+d_*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_frequencyHz>0){K2.MulRV(g2,this.m_localXAxisA,this.m_ax),this.m_sAx=a_.CrossVV(a_.AddVV(z2,R2,a_.s_t0),this.m_ax),this.m_sBx=a_.CrossVV(W2,this.m_ax);let Q2=r_+p_+b_*this.m_sAx*this.m_sAx+d_*this.m_sBx*this.m_sBx;if(Q2>0){this.m_springMass=1/Q2;let $2=a_.DotVV(z2,this.m_ax),t0=2*e_*this.m_frequencyHz,p0=2*this.m_springMass*this.m_dampingRatio*t0,_0=this.m_springMass*t0*t0,g0=_n.step.dt;this.m_gamma=g0*(p0+g0*_0),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=$2*g0*_0*this.m_gamma,this.m_springMass=Q2+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}}else this.m_springImpulse=0;if(this.m_enableMotor?(this.m_motorMass=b_+d_,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),_n.step.warmStarting){this.m_impulse*=_n.step.dtRatio,this.m_springImpulse*=_n.step.dtRatio,this.m_motorImpulse*=_n.step.dtRatio;let Q2=a_.AddVV(a_.MulSV(this.m_impulse,this.m_ay,a_.s_t0),a_.MulSV(this.m_springImpulse,this.m_ax,a_.s_t1),IS.InitVelocityConstraints_s_P),$2=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,t0=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse;E_.SelfMulSub(this.m_invMassA,Q2),Y_-=this.m_invIA*$2,$_.SelfMulAdd(this.m_invMassB,Q2),a2+=this.m_invIB*t0}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0;_n.velocities[this.m_indexA].w=Y_,_n.velocities[this.m_indexB].w=a2}SolveVelocityConstraints(_n){let r_=this.m_invMassA,p_=this.m_invMassB,b_=this.m_invIA,d_=this.m_invIB,B_=_n.velocities[this.m_indexA].v,T_=_n.velocities[this.m_indexA].w,E_=_n.velocities[this.m_indexB].v,Y_=_n.velocities[this.m_indexB].w;{let H_=a_.DotVV(this.m_ax,a_.SubVV(E_,B_,a_.s_t0))+this.m_sBx*Y_-this.m_sAx*T_,U_=-this.m_springMass*(H_+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=U_;let $_=a_.MulSV(U_,this.m_ax,IS.SolveVelocityConstraints_s_P),a2=U_*this.m_sAx,g2=U_*this.m_sBx;B_.SelfMulSub(r_,$_),T_-=b_*a2,E_.SelfMulAdd(p_,$_),Y_+=d_*g2}{let H_=Y_-T_-this.m_motorSpeed,U_=-this.m_motorMass*H_,$_=this.m_motorImpulse,a2=_n.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=Vy(this.m_motorImpulse+U_,-a2,a2),U_=this.m_motorImpulse-$_,T_-=b_*U_,Y_+=d_*U_}{let H_=a_.DotVV(this.m_ay,a_.SubVV(E_,B_,a_.s_t0))+this.m_sBy*Y_-this.m_sAy*T_,U_=-this.m_mass*H_;this.m_impulse+=U_;let $_=a_.MulSV(U_,this.m_ay,IS.SolveVelocityConstraints_s_P),a2=U_*this.m_sAy,g2=U_*this.m_sBy;B_.SelfMulSub(r_,$_),T_-=b_*a2,E_.SelfMulAdd(p_,$_),Y_+=d_*g2}_n.velocities[this.m_indexA].w=T_,_n.velocities[this.m_indexB].w=Y_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,B_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let E_=K2.MulRV(B_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let Y_=K2.MulRV(T_,this.m_lalcB,this.m_rB),H_=a_.AddVV(a_.SubVV(b_,r_,a_.s_t0),a_.SubVV(Y_,E_,a_.s_t1),IS.SolvePositionConstraints_s_d),U_=K2.MulRV(B_,this.m_localYAxisA,this.m_ay),$_=a_.CrossVV(a_.AddVV(H_,E_,a_.s_t0),U_),a2=a_.CrossVV(Y_,U_),g2=a_.DotVV(H_,this.m_ay),M2=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,R2;M2!==0?R2=-g2/M2:R2=0;let W2=a_.MulSV(R2,U_,IS.SolvePositionConstraints_s_P),z2=R2*$_,Q2=R2*a2;return r_.SelfMulSub(this.m_invMassA,W2),p_-=this.m_invIA*z2,b_.SelfMulAdd(this.m_invMassB,W2),d_+=this.m_invIB*Q2,_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,P0(g2)<=ws}GetDefinition(_n){return _n}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*(this.m_impulse*this.m_ay.x+this.m_springImpulse*this.m_ax.x),r_.y=_n*(this.m_impulse*this.m_ay.y+this.m_springImpulse*this.m_ax.y),r_}GetReactionTorque(_n){return _n*this.m_motorImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetJointTranslation(){return this.GetPrismaticJointTranslation()}GetJointLinearSpeed(){return this.GetPrismaticJointSpeed()}GetJointAngle(){return this.GetRevoluteJointAngle()}GetJointAngularSpeed(){return this.GetRevoluteJointSpeed()}GetPrismaticJointTranslation(){let _n=this.m_bodyA,r_=this.m_bodyB,p_=_n.GetWorldPoint(this.m_localAnchorA,new a_),b_=r_.GetWorldPoint(this.m_localAnchorB,new a_),d_=a_.SubVV(b_,p_,new a_),B_=_n.GetWorldVector(this.m_localXAxisA,new a_);return a_.DotVV(d_,B_)}GetPrismaticJointSpeed(){let _n=this.m_bodyA,r_=this.m_bodyB;a_.SubVV(this.m_localAnchorA,_n.m_sweep.localCenter,this.m_lalcA);let p_=K2.MulRV(_n.m_xf.q,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,r_.m_sweep.localCenter,this.m_lalcB);let b_=K2.MulRV(r_.m_xf.q,this.m_lalcB,this.m_rB),d_=a_.AddVV(_n.m_sweep.c,p_,a_.s_t0),B_=a_.AddVV(r_.m_sweep.c,b_,a_.s_t1),T_=a_.SubVV(B_,d_,a_.s_t2),E_=_n.GetWorldVector(this.m_localXAxisA,new a_),Y_=_n.m_linearVelocity,H_=r_.m_linearVelocity,U_=_n.m_angularVelocity,$_=r_.m_angularVelocity;return a_.DotVV(T_,a_.CrossSV(U_,E_,a_.s_t0))+a_.DotVV(E_,a_.SubVV(a_.AddVCrossSV(H_,$_,b_,a_.s_t0),a_.AddVCrossSV(Y_,U_,p_,a_.s_t1),a_.s_t0))}GetRevoluteJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a}GetRevoluteJointSpeed(){let _n=this.m_bodyA.m_angularVelocity;return this.m_bodyB.m_angularVelocity-_n}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(_n){_n!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=_n)}SetMotorSpeed(_n){_n!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=_n)}SetMaxMotorTorque(_n){_n!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=_n)}GetMotorTorque(_n){return _n*this.m_motorImpulse}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2WheelJointDef = new b2WheelJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.localAxisA.Set(%.15f, %.15f);
`,this.m_localXAxisA.x,this.m_localXAxisA.y),_n(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),_n(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),_n(`  jd.maxMotorTorque = %.15f;
`,this.m_maxMotorTorque),_n(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),_n(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}IS.InitVelocityConstraints_s_d=new a_,IS.InitVelocityConstraints_s_P=new a_,IS.SolveVelocityConstraints_s_P=new a_,IS.SolvePositionConstraints_s_d=new a_,IS.SolvePositionConstraints_s_P=new a_;function K4(i2,_n){return uC(i2*_n)}function Q4(i2,_n){return i2>_n?i2:_n}class $4{constructor(_n){this._other=null,this.prev=null,this.next=null,this.contact=_n}get other(){if(this._other===null)throw new Error;return this._other}set other(_n){if(this._other!==null)throw new Error;this._other=_n}Reset(){this._other=null,this.prev=null,this.next=null}}class eC{constructor(){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_prev=null,this.m_next=null,this.m_nodeA=new $4(this),this.m_nodeB=new $4(this),this.m_indexA=0,this.m_indexB=0,this.m_manifold=new YP,this.m_toiCount=0,this.m_toi=0,this.m_friction=0,this.m_restitution=0,this.m_tangentSpeed=0,this.m_oldManifold=new YP}GetManifold(){return this.m_manifold}GetWorldManifold(_n){let r_=this.m_fixtureA.GetBody(),p_=this.m_fixtureB.GetBody(),b_=this.GetShapeA(),d_=this.GetShapeB();_n.Initialize(this.m_manifold,r_.GetTransform(),b_.m_radius,p_.GetTransform(),d_.m_radius)}IsTouching(){return this.m_touchingFlag}SetEnabled(_n){this.m_enabledFlag=_n}IsEnabled(){return this.m_enabledFlag}GetNext(){return this.m_next}GetFixtureA(){return this.m_fixtureA}GetChildIndexA(){return this.m_indexA}GetShapeA(){return this.m_fixtureA.GetShape()}GetFixtureB(){return this.m_fixtureB}GetChildIndexB(){return this.m_indexB}GetShapeB(){return this.m_fixtureB.GetShape()}FlagForFiltering(){this.m_filterFlag=!0}SetFriction(_n){this.m_friction=_n}GetFriction(){return this.m_friction}ResetFriction(){this.m_friction=K4(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)}SetRestitution(_n){this.m_restitution=_n}GetRestitution(){return this.m_restitution}ResetRestitution(){this.m_restitution=Q4(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}SetTangentSpeed(_n){this.m_tangentSpeed=_n}GetTangentSpeed(){return this.m_tangentSpeed}Reset(_n,r_,p_,b_){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!0,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_fixtureA=_n,this.m_fixtureB=p_,this.m_indexA=r_,this.m_indexB=b_,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.Reset(),this.m_nodeB.Reset(),this.m_toiCount=0,this.m_friction=K4(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=Q4(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}Update(_n){let r_=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=r_,this.m_enabledFlag=!0;let p_=!1,b_=this.m_touchingFlag,d_=this.m_fixtureA.IsSensor(),B_=this.m_fixtureB.IsSensor(),T_=d_||B_,E_=this.m_fixtureA.GetBody(),Y_=this.m_fixtureB.GetBody(),H_=E_.GetTransform(),U_=Y_.GetTransform();if(T_){let $_=this.GetShapeA(),a2=this.GetShapeB();p_=W4($_,this.m_indexA,a2,this.m_indexB,H_,U_),this.m_manifold.pointCount=0}else{this.Evaluate(this.m_manifold,H_,U_),p_=this.m_manifold.pointCount>0;for(let $_=0;$_<this.m_manifold.pointCount;++$_){let a2=this.m_manifold.points[$_];a2.normalImpulse=0,a2.tangentImpulse=0;let g2=a2.id;for(let M2=0;M2<this.m_oldManifold.pointCount;++M2){let R2=this.m_oldManifold.points[M2];if(R2.id.key===g2.key){a2.normalImpulse=R2.normalImpulse,a2.tangentImpulse=R2.tangentImpulse;break}}}p_!==b_&&(E_.SetAwake(!0),Y_.SetAwake(!0))}this.m_touchingFlag=p_,!b_&&p_&&_n&&_n.BeginContact(this),b_&&!p_&&_n&&_n.EndContact(this),!T_&&p_&&_n&&_n.PreSolve(this,this.m_oldManifold)}ComputeTOI(_n,r_){let p_=eC.ComputeTOI_s_input;p_.proxyA.SetShape(this.GetShapeA(),this.m_indexA),p_.proxyB.SetShape(this.GetShapeB(),this.m_indexB),p_.sweepA.Copy(_n),p_.sweepB.Copy(r_),p_.tMax=ws;let b_=eC.ComputeTOI_s_output;return U4(b_,p_),b_.t}}eC.ComputeTOI_s_input=new N4,eC.ComputeTOI_s_output=new O4;class ZP extends eC{static Create(){return new ZP}static Destroy(_n){}Evaluate(_n,r_,p_){_M(_n,this.GetShapeA(),r_,this.GetShapeB(),p_)}}class KP extends eC{static Create(){return new KP}static Destroy(_n){}Evaluate(_n,r_,p_){lM(_n,this.GetShapeA(),r_,this.GetShapeB(),p_)}}class QP extends eC{static Create(){return new QP}static Destroy(_n){}Evaluate(_n,r_,p_){aM(_n,this.GetShapeA(),r_,this.GetShapeB(),p_)}}class $P extends eC{static Create(){return new $P}static Destroy(_n){}Evaluate(_n,r_,p_){Y4(_n,this.GetShapeA(),r_,this.GetShapeB(),p_)}}class _w extends eC{static Create(){return new _w}static Destroy(_n){}Evaluate(_n,r_,p_){H4(_n,this.GetShapeA(),r_,this.GetShapeB(),p_)}}class jB extends eC{static Create(){return new jB}static Destroy(_n){}Evaluate(_n,r_,p_){let b_=jB.Evaluate_s_edge;this.GetShapeA().GetChildEdge(b_,this.m_indexA),Y4(_n,b_,r_,this.GetShapeB(),p_)}}jB.Evaluate_s_edge=new a1;class zB extends eC{static Create(){return new zB}static Destroy(_n){}Evaluate(_n,r_,p_){let b_=zB.Evaluate_s_edge;this.GetShapeA().GetChildEdge(b_,this.m_indexA),H4(_n,b_,r_,this.GetShapeB(),p_)}}zB.Evaluate_s_edge=new a1;class dM{constructor(){this.pool=[],this.createFcn=null,this.destroyFcn=null,this.primary=!1}}class yM{constructor(){this.m_registers=[],this.InitializeRegisters()}AddType(_n,r_,p_,b_){let d_=[];function B_(){return d_.pop()||_n()}function T_(E_){d_.push(E_)}this.m_registers[p_][b_].pool=d_,this.m_registers[p_][b_].createFcn=B_,this.m_registers[p_][b_].destroyFcn=T_,this.m_registers[p_][b_].primary=!0,p_!==b_&&(this.m_registers[b_][p_].pool=d_,this.m_registers[b_][p_].createFcn=B_,this.m_registers[b_][p_].destroyFcn=T_,this.m_registers[b_][p_].primary=!1)}InitializeRegisters(){for(let _n=0;_n<x.b2ShapeType.e_shapeTypeCount;_n++){this.m_registers[_n]=[];for(let r_=0;r_<x.b2ShapeType.e_shapeTypeCount;r_++)this.m_registers[_n][r_]=new dM}this.AddType(ZP.Create,ZP.Destroy,x.b2ShapeType.e_circleShape,x.b2ShapeType.e_circleShape),this.AddType(QP.Create,QP.Destroy,x.b2ShapeType.e_polygonShape,x.b2ShapeType.e_circleShape),this.AddType(KP.Create,KP.Destroy,x.b2ShapeType.e_polygonShape,x.b2ShapeType.e_polygonShape),this.AddType($P.Create,$P.Destroy,x.b2ShapeType.e_edgeShape,x.b2ShapeType.e_circleShape),this.AddType(_w.Create,_w.Destroy,x.b2ShapeType.e_edgeShape,x.b2ShapeType.e_polygonShape),this.AddType(jB.Create,jB.Destroy,x.b2ShapeType.e_chainShape,x.b2ShapeType.e_circleShape),this.AddType(zB.Create,zB.Destroy,x.b2ShapeType.e_chainShape,x.b2ShapeType.e_polygonShape)}Create(_n,r_,p_,b_){let d_=_n.GetType(),B_=p_.GetType(),T_=this.m_registers[d_][B_];if(T_.createFcn){let E_=T_.createFcn();return T_.primary?E_.Reset(_n,r_,p_,b_):E_.Reset(p_,b_,_n,r_),E_}else return null}Destroy(_n){let r_=_n.m_fixtureA.GetType(),p_=_n.m_fixtureB.GetType(),b_=this.m_registers[r_][p_];b_.destroyFcn&&b_.destroyFcn(_n)}}class oJ{SayGoodbyeJoint(_n){}SayGoodbyeFixture(_n){}SayGoodbyeParticleGroup(_n){}SayGoodbyeParticle(_n,r_){}}class NV{ShouldCollide(_n,r_){let p_=_n.GetBody(),b_=r_.GetBody();if(b_.GetType()===x.b2BodyType.b2_staticBody&&p_.GetType()===x.b2BodyType.b2_staticBody||!b_.ShouldCollideConnected(p_))return!1;let d_=_n.GetFilterData(),B_=r_.GetFilterData();return d_.groupIndex===B_.groupIndex&&d_.groupIndex!==0?d_.groupIndex>0:(d_.maskBits&B_.categoryBits)!==0&&(d_.categoryBits&B_.maskBits)!==0}ShouldCollideFixtureParticle(_n,r_,p_){return!0}ShouldCollideParticleParticle(_n,r_,p_){return!0}}NV.b2_defaultFilter=new NV;class xM{constructor(){this.normalImpulses=h0(o_),this.tangentImpulses=h0(o_),this.count=0}}class OV{BeginContact(_n){}EndContact(_n){}BeginContactFixtureParticle(_n,r_){}EndContactFixtureParticle(_n,r_){}BeginContactParticleParticle(_n,r_){}EndContactParticleParticle(_n,r_){}PreSolve(_n,r_){}PostSolve(_n,r_){}}OV.b2_defaultListener=new OV;class IC{ReportFixture(_n){return!0}ReportParticle(_n,r_){return!1}ShouldQueryParticleSystem(_n){return!0}}class fM{ReportFixture(_n,r_,p_,b_){return b_}ReportParticle(_n,r_,p_,b_,d_){return 0}ShouldQueryParticleSystem(_n){return!0}}class gM{constructor(){this.m_broadPhase=new oM,this.m_contactList=null,this.m_contactCount=0,this.m_contactFilter=NV.b2_defaultFilter,this.m_contactListener=OV.b2_defaultListener,this.m_contactFactory=new yM}AddPair(_n,r_){let p_=_n.fixture,b_=r_.fixture,d_=_n.childIndex,B_=r_.childIndex,T_=p_.GetBody(),E_=b_.GetBody();if(T_===E_)return;let Y_=E_.GetContactList();for(;Y_;){if(Y_.other===T_){let U_=Y_.contact.GetFixtureA(),$_=Y_.contact.GetFixtureB(),a2=Y_.contact.GetChildIndexA(),g2=Y_.contact.GetChildIndexB();if(U_===p_&&$_===b_&&a2===d_&&g2===B_||U_===b_&&$_===p_&&a2===B_&&g2===d_)return}Y_=Y_.next}if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(p_,b_))return;let H_=this.m_contactFactory.Create(p_,d_,b_,B_);H_!==null&&(p_=H_.GetFixtureA(),b_=H_.GetFixtureB(),d_=H_.GetChildIndexA(),B_=H_.GetChildIndexB(),T_=p_.m_body,E_=b_.m_body,H_.m_prev=null,H_.m_next=this.m_contactList,this.m_contactList!==null&&(this.m_contactList.m_prev=H_),this.m_contactList=H_,H_.m_nodeA.other=E_,H_.m_nodeA.prev=null,H_.m_nodeA.next=T_.m_contactList,T_.m_contactList!==null&&(T_.m_contactList.prev=H_.m_nodeA),T_.m_contactList=H_.m_nodeA,H_.m_nodeB.other=T_,H_.m_nodeB.prev=null,H_.m_nodeB.next=E_.m_contactList,E_.m_contactList!==null&&(E_.m_contactList.prev=H_.m_nodeB),E_.m_contactList=H_.m_nodeB,!p_.IsSensor()&&!b_.IsSensor()&&(T_.SetAwake(!0),E_.SetAwake(!0)),++this.m_contactCount)}FindNewContacts(){this.m_broadPhase.UpdatePairs((_n,r_)=>{this.AddPair(_n,r_)})}Destroy(_n){let r_=_n.GetFixtureA(),p_=_n.GetFixtureB(),b_=r_.GetBody(),d_=p_.GetBody();this.m_contactListener&&_n.IsTouching()&&this.m_contactListener.EndContact(_n),_n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),_n===this.m_contactList&&(this.m_contactList=_n.m_next),_n.m_nodeA.prev&&(_n.m_nodeA.prev.next=_n.m_nodeA.next),_n.m_nodeA.next&&(_n.m_nodeA.next.prev=_n.m_nodeA.prev),_n.m_nodeA===b_.m_contactList&&(b_.m_contactList=_n.m_nodeA.next),_n.m_nodeB.prev&&(_n.m_nodeB.prev.next=_n.m_nodeB.next),_n.m_nodeB.next&&(_n.m_nodeB.next.prev=_n.m_nodeB.prev),_n.m_nodeB===d_.m_contactList&&(d_.m_contactList=_n.m_nodeB.next),_n.m_manifold.pointCount>0&&!r_.IsSensor()&&!p_.IsSensor()&&(r_.GetBody().SetAwake(!0),p_.GetBody().SetAwake(!0)),this.m_contactFactory.Destroy(_n),--this.m_contactCount}Collide(){let _n=this.m_contactList;for(;_n;){let r_=_n.GetFixtureA(),p_=_n.GetFixtureB(),b_=_n.GetChildIndexA(),d_=_n.GetChildIndexB(),B_=r_.GetBody(),T_=p_.GetBody();if(_n.m_filterFlag){if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(r_,p_)){let a2=_n;_n=a2.m_next,this.Destroy(a2);continue}_n.m_filterFlag=!1}let E_=B_.IsAwake()&&B_.m_type!==x.b2BodyType.b2_staticBody,Y_=T_.IsAwake()&&T_.m_type!==x.b2BodyType.b2_staticBody;if(!E_&&!Y_){_n=_n.m_next;continue}let H_=r_.m_proxies[b_].treeNode,U_=p_.m_proxies[d_].treeNode;if(!z4(H_.aabb,U_.aabb)){let a2=_n;_n=a2.m_next,this.Destroy(a2);continue}_n.Update(this.m_contactListener),_n=_n.m_next}}}class tD{constructor(){this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0}Reset(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this}}class WB{constructor(){this.dt=0,this.inv_dt=0,this.dtRatio=0,this.velocityIterations=0,this.positionIterations=0,this.particleIterations=0,this.warmStarting=!1}Copy(_n){return this.dt=_n.dt,this.inv_dt=_n.inv_dt,this.dtRatio=_n.dtRatio,this.positionIterations=_n.positionIterations,this.velocityIterations=_n.velocityIterations,this.particleIterations=_n.particleIterations,this.warmStarting=_n.warmStarting,this}}class tV{constructor(){this.c=new a_,this.a=0}static MakeArray(_n){return U2(_n,r_=>new tV)}}class eV{constructor(){this.v=new a_,this.w=0}static MakeArray(_n){return U2(_n,r_=>new eV)}}class vM{constructor(){this.step=new WB}}let eD=!1;class UV{constructor(){this.rA=new a_,this.rB=new a_,this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0}static MakeArray(_n){return U2(_n,r_=>new UV)}}class oV{constructor(){this.points=UV.MakeArray(o_),this.normal=new a_,this.tangent=new a_,this.normalMass=new F1,this.K=new F1,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.invIA=0,this.invIB=0,this.friction=0,this.restitution=0,this.tangentSpeed=0,this.pointCount=0,this.contactIndex=0}static MakeArray(_n){return U2(_n,r_=>new oV)}}class iV{constructor(){this.localPoints=a_.MakeArray(o_),this.localNormal=new a_,this.localPoint=new a_,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.localCenterA=new a_,this.localCenterB=new a_,this.invIA=0,this.invIB=0,this.type=x.b2ManifoldType.e_unknown,this.radiusA=0,this.radiusB=0,this.pointCount=0}static MakeArray(_n){return U2(_n,r_=>new iV)}}class AM{constructor(){this.step=new WB,this.count=0}}class hC{constructor(){this.normal=new a_,this.point=new a_,this.separation=0}Initialize(_n,r_,p_,b_){let d_=hC.Initialize_s_pointA,B_=hC.Initialize_s_pointB,T_=hC.Initialize_s_planePoint,E_=hC.Initialize_s_clipPoint;switch(_n.type){case x.b2ManifoldType.e_circles:{o0.MulXV(r_,_n.localPoint,d_),o0.MulXV(p_,_n.localPoints[0],B_),a_.SubVV(B_,d_,this.normal).SelfNormalize(),a_.MidVV(d_,B_,this.point),this.separation=a_.DotVV(a_.SubVV(B_,d_,a_.s_t0),this.normal)-_n.radiusA-_n.radiusB;break}case x.b2ManifoldType.e_faceA:{K2.MulRV(r_.q,_n.localNormal,this.normal),o0.MulXV(r_,_n.localPoint,T_),o0.MulXV(p_,_n.localPoints[b_],E_),this.separation=a_.DotVV(a_.SubVV(E_,T_,a_.s_t0),this.normal)-_n.radiusA-_n.radiusB,this.point.Copy(E_);break}case x.b2ManifoldType.e_faceB:{K2.MulRV(p_.q,_n.localNormal,this.normal),o0.MulXV(p_,_n.localPoint,T_),o0.MulXV(r_,_n.localPoints[b_],E_),this.separation=a_.DotVV(a_.SubVV(E_,T_,a_.s_t0),this.normal)-_n.radiusA-_n.radiusB,this.point.Copy(E_),this.normal.SelfNeg();break}}}}hC.Initialize_s_pointA=new a_,hC.Initialize_s_pointB=new a_,hC.Initialize_s_planePoint=new a_,hC.Initialize_s_clipPoint=new a_;class q0{constructor(){this.m_step=new WB,this.m_positionConstraints=iV.MakeArray(1024),this.m_velocityConstraints=oV.MakeArray(1024),this.m_count=0}Initialize(_n){if(this.m_step.Copy(_n.step),this.m_count=_n.count,this.m_positionConstraints.length<this.m_count){let r_=T0(this.m_positionConstraints.length*2,this.m_count);for(;this.m_positionConstraints.length<r_;)this.m_positionConstraints[this.m_positionConstraints.length]=new iV}if(this.m_velocityConstraints.length<this.m_count){let r_=T0(this.m_velocityConstraints.length*2,this.m_count);for(;this.m_velocityConstraints.length<r_;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new oV}this.m_positions=_n.positions,this.m_velocities=_n.velocities,this.m_contacts=_n.contacts;for(let r_=0;r_<this.m_count;++r_){let p_=this.m_contacts[r_],b_=p_.m_fixtureA,d_=p_.m_fixtureB,B_=b_.GetShape(),T_=d_.GetShape(),E_=B_.m_radius,Y_=T_.m_radius,H_=b_.GetBody(),U_=d_.GetBody(),$_=p_.GetManifold(),a2=$_.pointCount,g2=this.m_velocityConstraints[r_];g2.friction=p_.m_friction,g2.restitution=p_.m_restitution,g2.tangentSpeed=p_.m_tangentSpeed,g2.indexA=H_.m_islandIndex,g2.indexB=U_.m_islandIndex,g2.invMassA=H_.m_invMass,g2.invMassB=U_.m_invMass,g2.invIA=H_.m_invI,g2.invIB=U_.m_invI,g2.contactIndex=r_,g2.pointCount=a2,g2.K.SetZero(),g2.normalMass.SetZero();let M2=this.m_positionConstraints[r_];M2.indexA=H_.m_islandIndex,M2.indexB=U_.m_islandIndex,M2.invMassA=H_.m_invMass,M2.invMassB=U_.m_invMass,M2.localCenterA.Copy(H_.m_sweep.localCenter),M2.localCenterB.Copy(U_.m_sweep.localCenter),M2.invIA=H_.m_invI,M2.invIB=U_.m_invI,M2.localNormal.Copy($_.localNormal),M2.localPoint.Copy($_.localPoint),M2.pointCount=a2,M2.radiusA=E_,M2.radiusB=Y_,M2.type=$_.type;for(let R2=0;R2<a2;++R2){let W2=$_.points[R2],z2=g2.points[R2];this.m_step.warmStarting?(z2.normalImpulse=this.m_step.dtRatio*W2.normalImpulse,z2.tangentImpulse=this.m_step.dtRatio*W2.tangentImpulse):(z2.normalImpulse=0,z2.tangentImpulse=0),z2.rA.SetZero(),z2.rB.SetZero(),z2.normalMass=0,z2.tangentMass=0,z2.velocityBias=0,M2.localPoints[R2].Copy(W2.localPoint)}}return this}InitializeVelocityConstraints(){let _n=q0.InitializeVelocityConstraints_s_xfA,r_=q0.InitializeVelocityConstraints_s_xfB,p_=q0.InitializeVelocityConstraints_s_worldManifold,b_=1e3;for(let d_=0;d_<this.m_count;++d_){let B_=this.m_velocityConstraints[d_],T_=this.m_positionConstraints[d_],E_=T_.radiusA,Y_=T_.radiusB,H_=this.m_contacts[B_.contactIndex].GetManifold(),U_=B_.indexA,$_=B_.indexB,a2=B_.invMassA,g2=B_.invMassB,M2=B_.invIA,R2=B_.invIB,W2=T_.localCenterA,z2=T_.localCenterB,Q2=this.m_positions[U_].c,$2=this.m_positions[U_].a,t0=this.m_velocities[U_].v,p0=this.m_velocities[U_].w,_0=this.m_positions[$_].c,g0=this.m_positions[$_].a,b0=this.m_velocities[$_].v,D0=this.m_velocities[$_].w;_n.q.SetAngle($2),r_.q.SetAngle(g0),a_.SubVV(Q2,K2.MulRV(_n.q,W2,a_.s_t0),_n.p),a_.SubVV(_0,K2.MulRV(r_.q,z2,a_.s_t0),r_.p),p_.Initialize(H_,_n,E_,r_,Y_),B_.normal.Copy(p_.normal),a_.CrossVOne(B_.normal,B_.tangent);let E0=B_.pointCount;for(let x0=0;x0<E0;++x0){let l0=B_.points[x0];a_.SubVV(p_.points[x0],Q2,l0.rA),a_.SubVV(p_.points[x0],_0,l0.rB);let W0=a_.CrossVV(l0.rA,B_.normal),j0=a_.CrossVV(l0.rB,B_.normal),Cy=a2+g2+M2*W0*W0+R2*j0*j0;l0.normalMass=Cy>0?1/Cy:0;let g1=B_.tangent,M1=a_.CrossVV(l0.rA,g1),YA=a_.CrossVV(l0.rB,g1),HA=a2+g2+M2*M1*M1+R2*YA*YA;l0.tangentMass=HA>0?1/HA:0,l0.velocityBias=0;let ZA=a_.DotVV(B_.normal,a_.SubVV(a_.AddVCrossSV(b0,D0,l0.rB,a_.s_t0),a_.AddVCrossSV(t0,p0,l0.rA,a_.s_t1),a_.s_t0));ZA<-y_&&(l0.velocityBias+=-B_.restitution*ZA)}if(B_.pointCount===2&&eD){let x0=B_.points[0],l0=B_.points[1],W0=a_.CrossVV(x0.rA,B_.normal),j0=a_.CrossVV(x0.rB,B_.normal),Cy=a_.CrossVV(l0.rA,B_.normal),g1=a_.CrossVV(l0.rB,B_.normal),M1=a2+g2+M2*W0*W0+R2*j0*j0,YA=a2+g2+M2*Cy*Cy+R2*g1*g1,HA=a2+g2+M2*W0*Cy+R2*j0*g1;M1*M1<b_*(M1*YA-HA*HA)?(B_.K.ex.Set(M1,HA),B_.K.ey.Set(HA,YA),B_.K.GetInverse(B_.normalMass)):B_.pointCount=1}}}WarmStart(){let _n=q0.WarmStart_s_P;for(let r_=0;r_<this.m_count;++r_){let p_=this.m_velocityConstraints[r_],b_=p_.indexA,d_=p_.indexB,B_=p_.invMassA,T_=p_.invIA,E_=p_.invMassB,Y_=p_.invIB,H_=p_.pointCount,U_=this.m_velocities[b_].v,$_=this.m_velocities[b_].w,a2=this.m_velocities[d_].v,g2=this.m_velocities[d_].w,M2=p_.normal,R2=p_.tangent;for(let W2=0;W2<H_;++W2){let z2=p_.points[W2];a_.AddVV(a_.MulSV(z2.normalImpulse,M2,a_.s_t0),a_.MulSV(z2.tangentImpulse,R2,a_.s_t1),_n),$_-=T_*a_.CrossVV(z2.rA,_n),U_.SelfMulSub(B_,_n),g2+=Y_*a_.CrossVV(z2.rB,_n),a2.SelfMulAdd(E_,_n)}this.m_velocities[b_].w=$_,this.m_velocities[d_].w=g2}}SolveVelocityConstraints(){let _n=q0.SolveVelocityConstraints_s_dv,r_=q0.SolveVelocityConstraints_s_dv1,p_=q0.SolveVelocityConstraints_s_dv2,b_=q0.SolveVelocityConstraints_s_P,d_=q0.SolveVelocityConstraints_s_a,B_=q0.SolveVelocityConstraints_s_b,T_=q0.SolveVelocityConstraints_s_x,E_=q0.SolveVelocityConstraints_s_d,Y_=q0.SolveVelocityConstraints_s_P1,H_=q0.SolveVelocityConstraints_s_P2,U_=q0.SolveVelocityConstraints_s_P1P2;for(let $_=0;$_<this.m_count;++$_){let a2=this.m_velocityConstraints[$_],g2=a2.indexA,M2=a2.indexB,R2=a2.invMassA,W2=a2.invIA,z2=a2.invMassB,Q2=a2.invIB,$2=a2.pointCount,t0=this.m_velocities[g2].v,p0=this.m_velocities[g2].w,_0=this.m_velocities[M2].v,g0=this.m_velocities[M2].w,b0=a2.normal,D0=a2.tangent,E0=a2.friction;for(let x0=0;x0<$2;++x0){let l0=a2.points[x0];a_.SubVV(a_.AddVCrossSV(_0,g0,l0.rB,a_.s_t0),a_.AddVCrossSV(t0,p0,l0.rA,a_.s_t1),_n);let W0=a_.DotVV(_n,D0)-a2.tangentSpeed,j0=l0.tangentMass*-W0,Cy=E0*l0.normalImpulse,g1=Vy(l0.tangentImpulse+j0,-Cy,Cy);j0=g1-l0.tangentImpulse,l0.tangentImpulse=g1,a_.MulSV(j0,D0,b_),t0.SelfMulSub(R2,b_),p0-=W2*a_.CrossVV(l0.rA,b_),_0.SelfMulAdd(z2,b_),g0+=Q2*a_.CrossVV(l0.rB,b_)}if(a2.pointCount===1||eD===!1)for(let x0=0;x0<$2;++x0){let l0=a2.points[x0];a_.SubVV(a_.AddVCrossSV(_0,g0,l0.rB,a_.s_t0),a_.AddVCrossSV(t0,p0,l0.rA,a_.s_t1),_n);let W0=a_.DotVV(_n,b0),j0=-l0.normalMass*(W0-l0.velocityBias),Cy=T0(l0.normalImpulse+j0,0);j0=Cy-l0.normalImpulse,l0.normalImpulse=Cy,a_.MulSV(j0,b0,b_),t0.SelfMulSub(R2,b_),p0-=W2*a_.CrossVV(l0.rA,b_),_0.SelfMulAdd(z2,b_),g0+=Q2*a_.CrossVV(l0.rB,b_)}else{let x0=a2.points[0],l0=a2.points[1];d_.Set(x0.normalImpulse,l0.normalImpulse),a_.SubVV(a_.AddVCrossSV(_0,g0,x0.rB,a_.s_t0),a_.AddVCrossSV(t0,p0,x0.rA,a_.s_t1),r_),a_.SubVV(a_.AddVCrossSV(_0,g0,l0.rB,a_.s_t0),a_.AddVCrossSV(t0,p0,l0.rA,a_.s_t1),p_);let W0=a_.DotVV(r_,b0),j0=a_.DotVV(p_,b0);for(B_.x=W0-x0.velocityBias,B_.y=j0-l0.velocityBias,B_.SelfSub(F1.MulMV(a2.K,d_,a_.s_t0));;){if(F1.MulMV(a2.normalMass,B_,T_).SelfNeg(),T_.x>=0&&T_.y>=0){a_.SubVV(T_,d_,E_),a_.MulSV(E_.x,b0,Y_),a_.MulSV(E_.y,b0,H_),a_.AddVV(Y_,H_,U_),t0.SelfMulSub(R2,U_),p0-=W2*(a_.CrossVV(x0.rA,Y_)+a_.CrossVV(l0.rA,H_)),_0.SelfMulAdd(z2,U_),g0+=Q2*(a_.CrossVV(x0.rB,Y_)+a_.CrossVV(l0.rB,H_)),x0.normalImpulse=T_.x,l0.normalImpulse=T_.y;break}if(T_.x=-x0.normalMass*B_.x,T_.y=0,W0=0,j0=a2.K.ex.y*T_.x+B_.y,T_.x>=0&&j0>=0){a_.SubVV(T_,d_,E_),a_.MulSV(E_.x,b0,Y_),a_.MulSV(E_.y,b0,H_),a_.AddVV(Y_,H_,U_),t0.SelfMulSub(R2,U_),p0-=W2*(a_.CrossVV(x0.rA,Y_)+a_.CrossVV(l0.rA,H_)),_0.SelfMulAdd(z2,U_),g0+=Q2*(a_.CrossVV(x0.rB,Y_)+a_.CrossVV(l0.rB,H_)),x0.normalImpulse=T_.x,l0.normalImpulse=T_.y;break}if(T_.x=0,T_.y=-l0.normalMass*B_.y,W0=a2.K.ey.x*T_.y+B_.x,j0=0,T_.y>=0&&W0>=0){a_.SubVV(T_,d_,E_),a_.MulSV(E_.x,b0,Y_),a_.MulSV(E_.y,b0,H_),a_.AddVV(Y_,H_,U_),t0.SelfMulSub(R2,U_),p0-=W2*(a_.CrossVV(x0.rA,Y_)+a_.CrossVV(l0.rA,H_)),_0.SelfMulAdd(z2,U_),g0+=Q2*(a_.CrossVV(x0.rB,Y_)+a_.CrossVV(l0.rB,H_)),x0.normalImpulse=T_.x,l0.normalImpulse=T_.y;break}if(T_.x=0,T_.y=0,W0=B_.x,j0=B_.y,W0>=0&&j0>=0){a_.SubVV(T_,d_,E_),a_.MulSV(E_.x,b0,Y_),a_.MulSV(E_.y,b0,H_),a_.AddVV(Y_,H_,U_),t0.SelfMulSub(R2,U_),p0-=W2*(a_.CrossVV(x0.rA,Y_)+a_.CrossVV(l0.rA,H_)),_0.SelfMulAdd(z2,U_),g0+=Q2*(a_.CrossVV(x0.rB,Y_)+a_.CrossVV(l0.rB,H_)),x0.normalImpulse=T_.x,l0.normalImpulse=T_.y;break}break}}this.m_velocities[g2].w=p0,this.m_velocities[M2].w=g0}}StoreImpulses(){for(let _n=0;_n<this.m_count;++_n){let r_=this.m_velocityConstraints[_n],p_=this.m_contacts[r_.contactIndex].GetManifold();for(let b_=0;b_<r_.pointCount;++b_)p_.points[b_].normalImpulse=r_.points[b_].normalImpulse,p_.points[b_].tangentImpulse=r_.points[b_].tangentImpulse}}SolvePositionConstraints(){let _n=q0.SolvePositionConstraints_s_xfA,r_=q0.SolvePositionConstraints_s_xfB,p_=q0.SolvePositionConstraints_s_psm,b_=q0.SolvePositionConstraints_s_rA,d_=q0.SolvePositionConstraints_s_rB,B_=q0.SolvePositionConstraints_s_P,T_=0;for(let E_=0;E_<this.m_count;++E_){let Y_=this.m_positionConstraints[E_],H_=Y_.indexA,U_=Y_.indexB,$_=Y_.localCenterA,a2=Y_.invMassA,g2=Y_.invIA,M2=Y_.localCenterB,R2=Y_.invMassB,W2=Y_.invIB,z2=Y_.pointCount,Q2=this.m_positions[H_].c,$2=this.m_positions[H_].a,t0=this.m_positions[U_].c,p0=this.m_positions[U_].a;for(let _0=0;_0<z2;++_0){_n.q.SetAngle($2),r_.q.SetAngle(p0),a_.SubVV(Q2,K2.MulRV(_n.q,$_,a_.s_t0),_n.p),a_.SubVV(t0,K2.MulRV(r_.q,M2,a_.s_t0),r_.p),p_.Initialize(Y_,_n,r_,_0);let g0=p_.normal,b0=p_.point,D0=p_.separation;a_.SubVV(b0,Q2,b_),a_.SubVV(b0,t0,d_),T_=L0(T_,D0);let E0=Vy(T2*(D0+ws),-I_,0),x0=a_.CrossVV(b_,g0),l0=a_.CrossVV(d_,g0),W0=a2+R2+g2*x0*x0+W2*l0*l0,j0=W0>0?-E0/W0:0;a_.MulSV(j0,g0,B_),Q2.SelfMulSub(a2,B_),$2-=g2*a_.CrossVV(b_,B_),t0.SelfMulAdd(R2,B_),p0+=W2*a_.CrossVV(d_,B_)}this.m_positions[H_].a=$2,this.m_positions[U_].a=p0}return T_>-3*ws}SolveTOIPositionConstraints(_n,r_){let p_=q0.SolveTOIPositionConstraints_s_xfA,b_=q0.SolveTOIPositionConstraints_s_xfB,d_=q0.SolveTOIPositionConstraints_s_psm,B_=q0.SolveTOIPositionConstraints_s_rA,T_=q0.SolveTOIPositionConstraints_s_rB,E_=q0.SolveTOIPositionConstraints_s_P,Y_=0;for(let H_=0;H_<this.m_count;++H_){let U_=this.m_positionConstraints[H_],$_=U_.indexA,a2=U_.indexB,g2=U_.localCenterA,M2=U_.localCenterB,R2=U_.pointCount,W2=0,z2=0;($_===_n||$_===r_)&&(W2=U_.invMassA,z2=U_.invIA);let Q2=0,$2=0;(a2===_n||a2===r_)&&(Q2=U_.invMassB,$2=U_.invIB);let t0=this.m_positions[$_].c,p0=this.m_positions[$_].a,_0=this.m_positions[a2].c,g0=this.m_positions[a2].a;for(let b0=0;b0<R2;++b0){p_.q.SetAngle(p0),b_.q.SetAngle(g0),a_.SubVV(t0,K2.MulRV(p_.q,g2,a_.s_t0),p_.p),a_.SubVV(_0,K2.MulRV(b_.q,M2,a_.s_t0),b_.p),d_.Initialize(U_,p_,b_,b0);let D0=d_.normal,E0=d_.point,x0=d_.separation;a_.SubVV(E0,t0,B_),a_.SubVV(E0,_0,T_),Y_=L0(Y_,x0);let l0=Vy(I2*(x0+ws),-I_,0),W0=a_.CrossVV(B_,D0),j0=a_.CrossVV(T_,D0),Cy=W2+Q2+z2*W0*W0+$2*j0*j0,g1=Cy>0?-l0/Cy:0;a_.MulSV(g1,D0,E_),t0.SelfMulSub(W2,E_),p0-=z2*a_.CrossVV(B_,E_),_0.SelfMulAdd(Q2,E_),g0+=$2*a_.CrossVV(T_,E_)}this.m_positions[$_].a=p0,this.m_positions[a2].a=g0}return Y_>=-1.5*ws}}q0.InitializeVelocityConstraints_s_xfA=new o0,q0.InitializeVelocityConstraints_s_xfB=new o0,q0.InitializeVelocityConstraints_s_worldManifold=new BA,q0.WarmStart_s_P=new a_,q0.SolveVelocityConstraints_s_dv=new a_,q0.SolveVelocityConstraints_s_dv1=new a_,q0.SolveVelocityConstraints_s_dv2=new a_,q0.SolveVelocityConstraints_s_P=new a_,q0.SolveVelocityConstraints_s_a=new a_,q0.SolveVelocityConstraints_s_b=new a_,q0.SolveVelocityConstraints_s_x=new a_,q0.SolveVelocityConstraints_s_d=new a_,q0.SolveVelocityConstraints_s_P1=new a_,q0.SolveVelocityConstraints_s_P2=new a_,q0.SolveVelocityConstraints_s_P1P2=new a_,q0.SolvePositionConstraints_s_xfA=new o0,q0.SolvePositionConstraints_s_xfB=new o0,q0.SolvePositionConstraints_s_psm=new hC,q0.SolvePositionConstraints_s_rA=new a_,q0.SolvePositionConstraints_s_rB=new a_,q0.SolvePositionConstraints_s_P=new a_,q0.SolveTOIPositionConstraints_s_xfA=new o0,q0.SolveTOIPositionConstraints_s_xfB=new o0,q0.SolveTOIPositionConstraints_s_psm=new hC,q0.SolveTOIPositionConstraints_s_rA=new a_,q0.SolveTOIPositionConstraints_s_rB=new a_,q0.SolveTOIPositionConstraints_s_P=new a_;class XA{constructor(){this.m_bodies=[],this.m_contacts=[],this.m_joints=[],this.m_positions=tV.MakeArray(1024),this.m_velocities=eV.MakeArray(1024),this.m_bodyCount=0,this.m_jointCount=0,this.m_contactCount=0,this.m_bodyCapacity=0,this.m_contactCapacity=0,this.m_jointCapacity=0}Initialize(_n,r_,p_,b_){if(this.m_bodyCapacity=_n,this.m_contactCapacity=r_,this.m_jointCapacity=p_,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_listener=b_,this.m_positions.length<_n){let d_=T0(this.m_positions.length*2,_n);for(;this.m_positions.length<d_;)this.m_positions[this.m_positions.length]=new tV}if(this.m_velocities.length<_n){let d_=T0(this.m_velocities.length*2,_n);for(;this.m_velocities.length<d_;)this.m_velocities[this.m_velocities.length]=new eV}}Clear(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0}AddBody(_n){_n.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=_n}AddContact(_n){this.m_contacts[this.m_contactCount++]=_n}AddJoint(_n){this.m_joints[this.m_jointCount++]=_n}Solve(_n,r_,p_,b_){let d_=XA.s_timer.Reset(),B_=r_.dt;for(let U_=0;U_<this.m_bodyCount;++U_){let $_=this.m_bodies[U_];this.m_positions[U_].c.Copy($_.m_sweep.c);let a2=$_.m_sweep.a,g2=this.m_velocities[U_].v.Copy($_.m_linearVelocity),M2=$_.m_angularVelocity;$_.m_sweep.c0.Copy($_.m_sweep.c),$_.m_sweep.a0=$_.m_sweep.a,$_.m_type===x.b2BodyType.b2_dynamicBody&&(g2.x+=B_*($_.m_gravityScale*p_.x+$_.m_invMass*$_.m_force.x),g2.y+=B_*($_.m_gravityScale*p_.y+$_.m_invMass*$_.m_force.y),M2+=B_*$_.m_invI*$_.m_torque,g2.SelfMul(1/(1+B_*$_.m_linearDamping)),M2*=1/(1+B_*$_.m_angularDamping)),this.m_positions[U_].a=a2,this.m_velocities[U_].w=M2}d_.Reset();let T_=XA.s_solverData;T_.step.Copy(r_),T_.positions=this.m_positions,T_.velocities=this.m_velocities;let E_=XA.s_contactSolverDef;E_.step.Copy(r_),E_.contacts=this.m_contacts,E_.count=this.m_contactCount,E_.positions=this.m_positions,E_.velocities=this.m_velocities;let Y_=XA.s_contactSolver.Initialize(E_);Y_.InitializeVelocityConstraints(),r_.warmStarting&&Y_.WarmStart();for(let U_=0;U_<this.m_jointCount;++U_)this.m_joints[U_].InitVelocityConstraints(T_);_n.solveInit=d_.GetMilliseconds(),d_.Reset();for(let U_=0;U_<r_.velocityIterations;++U_){for(let $_=0;$_<this.m_jointCount;++$_)this.m_joints[$_].SolveVelocityConstraints(T_);Y_.SolveVelocityConstraints()}Y_.StoreImpulses(),_n.solveVelocity=d_.GetMilliseconds();for(let U_=0;U_<this.m_bodyCount;++U_){let $_=this.m_positions[U_].c,a2=this.m_positions[U_].a,g2=this.m_velocities[U_].v,M2=this.m_velocities[U_].w,R2=a_.MulSV(B_,g2,XA.s_translation);if(a_.DotVV(R2,R2)>n2){let z2=j_/R2.Length();g2.SelfMul(z2)}let W2=B_*M2;if(W2*W2>u2){let z2=p2/P0(W2);M2*=z2}$_.x+=B_*g2.x,$_.y+=B_*g2.y,a2+=B_*M2,this.m_positions[U_].a=a2,this.m_velocities[U_].w=M2}d_.Reset();let H_=!1;for(let U_=0;U_<r_.positionIterations;++U_){let $_=Y_.SolvePositionConstraints(),a2=!0;for(let g2=0;g2<this.m_jointCount;++g2){let M2=this.m_joints[g2].SolvePositionConstraints(T_);a2=a2&&M2}if($_&&a2){H_=!0;break}}for(let U_=0;U_<this.m_bodyCount;++U_){let $_=this.m_bodies[U_];$_.m_sweep.c.Copy(this.m_positions[U_].c),$_.m_sweep.a=this.m_positions[U_].a,$_.m_linearVelocity.Copy(this.m_velocities[U_].v),$_.m_angularVelocity=this.m_velocities[U_].w,$_.SynchronizeTransform()}if(_n.solvePosition=d_.GetMilliseconds(),this.Report(Y_.m_velocityConstraints),b_){let U_=_o,$_=G_*G_,a2=K_*K_;for(let g2=0;g2<this.m_bodyCount;++g2){let M2=this.m_bodies[g2];M2.GetType()!==x.b2BodyType.b2_staticBody&&(!M2.m_autoSleepFlag||M2.m_angularVelocity*M2.m_angularVelocity>a2||a_.DotVV(M2.m_linearVelocity,M2.m_linearVelocity)>$_?(M2.m_sleepTime=0,U_=0):(M2.m_sleepTime+=B_,U_=L0(U_,M2.m_sleepTime)))}if(U_>=v_&&H_)for(let g2=0;g2<this.m_bodyCount;++g2)this.m_bodies[g2].SetAwake(!1)}}SolveTOI(_n,r_,p_){for(let T_=0;T_<this.m_bodyCount;++T_){let E_=this.m_bodies[T_];this.m_positions[T_].c.Copy(E_.m_sweep.c),this.m_positions[T_].a=E_.m_sweep.a,this.m_velocities[T_].v.Copy(E_.m_linearVelocity),this.m_velocities[T_].w=E_.m_angularVelocity}let b_=XA.s_contactSolverDef;b_.contacts=this.m_contacts,b_.count=this.m_contactCount,b_.step.Copy(_n),b_.positions=this.m_positions,b_.velocities=this.m_velocities;let d_=XA.s_contactSolver.Initialize(b_);for(let T_=0;T_<_n.positionIterations&&!d_.SolveTOIPositionConstraints(r_,p_);++T_);this.m_bodies[r_].m_sweep.c0.Copy(this.m_positions[r_].c),this.m_bodies[r_].m_sweep.a0=this.m_positions[r_].a,this.m_bodies[p_].m_sweep.c0.Copy(this.m_positions[p_].c),this.m_bodies[p_].m_sweep.a0=this.m_positions[p_].a,d_.InitializeVelocityConstraints();for(let T_=0;T_<_n.velocityIterations;++T_)d_.SolveVelocityConstraints();let B_=_n.dt;for(let T_=0;T_<this.m_bodyCount;++T_){let E_=this.m_positions[T_].c,Y_=this.m_positions[T_].a,H_=this.m_velocities[T_].v,U_=this.m_velocities[T_].w,$_=a_.MulSV(B_,H_,XA.s_translation);if(a_.DotVV($_,$_)>n2){let M2=j_/$_.Length();H_.SelfMul(M2)}let a2=B_*U_;if(a2*a2>u2){let M2=p2/P0(a2);U_*=M2}E_.SelfMulAdd(B_,H_),Y_+=B_*U_,this.m_positions[T_].a=Y_,this.m_velocities[T_].w=U_;let g2=this.m_bodies[T_];g2.m_sweep.c.Copy(E_),g2.m_sweep.a=Y_,g2.m_linearVelocity.Copy(H_),g2.m_angularVelocity=U_,g2.SynchronizeTransform()}this.Report(d_.m_velocityConstraints)}Report(_n){if(this.m_listener!==null)for(let r_=0;r_<this.m_contactCount;++r_){let p_=this.m_contacts[r_];if(!p_)continue;let b_=_n[r_],d_=XA.s_impulse;d_.count=b_.pointCount;for(let B_=0;B_<b_.pointCount;++B_)d_.normalImpulses[B_]=b_.points[B_].normalImpulse,d_.tangentImpulses[B_]=b_.points[B_].tangentImpulse;this.m_listener.PostSolve(p_,d_)}}}XA.s_timer=new NC,XA.s_solverData=new vM,XA.s_contactSolverDef=new AM,XA.s_contactSolver=new q0,XA.s_translation=new a_,XA.s_impulse=new xM,function(i2){i2[i2.b2_waterParticle=0]="b2_waterParticle",i2[i2.b2_zombieParticle=2]="b2_zombieParticle",i2[i2.b2_wallParticle=4]="b2_wallParticle",i2[i2.b2_springParticle=8]="b2_springParticle",i2[i2.b2_elasticParticle=16]="b2_elasticParticle",i2[i2.b2_viscousParticle=32]="b2_viscousParticle",i2[i2.b2_powderParticle=64]="b2_powderParticle",i2[i2.b2_tensileParticle=128]="b2_tensileParticle",i2[i2.b2_colorMixingParticle=256]="b2_colorMixingParticle",i2[i2.b2_destructionListenerParticle=512]="b2_destructionListenerParticle",i2[i2.b2_barrierParticle=1024]="b2_barrierParticle",i2[i2.b2_staticPressureParticle=2048]="b2_staticPressureParticle",i2[i2.b2_reactiveParticle=4096]="b2_reactiveParticle",i2[i2.b2_repulsiveParticle=8192]="b2_repulsiveParticle",i2[i2.b2_fixtureContactListenerParticle=16384]="b2_fixtureContactListenerParticle",i2[i2.b2_particleContactListenerParticle=32768]="b2_particleContactListenerParticle",i2[i2.b2_fixtureContactFilterParticle=65536]="b2_fixtureContactFilterParticle",i2[i2.b2_particleContactFilterParticle=131072]="b2_particleContactFilterParticle"}(x.b2ParticleFlag||(x.b2ParticleFlag={}));class oD{constructor(){this.flags=0,this.position=new a_,this.velocity=new a_,this.color=new iy(0,0,0,0),this.lifetime=0,this.userData=null,this.group=null}}function SM(i2,_n,r_){let d_=Math.ceil(Math.sqrt(i2/(.01*_n))*r_);return Vy(d_,1,8)}class CM{constructor(){this.m_index=q2}GetIndex(){return this.m_index}SetIndex(_n){this.m_index=_n}}(function(i2){i2[i2.b2_solidParticleGroup=1]="b2_solidParticleGroup",i2[i2.b2_rigidParticleGroup=2]="b2_rigidParticleGroup",i2[i2.b2_particleGroupCanBeEmpty=4]="b2_particleGroupCanBeEmpty",i2[i2.b2_particleGroupWillBeDestroyed=8]="b2_particleGroupWillBeDestroyed",i2[i2.b2_particleGroupNeedsUpdateDepth=16]="b2_particleGroupNeedsUpdateDepth",i2[i2.b2_particleGroupInternalMask=24]="b2_particleGroupInternalMask"})(x.b2ParticleGroupFlag||(x.b2ParticleGroupFlag={}));class BM{constructor(){this.flags=0,this.groupFlags=0,this.position=new a_,this.angle=0,this.linearVelocity=new a_,this.angularVelocity=0,this.color=new iy,this.strength=1,this.shapeCount=0,this.stride=0,this.particleCount=0,this.lifetime=0,this.userData=null,this.group=null}}class rV{constructor(_n){this.m_firstIndex=0,this.m_lastIndex=0,this.m_groupFlags=0,this.m_strength=1,this.m_prev=null,this.m_next=null,this.m_timestamp=-1,this.m_mass=0,this.m_inertia=0,this.m_center=new a_,this.m_linearVelocity=new a_,this.m_angularVelocity=0,this.m_transform=new o0,this.m_userData=null,this.m_system=_n}GetNext(){return this.m_next}GetParticleSystem(){return this.m_system}GetParticleCount(){return this.m_lastIndex-this.m_firstIndex}GetBufferIndex(){return this.m_firstIndex}ContainsParticle(_n){return this.m_firstIndex<=_n&&_n<this.m_lastIndex}GetAllParticleFlags(){if(!this.m_system.m_flagsBuffer.data)throw new Error;let _n=0;for(let r_=this.m_firstIndex;r_<this.m_lastIndex;r_++)_n|=this.m_system.m_flagsBuffer.data[r_];return _n}GetGroupFlags(){return this.m_groupFlags}SetGroupFlags(_n){_n|=this.m_groupFlags&x.b2ParticleGroupFlag.b2_particleGroupInternalMask,this.m_system.SetGroupFlags(this,_n)}GetMass(){return this.UpdateStatistics(),this.m_mass}GetInertia(){return this.UpdateStatistics(),this.m_inertia}GetCenter(){return this.UpdateStatistics(),this.m_center}GetLinearVelocity(){return this.UpdateStatistics(),this.m_linearVelocity}GetAngularVelocity(){return this.UpdateStatistics(),this.m_angularVelocity}GetTransform(){return this.m_transform}GetPosition(){return this.m_transform.p}GetAngle(){return this.m_transform.q.GetAngle()}GetLinearVelocityFromWorldPoint(_n,r_){let p_=rV.GetLinearVelocityFromWorldPoint_s_t0;return this.UpdateStatistics(),a_.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,a_.SubVV(_n,this.m_center,p_),r_)}GetUserData(){return this.m_userData}SetUserData(_n){this.m_userData=_n}ApplyForce(_n){this.m_system.ApplyForce(this.m_firstIndex,this.m_lastIndex,_n)}ApplyLinearImpulse(_n){this.m_system.ApplyLinearImpulse(this.m_firstIndex,this.m_lastIndex,_n)}DestroyParticles(_n){if(this.m_system.m_world.IsLocked())throw new Error;for(let r_=this.m_firstIndex;r_<this.m_lastIndex;r_++)this.m_system.DestroyParticle(r_,_n)}UpdateStatistics(){if(!this.m_system.m_positionBuffer.data)throw new Error;if(!this.m_system.m_velocityBuffer.data)throw new Error;let _n=new a_,r_=new a_;if(this.m_timestamp!==this.m_system.m_timestamp){let p_=this.m_system.GetParticleMass();this.m_mass=p_*(this.m_lastIndex-this.m_firstIndex),this.m_center.SetZero(),this.m_linearVelocity.SetZero();for(let b_=this.m_firstIndex;b_<this.m_lastIndex;b_++)this.m_center.SelfMulAdd(p_,this.m_system.m_positionBuffer.data[b_]),this.m_linearVelocity.SelfMulAdd(p_,this.m_system.m_velocityBuffer.data[b_]);if(this.m_mass>0){let b_=1/this.m_mass;this.m_center.SelfMul(b_),this.m_linearVelocity.SelfMul(b_)}this.m_inertia=0,this.m_angularVelocity=0;for(let b_=this.m_firstIndex;b_<this.m_lastIndex;b_++)a_.SubVV(this.m_system.m_positionBuffer.data[b_],this.m_center,_n),a_.SubVV(this.m_system.m_velocityBuffer.data[b_],this.m_linearVelocity,r_),this.m_inertia+=p_*a_.DotVV(_n,_n),this.m_angularVelocity+=p_*a_.CrossVV(_n,r_);this.m_inertia>0&&(this.m_angularVelocity*=1/this.m_inertia),this.m_timestamp=this.m_system.m_timestamp}}}rV.GetLinearVelocityFromWorldPoint_s_t0=new a_;class iJ{constructor(_n){this.m_front=0,this.m_back=0,this.m_capacity=0,this.m_buffer=U2(_n,r_=>null),this.m_capacity=_n}Push(_n){if(this.m_back>=this.m_capacity){for(let r_=this.m_front;r_<this.m_back;r_++)this.m_buffer[r_-this.m_front]=this.m_buffer[r_];this.m_back-=this.m_front,this.m_front=0,this.m_back>=this.m_capacity&&(this.m_capacity>0?(this.m_buffer.concat(U2(this.m_capacity,r_=>null)),this.m_capacity*=2):(this.m_buffer.concat(U2(1,r_=>null)),this.m_capacity=1))}this.m_buffer[this.m_back]=_n,this.m_back++}Pop(){this.m_buffer[this.m_front]=null,this.m_front++}Empty(){return this.m_front===this.m_back}Front(){let _n=this.m_buffer[this.m_front];if(!_n)throw new Error;return _n}}class rJ{constructor(_n){this.m_generatorCapacity=0,this.m_generatorCount=0,this.m_countX=0,this.m_countY=0,this.m_diagram=[],this.m_generatorBuffer=U2(_n,r_=>new nJ),this.m_generatorCapacity=_n}AddGenerator(_n,r_,p_){let b_=this.m_generatorBuffer[this.m_generatorCount++];b_.center.Copy(_n),b_.tag=r_,b_.necessary=p_}Generate(_n,r_){let p_=1/_n,b_=new a_(+_o,+_o),d_=new a_(-_o,-_o),B_=0;for(let E_=0;E_<this.m_generatorCount;E_++){let Y_=this.m_generatorBuffer[E_];Y_.necessary&&(a_.MinV(b_,Y_.center,b_),a_.MaxV(d_,Y_.center,d_),++B_)}if(B_===0){this.m_countX=0,this.m_countY=0;return}b_.x-=r_,b_.y-=r_,d_.x+=r_,d_.y+=r_,this.m_countX=1+Math.floor(p_*(d_.x-b_.x)),this.m_countY=1+Math.floor(p_*(d_.y-b_.y)),this.m_diagram=[];let T_=new iJ(4*this.m_countX*this.m_countY);for(let E_=0;E_<this.m_generatorCount;E_++){let Y_=this.m_generatorBuffer[E_];Y_.center.SelfSub(b_).SelfMul(p_);let H_=Math.floor(Y_.center.x),U_=Math.floor(Y_.center.y);H_>=0&&U_>=0&&H_<this.m_countX&&U_<this.m_countY&&T_.Push(new oC(H_,U_,H_+U_*this.m_countX,Y_))}for(;!T_.Empty();){let E_=T_.Front(),Y_=E_.m_x,H_=E_.m_y,U_=E_.m_i,$_=E_.m_generator;T_.Pop(),this.m_diagram[U_]||(this.m_diagram[U_]=$_,Y_>0&&T_.Push(new oC(Y_-1,H_,U_-1,$_)),H_>0&&T_.Push(new oC(Y_,H_-1,U_-this.m_countX,$_)),Y_<this.m_countX-1&&T_.Push(new oC(Y_+1,H_,U_+1,$_)),H_<this.m_countY-1&&T_.Push(new oC(Y_,H_+1,U_+this.m_countX,$_)))}for(let E_=0;E_<this.m_countY;E_++)for(let Y_=0;Y_<this.m_countX-1;Y_++){let H_=Y_+E_*this.m_countX,U_=this.m_diagram[H_],$_=this.m_diagram[H_+1];U_!==$_&&(T_.Push(new oC(Y_,E_,H_,$_)),T_.Push(new oC(Y_+1,E_,H_+1,U_)))}for(let E_=0;E_<this.m_countY-1;E_++)for(let Y_=0;Y_<this.m_countX;Y_++){let H_=Y_+E_*this.m_countX,U_=this.m_diagram[H_],$_=this.m_diagram[H_+this.m_countX];U_!==$_&&(T_.Push(new oC(Y_,E_,H_,$_)),T_.Push(new oC(Y_,E_+1,H_+this.m_countX,U_)))}for(;!T_.Empty();){let E_=T_.Front(),Y_=E_.m_x,H_=E_.m_y,U_=E_.m_i,$_=E_.m_generator;T_.Pop();let a2=this.m_diagram[U_],g2=$_;if(a2!==g2){let M2=a2.center.x-Y_,R2=a2.center.y-H_,W2=g2.center.x-Y_,z2=g2.center.y-H_,Q2=M2*M2+R2*R2,$2=W2*W2+z2*z2;Q2>$2&&(this.m_diagram[U_]=g2,Y_>0&&T_.Push(new oC(Y_-1,H_,U_-1,g2)),H_>0&&T_.Push(new oC(Y_,H_-1,U_-this.m_countX,g2)),Y_<this.m_countX-1&&T_.Push(new oC(Y_+1,H_,U_+1,g2)),H_<this.m_countY-1&&T_.Push(new oC(Y_,H_+1,U_+this.m_countX,g2)))}}}GetNodes(_n){for(let r_=0;r_<this.m_countY-1;r_++)for(let p_=0;p_<this.m_countX-1;p_++){let b_=p_+r_*this.m_countX,d_=this.m_diagram[b_],B_=this.m_diagram[b_+1],T_=this.m_diagram[b_+this.m_countX],E_=this.m_diagram[b_+1+this.m_countX];B_!==T_&&(d_!==B_&&d_!==T_&&(d_.necessary||B_.necessary||T_.necessary)&&_n(d_.tag,B_.tag,T_.tag),E_!==B_&&E_!==T_&&(d_.necessary||B_.necessary||T_.necessary)&&_n(B_.tag,E_.tag,T_.tag))}}}class nJ{constructor(){this.center=new a_,this.tag=0,this.necessary=!1}}class oC{constructor(_n,r_,p_,b_){this.m_x=_n,this.m_y=r_,this.m_i=p_,this.m_generator=b_}}function XV(i2,_n,r_){let p_=i2[_n];i2[_n]=i2[r_],i2[r_]=p_}function PM(i2,_n){return i2<_n}function YV(i2,_n=0,r_=i2.length-_n,p_=PM){let b_=_n,d_=[],B_=0;for(;;){for(;b_+1<r_;r_++){let T_=i2[b_+Math.floor(Math.random()*(r_-b_))];d_[B_++]=r_;for(let E_=b_-1;;){for(;p_(i2[++E_],T_););for(;p_(T_,i2[--r_]););if(E_>=r_)break;XV(i2,E_,r_)}}if(B_===0)break;b_=r_,r_=d_[--B_]}return i2}function wM(i2,_n=0,r_=i2.length-_n,p_=PM){return YV(i2,_n,r_,p_)}function VM(i2,_n,r_=i2.length){let p_=0;for(let b_=0;b_<r_;++b_)if(!_n(i2[b_])){if(b_===p_){++p_;continue}XV(i2,p_++,b_)}return p_}function DM(i2,_n,r_,p_,b_){let d_=r_-_n;for(;d_>0;){let B_=Math.floor(d_/2),T_=_n+B_;b_(i2[T_],p_)?(_n=++T_,d_-=B_+1):d_=B_}return _n}function MM(i2,_n,r_,p_,b_){let d_=r_-_n;for(;d_>0;){let B_=Math.floor(d_/2),T_=_n+B_;b_(p_,i2[T_])?d_=B_:(_n=++T_,d_-=B_+1)}return _n}function TS(i2,_n,r_,p_){let b_=r_;for(;_n!==b_;)XV(i2,_n++,b_++),b_===p_?b_=r_:_n===r_&&(r_=b_)}function sJ(i2,_n,r_,p_){if(_n===r_)return r_;let b_=_n;for(;++_n!==r_;)p_(i2[b_],i2[_n])||XV(i2,++b_,_n);return++b_}class NB{constructor(_n){this.data=[],this.count=0,this.capacity=0,this.allocator=_n}Append(){return this.count>=this.capacity&&this.Grow(),this.count++}Reserve(_n){if(!(this.capacity>=_n)){for(let r_=this.capacity;r_<_n;++r_)this.data[r_]=this.allocator();this.capacity=_n}}Grow(){let _n=this.capacity?2*this.capacity:m2;this.Reserve(_n)}Free(){this.data.length!==0&&(this.data=[],this.capacity=0,this.count=0)}Shorten(_n){}Data(){return this.data}GetCount(){return this.count}SetCount(_n){this.count=_n}GetCapacity(){return this.capacity}RemoveIf(_n){this.count=VM(this.data,_n,this.count)}Unique(_n){this.count=sJ(this.data,0,this.count,_n)}}class iD extends IC{constructor(_n){super(),this.m_system=_n}ShouldQueryParticleSystem(_n){return!1}ReportFixture(_n){if(_n.IsSensor())return!0;let p_=_n.GetShape().GetChildCount();for(let b_=0;b_<p_;b_++){let d_=_n.GetAABB(b_),B_=this.m_system.GetInsideBoundsEnumerator(d_),T_;for(;(T_=B_.GetNext())>=0;)this.ReportFixtureAndParticle(_n,b_,T_)}return!0}ReportParticle(_n,r_){return!1}ReportFixtureAndParticle(_n,r_,p_){}}class GM{constructor(){this.indexA=0,this.indexB=0,this.weight=0,this.normal=new a_,this.flags=0}SetIndices(_n,r_){this.indexA=_n,this.indexB=r_}SetWeight(_n){this.weight=_n}SetNormal(_n){this.normal.Copy(_n)}SetFlags(_n){this.flags=_n}GetIndexA(){return this.indexA}GetIndexB(){return this.indexB}GetWeight(){return this.weight}GetNormal(){return this.normal}GetFlags(){return this.flags}IsEqual(_n){return this.indexA===_n.indexA&&this.indexB===_n.indexB&&this.flags===_n.flags&&this.weight===_n.weight&&this.normal.x===_n.normal.x&&this.normal.y===_n.normal.y}IsNotEqual(_n){return!this.IsEqual(_n)}ApproximatelyEqual(_n){return this.indexA===_n.indexA&&this.indexB===_n.indexB&&this.flags===_n.flags&&P0(this.weight-_n.weight)<.01&&a_.DistanceSquaredVV(this.normal,_n.normal)<1e-4}}class JM{constructor(){this.index=0,this.weight=0,this.normal=new a_,this.mass=0}}class IM{constructor(){this.indexA=0,this.indexB=0,this.flags=0,this.strength=0,this.distance=0}}class TM{constructor(){this.indexA=0,this.indexB=0,this.indexC=0,this.flags=0,this.strength=0,this.pa=new a_(0,0),this.pb=new a_(0,0),this.pc=new a_(0,0),this.ka=0,this.kb=0,this.kc=0,this.s=0}}class HV{constructor(){this.strictContactCheck=!1,this.density=1,this.gravityScale=1,this.radius=1,this.maxCount=0,this.pressureStrength=.005,this.dampingStrength=1,this.elasticStrength=.25,this.springStrength=.25,this.viscousStrength=.25,this.surfaceTensionPressureStrength=.2,this.surfaceTensionNormalStrength=.2,this.repulsiveStrength=1,this.powderStrength=.5,this.ejectionStrength=.5,this.staticPressureStrength=.2,this.staticPressureRelaxation=.2,this.staticPressureIterations=8,this.colorMixingStrength=.5,this.destroyByAge=!0,this.lifetimeGranularity=1/60}Copy(_n){return this.strictContactCheck=_n.strictContactCheck,this.density=_n.density,this.gravityScale=_n.gravityScale,this.radius=_n.radius,this.maxCount=_n.maxCount,this.pressureStrength=_n.pressureStrength,this.dampingStrength=_n.dampingStrength,this.elasticStrength=_n.elasticStrength,this.springStrength=_n.springStrength,this.viscousStrength=_n.viscousStrength,this.surfaceTensionPressureStrength=_n.surfaceTensionPressureStrength,this.surfaceTensionNormalStrength=_n.surfaceTensionNormalStrength,this.repulsiveStrength=_n.repulsiveStrength,this.powderStrength=_n.powderStrength,this.ejectionStrength=_n.ejectionStrength,this.staticPressureStrength=_n.staticPressureStrength,this.staticPressureRelaxation=_n.staticPressureRelaxation,this.staticPressureIterations=_n.staticPressureIterations,this.colorMixingStrength=_n.colorMixingStrength,this.destroyByAge=_n.destroyByAge,this.lifetimeGranularity=_n.lifetimeGranularity,this}Clone(){return new HV().Copy(this)}}class Z2{constructor(_n,r_){this.m_paused=!1,this.m_timestamp=0,this.m_allParticleFlags=0,this.m_needsUpdateAllParticleFlags=!1,this.m_allGroupFlags=0,this.m_needsUpdateAllGroupFlags=!1,this.m_hasForce=!1,this.m_iterationIndex=0,this.m_inverseDensity=0,this.m_particleDiameter=0,this.m_inverseDiameter=0,this.m_squaredDiameter=0,this.m_count=0,this.m_internalAllocatedCapacity=0,this.m_handleIndexBuffer=new dC,this.m_flagsBuffer=new dC,this.m_positionBuffer=new dC,this.m_velocityBuffer=new dC,this.m_forceBuffer=[],this.m_weightBuffer=[],this.m_staticPressureBuffer=[],this.m_accumulationBuffer=[],this.m_accumulation2Buffer=[],this.m_depthBuffer=[],this.m_colorBuffer=new dC,this.m_groupBuffer=[],this.m_userDataBuffer=new dC,this.m_stuckThreshold=0,this.m_lastBodyContactStepBuffer=new dC,this.m_bodyContactCountBuffer=new dC,this.m_consecutiveContactStepsBuffer=new dC,this.m_stuckParticleBuffer=new NB(()=>0),this.m_proxyBuffer=new NB(()=>new OB),this.m_contactBuffer=new NB(()=>new GM),this.m_bodyContactBuffer=new NB(()=>new JM),this.m_pairBuffer=new NB(()=>new IM),this.m_triadBuffer=new NB(()=>new TM),this.m_expirationTimeBuffer=new dC,this.m_indexByExpirationTimeBuffer=new dC,this.m_timeElapsed=0,this.m_expirationTimeBufferRequiresSorting=!1,this.m_groupCount=0,this.m_groupList=null,this.m_def=new HV,this.m_prev=null,this.m_next=null,this.UpdateBodyContacts_callback=null,this.SolveCollision_callback=null,this.SetStrictContactCheck(_n.strictContactCheck),this.SetDensity(_n.density),this.SetGravityScale(_n.gravityScale),this.SetRadius(_n.radius),this.SetMaxParticleCount(_n.maxCount),this.m_def=_n.Clone(),this.m_world=r_,this.SetDestructionByAge(this.m_def.destroyByAge)}static computeTag(_n,r_){return(r_+Z2.yOffset>>>0<<Z2.yShift)+(Z2.xScale*_n+Z2.xOffset>>>0)>>>0}static computeRelativeTag(_n,r_,p_){return _n+(p_<<Z2.yShift)+(r_<<Z2.xShift)>>>0}Drop(){for(;this.m_groupList;)this.DestroyParticleGroup(this.m_groupList);this.FreeUserOverridableBuffer(this.m_handleIndexBuffer),this.FreeUserOverridableBuffer(this.m_flagsBuffer),this.FreeUserOverridableBuffer(this.m_lastBodyContactStepBuffer),this.FreeUserOverridableBuffer(this.m_bodyContactCountBuffer),this.FreeUserOverridableBuffer(this.m_consecutiveContactStepsBuffer),this.FreeUserOverridableBuffer(this.m_positionBuffer),this.FreeUserOverridableBuffer(this.m_velocityBuffer),this.FreeUserOverridableBuffer(this.m_colorBuffer),this.FreeUserOverridableBuffer(this.m_userDataBuffer),this.FreeUserOverridableBuffer(this.m_expirationTimeBuffer),this.FreeUserOverridableBuffer(this.m_indexByExpirationTimeBuffer),this.FreeBuffer(this.m_forceBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_weightBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_staticPressureBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulationBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulation2Buffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_depthBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_groupBuffer,this.m_internalAllocatedCapacity)}CreateParticle(_n){if(this.m_world.IsLocked())throw new Error;if(this.m_count>=this.m_internalAllocatedCapacity){let E_=this.m_count?2*this.m_count:m2;this.ReallocateInternalAllocatedBuffers(E_)}if(this.m_count>=this.m_internalAllocatedCapacity)if(this.m_def.destroyByAge)this.DestroyOldestParticle(0,!1),this.SolveZombie();else return q2;let r_=this.m_count++;this.m_flagsBuffer.data[r_]=0,this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[r_]=0),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[r_]=0),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[r_]=0),this.m_positionBuffer.data[r_]=(this.m_positionBuffer.data[r_]||new a_).Copy(o(_n.position,a_.ZERO)),this.m_velocityBuffer.data[r_]=(this.m_velocityBuffer.data[r_]||new a_).Copy(o(_n.velocity,a_.ZERO)),this.m_weightBuffer[r_]=0,this.m_forceBuffer[r_]=(this.m_forceBuffer[r_]||new a_).SetZero(),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[r_]=0),this.m_depthBuffer&&(this.m_depthBuffer[r_]=0);let p_=new iy().Copy(o(_n.color,iy.ZERO));(this.m_colorBuffer.data||!p_.IsZero())&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data[r_]=(this.m_colorBuffer.data[r_]||new iy).Copy(p_)),(this.m_userDataBuffer.data||_n.userData)&&(this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data[r_]=_n.userData),this.m_handleIndexBuffer.data&&(this.m_handleIndexBuffer.data[r_]=null);let b_=this.m_proxyBuffer.data[this.m_proxyBuffer.Append()],d_=o(_n.lifetime,0),B_=d_>0;(this.m_expirationTimeBuffer.data||B_)&&(this.SetParticleLifetime(r_,B_?d_:this.ExpirationTimeToLifetime(-this.GetQuantizedTimeElapsed())),this.m_indexByExpirationTimeBuffer.data[r_]=r_),b_.index=r_;let T_=o(_n.group,null);return this.m_groupBuffer[r_]=T_,T_&&(T_.m_firstIndex<T_.m_lastIndex?(this.RotateBuffer(T_.m_firstIndex,T_.m_lastIndex,r_),T_.m_lastIndex=r_+1):(T_.m_firstIndex=r_,T_.m_lastIndex=r_+1)),this.SetParticleFlags(r_,o(_n.flags,0)),r_}GetParticleHandleFromIndex(_n){this.m_handleIndexBuffer.data=this.RequestBuffer(this.m_handleIndexBuffer.data);let r_=this.m_handleIndexBuffer.data[_n];return r_||(r_=new CM,r_.SetIndex(_n),this.m_handleIndexBuffer.data[_n]=r_,r_)}DestroyParticle(_n,r_=!1){let p_=x.b2ParticleFlag.b2_zombieParticle;r_&&(p_|=x.b2ParticleFlag.b2_destructionListenerParticle),this.SetParticleFlags(_n,this.m_flagsBuffer.data[_n]|p_)}DestroyOldestParticle(_n,r_=!1){let p_=this.GetParticleCount(),b_=this.m_indexByExpirationTimeBuffer.data[p_-(_n+1)],d_=this.m_indexByExpirationTimeBuffer.data[_n];this.DestroyParticle(this.m_expirationTimeBuffer.data[b_]>0?b_:d_,r_)}DestroyParticlesInShape(_n,r_,p_=!1){let b_=Z2.DestroyParticlesInShape_s_aabb;if(this.m_world.IsLocked())throw new Error;let d_=new EM(this,_n,r_,p_),B_=b_;return _n.ComputeAABB(B_,r_,0),this.m_world.QueryAABB(d_,B_),d_.Destroyed()}CreateParticleGroup(_n){let r_=Z2.CreateParticleGroup_s_transform;if(this.m_world.IsLocked())throw new Error;let p_=r_;p_.SetPositionAngle(o(_n.position,a_.ZERO),o(_n.angle,0));let b_=this.m_count;if(_n.shape&&this.CreateParticlesWithShapeForGroup(_n.shape,_n,p_),_n.shapes&&this.CreateParticlesWithShapesForGroup(_n.shapes,o(_n.shapeCount,_n.shapes.length),_n,p_),_n.positionData){let E_=o(_n.particleCount,_n.positionData.length);for(let Y_=0;Y_<E_;Y_++){let H_=_n.positionData[Y_];this.CreateParticleForGroup(_n,p_,H_)}}let d_=this.m_count,B_=new rV(this);B_.m_firstIndex=b_,B_.m_lastIndex=d_,B_.m_strength=o(_n.strength,1),B_.m_userData=_n.userData,B_.m_transform.Copy(p_),B_.m_prev=null,B_.m_next=this.m_groupList,this.m_groupList&&(this.m_groupList.m_prev=B_),this.m_groupList=B_,++this.m_groupCount;for(let E_=b_;E_<d_;E_++)this.m_groupBuffer[E_]=B_;this.SetGroupFlags(B_,o(_n.groupFlags,0));let T_=new ZV;return this.UpdateContacts(!0),this.UpdatePairsAndTriads(b_,d_,T_),_n.group&&(this.JoinParticleGroups(_n.group,B_),B_=_n.group),B_}JoinParticleGroups(_n,r_){if(this.m_world.IsLocked())throw new Error;this.RotateBuffer(r_.m_firstIndex,r_.m_lastIndex,this.m_count),this.RotateBuffer(_n.m_firstIndex,_n.m_lastIndex,r_.m_firstIndex);let p_=new kM(r_.m_firstIndex);this.UpdateContacts(!0),this.UpdatePairsAndTriads(_n.m_firstIndex,r_.m_lastIndex,p_);for(let d_=r_.m_firstIndex;d_<r_.m_lastIndex;d_++)this.m_groupBuffer[d_]=_n;let b_=_n.m_groupFlags|r_.m_groupFlags;this.SetGroupFlags(_n,b_),_n.m_lastIndex=r_.m_lastIndex,r_.m_firstIndex=r_.m_lastIndex,this.DestroyParticleGroup(r_)}SplitParticleGroup(_n){this.UpdateContacts(!0);let r_=_n.GetParticleCount(),p_=U2(r_,d_=>new FM);Z2.InitializeParticleLists(_n,p_),this.MergeParticleListsInContact(_n,p_);let b_=Z2.FindLongestParticleList(_n,p_);this.MergeZombieParticleListNodes(_n,p_,b_),this.CreateParticleGroupsFromParticleList(_n,p_,b_),this.UpdatePairsAndTriadsWithParticleList(_n,p_)}GetParticleGroupList(){return this.m_groupList}GetParticleGroupCount(){return this.m_groupCount}GetParticleCount(){return this.m_count}GetMaxParticleCount(){return this.m_def.maxCount}SetMaxParticleCount(_n){this.m_def.maxCount=_n}GetAllParticleFlags(){return this.m_allParticleFlags}GetAllGroupFlags(){return this.m_allGroupFlags}SetPaused(_n){this.m_paused=_n}GetPaused(){return this.m_paused}SetDensity(_n){this.m_def.density=_n,this.m_inverseDensity=1/this.m_def.density}GetDensity(){return this.m_def.density}SetGravityScale(_n){this.m_def.gravityScale=_n}GetGravityScale(){return this.m_def.gravityScale}SetDamping(_n){this.m_def.dampingStrength=_n}GetDamping(){return this.m_def.dampingStrength}SetStaticPressureIterations(_n){this.m_def.staticPressureIterations=_n}GetStaticPressureIterations(){return this.m_def.staticPressureIterations}SetRadius(_n){this.m_particleDiameter=2*_n,this.m_squaredDiameter=this.m_particleDiameter*this.m_particleDiameter,this.m_inverseDiameter=1/this.m_particleDiameter}GetRadius(){return this.m_particleDiameter/2}GetPositionBuffer(){return this.m_positionBuffer.data}GetVelocityBuffer(){return this.m_velocityBuffer.data}GetColorBuffer(){return this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data}GetGroupBuffer(){return this.m_groupBuffer}GetWeightBuffer(){return this.m_weightBuffer}GetUserDataBuffer(){return this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data}GetFlagsBuffer(){return this.m_flagsBuffer.data}SetParticleFlags(_n,r_){this.m_flagsBuffer.data[_n]&~r_&&(this.m_needsUpdateAllParticleFlags=!0),~this.m_allParticleFlags&r_&&(r_&x.b2ParticleFlag.b2_tensileParticle&&(this.m_accumulation2Buffer=this.RequestBuffer(this.m_accumulation2Buffer)),r_&x.b2ParticleFlag.b2_colorMixingParticle&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data)),this.m_allParticleFlags|=r_),this.m_flagsBuffer.data[_n]=r_}GetParticleFlags(_n){return this.m_flagsBuffer.data[_n]}SetFlagsBuffer(_n){this.SetUserOverridableBuffer(this.m_flagsBuffer,_n)}SetPositionBuffer(_n){if(_n instanceof Float32Array){if(_n.length%2!==0)throw new Error;let r_=_n.length/2,p_=new Array(r_);for(let b_=0;b_<r_;++b_)p_[b_]=new a_(_n.subarray(b_*2,b_*2+2));_n=p_}this.SetUserOverridableBuffer(this.m_positionBuffer,_n)}SetVelocityBuffer(_n){if(_n instanceof Float32Array){if(_n.length%2!==0)throw new Error;let r_=_n.length/2,p_=new Array(r_);for(let b_=0;b_<r_;++b_)p_[b_]=new a_(_n.subarray(b_*2,b_*2+2));_n=p_}this.SetUserOverridableBuffer(this.m_velocityBuffer,_n)}SetColorBuffer(_n){if(_n instanceof Float32Array){if(_n.length%4!==0)throw new Error;let r_=_n.length/4,p_=new Array(r_);for(let b_=0;b_<r_;++b_)p_[b_]=new iy(_n.subarray(b_*4,b_*4+4));_n=p_}this.SetUserOverridableBuffer(this.m_colorBuffer,_n)}SetUserDataBuffer(_n){this.SetUserOverridableBuffer(this.m_userDataBuffer,_n)}GetContacts(){return this.m_contactBuffer.data}GetContactCount(){return this.m_contactBuffer.count}GetBodyContacts(){return this.m_bodyContactBuffer.data}GetBodyContactCount(){return this.m_bodyContactBuffer.count}GetPairs(){return this.m_pairBuffer.data}GetPairCount(){return this.m_pairBuffer.count}GetTriads(){return this.m_triadBuffer.data}GetTriadCount(){return this.m_triadBuffer.count}SetStuckThreshold(_n){this.m_stuckThreshold=_n,_n>0&&(this.m_lastBodyContactStepBuffer.data=this.RequestBuffer(this.m_lastBodyContactStepBuffer.data),this.m_bodyContactCountBuffer.data=this.RequestBuffer(this.m_bodyContactCountBuffer.data),this.m_consecutiveContactStepsBuffer.data=this.RequestBuffer(this.m_consecutiveContactStepsBuffer.data))}GetStuckCandidates(){return this.m_stuckParticleBuffer.Data()}GetStuckCandidateCount(){return this.m_stuckParticleBuffer.GetCount()}ComputeCollisionEnergy(){let _n=Z2.ComputeCollisionEnergy_s_v,r_=this.m_velocityBuffer.data,p_=0;for(let b_=0;b_<this.m_contactBuffer.count;b_++){let d_=this.m_contactBuffer.data[b_],B_=d_.indexA,T_=d_.indexB,E_=d_.normal,Y_=a_.SubVV(r_[T_],r_[B_],_n),H_=a_.DotVV(Y_,E_);H_<0&&(p_+=H_*H_)}return .5*this.GetParticleMass()*p_}SetStrictContactCheck(_n){this.m_def.strictContactCheck=_n}GetStrictContactCheck(){return this.m_def.strictContactCheck}SetParticleLifetime(_n,r_){let p_=this.m_indexByExpirationTimeBuffer.data===null;if(this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),p_){let B_=this.GetParticleCount();for(let T_=0;T_<B_;++T_)this.m_indexByExpirationTimeBuffer.data[T_]=T_}let b_=r_/this.m_def.lifetimeGranularity,d_=b_>0?this.GetQuantizedTimeElapsed()+b_:b_;d_!==this.m_expirationTimeBuffer.data[_n]&&(this.m_expirationTimeBuffer.data[_n]=d_,this.m_expirationTimeBufferRequiresSorting=!0)}GetParticleLifetime(_n){return this.ExpirationTimeToLifetime(this.GetExpirationTimeBuffer()[_n])}SetDestructionByAge(_n){_n&&this.GetExpirationTimeBuffer(),this.m_def.destroyByAge=_n}GetDestructionByAge(){return this.m_def.destroyByAge}GetExpirationTimeBuffer(){return this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_expirationTimeBuffer.data}ExpirationTimeToLifetime(_n){return(_n>0?_n-this.GetQuantizedTimeElapsed():_n)*this.m_def.lifetimeGranularity}GetIndexByExpirationTimeBuffer(){return this.GetParticleCount()?this.SetParticleLifetime(0,this.GetParticleLifetime(0)):this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data}ParticleApplyLinearImpulse(_n,r_){this.ApplyLinearImpulse(_n,_n+1,r_)}ApplyLinearImpulse(_n,r_,p_){let b_=this.m_velocityBuffer.data,B_=(r_-_n)*this.GetParticleMass(),T_=new a_().Copy(p_).SelfMul(1/B_);for(let E_=_n;E_<r_;E_++)b_[E_].SelfAdd(T_)}static IsSignificantForce(_n){return _n.x!==0||_n.y!==0}ParticleApplyForce(_n,r_){Z2.IsSignificantForce(r_)&&this.ForceCanBeApplied(this.m_flagsBuffer.data[_n])&&(this.PrepareForceBuffer(),this.m_forceBuffer[_n].SelfAdd(r_))}ApplyForce(_n,r_,p_){let b_=new a_().Copy(p_).SelfMul(1/(r_-_n));if(Z2.IsSignificantForce(b_)){this.PrepareForceBuffer();for(let d_=_n;d_<r_;d_++)this.m_forceBuffer[d_].SelfAdd(b_)}}GetNext(){return this.m_next}QueryAABB(_n,r_){if(this.m_proxyBuffer.count===0)return;let p_=0,b_=this.m_proxyBuffer.count,d_=DM(this.m_proxyBuffer.data,p_,b_,Z2.computeTag(this.m_inverseDiameter*r_.lowerBound.x,this.m_inverseDiameter*r_.lowerBound.y),OB.CompareProxyTag),B_=MM(this.m_proxyBuffer.data,d_,b_,Z2.computeTag(this.m_inverseDiameter*r_.upperBound.x,this.m_inverseDiameter*r_.upperBound.y),OB.CompareTagProxy),T_=this.m_positionBuffer.data;for(let E_=d_;E_<B_;++E_){let H_=this.m_proxyBuffer.data[E_].index,U_=T_[H_];if(r_.lowerBound.x<U_.x&&U_.x<r_.upperBound.x&&r_.lowerBound.y<U_.y&&U_.y<r_.upperBound.y&&!_n.ReportParticle(this,H_))break}}QueryShapeAABB(_n,r_,p_,b_=0){let B_=Z2.QueryShapeAABB_s_aabb;r_.ComputeAABB(B_,p_,b_),this.QueryAABB(_n,B_)}QueryPointAABB(_n,r_,p_=ws){let d_=Z2.QueryPointAABB_s_aabb;d_.lowerBound.Set(r_.x-p_,r_.y-p_),d_.upperBound.Set(r_.x+p_,r_.y+p_),this.QueryAABB(_n,d_)}RayCast(_n,r_,p_){let b_=Z2.RayCast_s_aabb,d_=Z2.RayCast_s_p,B_=Z2.RayCast_s_v,T_=Z2.RayCast_s_n,E_=Z2.RayCast_s_point;if(this.m_proxyBuffer.count===0)return;let Y_=this.m_positionBuffer.data,H_=b_;a_.MinV(r_,p_,H_.lowerBound),a_.MaxV(r_,p_,H_.upperBound);let U_=1,$_=a_.SubVV(p_,r_,B_),a2=a_.DotVV($_,$_),g2=this.GetInsideBoundsEnumerator(H_),M2;for(;(M2=g2.GetNext())>=0;){let R2=a_.SubVV(r_,Y_[M2],d_),W2=a_.DotVV(R2,$_),z2=a_.DotVV(R2,R2),Q2=W2*W2-a2*(z2-this.m_squaredDiameter);if(Q2>=0){let $2=uC(Q2),t0=(-W2-$2)/a2;if(t0>U_||t0<0&&(t0=(-W2+$2)/a2,t0<0||t0>U_))continue;let p0=a_.AddVMulSV(R2,t0,$_,T_);p0.Normalize();let _0=_n.ReportParticle(this,M2,a_.AddVMulSV(r_,t0,$_,E_),p0,t0);if(U_=L0(U_,_0),U_<=0)break}}}ComputeAABB(_n){let r_=this.GetParticleCount();_n.lowerBound.x=+_o,_n.lowerBound.y=+_o,_n.upperBound.x=-_o,_n.upperBound.y=-_o;let p_=this.m_positionBuffer.data;for(let b_=0;b_<r_;b_++){let d_=p_[b_];a_.MinV(_n.lowerBound,d_,_n.lowerBound),a_.MaxV(_n.upperBound,d_,_n.upperBound)}_n.lowerBound.x-=this.m_particleDiameter,_n.lowerBound.y-=this.m_particleDiameter,_n.upperBound.x+=this.m_particleDiameter,_n.upperBound.y+=this.m_particleDiameter}FreeBuffer(_n,r_){_n!==null&&(_n.length=0)}FreeUserOverridableBuffer(_n){_n.userSuppliedCapacity===0&&this.FreeBuffer(_n.data,this.m_internalAllocatedCapacity)}ReallocateBuffer3(_n,r_,p_){if(p_<=r_)throw new Error;let b_=_n?_n.slice():[];return b_.length=p_,b_}ReallocateBuffer5(_n,r_,p_,b_,d_){if(b_<=p_)throw new Error;if(!(!r_||b_<=r_))throw new Error;return(!d_||_n)&&!r_&&(_n=this.ReallocateBuffer3(_n,p_,b_)),_n}ReallocateBuffer4(_n,r_,p_,b_){return this.ReallocateBuffer5(_n.data,_n.userSuppliedCapacity,r_,p_,b_)}RequestBuffer(_n){return _n||(this.m_internalAllocatedCapacity===0&&this.ReallocateInternalAllocatedBuffers(m2),_n=[],_n.length=this.m_internalAllocatedCapacity),_n}ReallocateHandleBuffers(_n){this.m_handleIndexBuffer.data=this.ReallocateBuffer4(this.m_handleIndexBuffer,this.m_internalAllocatedCapacity,_n,!0)}ReallocateInternalAllocatedBuffers(_n){function r_(p_,b_){return b_&&p_>b_?b_:p_}if(_n=r_(_n,this.m_def.maxCount),_n=r_(_n,this.m_flagsBuffer.userSuppliedCapacity),_n=r_(_n,this.m_positionBuffer.userSuppliedCapacity),_n=r_(_n,this.m_velocityBuffer.userSuppliedCapacity),_n=r_(_n,this.m_colorBuffer.userSuppliedCapacity),_n=r_(_n,this.m_userDataBuffer.userSuppliedCapacity),this.m_internalAllocatedCapacity<_n){this.ReallocateHandleBuffers(_n),this.m_flagsBuffer.data=this.ReallocateBuffer4(this.m_flagsBuffer,this.m_internalAllocatedCapacity,_n,!1);let p_=this.m_stuckThreshold>0;this.m_lastBodyContactStepBuffer.data=this.ReallocateBuffer4(this.m_lastBodyContactStepBuffer,this.m_internalAllocatedCapacity,_n,p_),this.m_bodyContactCountBuffer.data=this.ReallocateBuffer4(this.m_bodyContactCountBuffer,this.m_internalAllocatedCapacity,_n,p_),this.m_consecutiveContactStepsBuffer.data=this.ReallocateBuffer4(this.m_consecutiveContactStepsBuffer,this.m_internalAllocatedCapacity,_n,p_),this.m_positionBuffer.data=this.ReallocateBuffer4(this.m_positionBuffer,this.m_internalAllocatedCapacity,_n,!1),this.m_velocityBuffer.data=this.ReallocateBuffer4(this.m_velocityBuffer,this.m_internalAllocatedCapacity,_n,!1),this.m_forceBuffer=this.ReallocateBuffer5(this.m_forceBuffer,0,this.m_internalAllocatedCapacity,_n,!1),this.m_weightBuffer=this.ReallocateBuffer5(this.m_weightBuffer,0,this.m_internalAllocatedCapacity,_n,!1),this.m_staticPressureBuffer=this.ReallocateBuffer5(this.m_staticPressureBuffer,0,this.m_internalAllocatedCapacity,_n,!0),this.m_accumulationBuffer=this.ReallocateBuffer5(this.m_accumulationBuffer,0,this.m_internalAllocatedCapacity,_n,!1),this.m_accumulation2Buffer=this.ReallocateBuffer5(this.m_accumulation2Buffer,0,this.m_internalAllocatedCapacity,_n,!0),this.m_depthBuffer=this.ReallocateBuffer5(this.m_depthBuffer,0,this.m_internalAllocatedCapacity,_n,!0),this.m_colorBuffer.data=this.ReallocateBuffer4(this.m_colorBuffer,this.m_internalAllocatedCapacity,_n,!0),this.m_groupBuffer=this.ReallocateBuffer5(this.m_groupBuffer,0,this.m_internalAllocatedCapacity,_n,!1),this.m_userDataBuffer.data=this.ReallocateBuffer4(this.m_userDataBuffer,this.m_internalAllocatedCapacity,_n,!0),this.m_expirationTimeBuffer.data=this.ReallocateBuffer4(this.m_expirationTimeBuffer,this.m_internalAllocatedCapacity,_n,!0),this.m_indexByExpirationTimeBuffer.data=this.ReallocateBuffer4(this.m_indexByExpirationTimeBuffer,this.m_internalAllocatedCapacity,_n,!1),this.m_internalAllocatedCapacity=_n}}CreateParticleForGroup(_n,r_,p_){let b_=new oD;b_.flags=o(_n.flags,0),o0.MulXV(r_,p_,b_.position),a_.AddVV(o(_n.linearVelocity,a_.ZERO),a_.CrossSV(o(_n.angularVelocity,0),a_.SubVV(b_.position,o(_n.position,a_.ZERO),a_.s_t0),a_.s_t0),b_.velocity),b_.color.Copy(o(_n.color,iy.ZERO)),b_.lifetime=o(_n.lifetime,0),b_.userData=_n.userData,this.CreateParticle(b_)}CreateParticlesStrokeShapeForGroup(_n,r_,p_){let b_=Z2.CreateParticlesStrokeShapeForGroup_s_edge,d_=Z2.CreateParticlesStrokeShapeForGroup_s_d,B_=Z2.CreateParticlesStrokeShapeForGroup_s_p,T_=o(r_.stride,0);T_===0&&(T_=this.GetParticleStride());let E_=0,Y_=_n.GetChildCount();for(let H_=0;H_<Y_;H_++){let U_=null;_n.GetType()===x.b2ShapeType.e_edgeShape?U_=_n:(U_=b_,_n.GetChildEdge(U_,H_));let $_=a_.SubVV(U_.m_vertex2,U_.m_vertex1,d_),a2=$_.Length();for(;E_<a2;){let g2=a_.AddVMulSV(U_.m_vertex1,E_/a2,$_,B_);this.CreateParticleForGroup(r_,p_,g2),E_+=T_}E_-=a2}}CreateParticlesFillShapeForGroup(_n,r_,p_){let b_=Z2.CreateParticlesFillShapeForGroup_s_aabb,d_=Z2.CreateParticlesFillShapeForGroup_s_p,B_=o(r_.stride,0);B_===0&&(B_=this.GetParticleStride());let T_=o0.IDENTITY,E_=b_;_n.ComputeAABB(E_,T_,0);for(let Y_=Math.floor(E_.lowerBound.y/B_)*B_;Y_<E_.upperBound.y;Y_+=B_)for(let H_=Math.floor(E_.lowerBound.x/B_)*B_;H_<E_.upperBound.x;H_+=B_){let U_=d_.Set(H_,Y_);_n.TestPoint(T_,U_)&&this.CreateParticleForGroup(r_,p_,U_)}}CreateParticlesWithShapeForGroup(_n,r_,p_){switch(_n.GetType()){case x.b2ShapeType.e_edgeShape:case x.b2ShapeType.e_chainShape:this.CreateParticlesStrokeShapeForGroup(_n,r_,p_);break;case x.b2ShapeType.e_polygonShape:case x.b2ShapeType.e_circleShape:this.CreateParticlesFillShapeForGroup(_n,r_,p_);break;default:break}}CreateParticlesWithShapesForGroup(_n,r_,p_,b_){let d_=new jM(_n,r_);this.CreateParticlesFillShapeForGroup(d_,p_,b_)}CloneParticle(_n,r_){let p_=new oD;p_.flags=this.m_flagsBuffer.data[_n],p_.position.Copy(this.m_positionBuffer.data[_n]),p_.velocity.Copy(this.m_velocityBuffer.data[_n]),this.m_colorBuffer.data&&p_.color.Copy(this.m_colorBuffer.data[_n]),this.m_userDataBuffer.data&&(p_.userData=this.m_userDataBuffer.data[_n]),p_.group=r_;let b_=this.CreateParticle(p_);if(this.m_handleIndexBuffer.data){let d_=this.m_handleIndexBuffer.data[_n];d_&&d_.SetIndex(b_),this.m_handleIndexBuffer.data[b_]=d_,this.m_handleIndexBuffer.data[_n]=null}return this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[b_]=this.m_lastBodyContactStepBuffer.data[_n]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[b_]=this.m_bodyContactCountBuffer.data[_n]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[b_]=this.m_consecutiveContactStepsBuffer.data[_n]),this.m_hasForce&&this.m_forceBuffer[b_].Copy(this.m_forceBuffer[_n]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[b_]=this.m_staticPressureBuffer[_n]),this.m_depthBuffer&&(this.m_depthBuffer[b_]=this.m_depthBuffer[_n]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[b_]=this.m_expirationTimeBuffer.data[_n]),b_}DestroyParticlesInGroup(_n,r_=!1){for(let p_=_n.m_firstIndex;p_<_n.m_lastIndex;p_++)this.DestroyParticle(p_,r_)}DestroyParticleGroup(_n){this.m_world.m_destructionListener&&this.m_world.m_destructionListener.SayGoodbyeParticleGroup(_n),this.SetGroupFlags(_n,0);for(let r_=_n.m_firstIndex;r_<_n.m_lastIndex;r_++)this.m_groupBuffer[r_]=null;_n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),_n===this.m_groupList&&(this.m_groupList=_n.m_next),--this.m_groupCount}static ParticleCanBeConnected(_n,r_){return(_n&(x.b2ParticleFlag.b2_wallParticle|x.b2ParticleFlag.b2_springParticle|x.b2ParticleFlag.b2_elasticParticle))!==0||r_!==null&&(r_.GetGroupFlags()&x.b2ParticleGroupFlag.b2_rigidParticleGroup)!==0}UpdatePairsAndTriads(_n,r_,p_){let b_=Z2.UpdatePairsAndTriads_s_dab,d_=Z2.UpdatePairsAndTriads_s_dbc,B_=Z2.UpdatePairsAndTriads_s_dca,T_=this.m_positionBuffer.data,E_=0;for(let Y_=_n;Y_<r_;Y_++)E_|=this.m_flagsBuffer.data[Y_];if(E_&Z2.k_pairFlags)for(let Y_=0;Y_<this.m_contactBuffer.count;Y_++){let H_=this.m_contactBuffer.data[Y_],U_=H_.indexA,$_=H_.indexB,a2=this.m_flagsBuffer.data[U_],g2=this.m_flagsBuffer.data[$_],M2=this.m_groupBuffer[U_],R2=this.m_groupBuffer[$_];if(U_>=_n&&U_<r_&&$_>=_n&&$_<r_&&!((a2|g2)&x.b2ParticleFlag.b2_zombieParticle)&&(a2|g2)&Z2.k_pairFlags&&(p_.IsNecessary(U_)||p_.IsNecessary($_))&&Z2.ParticleCanBeConnected(a2,M2)&&Z2.ParticleCanBeConnected(g2,R2)&&p_.ShouldCreatePair(U_,$_)){let W2=this.m_pairBuffer.data[this.m_pairBuffer.Append()];W2.indexA=U_,W2.indexB=$_,W2.flags=H_.flags,W2.strength=L0(M2?M2.m_strength:1,R2?R2.m_strength:1),W2.distance=a_.DistanceVV(T_[U_],T_[$_])}wM(this.m_pairBuffer.data,0,this.m_pairBuffer.count,Z2.ComparePairIndices),this.m_pairBuffer.Unique(Z2.MatchPairIndices)}if(E_&Z2.k_triadFlags){let Y_=new rJ(r_-_n);for(let a2=_n;a2<r_;a2++){let g2=this.m_flagsBuffer.data[a2],M2=this.m_groupBuffer[a2];!(g2&x.b2ParticleFlag.b2_zombieParticle)&&Z2.ParticleCanBeConnected(g2,M2)&&Y_.AddGenerator(T_[a2],a2,p_.IsNecessary(a2))}let H_=this.GetParticleStride();Y_.Generate(H_/2,H_*2);let U_=this,$_=(a2,g2,M2)=>{let R2=U_.m_flagsBuffer.data[a2],W2=U_.m_flagsBuffer.data[g2],z2=U_.m_flagsBuffer.data[M2];if((R2|W2|z2)&Z2.k_triadFlags&&p_.ShouldCreateTriad(a2,g2,M2)){let Q2=T_[a2],$2=T_[g2],t0=T_[M2],p0=a_.SubVV(Q2,$2,b_),_0=a_.SubVV($2,t0,d_),g0=a_.SubVV(t0,Q2,B_),b0=o2*U_.m_squaredDiameter;if(a_.DotVV(p0,p0)>b0||a_.DotVV(_0,_0)>b0||a_.DotVV(g0,g0)>b0)return;let D0=U_.m_groupBuffer[a2],E0=U_.m_groupBuffer[g2],x0=U_.m_groupBuffer[M2],l0=U_.m_triadBuffer.data[U_.m_triadBuffer.Append()];l0.indexA=a2,l0.indexB=g2,l0.indexC=M2,l0.flags=R2|W2|z2,l0.strength=L0(L0(D0?D0.m_strength:1,E0?E0.m_strength:1),x0?x0.m_strength:1);let W0=(Q2.x+$2.x+t0.x)/3,j0=(Q2.y+$2.y+t0.y)/3;l0.pa.x=Q2.x-W0,l0.pa.y=Q2.y-j0,l0.pb.x=$2.x-W0,l0.pb.y=$2.y-j0,l0.pc.x=t0.x-W0,l0.pc.y=t0.y-j0,l0.ka=-a_.DotVV(g0,p0),l0.kb=-a_.DotVV(p0,_0),l0.kc=-a_.DotVV(_0,g0),l0.s=a_.CrossVV(Q2,$2)+a_.CrossVV($2,t0)+a_.CrossVV(t0,Q2)}};Y_.GetNodes($_),wM(this.m_triadBuffer.data,0,this.m_triadBuffer.count,Z2.CompareTriadIndices),this.m_triadBuffer.Unique(Z2.MatchTriadIndices)}}UpdatePairsAndTriadsWithReactiveParticles(){let _n=new zM(this.m_flagsBuffer);this.UpdatePairsAndTriads(0,this.m_count,_n);for(let r_=0;r_<this.m_count;r_++)this.m_flagsBuffer.data[r_]&=~x.b2ParticleFlag.b2_reactiveParticle;this.m_allParticleFlags&=~x.b2ParticleFlag.b2_reactiveParticle}static ComparePairIndices(_n,r_){let p_=_n.indexA-r_.indexA;return p_!==0?p_<0:_n.indexB<r_.indexB}static MatchPairIndices(_n,r_){return _n.indexA===r_.indexA&&_n.indexB===r_.indexB}static CompareTriadIndices(_n,r_){let p_=_n.indexA-r_.indexA;if(p_!==0)return p_<0;let b_=_n.indexB-r_.indexB;return b_!==0?b_<0:_n.indexC<r_.indexC}static MatchTriadIndices(_n,r_){return _n.indexA===r_.indexA&&_n.indexB===r_.indexB&&_n.indexC===r_.indexC}static InitializeParticleLists(_n,r_){let p_=_n.GetBufferIndex(),b_=_n.GetParticleCount();for(let d_=0;d_<b_;d_++){let B_=r_[d_];B_.list=B_,B_.next=null,B_.count=1,B_.index=d_+p_}}MergeParticleListsInContact(_n,r_){let p_=_n.GetBufferIndex();for(let b_=0;b_<this.m_contactBuffer.count;b_++){let d_=this.m_contactBuffer.data[b_],B_=d_.indexA,T_=d_.indexB;if(!_n.ContainsParticle(B_)||!_n.ContainsParticle(T_))continue;let E_=r_[B_-p_].list,Y_=r_[T_-p_].list;if(E_!==Y_){if(E_.count<Y_.count){let H_=E_;E_=Y_,Y_=H_}Z2.MergeParticleLists(E_,Y_)}}}static MergeParticleLists(_n,r_){for(let p_=r_;;){p_.list=_n;let b_=p_.next;if(b_)p_=b_;else{p_.next=_n.next;break}}_n.next=r_,_n.count+=r_.count,r_.count=0}static FindLongestParticleList(_n,r_){let p_=_n.GetParticleCount(),b_=r_[0];for(let d_=0;d_<p_;d_++){let B_=r_[d_];b_.count<B_.count&&(b_=B_)}return b_}MergeZombieParticleListNodes(_n,r_,p_){let b_=_n.GetParticleCount();for(let d_=0;d_<b_;d_++){let B_=r_[d_];B_!==p_&&this.m_flagsBuffer.data[B_.index]&x.b2ParticleFlag.b2_zombieParticle&&Z2.MergeParticleListAndNode(p_,B_)}}static MergeParticleListAndNode(_n,r_){r_.list=_n,r_.next=_n.next,_n.next=r_,_n.count++,r_.count=0}CreateParticleGroupsFromParticleList(_n,r_,p_){let b_=_n.GetParticleCount(),d_=new BM;d_.groupFlags=_n.GetGroupFlags(),d_.userData=_n.GetUserData();for(let B_=0;B_<b_;B_++){let T_=r_[B_];if(!T_.count||T_===p_)continue;let E_=this.CreateParticleGroup(d_);for(let Y_=T_;Y_;Y_=Y_.next){let H_=Y_.index,U_=this.CloneParticle(H_,E_);this.m_flagsBuffer.data[H_]|=x.b2ParticleFlag.b2_zombieParticle,Y_.index=U_}}}UpdatePairsAndTriadsWithParticleList(_n,r_){let p_=_n.GetBufferIndex();for(let b_=0;b_<this.m_pairBuffer.count;b_++){let d_=this.m_pairBuffer.data[b_],B_=d_.indexA,T_=d_.indexB;_n.ContainsParticle(B_)&&(d_.indexA=r_[B_-p_].index),_n.ContainsParticle(T_)&&(d_.indexB=r_[T_-p_].index)}for(let b_=0;b_<this.m_triadBuffer.count;b_++){let d_=this.m_triadBuffer.data[b_],B_=d_.indexA,T_=d_.indexB,E_=d_.indexC;_n.ContainsParticle(B_)&&(d_.indexA=r_[B_-p_].index),_n.ContainsParticle(T_)&&(d_.indexB=r_[T_-p_].index),_n.ContainsParticle(E_)&&(d_.indexC=r_[E_-p_].index)}}ComputeDepth(){let _n=[],r_=0;for(let B_=0;B_<this.m_contactBuffer.count;B_++){let T_=this.m_contactBuffer.data[B_],E_=T_.indexA,Y_=T_.indexB,H_=this.m_groupBuffer[E_],U_=this.m_groupBuffer[Y_];H_&&H_===U_&&H_.m_groupFlags&x.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&(_n[r_++]=T_)}let p_=[],b_=0;for(let B_=this.m_groupList;B_;B_=B_.GetNext())if(B_.m_groupFlags&x.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth){p_[b_++]=B_,this.SetGroupFlags(B_,B_.m_groupFlags&~x.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth);for(let T_=B_.m_firstIndex;T_<B_.m_lastIndex;T_++)this.m_accumulationBuffer[T_]=0}for(let B_=0;B_<r_;B_++){let T_=_n[B_],E_=T_.indexA,Y_=T_.indexB,H_=T_.weight;this.m_accumulationBuffer[E_]+=H_,this.m_accumulationBuffer[Y_]+=H_}for(let B_=0;B_<b_;B_++){let T_=p_[B_];for(let E_=T_.m_firstIndex;E_<T_.m_lastIndex;E_++){let Y_=this.m_accumulationBuffer[E_];this.m_depthBuffer[E_]=Y_<.8?0:_o}}let d_=uC(this.m_count)>>0;for(let B_=0;B_<d_;B_++){let T_=!1;for(let E_=0;E_<r_;E_++){let Y_=_n[E_],H_=Y_.indexA,U_=Y_.indexB,$_=1-Y_.weight,a2=this.m_depthBuffer[H_],g2=this.m_depthBuffer[U_],M2=g2+$_,R2=a2+$_;a2>M2&&(this.m_depthBuffer[H_]=M2,T_=!0),g2>R2&&(this.m_depthBuffer[U_]=R2,T_=!0)}if(!T_)break}for(let B_=0;B_<b_;B_++){let T_=p_[B_];for(let E_=T_.m_firstIndex;E_<T_.m_lastIndex;E_++)this.m_depthBuffer[E_]<_o?this.m_depthBuffer[E_]*=this.m_particleDiameter:this.m_depthBuffer[E_]=0}}GetInsideBoundsEnumerator(_n){let r_=Z2.computeTag(this.m_inverseDiameter*_n.lowerBound.x-1,this.m_inverseDiameter*_n.lowerBound.y-1),p_=Z2.computeTag(this.m_inverseDiameter*_n.upperBound.x+1,this.m_inverseDiameter*_n.upperBound.y+1),b_=0,d_=this.m_proxyBuffer.count,B_=DM(this.m_proxyBuffer.data,b_,d_,r_,OB.CompareProxyTag),T_=MM(this.m_proxyBuffer.data,b_,d_,p_,OB.CompareTagProxy);return new RM(this,r_,p_,B_,T_)}UpdateAllParticleFlags(){this.m_allParticleFlags=0;for(let _n=0;_n<this.m_count;_n++)this.m_allParticleFlags|=this.m_flagsBuffer.data[_n];this.m_needsUpdateAllParticleFlags=!1}UpdateAllGroupFlags(){this.m_allGroupFlags=0;for(let _n=this.m_groupList;_n;_n=_n.GetNext())this.m_allGroupFlags|=_n.m_groupFlags;this.m_needsUpdateAllGroupFlags=!1}AddContact(_n,r_,p_){let b_=this.m_flagsBuffer.data,d_=this.m_positionBuffer.data,B_=a_.SubVV(d_[r_],d_[_n],Z2.AddContact_s_d),T_=a_.DotVV(B_,B_);if(0<T_&&T_<this.m_squaredDiameter){let E_=lP(T_),Y_=this.m_contactBuffer.data[this.m_contactBuffer.Append()];Y_.indexA=_n,Y_.indexB=r_,Y_.flags=b_[_n]|b_[r_],Y_.weight=1-T_*E_*this.m_inverseDiameter,Y_.normal.x=E_*B_.x,Y_.normal.y=E_*B_.y}}FindContacts_Reference(_n){let p_=this.m_proxyBuffer.count;this.m_contactBuffer.count=0;for(let b_=0,d_=0;b_<p_;b_++){let B_=Z2.computeRelativeTag(this.m_proxyBuffer.data[b_].tag,1,0);for(let Y_=b_+1;Y_<p_&&!(B_<this.m_proxyBuffer.data[Y_].tag);Y_++)this.AddContact(this.m_proxyBuffer.data[b_].index,this.m_proxyBuffer.data[Y_].index,this.m_contactBuffer);let T_=Z2.computeRelativeTag(this.m_proxyBuffer.data[b_].tag,-1,1);for(;d_<p_&&!(T_<=this.m_proxyBuffer.data[d_].tag);d_++);let E_=Z2.computeRelativeTag(this.m_proxyBuffer.data[b_].tag,1,1);for(let Y_=d_;Y_<p_&&!(E_<this.m_proxyBuffer.data[Y_].tag);Y_++)this.AddContact(this.m_proxyBuffer.data[b_].index,this.m_proxyBuffer.data[Y_].index,this.m_contactBuffer)}}FindContacts(_n){this.FindContacts_Reference(_n)}UpdateProxies_Reference(_n){let r_=this.m_positionBuffer.data,p_=this.m_inverseDiameter;for(let b_=0;b_<this.m_proxyBuffer.count;++b_){let d_=this.m_proxyBuffer.data[b_],B_=d_.index,T_=r_[B_];d_.tag=Z2.computeTag(p_*T_.x,p_*T_.y)}}UpdateProxies(_n){this.UpdateProxies_Reference(_n)}SortProxies(_n){YV(this.m_proxyBuffer.data,0,this.m_proxyBuffer.count,OB.CompareProxyProxy)}FilterContacts(_n){let r_=this.GetParticleContactFilter();if(r_===null)return;let p_=this,b_=d_=>(d_.flags&x.b2ParticleFlag.b2_particleContactFilterParticle)!==0&&!r_.ShouldCollideParticleParticle(p_,d_.indexA,d_.indexB);this.m_contactBuffer.RemoveIf(b_)}NotifyContactListenerPreContact(_n){if(this.GetParticleContactListener()!==null)throw _n.Initialize(this.m_contactBuffer,this.m_flagsBuffer),new Error}NotifyContactListenerPostContact(_n){let r_=this.GetParticleContactListener();if(r_!==null){for(let p_=0;p_<this.m_contactBuffer.count;++p_){let b_=this.m_contactBuffer.data[p_];r_.BeginContactParticleParticle(this,b_)}throw new Error}}static b2ParticleContactIsZombie(_n){return(_n.flags&x.b2ParticleFlag.b2_zombieParticle)===x.b2ParticleFlag.b2_zombieParticle}UpdateContacts(_n){this.UpdateProxies(this.m_proxyBuffer),this.SortProxies(this.m_proxyBuffer);let r_=new qM;this.NotifyContactListenerPreContact(r_),this.FindContacts(this.m_contactBuffer),this.FilterContacts(this.m_contactBuffer),this.NotifyContactListenerPostContact(r_),_n&&this.m_contactBuffer.RemoveIf(Z2.b2ParticleContactIsZombie)}NotifyBodyContactListenerPreContact(_n){if(this.GetFixtureContactListener()!==null)throw _n.Initialize(this.m_bodyContactBuffer,this.m_flagsBuffer),new Error}NotifyBodyContactListenerPostContact(_n){let r_=this.GetFixtureContactListener();if(r_!==null){for(let p_=0;p_<this.m_bodyContactBuffer.count;p_++){let b_=this.m_bodyContactBuffer.data[p_];r_.BeginContactFixtureParticle(this,b_)}throw new Error}}UpdateBodyContacts(){let _n=Z2.UpdateBodyContacts_s_aabb,r_=new LM;if(this.NotifyBodyContactListenerPreContact(r_),this.m_stuckThreshold>0){let d_=this.GetParticleCount();for(let B_=0;B_<d_;B_++)this.m_bodyContactCountBuffer.data[B_]=0,this.m_timestamp>this.m_lastBodyContactStepBuffer.data[B_]+1&&(this.m_consecutiveContactStepsBuffer.data[B_]=0)}this.m_bodyContactBuffer.SetCount(0),this.m_stuckParticleBuffer.SetCount(0);let p_=_n;this.ComputeAABB(p_),this.UpdateBodyContacts_callback===null&&(this.UpdateBodyContacts_callback=new UB(this));let b_=this.UpdateBodyContacts_callback;b_.m_contactFilter=this.GetFixtureContactFilter(),this.m_world.QueryAABB(b_,p_),this.m_def.strictContactCheck&&this.RemoveSpuriousBodyContacts(),this.NotifyBodyContactListenerPostContact(r_)}Solve(_n){let r_=Z2.Solve_s_subStep;if(this.m_count!==0&&(this.m_expirationTimeBuffer.data&&this.SolveLifetimes(_n),this.m_allParticleFlags&x.b2ParticleFlag.b2_zombieParticle&&this.SolveZombie(),this.m_needsUpdateAllParticleFlags&&this.UpdateAllParticleFlags(),this.m_needsUpdateAllGroupFlags&&this.UpdateAllGroupFlags(),!this.m_paused))for(this.m_iterationIndex=0;this.m_iterationIndex<_n.particleIterations;this.m_iterationIndex++){++this.m_timestamp;let p_=r_.Copy(_n);p_.dt/=_n.particleIterations,p_.inv_dt*=_n.particleIterations,this.UpdateContacts(!1),this.UpdateBodyContacts(),this.ComputeWeight(),this.m_allGroupFlags&x.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&this.ComputeDepth(),this.m_allParticleFlags&x.b2ParticleFlag.b2_reactiveParticle&&this.UpdatePairsAndTriadsWithReactiveParticles(),this.m_hasForce&&this.SolveForce(p_),this.m_allParticleFlags&x.b2ParticleFlag.b2_viscousParticle&&this.SolveViscous(),this.m_allParticleFlags&x.b2ParticleFlag.b2_repulsiveParticle&&this.SolveRepulsive(p_),this.m_allParticleFlags&x.b2ParticleFlag.b2_powderParticle&&this.SolvePowder(p_),this.m_allParticleFlags&x.b2ParticleFlag.b2_tensileParticle&&this.SolveTensile(p_),this.m_allGroupFlags&x.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SolveSolid(p_),this.m_allParticleFlags&x.b2ParticleFlag.b2_colorMixingParticle&&this.SolveColorMixing(),this.SolveGravity(p_),this.m_allParticleFlags&x.b2ParticleFlag.b2_staticPressureParticle&&this.SolveStaticPressure(p_),this.SolvePressure(p_),this.SolveDamping(p_),this.m_allParticleFlags&Z2.k_extraDampingFlags&&this.SolveExtraDamping(),this.m_allParticleFlags&x.b2ParticleFlag.b2_elasticParticle&&this.SolveElastic(p_),this.m_allParticleFlags&x.b2ParticleFlag.b2_springParticle&&this.SolveSpring(p_),this.LimitVelocity(p_),this.m_allGroupFlags&x.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigidDamping(),this.m_allParticleFlags&x.b2ParticleFlag.b2_barrierParticle&&this.SolveBarrier(p_),this.SolveCollision(p_),this.m_allGroupFlags&x.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigid(p_),this.m_allParticleFlags&x.b2ParticleFlag.b2_wallParticle&&this.SolveWall();for(let b_=0;b_<this.m_count;b_++)this.m_positionBuffer.data[b_].SelfMulAdd(p_.dt,this.m_velocityBuffer.data[b_])}}SolveCollision(_n){let r_=Z2.SolveCollision_s_aabb,p_=this.m_positionBuffer.data,b_=this.m_velocityBuffer.data,d_=r_;d_.lowerBound.x=+_o,d_.lowerBound.y=+_o,d_.upperBound.x=-_o,d_.upperBound.y=-_o;for(let T_=0;T_<this.m_count;T_++){let E_=b_[T_],Y_=p_[T_],H_=Y_.x+_n.dt*E_.x,U_=Y_.y+_n.dt*E_.y;d_.lowerBound.x=L0(d_.lowerBound.x,L0(Y_.x,H_)),d_.lowerBound.y=L0(d_.lowerBound.y,L0(Y_.y,U_)),d_.upperBound.x=T0(d_.upperBound.x,T0(Y_.x,H_)),d_.upperBound.y=T0(d_.upperBound.y,T0(Y_.y,U_))}this.SolveCollision_callback===null&&(this.SolveCollision_callback=new SS(this,_n));let B_=this.SolveCollision_callback;B_.m_step=_n,this.m_world.QueryAABB(B_,d_)}LimitVelocity(_n){let r_=this.m_velocityBuffer.data,p_=this.GetCriticalVelocitySquared(_n);for(let b_=0;b_<this.m_count;b_++){let d_=r_[b_],B_=a_.DotVV(d_,d_);B_>p_&&d_.SelfMul(uC(p_/B_))}}SolveGravity(_n){let r_=Z2.SolveGravity_s_gravity,p_=this.m_velocityBuffer.data,b_=a_.MulSV(_n.dt*this.m_def.gravityScale,this.m_world.GetGravity(),r_);for(let d_=0;d_<this.m_count;d_++)p_[d_].SelfAdd(b_)}SolveBarrier(_n){let r_=Z2.SolveBarrier_s_aabb,p_=Z2.SolveBarrier_s_va,b_=Z2.SolveBarrier_s_vb,d_=Z2.SolveBarrier_s_pba,B_=Z2.SolveBarrier_s_vba,T_=Z2.SolveBarrier_s_vc,E_=Z2.SolveBarrier_s_pca,Y_=Z2.SolveBarrier_s_vca,H_=Z2.SolveBarrier_s_qba,U_=Z2.SolveBarrier_s_qca,$_=Z2.SolveBarrier_s_dv,a2=Z2.SolveBarrier_s_f,g2=this.m_positionBuffer.data,M2=this.m_velocityBuffer.data;for(let z2=0;z2<this.m_count;z2++)this.m_flagsBuffer.data[z2]&Z2.k_barrierWallFlags&&M2[z2].SetZero();let R2=_2*_n.dt,W2=this.GetParticleMass();for(let z2=0;z2<this.m_pairBuffer.count;z2++){let Q2=this.m_pairBuffer.data[z2];if(Q2.flags&x.b2ParticleFlag.b2_barrierParticle){let $2=Q2.indexA,t0=Q2.indexB,p0=g2[$2],_0=g2[t0],g0=r_;a_.MinV(p0,_0,g0.lowerBound),a_.MaxV(p0,_0,g0.upperBound);let b0=this.m_groupBuffer[$2],D0=this.m_groupBuffer[t0],E0=this.GetLinearVelocity(b0,$2,p0,p_),x0=this.GetLinearVelocity(D0,t0,_0,b_),l0=a_.SubVV(_0,p0,d_),W0=a_.SubVV(x0,E0,B_),j0=this.GetInsideBoundsEnumerator(g0),Cy;for(;(Cy=j0.GetNext())>=0;){let g1=g2[Cy],M1=this.m_groupBuffer[Cy];if(b0!==M1&&D0!==M1){let YA=this.GetLinearVelocity(M1,Cy,g1,T_),HA=a_.SubVV(g1,p0,E_),ZA=a_.SubVV(YA,E0,Y_),yP=a_.CrossVV(W0,ZA),TC=a_.CrossVV(l0,ZA)-a_.CrossVV(HA,W0),xP=a_.CrossVV(l0,HA),CS,hS,GA=H_,SC=U_;if(yP===0){if(TC===0||(hS=-xP/TC,!(hS>=0&&hS<R2))||(a_.AddVMulSV(l0,hS,W0,GA),a_.AddVMulSV(HA,hS,ZA,SC),CS=a_.DotVV(GA,SC)/a_.DotVV(GA,GA),!(CS>=0&&CS<=1)))continue}else{let sV=TC*TC-4*xP*yP;if(sV<0)continue;let _V=uC(sV),t4=(-TC-_V)/(2*yP),e4=(-TC+_V)/(2*yP);if(t4>e4){let mJ=t4;t4=e4,e4=mJ}if(hS=t4,a_.AddVMulSV(l0,hS,W0,GA),a_.AddVMulSV(HA,hS,ZA,SC),CS=a_.DotVV(GA,SC)/a_.DotVV(GA,GA),!(hS>=0&&hS<R2&&CS>=0&&CS<=1)&&(hS=e4,!(hS>=0&&hS<R2)||(a_.AddVMulSV(l0,hS,W0,GA),a_.AddVMulSV(HA,hS,ZA,SC),CS=a_.DotVV(GA,SC)/a_.DotVV(GA,GA),!(CS>=0&&CS<=1))))continue}let $V=$_;$V.x=E0.x+CS*W0.x-YA.x,$V.y=E0.y+CS*W0.y-YA.y;let nD=a_.MulSV(W2,$V,a2);if(M1&&this.IsRigidGroup(M1)){let sV=M1.GetMass(),_V=M1.GetInertia();sV>0&&M1.m_linearVelocity.SelfMulAdd(1/sV,nD),_V>0&&(M1.m_angularVelocity+=a_.CrossVV(a_.SubVV(g1,M1.GetCenter(),a_.s_t0),nD)/_V)}else M2[Cy].SelfAdd($V);this.ParticleApplyForce(Cy,nD.SelfMul(-_n.inv_dt))}}}}}SolveStaticPressure(_n){this.m_staticPressureBuffer=this.RequestBuffer(this.m_staticPressureBuffer);let r_=this.GetCriticalPressure(_n),p_=this.m_def.staticPressureStrength*r_,b_=q_*r_,d_=this.m_def.staticPressureRelaxation;for(let B_=0;B_<this.m_def.staticPressureIterations;B_++){for(let T_=0;T_<this.m_count;T_++)this.m_accumulationBuffer[T_]=0;for(let T_=0;T_<this.m_contactBuffer.count;T_++){let E_=this.m_contactBuffer.data[T_];if(E_.flags&x.b2ParticleFlag.b2_staticPressureParticle){let Y_=E_.indexA,H_=E_.indexB,U_=E_.weight;this.m_accumulationBuffer[Y_]+=U_*this.m_staticPressureBuffer[H_],this.m_accumulationBuffer[H_]+=U_*this.m_staticPressureBuffer[Y_]}}for(let T_=0;T_<this.m_count;T_++){let E_=this.m_weightBuffer[T_];if(this.m_flagsBuffer.data[T_]&x.b2ParticleFlag.b2_staticPressureParticle){let H_=(this.m_accumulationBuffer[T_]+p_*(E_-S_))/(E_+d_);this.m_staticPressureBuffer[T_]=Vy(H_,0,b_)}else this.m_staticPressureBuffer[T_]=0}}}ComputeWeight(){for(let _n=0;_n<this.m_count;_n++)this.m_weightBuffer[_n]=0;for(let _n=0;_n<this.m_bodyContactBuffer.count;_n++){let r_=this.m_bodyContactBuffer.data[_n],p_=r_.index,b_=r_.weight;this.m_weightBuffer[p_]+=b_}for(let _n=0;_n<this.m_contactBuffer.count;_n++){let r_=this.m_contactBuffer.data[_n],p_=r_.indexA,b_=r_.indexB,d_=r_.weight;this.m_weightBuffer[p_]+=d_,this.m_weightBuffer[b_]+=d_}}SolvePressure(_n){let r_=Z2.SolvePressure_s_f,p_=this.m_positionBuffer.data,b_=this.m_velocityBuffer.data,d_=this.GetCriticalPressure(_n),B_=this.m_def.pressureStrength*d_,T_=q_*d_;for(let H_=0;H_<this.m_count;H_++){let U_=this.m_weightBuffer[H_],$_=B_*T0(0,U_-S_);this.m_accumulationBuffer[H_]=L0($_,T_)}if(this.m_allParticleFlags&Z2.k_noPressureFlags)for(let H_=0;H_<this.m_count;H_++)this.m_flagsBuffer.data[H_]&Z2.k_noPressureFlags&&(this.m_accumulationBuffer[H_]=0);if(this.m_allParticleFlags&x.b2ParticleFlag.b2_staticPressureParticle)for(let H_=0;H_<this.m_count;H_++)this.m_flagsBuffer.data[H_]&x.b2ParticleFlag.b2_staticPressureParticle&&(this.m_accumulationBuffer[H_]+=this.m_staticPressureBuffer[H_]);let E_=_n.dt/(this.m_def.density*this.m_particleDiameter),Y_=this.GetParticleInvMass();for(let H_=0;H_<this.m_bodyContactBuffer.count;H_++){let U_=this.m_bodyContactBuffer.data[H_],$_=U_.index,a2=U_.body,g2=U_.weight,M2=U_.mass,R2=U_.normal,W2=p_[$_],z2=this.m_accumulationBuffer[$_]+B_*g2,Q2=a_.MulSV(E_*g2*M2*z2,R2,r_);b_[$_].SelfMulSub(Y_,Q2),a2.ApplyLinearImpulse(Q2,W2,!0)}for(let H_=0;H_<this.m_contactBuffer.count;H_++){let U_=this.m_contactBuffer.data[H_],$_=U_.indexA,a2=U_.indexB,g2=U_.weight,M2=U_.normal,R2=this.m_accumulationBuffer[$_]+this.m_accumulationBuffer[a2],W2=a_.MulSV(E_*g2*R2,M2,r_);b_[$_].SelfSub(W2),b_[a2].SelfAdd(W2)}}SolveDamping(_n){let r_=Z2.SolveDamping_s_v,p_=Z2.SolveDamping_s_f,b_=this.m_positionBuffer.data,d_=this.m_velocityBuffer.data,B_=this.m_def.dampingStrength,T_=1/this.GetCriticalVelocity(_n),E_=this.GetParticleInvMass();for(let Y_=0;Y_<this.m_bodyContactBuffer.count;Y_++){let H_=this.m_bodyContactBuffer.data[Y_],U_=H_.index,$_=H_.body,a2=H_.weight,g2=H_.mass,M2=H_.normal,R2=b_[U_],W2=a_.SubVV($_.GetLinearVelocityFromWorldPoint(R2,a_.s_t0),d_[U_],r_),z2=a_.DotVV(W2,M2);if(z2<0){let Q2=T0(B_*a2,L0(-T_*z2,.5)),$2=a_.MulSV(Q2*g2*z2,M2,p_);d_[U_].SelfMulAdd(E_,$2),$_.ApplyLinearImpulse($2.SelfNeg(),R2,!0)}}for(let Y_=0;Y_<this.m_contactBuffer.count;Y_++){let H_=this.m_contactBuffer.data[Y_],U_=H_.indexA,$_=H_.indexB,a2=H_.weight,g2=H_.normal,M2=a_.SubVV(d_[$_],d_[U_],r_),R2=a_.DotVV(M2,g2);if(R2<0){let W2=T0(B_*a2,L0(-T_*R2,.5)),z2=a_.MulSV(W2*R2,g2,p_);d_[U_].SelfAdd(z2),d_[$_].SelfSub(z2)}}}SolveRigidDamping(){let _n=Z2.SolveRigidDamping_s_t0,r_=Z2.SolveRigidDamping_s_t1,p_=Z2.SolveRigidDamping_s_p,b_=Z2.SolveRigidDamping_s_v,d_=[0],B_=[0],T_=[0],E_=[0],Y_=[0],H_=[0],U_=this.m_positionBuffer.data,$_=this.m_def.dampingStrength;for(let a2=0;a2<this.m_bodyContactBuffer.count;a2++){let g2=this.m_bodyContactBuffer.data[a2],M2=g2.index,R2=this.m_groupBuffer[M2];if(R2&&this.IsRigidGroup(R2)){let W2=g2.body,z2=g2.normal,Q2=g2.weight,$2=U_[M2],t0=a_.SubVV(W2.GetLinearVelocityFromWorldPoint($2,_n),R2.GetLinearVelocityFromWorldPoint($2,r_),b_),p0=a_.DotVV(t0,z2);if(p0<0){this.InitDampingParameterWithRigidGroupOrParticle(d_,B_,T_,!0,R2,M2,$2,z2),this.InitDampingParameter(E_,Y_,H_,W2.GetMass(),W2.GetInertia()-W2.GetMass()*W2.GetLocalCenter().LengthSquared(),W2.GetWorldCenter(),$2,z2);let _0=$_*L0(Q2,1)*this.ComputeDampingImpulse(d_[0],B_[0],T_[0],E_[0],Y_[0],H_[0],p0);this.ApplyDamping(d_[0],B_[0],T_[0],!0,R2,M2,_0,z2),W2.ApplyLinearImpulse(a_.MulSV(-_0,z2,a_.s_t0),$2,!0)}}}for(let a2=0;a2<this.m_contactBuffer.count;a2++){let g2=this.m_contactBuffer.data[a2],M2=g2.indexA,R2=g2.indexB,W2=g2.normal,z2=g2.weight,Q2=this.m_groupBuffer[M2],$2=this.m_groupBuffer[R2],t0=this.IsRigidGroup(Q2),p0=this.IsRigidGroup($2);if(Q2!==$2&&(t0||p0)){let _0=a_.MidVV(U_[M2],U_[R2],p_),g0=a_.SubVV(this.GetLinearVelocity($2,R2,_0,_n),this.GetLinearVelocity(Q2,M2,_0,r_),b_),b0=a_.DotVV(g0,W2);if(b0<0){this.InitDampingParameterWithRigidGroupOrParticle(d_,B_,T_,t0,Q2,M2,_0,W2),this.InitDampingParameterWithRigidGroupOrParticle(E_,Y_,H_,p0,$2,R2,_0,W2);let D0=$_*z2*this.ComputeDampingImpulse(d_[0],B_[0],T_[0],E_[0],Y_[0],H_[0],b0);this.ApplyDamping(d_[0],B_[0],T_[0],t0,Q2,M2,D0,W2),this.ApplyDamping(E_[0],Y_[0],H_[0],p0,$2,R2,-D0,W2)}}}}SolveExtraDamping(){let _n=Z2.SolveExtraDamping_s_v,r_=Z2.SolveExtraDamping_s_f,p_=this.m_velocityBuffer.data,b_=this.m_positionBuffer.data,d_=this.GetParticleInvMass();for(let B_=0;B_<this.m_bodyContactBuffer.count;B_++){let T_=this.m_bodyContactBuffer.data[B_],E_=T_.index;if(this.m_flagsBuffer.data[E_]&Z2.k_extraDampingFlags){let Y_=T_.body,H_=T_.mass,U_=T_.normal,$_=b_[E_],a2=a_.SubVV(Y_.GetLinearVelocityFromWorldPoint($_,a_.s_t0),p_[E_],_n),g2=a_.DotVV(a2,U_);if(g2<0){let M2=a_.MulSV(.5*H_*g2,U_,r_);p_[E_].SelfMulAdd(d_,M2),Y_.ApplyLinearImpulse(M2.SelfNeg(),$_,!0)}}}}SolveWall(){let _n=this.m_velocityBuffer.data;for(let r_=0;r_<this.m_count;r_++)this.m_flagsBuffer.data[r_]&x.b2ParticleFlag.b2_wallParticle&&_n[r_].SetZero()}SolveRigid(_n){let r_=Z2.SolveRigid_s_position,p_=Z2.SolveRigid_s_rotation,b_=Z2.SolveRigid_s_transform,d_=Z2.SolveRigid_s_velocityTransform,B_=this.m_positionBuffer.data,T_=this.m_velocityBuffer.data;for(let E_=this.m_groupList;E_;E_=E_.GetNext())if(E_.m_groupFlags&x.b2ParticleGroupFlag.b2_rigidParticleGroup){E_.UpdateStatistics();let Y_=p_;Y_.SetAngle(_n.dt*E_.m_angularVelocity);let H_=a_.AddVV(E_.m_center,a_.SubVV(a_.MulSV(_n.dt,E_.m_linearVelocity,a_.s_t0),K2.MulRV(Y_,E_.m_center,a_.s_t1),a_.s_t0),r_),U_=b_;U_.SetPositionRotation(H_,Y_),o0.MulXX(U_,E_.m_transform,E_.m_transform);let $_=d_;$_.p.x=_n.inv_dt*U_.p.x,$_.p.y=_n.inv_dt*U_.p.y,$_.q.s=_n.inv_dt*U_.q.s,$_.q.c=_n.inv_dt*(U_.q.c-1);for(let a2=E_.m_firstIndex;a2<E_.m_lastIndex;a2++)o0.MulXV($_,B_[a2],T_[a2])}}SolveElastic(_n){let r_=Z2.SolveElastic_s_pa,p_=Z2.SolveElastic_s_pb,b_=Z2.SolveElastic_s_pc,d_=Z2.SolveElastic_s_r,B_=Z2.SolveElastic_s_t0,T_=this.m_positionBuffer.data,E_=this.m_velocityBuffer.data,Y_=_n.inv_dt*this.m_def.elasticStrength;for(let H_=0;H_<this.m_triadBuffer.count;H_++){let U_=this.m_triadBuffer.data[H_];if(U_.flags&x.b2ParticleFlag.b2_elasticParticle){let $_=U_.indexA,a2=U_.indexB,g2=U_.indexC,M2=U_.pa,R2=U_.pb,W2=U_.pc,z2=r_.Copy(T_[$_]),Q2=p_.Copy(T_[a2]),$2=b_.Copy(T_[g2]),t0=E_[$_],p0=E_[a2],_0=E_[g2];z2.SelfMulAdd(_n.dt,t0),Q2.SelfMulAdd(_n.dt,p0),$2.SelfMulAdd(_n.dt,_0);let g0=(z2.x+Q2.x+$2.x)/3,b0=(z2.y+Q2.y+$2.y)/3;z2.x-=g0,z2.y-=b0,Q2.x-=g0,Q2.y-=b0,$2.x-=g0,$2.y-=b0;let D0=d_;D0.s=a_.CrossVV(M2,z2)+a_.CrossVV(R2,Q2)+a_.CrossVV(W2,$2),D0.c=a_.DotVV(M2,z2)+a_.DotVV(R2,Q2)+a_.DotVV(W2,$2);let E0=D0.s*D0.s+D0.c*D0.c,x0=lP(E0);isFinite(x0)||(x0=198177537e11),D0.s*=x0,D0.c*=x0;let l0=Y_*U_.strength;K2.MulRV(D0,M2,B_),a_.SubVV(B_,z2,B_),a_.MulSV(l0,B_,B_),t0.SelfAdd(B_),K2.MulRV(D0,R2,B_),a_.SubVV(B_,Q2,B_),a_.MulSV(l0,B_,B_),p0.SelfAdd(B_),K2.MulRV(D0,W2,B_),a_.SubVV(B_,$2,B_),a_.MulSV(l0,B_,B_),_0.SelfAdd(B_)}}}SolveSpring(_n){let r_=Z2.SolveSpring_s_pa,p_=Z2.SolveSpring_s_pb,b_=Z2.SolveSpring_s_d,d_=Z2.SolveSpring_s_f,B_=this.m_positionBuffer.data,T_=this.m_velocityBuffer.data,E_=_n.inv_dt*this.m_def.springStrength;for(let Y_=0;Y_<this.m_pairBuffer.count;Y_++){let H_=this.m_pairBuffer.data[Y_];if(H_.flags&x.b2ParticleFlag.b2_springParticle){let U_=H_.indexA,$_=H_.indexB,a2=r_.Copy(B_[U_]),g2=p_.Copy(B_[$_]),M2=T_[U_],R2=T_[$_];a2.SelfMulAdd(_n.dt,M2),g2.SelfMulAdd(_n.dt,R2);let W2=a_.SubVV(g2,a2,b_),z2=H_.distance,Q2=W2.Length(),$2=E_*H_.strength,t0=a_.MulSV($2*(z2-Q2)/Q2,W2,d_);M2.SelfSub(t0),R2.SelfAdd(t0)}}}SolveTensile(_n){let r_=Z2.SolveTensile_s_weightedNormal,p_=Z2.SolveTensile_s_s,b_=Z2.SolveTensile_s_f,d_=this.m_velocityBuffer.data;for(let H_=0;H_<this.m_count;H_++)this.m_accumulation2Buffer[H_]=new a_,this.m_accumulation2Buffer[H_].SetZero();for(let H_=0;H_<this.m_contactBuffer.count;H_++){let U_=this.m_contactBuffer.data[H_];if(U_.flags&x.b2ParticleFlag.b2_tensileParticle){let $_=U_.indexA,a2=U_.indexB,g2=U_.weight,M2=U_.normal,R2=a_.MulSV((1-g2)*g2,M2,r_);this.m_accumulation2Buffer[$_].SelfSub(R2),this.m_accumulation2Buffer[a2].SelfAdd(R2)}}let B_=this.GetCriticalVelocity(_n),T_=this.m_def.surfaceTensionPressureStrength*B_,E_=this.m_def.surfaceTensionNormalStrength*B_,Y_=N_*B_;for(let H_=0;H_<this.m_contactBuffer.count;H_++){let U_=this.m_contactBuffer.data[H_];if(U_.flags&x.b2ParticleFlag.b2_tensileParticle){let $_=U_.indexA,a2=U_.indexB,g2=U_.weight,M2=U_.normal,R2=this.m_weightBuffer[$_]+this.m_weightBuffer[a2],W2=a_.SubVV(this.m_accumulation2Buffer[a2],this.m_accumulation2Buffer[$_],p_),z2=L0(T_*(R2-2)+E_*a_.DotVV(W2,M2),Y_)*g2,Q2=a_.MulSV(z2,M2,b_);d_[$_].SelfSub(Q2),d_[a2].SelfAdd(Q2)}}}SolveViscous(){let _n=Z2.SolveViscous_s_v,r_=Z2.SolveViscous_s_f,p_=this.m_positionBuffer.data,b_=this.m_velocityBuffer.data,d_=this.m_def.viscousStrength,B_=this.GetParticleInvMass();for(let T_=0;T_<this.m_bodyContactBuffer.count;T_++){let E_=this.m_bodyContactBuffer.data[T_],Y_=E_.index;if(this.m_flagsBuffer.data[Y_]&x.b2ParticleFlag.b2_viscousParticle){let H_=E_.body,U_=E_.weight,$_=E_.mass,a2=p_[Y_],g2=a_.SubVV(H_.GetLinearVelocityFromWorldPoint(a2,a_.s_t0),b_[Y_],_n),M2=a_.MulSV(d_*$_*U_,g2,r_);b_[Y_].SelfMulAdd(B_,M2),H_.ApplyLinearImpulse(M2.SelfNeg(),a2,!0)}}for(let T_=0;T_<this.m_contactBuffer.count;T_++){let E_=this.m_contactBuffer.data[T_];if(E_.flags&x.b2ParticleFlag.b2_viscousParticle){let Y_=E_.indexA,H_=E_.indexB,U_=E_.weight,$_=a_.SubVV(b_[H_],b_[Y_],_n),a2=a_.MulSV(d_*U_,$_,r_);b_[Y_].SelfAdd(a2),b_[H_].SelfSub(a2)}}}SolveRepulsive(_n){let r_=Z2.SolveRepulsive_s_f,p_=this.m_velocityBuffer.data,b_=this.m_def.repulsiveStrength*this.GetCriticalVelocity(_n);for(let d_=0;d_<this.m_contactBuffer.count;d_++){let B_=this.m_contactBuffer.data[d_];if(B_.flags&x.b2ParticleFlag.b2_repulsiveParticle){let T_=B_.indexA,E_=B_.indexB;if(this.m_groupBuffer[T_]!==this.m_groupBuffer[E_]){let Y_=B_.weight,H_=B_.normal,U_=a_.MulSV(b_*Y_,H_,r_);p_[T_].SelfSub(U_),p_[E_].SelfAdd(U_)}}}}SolvePowder(_n){let r_=Z2.SolvePowder_s_f,p_=this.m_positionBuffer.data,b_=this.m_velocityBuffer.data,d_=this.m_def.powderStrength*this.GetCriticalVelocity(_n),B_=1-X2,T_=this.GetParticleInvMass();for(let E_=0;E_<this.m_bodyContactBuffer.count;E_++){let Y_=this.m_bodyContactBuffer.data[E_],H_=Y_.index;if(this.m_flagsBuffer.data[H_]&x.b2ParticleFlag.b2_powderParticle){let U_=Y_.weight;if(U_>B_){let $_=Y_.body,a2=Y_.mass,g2=p_[H_],M2=Y_.normal,R2=a_.MulSV(d_*a2*(U_-B_),M2,r_);b_[H_].SelfMulSub(T_,R2),$_.ApplyLinearImpulse(R2,g2,!0)}}}for(let E_=0;E_<this.m_contactBuffer.count;E_++){let Y_=this.m_contactBuffer.data[E_];if(Y_.flags&x.b2ParticleFlag.b2_powderParticle){let H_=Y_.weight;if(H_>B_){let U_=Y_.indexA,$_=Y_.indexB,a2=Y_.normal,g2=a_.MulSV(d_*(H_-B_),a2,r_);b_[U_].SelfSub(g2),b_[$_].SelfAdd(g2)}}}}SolveSolid(_n){let r_=Z2.SolveSolid_s_f,p_=this.m_velocityBuffer.data;this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer);let b_=_n.inv_dt*this.m_def.ejectionStrength;for(let d_=0;d_<this.m_contactBuffer.count;d_++){let B_=this.m_contactBuffer.data[d_],T_=B_.indexA,E_=B_.indexB;if(this.m_groupBuffer[T_]!==this.m_groupBuffer[E_]){let Y_=B_.weight,H_=B_.normal,U_=this.m_depthBuffer[T_]+this.m_depthBuffer[E_],$_=a_.MulSV(b_*U_*Y_,H_,r_);p_[T_].SelfSub($_),p_[E_].SelfAdd($_)}}}SolveForce(_n){let r_=this.m_velocityBuffer.data,p_=_n.dt*this.GetParticleInvMass();for(let b_=0;b_<this.m_count;b_++)r_[b_].SelfMulAdd(p_,this.m_forceBuffer[b_]);this.m_hasForce=!1}SolveColorMixing(){let _n=.5*this.m_def.colorMixingStrength;if(_n)for(let r_=0;r_<this.m_contactBuffer.count;r_++){let p_=this.m_contactBuffer.data[r_],b_=p_.indexA,d_=p_.indexB;if(this.m_flagsBuffer.data[b_]&this.m_flagsBuffer.data[d_]&x.b2ParticleFlag.b2_colorMixingParticle){let B_=this.m_colorBuffer.data[b_],T_=this.m_colorBuffer.data[d_];iy.MixColors(B_,T_,_n)}}}SolveZombie(){let _n=0,r_=[];for(let d_=0;d_<this.m_count;d_++)r_[d_]=q2;let p_=0;for(let d_=0;d_<this.m_count;d_++){let B_=this.m_flagsBuffer.data[d_];if(B_&x.b2ParticleFlag.b2_zombieParticle){let T_=this.m_world.m_destructionListener;if(B_&x.b2ParticleFlag.b2_destructionListenerParticle&&T_&&T_.SayGoodbyeParticle(this,d_),this.m_handleIndexBuffer.data){let E_=this.m_handleIndexBuffer.data[d_];E_&&(E_.SetIndex(q2),this.m_handleIndexBuffer.data[d_]=null)}r_[d_]=q2}else{if(r_[d_]=_n,d_!==_n){if(this.m_handleIndexBuffer.data){let T_=this.m_handleIndexBuffer.data[d_];T_&&T_.SetIndex(_n),this.m_handleIndexBuffer.data[_n]=T_}this.m_flagsBuffer.data[_n]=this.m_flagsBuffer.data[d_],this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[_n]=this.m_lastBodyContactStepBuffer.data[d_]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[_n]=this.m_bodyContactCountBuffer.data[d_]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[_n]=this.m_consecutiveContactStepsBuffer.data[d_]),this.m_positionBuffer.data[_n].Copy(this.m_positionBuffer.data[d_]),this.m_velocityBuffer.data[_n].Copy(this.m_velocityBuffer.data[d_]),this.m_groupBuffer[_n]=this.m_groupBuffer[d_],this.m_hasForce&&this.m_forceBuffer[_n].Copy(this.m_forceBuffer[d_]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[_n]=this.m_staticPressureBuffer[d_]),this.m_depthBuffer&&(this.m_depthBuffer[_n]=this.m_depthBuffer[d_]),this.m_colorBuffer.data&&this.m_colorBuffer.data[_n].Copy(this.m_colorBuffer.data[d_]),this.m_userDataBuffer.data&&(this.m_userDataBuffer.data[_n]=this.m_userDataBuffer.data[d_]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[_n]=this.m_expirationTimeBuffer.data[d_])}_n++,p_|=B_}}let b_={IsProxyInvalid:d_=>d_.index<0,IsContactInvalid:d_=>d_.indexA<0||d_.indexB<0,IsBodyContactInvalid:d_=>d_.index<0,IsPairInvalid:d_=>d_.indexA<0||d_.indexB<0,IsTriadInvalid:d_=>d_.indexA<0||d_.indexB<0||d_.indexC<0};for(let d_=0;d_<this.m_proxyBuffer.count;d_++){let B_=this.m_proxyBuffer.data[d_];B_.index=r_[B_.index]}this.m_proxyBuffer.RemoveIf(b_.IsProxyInvalid);for(let d_=0;d_<this.m_contactBuffer.count;d_++){let B_=this.m_contactBuffer.data[d_];B_.indexA=r_[B_.indexA],B_.indexB=r_[B_.indexB]}this.m_contactBuffer.RemoveIf(b_.IsContactInvalid);for(let d_=0;d_<this.m_bodyContactBuffer.count;d_++){let B_=this.m_bodyContactBuffer.data[d_];B_.index=r_[B_.index]}this.m_bodyContactBuffer.RemoveIf(b_.IsBodyContactInvalid);for(let d_=0;d_<this.m_pairBuffer.count;d_++){let B_=this.m_pairBuffer.data[d_];B_.indexA=r_[B_.indexA],B_.indexB=r_[B_.indexB]}this.m_pairBuffer.RemoveIf(b_.IsPairInvalid);for(let d_=0;d_<this.m_triadBuffer.count;d_++){let B_=this.m_triadBuffer.data[d_];B_.indexA=r_[B_.indexA],B_.indexB=r_[B_.indexB],B_.indexC=r_[B_.indexC]}if(this.m_triadBuffer.RemoveIf(b_.IsTriadInvalid),this.m_indexByExpirationTimeBuffer.data){let d_=0;for(let B_=0;B_<this.m_count;B_++){let T_=r_[this.m_indexByExpirationTimeBuffer.data[B_]];T_!==q2&&(this.m_indexByExpirationTimeBuffer.data[d_++]=T_)}}for(let d_=this.m_groupList;d_;d_=d_.GetNext()){let B_=_n,T_=0,E_=!1;for(let Y_=d_.m_firstIndex;Y_<d_.m_lastIndex;Y_++){let H_=r_[Y_];H_>=0?(B_=L0(B_,H_),T_=T0(T_,H_+1)):E_=!0}B_<T_?(d_.m_firstIndex=B_,d_.m_lastIndex=T_,E_&&d_.m_groupFlags&x.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SetGroupFlags(d_,d_.m_groupFlags|x.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth)):(d_.m_firstIndex=0,d_.m_lastIndex=0,d_.m_groupFlags&x.b2ParticleGroupFlag.b2_particleGroupCanBeEmpty||this.SetGroupFlags(d_,d_.m_groupFlags|x.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed))}this.m_count=_n,this.m_allParticleFlags=p_,this.m_needsUpdateAllParticleFlags=!1;for(let d_=this.m_groupList;d_;){let B_=d_.GetNext();d_.m_groupFlags&x.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed&&this.DestroyParticleGroup(d_),d_=B_}}SolveLifetimes(_n){this.m_timeElapsed=this.LifetimeToExpirationTime(_n.dt);let r_=this.GetQuantizedTimeElapsed(),p_=this.m_expirationTimeBuffer.data,b_=this.m_indexByExpirationTimeBuffer.data,d_=this.GetParticleCount();this.m_expirationTimeBufferRequiresSorting&&(YV(b_,0,d_,(T_,E_)=>{let Y_=p_[T_],H_=p_[E_],U_=Y_<=0,$_=H_<=0;return U_===$_?Y_>H_:U_}),this.m_expirationTimeBufferRequiresSorting=!1);for(let B_=d_-1;B_>=0;--B_){let T_=b_[B_],E_=p_[T_];if(r_<E_||E_<=0)break;this.DestroyParticle(T_)}}RotateBuffer(_n,r_,p_){if(_n===r_||r_===p_)return;function b_(d_){return d_<_n?d_:d_<r_?d_+p_-r_:d_<p_?d_+_n-r_:d_}if(TS(this.m_flagsBuffer.data,_n,r_,p_),this.m_lastBodyContactStepBuffer.data&&TS(this.m_lastBodyContactStepBuffer.data,_n,r_,p_),this.m_bodyContactCountBuffer.data&&TS(this.m_bodyContactCountBuffer.data,_n,r_,p_),this.m_consecutiveContactStepsBuffer.data&&TS(this.m_consecutiveContactStepsBuffer.data,_n,r_,p_),TS(this.m_positionBuffer.data,_n,r_,p_),TS(this.m_velocityBuffer.data,_n,r_,p_),TS(this.m_groupBuffer,_n,r_,p_),this.m_hasForce&&TS(this.m_forceBuffer,_n,r_,p_),this.m_staticPressureBuffer&&TS(this.m_staticPressureBuffer,_n,r_,p_),this.m_depthBuffer&&TS(this.m_depthBuffer,_n,r_,p_),this.m_colorBuffer.data&&TS(this.m_colorBuffer.data,_n,r_,p_),this.m_userDataBuffer.data&&TS(this.m_userDataBuffer.data,_n,r_,p_),this.m_handleIndexBuffer.data){TS(this.m_handleIndexBuffer.data,_n,r_,p_);for(let d_=_n;d_<p_;++d_){let B_=this.m_handleIndexBuffer.data[d_];B_&&B_.SetIndex(b_(B_.GetIndex()))}}if(this.m_expirationTimeBuffer.data){TS(this.m_expirationTimeBuffer.data,_n,r_,p_);let d_=this.GetParticleCount(),B_=this.m_indexByExpirationTimeBuffer.data;for(let T_=0;T_<d_;++T_)B_[T_]=b_(B_[T_])}for(let d_=0;d_<this.m_proxyBuffer.count;d_++){let B_=this.m_proxyBuffer.data[d_];B_.index=b_(B_.index)}for(let d_=0;d_<this.m_contactBuffer.count;d_++){let B_=this.m_contactBuffer.data[d_];B_.indexA=b_(B_.indexA),B_.indexB=b_(B_.indexB)}for(let d_=0;d_<this.m_bodyContactBuffer.count;d_++){let B_=this.m_bodyContactBuffer.data[d_];B_.index=b_(B_.index)}for(let d_=0;d_<this.m_pairBuffer.count;d_++){let B_=this.m_pairBuffer.data[d_];B_.indexA=b_(B_.indexA),B_.indexB=b_(B_.indexB)}for(let d_=0;d_<this.m_triadBuffer.count;d_++){let B_=this.m_triadBuffer.data[d_];B_.indexA=b_(B_.indexA),B_.indexB=b_(B_.indexB),B_.indexC=b_(B_.indexC)}for(let d_=this.m_groupList;d_;d_=d_.GetNext())d_.m_firstIndex=b_(d_.m_firstIndex),d_.m_lastIndex=b_(d_.m_lastIndex-1)+1}GetCriticalVelocity(_n){return this.m_particleDiameter*_n.inv_dt}GetCriticalVelocitySquared(_n){let r_=this.GetCriticalVelocity(_n);return r_*r_}GetCriticalPressure(_n){return this.m_def.density*this.GetCriticalVelocitySquared(_n)}GetParticleStride(){return X2*this.m_particleDiameter}GetParticleMass(){let _n=this.GetParticleStride();return this.m_def.density*_n*_n}GetParticleInvMass(){let _n=this.m_inverseDiameter*(1/X2);return this.m_inverseDensity*_n*_n}GetFixtureContactFilter(){return this.m_allParticleFlags&x.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null}GetParticleContactFilter(){return this.m_allParticleFlags&x.b2ParticleFlag.b2_particleContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null}GetFixtureContactListener(){return this.m_allParticleFlags&x.b2ParticleFlag.b2_fixtureContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null}GetParticleContactListener(){return this.m_allParticleFlags&x.b2ParticleFlag.b2_particleContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null}SetUserOverridableBuffer(_n,r_){_n.data=r_,_n.userSuppliedCapacity=r_.length}SetGroupFlags(_n,r_){let p_=_n.m_groupFlags;(p_^r_)&x.b2ParticleGroupFlag.b2_solidParticleGroup&&(r_|=x.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth),p_&~r_&&(this.m_needsUpdateAllGroupFlags=!0),~this.m_allGroupFlags&r_&&(r_&x.b2ParticleGroupFlag.b2_solidParticleGroup&&(this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer)),this.m_allGroupFlags|=r_),_n.m_groupFlags=r_}static BodyContactCompare(_n,r_){return _n.index===r_.index?_n.weight>r_.weight:_n.index<r_.index}RemoveSpuriousBodyContacts(){YV(this.m_bodyContactBuffer.data,0,this.m_bodyContactBuffer.count,Z2.BodyContactCompare);let _n=Z2.RemoveSpuriousBodyContacts_s_n,r_=Z2.RemoveSpuriousBodyContacts_s_pos,p_=Z2.RemoveSpuriousBodyContacts_s_normal,b_=3,d_=this,B_=-1,T_=0,E_=Y_=>{if(Y_.index!==B_&&(T_=0,B_=Y_.index),T_++>b_)return!0;let H_=_n.Copy(Y_.normal);H_.SelfMul(d_.m_particleDiameter*(1-Y_.weight));let U_=a_.AddVV(d_.m_positionBuffer.data[Y_.index],H_,r_);if(!Y_.fixture.TestPoint(U_)){let $_=Y_.fixture.GetShape().GetChildCount();for(let a2=0;a2<$_;a2++){let g2=p_;if(Y_.fixture.ComputeDistance(U_,g2,a2)<ws)return!1}return!0}return!1};this.m_bodyContactBuffer.count=VM(this.m_bodyContactBuffer.data,E_,this.m_bodyContactBuffer.count)}DetectStuckParticle(_n){this.m_stuckThreshold<=0||(++this.m_bodyContactCountBuffer.data[_n],this.m_bodyContactCountBuffer.data[_n]===2&&(++this.m_consecutiveContactStepsBuffer.data[_n],this.m_consecutiveContactStepsBuffer.data[_n]>this.m_stuckThreshold&&(this.m_stuckParticleBuffer.data[this.m_stuckParticleBuffer.Append()]=_n)),this.m_lastBodyContactStepBuffer.data[_n]=this.m_timestamp)}ValidateParticleIndex(_n){return _n>=0&&_n<this.GetParticleCount()&&_n!==q2}GetQuantizedTimeElapsed(){return Math.floor(this.m_timeElapsed/4294967296)}LifetimeToExpirationTime(_n){return this.m_timeElapsed+Math.floor(_n/this.m_def.lifetimeGranularity*4294967296)}ForceCanBeApplied(_n){return!(_n&x.b2ParticleFlag.b2_wallParticle)}PrepareForceBuffer(){if(!this.m_hasForce){for(let _n=0;_n<this.m_count;_n++)this.m_forceBuffer[_n].SetZero();this.m_hasForce=!0}}IsRigidGroup(_n){return _n!==null&&(_n.m_groupFlags&x.b2ParticleGroupFlag.b2_rigidParticleGroup)!==0}GetLinearVelocity(_n,r_,p_,b_){return _n&&this.IsRigidGroup(_n)?_n.GetLinearVelocityFromWorldPoint(p_,b_):b_.Copy(this.m_velocityBuffer.data[r_])}InitDampingParameter(_n,r_,p_,b_,d_,B_,T_,E_){_n[0]=b_>0?1/b_:0,r_[0]=d_>0?1/d_:0,p_[0]=a_.CrossVV(a_.SubVV(T_,B_,a_.s_t0),E_)}InitDampingParameterWithRigidGroupOrParticle(_n,r_,p_,b_,d_,B_,T_,E_){if(d_&&b_)this.InitDampingParameter(_n,r_,p_,d_.GetMass(),d_.GetInertia(),d_.GetCenter(),T_,E_);else{let Y_=this.m_flagsBuffer.data[B_];this.InitDampingParameter(_n,r_,p_,Y_&x.b2ParticleFlag.b2_wallParticle?0:this.GetParticleMass(),0,T_,T_,E_)}}ComputeDampingImpulse(_n,r_,p_,b_,d_,B_,T_){let E_=_n+r_*p_*p_+b_+d_*B_*B_;return E_>0?T_/E_:0}ApplyDamping(_n,r_,p_,b_,d_,B_,T_,E_){d_&&b_?(d_.m_linearVelocity.SelfMulAdd(T_*_n,E_),d_.m_angularVelocity+=T_*p_*r_):this.m_velocityBuffer.data[B_].SelfMulAdd(T_*_n,E_)}}Z2.xTruncBits=12,Z2.yTruncBits=12,Z2.tagBits=8*4,Z2.yOffset=1<<Z2.yTruncBits-1,Z2.yShift=Z2.tagBits-Z2.yTruncBits,Z2.xShift=Z2.tagBits-Z2.yTruncBits-Z2.xTruncBits,Z2.xScale=1<<Z2.xShift,Z2.xOffset=Z2.xScale*(1<<Z2.xTruncBits-1),Z2.yMask=(1<<Z2.yTruncBits)-1<<Z2.yShift,Z2.xMask=~Z2.yMask,Z2.DestroyParticlesInShape_s_aabb=new UA,Z2.CreateParticleGroup_s_transform=new o0,Z2.ComputeCollisionEnergy_s_v=new a_,Z2.QueryShapeAABB_s_aabb=new UA,Z2.QueryPointAABB_s_aabb=new UA,Z2.RayCast_s_aabb=new UA,Z2.RayCast_s_p=new a_,Z2.RayCast_s_v=new a_,Z2.RayCast_s_n=new a_,Z2.RayCast_s_point=new a_,Z2.k_pairFlags=x.b2ParticleFlag.b2_springParticle,Z2.k_triadFlags=x.b2ParticleFlag.b2_elasticParticle,Z2.k_noPressureFlags=x.b2ParticleFlag.b2_powderParticle|x.b2ParticleFlag.b2_tensileParticle,Z2.k_extraDampingFlags=x.b2ParticleFlag.b2_staticPressureParticle,Z2.k_barrierWallFlags=x.b2ParticleFlag.b2_barrierParticle|x.b2ParticleFlag.b2_wallParticle,Z2.CreateParticlesStrokeShapeForGroup_s_edge=new a1,Z2.CreateParticlesStrokeShapeForGroup_s_d=new a_,Z2.CreateParticlesStrokeShapeForGroup_s_p=new a_,Z2.CreateParticlesFillShapeForGroup_s_aabb=new UA,Z2.CreateParticlesFillShapeForGroup_s_p=new a_,Z2.UpdatePairsAndTriads_s_dab=new a_,Z2.UpdatePairsAndTriads_s_dbc=new a_,Z2.UpdatePairsAndTriads_s_dca=new a_,Z2.AddContact_s_d=new a_,Z2.UpdateBodyContacts_s_aabb=new UA,Z2.Solve_s_subStep=new WB,Z2.SolveCollision_s_aabb=new UA,Z2.SolveGravity_s_gravity=new a_,Z2.SolveBarrier_s_aabb=new UA,Z2.SolveBarrier_s_va=new a_,Z2.SolveBarrier_s_vb=new a_,Z2.SolveBarrier_s_pba=new a_,Z2.SolveBarrier_s_vba=new a_,Z2.SolveBarrier_s_vc=new a_,Z2.SolveBarrier_s_pca=new a_,Z2.SolveBarrier_s_vca=new a_,Z2.SolveBarrier_s_qba=new a_,Z2.SolveBarrier_s_qca=new a_,Z2.SolveBarrier_s_dv=new a_,Z2.SolveBarrier_s_f=new a_,Z2.SolvePressure_s_f=new a_,Z2.SolveDamping_s_v=new a_,Z2.SolveDamping_s_f=new a_,Z2.SolveRigidDamping_s_t0=new a_,Z2.SolveRigidDamping_s_t1=new a_,Z2.SolveRigidDamping_s_p=new a_,Z2.SolveRigidDamping_s_v=new a_,Z2.SolveExtraDamping_s_v=new a_,Z2.SolveExtraDamping_s_f=new a_,Z2.SolveRigid_s_position=new a_,Z2.SolveRigid_s_rotation=new K2,Z2.SolveRigid_s_transform=new o0,Z2.SolveRigid_s_velocityTransform=new o0,Z2.SolveElastic_s_pa=new a_,Z2.SolveElastic_s_pb=new a_,Z2.SolveElastic_s_pc=new a_,Z2.SolveElastic_s_r=new K2,Z2.SolveElastic_s_t0=new a_,Z2.SolveSpring_s_pa=new a_,Z2.SolveSpring_s_pb=new a_,Z2.SolveSpring_s_d=new a_,Z2.SolveSpring_s_f=new a_,Z2.SolveTensile_s_weightedNormal=new a_,Z2.SolveTensile_s_s=new a_,Z2.SolveTensile_s_f=new a_,Z2.SolveViscous_s_v=new a_,Z2.SolveViscous_s_f=new a_,Z2.SolveRepulsive_s_f=new a_,Z2.SolvePowder_s_f=new a_,Z2.SolveSolid_s_f=new a_,Z2.RemoveSpuriousBodyContacts_s_n=new a_,Z2.RemoveSpuriousBodyContacts_s_pos=new a_,Z2.RemoveSpuriousBodyContacts_s_normal=new a_;class dC{constructor(){this._data=null,this.userSuppliedCapacity=0}get data(){return this._data}set data(_n){this._data=_n}}class OB{constructor(){this.index=q2,this.tag=0}static CompareProxyProxy(_n,r_){return _n.tag<r_.tag}static CompareTagProxy(_n,r_){return _n<r_.tag}static CompareProxyTag(_n,r_){return _n.tag<r_}}class RM{constructor(_n,r_,p_,b_,d_){this.m_system=_n,this.m_xLower=(r_&Z2.xMask)>>>0,this.m_xUpper=(p_&Z2.xMask)>>>0,this.m_yLower=(r_&Z2.yMask)>>>0,this.m_yUpper=(p_&Z2.yMask)>>>0,this.m_first=b_,this.m_last=d_}GetNext(){for(;this.m_first<this.m_last;){let _n=(this.m_system.m_proxyBuffer.data[this.m_first].tag&Z2.xMask)>>>0;if(_n>=this.m_xLower&&_n<=this.m_xUpper)return this.m_system.m_proxyBuffer.data[this.m_first++].index;this.m_first++}return q2}}class FM{constructor(){this.next=null,this.count=0,this.index=0}}class rD{Allocate(_n,r_){return r_}Clear(){}GetCount(){return 0}Invalidate(_n){}GetValidBuffer(){return[]}GetBuffer(){return[]}SetCount(_n){}}class _J{constructor(_n,r_){this.second=q2,this.first=_n,this.second=r_}}class LM extends rD{Initialize(_n,r_){}Find(_n){return q2}}class aJ{constructor(_n,r_){this.first=q2,this.second=q2,this.first=_n,this.second=r_}}class qM extends rD{Initialize(_n,r_){}Find(_n){return q2}}class ZV{IsNecessary(_n){return!0}ShouldCreatePair(_n,r_){return!0}ShouldCreateTriad(_n,r_,p_){return!0}}class EM extends IC{constructor(_n,r_,p_,b_){super(),this.m_callDestructionListener=!1,this.m_destroyed=0,this.m_system=_n,this.m_shape=r_,this.m_xf=p_,this.m_callDestructionListener=b_,this.m_destroyed=0}ReportFixture(_n){return!1}ReportParticle(_n,r_){return _n!==this.m_system?!1:(this.m_shape.TestPoint(this.m_xf,this.m_system.m_positionBuffer.data[r_])&&(this.m_system.DestroyParticle(r_,this.m_callDestructionListener),this.m_destroyed++),!0)}Destroyed(){return this.m_destroyed}}class kM extends ZV{constructor(_n){super(),this.m_threshold=0,this.m_threshold=_n}ShouldCreatePair(_n,r_){return _n<this.m_threshold&&this.m_threshold<=r_||r_<this.m_threshold&&this.m_threshold<=_n}ShouldCreateTriad(_n,r_,p_){return(_n<this.m_threshold||r_<this.m_threshold||p_<this.m_threshold)&&(this.m_threshold<=_n||this.m_threshold<=r_||this.m_threshold<=p_)}}class jM extends EB{constructor(_n,r_=_n.length){super(x.b2ShapeType.e_unknown,0),this.m_shapeCount=0,this.m_shapes=_n,this.m_shapeCount=r_}Clone(){throw new Error}GetChildCount(){return 1}TestPoint(_n,r_){for(let p_=0;p_<this.m_shapeCount;p_++)if(this.m_shapes[p_].TestPoint(_n,r_))return!0;return!1}ComputeDistance(_n,r_,p_,b_){return 0}RayCast(_n,r_,p_,b_){return!1}ComputeAABB(_n,r_,p_){let b_=new UA;_n.lowerBound.x=+_o,_n.lowerBound.y=+_o,_n.upperBound.x=-_o,_n.upperBound.y=-_o;for(let d_=0;d_<this.m_shapeCount;d_++){let B_=this.m_shapes[d_].GetChildCount();for(let T_=0;T_<B_;T_++){let E_=b_;this.m_shapes[d_].ComputeAABB(E_,r_,T_),_n.Combine1(E_)}}}ComputeMass(_n,r_){}SetupDistanceProxy(_n,r_){}ComputeSubmergedArea(_n,r_,p_,b_){return 0}Dump(_n){}}class zM extends ZV{constructor(_n){super(),this.m_flagsBuffer=_n}IsNecessary(_n){return(this.m_flagsBuffer.data[_n]&x.b2ParticleFlag.b2_reactiveParticle)!==0}}class UB extends iD{constructor(_n,r_=null){super(_n),this.m_contactFilter=null,this.m_contactFilter=r_}ShouldCollideFixtureParticle(_n,r_,p_){return this.m_contactFilter&&this.m_system.GetFlagsBuffer()[p_]&x.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_contactFilter.ShouldCollideFixtureParticle(_n,this.m_system,p_):!0}ReportFixtureAndParticle(_n,r_,p_){let b_=UB.ReportFixtureAndParticle_s_n,d_=UB.ReportFixtureAndParticle_s_rp,B_=this.m_system.m_positionBuffer.data[p_],T_=b_,E_=_n.ComputeDistance(B_,T_,r_);if(E_<this.m_system.m_particleDiameter&&this.ShouldCollideFixtureParticle(_n,this.m_system,p_)){let Y_=_n.GetBody(),H_=Y_.GetWorldCenter(),U_=Y_.GetMass(),$_=Y_.GetInertia()-U_*Y_.GetLocalCenter().LengthSquared(),a2=U_>0?1/U_:0,g2=$_>0?1/$_:0,M2=this.m_system.m_flagsBuffer.data[p_]&x.b2ParticleFlag.b2_wallParticle?0:this.m_system.GetParticleInvMass(),R2=a_.SubVV(B_,H_,d_),W2=a_.CrossVV(R2,T_),z2=M2+a2+g2*W2*W2,Q2=this.m_system.m_bodyContactBuffer.data[this.m_system.m_bodyContactBuffer.Append()];Q2.index=p_,Q2.body=Y_,Q2.fixture=_n,Q2.weight=1-E_*this.m_system.m_inverseDiameter,Q2.normal.Copy(T_.SelfNeg()),Q2.mass=z2>0?1/z2:0,this.m_system.DetectStuckParticle(p_)}}}UB.ReportFixtureAndParticle_s_n=new a_,UB.ReportFixtureAndParticle_s_rp=new a_;class SS extends iD{constructor(_n,r_){super(_n),this.m_step=r_}ReportFixtureAndParticle(_n,r_,p_){let b_=SS.ReportFixtureAndParticle_s_p1,d_=SS.ReportFixtureAndParticle_s_output,B_=SS.ReportFixtureAndParticle_s_input,T_=SS.ReportFixtureAndParticle_s_p,E_=SS.ReportFixtureAndParticle_s_v,Y_=SS.ReportFixtureAndParticle_s_f,H_=_n.GetBody(),U_=this.m_system.m_positionBuffer.data[p_],$_=this.m_system.m_velocityBuffer.data[p_],a2=d_,g2=B_;if(this.m_system.m_iterationIndex===0){let M2=o0.MulTXV(H_.m_xf0,U_,b_);_n.GetShape().GetType()===x.b2ShapeType.e_circleShape&&(M2.SelfSub(H_.GetLocalCenter()),K2.MulRV(H_.m_xf0.q,M2,M2),K2.MulTRV(H_.m_xf.q,M2,M2),M2.SelfAdd(H_.GetLocalCenter())),o0.MulXV(H_.m_xf,M2,g2.p1)}else g2.p1.Copy(U_);if(a_.AddVMulSV(U_,this.m_step.dt,$_,g2.p2),g2.maxFraction=1,_n.RayCast(a2,g2,r_)){let M2=a2.normal,R2=T_;R2.x=(1-a2.fraction)*g2.p1.x+a2.fraction*g2.p2.x+ws*M2.x,R2.y=(1-a2.fraction)*g2.p1.y+a2.fraction*g2.p2.y+ws*M2.y;let W2=E_;W2.x=this.m_step.inv_dt*(R2.x-U_.x),W2.y=this.m_step.inv_dt*(R2.y-U_.y),this.m_system.m_velocityBuffer.data[p_].Copy(W2);let z2=Y_;z2.x=this.m_step.inv_dt*this.m_system.GetParticleMass()*($_.x-W2.x),z2.y=this.m_step.inv_dt*this.m_system.GetParticleMass()*($_.y-W2.y),this.m_system.ParticleApplyForce(p_,z2)}}ReportParticle(_n,r_){return!1}}SS.ReportFixtureAndParticle_s_p1=new a_,SS.ReportFixtureAndParticle_s_output=new j4,SS.ReportFixtureAndParticle_s_input=new qV,SS.ReportFixtureAndParticle_s_p=new a_,SS.ReportFixtureAndParticle_s_v=new a_,SS.ReportFixtureAndParticle_s_f=new a_;class Q0{constructor(_n){this.m_newFixture=!1,this.m_locked=!1,this.m_clearForces=!0,this.m_contactManager=new gM,this.m_bodyList=null,this.m_jointList=null,this.m_particleSystemList=null,this.m_bodyCount=0,this.m_jointCount=0,this.m_gravity=new a_,this.m_allowSleep=!0,this.m_destructionListener=null,this.m_debugDraw=null,this.m_inv_dt0=0,this.m_warmStarting=!0,this.m_continuousPhysics=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new tD,this.m_island=new XA,this.s_stack=[],this.m_controllerList=null,this.m_controllerCount=0,this.m_gravity.Copy(_n)}SetDestructionListener(_n){this.m_destructionListener=_n}SetContactFilter(_n){this.m_contactManager.m_contactFilter=_n}SetContactListener(_n){this.m_contactManager.m_contactListener=_n}SetDebugDraw(_n){this.m_debugDraw=_n}CreateBody(_n={}){if(this.IsLocked())throw new Error;let r_=new sS(_n,this);return r_.m_prev=null,r_.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=r_),this.m_bodyList=r_,++this.m_bodyCount,r_}DestroyBody(_n){if(this.IsLocked())throw new Error;let r_=_n.m_jointList;for(;r_;){let B_=r_;r_=r_.next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(B_.joint),this.DestroyJoint(B_.joint),_n.m_jointList=r_}_n.m_jointList=null;let p_=_n.m_controllerList;for(;p_;){let B_=p_;p_=p_.nextController,B_.controller.RemoveBody(_n)}let b_=_n.m_contactList;for(;b_;){let B_=b_;b_=b_.next,this.m_contactManager.Destroy(B_.contact)}_n.m_contactList=null;let d_=_n.m_fixtureList;for(;d_;){let B_=d_;d_=d_.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(B_),B_.DestroyProxies(),B_.Reset(),_n.m_fixtureList=d_,_n.m_fixtureCount-=1}_n.m_fixtureList=null,_n.m_fixtureCount=0,_n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),_n===this.m_bodyList&&(this.m_bodyList=_n.m_next),--this.m_bodyCount}static _Joint_Create(_n){switch(_n.type){case x.b2JointType.e_distanceJoint:return new $S(_n);case x.b2JointType.e_mouseJoint:return new ZC(_n);case x.b2JointType.e_prismaticJoint:return new Yy(_n);case x.b2JointType.e_revoluteJoint:return new xA(_n);case x.b2JointType.e_pulleyJoint:return new mA(_n);case x.b2JointType.e_gearJoint:return new K1(_n);case x.b2JointType.e_wheelJoint:return new IS(_n);case x.b2JointType.e_weldJoint:return new fA(_n);case x.b2JointType.e_frictionJoint:return new YC(_n);case x.b2JointType.e_ropeJoint:return new tC(_n);case x.b2JointType.e_motorJoint:return new HC(_n);case x.b2JointType.e_areaJoint:return new hM(_n)}throw new Error}static _Joint_Destroy(_n){}CreateJoint(_n){if(this.IsLocked())throw new Error;let r_=Q0._Joint_Create(_n);r_.m_prev=null,r_.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=r_),this.m_jointList=r_,++this.m_jointCount,r_.m_edgeA.prev=null,r_.m_edgeA.next=r_.m_bodyA.m_jointList,r_.m_bodyA.m_jointList&&(r_.m_bodyA.m_jointList.prev=r_.m_edgeA),r_.m_bodyA.m_jointList=r_.m_edgeA,r_.m_edgeB.prev=null,r_.m_edgeB.next=r_.m_bodyB.m_jointList,r_.m_bodyB.m_jointList&&(r_.m_bodyB.m_jointList.prev=r_.m_edgeB),r_.m_bodyB.m_jointList=r_.m_edgeB;let p_=r_.m_bodyA,b_=r_.m_bodyB;if(!r_.m_collideConnected){let B_=b_.GetContactList();for(;B_;)B_.other===p_&&B_.contact.FlagForFiltering(),B_=B_.next}return r_}DestroyJoint(_n){if(this.IsLocked())throw new Error;_n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),_n===this.m_jointList&&(this.m_jointList=_n.m_next);let r_=_n.m_bodyA,p_=_n.m_bodyB,b_=_n.m_collideConnected;if(r_.SetAwake(!0),p_.SetAwake(!0),_n.m_edgeA.prev&&(_n.m_edgeA.prev.next=_n.m_edgeA.next),_n.m_edgeA.next&&(_n.m_edgeA.next.prev=_n.m_edgeA.prev),_n.m_edgeA===r_.m_jointList&&(r_.m_jointList=_n.m_edgeA.next),_n.m_edgeA.Reset(),_n.m_edgeB.prev&&(_n.m_edgeB.prev.next=_n.m_edgeB.next),_n.m_edgeB.next&&(_n.m_edgeB.next.prev=_n.m_edgeB.prev),_n.m_edgeB===p_.m_jointList&&(p_.m_jointList=_n.m_edgeB.next),_n.m_edgeB.Reset(),Q0._Joint_Destroy(_n),--this.m_jointCount,!b_){let d_=p_.GetContactList();for(;d_;)d_.other===r_&&d_.contact.FlagForFiltering(),d_=d_.next}}CreateParticleSystem(_n){if(this.IsLocked())throw new Error;let r_=new Z2(_n,this);return r_.m_prev=null,r_.m_next=this.m_particleSystemList,this.m_particleSystemList&&(this.m_particleSystemList.m_prev=r_),this.m_particleSystemList=r_,r_}DestroyParticleSystem(_n){if(this.IsLocked())throw new Error;_n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),_n===this.m_particleSystemList&&(this.m_particleSystemList=_n.m_next)}CalculateReasonableParticleIterations(_n){if(this.m_particleSystemList===null)return 1;function r_(p_){let b_=_o;for(let d_=p_.GetParticleSystemList();d_!==null;d_=d_.m_next)b_=L0(b_,d_.GetRadius());return b_}return SM(this.m_gravity.Length(),r_(this),_n)}Step(_n,r_,p_,b_=this.CalculateReasonableParticleIterations(_n)){let d_=Q0.Step_s_stepTimer.Reset();this.m_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_newFixture=!1),this.m_locked=!0;let B_=Q0.Step_s_step;B_.dt=_n,B_.velocityIterations=r_,B_.positionIterations=p_,B_.particleIterations=b_,_n>0?B_.inv_dt=1/_n:B_.inv_dt=0,B_.dtRatio=this.m_inv_dt0*_n,B_.warmStarting=this.m_warmStarting;let T_=Q0.Step_s_timer.Reset();if(this.m_contactManager.Collide(),this.m_profile.collide=T_.GetMilliseconds(),this.m_stepComplete&&B_.dt>0){let E_=Q0.Step_s_timer.Reset();for(let Y_=this.m_particleSystemList;Y_;Y_=Y_.m_next)Y_.Solve(B_);this.Solve(B_),this.m_profile.solve=E_.GetMilliseconds()}if(this.m_continuousPhysics&&B_.dt>0){let E_=Q0.Step_s_timer.Reset();this.SolveTOI(B_),this.m_profile.solveTOI=E_.GetMilliseconds()}B_.dt>0&&(this.m_inv_dt0=B_.inv_dt),this.m_clearForces&&this.ClearForces(),this.m_locked=!1,this.m_profile.step=d_.GetMilliseconds()}ClearForces(){for(let _n=this.m_bodyList;_n;_n=_n.m_next)_n.m_force.SetZero(),_n.m_torque=0}DrawParticleSystem(_n){if(this.m_debugDraw===null)return;let r_=_n.GetParticleCount();if(r_){let p_=_n.GetRadius(),b_=_n.GetPositionBuffer();if(_n.m_colorBuffer.data){let d_=_n.GetColorBuffer();this.m_debugDraw.DrawParticles(b_,p_,d_,r_)}else this.m_debugDraw.DrawParticles(b_,p_,null,r_)}}DrawDebugData(){if(this.m_debugDraw===null)return;let _n=this.m_debugDraw.GetFlags(),r_=Q0.DrawDebugData_s_color.SetRGB(0,0,0);if(_n&x.b2DrawFlags.e_shapeBit)for(let p_=this.m_bodyList;p_;p_=p_.m_next){let b_=p_.m_xf;this.m_debugDraw.PushTransform(b_);for(let d_=p_.GetFixtureList();d_;d_=d_.m_next)p_.IsActive()?p_.GetType()===x.b2BodyType.b2_staticBody?(r_.SetRGB(.5,.9,.5),this.DrawShape(d_,r_)):p_.GetType()===x.b2BodyType.b2_kinematicBody?(r_.SetRGB(.5,.5,.9),this.DrawShape(d_,r_)):p_.IsAwake()?(r_.SetRGB(.9,.7,.7),this.DrawShape(d_,r_)):(r_.SetRGB(.6,.6,.6),this.DrawShape(d_,r_)):(r_.SetRGB(.5,.5,.3),this.DrawShape(d_,r_));this.m_debugDraw.PopTransform(b_)}if(_n&x.b2DrawFlags.e_particleBit)for(let p_=this.m_particleSystemList;p_;p_=p_.m_next)this.DrawParticleSystem(p_);if(_n&x.b2DrawFlags.e_jointBit)for(let p_=this.m_jointList;p_;p_=p_.m_next)this.DrawJoint(p_);if(_n&x.b2DrawFlags.e_aabbBit){r_.SetRGB(.9,.3,.9);let p_=Q0.DrawDebugData_s_vs;for(let b_=this.m_bodyList;b_;b_=b_.m_next)if(b_.IsActive())for(let d_=b_.GetFixtureList();d_;d_=d_.m_next)for(let B_=0;B_<d_.m_proxyCount;++B_){let E_=d_.m_proxies[B_].treeNode.aabb;p_[0].Set(E_.lowerBound.x,E_.lowerBound.y),p_[1].Set(E_.upperBound.x,E_.lowerBound.y),p_[2].Set(E_.upperBound.x,E_.upperBound.y),p_[3].Set(E_.lowerBound.x,E_.upperBound.y),this.m_debugDraw.DrawPolygon(p_,4,r_)}}if(_n&x.b2DrawFlags.e_centerOfMassBit)for(let p_=this.m_bodyList;p_;p_=p_.m_next){let b_=Q0.DrawDebugData_s_xf;b_.q.Copy(p_.m_xf.q),b_.p.Copy(p_.GetWorldCenter()),this.m_debugDraw.DrawTransform(b_)}if(_n&x.b2DrawFlags.e_controllerBit)for(let p_=this.m_controllerList;p_;p_=p_.m_next)p_.Draw(this.m_debugDraw)}QueryAABB(..._n){_n[0]instanceof IC?this._QueryAABB(_n[0],_n[1]):this._QueryAABB(null,_n[0],_n[1])}_QueryAABB(_n,r_,p_){if(this.m_contactManager.m_broadPhase.Query(r_,b_=>{let B_=b_.userData.fixture;return _n?_n.ReportFixture(B_):p_?p_(B_):!0}),_n instanceof IC)for(let b_=this.m_particleSystemList;b_;b_=b_.m_next)_n.ShouldQueryParticleSystem(b_)&&b_.QueryAABB(_n,r_)}QueryAllAABB(_n,r_=[]){return this.QueryAABB(_n,p_=>(r_.push(p_),!0)),r_}QueryPointAABB(..._n){_n[0]instanceof IC?this._QueryPointAABB(_n[0],_n[1]):this._QueryPointAABB(null,_n[0],_n[1])}_QueryPointAABB(_n,r_,p_){if(this.m_contactManager.m_broadPhase.QueryPoint(r_,b_=>{let B_=b_.userData.fixture;return _n?_n.ReportFixture(B_):p_?p_(B_):!0}),_n instanceof IC)for(let b_=this.m_particleSystemList;b_;b_=b_.m_next)_n.ShouldQueryParticleSystem(b_)&&b_.QueryPointAABB(_n,r_)}QueryAllPointAABB(_n,r_=[]){return this.QueryPointAABB(_n,p_=>(r_.push(p_),!0)),r_}QueryFixtureShape(..._n){_n[0]instanceof IC?this._QueryFixtureShape(_n[0],_n[1],_n[2],_n[3]):this._QueryFixtureShape(null,_n[0],_n[1],_n[2],_n[3])}_QueryFixtureShape(_n,r_,p_,b_,d_){let B_=Q0.QueryFixtureShape_s_aabb;if(r_.ComputeAABB(B_,b_,p_),this.m_contactManager.m_broadPhase.Query(B_,T_=>{let E_=T_.userData,Y_=E_.fixture;if(W4(r_,p_,Y_.GetShape(),E_.childIndex,b_,Y_.GetBody().GetTransform())){if(_n)return _n.ReportFixture(Y_);if(d_)return d_(Y_)}return!0}),_n instanceof IC)for(let T_=this.m_particleSystemList;T_;T_=T_.m_next)_n.ShouldQueryParticleSystem(T_)&&T_.QueryAABB(_n,B_)}QueryAllFixtureShape(_n,r_,p_,b_=[]){return this.QueryFixtureShape(_n,r_,p_,d_=>(b_.push(d_),!0)),b_}QueryFixturePoint(..._n){_n[0]instanceof IC?this._QueryFixturePoint(_n[0],_n[1]):this._QueryFixturePoint(null,_n[0],_n[1])}_QueryFixturePoint(_n,r_,p_){if(this.m_contactManager.m_broadPhase.QueryPoint(r_,b_=>{let B_=b_.userData.fixture;if(B_.TestPoint(r_)){if(_n)return _n.ReportFixture(B_);if(p_)return p_(B_)}return!0}),_n)for(let b_=this.m_particleSystemList;b_;b_=b_.m_next)_n.ShouldQueryParticleSystem(b_)&&b_.QueryPointAABB(_n,r_)}QueryAllFixturePoint(_n,r_=[]){return this.QueryFixturePoint(_n,p_=>(r_.push(p_),!0)),r_}RayCast(..._n){_n[0]instanceof fM?this._RayCast(_n[0],_n[1],_n[2]):this._RayCast(null,_n[0],_n[1],_n[2])}_RayCast(_n,r_,p_,b_){let d_=Q0.RayCast_s_input;if(d_.maxFraction=1,d_.p1.Copy(r_),d_.p2.Copy(p_),this.m_contactManager.m_broadPhase.RayCast(d_,(B_,T_)=>{let E_=T_.userData,Y_=E_.fixture,H_=E_.childIndex,U_=Q0.RayCast_s_output;if(Y_.RayCast(U_,B_,H_)){let a2=U_.fraction,g2=Q0.RayCast_s_point;if(g2.Set((1-a2)*r_.x+a2*p_.x,(1-a2)*r_.y+a2*p_.y),_n)return _n.ReportFixture(Y_,g2,U_.normal,a2);if(b_)return b_(Y_,g2,U_.normal,a2)}return B_.maxFraction}),_n)for(let B_=this.m_particleSystemList;B_;B_=B_.m_next)_n.ShouldQueryParticleSystem(B_)&&B_.RayCast(_n,r_,p_)}RayCastOne(_n,r_){let p_=null,b_=1;return this.RayCast(_n,r_,(d_,B_,T_,E_)=>(E_<b_&&(b_=E_,p_=d_),b_)),p_}RayCastAll(_n,r_,p_=[]){return this.RayCast(_n,r_,(b_,d_,B_,T_)=>(p_.push(b_),1)),p_}GetBodyList(){return this.m_bodyList}GetJointList(){return this.m_jointList}GetParticleSystemList(){return this.m_particleSystemList}GetContactList(){return this.m_contactManager.m_contactList}SetAllowSleeping(_n){if(_n!==this.m_allowSleep&&(this.m_allowSleep=_n,!this.m_allowSleep))for(let r_=this.m_bodyList;r_;r_=r_.m_next)r_.SetAwake(!0)}GetAllowSleeping(){return this.m_allowSleep}SetWarmStarting(_n){this.m_warmStarting=_n}GetWarmStarting(){return this.m_warmStarting}SetContinuousPhysics(_n){this.m_continuousPhysics=_n}GetContinuousPhysics(){return this.m_continuousPhysics}SetSubStepping(_n){this.m_subStepping=_n}GetSubStepping(){return this.m_subStepping}GetProxyCount(){return this.m_contactManager.m_broadPhase.GetProxyCount()}GetBodyCount(){return this.m_bodyCount}GetJointCount(){return this.m_jointCount}GetContactCount(){return this.m_contactManager.m_contactCount}GetTreeHeight(){return this.m_contactManager.m_broadPhase.GetTreeHeight()}GetTreeBalance(){return this.m_contactManager.m_broadPhase.GetTreeBalance()}GetTreeQuality(){return this.m_contactManager.m_broadPhase.GetTreeQuality()}SetGravity(_n,r_=!0){if(!a_.IsEqualToV(this.m_gravity,_n)&&(this.m_gravity.Copy(_n),r_))for(let p_=this.m_bodyList;p_;p_=p_.m_next)p_.SetAwake(!0)}GetGravity(){return this.m_gravity}IsLocked(){return this.m_locked}SetAutoClearForces(_n){this.m_clearForces=_n}GetAutoClearForces(){return this.m_clearForces}ShiftOrigin(_n){if(this.IsLocked())throw new Error;for(let r_=this.m_bodyList;r_;r_=r_.m_next)r_.m_xf.p.SelfSub(_n),r_.m_sweep.c0.SelfSub(_n),r_.m_sweep.c.SelfSub(_n);for(let r_=this.m_jointList;r_;r_=r_.m_next)r_.ShiftOrigin(_n);this.m_contactManager.m_broadPhase.ShiftOrigin(_n)}GetContactManager(){return this.m_contactManager}GetProfile(){return this.m_profile}Dump(_n){if(this.m_locked)return;_n(`const g: b2Vec2 = new b2Vec2(%.15f, %.15f);
`,this.m_gravity.x,this.m_gravity.y),_n(`this.m_world.SetGravity(g);
`),_n(`const bodies: b2Body[] = [];
`),_n(`const joints: b2Joint[] = [];
`);let r_=0;for(let p_=this.m_bodyList;p_;p_=p_.m_next)p_.m_islandIndex=r_,p_.Dump(_n),++r_;r_=0;for(let p_=this.m_jointList;p_;p_=p_.m_next)p_.m_index=r_,++r_;for(let p_=this.m_jointList;p_;p_=p_.m_next)p_.m_type!==x.b2JointType.e_gearJoint&&(_n(`{
`),p_.Dump(_n),_n(`}
`));for(let p_=this.m_jointList;p_;p_=p_.m_next)p_.m_type===x.b2JointType.e_gearJoint&&(_n(`{
`),p_.Dump(_n),_n(`}
`))}DrawJoint(_n){if(this.m_debugDraw===null)return;let r_=_n.GetBodyA(),p_=_n.GetBodyB(),b_=r_.m_xf,d_=p_.m_xf,B_=b_.p,T_=d_.p,E_=_n.GetAnchorA(Q0.DrawJoint_s_p1),Y_=_n.GetAnchorB(Q0.DrawJoint_s_p2),H_=Q0.DrawJoint_s_color.SetRGB(.5,.8,.8);switch(_n.m_type){case x.b2JointType.e_distanceJoint:this.m_debugDraw.DrawSegment(E_,Y_,H_);break;case x.b2JointType.e_pulleyJoint:{let U_=_n,$_=U_.GetGroundAnchorA(),a2=U_.GetGroundAnchorB();this.m_debugDraw.DrawSegment($_,E_,H_),this.m_debugDraw.DrawSegment(a2,Y_,H_),this.m_debugDraw.DrawSegment($_,a2,H_);break}case x.b2JointType.e_mouseJoint:{let U_=Q0.DrawJoint_s_c;U_.Set(0,1,0),this.m_debugDraw.DrawPoint(E_,4,U_),this.m_debugDraw.DrawPoint(Y_,4,U_),U_.Set(.8,.8,.8),this.m_debugDraw.DrawSegment(E_,Y_,U_);break}default:this.m_debugDraw.DrawSegment(B_,E_,H_),this.m_debugDraw.DrawSegment(E_,Y_,H_),this.m_debugDraw.DrawSegment(T_,Y_,H_)}}DrawShape(_n,r_){if(this.m_debugDraw===null)return;let p_=_n.GetShape();switch(p_.m_type){case x.b2ShapeType.e_circleShape:{let b_=p_,d_=b_.m_p,B_=b_.m_radius,T_=a_.UNITX;this.m_debugDraw.DrawSolidCircle(d_,B_,T_,r_);break}case x.b2ShapeType.e_edgeShape:{let b_=p_,d_=b_.m_vertex1,B_=b_.m_vertex2;this.m_debugDraw.DrawSegment(d_,B_,r_);break}case x.b2ShapeType.e_chainShape:{let b_=p_,d_=b_.m_count,B_=b_.m_vertices,T_=Q0.DrawShape_s_ghostColor.SetRGBA(.75*r_.r,.75*r_.g,.75*r_.b,r_.a),E_=B_[0];if(this.m_debugDraw.DrawPoint(E_,4,r_),b_.m_hasPrevVertex){let Y_=b_.m_prevVertex;this.m_debugDraw.DrawSegment(Y_,E_,T_),this.m_debugDraw.DrawCircle(Y_,.1,T_)}for(let Y_=1;Y_<d_;++Y_){let H_=B_[Y_];this.m_debugDraw.DrawSegment(E_,H_,r_),this.m_debugDraw.DrawPoint(H_,4,r_),E_=H_}if(b_.m_hasNextVertex){let Y_=b_.m_nextVertex;this.m_debugDraw.DrawSegment(Y_,E_,T_),this.m_debugDraw.DrawCircle(Y_,.1,T_)}break}case x.b2ShapeType.e_polygonShape:{let b_=p_,d_=b_.m_count,B_=b_.m_vertices;this.m_debugDraw.DrawSolidPolygon(B_,d_,r_);break}}}Solve(_n){for(let d_=this.m_bodyList;d_;d_=d_.m_next)d_.m_xf0.Copy(d_.m_xf);for(let d_=this.m_controllerList;d_;d_=d_.m_next)d_.Step(_n);this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;let r_=this.m_island;r_.Initialize(this.m_bodyCount,this.m_contactManager.m_contactCount,this.m_jointCount,this.m_contactManager.m_contactListener);for(let d_=this.m_bodyList;d_;d_=d_.m_next)d_.m_islandFlag=!1;for(let d_=this.m_contactManager.m_contactList;d_;d_=d_.m_next)d_.m_islandFlag=!1;for(let d_=this.m_jointList;d_;d_=d_.m_next)d_.m_islandFlag=!1;let p_=this.s_stack;for(let d_=this.m_bodyList;d_;d_=d_.m_next){if(d_.m_islandFlag||!d_.IsAwake()||!d_.IsActive()||d_.GetType()===x.b2BodyType.b2_staticBody)continue;r_.Clear();let B_=0;for(p_[B_++]=d_,d_.m_islandFlag=!0;B_>0;){let E_=p_[--B_];if(!E_)throw new Error;if(r_.AddBody(E_),E_.m_awakeFlag=!0,E_.GetType()!==x.b2BodyType.b2_staticBody){for(let Y_=E_.m_contactList;Y_;Y_=Y_.next){let H_=Y_.contact;if(H_.m_islandFlag||!H_.IsEnabled()||!H_.IsTouching())continue;let U_=H_.m_fixtureA.m_isSensor,$_=H_.m_fixtureB.m_isSensor;if(U_||$_)continue;r_.AddContact(H_),H_.m_islandFlag=!0;let a2=Y_.other;a2.m_islandFlag||(p_[B_++]=a2,a2.m_islandFlag=!0)}for(let Y_=E_.m_jointList;Y_;Y_=Y_.next){if(Y_.joint.m_islandFlag)continue;let H_=Y_.other;H_.IsActive()&&(r_.AddJoint(Y_.joint),Y_.joint.m_islandFlag=!0,!H_.m_islandFlag&&(p_[B_++]=H_,H_.m_islandFlag=!0))}}}let T_=new tD;r_.Solve(T_,_n,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=T_.solveInit,this.m_profile.solveVelocity+=T_.solveVelocity,this.m_profile.solvePosition+=T_.solvePosition;for(let E_=0;E_<r_.m_bodyCount;++E_){let Y_=r_.m_bodies[E_];Y_.GetType()===x.b2BodyType.b2_staticBody&&(Y_.m_islandFlag=!1)}}for(let d_=0;d_<p_.length&&p_[d_];++d_)p_[d_]=null;let b_=new NC;for(let d_=this.m_bodyList;d_;d_=d_.m_next)d_.m_islandFlag&&d_.GetType()!==x.b2BodyType.b2_staticBody&&d_.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=b_.GetMilliseconds()}SolveTOI(_n){let r_=this.m_island;if(r_.Initialize(2*L_,L_,0,this.m_contactManager.m_contactListener),this.m_stepComplete){for(let p_=this.m_bodyList;p_;p_=p_.m_next)p_.m_islandFlag=!1,p_.m_sweep.alpha0=0;for(let p_=this.m_contactManager.m_contactList;p_;p_=p_.m_next)p_.m_toiFlag=!1,p_.m_islandFlag=!1,p_.m_toiCount=0,p_.m_toi=1}for(;;){let p_=null,b_=1;for(let $_=this.m_contactManager.m_contactList;$_;$_=$_.m_next){if(!$_.IsEnabled()||$_.m_toiCount>w_)continue;let a2=1;if($_.m_toiFlag)a2=$_.m_toi;else{let g2=$_.GetFixtureA(),M2=$_.GetFixtureB();if(g2.IsSensor()||M2.IsSensor())continue;let R2=g2.GetBody(),W2=M2.GetBody(),z2=R2.m_type,Q2=W2.m_type,$2=R2.IsAwake()&&z2!==x.b2BodyType.b2_staticBody,t0=W2.IsAwake()&&Q2!==x.b2BodyType.b2_staticBody;if(!$2&&!t0)continue;let p0=R2.IsBullet()||z2!==x.b2BodyType.b2_dynamicBody,_0=W2.IsBullet()||Q2!==x.b2BodyType.b2_dynamicBody;if(!p0&&!_0)continue;let g0=R2.m_sweep.alpha0;R2.m_sweep.alpha0<W2.m_sweep.alpha0?(g0=W2.m_sweep.alpha0,R2.m_sweep.Advance(g0)):W2.m_sweep.alpha0<R2.m_sweep.alpha0&&(g0=R2.m_sweep.alpha0,W2.m_sweep.Advance(g0));let b0=$_.GetChildIndexA(),D0=$_.GetChildIndexB(),E0=Q0.SolveTOI_s_toi_input;E0.proxyA.SetShape(g2.GetShape(),b0),E0.proxyB.SetShape(M2.GetShape(),D0),E0.sweepA.Copy(R2.m_sweep),E0.sweepB.Copy(W2.m_sweep),E0.tMax=1;let x0=Q0.SolveTOI_s_toi_output;U4(x0,E0);let l0=x0.t;x0.state===x.b2TOIOutputState.e_touching?a2=L0(g0+(1-g0)*l0,1):a2=1,$_.m_toi=a2,$_.m_toiFlag=!0}a2<b_&&(p_=$_,b_=a2)}if(p_===null||1-10*_r<b_){this.m_stepComplete=!0;break}let d_=p_.GetFixtureA(),B_=p_.GetFixtureB(),T_=d_.GetBody(),E_=B_.GetBody(),Y_=Q0.SolveTOI_s_backup1.Copy(T_.m_sweep),H_=Q0.SolveTOI_s_backup2.Copy(E_.m_sweep);if(T_.Advance(b_),E_.Advance(b_),p_.Update(this.m_contactManager.m_contactListener),p_.m_toiFlag=!1,++p_.m_toiCount,!p_.IsEnabled()||!p_.IsTouching()){p_.SetEnabled(!1),T_.m_sweep.Copy(Y_),E_.m_sweep.Copy(H_),T_.SynchronizeTransform(),E_.SynchronizeTransform();continue}T_.SetAwake(!0),E_.SetAwake(!0),r_.Clear(),r_.AddBody(T_),r_.AddBody(E_),r_.AddContact(p_),T_.m_islandFlag=!0,E_.m_islandFlag=!0,p_.m_islandFlag=!0;for(let $_=0;$_<2;++$_){let a2=$_===0?T_:E_;if(a2.m_type===x.b2BodyType.b2_dynamicBody)for(let g2=a2.m_contactList;g2&&!(r_.m_bodyCount===r_.m_bodyCapacity||r_.m_contactCount===r_.m_contactCapacity);g2=g2.next){let M2=g2.contact;if(M2.m_islandFlag)continue;let R2=g2.other;if(R2.m_type===x.b2BodyType.b2_dynamicBody&&!a2.IsBullet()&&!R2.IsBullet())continue;let W2=M2.m_fixtureA.m_isSensor,z2=M2.m_fixtureB.m_isSensor;if(W2||z2)continue;let Q2=Q0.SolveTOI_s_backup.Copy(R2.m_sweep);if(R2.m_islandFlag||R2.Advance(b_),M2.Update(this.m_contactManager.m_contactListener),!M2.IsEnabled()){R2.m_sweep.Copy(Q2),R2.SynchronizeTransform();continue}if(!M2.IsTouching()){R2.m_sweep.Copy(Q2),R2.SynchronizeTransform();continue}M2.m_islandFlag=!0,r_.AddContact(M2),!R2.m_islandFlag&&(R2.m_islandFlag=!0,R2.m_type!==x.b2BodyType.b2_staticBody&&R2.SetAwake(!0),r_.AddBody(R2))}}let U_=Q0.SolveTOI_s_subStep;U_.dt=(1-b_)*_n.dt,U_.inv_dt=1/U_.dt,U_.dtRatio=1,U_.positionIterations=20,U_.velocityIterations=_n.velocityIterations,U_.particleIterations=_n.particleIterations,U_.warmStarting=!1,r_.SolveTOI(U_,T_.m_islandIndex,E_.m_islandIndex);for(let $_=0;$_<r_.m_bodyCount;++$_){let a2=r_.m_bodies[$_];if(a2.m_islandFlag=!1,a2.m_type===x.b2BodyType.b2_dynamicBody){a2.SynchronizeFixtures();for(let g2=a2.m_contactList;g2;g2=g2.next)g2.contact.m_toiFlag=!1,g2.contact.m_islandFlag=!1}}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}}AddController(_n){return _n.m_next=this.m_controllerList,_n.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=_n),this.m_controllerList=_n,++this.m_controllerCount,_n}RemoveController(_n){return _n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),this.m_controllerList===_n&&(this.m_controllerList=_n.m_next),--this.m_controllerCount,_n.m_prev=null,_n.m_next=null,_n}}Q0.Step_s_step=new WB,Q0.Step_s_stepTimer=new NC,Q0.Step_s_timer=new NC,Q0.DrawDebugData_s_color=new iy(0,0,0),Q0.DrawDebugData_s_vs=a_.MakeArray(4),Q0.DrawDebugData_s_xf=new o0,Q0.QueryFixtureShape_s_aabb=new UA,Q0.RayCast_s_input=new qV,Q0.RayCast_s_output=new j4,Q0.RayCast_s_point=new a_,Q0.DrawJoint_s_p1=new a_,Q0.DrawJoint_s_p2=new a_,Q0.DrawJoint_s_color=new iy(.5,.8,.8),Q0.DrawJoint_s_c=new iy,Q0.DrawShape_s_ghostColor=new iy,Q0.SolveTOI_s_subStep=new WB,Q0.SolveTOI_s_backup=new rS,Q0.SolveTOI_s_backup1=new rS,Q0.SolveTOI_s_backup2=new rS,Q0.SolveTOI_s_toi_input=new N4,Q0.SolveTOI_s_toi_output=new O4;class WM{constructor(_n,r_){this.prevBody=null,this.nextBody=null,this.prevController=null,this.nextController=null,this.controller=_n,this.body=r_}}class dP{constructor(){this.m_bodyList=null,this.m_bodyCount=0,this.m_prev=null,this.m_next=null}GetNext(){return this.m_next}GetPrev(){return this.m_prev}GetBodyList(){return this.m_bodyList}AddBody(_n){let r_=new WM(this,_n);r_.nextBody=this.m_bodyList,r_.prevBody=null,this.m_bodyList&&(this.m_bodyList.prevBody=r_),this.m_bodyList=r_,++this.m_bodyCount,r_.nextController=_n.m_controllerList,r_.prevController=null,_n.m_controllerList&&(_n.m_controllerList.prevController=r_),_n.m_controllerList=r_,++_n.m_controllerCount}RemoveBody(_n){if(this.m_bodyCount<=0)throw new Error;let r_=this.m_bodyList;for(;r_&&r_.body!==_n;)r_=r_.nextBody;if(r_===null)throw new Error;r_.prevBody&&(r_.prevBody.nextBody=r_.nextBody),r_.nextBody&&(r_.nextBody.prevBody=r_.prevBody),this.m_bodyList===r_&&(this.m_bodyList=r_.nextBody),--this.m_bodyCount,r_.nextController&&(r_.nextController.prevController=r_.prevController),r_.prevController&&(r_.prevController.nextController=r_.nextController),_n.m_controllerList===r_&&(_n.m_controllerList=r_.nextController),--_n.m_controllerCount}Clear(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body);this.m_bodyCount=0}}class pJ extends dP{constructor(){super(...arguments),this.normal=new a_(0,1),this.offset=0,this.density=0,this.velocity=new a_(0,0),this.linearDrag=0,this.angularDrag=0,this.useDensity=!1,this.useWorldGravity=!0,this.gravity=new a_(0,0)}Step(_n){if(this.m_bodyList){this.useWorldGravity&&this.gravity.Copy(this.m_bodyList.body.GetWorld().GetGravity());for(let r_=this.m_bodyList;r_;r_=r_.nextBody){let p_=r_.body;if(!p_.IsAwake())continue;let b_=new a_,d_=new a_,B_=0,T_=0;for(let H_=p_.GetFixtureList();H_;H_=H_.m_next){let U_=new a_,$_=H_.GetShape().ComputeSubmergedArea(this.normal,this.offset,p_.GetTransform(),U_);B_+=$_,b_.x+=$_*U_.x,b_.y+=$_*U_.y;let a2=0;this.useDensity?a2=H_.GetDensity():a2=1,T_+=$_*a2,d_.x+=$_*U_.x*a2,d_.y+=$_*U_.y*a2}if(b_.x/=B_,b_.y/=B_,d_.x/=T_,d_.y/=T_,B_<_r)continue;let E_=this.gravity.Clone().SelfNeg();E_.SelfMul(this.density*B_),p_.ApplyForce(E_,d_);let Y_=p_.GetLinearVelocityFromWorldPoint(b_,new a_);Y_.SelfSub(this.velocity),Y_.SelfMul(-this.linearDrag*B_),p_.ApplyForce(Y_,b_),p_.ApplyTorque(-p_.GetInertia()/p_.GetMass()*B_*p_.GetAngularVelocity()*this.angularDrag)}}}Draw(_n){let p_=new a_,b_=new a_;p_.x=this.normal.x*this.offset+this.normal.y*100,p_.y=this.normal.y*this.offset-this.normal.x*100,b_.x=this.normal.x*this.offset-this.normal.y*100,b_.y=this.normal.y*this.offset+this.normal.x*100;let d_=new iy(0,0,.8);_n.DrawSegment(p_,b_,d_)}}class KV extends dP{constructor(){super(...arguments),this.A=new a_(0,0)}Step(_n){let r_=a_.MulSV(_n.dt,this.A,KV.Step_s_dtA);for(let p_=this.m_bodyList;p_;p_=p_.nextBody){let b_=p_.body;b_.IsAwake()&&b_.SetLinearVelocity(a_.AddVV(b_.GetLinearVelocity(),r_,a_.s_t0))}}Draw(_n){}}KV.Step_s_dtA=new a_;class lJ extends dP{constructor(){super(...arguments),this.F=new a_(0,0)}Step(_n){for(let r_=this.m_bodyList;r_;r_=r_.nextBody){let p_=r_.body;p_.IsAwake()&&p_.ApplyForce(this.F,p_.GetWorldCenter())}}Draw(_n){}}class nV extends dP{constructor(){super(...arguments),this.G=1,this.invSqr=!0}Step(_n){if(this.invSqr)for(let r_=this.m_bodyList;r_;r_=r_.nextBody){let p_=r_.body,b_=p_.GetWorldCenter(),d_=p_.GetMass();for(let B_=this.m_bodyList;B_&&B_!==r_;B_=B_.nextBody){let T_=B_.body,E_=T_.GetWorldCenter(),Y_=T_.GetMass(),H_=E_.x-b_.x,U_=E_.y-b_.y,$_=H_*H_+U_*U_;if($_<_r)continue;let a2=nV.Step_s_f.Set(H_,U_);a2.SelfMul(this.G/$_/uC($_)*d_*Y_),p_.IsAwake()&&p_.ApplyForce(a2,b_),T_.IsAwake()&&T_.ApplyForce(a2.SelfMul(-1),E_)}}else for(let r_=this.m_bodyList;r_;r_=r_.nextBody){let p_=r_.body,b_=p_.GetWorldCenter(),d_=p_.GetMass();for(let B_=this.m_bodyList;B_&&B_!==r_;B_=B_.nextBody){let T_=B_.body,E_=T_.GetWorldCenter(),Y_=T_.GetMass(),H_=E_.x-b_.x,U_=E_.y-b_.y,$_=H_*H_+U_*U_;if($_<_r)continue;let a2=nV.Step_s_f.Set(H_,U_);a2.SelfMul(this.G/$_*d_*Y_),p_.IsAwake()&&p_.ApplyForce(a2,b_),T_.IsAwake()&&T_.ApplyForce(a2.SelfMul(-1),E_)}}}Draw(_n){}}nV.Step_s_f=new a_;class QV extends dP{constructor(){super(...arguments),this.T=new F1,this.maxTimestep=0}Step(_n){let r_=_n.dt;if(!(r_<=_r)){r_>this.maxTimestep&&this.maxTimestep>0&&(r_=this.maxTimestep);for(let p_=this.m_bodyList;p_;p_=p_.nextBody){let b_=p_.body;if(!b_.IsAwake())continue;let d_=b_.GetWorldVector(F1.MulMV(this.T,b_.GetLocalVector(b_.GetLinearVelocity(),a_.s_t0),a_.s_t1),QV.Step_s_damping);b_.SetLinearVelocity(a_.AddVV(b_.GetLinearVelocity(),a_.MulSV(r_,d_,a_.s_t0),a_.s_t1))}}}Draw(_n){}SetAxisAligned(_n,r_){this.T.ex.x=-_n,this.T.ex.y=0,this.T.ey.x=0,this.T.ey.y=-r_,_n>0||r_>0?this.maxTimestep=1/T0(_n,r_):this.maxTimestep=0}}QV.Step_s_damping=new a_;class cJ{constructor(){this.vertices=[],this.count=0,this.masses=[],this.gravity=new a_(0,0),this.damping=.1,this.k2=.9,this.k3=.1}}class uS{constructor(){this.m_count=0,this.m_ps=[],this.m_p0s=[],this.m_vs=[],this.m_ims=[],this.m_Ls=[],this.m_as=[],this.m_gravity=new a_,this.m_damping=0,this.m_k2=1,this.m_k3=.1}GetVertexCount(){return this.m_count}GetVertices(){return this.m_ps}Initialize(_n){this.m_count=_n.count,this.m_ps=a_.MakeArray(this.m_count),this.m_p0s=a_.MakeArray(this.m_count),this.m_vs=a_.MakeArray(this.m_count),this.m_ims=h0(this.m_count);for(let b_=0;b_<this.m_count;++b_){this.m_ps[b_].Copy(_n.vertices[b_]),this.m_p0s[b_].Copy(_n.vertices[b_]),this.m_vs[b_].SetZero();let d_=_n.masses[b_];d_>0?this.m_ims[b_]=1/d_:this.m_ims[b_]=0}let r_=this.m_count-1,p_=this.m_count-2;this.m_Ls=h0(r_),this.m_as=h0(p_);for(let b_=0;b_<r_;++b_){let d_=this.m_ps[b_],B_=this.m_ps[b_+1];this.m_Ls[b_]=a_.DistanceVV(d_,B_)}for(let b_=0;b_<p_;++b_){let d_=this.m_ps[b_],B_=this.m_ps[b_+1],T_=this.m_ps[b_+2],E_=a_.SubVV(B_,d_,a_.s_t0),Y_=a_.SubVV(T_,B_,a_.s_t1),H_=a_.CrossVV(E_,Y_),U_=a_.DotVV(E_,Y_);this.m_as[b_]=NP(H_,U_)}this.m_gravity.Copy(_n.gravity),this.m_damping=_n.damping,this.m_k2=_n.k2,this.m_k3=_n.k3}Step(_n,r_){if(_n===0)return;let p_=Math.exp(-_n*this.m_damping);for(let d_=0;d_<this.m_count;++d_)this.m_p0s[d_].Copy(this.m_ps[d_]),this.m_ims[d_]>0&&this.m_vs[d_].SelfMulAdd(_n,this.m_gravity),this.m_vs[d_].SelfMul(p_),this.m_ps[d_].SelfMulAdd(_n,this.m_vs[d_]);for(let d_=0;d_<r_;++d_)this.SolveC2(),this.SolveC3(),this.SolveC2();let b_=1/_n;for(let d_=0;d_<this.m_count;++d_)a_.MulSV(b_,a_.SubVV(this.m_ps[d_],this.m_p0s[d_],a_.s_t0),this.m_vs[d_])}SolveC2(){let _n=this.m_count-1;for(let r_=0;r_<_n;++r_){let p_=this.m_ps[r_],b_=this.m_ps[r_+1],d_=a_.SubVV(b_,p_,uS.s_d),B_=d_.Normalize(),T_=this.m_ims[r_],E_=this.m_ims[r_+1];if(T_+E_===0)continue;let Y_=T_/(T_+E_),H_=E_/(T_+E_);p_.SelfMulSub(this.m_k2*Y_*(this.m_Ls[r_]-B_),d_),b_.SelfMulAdd(this.m_k2*H_*(this.m_Ls[r_]-B_),d_)}}SetAngle(_n){let r_=this.m_count-2;for(let p_=0;p_<r_;++p_)this.m_as[p_]=_n}SolveC3(){let _n=this.m_count-2;for(let r_=0;r_<_n;++r_){let p_=this.m_ps[r_],b_=this.m_ps[r_+1],d_=this.m_ps[r_+2],B_=this.m_ims[r_],T_=this.m_ims[r_+1],E_=this.m_ims[r_+2],Y_=a_.SubVV(b_,p_,uS.s_d1),H_=a_.SubVV(d_,b_,uS.s_d2),U_=Y_.LengthSquared(),$_=H_.LengthSquared();if(U_*$_===0)continue;let a2=a_.CrossVV(Y_,H_),g2=a_.DotVV(Y_,H_),M2=NP(a2,g2),R2=a_.MulSV(-1/U_,Y_.SelfSkew(),uS.s_Jd1),W2=a_.MulSV(1/$_,H_.SelfSkew(),uS.s_Jd2),z2=a_.NegV(R2,uS.s_J1),Q2=a_.SubVV(R2,W2,uS.s_J2),$2=W2,t0=B_*a_.DotVV(z2,z2)+T_*a_.DotVV(Q2,Q2)+E_*a_.DotVV($2,$2);if(t0===0)continue;t0=1/t0;let p0=M2-this.m_as[r_];for(;p0>e_;)M2-=2*e_,p0=M2-this.m_as[r_];for(;p0<-e_;)M2+=2*e_,p0=M2-this.m_as[r_];let _0=-this.m_k3*t0*p0;p_.SelfMulAdd(B_*_0,z2),b_.SelfMulAdd(T_*_0,Q2),d_.SelfMulAdd(E_*_0,$2)}}Draw(_n){let r_=new iy(.4,.5,.7);for(let p_=0;p_<this.m_count-1;++p_)_n.DrawSegment(this.m_ps[p_],this.m_ps[p_+1],r_)}}uS.s_d=new a_,uS.s_d1=new a_,uS.s_d2=new a_,uS.s_Jd1=new a_,uS.s_Jd2=new a_,uS.s_J1=new a_,uS.s_J2=new a_,x.b2AABB=UA,x.b2Abs=P0,x.b2Acos=R4,x.b2Alloc=C_,x.b2AreaJoint=hM,x.b2AreaJointDef=N8,x.b2Asin=WP,x.b2Assert=V,x.b2Atan2=NP,x.b2BlockAllocator=IV,x.b2Body=sS,x.b2BodyDef=z8,x.b2BroadPhase=oM,x.b2BuoyancyController=pJ,x.b2CalculateParticleIterations=SM,x.b2ChainAndCircleContact=jB,x.b2ChainAndPolygonContact=zB,x.b2ChainShape=AC,x.b2CircleContact=ZP,x.b2CircleShape=nS,x.b2Clamp=Vy,x.b2ClipSegmentToLine=HP,x.b2ClipVertex=fB,x.b2CollideCircles=_M,x.b2CollideEdgeAndCircle=Y4,x.b2CollideEdgeAndPolygon=H4,x.b2CollidePolygonAndCircle=aM,x.b2CollidePolygons=lM,x.b2Color=iy,x.b2ConstantAccelController=KV,x.b2ConstantForceController=lJ,x.b2Contact=eC,x.b2ContactEdge=$4,x.b2ContactFactory=yM,x.b2ContactFeature=W6,x.b2ContactFilter=NV,x.b2ContactID=uP,x.b2ContactImpulse=xM,x.b2ContactListener=OV,x.b2ContactManager=gM,x.b2ContactPositionConstraint=iV,x.b2ContactRegister=dM,x.b2ContactSolver=q0,x.b2ContactSolverDef=AM,x.b2ContactVelocityConstraint=oV,x.b2Controller=dP,x.b2ControllerEdge=WM,x.b2Cos=T4,x.b2Counter=JV,x.b2DegToRad=DV,x.b2DestructionListener=oJ,x.b2Distance=k4,x.b2DistanceInput=HS,x.b2DistanceJoint=$S,x.b2DistanceJointDef=uM,x.b2DistanceOutput=LB,x.b2DistanceProxy=OC,x.b2Draw=Y2,x.b2DynamicTree=d1,x.b2EdgeAndCircleContact=$P,x.b2EdgeAndPolygonContact=_w,x.b2EdgeShape=a1,x.b2Filter=gB,x.b2Fixture=bM,x.b2FixtureDef=mM,x.b2FixtureParticleQueryCallback=iD,x.b2FixtureProxy=kB,x.b2Free=z_,x.b2FrictionJoint=YC,x.b2FrictionJointDef=O8,x.b2GearJoint=K1,x.b2GearJointDef=U8,x.b2GetPointStates=mI,x.b2GravityController=nV,x.b2GrowableBuffer=NB,x.b2GrowableStack=R0,x.b2InvSqrt=lP,x.b2IsPowerOfTwo=L4,x.b2IsValid=J4,x.b2Island=XA,x.b2Jacobian=W8,x.b2Joint=QS,x.b2JointDef=KS,x.b2JointEdge=Z4,x.b2Log=X_,x.b2MakeArray=U2,x.b2MakeNullArray=pa,x.b2MakeNumberArray=h0,x.b2Manifold=YP,x.b2ManifoldPoint=LV,x.b2MassData=WV,x.b2Mat22=F1,x.b2Mat33=vS,x.b2Max=T0,x.b2Maybe=o,x.b2Min=L0,x.b2MixFriction=K4,x.b2MixRestitution=Q4,x.b2MotorJoint=HC,x.b2MotorJointDef=X8,x.b2MouseJoint=ZC,x.b2MouseJointDef=Y8,x.b2NextPowerOfTwo=F4,x.b2Pair=eM,x.b2PairLessThan=iM,x.b2ParseInt=B2,x.b2ParseUInt=J2,x.b2ParticleBodyContact=JM,x.b2ParticleContact=GM,x.b2ParticleDef=oD,x.b2ParticleGroup=rV,x.b2ParticleGroupDef=BM,x.b2ParticleHandle=CM,x.b2ParticlePair=IM,x.b2ParticlePairSet=qM,x.b2ParticleSystem=Z2,x.b2ParticleSystemDef=HV,x.b2ParticleSystem_CompositeShape=jM,x.b2ParticleSystem_ConnectionFilter=ZV,x.b2ParticleSystem_DestroyParticlesInShapeCallback=EM,x.b2ParticleSystem_FixedSetAllocator=rD,x.b2ParticleSystem_FixtureParticle=_J,x.b2ParticleSystem_FixtureParticleSet=LM,x.b2ParticleSystem_InsideBoundsEnumerator=RM,x.b2ParticleSystem_JoinParticleGroupsFilter=kM,x.b2ParticleSystem_ParticleListNode=FM,x.b2ParticleSystem_ParticlePair=aJ,x.b2ParticleSystem_Proxy=OB,x.b2ParticleSystem_ReactiveFilter=zM,x.b2ParticleSystem_SolveCollisionCallback=SS,x.b2ParticleSystem_UpdateBodyContactsCallback=UB,x.b2ParticleSystem_UserOverridableBuffer=dC,x.b2ParticleTriad=TM,x.b2PolygonAndCircleContact=QP,x.b2PolygonContact=KP,x.b2PolygonShape=N0,x.b2Position=tV,x.b2PositionSolverManifold=hC,x.b2Pow=VV,x.b2PrismaticJoint=Yy,x.b2PrismaticJointDef=H8,x.b2Profile=tD,x.b2PulleyJoint=mA,x.b2PulleyJointDef=K8,x.b2QueryCallback=IC,x.b2RadToDeg=I4,x.b2Random=GV,x.b2RandomRange=q4,x.b2RayCastCallback=fM,x.b2RayCastInput=qV,x.b2RayCastOutput=j4,x.b2RevoluteJoint=xA,x.b2RevoluteJointDef=Q8,x.b2Rope=uS,x.b2RopeDef=cJ,x.b2RopeJoint=tC,x.b2RopeJointDef=$8,x.b2Rot=K2,x.b2SeparationFunction=sM,x.b2Shape=EB,x.b2ShapeCast=z6,x.b2ShapeCastInput=TV,x.b2ShapeCastOutput=RV,x.b2Simplex=AS,x.b2SimplexCache=cP,x.b2SimplexVertex=qB,x.b2Sin=MV,x.b2SolverData=vM,x.b2Sq=G2,x.b2Sqrt=uC,x.b2StackAllocator=OP,x.b2Swap=wV,x.b2Sweep=rS,x.b2TOIInput=N4,x.b2TOIOutput=O4,x.b2TensorDampingController=QV,x.b2TestOverlapAABB=z4,x.b2TestOverlapShape=W4,x.b2TimeOfImpact=U4,x.b2TimeStep=WB,x.b2Timer=NC,x.b2Transform=o0,x.b2TreeNode=tM,x.b2Vec2=a_,x.b2Vec2_zero=E4,x.b2Vec3=oA,x.b2Velocity=eV,x.b2VelocityConstraintPoint=UV,x.b2Version=l2,x.b2WeldJoint=fA,x.b2WeldJointDef=tJ,x.b2WheelJoint=IS,x.b2WheelJointDef=eJ,x.b2World=Q0,x.b2WorldManifold=BA,x.b2_180_over_pi=S0,x.b2_aabbExtension=_e,x.b2_aabbMultiplier=c_,x.b2_angularSleepTolerance=K_,x.b2_angularSlop=h_,x.b2_barrierCollisionTime=_2,x.b2_baumgarte=T2,x.b2_branch=V2,x.b2_commit=L2,x.b2_epsilon=_r,x.b2_epsilon_sq=l,x.b2_gjk_reset=FV,x.b2_invalidParticleIndex=q2,x.b2_linearSleepTolerance=G_,x.b2_linearSlop=ws,x.b2_maxAngularCorrection=k_,x.b2_maxFloat=_o,x.b2_maxLinearCorrection=I_,x.b2_maxManifoldPoints=o_,x.b2_maxParticleForce=N_,x.b2_maxParticleIndex=O2,x.b2_maxParticlePressure=q_,x.b2_maxPolygonVertices=i_,x.b2_maxRotation=p2,x.b2_maxRotationSquared=u2,x.b2_maxSubSteps=w_,x.b2_maxTOIContacts=L_,x.b2_maxTranslation=j_,x.b2_maxTranslationSquared=n2,x.b2_maxTriadDistance=W_,x.b2_maxTriadDistanceSquared=o2,x.b2_minParticleSystemBufferCapacity=m2,x.b2_minParticleWeight=S_,x.b2_minPulleyLength=Z8,x.b2_particleStride=X2,x.b2_pi=e_,x.b2_pi_over_180=i0,x.b2_polygonRadius=s_,x.b2_timeToSleep=v_,x.b2_toiBaumgarte=I2,x.b2_toi_reset=Z6,x.b2_two_pi=k0,x.b2_velocityThreshold=y_,x.b2_version=D2,x.g_blockSolve=eD,Object.defineProperty(x,"__esModule",{value:!0})})});var W9=z0((exports,module)=>{"use strict";var COMPILED=!0,goog=goog||{};goog.global=exports;goog.isDef=function(x){return x!==void 0};goog.exportPath_=function(x,V,o){x=x.split("."),o=o||goog.global,x[0]in o||!o.execScript||o.execScript("var "+x[0]);for(var _o;x.length&&(_o=x.shift());)!x.length&&goog.isDef(V)?o[_o]=V:o=o[_o]?o[_o]:o[_o]={}};goog.define=function(x,V){var o=V;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,x)?o=goog.global.CLOSURE_UNCOMPILED_DEFINES[x]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,x)&&(o=goog.global.CLOSURE_DEFINES[x])),goog.exportPath_(x,o)};goog.DEBUG=!1;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.provide=function(x){if(!COMPILED&&goog.isProvided_(x))throw Error('Namespace "'+x+'" already declared.');goog.constructNamespace_(x)};goog.constructNamespace_=function(x,V){if(!COMPILED){delete goog.implicitNamespaces_[x];for(var o=x;(o=o.substring(0,o.lastIndexOf(".")))&&!goog.getObjectByName(o);)goog.implicitNamespaces_[o]=!0}goog.exportPath_(x,V)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(x){if(!goog.isString(x)||!x||x.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+x+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=x,!COMPILED){if(goog.isProvided_(x))throw Error('Namespace "'+x+'" already declared.');delete goog.implicitNamespaces_[x]}};goog.module.get=function(x){return goog.module.getInternal_(x)};goog.module.getInternal_=function(x){if(!COMPILED)return goog.isProvided_(x)?x in goog.loadedModules_?goog.loadedModules_[x]:goog.getObjectByName(x):null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null};goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};goog.setTestOnly=function(x){if(goog.DISALLOW_TEST_ONLY_CODE)throw x=x||"",Error("Importing test-only code into non-debug environment"+(x?": "+x:"."))};goog.forwardDeclare=function(x){};COMPILED||(goog.isProvided_=function(x){return x in goog.loadedModules_||!goog.implicitNamespaces_[x]&&goog.isDefAndNotNull(goog.getObjectByName(x))},goog.implicitNamespaces_={"goog.module":!0});goog.getObjectByName=function(x,V){for(var o=x.split("."),_o=V||goog.global,_r;_r=o.shift();)if(goog.isDefAndNotNull(_o[_r]))_o=_o[_r];else return null;return _o};goog.globalize=function(x,V){var o=V||goog.global,_o;for(_o in x)o[_o]=x[_o]};goog.addDependency=function(x,V,o,_o){if(goog.DEPENDENCIES_ENABLED){var _r;x=x.replace(/\\/g,"/");for(var l=goog.dependencies_,e_=0;_r=V[e_];e_++)l.nameToPath[_r]=x,l.pathIsModule[x]=!!_o;for(_o=0;V=o[_o];_o++)x in l.requires||(l.requires[x]={}),l.requires[x][V]=!0}};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(x){goog.global.console&&goog.global.console.error(x)};goog.require=function(x){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(x),goog.isProvided_(x))return goog.isInModuleLoader_()?goog.module.getInternal_(x):null;if(goog.ENABLE_DEBUG_LOADER){var V=goog.getPathFromDeps_(x);if(V)return goog.included_[V]=!0,goog.writeScripts_(),null}throw x="goog.require could not find: "+x,goog.logToConsole_(x),Error(x)}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(x,V){return x};goog.abstractMethod=function(){throw Error("unimplemented abstract method")};goog.addSingletonGetter=function(x){x.getInstance=function(){return x.instance_?x.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=x),x.instance_=new x)}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var x=goog.global.document;return typeof x<"u"&&"write"in x},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var x=goog.global.document.getElementsByTagName("script"),V=x.length-1;0<=V;--V){var o=x[V].src,_o=o.lastIndexOf("?"),_o=_o==-1?o.length:_o;if(o.substr(_o-7,7)=="base.js"){goog.basePath=o.substr(0,_o-7);break}}},goog.importScript_=function(x,V){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(x,V)&&(goog.dependencies_.written[x]=!0)},goog.IS_OLD_IE_=!goog.global.atob&&goog.global.document&&goog.global.document.all,goog.importModule_=function(x){goog.importScript_("",'goog.retrieveAndExecModule_("'+x+'");')&&(goog.dependencies_.written[x]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(x,V){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(V+`
//# sourceURL=`+x+`
`)+");":'goog.loadModule(function(exports) {"use strict";'+V+`
;return exports});
//# sourceURL=`+x+`
`},goog.loadQueuedModules_=function(){var x=goog.queuedModules_.length;if(0<x){var V=goog.queuedModules_;goog.queuedModules_=[];for(var o=0;o<x;o++)goog.maybeProcessDeferredPath_(V[o])}},goog.maybeProcessDeferredDep_=function(x){goog.isDeferredModule_(x)&&goog.allDepsAreAvailable_(x)&&(x=goog.getPathFromDeps_(x),goog.maybeProcessDeferredPath_(goog.basePath+x))},goog.isDeferredModule_=function(x){return(x=goog.getPathFromDeps_(x))&&goog.dependencies_.pathIsModule[x]?goog.basePath+x in goog.dependencies_.deferred:!1},goog.allDepsAreAvailable_=function(x){if((x=goog.getPathFromDeps_(x))&&x in goog.dependencies_.requires){for(var V in goog.dependencies_.requires[x])if(!goog.isProvided_(V)&&!goog.isDeferredModule_(V))return!1}return!0},goog.maybeProcessDeferredPath_=function(x){if(x in goog.dependencies_.deferred){var V=goog.dependencies_.deferred[x];delete goog.dependencies_.deferred[x],goog.globalEval(V)}},goog.loadModule=function(x){var V=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1};var o;if(goog.isFunction(x))o=x.call(goog.global,{});else if(goog.isString(x))o=goog.loadModuleFromSource_.call(goog.global,x);else throw Error("Invalid module definition");var _o=goog.moduleLoaderState_.moduleName;if(!goog.isString(_o)||!_o)throw Error('Invalid module name "'+_o+'"');if(goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(_o,o):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(o),goog.loadedModules_[_o]=o,goog.moduleLoaderState_.declareTestMethods)for(var _r in o)(_r.indexOf("test",0)===0||_r=="tearDown"||_r=="setUp"||_r=="setUpPage"||_r=="tearDownPage")&&(goog.global[_r]=o[_r])}finally{goog.moduleLoaderState_=V}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.writeScriptTag_=function(x,V){if(goog.inHtmlDocument_()){var o=goog.global.document;if(o.readyState=="complete"){if(/\bdeps.js$/.test(x))return!1;throw Error('Cannot write "'+x+'" after document load')}var _o=goog.IS_OLD_IE_;return V===void 0?_o?(_o=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",o.write('<script type="text/javascript" src="'+x+'"'+_o+"><\/script>")):o.write('<script type="text/javascript" src="'+x+'"><\/script>'):o.write('<script type="text/javascript">'+V+"<\/script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(x,V){return x.readyState=="complete"&&goog.lastNonModuleScriptIndex_==V&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(){function x(o_){if(!(o_ in _o.written)){if(!(o_ in _o.visited)&&(_o.visited[o_]=!0,o_ in _o.requires)){for(var i_ in _o.requires[o_])if(!goog.isProvided_(i_))if(i_ in _o.nameToPath)x(_o.nameToPath[i_]);else throw Error("Undefined nameToPath for "+i_)}o_ in o||(o[o_]=!0,V.push(o_))}}var V=[],o={},_o=goog.dependencies_,_r;for(_r in goog.included_)_o.written[_r]||x(_r);for(var l=0;l<V.length;l++)_r=V[l],goog.dependencies_.written[_r]=!0;var e_=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,l=0;l<V.length;l++)if(_r=V[l])_o.pathIsModule[_r]?goog.importModule_(goog.basePath+_r):goog.importScript_(goog.basePath+_r);else throw goog.moduleLoaderState_=e_,Error("Undefined script input");goog.moduleLoaderState_=e_},goog.getPathFromDeps_=function(x){return x in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[x]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));goog.normalizePath_=function(x){x=x.split("/");for(var V=0;V<x.length;)x[V]=="."?x.splice(V,1):V&&x[V]==".."&&x[V-1]&&x[V-1]!=".."?x.splice(--V,2):V++;return x.join("/")};goog.retrieveAndExecModule_=function(x){if(!COMPILED){var V=x;x=goog.normalizePath_(x);var o=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,_o=null,_r=new goog.global.XMLHttpRequest;if(_r.onload=function(){_o=this.responseText},_r.open("get",x,!1),_r.send(),_o=_r.responseText,_o!=null)_r=goog.wrapModule_(x,_o),goog.IS_OLD_IE_?(goog.dependencies_.deferred[V]=_r,goog.queuedModules_.push(V)):o(x,_r);else throw Error("load of "+x+"failed")}};goog.typeOf=function(x){var V=typeof x;if(V=="object")if(x){if(x instanceof Array)return"array";if(x instanceof Object)return V;var o=Object.prototype.toString.call(x);if(o=="[object Window]")return"object";if(o=="[object Array]"||typeof x.length=="number"&&typeof x.splice<"u"&&typeof x.propertyIsEnumerable<"u"&&!x.propertyIsEnumerable("splice"))return"array";if(o=="[object Function]"||typeof x.call<"u"&&typeof x.propertyIsEnumerable<"u"&&!x.propertyIsEnumerable("call"))return"function"}else return"null";else if(V=="function"&&typeof x.call>"u")return"object";return V};goog.isNull=function(x){return x===null};goog.isDefAndNotNull=function(x){return x!=null};goog.isArray=function(x){return goog.typeOf(x)=="array"};goog.isArrayLike=function(x){var V=goog.typeOf(x);return V=="array"||V=="object"&&typeof x.length=="number"};goog.isDateLike=function(x){return goog.isObject(x)&&typeof x.getFullYear=="function"};goog.isString=function(x){return typeof x=="string"};goog.isBoolean=function(x){return typeof x=="boolean"};goog.isNumber=function(x){return typeof x=="number"};goog.isFunction=function(x){return goog.typeOf(x)=="function"};goog.isObject=function(x){var V=typeof x;return V=="object"&&x!=null||V=="function"};goog.getUid=function(x){return x[goog.UID_PROPERTY_]||(x[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(x){return!!x[goog.UID_PROPERTY_]};goog.removeUid=function(x){"removeAttribute"in x&&x.removeAttribute(goog.UID_PROPERTY_);try{delete x[goog.UID_PROPERTY_]}catch{}};goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(x){var V=goog.typeOf(x);if(V=="object"||V=="array"){if(x.clone)return x.clone();var V=V=="array"?[]:{},o;for(o in x)V[o]=goog.cloneObject(x[o]);return V}return x};goog.bindNative_=function(x,V,o){return x.call.apply(x.bind,arguments)};goog.bindJs_=function(x,V,o){if(!x)throw Error();if(2<arguments.length){var _o=Array.prototype.slice.call(arguments,2);return function(){var _r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_r,_o),x.apply(V,_r)}}return function(){return x.apply(V,arguments)}};goog.bind=function(x,V,o){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)};goog.partial=function(x,V){var o=Array.prototype.slice.call(arguments,1);return function(){var _o=o.slice();return _o.push.apply(_o,arguments),x.apply(this,_o)}};goog.mixin=function(x,V){for(var o in V)x[o]=V[o]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};goog.globalEval=function(x){if(goog.global.execScript)goog.global.execScript(x,"JavaScript");else if(goog.global.eval)if(goog.evalWorksForGlobals_==null&&(goog.global.eval("var _et_ = 1;"),typeof goog.global._et_<"u"?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(x);else{var V=goog.global.document,o=V.createElement("script");o.type="text/javascript",o.defer=!1,o.appendChild(V.createTextNode(x)),V.body.appendChild(o),V.body.removeChild(o)}else throw Error("goog.globalEval not available")};goog.evalWorksForGlobals_=null;goog.getCssName=function(x,V){var o=function(_r){return goog.cssNameMapping_[_r]||_r},_o=function(_r){_r=_r.split("-");for(var l=[],e_=0;e_<_r.length;e_++)l.push(o(_r[e_]));return l.join("-")},_o=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?o:_o:function(_r){return _r};return V?x+"-"+_o(V):_o(x)};goog.setCssNameMapping=function(x,V){goog.cssNameMapping_=x,goog.cssNameMappingStyle_=V};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(x,V){return V&&(x=x.replace(/\{\$([^}]+)}/g,function(o,_o){return _o in V?V[_o]:o})),x};goog.getMsgWithFallback=function(x,V){return x};goog.exportSymbol=function(x,V,o){goog.exportPath_(x,V,o)};goog.exportProperty=function(x,V,o){x[V]=o};goog.inherits=function(x,V){function o(){}o.prototype=V.prototype,x.superClass_=V.prototype,x.prototype=new o,x.prototype.constructor=x,x.base=function(_o,_r,l){for(var e_=Array(arguments.length-2),o_=2;o_<arguments.length;o_++)e_[o_-2]=arguments[o_];return V.prototype[_r].apply(_o,e_)}};goog.base=function(x,V,o){var _o=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!_o)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(_o.superClass_){for(var _r=Array(arguments.length-1),l=1;l<arguments.length;l++)_r[l-1]=arguments[l];return _o.superClass_.constructor.apply(x,_r)}for(_r=Array(arguments.length-2),l=2;l<arguments.length;l++)_r[l-2]=arguments[l];for(var l=!1,e_=x.constructor;e_;e_=e_.superClass_&&e_.superClass_.constructor)if(e_.prototype[V]===_o)l=!0;else if(l)return e_.prototype[V].apply(x,_r);if(x[V]===_o)return x.constructor.prototype[V].apply(x,_r);throw Error("goog.base called from a method of one name to a method of a different name")};goog.scope=function(x){x.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);goog.defineClass=function(x,V){var o=V.constructor,_o=V.statics;return o&&o!=Object.prototype.constructor||(o=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),o=goog.defineClass.createSealingConstructor_(o,x),x&&goog.inherits(o,x),delete V.constructor,delete V.statics,goog.defineClass.applyProperties_(o.prototype,V),_o!=null&&(_o instanceof Function?_o(o):goog.defineClass.applyProperties_(o,_o)),o};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;goog.defineClass.createSealingConstructor_=function(x,V){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(V&&V.prototype&&V.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return x;var o=function(){var _o=x.apply(this,arguments)||this;return _o[goog.UID_PROPERTY_]=_o[goog.UID_PROPERTY_],this.constructor===o&&Object.seal(_o),_o};return o}return x};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.defineClass.applyProperties_=function(x,V){for(var o in V)Object.prototype.hasOwnProperty.call(V,o)&&(x[o]=V[o]);for(var _o=0;_o<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;_o++)o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[_o],Object.prototype.hasOwnProperty.call(V,o)&&(x[o]=V[o])};goog.tagUnsealableClass=function(x){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(x.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";var box2d={b2Settings:{}};Object.defineProperty||(Object.defineProperty=function(x,V,o){Object.__defineGetter__&&("get"in o?x.__defineGetter__(V,o.get):"value"in o&&x.__defineGetter__(V,o.value)),Object.__defineSetter__&&("set"in o?x.__defineSetter__(V,o.set):"value"in o&&x.__defineSetter__(V,o.value))});box2d.DEBUG=!1;goog.exportSymbol("box2d.DEBUG",box2d.DEBUG);box2d.ENABLE_ASSERTS=box2d.DEBUG;goog.exportSymbol("box2d.ENABLE_ASSERTS",box2d.ENABLE_ASSERTS);box2d.b2Assert=function(x,V,o){if(box2d.DEBUG&&!x)debugger};goog.exportSymbol("box2d.b2Assert",box2d.b2Assert);box2d.b2_maxFloat=1e37;goog.exportSymbol("box2d.b2_maxFloat",box2d.b2_maxFloat);box2d.b2_epsilon=1e-5;goog.exportSymbol("box2d.b2_epsilon",box2d.b2_epsilon);box2d.b2_epsilon_sq=box2d.b2_epsilon*box2d.b2_epsilon;goog.exportSymbol("box2d.b2_epsilon_sq",box2d.b2_epsilon_sq);box2d.b2_pi=Math.PI;goog.exportSymbol("box2d.b2_pi",box2d.b2_pi);box2d.b2_maxManifoldPoints=2;goog.exportSymbol("box2d.b2_maxManifoldPoints",box2d.b2_maxManifoldPoints);box2d.b2_maxPolygonVertices=8;goog.exportSymbol("box2d.b2_maxPolygonVertices",box2d.b2_maxPolygonVertices);box2d.b2_aabbExtension=.1;goog.exportSymbol("box2d.b2_aabbExtension",box2d.b2_aabbExtension);box2d.b2_aabbMultiplier=2;goog.exportSymbol("box2d.b2_aabbMultiplier",box2d.b2_aabbMultiplier);box2d.b2_linearSlop=.008;goog.exportSymbol("box2d.b2_linearSlop",box2d.b2_linearSlop);box2d.b2_angularSlop=2/180*box2d.b2_pi;goog.exportSymbol("box2d.b2_angularSlop",box2d.b2_angularSlop);box2d.b2_polygonRadius=2*box2d.b2_linearSlop;goog.exportSymbol("box2d.b2_polygonRadius",box2d.b2_polygonRadius);box2d.b2_maxSubSteps=8;goog.exportSymbol("box2d.b2_maxSubSteps",box2d.b2_maxSubSteps);box2d.b2_maxTOIContacts=32;goog.exportSymbol("box2d.b2_maxTOIContacts",box2d.b2_maxTOIContacts);box2d.b2_velocityThreshold=1;goog.exportSymbol("box2d.b2_velocityThreshold",box2d.b2_velocityThreshold);box2d.b2_maxLinearCorrection=.2;goog.exportSymbol("box2d.b2_maxLinearCorrection",box2d.b2_maxLinearCorrection);box2d.b2_maxAngularCorrection=8/180*box2d.b2_pi;goog.exportSymbol("box2d.b2_maxAngularCorrection",box2d.b2_maxAngularCorrection);box2d.b2_maxTranslation=2;goog.exportSymbol("box2d.b2_maxTranslation",box2d.b2_maxTranslation);box2d.b2_maxTranslationSquared=box2d.b2_maxTranslation*box2d.b2_maxTranslation;goog.exportSymbol("box2d.b2_maxTranslationSquared",box2d.b2_maxTranslationSquared);box2d.b2_maxRotation=.5*box2d.b2_pi;goog.exportSymbol("box2d.b2_maxRotation",box2d.b2_maxRotation);box2d.b2_maxRotationSquared=box2d.b2_maxRotation*box2d.b2_maxRotation;goog.exportSymbol("box2d.b2_maxRotationSquared",box2d.b2_maxRotationSquared);box2d.b2_baumgarte=.2;goog.exportSymbol("box2d.b2_baumgarte",box2d.b2_baumgarte);box2d.b2_toiBaumgarte=.75;goog.exportSymbol("box2d.b2_toiBaumgarte",box2d.b2_toiBaumgarte);box2d.b2_invalidParticleIndex=-1;goog.exportSymbol("box2d.b2_invalidParticleIndex",box2d.b2_invalidParticleIndex);box2d.b2_maxParticleIndex=2147483647;goog.exportSymbol("box2d.b2_maxParticleIndex",box2d.b2_maxParticleIndex);box2d.b2_particleStride=.75;goog.exportSymbol("box2d.b2_particleStride",box2d.b2_particleStride);box2d.b2_minParticleWeight=1;goog.exportSymbol("box2d.b2_minParticleWeight",box2d.b2_minParticleWeight);box2d.b2_maxParticlePressure=.25;goog.exportSymbol("box2d.b2_maxParticlePressure",box2d.b2_maxParticlePressure);box2d.b2_maxParticleForce=.5;goog.exportSymbol("box2d.b2_maxParticleForce",box2d.b2_maxParticleForce);box2d.b2_maxTriadDistance=2;goog.exportSymbol("box2d.b2_maxTriadDistance",box2d.b2_maxTriadDistance);box2d.b2_maxTriadDistanceSquared=box2d.b2_maxTriadDistance*box2d.b2_maxTriadDistance;goog.exportSymbol("box2d.b2_maxTriadDistanceSquared",box2d.b2_maxTriadDistanceSquared);box2d.b2_minParticleSystemBufferCapacity=256;goog.exportSymbol("box2d.b2_minParticleSystemBufferCapacity",box2d.b2_minParticleSystemBufferCapacity);box2d.b2_barrierCollisionTime=2.5;goog.exportSymbol("box2d.b2_barrierCollisionTime",box2d.b2_barrierCollisionTime);box2d.b2_timeToSleep=.5;goog.exportSymbol("box2d.b2_timeToSleep",box2d.b2_timeToSleep);box2d.b2_linearSleepTolerance=.01;goog.exportSymbol("box2d.b2_linearSleepTolerance",box2d.b2_linearSleepTolerance);box2d.b2_angularSleepTolerance=2/180*box2d.b2_pi;goog.exportSymbol("box2d.b2_angularSleepTolerance",box2d.b2_angularSleepTolerance);box2d.b2Alloc=function(x){return null};goog.exportSymbol("box2d.b2Alloc",box2d.b2Alloc);box2d.b2Free=function(x){};goog.exportSymbol("box2d.b2Free",box2d.b2Free);box2d.b2Log=function(x){goog.global.console.log.apply(null,arguments)};goog.exportSymbol("box2d.b2Log",box2d.b2Log);box2d.b2Version=function(x,V,o){this.major=x||0,this.minor=V||0,this.revision=o||0};goog.exportSymbol("box2d.b2Version",box2d.b2Version);box2d.b2Version.prototype.major=0;goog.exportProperty(box2d.b2Version.prototype,"major",box2d.b2Version.prototype.major);box2d.b2Version.prototype.minor=0;goog.exportProperty(box2d.b2Version.prototype,"minor",box2d.b2Version.prototype.minor);box2d.b2Version.prototype.revision=0;goog.exportProperty(box2d.b2Version.prototype,"revision",box2d.b2Version.prototype.revision);box2d.b2Version.prototype.toString=function(){return this.major+"."+this.minor+"."+this.revision};goog.exportProperty(box2d.b2Version.prototype,"toString",box2d.b2Version.prototype.toString);box2d.b2_version=new box2d.b2Version(2,3,2);goog.exportSymbol("box2d.b2_version",box2d.b2_version);box2d.b2_changelist=313;goog.exportSymbol("box2d.b2_changelist",box2d.b2_changelist);box2d.b2ParseInt=function(x){return parseInt(x,10)};goog.exportSymbol("box2d.b2ParseInt",box2d.b2ParseInt);box2d.b2ParseUInt=function(x){return box2d.b2Abs(parseInt(x,10))};goog.exportSymbol("box2d.b2ParseUInt",box2d.b2ParseUInt);box2d.b2MakeArray=function(x,V){x=typeof x=="number"?x:0;var o=[];if(typeof V=="function")for(var _o=0;_o<x;++_o)o.push(V(_o));else for(_o=0;_o<x;++_o)o.push(null);return o};goog.exportSymbol("box2d.b2MakeArray",box2d.b2MakeArray);box2d.b2MakeNumberArray=function(x){return box2d.b2MakeArray(x,function(V){return 0})};goog.exportSymbol("box2d.b2MakeNumberArray",box2d.b2MakeNumberArray);box2d.b2ControllerEdge=function(){};goog.exportSymbol("box2d.b2ControllerEdge",box2d.b2ControllerEdge);box2d.b2ControllerEdge.prototype.controller=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"controller",box2d.b2ControllerEdge.prototype.controller);box2d.b2ControllerEdge.prototype.body=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"body",box2d.b2ControllerEdge.prototype.body);box2d.b2ControllerEdge.prototype.prevBody=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"prevBody",box2d.b2ControllerEdge.prototype.prevBody);box2d.b2ControllerEdge.prototype.nextBody=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"nextBody",box2d.b2ControllerEdge.prototype.nextBody);box2d.b2ControllerEdge.prototype.prevController=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"prevController",box2d.b2ControllerEdge.prototype.prevController);box2d.b2ControllerEdge.prototype.nextController=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"nextController",box2d.b2ControllerEdge.prototype.nextController);box2d.b2Controller=function(){};goog.exportSymbol("box2d.b2Controller",box2d.b2Controller);box2d.b2Controller.prototype.m_world=null;goog.exportProperty(box2d.b2Controller.prototype,"m_world",box2d.b2Controller.prototype.m_world);box2d.b2Controller.prototype.m_bodyList=null;goog.exportProperty(box2d.b2Controller.prototype,"m_bodyList",box2d.b2Controller.prototype.m_bodyList);box2d.b2Controller.prototype.m_bodyCount=0;goog.exportProperty(box2d.b2Controller.prototype,"m_bodyCount",box2d.b2Controller.prototype.m_bodyCount);box2d.b2Controller.prototype.m_prev=null;goog.exportProperty(box2d.b2Controller.prototype,"m_prev",box2d.b2Controller.prototype.m_prev);box2d.b2Controller.prototype.m_next=null;goog.exportProperty(box2d.b2Controller.prototype,"m_next",box2d.b2Controller.prototype.m_next);box2d.b2Controller.prototype.Step=function(x){};goog.exportProperty(box2d.b2Controller.prototype,"Step",box2d.b2Controller.prototype.Step);box2d.b2Controller.prototype.Draw=function(x){};goog.exportProperty(box2d.b2Controller.prototype,"Draw",box2d.b2Controller.prototype.Draw);box2d.b2Controller.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2Controller.prototype,"GetNext",box2d.b2Controller.prototype.GetNext);box2d.b2Controller.prototype.GetPrev=function(){return this.m_prev};goog.exportProperty(box2d.b2Controller.prototype,"GetPrev",box2d.b2Controller.prototype.GetPrev);box2d.b2Controller.prototype.GetWorld=function(){return this.m_world};goog.exportProperty(box2d.b2Controller.prototype,"GetWorld",box2d.b2Controller.prototype.GetWorld);box2d.b2Controller.prototype.GetBodyList=function(){return this.m_bodyList};goog.exportProperty(box2d.b2Controller.prototype,"GetBodyList",box2d.b2Controller.prototype.GetBodyList);box2d.b2Controller.prototype.AddBody=function(x){var V=new box2d.b2ControllerEdge;V.body=x,V.controller=this,V.nextBody=this.m_bodyList,V.prevBody=null,this.m_bodyList&&(this.m_bodyList.prevBody=V),this.m_bodyList=V,++this.m_bodyCount,V.nextController=x.m_controllerList,V.prevController=null,x.m_controllerList&&(x.m_controllerList.prevController=V),x.m_controllerList=V,++x.m_controllerCount};goog.exportProperty(box2d.b2Controller.prototype,"AddBody",box2d.b2Controller.prototype.AddBody);box2d.b2Controller.prototype.RemoveBody=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_bodyCount);for(var V=this.m_bodyList;V&&V.body!==x;)V=V.nextBody;box2d.ENABLE_ASSERTS&&box2d.b2Assert(V!==null),V.prevBody&&(V.prevBody.nextBody=V.nextBody),V.nextBody&&(V.nextBody.prevBody=V.prevBody),this.m_bodyList===V&&(this.m_bodyList=V.nextBody),--this.m_bodyCount,V.nextController&&(V.nextController.prevController=V.prevController),V.prevController&&(V.prevController.nextController=V.nextController),x.m_controllerList===V&&(x.m_controllerList=V.nextController),--x.m_controllerCount};goog.exportProperty(box2d.b2Controller.prototype,"RemoveBody",box2d.b2Controller.prototype.RemoveBody);box2d.b2Controller.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body);this.m_bodyCount=0};goog.exportProperty(box2d.b2Controller.prototype,"Clear",box2d.b2Controller.prototype.Clear);box2d.b2Color=function(x,V,o,_o){this.r=x,this.g=V,this.b=o,this.a=typeof _o=="number"?_o:1};goog.exportSymbol("box2d.b2Color",box2d.b2Color);box2d.b2Color.prototype.r=.5;goog.exportProperty(box2d.b2Color.prototype,"r",box2d.b2Color.prototype.r);box2d.b2Color.prototype.g=.5;goog.exportProperty(box2d.b2Color.prototype,"g",box2d.b2Color.prototype.g);box2d.b2Color.prototype.b=.5;goog.exportProperty(box2d.b2Color.prototype,"b",box2d.b2Color.prototype.b);box2d.b2Color.prototype.a=1;goog.exportProperty(box2d.b2Color.prototype,"a",box2d.b2Color.prototype.a);box2d.b2Color.prototype.SetRGB=function(x,V,o){return this.r=x,this.g=V,this.b=o,this};goog.exportProperty(box2d.b2Color.prototype,"SetRGB",box2d.b2Color.prototype.SetRGB);box2d.b2Color.prototype.MakeStyleString=function(x){var V=Math.round(Math.max(0,Math.min(255,255*this.r))),o=Math.round(Math.max(0,Math.min(255,255*this.g))),_o=Math.round(Math.max(0,Math.min(255,255*this.b)));return x=typeof x>"u"?this.a:Math.max(0,Math.min(1,x)),box2d.b2Color.MakeStyleString(V,o,_o,x)};goog.exportProperty(box2d.b2Color.prototype,"MakeStyleString",box2d.b2Color.prototype.MakeStyleString);box2d.b2Color.MakeStyleString=function(x,V,o,_o){return 1>_o?"rgba("+x+","+V+","+o+","+_o+")":"rgb("+x+","+V+","+o+")"};goog.exportProperty(box2d.b2Color,"MakeStyleString",box2d.b2Color.MakeStyleString);box2d.b2Color.RED=new box2d.b2Color(1,0,0);goog.exportProperty(box2d.b2Color,"RED",box2d.b2Color.RED);box2d.b2Color.GREEN=new box2d.b2Color(0,1,0);goog.exportProperty(box2d.b2Color,"GREEN",box2d.b2Color.GREEN);box2d.b2Color.BLUE=new box2d.b2Color(0,0,1);goog.exportProperty(box2d.b2Color,"BLUE",box2d.b2Color.BLUE);box2d.b2DrawFlags={e_none:0,e_shapeBit:1,e_jointBit:2,e_aabbBit:4,e_pairBit:8,e_centerOfMassBit:16,e_controllerBit:32,e_particleBit:64,e_all:65535};goog.exportSymbol("box2d.b2DrawFlags",box2d.b2DrawFlags);goog.exportProperty(box2d.b2DrawFlags,"e_none",box2d.b2DrawFlags.e_none);goog.exportProperty(box2d.b2DrawFlags,"e_shapeBit",box2d.b2DrawFlags.e_shapeBit);goog.exportProperty(box2d.b2DrawFlags,"e_jointBit",box2d.b2DrawFlags.e_jointBit);goog.exportProperty(box2d.b2DrawFlags,"e_aabbBit",box2d.b2DrawFlags.e_aabbBit);goog.exportProperty(box2d.b2DrawFlags,"e_pairBit",box2d.b2DrawFlags.e_pairBit);goog.exportProperty(box2d.b2DrawFlags,"e_centerOfMassBit",box2d.b2DrawFlags.e_centerOfMassBit);goog.exportProperty(box2d.b2DrawFlags,"e_controllerBit",box2d.b2DrawFlags.e_controllerBit);goog.exportProperty(box2d.b2DrawFlags,"e_particleBit",box2d.b2DrawFlags.e_particleBit);goog.exportProperty(box2d.b2DrawFlags,"e_all",box2d.b2DrawFlags.e_all);box2d.b2Draw=function(){};goog.exportSymbol("box2d.b2Draw",box2d.b2Draw);box2d.b2Draw.prototype.m_drawFlags=box2d.b2DrawFlags.e_none;goog.exportProperty(box2d.b2Draw.prototype,"m_drawFlags",box2d.b2Draw.prototype.m_drawFlags);box2d.b2Draw.prototype.SetFlags=function(x){this.m_drawFlags=x};goog.exportProperty(box2d.b2Draw.prototype,"SetFlags",box2d.b2Draw.prototype.SetFlags);box2d.b2Draw.prototype.GetFlags=function(){return this.m_drawFlags};goog.exportProperty(box2d.b2Draw.prototype,"GetFlags",box2d.b2Draw.prototype.GetFlags);box2d.b2Draw.prototype.AppendFlags=function(x){this.m_drawFlags|=x};goog.exportProperty(box2d.b2Draw.prototype,"AppendFlags",box2d.b2Draw.prototype.AppendFlags);box2d.b2Draw.prototype.ClearFlags=function(x){this.m_drawFlags&=~x};goog.exportProperty(box2d.b2Draw.prototype,"ClearFlags",box2d.b2Draw.prototype.ClearFlags);box2d.b2Draw.prototype.PushTransform=function(x){};goog.exportProperty(box2d.b2Draw.prototype,"PushTransform",box2d.b2Draw.prototype.PushTransform);box2d.b2Draw.prototype.PopTransform=function(x){};goog.exportProperty(box2d.b2Draw.prototype,"PopTransform",box2d.b2Draw.prototype.PopTransform);box2d.b2Draw.prototype.DrawPolygon=function(x,V,o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawPolygon",box2d.b2Draw.prototype.DrawPolygon);box2d.b2Draw.prototype.DrawSolidPolygon=function(x,V,o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawSolidPolygon",box2d.b2Draw.prototype.DrawSolidPolygon);box2d.b2Draw.prototype.DrawCircle=function(x,V,o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawCircle",box2d.b2Draw.prototype.DrawCircle);box2d.b2Draw.prototype.DrawSolidCircle=function(x,V,o,_o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawSolidCircle",box2d.b2Draw.prototype.DrawSolidCircle);box2d.b2Draw.prototype.DrawParticles=function(x,V,o,_o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawParticles",box2d.b2Draw.prototype.DrawParticles);box2d.b2Draw.prototype.DrawSegment=function(x,V,o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawSegment",box2d.b2Draw.prototype.DrawSegment);box2d.b2Draw.prototype.DrawTransform=function(x){};goog.exportProperty(box2d.b2Draw.prototype,"DrawTransform",box2d.b2Draw.prototype.DrawTransform);box2d.b2GrowableStack=function(x){this.m_stack=Array(x)};goog.exportSymbol("box2d.b2GrowableStack",box2d.b2GrowableStack);box2d.b2GrowableStack.prototype.m_stack=null;goog.exportProperty(box2d.b2GrowableStack.prototype,"m_stack",box2d.b2GrowableStack.prototype.m_stack);box2d.b2GrowableStack.prototype.m_count=0;goog.exportProperty(box2d.b2GrowableStack.prototype,"m_count",box2d.b2GrowableStack.prototype.m_count);box2d.b2GrowableStack.prototype.Reset=function(){return this.m_count=0,this};goog.exportProperty(box2d.b2GrowableStack.prototype,"Reset",box2d.b2GrowableStack.prototype.Reset);box2d.b2GrowableStack.prototype.Push=function(x){this.m_stack[this.m_count]=x,++this.m_count};goog.exportProperty(box2d.b2GrowableStack.prototype,"Push",box2d.b2GrowableStack.prototype.Push);box2d.b2GrowableStack.prototype.Pop=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_count),--this.m_count;var x=this.m_stack[this.m_count];return this.m_stack[this.m_count]=null,x};goog.exportProperty(box2d.b2GrowableStack.prototype,"Pop",box2d.b2GrowableStack.prototype.Pop);box2d.b2GrowableStack.prototype.GetCount=function(){return this.m_count};goog.exportProperty(box2d.b2GrowableStack.prototype,"GetCount",box2d.b2GrowableStack.prototype.GetCount);box2d.b2Math={};box2d.b2_pi_over_180=box2d.b2_pi/180;goog.exportSymbol("box2d.b2_pi_over_180",box2d.b2_pi_over_180);box2d.b2_180_over_pi=180/box2d.b2_pi;goog.exportSymbol("box2d.b2_180_over_pi",box2d.b2_180_over_pi);box2d.b2_two_pi=2*box2d.b2_pi;goog.exportSymbol("box2d.b2_two_pi",box2d.b2_two_pi);box2d.b2Abs=Math.abs;goog.exportSymbol("box2d.b2Abs",box2d.b2Abs);box2d.b2Min=Math.min;goog.exportSymbol("box2d.b2Min",box2d.b2Min);box2d.b2Max=Math.max;goog.exportSymbol("box2d.b2Max",box2d.b2Max);box2d.b2Clamp=function(x,V,o){return Math.min(Math.max(x,V),o)};goog.exportSymbol("box2d.b2Clamp",box2d.b2Clamp);box2d.b2Wrap=function(x,V,o){return V<o?x<V?o-(V-x)%(o-V):V+(x-V)%(o-V):V===o?V:x};goog.exportSymbol("box2d.b2Wrap",box2d.b2Wrap);box2d.b2WrapAngle=function(x){return 0>x?(x-box2d.b2_pi)%box2d.b2_two_pi+box2d.b2_pi:(x+box2d.b2_pi)%box2d.b2_two_pi-box2d.b2_pi};goog.exportSymbol("box2d.b2WrapAngle",box2d.b2WrapAngle);box2d.b2Swap=function(x,V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1);var o=x[0];x[0]=V[0],V[0]=o};goog.exportSymbol("box2d.b2Swap",box2d.b2Swap);box2d.b2IsValid=function(x){return isFinite(x)};goog.exportSymbol("box2d.b2IsValid",box2d.b2IsValid);box2d.b2Sq=function(x){return x*x};goog.exportSymbol("box2d.b2Sq",box2d.b2Sq);box2d.b2InvSqrt=function(x){return 1/Math.sqrt(x)};goog.exportSymbol("box2d.b2InvSqrt",box2d.b2InvSqrt);box2d.b2Sqrt=function(x){return Math.sqrt(x)};goog.exportSymbol("box2d.b2Sqrt",box2d.b2Sqrt);box2d.b2Pow=function(x,V){return Math.pow(x,V)};goog.exportSymbol("box2d.b2Pow",box2d.b2Pow);box2d.b2DegToRad=function(x){return x*box2d.b2_pi_over_180};goog.exportSymbol("box2d.b2DegToRad",box2d.b2DegToRad);box2d.b2RadToDeg=function(x){return x*box2d.b2_180_over_pi};goog.exportSymbol("box2d.b2RadToDeg",box2d.b2RadToDeg);box2d.b2Cos=function(x){return Math.cos(x)};goog.exportSymbol("box2d.b2Cos",box2d.b2Cos);box2d.b2Sin=function(x){return Math.sin(x)};goog.exportSymbol("box2d.b2Sin",box2d.b2Sin);box2d.b2Acos=function(x){return Math.acos(x)};goog.exportSymbol("box2d.b2Acos",box2d.b2Acos);box2d.b2Asin=function(x){return Math.asin(x)};goog.exportSymbol("box2d.b2Asin",box2d.b2Asin);box2d.b2Atan2=function(x,V){return Math.atan2(x,V)};goog.exportSymbol("box2d.b2Atan2",box2d.b2Atan2);box2d.b2NextPowerOfTwo=function(x){return x|=x>>1&2147483647,x|=x>>2&1073741823,x|=x>>4&268435455,x|=x>>8&16777215,(x|x>>16&65535)+1};goog.exportSymbol("box2d.b2NextPowerOfTwo",box2d.b2NextPowerOfTwo);box2d.b2IsPowerOfTwo=function(x){return 0<x&&(x&x-1)===0};goog.exportSymbol("box2d.b2IsPowerOfTwo",box2d.b2IsPowerOfTwo);box2d.b2Random=function(){return 2*Math.random()-1};goog.exportSymbol("box2d.b2Random",box2d.b2Random);box2d.b2RandomRange=function(x,V){return(V-x)*Math.random()+x};goog.exportSymbol("box2d.b2RandomRange",box2d.b2RandomRange);box2d.b2Vec2=function(x,V){this.x=x||0,this.y=V||0};goog.exportSymbol("box2d.b2Vec2",box2d.b2Vec2);box2d.b2Vec2.prototype.x=0;goog.exportProperty(box2d.b2Vec2.prototype,"x",box2d.b2Vec2.prototype.x);box2d.b2Vec2.prototype.y=0;goog.exportProperty(box2d.b2Vec2.prototype,"y",box2d.b2Vec2.prototype.y);box2d.b2Vec2_zero=new box2d.b2Vec2;goog.exportSymbol("box2d.b2Vec2_zero",box2d.b2Vec2_zero);box2d.b2Vec2.ZERO=new box2d.b2Vec2;goog.exportProperty(box2d.b2Vec2,"ZERO",box2d.b2Vec2.ZERO);box2d.b2Vec2.UNITX=new box2d.b2Vec2(1,0);goog.exportProperty(box2d.b2Vec2,"UNITX",box2d.b2Vec2.UNITX);box2d.b2Vec2.UNITY=new box2d.b2Vec2(0,1);goog.exportProperty(box2d.b2Vec2,"UNITY",box2d.b2Vec2.UNITY);box2d.b2Vec2.s_t0=new box2d.b2Vec2;goog.exportProperty(box2d.b2Vec2,"s_t0",box2d.b2Vec2.s_t0);box2d.b2Vec2.s_t1=new box2d.b2Vec2;goog.exportProperty(box2d.b2Vec2,"s_t1",box2d.b2Vec2.s_t1);box2d.b2Vec2.s_t2=new box2d.b2Vec2;goog.exportProperty(box2d.b2Vec2,"s_t2",box2d.b2Vec2.s_t2);box2d.b2Vec2.s_t3=new box2d.b2Vec2;goog.exportProperty(box2d.b2Vec2,"s_t3",box2d.b2Vec2.s_t3);box2d.b2Vec2.MakeArray=function(x){return box2d.b2MakeArray(x,function(V){return new box2d.b2Vec2})};goog.exportProperty(box2d.b2Vec2,"MakeArray",box2d.b2Vec2.MakeArray);box2d.b2Vec2.prototype.Clone=function(){return new box2d.b2Vec2(this.x,this.y)};goog.exportProperty(box2d.b2Vec2.prototype,"Clone",box2d.b2Vec2.prototype.Clone);box2d.b2Vec2.prototype.SetZero=function(){return this.y=this.x=0,this};goog.exportProperty(box2d.b2Vec2.prototype,"SetZero",box2d.b2Vec2.prototype.SetZero);box2d.b2Vec2.prototype.Set=function(x,V){return this.x=x,this.y=V,this};goog.exportProperty(box2d.b2Vec2.prototype,"Set",box2d.b2Vec2.prototype.Set);box2d.b2Vec2.prototype.Copy=function(x){return this.x=x.x,this.y=x.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"Copy",box2d.b2Vec2.prototype.Copy);box2d.b2Vec2.prototype.SelfAdd=function(x){return this.x+=x.x,this.y+=x.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfAdd",box2d.b2Vec2.prototype.SelfAdd);box2d.b2Vec2.prototype.SelfAddXY=function(x,V){return this.x+=x,this.y+=V,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfAddXY",box2d.b2Vec2.prototype.SelfAddXY);box2d.b2Vec2.prototype.SelfSub=function(x){return this.x-=x.x,this.y-=x.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfSub",box2d.b2Vec2.prototype.SelfSub);box2d.b2Vec2.prototype.SelfSubXY=function(x,V){return this.x-=x,this.y-=V,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfSubXY",box2d.b2Vec2.prototype.SelfSubXY);box2d.b2Vec2.prototype.SelfMul=function(x){return this.x*=x,this.y*=x,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfMul",box2d.b2Vec2.prototype.SelfMul);box2d.b2Vec2.prototype.SelfMulAdd=function(x,V){return this.x+=x*V.x,this.y+=x*V.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfMulAdd",box2d.b2Vec2.prototype.SelfMulAdd);box2d.b2Vec2.prototype.SelfMulSub=function(x,V){return this.x-=x*V.x,this.y-=x*V.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfMulSub",box2d.b2Vec2.prototype.SelfMulSub);box2d.b2Vec2.prototype.Dot=function(x){return this.x*x.x+this.y*x.y};goog.exportProperty(box2d.b2Vec2.prototype,"Dot",box2d.b2Vec2.prototype.Dot);box2d.b2Vec2.prototype.Cross=function(x){return this.x*x.y-this.y*x.x};goog.exportProperty(box2d.b2Vec2.prototype,"Cross",box2d.b2Vec2.prototype.Cross);box2d.b2Vec2.prototype.Length=function(){var x=this.x,V=this.y;return Math.sqrt(x*x+V*V)};goog.exportProperty(box2d.b2Vec2.prototype,"Length",box2d.b2Vec2.prototype.Length);box2d.b2Vec2.prototype.LengthSquared=function(){var x=this.x,V=this.y;return x*x+V*V};goog.exportProperty(box2d.b2Vec2.prototype,"LengthSquared",box2d.b2Vec2.prototype.LengthSquared);box2d.b2Vec2.prototype.Normalize=function(){var x=this.Length();if(x>=box2d.b2_epsilon){var V=1/x;this.x*=V,this.y*=V}return x};goog.exportProperty(box2d.b2Vec2.prototype,"Normalize",box2d.b2Vec2.prototype.Normalize);box2d.b2Vec2.prototype.SelfNormalize=function(){return this.Normalize(),this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfNormalize",box2d.b2Vec2.prototype.SelfNormalize);box2d.b2Vec2.prototype.SelfRotate=function(x,V){var o=this.x,_o=this.y;return this.x=x*o-V*_o,this.y=V*o+x*_o,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfRotate",box2d.b2Vec2.prototype.SelfRotate);box2d.b2Vec2.prototype.SelfRotateAngle=function(x){return this.SelfRotate(Math.cos(x),Math.sin(x))};goog.exportProperty(box2d.b2Vec2.prototype,"SelfRotateAngle",box2d.b2Vec2.prototype.SelfRotateAngle);box2d.b2Vec2.prototype.IsValid=function(){return isFinite(this.x)&&isFinite(this.y)};goog.exportProperty(box2d.b2Vec2.prototype,"IsValid",box2d.b2Vec2.prototype.IsValid);box2d.b2Vec2.prototype.SelfMin=function(x){return this.x=Math.min(this.x,x.x),this.y=Math.min(this.y,x.y),this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfMin",box2d.b2Vec2.prototype.SelfMin);box2d.b2Vec2.prototype.SelfMax=function(x){return this.x=Math.max(this.x,x.x),this.y=Math.max(this.y,x.y),this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfMax",box2d.b2Vec2.prototype.SelfMax);box2d.b2Vec2.prototype.SelfAbs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfAbs",box2d.b2Vec2.prototype.SelfAbs);box2d.b2Vec2.prototype.SelfNeg=function(){return this.x=-this.x,this.y=-this.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfNeg",box2d.b2Vec2.prototype.SelfNeg);box2d.b2Vec2.prototype.SelfSkew=function(){var x=this.x;return this.x=-this.y,this.y=x,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfSkew",box2d.b2Vec2.prototype.SelfSkew);box2d.b2Abs_V2=function(x,V){return V.x=Math.abs(x.x),V.y=Math.abs(x.y),V};goog.exportSymbol("box2d.b2Abs_V2",box2d.b2Abs_V2);box2d.b2Min_V2_V2=function(x,V,o){return o.x=Math.min(x.x,V.x),o.y=Math.min(x.y,V.y),o};goog.exportSymbol("box2d.b2Min_V2_V2",box2d.b2Min_V2_V2);box2d.b2Max_V2_V2=function(x,V,o){return o.x=Math.max(x.x,V.x),o.y=Math.max(x.y,V.y),o};goog.exportSymbol("box2d.b2Max_V2_V2",box2d.b2Max_V2_V2);box2d.b2Clamp_V2_V2_V2=function(x,V,o,_o){return _o.x=Math.min(Math.max(x.x,V.x),o.x),_o.y=Math.min(Math.max(x.y,V.y),o.y),_o};goog.exportSymbol("box2d.b2Clamp_V2_V2_V2",box2d.b2Clamp_V2_V2_V2);box2d.b2Dot_V2_V2=function(x,V){return x.x*V.x+x.y*V.y};goog.exportSymbol("box2d.b2Dot_V2_V2",box2d.b2Dot_V2_V2);box2d.b2Cross_V2_V2=function(x,V){return x.x*V.y-x.y*V.x};goog.exportSymbol("box2d.b2Cross_V2_V2",box2d.b2Cross_V2_V2);box2d.b2Cross_V2_S=function(x,V,o){var _o=x.x;return o.x=V*x.y,o.y=-V*_o,o};goog.exportSymbol("box2d.b2Cross_V2_S",box2d.b2Cross_V2_S);box2d.b2Cross_S_V2=function(x,V,o){var _o=V.x;return o.x=-x*V.y,o.y=x*_o,o};goog.exportSymbol("box2d.b2Cross_S_V2",box2d.b2Cross_S_V2);box2d.b2Add_V2_V2=function(x,V,o){return o.x=x.x+V.x,o.y=x.y+V.y,o};goog.exportSymbol("box2d.b2Add_V2_V2",box2d.b2Add_V2_V2);box2d.b2Sub_V2_V2=function(x,V,o){return o.x=x.x-V.x,o.y=x.y-V.y,o};goog.exportSymbol("box2d.b2Sub_V2_V2",box2d.b2Sub_V2_V2);box2d.b2Add_V2_S=function(x,V,o){return o.x=x.x+V,o.y=x.y+V,o};goog.exportSymbol("box2d.b2Add_V2_S",box2d.b2Add_V2_S);box2d.b2Sub_V2_S=function(x,V,o){return o.x=x.x-V,o.y=x.y-V,o};goog.exportSymbol("box2d.b2Sub_V2_S",box2d.b2Sub_V2_S);box2d.b2Mul_S_V2=function(x,V,o){return o.x=V.x*x,o.y=V.y*x,o};goog.exportSymbol("box2d.b2Mul_S_V2",box2d.b2Mul_S_V2);box2d.b2Mul_V2_S=function(x,V,o){return o.x=x.x*V,o.y=x.y*V,o};goog.exportSymbol("box2d.b2Mul_V2_S",box2d.b2Mul_V2_S);box2d.b2Div_V2_S=function(x,V,o){return o.x=x.x/V,o.y=x.y/V,o};goog.exportSymbol("box2d.b2Div_V2_S",box2d.b2Div_V2_S);box2d.b2AddMul_V2_S_V2=function(x,V,o,_o){return _o.x=x.x+V*o.x,_o.y=x.y+V*o.y,_o};goog.exportSymbol("box2d.b2AddMul_V2_S_V2",box2d.b2AddMul_V2_S_V2);box2d.b2SubMul_V2_S_V2=function(x,V,o,_o){return _o.x=x.x-V*o.x,_o.y=x.y-V*o.y,_o};goog.exportSymbol("box2d.b2SubMul_V2_S_V2",box2d.b2SubMul_V2_S_V2);box2d.b2AddCross_V2_S_V2=function(x,V,o,_o){var _r=o.x;return _o.x=x.x-V*o.y,_o.y=x.y+V*_r,_o};goog.exportSymbol("box2d.b2AddCross_V2_S_V2",box2d.b2AddCross_V2_S_V2);box2d.b2Mid_V2_V2=function(x,V,o){return o.x=.5*(x.x+V.x),o.y=.5*(x.y+V.y),o};goog.exportSymbol("box2d.b2Mid_V2_V2",box2d.b2Mid_V2_V2);box2d.b2Ext_V2_V2=function(x,V,o){return o.x=.5*(V.x-x.x),o.y=.5*(V.y-x.y),o};goog.exportSymbol("box2d.b2Ext_V2_V2",box2d.b2Ext_V2_V2);box2d.b2Distance=function(x,V){var o=x.x-V.x,_o=x.y-V.y;return Math.sqrt(o*o+_o*_o)};goog.exportSymbol("box2d.b2Distance",box2d.b2Distance);box2d.b2DistanceSquared=function(x,V){var o=x.x-V.x,_o=x.y-V.y;return o*o+_o*_o};goog.exportSymbol("box2d.b2DistanceSquared",box2d.b2DistanceSquared);box2d.b2Vec3=function(x,V,o){this.x=x||0,this.y=V||0,this.z=o||0};goog.exportSymbol("box2d.b2Vec3",box2d.b2Vec3);box2d.b2Vec3.prototype.x=0;goog.exportProperty(box2d.b2Vec3.prototype,"x",box2d.b2Vec3.prototype.x);box2d.b2Vec3.prototype.y=0;goog.exportProperty(box2d.b2Vec3.prototype,"y",box2d.b2Vec3.prototype.y);box2d.b2Vec3.prototype.z=0;goog.exportProperty(box2d.b2Vec3.prototype,"z",box2d.b2Vec3.prototype.z);box2d.b2Vec3.ZERO=new box2d.b2Vec3;goog.exportProperty(box2d.b2Vec3,"ZERO",box2d.b2Vec3.ZERO);box2d.b2Vec3.s_t0=new box2d.b2Vec3;goog.exportProperty(box2d.b2Vec3,"s_t0",box2d.b2Vec3.s_t0);box2d.b2Vec3.prototype.Clone=function(){return new box2d.b2Vec3(this.x,this.y,this.z)};goog.exportProperty(box2d.b2Vec3.prototype,"Clone",box2d.b2Vec3.prototype.Clone);box2d.b2Vec3.prototype.SetZero=function(){return this.z=this.y=this.x=0,this};goog.exportProperty(box2d.b2Vec3.prototype,"SetZero",box2d.b2Vec3.prototype.SetZero);box2d.b2Vec3.prototype.Set=function(x,V,o){return this.x=x,this.y=V,this.z=o,this};goog.exportProperty(box2d.b2Vec3.prototype,"Set",box2d.b2Vec3.prototype.Set);box2d.b2Vec3.prototype.Copy=function(x){return this.x=x.x,this.y=x.y,this.z=x.z,this};goog.exportProperty(box2d.b2Vec3.prototype,"Copy",box2d.b2Vec3.prototype.Copy);box2d.b2Vec3.prototype.SelfNeg=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfNeg",box2d.b2Vec3.prototype.SelfNeg);box2d.b2Vec3.prototype.SelfAdd=function(x){return this.x+=x.x,this.y+=x.y,this.z+=x.z,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfAdd",box2d.b2Vec3.prototype.SelfAdd);box2d.b2Vec3.prototype.SelfAddV2=function(x,V){return this.x+=x.x,this.y+=x.y,this.z+=V,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfAddV2",box2d.b2Vec3.prototype.SelfAddV2);box2d.b2Vec3.prototype.SelfAddXYZ=function(x,V,o){return this.x+=x,this.y+=V,this.z+=o,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfAddXYZ",box2d.b2Vec3.prototype.SelfAddXYZ);box2d.b2Vec3.prototype.SelfSub=function(x){return this.x-=x.x,this.y-=x.y,this.z-=x.z,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfSub",box2d.b2Vec3.prototype.SelfSub);box2d.b2Vec3.prototype.SelfSubV2=function(x,V){return this.x-=x.x,this.y-=x.y,this.z-=V,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfSubV2",box2d.b2Vec3.prototype.SelfSubV2);box2d.b2Vec3.prototype.SelfSubXYZ=function(x,V,o){return this.x-=x,this.y-=V,this.z-=o,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfSubXYZ",box2d.b2Vec3.prototype.SelfSubXYZ);box2d.b2Vec3.prototype.SelfMul=function(x){return this.x*=x.x,this.y*=x.y,this.z*=x.z,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfMul",box2d.b2Vec3.prototype.SelfMul);box2d.b2Vec3.prototype.SelfMulV2=function(x,V){return this.x*=x.x,this.y*=x.y,this.z*=V,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfMulV2",box2d.b2Vec3.prototype.SelfMulV2);box2d.b2Vec3.prototype.SelfMulXYZ=function(x,V,o){return this.x*=x,this.y*=V,this.z*=o,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfMulXYZ",box2d.b2Vec3.prototype.SelfMulXYZ);box2d.b2Vec3.prototype.SelfMulScalar=function(x){return this.x*=x,this.y*=x,this.z*=x,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfMulScalar",box2d.b2Vec3.prototype.SelfMulScalar);box2d.b2Vec3.prototype.Length=function(){var x=this.x,V=this.y,o=this.z;return Math.sqrt(x*x+V*V+o*o)};goog.exportProperty(box2d.b2Vec3.prototype,"Length",box2d.b2Vec3.prototype.Length);box2d.b2Vec3.prototype.LengthSquared=function(){var x=this.x,V=this.y,o=this.z;return x*x+V*V+o*o};goog.exportProperty(box2d.b2Vec3.prototype,"LengthSquared",box2d.b2Vec3.prototype.LengthSquared);box2d.b2Vec3.prototype.Normalize=function(){var x=this.Length();if(x>=box2d.b2_epsilon){var V=1/x;this.x*=V,this.y*=V,this.z*=V}return x};goog.exportProperty(box2d.b2Vec3.prototype,"Normalize",box2d.b2Vec3.prototype.Normalize);box2d.b2Vec3.prototype.SelfNormalize=function(){return this.Normalize(),this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfNormalize",box2d.b2Vec3.prototype.SelfNormalize);box2d.b2Add_V3_V3=function(x,V,o){return o.x=x.x+V.x,o.y=x.y+V.y,o.z=x.z+V.z,o};goog.exportSymbol("box2d.b2Add_V3_V3",box2d.b2Add_V3_V3);box2d.b2Sub_V3_V3=function(x,V,o){return o.x=x.x+V.x,o.y=x.y+V.y,o.z=x.z+V.z,o};goog.exportSymbol("box2d.b2Sub_V3_V3",box2d.b2Sub_V3_V3);box2d.b2Dot_V3_V3=function(x,V){return x.x*V.x+x.y*V.y+x.z*V.z};goog.exportSymbol("box2d.b2Dot_V3_V3",box2d.b2Dot_V3_V3);box2d.b2Cross_V3_V3=function(x,V,o){var _o=x.x,_r=x.y;x=x.z;var l=V.x,e_=V.y;return V=V.z,o.x=_r*V-x*e_,o.y=x*l-_o*V,o.z=_o*e_-_r*l,o};goog.exportSymbol("box2d.b2Cross_V3_V3",box2d.b2Cross_V3_V3);box2d.b2Vec4=function(x,V,o,_o){this.x=x||0,this.y=V||0,this.z=o||0,this.w=_o||0};goog.exportSymbol("box2d.b2Vec4",box2d.b2Vec4);box2d.b2Vec4.prototype.x=0;goog.exportProperty(box2d.b2Vec4.prototype,"x",box2d.b2Vec4.prototype.x);box2d.b2Vec4.prototype.y=0;goog.exportProperty(box2d.b2Vec4.prototype,"y",box2d.b2Vec4.prototype.y);box2d.b2Vec4.prototype.z=0;goog.exportProperty(box2d.b2Vec4.prototype,"z",box2d.b2Vec4.prototype.z);box2d.b2Vec4.prototype.w=0;goog.exportProperty(box2d.b2Vec4.prototype,"w",box2d.b2Vec4.prototype.w);box2d.b2Vec4.ZERO=new box2d.b2Vec4(0,0,0,0);goog.exportProperty(box2d.b2Vec4,"ZERO",box2d.b2Vec4.ZERO);box2d.b2Vec4.s_t0=new box2d.b2Vec4;goog.exportProperty(box2d.b2Vec4,"s_t0",box2d.b2Vec4.s_t0);box2d.b2Vec4.prototype.Clone=function(){return new box2d.b2Vec4(this.x,this.y,this.z,this.w)};goog.exportProperty(box2d.b2Vec4.prototype,"Clone",box2d.b2Vec4.prototype.Clone);box2d.b2Vec4.prototype.SetZero=function(){return this.w=this.z=this.y=this.x=0,this};goog.exportProperty(box2d.b2Vec4.prototype,"SetZero",box2d.b2Vec4.prototype.SetZero);box2d.b2Vec4.prototype.Set=function(x,V,o,_o){return this.x=x,this.y=V,this.z=o,this.w=_o,this};goog.exportProperty(box2d.b2Vec4.prototype,"Set",box2d.b2Vec4.prototype.Set);box2d.b2Vec4.prototype.Copy=function(x){return this.x=x.x,this.y=x.y,this.z=x.z,this.w=x.w,this};goog.exportProperty(box2d.b2Vec4.prototype,"Copy",box2d.b2Vec4.prototype.Copy);box2d.b2Mat22=function(){this.ex=new box2d.b2Vec2(1,0),this.ey=new box2d.b2Vec2(0,1)};goog.exportSymbol("box2d.b2Mat22",box2d.b2Mat22);box2d.b2Mat22.prototype.ex=null;goog.exportProperty(box2d.b2Mat22.prototype,"ex",box2d.b2Mat22.prototype.ex);box2d.b2Mat22.prototype.ey=null;goog.exportProperty(box2d.b2Mat22.prototype,"ey",box2d.b2Mat22.prototype.ey);box2d.b2Mat22.IDENTITY=new box2d.b2Mat22;goog.exportProperty(box2d.b2Mat22,"IDENTITY",box2d.b2Mat22.IDENTITY);box2d.b2Mat22.prototype.Clone=function(){return new box2d.b2Mat22().Copy(this)};goog.exportProperty(box2d.b2Mat22.prototype,"Clone",box2d.b2Mat22.prototype.Clone);box2d.b2Mat22.prototype.SetAngle=function(x){var V=Math.cos(x);return x=Math.sin(x),this.ex.Set(V,x),this.ey.Set(-x,V),this};goog.exportProperty(box2d.b2Mat22.prototype,"SetAngle",box2d.b2Mat22.prototype.SetAngle);box2d.b2Mat22.prototype.Copy=function(x){return this.ex.Copy(x.ex),this.ey.Copy(x.ey),this};goog.exportProperty(box2d.b2Mat22.prototype,"Copy",box2d.b2Mat22.prototype.Copy);box2d.b2Mat22.prototype.SetIdentity=function(){return this.ex.Set(1,0),this.ey.Set(0,1),this};goog.exportProperty(box2d.b2Mat22.prototype,"SetIdentity",box2d.b2Mat22.prototype.SetIdentity);box2d.b2Mat22.prototype.SetZero=function(){return this.ex.SetZero(),this.ey.SetZero(),this};goog.exportProperty(box2d.b2Mat22.prototype,"SetZero",box2d.b2Mat22.prototype.SetZero);box2d.b2Mat22.prototype.GetAngle=function(){return Math.atan2(this.ex.y,this.ex.x)};goog.exportProperty(box2d.b2Mat22.prototype,"GetAngle",box2d.b2Mat22.prototype.GetAngle);box2d.b2Mat22.prototype.GetInverse=function(x){var V=this.ex.x,o=this.ey.x,_o=this.ex.y,_r=this.ey.y,l=V*_r-o*_o;return l!==0&&(l=1/l),x.ex.x=l*_r,x.ey.x=-l*o,x.ex.y=-l*_o,x.ey.y=l*V,x};goog.exportProperty(box2d.b2Mat22.prototype,"GetInverse",box2d.b2Mat22.prototype.GetInverse);box2d.b2Mat22.prototype.Solve=function(x,V,o){var _o=this.ex.x,_r=this.ey.x,l=this.ex.y,e_=this.ey.y,o_=_o*e_-_r*l;return o_!==0&&(o_=1/o_),o.x=o_*(e_*x-_r*V),o.y=o_*(_o*V-l*x),o};goog.exportProperty(box2d.b2Mat22.prototype,"Solve",box2d.b2Mat22.prototype.Solve);box2d.b2Mat22.prototype.SelfAbs=function(){return this.ex.SelfAbs(),this.ey.SelfAbs(),this};goog.exportProperty(box2d.b2Mat22.prototype,"SelfAbs",box2d.b2Mat22.prototype.SelfAbs);box2d.b2Mat22.prototype.SelfInv=function(){return this.GetInverse(this)};goog.exportProperty(box2d.b2Mat22.prototype,"SelfInv",box2d.b2Mat22.prototype.SelfInv);box2d.b2Mat22.prototype.SelfAdd=function(x){return this.ex.SelfAdd(x.ex),this.ey.SelfAdd(x.ey),this};goog.exportProperty(box2d.b2Mat22.prototype,"SelfAdd",box2d.b2Mat22.prototype.SelfAdd);box2d.b2Mat22.prototype.SelfSub=function(x){return this.ex.SelfSub(x.ex),this.ey.SelfSub(x.ey),this};goog.exportProperty(box2d.b2Mat22.prototype,"SelfSub",box2d.b2Mat22.prototype.SelfSub);box2d.b2Abs_M22=function(x,V){var o=x.ex,_o=x.ey;return V.ex.x=box2d.b2Abs(o.x),V.ex.y=box2d.b2Abs(o.y),V.ey.x=box2d.b2Abs(_o.x),V.ey.y=box2d.b2Abs(_o.y),V};goog.exportSymbol("box2d.b2Abs_M22",box2d.b2Abs_M22);box2d.b2Mul_M22_V2=function(x,V,o){var _o=x.ex;x=x.ey;var _r=V.x;return V=V.y,o.x=_o.x*_r+x.x*V,o.y=_o.y*_r+x.y*V,o};goog.exportSymbol("box2d.b2Mul_M22_V2",box2d.b2Mul_M22_V2);box2d.b2MulT_M22_V2=function(x,V,o){var _o=x.ex;x=x.ey;var _r=V.x;return V=V.y,o.x=_o.x*_r+_o.y*V,o.y=x.x*_r+x.y*V,o};goog.exportSymbol("box2d.b2MulT_M22_V2",box2d.b2MulT_M22_V2);box2d.b2Add_M22_M22=function(x,V,o){var _o=x.ex;x=x.ey;var _r=V.ex;return V=V.ey,o.ex.x=_o.x+_r.x,o.ex.y=_o.y+_r.y,o.ey.x=x.x+V.x,o.ey.y=x.y+V.y,o};goog.exportSymbol("box2d.b2Add_M22_M22",box2d.b2Add_M22_M22);box2d.b2Mul_M22_M22=function(x,V,o){var _o=x.ex.x,_r=x.ex.y,l=x.ey.x;x=x.ey.y;var e_=V.ex.x,o_=V.ex.y,i_=V.ey.x;return V=V.ey.y,o.ex.x=_o*e_+l*o_,o.ex.y=_r*e_+x*o_,o.ey.x=_o*i_+l*V,o.ey.y=_r*i_+x*V,o};goog.exportSymbol("box2d.b2Mul_M22_M22",box2d.b2Mul_M22_M22);box2d.b2MulT_M22_M22=function(x,V,o){var _o=x.ex.x,_r=x.ex.y,l=x.ey.x;x=x.ey.y;var e_=V.ex.x,o_=V.ex.y,i_=V.ey.x;return V=V.ey.y,o.ex.x=_o*e_+_r*o_,o.ex.y=l*e_+x*o_,o.ey.x=_o*i_+_r*V,o.ey.y=l*i_+x*V,o};goog.exportSymbol("box2d.b2MulT_M22_M22",box2d.b2MulT_M22_M22);box2d.b2Mat33=function(){this.ex=new box2d.b2Vec3(1,0,0),this.ey=new box2d.b2Vec3(0,1,0),this.ez=new box2d.b2Vec3(0,0,1)};goog.exportSymbol("box2d.b2Mat33",box2d.b2Mat33);box2d.b2Mat33.prototype.ex=null;goog.exportProperty(box2d.b2Mat33.prototype,"ex",box2d.b2Mat33.prototype.ex);box2d.b2Mat33.prototype.ey=null;goog.exportProperty(box2d.b2Mat33.prototype,"ey",box2d.b2Mat33.prototype.ey);box2d.b2Mat33.prototype.ez=null;goog.exportProperty(box2d.b2Mat33.prototype,"ez",box2d.b2Mat33.prototype.ez);box2d.b2Mat33.IDENTITY=new box2d.b2Mat33;goog.exportProperty(box2d.b2Mat33,"IDENTITY",box2d.b2Mat33.IDENTITY);box2d.b2Mat33.prototype.Clone=function(){return new box2d.b2Mat33().Copy(this)};goog.exportProperty(box2d.b2Mat33.prototype,"Clone",box2d.b2Mat33.prototype.Clone);box2d.b2Mat33.prototype.Copy=function(x){return this.ex.Copy(x.ex),this.ey.Copy(x.ey),this.ez.Copy(x.ez),this};goog.exportProperty(box2d.b2Mat33.prototype,"Copy",box2d.b2Mat33.prototype.Copy);box2d.b2Mat33.prototype.SetIdentity=function(){return this.ex.Set(1,0,0),this.ey.Set(0,1,0),this.ez.Set(0,0,1),this};goog.exportProperty(box2d.b2Mat33.prototype,"SetIdentity",box2d.b2Mat33.prototype.SetIdentity);box2d.b2Mat33.prototype.SetZero=function(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this};goog.exportProperty(box2d.b2Mat33.prototype,"SetZero",box2d.b2Mat33.prototype.SetZero);box2d.b2Mat33.prototype.SelfAdd=function(x){return this.ex.SelfAdd(x.ex),this.ey.SelfAdd(x.ey),this.ez.SelfAdd(x.ez),this};goog.exportProperty(box2d.b2Mat33.prototype,"SelfAdd",box2d.b2Mat33.prototype.SelfAdd);box2d.b2Mat33.prototype.Solve33=function(x,V,o,_o){var _r=this.ex.x,l=this.ex.y,e_=this.ex.z,o_=this.ey.x,i_=this.ey.y,_e=this.ey.z,c_=this.ez.x,ws=this.ez.y,h_=this.ez.z,s_=_r*(i_*h_-_e*ws)+l*(_e*c_-o_*h_)+e_*(o_*ws-i_*c_);return s_!==0&&(s_=1/s_),_o.x=s_*(x*(i_*h_-_e*ws)+V*(_e*c_-o_*h_)+o*(o_*ws-i_*c_)),_o.y=s_*(_r*(V*h_-o*ws)+l*(o*c_-x*h_)+e_*(x*ws-V*c_)),_o.z=s_*(_r*(i_*o-_e*V)+l*(_e*x-o_*o)+e_*(o_*V-i_*x)),_o};goog.exportProperty(box2d.b2Mat33.prototype,"Solve33",box2d.b2Mat33.prototype.Solve33);box2d.b2Mat33.prototype.Solve22=function(x,V,o){var _o=this.ex.x,_r=this.ey.x,l=this.ex.y,e_=this.ey.y,o_=_o*e_-_r*l;return o_!==0&&(o_=1/o_),o.x=o_*(e_*x-_r*V),o.y=o_*(_o*V-l*x),o};goog.exportProperty(box2d.b2Mat33.prototype,"Solve22",box2d.b2Mat33.prototype.Solve22);box2d.b2Mat33.prototype.GetInverse22=function(x){var V=this.ex.x,o=this.ey.x,_o=this.ex.y,_r=this.ey.y,l=V*_r-o*_o;l!==0&&(l=1/l),x.ex.x=l*_r,x.ey.x=-l*o,x.ex.z=0,x.ex.y=-l*_o,x.ey.y=l*V,x.ey.z=0,x.ez.x=0,x.ez.y=0,x.ez.z=0};goog.exportProperty(box2d.b2Mat33.prototype,"GetInverse22",box2d.b2Mat33.prototype.GetInverse22);box2d.b2Mat33.prototype.GetSymInverse33=function(x){var V=box2d.b2Dot_V3_V3(this.ex,box2d.b2Cross_V3_V3(this.ey,this.ez,box2d.b2Vec3.s_t0));V!==0&&(V=1/V);var o=this.ex.x,_o=this.ey.x,_r=this.ez.x,l=this.ey.y,e_=this.ez.y,o_=this.ez.z;x.ex.x=V*(l*o_-e_*e_),x.ex.y=V*(_r*e_-_o*o_),x.ex.z=V*(_o*e_-_r*l),x.ey.x=x.ex.y,x.ey.y=V*(o*o_-_r*_r),x.ey.z=V*(_r*_o-o*e_),x.ez.x=x.ex.z,x.ez.y=x.ey.z,x.ez.z=V*(o*l-_o*_o)};goog.exportProperty(box2d.b2Mat33.prototype,"GetSymInverse33",box2d.b2Mat33.prototype.GetSymInverse33);box2d.b2Mul_M33_V3=function(x,V,o){var _o=V.x,_r=V.y;return V=V.z,o.x=x.ex.x*_o+x.ey.x*_r+x.ez.x*V,o.y=x.ex.y*_o+x.ey.y*_r+x.ez.y*V,o.z=x.ex.z*_o+x.ey.z*_r+x.ez.z*V,o};goog.exportSymbol("box2d.b2Mul_M33_V3",box2d.b2Mul_M33_V3);box2d.b2Mul_M33_X_Y_Z=function(x,V,o,_o,_r){return _r.x=x.ex.x*V+x.ey.x*o+x.ez.x*_o,_r.y=x.ex.y*V+x.ey.y*o+x.ez.y*_o,_r.z=x.ex.z*V+x.ey.z*o+x.ez.z*_o,_r};goog.exportSymbol("box2d.b2Mul_M33_X_Y_Z",box2d.b2Mul_M33_X_Y_Z);box2d.b2Mul22_M33_V2=function(x,V,o){var _o=V.x;return V=V.y,o.x=x.ex.x*_o+x.ey.x*V,o.y=x.ex.y*_o+x.ey.y*V,o};goog.exportSymbol("box2d.b2Mul22_M33_V2",box2d.b2Mul22_M33_V2);box2d.b2Mul_M33_X_Y=function(x,V,o,_o){return _o.x=x.ex.x*V+x.ey.x*o,_o.y=x.ex.y*V+x.ey.y*o,_o};goog.exportSymbol("box2d.b2Mul_M33_X_Y",box2d.b2Mul_M33_X_Y);box2d.b2Rot=function(x){x&&(this.angle=x,this.s=Math.sin(x),this.c=Math.cos(x))};goog.exportSymbol("box2d.b2Rot",box2d.b2Rot);box2d.b2Rot.prototype.angle=0;goog.exportProperty(box2d.b2Rot.prototype,"angle",box2d.b2Rot.prototype.angle);box2d.b2Rot.prototype.s=0;goog.exportProperty(box2d.b2Rot.prototype,"s",box2d.b2Rot.prototype.s);box2d.b2Rot.prototype.c=1;goog.exportProperty(box2d.b2Rot.prototype,"c",box2d.b2Rot.prototype.c);box2d.b2Rot.IDENTITY=new box2d.b2Rot;goog.exportProperty(box2d.b2Rot,"IDENTITY",box2d.b2Rot.IDENTITY);box2d.b2Rot.prototype.Clone=function(){return new box2d.b2Rot().Copy(this)};goog.exportProperty(box2d.b2Rot.prototype,"Clone",box2d.b2Rot.prototype.Clone);box2d.b2Rot.prototype.Copy=function(x){return this.angle=x.angle,this.s=x.s,this.c=x.c,this};goog.exportProperty(box2d.b2Rot.prototype,"Copy",box2d.b2Rot.prototype.Copy);box2d.b2Rot.prototype.Set=function(x){return Math.abs(this.angle-x)>=box2d.b2_epsilon&&(this.angle=x,this.s=Math.sin(x),this.c=Math.cos(x)),this};goog.exportProperty(box2d.b2Rot.prototype,"Set",box2d.b2Rot.prototype.Set);box2d.b2Rot.prototype.SetAngle=box2d.b2Rot.prototype.Set;goog.exportProperty(box2d.b2Rot.prototype,"SetAngle",box2d.b2Rot.prototype.SetAngle);box2d.b2Rot.prototype.SetIdentity=function(){return this.s=this.angle=0,this.c=1,this};goog.exportProperty(box2d.b2Rot.prototype,"SetIdentity",box2d.b2Rot.prototype.SetIdentity);box2d.b2Rot.prototype.GetAngle=function(){return this.angle};goog.exportProperty(box2d.b2Rot.prototype,"GetAngle",box2d.b2Rot.prototype.GetAngle);box2d.b2Rot.prototype.GetXAxis=function(x){return x.x=this.c,x.y=this.s,x};goog.exportProperty(box2d.b2Rot.prototype,"GetXAxis",box2d.b2Rot.prototype.GetXAxis);box2d.b2Rot.prototype.GetYAxis=function(x){return x.x=-this.s,x.y=this.c,x};goog.exportProperty(box2d.b2Rot.prototype,"GetYAxis",box2d.b2Rot.prototype.GetYAxis);box2d.b2Mul_R_R=function(x,V,o){var _o=x.c,_r=x.s,l=V.c,e_=V.s;return o.s=_r*l+_o*e_,o.c=_o*l-_r*e_,o.angle=box2d.b2WrapAngle(x.angle+V.angle),o};goog.exportSymbol("box2d.b2Mul_R_R",box2d.b2Mul_R_R);box2d.b2MulT_R_R=function(x,V,o){var _o=x.c,_r=x.s,l=V.c,e_=V.s;return o.s=_o*e_-_r*l,o.c=_o*l+_r*e_,o.angle=box2d.b2WrapAngle(x.angle-V.angle),o};goog.exportSymbol("box2d.b2MulT_R_R",box2d.b2MulT_R_R);box2d.b2Mul_R_V2=function(x,V,o){var _o=x.c;x=x.s;var _r=V.x;return V=V.y,o.x=_o*_r-x*V,o.y=x*_r+_o*V,o};goog.exportSymbol("box2d.b2Mul_R_V2",box2d.b2Mul_R_V2);box2d.b2MulT_R_V2=function(x,V,o){var _o=x.c;x=x.s;var _r=V.x;return V=V.y,o.x=_o*_r+x*V,o.y=-x*_r+_o*V,o};goog.exportSymbol("box2d.b2MulT_R_V2",box2d.b2MulT_R_V2);box2d.b2Transform=function(){this.p=new box2d.b2Vec2,this.q=new box2d.b2Rot};goog.exportSymbol("box2d.b2Transform",box2d.b2Transform);box2d.b2Transform.prototype.p=null;goog.exportProperty(box2d.b2Transform.prototype,"p",box2d.b2Transform.prototype.p);box2d.b2Transform.prototype.q=null;goog.exportProperty(box2d.b2Transform.prototype,"q",box2d.b2Transform.prototype.q);box2d.b2Transform.IDENTITY=new box2d.b2Transform;goog.exportProperty(box2d.b2Transform,"IDENTITY",box2d.b2Transform.IDENTITY);box2d.b2Transform.prototype.Clone=function(){return new box2d.b2Transform().Copy(this)};goog.exportProperty(box2d.b2Transform.prototype,"Clone",box2d.b2Transform.prototype.Clone);box2d.b2Transform.prototype.Copy=function(x){return this.p.Copy(x.p),this.q.Copy(x.q),this};goog.exportProperty(box2d.b2Transform.prototype,"Copy",box2d.b2Transform.prototype.Copy);box2d.b2Transform.prototype.SetIdentity=function(){return this.p.SetZero(),this.q.SetIdentity(),this};goog.exportProperty(box2d.b2Transform.prototype,"SetIdentity",box2d.b2Transform.prototype.SetIdentity);box2d.b2Transform.prototype.Set=function(x,V){return this.SetPositionRotationAngle(x,V)};box2d.b2Transform.prototype.SetPositionRotation=function(x,V){return this.p.Copy(x),this.q.Copy(V),this};goog.exportProperty(box2d.b2Transform.prototype,"SetPositionRotation",box2d.b2Transform.prototype.SetPositionRotation);box2d.b2Transform.prototype.SetPositionRotationAngle=function(x,V){return this.p.Copy(x),this.q.SetAngle(V),this};goog.exportProperty(box2d.b2Transform.prototype,"SetPositionRotationAngle",box2d.b2Transform.prototype.SetPositionRotationAngle);box2d.b2Transform.prototype.SetPosition=function(x){return this.p.Copy(x),this};goog.exportProperty(box2d.b2Transform.prototype,"SetPosition",box2d.b2Transform.prototype.SetPosition);box2d.b2Transform.prototype.SetPositionXY=function(x,V){return this.p.Set(x,V),this};goog.exportProperty(box2d.b2Transform.prototype,"SetPositionXY",box2d.b2Transform.prototype.SetPositionXY);box2d.b2Transform.prototype.SetRotation=function(x){return this.q.Copy(x),this};goog.exportProperty(box2d.b2Transform.prototype,"SetRotation",box2d.b2Transform.prototype.SetRotation);box2d.b2Transform.prototype.SetRotationAngle=function(x){return this.q.SetAngle(x),this};goog.exportProperty(box2d.b2Transform.prototype,"SetRotationAngle",box2d.b2Transform.prototype.SetRotationAngle);box2d.b2Transform.prototype.GetPosition=function(){return this.p};goog.exportProperty(box2d.b2Transform.prototype,"GetPosition",box2d.b2Transform.prototype.GetPosition);box2d.b2Transform.prototype.GetRotation=function(){return this.q};goog.exportProperty(box2d.b2Transform.prototype,"GetRotation",box2d.b2Transform.prototype.GetRotation);box2d.b2Transform.prototype.GetRotationAngle=function(){return this.q.GetAngle()};goog.exportProperty(box2d.b2Transform.prototype,"GetRotationAngle",box2d.b2Transform.prototype.GetRotationAngle);box2d.b2Transform.prototype.GetAngle=function(){return this.q.GetAngle()};goog.exportProperty(box2d.b2Transform.prototype,"GetAngle",box2d.b2Transform.prototype.GetAngle);box2d.b2Mul_X_V2=function(x,V,o){var _o=x.q.c,_r=x.q.s,l=V.x;return V=V.y,o.x=_o*l-_r*V+x.p.x,o.y=_r*l+_o*V+x.p.y,o};goog.exportSymbol("box2d.b2Mul_X_V2",box2d.b2Mul_X_V2);box2d.b2MulT_X_V2=function(x,V,o){var _o=x.q.c,_r=x.q.s,l=V.x-x.p.x;return x=V.y-x.p.y,o.x=_o*l+_r*x,o.y=-_r*l+_o*x,o};goog.exportSymbol("box2d.b2MulT_X_V2",box2d.b2MulT_X_V2);box2d.b2Mul_X_X=function(x,V,o){return box2d.b2Mul_R_R(x.q,V.q,o.q),box2d.b2Add_V2_V2(box2d.b2Mul_R_V2(x.q,V.p,o.p),x.p,o.p),o};goog.exportSymbol("box2d.b2Mul_X_X",box2d.b2Mul_X_X);box2d.b2MulT_X_X=function(x,V,o){return box2d.b2MulT_R_R(x.q,V.q,o.q),box2d.b2MulT_R_V2(x.q,box2d.b2Sub_V2_V2(V.p,x.p,o.p),o.p),o};goog.exportSymbol("box2d.b2MulT_X_X",box2d.b2MulT_X_X);box2d.b2Sweep=function(){this.localCenter=new box2d.b2Vec2,this.c0=new box2d.b2Vec2,this.c=new box2d.b2Vec2};goog.exportSymbol("box2d.b2Sweep",box2d.b2Sweep);box2d.b2Sweep.prototype.localCenter=null;goog.exportProperty(box2d.b2Sweep.prototype,"localCenter",box2d.b2Sweep.prototype.localCenter);box2d.b2Sweep.prototype.c0=null;goog.exportProperty(box2d.b2Sweep.prototype,"c0",box2d.b2Sweep.prototype.c0);box2d.b2Sweep.prototype.c=null;goog.exportProperty(box2d.b2Sweep.prototype,"c",box2d.b2Sweep.prototype.c);box2d.b2Sweep.prototype.a0=0;goog.exportProperty(box2d.b2Sweep.prototype,"a0",box2d.b2Sweep.prototype.a0);box2d.b2Sweep.prototype.a=0;goog.exportProperty(box2d.b2Sweep.prototype,"a",box2d.b2Sweep.prototype.a);box2d.b2Sweep.prototype.alpha0=0;goog.exportProperty(box2d.b2Sweep.prototype,"alpha0",box2d.b2Sweep.prototype.alpha0);box2d.b2Sweep.prototype.Clone=function(){return new box2d.b2Sweep().Copy(this)};goog.exportProperty(box2d.b2Sweep.prototype,"Clone",box2d.b2Sweep.prototype.Clone);box2d.b2Sweep.prototype.Copy=function(x){return this.localCenter.Copy(x.localCenter),this.c0.Copy(x.c0),this.c.Copy(x.c),this.a0=x.a0,this.a=x.a,this.alpha0=x.alpha0,this};goog.exportProperty(box2d.b2Sweep.prototype,"Copy",box2d.b2Sweep.prototype.Copy);box2d.b2Sweep.prototype.GetTransform=function(x,V){var o=1-V;return x.p.x=o*this.c0.x+V*this.c.x,x.p.y=o*this.c0.y+V*this.c.y,x.q.SetAngle(o*this.a0+V*this.a),x.p.SelfSub(box2d.b2Mul_R_V2(x.q,this.localCenter,box2d.b2Vec2.s_t0)),x};goog.exportProperty(box2d.b2Sweep.prototype,"GetTransform",box2d.b2Sweep.prototype.GetTransform);box2d.b2Sweep.prototype.Advance=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(1>this.alpha0);var V=(x-this.alpha0)/(1-this.alpha0);this.c0.x+=V*(this.c.x-this.c0.x),this.c0.y+=V*(this.c.y-this.c0.y),this.a0+=V*(this.a-this.a0),this.alpha0=x};goog.exportProperty(box2d.b2Sweep.prototype,"Advance",box2d.b2Sweep.prototype.Advance);box2d.b2Sweep.prototype.Normalize=function(){this.a0=box2d.b2WrapAngle(this.a0),this.a=box2d.b2WrapAngle(this.a)};goog.exportProperty(box2d.b2Sweep.prototype,"Normalize",box2d.b2Sweep.prototype.Normalize);box2d.b2Dot=function(x,V){if(x instanceof box2d.b2Vec2&&V instanceof box2d.b2Vec2)return box2d.b2Dot_V2_V2(x,V);if(x instanceof box2d.b2Vec3&&V instanceof box2d.b2Vec3)return box2d.b2Dot_V3_V3(x,V);throw Error()};goog.exportSymbol("box2d.b2Dot",box2d.b2Dot);box2d.b2Cross=function(x,V,o){if(x instanceof box2d.b2Vec2&&V instanceof box2d.b2Vec2)return box2d.b2Cross_V2_V2(x,V);if(x instanceof box2d.b2Vec2&&typeof V=="number"&&o instanceof box2d.b2Vec2)return box2d.b2Cross_V2_S(x,V,o);if(typeof x=="number"&&V instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Cross_S_V2(x,V,o);if(x instanceof box2d.b2Vec3&&V instanceof box2d.b2Vec3&&o instanceof box2d.b2Vec3)return box2d.b2Cross_V3_V3(x,V,o);throw Error()};goog.exportSymbol("box2d.b2Cross",box2d.b2Cross);box2d.b2Add=function(x,V,o){if(x instanceof box2d.b2Vec2&&V instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Add_V2_V2(x,V,o);if(x instanceof box2d.b2Vec3&&V instanceof box2d.b2Vec3&&o instanceof box2d.b2Vec3)return box2d.b2Add_V3_V3(x,V,o);throw Error()};goog.exportSymbol("box2d.b2Add",box2d.b2Add);box2d.b2Sub=function(x,V,o){if(x instanceof box2d.b2Vec2&&V instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Sub_V2_V2(x,V,o);if(x instanceof box2d.b2Vec3&&V instanceof box2d.b2Vec3&&o instanceof box2d.b2Vec3)return box2d.b2Sub_V3_V3(x,V,o);throw Error()};goog.exportSymbol("box2d.b2Sub",box2d.b2Sub);box2d.b2Mul=function(x,V,o){if(x instanceof box2d.b2Mat22&&V instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Mul_M22_V2(x,V,o);if(x instanceof box2d.b2Mat22&&V instanceof box2d.b2Mat22&&o instanceof box2d.b2Mat22)return box2d.b2Mul_M22_M22(x,V,o);if(x instanceof box2d.b2Mat33&&V instanceof box2d.b2Vec3&&o instanceof box2d.b2Vec3)return box2d.b2Mul_M33_V3(x,V,o);if(x instanceof box2d.b2Rot&&V instanceof box2d.b2Rot&&o instanceof box2d.b2Rot)return box2d.b2Mul_R_R(x,V,o);if(x instanceof box2d.b2Rot&&V instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Mul_R_V2(x,V,o);if(x instanceof box2d.b2Transform&&V instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Mul_X_V2(x,V,o);if(x instanceof box2d.b2Transform&&V instanceof box2d.b2Transform&&o instanceof box2d.b2Transform)return box2d.b2Mul_X_X(x,V,o);throw Error()};goog.exportSymbol("box2d.b2Mul",box2d.b2Mul);box2d.b2Mul22=function(x,V,o){if(x instanceof box2d.b2Mat33&&V instanceof box2d.b2Vec2)return box2d.b2Mul22_M33_V2(x,V,o);throw Error()};goog.exportSymbol("box2d.b2Mul22",box2d.b2Mul22);box2d.b2MulT=function(x,V,o){if(x instanceof box2d.b2Mat22&&V instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2MulT_M22_V2(x,V,o);if(x instanceof box2d.b2Mat22&&V instanceof box2d.b2Mat22&&o instanceof box2d.b2Mat22)return box2d.b2MulT_M22_M22(x,V,o);if(x instanceof box2d.b2Rot&&V instanceof box2d.b2Rot&&o instanceof box2d.b2Rot)return box2d.b2MulT_R_R(x,V,o);if(x instanceof box2d.b2Rot&&V instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2MulT_R_V2(x,V,o);if(x instanceof box2d.b2Transform&&V instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2MulT_X_V2(x,V,o);if(x instanceof box2d.b2Transform&&V instanceof box2d.b2Transform&&o instanceof box2d.b2Transform)return box2d.b2MulT_X_X(x,V,o);throw Error()};goog.exportSymbol("box2d.b2MulT",box2d.b2MulT);box2d.b2ConstantAccelController=function(){box2d.b2Controller.call(this),this.A=new box2d.b2Vec2(0,0)};goog.inherits(box2d.b2ConstantAccelController,box2d.b2Controller);goog.exportSymbol("box2d.b2ConstantAccelController",box2d.b2ConstantAccelController);box2d.b2ConstantAccelController.prototype.A=null;goog.exportProperty(box2d.b2ConstantAccelController.prototype,"A",box2d.b2ConstantAccelController.prototype.A);box2d.b2ConstantAccelController.prototype.Step=function(x){x=box2d.b2Mul_S_V2(x.dt,this.A,box2d.b2ConstantAccelController.prototype.Step.s_dtA);for(var V=this.m_bodyList;V;V=V.nextBody){var o=V.body;o.IsAwake()&&o.SetLinearVelocity(box2d.b2Add_V2_V2(o.GetLinearVelocity(),x,box2d.b2Vec2.s_t0))}};goog.exportProperty(box2d.b2ConstantAccelController.prototype,"Step",box2d.b2ConstantAccelController.prototype.Step);box2d.b2ConstantAccelController.prototype.Step.s_dtA=new box2d.b2Vec2;box2d.b2ConstantForceController=function(){box2d.b2Controller.call(this),this.F=new box2d.b2Vec2(0,0)};goog.inherits(box2d.b2ConstantForceController,box2d.b2Controller);goog.exportSymbol("box2d.b2ConstantForceController",box2d.b2ConstantForceController);box2d.b2ConstantAccelController.prototype.F=null;goog.exportProperty(box2d.b2ConstantAccelController.prototype,"F",box2d.b2ConstantAccelController.prototype.F);box2d.b2ConstantForceController.prototype.Step=function(x){for(x=this.m_bodyList;x;x=x.nextBody){var V=x.body;V.IsAwake()&&V.ApplyForce(this.F,V.GetWorldCenter())}};goog.exportProperty(box2d.b2ConstantForceController.prototype,"Step",box2d.b2ConstantForceController.prototype.Step);box2d.b2GravityController=function(){box2d.b2Controller.call(this)};goog.inherits(box2d.b2GravityController,box2d.b2Controller);goog.exportSymbol("box2d.b2GravityController",box2d.b2GravityController);box2d.b2GravityController.prototype.G=1;goog.exportProperty(box2d.b2GravityController.prototype,"G",box2d.b2GravityController.prototype.G);box2d.b2GravityController.prototype.invSqr=!0;goog.exportProperty(box2d.b2GravityController.prototype,"invSqr",box2d.b2GravityController.prototype.invSqr);box2d.b2GravityController.prototype.Step=function(x){if(this.invSqr)for(x=this.m_bodyList;x;x=x.nextBody)for(var V=x.body,o=V.GetWorldCenter(),_o=V.GetMass(),_r=this.m_bodyList;_r!==x;_r=_r.nextBody){var l=_r.body,e_=l.GetWorldCenter(),o_=l.GetMass(),i_=e_.x-o.x,_e=e_.y-o.y,c_=i_*i_+_e*_e;c_<box2d.b2_epsilon||(i_=box2d.b2GravityController.prototype.Step.s_f.Set(i_,_e),i_.SelfMul(this.G/c_/box2d.b2Sqrt(c_)*_o*o_),V.IsAwake()&&V.ApplyForce(i_,o),l.IsAwake()&&l.ApplyForce(i_.SelfMul(-1),e_))}else for(x=this.m_bodyList;x;x=x.nextBody)for(V=x.body,o=V.GetWorldCenter(),_o=V.GetMass(),_r=this.m_bodyList;_r!==x;_r=_r.nextBody)l=_r.body,e_=l.GetWorldCenter(),o_=l.GetMass(),i_=e_.x-o.x,_e=e_.y-o.y,c_=i_*i_+_e*_e,c_<box2d.b2_epsilon||(i_=box2d.b2GravityController.prototype.Step.s_f.Set(i_,_e),i_.SelfMul(this.G/c_*_o*o_),V.IsAwake()&&V.ApplyForce(i_,o),l.IsAwake()&&l.ApplyForce(i_.SelfMul(-1),e_))};goog.exportProperty(box2d.b2GravityController.prototype,"Step",box2d.b2GravityController.prototype.Step);box2d.b2GravityController.prototype.Step.s_f=new box2d.b2Vec2;box2d.b2TensorDampingController=function(){box2d.b2Controller.call(this),this.T=new box2d.b2Mat22,this.maxTimestep=0};goog.inherits(box2d.b2TensorDampingController,box2d.b2Controller);goog.exportSymbol("box2d.b2TensorDampingController",box2d.b2TensorDampingController);box2d.b2TensorDampingController.prototype.T=new box2d.b2Mat22;goog.exportProperty(box2d.b2TensorDampingController.prototype,"T",box2d.b2TensorDampingController.prototype.T);box2d.b2TensorDampingController.prototype.maxTimestep=0;goog.exportProperty(box2d.b2TensorDampingController.prototype,"maxTimestep",box2d.b2TensorDampingController.prototype.maxTimestep);box2d.b2TensorDampingController.prototype.Step=function(x){if(x=x.dt,!(x<=box2d.b2_epsilon)){x>this.maxTimestep&&0<this.maxTimestep&&(x=this.maxTimestep);for(var V=this.m_bodyList;V;V=V.nextBody){var o=V.body;if(o.IsAwake()){var _o=o.GetWorldVector(box2d.b2Mul_M22_V2(this.T,o.GetLocalVector(o.GetLinearVelocity(),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t1),box2d.b2TensorDampingController.prototype.Step.s_damping);o.SetLinearVelocity(box2d.b2Add_V2_V2(o.GetLinearVelocity(),box2d.b2Mul_S_V2(x,_o,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t1))}}}};box2d.b2TensorDampingController.prototype.Step.s_damping=new box2d.b2Vec2;box2d.b2TensorDampingController.prototype.SetAxisAligned=function(x,V){this.T.ex.x=-x,this.T.ex.y=0,this.T.ey.x=0,this.T.ey.y=-V,this.maxTimestep=0<x||0<V?1/box2d.b2Max(x,V):0};box2d.b2DistanceProxy=function(){this.m_buffer=box2d.b2Vec2.MakeArray(2)};goog.exportSymbol("box2d.b2DistanceProxy",box2d.b2DistanceProxy);box2d.b2DistanceProxy.prototype.m_buffer=null;goog.exportProperty(box2d.b2DistanceProxy.prototype,"m_buffer",box2d.b2DistanceProxy.prototype.m_buffer);box2d.b2DistanceProxy.prototype.m_vertices=null;goog.exportProperty(box2d.b2DistanceProxy.prototype,"m_vertices",box2d.b2DistanceProxy.prototype.m_vertices);box2d.b2DistanceProxy.prototype.m_count=0;goog.exportProperty(box2d.b2DistanceProxy.prototype,"m_count",box2d.b2DistanceProxy.prototype.m_count);box2d.b2DistanceProxy.prototype.m_radius=0;goog.exportProperty(box2d.b2DistanceProxy.prototype,"m_radius",box2d.b2DistanceProxy.prototype.m_radius);box2d.b2DistanceProxy.prototype.Reset=function(){return this.m_vertices=null,this.m_radius=this.m_count=0,this};goog.exportProperty(box2d.b2DistanceProxy.prototype,"Reset",box2d.b2DistanceProxy.prototype.Reset);box2d.b2DistanceProxy.prototype.SetShape=function(x,V){x.SetupDistanceProxy(this,V)};goog.exportProperty(box2d.b2DistanceProxy.prototype,"SetShape",box2d.b2DistanceProxy.prototype.SetShape);box2d.b2DistanceProxy.prototype.GetSupport=function(x){for(var V=0,o=box2d.b2Dot_V2_V2(this.m_vertices[0],x),_o=1;_o<this.m_count;++_o){var _r=box2d.b2Dot_V2_V2(this.m_vertices[_o],x);_r>o&&(V=_o,o=_r)}return V};goog.exportProperty(box2d.b2DistanceProxy.prototype,"GetSupport",box2d.b2DistanceProxy.prototype.GetSupport);box2d.b2DistanceProxy.prototype.GetSupportVertex=function(x,V){for(var o=0,_o=box2d.b2Dot_V2_V2(this.m_vertices[0],x),_r=1;_r<this.m_count;++_r){var l=box2d.b2Dot_V2_V2(this.m_vertices[_r],x);l>_o&&(o=_r,_o=l)}return V.Copy(this.m_vertices[o])};goog.exportProperty(box2d.b2DistanceProxy.prototype,"GetSupportVertex",box2d.b2DistanceProxy.prototype.GetSupportVertex);box2d.b2DistanceProxy.prototype.GetVertexCount=function(){return this.m_count};goog.exportProperty(box2d.b2DistanceProxy.prototype,"GetVertexCount",box2d.b2DistanceProxy.prototype.GetVertexCount);box2d.b2DistanceProxy.prototype.GetVertex=function(x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=x&&x<this.m_count),this.m_vertices[x]};goog.exportProperty(box2d.b2DistanceProxy.prototype,"GetVertex",box2d.b2DistanceProxy.prototype.GetVertex);box2d.b2SimplexCache=function(){this.indexA=box2d.b2MakeNumberArray(3),this.indexB=box2d.b2MakeNumberArray(3)};goog.exportSymbol("box2d.b2SimplexCache",box2d.b2SimplexCache);box2d.b2SimplexCache.prototype.metric=0;goog.exportProperty(box2d.b2SimplexCache.prototype,"metric",box2d.b2SimplexCache.prototype.metric);box2d.b2SimplexCache.prototype.count=0;goog.exportProperty(box2d.b2SimplexCache.prototype,"count",box2d.b2SimplexCache.prototype.count);box2d.b2SimplexCache.prototype.indexA=null;goog.exportProperty(box2d.b2SimplexCache.prototype,"indexA",box2d.b2SimplexCache.prototype.indexA);box2d.b2SimplexCache.prototype.indexB=null;goog.exportProperty(box2d.b2SimplexCache.prototype,"indexB",box2d.b2SimplexCache.prototype.indexB);box2d.b2SimplexCache.prototype.Reset=function(){return this.count=this.metric=0,this};goog.exportProperty(box2d.b2SimplexCache.prototype,"Reset",box2d.b2SimplexCache.prototype.Reset);box2d.b2DistanceInput=function(){this.proxyA=new box2d.b2DistanceProxy,this.proxyB=new box2d.b2DistanceProxy,this.transformA=new box2d.b2Transform,this.transformB=new box2d.b2Transform};goog.exportSymbol("box2d.b2DistanceInput",box2d.b2DistanceInput);box2d.b2DistanceInput.prototype.proxyA=null;goog.exportProperty(box2d.b2DistanceInput.prototype,"proxyA",box2d.b2DistanceInput.prototype.proxyA);box2d.b2DistanceInput.prototype.proxyB=null;goog.exportProperty(box2d.b2DistanceInput.prototype,"proxyB",box2d.b2DistanceInput.prototype.proxyB);box2d.b2DistanceInput.prototype.transformA=null;goog.exportProperty(box2d.b2DistanceInput.prototype,"transformA",box2d.b2DistanceInput.prototype.transformA);box2d.b2DistanceInput.prototype.transformB=null;goog.exportProperty(box2d.b2DistanceInput.prototype,"transformB",box2d.b2DistanceInput.prototype.transformB);box2d.b2DistanceInput.prototype.useRadii=!1;goog.exportProperty(box2d.b2DistanceInput.prototype,"useRadii",box2d.b2DistanceInput.prototype.useRadii);box2d.b2DistanceInput.prototype.Reset=function(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this};goog.exportProperty(box2d.b2DistanceInput.prototype,"Reset",box2d.b2DistanceInput.prototype.Reset);box2d.b2DistanceOutput=function(){this.pointA=new box2d.b2Vec2,this.pointB=new box2d.b2Vec2};goog.exportSymbol("box2d.b2DistanceOutput",box2d.b2DistanceOutput);box2d.b2DistanceOutput.prototype.pointA=null;goog.exportProperty(box2d.b2DistanceOutput.prototype,"pointA",box2d.b2DistanceOutput.prototype.pointA);box2d.b2DistanceOutput.prototype.pointB=null;goog.exportProperty(box2d.b2DistanceOutput.prototype,"pointB",box2d.b2DistanceOutput.prototype.pointB);box2d.b2DistanceOutput.prototype.distance=0;goog.exportProperty(box2d.b2DistanceOutput.prototype,"distance",box2d.b2DistanceOutput.prototype.distance);box2d.b2DistanceOutput.prototype.iterations=0;goog.exportProperty(box2d.b2DistanceOutput.prototype,"iterations",box2d.b2DistanceOutput.prototype.iterations);box2d.b2DistanceOutput.prototype.Reset=function(){return this.pointA.SetZero(),this.pointB.SetZero(),this.iterations=this.distance=0,this};goog.exportProperty(box2d.b2DistanceOutput.prototype,"Reset",box2d.b2DistanceOutput.prototype.Reset);box2d.b2_gjkCalls=0;goog.exportSymbol("box2d.b2_gjkCalls",box2d.b2_gjkCalls);box2d.b2_gjkIters=0;goog.exportSymbol("box2d.b2_gjkIters",box2d.b2_gjkIters);box2d.b2_gjkMaxIters=0;goog.exportSymbol("box2d.b2_gjkMaxIters",box2d.b2_gjkMaxIters);box2d.b2SimplexVertex=function(){this.wA=new box2d.b2Vec2,this.wB=new box2d.b2Vec2,this.w=new box2d.b2Vec2};goog.exportSymbol("box2d.b2SimplexVertex",box2d.b2SimplexVertex);box2d.b2SimplexVertex.prototype.wA=null;goog.exportProperty(box2d.b2SimplexVertex.prototype,"wA",box2d.b2SimplexVertex.prototype.wA);box2d.b2SimplexVertex.prototype.wB=null;goog.exportProperty(box2d.b2SimplexVertex.prototype,"wB",box2d.b2SimplexVertex.prototype.wB);box2d.b2SimplexVertex.prototype.w=null;goog.exportProperty(box2d.b2SimplexVertex.prototype,"w",box2d.b2SimplexVertex.prototype.w);box2d.b2SimplexVertex.prototype.a=0;goog.exportProperty(box2d.b2SimplexVertex.prototype,"a",box2d.b2SimplexVertex.prototype.a);box2d.b2SimplexVertex.prototype.indexA=0;goog.exportProperty(box2d.b2SimplexVertex.prototype,"indexA",box2d.b2SimplexVertex.prototype.indexA);box2d.b2SimplexVertex.prototype.indexB=0;goog.exportProperty(box2d.b2SimplexVertex.prototype,"indexB",box2d.b2SimplexVertex.prototype.indexB);box2d.b2SimplexVertex.prototype.Copy=function(x){return this.wA.Copy(x.wA),this.wB.Copy(x.wB),this.w.Copy(x.w),this.a=x.a,this.indexA=x.indexA,this.indexB=x.indexB,this};goog.exportProperty(box2d.b2SimplexVertex.prototype,"Copy",box2d.b2SimplexVertex.prototype.Copy);box2d.b2Simplex=function(){this.m_v1=new box2d.b2SimplexVertex,this.m_v2=new box2d.b2SimplexVertex,this.m_v3=new box2d.b2SimplexVertex,this.m_vertices=Array(3),this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3};goog.exportSymbol("box2d.b2Simplex",box2d.b2Simplex);box2d.b2Simplex.prototype.m_v1=null;goog.exportProperty(box2d.b2Simplex.prototype,"m_v1",box2d.b2Simplex.prototype.m_v1);box2d.b2Simplex.prototype.m_v2=null;goog.exportProperty(box2d.b2Simplex.prototype,"m_v2",box2d.b2Simplex.prototype.m_v2);box2d.b2Simplex.prototype.m_v3=null;goog.exportProperty(box2d.b2Simplex.prototype,"m_v3",box2d.b2Simplex.prototype.m_v3);box2d.b2Simplex.prototype.m_vertices=null;goog.exportProperty(box2d.b2Simplex.prototype,"m_vertices",box2d.b2Simplex.prototype.m_vertices);box2d.b2Simplex.prototype.m_count=0;goog.exportProperty(box2d.b2Simplex.prototype,"m_count",box2d.b2Simplex.prototype.m_count);box2d.b2Simplex.prototype.ReadCache=function(x,V,o,_o,_r){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=x.count&&3>=x.count),this.m_count=x.count;for(var l=this.m_vertices,e_=0;e_<this.m_count;++e_){var o_=l[e_];o_.indexA=x.indexA[e_],o_.indexB=x.indexB[e_];var i_=V.GetVertex(o_.indexA),_e=_o.GetVertex(o_.indexB);box2d.b2Mul_X_V2(o,i_,o_.wA),box2d.b2Mul_X_V2(_r,_e,o_.wB),box2d.b2Sub_V2_V2(o_.wB,o_.wA,o_.w),o_.a=0}1<this.m_count&&(x=x.metric,e_=this.GetMetric(),e_<.5*x||2*x<e_||e_<box2d.b2_epsilon)&&(this.m_count=0),this.m_count===0&&(o_=l[0],o_.indexA=0,o_.indexB=0,i_=V.GetVertex(0),_e=_o.GetVertex(0),box2d.b2Mul_X_V2(o,i_,o_.wA),box2d.b2Mul_X_V2(_r,_e,o_.wB),box2d.b2Sub_V2_V2(o_.wB,o_.wA,o_.w),this.m_count=o_.a=1)};goog.exportProperty(box2d.b2Simplex.prototype,"ReadCache",box2d.b2Simplex.prototype.ReadCache);box2d.b2Simplex.prototype.WriteCache=function(x){x.metric=this.GetMetric(),x.count=this.m_count;for(var V=this.m_vertices,o=0;o<this.m_count;++o)x.indexA[o]=V[o].indexA,x.indexB[o]=V[o].indexB};goog.exportProperty(box2d.b2Simplex.prototype,"WriteCache",box2d.b2Simplex.prototype.WriteCache);box2d.b2Simplex.prototype.GetSearchDirection=function(x){switch(this.m_count){case 1:return x.Copy(this.m_v1.w).SelfNeg();case 2:var V=box2d.b2Sub_V2_V2(this.m_v2.w,this.m_v1.w,x);return 0<box2d.b2Cross_V2_V2(V,box2d.b2Vec2.s_t0.Copy(this.m_v1.w).SelfNeg())?box2d.b2Cross_S_V2(1,V,x):box2d.b2Cross_V2_S(V,1,x);default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),x.SetZero()}};goog.exportProperty(box2d.b2Simplex.prototype,"GetSearchDirection",box2d.b2Simplex.prototype.GetSearchDirection);box2d.b2Simplex.prototype.GetClosestPoint=function(x){switch(this.m_count){case 0:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),x.SetZero();case 1:return x.Copy(this.m_v1.w);case 2:return x.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:return x.SetZero();default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),x.SetZero()}};goog.exportProperty(box2d.b2Simplex.prototype,"GetClosestPoint",box2d.b2Simplex.prototype.GetClosestPoint);box2d.b2Simplex.prototype.GetWitnessPoints=function(x,V){switch(this.m_count){case 0:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1);break;case 1:x.Copy(this.m_v1.wA),V.Copy(this.m_v1.wB);break;case 2:x.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,x.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,V.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,V.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:V.x=x.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,V.y=x.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}};goog.exportProperty(box2d.b2Simplex.prototype,"GetWitnessPoints",box2d.b2Simplex.prototype.GetWitnessPoints);box2d.b2Simplex.prototype.GetMetric=function(){switch(this.m_count){case 0:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),0;case 1:return 0;case 2:return box2d.b2Distance(this.m_v1.w,this.m_v2.w);case 3:return box2d.b2Cross_V2_V2(box2d.b2Sub_V2_V2(this.m_v2.w,this.m_v1.w,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(this.m_v3.w,this.m_v1.w,box2d.b2Vec2.s_t1));default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),0}};goog.exportProperty(box2d.b2Simplex.prototype,"GetMetric",box2d.b2Simplex.prototype.GetMetric);box2d.b2Simplex.prototype.Solve2=function(){var o=this.m_v1.w,x=this.m_v2.w,V=box2d.b2Sub_V2_V2(x,o,box2d.b2Simplex.s_e12),o=-box2d.b2Dot_V2_V2(o,V);0>=o?this.m_count=this.m_v1.a=1:(x=box2d.b2Dot_V2_V2(x,V),0>=x?(this.m_count=this.m_v2.a=1,this.m_v1.Copy(this.m_v2)):(V=1/(x+o),this.m_v1.a=x*V,this.m_v2.a=o*V,this.m_count=2))};goog.exportProperty(box2d.b2Simplex.prototype,"Solve2",box2d.b2Simplex.prototype.Solve2);box2d.b2Simplex.prototype.Solve3=function(){var c_=this.m_v1.w,x=this.m_v2.w,_e=this.m_v3.w,i_=box2d.b2Sub_V2_V2(x,c_,box2d.b2Simplex.s_e12),o=box2d.b2Dot_V2_V2(c_,i_),V=box2d.b2Dot_V2_V2(x,i_),o=-o,o_=box2d.b2Sub_V2_V2(_e,c_,box2d.b2Simplex.s_e13),_r=box2d.b2Dot_V2_V2(c_,o_),_o=box2d.b2Dot_V2_V2(_e,o_),_r=-_r,l=box2d.b2Sub_V2_V2(_e,x,box2d.b2Simplex.s_e23),e_=box2d.b2Dot_V2_V2(x,l),l=box2d.b2Dot_V2_V2(_e,l),e_=-e_,o_=box2d.b2Cross_V2_V2(i_,o_),i_=o_*box2d.b2Cross_V2_V2(x,_e),_e=o_*box2d.b2Cross_V2_V2(_e,c_),c_=o_*box2d.b2Cross_V2_V2(c_,x);0>=o&&0>=_r?this.m_count=this.m_v1.a=1:0<V&&0<o&&0>=c_?(_o=1/(V+o),this.m_v1.a=V*_o,this.m_v2.a=o*_o,this.m_count=2):0<_o&&0<_r&&0>=_e?(V=1/(_o+_r),this.m_v1.a=_o*V,this.m_v3.a=_r*V,this.m_count=2,this.m_v2.Copy(this.m_v3)):0>=V&&0>=e_?(this.m_count=this.m_v2.a=1,this.m_v1.Copy(this.m_v2)):0>=_o&&0>=l?(this.m_count=this.m_v3.a=1,this.m_v1.Copy(this.m_v3)):0<l&&0<e_&&0>=i_?(V=1/(l+e_),this.m_v2.a=l*V,this.m_v3.a=e_*V,this.m_count=2,this.m_v1.Copy(this.m_v3)):(V=1/(i_+_e+c_),this.m_v1.a=i_*V,this.m_v2.a=_e*V,this.m_v3.a=c_*V,this.m_count=3)};goog.exportProperty(box2d.b2Simplex.prototype,"Solve3",box2d.b2Simplex.prototype.Solve3);box2d.b2Simplex.s_e12=new box2d.b2Vec2;box2d.b2Simplex.s_e13=new box2d.b2Vec2;box2d.b2Simplex.s_e23=new box2d.b2Vec2;box2d.b2ShapeDistance=function(x,V,o){++box2d.b2_gjkCalls;var _o=o.proxyA,_r=o.proxyB,l=o.transformA,e_=o.transformB,o_=box2d.b2Distance.s_simplex;o_.ReadCache(V,_o,l,_r,e_);for(var i_=o_.m_vertices,_e=box2d.b2Distance.s_saveA,c_=box2d.b2Distance.s_saveB,ws=0,h_=0;20>h_;){for(var ws=o_.m_count,s_=0;s_<ws;++s_)_e[s_]=i_[s_].indexA,c_[s_]=i_[s_].indexB;switch(o_.m_count){case 1:break;case 2:o_.Solve2();break;case 3:o_.Solve3();break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}if(o_.m_count===3)break;var w_=o_.GetClosestPoint(box2d.b2Distance.s_p);if(w_.LengthSquared(),s_=o_.GetSearchDirection(box2d.b2Distance.s_d),s_.LengthSquared()<box2d.b2_epsilon_sq)break;w_=i_[o_.m_count],w_.indexA=_o.GetSupport(box2d.b2MulT_R_V2(l.q,box2d.b2Vec2.s_t0.Copy(s_).SelfNeg(),box2d.b2Distance.s_supportA)),box2d.b2Mul_X_V2(l,_o.GetVertex(w_.indexA),w_.wA),w_.indexB=_r.GetSupport(box2d.b2MulT_R_V2(e_.q,s_,box2d.b2Distance.s_supportB)),box2d.b2Mul_X_V2(e_,_r.GetVertex(w_.indexB),w_.wB),box2d.b2Sub_V2_V2(w_.wB,w_.wA,w_.w),++h_,++box2d.b2_gjkIters;for(var L_=!1,s_=0;s_<ws;++s_)if(w_.indexA===_e[s_]&&w_.indexB===c_[s_]){L_=!0;break}if(L_)break;++o_.m_count}box2d.b2_gjkMaxIters=box2d.b2Max(box2d.b2_gjkMaxIters,h_),o_.GetWitnessPoints(x.pointA,x.pointB),x.distance=box2d.b2Distance(x.pointA,x.pointB),x.iterations=h_,o_.WriteCache(V),o.useRadii&&(V=_o.m_radius,_r=_r.m_radius,x.distance>V+_r&&x.distance>box2d.b2_epsilon?(x.distance-=V+_r,o=box2d.b2Sub_V2_V2(x.pointB,x.pointA,box2d.b2Distance.s_normal),o.Normalize(),x.pointA.SelfMulAdd(V,o),x.pointB.SelfMulSub(_r,o)):(w_=box2d.b2Mid_V2_V2(x.pointA,x.pointB,box2d.b2Distance.s_p),x.pointA.Copy(w_),x.pointB.Copy(w_),x.distance=0))};goog.exportSymbol("box2d.b2ShapeDistance",box2d.b2ShapeDistance);box2d.b2Distance.s_simplex=new box2d.b2Simplex;box2d.b2Distance.s_saveA=box2d.b2MakeNumberArray(3);box2d.b2Distance.s_saveB=box2d.b2MakeNumberArray(3);box2d.b2Distance.s_p=new box2d.b2Vec2;box2d.b2Distance.s_d=new box2d.b2Vec2;box2d.b2Distance.s_normal=new box2d.b2Vec2;box2d.b2Distance.s_supportA=new box2d.b2Vec2;box2d.b2Distance.s_supportB=new box2d.b2Vec2;box2d.b2Collision={};box2d.b2ContactFeatureType={e_vertex:0,e_face:1};goog.exportSymbol("box2d.b2ContactFeatureType",box2d.b2ContactFeatureType);goog.exportProperty(box2d.b2ContactFeatureType,"e_vertex",box2d.b2ContactFeatureType.e_vertex);goog.exportProperty(box2d.b2ContactFeatureType,"e_face",box2d.b2ContactFeatureType.e_face);box2d.b2ContactFeature=function(x){this._id=x};goog.exportSymbol("box2d.b2ContactFeature",box2d.b2ContactFeature);box2d.b2ContactFeature.prototype._id=null;goog.exportProperty(box2d.b2ContactFeature.prototype,"_id",box2d.b2ContactFeature.prototype._id);box2d.b2ContactFeature.prototype._indexA=0;goog.exportProperty(box2d.b2ContactFeature.prototype,"_indexA",box2d.b2ContactFeature.prototype._indexA);box2d.b2ContactFeature.prototype._indexB=0;goog.exportProperty(box2d.b2ContactFeature.prototype,"_indexB",box2d.b2ContactFeature.prototype._indexB);box2d.b2ContactFeature.prototype._typeA=0;goog.exportProperty(box2d.b2ContactFeature.prototype,"_typeA",box2d.b2ContactFeature.prototype._typeA);box2d.b2ContactFeature.prototype._typeB=0;goog.exportProperty(box2d.b2ContactFeature.prototype,"_typeB",box2d.b2ContactFeature.prototype._typeB);Object.defineProperty(box2d.b2ContactFeature.prototype,"indexA",{enumerable:!1,configurable:!0,get:function(){return this._indexA},set:function(x){this._indexA=x,this._id._key=this._id._key&4294967040|this._indexA&255}});Object.defineProperty(box2d.b2ContactFeature.prototype,"indexB",{enumerable:!1,configurable:!0,get:function(){return this._indexB},set:function(x){this._indexB=x,this._id._key=this._id._key&4294902015|this._indexB<<8&65280}});Object.defineProperty(box2d.b2ContactFeature.prototype,"typeA",{enumerable:!1,configurable:!0,get:function(){return this._typeA},set:function(x){this._typeA=x,this._id._key=this._id._key&4278255615|this._typeA<<16&16711680}});Object.defineProperty(box2d.b2ContactFeature.prototype,"typeB",{enumerable:!1,configurable:!0,get:function(){return this._typeB},set:function(x){this._typeB=x,this._id._key=this._id._key&16777215|this._typeB<<24&4278190080}});box2d.b2ContactID=function(){this.cf=new box2d.b2ContactFeature(this)};goog.exportSymbol("box2d.b2ContactID",box2d.b2ContactID);box2d.b2ContactID.prototype.cf=null;goog.exportProperty(box2d.b2ContactID.prototype,"cf",box2d.b2ContactID.prototype.cf);box2d.b2ContactID.prototype.key=0;goog.exportProperty(box2d.b2ContactID.prototype,"key",box2d.b2ContactID.prototype.key);box2d.b2ContactID.prototype.Copy=function(x){return this.key=x.key,this};goog.exportProperty(box2d.b2ContactID.prototype,"Copy",box2d.b2ContactID.prototype.Copy);box2d.b2ContactID.prototype.Clone=function(){return new box2d.b2ContactID().Copy(this)};goog.exportProperty(box2d.b2ContactID.prototype,"Clone",box2d.b2ContactID.prototype.Clone);Object.defineProperty(box2d.b2ContactID.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this._key},set:function(x){this._key=x,this.cf._indexA=this._key&255,this.cf._indexB=this._key>>8&255,this.cf._typeA=this._key>>16&255,this.cf._typeB=this._key>>24&255}});box2d.b2ManifoldPoint=function(){this.localPoint=new box2d.b2Vec2,this.id=new box2d.b2ContactID};goog.exportSymbol("box2d.b2ManifoldPoint",box2d.b2ManifoldPoint);box2d.b2ManifoldPoint.prototype.localPoint=null;goog.exportProperty(box2d.b2ManifoldPoint.prototype,"localPoint",box2d.b2ManifoldPoint.prototype.localPoint);box2d.b2ManifoldPoint.prototype.normalImpulse=0;goog.exportProperty(box2d.b2ManifoldPoint.prototype,"normalImpulse",box2d.b2ManifoldPoint.prototype.normalImpulse);box2d.b2ManifoldPoint.prototype.tangentImpulse=0;goog.exportProperty(box2d.b2ManifoldPoint.prototype,"tangentImpulse",box2d.b2ManifoldPoint.prototype.tangentImpulse);box2d.b2ManifoldPoint.prototype.id=null;goog.exportProperty(box2d.b2ManifoldPoint.prototype,"id",box2d.b2ManifoldPoint.prototype.id);box2d.b2ManifoldPoint.MakeArray=function(x){return box2d.b2MakeArray(x,function(V){return new box2d.b2ManifoldPoint})};goog.exportProperty(box2d.b2ManifoldPoint,"MakeArray",box2d.b2ManifoldPoint.MakeArray);box2d.b2ManifoldPoint.prototype.Reset=function(){this.localPoint.SetZero(),this.tangentImpulse=this.normalImpulse=0,this.id.key=0};goog.exportProperty(box2d.b2ManifoldPoint.prototype,"Reset",box2d.b2ManifoldPoint.prototype.Reset);box2d.b2ManifoldPoint.prototype.Copy=function(x){return this.localPoint.Copy(x.localPoint),this.normalImpulse=x.normalImpulse,this.tangentImpulse=x.tangentImpulse,this.id.Copy(x.id),this};goog.exportProperty(box2d.b2ManifoldPoint.prototype,"Copy",box2d.b2ManifoldPoint.prototype.Copy);box2d.b2ManifoldType={e_unknown:-1,e_circles:0,e_faceA:1,e_faceB:2};goog.exportSymbol("box2d.b2ManifoldType",box2d.b2ManifoldType);goog.exportProperty(box2d.b2ManifoldType,"e_unknown",box2d.b2ManifoldType.e_unknown);goog.exportProperty(box2d.b2ManifoldType,"e_circles",box2d.b2ManifoldType.e_circles);goog.exportProperty(box2d.b2ManifoldType,"e_faceA",box2d.b2ManifoldType.e_faceA);goog.exportProperty(box2d.b2ManifoldType,"e_faceB",box2d.b2ManifoldType.e_faceB);box2d.b2Manifold=function(){this.points=box2d.b2ManifoldPoint.MakeArray(box2d.b2_maxManifoldPoints),this.localNormal=new box2d.b2Vec2,this.localPoint=new box2d.b2Vec2,this.type=box2d.b2ManifoldType.e_unknown,this.pointCount=0};goog.exportSymbol("box2d.b2Manifold",box2d.b2Manifold);box2d.b2Manifold.prototype.points=null;goog.exportProperty(box2d.b2Manifold.prototype,"points",box2d.b2Manifold.prototype.points);box2d.b2Manifold.prototype.localNormal=null;goog.exportProperty(box2d.b2Manifold.prototype,"localNormal",box2d.b2Manifold.prototype.localNormal);box2d.b2Manifold.prototype.localPoint=null;goog.exportProperty(box2d.b2Manifold.prototype,"localPoint",box2d.b2Manifold.prototype.localPoint);box2d.b2Manifold.prototype.type=box2d.b2ManifoldType.e_unknown;goog.exportProperty(box2d.b2Manifold.prototype,"type",box2d.b2Manifold.prototype.type);box2d.b2Manifold.prototype.pointCount=0;goog.exportProperty(box2d.b2Manifold.prototype,"pointCount",box2d.b2Manifold.prototype.pointCount);box2d.b2Manifold.prototype.Reset=function(){for(var x=0,V=box2d.b2_maxManifoldPoints;x<V;++x)this.points[x].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=box2d.b2ManifoldType.e_unknown,this.pointCount=0};goog.exportProperty(box2d.b2Manifold.prototype,"Reset",box2d.b2Manifold.prototype.Reset);box2d.b2Manifold.prototype.Copy=function(x){this.pointCount=x.pointCount;for(var V=0,o=box2d.b2_maxManifoldPoints;V<o;++V)this.points[V].Copy(x.points[V]);return this.localNormal.Copy(x.localNormal),this.localPoint.Copy(x.localPoint),this.type=x.type,this};goog.exportProperty(box2d.b2Manifold.prototype,"Copy",box2d.b2Manifold.prototype.Copy);box2d.b2Manifold.prototype.Clone=function(){return new box2d.b2Manifold().Copy(this)};goog.exportProperty(box2d.b2Manifold.prototype,"Clone",box2d.b2Manifold.prototype.Clone);box2d.b2WorldManifold=function(){this.normal=new box2d.b2Vec2,this.points=box2d.b2Vec2.MakeArray(box2d.b2_maxManifoldPoints),this.separations=box2d.b2MakeNumberArray(box2d.b2_maxManifoldPoints)};goog.exportSymbol("box2d.b2WorldManifold",box2d.b2WorldManifold);box2d.b2WorldManifold.prototype.normal=null;goog.exportProperty(box2d.b2WorldManifold.prototype,"normal",box2d.b2WorldManifold.prototype.normal);box2d.b2WorldManifold.prototype.points=null;goog.exportProperty(box2d.b2WorldManifold.prototype,"points",box2d.b2WorldManifold.prototype.points);box2d.b2WorldManifold.prototype.separations=null;goog.exportProperty(box2d.b2WorldManifold.prototype,"separations",box2d.b2WorldManifold.prototype.separations);box2d.b2WorldManifold.prototype.Initialize=function(x,V,o,_o,_r){if(x.pointCount!==0)switch(x.type){case box2d.b2ManifoldType.e_circles:this.normal.Set(1,0),V=box2d.b2Mul_X_V2(V,x.localPoint,box2d.b2WorldManifold.prototype.Initialize.s_pointA),x=box2d.b2Mul_X_V2(_o,x.points[0].localPoint,box2d.b2WorldManifold.prototype.Initialize.s_pointB),box2d.b2DistanceSquared(V,x)>box2d.b2_epsilon_sq&&box2d.b2Sub_V2_V2(x,V,this.normal).SelfNormalize();var l=box2d.b2AddMul_V2_S_V2(V,o,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cA),e_=box2d.b2SubMul_V2_S_V2(x,_r,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cB);box2d.b2Mid_V2_V2(l,e_,this.points[0]),this.separations[0]=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(e_,l,box2d.b2Vec2.s_t0),this.normal);break;case box2d.b2ManifoldType.e_faceA:box2d.b2Mul_R_V2(V.q,x.localNormal,this.normal);for(var o_=box2d.b2Mul_X_V2(V,x.localPoint,box2d.b2WorldManifold.prototype.Initialize.s_planePoint),i_=0,_e=x.pointCount;i_<_e;++i_){var c_=box2d.b2Mul_X_V2(_o,x.points[i_].localPoint,box2d.b2WorldManifold.prototype.Initialize.s_clipPoint),l=o-box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(c_,o_,box2d.b2Vec2.s_t0),this.normal),l=box2d.b2AddMul_V2_S_V2(c_,l,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cA),e_=box2d.b2SubMul_V2_S_V2(c_,_r,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cB);box2d.b2Mid_V2_V2(l,e_,this.points[i_]),this.separations[i_]=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(e_,l,box2d.b2Vec2.s_t0),this.normal)}break;case box2d.b2ManifoldType.e_faceB:for(box2d.b2Mul_R_V2(_o.q,x.localNormal,this.normal),o_=box2d.b2Mul_X_V2(_o,x.localPoint,box2d.b2WorldManifold.prototype.Initialize.s_planePoint),i_=0,_e=x.pointCount;i_<_e;++i_)c_=box2d.b2Mul_X_V2(V,x.points[i_].localPoint,box2d.b2WorldManifold.prototype.Initialize.s_clipPoint),l=_r-box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(c_,o_,box2d.b2Vec2.s_t0),this.normal),e_=box2d.b2AddMul_V2_S_V2(c_,l,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cB),l=box2d.b2SubMul_V2_S_V2(c_,o,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cA),box2d.b2Mid_V2_V2(l,e_,this.points[i_]),this.separations[i_]=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(l,e_,box2d.b2Vec2.s_t0),this.normal);this.normal.SelfNeg()}};goog.exportProperty(box2d.b2WorldManifold.prototype,"Initialize",box2d.b2WorldManifold.prototype.Initialize);box2d.b2WorldManifold.prototype.Initialize.s_pointA=new box2d.b2Vec2;box2d.b2WorldManifold.prototype.Initialize.s_pointB=new box2d.b2Vec2;box2d.b2WorldManifold.prototype.Initialize.s_cA=new box2d.b2Vec2;box2d.b2WorldManifold.prototype.Initialize.s_cB=new box2d.b2Vec2;box2d.b2WorldManifold.prototype.Initialize.s_planePoint=new box2d.b2Vec2;box2d.b2WorldManifold.prototype.Initialize.s_clipPoint=new box2d.b2Vec2;box2d.b2PointState={b2_nullState:0,b2_addState:1,b2_persistState:2,b2_removeState:3};goog.exportSymbol("box2d.b2PointState",box2d.b2PointState);goog.exportProperty(box2d.b2PointState,"b2_nullState   ",box2d.b2PointState.b2_nullState);goog.exportProperty(box2d.b2PointState,"b2_addState    ",box2d.b2PointState.b2_addState);goog.exportProperty(box2d.b2PointState,"b2_persistState",box2d.b2PointState.b2_persistState);goog.exportProperty(box2d.b2PointState,"b2_removeState ",box2d.b2PointState.b2_removeState);box2d.b2GetPointStates=function(x,V,o,_o){for(var _r=0,l=o.pointCount;_r<l;++_r){var e_=o.points[_r].id,e_=e_.key;x[_r]=box2d.b2PointState.b2_removeState;for(var o_=0,i_=_o.pointCount;o_<i_;++o_)if(_o.points[o_].id.key===e_){x[_r]=box2d.b2PointState.b2_persistState;break}}for(l=box2d.b2_maxManifoldPoints;_r<l;++_r)x[_r]=box2d.b2PointState.b2_nullState;for(_r=0,l=_o.pointCount;_r<l;++_r)for(e_=_o.points[_r].id,e_=e_.key,V[_r]=box2d.b2PointState.b2_addState,o_=0,i_=o.pointCount;o_<i_;++o_)if(o.points[o_].id.key===e_){V[_r]=box2d.b2PointState.b2_persistState;break}for(l=box2d.b2_maxManifoldPoints;_r<l;++_r)V[_r]=box2d.b2PointState.b2_nullState};goog.exportSymbol("box2d.b2GetPointStates",box2d.b2GetPointStates);box2d.b2ClipVertex=function(){this.v=new box2d.b2Vec2,this.id=new box2d.b2ContactID};goog.exportSymbol("box2d.b2ClipVertex",box2d.b2ClipVertex);box2d.b2ClipVertex.prototype.v=null;goog.exportProperty(box2d.b2ClipVertex.prototype,"v",box2d.b2ClipVertex.prototype.v);box2d.b2ClipVertex.prototype.id=null;goog.exportProperty(box2d.b2ClipVertex.prototype,"id",box2d.b2ClipVertex.prototype.id);box2d.b2ClipVertex.MakeArray=function(x){return box2d.b2MakeArray(x,function(V){return new box2d.b2ClipVertex})};goog.exportProperty(box2d.b2ClipVertex,"MakeArray",box2d.b2ClipVertex.MakeArray);box2d.b2ClipVertex.prototype.Copy=function(x){return this.v.Copy(x.v),this.id.Copy(x.id),this};goog.exportProperty(box2d.b2ClipVertex.prototype,"Copy",box2d.b2ClipVertex.prototype.Copy);box2d.b2RayCastInput=function(){this.p1=new box2d.b2Vec2,this.p2=new box2d.b2Vec2,this.maxFraction=1};goog.exportSymbol("box2d.b2RayCastInput",box2d.b2RayCastInput);box2d.b2RayCastInput.prototype.p1=null;goog.exportProperty(box2d.b2RayCastInput.prototype,"p1",box2d.b2RayCastInput.prototype.p1);box2d.b2RayCastInput.prototype.p2=null;goog.exportProperty(box2d.b2RayCastInput.prototype,"p2",box2d.b2RayCastInput.prototype.p2);box2d.b2RayCastInput.prototype.maxFraction=1;goog.exportProperty(box2d.b2RayCastInput.prototype,"maxFraction",box2d.b2RayCastInput.prototype.maxFraction);box2d.b2RayCastInput.prototype.Copy=function(x){return this.p1.Copy(x.p1),this.p2.Copy(x.p2),this.maxFraction=x.maxFraction,this};goog.exportProperty(box2d.b2RayCastInput.prototype,"Copy",box2d.b2RayCastInput.prototype.Copy);box2d.b2RayCastOutput=function(){this.normal=new box2d.b2Vec2,this.fraction=0};goog.exportSymbol("box2d.b2RayCastOutput",box2d.b2RayCastOutput);box2d.b2RayCastOutput.prototype.normal=null;goog.exportProperty(box2d.b2RayCastOutput.prototype,"normal",box2d.b2RayCastOutput.prototype.normal);box2d.b2RayCastOutput.prototype.fraction=0;goog.exportProperty(box2d.b2RayCastOutput.prototype,"fraction",box2d.b2RayCastOutput.prototype.fraction);box2d.b2RayCastOutput.prototype.Copy=function(x){return this.normal.Copy(x.normal),this.fraction=x.fraction,this};goog.exportProperty(box2d.b2RayCastOutput.prototype,"Copy",box2d.b2RayCastOutput.prototype.Copy);box2d.b2AABB=function(){this.lowerBound=new box2d.b2Vec2,this.upperBound=new box2d.b2Vec2,this.m_out_center=new box2d.b2Vec2,this.m_out_extent=new box2d.b2Vec2};goog.exportSymbol("box2d.b2AABB",box2d.b2AABB);box2d.b2AABB.prototype.lowerBound=null;goog.exportProperty(box2d.b2AABB.prototype,"lowerBound",box2d.b2AABB.prototype.lowerBound);box2d.b2AABB.prototype.upperBound=null;goog.exportProperty(box2d.b2AABB.prototype,"upperBound",box2d.b2AABB.prototype.upperBound);box2d.b2AABB.prototype.m_out_center=null;goog.exportProperty(box2d.b2AABB.prototype,"m_out_center",box2d.b2AABB.prototype.m_out_center);box2d.b2AABB.prototype.m_out_extent=null;goog.exportProperty(box2d.b2AABB.prototype,"m_out_extent",box2d.b2AABB.prototype.m_out_extent);box2d.b2AABB.prototype.Clone=function(){return new box2d.b2AABB().Copy(this)};goog.exportProperty(box2d.b2AABB.prototype,"Clone",box2d.b2AABB.prototype.Clone);box2d.b2AABB.prototype.Copy=function(x){return this.lowerBound.Copy(x.lowerBound),this.upperBound.Copy(x.upperBound),this};goog.exportProperty(box2d.b2AABB.prototype,"Copy",box2d.b2AABB.prototype.Copy);box2d.b2AABB.prototype.IsValid=function(){var x=this.upperBound.y-this.lowerBound.y;return x=(x=0<=this.upperBound.x-this.lowerBound.x&&0<=x)&&this.lowerBound.IsValid()&&this.upperBound.IsValid()};goog.exportProperty(box2d.b2AABB.prototype,"IsValid",box2d.b2AABB.prototype.IsValid);box2d.b2AABB.prototype.GetCenter=function(){return box2d.b2Mid_V2_V2(this.lowerBound,this.upperBound,this.m_out_center)};goog.exportProperty(box2d.b2AABB.prototype,"GetCenter",box2d.b2AABB.prototype.GetCenter);box2d.b2AABB.prototype.GetExtents=function(){return box2d.b2Ext_V2_V2(this.lowerBound,this.upperBound,this.m_out_extent)};goog.exportProperty(box2d.b2AABB.prototype,"GetExtents",box2d.b2AABB.prototype.GetExtents);box2d.b2AABB.prototype.GetPerimeter=function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))};goog.exportProperty(box2d.b2AABB.prototype,"GetPerimeter",box2d.b2AABB.prototype.GetPerimeter);box2d.b2AABB.prototype.Combine=function(x,V){switch(arguments.length){case 1:return this.Combine1(x);case 2:return this.Combine2(x,V||new box2d.b2AABB);default:throw Error()}};box2d.b2AABB.prototype.Combine1=function(x){return this.lowerBound.x=box2d.b2Min(this.lowerBound.x,x.lowerBound.x),this.lowerBound.y=box2d.b2Min(this.lowerBound.y,x.lowerBound.y),this.upperBound.x=box2d.b2Max(this.upperBound.x,x.upperBound.x),this.upperBound.y=box2d.b2Max(this.upperBound.y,x.upperBound.y),this};goog.exportProperty(box2d.b2AABB.prototype,"Combine1",box2d.b2AABB.prototype.Combine1);box2d.b2AABB.prototype.Combine2=function(x,V){return this.lowerBound.x=box2d.b2Min(x.lowerBound.x,V.lowerBound.x),this.lowerBound.y=box2d.b2Min(x.lowerBound.y,V.lowerBound.y),this.upperBound.x=box2d.b2Max(x.upperBound.x,V.upperBound.x),this.upperBound.y=box2d.b2Max(x.upperBound.y,V.upperBound.y),this};goog.exportProperty(box2d.b2AABB.prototype,"Combine2",box2d.b2AABB.prototype.Combine2);box2d.b2AABB.Combine=function(x,V,o){return o.Combine2(x,V),o};goog.exportProperty(box2d.b2AABB,"Combine",box2d.b2AABB.Combine);box2d.b2AABB.prototype.Contains=function(x){var V;return V=(V=(V=(V=this.lowerBound.x<=x.lowerBound.x)&&this.lowerBound.y<=x.lowerBound.y)&&x.upperBound.x<=this.upperBound.x)&&x.upperBound.y<=this.upperBound.y};goog.exportProperty(box2d.b2AABB.prototype,"Contains",box2d.b2AABB.prototype.Contains);box2d.b2AABB.prototype.RayCast=function(x,V){var o=-box2d.b2_maxFloat,_o=box2d.b2_maxFloat,_r=V.p1.x,l=V.p1.y,e_=V.p2.x-V.p1.x,o_=V.p2.y-V.p1.y,i_=box2d.b2Abs(e_),_e=box2d.b2Abs(o_),c_=x.normal;if(i_<box2d.b2_epsilon){if(_r<this.lowerBound.x||this.upperBound.x<_r)return!1}else if(i_=1/e_,e_=(this.lowerBound.x-_r)*i_,_r=(this.upperBound.x-_r)*i_,i_=-1,e_>_r&&(i_=e_,e_=_r,_r=i_,i_=1),e_>o&&(c_.x=i_,c_.y=0,o=e_),_o=box2d.b2Min(_o,_r),o>_o)return!1;if(_e<box2d.b2_epsilon){if(l<this.lowerBound.y||this.upperBound.y<l)return!1}else if(i_=1/o_,e_=(this.lowerBound.y-l)*i_,_r=(this.upperBound.y-l)*i_,i_=-1,e_>_r&&(i_=e_,e_=_r,_r=i_,i_=1),e_>o&&(c_.x=0,c_.y=i_,o=e_),_o=box2d.b2Min(_o,_r),o>_o)return!1;return 0>o||V.maxFraction<o?!1:(x.fraction=o,!0)};goog.exportProperty(box2d.b2AABB.prototype,"RayCast",box2d.b2AABB.prototype.RayCast);box2d.b2AABB.prototype.TestOverlap=function(x){var V=x.lowerBound.y-this.upperBound.y,o=this.lowerBound.y-x.upperBound.y;return!(0<x.lowerBound.x-this.upperBound.x||0<V||0<this.lowerBound.x-x.upperBound.x||0<o)};goog.exportProperty(box2d.b2AABB.prototype,"TestOverlap",box2d.b2AABB.prototype.TestOverlap);box2d.b2TestOverlapAABB=function(x,V){var o=V.lowerBound.y-x.upperBound.y,_o=x.lowerBound.y-V.upperBound.y;return!(0<V.lowerBound.x-x.upperBound.x||0<o||0<x.lowerBound.x-V.upperBound.x||0<_o)};goog.exportSymbol("box2d.b2TestOverlapAABB",box2d.b2TestOverlapAABB);box2d.b2ClipSegmentToLine=function(x,V,o,_o,_r){var l=0,e_=V[0];V=V[1];var o_=box2d.b2Dot_V2_V2(o,e_.v)-_o;return o=box2d.b2Dot_V2_V2(o,V.v)-_o,0>=o_&&x[l++].Copy(e_),0>=o&&x[l++].Copy(V),0>o_*o&&(o=o_/(o_-o),_o=x[l].v,_o.x=e_.v.x+o*(V.v.x-e_.v.x),_o.y=e_.v.y+o*(V.v.y-e_.v.y),x=x[l].id,x.cf.indexA=_r,x.cf.indexB=e_.id.cf.indexB,x.cf.typeA=box2d.b2ContactFeatureType.e_vertex,x.cf.typeB=box2d.b2ContactFeatureType.e_face,++l),l};goog.exportSymbol("box2d.b2ClipSegmentToLine",box2d.b2ClipSegmentToLine);box2d.b2TestOverlapShape=function(x,V,o,_o,_r,l){var e_=box2d.b2TestOverlapShape.s_input.Reset();return e_.proxyA.SetShape(x,V),e_.proxyB.SetShape(o,_o),e_.transformA.Copy(_r),e_.transformB.Copy(l),e_.useRadii=!0,x=box2d.b2TestOverlapShape.s_simplexCache.Reset(),x.count=0,V=box2d.b2TestOverlapShape.s_output.Reset(),box2d.b2ShapeDistance(V,x,e_),V.distance<10*box2d.b2_epsilon};goog.exportSymbol("box2d.b2TestOverlapShape",box2d.b2TestOverlapShape);box2d.b2TestOverlapShape.s_input=new box2d.b2DistanceInput;box2d.b2TestOverlapShape.s_simplexCache=new box2d.b2SimplexCache;box2d.b2TestOverlapShape.s_output=new box2d.b2DistanceOutput;box2d.b2CollideCircle={};box2d.b2CollideCircles=function(x,V,o,_o,_r){x.pointCount=0,o=box2d.b2Mul_X_V2(o,V.m_p,box2d.b2CollideCircles.s_pA),_r=box2d.b2Mul_X_V2(_r,_o.m_p,box2d.b2CollideCircles.s_pB),_r=box2d.b2DistanceSquared(o,_r),o=V.m_radius+_o.m_radius,_r>o*o||(x.type=box2d.b2ManifoldType.e_circles,x.localPoint.Copy(V.m_p),x.localNormal.SetZero(),x.pointCount=1,x.points[0].localPoint.Copy(_o.m_p),x.points[0].id.key=0)};goog.exportSymbol("box2d.b2CollideCircles",box2d.b2CollideCircles);box2d.b2CollideCircles.s_pA=new box2d.b2Vec2;box2d.b2CollideCircles.s_pB=new box2d.b2Vec2;box2d.b2CollidePolygonAndCircle=function(x,V,o,_o,_r){x.pointCount=0,_r=box2d.b2Mul_X_V2(_r,_o.m_p,box2d.b2CollidePolygonAndCircle.s_c),o=box2d.b2MulT_X_V2(o,_r,box2d.b2CollidePolygonAndCircle.s_cLocal);var l=0,e_=-box2d.b2_maxFloat;_r=V.m_radius+_o.m_radius;var o_=V.m_count,i_=V.m_vertices;V=V.m_normals;for(var _e=0;_e<o_;++_e){var c_=box2d.b2Dot_V2_V2(V[_e],box2d.b2Sub_V2_V2(o,i_[_e],box2d.b2Vec2.s_t0));if(c_>_r)return;c_>e_&&(e_=c_,l=_e)}_e=l,c_=i_[_e],o_=i_[(_e+1)%o_],e_<box2d.b2_epsilon?(x.pointCount=1,x.type=box2d.b2ManifoldType.e_faceA,x.localNormal.Copy(V[l]),box2d.b2Mid_V2_V2(c_,o_,x.localPoint),x.points[0].localPoint.Copy(_o.m_p),x.points[0].id.key=0):(e_=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o,c_,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(o_,c_,box2d.b2Vec2.s_t1)),l=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o,o_,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(c_,o_,box2d.b2Vec2.s_t1)),0>=e_?box2d.b2DistanceSquared(o,c_)>_r*_r||(x.pointCount=1,x.type=box2d.b2ManifoldType.e_faceA,box2d.b2Sub_V2_V2(o,c_,x.localNormal).SelfNormalize(),x.localPoint.Copy(c_),x.points[0].localPoint.Copy(_o.m_p),x.points[0].id.key=0):0>=l?box2d.b2DistanceSquared(o,o_)>_r*_r||(x.pointCount=1,x.type=box2d.b2ManifoldType.e_faceA,box2d.b2Sub_V2_V2(o,o_,x.localNormal).SelfNormalize(),x.localPoint.Copy(o_),x.points[0].localPoint.Copy(_o.m_p),x.points[0].id.key=0):(l=box2d.b2Mid_V2_V2(c_,o_,box2d.b2CollidePolygonAndCircle.s_faceCenter),e_=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o,l,box2d.b2Vec2.s_t1),V[_e]),e_>_r||(x.pointCount=1,x.type=box2d.b2ManifoldType.e_faceA,x.localNormal.Copy(V[_e]).SelfNormalize(),x.localPoint.Copy(l),x.points[0].localPoint.Copy(_o.m_p),x.points[0].id.key=0)))};goog.exportSymbol("box2d.b2CollidePolygonAndCircle",box2d.b2CollidePolygonAndCircle);box2d.b2CollidePolygonAndCircle.s_c=new box2d.b2Vec2;box2d.b2CollidePolygonAndCircle.s_cLocal=new box2d.b2Vec2;box2d.b2CollidePolygonAndCircle.s_faceCenter=new box2d.b2Vec2;box2d.b2CollideEdge={};box2d.b2CollideEdgeAndCircle=function(x,V,o,_o,_r){x.pointCount=0,o=box2d.b2MulT_X_V2(o,box2d.b2Mul_X_V2(_r,_o.m_p,box2d.b2Vec2.s_t0),box2d.b2CollideEdgeAndCircle.s_Q);var l=V.m_vertex1,e_=V.m_vertex2,o_=box2d.b2Sub_V2_V2(e_,l,box2d.b2CollideEdgeAndCircle.s_e),i_=box2d.b2Dot_V2_V2(o_,box2d.b2Sub_V2_V2(e_,o,box2d.b2Vec2.s_t0)),_e=box2d.b2Dot_V2_V2(o_,box2d.b2Sub_V2_V2(o,l,box2d.b2Vec2.s_t0)),c_=V.m_radius+_o.m_radius;if(_r=box2d.b2CollideEdgeAndCircle.s_id,_r.cf.indexB=0,_r.cf.typeB=box2d.b2ContactFeatureType.e_vertex,0>=_e){var ws=l,i_=box2d.b2Sub_V2_V2(o,ws,box2d.b2CollideEdgeAndCircle.s_d),i_=box2d.b2Dot_V2_V2(i_,i_);if(!(i_>c_*c_)){if(V.m_hasVertex0&&(V=box2d.b2Sub_V2_V2(l,V.m_vertex0,box2d.b2CollideEdgeAndCircle.s_e1),0<box2d.b2Dot_V2_V2(V,box2d.b2Sub_V2_V2(l,o,box2d.b2Vec2.s_t0))))return;_r.cf.indexA=0,_r.cf.typeA=box2d.b2ContactFeatureType.e_vertex,x.pointCount=1,x.type=box2d.b2ManifoldType.e_circles,x.localNormal.SetZero(),x.localPoint.Copy(ws),x.points[0].id.Copy(_r),x.points[0].localPoint.Copy(_o.m_p)}}else if(0>=i_){if(ws=e_,i_=box2d.b2Sub_V2_V2(o,ws,box2d.b2CollideEdgeAndCircle.s_d),i_=box2d.b2Dot_V2_V2(i_,i_),!(i_>c_*c_)){if(V.m_hasVertex3&&(l=box2d.b2Sub_V2_V2(V.m_vertex3,e_,box2d.b2CollideEdgeAndCircle.s_e2),0<box2d.b2Dot_V2_V2(l,box2d.b2Sub_V2_V2(o,e_,box2d.b2Vec2.s_t0))))return;_r.cf.indexA=1,_r.cf.typeA=box2d.b2ContactFeatureType.e_vertex,x.pointCount=1,x.type=box2d.b2ManifoldType.e_circles,x.localNormal.SetZero(),x.localPoint.Copy(ws),x.points[0].id.Copy(_r),x.points[0].localPoint.Copy(_o.m_p)}}else V=box2d.b2Dot_V2_V2(o_,o_),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<V),ws=box2d.b2CollideEdgeAndCircle.s_P,ws.x=1/V*(i_*l.x+_e*e_.x),ws.y=1/V*(i_*l.y+_e*e_.y),i_=box2d.b2Sub_V2_V2(o,ws,box2d.b2CollideEdgeAndCircle.s_d),i_=box2d.b2Dot_V2_V2(i_,i_),i_>c_*c_||(ws=box2d.b2CollideEdgeAndCircle.s_n.Set(-o_.y,o_.x),0>box2d.b2Dot_V2_V2(ws,box2d.b2Sub_V2_V2(o,l,box2d.b2Vec2.s_t0))&&ws.Set(-ws.x,-ws.y),ws.Normalize(),_r.cf.indexA=0,_r.cf.typeA=box2d.b2ContactFeatureType.e_face,x.pointCount=1,x.type=box2d.b2ManifoldType.e_faceA,x.localNormal.Copy(ws),x.localPoint.Copy(l),x.points[0].id.Copy(_r),x.points[0].localPoint.Copy(_o.m_p))};goog.exportSymbol("box2d.b2CollideEdgeAndCircle",box2d.b2CollideEdgeAndCircle);box2d.b2CollideEdgeAndCircle.s_Q=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_e=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_d=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_e1=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_e2=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_P=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_n=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_id=new box2d.b2ContactID;box2d.b2EPAxisType={e_unknown:0,e_edgeA:1,e_edgeB:2};goog.exportSymbol("box2d.b2EPAxisType",box2d.b2EPAxisType);goog.exportProperty(box2d.b2EPAxisType,"e_unknown",box2d.b2EPAxisType.e_unknown);goog.exportProperty(box2d.b2EPAxisType,"e_edgeA",box2d.b2EPAxisType.e_edgeA);goog.exportProperty(box2d.b2EPAxisType,"e_edgeB",box2d.b2EPAxisType.e_edgeB);box2d.b2EPAxis=function(){};goog.exportSymbol("box2d.b2EPAxis",box2d.b2EPAxis);box2d.b2EPAxis.prototype.type=box2d.b2EPAxisType.e_unknown;goog.exportProperty(box2d.b2EPAxis.prototype,"type",box2d.b2EPAxis.prototype.type);box2d.b2EPAxis.prototype.index=0;goog.exportProperty(box2d.b2EPAxis.prototype,"index",box2d.b2EPAxis.prototype.index);box2d.b2EPAxis.prototype.separation=0;goog.exportProperty(box2d.b2EPAxis.prototype,"separation",box2d.b2EPAxis.prototype.separation);box2d.b2TempPolygon=function(){this.vertices=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices),this.normals=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices),this.count=0};goog.exportSymbol("box2d.b2TempPolygon",box2d.b2TempPolygon);box2d.b2TempPolygon.prototype.vertices=null;goog.exportProperty(box2d.b2TempPolygon.prototype,"vertices",box2d.b2TempPolygon.prototype.vertices);box2d.b2TempPolygon.prototype.normals=null;goog.exportProperty(box2d.b2TempPolygon.prototype,"normals",box2d.b2TempPolygon.prototype.normals);box2d.b2TempPolygon.prototype.count=0;goog.exportProperty(box2d.b2TempPolygon.prototype,"count",box2d.b2TempPolygon.prototype.count);box2d.b2ReferenceFace=function(){this.i2=this.i1=0,this.v1=new box2d.b2Vec2,this.v2=new box2d.b2Vec2,this.normal=new box2d.b2Vec2,this.sideNormal1=new box2d.b2Vec2,this.sideOffset1=0,this.sideNormal2=new box2d.b2Vec2,this.sideOffset2=0};goog.exportSymbol("box2d.b2ReferenceFace",box2d.b2ReferenceFace);box2d.b2ReferenceFace.prototype.i1=0;goog.exportProperty(box2d.b2ReferenceFace.prototype,"i1",box2d.b2ReferenceFace.prototype.i1);box2d.b2ReferenceFace.prototype.i2=0;goog.exportProperty(box2d.b2ReferenceFace.prototype,"i2",box2d.b2ReferenceFace.prototype.i2);box2d.b2ReferenceFace.prototype.v1=null;goog.exportProperty(box2d.b2ReferenceFace.prototype,"v1",box2d.b2ReferenceFace.prototype.v1);box2d.b2ReferenceFace.prototype.v2=null;goog.exportProperty(box2d.b2ReferenceFace.prototype,"v2",box2d.b2ReferenceFace.prototype.v2);box2d.b2ReferenceFace.prototype.normal=null;goog.exportProperty(box2d.b2ReferenceFace.prototype,"normal",box2d.b2ReferenceFace.prototype.normal);box2d.b2ReferenceFace.prototype.sideNormal1=null;goog.exportProperty(box2d.b2ReferenceFace.prototype,"sideNormal1",box2d.b2ReferenceFace.prototype.sideNormal1);box2d.b2ReferenceFace.prototype.sideOffset1=0;goog.exportProperty(box2d.b2ReferenceFace.prototype,"sideOffset1",box2d.b2ReferenceFace.prototype.sideOffset1);box2d.b2ReferenceFace.prototype.sideNormal2=null;goog.exportProperty(box2d.b2ReferenceFace.prototype,"sideNormal2",box2d.b2ReferenceFace.prototype.sideNormal2);box2d.b2ReferenceFace.prototype.sideOffset2=0;goog.exportProperty(box2d.b2ReferenceFace.prototype,"sideOffset2",box2d.b2ReferenceFace.prototype.sideOffset2);box2d.b2EPColliderVertexType={e_isolated:0,e_concave:1,e_convex:2};goog.exportSymbol("box2d.b2EPColliderVertexType",box2d.b2EPColliderVertexType);goog.exportProperty(box2d.b2EPColliderVertexType,"e_isolated",box2d.b2EPColliderVertexType.e_isolated);goog.exportProperty(box2d.b2EPColliderVertexType,"e_concave",box2d.b2EPColliderVertexType.e_concave);goog.exportProperty(box2d.b2EPColliderVertexType,"e_convex",box2d.b2EPColliderVertexType.e_convex);box2d.b2EPCollider=function(){this.m_polygonB=new box2d.b2TempPolygon,this.m_xf=new box2d.b2Transform,this.m_centroidB=new box2d.b2Vec2,this.m_v0=new box2d.b2Vec2,this.m_v1=new box2d.b2Vec2,this.m_v2=new box2d.b2Vec2,this.m_v3=new box2d.b2Vec2,this.m_normal0=new box2d.b2Vec2,this.m_normal1=new box2d.b2Vec2,this.m_normal2=new box2d.b2Vec2,this.m_normal=new box2d.b2Vec2,this.m_type2=this.m_type1=box2d.b2EPColliderVertexType.e_isolated,this.m_lowerLimit=new box2d.b2Vec2,this.m_upperLimit=new box2d.b2Vec2,this.m_radius=0,this.m_front=!1};goog.exportSymbol("box2d.b2EPCollider",box2d.b2EPCollider);box2d.b2EPCollider.prototype.m_polygonB=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_polygonB",box2d.b2EPCollider.prototype.m_polygonB);box2d.b2EPCollider.prototype.m_xf=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_xf",box2d.b2EPCollider.prototype.m_xf);box2d.b2EPCollider.prototype.m_centroidB=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_centroidB",box2d.b2EPCollider.prototype.m_centroidB);box2d.b2EPCollider.prototype.m_v0=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_v0",box2d.b2EPCollider.prototype.m_v0);box2d.b2EPCollider.prototype.m_v1=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_v1",box2d.b2EPCollider.prototype.m_v1);box2d.b2EPCollider.prototype.m_v2=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_v2",box2d.b2EPCollider.prototype.m_v2);box2d.b2EPCollider.prototype.m_v3=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_v3",box2d.b2EPCollider.prototype.m_v3);box2d.b2EPCollider.prototype.m_normal0=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_normal0",box2d.b2EPCollider.prototype.m_normal0);box2d.b2EPCollider.prototype.m_normal1=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_normal1",box2d.b2EPCollider.prototype.m_normal1);box2d.b2EPCollider.prototype.m_normal2=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_normal2",box2d.b2EPCollider.prototype.m_normal2);box2d.b2EPCollider.prototype.m_normal=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_normal",box2d.b2EPCollider.prototype.m_normal);box2d.b2EPCollider.prototype.m_type1=box2d.b2EPColliderVertexType.e_isolated;goog.exportProperty(box2d.b2EPCollider.prototype,"m_type1",box2d.b2EPCollider.prototype.m_type1);box2d.b2EPCollider.prototype.m_type2=box2d.b2EPColliderVertexType.e_isolated;goog.exportProperty(box2d.b2EPCollider.prototype,"m_type2",box2d.b2EPCollider.prototype.m_type2);box2d.b2EPCollider.prototype.m_lowerLimit=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_lowerLimit",box2d.b2EPCollider.prototype.m_lowerLimit);box2d.b2EPCollider.prototype.m_upperLimit=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_upperLimit",box2d.b2EPCollider.prototype.m_upperLimit);box2d.b2EPCollider.prototype.m_radius=0;goog.exportProperty(box2d.b2EPCollider.prototype,"m_radius",box2d.b2EPCollider.prototype.m_radius);box2d.b2EPCollider.prototype.m_front=!1;goog.exportProperty(box2d.b2EPCollider.prototype,"m_front",box2d.b2EPCollider.prototype.m_front);box2d.b2EPCollider.prototype.Collide=function(x,V,o,_o,_r){box2d.b2MulT_X_X(o,_r,this.m_xf),box2d.b2Mul_X_V2(this.m_xf,_o.m_centroid,this.m_centroidB),this.m_v0.Copy(V.m_vertex0),this.m_v1.Copy(V.m_vertex1),this.m_v2.Copy(V.m_vertex2),this.m_v3.Copy(V.m_vertex3),o=V.m_hasVertex0,V=V.m_hasVertex3,_r=box2d.b2Sub_V2_V2(this.m_v2,this.m_v1,box2d.b2EPCollider.s_edge1),_r.Normalize(),this.m_normal1.Set(_r.y,-_r.x);var l=box2d.b2Dot_V2_V2(this.m_normal1,box2d.b2Sub_V2_V2(this.m_centroidB,this.m_v1,box2d.b2Vec2.s_t0)),e_=0,o_=0,i_=!1,_e=!1;for(o&&(e_=box2d.b2Sub_V2_V2(this.m_v1,this.m_v0,box2d.b2EPCollider.s_edge0),e_.Normalize(),this.m_normal0.Set(e_.y,-e_.x),i_=0<=box2d.b2Cross_V2_V2(e_,_r),e_=box2d.b2Dot_V2_V2(this.m_normal0,box2d.b2Sub_V2_V2(this.m_centroidB,this.m_v0,box2d.b2Vec2.s_t0))),V&&(o_=box2d.b2Sub_V2_V2(this.m_v3,this.m_v2,box2d.b2EPCollider.s_edge2),o_.Normalize(),this.m_normal2.Set(o_.y,-o_.x),_e=0<box2d.b2Cross_V2_V2(_r,o_),o_=box2d.b2Dot_V2_V2(this.m_normal2,box2d.b2Sub_V2_V2(this.m_centroidB,this.m_v2,box2d.b2Vec2.s_t0))),o&&V?i_&&_e?(this.m_front=0<=e_||0<=l||0<=o_)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):i_?(this.m_front=0<=e_||0<=l&&0<=o_)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):_e?(this.m_front=0<=o_||0<=e_&&0<=l)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg()):(this.m_front=0<=e_&&0<=l&&0<=o_)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg()):o?i_?((this.m_front=0<=e_||0<=l)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1)),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_front=0<=e_&&0<=l)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal0).SelfNeg()):V?_e?(this.m_front=0<=l||0<=o_)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1)):((this.m_front=0<=l&&0<=o_)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg()),this.m_upperLimit.Copy(this.m_normal1)):(this.m_front=0<=l)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)),this.m_polygonB.count=_o.m_count,l=0,e_=_o.m_count;l<e_;++l)box2d.b2Mul_X_V2(this.m_xf,_o.m_vertices[l],this.m_polygonB.vertices[l]),box2d.b2Mul_R_V2(this.m_xf.q,_o.m_normals[l],this.m_polygonB.normals[l]);if(this.m_radius=2*box2d.b2_polygonRadius,x.pointCount=0,o=this.ComputeEdgeSeparation(box2d.b2EPCollider.s_edgeAxis),!(o.type===box2d.b2EPAxisType.e_unknown||o.separation>this.m_radius||(V=this.ComputePolygonSeparation(box2d.b2EPCollider.s_polygonAxis),V.type!==box2d.b2EPAxisType.e_unknown&&V.separation>this.m_radius))){if(o=V.type===box2d.b2EPAxisType.e_unknown?o:V.separation>.98*o.separation+.001?V:o,_r=box2d.b2EPCollider.s_ie,V=box2d.b2EPCollider.s_rf,o.type===box2d.b2EPAxisType.e_edgeA){for(x.type=box2d.b2ManifoldType.e_faceA,o_=0,i_=box2d.b2Dot_V2_V2(this.m_normal,this.m_polygonB.normals[0]),l=1,e_=this.m_polygonB.count;l<e_;++l)_e=box2d.b2Dot_V2_V2(this.m_normal,this.m_polygonB.normals[l]),_e<i_&&(i_=_e,o_=l);e_=o_,l=(e_+1)%this.m_polygonB.count,o_=_r[0],o_.v.Copy(this.m_polygonB.vertices[e_]),o_.id.cf.indexA=0,o_.id.cf.indexB=e_,o_.id.cf.typeA=box2d.b2ContactFeatureType.e_face,o_.id.cf.typeB=box2d.b2ContactFeatureType.e_vertex,e_=_r[1],e_.v.Copy(this.m_polygonB.vertices[l]),e_.id.cf.indexA=0,e_.id.cf.indexB=l,e_.id.cf.typeA=box2d.b2ContactFeatureType.e_face,e_.id.cf.typeB=box2d.b2ContactFeatureType.e_vertex,this.m_front?(V.i1=0,V.i2=1,V.v1.Copy(this.m_v1),V.v2.Copy(this.m_v2),V.normal.Copy(this.m_normal1)):(V.i1=1,V.i2=0,V.v1.Copy(this.m_v2),V.v2.Copy(this.m_v1),V.normal.Copy(this.m_normal1).SelfNeg())}else x.type=box2d.b2ManifoldType.e_faceB,o_=_r[0],o_.v.Copy(this.m_v1),o_.id.cf.indexA=0,o_.id.cf.indexB=o.index,o_.id.cf.typeA=box2d.b2ContactFeatureType.e_vertex,o_.id.cf.typeB=box2d.b2ContactFeatureType.e_face,e_=_r[1],e_.v.Copy(this.m_v2),e_.id.cf.indexA=0,e_.id.cf.indexB=o.index,e_.id.cf.typeA=box2d.b2ContactFeatureType.e_vertex,e_.id.cf.typeB=box2d.b2ContactFeatureType.e_face,V.i1=o.index,V.i2=(V.i1+1)%this.m_polygonB.count,V.v1.Copy(this.m_polygonB.vertices[V.i1]),V.v2.Copy(this.m_polygonB.vertices[V.i2]),V.normal.Copy(this.m_polygonB.normals[V.i1]);if(V.sideNormal1.Set(V.normal.y,-V.normal.x),V.sideNormal2.Copy(V.sideNormal1).SelfNeg(),V.sideOffset1=box2d.b2Dot_V2_V2(V.sideNormal1,V.v1),V.sideOffset2=box2d.b2Dot_V2_V2(V.sideNormal2,V.v2),l=box2d.b2EPCollider.s_clipPoints1,o_=box2d.b2EPCollider.s_clipPoints2,e_=0,e_=box2d.b2ClipSegmentToLine(l,_r,V.sideNormal1,V.sideOffset1,V.i1),!(e_<box2d.b2_maxManifoldPoints||(e_=box2d.b2ClipSegmentToLine(o_,l,V.sideNormal2,V.sideOffset2,V.i2),e_<box2d.b2_maxManifoldPoints))){for(o.type===box2d.b2EPAxisType.e_edgeA?(x.localNormal.Copy(V.normal),x.localPoint.Copy(V.v1)):(x.localNormal.Copy(_o.m_normals[V.i1]),x.localPoint.Copy(_o.m_vertices[V.i1])),l=_o=0,e_=box2d.b2_maxManifoldPoints;l<e_;++l)box2d.b2Dot_V2_V2(V.normal,box2d.b2Sub_V2_V2(o_[l].v,V.v1,box2d.b2Vec2.s_t0))<=this.m_radius&&(_r=x.points[_o],o.type===box2d.b2EPAxisType.e_edgeA?(box2d.b2MulT_X_V2(this.m_xf,o_[l].v,_r.localPoint),_r.id=o_[l].id):(_r.localPoint.Copy(o_[l].v),_r.id.cf.typeA=o_[l].id.cf.typeB,_r.id.cf.typeB=o_[l].id.cf.typeA,_r.id.cf.indexA=o_[l].id.cf.indexB,_r.id.cf.indexB=o_[l].id.cf.indexA),++_o);x.pointCount=_o}}};goog.exportProperty(box2d.b2EPCollider.prototype,"Collide",box2d.b2EPCollider.prototype.Collide);box2d.b2EPCollider.s_edge1=new box2d.b2Vec2;box2d.b2EPCollider.s_edge0=new box2d.b2Vec2;box2d.b2EPCollider.s_edge2=new box2d.b2Vec2;box2d.b2EPCollider.s_ie=box2d.b2ClipVertex.MakeArray(2);box2d.b2EPCollider.s_rf=new box2d.b2ReferenceFace;box2d.b2EPCollider.s_clipPoints1=box2d.b2ClipVertex.MakeArray(2);box2d.b2EPCollider.s_clipPoints2=box2d.b2ClipVertex.MakeArray(2);box2d.b2EPCollider.s_edgeAxis=new box2d.b2EPAxis;box2d.b2EPCollider.s_polygonAxis=new box2d.b2EPAxis;box2d.b2EPCollider.prototype.ComputeEdgeSeparation=function(x){x.type=box2d.b2EPAxisType.e_edgeA,x.index=this.m_front?0:1,x.separation=box2d.b2_maxFloat;for(var V=0,o=this.m_polygonB.count;V<o;++V){var _o=box2d.b2Dot_V2_V2(this.m_normal,box2d.b2Sub_V2_V2(this.m_polygonB.vertices[V],this.m_v1,box2d.b2Vec2.s_t0));_o<x.separation&&(x.separation=_o)}return x};goog.exportProperty(box2d.b2EPCollider.prototype,"ComputeEdgeSeparation",box2d.b2EPCollider.prototype.ComputeEdgeSeparation);box2d.b2EPCollider.prototype.ComputePolygonSeparation=function(x){x.type=box2d.b2EPAxisType.e_unknown,x.index=-1,x.separation=-box2d.b2_maxFloat;for(var V=box2d.b2EPCollider.s_perp.Set(-this.m_normal.y,this.m_normal.x),o=0,_o=this.m_polygonB.count;o<_o;++o){var _r=box2d.b2EPCollider.s_n.Copy(this.m_polygonB.normals[o]).SelfNeg(),e_=box2d.b2Dot_V2_V2(_r,box2d.b2Sub_V2_V2(this.m_polygonB.vertices[o],this.m_v1,box2d.b2Vec2.s_t0)),l=box2d.b2Dot_V2_V2(_r,box2d.b2Sub_V2_V2(this.m_polygonB.vertices[o],this.m_v2,box2d.b2Vec2.s_t0)),e_=box2d.b2Min(e_,l);if(e_>this.m_radius){x.type=box2d.b2EPAxisType.e_edgeB,x.index=o,x.separation=e_;break}if(0<=box2d.b2Dot_V2_V2(_r,V)){if(box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_r,this.m_upperLimit,box2d.b2Vec2.s_t0),this.m_normal)<-box2d.b2_angularSlop)continue}else if(box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_r,this.m_lowerLimit,box2d.b2Vec2.s_t0),this.m_normal)<-box2d.b2_angularSlop)continue;e_>x.separation&&(x.type=box2d.b2EPAxisType.e_edgeB,x.index=o,x.separation=e_)}return x};goog.exportProperty(box2d.b2EPCollider.prototype,"ComputePolygonSeparation",box2d.b2EPCollider.prototype.ComputePolygonSeparation);box2d.b2EPCollider.s_n=new box2d.b2Vec2;box2d.b2EPCollider.s_perp=new box2d.b2Vec2;box2d.b2CollideEdgeAndPolygon=function(x,V,o,_o,_r){box2d.b2CollideEdgeAndPolygon.s_collider.Collide(x,V,o,_o,_r)};goog.exportSymbol("box2d.b2CollideEdgeAndPolygon",box2d.b2CollideEdgeAndPolygon);box2d.b2CollideEdgeAndPolygon.s_collider=new box2d.b2EPCollider;box2d.b2CollidePolygon={};box2d.b2FindMaxSeparation=function(x,V,o,_o,_r){var l=V.m_count,e_=_o.m_count,o_=V.m_normals;V=V.m_vertices,_o=_o.m_vertices,o=box2d.b2MulT_X_X(_r,o,box2d.b2FindMaxSeparation.s_xf),_r=0;for(var i_=-box2d.b2_maxFloat,_e=0;_e<l;++_e){for(var c_=box2d.b2Mul_R_V2(o.q,o_[_e],box2d.b2FindMaxSeparation.s_n),ws=box2d.b2Mul_X_V2(o,V[_e],box2d.b2FindMaxSeparation.s_v1),h_=box2d.b2_maxFloat,s_=0;s_<e_;++s_){var w_=box2d.b2Dot_V2_V2(c_,box2d.b2Sub_V2_V2(_o[s_],ws,box2d.b2Vec2.s_t0));w_<h_&&(h_=w_)}h_>i_&&(i_=h_,_r=_e)}return x[0]=_r,i_};goog.exportSymbol("box2d.b2FindMaxSeparation",box2d.b2FindMaxSeparation);box2d.b2FindMaxSeparation.s_xf=new box2d.b2Transform;box2d.b2FindMaxSeparation.s_n=new box2d.b2Vec2;box2d.b2FindMaxSeparation.s_v1=new box2d.b2Vec2;box2d.b2FindIncidentEdge=function(x,V,o,_o,_r,l){var e_=V.m_count,o_=V.m_normals,i_=_r.m_count;V=_r.m_vertices,_r=_r.m_normals,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=_o&&_o<e_),o=box2d.b2MulT_R_V2(l.q,box2d.b2Mul_R_V2(o.q,o_[_o],box2d.b2Vec2.s_t0),box2d.b2FindIncidentEdge.s_normal1);for(var e_=0,o_=box2d.b2_maxFloat,_e=0;_e<i_;++_e){var c_=box2d.b2Dot_V2_V2(o,_r[_e]);c_<o_&&(o_=c_,e_=_e)}_r=e_,i_=(_r+1)%i_,o=x[0],box2d.b2Mul_X_V2(l,V[_r],o.v),o=o.id.cf,o.indexA=_o,o.indexB=_r,o.typeA=box2d.b2ContactFeatureType.e_face,o.typeB=box2d.b2ContactFeatureType.e_vertex,x=x[1],box2d.b2Mul_X_V2(l,V[i_],x.v),l=x.id.cf,l.indexA=_o,l.indexB=i_,l.typeA=box2d.b2ContactFeatureType.e_face,l.typeB=box2d.b2ContactFeatureType.e_vertex};goog.exportSymbol("box2d.b2FindIncidentEdge",box2d.b2FindIncidentEdge);box2d.b2FindIncidentEdge.s_normal1=new box2d.b2Vec2;box2d.b2CollidePolygons=function(x,V,o,_o,_r){x.pointCount=0;var l=V.m_radius+_o.m_radius,e_=box2d.b2CollidePolygons.s_edgeA;e_[0]=0;var o_=box2d.b2FindMaxSeparation(e_,V,o,_o,_r);if(!(o_>l)){var i_=box2d.b2CollidePolygons.s_edgeB;i_[0]=0;var _e=box2d.b2FindMaxSeparation(i_,_o,_r,V,o);if(!(_e>l)){var ws=0,c_=0;_e>.98*o_+.001?(o_=_o,_o=V,V=_r,ws=i_[0],x.type=box2d.b2ManifoldType.e_faceB,c_=1):(o_=V,V=o,o=_r,ws=e_[0],x.type=box2d.b2ManifoldType.e_faceA,c_=0),e_=box2d.b2CollidePolygons.s_incidentEdge,box2d.b2FindIncidentEdge(e_,o_,V,ws,_o,o),_r=o_.m_vertices;var i_=ws,o_=(ws+1)%o_.m_count,L_=_r[i_],h_=_r[o_],ws=box2d.b2Sub_V2_V2(h_,L_,box2d.b2CollidePolygons.s_localTangent);ws.Normalize(),_r=box2d.b2Cross_V2_S(ws,1,box2d.b2CollidePolygons.s_localNormal),_o=box2d.b2Mid_V2_V2(L_,h_,box2d.b2CollidePolygons.s_planePoint);var _e=box2d.b2Mul_R_V2(V.q,ws,box2d.b2CollidePolygons.s_tangent),ws=box2d.b2Cross_V2_S(_e,1,box2d.b2CollidePolygons.s_normal),L_=box2d.b2Mul_X_V2(V,L_,box2d.b2CollidePolygons.s_v11),s_=box2d.b2Mul_X_V2(V,h_,box2d.b2CollidePolygons.s_v12);V=box2d.b2Dot_V2_V2(ws,L_);var h_=-box2d.b2Dot_V2_V2(_e,L_)+l,s_=box2d.b2Dot_V2_V2(_e,s_)+l,w_=box2d.b2CollidePolygons.s_clipPoints1,L_=box2d.b2CollidePolygons.s_clipPoints2,y_=box2d.b2CollidePolygons.s_ntangent.Copy(_e).SelfNeg(),e_=box2d.b2ClipSegmentToLine(w_,e_,y_,h_,i_);if(!(2>e_||(e_=box2d.b2ClipSegmentToLine(L_,w_,_e,s_,o_),2>e_))){for(x.localNormal.Copy(_r),x.localPoint.Copy(_o),i_=e_=0;i_<box2d.b2_maxManifoldPoints;++i_)_r=L_[i_],box2d.b2Dot_V2_V2(ws,_r.v)-V<=l&&(o_=x.points[e_],box2d.b2MulT_X_V2(o,_r.v,o_.localPoint),o_.id.Copy(_r.id),c_&&(_r=o_.id.cf,o_.id.cf.indexA=_r.indexB,o_.id.cf.indexB=_r.indexA,o_.id.cf.typeA=_r.typeB,o_.id.cf.typeB=_r.typeA),++e_);x.pointCount=e_}}}};goog.exportSymbol("box2d.b2CollidePolygons",box2d.b2CollidePolygons);box2d.b2CollidePolygons.s_incidentEdge=box2d.b2ClipVertex.MakeArray(2);box2d.b2CollidePolygons.s_clipPoints1=box2d.b2ClipVertex.MakeArray(2);box2d.b2CollidePolygons.s_clipPoints2=box2d.b2ClipVertex.MakeArray(2);box2d.b2CollidePolygons.s_edgeA=box2d.b2MakeNumberArray(1);box2d.b2CollidePolygons.s_edgeB=box2d.b2MakeNumberArray(1);box2d.b2CollidePolygons.s_localTangent=new box2d.b2Vec2;box2d.b2CollidePolygons.s_localNormal=new box2d.b2Vec2;box2d.b2CollidePolygons.s_planePoint=new box2d.b2Vec2;box2d.b2CollidePolygons.s_normal=new box2d.b2Vec2;box2d.b2CollidePolygons.s_tangent=new box2d.b2Vec2;box2d.b2CollidePolygons.s_ntangent=new box2d.b2Vec2;box2d.b2CollidePolygons.s_v11=new box2d.b2Vec2;box2d.b2CollidePolygons.s_v12=new box2d.b2Vec2;box2d.b2TreeNode=function(x){this.m_id=x||0,this.aabb=new box2d.b2AABB};goog.exportSymbol("box2d.b2TreeNode",box2d.b2TreeNode);box2d.b2TreeNode.prototype.m_id=0;goog.exportProperty(box2d.b2TreeNode.prototype,"m_id",box2d.b2TreeNode.prototype.m_id);box2d.b2TreeNode.prototype.aabb=null;goog.exportProperty(box2d.b2TreeNode.prototype,"aabb",box2d.b2TreeNode.prototype.aabb);box2d.b2TreeNode.prototype.userData=null;goog.exportProperty(box2d.b2TreeNode.prototype,"userData",box2d.b2TreeNode.prototype.userData);box2d.b2TreeNode.prototype.parent=null;goog.exportProperty(box2d.b2TreeNode.prototype,"parent",box2d.b2TreeNode.prototype.parent);box2d.b2TreeNode.prototype.child1=null;goog.exportProperty(box2d.b2TreeNode.prototype,"child1",box2d.b2TreeNode.prototype.child1);box2d.b2TreeNode.prototype.child2=null;goog.exportProperty(box2d.b2TreeNode.prototype,"child2",box2d.b2TreeNode.prototype.child2);box2d.b2TreeNode.prototype.height=0;goog.exportProperty(box2d.b2TreeNode.prototype,"height",box2d.b2TreeNode.prototype.height);box2d.b2TreeNode.prototype.IsLeaf=function(){return this.child1===null};goog.exportProperty(box2d.b2TreeNode.prototype,"IsLeaf",box2d.b2TreeNode.prototype.IsLeaf);box2d.b2DynamicTree=function(){};goog.exportSymbol("box2d.b2DynamicTree",box2d.b2DynamicTree);box2d.b2DynamicTree.prototype.m_root=null;goog.exportProperty(box2d.b2DynamicTree.prototype,"m_root",box2d.b2DynamicTree.prototype.m_root);box2d.b2DynamicTree.prototype.m_freeList=null;goog.exportProperty(box2d.b2DynamicTree.prototype,"m_freeList",box2d.b2DynamicTree.prototype.m_freeList);box2d.b2DynamicTree.prototype.m_path=0;goog.exportProperty(box2d.b2DynamicTree.prototype,"m_path",box2d.b2DynamicTree.prototype.m_path);box2d.b2DynamicTree.prototype.m_insertionCount=0;goog.exportProperty(box2d.b2DynamicTree.prototype,"m_insertionCount",box2d.b2DynamicTree.prototype.m_insertionCount);box2d.b2DynamicTree.s_stack=new box2d.b2GrowableStack(256);box2d.b2DynamicTree.s_r=new box2d.b2Vec2;box2d.b2DynamicTree.s_v=new box2d.b2Vec2;box2d.b2DynamicTree.s_abs_v=new box2d.b2Vec2;box2d.b2DynamicTree.s_segmentAABB=new box2d.b2AABB;box2d.b2DynamicTree.s_subInput=new box2d.b2RayCastInput;box2d.b2DynamicTree.s_combinedAABB=new box2d.b2AABB;box2d.b2DynamicTree.s_aabb=new box2d.b2AABB;box2d.b2DynamicTree.prototype.GetUserData=function(x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(x!==null),x.userData};goog.exportProperty(box2d.b2DynamicTree.prototype,"GetUserData",box2d.b2DynamicTree.prototype.GetUserData);box2d.b2DynamicTree.prototype.GetFatAABB=function(x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(x!==null),x.aabb};goog.exportProperty(box2d.b2DynamicTree.prototype,"GetFatAABB",box2d.b2DynamicTree.prototype.GetFatAABB);box2d.b2DynamicTree.prototype.Query=function(x,V){if(this.m_root!==null){var o=box2d.b2DynamicTree.s_stack.Reset();for(o.Push(this.m_root);0<o.GetCount();){var _o=o.Pop();if(_o!==null&&_o.aabb.TestOverlap(V))if(_o.IsLeaf()){if(!x(_o))break}else o.Push(_o.child1),o.Push(_o.child2)}}};goog.exportProperty(box2d.b2DynamicTree.prototype,"Query",box2d.b2DynamicTree.prototype.Query);box2d.b2DynamicTree.prototype.RayCast=function(x,V){if(this.m_root!==null){var o=V.p1,_o=V.p2,_r=box2d.b2Sub_V2_V2(_o,o,box2d.b2DynamicTree.s_r);box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<_r.LengthSquared()),_r.Normalize();var _r=box2d.b2Cross_S_V2(1,_r,box2d.b2DynamicTree.s_v),l=box2d.b2Abs_V2(_r,box2d.b2DynamicTree.s_abs_v),e_=V.maxFraction,o_=box2d.b2DynamicTree.s_segmentAABB,i_=o.x+e_*(_o.x-o.x),_e=o.y+e_*(_o.y-o.y);o_.lowerBound.x=box2d.b2Min(o.x,i_),o_.lowerBound.y=box2d.b2Min(o.y,_e),o_.upperBound.x=box2d.b2Max(o.x,i_),o_.upperBound.y=box2d.b2Max(o.y,_e);var c_=box2d.b2DynamicTree.s_stack.Reset();for(c_.Push(this.m_root);0<c_.GetCount();)if(i_=c_.Pop(),i_!==null&&box2d.b2TestOverlapAABB(i_.aabb,o_)){var _e=i_.aabb.GetCenter(),ws=i_.aabb.GetExtents();if(!(0<box2d.b2Abs(box2d.b2Dot_V2_V2(_r,box2d.b2Sub_V2_V2(o,_e,box2d.b2Vec2.s_t0)))-box2d.b2Dot_V2_V2(l,ws)))if(i_.IsLeaf()){if(_e=box2d.b2DynamicTree.s_subInput,_e.p1.Copy(V.p1),_e.p2.Copy(V.p2),_e.maxFraction=e_,i_=x(_e,i_),i_===0)break;0<i_&&(e_=i_,i_=o.x+e_*(_o.x-o.x),_e=o.y+e_*(_o.y-o.y),o_.lowerBound.x=box2d.b2Min(o.x,i_),o_.lowerBound.y=box2d.b2Min(o.y,_e),o_.upperBound.x=box2d.b2Max(o.x,i_),o_.upperBound.y=box2d.b2Max(o.y,_e))}else c_.Push(i_.child1),c_.Push(i_.child2)}}};goog.exportProperty(box2d.b2DynamicTree.prototype,"RayCast",box2d.b2DynamicTree.prototype.RayCast);box2d.b2DynamicTree.prototype.AllocateNode=function(){if(this.m_freeList){var x=this.m_freeList;return this.m_freeList=x.parent,x.parent=null,x.child1=null,x.child2=null,x.height=0,x.userData=null,x}return new box2d.b2TreeNode(box2d.b2DynamicTree.prototype.s_node_id++)};goog.exportProperty(box2d.b2DynamicTree.prototype,"AllocateNode",box2d.b2DynamicTree.prototype.AllocateNode);box2d.b2DynamicTree.prototype.s_node_id=0;box2d.b2DynamicTree.prototype.FreeNode=function(x){x.parent=this.m_freeList,x.height=-1,this.m_freeList=x};goog.exportProperty(box2d.b2DynamicTree.prototype,"FreeNode",box2d.b2DynamicTree.prototype.FreeNode);box2d.b2DynamicTree.prototype.CreateProxy=function(x,V){var o=this.AllocateNode(),_o=box2d.b2_aabbExtension,_r=box2d.b2_aabbExtension;return o.aabb.lowerBound.x=x.lowerBound.x-_o,o.aabb.lowerBound.y=x.lowerBound.y-_r,o.aabb.upperBound.x=x.upperBound.x+_o,o.aabb.upperBound.y=x.upperBound.y+_r,o.userData=V,o.height=0,this.InsertLeaf(o),o};goog.exportProperty(box2d.b2DynamicTree.prototype,"CreateProxy",box2d.b2DynamicTree.prototype.CreateProxy);box2d.b2DynamicTree.prototype.DestroyProxy=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.IsLeaf()),this.RemoveLeaf(x),this.FreeNode(x)};goog.exportProperty(box2d.b2DynamicTree.prototype,"DestroyProxy",box2d.b2DynamicTree.prototype.DestroyProxy);box2d.b2DynamicTree.prototype.MoveProxy=function(x,V,o){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.IsLeaf()),x.aabb.Contains(V))return!1;this.RemoveLeaf(x);var _o=box2d.b2_aabbExtension+box2d.b2_aabbMultiplier*(0<o.x?o.x:-o.x);return o=box2d.b2_aabbExtension+box2d.b2_aabbMultiplier*(0<o.y?o.y:-o.y),x.aabb.lowerBound.x=V.lowerBound.x-_o,x.aabb.lowerBound.y=V.lowerBound.y-o,x.aabb.upperBound.x=V.upperBound.x+_o,x.aabb.upperBound.y=V.upperBound.y+o,this.InsertLeaf(x),!0};goog.exportProperty(box2d.b2DynamicTree.prototype,"MoveProxy",box2d.b2DynamicTree.prototype.MoveProxy);box2d.b2DynamicTree.prototype.InsertLeaf=function(x){if(++this.m_insertionCount,this.m_root===null)this.m_root=x,this.m_root.parent=null;else{var V=x.aabb;V.GetCenter();for(var o=this.m_root,_o,_r;!o.IsLeaf();){_o=o.child1,_r=o.child2;var l=o.aabb.GetPerimeter(),e_=box2d.b2DynamicTree.s_combinedAABB;e_.Combine2(o.aabb,V);var o_=e_.GetPerimeter(),e_=2*o_,o_=2*(o_-l),i_=box2d.b2DynamicTree.s_aabb,_e,c_;if(_o.IsLeaf()?(i_.Combine2(V,_o.aabb),l=i_.GetPerimeter()+o_):(i_.Combine2(V,_o.aabb),_e=_o.aabb.GetPerimeter(),c_=i_.GetPerimeter(),l=c_-_e+o_),_r.IsLeaf()?(i_.Combine2(V,_r.aabb),o_=i_.GetPerimeter()+o_):(i_.Combine2(V,_r.aabb),_e=_r.aabb.GetPerimeter(),c_=i_.GetPerimeter(),o_=c_-_e+o_),e_<l&&e_<o_)break;o=l<o_?_o:_r}for(_o=o.parent,_r=this.AllocateNode(),_r.parent=_o,_r.userData=null,_r.aabb.Combine2(V,o.aabb),_r.height=o.height+1,_o?(_o.child1===o?_o.child1=_r:_o.child2=_r,_r.child1=o,_r.child2=x,o.parent=_r,x.parent=_r):(_r.child1=o,_r.child2=x,o.parent=_r,this.m_root=x.parent=_r),o=x.parent;o!==null;)o=this.Balance(o),_o=o.child1,_r=o.child2,box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o!==null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_r!==null),o.height=1+box2d.b2Max(_o.height,_r.height),o.aabb.Combine2(_o.aabb,_r.aabb),o=o.parent}};goog.exportProperty(box2d.b2DynamicTree.prototype,"InsertLeaf",box2d.b2DynamicTree.prototype.InsertLeaf);box2d.b2DynamicTree.prototype.RemoveLeaf=function(x){if(x===this.m_root)this.m_root=null;else{var V=x.parent,o=V.parent;if(x=V.child1===x?V.child2:V.child1,o)for(o.child1===V?o.child1=x:o.child2=x,x.parent=o,this.FreeNode(V),V=o;V;)V=this.Balance(V),o=V.child1,x=V.child2,V.aabb.Combine2(o.aabb,x.aabb),V.height=1+box2d.b2Max(o.height,x.height),V=V.parent;else this.m_root=x,x.parent=null,this.FreeNode(V)}};goog.exportProperty(box2d.b2DynamicTree.prototype,"RemoveLeaf",box2d.b2DynamicTree.prototype.RemoveLeaf);box2d.b2DynamicTree.prototype.Balance=function(x){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(x!==null),x.IsLeaf()||2>x.height)return x;var V=x.child1,o=x.child2,_o=o.height-V.height;if(1<_o){var _o=o.child1,_r=o.child2;return o.child1=x,o.parent=x.parent,x.parent=o,o.parent!==null?o.parent.child1===x?o.parent.child1=o:(box2d.ENABLE_ASSERTS&&box2d.b2Assert(o.parent.child2===x),o.parent.child2=o):this.m_root=o,_o.height>_r.height?(o.child2=_o,x.child2=_r,_r.parent=x,x.aabb.Combine2(V.aabb,_r.aabb),o.aabb.Combine2(x.aabb,_o.aabb),x.height=1+box2d.b2Max(V.height,_r.height),o.height=1+box2d.b2Max(x.height,_o.height)):(o.child2=_r,x.child2=_o,_o.parent=x,x.aabb.Combine2(V.aabb,_o.aabb),o.aabb.Combine2(x.aabb,_r.aabb),x.height=1+box2d.b2Max(V.height,_o.height),o.height=1+box2d.b2Max(x.height,_r.height)),o}return-1>_o?(_o=V.child1,_r=V.child2,V.child1=x,V.parent=x.parent,x.parent=V,V.parent!==null?V.parent.child1===x?V.parent.child1=V:(box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.parent.child2===x),V.parent.child2=V):this.m_root=V,_o.height>_r.height?(V.child2=_o,x.child1=_r,_r.parent=x,x.aabb.Combine2(o.aabb,_r.aabb),V.aabb.Combine2(x.aabb,_o.aabb),x.height=1+box2d.b2Max(o.height,_r.height),V.height=1+box2d.b2Max(x.height,_o.height)):(V.child2=_r,x.child1=_o,_o.parent=x,x.aabb.Combine2(o.aabb,_o.aabb),V.aabb.Combine2(x.aabb,_r.aabb),x.height=1+box2d.b2Max(o.height,_o.height),V.height=1+box2d.b2Max(x.height,_r.height)),V):x};goog.exportProperty(box2d.b2DynamicTree.prototype,"Balance",box2d.b2DynamicTree.prototype.Balance);box2d.b2DynamicTree.prototype.GetHeight=function(){return this.m_root===null?0:this.m_root.height};goog.exportProperty(box2d.b2DynamicTree.prototype,"GetHeight",box2d.b2DynamicTree.prototype.GetHeight);box2d.b2DynamicTree.prototype.GetAreaRatio=function(){if(this.m_root===null)return 0;var x=this.m_root.aabb.GetPerimeter(),V=function(o){if(o===null||o.IsLeaf())return 0;var _o=o.aabb.GetPerimeter(),_o=_o+V(o.child1);return _o+=V(o.child2)};return V(this.m_root)/x};goog.exportProperty(box2d.b2DynamicTree.prototype,"GetAreaRatio",box2d.b2DynamicTree.prototype.GetAreaRatio);box2d.b2DynamicTree.prototype.ComputeHeightNode=function(x){if(x.IsLeaf())return 0;var V=this.ComputeHeightNode(x.child1);return x=this.ComputeHeightNode(x.child2),1+box2d.b2Max(V,x)};goog.exportProperty(box2d.b2DynamicTree.prototype,"ComputeHeightNode",box2d.b2DynamicTree.prototype.ComputeHeightNode);box2d.b2DynamicTree.prototype.ComputeHeight=function(){return this.ComputeHeightNode(this.m_root)};goog.exportProperty(box2d.b2DynamicTree.prototype,"ComputeHeight",box2d.b2DynamicTree.prototype.ComputeHeight);box2d.b2DynamicTree.prototype.ValidateStructure=function(x){if(x!==null){x===this.m_root&&box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.parent===null);var V=x.child1,o=x.child2;x.IsLeaf()?(box2d.ENABLE_ASSERTS&&box2d.b2Assert(V===null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(o===null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.height===0)):(box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.parent===x),box2d.ENABLE_ASSERTS&&box2d.b2Assert(o.parent===x),this.ValidateStructure(V),this.ValidateStructure(o))}};goog.exportProperty(box2d.b2DynamicTree.prototype,"ValidateStructure",box2d.b2DynamicTree.prototype.ValidateStructure);box2d.b2DynamicTree.prototype.ValidateMetrics=function(x){if(x!==null){var V=x.child1,o=x.child2;if(x.IsLeaf())box2d.ENABLE_ASSERTS&&box2d.b2Assert(V===null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(o===null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.height===0);else{var _o;_o=1+box2d.b2Max(V.height,o.height),box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.height===_o),_o=box2d.b2DynamicTree.s_aabb,_o.Combine2(V.aabb,o.aabb),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o.lowerBound===x.aabb.lowerBound),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o.upperBound===x.aabb.upperBound),this.ValidateMetrics(V),this.ValidateMetrics(o)}}};goog.exportProperty(box2d.b2DynamicTree.prototype,"ValidateMetrics",box2d.b2DynamicTree.prototype.ValidateMetrics);box2d.b2DynamicTree.prototype.Validate=function(){this.ValidateStructure(this.m_root),this.ValidateMetrics(this.m_root);for(var x=0,V=this.m_freeList;V!==null;)V=V.parent,++x;box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.GetHeight()===this.ComputeHeight())};goog.exportProperty(box2d.b2DynamicTree.prototype,"Validate",box2d.b2DynamicTree.prototype.Validate);box2d.b2DynamicTree.prototype.GetMaxBalance=function(){var x;return x=this.m_root,x===null||1>=x.height?x=0:(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!x.IsLeaf()),x=box2d.b2Abs(x.child2.height-x.child1.height),x=box2d.b2Max(0,x)),x};goog.exportProperty(box2d.b2DynamicTree.prototype,"GetMaxBalance",box2d.b2DynamicTree.prototype.GetMaxBalance);box2d.b2DynamicTree.prototype.RebuildBottomUp=function(){this.Validate()};goog.exportProperty(box2d.b2DynamicTree.prototype,"RebuildBottomUp",box2d.b2DynamicTree.prototype.RebuildBottomUp);box2d.b2DynamicTree.prototype.ShiftOrigin=function(x){var V=function(o,_o){if(o!==null&&!(1>=o.height)){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!o.IsLeaf());var _r=o.child2;V(o.child1,_o),V(_r,_o),o.aabb.lowerBound.SelfSub(_o),o.aabb.upperBound.SelfSub(_o)}};V(this.m_root,x)};goog.exportProperty(box2d.b2DynamicTree.prototype,"ShiftOrigin",box2d.b2DynamicTree.prototype.ShiftOrigin);box2d.b2Pair=function(){};goog.exportSymbol("box2d.b2Pair",box2d.b2Pair);box2d.b2Pair.prototype.proxyA=null;goog.exportProperty(box2d.b2Pair.prototype,"proxyA",box2d.b2Pair.prototype.proxyA);box2d.b2Pair.prototype.proxyB=null;goog.exportProperty(box2d.b2Pair.prototype,"proxyB",box2d.b2Pair.prototype.proxyB);box2d.b2BroadPhase=function(){this.m_tree=new box2d.b2DynamicTree,this.m_moveBuffer=[],this.m_pairBuffer=[]};goog.exportSymbol("box2d.b2BroadPhase",box2d.b2BroadPhase);box2d.b2BroadPhase.prototype.m_tree=null;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_tree",box2d.b2BroadPhase.prototype.m_tree);box2d.b2BroadPhase.prototype.m_proxyCount=0;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_proxyCount",box2d.b2BroadPhase.prototype.m_proxyCount);box2d.b2BroadPhase.prototype.m_moveCount=0;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_moveCount",box2d.b2BroadPhase.prototype.m_moveCount);box2d.b2BroadPhase.prototype.m_moveBuffer=null;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_moveBuffer",box2d.b2BroadPhase.prototype.m_moveBuffer);box2d.b2BroadPhase.prototype.m_pairCount=0;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_pairCount",box2d.b2BroadPhase.prototype.m_pairCount);box2d.b2BroadPhase.prototype.m_pairBuffer=null;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_pairBuffer",box2d.b2BroadPhase.prototype.m_pairBuffer);box2d.b2BroadPhase.prototype.CreateProxy=function(x,V){var o=this.m_tree.CreateProxy(x,V);return++this.m_proxyCount,this.BufferMove(o),o};goog.exportProperty(box2d.b2BroadPhase.prototype,"CreateProxy",box2d.b2BroadPhase.prototype.CreateProxy);box2d.b2BroadPhase.prototype.DestroyProxy=function(x){this.UnBufferMove(x),--this.m_proxyCount,this.m_tree.DestroyProxy(x)};goog.exportProperty(box2d.b2BroadPhase.prototype,"DestroyProxy",box2d.b2BroadPhase.prototype.DestroyProxy);box2d.b2BroadPhase.prototype.MoveProxy=function(x,V,o){this.m_tree.MoveProxy(x,V,o)&&this.BufferMove(x)};goog.exportProperty(box2d.b2BroadPhase.prototype,"MoveProxy",box2d.b2BroadPhase.prototype.MoveProxy);box2d.b2BroadPhase.prototype.TouchProxy=function(x){this.BufferMove(x)};goog.exportProperty(box2d.b2BroadPhase.prototype,"TouchProxy",box2d.b2BroadPhase.prototype.TouchProxy);box2d.b2BroadPhase.prototype.GetFatAABB=function(x){return this.m_tree.GetFatAABB(x)};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetFatAABB",box2d.b2BroadPhase.prototype.GetFatAABB);box2d.b2BroadPhase.prototype.GetUserData=function(x){return this.m_tree.GetUserData(x)};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetUserData",box2d.b2BroadPhase.prototype.GetUserData);box2d.b2BroadPhase.prototype.TestOverlap=function(x,V){var o=this.m_tree.GetFatAABB(x),_o=this.m_tree.GetFatAABB(V);return box2d.b2TestOverlapAABB(o,_o)};goog.exportProperty(box2d.b2BroadPhase.prototype,"TestOverlap",box2d.b2BroadPhase.prototype.TestOverlap);box2d.b2BroadPhase.prototype.GetProxyCount=function(){return this.m_proxyCount};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetProxyCount",box2d.b2BroadPhase.prototype.GetProxyCount);box2d.b2BroadPhase.prototype.GetTreeHeight=function(){return this.m_tree.GetHeight()};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetTreeHeight",box2d.b2BroadPhase.prototype.GetTreeHeight);box2d.b2BroadPhase.prototype.GetTreeBalance=function(){return this.m_tree.GetMaxBalance()};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetTreeBalance",box2d.b2BroadPhase.prototype.GetTreeBalance);box2d.b2BroadPhase.prototype.GetTreeQuality=function(){return this.m_tree.GetAreaRatio()};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetTreeQuality",box2d.b2BroadPhase.prototype.GetTreeQuality);box2d.b2BroadPhase.prototype.ShiftOrigin=function(x){this.m_tree.ShiftOrigin(x)};goog.exportProperty(box2d.b2BroadPhase.prototype,"ShiftOrigin",box2d.b2BroadPhase.prototype.ShiftOrigin);box2d.b2BroadPhase.prototype.UpdatePairs=function(x){for(var V=this.m_pairCount=0;V<this.m_moveCount;++V){var o=this.m_moveBuffer[V];if(o!==null){var _o=this,_r=this.m_tree.GetFatAABB(o);this.m_tree.Query(function(o_){if(o_.m_id===o.m_id)return!0;_o.m_pairCount===_o.m_pairBuffer.length&&(_o.m_pairBuffer[_o.m_pairCount]=new box2d.b2Pair);var i_=_o.m_pairBuffer[_o.m_pairCount];return o_.m_id<o.m_id?(i_.proxyA=o_,i_.proxyB=o):(i_.proxyA=o,i_.proxyB=o_),++_o.m_pairCount,!0},_r)}}for(this.m_moveCount=0,this.m_pairBuffer.length=this.m_pairCount,this.m_pairBuffer.sort(box2d.b2PairLessThan),V=0;V<this.m_pairCount;){var _r=this.m_pairBuffer[V],l=this.m_tree.GetUserData(_r.proxyA),e_=this.m_tree.GetUserData(_r.proxyB);for(x.AddPair(l,e_),++V;V<this.m_pairCount&&(l=this.m_pairBuffer[V],!(l.proxyA.m_id!==_r.proxyA.m_id||l.proxyB.m_id!==_r.proxyB.m_id));)++V}};goog.exportProperty(box2d.b2BroadPhase.prototype,"UpdatePairs",box2d.b2BroadPhase.prototype.UpdatePairs);box2d.b2BroadPhase.prototype.Query=function(x,V){this.m_tree.Query(x,V)};goog.exportProperty(box2d.b2BroadPhase.prototype,"Query",box2d.b2BroadPhase.prototype.Query);box2d.b2BroadPhase.prototype.RayCast=function(x,V){this.m_tree.RayCast(x,V)};goog.exportProperty(box2d.b2BroadPhase.prototype,"RayCast",box2d.b2BroadPhase.prototype.RayCast);box2d.b2BroadPhase.prototype.BufferMove=function(x){this.m_moveBuffer[this.m_moveCount]=x,++this.m_moveCount};goog.exportProperty(box2d.b2BroadPhase.prototype,"BufferMove",box2d.b2BroadPhase.prototype.BufferMove);box2d.b2BroadPhase.prototype.UnBufferMove=function(x){x=this.m_moveBuffer.indexOf(x),this.m_moveBuffer[x]=null};goog.exportProperty(box2d.b2BroadPhase.prototype,"UnBufferMove",box2d.b2BroadPhase.prototype.UnBufferMove);box2d.b2PairLessThan=function(x,V){return x.proxyA.m_id===V.proxyA.m_id?x.proxyB.m_id-V.proxyB.m_id:x.proxyA.m_id-V.proxyA.m_id};box2d.b2MassData=function(){this.center=new box2d.b2Vec2(0,0)};goog.exportSymbol("box2d.b2MassData",box2d.b2MassData);box2d.b2MassData.prototype.mass=0;goog.exportProperty(box2d.b2MassData.prototype,"mass",box2d.b2MassData.prototype.mass);box2d.b2MassData.prototype.center=null;goog.exportProperty(box2d.b2MassData.prototype,"center",box2d.b2MassData.prototype.center);box2d.b2MassData.prototype.I=0;goog.exportProperty(box2d.b2MassData.prototype,"I",box2d.b2MassData.prototype.I);box2d.b2ShapeType={e_unknown:-1,e_circleShape:0,e_edgeShape:1,e_polygonShape:2,e_chainShape:3,e_shapeTypeCount:4};goog.exportSymbol("box2d.b2ShapeType",box2d.b2ShapeType);goog.exportProperty(box2d.b2ShapeType,"e_unknown",box2d.b2ShapeType.e_unknown);goog.exportProperty(box2d.b2ShapeType,"e_circleShape",box2d.b2ShapeType.e_circleShape);goog.exportProperty(box2d.b2ShapeType,"e_edgeShape",box2d.b2ShapeType.e_edgeShape);goog.exportProperty(box2d.b2ShapeType,"e_polygonShape",box2d.b2ShapeType.e_polygonShape);goog.exportProperty(box2d.b2ShapeType,"e_chainShape",box2d.b2ShapeType.e_chainShape);goog.exportProperty(box2d.b2ShapeType,"e_shapeTypeCount",box2d.b2ShapeType.e_shapeTypeCount);box2d.b2Shape=function(x,V){this.m_type=x,this.m_radius=V};goog.exportSymbol("box2d.b2Shape",box2d.b2Shape);box2d.b2Shape.prototype.m_type=box2d.b2ShapeType.e_unknown;goog.exportProperty(box2d.b2Shape.prototype,"m_type",box2d.b2Shape.prototype.m_type);box2d.b2Shape.prototype.m_radius=0;goog.exportProperty(box2d.b2Shape.prototype,"m_radius",box2d.b2Shape.prototype.m_radius);box2d.b2Shape.prototype.Clone=function(){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),null};goog.exportProperty(box2d.b2Shape.prototype,"Clone",box2d.b2Shape.prototype.Clone);box2d.b2Shape.prototype.Copy=function(x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_type===x.m_type),this.m_radius=x.m_radius,this};goog.exportProperty(box2d.b2Shape.prototype,"Copy",box2d.b2Shape.prototype.Copy);box2d.b2Shape.prototype.GetType=function(){return this.m_type};goog.exportProperty(box2d.b2Shape.prototype,"GetType",box2d.b2Shape.prototype.GetType);box2d.b2Shape.prototype.GetChildCount=function(){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),0};goog.exportProperty(box2d.b2Shape.prototype,"GetChildCount",box2d.b2Shape.prototype.GetChildCount);box2d.b2Shape.prototype.TestPoint=function(x,V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),!1};goog.exportProperty(box2d.b2Shape.prototype,"TestPoint",box2d.b2Shape.prototype.TestPoint);box2d.b2Shape.prototype.ComputeDistance=function(x,V,o,_o){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),0};goog.exportProperty(box2d.b2Shape.prototype,"ComputeDistance",box2d.b2Shape.prototype.ComputeDistance);box2d.b2Shape.prototype.RayCast=function(x,V,o,_o){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),!1};goog.exportProperty(box2d.b2Shape.prototype,"RayCast",box2d.b2Shape.prototype.RayCast);box2d.b2Shape.prototype.ComputeAABB=function(x,V,o){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")};goog.exportProperty(box2d.b2Shape.prototype,"ComputeAABB",box2d.b2Shape.prototype.ComputeAABB);box2d.b2Shape.prototype.ComputeMass=function(x,V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")};goog.exportProperty(box2d.b2Shape.prototype,"ComputeMass",box2d.b2Shape.prototype.ComputeMass);box2d.b2Shape.prototype.SetupDistanceProxy=function(x,V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")};box2d.b2Shape.prototype.ComputeSubmergedArea=function(x,V,o,_o){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),0};goog.exportProperty(box2d.b2Shape.prototype,"ComputeSubmergedArea",box2d.b2Shape.prototype.ComputeSubmergedArea);box2d.b2Shape.prototype.Dump=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")};goog.exportProperty(box2d.b2Shape.prototype,"Dump",box2d.b2Shape.prototype.Dump);box2d.b2CircleShape=function(x){box2d.b2Shape.call(this,box2d.b2ShapeType.e_circleShape,x||0),this.m_p=new box2d.b2Vec2};goog.inherits(box2d.b2CircleShape,box2d.b2Shape);goog.exportSymbol("box2d.b2CircleShape",box2d.b2CircleShape);box2d.b2CircleShape.prototype.m_p=null;goog.exportProperty(box2d.b2CircleShape.prototype,"m_p",box2d.b2CircleShape.prototype.m_p);box2d.b2CircleShape.prototype.Clone=function(){return new box2d.b2CircleShape().Copy(this)};goog.exportProperty(box2d.b2CircleShape.prototype,"Clone",box2d.b2CircleShape.prototype.Clone);box2d.b2CircleShape.prototype.Copy=function(x){return box2d.b2Shape.prototype.Copy.call(this,x),box2d.ENABLE_ASSERTS&&box2d.b2Assert(x instanceof box2d.b2CircleShape),this.m_p.Copy(x.m_p),this};goog.exportProperty(box2d.b2CircleShape.prototype,"Copy",box2d.b2CircleShape.prototype.Copy);box2d.b2CircleShape.prototype.GetChildCount=function(){return 1};goog.exportProperty(box2d.b2CircleShape.prototype,"GetChildCount",box2d.b2CircleShape.prototype.GetChildCount);box2d.b2CircleShape.prototype.TestPoint=function(x,V){var o=box2d.b2Mul_X_V2(x,this.m_p,box2d.b2CircleShape.prototype.TestPoint.s_center),o=box2d.b2Sub_V2_V2(V,o,box2d.b2CircleShape.prototype.TestPoint.s_d);return box2d.b2Dot_V2_V2(o,o)<=box2d.b2Sq(this.m_radius)};goog.exportProperty(box2d.b2CircleShape.prototype,"TestPoint",box2d.b2CircleShape.prototype.TestPoint);box2d.b2CircleShape.prototype.TestPoint.s_center=new box2d.b2Vec2;box2d.b2CircleShape.prototype.TestPoint.s_d=new box2d.b2Vec2;box2d.b2CircleShape.prototype.ComputeDistance=function(x,V,o,_o){return x=box2d.b2Mul_X_V2(x,this.m_p,box2d.b2CircleShape.prototype.ComputeDistance.s_center),box2d.b2Sub_V2_V2(V,x,o),o.Normalize()-this.m_radius};goog.exportProperty(box2d.b2CircleShape.prototype,"ComputeDistance",box2d.b2CircleShape.prototype.ComputeDistance);box2d.b2CircleShape.prototype.ComputeDistance.s_center=new box2d.b2Vec2;box2d.b2CircleShape.prototype.RayCast=function(x,V,o,_o){o=box2d.b2Mul_X_V2(o,this.m_p,box2d.b2CircleShape.prototype.RayCast.s_position),o=box2d.b2Sub_V2_V2(V.p1,o,box2d.b2CircleShape.prototype.RayCast.s_s);var e_=box2d.b2Dot_V2_V2(o,o)-box2d.b2Sq(this.m_radius);_o=box2d.b2Sub_V2_V2(V.p2,V.p1,box2d.b2CircleShape.prototype.RayCast.s_r);var _r=box2d.b2Dot_V2_V2(o,_o),l=box2d.b2Dot_V2_V2(_o,_o),e_=_r*_r-l*e_;return 0>e_||l<box2d.b2_epsilon?!1:(_r=-(_r+box2d.b2Sqrt(e_)),0<=_r&&_r<=V.maxFraction*l?(_r/=l,x.fraction=_r,box2d.b2AddMul_V2_S_V2(o,_r,_o,x.normal).SelfNormalize(),!0):!1)};goog.exportProperty(box2d.b2CircleShape.prototype,"RayCast",box2d.b2CircleShape.prototype.RayCast);box2d.b2CircleShape.prototype.RayCast.s_position=new box2d.b2Vec2;box2d.b2CircleShape.prototype.RayCast.s_s=new box2d.b2Vec2;box2d.b2CircleShape.prototype.RayCast.s_r=new box2d.b2Vec2;box2d.b2CircleShape.prototype.ComputeAABB=function(x,V,o){V=box2d.b2Mul_X_V2(V,this.m_p,box2d.b2CircleShape.prototype.ComputeAABB.s_p),x.lowerBound.Set(V.x-this.m_radius,V.y-this.m_radius),x.upperBound.Set(V.x+this.m_radius,V.y+this.m_radius)};goog.exportProperty(box2d.b2CircleShape.prototype,"ComputeAABB",box2d.b2CircleShape.prototype.ComputeAABB);box2d.b2CircleShape.prototype.ComputeAABB.s_p=new box2d.b2Vec2;box2d.b2CircleShape.prototype.ComputeMass=function(x,V){var o=box2d.b2Sq(this.m_radius);x.mass=V*box2d.b2_pi*o,x.center.Copy(this.m_p),x.I=x.mass*(.5*o+box2d.b2Dot_V2_V2(this.m_p,this.m_p))};goog.exportProperty(box2d.b2CircleShape.prototype,"ComputeMass",box2d.b2CircleShape.prototype.ComputeMass);box2d.b2CircleShape.prototype.SetupDistanceProxy=function(x,V){x.m_vertices=x.m_buffer,x.m_vertices[0].Copy(this.m_p),x.m_count=1,x.m_radius=this.m_radius};box2d.b2CircleShape.prototype.ComputeSubmergedArea=function(x,V,o,_o){o=box2d.b2Mul_X_V2(o,this.m_p,new box2d.b2Vec2);var l=-(box2d.b2Dot_V2_V2(x,o)-V);if(l<-this.m_radius+box2d.b2_epsilon)return 0;if(l>this.m_radius)return _o.Copy(o),box2d.b2_pi*this.m_radius*this.m_radius;V=this.m_radius*this.m_radius;var _r=l*l,l=V*(box2d.b2Asin(l/this.m_radius)+box2d.b2_pi/2)+l*box2d.b2Sqrt(V-_r);return V=-2/3*box2d.b2Pow(V-_r,1.5)/l,_o.x=o.x+x.x*V,_o.y=o.y+x.y*V,l};goog.exportProperty(box2d.b2CircleShape.prototype,"ComputeSubmergedArea",box2d.b2CircleShape.prototype.ComputeSubmergedArea);box2d.b2CircleShape.prototype.Dump=function(){box2d.b2Log(`    /*box2d.b2CircleShape*/ var shape = new box2d.b2CircleShape();
`),box2d.b2Log(`    shape.m_radius = %.15f;
`,this.m_radius),box2d.b2Log(`    shape.m_p.Set(%.15f, %.15f);
`,this.m_p.x,this.m_p.y)};goog.exportProperty(box2d.b2CircleShape.prototype,"Dump",box2d.b2CircleShape.prototype.Dump);box2d.b2EdgeShape=function(){box2d.b2Shape.call(this,box2d.b2ShapeType.e_edgeShape,box2d.b2_polygonRadius),this.m_vertex1=new box2d.b2Vec2,this.m_vertex2=new box2d.b2Vec2,this.m_vertex0=new box2d.b2Vec2,this.m_vertex3=new box2d.b2Vec2};goog.inherits(box2d.b2EdgeShape,box2d.b2Shape);goog.exportSymbol("box2d.b2EdgeShape",box2d.b2EdgeShape);box2d.b2EdgeShape.prototype.m_vertex1=null;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_vertex1",box2d.b2EdgeShape.prototype.m_vertex1);box2d.b2EdgeShape.prototype.m_vertex2=null;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_vertex2",box2d.b2EdgeShape.prototype.m_vertex2);box2d.b2EdgeShape.prototype.m_vertex0=null;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_vertex0",box2d.b2EdgeShape.prototype.m_vertex0);box2d.b2EdgeShape.prototype.m_vertex3=null;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_vertex3",box2d.b2EdgeShape.prototype.m_vertex3);box2d.b2EdgeShape.prototype.m_hasVertex0=!1;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_hasVertex0",box2d.b2EdgeShape.prototype.m_hasVertex0);box2d.b2EdgeShape.prototype.m_hasVertex3=!1;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_hasVertex3",box2d.b2EdgeShape.prototype.m_hasVertex3);box2d.b2EdgeShape.prototype.Set=function(x,V){return this.m_vertex1.Copy(x),this.m_vertex2.Copy(V),this.m_hasVertex3=this.m_hasVertex0=!1,this};goog.exportProperty(box2d.b2EdgeShape.prototype,"Set",box2d.b2EdgeShape.prototype.Set);box2d.b2EdgeShape.prototype.SetAsEdge=box2d.b2EdgeShape.prototype.Set;box2d.b2EdgeShape.prototype.Clone=function(){return new box2d.b2EdgeShape().Copy(this)};goog.exportProperty(box2d.b2EdgeShape.prototype,"Clone",box2d.b2EdgeShape.prototype.Clone);box2d.b2EdgeShape.prototype.Copy=function(x){return box2d.b2Shape.prototype.Copy.call(this,x),box2d.ENABLE_ASSERTS&&box2d.b2Assert(x instanceof box2d.b2EdgeShape),this.m_vertex1.Copy(x.m_vertex1),this.m_vertex2.Copy(x.m_vertex2),this.m_vertex0.Copy(x.m_vertex0),this.m_vertex3.Copy(x.m_vertex3),this.m_hasVertex0=x.m_hasVertex0,this.m_hasVertex3=x.m_hasVertex3,this};goog.exportProperty(box2d.b2EdgeShape.prototype,"Copy",box2d.b2EdgeShape.prototype.Copy);box2d.b2EdgeShape.prototype.GetChildCount=function(){return 1};goog.exportProperty(box2d.b2EdgeShape.prototype,"GetChildCount",box2d.b2EdgeShape.prototype.GetChildCount);box2d.b2EdgeShape.prototype.TestPoint=function(x,V){return!1};goog.exportProperty(box2d.b2EdgeShape.prototype,"TestPoint",box2d.b2EdgeShape.prototype.TestPoint);box2d.b2EdgeShape.prototype.ComputeDistance=function(x,V,o,_o){var _r=box2d.b2Mul_X_V2(x,this.m_vertex1,box2d.b2EdgeShape.prototype.ComputeDistance.s_v1);x=box2d.b2Mul_X_V2(x,this.m_vertex2,box2d.b2EdgeShape.prototype.ComputeDistance.s_v2),_o=box2d.b2Sub_V2_V2(V,_r,box2d.b2EdgeShape.prototype.ComputeDistance.s_d);var _r=box2d.b2Sub_V2_V2(x,_r,box2d.b2EdgeShape.prototype.ComputeDistance.s_s),l=box2d.b2Dot_V2_V2(_o,_r);if(0<l){var e_=box2d.b2Dot_V2_V2(_r,_r);l>e_?box2d.b2Sub_V2_V2(V,x,_o):_o.SelfMulSub(l/e_,_r)}return o.Copy(_o),o.Normalize()};goog.exportProperty(box2d.b2EdgeShape.prototype,"ComputeDistance",box2d.b2EdgeShape.prototype.ComputeDistance);box2d.b2EdgeShape.prototype.ComputeDistance.s_v1=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeDistance.s_v2=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeDistance.s_d=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeDistance.s_s=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast=function(x,V,o,_o){var _r=box2d.b2MulT_X_V2(o,V.p1,box2d.b2EdgeShape.prototype.RayCast.s_p1);_o=box2d.b2MulT_X_V2(o,V.p2,box2d.b2EdgeShape.prototype.RayCast.s_p2);var l=box2d.b2Sub_V2_V2(_o,_r,box2d.b2EdgeShape.prototype.RayCast.s_d);_o=this.m_vertex1;var e_=this.m_vertex2,o_=box2d.b2Sub_V2_V2(e_,_o,box2d.b2EdgeShape.prototype.RayCast.s_e),i_=x.normal.Set(o_.y,-o_.x).SelfNormalize(),o_=box2d.b2Dot_V2_V2(i_,box2d.b2Sub_V2_V2(_o,_r,box2d.b2Vec2.s_t0)),i_=box2d.b2Dot_V2_V2(i_,l);return i_===0||(i_=o_/i_,0>i_||V.maxFraction<i_)||(V=box2d.b2AddMul_V2_S_V2(_r,i_,l,box2d.b2EdgeShape.prototype.RayCast.s_q),_r=box2d.b2Sub_V2_V2(e_,_o,box2d.b2EdgeShape.prototype.RayCast.s_r),e_=box2d.b2Dot_V2_V2(_r,_r),e_===0)||(_o=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(V,_o,box2d.b2Vec2.s_t0),_r)/e_,0>_o||1<_o)?!1:(x.fraction=i_,box2d.b2Mul_R_V2(o.q,x.normal,x.normal),0<o_&&x.normal.SelfNeg(),!0)};goog.exportProperty(box2d.b2EdgeShape.prototype,"RayCast",box2d.b2EdgeShape.prototype.RayCast);box2d.b2EdgeShape.prototype.RayCast.s_p1=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast.s_p2=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast.s_d=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast.s_e=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast.s_q=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast.s_r=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeAABB=function(x,V,o){o=box2d.b2Mul_X_V2(V,this.m_vertex1,box2d.b2EdgeShape.prototype.ComputeAABB.s_v1),V=box2d.b2Mul_X_V2(V,this.m_vertex2,box2d.b2EdgeShape.prototype.ComputeAABB.s_v2),box2d.b2Min_V2_V2(o,V,x.lowerBound),box2d.b2Max_V2_V2(o,V,x.upperBound),V=this.m_radius,x.lowerBound.SelfSubXY(V,V),x.upperBound.SelfAddXY(V,V)};goog.exportProperty(box2d.b2EdgeShape.prototype,"ComputeAABB",box2d.b2EdgeShape.prototype.ComputeAABB);box2d.b2EdgeShape.prototype.ComputeAABB.s_v1=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeAABB.s_v2=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeMass=function(x,V){x.mass=0,box2d.b2Mid_V2_V2(this.m_vertex1,this.m_vertex2,x.center),x.I=0};goog.exportProperty(box2d.b2EdgeShape.prototype,"ComputeMass",box2d.b2EdgeShape.prototype.ComputeMass);box2d.b2EdgeShape.prototype.SetupDistanceProxy=function(x,V){x.m_vertices=x.m_buffer,x.m_vertices[0].Copy(this.m_vertex1),x.m_vertices[1].Copy(this.m_vertex2),x.m_count=2,x.m_radius=this.m_radius};box2d.b2EdgeShape.prototype.ComputeSubmergedArea=function(x,V,o,_o){return _o.SetZero(),0};goog.exportProperty(box2d.b2EdgeShape.prototype,"ComputeSubmergedArea",box2d.b2EdgeShape.prototype.ComputeSubmergedArea);box2d.b2EdgeShape.prototype.Dump=function(){box2d.b2Log(`    /*box2d.b2EdgeShape*/ var shape = new box2d.b2EdgeShape();
`),box2d.b2Log(`    shape.m_radius = %.15f;
`,this.m_radius),box2d.b2Log(`    shape.m_vertex0.Set(%.15f, %.15f);
`,this.m_vertex0.x,this.m_vertex0.y),box2d.b2Log(`    shape.m_vertex1.Set(%.15f, %.15f);
`,this.m_vertex1.x,this.m_vertex1.y),box2d.b2Log(`    shape.m_vertex2.Set(%.15f, %.15f);
`,this.m_vertex2.x,this.m_vertex2.y),box2d.b2Log(`    shape.m_vertex3.Set(%.15f, %.15f);
`,this.m_vertex3.x,this.m_vertex3.y),box2d.b2Log(`    shape.m_hasVertex0 = %s;
`,this.m_hasVertex0),box2d.b2Log(`    shape.m_hasVertex3 = %s;
`,this.m_hasVertex3)};goog.exportProperty(box2d.b2EdgeShape.prototype,"Dump",box2d.b2EdgeShape.prototype.Dump);box2d.b2ChainShape=function(){box2d.b2Shape.call(this,box2d.b2ShapeType.e_chainShape,box2d.b2_polygonRadius),this.m_prevVertex=new box2d.b2Vec2,this.m_nextVertex=new box2d.b2Vec2};goog.inherits(box2d.b2ChainShape,box2d.b2Shape);goog.exportSymbol("box2d.b2ChainShape",box2d.b2ChainShape);box2d.b2ChainShape.prototype.m_vertices=null;goog.exportProperty(box2d.b2ChainShape.prototype,"m_vertices",box2d.b2ChainShape.prototype.m_vertices);box2d.b2ChainShape.prototype.m_count=0;goog.exportProperty(box2d.b2ChainShape.prototype,"m_count",box2d.b2ChainShape.prototype.m_count);box2d.b2ChainShape.prototype.m_prevVertex=null;goog.exportProperty(box2d.b2ChainShape.prototype,"m_prevVertex",box2d.b2ChainShape.prototype.m_prevVertex);box2d.b2ChainShape.prototype.m_nextVertex=null;goog.exportProperty(box2d.b2ChainShape.prototype,"m_nextVertex",box2d.b2ChainShape.prototype.m_nextVertex);box2d.b2ChainShape.prototype.m_hasPrevVertex=!1;goog.exportProperty(box2d.b2ChainShape.prototype,"m_hasPrevVertex",box2d.b2ChainShape.prototype.m_hasPrevVertex);box2d.b2ChainShape.prototype.m_hasNextVertex=!1;goog.exportProperty(box2d.b2ChainShape.prototype,"m_hasNextVertex",box2d.b2ChainShape.prototype.m_hasNextVertex);box2d.b2ChainShape.prototype.Clear=function(){this.m_vertices=null,this.m_count=0};goog.exportProperty(box2d.b2ChainShape.prototype,"Clear",box2d.b2ChainShape.prototype.Clear);box2d.b2ChainShape.prototype.CreateLoop=function(x,V){if(V=V||x.length,box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_vertices===null&&this.m_count===0),box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=V),box2d.ENABLE_ASSERTS)for(var o=1;o<V;++o)box2d.b2Assert(box2d.b2DistanceSquared(x[o-1],x[o])>box2d.b2_linearSlop*box2d.b2_linearSlop);for(this.m_count=V+1,this.m_vertices=box2d.b2Vec2.MakeArray(this.m_count),o=0;o<V;++o)this.m_vertices[o].Copy(x[o]);return this.m_vertices[V].Copy(this.m_vertices[0]),this.m_prevVertex.Copy(this.m_vertices[this.m_count-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this.m_hasNextVertex=this.m_hasPrevVertex=!0,this};goog.exportProperty(box2d.b2ChainShape.prototype,"CreateLoop",box2d.b2ChainShape.prototype.CreateLoop);box2d.b2ChainShape.prototype.CreateChain=function(x,V){if(V=V||x.length,box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_vertices===null&&this.m_count===0),box2d.ENABLE_ASSERTS&&box2d.b2Assert(2<=V),box2d.ENABLE_ASSERTS)for(var o=1;o<V;++o)box2d.b2Assert(box2d.b2DistanceSquared(x[o-1],x[o])>box2d.b2_linearSlop*box2d.b2_linearSlop);for(this.m_count=V,this.m_vertices=box2d.b2Vec2.MakeArray(V),o=0;o<V;++o)this.m_vertices[o].Copy(x[o]);return this.m_hasNextVertex=this.m_hasPrevVertex=!1,this.m_prevVertex.SetZero(),this.m_nextVertex.SetZero(),this};goog.exportProperty(box2d.b2ChainShape.prototype,"CreateChain",box2d.b2ChainShape.prototype.CreateChain);box2d.b2ChainShape.prototype.SetPrevVertex=function(x){return this.m_prevVertex.Copy(x),this.m_hasPrevVertex=!0,this};goog.exportProperty(box2d.b2ChainShape.prototype,"SetPrevVertex",box2d.b2ChainShape.prototype.SetPrevVertex);box2d.b2ChainShape.prototype.SetNextVertex=function(x){return this.m_nextVertex.Copy(x),this.m_hasNextVertex=!0,this};goog.exportProperty(box2d.b2ChainShape.prototype,"SetNextVertex",box2d.b2ChainShape.prototype.SetNextVertex);box2d.b2ChainShape.prototype.Clone=function(){return new box2d.b2ChainShape().Copy(this)};goog.exportProperty(box2d.b2ChainShape.prototype,"Clone",box2d.b2ChainShape.prototype.Clone);box2d.b2ChainShape.prototype.Copy=function(x){return box2d.b2Shape.prototype.Copy.call(this,x),box2d.ENABLE_ASSERTS&&box2d.b2Assert(x instanceof box2d.b2ChainShape),this.CreateChain(x.m_vertices,x.m_count),this.m_prevVertex.Copy(x.m_prevVertex),this.m_nextVertex.Copy(x.m_nextVertex),this.m_hasPrevVertex=x.m_hasPrevVertex,this.m_hasNextVertex=x.m_hasNextVertex,this};goog.exportProperty(box2d.b2ChainShape.prototype,"Copy",box2d.b2ChainShape.prototype.Copy);box2d.b2ChainShape.prototype.GetChildCount=function(){return this.m_count-1};goog.exportProperty(box2d.b2ChainShape.prototype,"GetChildCount",box2d.b2ChainShape.prototype.GetChildCount);box2d.b2ChainShape.prototype.GetChildEdge=function(x,V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=V&&V<this.m_count-1),x.m_type=box2d.b2ShapeType.e_edgeShape,x.m_radius=this.m_radius,x.m_vertex1.Copy(this.m_vertices[V]),x.m_vertex2.Copy(this.m_vertices[V+1]),0<V?(x.m_vertex0.Copy(this.m_vertices[V-1]),x.m_hasVertex0=!0):(x.m_vertex0.Copy(this.m_prevVertex),x.m_hasVertex0=this.m_hasPrevVertex),V<this.m_count-2?(x.m_vertex3.Copy(this.m_vertices[V+2]),x.m_hasVertex3=!0):(x.m_vertex3.Copy(this.m_nextVertex),x.m_hasVertex3=this.m_hasNextVertex)};goog.exportProperty(box2d.b2ChainShape.prototype,"GetChildEdge",box2d.b2ChainShape.prototype.GetChildEdge);box2d.b2ChainShape.prototype.TestPoint=function(x,V){return!1};goog.exportProperty(box2d.b2ChainShape.prototype,"TestPoint",box2d.b2ChainShape.prototype.TestPoint);box2d.b2ChainShape.prototype.ComputeDistance=function(x,V,o,_o){var _r=box2d.b2ChainShape.prototype.ComputeDistance.s_edgeShape;return this.GetChildEdge(_r,_o),_r.ComputeDistance(x,V,o,0)};goog.exportProperty(box2d.b2ChainShape.prototype,"ComputeDistance",box2d.b2ChainShape.prototype.ComputeDistance);box2d.b2ChainShape.prototype.ComputeDistance.s_edgeShape=new box2d.b2EdgeShape;box2d.b2ChainShape.prototype.RayCast=function(x,V,o,_o){box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o<this.m_count);var _r=box2d.b2ChainShape.prototype.RayCast.s_edgeShape;return _r.m_vertex1.Copy(this.m_vertices[_o]),_r.m_vertex2.Copy(this.m_vertices[(_o+1)%this.m_count]),_r.RayCast(x,V,o,0)};goog.exportProperty(box2d.b2ChainShape.prototype,"RayCast",box2d.b2ChainShape.prototype.RayCast);box2d.b2ChainShape.prototype.RayCast.s_edgeShape=new box2d.b2EdgeShape;box2d.b2ChainShape.prototype.ComputeAABB=function(x,V,o){box2d.ENABLE_ASSERTS&&box2d.b2Assert(o<this.m_count);var _o=this.m_vertices[(o+1)%this.m_count];o=box2d.b2Mul_X_V2(V,this.m_vertices[o],box2d.b2ChainShape.prototype.ComputeAABB.s_v1),V=box2d.b2Mul_X_V2(V,_o,box2d.b2ChainShape.prototype.ComputeAABB.s_v2),box2d.b2Min_V2_V2(o,V,x.lowerBound),box2d.b2Max_V2_V2(o,V,x.upperBound)};goog.exportProperty(box2d.b2ChainShape.prototype,"ComputeAABB",box2d.b2ChainShape.prototype.ComputeAABB);box2d.b2ChainShape.prototype.ComputeAABB.s_v1=new box2d.b2Vec2;goog.exportProperty(box2d.b2ChainShape.prototype.ComputeAABB,"s_v1",box2d.b2ChainShape.prototype.ComputeAABB.s_v1);box2d.b2ChainShape.prototype.ComputeAABB.s_v2=new box2d.b2Vec2;goog.exportProperty(box2d.b2ChainShape.prototype.ComputeAABB,"s_v2",box2d.b2ChainShape.prototype.ComputeAABB.s_v2);box2d.b2ChainShape.prototype.ComputeMass=function(x,V){x.mass=0,x.center.SetZero(),x.I=0};goog.exportProperty(box2d.b2ChainShape.prototype,"ComputeMass",box2d.b2ChainShape.prototype.ComputeMass);box2d.b2ChainShape.prototype.SetupDistanceProxy=function(x,V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=V&&V<this.m_count),x.m_buffer[0].Copy(this.m_vertices[V]),V+1<this.m_count?x.m_buffer[1].Copy(this.m_vertices[V+1]):x.m_buffer[1].Copy(this.m_vertices[0]),x.m_vertices=x.m_buffer,x.m_count=2,x.m_radius=this.m_radius};box2d.b2ChainShape.prototype.ComputeSubmergedArea=function(x,V,o,_o){return _o.SetZero(),0};goog.exportProperty(box2d.b2ChainShape.prototype,"ComputeSubmergedArea",box2d.b2ChainShape.prototype.ComputeSubmergedArea);box2d.b2ChainShape.prototype.Dump=function(){box2d.b2Log(`    /*box2d.b2ChainShape*/ var shape = new box2d.b2ChainShape();
`),box2d.b2Log(`    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);
`,box2d.b2_maxPolygonVertices);for(var x=0;x<this.m_count;++x)box2d.b2Log(`    vs[%d].Set(%.15f, %.15f);
`,x,this.m_vertices[x].x,this.m_vertices[x].y);box2d.b2Log(`    shape.CreateChain(vs, %d);
`,this.m_count),box2d.b2Log(`    shape.m_prevVertex.Set(%.15f, %.15f);
`,this.m_prevVertex.x,this.m_prevVertex.y),box2d.b2Log(`    shape.m_nextVertex.Set(%.15f, %.15f);
`,this.m_nextVertex.x,this.m_nextVertex.y),box2d.b2Log(`    shape.m_hasPrevVertex = %s;
`,this.m_hasPrevVertex?"true":"false"),box2d.b2Log(`    shape.m_hasNextVertex = %s;
`,this.m_hasNextVertex?"true":"false")};goog.exportProperty(box2d.b2ChainShape.prototype,"Dump",box2d.b2ChainShape.prototype.Dump);box2d.b2PolygonShape=function(){box2d.b2Shape.call(this,box2d.b2ShapeType.e_polygonShape,box2d.b2_polygonRadius),this.m_centroid=new box2d.b2Vec2(0,0),this.m_vertices=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices),this.m_normals=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices)};goog.inherits(box2d.b2PolygonShape,box2d.b2Shape);goog.exportSymbol("box2d.b2PolygonShape",box2d.b2PolygonShape);box2d.b2PolygonShape.prototype.m_centroid=null;goog.exportProperty(box2d.b2PolygonShape.prototype,"m_centroid",box2d.b2PolygonShape.prototype.m_centroid);box2d.b2PolygonShape.prototype.m_vertices=null;goog.exportProperty(box2d.b2PolygonShape.prototype,"m_vertices",box2d.b2PolygonShape.prototype.m_vertices);box2d.b2PolygonShape.prototype.m_normals=null;goog.exportProperty(box2d.b2PolygonShape.prototype,"m_normals",box2d.b2PolygonShape.prototype.m_normals);box2d.b2PolygonShape.prototype.m_count=0;goog.exportProperty(box2d.b2PolygonShape.prototype,"m_count",box2d.b2PolygonShape.prototype.m_count);box2d.b2PolygonShape.prototype.Clone=function(){return new box2d.b2PolygonShape().Copy(this)};goog.exportProperty(box2d.b2PolygonShape.prototype,"Clone",box2d.b2PolygonShape.prototype.Clone);box2d.b2PolygonShape.prototype.Copy=function(x){box2d.b2Shape.prototype.Copy.call(this,x),box2d.ENABLE_ASSERTS&&box2d.b2Assert(x instanceof box2d.b2PolygonShape),this.m_centroid.Copy(x.m_centroid),this.m_count=x.m_count;for(var V=0,o=this.m_count;V<o;++V)this.m_vertices[V].Copy(x.m_vertices[V]),this.m_normals[V].Copy(x.m_normals[V]);return this};goog.exportProperty(box2d.b2PolygonShape.prototype,"Copy",box2d.b2PolygonShape.prototype.Copy);box2d.b2PolygonShape.prototype.SetAsBox=function(x,V,o,_o){if(this.m_count=4,this.m_vertices[0].Set(-x,-V),this.m_vertices[1].Set(x,-V),this.m_vertices[2].Set(x,V),this.m_vertices[3].Set(-x,V),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero(),o instanceof box2d.b2Vec2)for(_o=typeof _o=="number"?_o:0,this.m_centroid.Copy(o),x=new box2d.b2Transform,x.SetPosition(o),x.SetRotationAngle(_o),o=0,_o=this.m_count;o<_o;++o)box2d.b2Mul_X_V2(x,this.m_vertices[o],this.m_vertices[o]),box2d.b2Mul_R_V2(x.q,this.m_normals[o],this.m_normals[o]);return this};goog.exportProperty(box2d.b2PolygonShape.prototype,"SetAsBox",box2d.b2PolygonShape.prototype.SetAsBox);box2d.b2PolygonShape.prototype.Set=function(x,V,o){if(V=typeof V=="number"?V:x.length,o=typeof o=="number"?o:0,box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=V&&V<=box2d.b2_maxPolygonVertices),3>V)return this.SetAsBox(1,1);V=box2d.b2Min(V,box2d.b2_maxPolygonVertices);for(var _o=box2d.b2PolygonShape.prototype.Set.s_ps,_r=0,l=0;l<V;++l){for(var e_=x[o+l],o_=!0,i_=0;i_<_r;++i_)if(box2d.b2DistanceSquared(e_,_o[i_])<.25*box2d.b2_linearSlop*box2d.b2_linearSlop){o_=!1;break}o_&&_o[_r++].Copy(e_)}if(V=_r,3>V)return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),this.SetAsBox(1,1);for(x=0,e_=_o[0].x,l=1;l<V;++l)i_=_o[l].x,(i_>e_||i_===e_&&_o[l].y<_o[x].y)&&(x=l,e_=i_);for(_r=box2d.b2PolygonShape.prototype.Set.s_hull,o=0,l=x;;){for(_r[o]=l,o_=0,i_=1;i_<V;++i_)if(o_===l)o_=i_;else{var _e=box2d.b2Sub_V2_V2(_o[o_],_o[_r[o]],box2d.b2PolygonShape.prototype.Set.s_r),e_=box2d.b2Sub_V2_V2(_o[i_],_o[_r[o]],box2d.b2PolygonShape.prototype.Set.s_v),c_=box2d.b2Cross_V2_V2(_e,e_);0>c_&&(o_=i_),c_===0&&e_.LengthSquared()>_e.LengthSquared()&&(o_=i_)}if(++o,l=o_,o_===x)break}if(3>o)return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),this.SetAsBox(1,1);for(this.m_count=o,l=0;l<o;++l)this.m_vertices[l].Copy(_o[_r[l]]);for(l=0,V=o;l<V;++l)_o=box2d.b2Sub_V2_V2(this.m_vertices[(l+1)%V],this.m_vertices[l],box2d.b2Vec2.s_t0),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o.LengthSquared()>box2d.b2_epsilon_sq),box2d.b2Cross_V2_S(_o,1,this.m_normals[l]).SelfNormalize();return box2d.b2PolygonShape.ComputeCentroid(this.m_vertices,o,this.m_centroid),this};goog.exportProperty(box2d.b2PolygonShape.prototype,"Set",box2d.b2PolygonShape.prototype.Set);box2d.b2PolygonShape.prototype.Set.s_ps=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices);box2d.b2PolygonShape.prototype.Set.s_hull=box2d.b2MakeNumberArray(box2d.b2_maxPolygonVertices);box2d.b2PolygonShape.prototype.Set.s_r=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.Set.s_v=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.GetChildCount=function(){return 1};goog.exportProperty(box2d.b2PolygonShape.prototype,"GetChildCount",box2d.b2PolygonShape.prototype.GetChildCount);box2d.b2PolygonShape.prototype.TestPoint=function(x,V){for(var o=box2d.b2MulT_X_V2(x,V,box2d.b2PolygonShape.prototype.TestPoint.s_pLocal),_o=0,_r=this.m_count;_o<_r;++_o)if(0<box2d.b2Dot_V2_V2(this.m_normals[_o],box2d.b2Sub_V2_V2(o,this.m_vertices[_o],box2d.b2Vec2.s_t0)))return!1;return!0};goog.exportProperty(box2d.b2PolygonShape.prototype,"TestPoint",box2d.b2PolygonShape.prototype.TestPoint);box2d.b2PolygonShape.prototype.TestPoint.s_pLocal=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeDistance=function(x,V,o,_o){V=box2d.b2MulT_X_V2(x,V,box2d.b2PolygonShape.prototype.ComputeDistance.s_pLocal);var _r=-box2d.b2_maxFloat,l=box2d.b2PolygonShape.prototype.ComputeDistance.s_normalForMaxDistance.Copy(V);for(_o=0;_o<this.m_count;++_o){var e_=box2d.b2Dot_V2_V2(this.m_normals[_o],box2d.b2Sub_V2_V2(V,this.m_vertices[_o],box2d.b2Vec2.s_t0));e_>_r&&(_r=e_,l.Copy(this.m_normals[_o]))}if(0<_r){for(l=box2d.b2PolygonShape.prototype.ComputeDistance.s_minDistance.Copy(l),_r*=_r,_o=0;_o<this.m_count;++_o){var e_=box2d.b2Sub_V2_V2(V,this.m_vertices[_o],box2d.b2PolygonShape.prototype.ComputeDistance.s_distance),o_=e_.LengthSquared();_r>o_&&(l.Copy(e_),_r=o_)}return box2d.b2Mul_R_V2(x.q,l,o),o.Normalize(),Math.sqrt(_r)}return box2d.b2Mul_R_V2(x.q,l,o),_r};goog.exportProperty(box2d.b2PolygonShape.prototype,"ComputeDistance",box2d.b2PolygonShape.prototype.ComputeDistance);box2d.b2PolygonShape.prototype.ComputeDistance.s_pLocal=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeDistance.s_normalForMaxDistance=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeDistance.s_minDistance=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeDistance.s_distance=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.RayCast=function(x,V,o,_o){_o=box2d.b2MulT_X_V2(o,V.p1,box2d.b2PolygonShape.prototype.RayCast.s_p1);for(var _r=box2d.b2MulT_X_V2(o,V.p2,box2d.b2PolygonShape.prototype.RayCast.s_p2),_r=box2d.b2Sub_V2_V2(_r,_o,box2d.b2PolygonShape.prototype.RayCast.s_d),l=0,e_=V.maxFraction,o_=-1,i_=0,_e=this.m_count;i_<_e;++i_){var c_=box2d.b2Dot_V2_V2(this.m_normals[i_],box2d.b2Sub_V2_V2(this.m_vertices[i_],_o,box2d.b2Vec2.s_t0)),ws=box2d.b2Dot_V2_V2(this.m_normals[i_],_r);if(ws===0){if(0>c_)return!1}else 0>ws&&c_<l*ws?(l=c_/ws,o_=i_):0<ws&&c_<e_*ws&&(e_=c_/ws);if(e_<l)return!1}return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=l&&l<=V.maxFraction),0<=o_?(x.fraction=l,box2d.b2Mul_R_V2(o.q,this.m_normals[o_],x.normal),!0):!1};goog.exportProperty(box2d.b2PolygonShape.prototype,"RayCast",box2d.b2PolygonShape.prototype.RayCast);box2d.b2PolygonShape.prototype.RayCast.s_p1=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.RayCast.s_p2=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.RayCast.s_d=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeAABB=function(x,V,o){o=box2d.b2Mul_X_V2(V,this.m_vertices[0],x.lowerBound),x=x.upperBound.Copy(o);for(var _o=0,_r=this.m_count;_o<_r;++_o){var l=box2d.b2Mul_X_V2(V,this.m_vertices[_o],box2d.b2PolygonShape.prototype.ComputeAABB.s_v);box2d.b2Min_V2_V2(l,o,o),box2d.b2Max_V2_V2(l,x,x)}V=this.m_radius,o.SelfSubXY(V,V),x.SelfAddXY(V,V)};goog.exportProperty(box2d.b2PolygonShape.prototype,"ComputeAABB",box2d.b2PolygonShape.prototype.ComputeAABB);box2d.b2PolygonShape.prototype.ComputeAABB.s_v=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeMass=function(x,V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=this.m_count);for(var o=box2d.b2PolygonShape.prototype.ComputeMass.s_center.SetZero(),_o=0,_r=0,l=box2d.b2PolygonShape.prototype.ComputeMass.s_s.SetZero(),e_=0,o_=this.m_count;e_<o_;++e_)l.SelfAdd(this.m_vertices[e_]);l.SelfMul(1/this.m_count);for(var i_=1/3,e_=0,o_=this.m_count;e_<o_;++e_){var ws=box2d.b2Sub_V2_V2(this.m_vertices[e_],l,box2d.b2PolygonShape.prototype.ComputeMass.s_e1),s_=box2d.b2Sub_V2_V2(this.m_vertices[(e_+1)%o_],l,box2d.b2PolygonShape.prototype.ComputeMass.s_e2),_e=box2d.b2Cross_V2_V2(ws,s_),c_=.5*_e,_o=_o+c_;o.SelfAdd(box2d.b2Mul_S_V2(c_*i_,box2d.b2Add_V2_V2(ws,s_,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t1));var c_=ws.x,ws=ws.y,h_=s_.x,s_=s_.y,_r=_r+.25*i_*_e*(c_*c_+h_*c_+h_*h_+(ws*ws+s_*ws+s_*s_))}x.mass=V*_o,box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o>box2d.b2_epsilon),o.SelfMul(1/_o),box2d.b2Add_V2_V2(o,l,x.center),x.I=V*_r,x.I+=x.mass*(box2d.b2Dot_V2_V2(x.center,x.center)-box2d.b2Dot_V2_V2(o,o))};goog.exportProperty(box2d.b2PolygonShape.prototype,"ComputeMass",box2d.b2PolygonShape.prototype.ComputeMass);box2d.b2PolygonShape.prototype.ComputeMass.s_center=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeMass.s_s=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeMass.s_e1=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeMass.s_e2=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.Validate=function(){for(var x=0;x<this.m_count;++x)for(var V=x,o=(x+1)%this.m_count,_o=this.m_vertices[V],_r=box2d.b2Sub_V2_V2(this.m_vertices[o],_o,box2d.b2PolygonShape.prototype.Validate.s_e),l=0;l<this.m_count;++l)if(l!==V&&l!==o){var e_=box2d.b2Sub_V2_V2(this.m_vertices[l],_o,box2d.b2PolygonShape.prototype.Validate.s_v);if(0>box2d.b2Cross_V2_V2(_r,e_))return!1}return!0};goog.exportProperty(box2d.b2PolygonShape.prototype,"Validate",box2d.b2PolygonShape.prototype.Validate);box2d.b2PolygonShape.prototype.Validate.s_e=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.Validate.s_v=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.SetupDistanceProxy=function(x,V){x.m_vertices=this.m_vertices,x.m_count=this.m_count,x.m_radius=this.m_radius};box2d.b2PolygonShape.prototype.ComputeSubmergedArea=function(x,V,o,_o){var _r=box2d.b2MulT_R_V2(o.q,x,box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_normalL),l=V-box2d.b2Dot_V2_V2(x,o.p),e_=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_depths,o_=0,i_=-1;V=-1;var _e=!1;x=0;for(var c_=this.m_count;x<c_;++x){e_[x]=box2d.b2Dot_V2_V2(_r,this.m_vertices[x])-l;var ws=e_[x]<-box2d.b2_epsilon;0<x&&(ws?_e||(i_=x-1,o_++):_e&&(V=x-1,o_++)),_e=ws}switch(o_){case 0:return _e?(x=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_md,this.ComputeMass(x,1),box2d.b2Mul_X_V2(o,x.center,_o),x.mass):0;case 1:i_===-1?i_=this.m_count-1:V=this.m_count-1}for(x=(i_+1)%this.m_count,_r=(V+1)%this.m_count,l=(0-e_[i_])/(e_[x]-e_[i_]),e_=(0-e_[V])/(e_[_r]-e_[V]),i_=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_intoVec.Set(this.m_vertices[i_].x*(1-l)+this.m_vertices[x].x*l,this.m_vertices[i_].y*(1-l)+this.m_vertices[x].y*l),V=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_outoVec.Set(this.m_vertices[V].x*(1-e_)+this.m_vertices[_r].x*e_,this.m_vertices[V].y*(1-e_)+this.m_vertices[_r].y*e_),e_=0,l=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_center.SetZero(),o_=this.m_vertices[x],_e=null;x!==_r;)x=(x+1)%this.m_count,_e=x===_r?V:this.m_vertices[x],c_=.5*((o_.x-i_.x)*(_e.y-i_.y)-(o_.y-i_.y)*(_e.x-i_.x)),e_+=c_,l.x+=c_*(i_.x+o_.x+_e.x)/3,l.y+=c_*(i_.y+o_.y+_e.y)/3,o_=_e;return l.SelfMul(1/e_),box2d.b2Mul_X_V2(o,l,_o),e_};goog.exportProperty(box2d.b2PolygonShape.prototype,"ComputeSubmergedArea",box2d.b2PolygonShape.prototype.ComputeSubmergedArea);box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_normalL=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_depths=box2d.b2MakeNumberArray(box2d.b2_maxPolygonVertices);box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_md=new box2d.b2MassData;box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_intoVec=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_outoVec=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_center=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.Dump=function(){box2d.b2Log(`    /*box2d.b2PolygonShape*/ var shape = new box2d.b2PolygonShape();
`),box2d.b2Log(`    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);
`,box2d.b2_maxPolygonVertices);for(var x=0;x<this.m_count;++x)box2d.b2Log(`    vs[%d].Set(%.15f, %.15f);
`,x,this.m_vertices[x].x,this.m_vertices[x].y);box2d.b2Log(`    shape.Set(vs, %d);
`,this.m_count)};goog.exportProperty(box2d.b2PolygonShape.prototype,"Dump",box2d.b2PolygonShape.prototype.Dump);box2d.b2PolygonShape.ComputeCentroid=function(x,V,o){box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=V),o.SetZero();for(var _o=0,_r=box2d.b2PolygonShape.ComputeCentroid.s_pRef.SetZero(),l=1/3,e_=0;e_<V;++e_){var o_=_r,i_=x[e_],_e=x[(e_+1)%V],ws=box2d.b2Sub_V2_V2(i_,o_,box2d.b2PolygonShape.ComputeCentroid.s_e1),c_=box2d.b2Sub_V2_V2(_e,o_,box2d.b2PolygonShape.ComputeCentroid.s_e2),ws=.5*box2d.b2Cross_V2_V2(ws,c_),_o=_o+ws;o.x+=ws*l*(o_.x+i_.x+_e.x),o.y+=ws*l*(o_.y+i_.y+_e.y)}return box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o>box2d.b2_epsilon),o.SelfMul(1/_o),o};goog.exportProperty(box2d.b2PolygonShape,"ComputeCentroid",box2d.b2PolygonShape.ComputeCentroid);box2d.b2PolygonShape.ComputeCentroid.s_pRef=new box2d.b2Vec2;box2d.b2PolygonShape.ComputeCentroid.s_e1=new box2d.b2Vec2;box2d.b2PolygonShape.ComputeCentroid.s_e2=new box2d.b2Vec2;box2d.b2Timer=function(){this.m_start=new Date().getTime()};goog.exportSymbol("box2d.b2Timer",box2d.b2Timer);box2d.b2Timer.prototype.m_start=0;goog.exportProperty(box2d.b2Timer.prototype,"m_start",box2d.b2Timer.prototype.m_start);box2d.b2Timer.prototype.Reset=function(){return this.m_start=new Date().getTime(),this};goog.exportProperty(box2d.b2Timer.prototype,"Reset",box2d.b2Timer.prototype.Reset);box2d.b2Timer.prototype.GetMilliseconds=function(){return new Date().getTime()-this.m_start};goog.exportProperty(box2d.b2Timer.prototype,"GetMilliseconds",box2d.b2Timer.prototype.GetMilliseconds);box2d.b2Counter=function(){};goog.exportSymbol("box2d.b2Counter",box2d.b2Counter);box2d.b2Counter.prototype.m_count=0;goog.exportProperty(box2d.b2Counter.prototype,"m_count",box2d.b2Counter.prototype.m_count);box2d.b2Counter.prototype.m_min_count=0;goog.exportProperty(box2d.b2Counter.prototype,"m_min_count",box2d.b2Counter.prototype.m_min_count);box2d.b2Counter.prototype.m_max_count=0;goog.exportProperty(box2d.b2Counter.prototype,"m_max_count",box2d.b2Counter.prototype.m_max_count);box2d.b2Counter.prototype.GetCount=function(){return this.m_count};goog.exportProperty(box2d.b2Counter.prototype,"GetCount",box2d.b2Counter.prototype.GetCount);box2d.b2Counter.prototype.GetMinCount=function(){return this.m_min_count};goog.exportProperty(box2d.b2Counter.prototype,"GetMinCount",box2d.b2Counter.prototype.GetMinCount);box2d.b2Counter.prototype.GetMaxCount=function(){return this.m_max_count};goog.exportProperty(box2d.b2Counter.prototype,"GetMaxCount",box2d.b2Counter.prototype.GetMaxCount);box2d.b2Counter.prototype.ResetCount=function(){var x=this.m_count;return this.m_count=0,x};goog.exportProperty(box2d.b2Counter.prototype,"ResetCount",box2d.b2Counter.prototype.ResetCount);box2d.b2Counter.prototype.ResetMinCount=function(){this.m_min_count=0};goog.exportProperty(box2d.b2Counter.prototype,"ResetMinCount",box2d.b2Counter.prototype.ResetMinCount);box2d.b2Counter.prototype.ResetMaxCount=function(){this.m_max_count=0};goog.exportProperty(box2d.b2Counter.prototype,"ResetMaxCount",box2d.b2Counter.prototype.ResetMaxCount);box2d.b2Counter.prototype.Increment=function(){this.m_count++,this.m_max_count<this.m_count&&(this.m_max_count=this.m_count)};goog.exportProperty(box2d.b2Counter.prototype,"Increment",box2d.b2Counter.prototype.Increment);box2d.b2Counter.prototype.Decrement=function(){this.m_count--,this.m_min_count>this.m_count&&(this.m_min_count=this.m_count)};goog.exportProperty(box2d.b2Counter.prototype,"Decrement",box2d.b2Counter.prototype.Decrement);box2d.b2_toiTime=0;goog.exportSymbol("box2d.b2_toiTime",box2d.b2_toiTime);box2d.b2_toiMaxTime=0;goog.exportSymbol("box2d.b2_toiMaxTime",box2d.b2_toiMaxTime);box2d.b2_toiCalls=0;goog.exportSymbol("box2d.b2_toiCalls",box2d.b2_toiCalls);box2d.b2_toiIters=0;goog.exportSymbol("box2d.b2_toiIters",box2d.b2_toiIters);box2d.b2_toiMaxIters=0;goog.exportSymbol("box2d.b2_toiMaxIters",box2d.b2_toiMaxIters);box2d.b2_toiRootIters=0;goog.exportSymbol("box2d.b2_toiRootIters",box2d.b2_toiRootIters);box2d.b2_toiMaxRootIters=0;goog.exportSymbol("box2d.b2_toiMaxRootIters",box2d.b2_toiMaxRootIters);box2d.b2TOIInput=function(){this.proxyA=new box2d.b2DistanceProxy,this.proxyB=new box2d.b2DistanceProxy,this.sweepA=new box2d.b2Sweep,this.sweepB=new box2d.b2Sweep};goog.exportSymbol("box2d.b2TOIInput",box2d.b2TOIInput);box2d.b2TOIInput.prototype.proxyA=null;goog.exportProperty(box2d.b2TOIInput.prototype,"proxyA",box2d.b2TOIInput.prototype.proxyA);box2d.b2TOIInput.prototype.proxyB=null;goog.exportProperty(box2d.b2TOIInput.prototype,"proxyB",box2d.b2TOIInput.prototype.proxyB);box2d.b2TOIInput.prototype.sweepA=null;goog.exportProperty(box2d.b2TOIInput.prototype,"sweepA",box2d.b2TOIInput.prototype.sweepA);box2d.b2TOIInput.prototype.sweepB=null;goog.exportProperty(box2d.b2TOIInput.prototype,"sweepB",box2d.b2TOIInput.prototype.sweepB);box2d.b2TOIInput.prototype.tMax=0;goog.exportProperty(box2d.b2TOIInput.prototype,"tMax",box2d.b2TOIInput.prototype.tMax);box2d.b2TOIOutputState={e_unknown:0,e_failed:1,e_overlapped:2,e_touching:3,e_separated:4};goog.exportSymbol("box2d.b2TOIOutputState",box2d.b2TOIOutputState);goog.exportProperty(box2d.b2TOIOutputState,"e_unknown",box2d.b2TOIOutputState.e_unknown);goog.exportProperty(box2d.b2TOIOutputState,"e_failed",box2d.b2TOIOutputState.e_failed);goog.exportProperty(box2d.b2TOIOutputState,"e_overlapped",box2d.b2TOIOutputState.e_overlapped);goog.exportProperty(box2d.b2TOIOutputState,"e_touching",box2d.b2TOIOutputState.e_touching);goog.exportProperty(box2d.b2TOIOutputState,"e_separated",box2d.b2TOIOutputState.e_separated);box2d.b2TOIOutput=function(){};goog.exportSymbol("box2d.b2TOIOutput",box2d.b2TOIOutput);box2d.b2TOIOutput.prototype.state=box2d.b2TOIOutputState.e_unknown;goog.exportProperty(box2d.b2TOIOutput.prototype,"state",box2d.b2TOIOutput.prototype.state);box2d.b2TOIOutput.prototype.t=0;goog.exportProperty(box2d.b2TOIOutput.prototype,"t",box2d.b2TOIOutput.prototype.t);box2d.b2SeparationFunctionType={e_unknown:-1,e_points:0,e_faceA:1,e_faceB:2};goog.exportSymbol("box2d.b2SeparationFunctionType",box2d.b2SeparationFunctionType);goog.exportProperty(box2d.b2SeparationFunctionType,"e_unknown",box2d.b2SeparationFunctionType.e_unknown);goog.exportProperty(box2d.b2SeparationFunctionType,"e_points",box2d.b2SeparationFunctionType.e_points);goog.exportProperty(box2d.b2SeparationFunctionType,"e_faceA",box2d.b2SeparationFunctionType.e_faceA);goog.exportProperty(box2d.b2SeparationFunctionType,"e_faceB",box2d.b2SeparationFunctionType.e_faceB);box2d.b2SeparationFunction=function(){this.m_sweepA=new box2d.b2Sweep,this.m_sweepB=new box2d.b2Sweep,this.m_localPoint=new box2d.b2Vec2,this.m_axis=new box2d.b2Vec2};goog.exportSymbol("box2d.b2SeparationFunction",box2d.b2SeparationFunction);box2d.b2SeparationFunction.prototype.m_proxyA=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_proxyA",box2d.b2SeparationFunction.prototype.m_proxyA);box2d.b2SeparationFunction.prototype.m_proxyB=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_proxyB",box2d.b2SeparationFunction.prototype.m_proxyB);box2d.b2SeparationFunction.prototype.m_sweepA=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_sweepA",box2d.b2SeparationFunction.prototype.m_sweepA);box2d.b2SeparationFunction.prototype.m_sweepB=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_sweepB",box2d.b2SeparationFunction.prototype.m_sweepB);box2d.b2SeparationFunction.prototype.m_type=box2d.b2SeparationFunctionType.e_unknown;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_type",box2d.b2SeparationFunction.prototype.m_type);box2d.b2SeparationFunction.prototype.m_localPoint=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_localPoint",box2d.b2SeparationFunction.prototype.m_localPoint);box2d.b2SeparationFunction.prototype.m_axis=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_axis",box2d.b2SeparationFunction.prototype.m_axis);box2d.b2SeparationFunction.prototype.Initialize=function(x,V,o,_o,_r,l){return this.m_proxyA=V,this.m_proxyB=_o,V=x.count,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<V&&3>V),this.m_sweepA.Copy(o),this.m_sweepB.Copy(_r),o=box2d.b2TimeOfImpact.s_xfA,_r=box2d.b2TimeOfImpact.s_xfB,this.m_sweepA.GetTransform(o,l),this.m_sweepB.GetTransform(_r,l),V===1?(this.m_type=box2d.b2SeparationFunctionType.e_points,V=this.m_proxyA.GetVertex(x.indexA[0]),x=this.m_proxyB.GetVertex(x.indexB[0]),o=box2d.b2Mul_X_V2(o,V,box2d.b2TimeOfImpact.s_pointA),_r=box2d.b2Mul_X_V2(_r,x,box2d.b2TimeOfImpact.s_pointB),box2d.b2Sub_V2_V2(_r,o,this.m_axis),x=this.m_axis.Normalize(),this.m_localPoint.SetZero()):(x.indexA[0]===x.indexA[1]?(this.m_type=box2d.b2SeparationFunctionType.e_faceB,V=this.m_proxyB.GetVertex(x.indexB[0]),_o=this.m_proxyB.GetVertex(x.indexB[1]),box2d.b2Cross_V2_S(box2d.b2Sub_V2_V2(_o,V,box2d.b2Vec2.s_t0),1,this.m_axis).SelfNormalize(),l=box2d.b2Mul_R_V2(_r.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),box2d.b2Mid_V2_V2(V,_o,this.m_localPoint),_r=box2d.b2Mul_X_V2(_r,this.m_localPoint,box2d.b2TimeOfImpact.s_pointB),V=this.m_proxyA.GetVertex(x.indexA[0]),o=box2d.b2Mul_X_V2(o,V,box2d.b2TimeOfImpact.s_pointA),x=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o,_r,box2d.b2Vec2.s_t0),l)):(this.m_type=box2d.b2SeparationFunctionType.e_faceA,V=this.m_proxyA.GetVertex(x.indexA[0]),_o=this.m_proxyA.GetVertex(x.indexA[1]),box2d.b2Cross_V2_S(box2d.b2Sub_V2_V2(_o,V,box2d.b2Vec2.s_t0),1,this.m_axis).SelfNormalize(),l=box2d.b2Mul_R_V2(o.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),box2d.b2Mid_V2_V2(V,_o,this.m_localPoint),o=box2d.b2Mul_X_V2(o,this.m_localPoint,box2d.b2TimeOfImpact.s_pointA),x=this.m_proxyB.GetVertex(x.indexB[0]),_r=box2d.b2Mul_X_V2(_r,x,box2d.b2TimeOfImpact.s_pointB),x=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_r,o,box2d.b2Vec2.s_t0),l)),0>x&&(this.m_axis.SelfNeg(),x=-x)),x};goog.exportProperty(box2d.b2SeparationFunction.prototype,"Initialize",box2d.b2SeparationFunction.prototype.Initialize);box2d.b2SeparationFunction.prototype.FindMinSeparation=function(x,V,o){var _o=box2d.b2TimeOfImpact.s_xfA,_r=box2d.b2TimeOfImpact.s_xfB;switch(this.m_sweepA.GetTransform(_o,o),this.m_sweepB.GetTransform(_r,o),this.m_type){case box2d.b2SeparationFunctionType.e_points:var l=box2d.b2MulT_R_V2(_o.q,this.m_axis,box2d.b2TimeOfImpact.s_axisA),e_=box2d.b2MulT_R_V2(_r.q,box2d.b2Vec2.s_t0.Copy(this.m_axis).SelfNeg(),box2d.b2TimeOfImpact.s_axisB);return x[0]=this.m_proxyA.GetSupport(l),V[0]=this.m_proxyB.GetSupport(e_),x=this.m_proxyA.GetVertex(x[0]),V=this.m_proxyB.GetVertex(V[0]),_o=box2d.b2Mul_X_V2(_o,x,box2d.b2TimeOfImpact.s_pointA),_r=box2d.b2Mul_X_V2(_r,V,box2d.b2TimeOfImpact.s_pointB),V=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_r,_o,box2d.b2Vec2.s_t0),this.m_axis);case box2d.b2SeparationFunctionType.e_faceA:return o=box2d.b2Mul_R_V2(_o.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),_o=box2d.b2Mul_X_V2(_o,this.m_localPoint,box2d.b2TimeOfImpact.s_pointA),e_=box2d.b2MulT_R_V2(_r.q,box2d.b2Vec2.s_t0.Copy(o).SelfNeg(),box2d.b2TimeOfImpact.s_axisB),x[0]=-1,V[0]=this.m_proxyB.GetSupport(e_),V=this.m_proxyB.GetVertex(V[0]),_r=box2d.b2Mul_X_V2(_r,V,box2d.b2TimeOfImpact.s_pointB),V=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_r,_o,box2d.b2Vec2.s_t0),o);case box2d.b2SeparationFunctionType.e_faceB:return o=box2d.b2Mul_R_V2(_r.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),_r=box2d.b2Mul_X_V2(_r,this.m_localPoint,box2d.b2TimeOfImpact.s_pointB),l=box2d.b2MulT_R_V2(_o.q,box2d.b2Vec2.s_t0.Copy(o).SelfNeg(),box2d.b2TimeOfImpact.s_axisA),V[0]=-1,x[0]=this.m_proxyA.GetSupport(l),x=this.m_proxyA.GetVertex(x[0]),_o=box2d.b2Mul_X_V2(_o,x,box2d.b2TimeOfImpact.s_pointA),V=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_o,_r,box2d.b2Vec2.s_t0),o);default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),x[0]=-1,V[0]=-1,0}};goog.exportProperty(box2d.b2SeparationFunction.prototype,"FindMinSeparation",box2d.b2SeparationFunction.prototype.FindMinSeparation);box2d.b2SeparationFunction.prototype.Evaluate=function(x,V,o){var _o=box2d.b2TimeOfImpact.s_xfA,_r=box2d.b2TimeOfImpact.s_xfB;switch(this.m_sweepA.GetTransform(_o,o),this.m_sweepB.GetTransform(_r,o),this.m_type){case box2d.b2SeparationFunctionType.e_points:return x=this.m_proxyA.GetVertex(x),V=this.m_proxyB.GetVertex(V),_o=box2d.b2Mul_X_V2(_o,x,box2d.b2TimeOfImpact.s_pointA),_r=box2d.b2Mul_X_V2(_r,V,box2d.b2TimeOfImpact.s_pointB),_o=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_r,_o,box2d.b2Vec2.s_t0),this.m_axis);case box2d.b2SeparationFunctionType.e_faceA:return o=box2d.b2Mul_R_V2(_o.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),_o=box2d.b2Mul_X_V2(_o,this.m_localPoint,box2d.b2TimeOfImpact.s_pointA),V=this.m_proxyB.GetVertex(V),_r=box2d.b2Mul_X_V2(_r,V,box2d.b2TimeOfImpact.s_pointB),_o=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_r,_o,box2d.b2Vec2.s_t0),o);case box2d.b2SeparationFunctionType.e_faceB:return o=box2d.b2Mul_R_V2(_r.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),_r=box2d.b2Mul_X_V2(_r,this.m_localPoint,box2d.b2TimeOfImpact.s_pointB),x=this.m_proxyA.GetVertex(x),_o=box2d.b2Mul_X_V2(_o,x,box2d.b2TimeOfImpact.s_pointA),_o=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_o,_r,box2d.b2Vec2.s_t0),o);default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),0}};goog.exportProperty(box2d.b2SeparationFunction.prototype,"Evaluate",box2d.b2SeparationFunction.prototype.Evaluate);box2d.b2TimeOfImpact=function(x,V){var o=box2d.b2TimeOfImpact.s_timer.Reset();++box2d.b2_toiCalls,x.state=box2d.b2TOIOutputState.e_unknown,x.t=V.tMax;var _o=V.proxyA,_r=V.proxyB,l=box2d.b2TimeOfImpact.s_sweepA.Copy(V.sweepA),e_=box2d.b2TimeOfImpact.s_sweepB.Copy(V.sweepB);l.Normalize(),e_.Normalize();var o_=V.tMax,i_=box2d.b2Max(box2d.b2_linearSlop,_o.m_radius+_r.m_radius-3*box2d.b2_linearSlop),_e=.25*box2d.b2_linearSlop;box2d.ENABLE_ASSERTS&&box2d.b2Assert(i_>_e);var c_=0,ws=0,h_=box2d.b2TimeOfImpact.s_cache;h_.count=0;var s_=box2d.b2TimeOfImpact.s_distanceInput;for(s_.proxyA=V.proxyA,s_.proxyB=V.proxyB,s_.useRadii=!1;;){var w_=box2d.b2TimeOfImpact.s_xfA,L_=box2d.b2TimeOfImpact.s_xfB;if(l.GetTransform(w_,c_),e_.GetTransform(L_,c_),s_.transformA.Copy(w_),s_.transformB.Copy(L_),w_=box2d.b2TimeOfImpact.s_distanceOutput,box2d.b2ShapeDistance(w_,h_,s_),0>=w_.distance){x.state=box2d.b2TOIOutputState.e_overlapped,x.t=0;break}if(w_.distance<i_+_e){x.state=box2d.b2TOIOutputState.e_touching,x.t=c_;break}w_=box2d.b2TimeOfImpact.s_fcn,w_.Initialize(h_,_o,l,_r,e_,c_);for(var L_=!1,y_=o_,I_=0;;){var k_=box2d.b2TimeOfImpact.s_indexA,j_=box2d.b2TimeOfImpact.s_indexB,n2=w_.FindMinSeparation(k_,j_,y_);if(n2>i_+_e){x.state=box2d.b2TOIOutputState.e_separated,x.t=o_,L_=!0;break}if(n2>i_-_e){c_=y_;break}var p2=w_.Evaluate(k_[0],j_[0],c_);if(p2<i_-_e){x.state=box2d.b2TOIOutputState.e_failed,x.t=c_,L_=!0;break}if(p2<=i_+_e){x.state=box2d.b2TOIOutputState.e_touching,x.t=c_,L_=!0;break}for(var u2=0,T2=c_,I2=y_;;){var q2=0,q2=u2&1?T2+(i_-p2)*(I2-T2)/(n2-p2):.5*(T2+I2);++u2,++box2d.b2_toiRootIters;var O2=w_.Evaluate(k_[0],j_[0],q2);if(box2d.b2Abs(O2-i_)<_e){y_=q2;break}if(O2>i_?(T2=q2,p2=O2):(I2=q2,n2=O2),u2===50)break}if(box2d.b2_toiMaxRootIters=box2d.b2Max(box2d.b2_toiMaxRootIters,u2),++I_,I_===box2d.b2_maxPolygonVertices)break}if(++ws,++box2d.b2_toiIters,L_)break;if(ws===20){x.state=box2d.b2TOIOutputState.e_failed,x.t=c_;break}}box2d.b2_toiMaxIters=box2d.b2Max(box2d.b2_toiMaxIters,ws),o=o.GetMilliseconds(),box2d.b2_toiMaxTime=box2d.b2Max(box2d.b2_toiMaxTime,o),box2d.b2_toiTime+=o};goog.exportSymbol("box2d.b2TimeOfImpact",box2d.b2TimeOfImpact);box2d.b2TimeOfImpact.s_timer=new box2d.b2Timer;box2d.b2TimeOfImpact.s_cache=new box2d.b2SimplexCache;box2d.b2TimeOfImpact.s_distanceInput=new box2d.b2DistanceInput;box2d.b2TimeOfImpact.s_distanceOutput=new box2d.b2DistanceOutput;box2d.b2TimeOfImpact.s_xfA=new box2d.b2Transform;box2d.b2TimeOfImpact.s_xfB=new box2d.b2Transform;box2d.b2TimeOfImpact.s_indexA=box2d.b2MakeNumberArray(1);box2d.b2TimeOfImpact.s_indexB=box2d.b2MakeNumberArray(1);box2d.b2TimeOfImpact.s_fcn=new box2d.b2SeparationFunction;box2d.b2TimeOfImpact.s_sweepA=new box2d.b2Sweep;box2d.b2TimeOfImpact.s_sweepB=new box2d.b2Sweep;box2d.b2TimeOfImpact.s_pointA=new box2d.b2Vec2;box2d.b2TimeOfImpact.s_pointB=new box2d.b2Vec2;box2d.b2TimeOfImpact.s_normal=new box2d.b2Vec2;box2d.b2TimeOfImpact.s_axisA=new box2d.b2Vec2;box2d.b2TimeOfImpact.s_axisB=new box2d.b2Vec2;box2d.b2Filter=function(){};goog.exportSymbol("box2d.b2Filter",box2d.b2Filter);box2d.b2Filter.prototype.categoryBits=1;goog.exportProperty(box2d.b2Filter.prototype,"categoryBits",box2d.b2Filter.prototype.categoryBits);box2d.b2Filter.prototype.maskBits=65535;goog.exportProperty(box2d.b2Filter.prototype,"maskBits",box2d.b2Filter.prototype.maskBits);box2d.b2Filter.prototype.groupIndex=0;goog.exportProperty(box2d.b2Filter.prototype,"groupIndex",box2d.b2Filter.prototype.groupIndex);box2d.b2Filter.prototype.Clone=function(){return new box2d.b2Filter().Copy(this)};goog.exportProperty(box2d.b2Filter.prototype,"Clone",box2d.b2Filter.prototype.Clone);box2d.b2Filter.prototype.Copy=function(x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(this!==x),this.categoryBits=x.categoryBits,this.maskBits=x.maskBits,this.groupIndex=x.groupIndex,this};goog.exportProperty(box2d.b2Filter.prototype,"Copy",box2d.b2Filter.prototype.Copy);box2d.b2FixtureDef=function(){this.filter=new box2d.b2Filter};goog.exportSymbol("box2d.b2FixtureDef",box2d.b2FixtureDef);box2d.b2FixtureDef.prototype.shape=null;goog.exportProperty(box2d.b2FixtureDef.prototype,"shape",box2d.b2FixtureDef.prototype.shape);box2d.b2FixtureDef.prototype.userData=null;goog.exportProperty(box2d.b2FixtureDef.prototype,"userData",box2d.b2FixtureDef.prototype.userData);box2d.b2FixtureDef.prototype.friction=.2;goog.exportProperty(box2d.b2FixtureDef.prototype,"friction",box2d.b2FixtureDef.prototype.friction);box2d.b2FixtureDef.prototype.restitution=0;goog.exportProperty(box2d.b2FixtureDef.prototype,"restitution",box2d.b2FixtureDef.prototype.restitution);box2d.b2FixtureDef.prototype.density=0;goog.exportProperty(box2d.b2FixtureDef.prototype,"density",box2d.b2FixtureDef.prototype.density);box2d.b2FixtureDef.prototype.isSensor=!1;goog.exportProperty(box2d.b2FixtureDef.prototype,"isSensor",box2d.b2FixtureDef.prototype.isSensor);box2d.b2FixtureDef.prototype.filter=null;goog.exportProperty(box2d.b2FixtureDef.prototype,"filter",box2d.b2FixtureDef.prototype.filter);box2d.b2FixtureProxy=function(){this.aabb=new box2d.b2AABB};goog.exportSymbol("box2d.b2FixtureProxy",box2d.b2FixtureProxy);box2d.b2FixtureProxy.prototype.aabb=null;goog.exportProperty(box2d.b2FixtureProxy.prototype,"aabb",box2d.b2FixtureProxy.prototype.aabb);box2d.b2FixtureProxy.prototype.fixture=null;goog.exportProperty(box2d.b2FixtureProxy.prototype,"fixture",box2d.b2FixtureProxy.prototype.fixture);box2d.b2FixtureProxy.prototype.childIndex=0;goog.exportProperty(box2d.b2FixtureProxy.prototype,"childIndex",box2d.b2FixtureProxy.prototype.childIndex);box2d.b2FixtureProxy.prototype.proxy=null;goog.exportProperty(box2d.b2FixtureProxy.prototype,"proxy",box2d.b2FixtureProxy.prototype.proxy);box2d.b2FixtureProxy.MakeArray=function(x){return box2d.b2MakeArray(x,function(V){return new box2d.b2FixtureProxy})};goog.exportProperty(box2d.b2FixtureProxy,"MakeArray",box2d.b2FixtureProxy.MakeArray);box2d.b2Fixture=function(){this.m_proxyCount=0,this.m_filter=new box2d.b2Filter};goog.exportSymbol("box2d.b2Fixture",box2d.b2Fixture);box2d.b2Fixture.prototype.m_density=0;goog.exportProperty(box2d.b2Fixture.prototype,"m_density",box2d.b2Fixture.prototype.m_density);box2d.b2Fixture.prototype.m_next=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_next",box2d.b2Fixture.prototype.m_next);box2d.b2Fixture.prototype.m_body=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_body",box2d.b2Fixture.prototype.m_body);box2d.b2Fixture.prototype.m_shape=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_shape",box2d.b2Fixture.prototype.m_shape);box2d.b2Fixture.prototype.m_friction=0;goog.exportProperty(box2d.b2Fixture.prototype,"m_friction",box2d.b2Fixture.prototype.m_friction);box2d.b2Fixture.prototype.m_restitution=0;goog.exportProperty(box2d.b2Fixture.prototype,"m_restitution",box2d.b2Fixture.prototype.m_restitution);box2d.b2Fixture.prototype.m_proxies=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_proxies",box2d.b2Fixture.prototype.m_proxies);box2d.b2Fixture.prototype.m_proxyCount=0;goog.exportProperty(box2d.b2Fixture.prototype,"m_proxyCount",box2d.b2Fixture.prototype.m_proxyCount);box2d.b2Fixture.prototype.m_filter=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_filter",box2d.b2Fixture.prototype.m_filter);box2d.b2Fixture.prototype.m_isSensor=!1;goog.exportProperty(box2d.b2Fixture.prototype,"m_isSensor",box2d.b2Fixture.prototype.m_isSensor);box2d.b2Fixture.prototype.m_userData=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_userData",box2d.b2Fixture.prototype.m_userData);box2d.b2Fixture.prototype.GetType=function(){return this.m_shape.GetType()};goog.exportProperty(box2d.b2Fixture.prototype,"GetType",box2d.b2Fixture.prototype.GetType);box2d.b2Fixture.prototype.GetShape=function(){return this.m_shape};goog.exportProperty(box2d.b2Fixture.prototype,"GetShape",box2d.b2Fixture.prototype.GetShape);box2d.b2Fixture.prototype.IsSensor=function(){return this.m_isSensor};goog.exportProperty(box2d.b2Fixture.prototype,"IsSensor",box2d.b2Fixture.prototype.IsSensor);box2d.b2Fixture.prototype.GetFilterData=function(x){return x=x||new box2d.b2Filter,x.Copy(this.m_filter)};goog.exportProperty(box2d.b2Fixture.prototype,"GetFilterData",box2d.b2Fixture.prototype.GetFilterData);box2d.b2Fixture.prototype.GetUserData=function(){return this.m_userData};goog.exportProperty(box2d.b2Fixture.prototype,"GetUserData",box2d.b2Fixture.prototype.GetUserData);box2d.b2Fixture.prototype.SetUserData=function(x){this.m_userData=x};goog.exportProperty(box2d.b2Fixture.prototype,"SetUserData",box2d.b2Fixture.prototype.SetUserData);box2d.b2Fixture.prototype.GetBody=function(){return this.m_body};goog.exportProperty(box2d.b2Fixture.prototype,"GetBody",box2d.b2Fixture.prototype.GetBody);box2d.b2Fixture.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2Fixture.prototype,"GetNext",box2d.b2Fixture.prototype.GetNext);box2d.b2Fixture.prototype.SetDensity=function(x){this.m_density=x};goog.exportProperty(box2d.b2Fixture.prototype,"SetDensity",box2d.b2Fixture.prototype.SetDensity);box2d.b2Fixture.prototype.GetDensity=function(){return this.m_density};goog.exportProperty(box2d.b2Fixture.prototype,"GetDensity",box2d.b2Fixture.prototype.GetDensity);box2d.b2Fixture.prototype.GetFriction=function(){return this.m_friction};goog.exportProperty(box2d.b2Fixture.prototype,"GetFriction",box2d.b2Fixture.prototype.GetFriction);box2d.b2Fixture.prototype.SetFriction=function(x){this.m_friction=x};goog.exportProperty(box2d.b2Fixture.prototype,"SetFriction",box2d.b2Fixture.prototype.SetFriction);box2d.b2Fixture.prototype.GetRestitution=function(){return this.m_restitution};goog.exportProperty(box2d.b2Fixture.prototype,"GetRestitution",box2d.b2Fixture.prototype.GetRestitution);box2d.b2Fixture.prototype.SetRestitution=function(x){this.m_restitution=x};goog.exportProperty(box2d.b2Fixture.prototype,"SetRestitution",box2d.b2Fixture.prototype.SetRestitution);box2d.b2Fixture.prototype.TestPoint=function(x){return this.m_shape.TestPoint(this.m_body.GetTransform(),x)};goog.exportProperty(box2d.b2Fixture.prototype,"TestPoint",box2d.b2Fixture.prototype.TestPoint);box2d.b2Fixture.prototype.ComputeDistance=function(x,V,o){return this.m_shape.ComputeDistance(this.m_body.GetTransform(),x,V,o)};goog.exportProperty(box2d.b2Fixture.prototype,"ComputeDistance",box2d.b2Fixture.prototype.ComputeDistance);box2d.b2Fixture.prototype.RayCast=function(x,V,o){return this.m_shape.RayCast(x,V,this.m_body.GetTransform(),o)};goog.exportProperty(box2d.b2Fixture.prototype,"RayCast",box2d.b2Fixture.prototype.RayCast);box2d.b2Fixture.prototype.GetMassData=function(x){return x=x||new box2d.b2MassData,this.m_shape.ComputeMass(x,this.m_density),x};goog.exportProperty(box2d.b2Fixture.prototype,"GetMassData",box2d.b2Fixture.prototype.GetMassData);box2d.b2Fixture.prototype.GetAABB=function(x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=x&&x<this.m_proxyCount),this.m_proxies[x].aabb};goog.exportProperty(box2d.b2Fixture.prototype,"GetAABB",box2d.b2Fixture.prototype.GetAABB);box2d.b2Fixture.prototype.Create=function(x,V){this.m_userData=V.userData,this.m_friction=V.friction,this.m_restitution=V.restitution,this.m_body=x,this.m_next=null,this.m_filter.Copy(V.filter),this.m_isSensor=V.isSensor,this.m_shape=V.shape.Clone(),this.m_proxies=box2d.b2FixtureProxy.MakeArray(this.m_shape.GetChildCount()),this.m_proxyCount=0,this.m_density=V.density};goog.exportProperty(box2d.b2Fixture.prototype,"Create",box2d.b2Fixture.prototype.Create);box2d.b2Fixture.prototype.Destroy=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_proxyCount===0),this.m_shape=null};goog.exportProperty(box2d.b2Fixture.prototype,"Destroy",box2d.b2Fixture.prototype.Destroy);box2d.b2Fixture.prototype.CreateProxies=function(x,V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_proxyCount===0),this.m_proxyCount=this.m_shape.GetChildCount();for(var o=0;o<this.m_proxyCount;++o){var _o=this.m_proxies[o];this.m_shape.ComputeAABB(_o.aabb,V,o),_o.proxy=x.CreateProxy(_o.aabb,_o),_o.fixture=this,_o.childIndex=o}};goog.exportProperty(box2d.b2Fixture.prototype,"CreateProxies",box2d.b2Fixture.prototype.CreateProxies);box2d.b2Fixture.prototype.DestroyProxies=function(x){for(var V=0;V<this.m_proxyCount;++V){var o=this.m_proxies[V];x.DestroyProxy(o.proxy),o.proxy=null}this.m_proxyCount=0};goog.exportProperty(box2d.b2Fixture.prototype,"DestroyProxies",box2d.b2Fixture.prototype.DestroyProxies);box2d.b2Fixture.prototype.Synchronize=function(x,V,o){if(this.m_proxyCount!==0)for(var _o=0;_o<this.m_proxyCount;++_o){var _r=this.m_proxies[_o],l=box2d.b2Fixture.prototype.Synchronize.s_aabb1,e_=box2d.b2Fixture.prototype.Synchronize.s_aabb2;this.m_shape.ComputeAABB(l,V,_o),this.m_shape.ComputeAABB(e_,o,_o),_r.aabb.Combine2(l,e_),l=box2d.b2Sub_V2_V2(o.p,V.p,box2d.b2Fixture.prototype.Synchronize.s_displacement),x.MoveProxy(_r.proxy,_r.aabb,l)}};goog.exportProperty(box2d.b2Fixture.prototype,"Synchronize",box2d.b2Fixture.prototype.Synchronize);box2d.b2Fixture.prototype.Synchronize.s_aabb1=new box2d.b2AABB;box2d.b2Fixture.prototype.Synchronize.s_aabb2=new box2d.b2AABB;box2d.b2Fixture.prototype.Synchronize.s_displacement=new box2d.b2Vec2;box2d.b2Fixture.prototype.SetFilterData=function(x){this.m_filter.Copy(x),this.Refilter()};goog.exportProperty(box2d.b2Fixture.prototype,"SetFilterData",box2d.b2Fixture.prototype.SetFilterData);box2d.b2Fixture.prototype.Refilter=function(){if(this.m_body!==null){for(var x=this.m_body.GetContactList();x;){var V=x.contact,o=V.GetFixtureA(),_o=V.GetFixtureB();o!==this&&_o!==this||V.FlagForFiltering(),x=x.next}if(x=this.m_body.GetWorld(),x!==null)for(x=x.m_contactManager.m_broadPhase,V=0;V<this.m_proxyCount;++V)x.TouchProxy(this.m_proxies[V].proxy)}};goog.exportProperty(box2d.b2Fixture.prototype,"Refilter",box2d.b2Fixture.prototype.Refilter);box2d.b2Fixture.prototype.SetSensor=function(x){x!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=x)};goog.exportProperty(box2d.b2Fixture.prototype,"SetSensor",box2d.b2Fixture.prototype.SetSensor);box2d.b2Fixture.prototype.Dump=function(x){box2d.DEBUG&&(box2d.b2Log(`    /*box2d.b2FixtureDef*/ var fd = new box2d.b2FixtureDef();
`),box2d.b2Log(`    fd.friction = %.15f;
`,this.m_friction),box2d.b2Log(`    fd.restitution = %.15f;
`,this.m_restitution),box2d.b2Log(`    fd.density = %.15f;
`,this.m_density),box2d.b2Log(`    fd.isSensor = %s;
`,this.m_isSensor?"true":"false"),box2d.b2Log(`    fd.filter.categoryBits = %d;
`,this.m_filter.categoryBits),box2d.b2Log(`    fd.filter.maskBits = %d;
`,this.m_filter.maskBits),box2d.b2Log(`    fd.filter.groupIndex = %d;
`,this.m_filter.groupIndex),this.m_shape.Dump(),box2d.b2Log(`
`),box2d.b2Log(`    fd.shape = shape;
`),box2d.b2Log(`
`),box2d.b2Log(`    bodies[%d].CreateFixture(fd);
`,x))};goog.exportProperty(box2d.b2Fixture.prototype,"Dump",box2d.b2Fixture.prototype.Dump);box2d.b2BodyType={b2_unknown:-1,b2_staticBody:0,b2_kinematicBody:1,b2_dynamicBody:2,b2_bulletBody:3};goog.exportSymbol("box2d.b2BodyType",box2d.b2BodyType);goog.exportProperty(box2d.b2BodyType,"b2_unknown",box2d.b2BodyType.b2_unknown);goog.exportProperty(box2d.b2BodyType,"b2_staticBody",box2d.b2BodyType.b2_staticBody);goog.exportProperty(box2d.b2BodyType,"b2_kinematicBody",box2d.b2BodyType.b2_kinematicBody);goog.exportProperty(box2d.b2BodyType,"b2_dynamicBody",box2d.b2BodyType.b2_dynamicBody);goog.exportProperty(box2d.b2BodyType,"b2_bulletBody",box2d.b2BodyType.b2_bulletBody);box2d.b2BodyDef=function(){this.position=new box2d.b2Vec2(0,0),this.linearVelocity=new box2d.b2Vec2(0,0)};goog.exportSymbol("box2d.b2BodyDef",box2d.b2BodyDef);box2d.b2BodyDef.prototype.type=box2d.b2BodyType.b2_staticBody;goog.exportProperty(box2d.b2BodyDef.prototype,"type",box2d.b2BodyDef.prototype.type);box2d.b2BodyDef.prototype.position=null;goog.exportProperty(box2d.b2BodyDef.prototype,"position",box2d.b2BodyDef.prototype.position);box2d.b2BodyDef.prototype.angle=0;goog.exportProperty(box2d.b2BodyDef.prototype,"angle",box2d.b2BodyDef.prototype.angle);box2d.b2BodyDef.prototype.linearVelocity=null;goog.exportProperty(box2d.b2BodyDef.prototype,"linearVelocity",box2d.b2BodyDef.prototype.linearVelocity);box2d.b2BodyDef.prototype.angularVelocity=0;goog.exportProperty(box2d.b2BodyDef.prototype,"angularVelocity",box2d.b2BodyDef.prototype.angularVelocity);box2d.b2BodyDef.prototype.linearDamping=0;goog.exportProperty(box2d.b2BodyDef.prototype,"linearDamping",box2d.b2BodyDef.prototype.linearDamping);box2d.b2BodyDef.prototype.angularDamping=0;goog.exportProperty(box2d.b2BodyDef.prototype,"angularDamping",box2d.b2BodyDef.prototype.angularDamping);box2d.b2BodyDef.prototype.allowSleep=!0;goog.exportProperty(box2d.b2BodyDef.prototype,"allowSleep",box2d.b2BodyDef.prototype.allowSleep);box2d.b2BodyDef.prototype.awake=!0;goog.exportProperty(box2d.b2BodyDef.prototype,"awake",box2d.b2BodyDef.prototype.awake);box2d.b2BodyDef.prototype.fixedRotation=!1;goog.exportProperty(box2d.b2BodyDef.prototype,"fixedRotation",box2d.b2BodyDef.prototype.fixedRotation);box2d.b2BodyDef.prototype.bullet=!1;goog.exportProperty(box2d.b2BodyDef.prototype,"bullet",box2d.b2BodyDef.prototype.bullet);box2d.b2BodyDef.prototype.active=!0;goog.exportProperty(box2d.b2BodyDef.prototype,"active",box2d.b2BodyDef.prototype.active);box2d.b2BodyDef.prototype.userData=null;goog.exportProperty(box2d.b2BodyDef.prototype,"userData",box2d.b2BodyDef.prototype.userData);box2d.b2BodyDef.prototype.gravityScale=1;goog.exportProperty(box2d.b2BodyDef.prototype,"gravityScale",box2d.b2BodyDef.prototype.gravityScale);box2d.b2Body=function(x,V){this.m_xf=new box2d.b2Transform,this.m_out_xf=new box2d.b2Transform,this.m_xf0=new box2d.b2Transform,this.m_sweep=new box2d.b2Sweep,this.m_out_sweep=new box2d.b2Sweep,this.m_linearVelocity=new box2d.b2Vec2,this.m_out_linearVelocity=new box2d.b2Vec2,this.m_force=new box2d.b2Vec2,box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.position.IsValid()),box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.linearVelocity.IsValid()),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x.angle)),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x.angularVelocity)),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x.gravityScale)&&0<=x.gravityScale),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x.angularDamping)&&0<=x.angularDamping),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x.linearDamping)&&0<=x.linearDamping),x.bullet&&(this.m_flag_bulletFlag=!0),x.fixedRotation&&(this.m_flag_fixedRotationFlag=!0),x.allowSleep&&(this.m_flag_autoSleepFlag=!0),x.awake&&(this.m_flag_awakeFlag=!0),x.active&&(this.m_flag_activeFlag=!0),this.m_world=V,this.m_xf.p.Copy(x.position),this.m_xf.q.SetAngle(x.angle),this.m_xf0.Copy(this.m_xf),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=x.angle,this.m_sweep.a=x.angle,this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(x.linearVelocity),this.m_angularVelocity=x.angularVelocity,this.m_linearDamping=x.linearDamping,this.m_angularDamping=x.angularDamping,this.m_gravityScale=x.gravityScale,this.m_force.SetZero(),this.m_sleepTime=this.m_torque=0,this.m_type=x.type,this.m_invMass=x.type===box2d.b2BodyType.b2_dynamicBody?this.m_mass=1:this.m_mass=0,this.m_invI=this.m_I=0,this.m_userData=x.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_controllerList=null,this.m_controllerCount=0};goog.exportSymbol("box2d.b2Body",box2d.b2Body);box2d.b2Body.prototype.m_flag_islandFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_islandFlag",box2d.b2Body.prototype.m_flag_islandFlag);box2d.b2Body.prototype.m_flag_awakeFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_awakeFlag",box2d.b2Body.prototype.m_flag_awakeFlag);box2d.b2Body.prototype.m_flag_autoSleepFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_autoSleepFlag",box2d.b2Body.prototype.m_flag_autoSleepFlag);box2d.b2Body.prototype.m_flag_bulletFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_bulletFlag",box2d.b2Body.prototype.m_flag_bulletFlag);box2d.b2Body.prototype.m_flag_fixedRotationFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_fixedRotationFlag",box2d.b2Body.prototype.m_flag_fixedRotationFlag);box2d.b2Body.prototype.m_flag_activeFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_activeFlag",box2d.b2Body.prototype.m_flag_activeFlag);box2d.b2Body.prototype.m_flag_toiFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_toiFlag",box2d.b2Body.prototype.m_flag_toiFlag);box2d.b2Body.prototype.m_islandIndex=0;goog.exportProperty(box2d.b2Body.prototype,"m_islandIndex",box2d.b2Body.prototype.m_islandIndex);box2d.b2Body.prototype.m_world=null;goog.exportProperty(box2d.b2Body.prototype,"m_world",box2d.b2Body.prototype.m_world);box2d.b2Body.prototype.m_xf=null;goog.exportProperty(box2d.b2Body.prototype,"m_xf",box2d.b2Body.prototype.m_xf);box2d.b2Body.prototype.m_out_xf=null;goog.exportProperty(box2d.b2Body.prototype,"m_out_xf",box2d.b2Body.prototype.m_out_xf);box2d.b2Body.prototype.m_xf0=null;goog.exportProperty(box2d.b2Body.prototype,"m_xf0",box2d.b2Body.prototype.m_xf0);box2d.b2Body.prototype.m_sweep=null;goog.exportProperty(box2d.b2Body.prototype,"m_sweep",box2d.b2Body.prototype.m_sweep);box2d.b2Body.prototype.m_out_sweep=null;goog.exportProperty(box2d.b2Body.prototype,"m_out_sweep",box2d.b2Body.prototype.m_out_sweep);box2d.b2Body.prototype.m_jointList=null;goog.exportProperty(box2d.b2Body.prototype,"m_jointList",box2d.b2Body.prototype.m_jointList);box2d.b2Body.prototype.m_contactList=null;goog.exportProperty(box2d.b2Body.prototype,"m_contactList",box2d.b2Body.prototype.m_contactList);box2d.b2Body.prototype.m_prev=null;goog.exportProperty(box2d.b2Body.prototype,"m_prev",box2d.b2Body.prototype.m_prev);box2d.b2Body.prototype.m_next=null;goog.exportProperty(box2d.b2Body.prototype,"m_next",box2d.b2Body.prototype.m_next);box2d.b2Body.prototype.m_linearVelocity=null;goog.exportProperty(box2d.b2Body.prototype,"m_linearVelocity",box2d.b2Body.prototype.m_linearVelocity);box2d.b2Body.prototype.m_out_linearVelocity=null;goog.exportProperty(box2d.b2Body.prototype,"m_out_linearVelocity",box2d.b2Body.prototype.m_out_linearVelocity);box2d.b2Body.prototype.m_angularVelocity=0;goog.exportProperty(box2d.b2Body.prototype,"m_angularVelocity",box2d.b2Body.prototype.m_angularVelocity);box2d.b2Body.prototype.m_linearDamping=0;goog.exportProperty(box2d.b2Body.prototype,"m_linearDamping",box2d.b2Body.prototype.m_linearDamping);box2d.b2Body.prototype.m_angularDamping=0;goog.exportProperty(box2d.b2Body.prototype,"m_angularDamping",box2d.b2Body.prototype.m_angularDamping);box2d.b2Body.prototype.m_gravityScale=1;goog.exportProperty(box2d.b2Body.prototype,"m_gravityScale",box2d.b2Body.prototype.m_gravityScale);box2d.b2Body.prototype.m_force=null;goog.exportProperty(box2d.b2Body.prototype,"m_force",box2d.b2Body.prototype.m_force);box2d.b2Body.prototype.m_torque=0;goog.exportProperty(box2d.b2Body.prototype,"m_torque",box2d.b2Body.prototype.m_torque);box2d.b2Body.prototype.m_sleepTime=0;goog.exportProperty(box2d.b2Body.prototype,"m_sleepTime",box2d.b2Body.prototype.m_sleepTime);box2d.b2Body.prototype.m_type=box2d.b2BodyType.b2_staticBody;goog.exportProperty(box2d.b2Body.prototype,"m_type",box2d.b2Body.prototype.m_type);box2d.b2Body.prototype.m_mass=1;goog.exportProperty(box2d.b2Body.prototype,"m_mass",box2d.b2Body.prototype.m_mass);box2d.b2Body.prototype.m_invMass=1;goog.exportProperty(box2d.b2Body.prototype,"m_invMass",box2d.b2Body.prototype.m_invMass);box2d.b2Body.prototype.m_I=0;goog.exportProperty(box2d.b2Body.prototype,"m_I",box2d.b2Body.prototype.m_I);box2d.b2Body.prototype.m_invI=0;goog.exportProperty(box2d.b2Body.prototype,"m_invI",box2d.b2Body.prototype.m_invI);box2d.b2Body.prototype.m_userData=null;goog.exportProperty(box2d.b2Body.prototype,"m_userData",box2d.b2Body.prototype.m_userData);box2d.b2Body.prototype.m_fixtureList=null;goog.exportProperty(box2d.b2Body.prototype,"m_fixtureList",box2d.b2Body.prototype.m_fixtureList);box2d.b2Body.prototype.m_fixtureCount=0;goog.exportProperty(box2d.b2Body.prototype,"m_fixtureCount",box2d.b2Body.prototype.m_fixtureCount);box2d.b2Body.prototype.m_controllerList=null;goog.exportProperty(box2d.b2Body.prototype,"m_controllerList",box2d.b2Body.prototype.m_controllerList);box2d.b2Body.prototype.m_controllerCount=0;goog.exportProperty(box2d.b2Body.prototype,"m_controllerCount",box2d.b2Body.prototype.m_controllerCount);box2d.b2Body.prototype.CreateFixture=function(x,V){if(x instanceof box2d.b2FixtureDef)return this.CreateFixture_Def(x);if(x instanceof box2d.b2Shape&&typeof V=="number")return this.CreateFixture_Shape_Density(x,V);throw Error()};goog.exportProperty(box2d.b2Body.prototype,"CreateFixture",box2d.b2Body.prototype.CreateFixture);box2d.b2Body.prototype.CreateFixture_Def=function(x){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),this.m_world.IsLocked())return null;var V=new box2d.b2Fixture;return V.Create(this,x),this.m_flag_activeFlag&&V.CreateProxies(this.m_world.m_contactManager.m_broadPhase,this.m_xf),V.m_next=this.m_fixtureList,this.m_fixtureList=V,++this.m_fixtureCount,V.m_body=this,0<V.m_density&&this.ResetMassData(),this.m_world.m_flag_newFixture=!0,V};goog.exportProperty(box2d.b2Body.prototype,"CreateFixture_Def",box2d.b2Body.prototype.CreateFixture_Def);box2d.b2Body.prototype.CreateFixture_Shape_Density=function(x,V){var o=box2d.b2Body.prototype.CreateFixture_Shape_Density.s_def;return o.shape=x,o.density=typeof V=="number"?V:0,this.CreateFixture_Def(o)};goog.exportProperty(box2d.b2Body.prototype,"CreateFixture_Shape_Density",box2d.b2Body.prototype.CreateFixture_Shape_Density);box2d.b2Body.prototype.CreateFixture_Shape_Density.s_def=new box2d.b2FixtureDef;box2d.b2Body.prototype.DestroyFixture=function(x){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),!this.m_world.IsLocked()){box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.m_body===this),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_fixtureCount);for(var V=this.m_fixtureList,o=null,_o=!1;V!==null;){if(V===x){o?o.m_next=x.m_next:this.m_fixtureList=x.m_next,_o=!0;break}o=V,V=V.m_next}for(box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o),V=this.m_contactList;V;){var o=V.contact,V=V.next,_o=o.GetFixtureA(),_r=o.GetFixtureB();x!==_o&&x!==_r||this.m_world.m_contactManager.Destroy(o)}this.m_flag_activeFlag&&x.DestroyProxies(this.m_world.m_contactManager.m_broadPhase),x.Destroy(),x.m_body=null,x.m_next=null,--this.m_fixtureCount,this.ResetMassData()}};goog.exportProperty(box2d.b2Body.prototype,"DestroyFixture",box2d.b2Body.prototype.DestroyFixture);box2d.b2Body.prototype.SetTransform=function(x,V,o){if(x instanceof box2d.b2Vec2&&typeof V=="number")this.SetTransform_X_Y_A(x.x,x.y,V);else if(x instanceof box2d.b2Transform)this.SetTransform_X_Y_A(x.p.x,x.p.y,x.GetAngle());else if(typeof x=="number"&&typeof V=="number"&&typeof o=="number")this.SetTransform_X_Y_A(x,V,o);else throw Error()};goog.exportProperty(box2d.b2Body.prototype,"SetTransform",box2d.b2Body.prototype.SetTransform);box2d.b2Body.prototype.SetTransform_V2_A=function(x,V){this.SetTransform_X_Y_A(x.x,x.y,V)};goog.exportProperty(box2d.b2Body.prototype,"SetTransform_V2_A",box2d.b2Body.prototype.SetTransform_V2_A);box2d.b2Body.prototype.SetTransform_X_Y_A=function(x,V,o){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),!this.m_world.IsLocked()&&(this.m_xf.p.x!==x||this.m_xf.p.y!==V||this.m_xf.q.GetAngle()!==o))for(this.m_xf.q.SetAngle(o),this.m_xf.p.Set(x,V),this.m_xf0.Copy(this.m_xf),box2d.b2Mul_X_V2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=o,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=o,x=this.m_world.m_contactManager.m_broadPhase,V=this.m_fixtureList;V;V=V.m_next)V.Synchronize(x,this.m_xf,this.m_xf)};goog.exportProperty(box2d.b2Body.prototype,"SetTransform_X_Y_A",box2d.b2Body.prototype.SetTransform_X_Y_A);box2d.b2Body.prototype.SetTransform_X=function(x){this.SetTransform_X_Y_A(x.p.x,x.p.y,x.GetAngle())};goog.exportProperty(box2d.b2Body.prototype,"SetTransform_X",box2d.b2Body.prototype.SetTransform_X);box2d.b2Body.prototype.GetTransform=function(x){return x=x||this.m_out_xf,x.Copy(this.m_xf)};goog.exportProperty(box2d.b2Body.prototype,"GetTransform",box2d.b2Body.prototype.GetTransform);box2d.b2Body.prototype.GetPosition=function(x){return x=x||this.m_out_xf.p,x.Copy(this.m_xf.p)};goog.exportProperty(box2d.b2Body.prototype,"GetPosition",box2d.b2Body.prototype.GetPosition);box2d.b2Body.prototype.SetPosition=function(x){this.SetTransform_V2_A(x,this.GetAngle())};goog.exportProperty(box2d.b2Body.prototype,"SetPosition",box2d.b2Body.prototype.SetPosition);box2d.b2Body.prototype.SetPositionXY=function(x,V){this.SetTransform_X_Y_A(x,V,this.GetAngle())};goog.exportProperty(box2d.b2Body.prototype,"SetPositionXY",box2d.b2Body.prototype.SetPositionXY);box2d.b2Body.prototype.GetRotation=function(x){return x=x||this.m_out_xf.q,x.Copy(this.m_xf.q)};goog.exportProperty(box2d.b2Body.prototype,"GetRotation",box2d.b2Body.prototype.GetRotation);box2d.b2Body.prototype.SetRotation=function(x){this.SetTransform_V2_A(this.GetPosition(),x.GetAngle())};goog.exportProperty(box2d.b2Body.prototype,"SetRotation",box2d.b2Body.prototype.SetRotation);box2d.b2Body.prototype.GetAngle=function(){return this.m_sweep.a};goog.exportProperty(box2d.b2Body.prototype,"GetAngle",box2d.b2Body.prototype.GetAngle);box2d.b2Body.prototype.SetAngle=function(x){this.SetTransform_V2_A(this.GetPosition(),x)};goog.exportProperty(box2d.b2Body.prototype,"SetAngle",box2d.b2Body.prototype.SetAngle);box2d.b2Body.prototype.GetWorldCenter=function(x){return x=x||this.m_out_sweep.c,x.Copy(this.m_sweep.c)};goog.exportProperty(box2d.b2Body.prototype,"GetWorldCenter",box2d.b2Body.prototype.GetWorldCenter);box2d.b2Body.prototype.GetLocalCenter=function(x){return x=x||this.m_out_sweep.localCenter,x.Copy(this.m_sweep.localCenter)};goog.exportProperty(box2d.b2Body.prototype,"GetLocalCenter",box2d.b2Body.prototype.GetLocalCenter);box2d.b2Body.prototype.SetLinearVelocity=function(x){this.m_type!==box2d.b2BodyType.b2_staticBody&&(0<box2d.b2Dot_V2_V2(x,x)&&this.SetAwake(!0),this.m_linearVelocity.Copy(x))};goog.exportProperty(box2d.b2Body.prototype,"SetLinearVelocity",box2d.b2Body.prototype.SetLinearVelocity);box2d.b2Body.prototype.GetLinearVelocity=function(x){return x=x||this.m_out_linearVelocity,x.Copy(this.m_linearVelocity)};goog.exportProperty(box2d.b2Body.prototype,"GetLinearVelocity",box2d.b2Body.prototype.GetLinearVelocity);box2d.b2Body.prototype.SetAngularVelocity=function(x){this.m_type!==box2d.b2BodyType.b2_staticBody&&(0<x*x&&this.SetAwake(!0),this.m_angularVelocity=x)};goog.exportProperty(box2d.b2Body.prototype,"SetAngularVelocity",box2d.b2Body.prototype.SetAngularVelocity);box2d.b2Body.prototype.GetAngularVelocity=function(){return this.m_angularVelocity};goog.exportProperty(box2d.b2Body.prototype,"GetAngularVelocity",box2d.b2Body.prototype.GetAngularVelocity);box2d.b2Body.prototype.GetDefinition=function(x){return x.type=this.GetType(),x.allowSleep=this.m_flag_autoSleepFlag,x.angle=this.GetAngle(),x.angularDamping=this.m_angularDamping,x.gravityScale=this.m_gravityScale,x.angularVelocity=this.m_angularVelocity,x.fixedRotation=this.m_flag_fixedRotationFlag,x.bullet=this.m_flag_bulletFlag,x.awake=this.m_flag_awakeFlag,x.linearDamping=this.m_linearDamping,x.linearVelocity.Copy(this.GetLinearVelocity()),x.position.Copy(this.GetPosition()),x.userData=this.GetUserData(),x};goog.exportProperty(box2d.b2Body.prototype,"GetDefinition",box2d.b2Body.prototype.GetDefinition);box2d.b2Body.prototype.ApplyForce=function(x,V,o){this.m_type===box2d.b2BodyType.b2_dynamicBody&&(!this.m_flag_awakeFlag&&this.SetAwake(!0),this.m_flag_awakeFlag&&(this.m_force.x+=x.x,this.m_force.y+=x.y,this.m_torque+=(V.x-this.m_sweep.c.x)*x.y-(V.y-this.m_sweep.c.y)*x.x))};goog.exportProperty(box2d.b2Body.prototype,"ApplyForce",box2d.b2Body.prototype.ApplyForce);box2d.b2Body.prototype.ApplyForceToCenter=function(x,V){this.m_type===box2d.b2BodyType.b2_dynamicBody&&((typeof V!="boolean"||V)&&!this.m_flag_awakeFlag&&this.SetAwake(!0),this.m_flag_awakeFlag&&(this.m_force.x+=x.x,this.m_force.y+=x.y))};goog.exportProperty(box2d.b2Body.prototype,"ApplyForceToCenter",box2d.b2Body.prototype.ApplyForceToCenter);box2d.b2Body.prototype.ApplyTorque=function(x,V){this.m_type===box2d.b2BodyType.b2_dynamicBody&&((typeof V!="boolean"||V)&&!this.m_flag_awakeFlag&&this.SetAwake(!0),this.m_flag_awakeFlag&&(this.m_torque+=x))};goog.exportProperty(box2d.b2Body.prototype,"ApplyTorque",box2d.b2Body.prototype.ApplyTorque);box2d.b2Body.prototype.ApplyLinearImpulse=function(x,V,o){this.m_type===box2d.b2BodyType.b2_dynamicBody&&((typeof o!="boolean"||o)&&!this.m_flag_awakeFlag&&this.SetAwake(!0),this.m_flag_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*x.x,this.m_linearVelocity.y+=this.m_invMass*x.y,this.m_angularVelocity+=this.m_invI*((V.x-this.m_sweep.c.x)*x.y-(V.y-this.m_sweep.c.y)*x.x)))};goog.exportProperty(box2d.b2Body.prototype,"ApplyLinearImpulse",box2d.b2Body.prototype.ApplyLinearImpulse);box2d.b2Body.prototype.ApplyAngularImpulse=function(x,V){this.m_type===box2d.b2BodyType.b2_dynamicBody&&((typeof V!="boolean"||V)&&!this.m_flag_awakeFlag&&this.SetAwake(!0),this.m_flag_awakeFlag&&(this.m_angularVelocity+=this.m_invI*x))};goog.exportProperty(box2d.b2Body.prototype,"ApplyAngularImpulse",box2d.b2Body.prototype.ApplyAngularImpulse);box2d.b2Body.prototype.GetMass=function(){return this.m_mass};goog.exportProperty(box2d.b2Body.prototype,"GetMass",box2d.b2Body.prototype.GetMass);box2d.b2Body.prototype.GetInertia=function(){return this.m_I+this.m_mass*box2d.b2Dot_V2_V2(this.m_sweep.localCenter,this.m_sweep.localCenter)};goog.exportProperty(box2d.b2Body.prototype,"GetInertia",box2d.b2Body.prototype.GetInertia);box2d.b2Body.prototype.GetMassData=function(x){return x.mass=this.m_mass,x.I=this.m_I+this.m_mass*box2d.b2Dot_V2_V2(this.m_sweep.localCenter,this.m_sweep.localCenter),x.center.Copy(this.m_sweep.localCenter),x};goog.exportProperty(box2d.b2Body.prototype,"GetMassData",box2d.b2Body.prototype.GetMassData);box2d.b2Body.prototype.SetMassData=function(x){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),!this.m_world.IsLocked()&&this.m_type===box2d.b2BodyType.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0,this.m_mass=x.mass,0>=this.m_mass&&(this.m_mass=1),this.m_invMass=1/this.m_mass,0<x.I&&!this.m_flag_fixedRotationFlag&&(this.m_I=x.I-this.m_mass*box2d.b2Dot_V2_V2(x.center,x.center),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_I),this.m_invI=1/this.m_I);var V=box2d.b2Body.prototype.SetMassData.s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(x.center),box2d.b2Mul_X_V2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),box2d.b2AddCross_V2_S_V2(this.m_linearVelocity,this.m_angularVelocity,box2d.b2Sub_V2_V2(this.m_sweep.c,V,box2d.b2Vec2.s_t0),this.m_linearVelocity)}};goog.exportProperty(box2d.b2Body.prototype,"SetMassData",box2d.b2Body.prototype.SetMassData);box2d.b2Body.prototype.SetMassData.s_oldCenter=new box2d.b2Vec2;box2d.b2Body.prototype.ResetMassData=function(){if(this.m_invI=this.m_I=this.m_invMass=this.m_mass=0,this.m_sweep.localCenter.SetZero(),this.m_type===box2d.b2BodyType.b2_staticBody||this.m_type===box2d.b2BodyType.b2_kinematicBody)this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;else{box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_type===box2d.b2BodyType.b2_dynamicBody);for(var x=box2d.b2Body.prototype.ResetMassData.s_localCenter.SetZero(),V=this.m_fixtureList;V;V=V.m_next)if(V.m_density!==0){var o=V.GetMassData(box2d.b2Body.prototype.ResetMassData.s_massData);this.m_mass+=o.mass,x.x+=o.center.x*o.mass,x.y+=o.center.y*o.mass,this.m_I+=o.I}0<this.m_mass?(this.m_invMass=1/this.m_mass,x.x*=this.m_invMass,x.y*=this.m_invMass):this.m_invMass=this.m_mass=1,0<this.m_I&&!this.m_flag_fixedRotationFlag?(this.m_I-=this.m_mass*box2d.b2Dot_V2_V2(x,x),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0,V=box2d.b2Body.prototype.ResetMassData.s_oldCenter.Copy(this.m_sweep.c),this.m_sweep.localCenter.Copy(x),box2d.b2Mul_X_V2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),box2d.b2AddCross_V2_S_V2(this.m_linearVelocity,this.m_angularVelocity,box2d.b2Sub_V2_V2(this.m_sweep.c,V,box2d.b2Vec2.s_t0),this.m_linearVelocity)}};goog.exportProperty(box2d.b2Body.prototype,"ResetMassData",box2d.b2Body.prototype.ResetMassData);box2d.b2Body.prototype.ResetMassData.s_localCenter=new box2d.b2Vec2;box2d.b2Body.prototype.ResetMassData.s_oldCenter=new box2d.b2Vec2;box2d.b2Body.prototype.ResetMassData.s_massData=new box2d.b2MassData;box2d.b2Body.prototype.GetWorldPoint=function(x,V){return box2d.b2Mul_X_V2(this.m_xf,x,V)};goog.exportProperty(box2d.b2Body.prototype,"GetWorldPoint",box2d.b2Body.prototype.GetWorldPoint);box2d.b2Body.prototype.GetWorldVector=function(x,V){return box2d.b2Mul_R_V2(this.m_xf.q,x,V)};goog.exportProperty(box2d.b2Body.prototype,"GetWorldVector",box2d.b2Body.prototype.GetWorldVector);box2d.b2Body.prototype.GetLocalPoint=function(x,V){return box2d.b2MulT_X_V2(this.m_xf,x,V)};goog.exportProperty(box2d.b2Body.prototype,"GetLocalPoint",box2d.b2Body.prototype.GetLocalPoint);box2d.b2Body.prototype.GetLocalVector=function(x,V){return box2d.b2MulT_R_V2(this.m_xf.q,x,V)};goog.exportProperty(box2d.b2Body.prototype,"GetLocalVector",box2d.b2Body.prototype.GetLocalVector);box2d.b2Body.prototype.GetLinearVelocityFromWorldPoint=function(x,V){return box2d.b2AddCross_V2_S_V2(this.m_linearVelocity,this.m_angularVelocity,box2d.b2Sub_V2_V2(x,this.m_sweep.c,box2d.b2Vec2.s_t0),V)};goog.exportProperty(box2d.b2Body.prototype,"GetLinearVelocityFromWorldPoint",box2d.b2Body.prototype.GetLinearVelocityFromWorldPoint);box2d.b2Body.prototype.GetLinearVelocityFromLocalPoint=function(x,V){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(x,V),V)};goog.exportProperty(box2d.b2Body.prototype,"GetLinearVelocityFromLocalPoint",box2d.b2Body.prototype.GetLinearVelocityFromLocalPoint);box2d.b2Body.prototype.GetLinearDamping=function(){return this.m_linearDamping};goog.exportProperty(box2d.b2Body.prototype,"GetLinearDamping",box2d.b2Body.prototype.GetLinearDamping);box2d.b2Body.prototype.SetLinearDamping=function(x){this.m_linearDamping=x};goog.exportProperty(box2d.b2Body.prototype,"SetLinearDamping",box2d.b2Body.prototype.SetLinearDamping);box2d.b2Body.prototype.GetAngularDamping=function(){return this.m_angularDamping};goog.exportProperty(box2d.b2Body.prototype,"GetAngularDamping",box2d.b2Body.prototype.GetAngularDamping);box2d.b2Body.prototype.SetAngularDamping=function(x){this.m_angularDamping=x};goog.exportProperty(box2d.b2Body.prototype,"SetAngularDamping",box2d.b2Body.prototype.SetAngularDamping);box2d.b2Body.prototype.GetGravityScale=function(){return this.m_gravityScale};goog.exportProperty(box2d.b2Body.prototype,"GetGravityScale",box2d.b2Body.prototype.GetGravityScale);box2d.b2Body.prototype.SetGravityScale=function(x){this.m_gravityScale=x};goog.exportProperty(box2d.b2Body.prototype,"SetGravityScale",box2d.b2Body.prototype.SetGravityScale);box2d.b2Body.prototype.SetType=function(x){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),!this.m_world.IsLocked()&&this.m_type!==x){for(this.m_type=x,this.ResetMassData(),this.m_type===box2d.b2BodyType.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0,x=this.m_contactList;x;){var V=x;x=x.next,this.m_world.m_contactManager.Destroy(V.contact)}for(this.m_contactList=null,x=this.m_world.m_contactManager.m_broadPhase,V=this.m_fixtureList;V;V=V.m_next)for(var o=V.m_proxyCount,_o=0;_o<o;++_o)x.TouchProxy(V.m_proxies[_o].proxy)}};goog.exportProperty(box2d.b2Body.prototype,"SetType",box2d.b2Body.prototype.SetType);box2d.b2Body.prototype.GetType=function(){return this.m_type};goog.exportProperty(box2d.b2Body.prototype,"GetType",box2d.b2Body.prototype.GetType);box2d.b2Body.prototype.SetBullet=function(x){this.m_flag_bulletFlag=x};goog.exportProperty(box2d.b2Body.prototype,"SetBullet",box2d.b2Body.prototype.SetBullet);box2d.b2Body.prototype.IsBullet=function(){return this.m_flag_bulletFlag};goog.exportProperty(box2d.b2Body.prototype,"IsBullet",box2d.b2Body.prototype.IsBullet);box2d.b2Body.prototype.SetSleepingAllowed=function(x){x?this.m_flag_autoSleepFlag=!0:(this.m_flag_autoSleepFlag=!1,this.SetAwake(!0))};goog.exportProperty(box2d.b2Body.prototype,"SetSleepingAllowed",box2d.b2Body.prototype.SetSleepingAllowed);box2d.b2Body.prototype.IsSleepingAllowed=function(){return this.m_flag_autoSleepFlag};goog.exportProperty(box2d.b2Body.prototype,"IsSleepingAllowed",box2d.b2Body.prototype.IsSleepingAllowed);box2d.b2Body.prototype.SetAwake=function(x){x?this.m_flag_awakeFlag||(this.m_flag_awakeFlag=!0,this.m_sleepTime=0):(this.m_flag_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)};goog.exportProperty(box2d.b2Body.prototype,"SetAwake",box2d.b2Body.prototype.SetAwake);box2d.b2Body.prototype.IsAwake=function(){return this.m_flag_awakeFlag};goog.exportProperty(box2d.b2Body.prototype,"IsAwake",box2d.b2Body.prototype.IsAwake);box2d.b2Body.prototype.SetActive=function(x){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),x!==this.IsActive())if(x){this.m_flag_activeFlag=!0,x=this.m_world.m_contactManager.m_broadPhase;for(var V=this.m_fixtureList;V;V=V.m_next)V.CreateProxies(x,this.m_xf)}else{for(this.m_flag_activeFlag=!1,x=this.m_world.m_contactManager.m_broadPhase,V=this.m_fixtureList;V;V=V.m_next)V.DestroyProxies(x);for(x=this.m_contactList;x;)V=x,x=x.next,this.m_world.m_contactManager.Destroy(V.contact);this.m_contactList=null}};goog.exportProperty(box2d.b2Body.prototype,"SetActive",box2d.b2Body.prototype.SetActive);box2d.b2Body.prototype.IsActive=function(){return this.m_flag_activeFlag};goog.exportProperty(box2d.b2Body.prototype,"IsActive",box2d.b2Body.prototype.IsActive);box2d.b2Body.prototype.SetFixedRotation=function(x){this.m_flag_fixedRotationFlag!==x&&(this.m_flag_fixedRotationFlag=x,this.m_angularVelocity=0,this.ResetMassData())};goog.exportProperty(box2d.b2Body.prototype,"SetFixedRotation",box2d.b2Body.prototype.SetFixedRotation);box2d.b2Body.prototype.IsFixedRotation=function(){return this.m_flag_fixedRotationFlag};goog.exportProperty(box2d.b2Body.prototype,"IsFixedRotation",box2d.b2Body.prototype.IsFixedRotation);box2d.b2Body.prototype.GetFixtureList=function(){return this.m_fixtureList};goog.exportProperty(box2d.b2Body.prototype,"GetFixtureList",box2d.b2Body.prototype.GetFixtureList);box2d.b2Body.prototype.GetJointList=function(){return this.m_jointList};goog.exportProperty(box2d.b2Body.prototype,"GetJointList",box2d.b2Body.prototype.GetJointList);box2d.b2Body.prototype.GetContactList=function(){return this.m_contactList};goog.exportProperty(box2d.b2Body.prototype,"GetContactList",box2d.b2Body.prototype.GetContactList);box2d.b2Body.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2Body.prototype,"GetNext",box2d.b2Body.prototype.GetNext);box2d.b2Body.prototype.GetUserData=function(){return this.m_userData};goog.exportProperty(box2d.b2Body.prototype,"GetUserData",box2d.b2Body.prototype.GetUserData);box2d.b2Body.prototype.SetUserData=function(x){this.m_userData=x};goog.exportProperty(box2d.b2Body.prototype,"SetUserData",box2d.b2Body.prototype.SetUserData);box2d.b2Body.prototype.GetWorld=function(){return this.m_world};goog.exportProperty(box2d.b2Body.prototype,"GetWorld",box2d.b2Body.prototype.GetWorld);box2d.b2Body.prototype.SynchronizeFixtures=function(){var x=box2d.b2Body.prototype.SynchronizeFixtures.s_xf1;x.q.SetAngle(this.m_sweep.a0),box2d.b2Mul_R_V2(x.q,this.m_sweep.localCenter,x.p),box2d.b2Sub_V2_V2(this.m_sweep.c0,x.p,x.p);for(var V=this.m_world.m_contactManager.m_broadPhase,o=this.m_fixtureList;o;o=o.m_next)o.Synchronize(V,x,this.m_xf)};goog.exportProperty(box2d.b2Body.prototype,"SynchronizeFixtures",box2d.b2Body.prototype.SynchronizeFixtures);box2d.b2Body.prototype.SynchronizeFixtures.s_xf1=new box2d.b2Transform;box2d.b2Body.prototype.SynchronizeTransform=function(){this.m_xf.q.SetAngle(this.m_sweep.a),box2d.b2Mul_R_V2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),box2d.b2Sub_V2_V2(this.m_sweep.c,this.m_xf.p,this.m_xf.p)};goog.exportProperty(box2d.b2Body.prototype,"SynchronizeTransform",box2d.b2Body.prototype.SynchronizeTransform);box2d.b2Body.prototype.ShouldCollide=function(x){if(this.m_type!==box2d.b2BodyType.b2_dynamicBody&&x.m_type!==box2d.b2BodyType.b2_dynamicBody)return!1;for(var V=this.m_jointList;V;V=V.next)if(V.other===x&&!V.joint.m_collideConnected)return!1;return!0};goog.exportProperty(box2d.b2Body.prototype,"ShouldCollide",box2d.b2Body.prototype.ShouldCollide);box2d.b2Body.prototype.Advance=function(x){this.m_sweep.Advance(x),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.SetAngle(this.m_sweep.a),box2d.b2Mul_R_V2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),box2d.b2Sub_V2_V2(this.m_sweep.c,this.m_xf.p,this.m_xf.p)};goog.exportProperty(box2d.b2Body.prototype,"Advance",box2d.b2Body.prototype.Advance);box2d.b2Body.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_islandIndex;box2d.b2Log(`{
`),box2d.b2Log(`  /*box2d.b2BodyDef*/ var bd = new box2d.b2BodyDef();
`);var V="";switch(this.m_type){case box2d.b2BodyType.b2_staticBody:V="box2d.b2BodyType.b2_staticBody";break;case box2d.b2BodyType.b2_kinematicBody:V="box2d.b2BodyType.b2_kinematicBody";break;case box2d.b2BodyType.b2_dynamicBody:V="box2d.b2BodyType.b2_dynamicBody";break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}for(box2d.b2Log(`  bd.type = %s;
`,V),box2d.b2Log(`  bd.position.Set(%.15f, %.15f);
`,this.m_xf.p.x,this.m_xf.p.y),box2d.b2Log(`  bd.angle = %.15f;
`,this.m_sweep.a),box2d.b2Log(`  bd.linearVelocity.Set(%.15f, %.15f);
`,this.m_linearVelocity.x,this.m_linearVelocity.y),box2d.b2Log(`  bd.angularVelocity = %.15f;
`,this.m_angularVelocity),box2d.b2Log(`  bd.linearDamping = %.15f;
`,this.m_linearDamping),box2d.b2Log(`  bd.angularDamping = %.15f;
`,this.m_angularDamping),box2d.b2Log(`  bd.allowSleep = %s;
`,this.m_flag_autoSleepFlag?"true":"false"),box2d.b2Log(`  bd.awake = %s;
`,this.m_flag_awakeFlag?"true":"false"),box2d.b2Log(`  bd.fixedRotation = %s;
`,this.m_flag_fixedRotationFlag?"true":"false"),box2d.b2Log(`  bd.bullet = %s;
`,this.m_flag_bulletFlag?"true":"false"),box2d.b2Log(`  bd.active = %s;
`,this.m_flag_activeFlag?"true":"false"),box2d.b2Log(`  bd.gravityScale = %.15f;
`,this.m_gravityScale),box2d.b2Log(`
`),box2d.b2Log(`  bodies[%d] = this.m_world.CreateBody(bd);
`,this.m_islandIndex),box2d.b2Log(`
`),V=this.m_fixtureList;V;V=V.m_next)box2d.b2Log(`  {
`),V.Dump(x),box2d.b2Log(`  }
`);box2d.b2Log(`}
`)}};goog.exportProperty(box2d.b2Body.prototype,"Dump",box2d.b2Body.prototype.Dump);box2d.b2Body.prototype.GetControllerList=function(){return this.m_controllerList};goog.exportProperty(box2d.b2Body.prototype,"GetControllerList",box2d.b2Body.prototype.GetControllerList);box2d.b2Body.prototype.GetControllerCount=function(){return this.m_controllerCount};goog.exportProperty(box2d.b2Body.prototype,"GetControllerCount",box2d.b2Body.prototype.GetControllerCount);box2d.b2Profile=function(){};goog.exportSymbol("box2d.b2Profile",box2d.b2Profile);box2d.b2Profile.prototype.step=0;goog.exportProperty(box2d.b2Profile.prototype,"step",box2d.b2Profile.prototype.step);box2d.b2Profile.prototype.collide=0;goog.exportProperty(box2d.b2Profile.prototype,"collide",box2d.b2Profile.prototype.collide);box2d.b2Profile.prototype.solve=0;goog.exportProperty(box2d.b2Profile.prototype,"solve",box2d.b2Profile.prototype.solve);box2d.b2Profile.prototype.solveInit=0;goog.exportProperty(box2d.b2Profile.prototype,"solveInit",box2d.b2Profile.prototype.solveInit);box2d.b2Profile.prototype.solveVelocity=0;goog.exportProperty(box2d.b2Profile.prototype,"solveVelocity",box2d.b2Profile.prototype.solveVelocity);box2d.b2Profile.prototype.solvePosition=0;goog.exportProperty(box2d.b2Profile.prototype,"solvePosition",box2d.b2Profile.prototype.solvePosition);box2d.b2Profile.prototype.broadphase=0;goog.exportProperty(box2d.b2Profile.prototype,"broadphase",box2d.b2Profile.prototype.broadphase);box2d.b2Profile.prototype.solveTOI=0;goog.exportProperty(box2d.b2Profile.prototype,"solveTOI",box2d.b2Profile.prototype.solveTOI);box2d.b2Profile.prototype.Reset=function(){return this.solveTOI=this.broadphase=this.solvePosition=this.solveVelocity=this.solveInit=this.solve=this.collide=this.step=0,this};goog.exportProperty(box2d.b2Profile.prototype,"Reset",box2d.b2Profile.prototype.Reset);box2d.b2TimeStep=function(){};goog.exportSymbol("box2d.b2TimeStep",box2d.b2TimeStep);box2d.b2TimeStep.prototype.dt=0;goog.exportProperty(box2d.b2TimeStep.prototype,"dt",box2d.b2TimeStep.prototype.dt);box2d.b2TimeStep.prototype.inv_dt=0;goog.exportProperty(box2d.b2TimeStep.prototype,"inv_dt",box2d.b2TimeStep.prototype.inv_dt);box2d.b2TimeStep.prototype.dtRatio=0;goog.exportProperty(box2d.b2TimeStep.prototype,"dtRatio",box2d.b2TimeStep.prototype.dtRatio);box2d.b2TimeStep.prototype.velocityIterations=0;goog.exportProperty(box2d.b2TimeStep.prototype,"velocityIterations",box2d.b2TimeStep.prototype.velocityIterations);box2d.b2TimeStep.prototype.positionIterations=0;goog.exportProperty(box2d.b2TimeStep.prototype,"positionIterations",box2d.b2TimeStep.prototype.positionIterations);box2d.b2TimeStep.prototype.particleIterations=0;goog.exportProperty(box2d.b2TimeStep.prototype,"particleIterations",box2d.b2TimeStep.prototype.particleIterations);box2d.b2TimeStep.prototype.warmStarting=!1;goog.exportProperty(box2d.b2TimeStep.prototype,"warmStarting",box2d.b2TimeStep.prototype.warmStarting);box2d.b2TimeStep.prototype.Copy=function(x){return this.dt=x.dt,this.inv_dt=x.inv_dt,this.dtRatio=x.dtRatio,this.positionIterations=x.positionIterations,this.velocityIterations=x.velocityIterations,this.particleIterations=x.particleIterations,this.warmStarting=x.warmStarting,this};goog.exportProperty(box2d.b2TimeStep.prototype,"Copy",box2d.b2TimeStep.prototype.Copy);box2d.b2Position=function(){this.c=new box2d.b2Vec2};goog.exportSymbol("box2d.b2Position",box2d.b2Position);box2d.b2Position.prototype.c=null;goog.exportProperty(box2d.b2Position.prototype,"c",box2d.b2Position.prototype.c);box2d.b2Position.prototype.a=0;goog.exportProperty(box2d.b2Position.prototype,"a",box2d.b2Position.prototype.a);box2d.b2Position.MakeArray=function(x){return box2d.b2MakeArray(x,function(V){return new box2d.b2Position})};goog.exportProperty(box2d.b2Position,"MakeArray",box2d.b2Position.MakeArray);box2d.b2Velocity=function(){this.v=new box2d.b2Vec2};goog.exportSymbol("box2d.b2Velocity",box2d.b2Velocity);box2d.b2Velocity.prototype.v=null;goog.exportProperty(box2d.b2Velocity.prototype,"v",box2d.b2Velocity.prototype.v);box2d.b2Velocity.prototype.w=0;goog.exportProperty(box2d.b2Velocity.prototype,"w",box2d.b2Velocity.prototype.w);box2d.b2Velocity.MakeArray=function(x){return box2d.b2MakeArray(x,function(V){return new box2d.b2Velocity})};goog.exportProperty(box2d.b2Velocity,"MakeArray",box2d.b2Velocity.MakeArray);box2d.b2SolverData=function(){this.step=new box2d.b2TimeStep};goog.exportSymbol("box2d.b2SolverData",box2d.b2SolverData);box2d.b2SolverData.prototype.step=null;goog.exportProperty(box2d.b2SolverData.prototype,"step",box2d.b2SolverData.prototype.step);box2d.b2SolverData.prototype.positions=null;goog.exportProperty(box2d.b2SolverData.prototype,"positions",box2d.b2SolverData.prototype.positions);box2d.b2SolverData.prototype.velocities=null;goog.exportProperty(box2d.b2SolverData.prototype,"velocities",box2d.b2SolverData.prototype.velocities);box2d.b2WorldCallbacks={};box2d.b2DestructionListener=function(){};goog.exportSymbol("box2d.b2DestructionListener",box2d.b2DestructionListener);box2d.b2DestructionListener.prototype.SayGoodbyeJoint=function(x){};goog.exportProperty(box2d.b2DestructionListener.prototype,"SayGoodbyeJoint",box2d.b2DestructionListener.prototype.SayGoodbyeJoint);box2d.b2DestructionListener.prototype.SayGoodbyeFixture=function(x){};goog.exportProperty(box2d.b2DestructionListener.prototype,"SayGoodbyeFixture",box2d.b2DestructionListener.prototype.SayGoodbyeFixture);box2d.b2DestructionListener.prototype.SayGoodbyeParticleGroup=function(x){};box2d.b2DestructionListener.prototype.SayGoodbyeParticle=function(x,V){};box2d.b2ContactFilter=function(){};goog.exportSymbol("box2d.b2ContactFilter",box2d.b2ContactFilter);box2d.b2ContactFilter.prototype.ShouldCollide=function(x,V){var o=x.GetFilterData(),_o=V.GetFilterData();return o.groupIndex===_o.groupIndex&&o.groupIndex!==0?0<o.groupIndex:(o.maskBits&_o.categoryBits)!==0&&(o.categoryBits&_o.maskBits)!==0};goog.exportProperty(box2d.b2ContactFilter.prototype,"ShouldCollide",box2d.b2ContactFilter.prototype.ShouldCollide);box2d.b2ContactFilter.prototype.ShouldCollideFixtureParticle=function(x,V,o){return!0};goog.exportProperty(box2d.b2ContactFilter.prototype,"ShouldCollideFixtureParticle",box2d.b2ContactFilter.prototype.ShouldCollideFixtureParticle);box2d.b2ContactFilter.prototype.ShouldCollideParticleParticle=function(x,V,o){return!0};goog.exportProperty(box2d.b2ContactFilter.prototype,"ShouldCollideParticleParticle",box2d.b2ContactFilter.prototype.ShouldCollideParticleParticle);box2d.b2ContactFilter.b2_defaultFilter=new box2d.b2ContactFilter;box2d.b2ContactImpulse=function(){this.normalImpulses=box2d.b2MakeNumberArray(box2d.b2_maxManifoldPoints),this.tangentImpulses=box2d.b2MakeNumberArray(box2d.b2_maxManifoldPoints)};goog.exportSymbol("box2d.b2ContactImpulse",box2d.b2ContactImpulse);box2d.b2ContactImpulse.prototype.normalImpulses=null;goog.exportProperty(box2d.b2ContactImpulse.prototype,"normalImpulses",box2d.b2ContactImpulse.prototype.normalImpulses);box2d.b2ContactImpulse.prototype.tangentImpulses=null;goog.exportProperty(box2d.b2ContactImpulse.prototype,"tangentImpulses",box2d.b2ContactImpulse.prototype.tangentImpulses);box2d.b2ContactImpulse.prototype.count=0;goog.exportProperty(box2d.b2ContactImpulse.prototype,"count",box2d.b2ContactImpulse.prototype.count);box2d.b2ContactListener=function(){};goog.exportSymbol("box2d.b2ContactListener",box2d.b2ContactListener);box2d.b2ContactListener.prototype.BeginContact=function(x){};goog.exportProperty(box2d.b2ContactListener.prototype,"BeginContact",box2d.b2ContactListener.prototype.BeginContact);box2d.b2ContactListener.prototype.EndContact=function(x){};goog.exportProperty(box2d.b2ContactListener.prototype,"EndContact",box2d.b2ContactListener.prototype.EndContact);box2d.b2ContactListener.prototype.BeginContactFixtureParticle=function(x,V){};goog.exportProperty(box2d.b2ContactListener.prototype,"BeginContactFixtureParticle",box2d.b2ContactListener.prototype.BeginContactFixtureParticle);box2d.b2ContactListener.prototype.EndContactFixtureParticle=function(x,V,o){};goog.exportProperty(box2d.b2ContactListener.prototype,"EndContactFixtureParticle",box2d.b2ContactListener.prototype.EndContactFixtureParticle);box2d.b2ContactListener.prototype.BeginContactParticleParticle=function(x,V){};goog.exportProperty(box2d.b2ContactListener.prototype,"BeginContactParticleParticle",box2d.b2ContactListener.prototype.BeginContactParticleParticle);box2d.b2ContactListener.prototype.EndContactParticleParticle=function(x,V,o){};goog.exportProperty(box2d.b2ContactListener.prototype,"EndContactParticleParticle",box2d.b2ContactListener.prototype.EndContactParticleParticle);box2d.b2ContactListener.prototype.PreSolve=function(x,V){};goog.exportProperty(box2d.b2ContactListener.prototype,"PreSolve",box2d.b2ContactListener.prototype.PreSolve);box2d.b2ContactListener.prototype.PostSolve=function(x,V){};goog.exportProperty(box2d.b2ContactListener.prototype,"PostSolve",box2d.b2ContactListener.prototype.PostSolve);box2d.b2ContactListener.b2_defaultListener=new box2d.b2ContactListener;goog.exportProperty(box2d.b2ContactListener,"b2_defaultListener",box2d.b2ContactListener.b2_defaultListener);box2d.b2QueryCallback=function(){};goog.exportSymbol("box2d.b2QueryCallback",box2d.b2QueryCallback);box2d.b2QueryCallback.prototype.ReportFixture=function(x){return!0};goog.exportProperty(box2d.b2QueryCallback.prototype,"ReportFixture",box2d.b2QueryCallback.prototype.ReportFixture);box2d.b2QueryCallback.prototype.ReportParticle=function(x,V){return!1};goog.exportProperty(box2d.b2QueryCallback.prototype,"ReportParticle",box2d.b2QueryCallback.prototype.ReportParticle);box2d.b2QueryCallback.prototype.ShouldQueryParticleSystem=function(x){return!0};goog.exportProperty(box2d.b2QueryCallback.prototype,"ShouldQueryParticleSystem",box2d.b2QueryCallback.prototype.ShouldQueryParticleSystem);box2d.b2RayCastCallback=function(){};goog.exportSymbol("box2d.b2RayCastCallback",box2d.b2RayCastCallback);box2d.b2RayCastCallback.prototype.ReportFixture=function(x,V,o,_o){return _o};goog.exportProperty(box2d.b2RayCastCallback.prototype,"ReportFixture",box2d.b2RayCastCallback.prototype.ReportFixture);box2d.b2RayCastCallback.prototype.ReportParticle=function(x,V,o,_o,_r){return 0};goog.exportProperty(box2d.b2RayCastCallback.prototype,"ReportParticle",box2d.b2RayCastCallback.prototype.ReportParticle);box2d.b2RayCastCallback.prototype.ShouldQueryParticleSystem=function(x){return!0};goog.exportProperty(box2d.b2RayCastCallback.prototype,"ShouldQueryParticleSystem",box2d.b2RayCastCallback.prototype.ShouldQueryParticleSystem);box2d.b2BuoyancyController=function(){box2d.b2Controller.call(this),this.normal=new box2d.b2Vec2(0,1),this.velocity=new box2d.b2Vec2(0,0),this.gravity=new box2d.b2Vec2(0,0)};goog.inherits(box2d.b2BuoyancyController,box2d.b2Controller);goog.exportSymbol("box2d.b2BuoyancyController",box2d.b2BuoyancyController);box2d.b2BuoyancyController.prototype.normal=null;goog.exportProperty(box2d.b2BuoyancyController.prototype,"normal",box2d.b2BuoyancyController.prototype.normal);box2d.b2BuoyancyController.prototype.offset=0;goog.exportProperty(box2d.b2BuoyancyController.prototype,"offset",box2d.b2BuoyancyController.prototype.offset);box2d.b2BuoyancyController.prototype.density=0;goog.exportProperty(box2d.b2BuoyancyController.prototype,"density",box2d.b2BuoyancyController.prototype.density);box2d.b2BuoyancyController.prototype.velocity=null;goog.exportProperty(box2d.b2BuoyancyController.prototype,"velocity",box2d.b2BuoyancyController.prototype.velocity);box2d.b2BuoyancyController.prototype.linearDrag=0;goog.exportProperty(box2d.b2BuoyancyController.prototype,"linearDrag",box2d.b2BuoyancyController.prototype.linearDrag);box2d.b2BuoyancyController.prototype.angularDrag=0;goog.exportProperty(box2d.b2BuoyancyController.prototype,"angularDrag",box2d.b2BuoyancyController.prototype.angularDrag);box2d.b2BuoyancyController.prototype.useDensity=!1;goog.exportProperty(box2d.b2BuoyancyController.prototype,"useDensity",box2d.b2BuoyancyController.prototype.useDensity);box2d.b2BuoyancyController.prototype.useWorldGravity=!0;goog.exportProperty(box2d.b2BuoyancyController.prototype,"useWorldGravity",box2d.b2BuoyancyController.prototype.useWorldGravity);box2d.b2BuoyancyController.prototype.gravity=null;goog.exportProperty(box2d.b2BuoyancyController.prototype,"gravity",box2d.b2BuoyancyController.prototype.gravity);box2d.b2BuoyancyController.prototype.Step=function(x){if(this.m_bodyList)for(this.useWorldGravity&&this.gravity.Copy(this.GetWorld().GetGravity()),x=this.m_bodyList;x;x=x.nextBody){var V=x.body;if(V.IsAwake()){for(var o=new box2d.b2Vec2,_o=new box2d.b2Vec2,_r=0,l=0,e_=V.GetFixtureList();e_;e_=e_.m_next){var o_=new box2d.b2Vec2,i_=e_.GetShape().ComputeSubmergedArea(this.normal,this.offset,V.GetTransform(),o_),_r=_r+i_;o.x+=i_*o_.x,o.y+=i_*o_.y;var _e=0,_e=this.useDensity?e_.GetDensity():1,l=l+i_*_e;_o.x+=i_*o_.x*_e,_o.y+=i_*o_.y*_e}o.x/=_r,o.y/=_r,_o.x/=l,_o.y/=l,_r<box2d.b2_epsilon||(l=this.gravity.Clone().SelfNeg(),l.SelfMul(this.density*_r),V.ApplyForce(l,_o),_o=V.GetLinearVelocityFromWorldPoint(o,new box2d.b2Vec2),_o.SelfSub(this.velocity),_o.SelfMul(-this.linearDrag*_r),V.ApplyForce(_o,o),V.ApplyTorque(-V.GetInertia()/V.GetMass()*_r*V.GetAngularVelocity()*this.angularDrag))}}};goog.exportProperty(box2d.b2BuoyancyController.prototype,"Step",box2d.b2BuoyancyController.prototype.Step);box2d.b2BuoyancyController.prototype.Draw=function(x){var V=new box2d.b2Vec2,o=new box2d.b2Vec2;V.x=this.normal.x*this.offset+100*this.normal.y,V.y=this.normal.y*this.offset-100*this.normal.x,o.x=this.normal.x*this.offset-100*this.normal.y,o.y=this.normal.y*this.offset+100*this.normal.x;var _o=new box2d.b2Color(0,0,.8);x.DrawSegment(V,o,_o)};goog.exportProperty(box2d.b2BuoyancyController.prototype,"Draw",box2d.b2BuoyancyController.prototype.Draw);box2d.b2MixFriction=function(x,V){return box2d.b2Sqrt(x*V)};goog.exportSymbol("box2d.b2MixFriction",box2d.b2MixFriction);box2d.b2MixRestitution=function(x,V){return x>V?x:V};goog.exportSymbol("box2d.b2MixRestitution",box2d.b2MixRestitution);box2d.b2ContactEdge=function(){};goog.exportSymbol("box2d.b2ContactEdge",box2d.b2ContactEdge);box2d.b2ContactEdge.prototype.other=null;goog.exportProperty(box2d.b2ContactEdge.prototype,"other",box2d.b2ContactEdge.prototype.other);box2d.b2ContactEdge.prototype.contact=null;goog.exportProperty(box2d.b2ContactEdge.prototype,"contact",box2d.b2ContactEdge.prototype.contact);box2d.b2ContactEdge.prototype.prev=null;goog.exportProperty(box2d.b2ContactEdge.prototype,"prev",box2d.b2ContactEdge.prototype.prev);box2d.b2ContactEdge.prototype.next=null;goog.exportProperty(box2d.b2ContactEdge.prototype,"next",box2d.b2ContactEdge.prototype.next);box2d.b2Contact=function(){this.m_nodeA=new box2d.b2ContactEdge,this.m_nodeB=new box2d.b2ContactEdge,this.m_manifold=new box2d.b2Manifold,this.m_oldManifold=new box2d.b2Manifold};goog.exportSymbol("box2d.b2Contact",box2d.b2Contact);box2d.b2Contact.prototype.m_flag_islandFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_islandFlag",box2d.b2Contact.prototype.m_flag_islandFlag);box2d.b2Contact.prototype.m_flag_touchingFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_touchingFlag",box2d.b2Contact.prototype.m_flag_touchingFlag);box2d.b2Contact.prototype.m_flag_enabledFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_enabledFlag",box2d.b2Contact.prototype.m_flag_enabledFlag);box2d.b2Contact.prototype.m_flag_filterFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_filterFlag",box2d.b2Contact.prototype.m_flag_filterFlag);box2d.b2Contact.prototype.m_flag_bulletHitFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_bulletHitFlag",box2d.b2Contact.prototype.m_flag_bulletHitFlag);box2d.b2Contact.prototype.m_flag_toiFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_toiFlag",box2d.b2Contact.prototype.m_flag_toiFlag);box2d.b2Contact.prototype.m_prev=null;goog.exportProperty(box2d.b2Contact.prototype,"m_prev",box2d.b2Contact.prototype.m_prev);box2d.b2Contact.prototype.m_next=null;goog.exportProperty(box2d.b2Contact.prototype,"m_next",box2d.b2Contact.prototype.m_next);box2d.b2Contact.prototype.m_nodeA=null;goog.exportProperty(box2d.b2Contact.prototype,"m_nodeA",box2d.b2Contact.prototype.m_nodeA);box2d.b2Contact.prototype.m_nodeB=null;goog.exportProperty(box2d.b2Contact.prototype,"m_nodeB",box2d.b2Contact.prototype.m_nodeB);box2d.b2Contact.prototype.m_fixtureA=null;goog.exportProperty(box2d.b2Contact.prototype,"m_fixtureA",box2d.b2Contact.prototype.m_fixtureA);box2d.b2Contact.prototype.m_fixtureB=null;goog.exportProperty(box2d.b2Contact.prototype,"m_fixtureB",box2d.b2Contact.prototype.m_fixtureB);box2d.b2Contact.prototype.m_indexA=0;goog.exportProperty(box2d.b2Contact.prototype,"m_indexA",box2d.b2Contact.prototype.m_indexA);box2d.b2Contact.prototype.m_indexB=0;goog.exportProperty(box2d.b2Contact.prototype,"m_indexB",box2d.b2Contact.prototype.m_indexB);box2d.b2Contact.prototype.m_manifold=null;goog.exportProperty(box2d.b2Contact.prototype,"m_manifold",box2d.b2Contact.prototype.m_manifold);box2d.b2Contact.prototype.m_toiCount=0;goog.exportProperty(box2d.b2Contact.prototype,"m_toiCount",box2d.b2Contact.prototype.m_toiCount);box2d.b2Contact.prototype.m_toi=0;goog.exportProperty(box2d.b2Contact.prototype,"m_toi",box2d.b2Contact.prototype.m_toi);box2d.b2Contact.prototype.m_friction=0;goog.exportProperty(box2d.b2Contact.prototype,"m_friction",box2d.b2Contact.prototype.m_friction);box2d.b2Contact.prototype.m_restitution=0;goog.exportProperty(box2d.b2Contact.prototype,"m_restitution",box2d.b2Contact.prototype.m_restitution);box2d.b2Contact.prototype.m_tangentSpeed=0;goog.exportProperty(box2d.b2Contact.prototype,"m_tangentSpeed",box2d.b2Contact.prototype.m_tangentSpeed);box2d.b2Contact.prototype.m_oldManifold=null;goog.exportProperty(box2d.b2Contact.prototype,"m_oldManifold",box2d.b2Contact.prototype.m_oldManifold);box2d.b2Contact.prototype.GetManifold=function(){return this.m_manifold};goog.exportProperty(box2d.b2Contact.prototype,"GetManifold",box2d.b2Contact.prototype.GetManifold);box2d.b2Contact.prototype.GetWorldManifold=function(x){var V=this.m_fixtureA.GetBody(),o=this.m_fixtureB.GetBody(),_o=this.m_fixtureA.GetShape(),_r=this.m_fixtureB.GetShape();x.Initialize(this.m_manifold,V.GetTransform(),_o.m_radius,o.GetTransform(),_r.m_radius)};goog.exportProperty(box2d.b2Contact.prototype,"GetWorldManifold",box2d.b2Contact.prototype.GetWorldManifold);box2d.b2Contact.prototype.IsTouching=function(){return this.m_flag_touchingFlag};goog.exportProperty(box2d.b2Contact.prototype,"IsTouching",box2d.b2Contact.prototype.IsTouching);box2d.b2Contact.prototype.SetEnabled=function(x){this.m_flag_enabledFlag=x};goog.exportProperty(box2d.b2Contact.prototype,"SetEnabled",box2d.b2Contact.prototype.SetEnabled);box2d.b2Contact.prototype.IsEnabled=function(){return this.m_flag_enabledFlag};goog.exportProperty(box2d.b2Contact.prototype,"IsEnabled",box2d.b2Contact.prototype.IsEnabled);box2d.b2Contact.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2Contact.prototype,"GetNext",box2d.b2Contact.prototype.GetNext);box2d.b2Contact.prototype.GetFixtureA=function(){return this.m_fixtureA};goog.exportProperty(box2d.b2Contact.prototype,"GetFixtureA",box2d.b2Contact.prototype.GetFixtureA);box2d.b2Contact.prototype.GetChildIndexA=function(){return this.m_indexA};goog.exportProperty(box2d.b2Contact.prototype,"GetChildIndexA",box2d.b2Contact.prototype.GetChildIndexA);box2d.b2Contact.prototype.GetFixtureB=function(){return this.m_fixtureB};goog.exportProperty(box2d.b2Contact.prototype,"GetFixtureB",box2d.b2Contact.prototype.GetFixtureB);box2d.b2Contact.prototype.GetChildIndexB=function(){return this.m_indexB};goog.exportProperty(box2d.b2Contact.prototype,"GetChildIndexB",box2d.b2Contact.prototype.GetChildIndexB);box2d.b2Contact.prototype.Evaluate=function(x,V,o){};goog.exportProperty(box2d.b2Contact.prototype,"Evaluate",box2d.b2Contact.prototype.Evaluate);box2d.b2Contact.prototype.FlagForFiltering=function(){this.m_flag_filterFlag=!0};goog.exportProperty(box2d.b2Contact.prototype,"FlagForFiltering",box2d.b2Contact.prototype.FlagForFiltering);box2d.b2Contact.prototype.SetFriction=function(x){this.m_friction=x};goog.exportProperty(box2d.b2Contact.prototype,"SetFriction",box2d.b2Contact.prototype.SetFriction);box2d.b2Contact.prototype.GetFriction=function(){return this.m_friction};goog.exportProperty(box2d.b2Contact.prototype,"GetFriction",box2d.b2Contact.prototype.GetFriction);box2d.b2Contact.prototype.ResetFriction=function(){this.m_friction=box2d.b2MixFriction(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)};goog.exportProperty(box2d.b2Contact.prototype,"ResetFriction",box2d.b2Contact.prototype.ResetFriction);box2d.b2Contact.prototype.SetRestitution=function(x){this.m_restitution=x};goog.exportProperty(box2d.b2Contact.prototype,"SetRestitution",box2d.b2Contact.prototype.SetRestitution);box2d.b2Contact.prototype.GetRestitution=function(){return this.m_restitution};goog.exportProperty(box2d.b2Contact.prototype,"GetRestitution",box2d.b2Contact.prototype.GetRestitution);box2d.b2Contact.prototype.ResetRestitution=function(){this.m_restitution=box2d.b2MixRestitution(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)};goog.exportProperty(box2d.b2Contact.prototype,"ResetRestitution",box2d.b2Contact.prototype.ResetRestitution);box2d.b2Contact.prototype.SetTangentSpeed=function(x){this.m_tangentSpeed=x};goog.exportProperty(box2d.b2Contact.prototype,"SetTangentSpeed",box2d.b2Contact.prototype.SetTangentSpeed);box2d.b2Contact.prototype.GetTangentSpeed=function(){return this.m_tangentSpeed};goog.exportProperty(box2d.b2Contact.prototype,"GetTangentSpeed",box2d.b2Contact.prototype.GetTangentSpeed);box2d.b2Contact.prototype.Reset=function(x,V,o,_o){this.m_flag_enabledFlag=!0,this.m_fixtureA=x,this.m_fixtureB=o,this.m_indexA=V,this.m_indexB=_o,this.m_manifold.pointCount=0,this.m_next=this.m_prev=null,this.m_nodeA.contact=null,this.m_nodeA.prev=null,this.m_nodeA.next=null,this.m_nodeA.other=null,this.m_nodeB.contact=null,this.m_nodeB.prev=null,this.m_nodeB.next=null,this.m_nodeB.other=null,this.m_toiCount=0,this.m_friction=box2d.b2MixFriction(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=box2d.b2MixRestitution(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)};goog.exportProperty(box2d.b2Contact.prototype,"Reset",box2d.b2Contact.prototype.Reset);box2d.b2Contact.prototype.Update=function(x){var V=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=V,this.m_flag_enabledFlag=!0;var l=!1,V=this.m_flag_touchingFlag,o=this.m_fixtureA.IsSensor(),_o=this.m_fixtureB.IsSensor(),o=o||_o,_o=this.m_fixtureA.GetBody(),_r=this.m_fixtureB.GetBody(),l=_o.GetTransform(),e_=_r.GetTransform();if(o)_o=this.m_fixtureA.GetShape(),_r=this.m_fixtureB.GetShape(),l=box2d.b2TestOverlapShape(_o,this.m_indexA,_r,this.m_indexB,l,e_),this.m_manifold.pointCount=0;else{for(this.Evaluate(this.m_manifold,l,e_),l=0<this.m_manifold.pointCount,e_=0;e_<this.m_manifold.pointCount;++e_){var o_=this.m_manifold.points[e_];o_.normalImpulse=0,o_.tangentImpulse=0;for(var i_=o_.id,_e=0;_e<this.m_oldManifold.pointCount;++_e){var c_=this.m_oldManifold.points[_e];if(c_.id.key===i_.key){o_.normalImpulse=c_.normalImpulse,o_.tangentImpulse=c_.tangentImpulse;break}}}l!==V&&(_o.SetAwake(!0),_r.SetAwake(!0))}this.m_flag_touchingFlag=l,!V&&l&&x&&x.BeginContact(this),V&&!l&&x&&x.EndContact(this),!o&&l&&x&&x.PreSolve(this,this.m_oldManifold)};goog.exportProperty(box2d.b2Contact.prototype,"Update",box2d.b2Contact.prototype.Update);box2d.b2Contact.prototype.ComputeTOI=function(x,V){var o=box2d.b2Contact.prototype.ComputeTOI.s_input;o.proxyA.SetShape(this.m_fixtureA.GetShape(),this.m_indexA),o.proxyB.SetShape(this.m_fixtureB.GetShape(),this.m_indexB),o.sweepA.Copy(x),o.sweepB.Copy(V),o.tMax=box2d.b2_linearSlop;var _o=box2d.b2Contact.prototype.ComputeTOI.s_output;return box2d.b2TimeOfImpact(_o,o),_o.t};goog.exportProperty(box2d.b2Contact.prototype,"ComputeTOI",box2d.b2Contact.prototype.ComputeTOI);box2d.b2Contact.prototype.ComputeTOI.s_input=new box2d.b2TOIInput;box2d.b2Contact.prototype.ComputeTOI.s_output=new box2d.b2TOIOutput;box2d.b2ChainAndCircleContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2ChainAndCircleContact,box2d.b2Contact);goog.exportSymbol("box2d.b2ChainAndCircleContact",box2d.b2ChainAndCircleContact);box2d.b2ChainAndCircleContact.Create=function(x){return new box2d.b2ChainAndCircleContact};goog.exportProperty(box2d.b2ChainAndCircleContact,"Create",box2d.b2ChainAndCircleContact.Create);box2d.b2ChainAndCircleContact.Destroy=function(x,V){};goog.exportProperty(box2d.b2ChainAndCircleContact,"Destroy",box2d.b2ChainAndCircleContact.Destroy);box2d.b2ChainAndCircleContact.prototype.Evaluate=function(x,V,o){var _o=this.m_fixtureA.GetShape(),_r=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2ChainShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_r instanceof box2d.b2CircleShape);var l=box2d.b2ChainAndCircleContact.prototype.Evaluate.s_edge;(_o instanceof box2d.b2ChainShape?_o:null).GetChildEdge(l,this.m_indexA),box2d.b2CollideEdgeAndCircle(x,l,V,_r instanceof box2d.b2CircleShape?_r:null,o)};goog.exportProperty(box2d.b2ChainAndCircleContact.prototype,"Evaluate",box2d.b2ChainAndCircleContact.prototype.Evaluate);box2d.b2ChainAndCircleContact.prototype.Evaluate.s_edge=new box2d.b2EdgeShape;box2d.b2ChainAndPolygonContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2ChainAndPolygonContact,box2d.b2Contact);goog.exportSymbol("box2d.b2ChainAndPolygonContact",box2d.b2ChainAndPolygonContact);box2d.b2ChainAndPolygonContact.Create=function(x){return new box2d.b2ChainAndPolygonContact};goog.exportProperty(box2d.b2ChainAndPolygonContact,"Create",box2d.b2ChainAndPolygonContact.Create);box2d.b2ChainAndPolygonContact.Destroy=function(x,V){};goog.exportProperty(box2d.b2ChainAndPolygonContact,"Destroy",box2d.b2ChainAndPolygonContact.Destroy);box2d.b2ChainAndPolygonContact.prototype.Evaluate=function(x,V,o){var _o=this.m_fixtureA.GetShape(),_r=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2ChainShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_r instanceof box2d.b2PolygonShape);var l=box2d.b2ChainAndPolygonContact.prototype.Evaluate.s_edge;(_o instanceof box2d.b2ChainShape?_o:null).GetChildEdge(l,this.m_indexA),box2d.b2CollideEdgeAndPolygon(x,l,V,_r instanceof box2d.b2PolygonShape?_r:null,o)};goog.exportProperty(box2d.b2ChainAndPolygonContact.prototype,"Evaluate",box2d.b2ChainAndPolygonContact.prototype.Evaluate);box2d.b2ChainAndPolygonContact.prototype.Evaluate.s_edge=new box2d.b2EdgeShape;box2d.b2CircleContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2CircleContact,box2d.b2Contact);goog.exportSymbol("box2d.b2CircleContact",box2d.b2CircleContact);box2d.b2CircleContact.Create=function(x){return new box2d.b2CircleContact};goog.exportProperty(box2d.b2CircleContact,"Create",box2d.b2CircleContact.Create);box2d.b2CircleContact.Destroy=function(x,V){};goog.exportProperty(box2d.b2CircleContact,"Destroy",box2d.b2CircleContact.Destroy);box2d.b2CircleContact.prototype.Evaluate=function(x,V,o){var _o=this.m_fixtureA.GetShape(),_r=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2CircleShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_r instanceof box2d.b2CircleShape),box2d.b2CollideCircles(x,_o instanceof box2d.b2CircleShape?_o:null,V,_r instanceof box2d.b2CircleShape?_r:null,o)};goog.exportProperty(box2d.b2CircleContact.prototype,"Evaluate",box2d.b2CircleContact.prototype.Evaluate);box2d.b2ContactRegister=function(){};goog.exportSymbol("box2d.b2ContactRegister",box2d.b2ContactRegister);box2d.b2ContactRegister.prototype.createFcn=null;box2d.b2ContactRegister.prototype.destroyFcn=null;box2d.b2ContactRegister.prototype.primary=!1;box2d.b2ContactFactory=function(x){this.m_allocator=x,this.InitializeRegisters()};goog.exportSymbol("box2d.b2ContactFactory",box2d.b2ContactFactory);box2d.b2ContactFactory.prototype.m_allocator=null;box2d.b2ContactFactory.prototype.AddType=function(x,V,o,_o){var _r=box2d.b2MakeArray(256,function(e_){return x()});V=function(e_){return 0<_r.length?_r.pop():x(e_)};var l=function(e_,o_){_r.push(e_)};this.m_registers[o][_o].pool=_r,this.m_registers[o][_o].createFcn=V,this.m_registers[o][_o].destroyFcn=l,this.m_registers[o][_o].primary=!0,o!==_o&&(this.m_registers[_o][o].pool=_r,this.m_registers[_o][o].createFcn=V,this.m_registers[_o][o].destroyFcn=l,this.m_registers[_o][o].primary=!1)};goog.exportProperty(box2d.b2ContactFactory.prototype,"AddType",box2d.b2ContactFactory.prototype.AddType);box2d.b2ContactFactory.prototype.InitializeRegisters=function(){this.m_registers=Array(box2d.b2ShapeType.e_shapeTypeCount);for(var x=0;x<box2d.b2ShapeType.e_shapeTypeCount;x++){this.m_registers[x]=Array(box2d.b2ShapeType.e_shapeTypeCount);for(var V=0;V<box2d.b2ShapeType.e_shapeTypeCount;V++)this.m_registers[x][V]=new box2d.b2ContactRegister}this.AddType(box2d.b2CircleContact.Create,box2d.b2CircleContact.Destroy,box2d.b2ShapeType.e_circleShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2PolygonAndCircleContact.Create,box2d.b2PolygonAndCircleContact.Destroy,box2d.b2ShapeType.e_polygonShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2PolygonContact.Create,box2d.b2PolygonContact.Destroy,box2d.b2ShapeType.e_polygonShape,box2d.b2ShapeType.e_polygonShape),this.AddType(box2d.b2EdgeAndCircleContact.Create,box2d.b2EdgeAndCircleContact.Destroy,box2d.b2ShapeType.e_edgeShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2EdgeAndPolygonContact.Create,box2d.b2EdgeAndPolygonContact.Destroy,box2d.b2ShapeType.e_edgeShape,box2d.b2ShapeType.e_polygonShape),this.AddType(box2d.b2ChainAndCircleContact.Create,box2d.b2ChainAndCircleContact.Destroy,box2d.b2ShapeType.e_chainShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2ChainAndPolygonContact.Create,box2d.b2ChainAndPolygonContact.Destroy,box2d.b2ShapeType.e_chainShape,box2d.b2ShapeType.e_polygonShape)};goog.exportProperty(box2d.b2ContactFactory.prototype,"InitializeRegisters",box2d.b2ContactFactory.prototype.InitializeRegisters);box2d.b2ContactFactory.prototype.Create=function(x,V,o,_o){var _r=x.GetType(),l=o.GetType();return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=_r&&_r<box2d.b2ShapeType.e_shapeTypeCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=l&&l<box2d.b2ShapeType.e_shapeTypeCount),_r=this.m_registers[_r][l],l=_r.createFcn,l!==null?(_r.primary?(_r=l(this.m_allocator),_r.Reset(x,V,o,_o)):(_r=l(this.m_allocator),_r.Reset(o,_o,x,V)),_r):null};goog.exportProperty(box2d.b2ContactFactory.prototype,"Create",box2d.b2ContactFactory.prototype.Create);box2d.b2ContactFactory.prototype.Destroy=function(x){var V=x.m_fixtureA,o=x.m_fixtureB;0<x.m_manifold.pointCount&&!V.IsSensor()&&!o.IsSensor()&&(V.GetBody().SetAwake(!0),o.GetBody().SetAwake(!0)),V=V.GetType(),o=o.GetType(),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=V&&o<box2d.b2ShapeType.e_shapeTypeCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=V&&o<box2d.b2ShapeType.e_shapeTypeCount),o=this.m_registers[V][o].destroyFcn,o(x,this.m_allocator)};goog.exportProperty(box2d.b2ContactFactory.prototype,"Destroy",box2d.b2ContactFactory.prototype.Destroy);box2d.b2ContactManager=function(){this.m_broadPhase=new box2d.b2BroadPhase,this.m_contactFactory=new box2d.b2ContactFactory(this.m_allocator)};box2d.b2ContactManager.prototype.m_broadPhase=null;goog.exportSymbol("box2d.b2ContactManager.prototype.m_broadPhase",box2d.b2ContactManager.prototype.m_broadPhase);box2d.b2ContactManager.prototype.m_contactList=null;goog.exportSymbol("box2d.b2ContactManager.prototype.m_contactList",box2d.b2ContactManager.prototype.m_contactList);box2d.b2ContactManager.prototype.m_contactCount=0;goog.exportSymbol("box2d.b2ContactManager.prototype.m_contactCount",box2d.b2ContactManager.prototype.m_contactCount);box2d.b2ContactManager.prototype.m_contactFilter=box2d.b2ContactFilter.b2_defaultFilter;goog.exportSymbol("box2d.b2ContactManager.prototype.m_contactFilter",box2d.b2ContactManager.prototype.m_contactFilter);box2d.b2ContactManager.prototype.m_contactListener=box2d.b2ContactListener.b2_defaultListener;goog.exportSymbol("box2d.b2ContactManager.prototype.m_contactListener",box2d.b2ContactManager.prototype.m_contactListener);box2d.b2ContactManager.prototype.m_allocator=null;goog.exportSymbol("box2d.b2ContactManager.prototype.m_allocator",box2d.b2ContactManager.prototype.m_allocator);box2d.b2ContactManager.prototype.m_contactFactory=null;goog.exportSymbol("box2d.b2ContactManager.prototype.m_contactFactory",box2d.b2ContactManager.prototype.m_contactFactory);box2d.b2ContactManager.prototype.Destroy=function(x){var V=x.GetFixtureA(),o=x.GetFixtureB(),V=V.GetBody(),o=o.GetBody();this.m_contactListener&&x.IsTouching()&&this.m_contactListener.EndContact(x),x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x===this.m_contactList&&(this.m_contactList=x.m_next),x.m_nodeA.prev&&(x.m_nodeA.prev.next=x.m_nodeA.next),x.m_nodeA.next&&(x.m_nodeA.next.prev=x.m_nodeA.prev),x.m_nodeA===V.m_contactList&&(V.m_contactList=x.m_nodeA.next),x.m_nodeB.prev&&(x.m_nodeB.prev.next=x.m_nodeB.next),x.m_nodeB.next&&(x.m_nodeB.next.prev=x.m_nodeB.prev),x.m_nodeB===o.m_contactList&&(o.m_contactList=x.m_nodeB.next),this.m_contactFactory.Destroy(x),--this.m_contactCount};goog.exportSymbol("box2d.b2ContactManager.prototype.Destroy",box2d.b2ContactManager.prototype.Destroy);box2d.b2ContactManager.prototype.Collide=function(){for(var x=this.m_contactList;x;){var V=x.GetFixtureA(),o=x.GetFixtureB(),_o=x.GetChildIndexA(),_r=x.GetChildIndexB(),l=V.GetBody(),e_=o.GetBody();if(x.m_flag_filterFlag){if(!e_.ShouldCollide(l)){V=x,x=V.m_next,this.Destroy(V);continue}if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(V,o)){V=x,x=V.m_next,this.Destroy(V);continue}x.m_flag_filterFlag=!1}l=l.IsAwake()&&l.m_type!==box2d.b2BodyType.b2_staticBody,e_=e_.IsAwake()&&e_.m_type!==box2d.b2BodyType.b2_staticBody,l||e_?this.m_broadPhase.TestOverlap(V.m_proxies[_o].proxy,o.m_proxies[_r].proxy)?(x.Update(this.m_contactListener),x=x.m_next):(V=x,x=V.m_next,this.Destroy(V)):x=x.m_next}};goog.exportSymbol("box2d.b2ContactManager.prototype.Collide",box2d.b2ContactManager.prototype.Collide);box2d.b2ContactManager.prototype.FindNewContacts=function(){this.m_broadPhase.UpdatePairs(this)};goog.exportSymbol("box2d.b2ContactManager.prototype.FindNewContacts",box2d.b2ContactManager.prototype.FindNewContacts);box2d.b2ContactManager.prototype.AddPair=function(x,V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(x instanceof box2d.b2FixtureProxy),box2d.ENABLE_ASSERTS&&box2d.b2Assert(V instanceof box2d.b2FixtureProxy);var o=x.fixture,_o=V.fixture,_r=x.childIndex,l=V.childIndex,e_=o.GetBody(),o_=_o.GetBody();if(e_!==o_){for(var i_=o_.GetContactList();i_;){if(i_.other===e_){var _e=i_.contact.GetFixtureA(),c_=i_.contact.GetFixtureB(),ws=i_.contact.GetChildIndexA(),h_=i_.contact.GetChildIndexB();if(_e===o&&c_===_o&&ws===_r&&h_===l||_e===_o&&c_===o&&ws===l&&h_===_r)return}i_=i_.next}!o_.ShouldCollide(e_)||this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(o,_o)||(_r=this.m_contactFactory.Create(o,_r,_o,l),_r!==null&&(o=_r.GetFixtureA(),_o=_r.GetFixtureB(),e_=o.m_body,o_=_o.m_body,_r.m_prev=null,_r.m_next=this.m_contactList,this.m_contactList!==null&&(this.m_contactList.m_prev=_r),this.m_contactList=_r,_r.m_nodeA.contact=_r,_r.m_nodeA.other=o_,_r.m_nodeA.prev=null,_r.m_nodeA.next=e_.m_contactList,e_.m_contactList!==null&&(e_.m_contactList.prev=_r.m_nodeA),e_.m_contactList=_r.m_nodeA,_r.m_nodeB.contact=_r,_r.m_nodeB.other=e_,_r.m_nodeB.prev=null,_r.m_nodeB.next=o_.m_contactList,o_.m_contactList!==null&&(o_.m_contactList.prev=_r.m_nodeB),o_.m_contactList=_r.m_nodeB,o.IsSensor()||_o.IsSensor()||(e_.SetAwake(!0),o_.SetAwake(!0)),++this.m_contactCount))}};goog.exportSymbol("box2d.b2ContactManager.prototype.AddPair",box2d.b2ContactManager.prototype.AddPair);box2d.b2EdgeAndCircleContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2EdgeAndCircleContact,box2d.b2Contact);goog.exportSymbol("box2d.b2EdgeAndCircleContact",box2d.b2EdgeAndCircleContact);box2d.b2EdgeAndCircleContact.Create=function(x){return new box2d.b2EdgeAndCircleContact};goog.exportProperty(box2d.b2EdgeAndCircleContact,"Create",box2d.b2EdgeAndCircleContact.Create);box2d.b2EdgeAndCircleContact.Destroy=function(x,V){};goog.exportProperty(box2d.b2EdgeAndCircleContact,"Destroy",box2d.b2EdgeAndCircleContact.Destroy);box2d.b2EdgeAndCircleContact.prototype.Evaluate=function(x,V,o){var _o=this.m_fixtureA.GetShape(),_r=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2EdgeShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_r instanceof box2d.b2CircleShape),box2d.b2CollideEdgeAndCircle(x,_o instanceof box2d.b2EdgeShape?_o:null,V,_r instanceof box2d.b2CircleShape?_r:null,o)};goog.exportProperty(box2d.b2EdgeAndCircleContact.prototype,"Evaluate",box2d.b2EdgeAndCircleContact.prototype.Evaluate);box2d.b2EdgeAndPolygonContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2EdgeAndPolygonContact,box2d.b2Contact);goog.exportSymbol("box2d.b2EdgeAndPolygonContact",box2d.b2EdgeAndPolygonContact);box2d.b2EdgeAndPolygonContact.Create=function(x){return new box2d.b2EdgeAndPolygonContact};goog.exportProperty(box2d.b2EdgeAndPolygonContact,"Create",box2d.b2EdgeAndPolygonContact.Create);box2d.b2EdgeAndPolygonContact.Destroy=function(x,V){};goog.exportProperty(box2d.b2EdgeAndPolygonContact,"Destroy",box2d.b2EdgeAndPolygonContact.Destroy);box2d.b2EdgeAndPolygonContact.prototype.Evaluate=function(x,V,o){var _o=this.m_fixtureA.GetShape(),_r=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2EdgeShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_r instanceof box2d.b2PolygonShape),box2d.b2CollideEdgeAndPolygon(x,_o instanceof box2d.b2EdgeShape?_o:null,V,_r instanceof box2d.b2PolygonShape?_r:null,o)};goog.exportProperty(box2d.b2EdgeAndPolygonContact.prototype,"Evaluate",box2d.b2EdgeAndPolygonContact.prototype.Evaluate);box2d.b2PolygonAndCircleContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2PolygonAndCircleContact,box2d.b2Contact);goog.exportSymbol("box2d.b2PolygonAndCircleContact",box2d.b2PolygonAndCircleContact);box2d.b2PolygonAndCircleContact.Create=function(x){return new box2d.b2PolygonAndCircleContact};goog.exportProperty(box2d.b2PolygonAndCircleContact,"Create",box2d.b2PolygonAndCircleContact.Create);box2d.b2PolygonAndCircleContact.Destroy=function(x,V){};goog.exportProperty(box2d.b2PolygonAndCircleContact,"Destroy",box2d.b2PolygonAndCircleContact.Destroy);box2d.b2PolygonAndCircleContact.prototype.Evaluate=function(x,V,o){var _o=this.m_fixtureA.GetShape(),_r=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2PolygonShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_r instanceof box2d.b2CircleShape),box2d.b2CollidePolygonAndCircle(x,_o instanceof box2d.b2PolygonShape?_o:null,V,_r instanceof box2d.b2CircleShape?_r:null,o)};goog.exportProperty(box2d.b2PolygonAndCircleContact.prototype,"Evaluate",box2d.b2PolygonAndCircleContact.prototype.Evaluate);box2d.b2PolygonContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2PolygonContact,box2d.b2Contact);goog.exportSymbol("box2d.b2PolygonContact",box2d.b2PolygonContact);box2d.b2PolygonContact.Create=function(x){return new box2d.b2PolygonContact};goog.exportProperty(box2d.b2PolygonContact,"Create",box2d.b2PolygonContact.Create);box2d.b2PolygonContact.Destroy=function(x,V){};goog.exportProperty(box2d.b2PolygonContact,"Destroy",box2d.b2PolygonContact.Destroy);box2d.b2PolygonContact.prototype.Evaluate=function(x,V,o){var _o=this.m_fixtureA.GetShape(),_r=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2PolygonShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_r instanceof box2d.b2PolygonShape),box2d.b2CollidePolygons(x,_o instanceof box2d.b2PolygonShape?_o:null,V,_r instanceof box2d.b2PolygonShape?_r:null,o)};goog.exportProperty(box2d.b2PolygonContact.prototype,"Evaluate",box2d.b2PolygonContact.prototype.Evaluate);box2d.g_blockSolve=!0;box2d.b2VelocityConstraintPoint=function(){this.rA=new box2d.b2Vec2,this.rB=new box2d.b2Vec2};goog.exportSymbol("box2d.b2VelocityConstraintPoint",box2d.b2VelocityConstraintPoint);box2d.b2VelocityConstraintPoint.prototype.rA=null;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"rA",box2d.b2VelocityConstraintPoint.prototype.rA);box2d.b2VelocityConstraintPoint.prototype.rB=null;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"rB",box2d.b2VelocityConstraintPoint.prototype.rB);box2d.b2VelocityConstraintPoint.prototype.normalImpulse=0;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"normalImpulse",box2d.b2VelocityConstraintPoint.prototype.normalImpulse);box2d.b2VelocityConstraintPoint.prototype.tangentImpulse=0;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"tangentImpulse",box2d.b2VelocityConstraintPoint.prototype.tangentImpulse);box2d.b2VelocityConstraintPoint.prototype.normalMass=0;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"normalMass",box2d.b2VelocityConstraintPoint.prototype.normalMass);box2d.b2VelocityConstraintPoint.prototype.tangentMass=0;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"tangentMass",box2d.b2VelocityConstraintPoint.prototype.tangentMass);box2d.b2VelocityConstraintPoint.prototype.velocityBias=0;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"velocityBias",box2d.b2VelocityConstraintPoint.prototype.velocityBias);box2d.b2VelocityConstraintPoint.MakeArray=function(x){return box2d.b2MakeArray(x,function(V){return new box2d.b2VelocityConstraintPoint})};goog.exportProperty(box2d.b2VelocityConstraintPoint,"MakeArray",box2d.b2VelocityConstraintPoint.MakeArray);box2d.b2ContactVelocityConstraint=function(){this.points=box2d.b2VelocityConstraintPoint.MakeArray(box2d.b2_maxManifoldPoints),this.normal=new box2d.b2Vec2,this.tangent=new box2d.b2Vec2,this.normalMass=new box2d.b2Mat22,this.K=new box2d.b2Mat22};goog.exportSymbol("box2d.b2ContactVelocityConstraint",box2d.b2ContactVelocityConstraint);box2d.b2ContactVelocityConstraint.prototype.points=null;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"points",box2d.b2ContactVelocityConstraint.prototype.points);box2d.b2ContactVelocityConstraint.prototype.normal=null;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"normal",box2d.b2ContactVelocityConstraint.prototype.normal);box2d.b2ContactVelocityConstraint.prototype.tangent=null;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"tangent",box2d.b2ContactVelocityConstraint.prototype.tangent);box2d.b2ContactVelocityConstraint.prototype.normalMass=null;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"normalMass",box2d.b2ContactVelocityConstraint.prototype.normalMass);box2d.b2ContactVelocityConstraint.prototype.K=null;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"K",box2d.b2ContactVelocityConstraint.prototype.K);box2d.b2ContactVelocityConstraint.prototype.indexA=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"indexA",box2d.b2ContactVelocityConstraint.prototype.indexA);box2d.b2ContactVelocityConstraint.prototype.indexB=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"indexB",box2d.b2ContactVelocityConstraint.prototype.indexB);box2d.b2ContactVelocityConstraint.prototype.invMassA=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"invMassA",box2d.b2ContactVelocityConstraint.prototype.invMassA);box2d.b2ContactVelocityConstraint.prototype.invMassB=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"invMassB",box2d.b2ContactVelocityConstraint.prototype.invMassB);box2d.b2ContactVelocityConstraint.prototype.invIA=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"invIA",box2d.b2ContactVelocityConstraint.prototype.invIA);box2d.b2ContactVelocityConstraint.prototype.invIB=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"invIB",box2d.b2ContactVelocityConstraint.prototype.invIB);box2d.b2ContactVelocityConstraint.prototype.friction=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"friction",box2d.b2ContactVelocityConstraint.prototype.friction);box2d.b2ContactVelocityConstraint.prototype.restitution=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"restitution",box2d.b2ContactVelocityConstraint.prototype.restitution);box2d.b2ContactVelocityConstraint.prototype.tangentSpeed=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"tangentSpeed",box2d.b2ContactVelocityConstraint.prototype.tangentSpeed);box2d.b2ContactVelocityConstraint.prototype.pointCount=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"pointCount",box2d.b2ContactVelocityConstraint.prototype.pointCount);box2d.b2ContactVelocityConstraint.prototype.contactIndex=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"contactIndex",box2d.b2ContactVelocityConstraint.prototype.contactIndex);box2d.b2ContactVelocityConstraint.MakeArray=function(x){return box2d.b2MakeArray(x,function(V){return new box2d.b2ContactVelocityConstraint})};goog.exportProperty(box2d.b2ContactVelocityConstraint,"MakeArray",box2d.b2ContactVelocityConstraint.MakeArray);box2d.b2ContactPositionConstraint=function(){this.localPoints=box2d.b2Vec2.MakeArray(box2d.b2_maxManifoldPoints),this.localNormal=new box2d.b2Vec2,this.localPoint=new box2d.b2Vec2,this.localCenterA=new box2d.b2Vec2,this.localCenterB=new box2d.b2Vec2};goog.exportSymbol("box2d.b2ContactPositionConstraint",box2d.b2ContactPositionConstraint);box2d.b2ContactPositionConstraint.prototype.localPoints=null;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"localPoints",box2d.b2ContactPositionConstraint.prototype.localPoints);box2d.b2ContactPositionConstraint.prototype.localNormal=null;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"localNormal",box2d.b2ContactPositionConstraint.prototype.localNormal);box2d.b2ContactPositionConstraint.prototype.localPoint=null;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"localPoint",box2d.b2ContactPositionConstraint.prototype.localPoint);box2d.b2ContactPositionConstraint.prototype.indexA=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"indexA",box2d.b2ContactPositionConstraint.prototype.indexA);box2d.b2ContactPositionConstraint.prototype.indexB=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"indexB",box2d.b2ContactPositionConstraint.prototype.indexB);box2d.b2ContactPositionConstraint.prototype.invMassA=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"invMassA",box2d.b2ContactPositionConstraint.prototype.invMassA);box2d.b2ContactPositionConstraint.prototype.invMassB=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"invMassB",box2d.b2ContactPositionConstraint.prototype.invMassB);box2d.b2ContactPositionConstraint.prototype.localCenterA=null;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"localCenterA",box2d.b2ContactPositionConstraint.prototype.localCenterA);box2d.b2ContactPositionConstraint.prototype.localCenterB=null;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"localCenterB",box2d.b2ContactPositionConstraint.prototype.localCenterB);box2d.b2ContactPositionConstraint.prototype.invIA=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"invIA",box2d.b2ContactPositionConstraint.prototype.invIA);box2d.b2ContactPositionConstraint.prototype.invIB=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"invIB",box2d.b2ContactPositionConstraint.prototype.invIB);box2d.b2ContactPositionConstraint.prototype.type=box2d.b2ManifoldType.e_unknown;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"type",box2d.b2ContactPositionConstraint.prototype.type);box2d.b2ContactPositionConstraint.prototype.radiusA=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"radiusA",box2d.b2ContactPositionConstraint.prototype.radiusA);box2d.b2ContactPositionConstraint.prototype.radiusB=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"radiusB",box2d.b2ContactPositionConstraint.prototype.radiusB);box2d.b2ContactPositionConstraint.prototype.pointCount=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"pointCount",box2d.b2ContactPositionConstraint.prototype.pointCount);box2d.b2ContactPositionConstraint.MakeArray=function(x){return box2d.b2MakeArray(x,function(V){return new box2d.b2ContactPositionConstraint})};goog.exportProperty(box2d.b2ContactPositionConstraint,"MakeArray",box2d.b2ContactPositionConstraint.MakeArray);box2d.b2ContactSolverDef=function(){this.step=new box2d.b2TimeStep};goog.exportSymbol("box2d.b2ContactSolverDef",box2d.b2ContactSolverDef);box2d.b2ContactSolverDef.prototype.step=null;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"step",box2d.b2ContactSolverDef.prototype.step);box2d.b2ContactSolverDef.prototype.contacts=null;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"contacts",box2d.b2ContactSolverDef.prototype.contacts);box2d.b2ContactSolverDef.prototype.count=0;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"count",box2d.b2ContactSolverDef.prototype.count);box2d.b2ContactSolverDef.prototype.positions=null;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"positions",box2d.b2ContactSolverDef.prototype.positions);box2d.b2ContactSolverDef.prototype.velocities=null;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"velocities",box2d.b2ContactSolverDef.prototype.velocities);box2d.b2ContactSolverDef.prototype.allocator=null;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"allocator",box2d.b2ContactSolverDef.prototype.allocator);box2d.b2ContactSolver=function(){this.m_step=new box2d.b2TimeStep,this.m_positionConstraints=box2d.b2ContactPositionConstraint.MakeArray(1024),this.m_velocityConstraints=box2d.b2ContactVelocityConstraint.MakeArray(1024)};goog.exportSymbol("box2d.b2ContactSolver",box2d.b2ContactSolver);box2d.b2ContactSolver.prototype.m_step=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_step",box2d.b2ContactSolver.prototype.m_step);box2d.b2ContactSolver.prototype.m_positions=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_positions",box2d.b2ContactSolver.prototype.m_positions);box2d.b2ContactSolver.prototype.m_velocities=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_velocities",box2d.b2ContactSolver.prototype.m_velocities);box2d.b2ContactSolver.prototype.m_allocator=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_allocator",box2d.b2ContactSolver.prototype.m_allocator);box2d.b2ContactSolver.prototype.m_positionConstraints=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_positionConstraints",box2d.b2ContactSolver.prototype.m_positionConstraints);box2d.b2ContactSolver.prototype.m_velocityConstraints=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_velocityConstraints",box2d.b2ContactSolver.prototype.m_velocityConstraints);box2d.b2ContactSolver.prototype.m_contacts=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_contacts",box2d.b2ContactSolver.prototype.m_contacts);box2d.b2ContactSolver.prototype.m_count=0;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_count",box2d.b2ContactSolver.prototype.m_count);box2d.b2ContactSolver.prototype.Initialize=function(x){if(this.m_step.Copy(x.step),this.m_allocator=x.allocator,this.m_count=x.count,this.m_positionConstraints.length<this.m_count){var V=box2d.b2Max(2*this.m_positionConstraints.length,this.m_count);for(box2d.DEBUG&&window.console.log("box2d.b2ContactSolver.m_positionConstraints: "+V);this.m_positionConstraints.length<V;)this.m_positionConstraints[this.m_positionConstraints.length]=new box2d.b2ContactPositionConstraint}if(this.m_velocityConstraints.length<this.m_count)for(V=box2d.b2Max(2*this.m_velocityConstraints.length,this.m_count),box2d.DEBUG&&window.console.log("box2d.b2ContactSolver.m_velocityConstraints: "+V);this.m_velocityConstraints.length<V;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new box2d.b2ContactVelocityConstraint;this.m_positions=x.positions,this.m_velocities=x.velocities,this.m_contacts=x.contacts;var o,_o,_r,l,e_,o_,i_,_e;for(x=0,V=this.m_count;x<V;++x)for(_r=this.m_contacts[x],l=_r.m_fixtureA,e_=_r.m_fixtureB,o=l.GetShape(),_o=e_.GetShape(),o=o.m_radius,_o=_o.m_radius,o_=l.GetBody(),i_=e_.GetBody(),e_=_r.GetManifold(),_e=e_.pointCount,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<_e),l=this.m_velocityConstraints[x],l.friction=_r.m_friction,l.restitution=_r.m_restitution,l.tangentSpeed=_r.m_tangentSpeed,l.indexA=o_.m_islandIndex,l.indexB=i_.m_islandIndex,l.invMassA=o_.m_invMass,l.invMassB=i_.m_invMass,l.invIA=o_.m_invI,l.invIB=i_.m_invI,l.contactIndex=x,l.pointCount=_e,l.K.SetZero(),l.normalMass.SetZero(),_r=this.m_positionConstraints[x],_r.indexA=o_.m_islandIndex,_r.indexB=i_.m_islandIndex,_r.invMassA=o_.m_invMass,_r.invMassB=i_.m_invMass,_r.localCenterA.Copy(o_.m_sweep.localCenter),_r.localCenterB.Copy(i_.m_sweep.localCenter),_r.invIA=o_.m_invI,_r.invIB=i_.m_invI,_r.localNormal.Copy(e_.localNormal),_r.localPoint.Copy(e_.localPoint),_r.pointCount=_e,_r.radiusA=o,_r.radiusB=_o,_r.type=e_.type,o=0,_o=_e;o<_o;++o)o_=e_.points[o],_e=l.points[o],this.m_step.warmStarting?(_e.normalImpulse=this.m_step.dtRatio*o_.normalImpulse,_e.tangentImpulse=this.m_step.dtRatio*o_.tangentImpulse):(_e.normalImpulse=0,_e.tangentImpulse=0),_e.rA.SetZero(),_e.rB.SetZero(),_e.normalMass=0,_e.tangentMass=0,_e.velocityBias=0,_r.localPoints[o].Copy(o_.localPoint);return this};goog.exportProperty(box2d.b2ContactSolver.prototype,"Initialize",box2d.b2ContactSolver.prototype.Initialize);box2d.b2ContactSolver.prototype.InitializeVelocityConstraints=function(){var x,V,o,_o,_r,l,e_,o_,i_,_e,c_,ws,h_,s_,w_,L_,y_,I_,k_,j_,n2=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfA,p2=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfB,u2=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_worldManifold;for(x=0,V=this.m_count;x<V;++x){for(_r=this.m_velocityConstraints[x],l=this.m_positionConstraints[x],o=l.radiusA,_o=l.radiusB,e_=this.m_contacts[_r.contactIndex].GetManifold(),o_=_r.indexA,i_=_r.indexB,_e=_r.invMassA,c_=_r.invMassB,ws=_r.invIA,h_=_r.invIB,s_=l.localCenterA,w_=l.localCenterB,l=this.m_positions[o_].c,L_=this.m_positions[o_].a,y_=this.m_velocities[o_].v,o_=this.m_velocities[o_].w,I_=this.m_positions[i_].c,k_=this.m_positions[i_].a,j_=this.m_velocities[i_].v,i_=this.m_velocities[i_].w,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<e_.pointCount),n2.q.SetAngle(L_),p2.q.SetAngle(k_),box2d.b2Sub_V2_V2(l,box2d.b2Mul_R_V2(n2.q,s_,box2d.b2Vec2.s_t0),n2.p),box2d.b2Sub_V2_V2(I_,box2d.b2Mul_R_V2(p2.q,w_,box2d.b2Vec2.s_t0),p2.p),u2.Initialize(e_,n2,o,p2,_o),_r.normal.Copy(u2.normal),box2d.b2Cross_V2_S(_r.normal,1,_r.tangent),_o=_r.pointCount,o=0;o<_o;++o)e_=_r.points[o],box2d.b2Sub_V2_V2(u2.points[o],l,e_.rA),box2d.b2Sub_V2_V2(u2.points[o],I_,e_.rB),s_=box2d.b2Cross_V2_V2(e_.rA,_r.normal),w_=box2d.b2Cross_V2_V2(e_.rB,_r.normal),s_=_e+c_+ws*s_*s_+h_*w_*w_,e_.normalMass=0<s_?1/s_:0,w_=_r.tangent,s_=box2d.b2Cross_V2_V2(e_.rA,w_),w_=box2d.b2Cross_V2_V2(e_.rB,w_),s_=_e+c_+ws*s_*s_+h_*w_*w_,e_.tangentMass=0<s_?1/s_:0,e_.velocityBias=0,s_=box2d.b2Dot_V2_V2(_r.normal,box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(j_,i_,e_.rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(y_,o_,e_.rA,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0)),s_<-box2d.b2_velocityThreshold&&(e_.velocityBias+=-_r.restitution*s_);_r.pointCount===2&&box2d.g_blockSolve&&(y_=_r.points[0],I_=_r.points[1],l=box2d.b2Cross_V2_V2(y_.rA,_r.normal),y_=box2d.b2Cross_V2_V2(y_.rB,_r.normal),o_=box2d.b2Cross_V2_V2(I_.rA,_r.normal),i_=box2d.b2Cross_V2_V2(I_.rB,_r.normal),I_=_e+c_+ws*l*l+h_*y_*y_,j_=_e+c_+ws*o_*o_+h_*i_*i_,_e=_e+c_+ws*l*o_+h_*y_*i_,I_*I_<1e3*(I_*j_-_e*_e)?(_r.K.ex.Set(I_,_e),_r.K.ey.Set(_e,j_),_r.K.GetInverse(_r.normalMass)):_r.pointCount=1)}};goog.exportProperty(box2d.b2ContactSolver.prototype,"InitializeVelocityConstraints",box2d.b2ContactSolver.prototype.InitializeVelocityConstraints);box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfA=new box2d.b2Transform;box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfB=new box2d.b2Transform;box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_worldManifold=new box2d.b2WorldManifold;box2d.b2ContactSolver.prototype.WarmStart=function(){var x,V,o,_o,_r,l,e_,o_,i_,_e,c_,ws,h_,s_,w_,L_,y_,I_,k_=box2d.b2ContactSolver.prototype.WarmStart.s_P;for(x=0,V=this.m_count;x<V;++x){for(_r=this.m_velocityConstraints[x],l=_r.indexA,e_=_r.indexB,o_=_r.invMassA,i_=_r.invIA,_e=_r.invMassB,c_=_r.invIB,_o=_r.pointCount,ws=this.m_velocities[l].v,h_=this.m_velocities[l].w,s_=this.m_velocities[e_].v,w_=this.m_velocities[e_].w,L_=_r.normal,y_=_r.tangent,o=0;o<_o;++o)I_=_r.points[o],box2d.b2Add_V2_V2(box2d.b2Mul_S_V2(I_.normalImpulse,L_,box2d.b2Vec2.s_t0),box2d.b2Mul_S_V2(I_.tangentImpulse,y_,box2d.b2Vec2.s_t1),k_),h_-=i_*box2d.b2Cross_V2_V2(I_.rA,k_),ws.SelfMulSub(o_,k_),w_+=c_*box2d.b2Cross_V2_V2(I_.rB,k_),s_.SelfMulAdd(_e,k_);this.m_velocities[l].w=h_,this.m_velocities[e_].w=w_}};goog.exportProperty(box2d.b2ContactSolver.prototype,"WarmStart",box2d.b2ContactSolver.prototype.WarmStart);box2d.b2ContactSolver.prototype.WarmStart.s_P=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints=function(){var x,V,o,_o,_r,l,e_,o_,i_,_e,c_,ws,h_,s_,w_,L_,y_,I_,k_,j_,n2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv,p2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv1,u2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv2,T2,I2,q2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P,O2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_a,X2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_b,S_=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_x,q_=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_d,N_=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1,W_=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P2,o2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1P2;for(x=0,V=this.m_count;x<V;++x){for(_r=this.m_velocityConstraints[x],l=_r.indexA,e_=_r.indexB,o_=_r.invMassA,i_=_r.invIA,_e=_r.invMassB,c_=_r.invIB,ws=_r.pointCount,h_=this.m_velocities[l].v,s_=this.m_velocities[l].w,w_=this.m_velocities[e_].v,L_=this.m_velocities[e_].w,y_=_r.normal,I_=_r.tangent,k_=_r.friction,box2d.ENABLE_ASSERTS&&box2d.b2Assert(ws===1||ws===2),o=0,_o=ws;o<_o;++o)j_=_r.points[o],box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(w_,L_,j_.rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(h_,s_,j_.rA,box2d.b2Vec2.s_t1),n2),T2=box2d.b2Dot_V2_V2(n2,I_)-_r.tangentSpeed,T2=j_.tangentMass*-T2,I2=k_*j_.normalImpulse,I2=box2d.b2Clamp(j_.tangentImpulse+T2,-I2,I2),T2=I2-j_.tangentImpulse,j_.tangentImpulse=I2,box2d.b2Mul_S_V2(T2,I_,q2),h_.SelfMulSub(o_,q2),s_-=i_*box2d.b2Cross_V2_V2(j_.rA,q2),w_.SelfMulAdd(_e,q2),L_+=c_*box2d.b2Cross_V2_V2(j_.rB,q2);if(_r.pointCount!==1&&box2d.g_blockSolve)for(ws=_r.points[0],j_=_r.points[1],O2.Set(ws.normalImpulse,j_.normalImpulse),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=O2.x&&0<=O2.y),box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(w_,L_,ws.rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(h_,s_,ws.rA,box2d.b2Vec2.s_t1),p2),box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(w_,L_,j_.rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(h_,s_,j_.rA,box2d.b2Vec2.s_t1),u2),o=box2d.b2Dot_V2_V2(p2,y_),_o=box2d.b2Dot_V2_V2(u2,y_),X2.x=o-ws.velocityBias,X2.y=_o-j_.velocityBias,X2.SelfSub(box2d.b2Mul_M22_V2(_r.K,O2,box2d.b2Vec2.s_t0));;){if(box2d.b2Mul_M22_V2(_r.normalMass,X2,S_).SelfNeg(),0<=S_.x&&0<=S_.y){box2d.b2Sub_V2_V2(S_,O2,q_),box2d.b2Mul_S_V2(q_.x,y_,N_),box2d.b2Mul_S_V2(q_.y,y_,W_),box2d.b2Add_V2_V2(N_,W_,o2),h_.SelfMulSub(o_,o2),s_-=i_*(box2d.b2Cross_V2_V2(ws.rA,N_)+box2d.b2Cross_V2_V2(j_.rA,W_)),w_.SelfMulAdd(_e,o2),L_+=c_*(box2d.b2Cross_V2_V2(ws.rB,N_)+box2d.b2Cross_V2_V2(j_.rB,W_)),ws.normalImpulse=S_.x,j_.normalImpulse=S_.y;break}if(S_.x=-ws.normalMass*X2.x,S_.y=0,_o=_r.K.ex.y*S_.x+X2.y,0<=S_.x&&0<=_o){box2d.b2Sub_V2_V2(S_,O2,q_),box2d.b2Mul_S_V2(q_.x,y_,N_),box2d.b2Mul_S_V2(q_.y,y_,W_),box2d.b2Add_V2_V2(N_,W_,o2),h_.SelfMulSub(o_,o2),s_-=i_*(box2d.b2Cross_V2_V2(ws.rA,N_)+box2d.b2Cross_V2_V2(j_.rA,W_)),w_.SelfMulAdd(_e,o2),L_+=c_*(box2d.b2Cross_V2_V2(ws.rB,N_)+box2d.b2Cross_V2_V2(j_.rB,W_)),ws.normalImpulse=S_.x,j_.normalImpulse=S_.y;break}if(S_.x=0,S_.y=-j_.normalMass*X2.y,o=_r.K.ey.x*S_.y+X2.x,0<=S_.y&&0<=o){box2d.b2Sub_V2_V2(S_,O2,q_),box2d.b2Mul_S_V2(q_.x,y_,N_),box2d.b2Mul_S_V2(q_.y,y_,W_),box2d.b2Add_V2_V2(N_,W_,o2),h_.SelfMulSub(o_,o2),s_-=i_*(box2d.b2Cross_V2_V2(ws.rA,N_)+box2d.b2Cross_V2_V2(j_.rA,W_)),w_.SelfMulAdd(_e,o2),L_+=c_*(box2d.b2Cross_V2_V2(ws.rB,N_)+box2d.b2Cross_V2_V2(j_.rB,W_)),ws.normalImpulse=S_.x,j_.normalImpulse=S_.y;break}if(S_.x=0,S_.y=0,o=X2.x,_o=X2.y,0<=o&&0<=_o){box2d.b2Sub_V2_V2(S_,O2,q_),box2d.b2Mul_S_V2(q_.x,y_,N_),box2d.b2Mul_S_V2(q_.y,y_,W_),box2d.b2Add_V2_V2(N_,W_,o2),h_.SelfMulSub(o_,o2),s_-=i_*(box2d.b2Cross_V2_V2(ws.rA,N_)+box2d.b2Cross_V2_V2(j_.rA,W_)),w_.SelfMulAdd(_e,o2),L_+=c_*(box2d.b2Cross_V2_V2(ws.rB,N_)+box2d.b2Cross_V2_V2(j_.rB,W_)),ws.normalImpulse=S_.x,j_.normalImpulse=S_.y;break}break}else for(o=0;o<ws;++o)j_=_r.points[o],box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(w_,L_,j_.rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(h_,s_,j_.rA,box2d.b2Vec2.s_t1),n2),_o=box2d.b2Dot_V2_V2(n2,y_),T2=-j_.normalMass*(_o-j_.velocityBias),I2=box2d.b2Max(j_.normalImpulse+T2,0),T2=I2-j_.normalImpulse,j_.normalImpulse=I2,box2d.b2Mul_S_V2(T2,y_,q2),h_.SelfMulSub(o_,q2),s_-=i_*box2d.b2Cross_V2_V2(j_.rA,q2),w_.SelfMulAdd(_e,q2),L_+=c_*box2d.b2Cross_V2_V2(j_.rB,q2);this.m_velocities[l].w=s_,this.m_velocities[e_].w=L_}};goog.exportProperty(box2d.b2ContactSolver.prototype,"SolveVelocityConstraints",box2d.b2ContactSolver.prototype.SolveVelocityConstraints);box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv1=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv2=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_a=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_b=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_x=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_d=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P2=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1P2=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.StoreImpulses=function(){var x,V,o,_o,_r,l;for(x=0,V=this.m_count;x<V;++x)for(_r=this.m_velocityConstraints[x],l=this.m_contacts[_r.contactIndex].GetManifold(),o=0,_o=_r.pointCount;o<_o;++o)l.points[o].normalImpulse=_r.points[o].normalImpulse,l.points[o].tangentImpulse=_r.points[o].tangentImpulse};goog.exportProperty(box2d.b2ContactSolver.prototype,"StoreImpulses",box2d.b2ContactSolver.prototype.StoreImpulses);box2d.b2PositionSolverManifold=function(){this.normal=new box2d.b2Vec2,this.point=new box2d.b2Vec2};goog.exportSymbol("box2d.b2PositionSolverManifold",box2d.b2PositionSolverManifold);box2d.b2PositionSolverManifold.prototype.normal=null;goog.exportProperty(box2d.b2PositionSolverManifold.prototype,"normal",box2d.b2PositionSolverManifold.prototype.normal);box2d.b2PositionSolverManifold.prototype.point=null;goog.exportProperty(box2d.b2PositionSolverManifold.prototype,"point",box2d.b2PositionSolverManifold.prototype.point);box2d.b2PositionSolverManifold.prototype.separation=0;goog.exportProperty(box2d.b2PositionSolverManifold.prototype,"separation",box2d.b2PositionSolverManifold.prototype.separation);box2d.b2PositionSolverManifold.prototype.Initialize=function(x,V,o,_o){var _r=box2d.b2PositionSolverManifold.prototype.Initialize.s_pointA,l=box2d.b2PositionSolverManifold.prototype.Initialize.s_pointB,e_=box2d.b2PositionSolverManifold.prototype.Initialize.s_planePoint,o_=box2d.b2PositionSolverManifold.prototype.Initialize.s_clipPoint;switch(box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<x.pointCount),x.type){case box2d.b2ManifoldType.e_circles:box2d.b2Mul_X_V2(V,x.localPoint,_r),box2d.b2Mul_X_V2(o,x.localPoints[0],l),box2d.b2Sub_V2_V2(l,_r,this.normal).SelfNormalize(),box2d.b2Mid_V2_V2(_r,l,this.point),this.separation=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(l,_r,box2d.b2Vec2.s_t0),this.normal)-x.radiusA-x.radiusB;break;case box2d.b2ManifoldType.e_faceA:box2d.b2Mul_R_V2(V.q,x.localNormal,this.normal),box2d.b2Mul_X_V2(V,x.localPoint,e_),box2d.b2Mul_X_V2(o,x.localPoints[_o],o_),this.separation=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o_,e_,box2d.b2Vec2.s_t0),this.normal)-x.radiusA-x.radiusB,this.point.Copy(o_);break;case box2d.b2ManifoldType.e_faceB:box2d.b2Mul_R_V2(o.q,x.localNormal,this.normal),box2d.b2Mul_X_V2(o,x.localPoint,e_),box2d.b2Mul_X_V2(V,x.localPoints[_o],o_),this.separation=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o_,e_,box2d.b2Vec2.s_t0),this.normal)-x.radiusA-x.radiusB,this.point.Copy(o_),this.normal.SelfNeg()}};goog.exportProperty(box2d.b2PositionSolverManifold.prototype,"Initialize",box2d.b2PositionSolverManifold.prototype.Initialize);box2d.b2PositionSolverManifold.prototype.Initialize.s_pointA=new box2d.b2Vec2;box2d.b2PositionSolverManifold.prototype.Initialize.s_pointB=new box2d.b2Vec2;box2d.b2PositionSolverManifold.prototype.Initialize.s_planePoint=new box2d.b2Vec2;box2d.b2PositionSolverManifold.prototype.Initialize.s_clipPoint=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolvePositionConstraints=function(){var x,V,o,_o,_r,l,e_,o_,i_,_e,c_,ws,h_,s_,w_,L_,y_,I_=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfA,k_=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfB,j_=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_psm,n2,p2,u2,T2=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rA,I2=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rB,q2,O2=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_P,X2=0;for(x=0,V=this.m_count;x<V;++x){for(_r=this.m_positionConstraints[x],l=_r.indexA,e_=_r.indexB,o_=_r.localCenterA,i_=_r.invMassA,_e=_r.invIA,c_=_r.localCenterB,ws=_r.invMassB,h_=_r.invIB,_o=_r.pointCount,s_=this.m_positions[l].c,w_=this.m_positions[l].a,L_=this.m_positions[e_].c,y_=this.m_positions[e_].a,o=0;o<_o;++o)I_.q.SetAngle(w_),k_.q.SetAngle(y_),box2d.b2Sub_V2_V2(s_,box2d.b2Mul_R_V2(I_.q,o_,box2d.b2Vec2.s_t0),I_.p),box2d.b2Sub_V2_V2(L_,box2d.b2Mul_R_V2(k_.q,c_,box2d.b2Vec2.s_t0),k_.p),j_.Initialize(_r,I_,k_,o),n2=j_.normal,p2=j_.point,u2=j_.separation,box2d.b2Sub_V2_V2(p2,s_,T2),box2d.b2Sub_V2_V2(p2,L_,I2),X2=box2d.b2Min(X2,u2),p2=box2d.b2Clamp(box2d.b2_baumgarte*(u2+box2d.b2_linearSlop),-box2d.b2_maxLinearCorrection,0),u2=box2d.b2Cross_V2_V2(T2,n2),q2=box2d.b2Cross_V2_V2(I2,n2),u2=i_+ws+_e*u2*u2+h_*q2*q2,p2=0<u2?-p2/u2:0,box2d.b2Mul_S_V2(p2,n2,O2),s_.SelfMulSub(i_,O2),w_-=_e*box2d.b2Cross_V2_V2(T2,O2),L_.SelfMulAdd(ws,O2),y_+=h_*box2d.b2Cross_V2_V2(I2,O2);this.m_positions[l].a=w_,this.m_positions[e_].a=y_}return X2>-3*box2d.b2_linearSlop};goog.exportProperty(box2d.b2ContactSolver.prototype,"SolvePositionConstraints",box2d.b2ContactSolver.prototype.SolvePositionConstraints);box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfA=new box2d.b2Transform;box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfB=new box2d.b2Transform;box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_psm=new box2d.b2PositionSolverManifold;box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rA=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rB=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints=function(x,V){var o,_o,_r,l,e_,o_,i_,_e,c_,ws,h_,s_,w_,L_,y_,I_,k_,j_=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfA,n2=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfB,p2=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_psm,u2,T2,I2,q2=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rA,O2=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rB,X2,S_=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_P,q_=0;for(o=0,_o=this.m_count;o<_o;++o){for(e_=this.m_positionConstraints[o],o_=e_.indexA,i_=e_.indexB,_e=e_.localCenterA,c_=e_.localCenterB,l=e_.pointCount,h_=ws=0,(o_===x||o_===V)&&(ws=e_.invMassA,h_=e_.invIA),w_=s_=0,(i_===x||i_===V)&&(s_=e_.invMassB,w_=e_.invIB),L_=this.m_positions[o_].c,y_=this.m_positions[o_].a,I_=this.m_positions[i_].c,k_=this.m_positions[i_].a,_r=0;_r<l;++_r)j_.q.SetAngle(y_),n2.q.SetAngle(k_),box2d.b2Sub_V2_V2(L_,box2d.b2Mul_R_V2(j_.q,_e,box2d.b2Vec2.s_t0),j_.p),box2d.b2Sub_V2_V2(I_,box2d.b2Mul_R_V2(n2.q,c_,box2d.b2Vec2.s_t0),n2.p),p2.Initialize(e_,j_,n2,_r),u2=p2.normal,T2=p2.point,I2=p2.separation,box2d.b2Sub_V2_V2(T2,L_,q2),box2d.b2Sub_V2_V2(T2,I_,O2),q_=box2d.b2Min(q_,I2),T2=box2d.b2Clamp(box2d.b2_toiBaumgarte*(I2+box2d.b2_linearSlop),-box2d.b2_maxLinearCorrection,0),I2=box2d.b2Cross_V2_V2(q2,u2),X2=box2d.b2Cross_V2_V2(O2,u2),I2=ws+s_+h_*I2*I2+w_*X2*X2,T2=0<I2?-T2/I2:0,box2d.b2Mul_S_V2(T2,u2,S_),L_.SelfMulSub(ws,S_),y_-=h_*box2d.b2Cross_V2_V2(q2,S_),I_.SelfMulAdd(s_,S_),k_+=w_*box2d.b2Cross_V2_V2(O2,S_);this.m_positions[o_].a=y_,this.m_positions[i_].a=k_}return q_>=-1.5*box2d.b2_linearSlop};goog.exportProperty(box2d.b2ContactSolver.prototype,"SolveTOIPositionConstraints",box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints);box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfA=new box2d.b2Transform;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfB=new box2d.b2Transform;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_psm=new box2d.b2PositionSolverManifold;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rA=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rB=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_P=new box2d.b2Vec2;box2d.b2Island=function(){this.m_bodies=Array(1024),this.m_contacts=Array(1024),this.m_joints=Array(1024),this.m_positions=box2d.b2Position.MakeArray(1024),this.m_velocities=box2d.b2Velocity.MakeArray(1024)};goog.exportSymbol("box2d.b2Island",box2d.b2Island);box2d.b2Island.prototype.m_allocator=null;goog.exportProperty(box2d.b2Island.prototype,"m_allocator",box2d.b2Island.prototype.m_allocator);box2d.b2Island.prototype.m_listener=null;goog.exportProperty(box2d.b2Island.prototype,"m_listener",box2d.b2Island.prototype.m_listener);box2d.b2Island.prototype.m_bodies=null;goog.exportProperty(box2d.b2Island.prototype,"m_bodies",box2d.b2Island.prototype.m_bodies);box2d.b2Island.prototype.m_contacts=null;goog.exportProperty(box2d.b2Island.prototype,"m_contacts",box2d.b2Island.prototype.m_contacts);box2d.b2Island.prototype.m_joints=null;goog.exportProperty(box2d.b2Island.prototype,"m_joints",box2d.b2Island.prototype.m_joints);box2d.b2Island.prototype.m_positions=null;goog.exportProperty(box2d.b2Island.prototype,"m_positions",box2d.b2Island.prototype.m_positions);box2d.b2Island.prototype.m_velocities=null;goog.exportProperty(box2d.b2Island.prototype,"m_velocities",box2d.b2Island.prototype.m_velocities);box2d.b2Island.prototype.m_bodyCount=0;goog.exportProperty(box2d.b2Island.prototype,"m_bodyCount",box2d.b2Island.prototype.m_bodyCount);box2d.b2Island.prototype.m_jointCount=0;goog.exportProperty(box2d.b2Island.prototype,"m_jointCount",box2d.b2Island.prototype.m_jointCount);box2d.b2Island.prototype.m_contactCount=0;goog.exportProperty(box2d.b2Island.prototype,"m_contactCount",box2d.b2Island.prototype.m_contactCount);box2d.b2Island.prototype.m_bodyCapacity=0;goog.exportProperty(box2d.b2Island.prototype,"m_bodyCapacity",box2d.b2Island.prototype.m_bodyCapacity);box2d.b2Island.prototype.m_contactCapacity=0;goog.exportProperty(box2d.b2Island.prototype,"m_contactCapacity",box2d.b2Island.prototype.m_contactCapacity);box2d.b2Island.prototype.m_jointCapacity=0;goog.exportProperty(box2d.b2Island.prototype,"m_jointCapacity",box2d.b2Island.prototype.m_jointCapacity);box2d.b2Island.prototype.Initialize=function(x,V,o,_o,_r){for(this.m_bodyCapacity=x,this.m_contactCapacity=V,this.m_jointCapacity=o,this.m_jointCount=this.m_contactCount=this.m_bodyCount=0,this.m_allocator=_o,this.m_listener=_r;this.m_bodies.length<x;)this.m_bodies[this.m_bodies.length]=null;for(;this.m_contacts.length<V;)this.m_contacts[this.m_contacts.length]=null;for(;this.m_joints.length<o;)this.m_joints[this.m_joints.length]=null;if(this.m_positions.length<x)for(V=box2d.b2Max(2*this.m_positions.length,x),box2d.DEBUG&&window.console.log("box2d.b2Island.m_positions: "+V);this.m_positions.length<V;)this.m_positions[this.m_positions.length]=new box2d.b2Position;if(this.m_velocities.length<x)for(V=box2d.b2Max(2*this.m_velocities.length,x),box2d.DEBUG&&window.console.log("box2d.b2Island.m_velocities: "+V);this.m_velocities.length<V;)this.m_velocities[this.m_velocities.length]=new box2d.b2Velocity};goog.exportProperty(box2d.b2Island.prototype,"Initialize",box2d.b2Island.prototype.Initialize);box2d.b2Island.prototype.Clear=function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0};goog.exportProperty(box2d.b2Island.prototype,"Clear",box2d.b2Island.prototype.Clear);box2d.b2Island.prototype.AddBody=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_bodyCount<this.m_bodyCapacity),x.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=x};goog.exportProperty(box2d.b2Island.prototype,"AddBody",box2d.b2Island.prototype.AddBody);box2d.b2Island.prototype.AddContact=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_contactCount<this.m_contactCapacity),this.m_contacts[this.m_contactCount++]=x};goog.exportProperty(box2d.b2Island.prototype,"AddContact",box2d.b2Island.prototype.AddContact);box2d.b2Island.prototype.AddJoint=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_jointCount<this.m_jointCapacity),this.m_joints[this.m_jointCount++]=x};goog.exportProperty(box2d.b2Island.prototype,"AddJoint",box2d.b2Island.prototype.AddJoint);box2d.b2Island.prototype.Solve=function(x,V,o,_o){for(var _r=box2d.b2Island.s_timer.Reset(),l=V.dt,e_=0;e_<this.m_bodyCount;++e_){var o_=this.m_bodies[e_],i_=this.m_positions[e_].c.Copy(o_.m_sweep.c),_e=o_.m_sweep.a,c_=this.m_velocities[e_].v.Copy(o_.m_linearVelocity),ws=o_.m_angularVelocity;o_.m_sweep.c0.Copy(o_.m_sweep.c),o_.m_sweep.a0=o_.m_sweep.a,o_.m_type===box2d.b2BodyType.b2_dynamicBody&&(c_.x+=l*(o_.m_gravityScale*o.x+o_.m_invMass*o_.m_force.x),c_.y+=l*(o_.m_gravityScale*o.y+o_.m_invMass*o_.m_force.y),ws+=l*o_.m_invI*o_.m_torque,c_.SelfMul(1/(1+l*o_.m_linearDamping)),ws*=1/(1+l*o_.m_angularDamping)),this.m_positions[e_].a=_e,this.m_velocities[e_].w=ws}for(_r.Reset(),o_=box2d.b2Island.s_solverData,o_.step.Copy(V),o_.positions=this.m_positions,o_.velocities=this.m_velocities,e_=box2d.b2Island.s_contactSolverDef,e_.step.Copy(V),e_.contacts=this.m_contacts,e_.count=this.m_contactCount,e_.positions=this.m_positions,e_.velocities=this.m_velocities,e_.allocator=this.m_allocator,o=box2d.b2Island.s_contactSolver.Initialize(e_),o.InitializeVelocityConstraints(),V.warmStarting&&o.WarmStart(),e_=0;e_<this.m_jointCount;++e_)this.m_joints[e_].InitVelocityConstraints(o_);for(x.solveInit=_r.GetMilliseconds(),_r.Reset(),e_=0;e_<V.velocityIterations;++e_){for(_e=0;_e<this.m_jointCount;++_e)this.m_joints[_e].SolveVelocityConstraints(o_);o.SolveVelocityConstraints()}for(o.StoreImpulses(),x.solveVelocity=_r.GetMilliseconds(),e_=0;e_<this.m_bodyCount;++e_){var i_=this.m_positions[e_].c,_e=this.m_positions[e_].a,c_=this.m_velocities[e_].v,ws=this.m_velocities[e_].w,h_=box2d.b2Mul_S_V2(l,c_,box2d.b2Island.s_translation);box2d.b2Dot_V2_V2(h_,h_)>box2d.b2_maxTranslationSquared&&(h_=box2d.b2_maxTranslation/h_.Length(),c_.SelfMul(h_)),h_=l*ws,h_*h_>box2d.b2_maxRotationSquared&&(h_=box2d.b2_maxRotation/box2d.b2Abs(h_),ws*=h_),i_.x+=l*c_.x,i_.y+=l*c_.y,_e+=l*ws,this.m_positions[e_].a=_e,this.m_velocities[e_].w=ws}for(_r.Reset(),i_=!1,e_=0;e_<V.positionIterations;++e_){for(c_=o.SolvePositionConstraints(),ws=!0,_e=0;_e<this.m_jointCount;++_e)h_=this.m_joints[_e].SolvePositionConstraints(o_),ws=ws&&h_;if(c_&&ws){i_=!0;break}}for(e_=0;e_<this.m_bodyCount;++e_)V=this.m_bodies[e_],V.m_sweep.c.Copy(this.m_positions[e_].c),V.m_sweep.a=this.m_positions[e_].a,V.m_linearVelocity.Copy(this.m_velocities[e_].v),V.m_angularVelocity=this.m_velocities[e_].w,V.SynchronizeTransform();if(x.solvePosition=_r.GetMilliseconds(),this.Report(o.m_velocityConstraints),_o){for(x=box2d.b2_maxFloat,_o=box2d.b2_linearSleepTolerance*box2d.b2_linearSleepTolerance,_r=box2d.b2_angularSleepTolerance*box2d.b2_angularSleepTolerance,e_=0;e_<this.m_bodyCount;++e_)o_=this.m_bodies[e_],o_.GetType()!==box2d.b2BodyType.b2_staticBody&&(!o_.m_flag_autoSleepFlag||o_.m_angularVelocity*o_.m_angularVelocity>_r||box2d.b2Dot_V2_V2(o_.m_linearVelocity,o_.m_linearVelocity)>_o?x=o_.m_sleepTime=0:(o_.m_sleepTime+=l,x=box2d.b2Min(x,o_.m_sleepTime)));if(x>=box2d.b2_timeToSleep&&i_)for(e_=0;e_<this.m_bodyCount;++e_)o_=this.m_bodies[e_],o_.SetAwake(!1)}};goog.exportProperty(box2d.b2Island.prototype,"Solve",box2d.b2Island.prototype.Solve);box2d.b2Island.prototype.SolveTOI=function(x,V,o){box2d.ENABLE_ASSERTS&&box2d.b2Assert(V<this.m_bodyCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(o<this.m_bodyCount);for(var _o=0;_o<this.m_bodyCount;++_o){var _r=this.m_bodies[_o];this.m_positions[_o].c.Copy(_r.m_sweep.c),this.m_positions[_o].a=_r.m_sweep.a,this.m_velocities[_o].v.Copy(_r.m_linearVelocity),this.m_velocities[_o].w=_r.m_angularVelocity}for(_o=box2d.b2Island.s_contactSolverDef,_o.contacts=this.m_contacts,_o.count=this.m_contactCount,_o.allocator=this.m_allocator,_o.step.Copy(x),_o.positions=this.m_positions,_o.velocities=this.m_velocities,_r=box2d.b2Island.s_contactSolver.Initialize(_o),_o=0;_o<x.positionIterations&&!_r.SolveTOIPositionConstraints(V,o);++_o);for(this.m_bodies[V].m_sweep.c0.Copy(this.m_positions[V].c),this.m_bodies[V].m_sweep.a0=this.m_positions[V].a,this.m_bodies[o].m_sweep.c0.Copy(this.m_positions[o].c),this.m_bodies[o].m_sweep.a0=this.m_positions[o].a,_r.InitializeVelocityConstraints(),_o=0;_o<x.velocityIterations;++_o)_r.SolveVelocityConstraints();for(x=x.dt,_o=0;_o<this.m_bodyCount;++_o){V=this.m_positions[_o].c,o=this.m_positions[_o].a;var l=this.m_velocities[_o].v,e_=this.m_velocities[_o].w,o_=box2d.b2Mul_S_V2(x,l,box2d.b2Island.s_translation);box2d.b2Dot_V2_V2(o_,o_)>box2d.b2_maxTranslationSquared&&(o_=box2d.b2_maxTranslation/o_.Length(),l.SelfMul(o_)),o_=x*e_,o_*o_>box2d.b2_maxRotationSquared&&(o_=box2d.b2_maxRotation/box2d.b2Abs(o_),e_*=o_),V.SelfMulAdd(x,l),o+=x*e_,this.m_positions[_o].a=o,this.m_velocities[_o].w=e_,o_=this.m_bodies[_o],o_.m_sweep.c.Copy(V),o_.m_sweep.a=o,o_.m_linearVelocity.Copy(l),o_.m_angularVelocity=e_,o_.SynchronizeTransform()}this.Report(_r.m_velocityConstraints)};goog.exportProperty(box2d.b2Island.prototype,"SolveTOI",box2d.b2Island.prototype.SolveTOI);box2d.b2Island.prototype.Report=function(x){if(this.m_listener!==null)for(var V=0;V<this.m_contactCount;++V){var o=this.m_contacts[V];if(o){var _o=x[V],_r=box2d.b2Island.s_impulse;_r.count=_o.pointCount;for(var l=0;l<_o.pointCount;++l)_r.normalImpulses[l]=_o.points[l].normalImpulse,_r.tangentImpulses[l]=_o.points[l].tangentImpulse;this.m_listener.PostSolve(o,_r)}}};goog.exportProperty(box2d.b2Island.prototype,"Report",box2d.b2Island.prototype.Report);box2d.b2Island.s_timer=new box2d.b2Timer;box2d.b2Island.s_solverData=new box2d.b2SolverData;box2d.b2Island.s_contactSolverDef=new box2d.b2ContactSolverDef;box2d.b2Island.s_contactSolver=new box2d.b2ContactSolver;box2d.b2Island.s_translation=new box2d.b2Vec2;box2d.b2Island.s_impulse=new box2d.b2ContactImpulse;box2d.b2JointType={e_unknownJoint:0,e_revoluteJoint:1,e_prismaticJoint:2,e_distanceJoint:3,e_pulleyJoint:4,e_mouseJoint:5,e_gearJoint:6,e_wheelJoint:7,e_weldJoint:8,e_frictionJoint:9,e_ropeJoint:10,e_motorJoint:11,e_areaJoint:12};goog.exportSymbol("box2d.b2JointType",box2d.b2JointType);goog.exportProperty(box2d.b2JointType,"e_unknownJoint",box2d.b2JointType.e_unknownJoint);goog.exportProperty(box2d.b2JointType,"e_revoluteJoint",box2d.b2JointType.e_revoluteJoint);goog.exportProperty(box2d.b2JointType,"e_prismaticJoint",box2d.b2JointType.e_prismaticJoint);goog.exportProperty(box2d.b2JointType,"e_distanceJoint",box2d.b2JointType.e_distanceJoint);goog.exportProperty(box2d.b2JointType,"e_pulleyJoint",box2d.b2JointType.e_pulleyJoint);goog.exportProperty(box2d.b2JointType,"e_mouseJoint",box2d.b2JointType.e_mouseJoint);goog.exportProperty(box2d.b2JointType,"e_gearJoint",box2d.b2JointType.e_gearJoint);goog.exportProperty(box2d.b2JointType,"e_wheelJoint",box2d.b2JointType.e_wheelJoint);goog.exportProperty(box2d.b2JointType,"e_weldJoint",box2d.b2JointType.e_weldJoint);goog.exportProperty(box2d.b2JointType,"e_frictionJoint",box2d.b2JointType.e_frictionJoint);goog.exportProperty(box2d.b2JointType,"e_ropeJoint",box2d.b2JointType.e_ropeJoint);goog.exportProperty(box2d.b2JointType,"e_motorJoint",box2d.b2JointType.e_motorJoint);goog.exportProperty(box2d.b2JointType,"e_areaJoint",box2d.b2JointType.e_areaJoint);box2d.b2LimitState={e_inactiveLimit:0,e_atLowerLimit:1,e_atUpperLimit:2,e_equalLimits:3};goog.exportSymbol("box2d.b2LimitState",box2d.b2LimitState);goog.exportProperty(box2d.b2LimitState,"e_inactiveLimit",box2d.b2LimitState.e_inactiveLimit);goog.exportProperty(box2d.b2LimitState,"e_atLowerLimit",box2d.b2LimitState.e_atLowerLimit);goog.exportProperty(box2d.b2LimitState,"e_atUpperLimit",box2d.b2LimitState.e_atUpperLimit);goog.exportProperty(box2d.b2LimitState,"e_equalLimits",box2d.b2LimitState.e_equalLimits);box2d.b2Jacobian=function(){this.linear=new box2d.b2Vec2};goog.exportSymbol("box2d.b2Jacobian",box2d.b2Jacobian);box2d.b2Jacobian.prototype.linear=null;goog.exportProperty(box2d.b2Jacobian.prototype,"linear",box2d.b2Jacobian.prototype.linear);box2d.b2Jacobian.prototype.angularA=0;goog.exportProperty(box2d.b2Jacobian.prototype,"angularA",box2d.b2Jacobian.prototype.angularA);box2d.b2Jacobian.prototype.angularB=0;goog.exportProperty(box2d.b2Jacobian.prototype,"angularB",box2d.b2Jacobian.prototype.angularB);box2d.b2Jacobian.prototype.SetZero=function(){return this.linear.SetZero(),this.angularB=this.angularA=0,this};goog.exportProperty(box2d.b2Jacobian.prototype,"SetZero",box2d.b2Jacobian.prototype.SetZero);box2d.b2Jacobian.prototype.Set=function(x,V,o){return this.linear.Copy(x),this.angularA=V,this.angularB=o,this};goog.exportProperty(box2d.b2Jacobian.prototype,"Set",box2d.b2Jacobian.prototype.Set);box2d.b2JointEdge=function(){};goog.exportSymbol("box2d.b2JointEdge",box2d.b2JointEdge);box2d.b2JointEdge.prototype.other=null;goog.exportProperty(box2d.b2JointEdge.prototype,"other",box2d.b2JointEdge.prototype.other);box2d.b2JointEdge.prototype.joint=null;goog.exportProperty(box2d.b2JointEdge.prototype,"joint",box2d.b2JointEdge.prototype.joint);box2d.b2JointEdge.prototype.prev=null;goog.exportProperty(box2d.b2JointEdge.prototype,"prev",box2d.b2JointEdge.prototype.prev);box2d.b2JointEdge.prototype.next=null;goog.exportProperty(box2d.b2JointEdge.prototype,"next",box2d.b2JointEdge.prototype.next);box2d.b2JointDef=function(x){this.type=x};goog.exportSymbol("box2d.b2JointDef",box2d.b2JointDef);box2d.b2JointDef.prototype.type=box2d.b2JointType.e_unknownJoint;goog.exportProperty(box2d.b2JointDef.prototype,"type",box2d.b2JointDef.prototype.type);box2d.b2JointDef.prototype.userData=null;goog.exportProperty(box2d.b2JointDef.prototype,"userData",box2d.b2JointDef.prototype.userData);box2d.b2JointDef.prototype.bodyA=null;goog.exportProperty(box2d.b2JointDef.prototype,"bodyA",box2d.b2JointDef.prototype.bodyA);box2d.b2JointDef.prototype.bodyB=null;goog.exportProperty(box2d.b2JointDef.prototype,"bodyB",box2d.b2JointDef.prototype.bodyB);box2d.b2JointDef.prototype.collideConnected=!1;goog.exportProperty(box2d.b2JointDef.prototype,"collideConnected",box2d.b2JointDef.prototype.collideConnected);box2d.b2Joint=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.bodyA!==x.bodyB),this.m_type=x.type,this.m_edgeA=new box2d.b2JointEdge,this.m_edgeB=new box2d.b2JointEdge,this.m_bodyA=x.bodyA,this.m_bodyB=x.bodyB,this.m_collideConnected=x.collideConnected,this.m_userData=x.userData};goog.exportSymbol("box2d.b2Joint",box2d.b2Joint);box2d.b2Joint.prototype.m_type=box2d.b2JointType.e_unknownJoint;goog.exportProperty(box2d.b2Joint.prototype,"m_type",box2d.b2Joint.prototype.m_type);box2d.b2Joint.prototype.m_prev=null;goog.exportProperty(box2d.b2Joint.prototype,"m_prev",box2d.b2Joint.prototype.m_prev);box2d.b2Joint.prototype.m_next=null;goog.exportProperty(box2d.b2Joint.prototype,"m_next",box2d.b2Joint.prototype.m_next);box2d.b2Joint.prototype.m_edgeA=null;goog.exportProperty(box2d.b2Joint.prototype,"m_edgeA",box2d.b2Joint.prototype.m_edgeA);box2d.b2Joint.prototype.m_edgeB=null;goog.exportProperty(box2d.b2Joint.prototype,"m_edgeB",box2d.b2Joint.prototype.m_edgeB);box2d.b2Joint.prototype.m_bodyA=null;goog.exportProperty(box2d.b2Joint.prototype,"m_bodyA",box2d.b2Joint.prototype.m_bodyA);box2d.b2Joint.prototype.m_bodyB=null;goog.exportProperty(box2d.b2Joint.prototype,"m_bodyB",box2d.b2Joint.prototype.m_bodyB);box2d.b2Joint.prototype.m_index=0;goog.exportProperty(box2d.b2Joint.prototype,"m_index",box2d.b2Joint.prototype.m_index);box2d.b2Joint.prototype.m_islandFlag=!1;goog.exportProperty(box2d.b2Joint.prototype,"m_islandFlag",box2d.b2Joint.prototype.m_islandFlag);box2d.b2Joint.prototype.m_collideConnected=!1;goog.exportProperty(box2d.b2Joint.prototype,"m_collideConnected",box2d.b2Joint.prototype.m_collideConnected);box2d.b2Joint.prototype.m_userData=null;goog.exportProperty(box2d.b2Joint.prototype,"m_userData",box2d.b2Joint.prototype.m_userData);box2d.b2Joint.prototype.GetAnchorA=function(x){return x.SetZero()};goog.exportProperty(box2d.b2Joint.prototype,"GetAnchorA",box2d.b2Joint.prototype.GetAnchorA);box2d.b2Joint.prototype.GetAnchorB=function(x){return x.SetZero()};goog.exportProperty(box2d.b2Joint.prototype,"GetAnchorB",box2d.b2Joint.prototype.GetAnchorB);box2d.b2Joint.prototype.GetReactionForce=function(x,V){return V.SetZero()};goog.exportProperty(box2d.b2Joint.prototype,"GetReactionForce",box2d.b2Joint.prototype.GetReactionForce);box2d.b2Joint.prototype.GetReactionTorque=function(x){return 0};goog.exportProperty(box2d.b2Joint.prototype,"GetReactionTorque",box2d.b2Joint.prototype.GetReactionTorque);box2d.b2Joint.prototype.InitVelocityConstraints=function(x){};goog.exportProperty(box2d.b2Joint.prototype,"InitVelocityConstraints",box2d.b2Joint.prototype.InitVelocityConstraints);box2d.b2Joint.prototype.SolveVelocityConstraints=function(x){};goog.exportProperty(box2d.b2Joint.prototype,"SolveVelocityConstraints",box2d.b2Joint.prototype.SolveVelocityConstraints);box2d.b2Joint.prototype.SolvePositionConstraints=function(x){return!1};goog.exportProperty(box2d.b2Joint.prototype,"SolvePositionConstraints",box2d.b2Joint.prototype.SolvePositionConstraints);box2d.b2Joint.prototype.GetType=function(){return this.m_type};goog.exportProperty(box2d.b2Joint.prototype,"GetType",box2d.b2Joint.prototype.GetType);box2d.b2Joint.prototype.GetBodyA=function(){return this.m_bodyA};goog.exportProperty(box2d.b2Joint.prototype,"GetBodyA",box2d.b2Joint.prototype.GetBodyA);box2d.b2Joint.prototype.GetBodyB=function(){return this.m_bodyB};goog.exportProperty(box2d.b2Joint.prototype,"GetBodyB",box2d.b2Joint.prototype.GetBodyB);box2d.b2Joint.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2Joint.prototype,"GetNext",box2d.b2Joint.prototype.GetNext);box2d.b2Joint.prototype.GetUserData=function(){return this.m_userData};goog.exportProperty(box2d.b2Joint.prototype,"GetUserData",box2d.b2Joint.prototype.GetUserData);box2d.b2Joint.prototype.SetUserData=function(x){this.m_userData=x};goog.exportProperty(box2d.b2Joint.prototype,"SetUserData",box2d.b2Joint.prototype.SetUserData);box2d.b2Joint.prototype.GetCollideConnected=function(){return this.m_collideConnected};goog.exportProperty(box2d.b2Joint.prototype,"GetCollideConnected",box2d.b2Joint.prototype.GetCollideConnected);box2d.b2Joint.prototype.Dump=function(){box2d.DEBUG&&box2d.b2Log(`// Dump is not supported for this joint type.
`)};goog.exportProperty(box2d.b2Joint.prototype,"Dump",box2d.b2Joint.prototype.Dump);box2d.b2Joint.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()};goog.exportProperty(box2d.b2Joint.prototype,"IsActive",box2d.b2Joint.prototype.IsActive);box2d.b2Joint.prototype.ShiftOrigin=function(x){};goog.exportProperty(box2d.b2Joint.prototype,"ShiftOrigin",box2d.b2Joint.prototype.ShiftOrigin);box2d.b2AreaJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_areaJoint),this.bodies=[]};goog.inherits(box2d.b2AreaJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2AreaJointDef",box2d.b2AreaJointDef);box2d.b2AreaJointDef.prototype.world=null;goog.exportProperty(box2d.b2AreaJointDef.prototype,"world",box2d.b2AreaJointDef.prototype.world);box2d.b2AreaJointDef.prototype.bodies=null;goog.exportProperty(box2d.b2AreaJointDef.prototype,"bodies",box2d.b2AreaJointDef.prototype.bodies);box2d.b2AreaJointDef.prototype.frequencyHz=0;goog.exportProperty(box2d.b2AreaJointDef.prototype,"frequencyHz",box2d.b2AreaJointDef.prototype.frequencyHz);box2d.b2AreaJointDef.prototype.dampingRatio=0;goog.exportProperty(box2d.b2AreaJointDef.prototype,"dampingRatio",box2d.b2AreaJointDef.prototype.dampingRatio);box2d.b2AreaJointDef.prototype.AddBody=function(x){this.bodies.push(x),this.bodies.length===1?this.bodyA=x:this.bodies.length===2&&(this.bodyB=x)};goog.exportProperty(box2d.b2AreaJointDef.prototype,"AddBody",box2d.b2AreaJointDef.prototype.AddBody);box2d.b2AreaJoint=function(x){box2d.b2Joint.call(this,x),box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=x.bodies.length,"You cannot create an area joint with less than three bodies."),this.m_bodies=x.bodies,this.m_frequencyHz=x.frequencyHz,this.m_dampingRatio=x.dampingRatio,this.m_targetLengths=box2d.b2MakeNumberArray(x.bodies.length),this.m_normals=box2d.b2Vec2.MakeArray(x.bodies.length),this.m_joints=Array(x.bodies.length),this.m_deltas=box2d.b2Vec2.MakeArray(x.bodies.length),this.m_delta=new box2d.b2Vec2;var V=new box2d.b2DistanceJointDef;V.frequencyHz=x.frequencyHz,V.dampingRatio=x.dampingRatio;for(var o=this.m_targetArea=0,_o=this.m_bodies.length;o<_o;++o){var _r=this.m_bodies[o],l=this.m_bodies[(o+1)%_o],e_=_r.GetWorldCenter(),o_=l.GetWorldCenter();this.m_targetLengths[o]=box2d.b2Distance(e_,o_),this.m_targetArea+=box2d.b2Cross_V2_V2(e_,o_),V.Initialize(_r,l,e_,o_),this.m_joints[o]=x.world.CreateJoint(V)}this.m_targetArea*=.5};goog.inherits(box2d.b2AreaJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2AreaJoint",box2d.b2AreaJoint);box2d.b2AreaJoint.prototype.m_bodies=null;goog.exportProperty(box2d.b2AreaJoint.prototype,"m_bodies",box2d.b2AreaJoint.prototype.m_bodies);box2d.b2AreaJoint.prototype.m_frequencyHz=0;goog.exportProperty(box2d.b2AreaJoint.prototype,"m_frequencyHz",box2d.b2AreaJoint.prototype.m_frequencyHz);box2d.b2AreaJoint.prototype.m_dampingRatio=0;goog.exportProperty(box2d.b2AreaJoint.prototype,"m_dampingRatio",box2d.b2AreaJoint.prototype.m_dampingRatio);box2d.b2AreaJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2AreaJoint.prototype,"m_impulse",box2d.b2AreaJoint.prototype.m_impulse);box2d.b2AreaJoint.prototype.m_targetLengths=null;box2d.b2AreaJoint.prototype.m_targetArea=0;box2d.b2AreaJoint.prototype.m_normals=null;box2d.b2AreaJoint.prototype.m_joints=null;box2d.b2AreaJoint.prototype.m_deltas=null;box2d.b2AreaJoint.prototype.m_delta=null;box2d.b2AreaJoint.prototype.GetAnchorA=function(x){return x.SetZero()};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetAnchorA",box2d.b2AreaJoint.prototype.GetAnchorA);box2d.b2AreaJoint.prototype.GetAnchorB=function(x){return x.SetZero()};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetAnchorB",box2d.b2AreaJoint.prototype.GetAnchorB);box2d.b2AreaJoint.prototype.GetReactionForce=function(x,V){return V.SetZero()};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetReactionForce",box2d.b2AreaJoint.prototype.GetReactionForce);box2d.b2AreaJoint.prototype.GetReactionTorque=function(x){return 0};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetReactionTorque",box2d.b2AreaJoint.prototype.GetReactionTorque);box2d.b2AreaJoint.prototype.SetFrequency=function(x){this.m_frequencyHz=x;for(var V=0,o=this.m_joints.length;V<o;++V)this.m_joints[V].SetFrequency(x)};goog.exportProperty(box2d.b2AreaJoint.prototype,"SetFrequency",box2d.b2AreaJoint.prototype.SetFrequency);box2d.b2AreaJoint.prototype.GetFrequency=function(){return this.m_frequencyHz};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetFrequency",box2d.b2AreaJoint.prototype.GetFrequency);box2d.b2AreaJoint.prototype.SetDampingRatio=function(x){this.m_dampingRatio=x;for(var V=0,o=this.m_joints.length;V<o;++V)this.m_joints[V].SetDampingRatio(x)};goog.exportProperty(box2d.b2AreaJoint.prototype,"SetDampingRatio",box2d.b2AreaJoint.prototype.SetDampingRatio);box2d.b2AreaJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetDampingRatio",box2d.b2AreaJoint.prototype.GetDampingRatio);box2d.b2AreaJoint.prototype.Dump=function(){box2d.DEBUG&&box2d.b2Log(`Area joint dumping is not supported.
`)};goog.exportProperty(box2d.b2AreaJoint.prototype,"Dump",box2d.b2AreaJoint.prototype.Dump);box2d.b2AreaJoint.prototype.InitVelocityConstraints=function(x){for(var V=0,o=this.m_bodies.length;V<o;++V){var _o=this.m_deltas[V];box2d.b2Sub_V2_V2(x.positions[this.m_bodies[(V+1)%o].m_islandIndex].c,x.positions[this.m_bodies[(V+o-1)%o].m_islandIndex].c,_o)}if(x.step.warmStarting)for(this.m_impulse*=x.step.dtRatio,V=0,o=this.m_bodies.length;V<o;++V){var _r=this.m_bodies[V],l=x.velocities[_r.m_islandIndex].v,_o=this.m_deltas[V];l.x+=_r.m_invMass*_o.y*.5*this.m_impulse,l.y+=_r.m_invMass*-_o.x*.5*this.m_impulse}else this.m_impulse=0};goog.exportProperty(box2d.b2AreaJoint.prototype,"InitVelocityConstraints",box2d.b2AreaJoint.prototype.InitVelocityConstraints);box2d.b2AreaJoint.prototype.SolveVelocityConstraints=function(x){for(var e_=0,o_=0,V=0,o=this.m_bodies.length;V<o;++V)var _o=this.m_bodies[V],_r=x.velocities[_o.m_islandIndex].v,l=this.m_deltas[V],e_=e_+l.LengthSquared()/_o.GetMass(),o_=o_+box2d.b2Cross_V2_V2(_r,l);for(e_=-2*o_/e_,this.m_impulse+=e_,V=0,o=this.m_bodies.length;V<o;++V)_o=this.m_bodies[V],_r=x.velocities[_o.m_islandIndex].v,l=this.m_deltas[V],_r.x+=_o.m_invMass*l.y*.5*e_,_r.y+=_o.m_invMass*-l.x*.5*e_};goog.exportProperty(box2d.b2AreaJoint.prototype,"SolveVelocityConstraints",box2d.b2AreaJoint.prototype.SolveVelocityConstraints);box2d.b2AreaJoint.prototype.SolvePositionConstraints=function(x){for(var V=0,o=0,_o=0,_r=this.m_bodies.length;_o<_r;++_o){var l=this.m_bodies[_o],l=x.positions[l.m_islandIndex].c,e_=x.positions[this.m_bodies[(_o+1)%_r].m_islandIndex].c,o_=box2d.b2Sub_V2_V2(e_,l,this.m_delta),i_=o_.Length();i_<box2d.b2_epsilon&&(i_=1),this.m_normals[_o].x=o_.y/i_,this.m_normals[_o].y=-o_.x/i_,V+=i_,o+=box2d.b2Cross_V2_V2(l,e_)}for(V=.5*(this.m_targetArea-.5*o)/V,o=!0,_o=0,_r=this.m_bodies.length;_o<_r;++_o)l=this.m_bodies[_o],l=x.positions[l.m_islandIndex].c,o_=box2d.b2Add_V2_V2(this.m_normals[_o],this.m_normals[(_o+1)%_r],this.m_delta),o_.SelfMul(V),e_=o_.LengthSquared(),e_>box2d.b2Sq(box2d.b2_maxLinearCorrection)&&o_.SelfMul(box2d.b2_maxLinearCorrection/box2d.b2Sqrt(e_)),e_>box2d.b2Sq(box2d.b2_linearSlop)&&(o=!1),l.x+=o_.x,l.y+=o_.y;return o};goog.exportProperty(box2d.b2AreaJoint.prototype,"SolvePositionConstraints",box2d.b2AreaJoint.prototype.SolvePositionConstraints);box2d.b2DistanceJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_distanceJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2};goog.inherits(box2d.b2DistanceJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2DistanceJointDef",box2d.b2DistanceJointDef);box2d.b2DistanceJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2DistanceJointDef.prototype,"localAnchorA",box2d.b2DistanceJointDef.prototype.localAnchorA);box2d.b2DistanceJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2DistanceJointDef.prototype,"localAnchorB",box2d.b2DistanceJointDef.prototype.localAnchorB);box2d.b2DistanceJointDef.prototype.length=1;goog.exportProperty(box2d.b2DistanceJointDef.prototype,"length",box2d.b2DistanceJointDef.prototype.length);box2d.b2DistanceJointDef.prototype.frequencyHz=0;goog.exportProperty(box2d.b2DistanceJointDef.prototype,"frequencyHz",box2d.b2DistanceJointDef.prototype.frequencyHz);box2d.b2DistanceJointDef.prototype.dampingRatio=0;goog.exportProperty(box2d.b2DistanceJointDef.prototype,"dampingRatio",box2d.b2DistanceJointDef.prototype.dampingRatio);box2d.b2DistanceJointDef.prototype.Initialize=function(x,V,o,_o){this.bodyA=x,this.bodyB=V,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(_o,this.localAnchorB),this.length=box2d.b2Distance(o,_o),this.dampingRatio=this.frequencyHz=0};goog.exportProperty(box2d.b2DistanceJointDef.prototype,"Initialize",box2d.b2DistanceJointDef.prototype.Initialize);box2d.b2DistanceJoint=function(x){box2d.b2Joint.call(this,x),this.m_u=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_frequencyHz=x.frequencyHz,this.m_dampingRatio=x.dampingRatio,this.m_localAnchorA=x.localAnchorA.Clone(),this.m_localAnchorB=x.localAnchorB.Clone(),this.m_length=x.length};goog.inherits(box2d.b2DistanceJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2DistanceJoint",box2d.b2DistanceJoint);box2d.b2DistanceJoint.prototype.m_frequencyHz=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_frequencyHz",box2d.b2DistanceJoint.prototype.m_frequencyHz);box2d.b2DistanceJoint.prototype.m_dampingRatio=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_dampingRatio",box2d.b2DistanceJoint.prototype.m_dampingRatio);box2d.b2DistanceJoint.prototype.m_bias=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_bias",box2d.b2DistanceJoint.prototype.m_bias);box2d.b2DistanceJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_localAnchorA",box2d.b2DistanceJoint.prototype.m_localAnchorA);box2d.b2DistanceJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_localAnchorB",box2d.b2DistanceJoint.prototype.m_localAnchorB);box2d.b2DistanceJoint.prototype.m_gamma=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_gamma",box2d.b2DistanceJoint.prototype.m_gamma);box2d.b2DistanceJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_impulse",box2d.b2DistanceJoint.prototype.m_impulse);box2d.b2DistanceJoint.prototype.m_length=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_length",box2d.b2DistanceJoint.prototype.m_length);box2d.b2DistanceJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_indexA",box2d.b2DistanceJoint.prototype.m_indexA);box2d.b2DistanceJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_indexB",box2d.b2DistanceJoint.prototype.m_indexB);box2d.b2DistanceJoint.prototype.m_u=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_u",box2d.b2DistanceJoint.prototype.m_u);box2d.b2DistanceJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_rA",box2d.b2DistanceJoint.prototype.m_rA);box2d.b2DistanceJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_rB",box2d.b2DistanceJoint.prototype.m_rB);box2d.b2DistanceJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_localCenterA",box2d.b2DistanceJoint.prototype.m_localCenterA);box2d.b2DistanceJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_localCenterB",box2d.b2DistanceJoint.prototype.m_localCenterB);box2d.b2DistanceJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_invMassA",box2d.b2DistanceJoint.prototype.m_invMassA);box2d.b2DistanceJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_invMassB",box2d.b2DistanceJoint.prototype.m_invMassB);box2d.b2DistanceJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_invIA",box2d.b2DistanceJoint.prototype.m_invIA);box2d.b2DistanceJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_invIB",box2d.b2DistanceJoint.prototype.m_invIB);box2d.b2DistanceJoint.prototype.m_mass=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_mass",box2d.b2DistanceJoint.prototype.m_mass);box2d.b2DistanceJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_qA",box2d.b2DistanceJoint.prototype.m_qA);box2d.b2DistanceJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_qB",box2d.b2DistanceJoint.prototype.m_qB);box2d.b2DistanceJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_lalcA",box2d.b2DistanceJoint.prototype.m_lalcA);box2d.b2DistanceJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_lalcB",box2d.b2DistanceJoint.prototype.m_lalcB);box2d.b2DistanceJoint.prototype.GetAnchorA=function(x){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,x)};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetAnchorA",box2d.b2DistanceJoint.prototype.GetAnchorA);box2d.b2DistanceJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,x)};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetAnchorB",box2d.b2DistanceJoint.prototype.GetAnchorB);box2d.b2DistanceJoint.prototype.GetReactionForce=function(x,V){return V.Set(x*this.m_impulse*this.m_u.x,x*this.m_impulse*this.m_u.y)};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetReactionForce",box2d.b2DistanceJoint.prototype.GetReactionForce);box2d.b2DistanceJoint.prototype.GetReactionTorque=function(x){return 0};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetReactionTorque",box2d.b2DistanceJoint.prototype.GetReactionTorque);box2d.b2DistanceJoint.prototype.GetLocalAnchorA=function(x){return x.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetLocalAnchorA",box2d.b2DistanceJoint.prototype.GetLocalAnchorA);box2d.b2DistanceJoint.prototype.GetLocalAnchorB=function(x){return x.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetLocalAnchorB",box2d.b2DistanceJoint.prototype.GetLocalAnchorB);box2d.b2DistanceJoint.prototype.SetLength=function(x){this.m_length=x};goog.exportProperty(box2d.b2DistanceJoint.prototype,"SetLength",box2d.b2DistanceJoint.prototype.SetLength);box2d.b2DistanceJoint.prototype.GetLength=function(){return this.m_length};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetLength",box2d.b2DistanceJoint.prototype.GetLength);box2d.b2DistanceJoint.prototype.SetFrequency=function(x){this.m_frequencyHz=x};goog.exportProperty(box2d.b2DistanceJoint.prototype,"SetFrequency",box2d.b2DistanceJoint.prototype.SetFrequency);box2d.b2DistanceJoint.prototype.GetFrequency=function(){return this.m_frequencyHz};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetFrequency",box2d.b2DistanceJoint.prototype.GetFrequency);box2d.b2DistanceJoint.prototype.SetDampingRatio=function(x){this.m_dampingRatio=x};goog.exportProperty(box2d.b2DistanceJoint.prototype,"SetDampingRatio",box2d.b2DistanceJoint.prototype.SetDampingRatio);box2d.b2DistanceJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetDampingRatio",box2d.b2DistanceJoint.prototype.GetDampingRatio);box2d.b2DistanceJoint.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_bodyA.m_islandIndex,V=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2DistanceJointDef*/ var jd = new box2d.b2DistanceJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,x),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,V),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.length = %.15f;
`,this.m_length),box2d.b2Log(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),box2d.b2Log(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2DistanceJoint.prototype,"Dump",box2d.b2DistanceJoint.prototype.Dump);box2d.b2DistanceJoint.prototype.InitVelocityConstraints=function(x){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=x.positions[this.m_indexA].c,o=x.velocities[this.m_indexA].v,_o=x.velocities[this.m_indexA].w,_r=x.positions[this.m_indexB].c,i_=x.positions[this.m_indexB].a,l=x.velocities[this.m_indexB].v,e_=x.velocities[this.m_indexB].w,o_=this.m_qA.SetAngle(x.positions[this.m_indexA].a),i_=this.m_qB.SetAngle(i_);if(box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(i_,this.m_lalcB,this.m_rB),this.m_u.x=_r.x+this.m_rB.x-V.x-this.m_rA.x,this.m_u.y=_r.y+this.m_rB.y-V.y-this.m_rA.y,_r=this.m_u.Length(),_r>box2d.b2_linearSlop?this.m_u.SelfMul(1/_r):this.m_u.SetZero(),V=box2d.b2Cross_V2_V2(this.m_rA,this.m_u),o_=box2d.b2Cross_V2_V2(this.m_rB,this.m_u),V=this.m_invMassA+this.m_invIA*V*V+this.m_invMassB+this.m_invIB*o_*o_,this.m_mass=V!==0?1/V:0,0<this.m_frequencyHz){var _r=_r-this.m_length,o_=2*box2d.b2_pi*this.m_frequencyHz,i_=this.m_mass*o_*o_,_e=x.step.dt;this.m_gamma=_e*(2*this.m_mass*this.m_dampingRatio*o_+_e*i_),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=_r*_e*i_*this.m_gamma,V+=this.m_gamma,this.m_mass=V!==0?1/V:0}else this.m_bias=this.m_gamma=0;x.step.warmStarting?(this.m_impulse*=x.step.dtRatio,V=box2d.b2Mul_S_V2(this.m_impulse,this.m_u,box2d.b2DistanceJoint.prototype.InitVelocityConstraints.s_P),o.SelfMulSub(this.m_invMassA,V),_o-=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,V),l.SelfMulAdd(this.m_invMassB,V),e_+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,V)):this.m_impulse=0,x.velocities[this.m_indexA].w=_o,x.velocities[this.m_indexB].w=e_};goog.exportProperty(box2d.b2DistanceJoint.prototype,"InitVelocityConstraints",box2d.b2DistanceJoint.prototype.InitVelocityConstraints);box2d.b2DistanceJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2DistanceJoint.prototype.SolveVelocityConstraints=function(x){var V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,e_=box2d.b2AddCross_V2_S_V2(V,o,this.m_rA,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpA),l=box2d.b2AddCross_V2_S_V2(_o,_r,this.m_rB,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpB),e_=box2d.b2Dot_V2_V2(this.m_u,box2d.b2Sub_V2_V2(l,e_,box2d.b2Vec2.s_t0)),e_=-this.m_mass*(e_+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=e_,e_=box2d.b2Mul_S_V2(e_,this.m_u,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_P),V.SelfMulSub(this.m_invMassA,e_),o-=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,e_),_o.SelfMulAdd(this.m_invMassB,e_),_r+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,e_),x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r};goog.exportProperty(box2d.b2DistanceJoint.prototype,"SolveVelocityConstraints",box2d.b2DistanceJoint.prototype.SolveVelocityConstraints);box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d.b2Vec2;box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d.b2Vec2;box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2DistanceJoint.prototype.SolvePositionConstraints=function(x){if(0<this.m_frequencyHz)return!0;var V=x.positions[this.m_indexA].c,o=x.positions[this.m_indexA].a,_o=x.positions[this.m_indexB].c,_r=x.positions[this.m_indexB].a;this.m_qA.SetAngle(o),this.m_qB.SetAngle(_r);var l=box2d.b2Mul_R_V2(this.m_qA,this.m_lalcA,this.m_rA),e_=box2d.b2Mul_R_V2(this.m_qB,this.m_lalcB,this.m_rB),i_=this.m_u;i_.x=_o.x+e_.x-V.x-l.x,i_.y=_o.y+e_.y-V.y-l.y;var o_=this.m_u.Normalize()-this.m_length,o_=box2d.b2Clamp(o_,-box2d.b2_maxLinearCorrection,box2d.b2_maxLinearCorrection),i_=box2d.b2Mul_S_V2(-this.m_mass*o_,i_,box2d.b2DistanceJoint.prototype.SolvePositionConstraints.s_P);return V.SelfMulSub(this.m_invMassA,i_),o-=this.m_invIA*box2d.b2Cross_V2_V2(l,i_),_o.SelfMulAdd(this.m_invMassB,i_),_r+=this.m_invIB*box2d.b2Cross_V2_V2(e_,i_),x.positions[this.m_indexA].a=o,x.positions[this.m_indexB].a=_r,box2d.b2Abs(o_)<box2d.b2_linearSlop};goog.exportProperty(box2d.b2DistanceJoint.prototype,"SolvePositionConstraints",box2d.b2DistanceJoint.prototype.SolvePositionConstraints);box2d.b2DistanceJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2FrictionJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_frictionJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2};goog.inherits(box2d.b2FrictionJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2FrictionJointDef",box2d.b2FrictionJointDef);box2d.b2FrictionJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2FrictionJointDef.prototype,"localAnchorA",box2d.b2FrictionJointDef.prototype.localAnchorA);box2d.b2FrictionJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2FrictionJointDef.prototype,"localAnchorB",box2d.b2FrictionJointDef.prototype.localAnchorB);box2d.b2FrictionJointDef.prototype.maxForce=0;goog.exportProperty(box2d.b2FrictionJointDef.prototype,"maxForce",box2d.b2FrictionJointDef.prototype.maxForce);box2d.b2FrictionJointDef.prototype.maxTorque=0;goog.exportProperty(box2d.b2FrictionJointDef.prototype,"maxTorque",box2d.b2FrictionJointDef.prototype.maxTorque);box2d.b2FrictionJointDef.prototype.Initialize=function(x,V,o){this.bodyA=x,this.bodyB=V,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB)};goog.exportProperty(box2d.b2FrictionJointDef.prototype,"Initialize",box2d.b2FrictionJointDef.prototype.Initialize);box2d.b2FrictionJoint=function(x){box2d.b2Joint.call(this,x),this.m_localAnchorA=x.localAnchorA.Clone(),this.m_localAnchorB=x.localAnchorB.Clone(),this.m_linearImpulse=new box2d.b2Vec2().SetZero(),this.m_maxForce=x.maxForce,this.m_maxTorque=x.maxTorque,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_linearMass=new box2d.b2Mat22().SetZero(),this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat22};goog.inherits(box2d.b2FrictionJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2FrictionJoint",box2d.b2FrictionJoint);box2d.b2FrictionJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_localAnchorA",box2d.b2FrictionJoint.prototype.m_localAnchorA);box2d.b2FrictionJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_localAnchorB",box2d.b2FrictionJoint.prototype.m_localAnchorB);box2d.b2FrictionJoint.prototype.m_linearImpulse=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_linearImpulse",box2d.b2FrictionJoint.prototype.m_linearImpulse);box2d.b2FrictionJoint.prototype.m_angularImpulse=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_angularImpulse",box2d.b2FrictionJoint.prototype.m_angularImpulse);box2d.b2FrictionJoint.prototype.m_maxForce=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_maxForce",box2d.b2FrictionJoint.prototype.m_maxForce);box2d.b2FrictionJoint.prototype.m_maxTorque=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_maxTorque",box2d.b2FrictionJoint.prototype.m_maxTorque);box2d.b2FrictionJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_indexA",box2d.b2FrictionJoint.prototype.m_indexA);box2d.b2FrictionJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_indexB",box2d.b2FrictionJoint.prototype.m_indexB);box2d.b2FrictionJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_rA",box2d.b2FrictionJoint.prototype.m_rA);box2d.b2FrictionJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_rB",box2d.b2FrictionJoint.prototype.m_rB);box2d.b2FrictionJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_localCenterA",box2d.b2FrictionJoint.prototype.m_localCenterA);box2d.b2FrictionJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_localCenterB",box2d.b2FrictionJoint.prototype.m_localCenterB);box2d.b2FrictionJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_invMassA",box2d.b2FrictionJoint.prototype.m_invMassA);box2d.b2FrictionJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_invMassB",box2d.b2FrictionJoint.prototype.m_invMassB);box2d.b2FrictionJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_invIA",box2d.b2FrictionJoint.prototype.m_invIA);box2d.b2FrictionJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_invIB",box2d.b2FrictionJoint.prototype.m_invIB);box2d.b2FrictionJoint.prototype.m_linearMass=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_linearMass",box2d.b2FrictionJoint.prototype.m_linearMass);box2d.b2FrictionJoint.prototype.m_angularMass=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_angularMass",box2d.b2FrictionJoint.prototype.m_angularMass);box2d.b2FrictionJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_qA",box2d.b2FrictionJoint.prototype.m_qA);box2d.b2FrictionJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_qB",box2d.b2FrictionJoint.prototype.m_qB);box2d.b2FrictionJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_lalcA",box2d.b2FrictionJoint.prototype.m_lalcA);box2d.b2FrictionJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_lalcB",box2d.b2FrictionJoint.prototype.m_lalcB);box2d.b2FrictionJoint.prototype.m_K=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_K",box2d.b2FrictionJoint.prototype.m_K);box2d.b2FrictionJoint.prototype.InitVelocityConstraints=function(x){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,o_=x.positions[this.m_indexB].a,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,l=this.m_qA.SetAngle(x.positions[this.m_indexA].a),o_=this.m_qB.SetAngle(o_);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),l=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var e_=box2d.b2Mul_R_V2(o_,this.m_lalcB,this.m_rB),o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB,ws=this.m_K;ws.ex.x=o_+i_+_e*l.y*l.y+c_*e_.y*e_.y,ws.ex.y=-_e*l.x*l.y-c_*e_.x*e_.y,ws.ey.x=ws.ex.y,ws.ey.y=o_+i_+_e*l.x*l.x+c_*e_.x*e_.x,ws.GetInverse(this.m_linearMass),this.m_angularMass=_e+c_,0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass),x.step.warmStarting?(this.m_linearImpulse.SelfMul(x.step.dtRatio),this.m_angularImpulse*=x.step.dtRatio,l=this.m_linearImpulse,V.SelfMulSub(o_,l),o-=_e*(box2d.b2Cross_V2_V2(this.m_rA,l)+this.m_angularImpulse),_o.SelfMulAdd(i_,l),_r+=c_*(box2d.b2Cross_V2_V2(this.m_rB,l)+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0),x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r};goog.exportProperty(box2d.b2FrictionJoint.prototype,"InitVelocityConstraints",box2d.b2FrictionJoint.prototype.InitVelocityConstraints);box2d.b2FrictionJoint.prototype.SolveVelocityConstraints=function(x){var V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,l=this.m_invMassA,e_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB,_e=x.step.dt,c_,ws=-this.m_angularMass*(_r-o),h_=this.m_angularImpulse;c_=_e*this.m_maxTorque,this.m_angularImpulse=box2d.b2Clamp(this.m_angularImpulse+ws,-c_,c_),ws=this.m_angularImpulse-h_,o-=o_*ws,_r+=i_*ws,c_=box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(_o,_r,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(V,o,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_Cdot),ws=box2d.b2Mul_M22_V2(this.m_linearMass,c_,box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_impulseV).SelfNeg(),h_=box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_oldImpulseV.Copy(this.m_linearImpulse),this.m_linearImpulse.SelfAdd(ws),c_=_e*this.m_maxForce,this.m_linearImpulse.LengthSquared()>c_*c_&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(c_)),box2d.b2Sub_V2_V2(this.m_linearImpulse,h_,ws),V.SelfMulSub(l,ws),o-=o_*box2d.b2Cross_V2_V2(this.m_rA,ws),_o.SelfMulAdd(e_,ws),_r+=i_*box2d.b2Cross_V2_V2(this.m_rB,ws),x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r};goog.exportProperty(box2d.b2FrictionJoint.prototype,"SolveVelocityConstraints",box2d.b2FrictionJoint.prototype.SolveVelocityConstraints);box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2;box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_impulseV=new box2d.b2Vec2;box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_oldImpulseV=new box2d.b2Vec2;box2d.b2FrictionJoint.prototype.SolvePositionConstraints=function(x){return!0};goog.exportProperty(box2d.b2FrictionJoint.prototype,"SolvePositionConstraints",box2d.b2FrictionJoint.prototype.SolvePositionConstraints);box2d.b2FrictionJoint.prototype.GetAnchorA=function(x){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,x)};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetAnchorA",box2d.b2FrictionJoint.prototype.GetAnchorA);box2d.b2FrictionJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,x)};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetAnchorB",box2d.b2FrictionJoint.prototype.GetAnchorB);box2d.b2FrictionJoint.prototype.GetReactionForce=function(x,V){return V.Set(x*this.m_linearImpulse.x,x*this.m_linearImpulse.y)};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetReactionForce",box2d.b2FrictionJoint.prototype.GetReactionForce);box2d.b2FrictionJoint.prototype.GetReactionTorque=function(x){return x*this.m_angularImpulse};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetReactionTorque",box2d.b2FrictionJoint.prototype.GetReactionTorque);box2d.b2FrictionJoint.prototype.GetLocalAnchorA=function(x){return x.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetLocalAnchorA",box2d.b2FrictionJoint.prototype.GetLocalAnchorA);box2d.b2FrictionJoint.prototype.GetLocalAnchorB=function(x){return x.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetLocalAnchorB",box2d.b2FrictionJoint.prototype.GetLocalAnchorB);box2d.b2FrictionJoint.prototype.SetMaxForce=function(x){this.m_maxForce=x};goog.exportProperty(box2d.b2FrictionJoint.prototype,"SetMaxForce",box2d.b2FrictionJoint.prototype.SetMaxForce);box2d.b2FrictionJoint.prototype.GetMaxForce=function(){return this.m_maxForce};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetMaxForce",box2d.b2FrictionJoint.prototype.GetMaxForce);box2d.b2FrictionJoint.prototype.SetMaxTorque=function(x){this.m_maxTorque=x};goog.exportProperty(box2d.b2FrictionJoint.prototype,"SetMaxTorque",box2d.b2FrictionJoint.prototype.SetMaxTorque);box2d.b2FrictionJoint.prototype.GetMaxTorque=function(){return this.m_maxTorque};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetMaxTorque",box2d.b2FrictionJoint.prototype.GetMaxTorque);box2d.b2FrictionJoint.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_bodyA.m_islandIndex,V=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2FrictionJointDef*/ var jd = new box2d.b2FrictionJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,x),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,V),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.maxForce = %.15f;
`,this.m_maxForce),box2d.b2Log(`  jd.maxTorque = %.15f;
`,this.m_maxTorque),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2FrictionJoint.prototype,"Dump",box2d.b2FrictionJoint.prototype.Dump);box2d.b2JointFactory={};box2d.b2JointFactory.Create=function(x,V){var o=null;switch(x.type){case box2d.b2JointType.e_distanceJoint:o=new box2d.b2DistanceJoint(x instanceof box2d.b2DistanceJointDef?x:null);break;case box2d.b2JointType.e_mouseJoint:o=new box2d.b2MouseJoint(x instanceof box2d.b2MouseJointDef?x:null);break;case box2d.b2JointType.e_prismaticJoint:o=new box2d.b2PrismaticJoint(x instanceof box2d.b2PrismaticJointDef?x:null);break;case box2d.b2JointType.e_revoluteJoint:o=new box2d.b2RevoluteJoint(x instanceof box2d.b2RevoluteJointDef?x:null);break;case box2d.b2JointType.e_pulleyJoint:o=new box2d.b2PulleyJoint(x instanceof box2d.b2PulleyJointDef?x:null);break;case box2d.b2JointType.e_gearJoint:o=new box2d.b2GearJoint(x instanceof box2d.b2GearJointDef?x:null);break;case box2d.b2JointType.e_wheelJoint:o=new box2d.b2WheelJoint(x instanceof box2d.b2WheelJointDef?x:null);break;case box2d.b2JointType.e_weldJoint:o=new box2d.b2WeldJoint(x instanceof box2d.b2WeldJointDef?x:null);break;case box2d.b2JointType.e_frictionJoint:o=new box2d.b2FrictionJoint(x instanceof box2d.b2FrictionJointDef?x:null);break;case box2d.b2JointType.e_ropeJoint:o=new box2d.b2RopeJoint(x instanceof box2d.b2RopeJointDef?x:null);break;case box2d.b2JointType.e_motorJoint:o=new box2d.b2MotorJoint(x instanceof box2d.b2MotorJointDef?x:null);break;case box2d.b2JointType.e_areaJoint:o=new box2d.b2AreaJoint(x instanceof box2d.b2AreaJointDef?x:null);break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}return o};goog.exportSymbol("box2d.b2JointFactory.Create",box2d.b2JointFactory.Create);box2d.b2JointFactory.Destroy=function(x,V){};goog.exportSymbol("box2d.b2JointFactory.Destroy",box2d.b2JointFactory.Destroy);box2d.b2World=function(x){this.m_flag_clearForces=!0,this.m_contactManager=new box2d.b2ContactManager,this.m_gravity=x.Clone(),this.m_out_gravity=new box2d.b2Vec2,this.m_allowSleep=!0,this.m_debugDraw=this.m_destructionListener=null,this.m_continuousPhysics=this.m_warmStarting=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new box2d.b2Profile,this.m_island=new box2d.b2Island,this.s_stack=[]};goog.exportSymbol("box2d.b2World",box2d.b2World);box2d.b2World.prototype.m_flag_newFixture=!1;goog.exportProperty(box2d.b2World.prototype,"m_flag_newFixture",box2d.b2World.prototype.m_flag_newFixture);box2d.b2World.prototype.m_flag_locked=!1;goog.exportProperty(box2d.b2World.prototype,"m_flag_locked",box2d.b2World.prototype.m_flag_locked);box2d.b2World.prototype.m_flag_clearForces=!1;goog.exportProperty(box2d.b2World.prototype,"m_flag_clearForces",box2d.b2World.prototype.m_flag_clearForces);box2d.b2World.prototype.m_contactManager=null;goog.exportProperty(box2d.b2World.prototype,"m_contactManager",box2d.b2World.prototype.m_contactManager);box2d.b2World.prototype.m_bodyList=null;goog.exportProperty(box2d.b2World.prototype,"m_bodyList",box2d.b2World.prototype.m_bodyList);box2d.b2World.prototype.m_jointList=null;goog.exportProperty(box2d.b2World.prototype,"m_jointList",box2d.b2World.prototype.m_jointList);box2d.b2World.prototype.m_particleSystemList=null;goog.exportProperty(box2d.b2World.prototype,"m_particleSystemList",box2d.b2World.prototype.m_particleSystemList);box2d.b2World.prototype.m_bodyCount=0;goog.exportProperty(box2d.b2World.prototype,"m_bodyCount",box2d.b2World.prototype.m_bodyCount);box2d.b2World.prototype.m_jointCount=0;goog.exportProperty(box2d.b2World.prototype,"m_jointCount",box2d.b2World.prototype.m_jointCount);box2d.b2World.prototype.m_gravity=null;goog.exportProperty(box2d.b2World.prototype,"m_gravity",box2d.b2World.prototype.m_gravity);box2d.b2World.prototype.m_out_gravity=null;goog.exportProperty(box2d.b2World.prototype,"m_out_gravity",box2d.b2World.prototype.m_out_gravity);box2d.b2World.prototype.m_allowSleep=!0;goog.exportProperty(box2d.b2World.prototype,"m_allowSleep",box2d.b2World.prototype.m_allowSleep);box2d.b2World.prototype.m_destructionListener=null;goog.exportProperty(box2d.b2World.prototype,"m_destructionListener",box2d.b2World.prototype.m_destructionListener);box2d.b2World.prototype.m_debugDraw=null;goog.exportProperty(box2d.b2World.prototype,"m_debugDraw",box2d.b2World.prototype.m_debugDraw);box2d.b2World.prototype.m_inv_dt0=0;goog.exportProperty(box2d.b2World.prototype,"m_inv_dt0",box2d.b2World.prototype.m_inv_dt0);box2d.b2World.prototype.m_warmStarting=!0;goog.exportProperty(box2d.b2World.prototype,"m_warmStarting",box2d.b2World.prototype.m_warmStarting);box2d.b2World.prototype.m_continuousPhysics=!0;goog.exportProperty(box2d.b2World.prototype,"m_continuousPhysics",box2d.b2World.prototype.m_continuousPhysics);box2d.b2World.prototype.m_subStepping=!1;goog.exportProperty(box2d.b2World.prototype,"m_subStepping",box2d.b2World.prototype.m_subStepping);box2d.b2World.prototype.m_stepComplete=!0;goog.exportProperty(box2d.b2World.prototype,"m_stepComplete",box2d.b2World.prototype.m_stepComplete);box2d.b2World.prototype.m_profile=null;goog.exportProperty(box2d.b2World.prototype,"m_profile",box2d.b2World.prototype.m_profile);box2d.b2World.prototype.m_island=null;goog.exportProperty(box2d.b2World.prototype,"m_island",box2d.b2World.prototype.m_island);box2d.b2World.prototype.s_stack=null;goog.exportProperty(box2d.b2World.prototype,"s_stack",box2d.b2World.prototype.s_stack);box2d.b2World.prototype.m_controllerList=null;goog.exportProperty(box2d.b2World.prototype,"m_controllerList",box2d.b2World.prototype.m_controllerList);box2d.b2World.prototype.m_controllerCount=0;goog.exportProperty(box2d.b2World.prototype,"m_controllerCount",box2d.b2World.prototype.m_controllerCount);box2d.b2World.prototype.SetAllowSleeping=function(x){if(x!==this.m_allowSleep&&(this.m_allowSleep=x,!this.m_allowSleep))for(x=this.m_bodyList;x;x=x.m_next)x.SetAwake(!0)};goog.exportProperty(box2d.b2World.prototype,"SetAllowSleeping",box2d.b2World.prototype.SetAllowSleeping);box2d.b2World.prototype.GetAllowSleeping=function(){return this.m_allowSleep};goog.exportProperty(box2d.b2World.prototype,"GetAllowSleeping",box2d.b2World.prototype.GetAllowSleeping);box2d.b2World.prototype.SetWarmStarting=function(x){this.m_warmStarting=x};goog.exportProperty(box2d.b2World.prototype,"SetWarmStarting",box2d.b2World.prototype.SetWarmStarting);box2d.b2World.prototype.GetWarmStarting=function(){return this.m_warmStarting};goog.exportProperty(box2d.b2World.prototype,"GetWarmStarting",box2d.b2World.prototype.GetWarmStarting);box2d.b2World.prototype.SetContinuousPhysics=function(x){this.m_continuousPhysics=x};goog.exportProperty(box2d.b2World.prototype,"SetContinuousPhysics",box2d.b2World.prototype.SetContinuousPhysics);box2d.b2World.prototype.GetContinuousPhysics=function(){return this.m_continuousPhysics};goog.exportProperty(box2d.b2World.prototype,"GetContinuousPhysics",box2d.b2World.prototype.GetContinuousPhysics);box2d.b2World.prototype.SetSubStepping=function(x){this.m_subStepping=x};goog.exportProperty(box2d.b2World.prototype,"SetSubStepping",box2d.b2World.prototype.SetSubStepping);box2d.b2World.prototype.GetSubStepping=function(){return this.m_subStepping};goog.exportProperty(box2d.b2World.prototype,"GetSubStepping",box2d.b2World.prototype.GetSubStepping);box2d.b2World.prototype.GetBodyList=function(){return this.m_bodyList};goog.exportProperty(box2d.b2World.prototype,"GetBodyList",box2d.b2World.prototype.GetBodyList);box2d.b2World.prototype.GetJointList=function(){return this.m_jointList};goog.exportProperty(box2d.b2World.prototype,"GetJointList",box2d.b2World.prototype.GetJointList);box2d.b2World.prototype.GetParticleSystemList=function(){return this.m_particleSystemList};goog.exportProperty(box2d.b2World.prototype,"GetParticleSystemList",box2d.b2World.prototype.GetParticleSystemList);box2d.b2World.prototype.GetContactList=function(){return this.m_contactManager.m_contactList};goog.exportProperty(box2d.b2World.prototype,"GetContactList",box2d.b2World.prototype.GetContactList);box2d.b2World.prototype.GetBodyCount=function(){return this.m_bodyCount};goog.exportProperty(box2d.b2World.prototype,"GetBodyCount",box2d.b2World.prototype.GetBodyCount);box2d.b2World.prototype.GetJointCount=function(){return this.m_jointCount};goog.exportProperty(box2d.b2World.prototype,"GetJointCount",box2d.b2World.prototype.GetJointCount);box2d.b2World.prototype.GetContactCount=function(){return this.m_contactManager.m_contactCount};goog.exportProperty(box2d.b2World.prototype,"GetContactCount",box2d.b2World.prototype.GetContactCount);box2d.b2World.prototype.SetGravity=function(x,V){if(V=V||!0,(this.m_gravity.x!==x.x||this.m_gravity.y!==x.y)&&(this.m_gravity.Copy(x),V))for(var o=this.m_bodyList;o;o=o.m_next)o.SetAwake(!0)};goog.exportProperty(box2d.b2World.prototype,"SetGravity",box2d.b2World.prototype.SetGravity);box2d.b2World.prototype.GetGravity=function(x){return x=x||this.m_out_gravity,x.Copy(this.m_gravity)};goog.exportProperty(box2d.b2World.prototype,"GetGravity",box2d.b2World.prototype.GetGravity);box2d.b2World.prototype.IsLocked=function(){return this.m_flag_locked};goog.exportProperty(box2d.b2World.prototype,"IsLocked",box2d.b2World.prototype.IsLocked);box2d.b2World.prototype.SetAutoClearForces=function(x){this.m_flag_clearForces=x};goog.exportProperty(box2d.b2World.prototype,"SetAutoClearForces",box2d.b2World.prototype.SetAutoClearForces);box2d.b2World.prototype.GetAutoClearForces=function(){return this.m_flag_clearForces};goog.exportProperty(box2d.b2World.prototype,"GetAutoClearForces",box2d.b2World.prototype.GetAutoClearForces);box2d.b2World.prototype.GetContactManager=function(){return this.m_contactManager};goog.exportProperty(box2d.b2World.prototype,"GetContactManager",box2d.b2World.prototype.GetContactManager);box2d.b2World.prototype.GetProfile=function(){return this.m_profile};goog.exportProperty(box2d.b2World.prototype,"GetProfile",box2d.b2World.prototype.GetProfile);box2d.b2World.prototype.SetDestructionListener=function(x){this.m_destructionListener=x};goog.exportProperty(box2d.b2World.prototype,"SetDestructionListener",box2d.b2World.prototype.SetDestructionListener);box2d.b2World.prototype.SetContactFilter=function(x){this.m_contactManager.m_contactFilter=x};goog.exportProperty(box2d.b2World.prototype,"SetContactFilter",box2d.b2World.prototype.SetContactFilter);box2d.b2World.prototype.SetContactListener=function(x){this.m_contactManager.m_contactListener=x};goog.exportProperty(box2d.b2World.prototype,"SetContactListener",box2d.b2World.prototype.SetContactListener);box2d.b2World.prototype.SetDebugDraw=function(x){this.m_debugDraw=x};goog.exportProperty(box2d.b2World.prototype,"SetDebugDraw",box2d.b2World.prototype.SetDebugDraw);box2d.b2World.prototype.CreateBody=function(x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),this.IsLocked()?null:(x=new box2d.b2Body(x,this),x.m_prev=null,(x.m_next=this.m_bodyList)&&(this.m_bodyList.m_prev=x),this.m_bodyList=x,++this.m_bodyCount,x)};goog.exportProperty(box2d.b2World.prototype,"CreateBody",box2d.b2World.prototype.CreateBody);box2d.b2World.prototype.DestroyBody=function(x){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_bodyCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),!this.IsLocked()){for(var V=x.m_jointList;V;){var o=V,V=V.next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(o.joint),this.DestroyJoint(o.joint),x.m_jointList=V}for(x.m_jointList=null,V=x.m_controllerList;V;)o=V,V=V.nextController,o.controller.RemoveBody(x);for(V=x.m_contactList;V;)o=V,V=V.next,this.m_contactManager.Destroy(o.contact);for(x.m_contactList=null,V=x.m_fixtureList;V;)o=V,V=V.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(o),o.DestroyProxies(this.m_contactManager.m_broadPhase),o.Destroy(),x.m_fixtureList=V,--x.m_fixtureCount;x.m_fixtureList=null,x.m_fixtureCount=0,x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x===this.m_bodyList&&(this.m_bodyList=x.m_next),--this.m_bodyCount}};goog.exportProperty(box2d.b2World.prototype,"DestroyBody",box2d.b2World.prototype.DestroyBody);box2d.b2World.prototype.CreateJoint=function(x){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),this.IsLocked())return null;var V=box2d.b2JointFactory.Create(x,null);V.m_prev=null,(V.m_next=this.m_jointList)&&(this.m_jointList.m_prev=V),this.m_jointList=V,++this.m_jointCount,V.m_edgeA.joint=V,V.m_edgeA.other=V.m_bodyB,V.m_edgeA.prev=null,(V.m_edgeA.next=V.m_bodyA.m_jointList)&&(V.m_bodyA.m_jointList.prev=V.m_edgeA),V.m_bodyA.m_jointList=V.m_edgeA,V.m_edgeB.joint=V,V.m_edgeB.other=V.m_bodyA,V.m_edgeB.prev=null,(V.m_edgeB.next=V.m_bodyB.m_jointList)&&(V.m_bodyB.m_jointList.prev=V.m_edgeB),V.m_bodyB.m_jointList=V.m_edgeB;var o=x.bodyA,_o=x.bodyB;if(!x.collideConnected)for(x=_o.GetContactList();x;)x.other===o&&x.contact.FlagForFiltering(),x=x.next;return V};goog.exportProperty(box2d.b2World.prototype,"CreateJoint",box2d.b2World.prototype.CreateJoint);box2d.b2World.prototype.DestroyJoint=function(x){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),!this.IsLocked()){var V=x.m_collideConnected;x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x===this.m_jointList&&(this.m_jointList=x.m_next);var o=x.m_bodyA,_o=x.m_bodyB;if(o.SetAwake(!0),_o.SetAwake(!0),x.m_edgeA.prev&&(x.m_edgeA.prev.next=x.m_edgeA.next),x.m_edgeA.next&&(x.m_edgeA.next.prev=x.m_edgeA.prev),x.m_edgeA===o.m_jointList&&(o.m_jointList=x.m_edgeA.next),x.m_edgeA.prev=null,x.m_edgeA.next=null,x.m_edgeB.prev&&(x.m_edgeB.prev.next=x.m_edgeB.next),x.m_edgeB.next&&(x.m_edgeB.next.prev=x.m_edgeB.prev),x.m_edgeB===_o.m_jointList&&(_o.m_jointList=x.m_edgeB.next),x.m_edgeB.prev=null,x.m_edgeB.next=null,box2d.b2JointFactory.Destroy(x,null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_jointCount),--this.m_jointCount,!V)for(x=_o.GetContactList();x;)x.other===o&&x.contact.FlagForFiltering(),x=x.next}};goog.exportProperty(box2d.b2World.prototype,"DestroyJoint",box2d.b2World.prototype.DestroyJoint);box2d.b2World.prototype.CreateParticleSystem=function(x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),this.IsLocked()?null:(x=new box2d.b2ParticleSystem(x,this),x.m_prev=null,(x.m_next=this.m_particleSystemList)&&(this.m_particleSystemList.m_prev=x),this.m_particleSystemList=x)};goog.exportProperty(box2d.b2World.prototype,"CreateParticleSystem",box2d.b2World.prototype.CreateParticleSystem);box2d.b2World.prototype.DestroyParticleSystem=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),this.IsLocked()||(x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x===this.m_particleSystemList&&(this.m_particleSystemList=x.m_next))};goog.exportProperty(box2d.b2World.prototype,"DestroyParticleSystem",box2d.b2World.prototype.DestroyParticleSystem);box2d.b2World.prototype.Solve=function(x){for(var V=this.m_bodyList;V;V=V.m_next)V.m_xf0.Copy(V.m_xf);for(var o=this.m_controllerList;o;o=o.m_next)o.Step(x);for(this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0,o=this.m_island,o.Initialize(this.m_bodyCount,this.m_contactManager.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener),V=this.m_bodyList;V;V=V.m_next)V.m_flag_islandFlag=!1;for(var _o=this.m_contactManager.m_contactList;_o;_o=_o.m_next)_o.m_flag_islandFlag=!1;for(_o=this.m_jointList;_o;_o=_o.m_next)_o.m_islandFlag=!1;for(var _o=this.m_bodyCount,_r=this.s_stack,l=this.m_bodyList;l;l=l.m_next)if(!l.m_flag_islandFlag&&l.IsAwake()&&l.IsActive()&&l.GetType()!==box2d.b2BodyType.b2_staticBody){o.Clear();var e_=0;for(_r[e_++]=l,l.m_flag_islandFlag=!0;0<e_;)if(V=_r[--e_],box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.IsActive()),o.AddBody(V),V.SetAwake(!0),V.GetType()!==box2d.b2BodyType.b2_staticBody){for(var o_=V.m_contactList;o_;o_=o_.next){var i_=o_.contact;if(!i_.m_flag_islandFlag&&i_.IsEnabled()&&i_.IsTouching()){var _e=i_.m_fixtureB.m_isSensor;i_.m_fixtureA.m_isSensor||_e||(o.AddContact(i_),i_.m_flag_islandFlag=!0,i_=o_.other,i_.m_flag_islandFlag||(box2d.ENABLE_ASSERTS&&box2d.b2Assert(e_<_o),_r[e_++]=i_,i_.m_flag_islandFlag=!0))}}for(V=V.m_jointList;V;V=V.next)V.joint.m_islandFlag||(i_=V.other,i_.IsActive()&&(o.AddJoint(V.joint),V.joint.m_islandFlag=!0,i_.m_flag_islandFlag||(box2d.ENABLE_ASSERTS&&box2d.b2Assert(e_<_o),_r[e_++]=i_,i_.m_flag_islandFlag=!0)))}for(V=new box2d.b2Profile,o.Solve(V,x,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=V.solveInit,this.m_profile.solveVelocity+=V.solveVelocity,this.m_profile.solvePosition+=V.solvePosition,e_=0;e_<o.m_bodyCount;++e_)V=o.m_bodies[e_],V.GetType()===box2d.b2BodyType.b2_staticBody&&(V.m_flag_islandFlag=!1)}for(e_=0;e_<_r.length&&_r[e_];++e_)_r[e_]=null;for(x=new box2d.b2Timer,V=this.m_bodyList;V;V=V.m_next)V.m_flag_islandFlag&&V.GetType()!==box2d.b2BodyType.b2_staticBody&&V.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=x.GetMilliseconds()};goog.exportProperty(box2d.b2World.prototype,"Solve",box2d.b2World.prototype.Solve);box2d.b2World.prototype.SolveTOI=function(x){var V=this.m_island;if(V.Initialize(2*box2d.b2_maxTOIContacts,box2d.b2_maxTOIContacts,0,null,this.m_contactManager.m_contactListener),this.m_stepComplete){for(var o=this.m_bodyList;o;o=o.m_next)o.m_flag_islandFlag=!1,o.m_sweep.alpha0=0;for(var _o=this.m_contactManager.m_contactList;_o;_o=_o.m_next)_o.m_flag_toiFlag=_o.m_flag_islandFlag=!1,_o.m_toiCount=0,_o.m_toi=1}for(;;){for(var _r=null,o=1,_o=this.m_contactManager.m_contactList;_o;_o=_o.m_next)if(_o.IsEnabled()&&!(_o.m_toiCount>box2d.b2_maxSubSteps)){var l=1;if(_o.m_flag_toiFlag)l=_o.m_toi;else{var e_=_o.GetFixtureA(),o_=_o.GetFixtureB();if(e_.IsSensor()||o_.IsSensor())continue;var l=e_.GetBody(),i_=o_.GetBody(),_e=l.m_type,c_=i_.m_type;box2d.ENABLE_ASSERTS&&box2d.b2Assert(_e===box2d.b2BodyType.b2_dynamicBody||c_===box2d.b2BodyType.b2_dynamicBody);var ws=l.IsAwake()&&_e!==box2d.b2BodyType.b2_staticBody,h_=i_.IsAwake()&&c_!==box2d.b2BodyType.b2_staticBody;if(!ws&&!h_||(_e=l.IsBullet()||_e!==box2d.b2BodyType.b2_dynamicBody,c_=i_.IsBullet()||c_!==box2d.b2BodyType.b2_dynamicBody,!_e&&!c_))continue;c_=l.m_sweep.alpha0,l.m_sweep.alpha0<i_.m_sweep.alpha0?(c_=i_.m_sweep.alpha0,l.m_sweep.Advance(c_)):i_.m_sweep.alpha0<l.m_sweep.alpha0&&(c_=l.m_sweep.alpha0,i_.m_sweep.Advance(c_)),box2d.ENABLE_ASSERTS&&box2d.b2Assert(1>c_),ws=_o.GetChildIndexA(),h_=_o.GetChildIndexB(),_e=box2d.b2World.prototype.SolveTOI.s_toi_input,_e.proxyA.SetShape(e_.GetShape(),ws),_e.proxyB.SetShape(o_.GetShape(),h_),_e.sweepA.Copy(l.m_sweep),_e.sweepB.Copy(i_.m_sweep),_e.tMax=1,l=box2d.b2World.prototype.SolveTOI.s_toi_output,box2d.b2TimeOfImpact(l,_e),i_=l.t,l=l.state===box2d.b2TOIOutputState.e_touching?box2d.b2Min(c_+(1-c_)*i_,1):1,_o.m_toi=l,_o.m_flag_toiFlag=!0}l<o&&(_r=_o,o=l)}if(_r===null||1-10*box2d.b2_epsilon<o){this.m_stepComplete=!0;break}if(e_=_r.GetFixtureA(),o_=_r.GetFixtureB(),l=e_.GetBody(),i_=o_.GetBody(),_o=box2d.b2World.prototype.SolveTOI.s_backup1.Copy(l.m_sweep),e_=box2d.b2World.prototype.SolveTOI.s_backup2.Copy(i_.m_sweep),l.Advance(o),i_.Advance(o),_r.Update(this.m_contactManager.m_contactListener),_r.m_flag_toiFlag=!1,++_r.m_toiCount,_r.IsEnabled()&&_r.IsTouching()){for(l.SetAwake(!0),i_.SetAwake(!0),V.Clear(),V.AddBody(l),V.AddBody(i_),V.AddContact(_r),l.m_flag_islandFlag=!0,i_.m_flag_islandFlag=!0,_r.m_flag_islandFlag=!0,_r=0;2>_r;++_r)if(_o=_r===0?l:i_,_o.m_type===box2d.b2BodyType.b2_dynamicBody)for(e_=_o.m_contactList;e_&&V.m_bodyCount!==V.m_bodyCapacity&&V.m_contactCount!==V.m_contactCapacity;e_=e_.next)o_=e_.contact,!o_.m_flag_islandFlag&&(c_=e_.other,c_.m_type!==box2d.b2BodyType.b2_dynamicBody||_o.IsBullet()||c_.IsBullet())&&(_e=o_.m_fixtureB.m_isSensor,o_.m_fixtureA.m_isSensor||_e||(_e=box2d.b2World.prototype.SolveTOI.s_backup.Copy(c_.m_sweep),c_.m_flag_islandFlag||c_.Advance(o),o_.Update(this.m_contactManager.m_contactListener),o_.IsEnabled()&&o_.IsTouching()?(o_.m_flag_islandFlag=!0,V.AddContact(o_),c_.m_flag_islandFlag||(c_.m_flag_islandFlag=!0,c_.m_type!==box2d.b2BodyType.b2_staticBody&&c_.SetAwake(!0),V.AddBody(c_))):(c_.m_sweep.Copy(_e),c_.SynchronizeTransform())));for(_r=box2d.b2World.prototype.SolveTOI.s_subStep,_r.dt=(1-o)*x.dt,_r.inv_dt=1/_r.dt,_r.dtRatio=1,_r.positionIterations=20,_r.velocityIterations=x.velocityIterations,_r.particleIterations=x.particleIterations,_r.warmStarting=!1,V.SolveTOI(_r,l.m_islandIndex,i_.m_islandIndex),_r=0;_r<V.m_bodyCount;++_r)if(_o=V.m_bodies[_r],_o.m_flag_islandFlag=!1,_o.m_type===box2d.b2BodyType.b2_dynamicBody)for(_o.SynchronizeFixtures(),e_=_o.m_contactList;e_;e_=e_.next)e_.contact.m_flag_toiFlag=e_.contact.m_flag_islandFlag=!1;if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}else _r.SetEnabled(!1),l.m_sweep.Copy(_o),i_.m_sweep.Copy(e_),l.SynchronizeTransform(),i_.SynchronizeTransform()}};goog.exportProperty(box2d.b2World.prototype,"SolveTOI",box2d.b2World.prototype.SolveTOI);box2d.b2World.prototype.SolveTOI.s_subStep=new box2d.b2TimeStep;box2d.b2World.prototype.SolveTOI.s_backup=new box2d.b2Sweep;box2d.b2World.prototype.SolveTOI.s_backup1=new box2d.b2Sweep;box2d.b2World.prototype.SolveTOI.s_backup2=new box2d.b2Sweep;box2d.b2World.prototype.SolveTOI.s_toi_input=new box2d.b2TOIInput;box2d.b2World.prototype.SolveTOI.s_toi_output=new box2d.b2TOIOutput;box2d.b2World.prototype.Step=function(x,V,o,_o){_o=_o||this.CalculateReasonableParticleIterations(x);var _r=new box2d.b2Timer;this.m_flag_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flag_newFixture=!1),this.m_flag_locked=!0;var l=box2d.b2World.prototype.Step.s_step;if(l.dt=x,l.velocityIterations=V,l.positionIterations=o,l.particleIterations=_o,l.inv_dt=0<x?1/x:0,l.dtRatio=this.m_inv_dt0*x,l.warmStarting=this.m_warmStarting,x=new box2d.b2Timer,this.m_contactManager.Collide(),this.m_profile.collide=x.GetMilliseconds(),this.m_stepComplete&&0<l.dt){for(x=new box2d.b2Timer,V=this.m_particleSystemList;V;V=V.m_next)V.Solve(l);this.Solve(l),this.m_profile.solve=x.GetMilliseconds()}this.m_continuousPhysics&&0<l.dt&&(x=new box2d.b2Timer,this.SolveTOI(l),this.m_profile.solveTOI=x.GetMilliseconds()),0<l.dt&&(this.m_inv_dt0=l.inv_dt),this.m_flag_clearForces&&this.ClearForces(),this.m_flag_locked=!1,this.m_profile.step=_r.GetMilliseconds()};goog.exportProperty(box2d.b2World.prototype,"Step",box2d.b2World.prototype.Step);box2d.b2World.prototype.Step.s_step=new box2d.b2TimeStep;box2d.b2World.prototype.ClearForces=function(){for(var x=this.m_bodyList;x;x=x.m_next)x.m_force.SetZero(),x.m_torque=0};goog.exportProperty(box2d.b2World.prototype,"ClearForces",box2d.b2World.prototype.ClearForces);box2d.b2World.prototype.QueryAABB=function(x,V){var o=this.m_contactManager.m_broadPhase;if(o.Query(function(_r){return _r=o.GetUserData(_r),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_r instanceof box2d.b2FixtureProxy),_r=_r.fixture,x instanceof box2d.b2QueryCallback?x.ReportFixture(_r):x(_r)},V),x instanceof box2d.b2QueryCallback)for(var _o=this.m_particleSystemList;_o;_o=_o.m_next)x.ShouldQueryParticleSystem(_o)&&_o.QueryAABB(x,V)};goog.exportProperty(box2d.b2World.prototype,"QueryAABB",box2d.b2World.prototype.QueryAABB);box2d.b2World.prototype.QueryShape=function(x,V,o,_o){var _r=this.m_contactManager.m_broadPhase,l=box2d.b2World.prototype.QueryShape.s_aabb;if(V.ComputeAABB(l,o,_o||0),_r.Query(function(e_){return e_=_r.GetUserData(e_),box2d.ENABLE_ASSERTS&&box2d.b2Assert(e_ instanceof box2d.b2FixtureProxy),e_=e_.fixture,box2d.b2TestOverlapShape(V,0,e_.GetShape(),0,o,e_.GetBody().GetTransform())?x instanceof box2d.b2QueryCallback?x.ReportFixture(e_):x(e_):!0},l),x instanceof box2d.b2QueryCallback)for(_o=this.m_particleSystemList;_o;_o=_o.m_next)x.ShouldQueryParticleSystem(_o)&&_o.QueryAABB(x,l)};goog.exportProperty(box2d.b2World.prototype,"QueryShape",box2d.b2World.prototype.QueryShape);box2d.b2World.prototype.QueryShape.s_aabb=new box2d.b2AABB;box2d.b2World.prototype.QueryPoint=function(x,V,o){var _o=this.m_contactManager.m_broadPhase;o=typeof o=="number"?o:box2d.b2_linearSlop;var _r=box2d.b2World.prototype.QueryPoint.s_aabb;if(_r.lowerBound.Set(V.x-o,V.y-o),_r.upperBound.Set(V.x+o,V.y+o),_o.Query(function(l){return l=_o.GetUserData(l),box2d.ENABLE_ASSERTS&&box2d.b2Assert(l instanceof box2d.b2FixtureProxy),l=l.fixture,l.TestPoint(V)?x instanceof box2d.b2QueryCallback?x.ReportFixture(l):x(l):!0},_r),x instanceof box2d.b2QueryCallback)for(o=this.m_particleSystemList;o;o=o.m_next)x.ShouldQueryParticleSystem(o)&&o.QueryAABB(x,_r)};goog.exportProperty(box2d.b2World.prototype,"QueryPoint",box2d.b2World.prototype.QueryPoint);box2d.b2World.prototype.QueryPoint.s_aabb=new box2d.b2AABB;box2d.b2World.prototype.RayCast=function(x,V,o){var _o=this.m_contactManager.m_broadPhase,_r=box2d.b2World.prototype.RayCast.s_input;if(_r.maxFraction=1,_r.p1.Copy(V),_r.p2.Copy(o),_o.RayCast(function(l,e_){var o_=_o.GetUserData(e_);box2d.ENABLE_ASSERTS&&box2d.b2Assert(o_ instanceof box2d.b2FixtureProxy);var i_=o_.fixture,_e=box2d.b2World.prototype.RayCast.s_output;if(i_.RayCast(_e,l,o_.childIndex)){var o_=_e.fraction,c_=box2d.b2World.prototype.RayCast.s_point;return c_.Set((1-o_)*V.x+o_*o.x,(1-o_)*V.y+o_*o.y),x instanceof box2d.b2RayCastCallback?x.ReportFixture(i_,c_,_e.normal,o_):x(i_,c_,_e.normal,o_)}return l.maxFraction},_r),x instanceof box2d.b2RayCastCallback)for(_r=this.m_particleSystemList;_r;_r=_r.m_next)x.ShouldQueryParticleSystem(_r)&&_r.RayCast(x,V,o)};goog.exportProperty(box2d.b2World.prototype,"RayCast",box2d.b2World.prototype.RayCast);box2d.b2World.prototype.RayCast.s_input=new box2d.b2RayCastInput;box2d.b2World.prototype.RayCast.s_output=new box2d.b2RayCastOutput;box2d.b2World.prototype.RayCast.s_point=new box2d.b2Vec2;box2d.b2World.prototype.RayCastOne=function(x,V){var o=null,_o=1;return this.RayCast(function(_r,l,e_,o_){return o_<_o&&(_o=o_,o=_r),_o},x,V),o};goog.exportProperty(box2d.b2World.prototype,"RayCastOne",box2d.b2World.prototype.RayCastOne);box2d.b2World.prototype.RayCastAll=function(x,V,o){return o.length=0,this.RayCast(function(_o,_r,l,e_){return o.push(_o),1},x,V),o};goog.exportProperty(box2d.b2World.prototype,"RayCastAll",box2d.b2World.prototype.RayCastAll);box2d.b2World.prototype.DrawShape=function(x,V){var o=x.GetShape();switch(o.m_type){case box2d.b2ShapeType.e_circleShape:o=o instanceof box2d.b2CircleShape?o:null,this.m_debugDraw.DrawSolidCircle(o.m_p,o.m_radius,box2d.b2Vec2.UNITX,V);break;case box2d.b2ShapeType.e_edgeShape:var _r=o instanceof box2d.b2EdgeShape?o:null,o=_r.m_vertex1,_o=_r.m_vertex2;this.m_debugDraw.DrawSegment(o,_o,V);break;case box2d.b2ShapeType.e_chainShape:var o=o instanceof box2d.b2ChainShape?o:null,_r=o.m_count,l=o.m_vertices,o=l[0];this.m_debugDraw.DrawCircle(o,.05,V);for(var e_=1;e_<_r;++e_)_o=l[e_],this.m_debugDraw.DrawSegment(o,_o,V),this.m_debugDraw.DrawCircle(_o,.05,V),o=_o;break;case box2d.b2ShapeType.e_polygonShape:_r=o instanceof box2d.b2PolygonShape?o:null,o=_r.m_count,l=_r.m_vertices,this.m_debugDraw.DrawSolidPolygon(l,o,V)}};goog.exportProperty(box2d.b2World.prototype,"DrawShape",box2d.b2World.prototype.DrawShape);box2d.b2World.prototype.DrawJoint=function(x){var _r=x.GetBodyA(),_o=x.GetBodyB(),V=_r.m_xf.p,o=_o.m_xf.p,_o=x.GetAnchorA(box2d.b2World.prototype.DrawJoint.s_p1),_r=x.GetAnchorB(box2d.b2World.prototype.DrawJoint.s_p2),l=box2d.b2World.prototype.DrawJoint.s_color.SetRGB(.5,.8,.8);switch(x.m_type){case box2d.b2JointType.e_distanceJoint:this.m_debugDraw.DrawSegment(_o,_r,l);break;case box2d.b2JointType.e_pulleyJoint:V=x instanceof box2d.b2PulleyJoint?x:null,x=V.GetGroundAnchorA(box2d.b2World.prototype.DrawJoint.s_s1),V=V.GetGroundAnchorB(box2d.b2World.prototype.DrawJoint.s_s2),this.m_debugDraw.DrawSegment(x,_o,l),this.m_debugDraw.DrawSegment(V,_r,l),this.m_debugDraw.DrawSegment(x,V,l);break;case box2d.b2JointType.e_mouseJoint:this.m_debugDraw.DrawSegment(_o,_r,l);break;default:this.m_debugDraw.DrawSegment(V,_o,l),this.m_debugDraw.DrawSegment(_o,_r,l),this.m_debugDraw.DrawSegment(o,_r,l)}};goog.exportProperty(box2d.b2World.prototype,"DrawJoint",box2d.b2World.prototype.DrawJoint);box2d.b2World.prototype.DrawJoint.s_p1=new box2d.b2Vec2;box2d.b2World.prototype.DrawJoint.s_p2=new box2d.b2Vec2;box2d.b2World.prototype.DrawJoint.s_color=new box2d.b2Color(.5,.8,.8);box2d.b2World.prototype.DrawJoint.s_s1=new box2d.b2Vec2;box2d.b2World.prototype.DrawJoint.s_s2=new box2d.b2Vec2;box2d.b2World.prototype.DrawParticleSystem=function(x){var V=x.GetParticleCount();if(V){var o=x.GetRadius(),_o=x.GetPositionBuffer();x.m_colorBuffer.data?(x=x.GetColorBuffer(),this.m_debugDraw.DrawParticles(_o,o,x,V)):this.m_debugDraw.DrawParticles(_o,o,null,V)}};goog.exportProperty(box2d.b2World.prototype,"DrawParticleSystem",box2d.b2World.prototype.DrawParticleSystem);box2d.b2World.prototype.DrawDebugData=function(){if(this.m_debugDraw!==null){var x=this.m_debugDraw.GetFlags(),V=box2d.b2World.prototype.DrawDebugData.s_color.SetRGB(0,0,0);if(x&box2d.b2DrawFlags.e_shapeBit)for(var o=this.m_bodyList;o;o=o.m_next){var _o=o.m_xf;this.m_debugDraw.PushTransform(_o);for(var _r=o.GetFixtureList();_r;_r=_r.m_next)o.IsActive()?o.GetType()===box2d.b2BodyType.b2_staticBody?V.SetRGB(.5,.9,.5):o.GetType()===box2d.b2BodyType.b2_kinematicBody?V.SetRGB(.5,.5,.9):o.IsAwake()?V.SetRGB(.9,.7,.7):V.SetRGB(.6,.6,.6):V.SetRGB(.5,.5,.3),this.DrawShape(_r,V);this.m_debugDraw.PopTransform(_o)}if(x&box2d.b2DrawFlags.e_particleBit)for(o=this.m_particleSystemList;o;o=o.m_next)this.DrawParticleSystem(o);if(x&box2d.b2DrawFlags.e_jointBit)for(o=this.m_jointList;o;o=o.m_next)this.DrawJoint(o);if(x&box2d.b2DrawFlags.e_aabbBit){V.SetRGB(.9,.3,.9);for(var _o=this.m_contactManager.m_broadPhase,l=box2d.b2World.prototype.DrawDebugData.s_vs,o=this.m_bodyList;o;o=o.m_next)if(o.IsActive())for(_r=o.GetFixtureList();_r;_r=_r.m_next)for(var e_=0;e_<_r.m_proxyCount;++e_){var o_=_o.GetFatAABB(_r.m_proxies[e_].proxy);l[0].Set(o_.lowerBound.x,o_.lowerBound.y),l[1].Set(o_.upperBound.x,o_.lowerBound.y),l[2].Set(o_.upperBound.x,o_.upperBound.y),l[3].Set(o_.lowerBound.x,o_.upperBound.y),this.m_debugDraw.DrawPolygon(l,4,V)}}if(x&box2d.b2DrawFlags.e_centerOfMassBit)for(o=this.m_bodyList;o;o=o.m_next)_o=box2d.b2World.prototype.DrawDebugData.s_xf,_o.q.Copy(o.m_xf.q),_o.p.Copy(o.GetWorldCenter()),this.m_debugDraw.DrawTransform(_o);if(x&box2d.b2DrawFlags.e_controllerBit)for(x=this.m_controllerList;x;x=x.m_next)x.Draw(this.m_debugDraw)}};goog.exportProperty(box2d.b2World.prototype,"DrawDebugData",box2d.b2World.prototype.DrawDebugData);box2d.b2World.prototype.DrawDebugData.s_color=new box2d.b2Color(0,0,0);box2d.b2World.prototype.DrawDebugData.s_vs=box2d.b2Vec2.MakeArray(4);box2d.b2World.prototype.DrawDebugData.s_xf=new box2d.b2Transform;box2d.b2World.prototype.SetBroadPhase=function(x){var V=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=x;for(var o=this.m_bodyList;o;o=o.m_next)for(var _o=o.m_fixtureList;_o;_o=_o.m_next)_o.m_proxy=x.CreateProxy(V.GetFatAABB(_o.m_proxy),_o)};goog.exportProperty(box2d.b2World.prototype,"SetBroadPhase",box2d.b2World.prototype.SetBroadPhase);box2d.b2World.prototype.CalculateReasonableParticleIterations=function(x){return this.m_particleSystemList===null?1:box2d.b2CalculateParticleIterations(this.m_gravity.Length(),function(V){var o=box2d.b2_maxFloat;for(V=V.GetParticleSystemList();V!==null;V=V.m_next)o=box2d.b2Min(o,V.GetRadius());return o}(this),x)};goog.exportProperty(box2d.b2World.prototype,"CalculateReasonableParticleIterations",box2d.b2World.prototype.CalculateReasonableParticleIterations);box2d.b2World.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()};goog.exportProperty(box2d.b2World.prototype,"GetProxyCount",box2d.b2World.prototype.GetProxyCount);box2d.b2World.prototype.GetTreeHeight=function(){return this.m_contactManager.m_broadPhase.GetTreeHeight()};goog.exportProperty(box2d.b2World.prototype,"GetTreeHeight",box2d.b2World.prototype.GetTreeHeight);box2d.b2World.prototype.GetTreeBalance=function(){return this.m_contactManager.m_broadPhase.GetTreeBalance()};goog.exportProperty(box2d.b2World.prototype,"GetTreeBalance",box2d.b2World.prototype.GetTreeBalance);box2d.b2World.prototype.GetTreeQuality=function(){return this.m_contactManager.m_broadPhase.GetTreeQuality()};goog.exportProperty(box2d.b2World.prototype,"GetTreeQuality",box2d.b2World.prototype.GetTreeQuality);box2d.b2World.prototype.ShiftOrigin=function(x){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),!this.IsLocked()){for(var V=this.m_bodyList;V;V=V.m_next)V.m_xf.p.SelfSub(x),V.m_sweep.c0.SelfSub(x),V.m_sweep.c.SelfSub(x);for(V=this.m_jointList;V;V=V.m_next)V.ShiftOrigin(x);this.m_contactManager.m_broadPhase.ShiftOrigin(x)}};goog.exportProperty(box2d.b2World.prototype,"ShiftOrigin",box2d.b2World.prototype.ShiftOrigin);box2d.b2World.prototype.Dump=function(){if(box2d.DEBUG&&!this.m_flag_locked){box2d.b2Log(`/** @type {box2d.b2Vec2} */ var g = new box2d.b2Vec2(%.15f, %.15f);
`,this.m_gravity.x,this.m_gravity.y),box2d.b2Log(`this.m_world.SetGravity(g);
`),box2d.b2Log(`/** @type {Array.<box2d.b2Body>} */ var bodies = new Array(%d);
`,this.m_bodyCount),box2d.b2Log(`/** @type {Array.<box2d.b2Joint>} */ var joints = new Array(%d);
`,this.m_jointCount);for(var x=0,V=this.m_bodyList;V;V=V.m_next)V.m_islandIndex=x,V.Dump(),++x;for(x=0,V=this.m_jointList;V;V=V.m_next)V.m_index=x,++x;for(V=this.m_jointList;V;V=V.m_next)V.m_type!==box2d.b2JointType.e_gearJoint&&(box2d.b2Log(`{
`),V.Dump(),box2d.b2Log(`}
`));for(V=this.m_jointList;V;V=V.m_next)V.m_type===box2d.b2JointType.e_gearJoint&&(box2d.b2Log(`{
`),V.Dump(),box2d.b2Log(`}
`))}};goog.exportProperty(box2d.b2World.prototype,"Dump",box2d.b2World.prototype.Dump);box2d.b2World.prototype.AddController=function(x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.m_world===null,"Controller can only be a member of one world"),x.m_world=this,x.m_next=this.m_controllerList,x.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=x),this.m_controllerList=x,++this.m_controllerCount,x};goog.exportProperty(box2d.b2World.prototype,"AddController",box2d.b2World.prototype.AddController);box2d.b2World.prototype.RemoveController=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.m_world===this,"Controller is not a member of this world"),x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),this.m_controllerList===x&&(this.m_controllerList=x.m_next),--this.m_controllerCount,x.m_prev=null,x.m_next=null,x.m_world=null};goog.exportProperty(box2d.b2World.prototype,"RemoveController",box2d.b2World.prototype.RemoveController);box2d.b2MotorJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_motorJoint),this.linearOffset=new box2d.b2Vec2(0,0)};goog.inherits(box2d.b2MotorJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2MotorJointDef",box2d.b2MotorJointDef);box2d.b2MotorJointDef.prototype.linearOffset=null;goog.exportProperty(box2d.b2MotorJointDef.prototype,"linearOffset",box2d.b2MotorJointDef.prototype.linearOffset);box2d.b2MotorJointDef.prototype.angularOffset=0;goog.exportProperty(box2d.b2MotorJointDef.prototype,"angularOffset",box2d.b2MotorJointDef.prototype.angularOffset);box2d.b2MotorJointDef.prototype.maxForce=1;goog.exportProperty(box2d.b2MotorJointDef.prototype,"maxForce",box2d.b2MotorJointDef.prototype.maxForce);box2d.b2MotorJointDef.prototype.maxTorque=1;goog.exportProperty(box2d.b2MotorJointDef.prototype,"maxTorque",box2d.b2MotorJointDef.prototype.maxTorque);box2d.b2MotorJointDef.prototype.correctionFactor=.3;goog.exportProperty(box2d.b2MotorJointDef.prototype,"correctionFactor",box2d.b2MotorJointDef.prototype.correctionFactor);box2d.b2MotorJointDef.prototype.Initialize=function(x,V){this.bodyA=x,this.bodyB=V,this.bodyA.GetLocalPoint(this.bodyB.GetPosition(),this.linearOffset);var o=this.bodyA.GetAngle();this.angularOffset=this.bodyB.GetAngle()-o};goog.exportProperty(box2d.b2MotorJointDef.prototype,"Initialize",box2d.b2MotorJointDef.prototype.Initialize);box2d.b2MotorJoint=function(x){box2d.b2Joint.call(this,x),this.m_linearOffset=x.linearOffset.Clone(),this.m_linearImpulse=new box2d.b2Vec2(0,0),this.m_maxForce=x.maxForce,this.m_maxTorque=x.maxTorque,this.m_correctionFactor=x.correctionFactor,this.m_rA=new box2d.b2Vec2(0,0),this.m_rB=new box2d.b2Vec2(0,0),this.m_localCenterA=new box2d.b2Vec2(0,0),this.m_localCenterB=new box2d.b2Vec2(0,0),this.m_linearError=new box2d.b2Vec2(0,0),this.m_linearMass=new box2d.b2Mat22,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_K=new box2d.b2Mat22};goog.inherits(box2d.b2MotorJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2MotorJoint",box2d.b2MotorJoint);box2d.b2MotorJoint.prototype.m_linearOffset=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_linearOffset",box2d.b2MotorJoint.prototype.m_linearOffset);box2d.b2MotorJoint.prototype.m_angularOffset=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_angularOffset",box2d.b2MotorJoint.prototype.m_angularOffset);box2d.b2MotorJoint.prototype.m_linearImpulse=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_linearImpulse",box2d.b2MotorJoint.prototype.m_linearImpulse);box2d.b2MotorJoint.prototype.m_angularImpulse=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_angularImpulse",box2d.b2MotorJoint.prototype.m_angularImpulse);box2d.b2MotorJoint.prototype.m_maxForce=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_maxForce",box2d.b2MotorJoint.prototype.m_maxForce);box2d.b2MotorJoint.prototype.m_maxTorque=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_maxTorque",box2d.b2MotorJoint.prototype.m_maxTorque);box2d.b2MotorJoint.prototype.m_correctionFactor=.3;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_correctionFactor",box2d.b2MotorJoint.prototype.m_correctionFactor);box2d.b2MotorJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_indexA",box2d.b2MotorJoint.prototype.m_indexA);box2d.b2MotorJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_indexB",box2d.b2MotorJoint.prototype.m_indexB);box2d.b2MotorJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_rA",box2d.b2MotorJoint.prototype.m_rA);box2d.b2MotorJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_rB",box2d.b2MotorJoint.prototype.m_rB);box2d.b2MotorJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_localCenterA",box2d.b2MotorJoint.prototype.m_localCenterA);box2d.b2MotorJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_localCenterB",box2d.b2MotorJoint.prototype.m_localCenterB);box2d.b2MotorJoint.prototype.m_linearError=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_linearError",box2d.b2MotorJoint.prototype.m_linearError);box2d.b2MotorJoint.prototype.m_angularError=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_angularError",box2d.b2MotorJoint.prototype.m_angularError);box2d.b2MotorJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_invMassA",box2d.b2MotorJoint.prototype.m_invMassA);box2d.b2MotorJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_invMassB",box2d.b2MotorJoint.prototype.m_invMassB);box2d.b2MotorJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_invIA",box2d.b2MotorJoint.prototype.m_invIA);box2d.b2MotorJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_invIB",box2d.b2MotorJoint.prototype.m_invIB);box2d.b2MotorJoint.prototype.m_linearMass=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_linearMass",box2d.b2MotorJoint.prototype.m_linearMass);box2d.b2MotorJoint.prototype.m_angularMass=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_angularMass",box2d.b2MotorJoint.prototype.m_angularMass);box2d.b2MotorJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_qA",box2d.b2MotorJoint.prototype.m_qA);box2d.b2MotorJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_qB",box2d.b2MotorJoint.prototype.m_qB);box2d.b2MotorJoint.prototype.m_K=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_K",box2d.b2MotorJoint.prototype.m_K);box2d.b2MotorJoint.prototype.GetAnchorA=function(x){return this.m_bodyA.GetPosition(x)};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetAnchorA",box2d.b2MotorJoint.prototype.GetAnchorA);box2d.b2MotorJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetPosition(x)};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetAnchorB",box2d.b2MotorJoint.prototype.GetAnchorB);box2d.b2MotorJoint.prototype.GetReactionForce=function(x,V){return box2d.b2Mul_S_V2(x,this.m_linearImpulse,V)};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetReactionForce",box2d.b2MotorJoint.prototype.GetReactionForce);box2d.b2MotorJoint.prototype.GetReactionTorque=function(x){return x*this.m_angularImpulse};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetReactionTorque",box2d.b2MotorJoint.prototype.GetReactionTorque);box2d.b2MotorJoint.prototype.SetCorrectionFactor=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x)&&0<=x&&1>=x),this._correctionFactor=x};box2d.b2MotorJoint.prototype.GetCorrectionFactor=function(){return this.m_correctionFactor};box2d.b2MotorJoint.prototype.SetLinearOffset=function(x){(x.x!=this.m_linearOffset.x||x.y!=this.m_linearOffset.y)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(x))};goog.exportProperty(box2d.b2MotorJoint.prototype,"SetLinearOffset",box2d.b2MotorJoint.prototype.SetLinearOffset);box2d.b2MotorJoint.prototype.GetLinearOffset=function(x){return x.Copy(this.m_linearOffset)};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetLinearOffset",box2d.b2MotorJoint.prototype.GetLinearOffset);box2d.b2MotorJoint.prototype.SetAngularOffset=function(x){x!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=x)};goog.exportProperty(box2d.b2MotorJoint.prototype,"SetAngularOffset",box2d.b2MotorJoint.prototype.SetAngularOffset);box2d.b2MotorJoint.prototype.GetAngularOffset=function(){return this.m_angularOffset};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetAngularOffset",box2d.b2MotorJoint.prototype.GetAngularOffset);box2d.b2MotorJoint.prototype.SetMaxForce=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x)&&0<=x),this.m_maxForce=x};goog.exportProperty(box2d.b2MotorJoint.prototype,"SetMaxForce",box2d.b2MotorJoint.prototype.SetMaxForce);box2d.b2MotorJoint.prototype.GetMaxForce=function(){return this.m_maxForce};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetMaxForce",box2d.b2MotorJoint.prototype.GetMaxForce);box2d.b2MotorJoint.prototype.SetMaxTorque=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x)&&0<=x),this.m_maxTorque=x};goog.exportProperty(box2d.b2MotorJoint.prototype,"SetMaxTorque",box2d.b2MotorJoint.prototype.SetMaxTorque);box2d.b2MotorJoint.prototype.GetMaxTorque=function(){return this.m_maxTorque};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetMaxTorque",box2d.b2MotorJoint.prototype.GetMaxTorque);box2d.b2MotorJoint.prototype.InitVelocityConstraints=function(x){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=x.positions[this.m_indexA].c,o=x.positions[this.m_indexA].a,_o=x.velocities[this.m_indexA].v,_r=x.velocities[this.m_indexA].w,l=x.positions[this.m_indexB].c,e_=x.positions[this.m_indexB].a,o_=x.velocities[this.m_indexB].v,i_=x.velocities[this.m_indexB].w,_e=this.m_qA.SetAngle(o),ws=this.m_qB.SetAngle(e_),c_=box2d.b2Mul_R_V2(_e,box2d.b2Vec2.s_t0.Copy(this.m_localCenterA).SelfNeg(),this.m_rA),ws=box2d.b2Mul_R_V2(ws,box2d.b2Vec2.s_t0.Copy(this.m_localCenterB).SelfNeg(),this.m_rB),h_=this.m_invMassA,s_=this.m_invMassB,w_=this.m_invIA,L_=this.m_invIB,y_=this.m_K;y_.ex.x=h_+s_+w_*c_.y*c_.y+L_*ws.y*ws.y,y_.ex.y=-w_*c_.x*c_.y-L_*ws.x*ws.y,y_.ey.x=y_.ex.y,y_.ey.y=h_+s_+w_*c_.x*c_.x+L_*ws.x*ws.x,y_.GetInverse(this.m_linearMass),this.m_angularMass=w_+L_,0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass),box2d.b2Sub_V2_V2(box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(l,ws,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(V,c_,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t2),box2d.b2Mul_R_V2(_e,this.m_linearOffset,box2d.b2Vec2.s_t3),this.m_linearError),this.m_angularError=e_-o-this.m_angularOffset,x.step.warmStarting?(this.m_linearImpulse.SelfMul(x.step.dtRatio),this.m_angularImpulse*=x.step.dtRatio,V=this.m_linearImpulse,_o.SelfMulSub(h_,V),_r-=w_*(box2d.b2Cross_V2_V2(c_,V)+this.m_angularImpulse),o_.SelfMulAdd(s_,V),i_+=L_*(box2d.b2Cross_V2_V2(ws,V)+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0),x.velocities[this.m_indexA].w=_r,x.velocities[this.m_indexB].w=i_};goog.exportProperty(box2d.b2MotorJoint.prototype,"InitVelocityConstraints",box2d.b2MotorJoint.prototype.InitVelocityConstraints);box2d.b2MotorJoint.prototype.SolveVelocityConstraints=function(x){var V=x.velocities[this.m_indexA].v,c_=x.velocities[this.m_indexA].w,o=x.velocities[this.m_indexB].v,ws=x.velocities[this.m_indexB].w,_o=this.m_invMassA,_r=this.m_invMassB,l=this.m_invIA,e_=this.m_invIB,o_=x.step.dt,i_=x.step.inv_dt,w_=ws-c_+i_*this.m_correctionFactor*this.m_angularError,w_=-this.m_angularMass*w_,L_=this.m_angularImpulse,_e=o_*this.m_maxTorque;this.m_angularImpulse=box2d.b2Clamp(this.m_angularImpulse+w_,-_e,_e);var w_=this.m_angularImpulse-L_,c_=c_-l*w_,ws=ws+e_*w_,h_=this.m_rA,s_=this.m_rB,w_=box2d.b2Add_V2_V2(box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(o,box2d.b2Cross_S_V2(ws,s_,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(V,box2d.b2Cross_S_V2(c_,h_,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t2),box2d.b2Mul_S_V2(i_*this.m_correctionFactor,this.m_linearError,box2d.b2Vec2.s_t3),box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_Cdot),w_=box2d.b2Mul_M22_V2(this.m_linearMass,w_,box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_impulse).SelfNeg(),L_=box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_oldImpulse.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(w_),_e=o_*this.m_maxForce,this.m_linearImpulse.LengthSquared()>_e*_e&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(_e)),box2d.b2Sub_V2_V2(this.m_linearImpulse,L_,w_),V.SelfMulSub(_o,w_),c_-=l*box2d.b2Cross_V2_V2(h_,w_),o.SelfMulAdd(_r,w_),ws+=e_*box2d.b2Cross_V2_V2(s_,w_),x.velocities[this.m_indexA].w=c_,x.velocities[this.m_indexB].w=ws};goog.exportProperty(box2d.b2MotorJoint.prototype,"SolveVelocityConstraints",box2d.b2MotorJoint.prototype.SolveVelocityConstraints);box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2;box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d.b2Vec2;box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_oldImpulse=new box2d.b2Vec2;box2d.b2MotorJoint.prototype.SolvePositionConstraints=function(x){return!0};goog.exportProperty(box2d.b2MotorJoint.prototype,"SolvePositionConstraints",box2d.b2MotorJoint.prototype.SolvePositionConstraints);box2d.b2MotorJoint.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_bodyA.m_islandIndex,V=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2MotorJointDef*/ var jd = new box2d.b2MotorJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,x),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,V),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.linearOffset.Set(%.15f, %.15f);
`,this.m_linearOffset.x,this.m_linearOffset.y),box2d.b2Log(`  jd.angularOffset = %.15f;
`,this.m_angularOffset),box2d.b2Log(`  jd.maxForce = %.15f;
`,this.m_maxForce),box2d.b2Log(`  jd.maxTorque = %.15f;
`,this.m_maxTorque),box2d.b2Log(`  jd.correctionFactor = %.15f;
`,this.m_correctionFactor),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2MotorJoint.prototype,"Dump",box2d.b2MotorJoint.prototype.Dump);box2d.b2MouseJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_mouseJoint),this.target=new box2d.b2Vec2};goog.inherits(box2d.b2MouseJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2MouseJointDef",box2d.b2MouseJointDef);box2d.b2MouseJointDef.prototype.target=null;goog.exportProperty(box2d.b2MouseJointDef.prototype,"target",box2d.b2MouseJointDef.prototype.target);box2d.b2MouseJointDef.prototype.maxForce=0;goog.exportProperty(box2d.b2MouseJointDef.prototype,"maxForce",box2d.b2MouseJointDef.prototype.maxForce);box2d.b2MouseJointDef.prototype.frequencyHz=5;goog.exportProperty(box2d.b2MouseJointDef.prototype,"frequencyHz",box2d.b2MouseJointDef.prototype.frequencyHz);box2d.b2MouseJointDef.prototype.dampingRatio=.7;goog.exportProperty(box2d.b2MouseJointDef.prototype,"dampingRatio",box2d.b2MouseJointDef.prototype.dampingRatio);box2d.b2MouseJoint=function(x){box2d.b2Joint.call(this,x),this.m_localAnchorB=new box2d.b2Vec2,this.m_targetA=new box2d.b2Vec2,this.m_impulse=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_mass=new box2d.b2Mat22,this.m_C=new box2d.b2Vec2,this.m_qB=new box2d.b2Rot,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat22,box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.target.IsValid()),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x.maxForce)&&0<=x.maxForce),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x.frequencyHz)&&0<=x.frequencyHz),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x.dampingRatio)&&0<=x.dampingRatio),this.m_targetA.Copy(x.target),box2d.b2MulT_X_V2(this.m_bodyB.GetTransform(),this.m_targetA,this.m_localAnchorB),this.m_maxForce=x.maxForce,this.m_impulse.SetZero(),this.m_frequencyHz=x.frequencyHz,this.m_dampingRatio=x.dampingRatio,this.m_gamma=this.m_beta=0};goog.inherits(box2d.b2MouseJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2MouseJoint",box2d.b2MouseJoint);box2d.b2MouseJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_localAnchorB",box2d.b2MouseJoint.prototype.m_localAnchorB);box2d.b2MouseJoint.prototype.m_targetA=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_targetA",box2d.b2MouseJoint.prototype.m_targetA);box2d.b2MouseJoint.prototype.m_frequencyHz=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_frequencyHz",box2d.b2MouseJoint.prototype.m_frequencyHz);box2d.b2MouseJoint.prototype.m_dampingRatio=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_dampingRatio",box2d.b2MouseJoint.prototype.m_dampingRatio);box2d.b2MouseJoint.prototype.m_beta=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_beta",box2d.b2MouseJoint.prototype.m_beta);box2d.b2MouseJoint.prototype.m_impulse=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_impulse",box2d.b2MouseJoint.prototype.m_impulse);box2d.b2MouseJoint.prototype.m_maxForce=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_maxForce",box2d.b2MouseJoint.prototype.m_maxForce);box2d.b2MouseJoint.prototype.m_gamma=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_gamma",box2d.b2MouseJoint.prototype.m_gamma);box2d.b2MouseJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_indexA",box2d.b2MouseJoint.prototype.m_indexA);box2d.b2MouseJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_indexB",box2d.b2MouseJoint.prototype.m_indexB);box2d.b2MouseJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_rB",box2d.b2MouseJoint.prototype.m_rB);box2d.b2MouseJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_localCenterB",box2d.b2MouseJoint.prototype.m_localCenterB);box2d.b2MouseJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_invMassB",box2d.b2MouseJoint.prototype.m_invMassB);box2d.b2MouseJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_invIB",box2d.b2MouseJoint.prototype.m_invIB);box2d.b2MouseJoint.prototype.m_mass=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_mass",box2d.b2MouseJoint.prototype.m_mass);box2d.b2MouseJoint.prototype.m_C=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_C",box2d.b2MouseJoint.prototype.m_C);box2d.b2MouseJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_qB",box2d.b2MouseJoint.prototype.m_qB);box2d.b2MouseJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_lalcB",box2d.b2MouseJoint.prototype.m_lalcB);box2d.b2MouseJoint.prototype.m_K=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_K",box2d.b2MouseJoint.prototype.m_K);box2d.b2MouseJoint.prototype.SetTarget=function(x){this.m_bodyB.IsAwake()||this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(x)};goog.exportProperty(box2d.b2MouseJoint.prototype,"SetTarget",box2d.b2MouseJoint.prototype.SetTarget);box2d.b2MouseJoint.prototype.GetTarget=function(x){return x.Copy(this.m_targetA)};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetTarget",box2d.b2MouseJoint.prototype.GetTarget);box2d.b2MouseJoint.prototype.SetMaxForce=function(x){this.m_maxForce=x};goog.exportProperty(box2d.b2MouseJoint.prototype,"SetMaxForce",box2d.b2MouseJoint.prototype.SetMaxForce);box2d.b2MouseJoint.prototype.GetMaxForce=function(){return this.m_maxForce};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetMaxForce",box2d.b2MouseJoint.prototype.GetMaxForce);box2d.b2MouseJoint.prototype.SetFrequency=function(x){this.m_frequencyHz=x};goog.exportProperty(box2d.b2MouseJoint.prototype,"SetFrequency",box2d.b2MouseJoint.prototype.SetFrequency);box2d.b2MouseJoint.prototype.GetFrequency=function(){return this.m_frequencyHz};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetFrequency",box2d.b2MouseJoint.prototype.GetFrequency);box2d.b2MouseJoint.prototype.SetDampingRatio=function(x){this.m_dampingRatio=x};goog.exportProperty(box2d.b2MouseJoint.prototype,"SetDampingRatio",box2d.b2MouseJoint.prototype.SetDampingRatio);box2d.b2MouseJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetDampingRatio",box2d.b2MouseJoint.prototype.GetDampingRatio);box2d.b2MouseJoint.prototype.InitVelocityConstraints=function(x){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var V=x.positions[this.m_indexB].c,o=x.velocities[this.m_indexB].v,_o=x.velocities[this.m_indexB].w,_r=this.m_qB.SetAngle(x.positions[this.m_indexB].a),e_=this.m_bodyB.GetMass(),o_=2*box2d.b2_pi*this.m_frequencyHz,l=2*e_*this.m_dampingRatio*o_,e_=e_*o_*o_,o_=x.step.dt;box2d.ENABLE_ASSERTS&&box2d.b2Assert(l+o_*e_>box2d.b2_epsilon),this.m_gamma=o_*(l+o_*e_),this.m_gamma!==0&&(this.m_gamma=1/this.m_gamma),this.m_beta=o_*e_*this.m_gamma,box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(_r,this.m_lalcB,this.m_rB),_r=this.m_K,_r.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,_r.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,_r.ey.x=_r.ex.y,_r.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,_r.GetInverse(this.m_mass),this.m_C.x=V.x+this.m_rB.x-this.m_targetA.x,this.m_C.y=V.y+this.m_rB.y-this.m_targetA.y,this.m_C.SelfMul(this.m_beta),_o*=.98,x.step.warmStarting?(this.m_impulse.SelfMul(x.step.dtRatio),o.x+=this.m_invMassB*this.m_impulse.x,o.y+=this.m_invMassB*this.m_impulse.y,_o+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),x.velocities[this.m_indexB].w=_o};goog.exportProperty(box2d.b2MouseJoint.prototype,"InitVelocityConstraints",box2d.b2MouseJoint.prototype.InitVelocityConstraints);box2d.b2MouseJoint.prototype.SolveVelocityConstraints=function(x){var V=x.velocities[this.m_indexB].v,o=x.velocities[this.m_indexB].w,_o=box2d.b2AddCross_V2_S_V2(V,o,this.m_rB,box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_Cdot),_o=box2d.b2Mul_M22_V2(this.m_mass,box2d.b2Add_V2_V2(_o,box2d.b2Add_V2_V2(this.m_C,box2d.b2Mul_S_V2(this.m_gamma,this.m_impulse,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0).SelfNeg(),box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_impulse),_r=box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_oldImpulse.Copy(this.m_impulse);this.m_impulse.SelfAdd(_o);var l=x.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>l*l&&this.m_impulse.SelfMul(l/this.m_impulse.Length()),box2d.b2Sub_V2_V2(this.m_impulse,_r,_o),V.SelfMulAdd(this.m_invMassB,_o),o+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,_o),x.velocities[this.m_indexB].w=o};goog.exportProperty(box2d.b2MouseJoint.prototype,"SolveVelocityConstraints",box2d.b2MouseJoint.prototype.SolveVelocityConstraints);box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2;box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d.b2Vec2;box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_oldImpulse=new box2d.b2Vec2;box2d.b2MouseJoint.prototype.SolvePositionConstraints=function(x){return!0};goog.exportProperty(box2d.b2MouseJoint.prototype,"SolvePositionConstraints",box2d.b2MouseJoint.prototype.SolvePositionConstraints);box2d.b2MouseJoint.prototype.GetAnchorA=function(x){return x.Copy(this.m_targetA)};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetAnchorA",box2d.b2MouseJoint.prototype.GetAnchorA);box2d.b2MouseJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,x)};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetAnchorB",box2d.b2MouseJoint.prototype.GetAnchorB);box2d.b2MouseJoint.prototype.GetReactionForce=function(x,V){return box2d.b2Mul_S_V2(x,this.m_impulse,V)};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetReactionForce",box2d.b2MouseJoint.prototype.GetReactionForce);box2d.b2MouseJoint.prototype.GetReactionTorque=function(x){return 0};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetReactionTorque",box2d.b2MouseJoint.prototype.GetReactionTorque);box2d.b2MouseJoint.prototype.Dump=function(){box2d.DEBUG&&box2d.b2Log(`Mouse joint dumping is not supported.
`)};goog.exportProperty(box2d.b2MouseJoint.prototype,"Dump",box2d.b2MouseJoint.prototype.Dump);box2d.b2MouseJoint.prototype.ShiftOrigin=function(x){this.m_targetA.SelfSub(x)};goog.exportProperty(box2d.b2MouseJoint.prototype,"ShiftOrigin",box2d.b2MouseJoint.prototype.ShiftOrigin);box2d.b2PrismaticJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_prismaticJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2,this.localAxisA=new box2d.b2Vec2(1,0)};goog.inherits(box2d.b2PrismaticJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2PrismaticJointDef",box2d.b2PrismaticJointDef);box2d.b2PrismaticJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"localAnchorA",box2d.b2PrismaticJointDef.prototype.localAnchorA);box2d.b2PrismaticJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"localAnchorB",box2d.b2PrismaticJointDef.prototype.localAnchorB);box2d.b2PrismaticJointDef.prototype.localAxisA=null;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"localAxisA",box2d.b2PrismaticJointDef.prototype.localAxisA);box2d.b2PrismaticJointDef.prototype.referenceAngle=0;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"referenceAngle",box2d.b2PrismaticJointDef.prototype.referenceAngle);box2d.b2PrismaticJointDef.prototype.enableLimit=!1;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"enableLimit",box2d.b2PrismaticJointDef.prototype.enableLimit);box2d.b2PrismaticJointDef.prototype.lowerTranslation=0;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"lowerTranslation",box2d.b2PrismaticJointDef.prototype.lowerTranslation);box2d.b2PrismaticJointDef.prototype.upperTranslation=0;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"upperTranslation",box2d.b2PrismaticJointDef.prototype.upperTranslation);box2d.b2PrismaticJointDef.prototype.enableMotor=!1;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"enableMotor",box2d.b2PrismaticJointDef.prototype.enableMotor);box2d.b2PrismaticJointDef.prototype.maxMotorForce=0;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"maxMotorForce",box2d.b2PrismaticJointDef.prototype.maxMotorForce);box2d.b2PrismaticJointDef.prototype.motorSpeed=0;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"motorSpeed",box2d.b2PrismaticJointDef.prototype.motorSpeed);box2d.b2PrismaticJointDef.prototype.Initialize=function(x,V,o,_o){this.bodyA=x,this.bodyB=V,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB),this.bodyA.GetLocalVector(_o,this.localAxisA),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"Initialize",box2d.b2PrismaticJointDef.prototype.Initialize);box2d.b2PrismaticJoint=function(x){box2d.b2Joint.call(this,x),this.m_localAnchorA=x.localAnchorA.Clone(),this.m_localAnchorB=x.localAnchorB.Clone(),this.m_localXAxisA=x.localAxisA.Clone().SelfNormalize(),this.m_localYAxisA=box2d.b2Cross_S_V2(1,this.m_localXAxisA,new box2d.b2Vec2),this.m_referenceAngle=x.referenceAngle,this.m_impulse=new box2d.b2Vec3(0,0,0),this.m_lowerTranslation=x.lowerTranslation,this.m_upperTranslation=x.upperTranslation,this.m_maxMotorForce=x.maxMotorForce,this.m_motorSpeed=x.motorSpeed,this.m_enableLimit=x.enableLimit,this.m_enableMotor=x.enableMotor,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_axis=new box2d.b2Vec2(0,0),this.m_perp=new box2d.b2Vec2(0,0),this.m_K=new box2d.b2Mat33,this.m_K3=new box2d.b2Mat33,this.m_K2=new box2d.b2Mat22,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2};goog.inherits(box2d.b2PrismaticJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2PrismaticJoint",box2d.b2PrismaticJoint);box2d.b2PrismaticJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localAnchorA",box2d.b2PrismaticJoint.prototype.m_localAnchorA);box2d.b2PrismaticJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localAnchorB",box2d.b2PrismaticJoint.prototype.m_localAnchorB);box2d.b2PrismaticJoint.prototype.m_localXAxisA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localXAxisA",box2d.b2PrismaticJoint.prototype.m_localXAxisA);box2d.b2PrismaticJoint.prototype.m_localYAxisA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localYAxisA",box2d.b2PrismaticJoint.prototype.m_localYAxisA);box2d.b2PrismaticJoint.prototype.m_referenceAngle=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_referenceAngle",box2d.b2PrismaticJoint.prototype.m_referenceAngle);box2d.b2PrismaticJoint.prototype.m_impulse=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_impulse",box2d.b2PrismaticJoint.prototype.m_impulse);box2d.b2PrismaticJoint.prototype.m_motorImpulse=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_motorImpulse",box2d.b2PrismaticJoint.prototype.m_motorImpulse);box2d.b2PrismaticJoint.prototype.m_lowerTranslation=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_lowerTranslation",box2d.b2PrismaticJoint.prototype.m_lowerTranslation);box2d.b2PrismaticJoint.prototype.m_upperTranslation=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_upperTranslation",box2d.b2PrismaticJoint.prototype.m_upperTranslation);box2d.b2PrismaticJoint.prototype.m_maxMotorForce=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_maxMotorForce",box2d.b2PrismaticJoint.prototype.m_maxMotorForce);box2d.b2PrismaticJoint.prototype.m_motorSpeed=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_motorSpeed",box2d.b2PrismaticJoint.prototype.m_motorSpeed);box2d.b2PrismaticJoint.prototype.m_enableLimit=!1;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_enableLimit",box2d.b2PrismaticJoint.prototype.m_enableLimit);box2d.b2PrismaticJoint.prototype.m_enableMotor=!1;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_enableMotor",box2d.b2PrismaticJoint.prototype.m_enableMotor);box2d.b2PrismaticJoint.prototype.m_limitState=box2d.b2LimitState.e_inactiveLimit;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_limitState",box2d.b2PrismaticJoint.prototype.m_limitState);box2d.b2PrismaticJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_indexA",box2d.b2PrismaticJoint.prototype.m_indexA);box2d.b2PrismaticJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_indexB",box2d.b2PrismaticJoint.prototype.m_indexB);box2d.b2PrismaticJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localCenterA",box2d.b2PrismaticJoint.prototype.m_localCenterA);box2d.b2PrismaticJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localCenterB",box2d.b2PrismaticJoint.prototype.m_localCenterB);box2d.b2PrismaticJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_invMassA",box2d.b2PrismaticJoint.prototype.m_invMassA);box2d.b2PrismaticJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_invMassB",box2d.b2PrismaticJoint.prototype.m_invMassB);box2d.b2PrismaticJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_invIA",box2d.b2PrismaticJoint.prototype.m_invIA);box2d.b2PrismaticJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_invIB",box2d.b2PrismaticJoint.prototype.m_invIB);box2d.b2PrismaticJoint.prototype.m_axis=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_axis",box2d.b2PrismaticJoint.prototype.m_axis);box2d.b2PrismaticJoint.prototype.m_perp=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_perp",box2d.b2PrismaticJoint.prototype.m_perp);box2d.b2PrismaticJoint.prototype.m_s1=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_s1",box2d.b2PrismaticJoint.prototype.m_s1);box2d.b2PrismaticJoint.prototype.m_s2=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_s2",box2d.b2PrismaticJoint.prototype.m_s2);box2d.b2PrismaticJoint.prototype.m_a1=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_a1",box2d.b2PrismaticJoint.prototype.m_a1);box2d.b2PrismaticJoint.prototype.m_a2=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_a2",box2d.b2PrismaticJoint.prototype.m_a2);box2d.b2PrismaticJoint.prototype.m_K=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_K",box2d.b2PrismaticJoint.prototype.m_K);box2d.b2PrismaticJoint.prototype.m_K3=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_K3",box2d.b2PrismaticJoint.prototype.m_K3);box2d.b2PrismaticJoint.prototype.m_K2=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_K2",box2d.b2PrismaticJoint.prototype.m_K2);box2d.b2PrismaticJoint.prototype.m_motorMass=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_motorMass",box2d.b2PrismaticJoint.prototype.m_motorMass);box2d.b2PrismaticJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_qA",box2d.b2PrismaticJoint.prototype.m_qA);box2d.b2PrismaticJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_qB",box2d.b2PrismaticJoint.prototype.m_qB);box2d.b2PrismaticJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_lalcA",box2d.b2PrismaticJoint.prototype.m_lalcA);box2d.b2PrismaticJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_lalcB",box2d.b2PrismaticJoint.prototype.m_lalcB);box2d.b2PrismaticJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_rA",box2d.b2PrismaticJoint.prototype.m_rA);box2d.b2PrismaticJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_rB",box2d.b2PrismaticJoint.prototype.m_rB);box2d.b2PrismaticJoint.prototype.InitVelocityConstraints=function(x){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _e=x.positions[this.m_indexA].c,V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,c_=x.positions[this.m_indexB].c,ws=x.positions[this.m_indexB].a,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,l=this.m_qA.SetAngle(x.positions[this.m_indexA].a),ws=this.m_qB.SetAngle(ws);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var e_=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA);box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var o_=box2d.b2Mul_R_V2(ws,this.m_lalcB,this.m_rB),i_=box2d.b2Add_V2_V2(box2d.b2Sub_V2_V2(c_,_e,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(o_,e_,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_d),_e=this.m_invMassA,c_=this.m_invMassB,ws=this.m_invIA,h_=this.m_invIB;box2d.b2Mul_R_V2(l,this.m_localXAxisA,this.m_axis),this.m_a1=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(i_,e_,box2d.b2Vec2.s_t0),this.m_axis),this.m_a2=box2d.b2Cross_V2_V2(o_,this.m_axis),this.m_motorMass=_e+c_+ws*this.m_a1*this.m_a1+h_*this.m_a2*this.m_a2,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass),box2d.b2Mul_R_V2(l,this.m_localYAxisA,this.m_perp),this.m_s1=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(i_,e_,box2d.b2Vec2.s_t0),this.m_perp),this.m_s2=box2d.b2Cross_V2_V2(o_,this.m_perp),this.m_K.ex.x=_e+c_+ws*this.m_s1*this.m_s1+h_*this.m_s2*this.m_s2,this.m_K.ex.y=ws*this.m_s1+h_*this.m_s2,this.m_K.ex.z=ws*this.m_s1*this.m_a1+h_*this.m_s2*this.m_a2,this.m_K.ey.x=this.m_K.ex.y,this.m_K.ey.y=ws+h_,this.m_K.ey.y===0&&(this.m_K.ey.y=1),this.m_K.ey.z=ws*this.m_a1+h_*this.m_a2,this.m_K.ez.x=this.m_K.ex.z,this.m_K.ez.y=this.m_K.ey.z,this.m_K.ez.z=_e+c_+ws*this.m_a1*this.m_a1+h_*this.m_a2*this.m_a2,this.m_enableLimit?(l=box2d.b2Dot_V2_V2(this.m_axis,i_),box2d.b2Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*box2d.b2_linearSlop?this.m_limitState=box2d.b2LimitState.e_equalLimits:l<=this.m_lowerTranslation?this.m_limitState!==box2d.b2LimitState.e_atLowerLimit&&(this.m_limitState=box2d.b2LimitState.e_atLowerLimit,this.m_impulse.z=0):l>=this.m_upperTranslation?this.m_limitState!==box2d.b2LimitState.e_atUpperLimit&&(this.m_limitState=box2d.b2LimitState.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=box2d.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)):(this.m_limitState=box2d.b2LimitState.e_inactiveLimit,this.m_impulse.z=0),this.m_enableMotor||(this.m_motorImpulse=0),x.step.warmStarting?(this.m_impulse.SelfMulScalar(x.step.dtRatio),this.m_motorImpulse*=x.step.dtRatio,l=box2d.b2Add_V2_V2(box2d.b2Mul_S_V2(this.m_impulse.x,this.m_perp,box2d.b2Vec2.s_t0),box2d.b2Mul_S_V2(this.m_motorImpulse+this.m_impulse.z,this.m_axis,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_P),e_=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,o_=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,V.SelfMulSub(_e,l),o-=ws*e_,_o.SelfMulAdd(c_,l),_r+=h_*o_):(this.m_impulse.SetZero(),this.m_motorImpulse=0),x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"InitVelocityConstraints",box2d.b2PrismaticJoint.prototype.InitVelocityConstraints);box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_d=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints=function(x){var V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,l=this.m_invMassA,e_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB;if(this.m_enableMotor&&this.m_limitState!==box2d.b2LimitState.e_equalLimits){var _e=box2d.b2Dot_V2_V2(this.m_axis,box2d.b2Sub_V2_V2(_o,V,box2d.b2Vec2.s_t0))+this.m_a2*_r-this.m_a1*o,_e=this.m_motorMass*(this.m_motorSpeed-_e),c_=this.m_motorImpulse,ws=x.step.dt*this.m_maxMotorForce;this.m_motorImpulse=box2d.b2Clamp(this.m_motorImpulse+_e,-ws,ws),_e=this.m_motorImpulse-c_,c_=box2d.b2Mul_S_V2(_e,this.m_axis,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),ws=_e*this.m_a1,_e*=this.m_a2,V.SelfMulSub(l,c_),o-=o_*ws,_o.SelfMulAdd(e_,c_),_r+=i_*_e}var ws=box2d.b2Dot_V2_V2(this.m_perp,box2d.b2Sub_V2_V2(_o,V,box2d.b2Vec2.s_t0))+this.m_s2*_r-this.m_s1*o,h_=_r-o;this.m_enableLimit&&this.m_limitState!==box2d.b2LimitState.e_inactiveLimit?(_e=box2d.b2Dot_V2_V2(this.m_axis,box2d.b2Sub_V2_V2(_o,V,box2d.b2Vec2.s_t0))+this.m_a2*_r-this.m_a1*o,c_=box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f1.Copy(this.m_impulse),_e=this.m_K.Solve33(-ws,-h_,-_e,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df3),this.m_impulse.SelfAdd(_e),this.m_limitState===box2d.b2LimitState.e_atLowerLimit?this.m_impulse.z=box2d.b2Max(this.m_impulse.z,0):this.m_limitState===box2d.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=box2d.b2Min(this.m_impulse.z,0)),ws=this.m_K.Solve22(-ws-(this.m_impulse.z-c_.z)*this.m_K.ez.x,-h_-(this.m_impulse.z-c_.z)*this.m_K.ez.y,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f2r),ws.x+=c_.x,ws.y+=c_.y,this.m_impulse.x=ws.x,this.m_impulse.y=ws.y,_e.x=this.m_impulse.x-c_.x,_e.y=this.m_impulse.y-c_.y,_e.z=this.m_impulse.z-c_.z,c_=box2d.b2Add_V2_V2(box2d.b2Mul_S_V2(_e.x,this.m_perp,box2d.b2Vec2.s_t0),box2d.b2Mul_S_V2(_e.z,this.m_axis,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),ws=_e.x*this.m_s1+_e.y+_e.z*this.m_a1,_e=_e.x*this.m_s2+_e.y+_e.z*this.m_a2):(_e=this.m_K.Solve22(-ws,-h_,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df2),this.m_impulse.x+=_e.x,this.m_impulse.y+=_e.y,c_=box2d.b2Mul_S_V2(_e.x,this.m_perp,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),ws=_e.x*this.m_s1+_e.y,_e=_e.x*this.m_s2+_e.y),V.SelfMulSub(l,c_),o-=o_*ws,_o.SelfMulAdd(e_,c_),x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r+i_*_e};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"SolveVelocityConstraints",box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints);box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f2r=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f1=new box2d.b2Vec3;box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df3=new box2d.b2Vec3;box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df2=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolvePositionConstraints=function(x){var V=x.positions[this.m_indexA].c,o=x.positions[this.m_indexA].a,_o=x.positions[this.m_indexB].c,_r=x.positions[this.m_indexB].a,s_=this.m_qA.SetAngle(o),h_=this.m_qB.SetAngle(_r),l=this.m_invMassA,e_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB,j_=box2d.b2Mul_R_V2(s_,this.m_lalcA,this.m_rA),n2=box2d.b2Mul_R_V2(h_,this.m_lalcB,this.m_rB),_e=box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(_o,n2,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(V,j_,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_d),c_=box2d.b2Mul_R_V2(s_,this.m_localXAxisA,this.m_axis),ws=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(_e,j_,box2d.b2Vec2.s_t0),c_),h_=box2d.b2Cross_V2_V2(n2,c_),s_=box2d.b2Mul_R_V2(s_,this.m_localYAxisA,this.m_perp),w_=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(_e,j_,box2d.b2Vec2.s_t0),s_),L_=box2d.b2Cross_V2_V2(n2,s_),y_=box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse,I_=box2d.b2Dot_V2_V2(s_,_e),k_=_r-o-this.m_referenceAngle,j_=box2d.b2Abs(I_),n2=box2d.b2Abs(k_),p2=!1,u2=0;if(this.m_enableLimit&&(_e=box2d.b2Dot_V2_V2(c_,_e),box2d.b2Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*box2d.b2_linearSlop?(u2=box2d.b2Clamp(_e,-box2d.b2_maxLinearCorrection,box2d.b2_maxLinearCorrection),j_=box2d.b2Max(j_,box2d.b2Abs(_e)),p2=!0):_e<=this.m_lowerTranslation?(u2=box2d.b2Clamp(_e-this.m_lowerTranslation+box2d.b2_linearSlop,-box2d.b2_maxLinearCorrection,0),j_=box2d.b2Max(j_,this.m_lowerTranslation-_e),p2=!0):_e>=this.m_upperTranslation&&(u2=box2d.b2Clamp(_e-this.m_upperTranslation-box2d.b2_linearSlop,0,box2d.b2_maxLinearCorrection),j_=box2d.b2Max(j_,_e-this.m_upperTranslation),p2=!0)),p2){var _e=o_*w_+i_*L_,T2=o_*w_*ws+i_*L_*h_,p2=o_+i_;p2===0&&(p2=1);var I2=o_*ws+i_*h_,q2=l+e_+o_*ws*ws+i_*h_*h_,O2=this.m_K3;O2.ex.Set(l+e_+o_*w_*w_+i_*L_*L_,_e,T2),O2.ey.Set(_e,p2,I2),O2.ez.Set(T2,I2,q2),y_=O2.Solve33(-I_,-k_,-u2,y_)}else _e=o_*w_+i_*L_,p2=o_+i_,p2===0&&(p2=1),u2=this.m_K2,u2.ex.Set(l+e_+o_*w_*w_+i_*L_*L_,_e),u2.ey.Set(_e,p2),I_=u2.Solve(-I_,-k_,box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse1),y_.x=I_.x,y_.y=I_.y,y_.z=0;return c_=box2d.b2Add_V2_V2(box2d.b2Mul_S_V2(y_.x,s_,box2d.b2Vec2.s_t0),box2d.b2Mul_S_V2(y_.z,c_,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_P),ws=y_.x*w_+y_.y+y_.z*ws,h_=y_.x*L_+y_.y+y_.z*h_,V.SelfMulSub(l,c_),o-=o_*ws,_o.SelfMulAdd(e_,c_),x.positions[this.m_indexA].a=o,x.positions[this.m_indexB].a=_r+i_*h_,j_<=box2d.b2_linearSlop&&n2<=box2d.b2_angularSlop};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"SolvePositionConstraints",box2d.b2PrismaticJoint.prototype.SolvePositionConstraints);box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_d=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse=new box2d.b2Vec3;box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse1=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.GetAnchorA=function(x){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,x)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetAnchorA",box2d.b2PrismaticJoint.prototype.GetAnchorA);box2d.b2PrismaticJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,x)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetAnchorB",box2d.b2PrismaticJoint.prototype.GetAnchorB);box2d.b2PrismaticJoint.prototype.GetReactionForce=function(x,V){return V.Set(x*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),x*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetReactionForce",box2d.b2PrismaticJoint.prototype.GetReactionForce);box2d.b2PrismaticJoint.prototype.GetReactionTorque=function(x){return x*this.m_impulse.y};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetReactionTorque",box2d.b2PrismaticJoint.prototype.GetReactionTorque);box2d.b2PrismaticJoint.prototype.GetLocalAnchorA=function(x){return x.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetLocalAnchorA",box2d.b2PrismaticJoint.prototype.GetLocalAnchorA);box2d.b2PrismaticJoint.prototype.GetLocalAnchorB=function(x){return x.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetLocalAnchorB",box2d.b2PrismaticJoint.prototype.GetLocalAnchorB);box2d.b2PrismaticJoint.prototype.GetLocalAxisA=function(x){return x.Copy(this.m_localXAxisA)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetLocalAxisA",box2d.b2PrismaticJoint.prototype.GetLocalAxisA);box2d.b2PrismaticJoint.prototype.GetReferenceAngle=function(){return this.m_referenceAngle};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetReferenceAngle",box2d.b2PrismaticJoint.prototype.GetReferenceAngle);box2d.b2PrismaticJoint.prototype.GetJointTranslation=function(){var x=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pA),V=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pB),x=box2d.b2Sub_V2_V2(V,x,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_d),V=this.m_bodyA.GetWorldVector(this.m_localXAxisA,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_axis);return box2d.b2Dot_V2_V2(x,V)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetJointTranslation",box2d.b2PrismaticJoint.prototype.GetJointTranslation);box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pA=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pB=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_d=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_axis=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.GetJointSpeed=function(){var e_=this.m_bodyA,o_=this.m_bodyB;box2d.b2Sub_V2_V2(this.m_localAnchorA,e_.m_sweep.localCenter,this.m_lalcA);var x=box2d.b2Mul_R_V2(e_.m_xf.q,this.m_lalcA,this.m_rA);box2d.b2Sub_V2_V2(this.m_localAnchorB,o_.m_sweep.localCenter,this.m_lalcB);var V=box2d.b2Mul_R_V2(o_.m_xf.q,this.m_lalcB,this.m_rB),o=box2d.b2Add_V2_V2(e_.m_sweep.c,x,box2d.b2Vec2.s_t0),_o=box2d.b2Add_V2_V2(o_.m_sweep.c,V,box2d.b2Vec2.s_t1),o=box2d.b2Sub_V2_V2(_o,o,box2d.b2Vec2.s_t2),_o=e_.GetWorldVector(this.m_localXAxisA,this.m_axis),_r=e_.m_linearVelocity,l=o_.m_linearVelocity,e_=e_.m_angularVelocity,o_=o_.m_angularVelocity;return box2d.b2Dot_V2_V2(o,box2d.b2Cross_S_V2(e_,_o,box2d.b2Vec2.s_t0))+box2d.b2Dot_V2_V2(_o,box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(l,o_,V,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(_r,e_,x,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0))};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetJointSpeed",box2d.b2PrismaticJoint.prototype.GetJointSpeed);box2d.b2PrismaticJoint.prototype.IsLimitEnabled=function(){return this.m_enableLimit};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"IsLimitEnabled",box2d.b2PrismaticJoint.prototype.IsLimitEnabled);box2d.b2PrismaticJoint.prototype.EnableLimit=function(x){x!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=x,this.m_impulse.z=0)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"EnableLimit",box2d.b2PrismaticJoint.prototype.EnableLimit);box2d.b2PrismaticJoint.prototype.GetLowerLimit=function(){return this.m_lowerTranslation};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetLowerLimit",box2d.b2PrismaticJoint.prototype.GetLowerLimit);box2d.b2PrismaticJoint.prototype.GetUpperLimit=function(){return this.m_upperTranslation};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetUpperLimit",box2d.b2PrismaticJoint.prototype.GetUpperLimit);box2d.b2PrismaticJoint.prototype.SetLimits=function(x,V){(x!==this.m_lowerTranslation||V!==this.m_upperTranslation)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=x,this.m_upperTranslation=V,this.m_impulse.z=0)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"SetLimits",box2d.b2PrismaticJoint.prototype.SetLimits);box2d.b2PrismaticJoint.prototype.IsMotorEnabled=function(){return this.m_enableMotor};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"IsMotorEnabled",box2d.b2PrismaticJoint.prototype.IsMotorEnabled);box2d.b2PrismaticJoint.prototype.EnableMotor=function(x){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=x};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"EnableMotor",box2d.b2PrismaticJoint.prototype.EnableMotor);box2d.b2PrismaticJoint.prototype.SetMotorSpeed=function(x){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=x};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"SetMotorSpeed",box2d.b2PrismaticJoint.prototype.SetMotorSpeed);box2d.b2PrismaticJoint.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetMotorSpeed",box2d.b2PrismaticJoint.prototype.GetMotorSpeed);box2d.b2PrismaticJoint.prototype.SetMaxMotorForce=function(x){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=x};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"SetMaxMotorForce",box2d.b2PrismaticJoint.prototype.SetMaxMotorForce);box2d.b2PrismaticJoint.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetMaxMotorForce",box2d.b2PrismaticJoint.prototype.GetMaxMotorForce);box2d.b2PrismaticJoint.prototype.GetMotorForce=function(x){return x*this.m_motorImpulse};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetMotorForce",box2d.b2PrismaticJoint.prototype.GetMotorForce);box2d.b2PrismaticJoint.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_bodyA.m_islandIndex,V=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2PrismaticJointDef*/ var jd = new box2d.b2PrismaticJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,x),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,V),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.localAxisA.Set(%.15f, %.15f);
`,this.m_localXAxisA.x,this.m_localXAxisA.y),box2d.b2Log(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),box2d.b2Log(`  jd.enableLimit = %s;
`,this.m_enableLimit?"true":"false"),box2d.b2Log(`  jd.lowerTranslation = %.15f;
`,this.m_lowerTranslation),box2d.b2Log(`  jd.upperTranslation = %.15f;
`,this.m_upperTranslation),box2d.b2Log(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),box2d.b2Log(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),box2d.b2Log(`  jd.maxMotorForce = %.15f;
`,this.m_maxMotorForce),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"Dump",box2d.b2PrismaticJoint.prototype.Dump);box2d.b2_minPulleyLength=2;goog.exportSymbol("box2d.b2_minPulleyLength",box2d.b2_minPulleyLength);box2d.b2PulleyJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_pulleyJoint),this.collideConnected=!0,this.groundAnchorA=new box2d.b2Vec2(-1,1),this.groundAnchorB=new box2d.b2Vec2(1,1),this.localAnchorA=new box2d.b2Vec2(-1,0),this.localAnchorB=new box2d.b2Vec2(1,0)};goog.inherits(box2d.b2PulleyJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2PulleyJointDef",box2d.b2PulleyJointDef);box2d.b2PulleyJointDef.prototype.groundAnchorA=null;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"groundAnchorA",box2d.b2PulleyJointDef.prototype.groundAnchorA);box2d.b2PulleyJointDef.prototype.groundAnchorB=null;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"groundAnchorB",box2d.b2PulleyJointDef.prototype.groundAnchorB);box2d.b2PulleyJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"localAnchorA",box2d.b2PulleyJointDef.prototype.localAnchorA);box2d.b2PulleyJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"localAnchorB",box2d.b2PulleyJointDef.prototype.localAnchorB);box2d.b2PulleyJointDef.prototype.lengthA=0;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"lengthA",box2d.b2PulleyJointDef.prototype.lengthA);box2d.b2PulleyJointDef.prototype.lengthB=0;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"lengthB",box2d.b2PulleyJointDef.prototype.lengthB);box2d.b2PulleyJointDef.prototype.ratio=1;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"ratio",box2d.b2PulleyJointDef.prototype.ratio);box2d.b2PulleyJointDef.prototype.Initialize=function(x,V,o,_o,_r,l,e_){this.bodyA=x,this.bodyB=V,this.groundAnchorA.Copy(o),this.groundAnchorB.Copy(_o),this.bodyA.GetLocalPoint(_r,this.localAnchorA),this.bodyB.GetLocalPoint(l,this.localAnchorB),this.lengthA=box2d.b2Distance(_r,o),this.lengthB=box2d.b2Distance(l,_o),this.ratio=e_,box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.ratio>box2d.b2_epsilon)};goog.exportProperty(box2d.b2PulleyJointDef.prototype,"Initialize",box2d.b2PulleyJointDef.prototype.Initialize);box2d.b2PulleyJoint=function(x){box2d.b2Joint.call(this,x),this.m_groundAnchorA=new box2d.b2Vec2,this.m_groundAnchorB=new box2d.b2Vec2,this.m_localAnchorA=new box2d.b2Vec2,this.m_localAnchorB=new box2d.b2Vec2,this.m_uA=new box2d.b2Vec2,this.m_uB=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_groundAnchorA.Copy(x.groundAnchorA),this.m_groundAnchorB.Copy(x.groundAnchorB),this.m_localAnchorA.Copy(x.localAnchorA),this.m_localAnchorB.Copy(x.localAnchorB),this.m_lengthA=x.lengthA,this.m_lengthB=x.lengthB,box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.ratio!==0),this.m_ratio=x.ratio,this.m_constant=x.lengthA+this.m_ratio*x.lengthB,this.m_impulse=0};goog.inherits(box2d.b2PulleyJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2PulleyJoint",box2d.b2PulleyJoint);box2d.b2PulleyJoint.prototype.m_groundAnchorA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_groundAnchorA",box2d.b2PulleyJoint.prototype.m_groundAnchorA);box2d.b2PulleyJoint.prototype.m_groundAnchorB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_groundAnchorB",box2d.b2PulleyJoint.prototype.m_groundAnchorB);box2d.b2PulleyJoint.prototype.m_lengthA=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_lengthA",box2d.b2PulleyJoint.prototype.m_lengthA);box2d.b2PulleyJoint.prototype.m_lengthB=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_lengthB",box2d.b2PulleyJoint.prototype.m_lengthB);box2d.b2PulleyJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_localAnchorA",box2d.b2PulleyJoint.prototype.m_localAnchorA);box2d.b2PulleyJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_localAnchorB",box2d.b2PulleyJoint.prototype.m_localAnchorB);box2d.b2PulleyJoint.prototype.m_constant=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_constant",box2d.b2PulleyJoint.prototype.m_constant);box2d.b2PulleyJoint.prototype.m_ratio=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_ratio",box2d.b2PulleyJoint.prototype.m_ratio);box2d.b2PulleyJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_impulse",box2d.b2PulleyJoint.prototype.m_impulse);box2d.b2PulleyJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_indexA",box2d.b2PulleyJoint.prototype.m_indexA);box2d.b2PulleyJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_indexB",box2d.b2PulleyJoint.prototype.m_indexB);box2d.b2PulleyJoint.prototype.m_uA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_uA",box2d.b2PulleyJoint.prototype.m_uA);box2d.b2PulleyJoint.prototype.m_uB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_uB",box2d.b2PulleyJoint.prototype.m_uB);box2d.b2PulleyJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_rA",box2d.b2PulleyJoint.prototype.m_rA);box2d.b2PulleyJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_rB",box2d.b2PulleyJoint.prototype.m_rB);box2d.b2PulleyJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_localCenterA",box2d.b2PulleyJoint.prototype.m_localCenterA);box2d.b2PulleyJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_localCenterB",box2d.b2PulleyJoint.prototype.m_localCenterB);box2d.b2PulleyJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_invMassA",box2d.b2PulleyJoint.prototype.m_invMassA);box2d.b2PulleyJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_invMassB",box2d.b2PulleyJoint.prototype.m_invMassB);box2d.b2PulleyJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_invIA",box2d.b2PulleyJoint.prototype.m_invIA);box2d.b2PulleyJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_invIB",box2d.b2PulleyJoint.prototype.m_invIB);box2d.b2PulleyJoint.prototype.m_mass=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_mass",box2d.b2PulleyJoint.prototype.m_mass);box2d.b2PulleyJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_qA",box2d.b2PulleyJoint.prototype.m_qA);box2d.b2PulleyJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_qB",box2d.b2PulleyJoint.prototype.m_qB);box2d.b2PulleyJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_lalcA",box2d.b2PulleyJoint.prototype.m_lalcA);box2d.b2PulleyJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_lalcB",box2d.b2PulleyJoint.prototype.m_lalcB);box2d.b2PulleyJoint.prototype.InitVelocityConstraints=function(x){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=x.positions[this.m_indexA].c,o=x.velocities[this.m_indexA].v,_o=x.velocities[this.m_indexA].w,_r=x.positions[this.m_indexB].c,i_=x.positions[this.m_indexB].a,l=x.velocities[this.m_indexB].v,e_=x.velocities[this.m_indexB].w,o_=this.m_qA.SetAngle(x.positions[this.m_indexA].a),i_=this.m_qB.SetAngle(i_);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(i_,this.m_lalcB,this.m_rB),this.m_uA.Copy(V).SelfAdd(this.m_rA).SelfSub(this.m_groundAnchorA),this.m_uB.Copy(_r).SelfAdd(this.m_rB).SelfSub(this.m_groundAnchorB),V=this.m_uA.Length(),_r=this.m_uB.Length(),V>10*box2d.b2_linearSlop?this.m_uA.SelfMul(1/V):this.m_uA.SetZero(),_r>10*box2d.b2_linearSlop?this.m_uB.SelfMul(1/_r):this.m_uB.SetZero(),V=box2d.b2Cross_V2_V2(this.m_rA,this.m_uA),_r=box2d.b2Cross_V2_V2(this.m_rB,this.m_uB),this.m_mass=this.m_invMassA+this.m_invIA*V*V+this.m_ratio*this.m_ratio*(this.m_invMassB+this.m_invIB*_r*_r),0<this.m_mass&&(this.m_mass=1/this.m_mass),x.step.warmStarting?(this.m_impulse*=x.step.dtRatio,V=box2d.b2Mul_S_V2(-this.m_impulse,this.m_uA,box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PA),_r=box2d.b2Mul_S_V2(-this.m_ratio*this.m_impulse,this.m_uB,box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PB),o.SelfMulAdd(this.m_invMassA,V),_o+=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,V),l.SelfMulAdd(this.m_invMassB,_r),e_+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,_r)):this.m_impulse=0,x.velocities[this.m_indexA].w=_o,x.velocities[this.m_indexB].w=e_};goog.exportProperty(box2d.b2PulleyJoint.prototype,"InitVelocityConstraints",box2d.b2PulleyJoint.prototype.InitVelocityConstraints);box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PA=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PB=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolveVelocityConstraints=function(x){var V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,l=box2d.b2AddCross_V2_S_V2(V,o,this.m_rA,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpA),e_=box2d.b2AddCross_V2_S_V2(_o,_r,this.m_rB,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpB),l=-box2d.b2Dot_V2_V2(this.m_uA,l)-this.m_ratio*box2d.b2Dot_V2_V2(this.m_uB,e_),e_=-this.m_mass*l;this.m_impulse+=e_,l=box2d.b2Mul_S_V2(-e_,this.m_uA,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PA),e_=box2d.b2Mul_S_V2(-this.m_ratio*e_,this.m_uB,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PB),V.SelfMulAdd(this.m_invMassA,l),o+=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,l),_o.SelfMulAdd(this.m_invMassB,e_),_r+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,e_),x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r};goog.exportProperty(box2d.b2PulleyJoint.prototype,"SolveVelocityConstraints",box2d.b2PulleyJoint.prototype.SolveVelocityConstraints);box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PA=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PB=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolvePositionConstraints=function(x){var V=x.positions[this.m_indexA].c,o=x.positions[this.m_indexA].a,_o=x.positions[this.m_indexB].c,_r=x.positions[this.m_indexB].a,l=this.m_qA.SetAngle(o),e_=this.m_qB.SetAngle(_r);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),l=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var e_=box2d.b2Mul_R_V2(e_,this.m_lalcB,this.m_rB),o_=this.m_uA.Copy(V).SelfAdd(l).SelfSub(this.m_groundAnchorA),i_=this.m_uB.Copy(_o).SelfAdd(e_).SelfSub(this.m_groundAnchorB),_e=o_.Length(),c_=i_.Length();_e>10*box2d.b2_linearSlop?o_.SelfMul(1/_e):o_.SetZero(),c_>10*box2d.b2_linearSlop?i_.SelfMul(1/c_):i_.SetZero();var h_=box2d.b2Cross_V2_V2(l,o_),ws=box2d.b2Cross_V2_V2(e_,i_),h_=this.m_invMassA+this.m_invIA*h_*h_+this.m_ratio*this.m_ratio*(this.m_invMassB+this.m_invIB*ws*ws);return 0<h_&&(h_=1/h_),c_=this.m_constant-_e-this.m_ratio*c_,_e=box2d.b2Abs(c_),c_*=-h_,o_=box2d.b2Mul_S_V2(-c_,o_,box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PA),i_=box2d.b2Mul_S_V2(-this.m_ratio*c_,i_,box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PB),V.SelfMulAdd(this.m_invMassA,o_),o+=this.m_invIA*box2d.b2Cross_V2_V2(l,o_),_o.SelfMulAdd(this.m_invMassB,i_),_r+=this.m_invIB*box2d.b2Cross_V2_V2(e_,i_),x.positions[this.m_indexA].a=o,x.positions[this.m_indexB].a=_r,_e<box2d.b2_linearSlop};goog.exportProperty(box2d.b2PulleyJoint.prototype,"SolvePositionConstraints",box2d.b2PulleyJoint.prototype.SolvePositionConstraints);box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PA=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PB=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.GetAnchorA=function(x){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,x)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetAnchorA",box2d.b2PulleyJoint.prototype.GetAnchorA);box2d.b2PulleyJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,x)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetAnchorB",box2d.b2PulleyJoint.prototype.GetAnchorB);box2d.b2PulleyJoint.prototype.GetReactionForce=function(x,V){return V.Set(x*this.m_impulse*this.m_uB.x,x*this.m_impulse*this.m_uB.y)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetReactionForce",box2d.b2PulleyJoint.prototype.GetReactionForce);box2d.b2PulleyJoint.prototype.GetReactionTorque=function(x){return 0};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetReactionTorque",box2d.b2PulleyJoint.prototype.GetReactionTorque);box2d.b2PulleyJoint.prototype.GetGroundAnchorA=function(x){return x.Copy(this.m_groundAnchorA)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetGroundAnchorA",box2d.b2PulleyJoint.prototype.GetGroundAnchorA);box2d.b2PulleyJoint.prototype.GetGroundAnchorB=function(x){return x.Copy(this.m_groundAnchorB)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetGroundAnchorB",box2d.b2PulleyJoint.prototype.GetGroundAnchorB);box2d.b2PulleyJoint.prototype.GetLengthA=function(){return this.m_lengthA};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetLengthA",box2d.b2PulleyJoint.prototype.GetLengthA);box2d.b2PulleyJoint.prototype.GetLengthB=function(){return this.m_lengthB};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetLengthB",box2d.b2PulleyJoint.prototype.GetLengthB);box2d.b2PulleyJoint.prototype.GetRatio=function(){return this.m_ratio};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetRatio",box2d.b2PulleyJoint.prototype.GetRatio);box2d.b2PulleyJoint.prototype.GetCurrentLengthA=function(){var x=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,box2d.b2PulleyJoint.prototype.GetCurrentLengthA.s_p);return box2d.b2Distance(x,this.m_groundAnchorA)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetCurrentLengthA",box2d.b2PulleyJoint.prototype.GetCurrentLengthA);box2d.b2PulleyJoint.prototype.GetCurrentLengthA.s_p=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.GetCurrentLengthB=function(){var x=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,box2d.b2PulleyJoint.prototype.GetCurrentLengthB.s_p);return box2d.b2Distance(x,this.m_groundAnchorB)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetCurrentLengthB",box2d.b2PulleyJoint.prototype.GetCurrentLengthB);box2d.b2PulleyJoint.prototype.GetCurrentLengthB.s_p=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_bodyA.m_islandIndex,V=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2PulleyJointDef*/ var jd = new box2d.b2PulleyJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,x),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,V),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.groundAnchorA.Set(%.15f, %.15f);
`,this.m_groundAnchorA.x,this.m_groundAnchorA.y),box2d.b2Log(`  jd.groundAnchorB.Set(%.15f, %.15f);
`,this.m_groundAnchorB.x,this.m_groundAnchorB.y),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.lengthA = %.15f;
`,this.m_lengthA),box2d.b2Log(`  jd.lengthB = %.15f;
`,this.m_lengthB),box2d.b2Log(`  jd.ratio = %.15f;
`,this.m_ratio),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2PulleyJoint.prototype,"Dump",box2d.b2PulleyJoint.prototype.Dump);box2d.b2PulleyJoint.prototype.ShiftOrigin=function(x){this.m_groundAnchorA.SelfSub(x),this.m_groundAnchorB.SelfSub(x)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"ShiftOrigin",box2d.b2PulleyJoint.prototype.ShiftOrigin);box2d.b2RevoluteJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_revoluteJoint),this.localAnchorA=new box2d.b2Vec2(0,0),this.localAnchorB=new box2d.b2Vec2(0,0)};goog.inherits(box2d.b2RevoluteJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2RevoluteJointDef",box2d.b2RevoluteJointDef);box2d.b2RevoluteJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"localAnchorA",box2d.b2RevoluteJointDef.prototype.localAnchorA);box2d.b2RevoluteJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"localAnchorB",box2d.b2RevoluteJointDef.prototype.localAnchorB);box2d.b2RevoluteJointDef.prototype.referenceAngle=0;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"referenceAngle",box2d.b2RevoluteJointDef.prototype.referenceAngle);box2d.b2RevoluteJointDef.prototype.enableLimit=!1;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"enableLimit",box2d.b2RevoluteJointDef.prototype.enableLimit);box2d.b2RevoluteJointDef.prototype.lowerAngle=0;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"lowerAngle",box2d.b2RevoluteJointDef.prototype.lowerAngle);box2d.b2RevoluteJointDef.prototype.upperAngle=0;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"upperAngle",box2d.b2RevoluteJointDef.prototype.upperAngle);box2d.b2RevoluteJointDef.prototype.enableMotor=!1;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"enableMotor",box2d.b2RevoluteJointDef.prototype.enableMotor);box2d.b2RevoluteJointDef.prototype.motorSpeed=0;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"motorSpeed",box2d.b2RevoluteJointDef.prototype.motorSpeed);box2d.b2RevoluteJointDef.prototype.maxMotorTorque=0;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"maxMotorTorque",box2d.b2RevoluteJointDef.prototype.maxMotorTorque);box2d.b2RevoluteJointDef.prototype.Initialize=function(x,V,o){this.bodyA=x,this.bodyB=V,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"Initialize",box2d.b2RevoluteJointDef.prototype.Initialize);box2d.b2RevoluteJoint=function(x){box2d.b2Joint.call(this,x),this.m_localAnchorA=new box2d.b2Vec2,this.m_localAnchorB=new box2d.b2Vec2,this.m_impulse=new box2d.b2Vec3,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_mass=new box2d.b2Mat33,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat22,this.m_localAnchorA.Copy(x.localAnchorA),this.m_localAnchorB.Copy(x.localAnchorB),this.m_referenceAngle=x.referenceAngle,this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerAngle=x.lowerAngle,this.m_upperAngle=x.upperAngle,this.m_maxMotorTorque=x.maxMotorTorque,this.m_motorSpeed=x.motorSpeed,this.m_enableLimit=x.enableLimit,this.m_enableMotor=x.enableMotor,this.m_limitState=box2d.b2LimitState.e_inactiveLimit};goog.inherits(box2d.b2RevoluteJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2RevoluteJoint",box2d.b2RevoluteJoint);box2d.b2RevoluteJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_localAnchorA",box2d.b2RevoluteJoint.prototype.m_localAnchorA);box2d.b2RevoluteJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_localAnchorB",box2d.b2RevoluteJoint.prototype.m_localAnchorB);box2d.b2RevoluteJoint.prototype.m_impulse=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_impulse",box2d.b2RevoluteJoint.prototype.m_impulse);box2d.b2RevoluteJoint.prototype.m_motorImpulse=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_motorImpulse",box2d.b2RevoluteJoint.prototype.m_motorImpulse);box2d.b2RevoluteJoint.prototype.m_enableMotor=!1;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_enableMotor",box2d.b2RevoluteJoint.prototype.m_enableMotor);box2d.b2RevoluteJoint.prototype.m_maxMotorTorque=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_maxMotorTorque",box2d.b2RevoluteJoint.prototype.m_maxMotorTorque);box2d.b2RevoluteJoint.prototype.m_motorSpeed=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_motorSpeed",box2d.b2RevoluteJoint.prototype.m_motorSpeed);box2d.b2RevoluteJoint.prototype.m_enableLimit=!1;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_enableLimit",box2d.b2RevoluteJoint.prototype.m_enableLimit);box2d.b2RevoluteJoint.prototype.m_referenceAngle=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_referenceAngle",box2d.b2RevoluteJoint.prototype.m_referenceAngle);box2d.b2RevoluteJoint.prototype.m_lowerAngle=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_lowerAngle",box2d.b2RevoluteJoint.prototype.m_lowerAngle);box2d.b2RevoluteJoint.prototype.m_upperAngle=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_upperAngle",box2d.b2RevoluteJoint.prototype.m_upperAngle);box2d.b2RevoluteJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_indexA",box2d.b2RevoluteJoint.prototype.m_indexA);box2d.b2RevoluteJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_indexB",box2d.b2RevoluteJoint.prototype.m_indexB);box2d.b2RevoluteJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_rA",box2d.b2RevoluteJoint.prototype.m_rA);box2d.b2RevoluteJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_rB",box2d.b2RevoluteJoint.prototype.m_rB);box2d.b2RevoluteJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_localCenterA",box2d.b2RevoluteJoint.prototype.m_localCenterA);box2d.b2RevoluteJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_localCenterB",box2d.b2RevoluteJoint.prototype.m_localCenterB);box2d.b2RevoluteJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_invMassA",box2d.b2RevoluteJoint.prototype.m_invMassA);box2d.b2RevoluteJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_invMassB",box2d.b2RevoluteJoint.prototype.m_invMassB);box2d.b2RevoluteJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_invIA",box2d.b2RevoluteJoint.prototype.m_invIA);box2d.b2RevoluteJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_invIB",box2d.b2RevoluteJoint.prototype.m_invIB);box2d.b2RevoluteJoint.prototype.m_mass=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_mass",box2d.b2RevoluteJoint.prototype.m_mass);box2d.b2RevoluteJoint.prototype.m_motorMass=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_motorMass",box2d.b2RevoluteJoint.prototype.m_motorMass);box2d.b2RevoluteJoint.prototype.m_limitState=box2d.b2LimitState.e_inactiveLimit;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_limitState",box2d.b2RevoluteJoint.prototype.m_limitState);box2d.b2RevoluteJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_qA",box2d.b2RevoluteJoint.prototype.m_qA);box2d.b2RevoluteJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_qB",box2d.b2RevoluteJoint.prototype.m_qB);box2d.b2RevoluteJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_lalcA",box2d.b2RevoluteJoint.prototype.m_lalcA);box2d.b2RevoluteJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_lalcB",box2d.b2RevoluteJoint.prototype.m_lalcB);box2d.b2RevoluteJoint.prototype.m_K=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_K",box2d.b2RevoluteJoint.prototype.m_K);box2d.b2RevoluteJoint.prototype.InitVelocityConstraints=function(x){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=x.positions[this.m_indexA].a,o=x.velocities[this.m_indexA].v,_o=x.velocities[this.m_indexA].w,_r=x.positions[this.m_indexB].a,l=x.velocities[this.m_indexB].v,e_=x.velocities[this.m_indexB].w,o_=this.m_qA.SetAngle(V),i_=this.m_qB.SetAngle(_r);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(i_,this.m_lalcB,this.m_rB);var o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB,ws=_e+c_===0;this.m_mass.ex.x=o_+i_+this.m_rA.y*this.m_rA.y*_e+this.m_rB.y*this.m_rB.y*c_,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*_e-this.m_rB.y*this.m_rB.x*c_,this.m_mass.ez.x=-this.m_rA.y*_e-this.m_rB.y*c_,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=o_+i_+this.m_rA.x*this.m_rA.x*_e+this.m_rB.x*this.m_rB.x*c_,this.m_mass.ez.y=this.m_rA.x*_e+this.m_rB.x*c_,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=_e+c_,this.m_motorMass=_e+c_,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass),(!this.m_enableMotor||ws)&&(this.m_motorImpulse=0),this.m_enableLimit&&!ws?(V=_r-V-this.m_referenceAngle,box2d.b2Abs(this.m_upperAngle-this.m_lowerAngle)<2*box2d.b2_angularSlop?this.m_limitState=box2d.b2LimitState.e_equalLimits:V<=this.m_lowerAngle?(this.m_limitState!==box2d.b2LimitState.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=box2d.b2LimitState.e_atLowerLimit):V>=this.m_upperAngle?(this.m_limitState!==box2d.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=box2d.b2LimitState.e_atUpperLimit):(this.m_limitState=box2d.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)):this.m_limitState=box2d.b2LimitState.e_inactiveLimit,x.step.warmStarting?(this.m_impulse.SelfMulScalar(x.step.dtRatio),this.m_motorImpulse*=x.step.dtRatio,V=box2d.b2RevoluteJoint.prototype.InitVelocityConstraints.s_P.Set(this.m_impulse.x,this.m_impulse.y),o.SelfMulSub(o_,V),_o-=_e*(box2d.b2Cross_V2_V2(this.m_rA,V)+this.m_motorImpulse+this.m_impulse.z),l.SelfMulAdd(i_,V),e_+=c_*(box2d.b2Cross_V2_V2(this.m_rB,V)+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.SetZero(),this.m_motorImpulse=0),x.velocities[this.m_indexA].w=_o,x.velocities[this.m_indexB].w=e_};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"InitVelocityConstraints",box2d.b2RevoluteJoint.prototype.InitVelocityConstraints);box2d.b2RevoluteJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints=function(x){var V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,l=this.m_invMassA,e_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB,_e=o_+i_===0;if(this.m_enableMotor&&this.m_limitState!==box2d.b2LimitState.e_equalLimits&&!_e){var c_=_r-o-this.m_motorSpeed,c_=-this.m_motorMass*c_,ws=this.m_motorImpulse,h_=x.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=box2d.b2Clamp(this.m_motorImpulse+c_,-h_,h_),c_=this.m_motorImpulse-ws,o-=o_*c_,_r+=i_*c_}this.m_enableLimit&&this.m_limitState!==box2d.b2LimitState.e_inactiveLimit&&!_e?(_e=box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(_o,_r,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(V,o,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot1),c_=this.m_mass.Solve33(_e.x,_e.y,_r-o,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse3).SelfNeg(),this.m_limitState===box2d.b2LimitState.e_equalLimits?this.m_impulse.SelfAdd(c_):this.m_limitState===box2d.b2LimitState.e_atLowerLimit?(ws=this.m_impulse.z+c_.z,0>ws?(ws=-_e.x+this.m_impulse.z*this.m_mass.ez.x,_e=-_e.y+this.m_impulse.z*this.m_mass.ez.y,_e=this.m_mass.Solve22(ws,_e,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced),c_.x=_e.x,c_.y=_e.y,c_.z=-this.m_impulse.z,this.m_impulse.x+=_e.x,this.m_impulse.y+=_e.y,this.m_impulse.z=0):this.m_impulse.SelfAdd(c_)):this.m_limitState===box2d.b2LimitState.e_atUpperLimit&&(ws=this.m_impulse.z+c_.z,0<ws?(ws=-_e.x+this.m_impulse.z*this.m_mass.ez.x,_e=-_e.y+this.m_impulse.z*this.m_mass.ez.y,_e=this.m_mass.Solve22(ws,_e,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced),c_.x=_e.x,c_.y=_e.y,c_.z=-this.m_impulse.z,this.m_impulse.x+=_e.x,this.m_impulse.y+=_e.y,this.m_impulse.z=0):this.m_impulse.SelfAdd(c_)),_e=box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_P.Set(c_.x,c_.y),V.SelfMulSub(l,_e),o-=o_*(box2d.b2Cross_V2_V2(this.m_rA,_e)+c_.z),_o.SelfMulAdd(e_,_e),_r+=i_*(box2d.b2Cross_V2_V2(this.m_rB,_e)+c_.z)):(c_=box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(_o,_r,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(V,o,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot),c_=this.m_mass.Solve22(-c_.x,-c_.y,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse2),this.m_impulse.x+=c_.x,this.m_impulse.y+=c_.y,V.SelfMulSub(l,c_),o-=o_*box2d.b2Cross_V2_V2(this.m_rA,c_),_o.SelfMulAdd(e_,c_),_r+=i_*box2d.b2Cross_V2_V2(this.m_rB,c_)),x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"SolveVelocityConstraints",box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints);box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot1=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse3=new box2d.b2Vec3;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse2=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolvePositionConstraints=function(x){var V=x.positions[this.m_indexA].c,o=x.positions[this.m_indexA].a,_o=x.positions[this.m_indexB].c,_r=x.positions[this.m_indexB].a,l=this.m_qA.SetAngle(o),o_=this.m_qB.SetAngle(_r),e_=0,_e=0,_e=this.m_invIA+this.m_invIB===0;if(this.m_enableLimit&&this.m_limitState!==box2d.b2LimitState.e_inactiveLimit&&!_e){var i_=_r-o-this.m_referenceAngle,_e=0;this.m_limitState===box2d.b2LimitState.e_equalLimits?(i_=box2d.b2Clamp(i_-this.m_lowerAngle,-box2d.b2_maxAngularCorrection,box2d.b2_maxAngularCorrection),_e=-this.m_motorMass*i_,e_=box2d.b2Abs(i_)):this.m_limitState===box2d.b2LimitState.e_atLowerLimit?(i_-=this.m_lowerAngle,e_=-i_,i_=box2d.b2Clamp(i_+box2d.b2_angularSlop,-box2d.b2_maxAngularCorrection,0),_e=-this.m_motorMass*i_):this.m_limitState===box2d.b2LimitState.e_atUpperLimit&&(e_=i_-=this.m_upperAngle,i_=box2d.b2Clamp(i_-box2d.b2_angularSlop,0,box2d.b2_maxAngularCorrection),_e=-this.m_motorMass*i_),o-=this.m_invIA*_e,_r+=this.m_invIB*_e}l.SetAngle(o),o_.SetAngle(_r),box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),l=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var o_=box2d.b2Mul_R_V2(o_,this.m_lalcB,this.m_rB),i_=box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(_o,o_,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(V,l,box2d.b2Vec2.s_t1),box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_C),_e=i_.Length(),c_=this.m_invMassA,ws=this.m_invMassB,h_=this.m_invIA,s_=this.m_invIB,w_=this.m_K;return w_.ex.x=c_+ws+h_*l.y*l.y+s_*o_.y*o_.y,w_.ex.y=-h_*l.x*l.y-s_*o_.x*o_.y,w_.ey.x=w_.ex.y,w_.ey.y=c_+ws+h_*l.x*l.x+s_*o_.x*o_.x,i_=w_.Solve(i_.x,i_.y,box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_impulse).SelfNeg(),V.SelfMulSub(c_,i_),o-=h_*box2d.b2Cross_V2_V2(l,i_),_o.SelfMulAdd(ws,i_),_r+=s_*box2d.b2Cross_V2_V2(o_,i_),x.positions[this.m_indexA].a=o,x.positions[this.m_indexB].a=_r,_e<=box2d.b2_linearSlop&&e_<=box2d.b2_angularSlop};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"SolvePositionConstraints",box2d.b2RevoluteJoint.prototype.SolvePositionConstraints);box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_C=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_impulse=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.GetAnchorA=function(x){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,x)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetAnchorA",box2d.b2RevoluteJoint.prototype.GetAnchorA);box2d.b2RevoluteJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,x)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetAnchorB",box2d.b2RevoluteJoint.prototype.GetAnchorB);box2d.b2RevoluteJoint.prototype.GetReactionForce=function(x,V){return V.Set(x*this.m_impulse.x,x*this.m_impulse.y)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetReactionForce",box2d.b2RevoluteJoint.prototype.GetReactionForce);box2d.b2RevoluteJoint.prototype.GetReactionTorque=function(x){return x*this.m_impulse.z};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetReactionTorque",box2d.b2RevoluteJoint.prototype.GetReactionTorque);box2d.b2RevoluteJoint.prototype.GetLocalAnchorA=function(x){return x.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetLocalAnchorA",box2d.b2RevoluteJoint.prototype.GetLocalAnchorA);box2d.b2RevoluteJoint.prototype.GetLocalAnchorB=function(x){return x.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetLocalAnchorB",box2d.b2RevoluteJoint.prototype.GetLocalAnchorB);box2d.b2RevoluteJoint.prototype.GetReferenceAngle=function(){return this.m_referenceAngle};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetReferenceAngle",box2d.b2RevoluteJoint.prototype.GetReferenceAngle);box2d.b2RevoluteJoint.prototype.GetJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetJointAngle",box2d.b2RevoluteJoint.prototype.GetJointAngle);box2d.b2RevoluteJoint.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetJointSpeed",box2d.b2RevoluteJoint.prototype.GetJointSpeed);box2d.b2RevoluteJoint.prototype.IsMotorEnabled=function(){return this.m_enableMotor};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"IsMotorEnabled",box2d.b2RevoluteJoint.prototype.IsMotorEnabled);box2d.b2RevoluteJoint.prototype.EnableMotor=function(x){this.m_enableMotor!==x&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=x)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"EnableMotor",box2d.b2RevoluteJoint.prototype.EnableMotor);box2d.b2RevoluteJoint.prototype.GetMotorTorque=function(x){return x*this.m_motorImpulse};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetMotorTorque",box2d.b2RevoluteJoint.prototype.GetMotorTorque);box2d.b2RevoluteJoint.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetMotorSpeed",box2d.b2RevoluteJoint.prototype.GetMotorSpeed);box2d.b2RevoluteJoint.prototype.SetMaxMotorTorque=function(x){this.m_maxMotorTorque=x};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"SetMaxMotorTorque",box2d.b2RevoluteJoint.prototype.SetMaxMotorTorque);box2d.b2RevoluteJoint.prototype.GetMaxMotorTorque=function(){return this.m_maxMotorTorque};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetMaxMotorTorque",box2d.b2RevoluteJoint.prototype.GetMaxMotorTorque);box2d.b2RevoluteJoint.prototype.IsLimitEnabled=function(){return this.m_enableLimit};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"IsLimitEnabled",box2d.b2RevoluteJoint.prototype.IsLimitEnabled);box2d.b2RevoluteJoint.prototype.EnableLimit=function(x){x!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=x,this.m_impulse.z=0)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"EnableLimit",box2d.b2RevoluteJoint.prototype.EnableLimit);box2d.b2RevoluteJoint.prototype.GetLowerLimit=function(){return this.m_lowerAngle};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetLowerLimit",box2d.b2RevoluteJoint.prototype.GetLowerLimit);box2d.b2RevoluteJoint.prototype.GetUpperLimit=function(){return this.m_upperAngle};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetUpperLimit",box2d.b2RevoluteJoint.prototype.GetUpperLimit);box2d.b2RevoluteJoint.prototype.SetLimits=function(x,V){(x!==this.m_lowerAngle||V!==this.m_upperAngle)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=x,this.m_upperAngle=V)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"SetLimits",box2d.b2RevoluteJoint.prototype.SetLimits);box2d.b2RevoluteJoint.prototype.SetMotorSpeed=function(x){this.m_motorSpeed!==x&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=x)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"SetMotorSpeed",box2d.b2RevoluteJoint.prototype.SetMotorSpeed);box2d.b2RevoluteJoint.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_bodyA.m_islandIndex,V=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2RevoluteJointDef*/ var jd = new box2d.b2RevoluteJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,x),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,V),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),box2d.b2Log(`  jd.enableLimit = %s;
`,this.m_enableLimit?"true":"false"),box2d.b2Log(`  jd.lowerAngle = %.15f;
`,this.m_lowerAngle),box2d.b2Log(`  jd.upperAngle = %.15f;
`,this.m_upperAngle),box2d.b2Log(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),box2d.b2Log(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),box2d.b2Log(`  jd.maxMotorTorque = %.15f;
`,this.m_maxMotorTorque),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"Dump",box2d.b2RevoluteJoint.prototype.Dump);box2d.b2GearJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_gearJoint)};goog.inherits(box2d.b2GearJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2GearJointDef",box2d.b2GearJointDef);box2d.b2GearJointDef.prototype.joint1=null;goog.exportProperty(box2d.b2GearJointDef.prototype,"joint1",box2d.b2GearJointDef.prototype.joint1);box2d.b2GearJointDef.prototype.joint2=null;goog.exportProperty(box2d.b2GearJointDef.prototype,"joint2",box2d.b2GearJointDef.prototype.joint2);box2d.b2GearJointDef.prototype.ratio=1;goog.exportProperty(box2d.b2GearJointDef.prototype,"ratio",box2d.b2GearJointDef.prototype.ratio);box2d.b2GearJoint=function(x){box2d.b2Joint.call(this,x),this.m_joint1=x.joint1,this.m_joint2=x.joint2,this.m_localAnchorA=new box2d.b2Vec2,this.m_localAnchorB=new box2d.b2Vec2,this.m_localAnchorC=new box2d.b2Vec2,this.m_localAnchorD=new box2d.b2Vec2,this.m_localAxisC=new box2d.b2Vec2,this.m_localAxisD=new box2d.b2Vec2,this.m_lcA=new box2d.b2Vec2,this.m_lcB=new box2d.b2Vec2,this.m_lcC=new box2d.b2Vec2,this.m_lcD=new box2d.b2Vec2,this.m_JvAC=new box2d.b2Vec2,this.m_JvBD=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_qC=new box2d.b2Rot,this.m_qD=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_lalcC=new box2d.b2Vec2,this.m_lalcD=new box2d.b2Vec2,this.m_typeA=this.m_joint1.GetType(),this.m_typeB=this.m_joint2.GetType(),box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_typeA===box2d.b2JointType.e_revoluteJoint||this.m_typeA===box2d.b2JointType.e_prismaticJoint),box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_typeB===box2d.b2JointType.e_revoluteJoint||this.m_typeB===box2d.b2JointType.e_prismaticJoint);var V,o;this.m_bodyC=this.m_joint1.GetBodyA(),this.m_bodyA=this.m_joint1.GetBodyB(),V=this.m_bodyA.m_xf;var _r=this.m_bodyA.m_sweep.a;o=this.m_bodyC.m_xf;var _o=this.m_bodyC.m_sweep.a;this.m_typeA===box2d.b2JointType.e_revoluteJoint?(o=x.joint1,this.m_localAnchorC.Copy(o.m_localAnchorA),this.m_localAnchorA.Copy(o.m_localAnchorB),this.m_referenceAngleA=o.m_referenceAngle,this.m_localAxisC.SetZero(),V=_r-_o-this.m_referenceAngleA):(_o=x.joint1,this.m_localAnchorC.Copy(_o.m_localAnchorA),this.m_localAnchorA.Copy(_o.m_localAnchorB),this.m_referenceAngleA=_o.m_referenceAngle,this.m_localAxisC.Copy(_o.m_localXAxisA),_r=this.m_localAnchorC,V=box2d.b2MulT_R_V2(o.q,box2d.b2Add_V2_V2(box2d.b2Mul_R_V2(V.q,this.m_localAnchorA,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(V.p,o.p,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),V=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(V,_r,box2d.b2Vec2.s_t0),this.m_localAxisC)),this.m_bodyD=this.m_joint2.GetBodyA(),this.m_bodyB=this.m_joint2.GetBodyB(),o=this.m_bodyB.m_xf;var _o=this.m_bodyB.m_sweep.a,_r=this.m_bodyD.m_xf,l=this.m_bodyD.m_sweep.a;this.m_typeB===box2d.b2JointType.e_revoluteJoint?(o=x.joint2,this.m_localAnchorD.Copy(o.m_localAnchorA),this.m_localAnchorB.Copy(o.m_localAnchorB),this.m_referenceAngleB=o.m_referenceAngle,this.m_localAxisD.SetZero(),o=_o-l-this.m_referenceAngleB):(_o=x.joint2,this.m_localAnchorD.Copy(_o.m_localAnchorA),this.m_localAnchorB.Copy(_o.m_localAnchorB),this.m_referenceAngleB=_o.m_referenceAngle,this.m_localAxisD.Copy(_o.m_localXAxisA),_o=this.m_localAnchorD,o=box2d.b2MulT_R_V2(_r.q,box2d.b2Add_V2_V2(box2d.b2Mul_R_V2(o.q,this.m_localAnchorB,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(o.p,_r.p,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),o=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o,_o,box2d.b2Vec2.s_t0),this.m_localAxisD)),this.m_ratio=x.ratio,this.m_constant=V+this.m_ratio*o,this.m_impulse=0};goog.inherits(box2d.b2GearJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2GearJoint",box2d.b2GearJoint);box2d.b2GearJoint.prototype.m_joint1=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_joint1",box2d.b2GearJoint.prototype.m_joint1);box2d.b2GearJoint.prototype.m_joint2=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_joint2",box2d.b2GearJoint.prototype.m_joint2);box2d.b2GearJoint.prototype.m_typeA=box2d.b2JointType.e_unknownJoint;goog.exportProperty(box2d.b2GearJoint.prototype,"m_typeA",box2d.b2GearJoint.prototype.m_typeA);box2d.b2GearJoint.prototype.m_typeB=box2d.b2JointType.e_unknownJoint;goog.exportProperty(box2d.b2GearJoint.prototype,"m_typeB",box2d.b2GearJoint.prototype.m_typeB);box2d.b2GearJoint.prototype.m_bodyC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_bodyC",box2d.b2GearJoint.prototype.m_bodyC);box2d.b2GearJoint.prototype.m_bodyD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_bodyD",box2d.b2GearJoint.prototype.m_bodyD);box2d.b2GearJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAnchorA",box2d.b2GearJoint.prototype.m_localAnchorA);box2d.b2GearJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAnchorB",box2d.b2GearJoint.prototype.m_localAnchorB);box2d.b2GearJoint.prototype.m_localAnchorC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAnchorC",box2d.b2GearJoint.prototype.m_localAnchorC);box2d.b2GearJoint.prototype.m_localAnchorD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAnchorD",box2d.b2GearJoint.prototype.m_localAnchorD);box2d.b2GearJoint.prototype.m_localAxisC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAxisC",box2d.b2GearJoint.prototype.m_localAxisC);box2d.b2GearJoint.prototype.m_localAxisD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAxisD",box2d.b2GearJoint.prototype.m_localAxisD);box2d.b2GearJoint.prototype.m_referenceAngleA=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_referenceAngleA",box2d.b2GearJoint.prototype.m_referenceAngleA);box2d.b2GearJoint.prototype.m_referenceAngleB=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_referenceAngleB",box2d.b2GearJoint.prototype.m_referenceAngleB);box2d.b2GearJoint.prototype.m_constant=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_constant",box2d.b2GearJoint.prototype.m_constant);box2d.b2GearJoint.prototype.m_ratio=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_ratio",box2d.b2GearJoint.prototype.m_ratio);box2d.b2GearJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_impulse",box2d.b2GearJoint.prototype.m_impulse);box2d.b2GearJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_indexA",box2d.b2GearJoint.prototype.m_indexA);box2d.b2GearJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_indexB",box2d.b2GearJoint.prototype.m_indexB);box2d.b2GearJoint.prototype.m_indexC=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_indexC",box2d.b2GearJoint.prototype.m_indexC);box2d.b2GearJoint.prototype.m_indexD=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_indexD",box2d.b2GearJoint.prototype.m_indexD);box2d.b2GearJoint.prototype.m_lcA=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lcA",box2d.b2GearJoint.prototype.m_lcA);box2d.b2GearJoint.prototype.m_lcB=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lcB",box2d.b2GearJoint.prototype.m_lcB);box2d.b2GearJoint.prototype.m_lcC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lcC",box2d.b2GearJoint.prototype.m_lcC);box2d.b2GearJoint.prototype.m_lcD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lcD",box2d.b2GearJoint.prototype.m_lcD);box2d.b2GearJoint.prototype.m_mA=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_mA",box2d.b2GearJoint.prototype.m_mA);box2d.b2GearJoint.prototype.m_mB=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_mB",box2d.b2GearJoint.prototype.m_mB);box2d.b2GearJoint.prototype.m_mC=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_mC",box2d.b2GearJoint.prototype.m_mC);box2d.b2GearJoint.prototype.m_mD=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_mD",box2d.b2GearJoint.prototype.m_mD);box2d.b2GearJoint.prototype.m_iA=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_iA",box2d.b2GearJoint.prototype.m_iA);box2d.b2GearJoint.prototype.m_iB=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_iB",box2d.b2GearJoint.prototype.m_iB);box2d.b2GearJoint.prototype.m_iC=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_iC",box2d.b2GearJoint.prototype.m_iC);box2d.b2GearJoint.prototype.m_iD=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_iD",box2d.b2GearJoint.prototype.m_iD);box2d.b2GearJoint.prototype.m_JvAC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JvAC",box2d.b2GearJoint.prototype.m_JvAC);box2d.b2GearJoint.prototype.m_JvBD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JvBD",box2d.b2GearJoint.prototype.m_JvBD);box2d.b2GearJoint.prototype.m_JwA=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JwA",box2d.b2GearJoint.prototype.m_JwA);box2d.b2GearJoint.prototype.m_JwB=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JwB",box2d.b2GearJoint.prototype.m_JwB);box2d.b2GearJoint.prototype.m_JwC=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JwC",box2d.b2GearJoint.prototype.m_JwC);box2d.b2GearJoint.prototype.m_JwD=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JwD",box2d.b2GearJoint.prototype.m_JwD);box2d.b2GearJoint.prototype.m_mass=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_mass",box2d.b2GearJoint.prototype.m_mass);box2d.b2GearJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_qA",box2d.b2GearJoint.prototype.m_qA);box2d.b2GearJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_qB",box2d.b2GearJoint.prototype.m_qB);box2d.b2GearJoint.prototype.m_qC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_qC",box2d.b2GearJoint.prototype.m_qC);box2d.b2GearJoint.prototype.m_qD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_qD",box2d.b2GearJoint.prototype.m_qD);box2d.b2GearJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lalcA",box2d.b2GearJoint.prototype.m_lalcA);box2d.b2GearJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lalcB",box2d.b2GearJoint.prototype.m_lalcB);box2d.b2GearJoint.prototype.m_lalcC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lalcC",box2d.b2GearJoint.prototype.m_lalcC);box2d.b2GearJoint.prototype.m_lalcD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lalcD",box2d.b2GearJoint.prototype.m_lalcD);box2d.b2GearJoint.prototype.InitVelocityConstraints=function(x){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,ws=x.positions[this.m_indexB].a,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,s_=x.positions[this.m_indexC].a,l=x.velocities[this.m_indexC].v,e_=x.velocities[this.m_indexC].w,o_=x.positions[this.m_indexD].a,i_=x.velocities[this.m_indexD].v,_e=x.velocities[this.m_indexD].w,c_=this.m_qA.SetAngle(x.positions[this.m_indexA].a),ws=this.m_qB.SetAngle(ws),h_=this.m_qC.SetAngle(s_),s_=this.m_qD.SetAngle(o_);this.m_mass=0,this.m_typeA===box2d.b2JointType.e_revoluteJoint?(this.m_JvAC.SetZero(),this.m_JwC=this.m_JwA=1,this.m_mass+=this.m_iA+this.m_iC):(o_=box2d.b2Mul_R_V2(h_,this.m_localAxisC,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u),box2d.b2Sub_V2_V2(this.m_localAnchorC,this.m_lcC,this.m_lalcC),h_=box2d.b2Mul_R_V2(h_,this.m_lalcC,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rC),box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_lcA,this.m_lalcA),c_=box2d.b2Mul_R_V2(c_,this.m_lalcA,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rA),this.m_JvAC.Copy(o_),this.m_JwC=box2d.b2Cross_V2_V2(h_,o_),this.m_JwA=box2d.b2Cross_V2_V2(c_,o_),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA),this.m_typeB===box2d.b2JointType.e_revoluteJoint?(this.m_JvBD.SetZero(),this.m_JwD=this.m_JwB=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD)):(o_=box2d.b2Mul_R_V2(s_,this.m_localAxisD,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u),box2d.b2Sub_V2_V2(this.m_localAnchorD,this.m_lcD,this.m_lalcD),c_=box2d.b2Mul_R_V2(s_,this.m_lalcD,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rD),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_lcB,this.m_lalcB),ws=box2d.b2Mul_R_V2(ws,this.m_lalcB,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rB),box2d.b2Mul_S_V2(this.m_ratio,o_,this.m_JvBD),this.m_JwD=this.m_ratio*box2d.b2Cross_V2_V2(c_,o_),this.m_JwB=this.m_ratio*box2d.b2Cross_V2_V2(ws,o_),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB),this.m_mass=0<this.m_mass?1/this.m_mass:0,x.step.warmStarting?(V.SelfMulAdd(this.m_mA*this.m_impulse,this.m_JvAC),o+=this.m_iA*this.m_impulse*this.m_JwA,_o.SelfMulAdd(this.m_mB*this.m_impulse,this.m_JvBD),_r+=this.m_iB*this.m_impulse*this.m_JwB,l.SelfMulSub(this.m_mC*this.m_impulse,this.m_JvAC),e_-=this.m_iC*this.m_impulse*this.m_JwC,i_.SelfMulSub(this.m_mD*this.m_impulse,this.m_JvBD),_e-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r,x.velocities[this.m_indexC].w=e_,x.velocities[this.m_indexD].w=_e};box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u=new box2d.b2Vec2;box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rA=new box2d.b2Vec2;box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rB=new box2d.b2Vec2;box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rC=new box2d.b2Vec2;box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rD=new box2d.b2Vec2;box2d.b2GearJoint.prototype.SolveVelocityConstraints=function(x){var V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,l=x.velocities[this.m_indexC].v,e_=x.velocities[this.m_indexC].w,o_=x.velocities[this.m_indexD].v,i_=x.velocities[this.m_indexD].w,_e=box2d.b2Dot_V2_V2(this.m_JvAC,box2d.b2Sub_V2_V2(V,l,box2d.b2Vec2.s_t0))+box2d.b2Dot_V2_V2(this.m_JvBD,box2d.b2Sub_V2_V2(_o,o_,box2d.b2Vec2.s_t0)),_e=_e+(this.m_JwA*o-this.m_JwC*e_+(this.m_JwB*_r-this.m_JwD*i_)),_e=-this.m_mass*_e;this.m_impulse+=_e,V.SelfMulAdd(this.m_mA*_e,this.m_JvAC),o+=this.m_iA*_e*this.m_JwA,_o.SelfMulAdd(this.m_mB*_e,this.m_JvBD),_r+=this.m_iB*_e*this.m_JwB,l.SelfMulSub(this.m_mC*_e,this.m_JvAC),e_-=this.m_iC*_e*this.m_JwC,o_.SelfMulSub(this.m_mD*_e,this.m_JvBD),i_-=this.m_iD*_e*this.m_JwD,x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r,x.velocities[this.m_indexC].w=e_,x.velocities[this.m_indexD].w=i_};box2d.b2GearJoint.prototype.SolvePositionConstraints=function(x){var V=x.positions[this.m_indexA].c,o=x.positions[this.m_indexA].a,_o=x.positions[this.m_indexB].c,_r=x.positions[this.m_indexB].a,l=x.positions[this.m_indexC].c,e_=x.positions[this.m_indexC].a,o_=x.positions[this.m_indexD].c,i_=x.positions[this.m_indexD].a,_e=this.m_qA.SetAngle(o),c_=this.m_qB.SetAngle(_r),ws=this.m_qC.SetAngle(e_),h_=this.m_qD.SetAngle(i_),s_=this.m_JvAC,w_=this.m_JvBD,L_,y_,I_=0;if(this.m_typeA===box2d.b2JointType.e_revoluteJoint)s_.SetZero(),_e=L_=1,I_+=this.m_iA+this.m_iC,ws=o-e_-this.m_referenceAngleA;else{y_=box2d.b2Mul_R_V2(ws,this.m_localAxisC,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u),L_=box2d.b2Mul_R_V2(ws,this.m_lalcC,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rC);var k_=box2d.b2Mul_R_V2(_e,this.m_lalcA,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rA);s_.Copy(y_),_e=box2d.b2Cross_V2_V2(L_,y_),L_=box2d.b2Cross_V2_V2(k_,y_),I_+=this.m_mC+this.m_mA+this.m_iC*_e*_e+this.m_iA*L_*L_,y_=this.m_lalcC,ws=box2d.b2MulT_R_V2(ws,box2d.b2Add_V2_V2(k_,box2d.b2Sub_V2_V2(V,l,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),ws=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(ws,y_,box2d.b2Vec2.s_t0),this.m_localAxisC)}if(this.m_typeB===box2d.b2JointType.e_revoluteJoint)w_.SetZero(),c_=y_=this.m_ratio,I_+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),h_=_r-i_-this.m_referenceAngleB;else{y_=box2d.b2Mul_R_V2(h_,this.m_localAxisD,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u);var j_=box2d.b2Mul_R_V2(h_,this.m_lalcD,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rD),k_=box2d.b2Mul_R_V2(c_,this.m_lalcB,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rB);box2d.b2Mul_S_V2(this.m_ratio,y_,w_),c_=this.m_ratio*box2d.b2Cross_V2_V2(j_,y_),y_=this.m_ratio*box2d.b2Cross_V2_V2(k_,y_),I_+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*c_*c_+this.m_iB*y_*y_,j_=this.m_lalcD,h_=box2d.b2MulT_R_V2(h_,box2d.b2Add_V2_V2(k_,box2d.b2Sub_V2_V2(_o,o_,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),h_=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(h_,j_,box2d.b2Vec2.s_t0),this.m_localAxisD)}return h_=ws+this.m_ratio*h_-this.m_constant,ws=0,0<I_&&(ws=-h_/I_),V.SelfMulAdd(this.m_mA*ws,s_),o+=this.m_iA*ws*L_,_o.SelfMulAdd(this.m_mB*ws,w_),_r+=this.m_iB*ws*y_,l.SelfMulSub(this.m_mC*ws,s_),e_-=this.m_iC*ws*_e,o_.SelfMulSub(this.m_mD*ws,w_),i_-=this.m_iD*ws*c_,x.positions[this.m_indexA].a=o,x.positions[this.m_indexB].a=_r,x.positions[this.m_indexC].a=e_,x.positions[this.m_indexD].a=i_,0<box2d.b2_linearSlop};goog.exportProperty(box2d.b2GearJoint.prototype,"SolvePositionConstraints",box2d.b2GearJoint.prototype.SolvePositionConstraints);box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u=new box2d.b2Vec2;box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rA=new box2d.b2Vec2;box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rB=new box2d.b2Vec2;box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rC=new box2d.b2Vec2;box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rD=new box2d.b2Vec2;box2d.b2GearJoint.prototype.GetAnchorA=function(x){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,x)};goog.exportProperty(box2d.b2GearJoint.prototype,"GetAnchorA",box2d.b2GearJoint.prototype.GetAnchorA);box2d.b2GearJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,x)};goog.exportProperty(box2d.b2GearJoint.prototype,"GetAnchorB",box2d.b2GearJoint.prototype.GetAnchorB);box2d.b2GearJoint.prototype.GetReactionForce=function(x,V){return box2d.b2Mul_S_V2(x*this.m_impulse,this.m_JvAC,V)};goog.exportProperty(box2d.b2GearJoint.prototype,"GetReactionForce",box2d.b2GearJoint.prototype.GetReactionForce);box2d.b2GearJoint.prototype.GetReactionTorque=function(x){return x*this.m_impulse*this.m_JwA};goog.exportProperty(box2d.b2GearJoint.prototype,"GetReactionTorque",box2d.b2GearJoint.prototype.GetReactionTorque);box2d.b2GearJoint.prototype.GetJoint1=function(){return this.m_joint1};goog.exportProperty(box2d.b2GearJoint.prototype,"GetJoint1",box2d.b2GearJoint.prototype.GetJoint1);box2d.b2GearJoint.prototype.GetJoint2=function(){return this.m_joint2};goog.exportProperty(box2d.b2GearJoint.prototype,"GetJoint2",box2d.b2GearJoint.prototype.GetJoint2);box2d.b2GearJoint.prototype.GetRatio=function(){return this.m_ratio};goog.exportProperty(box2d.b2GearJoint.prototype,"GetRatio",box2d.b2GearJoint.prototype.GetRatio);box2d.b2GearJoint.prototype.SetRatio=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(x)),this.m_ratio=x};goog.exportProperty(box2d.b2GearJoint.prototype,"SetRatio",box2d.b2GearJoint.prototype.SetRatio);box2d.b2GearJoint.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_bodyA.m_islandIndex,V=this.m_bodyB.m_islandIndex,o=this.m_joint1.m_index,_o=this.m_joint2.m_index;box2d.b2Log(`  /*box2d.b2GearJointDef*/ var jd = new box2d.b2GearJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,x),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,V),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.joint1 = joints[%d];
`,o),box2d.b2Log(`  jd.joint2 = joints[%d];
`,_o),box2d.b2Log(`  jd.ratio = %.15f;
`,this.m_ratio),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2GearJoint.prototype,"Dump",box2d.b2GearJoint.prototype.Dump);box2d.b2RopeJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_ropeJoint),this.localAnchorA=new box2d.b2Vec2(-1,0),this.localAnchorB=new box2d.b2Vec2(1,0)};goog.inherits(box2d.b2RopeJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2RopeJointDef",box2d.b2RopeJointDef);box2d.b2RopeJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2RopeJointDef.prototype,"localAnchorA",box2d.b2RopeJointDef.prototype.localAnchorA);box2d.b2RopeJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2RopeJointDef.prototype,"localAnchorB",box2d.b2RopeJointDef.prototype.localAnchorB);box2d.b2RopeJointDef.prototype.maxLength=0;goog.exportProperty(box2d.b2RopeJointDef.prototype,"maxLength",box2d.b2RopeJointDef.prototype.maxLength);box2d.b2RopeJoint=function(x){box2d.b2Joint.call(this,x),this.m_localAnchorA=x.localAnchorA.Clone(),this.m_localAnchorB=x.localAnchorB.Clone(),this.m_maxLength=x.maxLength,this.m_u=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2};goog.inherits(box2d.b2RopeJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2RopeJoint",box2d.b2RopeJoint);box2d.b2RopeJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_localAnchorA",box2d.b2RopeJoint.prototype.m_localAnchorA);box2d.b2RopeJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_localAnchorB",box2d.b2RopeJoint.prototype.m_localAnchorB);box2d.b2RopeJoint.prototype.m_maxLength=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_maxLength",box2d.b2RopeJoint.prototype.m_maxLength);box2d.b2RopeJoint.prototype.m_length=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_length",box2d.b2RopeJoint.prototype.m_length);box2d.b2RopeJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_impulse",box2d.b2RopeJoint.prototype.m_impulse);box2d.b2RopeJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_indexA",box2d.b2RopeJoint.prototype.m_indexA);box2d.b2RopeJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_indexB",box2d.b2RopeJoint.prototype.m_indexB);box2d.b2RopeJoint.prototype.m_u=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_u",box2d.b2RopeJoint.prototype.m_u);box2d.b2RopeJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_rA",box2d.b2RopeJoint.prototype.m_rA);box2d.b2RopeJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_rB",box2d.b2RopeJoint.prototype.m_rB);box2d.b2RopeJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_localCenterA",box2d.b2RopeJoint.prototype.m_localCenterA);box2d.b2RopeJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_localCenterB",box2d.b2RopeJoint.prototype.m_localCenterB);box2d.b2RopeJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_invMassA",box2d.b2RopeJoint.prototype.m_invMassA);box2d.b2RopeJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_invMassB",box2d.b2RopeJoint.prototype.m_invMassB);box2d.b2RopeJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_invIA",box2d.b2RopeJoint.prototype.m_invIA);box2d.b2RopeJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_invIB",box2d.b2RopeJoint.prototype.m_invIB);box2d.b2RopeJoint.prototype.m_mass=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_mass",box2d.b2RopeJoint.prototype.m_mass);box2d.b2RopeJoint.prototype.m_state=box2d.b2LimitState.e_inactiveLimit;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_state",box2d.b2RopeJoint.prototype.m_state);box2d.b2RopeJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_qA",box2d.b2RopeJoint.prototype.m_qA);box2d.b2RopeJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_qB",box2d.b2RopeJoint.prototype.m_qB);box2d.b2RopeJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_lalcA",box2d.b2RopeJoint.prototype.m_lalcA);box2d.b2RopeJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_lalcB",box2d.b2RopeJoint.prototype.m_lalcB);box2d.b2RopeJoint.prototype.InitVelocityConstraints=function(x){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=x.positions[this.m_indexA].c,o=x.velocities[this.m_indexA].v,_o=x.velocities[this.m_indexA].w,_r=x.positions[this.m_indexB].c,i_=x.positions[this.m_indexB].a,l=x.velocities[this.m_indexB].v,e_=x.velocities[this.m_indexB].w,o_=this.m_qA.SetAngle(x.positions[this.m_indexA].a),i_=this.m_qB.SetAngle(i_);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(i_,this.m_lalcB,this.m_rB),this.m_u.Copy(_r).SelfAdd(this.m_rB).SelfSub(V).SelfSub(this.m_rA),this.m_length=this.m_u.Length(),this.m_state=0<this.m_length-this.m_maxLength?box2d.b2LimitState.e_atUpperLimit:box2d.b2LimitState.e_inactiveLimit,this.m_length>box2d.b2_linearSlop?(this.m_u.SelfMul(1/this.m_length),V=box2d.b2Cross_V2_V2(this.m_rA,this.m_u),_r=box2d.b2Cross_V2_V2(this.m_rB,this.m_u),V=this.m_invMassA+this.m_invIA*V*V+this.m_invMassB+this.m_invIB*_r*_r,this.m_mass=V!==0?1/V:0,x.step.warmStarting?(this.m_impulse*=x.step.dtRatio,V=box2d.b2Mul_S_V2(this.m_impulse,this.m_u,box2d.b2RopeJoint.prototype.InitVelocityConstraints.s_P),o.SelfMulSub(this.m_invMassA,V),_o-=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,V),l.SelfMulAdd(this.m_invMassB,V),e_+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,V)):this.m_impulse=0,x.velocities[this.m_indexA].w=_o,x.velocities[this.m_indexB].w=e_):(this.m_u.SetZero(),this.m_impulse=this.m_mass=0)};goog.exportProperty(box2d.b2RopeJoint.prototype,"InitVelocityConstraints",box2d.b2RopeJoint.prototype.InitVelocityConstraints);box2d.b2RopeJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2RopeJoint.prototype.SolveVelocityConstraints=function(x){var V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,o_=box2d.b2AddCross_V2_S_V2(V,o,this.m_rA,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpA),l=box2d.b2AddCross_V2_S_V2(_o,_r,this.m_rB,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpB),e_=this.m_length-this.m_maxLength,o_=box2d.b2Dot_V2_V2(this.m_u,box2d.b2Sub_V2_V2(l,o_,box2d.b2Vec2.s_t0));0>e_&&(o_+=x.step.inv_dt*e_),e_=-this.m_mass*o_,o_=this.m_impulse,this.m_impulse=box2d.b2Min(0,this.m_impulse+e_),e_=this.m_impulse-o_,e_=box2d.b2Mul_S_V2(e_,this.m_u,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_P),V.SelfMulSub(this.m_invMassA,e_),o-=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,e_),_o.SelfMulAdd(this.m_invMassB,e_),_r+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,e_),x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r};goog.exportProperty(box2d.b2RopeJoint.prototype,"SolveVelocityConstraints",box2d.b2RopeJoint.prototype.SolveVelocityConstraints);box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d.b2Vec2;box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d.b2Vec2;box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2RopeJoint.prototype.SolvePositionConstraints=function(x){var V=x.positions[this.m_indexA].c,o=x.positions[this.m_indexA].a,_o=x.positions[this.m_indexB].c,_r=x.positions[this.m_indexB].a,l=this.m_qA.SetAngle(o),e_=this.m_qB.SetAngle(_r);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),l=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var e_=box2d.b2Mul_R_V2(e_,this.m_lalcB,this.m_rB),_e=this.m_u.Copy(_o).SelfAdd(e_).SelfSub(V).SelfSub(l),o_=_e.Normalize(),i_=o_-this.m_maxLength,i_=box2d.b2Clamp(i_,0,box2d.b2_maxLinearCorrection),_e=box2d.b2Mul_S_V2(-this.m_mass*i_,_e,box2d.b2RopeJoint.prototype.SolvePositionConstraints.s_P);return V.SelfMulSub(this.m_invMassA,_e),o-=this.m_invIA*box2d.b2Cross_V2_V2(l,_e),_o.SelfMulAdd(this.m_invMassB,_e),_r+=this.m_invIB*box2d.b2Cross_V2_V2(e_,_e),x.positions[this.m_indexA].a=o,x.positions[this.m_indexB].a=_r,o_-this.m_maxLength<box2d.b2_linearSlop};goog.exportProperty(box2d.b2RopeJoint.prototype,"SolvePositionConstraints",box2d.b2RopeJoint.prototype.SolvePositionConstraints);box2d.b2RopeJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2RopeJoint.prototype.GetAnchorA=function(x){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,x)};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetAnchorA",box2d.b2RopeJoint.prototype.GetAnchorA);box2d.b2RopeJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,x)};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetAnchorB",box2d.b2RopeJoint.prototype.GetAnchorB);box2d.b2RopeJoint.prototype.GetReactionForce=function(x,V){return box2d.b2Mul_S_V2(x*this.m_impulse,this.m_u,V)};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetReactionForce",box2d.b2RopeJoint.prototype.GetReactionForce);box2d.b2RopeJoint.prototype.GetReactionTorque=function(x){return 0};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetReactionTorque",box2d.b2RopeJoint.prototype.GetReactionTorque);box2d.b2RopeJoint.prototype.GetLocalAnchorA=function(x){return x.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetLocalAnchorA",box2d.b2RopeJoint.prototype.GetLocalAnchorA);box2d.b2RopeJoint.prototype.GetLocalAnchorB=function(x){return x.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetLocalAnchorB",box2d.b2RopeJoint.prototype.GetLocalAnchorB);box2d.b2RopeJoint.prototype.SetMaxLength=function(x){this.m_maxLength=x};goog.exportProperty(box2d.b2RopeJoint.prototype,"SetMaxLength",box2d.b2RopeJoint.prototype.SetMaxLength);box2d.b2RopeJoint.prototype.GetMaxLength=function(){return this.m_maxLength};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetMaxLength",box2d.b2RopeJoint.prototype.GetMaxLength);box2d.b2RopeJoint.prototype.GetLimitState=function(){return this.m_state};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetLimitState",box2d.b2RopeJoint.prototype.GetLimitState);box2d.b2RopeJoint.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_bodyA.m_islandIndex,V=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2RopeJointDef*/ var jd = new box2d.b2RopeJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,x),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,V),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.maxLength = %.15f;
`,this.m_maxLength),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2RopeJoint.prototype,"Dump",box2d.b2RopeJoint.prototype.Dump);box2d.b2WeldJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_weldJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2};goog.inherits(box2d.b2WeldJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2WeldJointDef",box2d.b2WeldJointDef);box2d.b2WeldJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2WeldJointDef.prototype,"localAnchorA",box2d.b2WeldJointDef.prototype.localAnchorA);box2d.b2WeldJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2WeldJointDef.prototype,"localAnchorB",box2d.b2WeldJointDef.prototype.localAnchorB);box2d.b2WeldJointDef.prototype.referenceAngle=0;goog.exportProperty(box2d.b2WeldJointDef.prototype,"referenceAngle",box2d.b2WeldJointDef.prototype.referenceAngle);box2d.b2WeldJointDef.prototype.frequencyHz=0;goog.exportProperty(box2d.b2WeldJointDef.prototype,"frequencyHz",box2d.b2WeldJointDef.prototype.frequencyHz);box2d.b2WeldJointDef.prototype.dampingRatio=0;goog.exportProperty(box2d.b2WeldJointDef.prototype,"dampingRatio",box2d.b2WeldJointDef.prototype.dampingRatio);box2d.b2WeldJointDef.prototype.Initialize=function(x,V,o){this.bodyA=x,this.bodyB=V,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};goog.exportProperty(box2d.b2WeldJointDef.prototype,"Initialize",box2d.b2WeldJointDef.prototype.Initialize);box2d.b2WeldJoint=function(x){box2d.b2Joint.call(this,x),this.m_frequencyHz=x.frequencyHz,this.m_dampingRatio=x.dampingRatio,this.m_localAnchorA=x.localAnchorA.Clone(),this.m_localAnchorB=x.localAnchorB.Clone(),this.m_referenceAngle=x.referenceAngle,this.m_impulse=new box2d.b2Vec3(0,0,0),this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_mass=new box2d.b2Mat33,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat33};goog.inherits(box2d.b2WeldJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2WeldJoint",box2d.b2WeldJoint);box2d.b2WeldJoint.prototype.m_frequencyHz=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_frequencyHz",box2d.b2WeldJoint.prototype.m_frequencyHz);box2d.b2WeldJoint.prototype.m_dampingRatio=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_dampingRatio",box2d.b2WeldJoint.prototype.m_dampingRatio);box2d.b2WeldJoint.prototype.m_bias=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_bias",box2d.b2WeldJoint.prototype.m_bias);box2d.b2WeldJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_localAnchorA",box2d.b2WeldJoint.prototype.m_localAnchorA);box2d.b2WeldJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_localAnchorB",box2d.b2WeldJoint.prototype.m_localAnchorB);box2d.b2WeldJoint.prototype.m_referenceAngle=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_referenceAngle",box2d.b2WeldJoint.prototype.m_referenceAngle);box2d.b2WeldJoint.prototype.m_gamma=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_gamma",box2d.b2WeldJoint.prototype.m_gamma);box2d.b2WeldJoint.prototype.m_impulse=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_impulse",box2d.b2WeldJoint.prototype.m_impulse);box2d.b2WeldJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_indexA",box2d.b2WeldJoint.prototype.m_indexA);box2d.b2WeldJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_indexB",box2d.b2WeldJoint.prototype.m_indexB);box2d.b2WeldJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_rA",box2d.b2WeldJoint.prototype.m_rA);box2d.b2WeldJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_rB",box2d.b2WeldJoint.prototype.m_rB);box2d.b2WeldJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_localCenterA",box2d.b2WeldJoint.prototype.m_localCenterA);box2d.b2WeldJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_localCenterB",box2d.b2WeldJoint.prototype.m_localCenterB);box2d.b2WeldJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_invMassA",box2d.b2WeldJoint.prototype.m_invMassA);box2d.b2WeldJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_invMassB",box2d.b2WeldJoint.prototype.m_invMassB);box2d.b2WeldJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_invIA",box2d.b2WeldJoint.prototype.m_invIA);box2d.b2WeldJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_invIB",box2d.b2WeldJoint.prototype.m_invIB);box2d.b2WeldJoint.prototype.m_mass=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_mass",box2d.b2WeldJoint.prototype.m_mass);box2d.b2WeldJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_qA",box2d.b2WeldJoint.prototype.m_qA);box2d.b2WeldJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_qB",box2d.b2WeldJoint.prototype.m_qB);box2d.b2WeldJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_lalcA",box2d.b2WeldJoint.prototype.m_lalcA);box2d.b2WeldJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_lalcB",box2d.b2WeldJoint.prototype.m_lalcB);box2d.b2WeldJoint.prototype.m_K=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_K",box2d.b2WeldJoint.prototype.m_K);box2d.b2WeldJoint.prototype.InitVelocityConstraints=function(x){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=x.positions[this.m_indexA].a,o=x.velocities[this.m_indexA].v,_o=x.velocities[this.m_indexA].w,_r=x.positions[this.m_indexB].a,l=x.velocities[this.m_indexB].v,e_=x.velocities[this.m_indexB].w,o_=this.m_qA.SetAngle(V),i_=this.m_qB.SetAngle(_r);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(i_,this.m_lalcB,this.m_rB);var o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB,ws=this.m_K;if(ws.ex.x=o_+i_+this.m_rA.y*this.m_rA.y*_e+this.m_rB.y*this.m_rB.y*c_,ws.ey.x=-this.m_rA.y*this.m_rA.x*_e-this.m_rB.y*this.m_rB.x*c_,ws.ez.x=-this.m_rA.y*_e-this.m_rB.y*c_,ws.ex.y=ws.ey.x,ws.ey.y=o_+i_+this.m_rA.x*this.m_rA.x*_e+this.m_rB.x*this.m_rB.x*c_,ws.ez.y=this.m_rA.x*_e+this.m_rB.x*c_,ws.ex.z=ws.ez.x,ws.ey.z=ws.ez.y,ws.ez.z=_e+c_,0<this.m_frequencyHz){ws.GetInverse22(this.m_mass);var ws=_e+c_,h_=0<ws?1/ws:0,V=_r-V-this.m_referenceAngle,_r=2*box2d.b2_pi*this.m_frequencyHz,s_=h_*_r*_r,w_=x.step.dt;this.m_gamma=w_*(2*h_*this.m_dampingRatio*_r+w_*s_),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=V*w_*s_*this.m_gamma,ws+=this.m_gamma,this.m_mass.ez.z=ws!==0?1/ws:0}else ws.ez.z===0?ws.GetInverse22(this.m_mass):ws.GetSymInverse33(this.m_mass),this.m_bias=this.m_gamma=0;x.step.warmStarting?(this.m_impulse.SelfMulScalar(x.step.dtRatio),ws=box2d.b2WeldJoint.prototype.InitVelocityConstraints.s_P.Set(this.m_impulse.x,this.m_impulse.y),o.SelfMulSub(o_,ws),_o-=_e*(box2d.b2Cross_V2_V2(this.m_rA,ws)+this.m_impulse.z),l.SelfMulAdd(i_,ws),e_+=c_*(box2d.b2Cross_V2_V2(this.m_rB,ws)+this.m_impulse.z)):this.m_impulse.SetZero(),x.velocities[this.m_indexA].w=_o,x.velocities[this.m_indexB].w=e_};box2d.b2WeldJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolveVelocityConstraints=function(x){var V=x.velocities[this.m_indexA].v,o=x.velocities[this.m_indexA].w,_o=x.velocities[this.m_indexB].v,_r=x.velocities[this.m_indexB].w,l=this.m_invMassA,e_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB;if(0<this.m_frequencyHz){var _e=-this.m_mass.ez.z*(_r-o+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=_e,o-=o_*_e,_r+=i_*_e,_e=box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(_o,_r,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(V,o,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1),_e=box2d.b2Mul_M33_X_Y(this.m_mass,_e.x,_e.y,box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse1).SelfNeg(),this.m_impulse.x+=_e.x,this.m_impulse.y+=_e.y,V.SelfMulSub(l,_e),o-=o_*box2d.b2Cross_V2_V2(this.m_rA,_e),_o.SelfMulAdd(e_,_e),_r+=i_*box2d.b2Cross_V2_V2(this.m_rB,_e)}else{var _e=box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(_o,_r,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(V,o,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1),c_=box2d.b2Mul_M33_X_Y_Z(this.m_mass,_e.x,_e.y,_r-o,box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse).SelfNeg();this.m_impulse.SelfAdd(c_),_e=box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_P.Set(c_.x,c_.y),V.SelfMulSub(l,_e),o-=o_*(box2d.b2Cross_V2_V2(this.m_rA,_e)+c_.z),_o.SelfMulAdd(e_,_e),_r+=i_*(box2d.b2Cross_V2_V2(this.m_rB,_e)+c_.z)}x.velocities[this.m_indexA].w=o,x.velocities[this.m_indexB].w=_r};goog.exportProperty(box2d.b2WeldJoint.prototype,"SolveVelocityConstraints",box2d.b2WeldJoint.prototype.SolveVelocityConstraints);box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse1=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d.b2Vec3;box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolvePositionConstraints=function(x){var V=x.positions[this.m_indexA].c,o=x.positions[this.m_indexA].a,_o=x.positions[this.m_indexB].c,_r=x.positions[this.m_indexB].a,l=this.m_qA.SetAngle(o),e_=this.m_qB.SetAngle(_r),o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB;box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var ws=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA);box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var h_=box2d.b2Mul_R_V2(e_,this.m_lalcB,this.m_rB),s_=this.m_K;if(s_.ex.x=o_+i_+ws.y*ws.y*_e+h_.y*h_.y*c_,s_.ey.x=-ws.y*ws.x*_e-h_.y*h_.x*c_,s_.ez.x=-ws.y*_e-h_.y*c_,s_.ex.y=s_.ey.x,s_.ey.y=o_+i_+ws.x*ws.x*_e+h_.x*h_.x*c_,s_.ez.y=ws.x*_e+h_.x*c_,s_.ex.z=s_.ez.x,s_.ey.z=s_.ez.y,s_.ez.z=_e+c_,0<this.m_frequencyHz){var w_=box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(_o,h_,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(V,ws,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1),e_=w_.Length(),l=0,s_=s_.Solve22(w_.x,w_.y,box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P).SelfNeg();V.SelfMulSub(o_,s_),o-=_e*box2d.b2Cross_V2_V2(ws,s_),_o.SelfMulAdd(i_,s_),_r+=c_*box2d.b2Cross_V2_V2(h_,s_)}else w_=box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(_o,h_,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(V,ws,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1),h_=_r-o-this.m_referenceAngle,e_=w_.Length(),l=box2d.b2Abs(h_),ws=box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse,0<s_.ez.z?s_.Solve33(w_.x,w_.y,h_,ws).SelfNeg():(s_=s_.Solve22(w_.x,w_.y,box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse2).SelfNeg(),ws.x=s_.x,ws.y=s_.y,ws.z=0),s_=box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P.Set(ws.x,ws.y),V.SelfMulSub(o_,s_),o-=_e*(box2d.b2Cross_V2_V2(this.m_rA,s_)+ws.z),_o.SelfMulAdd(i_,s_),_r+=c_*(box2d.b2Cross_V2_V2(this.m_rB,s_)+ws.z);return x.positions[this.m_indexA].a=o,x.positions[this.m_indexB].a=_r,e_<=box2d.b2_linearSlop&&l<=box2d.b2_angularSlop};goog.exportProperty(box2d.b2WeldJoint.prototype,"SolvePositionConstraints",box2d.b2WeldJoint.prototype.SolvePositionConstraints);box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse=new box2d.b2Vec3;box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse2=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.GetAnchorA=function(x){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,x)};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetAnchorA",box2d.b2WeldJoint.prototype.GetAnchorA);box2d.b2WeldJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,x)};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetAnchorB",box2d.b2WeldJoint.prototype.GetAnchorB);box2d.b2WeldJoint.prototype.GetReactionForce=function(x,V){return V.Set(x*this.m_impulse.x,x*this.m_impulse.y)};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetReactionForce",box2d.b2WeldJoint.prototype.GetReactionForce);box2d.b2WeldJoint.prototype.GetReactionTorque=function(x){return x*this.m_impulse.z};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetReactionTorque",box2d.b2WeldJoint.prototype.GetReactionTorque);box2d.b2WeldJoint.prototype.GetLocalAnchorA=function(x){return x.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetLocalAnchorA",box2d.b2WeldJoint.prototype.GetLocalAnchorA);box2d.b2WeldJoint.prototype.GetLocalAnchorB=function(x){return x.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetLocalAnchorB",box2d.b2WeldJoint.prototype.GetLocalAnchorB);box2d.b2WeldJoint.prototype.GetReferenceAngle=function(){return this.m_referenceAngle};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetReferenceAngle",box2d.b2WeldJoint.prototype.GetReferenceAngle);box2d.b2WeldJoint.prototype.SetFrequency=function(x){this.m_frequencyHz=x};box2d.b2WeldJoint.prototype.GetFrequency=function(){return this.m_frequencyHz};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetFrequency",box2d.b2WeldJoint.prototype.GetFrequency);box2d.b2WeldJoint.prototype.SetDampingRatio=function(x){this.m_dampingRatio=x};box2d.b2WeldJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetDampingRatio",box2d.b2WeldJoint.prototype.GetDampingRatio);box2d.b2WeldJoint.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_bodyA.m_islandIndex,V=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2WeldJointDef*/ var jd = new box2d.b2WeldJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,x),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,V),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),box2d.b2Log(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),box2d.b2Log(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2WeldJoint.prototype,"Dump",box2d.b2WeldJoint.prototype.Dump);box2d.b2WheelJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_wheelJoint),this.localAnchorA=new box2d.b2Vec2(0,0),this.localAnchorB=new box2d.b2Vec2(0,0),this.localAxisA=new box2d.b2Vec2(1,0)};goog.inherits(box2d.b2WheelJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2WheelJointDef",box2d.b2WheelJointDef);box2d.b2WheelJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2WheelJointDef.prototype,"localAnchorA",box2d.b2WheelJointDef.prototype.localAnchorA);box2d.b2WheelJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2WheelJointDef.prototype,"localAnchorB",box2d.b2WheelJointDef.prototype.localAnchorB);box2d.b2WheelJointDef.prototype.localAxisA=null;goog.exportProperty(box2d.b2WheelJointDef.prototype,"localAxisA",box2d.b2WheelJointDef.prototype.localAxisA);box2d.b2WheelJointDef.prototype.enableMotor=!1;goog.exportProperty(box2d.b2WheelJointDef.prototype,"enableMotor",box2d.b2WheelJointDef.prototype.enableMotor);box2d.b2WheelJointDef.prototype.maxMotorTorque=0;goog.exportProperty(box2d.b2WheelJointDef.prototype,"maxMotorTorque",box2d.b2WheelJointDef.prototype.maxMotorTorque);box2d.b2WheelJointDef.prototype.motorSpeed=0;goog.exportProperty(box2d.b2WheelJointDef.prototype,"motorSpeed",box2d.b2WheelJointDef.prototype.motorSpeed);box2d.b2WheelJointDef.prototype.frequencyHz=2;goog.exportProperty(box2d.b2WheelJointDef.prototype,"frequencyHz",box2d.b2WheelJointDef.prototype.frequencyHz);box2d.b2WheelJointDef.prototype.dampingRatio=.7;goog.exportProperty(box2d.b2WheelJointDef.prototype,"dampingRatio",box2d.b2WheelJointDef.prototype.dampingRatio);box2d.b2WheelJointDef.prototype.Initialize=function(x,V,o,_o){this.bodyA=x,this.bodyB=V,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB),this.bodyA.GetLocalVector(_o,this.localAxisA)};goog.exportProperty(box2d.b2WheelJointDef.prototype,"Initialize",box2d.b2WheelJointDef.prototype.Initialize);box2d.b2WheelJoint=function(x){box2d.b2Joint.call(this,x),this.m_frequencyHz=x.frequencyHz,this.m_dampingRatio=x.dampingRatio,this.m_localAnchorA=x.localAnchorA.Clone(),this.m_localAnchorB=x.localAnchorB.Clone(),this.m_localXAxisA=x.localAxisA.Clone(),this.m_localYAxisA=box2d.b2Cross_S_V2(1,this.m_localXAxisA,new box2d.b2Vec2),this.m_maxMotorTorque=x.maxMotorTorque,this.m_motorSpeed=x.motorSpeed,this.m_enableMotor=x.enableMotor,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_ax=new box2d.b2Vec2,this.m_ay=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_ax.SetZero(),this.m_ay.SetZero()};goog.inherits(box2d.b2WheelJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2WheelJoint",box2d.b2WheelJoint);box2d.b2WheelJoint.prototype.m_frequencyHz=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_frequencyHz",box2d.b2WheelJoint.prototype.m_frequencyHz);box2d.b2WheelJoint.prototype.m_dampingRatio=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_dampingRatio",box2d.b2WheelJoint.prototype.m_dampingRatio);box2d.b2WheelJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localAnchorA",box2d.b2WheelJoint.prototype.m_localAnchorA);box2d.b2WheelJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localAnchorB",box2d.b2WheelJoint.prototype.m_localAnchorB);box2d.b2WheelJoint.prototype.m_localXAxisA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localXAxisA",box2d.b2WheelJoint.prototype.m_localXAxisA);box2d.b2WheelJoint.prototype.m_localYAxisA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localYAxisA",box2d.b2WheelJoint.prototype.m_localYAxisA);box2d.b2WheelJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_impulse",box2d.b2WheelJoint.prototype.m_impulse);box2d.b2WheelJoint.prototype.m_motorImpulse=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_motorImpulse",box2d.b2WheelJoint.prototype.m_motorImpulse);box2d.b2WheelJoint.prototype.m_springImpulse=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_springImpulse",box2d.b2WheelJoint.prototype.m_springImpulse);box2d.b2WheelJoint.prototype.m_maxMotorTorque=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_maxMotorTorque",box2d.b2WheelJoint.prototype.m_maxMotorTorque);box2d.b2WheelJoint.prototype.m_motorSpeed=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_motorSpeed",box2d.b2WheelJoint.prototype.m_motorSpeed);box2d.b2WheelJoint.prototype.m_enableMotor=!1;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_enableMotor",box2d.b2WheelJoint.prototype.m_enableMotor);box2d.b2WheelJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_indexA",box2d.b2WheelJoint.prototype.m_indexA);box2d.b2WheelJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_indexB",box2d.b2WheelJoint.prototype.m_indexB);box2d.b2WheelJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localCenterA",box2d.b2WheelJoint.prototype.m_localCenterA);box2d.b2WheelJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localCenterB",box2d.b2WheelJoint.prototype.m_localCenterB);box2d.b2WheelJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_invMassA",box2d.b2WheelJoint.prototype.m_invMassA);box2d.b2WheelJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_invMassB",box2d.b2WheelJoint.prototype.m_invMassB);box2d.b2WheelJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_invIA",box2d.b2WheelJoint.prototype.m_invIA);box2d.b2WheelJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_invIB",box2d.b2WheelJoint.prototype.m_invIB);box2d.b2WheelJoint.prototype.m_ax=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_ax",box2d.b2WheelJoint.prototype.m_ax);box2d.b2WheelJoint.prototype.m_ay=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_ay",box2d.b2WheelJoint.prototype.m_ay);box2d.b2WheelJoint.prototype.m_sAx=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_sAx",box2d.b2WheelJoint.prototype.m_sAx);box2d.b2WheelJoint.prototype.m_sBx=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_sBx",box2d.b2WheelJoint.prototype.m_sBx);box2d.b2WheelJoint.prototype.m_sAy=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_sAy",box2d.b2WheelJoint.prototype.m_sAy);box2d.b2WheelJoint.prototype.m_sBy=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_sBy",box2d.b2WheelJoint.prototype.m_sBy);box2d.b2WheelJoint.prototype.m_mass=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_mass",box2d.b2WheelJoint.prototype.m_mass);box2d.b2WheelJoint.prototype.m_motorMass=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_motorMass",box2d.b2WheelJoint.prototype.m_motorMass);box2d.b2WheelJoint.prototype.m_springMass=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_springMass",box2d.b2WheelJoint.prototype.m_springMass);box2d.b2WheelJoint.prototype.m_bias=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_bias",box2d.b2WheelJoint.prototype.m_bias);box2d.b2WheelJoint.prototype.m_gamma=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_gamma",box2d.b2WheelJoint.prototype.m_gamma);box2d.b2WheelJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_qA",box2d.b2WheelJoint.prototype.m_qA);box2d.b2WheelJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_qB",box2d.b2WheelJoint.prototype.m_qB);box2d.b2WheelJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_lalcA",box2d.b2WheelJoint.prototype.m_lalcA);box2d.b2WheelJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_lalcB",box2d.b2WheelJoint.prototype.m_lalcB);box2d.b2WheelJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_rA",box2d.b2WheelJoint.prototype.m_rA);box2d.b2WheelJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_rB",box2d.b2WheelJoint.prototype.m_rB);box2d.b2WheelJoint.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetMotorSpeed",box2d.b2WheelJoint.prototype.GetMotorSpeed);box2d.b2WheelJoint.prototype.GetMaxMotorTorque=function(){return this.m_maxMotorTorque};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetMaxMotorTorque",box2d.b2WheelJoint.prototype.GetMaxMotorTorque);box2d.b2WheelJoint.prototype.SetSpringFrequencyHz=function(x){this.m_frequencyHz=x};goog.exportProperty(box2d.b2WheelJoint.prototype,"SetSpringFrequencyHz",box2d.b2WheelJoint.prototype.SetSpringFrequencyHz);box2d.b2WheelJoint.prototype.GetSpringFrequencyHz=function(){return this.m_frequencyHz};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetSpringFrequencyHz",box2d.b2WheelJoint.prototype.GetSpringFrequencyHz);box2d.b2WheelJoint.prototype.SetSpringDampingRatio=function(x){this.m_dampingRatio=x};goog.exportProperty(box2d.b2WheelJoint.prototype,"SetSpringDampingRatio",box2d.b2WheelJoint.prototype.SetSpringDampingRatio);box2d.b2WheelJoint.prototype.GetSpringDampingRatio=function(){return this.m_dampingRatio};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetSpringDampingRatio",box2d.b2WheelJoint.prototype.GetSpringDampingRatio);box2d.b2WheelJoint.prototype.InitVelocityConstraints=function(x){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var V=this.m_invMassA,o=this.m_invMassB,_o=this.m_invIA,_r=this.m_invIB,l=x.positions[this.m_indexA].c,e_=x.velocities[this.m_indexA].v,o_=x.velocities[this.m_indexA].w,i_=x.positions[this.m_indexB].c,_e=x.positions[this.m_indexB].a,c_=x.velocities[this.m_indexB].v,ws=x.velocities[this.m_indexB].w,h_=this.m_qA.SetAngle(x.positions[this.m_indexA].a),s_=this.m_qB.SetAngle(_e);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),_e=box2d.b2Mul_R_V2(h_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),s_=box2d.b2Mul_R_V2(s_,this.m_lalcB,this.m_rB),l=box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(i_,s_,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(l,_e,box2d.b2Vec2.s_t1),box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_d),box2d.b2Mul_R_V2(h_,this.m_localYAxisA,this.m_ay),this.m_sAy=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(l,_e,box2d.b2Vec2.s_t0),this.m_ay),this.m_sBy=box2d.b2Cross_V2_V2(s_,this.m_ay),this.m_mass=V+o+_o*this.m_sAy*this.m_sAy+_r*this.m_sBy*this.m_sBy,0<this.m_mass&&(this.m_mass=1/this.m_mass),this.m_gamma=this.m_bias=this.m_springMass=0,0<this.m_frequencyHz?(box2d.b2Mul_R_V2(h_,this.m_localXAxisA,this.m_ax),this.m_sAx=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(l,_e,box2d.b2Vec2.s_t0),this.m_ax),this.m_sBx=box2d.b2Cross_V2_V2(s_,this.m_ax),V=V+o+_o*this.m_sAx*this.m_sAx+_r*this.m_sBx*this.m_sBx,0<V&&(this.m_springMass=1/V,o=box2d.b2Dot_V2_V2(l,this.m_ax),h_=2*box2d.b2_pi*this.m_frequencyHz,l=this.m_springMass*h_*h_,i_=x.step.dt,this.m_gamma=i_*(2*this.m_springMass*this.m_dampingRatio*h_+i_*l),0<this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_bias=o*i_*l*this.m_gamma,this.m_springMass=V+this.m_gamma,0<this.m_springMass&&(this.m_springMass=1/this.m_springMass))):this.m_springImpulse=0,this.m_enableMotor?(this.m_motorMass=_o+_r,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass)):this.m_motorImpulse=this.m_motorMass=0,x.step.warmStarting?(this.m_impulse*=x.step.dtRatio,this.m_springImpulse*=x.step.dtRatio,this.m_motorImpulse*=x.step.dtRatio,_o=box2d.b2Add_V2_V2(box2d.b2Mul_S_V2(this.m_impulse,this.m_ay,box2d.b2Vec2.s_t0),box2d.b2Mul_S_V2(this.m_springImpulse,this.m_ax,box2d.b2Vec2.s_t1),box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_P),_r=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,V=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse,e_.SelfMulSub(this.m_invMassA,_o),o_-=this.m_invIA*_r,c_.SelfMulAdd(this.m_invMassB,_o),ws+=this.m_invIB*V):this.m_motorImpulse=this.m_springImpulse=this.m_impulse=0,x.velocities[this.m_indexA].w=o_,x.velocities[this.m_indexB].w=ws};goog.exportProperty(box2d.b2WheelJoint.prototype,"InitVelocityConstraints",box2d.b2WheelJoint.prototype.InitVelocityConstraints);box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_d=new box2d.b2Vec2;box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2WheelJoint.prototype.SolveVelocityConstraints=function(x){var V=this.m_invMassA,o=this.m_invMassB,_o=this.m_invIA,_r=this.m_invIB,l=x.velocities[this.m_indexA].v,e_=x.velocities[this.m_indexA].w,o_=x.velocities[this.m_indexB].v,i_=x.velocities[this.m_indexB].w,ws=box2d.b2Dot_V2_V2(this.m_ax,box2d.b2Sub_V2_V2(o_,l,box2d.b2Vec2.s_t0))+this.m_sBx*i_-this.m_sAx*e_,ws=-this.m_springMass*(ws+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=ws;var _e=box2d.b2Mul_S_V2(ws,this.m_ax,box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P),c_=ws*this.m_sAx,ws=ws*this.m_sBx;l.SelfMulSub(V,_e),e_-=_o*c_,o_.SelfMulAdd(o,_e),i_+=_r*ws,ws=i_-e_-this.m_motorSpeed,ws*=-this.m_motorMass,_e=this.m_motorImpulse,c_=x.step.dt*this.m_maxMotorTorque,this.m_motorImpulse=box2d.b2Clamp(this.m_motorImpulse+ws,-c_,c_),ws=this.m_motorImpulse-_e,e_-=_o*ws,i_+=_r*ws,ws=box2d.b2Dot_V2_V2(this.m_ay,box2d.b2Sub_V2_V2(o_,l,box2d.b2Vec2.s_t0))+this.m_sBy*i_-this.m_sAy*e_,ws*=-this.m_mass,this.m_impulse+=ws,_e=box2d.b2Mul_S_V2(ws,this.m_ay,box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P),c_=ws*this.m_sAy,ws*=this.m_sBy,l.SelfMulSub(V,_e),e_-=_o*c_,o_.SelfMulAdd(o,_e),x.velocities[this.m_indexA].w=e_,x.velocities[this.m_indexB].w=i_+_r*ws};goog.exportProperty(box2d.b2WheelJoint.prototype,"SolveVelocityConstraints",box2d.b2WheelJoint.prototype.SolveVelocityConstraints);box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2WheelJoint.prototype.SolvePositionConstraints=function(x){var V=x.positions[this.m_indexA].c,o=x.positions[this.m_indexA].a,_o=x.positions[this.m_indexB].c,_r=x.positions[this.m_indexB].a,o_=this.m_qA.SetAngle(o),_e=this.m_qB.SetAngle(_r);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var i_=box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA);box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var _e=box2d.b2Mul_R_V2(_e,this.m_lalcB,this.m_rB),l=box2d.b2Add_V2_V2(box2d.b2Sub_V2_V2(_o,V,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(_e,i_,box2d.b2Vec2.s_t1),box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_d),o_=box2d.b2Mul_R_V2(o_,this.m_localYAxisA,this.m_ay),i_=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(l,i_,box2d.b2Vec2.s_t0),o_),_e=box2d.b2Cross_V2_V2(_e,o_),l=box2d.b2Dot_V2_V2(l,this.m_ay),e_=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,e_=e_!==0?-l/e_:0,o_=box2d.b2Mul_S_V2(e_,o_,box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_P),i_=e_*i_,_e=e_*_e;return V.SelfMulSub(this.m_invMassA,o_),o-=this.m_invIA*i_,_o.SelfMulAdd(this.m_invMassB,o_),_r+=this.m_invIB*_e,x.positions[this.m_indexA].a=o,x.positions[this.m_indexB].a=_r,box2d.b2Abs(l)<=box2d.b2_linearSlop};goog.exportProperty(box2d.b2WheelJoint.prototype,"SolvePositionConstraints",box2d.b2WheelJoint.prototype.SolvePositionConstraints);box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_d=new box2d.b2Vec2;box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2WheelJoint.prototype.GetDefinition=function(x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),x};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetDefinition",box2d.b2WheelJoint.prototype.GetDefinition);box2d.b2WheelJoint.prototype.GetAnchorA=function(x){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,x)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetAnchorA",box2d.b2WheelJoint.prototype.GetAnchorA);box2d.b2WheelJoint.prototype.GetAnchorB=function(x){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,x)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetAnchorB",box2d.b2WheelJoint.prototype.GetAnchorB);box2d.b2WheelJoint.prototype.GetReactionForce=function(x,V){return V.x=x*(this.m_impulse*this.m_ay.x+this.m_springImpulse*this.m_ax.x),V.y=x*(this.m_impulse*this.m_ay.y+this.m_springImpulse*this.m_ax.y),V};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetReactionForce",box2d.b2WheelJoint.prototype.GetReactionForce);box2d.b2WheelJoint.prototype.GetReactionTorque=function(x){return x*this.m_motorImpulse};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetReactionTorque",box2d.b2WheelJoint.prototype.GetReactionTorque);box2d.b2WheelJoint.prototype.GetLocalAnchorA=function(x){return x.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetLocalAnchorA",box2d.b2WheelJoint.prototype.GetLocalAnchorA);box2d.b2WheelJoint.prototype.GetLocalAnchorB=function(x){return x.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetLocalAnchorB",box2d.b2WheelJoint.prototype.GetLocalAnchorB);box2d.b2WheelJoint.prototype.GetLocalAxisA=function(x){return x.Copy(this.m_localXAxisA)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetLocalAxisA",box2d.b2WheelJoint.prototype.GetLocalAxisA);box2d.b2WheelJoint.prototype.GetJointTranslation=function(){var o=this.m_bodyA,x=this.m_bodyB,V=o.GetWorldPoint(this.m_localAnchorA,new box2d.b2Vec2),x=x.GetWorldPoint(this.m_localAnchorB,new box2d.b2Vec2),V=box2d.b2Sub_V2_V2(x,V,new box2d.b2Vec2),o=o.GetWorldVector(this.m_localXAxisA,new box2d.b2Vec2);return box2d.b2Dot_V2_V2(V,o)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetJointTranslation",box2d.b2WheelJoint.prototype.GetJointTranslation);box2d.b2WheelJoint.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetJointSpeed",box2d.b2WheelJoint.prototype.GetJointSpeed);box2d.b2WheelJoint.prototype.IsMotorEnabled=function(){return this.m_enableMotor};goog.exportProperty(box2d.b2WheelJoint.prototype,"IsMotorEnabled",box2d.b2WheelJoint.prototype.IsMotorEnabled);box2d.b2WheelJoint.prototype.EnableMotor=function(x){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=x};goog.exportProperty(box2d.b2WheelJoint.prototype,"EnableMotor",box2d.b2WheelJoint.prototype.EnableMotor);box2d.b2WheelJoint.prototype.SetMotorSpeed=function(x){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=x};goog.exportProperty(box2d.b2WheelJoint.prototype,"SetMotorSpeed",box2d.b2WheelJoint.prototype.SetMotorSpeed);box2d.b2WheelJoint.prototype.SetMaxMotorTorque=function(x){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=x};goog.exportProperty(box2d.b2WheelJoint.prototype,"SetMaxMotorTorque",box2d.b2WheelJoint.prototype.SetMaxMotorTorque);box2d.b2WheelJoint.prototype.GetMotorTorque=function(x){return x*this.m_motorImpulse};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetMotorTorque",box2d.b2WheelJoint.prototype.GetMotorTorque);box2d.b2WheelJoint.prototype.Dump=function(){if(box2d.DEBUG){var x=this.m_bodyA.m_islandIndex,V=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2WheelJointDef*/ var jd = new box2d.b2WheelJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,x),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,V),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.localAxisA.Set(%.15f, %.15f);
`,this.m_localXAxisA.x,this.m_localXAxisA.y),box2d.b2Log(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),box2d.b2Log(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),box2d.b2Log(`  jd.maxMotorTorque = %.15f;
`,this.m_maxMotorTorque),box2d.b2Log(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),box2d.b2Log(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2WheelJoint.prototype,"Dump",box2d.b2WheelJoint.prototype.Dump);box2d.b2Particle={};box2d.b2ParticleFlag={b2_waterParticle:0,b2_zombieParticle:2,b2_wallParticle:4,b2_springParticle:8,b2_elasticParticle:16,b2_viscousParticle:32,b2_powderParticle:64,b2_tensileParticle:128,b2_colorMixingParticle:256,b2_destructionListenerParticle:512,b2_barrierParticle:1024,b2_staticPressureParticle:2048,b2_reactiveParticle:4096,b2_repulsiveParticle:8192,b2_fixtureContactListenerParticle:16384,b2_particleContactListenerParticle:32768,b2_fixtureContactFilterParticle:65536,b2_particleContactFilterParticle:131072};goog.exportSymbol("box2d.b2ParticleFlag",box2d.b2ParticleFlag);goog.exportProperty(box2d.b2ParticleFlag,"b2_waterParticle",box2d.b2ParticleFlag.b2_waterParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_zombieParticle",box2d.b2ParticleFlag.b2_zombieParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_wallParticle",box2d.b2ParticleFlag.b2_wallParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_springParticle",box2d.b2ParticleFlag.b2_springParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_elasticParticle",box2d.b2ParticleFlag.b2_elasticParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_viscousParticle",box2d.b2ParticleFlag.b2_viscousParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_powderParticle",box2d.b2ParticleFlag.b2_powderParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_tensileParticle",box2d.b2ParticleFlag.b2_tensileParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_colorMixingParticle",box2d.b2ParticleFlag.b2_colorMixingParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_destructionListenerParticle",box2d.b2ParticleFlag.b2_destructionListenerParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_barrierParticle",box2d.b2ParticleFlag.b2_barrierParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_staticPressureParticle",box2d.b2ParticleFlag.b2_staticPressureParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_reactiveParticle",box2d.b2ParticleFlag.b2_reactiveParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_repulsiveParticle",box2d.b2ParticleFlag.b2_repulsiveParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_fixtureContactListenerParticle",box2d.b2ParticleFlag.b2_fixtureContactListenerParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_particleContactListenerParticle",box2d.b2ParticleFlag.b2_particleContactListenerParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_fixtureContactFilterParticle",box2d.b2ParticleFlag.b2_fixtureContactFilterParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_particleContactFilterParticle",box2d.b2ParticleFlag.b2_particleContactFilterParticle);box2d.b2ParticleColor=function(x,V,o,_o){if(arguments.length!==0)if(x instanceof box2d.b2Color)this.r=0|255*x.r,this.g=0|255*x.g,this.b=0|255*x.b,this.a=0|255*x.a;else if(3<=arguments.length)this.r=0|x||0,this.g=0|V||0,this.b=0|o||0,this.a=0|_o||0;else throw Error()};goog.exportSymbol("box2d.b2ParticleColor",box2d.b2ParticleColor);box2d.b2ParticleColor.prototype.r=0;goog.exportProperty(box2d.b2ParticleColor.prototype,"r",box2d.b2ParticleColor.prototype.r);box2d.b2ParticleColor.prototype.g=0;goog.exportProperty(box2d.b2ParticleColor.prototype,"g",box2d.b2ParticleColor.prototype.g);box2d.b2ParticleColor.prototype.b=0;goog.exportProperty(box2d.b2ParticleColor.prototype,"b",box2d.b2ParticleColor.prototype.b);box2d.b2ParticleColor.prototype.a=0;goog.exportProperty(box2d.b2ParticleColor.prototype,"a",box2d.b2ParticleColor.prototype.a);box2d.b2ParticleColor.prototype.IsZero=function(){return this.r===0&&this.g===0&&this.b===0&&this.a===0};goog.exportProperty(box2d.b2ParticleColor.prototype,"IsZero",box2d.b2ParticleColor.prototype.IsZero);box2d.b2ParticleColor.prototype.GetColor=function(x){return x.r=this.r/255,x.g=this.g/255,x.b=this.b/255,x.a=this.a/255,x};goog.exportProperty(box2d.b2ParticleColor.prototype,"GetColor",box2d.b2ParticleColor.prototype.GetColor);box2d.b2ParticleColor.prototype.Set=function(x,V,o,_o){if(x instanceof box2d.b2Color)this.SetColor(x);else if(3<=arguments.length)this.SetRGBA(x||0,V||0,o||0,_o);else throw Error()};goog.exportProperty(box2d.b2ParticleColor.prototype,"Set",box2d.b2ParticleColor.prototype.Set);box2d.b2ParticleColor.prototype.SetRGBA=function(x,V,o,_o){this.r=x,this.g=V,this.b=o,this.a=typeof _o=="number"?_o:255};goog.exportProperty(box2d.b2ParticleColor.prototype,"SetRGBA",box2d.b2ParticleColor.prototype.SetRGBA);box2d.b2ParticleColor.prototype.SetColor=function(x){this.r=255*x.r,this.g=255*x.g,this.b=255*x.b,this.a=255*x.a};goog.exportProperty(box2d.b2ParticleColor.prototype,"SetColor",box2d.b2ParticleColor.prototype.SetColor);box2d.b2ParticleColor.prototype.Copy=function(x){return this.r=x.r,this.g=x.g,this.b=x.b,this.a=x.a,this};goog.exportProperty(box2d.b2ParticleColor.prototype,"Copy",box2d.b2ParticleColor.prototype.Copy);box2d.b2ParticleColor.prototype.Clone=function(){return new box2d.b2ParticleColor(this.r,this.g,this.b,this.a)};box2d.b2ParticleColor.prototype.SelfMul_0_1=function(x){return this.r*=x,this.g*=x,this.b*=x,this.a*=x,this};goog.exportProperty(box2d.b2ParticleColor.prototype,"SelfMul_0_1",box2d.b2ParticleColor.prototype.SelfMul_0_1);box2d.b2ParticleColor.prototype.SelfMul_0_255=function(x){return x+=1,this.r=this.r*x>>box2d.b2ParticleColor.k_bitsPerComponent,this.g=this.g*x>>box2d.b2ParticleColor.k_bitsPerComponent,this.b=this.b*x>>box2d.b2ParticleColor.k_bitsPerComponent,this.a=this.a*x>>box2d.b2ParticleColor.k_bitsPerComponent,this};goog.exportProperty(box2d.b2ParticleColor.prototype,"SelfMul_0_255",box2d.b2ParticleColor.prototype.SelfMul_0_255);box2d.b2ParticleColor.prototype.Mul_0_1=function(x,V){return V.Copy(this).SelfMul_0_1(x)};goog.exportProperty(box2d.b2ParticleColor.prototype,"Mul_0_1",box2d.b2ParticleColor.prototype.Mul_0_1);box2d.b2ParticleColor.prototype.Mul_0_255=function(x,V){return V.Copy(this).SelfMul_0_255(x)};goog.exportProperty(box2d.b2ParticleColor.prototype,"Mul_0_255",box2d.b2ParticleColor.prototype.Mul_0_255);box2d.b2ParticleColor.prototype.SelfAdd=function(x){return this.r+=x.r,this.g+=x.g,this.b+=x.b,this.a+=x.a,this};goog.exportProperty(box2d.b2ParticleColor.prototype,"SelfAdd",box2d.b2ParticleColor.prototype.SelfAdd);box2d.b2ParticleColor.prototype.Add=function(x,V){return V.r=this.r+x.r,V.g=this.g+x.g,V.b=this.b+x.b,V.a=this.a+x.a,V};goog.exportProperty(box2d.b2ParticleColor.prototype,"Add",box2d.b2ParticleColor.prototype.Add);box2d.b2ParticleColor.prototype.SelfSub=function(x){return this.r-=x.r,this.g-=x.g,this.b-=x.b,this.a-=x.a,this};goog.exportProperty(box2d.b2ParticleColor.prototype,"SelfSub",box2d.b2ParticleColor.prototype.SelfSub);box2d.b2ParticleColor.prototype.Sub=function(x,V){return V.r=this.r-x.r,V.g=this.g-x.g,V.b=this.b-x.b,V.a=this.a-x.a,V};goog.exportProperty(box2d.b2ParticleColor.prototype,"Sub",box2d.b2ParticleColor.prototype.Sub);box2d.b2ParticleColor.prototype.IsEqual=function(x){return this.r===x.r&&this.g===x.g&&this.b===x.b&&this.a===x.a};goog.exportProperty(box2d.b2ParticleColor.prototype,"IsEqual",box2d.b2ParticleColor.prototype.IsEqual);box2d.b2ParticleColor.prototype.Mix=function(x,V){box2d.b2ParticleColor.MixColors(this,x,V)};goog.exportProperty(box2d.b2ParticleColor.prototype,"Mix",box2d.b2ParticleColor.prototype.Mix);box2d.b2ParticleColor.MixColors=function(x,V,o){var _o=o*(V.r-x.r)>>box2d.b2ParticleColor.k_bitsPerComponent,_r=o*(V.g-x.g)>>box2d.b2ParticleColor.k_bitsPerComponent,l=o*(V.b-x.b)>>box2d.b2ParticleColor.k_bitsPerComponent;o=o*(V.a-x.a)>>box2d.b2ParticleColor.k_bitsPerComponent,x.r+=_o,x.g+=_r,x.b+=l,x.a+=o,V.r-=_o,V.g-=_r,V.b-=l,V.a-=o};goog.exportProperty(box2d.b2ParticleColor,"MixColors",box2d.b2ParticleColor.MixColors);box2d.B2PARTICLECOLOR_BITS_PER_COMPONENT=8;box2d.B2PARTICLECOLOR_MAX_VALUE=(1<<box2d.B2PARTICLECOLOR_BITS_PER_COMPONENT)-1;box2d.b2ParticleColor.k_maxValue=+box2d.B2PARTICLECOLOR_MAX_VALUE;goog.exportProperty(box2d.b2ParticleColor,"k_maxValue",box2d.b2ParticleColor.k_maxValue);box2d.b2ParticleColor.k_inverseMaxValue=1/+box2d.B2PARTICLECOLOR_MAX_VALUE;goog.exportProperty(box2d.b2ParticleColor,"k_inverseMaxValue",box2d.b2ParticleColor.k_inverseMaxValue);box2d.b2ParticleColor.k_bitsPerComponent=box2d.B2PARTICLECOLOR_BITS_PER_COMPONENT;goog.exportProperty(box2d.b2ParticleColor,"k_bitsPerComponent",box2d.b2ParticleColor.k_bitsPerComponent);box2d.b2ParticleColor_zero=new box2d.b2ParticleColor;box2d.b2ParticleDef=function(){this.position=box2d.b2Vec2_zero.Clone(),this.velocity=box2d.b2Vec2_zero.Clone(),this.color=box2d.b2ParticleColor_zero.Clone()};goog.exportSymbol("box2d.b2ParticleDef",box2d.b2ParticleDef);box2d.b2ParticleDef.prototype.flags=0;goog.exportProperty(box2d.b2ParticleDef.prototype,"flags",box2d.b2ParticleDef.prototype.flags);box2d.b2ParticleDef.prototype.position=null;goog.exportProperty(box2d.b2ParticleDef.prototype,"position",box2d.b2ParticleDef.prototype.position);box2d.b2ParticleDef.prototype.velocity=null;goog.exportProperty(box2d.b2ParticleDef.prototype,"velocity",box2d.b2ParticleDef.prototype.velocity);box2d.b2ParticleDef.prototype.color=null;goog.exportProperty(box2d.b2ParticleDef.prototype,"color",box2d.b2ParticleDef.prototype.color);box2d.b2ParticleDef.prototype.lifetime=0;goog.exportProperty(box2d.b2ParticleDef.prototype,"lifetime",box2d.b2ParticleDef.prototype.lifetime);box2d.b2ParticleDef.prototype.userData=null;goog.exportProperty(box2d.b2ParticleDef.prototype,"userData",box2d.b2ParticleDef.prototype.userData);box2d.b2ParticleDef.prototype.group=null;goog.exportProperty(box2d.b2ParticleDef.prototype,"group",box2d.b2ParticleDef.prototype.group);box2d.b2CalculateParticleIterations=function(x,V,o){return x=Math.ceil(Math.sqrt(x/(.01*V))*o),box2d.b2Clamp(x,1,8)};goog.exportSymbol("box2d.b2CalculateParticleIterations",box2d.b2CalculateParticleIterations);box2d.b2ParticleHandle=function(){};goog.exportSymbol("box2d.b2ParticleHandle",box2d.b2ParticleHandle);box2d.b2ParticleHandle.prototype.m_index=box2d.b2_invalidParticleIndex;box2d.b2ParticleHandle.prototype.GetIndex=function(){return this.m_index};goog.exportProperty(box2d.b2ParticleHandle.prototype,"GetIndex",box2d.b2ParticleHandle.prototype.GetIndex);box2d.b2ParticleHandle.prototype.SetIndex=function(x){this.m_index=x};box2d.b2ParticleGroupFlag={b2_solidParticleGroup:1,b2_rigidParticleGroup:2,b2_particleGroupCanBeEmpty:4,b2_particleGroupWillBeDestroyed:8,b2_particleGroupNeedsUpdateDepth:16};goog.exportSymbol("box2d.b2ParticleGroupFlag",box2d.b2ParticleGroupFlag);goog.exportProperty(box2d.b2ParticleGroupFlag,"b2_solidParticleGroup",box2d.b2ParticleGroupFlag.b2_solidParticleGroup);goog.exportProperty(box2d.b2ParticleGroupFlag,"b2_rigidParticleGroup",box2d.b2ParticleGroupFlag.b2_rigidParticleGroup);goog.exportProperty(box2d.b2ParticleGroupFlag,"b2_particleGroupCanBeEmpty",box2d.b2ParticleGroupFlag.b2_particleGroupCanBeEmpty);goog.exportProperty(box2d.b2ParticleGroupFlag,"b2_particleGroupWillBeDestroyed",box2d.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed);goog.exportProperty(box2d.b2ParticleGroupFlag,"b2_particleGroupNeedsUpdateDepth",box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth);box2d.b2ParticleGroupFlag.b2_particleGroupInternalMask=box2d.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed|box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth;box2d.b2ParticleGroupDef=function(){this.position=box2d.b2Vec2_zero.Clone(),this.linearVelocity=box2d.b2Vec2_zero.Clone(),this.color=box2d.b2ParticleColor_zero.Clone()};goog.exportSymbol("box2d.b2ParticleGroupDef",box2d.b2ParticleGroupDef);box2d.b2ParticleGroupDef.prototype.flags=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"flags",box2d.b2ParticleGroupDef.prototype.flags);box2d.b2ParticleGroupDef.prototype.groupFlags=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"groupFlags",box2d.b2ParticleGroupDef.prototype.groupFlags);box2d.b2ParticleGroupDef.prototype.position=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"position",box2d.b2ParticleGroupDef.prototype.position);box2d.b2ParticleGroupDef.prototype.angle=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"angle",box2d.b2ParticleGroupDef.prototype.angle);box2d.b2ParticleGroupDef.prototype.linearVelocity=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"linearVelocity",box2d.b2ParticleGroupDef.prototype.linearVelocity);box2d.b2ParticleGroupDef.prototype.angularVelocity=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"angularVelocity",box2d.b2ParticleGroupDef.prototype.angularVelocity);box2d.b2ParticleGroupDef.prototype.color=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"color",box2d.b2ParticleGroupDef.prototype.color);box2d.b2ParticleGroupDef.prototype.strength=1;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"strength",box2d.b2ParticleGroupDef.prototype.strength);box2d.b2ParticleGroupDef.prototype.shape=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"shape",box2d.b2ParticleGroupDef.prototype.shape);box2d.b2ParticleGroupDef.prototype.shapes=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"shapes",box2d.b2ParticleGroupDef.prototype.shapes);box2d.b2ParticleGroupDef.prototype.shapeCount=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"shapeCount",box2d.b2ParticleGroupDef.prototype.shapeCount);box2d.b2ParticleGroupDef.prototype.stride=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"stride",box2d.b2ParticleGroupDef.prototype.stride);box2d.b2ParticleGroupDef.prototype.particleCount=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"particleCount",box2d.b2ParticleGroupDef.prototype.particleCount);box2d.b2ParticleGroupDef.prototype.positionData=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"positionData",box2d.b2ParticleGroupDef.prototype.positionData);box2d.b2ParticleGroupDef.prototype.lifetime=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"lifetime",box2d.b2ParticleGroupDef.prototype.lifetime);box2d.b2ParticleGroupDef.prototype.userData=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"userData",box2d.b2ParticleGroupDef.prototype.userData);box2d.b2ParticleGroupDef.prototype.group=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"group",box2d.b2ParticleGroupDef.prototype.group);box2d.b2ParticleGroup=function(){this.m_center=new box2d.b2Vec2,this.m_linearVelocity=new box2d.b2Vec2,this.m_transform=new box2d.b2Transform,this.m_transform.SetIdentity()};goog.exportSymbol("box2d.b2ParticleGroup",box2d.b2ParticleGroup);box2d.b2ParticleGroup.prototype.m_system=null;box2d.b2ParticleGroup.prototype.m_firstIndex=0;box2d.b2ParticleGroup.prototype.m_lastIndex=0;box2d.b2ParticleGroup.prototype.m_groupFlags=0;box2d.b2ParticleGroup.prototype.m_strength=1;box2d.b2ParticleGroup.prototype.m_prev=null;box2d.b2ParticleGroup.prototype.m_next=null;box2d.b2ParticleGroup.prototype.m_timestamp=-1;box2d.b2ParticleGroup.prototype.m_mass=0;box2d.b2ParticleGroup.prototype.m_inertia=0;box2d.b2ParticleGroup.prototype.m_center=null;box2d.b2ParticleGroup.prototype.m_linearVelocity=null;box2d.b2ParticleGroup.prototype.m_angularVelocity=0;box2d.b2ParticleGroup.prototype.m_transform=null;box2d.b2ParticleGroup.prototype.m_userData=null;box2d.b2ParticleGroup.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetNext",box2d.b2ParticleGroup.prototype.GetNext);box2d.b2ParticleGroup.prototype.GetParticleSystem=function(){return this.m_system};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetParticleSystem",box2d.b2ParticleGroup.prototype.GetParticleSystem);box2d.b2ParticleGroup.prototype.GetParticleCount=function(){return this.m_lastIndex-this.m_firstIndex};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetParticleCount",box2d.b2ParticleGroup.prototype.GetParticleCount);box2d.b2ParticleGroup.prototype.GetBufferIndex=function(){return this.m_firstIndex};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetBufferIndex",box2d.b2ParticleGroup.prototype.GetBufferIndex);box2d.b2ParticleGroup.prototype.ContainsParticle=function(x){return this.m_firstIndex<=x&&x<this.m_lastIndex};box2d.b2ParticleGroup.prototype.GetAllParticleFlags=function(){for(var x=0,V=this.m_firstIndex;V<this.m_lastIndex;V++)x|=this.m_system.m_flagsBuffer.data[V];return x};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetAllParticleFlags",box2d.b2ParticleGroup.prototype.GetAllParticleFlags);box2d.b2ParticleGroup.prototype.GetGroupFlags=function(){return this.m_groupFlags};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetGroupFlags",box2d.b2ParticleGroup.prototype.GetGroupFlags);box2d.b2ParticleGroup.prototype.SetGroupFlags=function(x){box2d.b2Assert((x&box2d.b2ParticleGroupFlag.b2_particleGroupInternalMask)===0),x|=this.m_groupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupInternalMask,this.m_system.SetGroupFlags(this,x)};goog.exportProperty(box2d.b2ParticleGroup.prototype,"SetGroupFlags",box2d.b2ParticleGroup.prototype.SetGroupFlags);box2d.b2ParticleGroup.prototype.GetMass=function(){return this.UpdateStatistics(),this.m_mass};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetMass",box2d.b2ParticleGroup.prototype.GetMass);box2d.b2ParticleGroup.prototype.GetInertia=function(){return this.UpdateStatistics(),this.m_inertia};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetInertia",box2d.b2ParticleGroup.prototype.GetInertia);box2d.b2ParticleGroup.prototype.GetCenter=function(){return this.UpdateStatistics(),this.m_center};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetCenter",box2d.b2ParticleGroup.prototype.GetCenter);box2d.b2ParticleGroup.prototype.GetLinearVelocity=function(){return this.UpdateStatistics(),this.m_linearVelocity};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetLinearVelocity",box2d.b2ParticleGroup.prototype.GetLinearVelocity);box2d.b2ParticleGroup.prototype.GetAngularVelocity=function(){return this.UpdateStatistics(),this.m_angularVelocity};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetAngularVelocity",box2d.b2ParticleGroup.prototype.GetAngularVelocity);box2d.b2ParticleGroup.prototype.GetTransform=function(){return this.m_transform};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetTransform",box2d.b2ParticleGroup.prototype.GetTransform);box2d.b2ParticleGroup.prototype.GetPosition=function(){return this.m_transform.p};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetPosition",box2d.b2ParticleGroup.prototype.GetPosition);box2d.b2ParticleGroup.prototype.GetAngle=function(){return this.m_transform.q.GetAngle()};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetAngle",box2d.b2ParticleGroup.prototype.GetAngle);box2d.b2ParticleGroup.prototype.GetLinearVelocityFromWorldPoint=function(x,V){var o=box2d.b2ParticleGroup.prototype.GetLinearVelocityFromWorldPoint.s_t0;return this.UpdateStatistics(),box2d.b2AddCross_V2_S_V2(this.m_linearVelocity,this.m_angularVelocity,box2d.b2Sub_V2_V2(x,this.m_center,o),V)};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetLinearVelocityFromWorldPoint",box2d.b2ParticleGroup.prototype.GetLinearVelocityFromWorldPoint);box2d.b2ParticleGroup.prototype.GetLinearVelocityFromWorldPoint.s_t0=new box2d.b2Vec2;box2d.b2ParticleGroup.prototype.GetUserData=function(){return this.m_userData};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetUserData",box2d.b2ParticleGroup.prototype.GetUserData);box2d.b2ParticleGroup.prototype.SetUserData=function(x){this.m_userData=x};goog.exportProperty(box2d.b2ParticleGroup.prototype,"SetUserData",box2d.b2ParticleGroup.prototype.SetUserData);box2d.b2ParticleGroup.prototype.ApplyForce=function(x){this.m_system.ApplyForce(this.m_firstIndex,this.m_lastIndex,x)};goog.exportProperty(box2d.b2ParticleGroup.prototype,"ApplyForce",box2d.b2ParticleGroup.prototype.ApplyForce);box2d.b2ParticleGroup.prototype.ApplyLinearImpulse=function(x){this.m_system.ApplyLinearImpulse(this.m_firstIndex,this.m_lastIndex,x)};goog.exportProperty(box2d.b2ParticleGroup.prototype,"ApplyLinearImpulse",box2d.b2ParticleGroup.prototype.ApplyLinearImpulse);box2d.b2ParticleGroup.prototype.DestroyParticles=function(x){if(box2d.b2Assert(this.m_system.m_world.IsLocked()===!1),!this.m_system.m_world.IsLocked())for(var V=this.m_firstIndex;V<this.m_lastIndex;V++)this.m_system.DestroyParticle(V,x)};goog.exportProperty(box2d.b2ParticleGroup.prototype,"DestroyParticles",box2d.b2ParticleGroup.prototype.DestroyParticles);box2d.b2ParticleGroup.prototype.UpdateStatistics=function(){var x=new box2d.b2Vec2,V=new box2d.b2Vec2;if(this.m_timestamp!=this.m_system.m_timestamp){var o=this.m_system.GetParticleMass();this.m_mass=o*(this.m_lastIndex-this.m_firstIndex),this.m_center.SetZero(),this.m_linearVelocity.SetZero();for(var _o=this.m_firstIndex;_o<this.m_lastIndex;_o++)this.m_center.SelfMulAdd(o,this.m_system.m_positionBuffer.data[_o]),this.m_linearVelocity.SelfMulAdd(o,this.m_system.m_velocityBuffer.data[_o]);for(0<this.m_mass&&(_o=1/this.m_mass,this.m_center.SelfMul(_o),this.m_linearVelocity.SelfMul(_o)),this.m_angularVelocity=this.m_inertia=0,_o=this.m_firstIndex;_o<this.m_lastIndex;_o++)box2d.b2Sub_V2_V2(this.m_system.m_positionBuffer.data[_o],this.m_center,x),box2d.b2Sub_V2_V2(this.m_system.m_velocityBuffer.data[_o],this.m_linearVelocity,V),this.m_inertia+=o*box2d.b2Dot_V2_V2(x,x),this.m_angularVelocity+=o*box2d.b2Cross_V2_V2(x,V);0<this.m_inertia&&(this.m_angularVelocity*=1/this.m_inertia),this.m_timestamp=this.m_system.m_timestamp}};goog.exportProperty(box2d.b2ParticleGroup.prototype,"UpdateStatistics",box2d.b2ParticleGroup.prototype.UpdateStatistics);box2d.std_iter_swap=function(x,V,o){var _o=x[V];x[V]=x[o],x[o]=_o};box2d.std_sort=function(x,V,o,_o){typeof V!="number"&&(V=0),typeof o!="number"&&(o=x.length-V),typeof _o!="function"&&(_o=function(i_,_e){return i_<_e});for(var _r=[],l=0;;){for(;V+1<o;o++){var e_=x[V+Math.floor(Math.random()*(o-V))];_r[l++]=o;for(var o_=V-1;;){for(;_o(x[++o_],e_););for(;_o(e_,x[--o]););if(o_>=o)break;box2d.std_iter_swap(x,o_,o)}}if(l===0)break;V=o,o=_r[--l]}return x};box2d.std_stable_sort=function(x,V,o,_o){return box2d.std_sort(x,V,o,_o)};box2d.std_remove_if=function(x,V,o){typeof o!="number"&&(o=x.length);for(var _o=0,_r=0;_r<o;++_r)V(x[_r])||(_r===_o?++_o:box2d.std_iter_swap(x,_o++,_r));return _o};box2d.std_lower_bound=function(x,V,o,_o,_r){for(typeof _r!="function"&&(_r=function(o_,i_){return o_<i_}),o-=V;0<o;){var l=Math.floor(o/2),e_=V+l;_r(x[e_],_o)?(V=++e_,o-=l+1):o=l}return V};box2d.std_upper_bound=function(x,V,o,_o,_r){for(typeof _r!="function"&&(_r=function(o_,i_){return o_<i_}),o-=V;0<o;){var l=Math.floor(o/2),e_=V+l;_r(_o,x[e_])?o=l:(V=++e_,o-=l+1)}return V};box2d.std_rotate=function(x,V,o,_o){for(var _r=o;V!==_r;)box2d.std_iter_swap(x,V++,_r++),_r===_o?_r=o:V===o&&(o=_r)};box2d.std_unique=function(x,V,o,_o){if(V===o)return o;for(var _r=V;++V!==o;)_o(x[_r],x[V])||box2d.std_iter_swap(x,++_r,V);return++_r};box2d.b2GrowableBuffer=function(x){this.data=[],this.capacity=this.count=0,this.allocator=x};box2d.b2GrowableBuffer.prototype.data=null;box2d.b2GrowableBuffer.prototype.count=0;box2d.b2GrowableBuffer.prototype.capacity=0;box2d.b2GrowableBuffer.prototype.allocator=function(){return null};box2d.b2GrowableBuffer.prototype.Append=function(){return this.count>=this.capacity&&this.Grow(),this.count++};box2d.b2GrowableBuffer.prototype.Reserve=function(x){if(!(this.capacity>=x)){box2d.b2Assert(this.capacity===this.data.length);for(var V=this.capacity;V<x;++V)this.data[V]=this.allocator();this.capacity=x}};box2d.b2GrowableBuffer.prototype.Grow=function(){var x=this.capacity?2*this.capacity:box2d.b2_minParticleSystemBufferCapacity;box2d.b2Assert(x>this.capacity),this.Reserve(x)};box2d.b2GrowableBuffer.prototype.Free=function(){this.data.length!==0&&(this.data=[],this.count=this.capacity=0)};box2d.b2GrowableBuffer.prototype.Shorten=function(x){box2d.b2Assert(!1)};box2d.b2GrowableBuffer.prototype.Data=function(){return this.data};box2d.b2GrowableBuffer.prototype.GetCount=function(){return this.count};box2d.b2GrowableBuffer.prototype.SetCount=function(x){box2d.b2Assert(0<=x&&x<=this.capacity),this.count=x};box2d.b2GrowableBuffer.prototype.GetCapacity=function(){return this.capacity};box2d.b2GrowableBuffer.prototype.RemoveIf=function(x){for(var V=0,o=0;o<this.count;++o)x(this.data[o])||V++;this.count=box2d.std_remove_if(this.data,x,this.count),box2d.b2Assert(V===this.count)};box2d.b2GrowableBuffer.prototype.Unique=function(x){this.count=box2d.std_unique(this.data,0,this.count,x)};box2d.b2FixtureParticleQueryCallback=function(x){this.m_system=x};goog.inherits(box2d.b2FixtureParticleQueryCallback,box2d.b2QueryCallback);box2d.b2FixtureParticleQueryCallback.prototype.m_system=null;box2d.b2FixtureParticleQueryCallback.prototype.ShouldQueryParticleSystem=function(x){return!1};box2d.b2FixtureParticleQueryCallback.prototype.ReportFixture=function(x){if(x.IsSensor())return!0;for(var V=x.GetShape().GetChildCount(),o=0;o<V;o++)for(var _o=x.GetAABB(o),_o=this.m_system.GetInsideBoundsEnumerator(_o),_r;0<=(_r=_o.GetNext());)this.ReportFixtureAndParticle(x,o,_r);return!0};goog.exportSymbol("box2d.b2FixtureParticleQueryCallback.prototype.ReportFixture",box2d.b2FixtureParticleQueryCallback.prototype.ReportFixture);box2d.b2FixtureParticleQueryCallback.prototype.ReportParticle=function(x,V){return!1};goog.exportSymbol("box2d.b2FixtureParticleQueryCallback.prototype.ReportParticle",box2d.b2FixtureParticleQueryCallback.prototype.ReportParticle);box2d.b2FixtureParticleQueryCallback.prototype.ReportFixtureAndParticle=function(x,V,o){box2d.b2Assert(!1)};goog.exportSymbol("box2d.b2FixtureParticleQueryCallback.prototype.ReportFixtureAndParticle",box2d.b2FixtureParticleQueryCallback.prototype.ReportFixtureAndParticle);box2d.b2ParticleContact=function(){this.normal=new box2d.b2Vec2};goog.exportSymbol("box2d.b2ParticleContact",box2d.b2ParticleContact);box2d.b2ParticleContact.prototype.indexA=0;goog.exportProperty(box2d.b2ParticleContact.prototype,"indexA",box2d.b2ParticleContact.prototype.indexA);box2d.b2ParticleContact.prototype.indexB=0;goog.exportProperty(box2d.b2ParticleContact.prototype,"indexB",box2d.b2ParticleContact.prototype.indexB);box2d.b2ParticleContact.prototype.weight=0;goog.exportProperty(box2d.b2ParticleContact.prototype,"weight",box2d.b2ParticleContact.prototype.weight);box2d.b2ParticleContact.prototype.normal=null;goog.exportProperty(box2d.b2ParticleContact.prototype,"normal",box2d.b2ParticleContact.prototype.normal);box2d.b2ParticleContact.prototype.flags=0;goog.exportProperty(box2d.b2ParticleContact.prototype,"flags",box2d.b2ParticleContact.prototype.flags);box2d.b2ParticleContact.prototype.SetIndices=function(x,V){box2d.b2Assert(x<=box2d.b2_maxParticleIndex&&V<=box2d.b2_maxParticleIndex),this.indexA=x,this.indexB=V};goog.exportProperty(box2d.b2ParticleContact.prototype,"SetIndices",box2d.b2ParticleContact.prototype.SetIndices);box2d.b2ParticleContact.prototype.SetWeight=function(x){this.weight=x};goog.exportProperty(box2d.b2ParticleContact.prototype,"SetWeight",box2d.b2ParticleContact.prototype.SetWeight);box2d.b2ParticleContact.prototype.SetNormal=function(x){this.normal.Copy(x)};goog.exportProperty(box2d.b2ParticleContact.prototype,"SetNormal",box2d.b2ParticleContact.prototype.SetNormal);box2d.b2ParticleContact.prototype.SetFlags=function(x){this.flags=x};goog.exportProperty(box2d.b2ParticleContact.prototype,"SetFlags",box2d.b2ParticleContact.prototype.SetFlags);box2d.b2ParticleContact.prototype.GetIndexA=function(){return this.indexA};goog.exportProperty(box2d.b2ParticleContact.prototype,"GetIndexA",box2d.b2ParticleContact.prototype.GetIndexA);box2d.b2ParticleContact.prototype.GetIndexB=function(){return this.indexB};goog.exportProperty(box2d.b2ParticleContact.prototype,"GetIndexB",box2d.b2ParticleContact.prototype.GetIndexB);box2d.b2ParticleContact.prototype.GetWeight=function(){return this.weight};goog.exportProperty(box2d.b2ParticleContact.prototype,"GetWeight",box2d.b2ParticleContact.prototype.GetWeight);box2d.b2ParticleContact.prototype.GetNormal=function(){return this.normal};goog.exportProperty(box2d.b2ParticleContact.prototype,"GetNormal",box2d.b2ParticleContact.prototype.GetNormal);box2d.b2ParticleContact.prototype.GetFlags=function(){return this.flags};goog.exportProperty(box2d.b2ParticleContact.prototype,"GetFlags",box2d.b2ParticleContact.prototype.GetFlags);box2d.b2ParticleContact.prototype.IsEqual=function(x){return this.indexA===x.indexA&&this.indexB===x.indexB&&this.flags===x.flags&&this.weight===x.weight&&this.normal.x===x.normal.x&&this.normal.y===x.normal.y};goog.exportProperty(box2d.b2ParticleContact.prototype,"IsEqual",box2d.b2ParticleContact.prototype.IsEqual);box2d.b2ParticleContact.prototype.IsNotEqual=function(x){return!this.IsEqual(x)};goog.exportProperty(box2d.b2ParticleContact.prototype,"IsNotEqual",box2d.b2ParticleContact.prototype.IsNotEqual);box2d.b2ParticleContact.prototype.ApproximatelyEqual=function(x){return this.indexA===x.indexA&&this.indexB===x.indexB&&this.flags===x.flags&&.01>box2d.b2Abs(this.weight-x.weight)&&1e-4>box2d.b2DistanceSquared(this.normal,x.normal)};goog.exportProperty(box2d.b2ParticleContact.prototype,"ApproximatelyEqual",box2d.b2ParticleContact.prototype.ApproximatelyEqual);box2d.b2ParticleBodyContact=function(){this.normal=new box2d.b2Vec2};goog.exportSymbol("box2d.b2ParticleBodyContact",box2d.b2ParticleBodyContact);box2d.b2ParticleBodyContact.prototype.index=0;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"index",box2d.b2ParticleBodyContact.prototype.index);box2d.b2ParticleBodyContact.prototype.body=null;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"body",box2d.b2ParticleBodyContact.prototype.body);box2d.b2ParticleBodyContact.prototype.fixture=null;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"fixture",box2d.b2ParticleBodyContact.prototype.fixture);box2d.b2ParticleBodyContact.prototype.weight=0;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"weight",box2d.b2ParticleBodyContact.prototype.weight);box2d.b2ParticleBodyContact.prototype.normal=null;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"normal",box2d.b2ParticleBodyContact.prototype.normal);box2d.b2ParticleBodyContact.prototype.mass=0;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"mass",box2d.b2ParticleBodyContact.prototype.mass);box2d.b2ParticlePair=function(){};goog.exportSymbol("box2d.b2ParticlePair",box2d.b2ParticlePair);box2d.b2ParticlePair.prototype.indexA=0;goog.exportProperty(box2d.b2ParticlePair.prototype,"indexA",box2d.b2ParticlePair.prototype.indexA);box2d.b2ParticlePair.prototype.indexB=0;goog.exportProperty(box2d.b2ParticlePair.prototype,"indexB",box2d.b2ParticlePair.prototype.indexB);box2d.b2ParticlePair.prototype.flags=0;goog.exportProperty(box2d.b2ParticlePair.prototype,"flags",box2d.b2ParticlePair.prototype.flags);box2d.b2ParticlePair.prototype.strength=0;goog.exportProperty(box2d.b2ParticlePair.prototype,"strength",box2d.b2ParticlePair.prototype.strength);box2d.b2ParticlePair.prototype.distance=0;goog.exportProperty(box2d.b2ParticlePair.prototype,"distance",box2d.b2ParticlePair.prototype.distance);box2d.b2ParticleTriad=function(){this.pa=new box2d.b2Vec2(0,0),this.pb=new box2d.b2Vec2(0,0),this.pc=new box2d.b2Vec2(0,0)};goog.exportSymbol("box2d.b2ParticleTriad",box2d.b2ParticleTriad);box2d.b2ParticleTriad.prototype.indexA=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"indexA",box2d.b2ParticleTriad.prototype.indexA);box2d.b2ParticleTriad.prototype.indexB=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"indexB",box2d.b2ParticleTriad.prototype.indexB);box2d.b2ParticleTriad.prototype.indexC=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"indexC",box2d.b2ParticleTriad.prototype.indexC);box2d.b2ParticleTriad.prototype.flags=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"flags",box2d.b2ParticleTriad.prototype.flags);box2d.b2ParticleTriad.prototype.strength=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"strength",box2d.b2ParticleTriad.prototype.strength);box2d.b2ParticleTriad.prototype.pa=null;goog.exportProperty(box2d.b2ParticleTriad.prototype,"pa",box2d.b2ParticleTriad.prototype.pa);box2d.b2ParticleTriad.prototype.pb=null;goog.exportProperty(box2d.b2ParticleTriad.prototype,"pb",box2d.b2ParticleTriad.prototype.pb);box2d.b2ParticleTriad.prototype.pc=null;goog.exportProperty(box2d.b2ParticleTriad.prototype,"pc",box2d.b2ParticleTriad.prototype.pc);box2d.b2ParticleTriad.prototype.ka=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"ka",box2d.b2ParticleTriad.prototype.ka);box2d.b2ParticleTriad.prototype.kb=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"kb",box2d.b2ParticleTriad.prototype.kb);box2d.b2ParticleTriad.prototype.kc=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"kc",box2d.b2ParticleTriad.prototype.kc);box2d.b2ParticleTriad.prototype.s=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"s",box2d.b2ParticleTriad.prototype.s);box2d.b2ParticleSystemDef=function(){};goog.exportSymbol("box2d.b2ParticleSystemDef",box2d.b2ParticleSystemDef);box2d.b2ParticleSystemDef.prototype.strictContactCheck=!1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"strictContactCheck",box2d.b2ParticleSystemDef.prototype.strictContactCheck);box2d.b2ParticleSystemDef.prototype.density=1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"density",box2d.b2ParticleSystemDef.prototype.density);box2d.b2ParticleSystemDef.prototype.gravityScale=1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"gravityScale",box2d.b2ParticleSystemDef.prototype.gravityScale);box2d.b2ParticleSystemDef.prototype.radius=1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"radius",box2d.b2ParticleSystemDef.prototype.radius);box2d.b2ParticleSystemDef.prototype.maxCount=0;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"maxCount",box2d.b2ParticleSystemDef.prototype.maxCount);box2d.b2ParticleSystemDef.prototype.pressureStrength=.005;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"pressureStrength",box2d.b2ParticleSystemDef.prototype.pressureStrength);box2d.b2ParticleSystemDef.prototype.dampingStrength=1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"dampingStrength",box2d.b2ParticleSystemDef.prototype.dampingStrength);box2d.b2ParticleSystemDef.prototype.elasticStrength=.25;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"elasticStrength",box2d.b2ParticleSystemDef.prototype.elasticStrength);box2d.b2ParticleSystemDef.prototype.springStrength=.25;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"springStrength",box2d.b2ParticleSystemDef.prototype.springStrength);box2d.b2ParticleSystemDef.prototype.viscousStrength=.25;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"viscousStrength",box2d.b2ParticleSystemDef.prototype.viscousStrength);box2d.b2ParticleSystemDef.prototype.surfaceTensionPressureStrength=.2;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"surfaceTensionPressureStrength",box2d.b2ParticleSystemDef.prototype.surfaceTensionPressureStrength);box2d.b2ParticleSystemDef.prototype.surfaceTensionNormalStrength=.2;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"surfaceTensionNormalStrength",box2d.b2ParticleSystemDef.prototype.surfaceTensionNormalStrength);box2d.b2ParticleSystemDef.prototype.repulsiveStrength=1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"repulsiveStrength",box2d.b2ParticleSystemDef.prototype.repulsiveStrength);box2d.b2ParticleSystemDef.prototype.powderStrength=.5;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"powderStrength",box2d.b2ParticleSystemDef.prototype.powderStrength);box2d.b2ParticleSystemDef.prototype.ejectionStrength=.5;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"ejectionStrength",box2d.b2ParticleSystemDef.prototype.ejectionStrength);box2d.b2ParticleSystemDef.prototype.staticPressureStrength=.2;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"staticPressureStrength",box2d.b2ParticleSystemDef.prototype.staticPressureStrength);box2d.b2ParticleSystemDef.prototype.staticPressureRelaxation=.2;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"staticPressureRelaxation",box2d.b2ParticleSystemDef.prototype.staticPressureRelaxation);box2d.b2ParticleSystemDef.prototype.staticPressureIterations=8;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"staticPressureIterations",box2d.b2ParticleSystemDef.prototype.staticPressureIterations);box2d.b2ParticleSystemDef.prototype.colorMixingStrength=.5;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"colorMixingStrength",box2d.b2ParticleSystemDef.prototype.colorMixingStrength);box2d.b2ParticleSystemDef.prototype.destroyByAge=!0;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"destroyByAge",box2d.b2ParticleSystemDef.prototype.destroyByAge);box2d.b2ParticleSystemDef.prototype.lifetimeGranularity=1/60;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"lifetimeGranularity",box2d.b2ParticleSystemDef.prototype.lifetimeGranularity);box2d.b2ParticleSystemDef.prototype.Copy=function(x){return this.strictContactCheck=x.strictContactCheck,this.density=x.density,this.gravityScale=x.gravityScale,this.radius=x.radius,this.maxCount=x.maxCount,this.pressureStrength=x.pressureStrength,this.dampingStrength=x.dampingStrength,this.elasticStrength=x.elasticStrength,this.springStrength=x.springStrength,this.viscousStrength=x.viscousStrength,this.surfaceTensionPressureStrength=x.surfaceTensionPressureStrength,this.surfaceTensionNormalStrength=x.surfaceTensionNormalStrength,this.repulsiveStrength=x.repulsiveStrength,this.powderStrength=x.powderStrength,this.ejectionStrength=x.ejectionStrength,this.staticPressureStrength=x.staticPressureStrength,this.staticPressureRelaxation=x.staticPressureRelaxation,this.staticPressureIterations=x.staticPressureIterations,this.colorMixingStrength=x.colorMixingStrength,this.destroyByAge=x.destroyByAge,this.lifetimeGranularity=x.lifetimeGranularity,this};box2d.b2ParticleSystemDef.prototype.Clone=function(){return new box2d.b2ParticleSystemDef().Copy(this)};box2d.b2ParticleSystem=function(x,V){this._ctor_(x,V)};goog.exportSymbol("box2d.b2ParticleSystem",box2d.b2ParticleSystem);box2d.b2ParticleSystem.prototype.m_paused=!1;box2d.b2ParticleSystem.prototype.m_timestamp=0;box2d.b2ParticleSystem.prototype.m_allParticleFlags=0;box2d.b2ParticleSystem.prototype.m_needsUpdateAllParticleFlags=!1;box2d.b2ParticleSystem.prototype.m_allGroupFlags=0;box2d.b2ParticleSystem.prototype.m_needsUpdateAllGroupFlags=!1;box2d.b2ParticleSystem.prototype.m_hasForce=!1;box2d.b2ParticleSystem.prototype.m_iterationIndex=0;box2d.b2ParticleSystem.prototype.m_inverseDensity=0;box2d.b2ParticleSystem.prototype.m_particleDiameter=0;box2d.b2ParticleSystem.prototype.m_inverseDiameter=0;box2d.b2ParticleSystem.prototype.m_squaredDiameter=0;box2d.b2ParticleSystem.prototype.m_count=0;box2d.b2ParticleSystem.prototype.m_internalAllocatedCapacity=0;box2d.b2ParticleSystem.prototype.m_handleAllocator=null;box2d.b2ParticleSystem.prototype.m_handleIndexBuffer=null;box2d.b2ParticleSystem.prototype.m_flagsBuffer=null;box2d.b2ParticleSystem.prototype.m_positionBuffer=null;box2d.b2ParticleSystem.prototype.m_velocityBuffer=null;box2d.b2ParticleSystem.prototype.m_forceBuffer=null;box2d.b2ParticleSystem.prototype.m_weightBuffer=null;box2d.b2ParticleSystem.prototype.m_staticPressureBuffer=null;box2d.b2ParticleSystem.prototype.m_accumulationBuffer=null;box2d.b2ParticleSystem.prototype.m_accumulation2Buffer=null;box2d.b2ParticleSystem.prototype.m_depthBuffer=null;box2d.b2ParticleSystem.prototype.m_colorBuffer=null;box2d.b2ParticleSystem.prototype.m_groupBuffer=null;box2d.b2ParticleSystem.prototype.m_userDataBuffer=null;box2d.b2ParticleSystem.prototype.m_stuckThreshold=0;box2d.b2ParticleSystem.prototype.m_lastBodyContactStepBuffer=null;box2d.b2ParticleSystem.prototype.m_bodyContactCountBuffer=null;box2d.b2ParticleSystem.prototype.m_consecutiveContactStepsBuffer=null;box2d.b2ParticleSystem.prototype.m_stuckParticleBuffer=null;box2d.b2ParticleSystem.prototype.m_proxyBuffer=null;box2d.b2ParticleSystem.prototype.m_contactBuffer=null;box2d.b2ParticleSystem.prototype.m_bodyContactBuffer=null;box2d.b2ParticleSystem.prototype.m_pairBuffer=null;box2d.b2ParticleSystem.prototype.m_triadBuffer=null;box2d.b2ParticleSystem.prototype.m_expirationTimeBuffer=null;box2d.b2ParticleSystem.prototype.m_indexByExpirationTimeBuffer=null;box2d.b2ParticleSystem.prototype.m_timeElapsed=0;box2d.b2ParticleSystem.prototype.m_expirationTimeBufferRequiresSorting=!1;box2d.b2ParticleSystem.prototype.m_groupCount=0;box2d.b2ParticleSystem.prototype.m_groupList=null;box2d.b2ParticleSystem.prototype.m_def=null;box2d.b2ParticleSystem.prototype.m_world=null;box2d.b2ParticleSystem.prototype.m_prev=null;box2d.b2ParticleSystem.prototype.m_next=null;box2d.b2ParticleSystem.xTruncBits=12;box2d.b2ParticleSystem.yTruncBits=12;box2d.b2ParticleSystem.tagBits=32;box2d.b2ParticleSystem.yOffset=1<<box2d.b2ParticleSystem.yTruncBits-1;box2d.b2ParticleSystem.yShift=box2d.b2ParticleSystem.tagBits-box2d.b2ParticleSystem.yTruncBits;box2d.b2ParticleSystem.xShift=box2d.b2ParticleSystem.tagBits-box2d.b2ParticleSystem.yTruncBits-box2d.b2ParticleSystem.xTruncBits;box2d.b2ParticleSystem.xScale=1<<box2d.b2ParticleSystem.xShift;box2d.b2ParticleSystem.xOffset=box2d.b2ParticleSystem.xScale*(1<<box2d.b2ParticleSystem.xTruncBits-1);box2d.b2ParticleSystem.yMask=(1<<box2d.b2ParticleSystem.yTruncBits)-1<<box2d.b2ParticleSystem.yShift;box2d.b2ParticleSystem.xMask=~box2d.b2ParticleSystem.yMask;box2d.b2ParticleSystem.computeTag=function(x,V){return(V+box2d.b2ParticleSystem.yOffset>>>0<<box2d.b2ParticleSystem.yShift)+(box2d.b2ParticleSystem.xScale*x+box2d.b2ParticleSystem.xOffset>>>0)>>>0};box2d.b2ParticleSystem.computeRelativeTag=function(x,V,o){return x+(o<<box2d.b2ParticleSystem.yShift)+(V<<box2d.b2ParticleSystem.xShift)>>>0};box2d.b2ParticleSystem.FixedSetAllocator=function(){};box2d.b2ParticleSystem.FixedSetAllocator.prototype.Invalidate=function(x){};box2d.b2ParticleSystem.FixtureParticle=function(x,V){this.first=x,this.second=V};box2d.b2ParticleSystem.FixtureParticle.prototype.first=null;box2d.b2ParticleSystem.FixtureParticle.prototype.second=box2d.b2_invalidParticleIndex;box2d.b2ParticleSystem.FixtureParticleSet=function(){};goog.inherits(box2d.b2ParticleSystem.FixtureParticleSet,box2d.b2ParticleSystem.FixedSetAllocator);box2d.b2ParticleSystem.FixtureParticleSet.prototype.Initialize=function(x,V){};box2d.b2ParticleSystem.FixtureParticleSet.prototype.Find=function(x){};box2d.b2ParticleSystem.ParticlePair=function(x,V){};box2d.b2ParticleSystem.ParticlePair.prototype.first=box2d.b2_invalidParticleIndex;box2d.b2ParticleSystem.ParticlePair.prototype.second=box2d.b2_invalidParticleIndex;box2d.b2ParticleSystem.b2ParticlePairSet=function(){};goog.inherits(box2d.b2ParticleSystem.b2ParticlePairSet,box2d.b2ParticleSystem.FixedSetAllocator);box2d.b2ParticleSystem.b2ParticlePairSet.prototype.Initialize=function(x,V){};box2d.b2ParticleSystem.b2ParticlePairSet.prototype.Find=function(x){};box2d.b2ParticleSystem.ConnectionFilter=function(){};box2d.b2ParticleSystem.ConnectionFilter.prototype.IsNecessary=function(x){return!0};box2d.b2ParticleSystem.ConnectionFilter.prototype.ShouldCreatePair=function(x,V){return!0};box2d.b2ParticleSystem.ConnectionFilter.prototype.ShouldCreateTriad=function(x,V,o){return!0};box2d.b2ParticleSystem.prototype._ctor_=function(x,V){this.m_handleIndexBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_flagsBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_positionBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_velocityBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_forceBuffer=[],this.m_weightBuffer=[],this.m_staticPressureBuffer=[],this.m_accumulationBuffer=[],this.m_accumulation2Buffer=[],this.m_depthBuffer=[],this.m_colorBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_groupBuffer=[],this.m_userDataBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_lastBodyContactStepBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_bodyContactCountBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_consecutiveContactStepsBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_stuckParticleBuffer=new box2d.b2GrowableBuffer(function(){return 0}),this.m_proxyBuffer=new box2d.b2GrowableBuffer(function(){return new box2d.b2ParticleSystem.Proxy}),this.m_contactBuffer=new box2d.b2GrowableBuffer(function(){return new box2d.b2ParticleContact}),this.m_bodyContactBuffer=new box2d.b2GrowableBuffer(function(){return new box2d.b2ParticleBodyContact}),this.m_pairBuffer=new box2d.b2GrowableBuffer(function(){return new box2d.b2ParticlePair}),this.m_triadBuffer=new box2d.b2GrowableBuffer(function(){return new box2d.b2ParticleTriad}),this.m_expirationTimeBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_indexByExpirationTimeBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_def=new box2d.b2ParticleSystemDef,box2d.b2Assert(x!==null),this.SetStrictContactCheck(x.strictContactCheck),this.SetDensity(x.density),this.SetGravityScale(x.gravityScale),this.SetRadius(x.radius),this.SetMaxParticleCount(x.maxCount),box2d.b2Assert(0<x.lifetimeGranularity),this.m_def=x.Clone(),this.m_world=V,this.SetDestructionByAge(this.m_def.destroyByAge)};box2d.b2ParticleSystem.prototype._dtor_=function(){for(;this.m_groupList;)this.DestroyParticleGroup(this.m_groupList);this.FreeUserOverridableBuffer(this.m_handleIndexBuffer),this.FreeUserOverridableBuffer(this.m_flagsBuffer),this.FreeUserOverridableBuffer(this.m_lastBodyContactStepBuffer),this.FreeUserOverridableBuffer(this.m_bodyContactCountBuffer),this.FreeUserOverridableBuffer(this.m_consecutiveContactStepsBuffer),this.FreeUserOverridableBuffer(this.m_positionBuffer),this.FreeUserOverridableBuffer(this.m_velocityBuffer),this.FreeUserOverridableBuffer(this.m_colorBuffer),this.FreeUserOverridableBuffer(this.m_userDataBuffer),this.FreeUserOverridableBuffer(this.m_expirationTimeBuffer),this.FreeUserOverridableBuffer(this.m_indexByExpirationTimeBuffer),this.FreeBuffer(this.m_forceBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_weightBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_staticPressureBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulationBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulation2Buffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_depthBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_groupBuffer,this.m_internalAllocatedCapacity)};box2d.b2ParticleSystem.prototype.Drop=function(){this._dtor_()};box2d.b2ParticleSystem.prototype.CreateParticle=function(x){if(box2d.b2Assert(this.m_world.IsLocked()===!1),this.m_world.IsLocked())return 0;if(this.m_count>=this.m_internalAllocatedCapacity&&this.ReallocateInternalAllocatedBuffers(this.m_count?2*this.m_count:box2d.b2_minParticleSystemBufferCapacity),this.m_count>=this.m_internalAllocatedCapacity)if(this.m_def.destroyByAge)this.DestroyOldestParticle(0,!1),this.SolveZombie();else return box2d.b2_invalidParticleIndex;var V=this.m_count++;this.m_flagsBuffer.data[V]=0,this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[V]=0),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[V]=0),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[V]=0),this.m_positionBuffer.data[V]=x.position.Clone(),this.m_velocityBuffer.data[V]=x.velocity.Clone(),this.m_weightBuffer[V]=0,this.m_forceBuffer[V]=box2d.b2Vec2_zero.Clone(),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[V]=0),this.m_depthBuffer&&(this.m_depthBuffer[V]=0),(this.m_colorBuffer.data||!x.color.IsZero())&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data[V]=x.color.Clone()),(this.m_userDataBuffer.data||x.userData)&&(this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data[V]=x.userData),this.m_handleIndexBuffer.data&&(this.m_handleIndexBuffer.data[V]=null);var o=this.m_proxyBuffer.data[this.m_proxyBuffer.Append()],_o=0<x.lifetime;return(this.m_expirationTimeBuffer.data||_o)&&(this.SetParticleLifetime(V,_o?x.lifetime:this.ExpirationTimeToLifetime(-this.GetQuantizedTimeElapsed())),this.m_indexByExpirationTimeBuffer.data[V]=V),o.index=V,o=x.group,(this.m_groupBuffer[V]=o)&&(o.m_firstIndex<o.m_lastIndex?(this.RotateBuffer(o.m_firstIndex,o.m_lastIndex,V),box2d.b2Assert(o.m_lastIndex===V)):o.m_firstIndex=V,o.m_lastIndex=V+1),this.SetParticleFlags(V,x.flags),V};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticle",box2d.b2ParticleSystem.prototype.CreateParticle);box2d.b2ParticleSystem.prototype.GetParticleHandleFromIndex=function(x){box2d.b2Assert(0<=x&&x<this.GetParticleCount()&&x!==box2d.b2_invalidParticleIndex),this.m_handleIndexBuffer.data=this.RequestBuffer(this.m_handleIndexBuffer.data);var V=this.m_handleIndexBuffer.data[x];return V||(V=new box2d.b2ParticleHandle,box2d.b2Assert(V!==null),V.SetIndex(x),this.m_handleIndexBuffer.data[x]=V)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleHandleFromIndex",box2d.b2ParticleSystem.prototype.GetParticleHandleFromIndex);box2d.b2ParticleSystem.prototype.DestroyParticle=function(x,V){var o=box2d.b2ParticleFlag.b2_zombieParticle;V&&(o|=box2d.b2ParticleFlag.b2_destructionListenerParticle),this.SetParticleFlags(x,this.m_flagsBuffer.data[x]|o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"DestroyParticle",box2d.b2ParticleSystem.prototype.DestroyParticle);box2d.b2ParticleSystem.prototype.DestroyOldestParticle=function(x,V){var o=this.GetParticleCount();box2d.b2Assert(0<=x&&x<o),box2d.b2Assert(this.m_indexByExpirationTimeBuffer.data!==null);var o=this.m_indexByExpirationTimeBuffer.data[o-(x+1)],_o=this.m_indexByExpirationTimeBuffer.data[x];this.DestroyParticle(0<this.m_expirationTimeBuffer.data[o]?o:_o,V)};box2d.b2ParticleSystem.DestroyParticlesInShapeCallback=function(x,V,o,_o){this.m_system=x,this.m_shape=V,this.m_xf=o,this.m_callDestructionListener=_o,this.m_destroyed=0};goog.inherits(box2d.b2ParticleSystem.DestroyParticlesInShapeCallback,box2d.b2QueryCallback);box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.m_system=null;box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.m_shape=null;box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.m_xf=null;box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.m_callDestructionListener=!1;box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.m_destroyed=0;box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.ReportFixture=function(x){return!1};box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.ReportParticle=function(x,V){return x!==this.m_system?!1:(box2d.b2Assert(0<=V&&V<this.m_system.m_count),this.m_shape.TestPoint(this.m_xf,this.m_system.m_positionBuffer.data[V])&&(this.m_system.DestroyParticle(V,this.m_callDestructionListener),this.m_destroyed++),!0)};box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.Destroyed=function(){return this.m_destroyed};box2d.b2ParticleSystem.prototype.DestroyParticlesInShape=function(x,V,o){var _o=box2d.b2ParticleSystem.prototype.DestroyParticlesInShape.s_aabb;return box2d.b2Assert(this.m_world.IsLocked()===!1),this.m_world.IsLocked()?0:(o=new box2d.b2ParticleSystem.DestroyParticlesInShapeCallback(this,x,V,o),x.ComputeAABB(_o,V,0),this.m_world.QueryAABB(o,_o),o.Destroyed())};goog.exportProperty(box2d.b2ParticleSystem.prototype,"DestroyParticlesInShape",box2d.b2ParticleSystem.prototype.DestroyParticlesInShape);box2d.b2ParticleSystem.prototype.DestroyParticlesInShape.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.CreateParticleGroup=function(x){var V=box2d.b2ParticleSystem.prototype.CreateParticleGroup.s_transform;if(box2d.b2Assert(this.m_world.IsLocked()===!1),this.m_world.IsLocked())return null;V.Set(x.position,x.angle);var o=this.m_count;if(x.shape&&this.CreateParticlesWithShapeForGroup(x.shape,x,V),x.shapes&&this.CreateParticlesWithShapesForGroup(x.shapes,x.shapeCount,x,V),x.particleCount){box2d.b2Assert(x.positionData!==null);for(var _o=0;_o<x.particleCount;_o++)this.CreateParticleForGroup(x,V,x.positionData[_o])}var _r=this.m_count,l=new box2d.b2ParticleGroup;for(l.m_system=this,l.m_firstIndex=o,l.m_lastIndex=_r,l.m_strength=x.strength,l.m_userData=x.userData,l.m_transform.Copy(V),l.m_prev=null,(l.m_next=this.m_groupList)&&(this.m_groupList.m_prev=l),this.m_groupList=l,++this.m_groupCount,_o=o;_o<_r;_o++)this.m_groupBuffer[_o]=l;return this.SetGroupFlags(l,x.groupFlags),V=new box2d.b2ParticleSystem.ConnectionFilter,this.UpdateContacts(!0),this.UpdatePairsAndTriads(o,_r,V),x.group&&(this.JoinParticleGroups(x.group,l),l=x.group),l};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticleGroup",box2d.b2ParticleSystem.prototype.CreateParticleGroup);box2d.b2ParticleSystem.prototype.CreateParticleGroup.s_transform=new box2d.b2Transform;box2d.b2ParticleSystem.JoinParticleGroupsFilter=function(x){this.m_threshold=x};goog.inherits(box2d.b2ParticleSystem.JoinParticleGroupsFilter,box2d.b2ParticleSystem.ConnectionFilter);box2d.b2ParticleSystem.JoinParticleGroupsFilter.prototype.m_threshold=0;box2d.b2ParticleSystem.JoinParticleGroupsFilter.prototype.ShouldCreatePair=function(x,V){return x<this.m_threshold&&this.m_threshold<=V||V<this.m_threshold&&this.m_threshold<=x};box2d.b2ParticleSystem.JoinParticleGroupsFilter.prototype.ShouldCreateTriad=function(x,V,o){return(x<this.m_threshold||V<this.m_threshold||o<this.m_threshold)&&(this.m_threshold<=x||this.m_threshold<=V||this.m_threshold<=o)};box2d.b2ParticleSystem.prototype.JoinParticleGroups=function(x,V){if(box2d.b2Assert(this.m_world.IsLocked()===!1),!this.m_world.IsLocked()){box2d.b2Assert(x!==V),this.RotateBuffer(V.m_firstIndex,V.m_lastIndex,this.m_count),box2d.b2Assert(V.m_lastIndex===this.m_count),this.RotateBuffer(x.m_firstIndex,x.m_lastIndex,V.m_firstIndex),box2d.b2Assert(x.m_lastIndex===V.m_firstIndex);var o=new box2d.b2ParticleSystem.JoinParticleGroupsFilter(V.m_firstIndex);for(this.UpdateContacts(!0),this.UpdatePairsAndTriads(x.m_firstIndex,V.m_lastIndex,o),o=V.m_firstIndex;o<V.m_lastIndex;o++)this.m_groupBuffer[o]=x;this.SetGroupFlags(x,x.m_groupFlags|V.m_groupFlags),x.m_lastIndex=V.m_lastIndex,V.m_firstIndex=V.m_lastIndex,this.DestroyParticleGroup(V)}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"JoinParticleGroups",box2d.b2ParticleSystem.prototype.JoinParticleGroups);box2d.b2ParticleSystem.prototype.SplitParticleGroup=function(x){this.UpdateContacts(!0);var V=x.GetParticleCount(),V=box2d.b2MakeArray(V,function(_o){return new box2d.b2ParticleSystem.ParticleListNode});box2d.b2ParticleSystem.InitializeParticleLists(x,V),this.MergeParticleListsInContact(x,V);var o=box2d.b2ParticleSystem.FindLongestParticleList(x,V);this.MergeZombieParticleListNodes(x,V,o),this.CreateParticleGroupsFromParticleList(x,V,o),this.UpdatePairsAndTriadsWithParticleList(x,V)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SplitParticleGroup",box2d.b2ParticleSystem.prototype.SplitParticleGroup);box2d.b2ParticleSystem.prototype.GetParticleGroupList=function(){return this.m_groupList};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleGroupList",box2d.b2ParticleSystem.prototype.GetParticleGroupList);box2d.b2ParticleSystem.prototype.GetParticleGroupCount=function(){return this.m_groupCount};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleGroupCount",box2d.b2ParticleSystem.prototype.GetParticleGroupCount);box2d.b2ParticleSystem.prototype.GetParticleCount=function(){return this.m_count};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleCount",box2d.b2ParticleSystem.prototype.GetParticleCount);box2d.b2ParticleSystem.prototype.GetMaxParticleCount=function(){return this.m_def.maxCount};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetMaxParticleCount",box2d.b2ParticleSystem.prototype.GetMaxParticleCount);box2d.b2ParticleSystem.prototype.SetMaxParticleCount=function(x){box2d.b2Assert(this.m_count<=x),this.m_def.maxCount=x};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetMaxParticleCount",box2d.b2ParticleSystem.prototype.SetMaxParticleCount);box2d.b2ParticleSystem.prototype.GetAllParticleFlags=function(){return this.m_allParticleFlags};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetAllParticleFlags",box2d.b2ParticleSystem.prototype.GetAllParticleFlags);box2d.b2ParticleSystem.prototype.GetAllGroupFlags=function(){return this.m_allGroupFlags};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetAllGroupFlags",box2d.b2ParticleSystem.prototype.GetAllGroupFlags);box2d.b2ParticleSystem.prototype.SetPaused=function(x){this.m_paused=x};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetPaused",box2d.b2ParticleSystem.prototype.SetPaused);box2d.b2ParticleSystem.prototype.GetPaused=function(){return this.m_paused};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetPaused",box2d.b2ParticleSystem.prototype.GetPaused);box2d.b2ParticleSystem.prototype.SetDensity=function(x){this.m_def.density=x,this.m_inverseDensity=1/this.m_def.density};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetDensity",box2d.b2ParticleSystem.prototype.SetDensity);box2d.b2ParticleSystem.prototype.GetDensity=function(){return this.m_def.density};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetDensity",box2d.b2ParticleSystem.prototype.GetDensity);box2d.b2ParticleSystem.prototype.SetGravityScale=function(x){this.m_def.gravityScale=x};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetGravityScale",box2d.b2ParticleSystem.prototype.SetGravityScale);box2d.b2ParticleSystem.prototype.GetGravityScale=function(){return this.m_def.gravityScale};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetGravityScale",box2d.b2ParticleSystem.prototype.GetGravityScale);box2d.b2ParticleSystem.prototype.SetDamping=function(x){this.m_def.dampingStrength=x};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetDamping",box2d.b2ParticleSystem.prototype.SetDamping);box2d.b2ParticleSystem.prototype.GetDamping=function(){return this.m_def.dampingStrength};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetDamping",box2d.b2ParticleSystem.prototype.GetDamping);box2d.b2ParticleSystem.prototype.SetStaticPressureIterations=function(x){this.m_def.staticPressureIterations=x};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetStaticPressureIterations",box2d.b2ParticleSystem.prototype.SetStaticPressureIterations);box2d.b2ParticleSystem.prototype.GetStaticPressureIterations=function(){return this.m_def.staticPressureIterations};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetStaticPressureIterations",box2d.b2ParticleSystem.prototype.GetStaticPressureIterations);box2d.b2ParticleSystem.prototype.SetRadius=function(x){this.m_particleDiameter=2*x,this.m_squaredDiameter=this.m_particleDiameter*this.m_particleDiameter,this.m_inverseDiameter=1/this.m_particleDiameter};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetRadius",box2d.b2ParticleSystem.prototype.SetRadius);box2d.b2ParticleSystem.prototype.GetRadius=function(){return this.m_particleDiameter/2};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetRadius",box2d.b2ParticleSystem.prototype.GetRadius);box2d.b2ParticleSystem.prototype.GetPositionBuffer=function(){return this.m_positionBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetPositionBuffer",box2d.b2ParticleSystem.prototype.GetPositionBuffer);box2d.b2ParticleSystem.prototype.GetVelocityBuffer=function(){return this.m_velocityBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetVelocityBuffer",box2d.b2ParticleSystem.prototype.GetVelocityBuffer);box2d.b2ParticleSystem.prototype.GetColorBuffer=function(){return this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetColorBuffer",box2d.b2ParticleSystem.prototype.GetColorBuffer);box2d.b2ParticleSystem.prototype.GetGroupBuffer=function(){return this.m_groupBuffer};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetGroupBuffer",box2d.b2ParticleSystem.prototype.GetGroupBuffer);box2d.b2ParticleSystem.prototype.GetWeightBuffer=function(){return this.m_weightBuffer};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetWeightBuffer",box2d.b2ParticleSystem.prototype.GetWeightBuffer);box2d.b2ParticleSystem.prototype.GetUserDataBuffer=function(){return this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetUserDataBuffer",box2d.b2ParticleSystem.prototype.GetUserDataBuffer);box2d.b2ParticleSystem.prototype.GetFlagsBuffer=function(){return this.m_flagsBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetFlagsBuffer",box2d.b2ParticleSystem.prototype.GetFlagsBuffer);box2d.b2ParticleSystem.prototype.SetParticleFlags=function(x,V){this.m_flagsBuffer.data[x]&~V&&(this.m_needsUpdateAllParticleFlags=!0),~this.m_allParticleFlags&V&&(V&box2d.b2ParticleFlag.b2_tensileParticle&&(this.m_accumulation2Buffer=this.RequestBuffer(this.m_accumulation2Buffer)),V&box2d.b2ParticleFlag.b2_colorMixingParticle&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data)),this.m_allParticleFlags|=V),this.m_flagsBuffer.data[x]=V};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetParticleFlags",box2d.b2ParticleSystem.prototype.SetParticleFlags);box2d.b2ParticleSystem.prototype.GetParticleFlags=function(x){return this.m_flagsBuffer.data[x]};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleFlags",box2d.b2ParticleSystem.prototype.GetParticleFlags);box2d.b2ParticleSystem.prototype.SetFlagsBuffer=function(x,V){this.SetUserOverridableBuffer(this.m_flagsBuffer,x,V)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetFlagsBuffer",box2d.b2ParticleSystem.prototype.SetFlagsBuffer);box2d.b2ParticleSystem.prototype.SetPositionBuffer=function(x,V){this.SetUserOverridableBuffer(this.m_positionBuffer,x,V)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetPositionBuffer",box2d.b2ParticleSystem.prototype.SetPositionBuffer);box2d.b2ParticleSystem.prototype.SetVelocityBuffer=function(x,V){this.SetUserOverridableBuffer(this.m_velocityBuffer,x,V)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetVelocityBuffer",box2d.b2ParticleSystem.prototype.SetVelocityBuffer);box2d.b2ParticleSystem.prototype.SetColorBuffer=function(x,V){this.SetUserOverridableBuffer(this.m_colorBuffer,x,V)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetColorBuffer",box2d.b2ParticleSystem.prototype.SetColorBuffer);box2d.b2ParticleSystem.prototype.SetUserDataBuffer=function(x,V){this.SetUserOverridableBuffer(this.m_userDataBuffer,x,V)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetUserDataBuffer",box2d.b2ParticleSystem.prototype.SetUserDataBuffer);box2d.b2ParticleSystem.prototype.GetContacts=function(){return this.m_contactBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetContacts",box2d.b2ParticleSystem.prototype.GetContacts);box2d.b2ParticleSystem.prototype.GetContactCount=function(){return this.m_contactBuffer.count};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetContactCount",box2d.b2ParticleSystem.prototype.GetContactCount);box2d.b2ParticleSystem.prototype.GetBodyContacts=function(){return this.m_bodyContactBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetBodyContacts",box2d.b2ParticleSystem.prototype.GetBodyContacts);box2d.b2ParticleSystem.prototype.GetBodyContactCount=function(){return this.m_bodyContactBuffer.count};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetBodyContactCount",box2d.b2ParticleSystem.prototype.GetBodyContactCount);box2d.b2ParticleSystem.prototype.GetPairs=function(){return this.m_pairBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetPairs",box2d.b2ParticleSystem.prototype.GetPairs);box2d.b2ParticleSystem.prototype.GetPairCount=function(){return this.m_pairBuffer.count};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetPairCount",box2d.b2ParticleSystem.prototype.GetPairCount);box2d.b2ParticleSystem.prototype.GetTriads=function(){return this.m_triadBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetTriads",box2d.b2ParticleSystem.prototype.GetTriads);box2d.b2ParticleSystem.prototype.GetTriadCount=function(){return this.m_triadBuffer.count};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetTriadCount",box2d.b2ParticleSystem.prototype.GetTriadCount);box2d.b2ParticleSystem.prototype.SetStuckThreshold=function(x){this.m_stuckThreshold=x,0<x&&(this.m_lastBodyContactStepBuffer.data=this.RequestBuffer(this.m_lastBodyContactStepBuffer.data),this.m_bodyContactCountBuffer.data=this.RequestBuffer(this.m_bodyContactCountBuffer.data),this.m_consecutiveContactStepsBuffer.data=this.RequestBuffer(this.m_consecutiveContactStepsBuffer.data))};box2d.b2ParticleSystem.prototype.GetStuckCandidates=function(){return this.m_stuckParticleBuffer.Data()};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetStuckCandidates",box2d.b2ParticleSystem.prototype.GetStuckCandidates);box2d.b2ParticleSystem.prototype.GetStuckCandidateCount=function(){return this.m_stuckParticleBuffer.GetCount()};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetStuckCandidateCount",box2d.b2ParticleSystem.prototype.GetStuckCandidateCount);box2d.b2ParticleSystem.prototype.ComputeCollisionEnergy=function(){for(var x=box2d.b2ParticleSystem.prototype.ComputeCollisionEnergy.s_v,V=this.m_velocityBuffer.data,o=0,_o=0;_o<this.m_contactBuffer.count;_o++){var _r=this.m_contactBuffer.data[_o],l=_r.normal,_r=box2d.b2Sub_V2_V2(V[_r.indexB],V[_r.indexA],x),l=box2d.b2Dot_V2_V2(_r,l);0>l&&(o+=l*l)}return .5*this.GetParticleMass()*o};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ComputeCollisionEnergy",box2d.b2ParticleSystem.prototype.ComputeCollisionEnergy);box2d.b2ParticleSystem.prototype.ComputeCollisionEnergy.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SetStrictContactCheck=function(x){this.m_def.strictContactCheck=x};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetStrictContactCheck",box2d.b2ParticleSystem.prototype.SetStrictContactCheck);box2d.b2ParticleSystem.prototype.GetStrictContactCheck=function(){return this.m_def.strictContactCheck};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetStrictContactCheck",box2d.b2ParticleSystem.prototype.GetStrictContactCheck);box2d.b2ParticleSystem.prototype.SetParticleLifetime=function(x,V){box2d.b2Assert(this.ValidateParticleIndex(x));var o=this.m_indexByExpirationTimeBuffer.data===null;if(this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),o)for(var o=this.GetParticleCount(),_o=0;_o<o;++_o)this.m_indexByExpirationTimeBuffer.data[_o]=_o;o=V/this.m_def.lifetimeGranularity,o=0<o?this.GetQuantizedTimeElapsed()+o:o,o!==this.m_expirationTimeBuffer.data[x]&&(this.m_expirationTimeBuffer.data[x]=o,this.m_expirationTimeBufferRequiresSorting=!0)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetParticleLifetime",box2d.b2ParticleSystem.prototype.SetParticleLifetime);box2d.b2ParticleSystem.prototype.GetParticleLifetime=function(x){return box2d.b2Assert(this.ValidateParticleIndex(x)),this.ExpirationTimeToLifetime(this.GetExpirationTimeBuffer()[x])};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleLifetime",box2d.b2ParticleSystem.prototype.GetParticleLifetime);box2d.b2ParticleSystem.prototype.SetDestructionByAge=function(x){x&&this.GetExpirationTimeBuffer(),this.m_def.destroyByAge=x};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetDestructionByAge",box2d.b2ParticleSystem.prototype.SetDestructionByAge);box2d.b2ParticleSystem.prototype.GetDestructionByAge=function(){return this.m_def.destroyByAge};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetDestructionByAge",box2d.b2ParticleSystem.prototype.GetDestructionByAge);box2d.b2ParticleSystem.prototype.GetExpirationTimeBuffer=function(){return this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_expirationTimeBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetExpirationTimeBuffer",box2d.b2ParticleSystem.prototype.GetExpirationTimeBuffer);box2d.b2ParticleSystem.prototype.ExpirationTimeToLifetime=function(x){return(0<x?x-this.GetQuantizedTimeElapsed():x)*this.m_def.lifetimeGranularity};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ExpirationTimeToLifetime",box2d.b2ParticleSystem.prototype.ExpirationTimeToLifetime);box2d.b2ParticleSystem.prototype.GetIndexByExpirationTimeBuffer=function(){return this.GetParticleCount()?this.SetParticleLifetime(0,this.GetParticleLifetime(0)):this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetIndexByExpirationTimeBuffer",box2d.b2ParticleSystem.prototype.GetIndexByExpirationTimeBuffer);box2d.b2ParticleSystem.prototype.ParticleApplyLinearImpulse=function(x,V){this.ApplyLinearImpulse(x,x+1,V)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ParticleApplyLinearImpulse",box2d.b2ParticleSystem.prototype.ParticleApplyLinearImpulse);box2d.b2ParticleSystem.prototype.ApplyLinearImpulse=function(x,V,o){var _o=this.m_velocityBuffer.data,_r=(V-x)*this.GetParticleMass();for(o=o.Clone().SelfMul(1/_r);x<V;x++)_o[x].SelfAdd(o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ApplyLinearImpulse",box2d.b2ParticleSystem.prototype.ApplyLinearImpulse);box2d.b2ParticleSystem.IsSignificantForce=function(x){return x.x!==0||x.y!==0};box2d.b2ParticleSystem.prototype.ParticleApplyForce=function(x,V){box2d.b2ParticleSystem.IsSignificantForce(V)&&this.ForceCanBeApplied(this.m_flagsBuffer.data[x])&&(this.PrepareForceBuffer(),this.m_forceBuffer[x].SelfAdd(V))};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ParticleApplyForce",box2d.b2ParticleSystem.prototype.ParticleApplyForce);box2d.b2ParticleSystem.prototype.ApplyForce=function(x,V,o){for(var _o=0,_r=x;_r<V;_r++)_o|=this.m_flagsBuffer.data[_r];if(box2d.b2Assert(this.ForceCanBeApplied(_o)),o=o.Clone().SelfMul(1/(V-x)),box2d.b2ParticleSystem.IsSignificantForce(o))for(this.PrepareForceBuffer(),_r=x;_r<V;_r++)this.m_forceBuffer[_r].SelfAdd(o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ApplyForce",box2d.b2ParticleSystem.prototype.ApplyForce);box2d.b2ParticleSystem.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetNext",box2d.b2ParticleSystem.prototype.GetNext);box2d.b2ParticleSystem.prototype.QueryAABB=function(x,V){if(this.m_proxyBuffer.count!==0)for(var _o=this.m_proxyBuffer.count,o=box2d.std_lower_bound(this.m_proxyBuffer.data,0,_o,box2d.b2ParticleSystem.computeTag(this.m_inverseDiameter*V.lowerBound.x,this.m_inverseDiameter*V.lowerBound.y),box2d.b2ParticleSystem.Proxy.CompareProxyTag),_o=box2d.std_upper_bound(this.m_proxyBuffer.data,o,_o,box2d.b2ParticleSystem.computeTag(this.m_inverseDiameter*V.upperBound.x,this.m_inverseDiameter*V.upperBound.y),box2d.b2ParticleSystem.Proxy.CompareTagProxy),_r=this.m_positionBuffer.data;o<_o;++o){var l=this.m_proxyBuffer.data[o].index,e_=_r[l];if(V.lowerBound.x<e_.x&&e_.x<V.upperBound.x&&V.lowerBound.y<e_.y&&e_.y<V.upperBound.y&&!x.ReportParticle(this,l))break}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"QueryAABB",box2d.b2ParticleSystem.prototype.QueryAABB);box2d.b2ParticleSystem.prototype.QueryShapeAABB=function(x,V,o,_o){var _r=box2d.b2ParticleSystem.prototype.QueryShapeAABB.s_aabb;V.ComputeAABB(_r,o,_o||0),this.QueryAABB(x,_r)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"QueryShapeAABB",box2d.b2ParticleSystem.prototype.QueryShapeAABB);box2d.b2ParticleSystem.prototype.QueryShapeAABB.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.QueryPointAABB=function(x,V,o){var _o=box2d.b2ParticleSystem.prototype.QueryPointAABB.s_aabb;o=typeof o=="number"?o:box2d.b2_linearSlop,_o.lowerBound.Set(V.x-o,V.y-o),_o.upperBound.Set(V.x+o,V.y+o),this.QueryAABB(x,_o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"QueryPointAABB",box2d.b2ParticleSystem.prototype.QueryPointAABB);box2d.b2ParticleSystem.prototype.QueryPointAABB.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.RayCast=function(x,V,o){var _o=box2d.b2ParticleSystem.prototype.RayCast.s_aabb,_r=box2d.b2ParticleSystem.prototype.RayCast.s_p,l=box2d.b2ParticleSystem.prototype.RayCast.s_v,e_=box2d.b2ParticleSystem.prototype.RayCast.s_n,o_=box2d.b2ParticleSystem.prototype.RayCast.s_point;if(this.m_proxyBuffer.count!==0){var i_=this.m_positionBuffer.data;box2d.b2Min_V2_V2(V,o,_o.lowerBound),box2d.b2Max_V2_V2(V,o,_o.upperBound);var _e=1;o=box2d.b2Sub_V2_V2(o,V,l);for(var l=box2d.b2Dot_V2_V2(o,o),_o=this.GetInsideBoundsEnumerator(_o),c_;0<=(c_=_o.GetNext());){var ws=box2d.b2Sub_V2_V2(V,i_[c_],_r),h_=box2d.b2Dot_V2_V2(ws,o),s_=box2d.b2Dot_V2_V2(ws,ws),s_=h_*h_-l*(s_-this.m_squaredDiameter);if(0<=s_){var w_=box2d.b2Sqrt(s_),s_=(-h_-w_)/l;if(!(s_>_e)){if(0>s_&&(s_=(-h_+w_)/l,0>s_||s_>_e))continue;if(ws=box2d.b2AddMul_V2_S_V2(ws,s_,o,e_),ws.Normalize(),c_=x.ReportParticle(this,c_,box2d.b2AddMul_V2_S_V2(V,s_,o,o_),ws,s_),_e=box2d.b2Min(_e,c_),0>=_e)break}}}}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"RayCast",box2d.b2ParticleSystem.prototype.RayCast);box2d.b2ParticleSystem.prototype.RayCast.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.RayCast.s_p=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.RayCast.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.RayCast.s_n=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.RayCast.s_point=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.ComputeAABB=function(x){var V=this.GetParticleCount();box2d.b2Assert(x!==null),x.lowerBound.x=+box2d.b2_maxFloat,x.lowerBound.y=+box2d.b2_maxFloat,x.upperBound.x=-box2d.b2_maxFloat,x.upperBound.y=-box2d.b2_maxFloat;for(var o=this.m_positionBuffer.data,_o=0;_o<V;_o++){var _r=o[_o];box2d.b2Min_V2_V2(x.lowerBound,_r,x.lowerBound),box2d.b2Max_V2_V2(x.upperBound,_r,x.upperBound)}x.lowerBound.x-=this.m_particleDiameter,x.lowerBound.y-=this.m_particleDiameter,x.upperBound.x+=this.m_particleDiameter,x.upperBound.y+=this.m_particleDiameter};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ComputeAABB",box2d.b2ParticleSystem.prototype.ComputeAABB);box2d.b2ParticleSystem.UserOverridableBuffer=function(){};box2d.b2ParticleSystem.UserOverridableBuffer.prototype.data=null;box2d.b2ParticleSystem.UserOverridableBuffer.prototype.userSuppliedCapacity=0;box2d.b2ParticleSystem.Proxy=function(){};box2d.b2ParticleSystem.Proxy.prototype.index=box2d.b2_invalidParticleIndex;box2d.b2ParticleSystem.Proxy.prototype.tag=0;box2d.b2ParticleSystem.Proxy.CompareProxyProxy=function(x,V){return x.tag<V.tag};box2d.b2ParticleSystem.Proxy.CompareTagProxy=function(x,V){return x<V.tag};box2d.b2ParticleSystem.Proxy.CompareProxyTag=function(x,V){return x.tag<V};box2d.b2ParticleSystem.InsideBoundsEnumerator=function(x,V,o,_o,_r){this.m_system=x,this.m_xLower=(V&box2d.b2ParticleSystem.xMask)>>>0,this.m_xUpper=(o&box2d.b2ParticleSystem.xMask)>>>0,this.m_yLower=(V&box2d.b2ParticleSystem.yMask)>>>0,this.m_yUpper=(o&box2d.b2ParticleSystem.yMask)>>>0,this.m_first=_o,this.m_last=_r,box2d.b2Assert(this.m_first<=this.m_last)};box2d.b2ParticleSystem.InsideBoundsEnumerator.prototype.GetNext=function(){for(;this.m_first<this.m_last;){var x=(this.m_system.m_proxyBuffer.data[this.m_first].tag&box2d.b2ParticleSystem.xMask)>>>0,V=(this.m_system.m_proxyBuffer.data[this.m_first].tag&box2d.b2ParticleSystem.yMask)>>>0;if(box2d.b2Assert(V>=this.m_yLower),box2d.b2Assert(V<=this.m_yUpper),x>=this.m_xLower&&x<=this.m_xUpper)return this.m_system.m_proxyBuffer.data[this.m_first++].index;this.m_first++}return box2d.b2_invalidParticleIndex};box2d.b2ParticleSystem.ParticleListNode=function(){};box2d.b2ParticleSystem.ParticleListNode.prototype.list=null;box2d.b2ParticleSystem.ParticleListNode.prototype.next=null;box2d.b2ParticleSystem.ParticleListNode.prototype.count=0;box2d.b2ParticleSystem.ParticleListNode.prototype.index=0;box2d.b2ParticleSystem.k_pairFlags=box2d.b2ParticleFlag.b2_springParticle;box2d.b2ParticleSystem.k_triadFlags=box2d.b2ParticleFlag.b2_elasticParticle;box2d.b2ParticleSystem.k_noPressureFlags=box2d.b2ParticleFlag.b2_powderParticle|box2d.b2ParticleFlag.b2_tensileParticle;box2d.b2ParticleSystem.k_extraDampingFlags=box2d.b2ParticleFlag.b2_staticPressureParticle;box2d.b2ParticleSystem.k_barrierWallFlags=box2d.b2ParticleFlag.b2_barrierParticle|box2d.b2ParticleFlag.b2_wallParticle;box2d.b2ParticleSystem.prototype.FreeBuffer=function(x,V){x!==null&&(x.length=0)};box2d.b2ParticleSystem.prototype.FreeUserOverridableBuffer=function(x){x.userSuppliedCapacity==0&&this.FreeBuffer(x.data,this.m_internalAllocatedCapacity)};box2d.b2ParticleSystem.prototype.ReallocateBuffer3=function(x,V,o){return box2d.b2Assert(o>V),x=x?x.slice():[],x.length=o,x};box2d.b2ParticleSystem.prototype.ReallocateBuffer5=function(x,V,o,_o,_r){return box2d.b2Assert(_o>o),box2d.b2Assert(!V||_o<=V),_r&&!x||V||(x=this.ReallocateBuffer3(x,o,_o)),x};box2d.b2ParticleSystem.prototype.ReallocateBuffer4=function(x,V,o,_o){return box2d.b2Assert(o>V),this.ReallocateBuffer5(x.data,x.userSuppliedCapacity,V,o,_o)};box2d.b2ParticleSystem.prototype.RequestBuffer=function(x){return x||(this.m_internalAllocatedCapacity===0&&this.ReallocateInternalAllocatedBuffers(box2d.b2_minParticleSystemBufferCapacity),x=[],x.length=this.m_internalAllocatedCapacity),x};box2d.b2ParticleSystem.prototype.ReallocateHandleBuffers=function(x){box2d.b2Assert(x>this.m_internalAllocatedCapacity),this.m_handleIndexBuffer.data=this.ReallocateBuffer4(this.m_handleIndexBuffer,this.m_internalAllocatedCapacity,x,!0)};box2d.b2ParticleSystem.prototype.ReallocateInternalAllocatedBuffers=function(x){function V(_o,_r){return _r&&_o>_r?_r:_o}if(x=V(x,this.m_def.maxCount),x=V(x,this.m_flagsBuffer.userSuppliedCapacity),x=V(x,this.m_positionBuffer.userSuppliedCapacity),x=V(x,this.m_velocityBuffer.userSuppliedCapacity),x=V(x,this.m_colorBuffer.userSuppliedCapacity),x=V(x,this.m_userDataBuffer.userSuppliedCapacity),this.m_internalAllocatedCapacity<x){this.ReallocateHandleBuffers(x),this.m_flagsBuffer.data=this.ReallocateBuffer4(this.m_flagsBuffer,this.m_internalAllocatedCapacity,x,!1);var o=0<this.m_stuckThreshold;this.m_lastBodyContactStepBuffer.data=this.ReallocateBuffer4(this.m_lastBodyContactStepBuffer,this.m_internalAllocatedCapacity,x,o),this.m_bodyContactCountBuffer.data=this.ReallocateBuffer4(this.m_bodyContactCountBuffer,this.m_internalAllocatedCapacity,x,o),this.m_consecutiveContactStepsBuffer.data=this.ReallocateBuffer4(this.m_consecutiveContactStepsBuffer,this.m_internalAllocatedCapacity,x,o),this.m_positionBuffer.data=this.ReallocateBuffer4(this.m_positionBuffer,this.m_internalAllocatedCapacity,x,!1),this.m_velocityBuffer.data=this.ReallocateBuffer4(this.m_velocityBuffer,this.m_internalAllocatedCapacity,x,!1),this.m_forceBuffer=this.ReallocateBuffer5(this.m_forceBuffer,0,this.m_internalAllocatedCapacity,x,!1),this.m_weightBuffer=this.ReallocateBuffer5(this.m_weightBuffer,0,this.m_internalAllocatedCapacity,x,!1),this.m_staticPressureBuffer=this.ReallocateBuffer5(this.m_staticPressureBuffer,0,this.m_internalAllocatedCapacity,x,!0),this.m_accumulationBuffer=this.ReallocateBuffer5(this.m_accumulationBuffer,0,this.m_internalAllocatedCapacity,x,!1),this.m_accumulation2Buffer=this.ReallocateBuffer5(this.m_accumulation2Buffer,0,this.m_internalAllocatedCapacity,x,!0),this.m_depthBuffer=this.ReallocateBuffer5(this.m_depthBuffer,0,this.m_internalAllocatedCapacity,x,!0),this.m_colorBuffer.data=this.ReallocateBuffer4(this.m_colorBuffer,this.m_internalAllocatedCapacity,x,!0),this.m_groupBuffer=this.ReallocateBuffer5(this.m_groupBuffer,0,this.m_internalAllocatedCapacity,x,!1),this.m_userDataBuffer.data=this.ReallocateBuffer4(this.m_userDataBuffer,this.m_internalAllocatedCapacity,x,!0),this.m_expirationTimeBuffer.data=this.ReallocateBuffer4(this.m_expirationTimeBuffer,this.m_internalAllocatedCapacity,x,!0),this.m_indexByExpirationTimeBuffer.data=this.ReallocateBuffer4(this.m_indexByExpirationTimeBuffer,this.m_internalAllocatedCapacity,x,!1),this.m_internalAllocatedCapacity=x}};box2d.b2ParticleSystem.prototype.CreateParticleForGroup=function(x,V,o){var _o=new box2d.b2ParticleDef;_o.flags=x.flags,box2d.b2Mul_X_V2(V,o,_o.position),box2d.b2Add_V2_V2(x.linearVelocity,box2d.b2Cross_S_V2(x.angularVelocity,box2d.b2Sub_V2_V2(_o.position,x.position,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),_o.velocity),_o.color.Copy(x.color),_o.lifetime=x.lifetime,_o.userData=x.userData,this.CreateParticle(_o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticleForGroup",box2d.b2ParticleSystem.prototype.CreateParticleForGroup);box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup=function(x,V,o){var _o=box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_edge,_r=box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_d,l=box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_p,e_=V.stride;e_===0&&(e_=this.GetParticleStride());for(var o_=0,i_=x.GetChildCount(),_e=0;_e<i_;_e++){var c_=null;x.GetType()===box2d.b2ShapeType.e_edgeShape?c_=x:(box2d.b2Assert(x.GetType()===box2d.b2ShapeType.e_chainShape),c_=_o,x.GetChildEdge(c_,_e));for(var ws=box2d.b2Sub_V2_V2(c_.m_vertex2,c_.m_vertex1,_r),h_=ws.Length();o_<h_;){var s_=box2d.b2AddMul_V2_S_V2(c_.m_vertex1,o_/h_,ws,l);this.CreateParticleForGroup(V,o,s_),o_+=e_}o_-=h_}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticlesStrokeShapeForGroup",box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup);box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_edge=new box2d.b2EdgeShape;box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_d=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_p=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup=function(x,V,o){var _o=box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup.s_aabb,_r=box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup.s_p,l=V.stride;l===0&&(l=this.GetParticleStride());var e_=box2d.b2Transform.IDENTITY;box2d.b2Assert(x.GetChildCount()===1),x.ComputeAABB(_o,e_,0);for(var o_=Math.floor(_o.lowerBound.y/l)*l;o_<_o.upperBound.y;o_+=l)for(var i_=Math.floor(_o.lowerBound.x/l)*l;i_<_o.upperBound.x;i_+=l){var _e=_r.Set(i_,o_);x.TestPoint(e_,_e)&&this.CreateParticleForGroup(V,o,_e)}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticlesFillShapeForGroup",box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup);box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup.s_p=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.CreateParticlesWithShapeForGroup=function(x,V,o){switch(x.GetType()){case box2d.b2ShapeType.e_edgeShape:case box2d.b2ShapeType.e_chainShape:this.CreateParticlesStrokeShapeForGroup(x,V,o);break;case box2d.b2ShapeType.e_polygonShape:case box2d.b2ShapeType.e_circleShape:this.CreateParticlesFillShapeForGroup(x,V,o);break;default:box2d.b2Assert(!1)}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticlesWithShapeForGroup",box2d.b2ParticleSystem.prototype.CreateParticlesWithShapeForGroup);box2d.b2ParticleSystem.CompositeShape=function(x,V){this.m_shapes=x,this.m_shapeCount=V};goog.inherits(box2d.b2ParticleSystem.CompositeShape,box2d.b2Shape);box2d.b2ParticleSystem.CompositeShape.prototype.m_shapes=null;box2d.b2ParticleSystem.CompositeShape.prototype.m_shapeCount=0;box2d.b2ParticleSystem.CompositeShape.prototype.Clone=function(){return box2d.b2Assert(!1),null};box2d.b2ParticleSystem.CompositeShape.prototype.GetChildCount=function(){return 1};box2d.b2ParticleSystem.CompositeShape.prototype.TestPoint=function(x,V){for(var o=0;o<this.m_shapeCount;o++)if(this.m_shapes[o].TestPoint(x,V))return!0;return!1};goog.exportSymbol("box2d.b2ParticleSystem.CompositeShape.prototype.TestPoint",box2d.b2ParticleSystem.CompositeShape.prototype.TestPoint);box2d.b2ParticleSystem.CompositeShape.prototype.ComputeDistance=function(x,V,o,_o){box2d.b2Assert(!1)};goog.exportSymbol("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeDistance",box2d.b2ParticleSystem.CompositeShape.prototype.ComputeDistance);box2d.b2ParticleSystem.CompositeShape.prototype.RayCast=function(x,V,o,_o){return box2d.b2Assert(!1),!1};goog.exportSymbol("box2d.b2ParticleSystem.CompositeShape.prototype.RayCast",box2d.b2ParticleSystem.CompositeShape.prototype.RayCast);box2d.b2ParticleSystem.CompositeShape.prototype.ComputeAABB=function(x,V,o){var _o=new box2d.b2AABB;for(x.lowerBound.x=+box2d.b2_maxFloat,x.lowerBound.y=+box2d.b2_maxFloat,x.upperBound.x=-box2d.b2_maxFloat,x.upperBound.y=-box2d.b2_maxFloat,box2d.b2Assert(o===0),o=0;o<this.m_shapeCount;o++)for(var _r=this.m_shapes[o].GetChildCount(),l=0;l<_r;l++){var e_=_o;this.m_shapes[o].ComputeAABB(e_,V,l),x.Combine1(e_)}};goog.exportSymbol("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeAABB",box2d.b2ParticleSystem.CompositeShape.prototype.ComputeAABB);box2d.b2ParticleSystem.CompositeShape.prototype.ComputeMass=function(x,V){box2d.b2Assert(!1)};goog.exportSymbol("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeMass",box2d.b2ParticleSystem.CompositeShape.prototype.ComputeMass);box2d.b2ParticleSystem.prototype.CreateParticlesWithShapesForGroup=function(x,V,o,_o){x=new box2d.b2ParticleSystem.CompositeShape(x,V),this.CreateParticlesFillShapeForGroup(x,o,_o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticlesWithShapesForGroup",box2d.b2ParticleSystem.prototype.CreateParticlesWithShapesForGroup);box2d.b2ParticleSystem.prototype.CloneParticle=function(x,V){var o=new box2d.b2ParticleDef;if(o.flags=this.m_flagsBuffer.data[x],o.position.Copy(this.m_positionBuffer.data[x]),o.velocity.Copy(this.m_velocityBuffer.data[x]),this.m_colorBuffer.data&&o.color.Copy(this.m_colorBuffer.data[x]),this.m_userDataBuffer.data&&(o.userData=this.m_userDataBuffer.data[x]),o.group=V,o=this.CreateParticle(o),this.m_handleIndexBuffer.data){var _o=this.m_handleIndexBuffer.data[x];_o&&_o.SetIndex(o),this.m_handleIndexBuffer.data[o]=_o,this.m_handleIndexBuffer.data[x]=null}return this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[o]=this.m_lastBodyContactStepBuffer.data[x]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[o]=this.m_bodyContactCountBuffer.data[x]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[o]=this.m_consecutiveContactStepsBuffer.data[x]),this.m_hasForce&&(this.m_forceBuffer[o]=this.m_forceBuffer[x]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[o]=this.m_staticPressureBuffer[x]),this.m_depthBuffer&&(this.m_depthBuffer[o]=this.m_depthBuffer[x]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[o]=this.m_expirationTimeBuffer.data[x]),o};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CloneParticle",box2d.b2ParticleSystem.prototype.CloneParticle);box2d.b2ParticleSystem.prototype.DestroyParticlesInGroup=function(x,V){for(var o=x.m_firstIndex;o<x.m_lastIndex;o++)this.DestroyParticle(o,V)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"DestroyParticlesInGroup",box2d.b2ParticleSystem.prototype.DestroyParticlesInGroup);box2d.b2ParticleSystem.prototype.DestroyParticleGroup=function(x){box2d.b2Assert(0<this.m_groupCount),box2d.b2Assert(x!==null),this.m_world.m_destructionListener&&this.m_world.m_destructionListener.SayGoodbyeParticleGroup(x),this.SetGroupFlags(x,0);for(var V=x.m_firstIndex;V<x.m_lastIndex;V++)this.m_groupBuffer[V]=null;x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x===this.m_groupList&&(this.m_groupList=x.m_next),--this.m_groupCount};goog.exportProperty(box2d.b2ParticleSystem.prototype,"DestroyParticleGroup",box2d.b2ParticleSystem.prototype.DestroyParticleGroup);box2d.b2ParticleSystem.ParticleCanBeConnected=function(x,V){return(x&(box2d.b2ParticleFlag.b2_wallParticle|box2d.b2ParticleFlag.b2_springParticle|box2d.b2ParticleFlag.b2_elasticParticle))!==0||V!==null&&(V.GetGroupFlags()&box2d.b2ParticleGroupFlag.b2_rigidParticleGroup)!==0};box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads=function(x,V,o){var _o=box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dab,_r=box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dbc,l=box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dca,e_=this.m_positionBuffer.data;box2d.b2Assert(x<=V);for(var o_=0,i_=x;i_<V;i_++)o_|=this.m_flagsBuffer.data[i_];if(o_&box2d.b2ParticleSystem.k_pairFlags)for(i_=0;i_<this.m_contactBuffer.count;i_++){var _e=this.m_contactBuffer.data[i_],c_=_e.indexA,ws=_e.indexB,h_=this.m_flagsBuffer.data[c_],s_=this.m_flagsBuffer.data[ws],w_=this.m_groupBuffer[c_],L_=this.m_groupBuffer[ws];c_>=x&&c_<V&&ws>=x&&ws<V&&!((h_|s_)&box2d.b2ParticleFlag.b2_zombieParticle)&&(h_|s_)&box2d.b2ParticleSystem.k_pairFlags&&(o.IsNecessary(c_)||o.IsNecessary(ws))&&box2d.b2ParticleSystem.ParticleCanBeConnected(h_,w_)&&box2d.b2ParticleSystem.ParticleCanBeConnected(s_,L_)&&o.ShouldCreatePair(c_,ws)&&(h_=this.m_pairBuffer.data[this.m_pairBuffer.Append()],h_.indexA=c_,h_.indexB=ws,h_.flags=_e.flags,h_.strength=box2d.b2Min(w_?w_.m_strength:1,L_?L_.m_strength:1),h_.distance=box2d.b2Distance(e_[c_],e_[ws])),box2d.std_stable_sort(this.m_pairBuffer.data,0,this.m_pairBuffer.count,box2d.b2ParticleSystem.ComparePairIndices),this.m_pairBuffer.Unique(box2d.b2ParticleSystem.MatchPairIndices)}if(o_&box2d.b2ParticleSystem.k_triadFlags){for(o_=new box2d.b2VoronoiDiagram(V-x),_e=0,i_=x;i_<V;i_++)c_=this.m_flagsBuffer.data[i_],ws=this.m_groupBuffer[i_],c_&box2d.b2ParticleFlag.b2_zombieParticle||!box2d.b2ParticleSystem.ParticleCanBeConnected(c_,ws)||(o.IsNecessary(i_)&&++_e,o_.AddGenerator(e_[i_],i_,o.IsNecessary(i_)));if(_e===0)for(i_=x;i_<V;i_++)o.IsNecessary(i_);x=this.GetParticleStride(),o_.Generate(x/2,2*x);var y_=this;o_.GetNodes(function(I_,k_,j_){var n2=y_.m_flagsBuffer.data[I_],p2=y_.m_flagsBuffer.data[k_],u2=y_.m_flagsBuffer.data[j_];if((n2|p2|u2)&box2d.b2ParticleSystem.k_triadFlags&&o.ShouldCreateTriad(I_,k_,j_)){var T2=e_[I_],I2=e_[k_],q2=e_[j_],O2=box2d.b2Sub_V2_V2(T2,I2,_o),X2=box2d.b2Sub_V2_V2(I2,q2,_r),S_=box2d.b2Sub_V2_V2(q2,T2,l),q_=box2d.b2_maxTriadDistanceSquared*y_.m_squaredDiameter;if(!(box2d.b2Dot_V2_V2(O2,O2)>q_||box2d.b2Dot_V2_V2(X2,X2)>q_||box2d.b2Dot_V2_V2(S_,S_)>q_)){var N_=y_.m_groupBuffer[I_],W_=y_.m_groupBuffer[k_],o2=y_.m_groupBuffer[j_],q_=y_.m_triadBuffer.data[y_.m_triadBuffer.Append()];q_.indexA=I_,q_.indexB=k_,q_.indexC=j_,q_.flags=n2|p2|u2,q_.strength=box2d.b2Min(box2d.b2Min(N_?N_.m_strength:1,W_?W_.m_strength:1),o2?o2.m_strength:1),I_=(T2.x+I2.x+q2.x)/3,k_=(T2.y+I2.y+q2.y)/3,q_.pa.x=T2.x-I_,q_.pa.y=T2.y-k_,q_.pb.x=I2.x-I_,q_.pb.y=I2.y-k_,q_.pc.x=q2.x-I_,q_.pc.y=q2.y-k_,q_.ka=-box2d.b2Dot_V2_V2(S_,O2),q_.kb=-box2d.b2Dot_V2_V2(O2,X2),q_.kc=-box2d.b2Dot_V2_V2(X2,S_),q_.s=box2d.b2Cross_V2_V2(T2,I2)+box2d.b2Cross_V2_V2(I2,q2)+box2d.b2Cross_V2_V2(q2,T2)}}}),box2d.std_stable_sort(this.m_triadBuffer.data,0,this.m_triadBuffer.count,box2d.b2ParticleSystem.CompareTriadIndices),this.m_triadBuffer.Unique(box2d.b2ParticleSystem.MatchTriadIndices)}};box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dab=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dbc=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dca=new box2d.b2Vec2;box2d.b2ParticleSystem.ReactiveFilter=function(x){this.m_flagsBuffer=x};goog.inherits(box2d.b2ParticleSystem.ReactiveFilter,box2d.b2ParticleSystem.ConnectionFilter);box2d.b2ParticleSystem.ReactiveFilter.prototype.m_flagsBuffer=null;box2d.b2ParticleSystem.ReactiveFilter.prototype.IsNecessary=function(x){return(this.m_flagsBuffer[x]&box2d.b2ParticleFlag.b2_reactiveParticle)!==0};box2d.b2ParticleSystem.prototype.UpdatePairsAndTriadsWithReactiveParticles=function(){var x=new box2d.b2ParticleSystem.ReactiveFilter(this.m_flagsBuffer);for(this.UpdatePairsAndTriads(0,this.m_count,x),x=0;x<this.m_count;x++)this.m_flagsBuffer.data[x]&=~box2d.b2ParticleFlag.b2_reactiveParticle;this.m_allParticleFlags&=~box2d.b2ParticleFlag.b2_reactiveParticle};box2d.b2ParticleSystem.ComparePairIndices=function(x,V){var o=x.indexA-V.indexA;return o!==0?0>o:x.indexB<V.indexB};box2d.b2ParticleSystem.MatchPairIndices=function(x,V){return x.indexA===V.indexA&&x.indexB===V.indexB};box2d.b2ParticleSystem.CompareTriadIndices=function(x,V){var o=x.indexA-V.indexA;return o!==0?0>o:(o=x.indexB-V.indexB,o!==0?0>o:x.indexC<V.indexC)};box2d.b2ParticleSystem.MatchTriadIndices=function(x,V){return x.indexA===V.indexA&&x.indexB===V.indexB&&x.indexC===V.indexC};box2d.b2ParticleSystem.InitializeParticleLists=function(x,V){for(var o=x.GetBufferIndex(),_o=x.GetParticleCount(),_r=0;_r<_o;_r++){var l=V[_r];l.list=l,l.next=null,l.count=1,l.index=_r+o}};box2d.b2ParticleSystem.prototype.MergeParticleListsInContact=function(x,V){for(var o=x.GetBufferIndex(),_o=0;_o<this.m_contactBuffer.count;_o++){var l=this.m_contactBuffer.data[_o],_r=l.indexA,l=l.indexB;if(x.ContainsParticle(_r)&&x.ContainsParticle(l)&&(_r=V[_r-o].list,l=V[l-o].list,_r!==l)){if(_r.count<l.count)var e_=_r,_r=l,l=e_;box2d.b2Assert(_r.count>=l.count),box2d.b2ParticleSystem.MergeParticleLists(_r,l)}}};box2d.b2ParticleSystem.MergeParticleLists=function(x,V){box2d.b2Assert(x!==V);for(var o=V;;){o.list=x;var _o=o.next;if(_o)o=_o;else{o.next=x.next;break}}x.next=V,x.count+=V.count,V.count=0};box2d.b2ParticleSystem.FindLongestParticleList=function(x,V){for(var o=x.GetParticleCount(),_o=V[0],_r=0;_r<o;_r++){var l=V[_r];_o.count<l.count&&(_o=l)}return _o};box2d.b2ParticleSystem.prototype.MergeZombieParticleListNodes=function(x,V,o){x=x.GetParticleCount();for(var _o=0;_o<x;_o++){var _r=V[_o];_r!==o&&this.m_flagsBuffer.data[_r.index]&box2d.b2ParticleFlag.b2_zombieParticle&&box2d.b2ParticleSystem.MergeParticleListAndNode(o,_r)}};box2d.b2ParticleSystem.MergeParticleListAndNode=function(x,V){box2d.b2Assert(V!==x),box2d.b2Assert(V.list===V),box2d.b2Assert(V.count===1),V.list=x,V.next=x.next,x.next=V,x.count++,V.count=0};box2d.b2ParticleSystem.prototype.CreateParticleGroupsFromParticleList=function(x,V,o){var _o=x.GetParticleCount(),_r=new box2d.b2ParticleGroupDef;for(_r.groupFlags=x.GetGroupFlags(),_r.userData=x.GetUserData(),x=0;x<_o;x++){var l=V[x];if(l.count&&l!==o){box2d.b2Assert(l.list===l);for(var e_=this.CreateParticleGroup(_r);l;l=l.next){var o_=l.index;box2d.b2Assert(!(this.m_flagsBuffer.data[o_]&box2d.b2ParticleFlag.b2_zombieParticle));var i_=this.CloneParticle(o_,e_);this.m_flagsBuffer.data[o_]|=box2d.b2ParticleFlag.b2_zombieParticle,l.index=i_}}}};box2d.b2ParticleSystem.prototype.UpdatePairsAndTriadsWithParticleList=function(x,V){for(var o=x.GetBufferIndex(),_o=0;_o<this.m_pairBuffer.count;_o++){var _r=this.m_pairBuffer.data[_o],l=_r.indexA,e_=_r.indexB;x.ContainsParticle(l)&&(_r.indexA=V[l-o].index),x.ContainsParticle(e_)&&(_r.indexB=V[e_-o].index)}for(_o=0;_o<this.m_triadBuffer.count;_o++){var _r=this.m_triadBuffer.data[_o],l=_r.indexA,e_=_r.indexB,o_=_r.indexC;x.ContainsParticle(l)&&(_r.indexA=V[l-o].index),x.ContainsParticle(e_)&&(_r.indexB=V[e_-o].index),x.ContainsParticle(o_)&&(_r.indexC=V[o_-o].index)}};box2d.b2ParticleSystem.prototype.ComputeDepth=function(){for(var x=[],V=0,o=0;o<this.m_contactBuffer.count;o++){var _o=this.m_contactBuffer.data[o],_r=_o.indexA,l=_o.indexB,e_=this.m_groupBuffer[_r],o_=this.m_groupBuffer[l];e_&&e_===o_&&e_.m_groupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&(x[V++]=_o)}for(e_=[],o_=0,o=this.m_groupList;o;o=o.GetNext())if(o.m_groupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth)for(e_[o_++]=o,this.SetGroupFlags(o,o.m_groupFlags&~box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth),l=o.m_firstIndex;l<o.m_lastIndex;l++)this.m_accumulationBuffer[l]=0;for(o=0;o<V;o++){var _o=x[o],_r=_o.indexA,l=_o.indexB,i_=_o.weight;this.m_accumulationBuffer[_r]+=i_,this.m_accumulationBuffer[l]+=i_}for(box2d.b2Assert(this.m_depthBuffer!==null),l=0;l<o_;l++)for(o=e_[l],l=o.m_firstIndex;l<o.m_lastIndex;l++)i_=this.m_accumulationBuffer[l],this.m_depthBuffer[l]=.8>i_?0:box2d.b2_maxFloat;for(var i_=box2d.b2Sqrt(this.m_count)>>0,_e=0;_e<i_;_e++){for(var c_=!1,o=0;o<V;o++){var _o=x[o],_r=_o.indexA,l=_o.indexB,s_=1-_o.weight,_o=this.m_depthBuffer[_r],ws=this.m_depthBuffer[l],h_=ws+s_,s_=_o+s_;_o>h_&&(this.m_depthBuffer[_r]=h_,c_=!0),ws>s_&&(this.m_depthBuffer[l]=s_,c_=!0)}if(!c_)break}for(l=0;l<o_;l++)for(o=e_[l],l=o.m_firstIndex;l<o.m_lastIndex;l++)this.m_depthBuffer[l]=this.m_depthBuffer[l]<box2d.b2_maxFloat?this.m_depthBuffer[l]*this.m_particleDiameter:0};box2d.b2ParticleSystem.prototype.GetInsideBoundsEnumerator=function(x){var V=box2d.b2ParticleSystem.computeTag(this.m_inverseDiameter*x.lowerBound.x-1,this.m_inverseDiameter*x.lowerBound.y-1);x=box2d.b2ParticleSystem.computeTag(this.m_inverseDiameter*x.upperBound.x+1,this.m_inverseDiameter*x.upperBound.y+1);var o=this.m_proxyBuffer.count,_o=box2d.std_lower_bound(this.m_proxyBuffer.data,0,o,V,box2d.b2ParticleSystem.Proxy.CompareProxyTag),_r=box2d.std_upper_bound(this.m_proxyBuffer.data,0,o,x,box2d.b2ParticleSystem.Proxy.CompareTagProxy);return box2d.b2Assert(0<=_o),box2d.b2Assert(_o<=_r),box2d.b2Assert(_r<=o),new box2d.b2ParticleSystem.InsideBoundsEnumerator(this,V,x,_o,_r)};box2d.b2ParticleSystem.prototype.UpdateAllParticleFlags=function(){for(var x=this.m_allParticleFlags=0;x<this.m_count;x++)this.m_allParticleFlags|=this.m_flagsBuffer.data[x];this.m_needsUpdateAllParticleFlags=!1};box2d.b2ParticleSystem.prototype.UpdateAllGroupFlags=function(){this.m_allGroupFlags=0;for(var x=this.m_groupList;x;x=x.GetNext())this.m_allGroupFlags|=x.m_groupFlags;this.m_needsUpdateAllGroupFlags=!1};box2d.b2ParticleSystem.prototype.AddContact=function(x,V,o){var _o=box2d.b2ParticleSystem.prototype.AddContact.s_d,_r=this.m_positionBuffer.data;if(box2d.b2Assert(o===this.m_contactBuffer),o=box2d.b2Sub_V2_V2(_r[V],_r[x],_o),_o=box2d.b2Dot_V2_V2(o,o),_o<this.m_squaredDiameter){_r=box2d.b2InvSqrt(_o),isFinite(_r)||(_r=198177537e11);var l=this.m_contactBuffer.data[this.m_contactBuffer.Append()];l.indexA=x,l.indexB=V,l.flags=this.m_flagsBuffer.data[x]|this.m_flagsBuffer.data[V],l.weight=1-_o*_r*this.m_inverseDiameter,box2d.b2Mul_S_V2(_r,o,l.normal)}};box2d.b2ParticleSystem.prototype.AddContact.s_d=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.FindContacts_Reference=function(x){box2d.b2Assert(x===this.m_contactBuffer),x=this.m_proxyBuffer.count;for(var V=this.m_contactBuffer.count=0,o=0;V<x;V++){for(var _o=box2d.b2ParticleSystem.computeRelativeTag(this.m_proxyBuffer.data[V].tag,1,0),_r=V+1;_r<x&&!(_o<this.m_proxyBuffer.data[_r].tag);_r++)this.AddContact(this.m_proxyBuffer.data[V].index,this.m_proxyBuffer.data[_r].index,this.m_contactBuffer);for(_r=box2d.b2ParticleSystem.computeRelativeTag(this.m_proxyBuffer.data[V].tag,-1,1);o<x&&!(_r<=this.m_proxyBuffer.data[o].tag);o++);for(_o=box2d.b2ParticleSystem.computeRelativeTag(this.m_proxyBuffer.data[V].tag,1,1),_r=o;_r<x&&!(_o<this.m_proxyBuffer.data[_r].tag);_r++)this.AddContact(this.m_proxyBuffer.data[V].index,this.m_proxyBuffer.data[_r].index,this.m_contactBuffer)}};box2d.b2ParticleSystem.prototype.FindContacts=function(x){this.FindContacts_Reference(x)};box2d.b2ParticleSystem.prototype.UpdateProxies_Reference=function(x){box2d.b2Assert(x===this.m_proxyBuffer),x=this.m_positionBuffer.data;for(var V=this.m_inverseDiameter,o=0;o<this.m_proxyBuffer.count;++o){var _o=this.m_proxyBuffer.data[o],_r=x[_o.index];_o.tag=box2d.b2ParticleSystem.computeTag(V*_r.x,V*_r.y)}};box2d.b2ParticleSystem.prototype.UpdateProxies=function(x){this.UpdateProxies_Reference(x)};box2d.b2ParticleSystem.prototype.SortProxies=function(x){box2d.b2Assert(x===this.m_proxyBuffer),box2d.std_sort(this.m_proxyBuffer.data,0,this.m_proxyBuffer.count,box2d.b2ParticleSystem.Proxy.CompareProxyProxy)};box2d.b2ParticleSystem.prototype.FilterContacts=function(x){var V=this.GetParticleContactFilter();if(V!==null){box2d.b2Assert(x===this.m_contactBuffer);var o=this;this.m_contactBuffer.RemoveIf(function(_o){return _o.flags&box2d.b2ParticleFlag.b2_particleContactFilterParticle&&!V.ShouldCollideParticleParticle(o,_o.indexA,_o.indexB)})}};box2d.b2ParticleSystem.prototype.NotifyContactListenerPreContact=function(x){if(this.GetParticleContactListener()!==null){debugger;x.Initialize(this.m_contactBuffer,this.m_flagsBuffer)}};box2d.b2ParticleSystem.prototype.NotifyContactListenerPostContact=function(x){if(x=this.GetParticleContactListener(),x!==null){debugger;for(var V=0;V<this.m_contactBuffer.count;++V)x.BeginContactParticleParticle(this,this.m_contactBuffer.data[V])}};box2d.b2ParticleSystem.b2ParticleContactIsZombie=function(x){return(x.flags&box2d.b2ParticleFlag.b2_zombieParticle)===box2d.b2ParticleFlag.b2_zombieParticle};box2d.b2ParticleSystem.prototype.UpdateContacts=function(x){this.UpdateProxies(this.m_proxyBuffer),this.SortProxies(this.m_proxyBuffer);var V=new box2d.b2ParticleSystem.b2ParticlePairSet;this.NotifyContactListenerPreContact(V),this.FindContacts(this.m_contactBuffer),this.FilterContacts(this.m_contactBuffer),this.NotifyContactListenerPostContact(V),x&&this.m_contactBuffer.RemoveIf(box2d.b2ParticleSystem.b2ParticleContactIsZombie)};box2d.b2ParticleSystem.prototype.NotifyBodyContactListenerPreContact=function(x){if(this.GetFixtureContactListener()!==null){debugger;x.Initialize(this.m_bodyContactBuffer,this.m_flagsBuffer)}};box2d.b2ParticleSystem.prototype.NotifyBodyContactListenerPostContact=function(x){if(x=this.GetFixtureContactListener(),x!==null){debugger;for(var V=0;V<this.m_bodyContactBuffer.count;V++){var o=this.m_bodyContactBuffer.data[V];box2d.b2Assert(o!==null),x.BeginContactFixtureParticle(this,o)}}};box2d.b2ParticleSystem.UpdateBodyContactsCallback=function(x,V){box2d.b2FixtureParticleQueryCallback.call(this,x),this.m_contactFilter=V};goog.inherits(box2d.b2ParticleSystem.UpdateBodyContactsCallback,box2d.b2FixtureParticleQueryCallback);box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ShouldCollideFixtureParticle=function(x,V,o){return this.m_contactFilter&&this.m_system.GetFlagsBuffer()[o]&box2d.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_contactFilter.ShouldCollideFixtureParticle(x,this.m_system,o):!0};goog.exportSymbol("box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ShouldCollideFixtureParticle",box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ShouldCollideFixtureParticle);box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle=function(x,V,o){var _o=box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle.s_rp,_r=this.m_system.m_positionBuffer.data[o],l=box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle.s_n;if(V=x.ComputeDistance(_r,l,V),V<this.m_system.m_particleDiameter&&this.ShouldCollideFixtureParticle(x,this.m_system,o)){var e_=x.GetBody(),o_=e_.GetWorldCenter(),i_=e_.GetMass(),_e=e_.GetInertia()-i_*e_.GetLocalCenter().LengthSquared(),i_=0<i_?1/i_:0,_e=0<_e?1/_e:0,c_=this.m_system.m_flagsBuffer.data[o]&box2d.b2ParticleFlag.b2_wallParticle?0:this.m_system.GetParticleInvMass(),_o=box2d.b2Sub_V2_V2(_r,o_,_o),_o=box2d.b2Cross_V2_V2(_o,l),_o=c_+i_+_e*_o*_o,_r=this.m_system.m_bodyContactBuffer.data[this.m_system.m_bodyContactBuffer.Append()];_r.index=o,_r.body=e_,_r.fixture=x,_r.weight=1-V*this.m_system.m_inverseDiameter,_r.normal.Copy(l.SelfNeg()),_r.mass=0<_o?1/_o:0,this.m_system.DetectStuckParticle(o)}};goog.exportSymbol("box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle",box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle);box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle.s_n=new box2d.b2Vec2;box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle.s_rp=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.UpdateBodyContacts=function(){var x=box2d.b2ParticleSystem.prototype.UpdateBodyContacts.s_aabb,V=new box2d.b2ParticleSystem.FixtureParticleSet;if(this.NotifyBodyContactListenerPreContact(V),0<this.m_stuckThreshold)for(var o=this.GetParticleCount(),_o=0;_o<o;_o++)this.m_bodyContactCountBuffer.data[_o]=0,this.m_timestamp>this.m_lastBodyContactStepBuffer.data[_o]+1&&(this.m_consecutiveContactStepsBuffer.data[_o]=0);this.m_bodyContactBuffer.SetCount(0),this.m_stuckParticleBuffer.SetCount(0),this.ComputeAABB(x),o=new box2d.b2ParticleSystem.UpdateBodyContactsCallback(this,this.GetFixtureContactFilter()),this.m_world.QueryAABB(o,x),this.m_def.strictContactCheck&&this.RemoveSpuriousBodyContacts(),this.NotifyBodyContactListenerPostContact(V)};box2d.b2ParticleSystem.prototype.UpdateBodyContacts.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.Solve=function(x){var V=box2d.b2ParticleSystem.prototype.Solve.s_subStep;if(this.m_count!==0&&(this.m_expirationTimeBuffer.data&&this.SolveLifetimes(x),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_zombieParticle&&this.SolveZombie(),this.m_needsUpdateAllParticleFlags&&this.UpdateAllParticleFlags(),this.m_needsUpdateAllGroupFlags&&this.UpdateAllGroupFlags(),!this.m_paused))for(this.m_iterationIndex=0;this.m_iterationIndex<x.particleIterations;this.m_iterationIndex++){++this.m_timestamp;var o=V.Copy(x);o.dt/=x.particleIterations,o.inv_dt*=x.particleIterations,this.UpdateContacts(!1),this.UpdateBodyContacts(),this.ComputeWeight(),this.m_allGroupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&this.ComputeDepth(),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_reactiveParticle&&this.UpdatePairsAndTriadsWithReactiveParticles(),this.m_hasForce&&this.SolveForce(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_viscousParticle&&this.SolveViscous(),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_repulsiveParticle&&this.SolveRepulsive(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_powderParticle&&this.SolvePowder(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_tensileParticle&&this.SolveTensile(o),this.m_allGroupFlags&box2d.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SolveSolid(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_colorMixingParticle&&this.SolveColorMixing(),this.SolveGravity(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_staticPressureParticle&&this.SolveStaticPressure(o),this.SolvePressure(o),this.SolveDamping(o),this.m_allParticleFlags&box2d.b2ParticleSystem.k_extraDampingFlags&&this.SolveExtraDamping(),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_elasticParticle&&this.SolveElastic(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_springParticle&&this.SolveSpring(o),this.LimitVelocity(o),this.m_allGroupFlags&box2d.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigidDamping(),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_barrierParticle&&this.SolveBarrier(o),this.SolveCollision(o),this.m_allGroupFlags&box2d.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigid(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_wallParticle&&this.SolveWall();for(var _o=0;_o<this.m_count;_o++)this.m_positionBuffer.data[_o].SelfMulAdd(o.dt,this.m_velocityBuffer.data[_o])}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"Solve",box2d.b2ParticleSystem.prototype.Solve);box2d.b2ParticleSystem.prototype.Solve.s_subStep=new box2d.b2TimeStep;box2d.b2ParticleSystem.SolveCollisionCallback=function(x,V){box2d.b2FixtureParticleQueryCallback.call(this,x),this.m_step=V};goog.inherits(box2d.b2ParticleSystem.SolveCollisionCallback,box2d.b2FixtureParticleQueryCallback);box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle=function(x,V,o){var _o=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_p1,_r=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_output,l=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_input,e_=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_p,o_=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_v,i_=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_f,_e=x.GetBody(),c_=this.m_system.m_positionBuffer.data[o],ws=this.m_system.m_velocityBuffer.data[o];this.m_system.m_iterationIndex===0?(_o=box2d.b2MulT_X_V2(_e.m_xf0,c_,_o),x.GetShape().GetType()===box2d.b2ShapeType.e_circleShape&&(_o.SelfSub(_e.GetLocalCenter()),box2d.b2Mul_R_V2(_e.m_xf0.q,_o,_o),box2d.b2MulT_R_V2(_e.m_xf.q,_o,_o),_o.SelfAdd(_e.GetLocalCenter())),box2d.b2Mul_X_V2(_e.m_xf,_o,l.p1)):l.p1.Copy(c_),box2d.b2AddMul_V2_S_V2(c_,this.m_step.dt,ws,l.p2),l.maxFraction=1,x.RayCast(_r,l,V)&&(x=_r.normal,e_.x=(1-_r.fraction)*l.p1.x+_r.fraction*l.p2.x+box2d.b2_linearSlop*x.x,e_.y=(1-_r.fraction)*l.p1.y+_r.fraction*l.p2.y+box2d.b2_linearSlop*x.y,o_.x=this.m_step.inv_dt*(e_.x-c_.x),o_.y=this.m_step.inv_dt*(e_.y-c_.y),this.m_system.m_velocityBuffer.data[o].Copy(o_),i_.x=this.m_step.inv_dt*this.m_system.GetParticleMass()*(ws.x-o_.x),i_.y=this.m_step.inv_dt*this.m_system.GetParticleMass()*(ws.y-o_.y),this.m_system.ParticleApplyForce(o,i_))};goog.exportSymbol("box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle",box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle);box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_p1=new box2d.b2Vec2;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_output=new box2d.b2RayCastOutput;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_input=new box2d.b2RayCastInput;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_p=new box2d.b2Vec2;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportParticle=function(x,V){return!1};goog.exportSymbol("box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportParticle",box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportParticle);box2d.b2ParticleSystem.prototype.SolveCollision=function(x){var V=this.m_positionBuffer.data,o=this.m_velocityBuffer.data,_o=box2d.b2ParticleSystem.prototype.SolveCollision.s_aabb;_o.lowerBound.x=+box2d.b2_maxFloat,_o.lowerBound.y=+box2d.b2_maxFloat,_o.upperBound.x=-box2d.b2_maxFloat,_o.upperBound.y=-box2d.b2_maxFloat;for(var _r=0;_r<this.m_count;_r++){var o_=o[_r],l=V[_r],e_=l.x+x.dt*o_.x,o_=l.y+x.dt*o_.y;_o.lowerBound.x=box2d.b2Min(_o.lowerBound.x,box2d.b2Min(l.x,e_)),_o.lowerBound.y=box2d.b2Min(_o.lowerBound.y,box2d.b2Min(l.y,o_)),_o.upperBound.x=box2d.b2Max(_o.upperBound.x,box2d.b2Max(l.x,e_)),_o.upperBound.y=box2d.b2Max(_o.upperBound.y,box2d.b2Max(l.y,o_))}x=new box2d.b2ParticleSystem.SolveCollisionCallback(this,x),this.m_world.QueryAABB(x,_o)};box2d.b2ParticleSystem.prototype.SolveCollision.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.LimitVelocity=function(x){var V=this.m_velocityBuffer.data;x=this.GetCriticalVelocitySquared(x);for(var o=0;o<this.m_count;o++){var _o=V[o],_r=box2d.b2Dot_V2_V2(_o,_o);_r>x&&_o.SelfMul(box2d.b2Sqrt(x/_r))}};box2d.b2ParticleSystem.prototype.SolveGravity=function(x){var V=box2d.b2ParticleSystem.prototype.SolveGravity.s_gravity,o=this.m_velocityBuffer.data;for(x=box2d.b2Mul_S_V2(x.dt*this.m_def.gravityScale,this.m_world.GetGravity(),V),V=0;V<this.m_count;V++)o[V].SelfAdd(x)};box2d.b2ParticleSystem.prototype.SolveGravity.s_gravity=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier=function(x){for(var V=box2d.b2ParticleSystem.prototype.SolveBarrier.s_aabb,o=box2d.b2ParticleSystem.prototype.SolveBarrier.s_va,_o=box2d.b2ParticleSystem.prototype.SolveBarrier.s_vb,_r=box2d.b2ParticleSystem.prototype.SolveBarrier.s_pba,l=box2d.b2ParticleSystem.prototype.SolveBarrier.s_vba,e_=box2d.b2ParticleSystem.prototype.SolveBarrier.s_vc,o_=box2d.b2ParticleSystem.prototype.SolveBarrier.s_pca,i_=box2d.b2ParticleSystem.prototype.SolveBarrier.s_vca,_e=box2d.b2ParticleSystem.prototype.SolveBarrier.s_qba,c_=box2d.b2ParticleSystem.prototype.SolveBarrier.s_qca,ws=box2d.b2ParticleSystem.prototype.SolveBarrier.s_dv,h_=box2d.b2ParticleSystem.prototype.SolveBarrier.s_f,s_=this.m_positionBuffer.data,w_=this.m_velocityBuffer.data,L_=0;L_<this.m_count;L_++)this.m_flagsBuffer.data[L_]&box2d.b2ParticleSystem.k_barrierWallFlags&&w_[L_].SetZero();for(var L_=box2d.b2_barrierCollisionTime*x.dt,y_=this.GetParticleMass(),I_=0;I_<this.m_pairBuffer.count;I_++){var k_=this.m_pairBuffer.data[I_];if(k_.flags&box2d.b2ParticleFlag.b2_barrierParticle){var j_=k_.indexA,n2=k_.indexB,k_=s_[j_],p2=s_[n2],u2=V;box2d.b2Min_V2_V2(k_,p2,u2.lowerBound),box2d.b2Max_V2_V2(k_,p2,u2.upperBound);for(var T2=this.m_groupBuffer[j_],I2=this.m_groupBuffer[n2],j_=this.GetLinearVelocity(T2,j_,k_,o),n2=this.GetLinearVelocity(I2,n2,p2,_o),p2=box2d.b2Sub_V2_V2(p2,k_,_r),n2=box2d.b2Sub_V2_V2(n2,j_,l),u2=this.GetInsideBoundsEnumerator(u2),q2;0<=(q2=u2.GetNext());){var O2=s_[q2],X2=this.m_groupBuffer[q2];if(T2!==X2&&I2!==X2){var S_=this.GetLinearVelocity(X2,q2,O2,e_),q_=box2d.b2Sub_V2_V2(O2,k_,o_),N_=box2d.b2Sub_V2_V2(S_,j_,i_),W_=box2d.b2Cross_V2_V2(n2,N_),o2=box2d.b2Cross_V2_V2(p2,N_)-box2d.b2Cross_V2_V2(q_,n2),m2=box2d.b2Cross_V2_V2(p2,q_),_2=_e,v_=c_;if(W_===0){if(o2===0||(m2=-m2/o2,!(0<=m2&&m2<L_))||(box2d.b2AddMul_V2_S_V2(p2,m2,n2,_2),box2d.b2AddMul_V2_S_V2(q_,m2,N_,v_),o2=box2d.b2Dot_V2_V2(_2,v_)/box2d.b2Dot_V2_V2(_2,_2),!(0<=o2&&1>=o2)))continue}else{if(m2=o2*o2-4*m2*W_,0>m2)continue;var G_=box2d.b2Sqrt(m2),m2=(-o2-G_)/(2*W_),W_=(-o2+G_)/(2*W_);if(m2>W_&&(o2=m2,m2=W_,W_=o2),box2d.b2AddMul_V2_S_V2(p2,m2,n2,_2),box2d.b2AddMul_V2_S_V2(q_,m2,N_,v_),o2=box2d.b2Dot_V2_V2(_2,v_)/box2d.b2Dot_V2_V2(_2,_2),!(0<=m2&&m2<L_&&0<=o2&&1>=o2)&&(m2=W_,!(0<=m2&&m2<L_)||(box2d.b2AddMul_V2_S_V2(p2,m2,n2,_2),box2d.b2AddMul_V2_S_V2(q_,m2,N_,v_),o2=box2d.b2Dot_V2_V2(_2,v_)/box2d.b2Dot_V2_V2(_2,_2),!(0<=o2&&1>=o2))))continue}q_=ws,q_.x=j_.x+o2*n2.x-S_.x,q_.y=j_.y+o2*n2.y-S_.y,S_=box2d.b2Mul_S_V2(y_,q_,h_),this.IsRigidGroup(X2)?(y_=X2.GetMass(),q_=X2.GetInertia(),0<y_&&X2.m_linearVelocity.SelfMulAdd(1/y_,S_),0<q_&&(X2.m_angularVelocity+=box2d.b2Cross_V2_V2(box2d.b2Sub_V2_V2(O2,X2.GetCenter(),box2d.b2Vec2.s_t0),S_)/q_)):w_[q2].SelfAdd(q_),this.ParticleApplyForce(q2,S_.SelfMul(-x.inv_dt))}}}}};box2d.b2ParticleSystem.prototype.SolveBarrier.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.SolveBarrier.s_va=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_vb=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_pba=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_vba=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_vc=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_pca=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_vca=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_qba=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_qca=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_dv=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveStaticPressure=function(x){this.m_staticPressureBuffer=this.RequestBuffer(this.m_staticPressureBuffer);var V=this.GetCriticalPressure(x);x=this.m_def.staticPressureStrength*V;for(var V=box2d.b2_maxParticlePressure*V,o=this.m_def.staticPressureRelaxation,_o=0;_o<this.m_def.staticPressureIterations;_o++){for(var _r=0;_r<this.m_count;_r++)this.m_accumulationBuffer[_r]=0;for(_r=0;_r<this.m_contactBuffer.count;_r++){var l=this.m_contactBuffer.data[_r];if(l.flags&box2d.b2ParticleFlag.b2_staticPressureParticle){var e_=l.indexA,o_=l.indexB,l=l.weight;this.m_accumulationBuffer[e_]+=l*this.m_staticPressureBuffer[o_],this.m_accumulationBuffer[o_]+=l*this.m_staticPressureBuffer[e_]}}for(_r=0;_r<this.m_count;_r++)l=this.m_weightBuffer[_r],this.m_staticPressureBuffer[_r]=this.m_flagsBuffer.data[_r]&box2d.b2ParticleFlag.b2_staticPressureParticle?box2d.b2Clamp((this.m_accumulationBuffer[_r]+x*(l-box2d.b2_minParticleWeight))/(l+o),0,V):0}};box2d.b2ParticleSystem.prototype.ComputeWeight=function(){for(var x=0;x<this.m_count;x++)this.m_weightBuffer[x]=0;for(x=0;x<this.m_bodyContactBuffer.count;x++){var o=this.m_bodyContactBuffer.data[x],V=o.index,o=o.weight;this.m_weightBuffer[V]+=o}for(x=0;x<this.m_contactBuffer.count;x++){var o=this.m_contactBuffer.data[x],V=o.indexA,_o=o.indexB,o=o.weight;this.m_weightBuffer[V]+=o,this.m_weightBuffer[_o]+=o}};box2d.b2ParticleSystem.prototype.SolvePressure=function(x){for(var V=box2d.b2ParticleSystem.prototype.SolvePressure.s_f,o=this.m_positionBuffer.data,_o=this.m_velocityBuffer.data,_r=this.GetCriticalPressure(x),l=this.m_def.pressureStrength*_r,e_=box2d.b2_maxParticlePressure*_r,o_=0;o_<this.m_count;o_++){var _r=this.m_weightBuffer[o_],i_=l*box2d.b2Max(0,_r-box2d.b2_minParticleWeight);this.m_accumulationBuffer[o_]=box2d.b2Min(i_,e_)}if(this.m_allParticleFlags&box2d.b2ParticleSystem.k_noPressureFlags)for(o_=0;o_<this.m_count;o_++)this.m_flagsBuffer.data[o_]&box2d.b2ParticleSystem.k_noPressureFlags&&(this.m_accumulationBuffer[o_]=0);if(this.m_allParticleFlags&box2d.b2ParticleFlag.b2_staticPressureParticle)for(box2d.b2Assert(this.m_staticPressureBuffer!==null),o_=0;o_<this.m_count;o_++)this.m_flagsBuffer.data[o_]&box2d.b2ParticleFlag.b2_staticPressureParticle&&(this.m_accumulationBuffer[o_]+=this.m_staticPressureBuffer[o_]);for(x=x.dt/(this.m_def.density*this.m_particleDiameter),e_=this.GetParticleInvMass(),o_=0;o_<this.m_bodyContactBuffer.count;o_++){var i_=this.m_bodyContactBuffer.data[o_],_e=i_.index,c_=i_.body,_r=i_.weight,ws=i_.mass,h_=i_.normal,s_=o[_e],i_=this.m_accumulationBuffer[_e]+l*_r,_r=box2d.b2Mul_S_V2(x*_r*ws*i_,h_,V);_o[_e].SelfMulSub(e_,_r),c_.ApplyLinearImpulse(_r,s_,!0)}for(o_=0;o_<this.m_contactBuffer.count;o_++)i_=this.m_contactBuffer.data[o_],_e=i_.indexA,c_=i_.indexB,_r=i_.weight,h_=i_.normal,i_=this.m_accumulationBuffer[_e]+this.m_accumulationBuffer[c_],_r=box2d.b2Mul_S_V2(x*_r*i_,h_,V),_o[_e].SelfSub(_r),_o[c_].SelfAdd(_r)};box2d.b2ParticleSystem.prototype.SolvePressure.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveDamping=function(x){var V=box2d.b2ParticleSystem.prototype.SolveDamping.s_v,o=box2d.b2ParticleSystem.prototype.SolveDamping.s_f,_o=this.m_positionBuffer.data,_r=this.m_velocityBuffer.data,l=this.m_def.dampingStrength;x=1/this.GetCriticalVelocity(x);for(var e_=this.GetParticleInvMass(),o_=0;o_<this.m_bodyContactBuffer.count;o_++){var s_=this.m_bodyContactBuffer.data[o_],i_=s_.index,_e=s_.body,c_=s_.weight,ws=s_.mass,h_=s_.normal,s_=_o[i_],w_=box2d.b2Sub_V2_V2(_e.GetLinearVelocityFromWorldPoint(s_,box2d.b2Vec2.s_t0),_r[i_],V),w_=box2d.b2Dot_V2_V2(w_,h_);0>w_&&(c_=box2d.b2Max(l*c_,box2d.b2Min(-x*w_,.5)),ws=box2d.b2Mul_S_V2(c_*ws*w_,h_,o),_r[i_].SelfMulAdd(e_,ws),_e.ApplyLinearImpulse(ws.SelfNeg(),s_,!0))}for(o_=0;o_<this.m_contactBuffer.count;o_++)s_=this.m_contactBuffer.data[o_],i_=s_.indexA,_e=s_.indexB,c_=s_.weight,h_=s_.normal,w_=box2d.b2Sub_V2_V2(_r[_e],_r[i_],V),w_=box2d.b2Dot_V2_V2(w_,h_),0>w_&&(c_=box2d.b2Max(l*c_,box2d.b2Min(-x*w_,.5)),ws=box2d.b2Mul_S_V2(c_*w_,h_,o),_r[i_].SelfAdd(ws),_r[_e].SelfSub(ws))};box2d.b2ParticleSystem.prototype.SolveDamping.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveDamping.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRigidDamping=function(){for(var x=box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_t0,V=box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_t1,o=box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_p,_o=box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_v,_r=[0],l=[0],e_=[0],o_=[0],i_=[0],_e=[0],c_=this.m_positionBuffer.data,ws=this.m_def.dampingStrength,h_=0;h_<this.m_bodyContactBuffer.count;h_++){var s_=this.m_bodyContactBuffer.data[h_],w_=s_.index,L_=this.m_groupBuffer[w_];if(this.IsRigidGroup(L_)){var y_=s_.body,I_=s_.normal,k_=s_.weight,s_=c_[w_],j_=box2d.b2Sub_V2_V2(y_.GetLinearVelocityFromWorldPoint(s_,x),L_.GetLinearVelocityFromWorldPoint(s_,V),_o),j_=box2d.b2Dot_V2_V2(j_,I_);0>j_&&(this.InitDampingParameterWithRigidGroupOrParticle(_r,l,e_,!0,L_,w_,s_,I_),this.InitDampingParameter(o_,i_,_e,y_.GetMass(),y_.GetInertia()-y_.GetMass()*y_.GetLocalCenter().LengthSquared(),y_.GetWorldCenter(),s_,I_),k_=ws*box2d.b2Min(k_,1)*this.ComputeDampingImpulse(_r[0],l[0],e_[0],o_[0],i_[0],_e[0],j_),this.ApplyDamping(_r[0],l[0],e_[0],!0,L_,w_,k_,I_),y_.ApplyLinearImpulse(box2d.b2Mul_S_V2(-k_,I_,box2d.b2Vec2.s_t0),s_,!0))}}for(h_=0;h_<this.m_contactBuffer.count;h_++){var s_=this.m_contactBuffer.data[h_],w_=s_.indexA,y_=s_.indexB,I_=s_.normal,k_=s_.weight,L_=this.m_groupBuffer[w_],n2=this.m_groupBuffer[y_],p2=this.IsRigidGroup(L_),u2=this.IsRigidGroup(n2);L_!==n2&&(p2||u2)&&(s_=box2d.b2Mid_V2_V2(c_[w_],c_[y_],o),j_=box2d.b2Sub_V2_V2(this.GetLinearVelocity(n2,y_,s_,x),this.GetLinearVelocity(L_,w_,s_,V),_o),j_=box2d.b2Dot_V2_V2(j_,I_),0>j_&&(this.InitDampingParameterWithRigidGroupOrParticle(_r,l,e_,p2,L_,w_,s_,I_),this.InitDampingParameterWithRigidGroupOrParticle(o_,i_,_e,u2,n2,y_,s_,I_),k_=ws*k_*this.ComputeDampingImpulse(_r[0],l[0],e_[0],o_[0],i_[0],_e[0],j_),this.ApplyDamping(_r[0],l[0],e_[0],p2,L_,w_,k_,I_),this.ApplyDamping(o_[0],i_[0],_e[0],u2,n2,y_,-k_,I_)))}};box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_t0=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_t1=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_p=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveExtraDamping=function(){for(var x=box2d.b2ParticleSystem.prototype.SolveExtraDamping.s_v,V=box2d.b2ParticleSystem.prototype.SolveExtraDamping.s_f,o=this.m_velocityBuffer.data,_o=this.m_positionBuffer.data,_r=this.GetParticleInvMass(),l=0;l<this.m_bodyContactBuffer.count;l++){var e_=this.m_bodyContactBuffer.data[l],o_=e_.index;if(this.m_flagsBuffer.data[o_]&box2d.b2ParticleSystem.k_extraDampingFlags){var i_=e_.body,_e=e_.mass,c_=e_.normal,e_=_o[o_],ws=box2d.b2Sub_V2_V2(i_.GetLinearVelocityFromWorldPoint(e_,box2d.b2Vec2.s_t0),o[o_],x),ws=box2d.b2Dot_V2_V2(ws,c_);0>ws&&(_e=box2d.b2Mul_S_V2(.5*_e*ws,c_,V),o[o_].SelfMulAdd(_r,_e),i_.ApplyLinearImpulse(_e.SelfNeg(),e_,!0))}}};box2d.b2ParticleSystem.prototype.SolveExtraDamping.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveExtraDamping.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveWall=function(){for(var x=this.m_velocityBuffer.data,V=0;V<this.m_count;V++)this.m_flagsBuffer.data[V]&box2d.b2ParticleFlag.b2_wallParticle&&x[V].SetZero()};box2d.b2ParticleSystem.prototype.SolveRigid=function(x){for(var V=box2d.b2ParticleSystem.prototype.SolveRigid.s_position,o=box2d.b2ParticleSystem.prototype.SolveRigid.s_rotation,_o=box2d.b2ParticleSystem.prototype.SolveRigid.s_transform,_r=box2d.b2ParticleSystem.prototype.SolveRigid.s_velocityTransform,l=this.m_positionBuffer.data,e_=this.m_velocityBuffer.data,o_=this.m_groupList;o_;o_=o_.GetNext())if(o_.m_groupFlags&box2d.b2ParticleGroupFlag.b2_rigidParticleGroup){o_.UpdateStatistics();var i_=o;i_.SetAngle(x.dt*o_.m_angularVelocity);var _e=box2d.b2Add_V2_V2(o_.m_center,box2d.b2Sub_V2_V2(box2d.b2Mul_S_V2(x.dt,o_.m_linearVelocity,box2d.b2Vec2.s_t0),box2d.b2Mul_R_V2(i_,o_.m_center,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0),V),c_=_o;for(c_.SetPositionRotation(_e,i_),box2d.b2Mul_X_X(c_,o_.m_transform,o_.m_transform),i_=_r,i_.p.x=x.inv_dt*c_.p.x,i_.p.y=x.inv_dt*c_.p.y,i_.q.s=x.inv_dt*c_.q.s,i_.q.c=x.inv_dt*(c_.q.c-1),c_=o_.m_firstIndex;c_<o_.m_lastIndex;c_++)box2d.b2Mul_X_V2(i_,l[c_],e_[c_])}};box2d.b2ParticleSystem.prototype.SolveRigid.s_position=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRigid.s_rotation=new box2d.b2Rot;box2d.b2ParticleSystem.prototype.SolveRigid.s_transform=new box2d.b2Transform;box2d.b2ParticleSystem.prototype.SolveRigid.s_velocityTransform=new box2d.b2Transform;box2d.b2ParticleSystem.prototype.SolveElastic=function(x){for(var V=box2d.b2ParticleSystem.prototype.SolveElastic.s_pa,o=box2d.b2ParticleSystem.prototype.SolveElastic.s_pb,_o=box2d.b2ParticleSystem.prototype.SolveElastic.s_pc,_r=box2d.b2ParticleSystem.prototype.SolveElastic.s_r,l=box2d.b2ParticleSystem.prototype.SolveElastic.s_t0,e_=this.m_positionBuffer.data,o_=this.m_velocityBuffer.data,i_=x.inv_dt*this.m_def.elasticStrength,_e=0;_e<this.m_triadBuffer.count;_e++){var c_=this.m_triadBuffer.data[_e];if(c_.flags&box2d.b2ParticleFlag.b2_elasticParticle){var I_=c_.indexA,k_=c_.indexB,j_=c_.indexC,ws=c_.pa,h_=c_.pb,s_=c_.pc,w_=V.Copy(e_[I_]),L_=o.Copy(e_[k_]),y_=_o.Copy(e_[j_]),I_=o_[I_],k_=o_[k_],j_=o_[j_];w_.SelfMulAdd(x.dt,I_),L_.SelfMulAdd(x.dt,k_),y_.SelfMulAdd(x.dt,j_);var n2=(w_.x+L_.x+y_.x)/3,p2=(w_.y+L_.y+y_.y)/3;w_.x-=n2,w_.y-=p2,L_.x-=n2,L_.y-=p2,y_.x-=n2,y_.y-=p2,n2=_r,n2.s=box2d.b2Cross_V2_V2(ws,w_)+box2d.b2Cross_V2_V2(h_,L_)+box2d.b2Cross_V2_V2(s_,y_),n2.c=box2d.b2Dot_V2_V2(ws,w_)+box2d.b2Dot_V2_V2(h_,L_)+box2d.b2Dot_V2_V2(s_,y_),p2=box2d.b2InvSqrt(n2.s*n2.s+n2.c*n2.c),isFinite(p2)||(p2=198177537e11),n2.s*=p2,n2.c*=p2,n2.angle=Math.atan2(n2.s,n2.c),c_=i_*c_.strength,box2d.b2Mul_R_V2(n2,ws,l),box2d.b2Sub_V2_V2(l,w_,l),box2d.b2Mul_S_V2(c_,l,l),I_.SelfAdd(l),box2d.b2Mul_R_V2(n2,h_,l),box2d.b2Sub_V2_V2(l,L_,l),box2d.b2Mul_S_V2(c_,l,l),k_.SelfAdd(l),box2d.b2Mul_R_V2(n2,s_,l),box2d.b2Sub_V2_V2(l,y_,l),box2d.b2Mul_S_V2(c_,l,l),j_.SelfAdd(l)}}};box2d.b2ParticleSystem.prototype.SolveElastic.s_pa=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveElastic.s_pb=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveElastic.s_pc=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveElastic.s_r=new box2d.b2Rot;box2d.b2ParticleSystem.prototype.SolveElastic.s_t0=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveSpring=function(x){for(var V=box2d.b2ParticleSystem.prototype.SolveSpring.s_pa,o=box2d.b2ParticleSystem.prototype.SolveSpring.s_pb,_o=box2d.b2ParticleSystem.prototype.SolveSpring.s_d,_r=box2d.b2ParticleSystem.prototype.SolveSpring.s_f,l=this.m_positionBuffer.data,e_=this.m_velocityBuffer.data,o_=x.inv_dt*this.m_def.springStrength,i_=0;i_<this.m_pairBuffer.count;i_++){var _e=this.m_pairBuffer.data[i_];if(_e.flags&box2d.b2ParticleFlag.b2_springParticle){var c_=_e.indexA,ws=_e.indexB,h_=V.Copy(l[c_]),s_=o.Copy(l[ws]),c_=e_[c_],ws=e_[ws];h_.SelfMulAdd(x.dt,c_),s_.SelfMulAdd(x.dt,ws);var h_=box2d.b2Sub_V2_V2(s_,h_,_o),s_=_e.distance,w_=h_.Length(),_e=box2d.b2Mul_S_V2(o_*_e.strength*(s_-w_)/w_,h_,_r);c_.SelfSub(_e),ws.SelfAdd(_e)}}};box2d.b2ParticleSystem.prototype.SolveSpring.s_pa=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveSpring.s_pb=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveSpring.s_d=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveSpring.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveTensile=function(x){var V=box2d.b2ParticleSystem.prototype.SolveTensile.s_weightedNormal,o=box2d.b2ParticleSystem.prototype.SolveTensile.s_s,_o=box2d.b2ParticleSystem.prototype.SolveTensile.s_f,_r=this.m_velocityBuffer.data;box2d.b2Assert(this.m_accumulation2Buffer!==null);for(var l=0;l<this.m_count;l++)this.m_accumulation2Buffer[l]=box2d.b2Vec2_zero.Clone(),this.m_accumulation2Buffer[l].SetZero();for(l=0;l<this.m_contactBuffer.count;l++){var e_=this.m_contactBuffer.data[l];if(e_.flags&box2d.b2ParticleFlag.b2_tensileParticle){var o_=e_.indexA,i_=e_.indexB,_e=e_.weight,e_=e_.normal,_e=box2d.b2Mul_S_V2((1-_e)*_e,e_,V);this.m_accumulation2Buffer[o_].SelfSub(_e),this.m_accumulation2Buffer[i_].SelfAdd(_e)}}l=this.GetCriticalVelocity(x),x=this.m_def.surfaceTensionPressureStrength*l;for(var V=this.m_def.surfaceTensionNormalStrength*l,c_=box2d.b2_maxParticleForce*l,l=0;l<this.m_contactBuffer.count;l++)if(e_=this.m_contactBuffer.data[l],e_.flags&box2d.b2ParticleFlag.b2_tensileParticle){var o_=e_.indexA,i_=e_.indexB,_e=e_.weight,e_=e_.normal,ws=this.m_weightBuffer[o_]+this.m_weightBuffer[i_],h_=box2d.b2Sub_V2_V2(this.m_accumulation2Buffer[i_],this.m_accumulation2Buffer[o_],o),_e=box2d.b2Min(x*(ws-2)+V*box2d.b2Dot_V2_V2(h_,e_),c_)*_e,_e=box2d.b2Mul_S_V2(_e,e_,_o);_r[o_].SelfSub(_e),_r[i_].SelfAdd(_e)}};box2d.b2ParticleSystem.prototype.SolveTensile.s_weightedNormal=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveTensile.s_s=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveTensile.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveViscous=function(){for(var x=box2d.b2ParticleSystem.prototype.SolveViscous.s_v,V=box2d.b2ParticleSystem.prototype.SolveViscous.s_f,o=this.m_positionBuffer.data,_o=this.m_velocityBuffer.data,_r=this.m_def.viscousStrength,l=this.GetParticleInvMass(),e_=0;e_<this.m_bodyContactBuffer.count;e_++){var o_=this.m_bodyContactBuffer.data[e_],i_=o_.index;if(this.m_flagsBuffer.data[i_]&box2d.b2ParticleFlag.b2_viscousParticle){var _e=o_.body,h_=o_.weight,c_=o_.mass,o_=o[i_],ws=box2d.b2Sub_V2_V2(_e.GetLinearVelocityFromWorldPoint(o_,box2d.b2Vec2.s_t0),_o[i_],x),h_=box2d.b2Mul_S_V2(_r*c_*h_,ws,V);_o[i_].SelfMulAdd(l,h_),_e.ApplyLinearImpulse(h_.SelfNeg(),o_,!0)}}for(e_=0;e_<this.m_contactBuffer.count;e_++)o_=this.m_contactBuffer.data[e_],o_.flags&box2d.b2ParticleFlag.b2_viscousParticle&&(i_=o_.indexA,_e=o_.indexB,h_=o_.weight,ws=box2d.b2Sub_V2_V2(_o[_e],_o[i_],x),h_=box2d.b2Mul_S_V2(_r*h_,ws,V),_o[i_].SelfAdd(h_),_o[_e].SelfSub(h_))};box2d.b2ParticleSystem.prototype.SolveViscous.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveViscous.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRepulsive=function(x){var V=box2d.b2ParticleSystem.prototype.SolveRepulsive.s_f,o=this.m_velocityBuffer.data;x=this.m_def.repulsiveStrength*this.GetCriticalVelocity(x);for(var _o=0;_o<this.m_contactBuffer.count;_o++){var _r=this.m_contactBuffer.data[_o];if(_r.flags&box2d.b2ParticleFlag.b2_repulsiveParticle){var l=_r.indexA,e_=_r.indexB;this.m_groupBuffer[l]!==this.m_groupBuffer[e_]&&(_r=box2d.b2Mul_S_V2(x*_r.weight,_r.normal,V),o[l].SelfSub(_r),o[e_].SelfAdd(_r))}}};box2d.b2ParticleSystem.prototype.SolveRepulsive.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolvePowder=function(x){var V=box2d.b2ParticleSystem.prototype.SolvePowder.s_f,o=this.m_positionBuffer.data,_o=this.m_velocityBuffer.data;x=this.m_def.powderStrength*this.GetCriticalVelocity(x);for(var _r=1-box2d.b2_particleStride,l=this.GetParticleInvMass(),e_=0;e_<this.m_bodyContactBuffer.count;e_++){var o_=this.m_bodyContactBuffer.data[e_],i_=o_.index;if(this.m_flagsBuffer.data[i_]&box2d.b2ParticleFlag.b2_powderParticle){var _e=o_.weight;if(_e>_r){var c_=o_.body,ws=o[i_],h_=o_.normal,o_=box2d.b2Mul_S_V2(x*o_.mass*(_e-_r),h_,V);_o[i_].SelfMulSub(l,o_),c_.ApplyLinearImpulse(o_,ws,!0)}}}for(e_=0;e_<this.m_contactBuffer.count;e_++)o_=this.m_contactBuffer.data[e_],o_.flags&box2d.b2ParticleFlag.b2_powderParticle&&(_e=o_.weight,_e>_r&&(i_=o_.indexA,c_=o_.indexB,h_=o_.normal,o_=box2d.b2Mul_S_V2(x*(_e-_r),h_,V),_o[i_].SelfSub(o_),_o[c_].SelfAdd(o_)))};box2d.b2ParticleSystem.prototype.SolvePowder.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveSolid=function(x){var V=box2d.b2ParticleSystem.prototype.SolveSolid.s_f,o=this.m_velocityBuffer.data;this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer),x=x.inv_dt*this.m_def.ejectionStrength;for(var _o=0;_o<this.m_contactBuffer.count;_o++){var _r=this.m_contactBuffer.data[_o],l=_r.indexA,e_=_r.indexB;this.m_groupBuffer[l]!==this.m_groupBuffer[e_]&&(_r=box2d.b2Mul_S_V2(x*(this.m_depthBuffer[l]+this.m_depthBuffer[e_])*_r.weight,_r.normal,V),o[l].SelfSub(_r),o[e_].SelfAdd(_r))}};box2d.b2ParticleSystem.prototype.SolveSolid.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveForce=function(x){var V=this.m_velocityBuffer.data;x=x.dt*this.GetParticleInvMass();for(var o=0;o<this.m_count;o++)V[o].SelfMulAdd(x,this.m_forceBuffer[o]);this.m_hasForce=!1};box2d.b2ParticleSystem.prototype.SolveColorMixing=function(){box2d.b2Assert(this.m_colorBuffer.data!==null);var x=Math.floor(128*this.m_def.colorMixingStrength);if(x)for(var V=0;V<this.m_contactBuffer.count;V++){var _o=this.m_contactBuffer.data[V],o=_o.indexA,_o=_o.indexB;this.m_flagsBuffer.data[o]&this.m_flagsBuffer.data[_o]&box2d.b2ParticleFlag.b2_colorMixingParticle&&box2d.b2ParticleColor.MixColors(this.m_colorBuffer.data[o],this.m_colorBuffer.data[_o],x)}};box2d.b2ParticleSystem.prototype.SolveZombie=function(){for(var x=0,V=[],o=0;o<this.m_count;o++)V[o]=box2d.b2_invalidParticleIndex;box2d.b2Assert(V.length===this.m_count);for(var _o=0,o=0;o<this.m_count;o++){var _r=this.m_flagsBuffer.data[o];if(_r&box2d.b2ParticleFlag.b2_zombieParticle){var l=this.m_world.m_destructionListener;_r&box2d.b2ParticleFlag.b2_destructionListenerParticle&&l&&l.SayGoodbyeParticle(this,o),this.m_handleIndexBuffer.data&&(l=this.m_handleIndexBuffer.data[o])&&(l.SetIndex(box2d.b2_invalidParticleIndex),this.m_handleIndexBuffer.data[o]=null),V[o]=box2d.b2_invalidParticleIndex}else V[o]=x,o!==x&&(this.m_handleIndexBuffer.data&&((l=this.m_handleIndexBuffer.data[o])&&l.SetIndex(x),this.m_handleIndexBuffer.data[x]=l),this.m_flagsBuffer.data[x]=this.m_flagsBuffer.data[o],this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[x]=this.m_lastBodyContactStepBuffer.data[o]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[x]=this.m_bodyContactCountBuffer.data[o]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[x]=this.m_consecutiveContactStepsBuffer.data[o]),this.m_positionBuffer.data[x].Copy(this.m_positionBuffer.data[o]),this.m_velocityBuffer.data[x].Copy(this.m_velocityBuffer.data[o]),this.m_groupBuffer[x]=this.m_groupBuffer[o],this.m_hasForce&&this.m_forceBuffer[x].Copy(this.m_forceBuffer[o]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[x]=this.m_staticPressureBuffer[o]),this.m_depthBuffer&&(this.m_depthBuffer[x]=this.m_depthBuffer[o]),this.m_colorBuffer.data&&this.m_colorBuffer.data[x].Copy(this.m_colorBuffer.data[o]),this.m_userDataBuffer.data&&(this.m_userDataBuffer.data[x]=this.m_userDataBuffer.data[o]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[x]=this.m_expirationTimeBuffer.data[o])),x++,_o|=_r}for(o=0;o<this.m_proxyBuffer.count;o++)_r=this.m_proxyBuffer.data[o],_r.index=V[_r.index];for(this.m_proxyBuffer.RemoveIf(function(_e){return 0>_e.index}),o=0;o<this.m_contactBuffer.count;o++)_r=this.m_contactBuffer.data[o],_r.indexA=V[_r.indexA],_r.indexB=V[_r.indexB];for(this.m_contactBuffer.RemoveIf(function(_e){return 0>_e.indexA||0>_e.indexB}),o=0;o<this.m_bodyContactBuffer.count;o++)_r=this.m_bodyContactBuffer.data[o],_r.index=V[_r.index];for(this.m_bodyContactBuffer.RemoveIf(function(_e){return 0>_e.index}),o=0;o<this.m_pairBuffer.count;o++)_r=this.m_pairBuffer.data[o],_r.indexA=V[_r.indexA],_r.indexB=V[_r.indexB];for(this.m_pairBuffer.RemoveIf(function(_e){return 0>_e.indexA||0>_e.indexB}),o=0;o<this.m_triadBuffer.count;o++)_r=this.m_triadBuffer.data[o],_r.indexA=V[_r.indexA],_r.indexB=V[_r.indexB],_r.indexC=V[_r.indexC];if(this.m_triadBuffer.RemoveIf(function(_e){return 0>_e.indexA||0>_e.indexB||0>_e.indexC}),this.m_indexByExpirationTimeBuffer.data)for(_r=o=0;_r<this.m_count;_r++)l=V[this.m_indexByExpirationTimeBuffer.data[_r]],l!==box2d.b2_invalidParticleIndex&&(this.m_indexByExpirationTimeBuffer.data[o++]=l);for(_r=this.m_groupList;_r;_r=_r.GetNext()){for(var l=x,e_=0,o_=!1,o=_r.m_firstIndex;o<_r.m_lastIndex;o++){var i_=V[o];0<=i_?(l=box2d.b2Min(l,i_),e_=box2d.b2Max(e_,i_+1)):o_=!0}l<e_?(_r.m_firstIndex=l,_r.m_lastIndex=e_,o_&&_r.m_groupFlags&box2d.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SetGroupFlags(_r,_r.m_groupFlags|box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth)):(_r.m_firstIndex=0,_r.m_lastIndex=0,_r.m_groupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupCanBeEmpty||this.SetGroupFlags(_r,_r.m_groupFlags|box2d.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed))}for(this.m_count=x,this.m_allParticleFlags=_o,this.m_needsUpdateAllParticleFlags=!1,_r=this.m_groupList;_r;)x=_r.GetNext(),_r.m_groupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed&&this.DestroyParticleGroup(_r),_r=x};box2d.b2ParticleSystem.prototype.SolveLifetimes=function(x){box2d.b2Assert(this.m_expirationTimeBuffer.data!==null),box2d.b2Assert(this.m_indexByExpirationTimeBuffer.data!==null),this.m_timeElapsed=this.LifetimeToExpirationTime(x.dt),x=this.GetQuantizedTimeElapsed();var V=this.m_expirationTimeBuffer.data,o=this.m_indexByExpirationTimeBuffer.data,_o=this.GetParticleCount();for(this.m_expirationTimeBufferRequiresSorting&&(box2d.std_sort(o,0,_o,function(e_,o_){var i_=V[e_],_e=V[o_],c_=0>=i_;return c_===0>=_e?i_>_e:c_}),this.m_expirationTimeBufferRequiresSorting=!1),--_o;0<=_o;--_o){var _r=o[_o],l=V[_r];if(x<l||0>=l)break;this.DestroyParticle(_r)}};box2d.b2ParticleSystem.prototype.RotateBuffer=function(x,V,o){function _o(o_){return o_<x?o_:o_<V?o_+o-V:o_<o?o_+x-V:o_}if(x!==V&&V!==o){if(box2d.b2Assert(V>=x&&V<=o),box2d.std_rotate(this.m_flagsBuffer.data,x,V,o),this.m_lastBodyContactStepBuffer.data&&box2d.std_rotate(this.m_lastBodyContactStepBuffer.data,x,V,o),this.m_bodyContactCountBuffer.data&&box2d.std_rotate(this.m_bodyContactCountBuffer.data,x,V,o),this.m_consecutiveContactStepsBuffer.data&&box2d.std_rotate(this.m_consecutiveContactStepsBuffer.data,x,V,o),box2d.std_rotate(this.m_positionBuffer.data,x,V,o),box2d.std_rotate(this.m_velocityBuffer.data,x,V,o),box2d.std_rotate(this.m_groupBuffer,x,V,o),this.m_hasForce&&box2d.std_rotate(this.m_forceBuffer,x,V,o),this.m_staticPressureBuffer&&box2d.std_rotate(this.m_staticPressureBuffer,x,V,o),this.m_depthBuffer&&box2d.std_rotate(this.m_depthBuffer,x,V,o),this.m_colorBuffer.data&&box2d.std_rotate(this.m_colorBuffer.data,x,V,o),this.m_userDataBuffer.data&&box2d.std_rotate(this.m_userDataBuffer.data,x,V,o),this.m_handleIndexBuffer.data){box2d.std_rotate(this.m_handleIndexBuffer.data,x,V,o);for(var _r=x;_r<o;++_r){var l=this.m_handleIndexBuffer.data[_r];l&&l.SetIndex(_o(l.GetIndex()))}}if(this.m_expirationTimeBuffer.data){box2d.std_rotate(this.m_expirationTimeBuffer.data,x,V,o);for(var l=this.GetParticleCount(),e_=this.m_indexByExpirationTimeBuffer.data,_r=0;_r<l;++_r)e_[_r]=_o(e_[_r])}for(_r=0;_r<this.m_proxyBuffer.count;_r++)l=this.m_proxyBuffer.data[_r],l.index=_o(l.index);for(_r=0;_r<this.m_contactBuffer.count;_r++)l=this.m_contactBuffer.data[_r],l.indexA=_o(l.indexA),l.indexB=_o(l.indexB);for(_r=0;_r<this.m_bodyContactBuffer.count;_r++)l=this.m_bodyContactBuffer.data[_r],l.index=_o(l.index);for(_r=0;_r<this.m_pairBuffer.count;_r++)l=this.m_pairBuffer.data[_r],l.indexA=_o(l.indexA),l.indexB=_o(l.indexB);for(_r=0;_r<this.m_triadBuffer.count;_r++)l=this.m_triadBuffer.data[_r],l.indexA=_o(l.indexA),l.indexB=_o(l.indexB),l.indexC=_o(l.indexC);for(_r=this.m_groupList;_r;_r=_r.GetNext())_r.m_firstIndex=_o(_r.m_firstIndex),_r.m_lastIndex=_o(_r.m_lastIndex-1)+1}};box2d.b2ParticleSystem.prototype.GetCriticalVelocity=function(x){return this.m_particleDiameter*x.inv_dt};box2d.b2ParticleSystem.prototype.GetCriticalVelocitySquared=function(x){return x=this.GetCriticalVelocity(x),x*x};box2d.b2ParticleSystem.prototype.GetCriticalPressure=function(x){return this.m_def.density*this.GetCriticalVelocitySquared(x)};box2d.b2ParticleSystem.prototype.GetParticleStride=function(){return box2d.b2_particleStride*this.m_particleDiameter};box2d.b2ParticleSystem.prototype.GetParticleMass=function(){var x=this.GetParticleStride();return this.m_def.density*x*x};box2d.b2ParticleSystem.prototype.GetParticleInvMass=function(){var x=1/box2d.b2_particleStride*this.m_inverseDiameter;return this.m_inverseDensity*x*x};box2d.b2ParticleSystem.prototype.GetFixtureContactFilter=function(){return this.m_allParticleFlags&box2d.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null};box2d.b2ParticleSystem.prototype.GetParticleContactFilter=function(){return this.m_allParticleFlags&box2d.b2ParticleFlag.b2_particleContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null};box2d.b2ParticleSystem.prototype.GetFixtureContactListener=function(){return this.m_allParticleFlags&box2d.b2ParticleFlag.b2_fixtureContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null};box2d.b2ParticleSystem.prototype.GetParticleContactListener=function(){return this.m_allParticleFlags&box2d.b2ParticleFlag.b2_particleContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null};box2d.b2ParticleSystem.prototype.SetUserOverridableBuffer=function(x,V,o){box2d.b2Assert(V!==null&&0<o||V===null&&o===0),x.data=V,x.userSuppliedCapacity=o};box2d.b2ParticleSystem.prototype.SetGroupFlags=function(x,V){var o=x.m_groupFlags;(o^V)&box2d.b2ParticleGroupFlag.b2_solidParticleGroup&&(V|=box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth),o&~V&&(this.m_needsUpdateAllGroupFlags=!0),~this.m_allGroupFlags&V&&(V&box2d.b2ParticleGroupFlag.b2_solidParticleGroup&&(this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer)),this.m_allGroupFlags|=V),x.m_groupFlags=V};box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts=function(){box2d.std_sort(this.m_bodyContactBuffer.data,0,this.m_bodyContactBuffer.count,box2d.b2ParticleSystem.BodyContactCompare);var x=box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_n,V=box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_pos,o=box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_normal,_o=this,_r=-1,l=0,e_=0;this.m_bodyContactBuffer.count=box2d.std_remove_if(this.m_bodyContactBuffer.data,function(o_){if(o_.index!==_r&&(l=0,_r=o_.index),3<l++)return++e_,!0;var i_=x.Copy(o_.normal);if(i_.SelfMul(_o.m_particleDiameter*(1-o_.weight)),i_=box2d.b2Add_V2_V2(_o.m_positionBuffer.data[o_.index],i_,V),!o_.fixture.TestPoint(i_)){for(var _e=o_.fixture.GetShape().GetChildCount(),c_=0;c_<_e;c_++)if(o_.fixture.ComputeDistance(i_,o,c_)<box2d.b2_linearSlop)return!1;return++e_,!0}return!1},this.m_bodyContactBuffer.count)};box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_n=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_pos=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_normal=new box2d.b2Vec2;box2d.b2ParticleSystem.BodyContactCompare=function(x,V){return x.index===V.index?x.weight>V.weight:x.index<V.index};box2d.b2ParticleSystem.prototype.DetectStuckParticle=function(x){0>=this.m_stuckThreshold||(++this.m_bodyContactCountBuffer.data[x],this.m_bodyContactCountBuffer.data[x]===2&&(++this.m_consecutiveContactStepsBuffer.data[x],this.m_consecutiveContactStepsBuffer.data[x]>this.m_stuckThreshold&&(this.m_stuckParticleBuffer.data[this.m_stuckParticleBuffer.Append()]=x)),this.m_lastBodyContactStepBuffer.data[x]=this.m_timestamp)};box2d.b2ParticleSystem.prototype.ValidateParticleIndex=function(x){return 0<=x&&x<this.GetParticleCount()&&x!==box2d.b2_invalidParticleIndex};box2d.b2ParticleSystem.prototype.GetQuantizedTimeElapsed=function(){return Math.floor(this.m_timeElapsed/4294967296)};box2d.b2ParticleSystem.prototype.LifetimeToExpirationTime=function(x){return this.m_timeElapsed+Math.floor(x/this.m_def.lifetimeGranularity*4294967296)};box2d.b2ParticleSystem.prototype.ForceCanBeApplied=function(x){return!(x&box2d.b2ParticleFlag.b2_wallParticle)};box2d.b2ParticleSystem.prototype.PrepareForceBuffer=function(){if(!this.m_hasForce){for(var x=0;x<this.m_count;x++)this.m_forceBuffer[x].SetZero();this.m_hasForce=!0}};box2d.b2ParticleSystem.prototype.IsRigidGroup=function(x){return x!==null&&(x.m_groupFlags&box2d.b2ParticleGroupFlag.b2_rigidParticleGroup)!==0};box2d.b2ParticleSystem.prototype.GetLinearVelocity=function(x,V,o,_o){return this.IsRigidGroup(x)?x.GetLinearVelocityFromWorldPoint(o,_o):_o.Copy(this.m_velocityBuffer.data[V])};box2d.b2ParticleSystem.prototype.InitDampingParameter=function(x,V,o,_o,_r,l,e_,o_){x[0]=0<_o?1/_o:0,V[0]=0<_r?1/_r:0,o[0]=box2d.b2Cross_V2_V2(box2d.b2Sub_V2_V2(e_,l,box2d.b2Vec2.s_t0),o_)};box2d.b2ParticleSystem.prototype.InitDampingParameterWithRigidGroupOrParticle=function(x,V,o,_o,_r,l,e_,o_){_o?this.InitDampingParameter(x,V,o,_r.GetMass(),_r.GetInertia(),_r.GetCenter(),e_,o_):this.InitDampingParameter(x,V,o,this.m_flagsBuffer.data[l]&box2d.b2ParticleFlag.b2_wallParticle?0:this.GetParticleMass(),0,e_,e_,o_)};box2d.b2ParticleSystem.prototype.ComputeDampingImpulse=function(x,V,o,_o,_r,l,e_){return x=x+V*o*o+_o+_r*l*l,0<x?e_/x:0};box2d.b2ParticleSystem.prototype.ApplyDamping=function(x,V,o,_o,_r,l,e_,o_){_o?(_r.m_linearVelocity.SelfMulAdd(e_*x,o_),_r.m_angularVelocity+=e_*o*V):this.m_velocityBuffer.data[l].SelfMulAdd(e_*x,o_)};box2d.b2StackQueue=function(x){this.m_buffer=box2d.b2MakeArray(x),this.m_end=x};box2d.b2StackQueue.prototype.m_buffer=null;box2d.b2StackQueue.prototype.m_front=0;box2d.b2StackQueue.prototype.m_back=0;box2d.b2StackQueue.prototype.m_capacity=0;box2d.b2StackQueue.prototype.Push=function(x){if(this.m_back>=this.m_capacity){for(var V=this.m_front;V<this.m_back;V++)this.m_buffer[V-this.m_front]=this.m_buffer[V];this.m_back-=this.m_front,this.m_front=0,this.m_back>=this.m_capacity&&(0<this.m_capacity?(this.m_buffer.concat(box2d.b2MakeArray(this.m_capacity)),this.m_capacity*=2):(this.m_buffer.concat(box2d.b2MakeArray(1)),this.m_capacity=1))}this.m_buffer[this.m_back]=x,this.m_back++};box2d.b2StackQueue.prototype.Pop=function(){box2d.b2Assert(this.m_front<this.m_back),this.m_buffer[this.m_front]=null,this.m_front++};box2d.b2StackQueue.prototype.Empty=function(){return box2d.b2Assert(this.m_front<=this.m_back),this.m_front===this.m_back};box2d.b2StackQueue.prototype.Front=function(){return this.m_buffer[this.m_front]};box2d.b2VoronoiDiagram=function(x){this.m_generatorBuffer=box2d.b2MakeArray(x,function(V){return new box2d.b2VoronoiDiagram.Generator}),this.m_generatorCapacity=x};goog.exportSymbol("box2d.b2VoronoiDiagram",box2d.b2VoronoiDiagram);box2d.b2VoronoiDiagram.prototype.m_generatorBuffer=null;goog.exportProperty(box2d.b2VoronoiDiagram.prototype,"m_generatorBuffer",box2d.b2VoronoiDiagram.prototype.m_generatorBuffer);box2d.b2VoronoiDiagram.prototype.m_generatorCapacity=0;box2d.b2VoronoiDiagram.prototype.m_generatorCount=0;box2d.b2VoronoiDiagram.prototype.m_countX=0;box2d.b2VoronoiDiagram.prototype.m_countY=0;box2d.b2VoronoiDiagram.prototype.m_diagram=null;box2d.b2VoronoiDiagram.Generator=function(){this.center=new box2d.b2Vec2};box2d.b2VoronoiDiagram.Generator.prototype.center=null;box2d.b2VoronoiDiagram.Generator.prototype.tag=0;box2d.b2VoronoiDiagram.b2VoronoiDiagramTask=function(x,V,o,_o){this.m_x=x,this.m_y=V,this.m_i=o,this.m_generator=_o};box2d.b2VoronoiDiagram.b2VoronoiDiagramTask.prototype.m_x=0;box2d.b2VoronoiDiagram.b2VoronoiDiagramTask.prototype.m_y=0;box2d.b2VoronoiDiagram.b2VoronoiDiagramTask.prototype.m_i=0;box2d.b2VoronoiDiagram.b2VoronoiDiagramTask.prototype.m_generator=null;box2d.b2VoronoiDiagram.prototype.AddGenerator=function(x,V,o){box2d.b2Assert(this.m_generatorCount<this.m_generatorCapacity);var _o=this.m_generatorBuffer[this.m_generatorCount++];_o.center.Copy(x),_o.tag=V,_o.necessary=o};goog.exportProperty(box2d.b2VoronoiDiagram.prototype,"AddGenerator",box2d.b2VoronoiDiagram.prototype.AddGenerator);box2d.b2VoronoiDiagram.prototype.Generate=function(x,V){box2d.b2Assert(this.m_diagram===null);for(var o=1/x,_o=new box2d.b2Vec2(+box2d.b2_maxFloat,+box2d.b2_maxFloat),_r=new box2d.b2Vec2(-box2d.b2_maxFloat,-box2d.b2_maxFloat),l=0,e_=0;e_<this.m_generatorCount;e_++){var o_=this.m_generatorBuffer[e_];o_.necessary&&(box2d.b2Min_V2_V2(_o,o_.center,_o),box2d.b2Max_V2_V2(_r,o_.center,_r),++l)}if(l===0)this.m_countY=this.m_countX=0;else{for(_o.x-=V,_o.y-=V,_r.x+=V,_r.y+=V,this.m_countX=1+Math.floor(o*(_r.x-_o.x)),this.m_countY=1+Math.floor(o*(_r.y-_o.y)),this.m_diagram=box2d.b2MakeArray(this.m_countX*this.m_countY),_r=new box2d.b2StackQueue(4*this.m_countX*this.m_countY),e_=0;e_<this.m_generatorCount;e_++){o_=this.m_generatorBuffer[e_],o_.center.SelfSub(_o).SelfMul(o);var l=Math.floor(o_.center.x),i_=Math.floor(o_.center.y);0<=l&&0<=i_&&l<this.m_countX&&i_<this.m_countY&&_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_,l+i_*this.m_countX,o_))}for(;!_r.Empty();)e_=_r.Front(),l=e_.m_x,i_=e_.m_y,o=e_.m_i,o_=e_.m_generator,_r.Pop(),this.m_diagram[o]||(this.m_diagram[o]=o_,0<l&&_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l-1,i_,o-1,o_)),0<i_&&_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_-1,o-this.m_countX,o_)),l<this.m_countX-1&&_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l+1,i_,o+1,o_)),i_<this.m_countY-1&&_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_+1,o+this.m_countX,o_)));for(i_=0;i_<this.m_countY;i_++)for(l=0;l<this.m_countX-1;l++)o=l+i_*this.m_countX,_o=this.m_diagram[o],e_=this.m_diagram[o+1],_o!==e_&&(_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_,o,e_)),_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l+1,i_,o+1,_o)));for(i_=0;i_<this.m_countY-1;i_++)for(l=0;l<this.m_countX;l++)o=l+i_*this.m_countX,_o=this.m_diagram[o],e_=this.m_diagram[o+this.m_countX],_o!==e_&&(_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_,o,e_)),_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_+1,o+this.m_countX,_o)));for(;!_r.Empty();)if(e_=_r.Front(),l=e_.m_x,i_=e_.m_y,o=e_.m_i,e_=e_.m_generator,_r.Pop(),_o=this.m_diagram[o],_o!==e_){var o_=_o.center.x-l,_o=_o.center.y-i_,_e=e_.center.x-l,c_=e_.center.y-i_;o_*o_+_o*_o>_e*_e+c_*c_&&(this.m_diagram[o]=e_,0<l&&_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l-1,i_,o-1,e_)),0<i_&&_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_-1,o-this.m_countX,e_)),l<this.m_countX-1&&_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l+1,i_,o+1,e_)),i_<this.m_countY-1&&_r.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_+1,o+this.m_countX,e_)))}}};goog.exportProperty(box2d.b2VoronoiDiagram.prototype,"Generate",box2d.b2VoronoiDiagram.prototype.Generate);box2d.b2VoronoiDiagram.prototype.GetNodes=function(x){for(var V=0;V<this.m_countY-1;V++)for(var o=0;o<this.m_countX-1;o++){var e_=o+V*this.m_countX,_o=this.m_diagram[e_],_r=this.m_diagram[e_+1],l=this.m_diagram[e_+this.m_countX],e_=this.m_diagram[e_+1+this.m_countX];_r!==l&&(_o!==_r&&_o!==l&&(_o.necessary||_r.necessary||l.necessary)&&x(_o.tag,_r.tag,l.tag),e_!==_r&&e_!==l&&(_o.necessary||_r.necessary||l.necessary)&&x(_r.tag,e_.tag,l.tag))}};goog.exportProperty(box2d.b2VoronoiDiagram.prototype,"GetNodes",box2d.b2VoronoiDiagram.prototype.GetNodes);box2d.b2RopeDef=function(){this.vertices=[],this.masses=[],this.gravity=new box2d.b2Vec2};goog.exportSymbol("box2d.b2RopeDef",box2d.b2RopeDef);box2d.b2RopeDef.prototype.vertices=null;box2d.b2RopeDef.prototype.count=0;box2d.b2RopeDef.prototype.masses=null;box2d.b2RopeDef.prototype.gravity=null;box2d.b2RopeDef.prototype.damping=.1;box2d.b2RopeDef.prototype.k2=.9;box2d.b2RopeDef.prototype.k3=.1;box2d.b2Rope=function(){this.m_gravity=new box2d.b2Vec2};goog.exportSymbol("box2d.b2Rope",box2d.b2Rope);box2d.b2Rope.prototype.m_count=0;box2d.b2Rope.prototype.m_ps=null;box2d.b2Rope.prototype.m_p0s=null;box2d.b2Rope.prototype.m_vs=null;box2d.b2Rope.prototype.m_ims=null;box2d.b2Rope.prototype.m_Ls=null;box2d.b2Rope.prototype.m_as=null;box2d.b2Rope.prototype.m_gravity=null;box2d.b2Rope.prototype.m_damping=0;box2d.b2Rope.prototype.m_k2=1;box2d.b2Rope.prototype.m_k3=.1;box2d.b2Rope.prototype.GetVertexCount=function(){return this.m_count};goog.exportProperty(box2d.b2Rope.prototype,"GetVertexCount",box2d.b2Rope.prototype.GetVertexCount);box2d.b2Rope.prototype.GetVertices=function(){return this.m_ps};goog.exportProperty(box2d.b2Rope.prototype,"GetVertices",box2d.b2Rope.prototype.GetVertices);box2d.b2Rope.prototype.Initialize=function(x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=x.count),this.m_count=x.count,this.m_ps=box2d.b2Vec2.MakeArray(this.m_count),this.m_p0s=box2d.b2Vec2.MakeArray(this.m_count),this.m_vs=box2d.b2Vec2.MakeArray(this.m_count),this.m_ims=box2d.b2MakeNumberArray(this.m_count);for(var V=0;V<this.m_count;++V){this.m_ps[V].Copy(x.vertices[V]),this.m_p0s[V].Copy(x.vertices[V]),this.m_vs[V].SetZero();var _o=x.masses[V];this.m_ims[V]=0<_o?1/_o:0}var o=this.m_count-1,_o=this.m_count-2;for(this.m_Ls=box2d.b2MakeNumberArray(o),this.m_as=box2d.b2MakeNumberArray(_o),V=0;V<o;++V){var _r=this.m_ps[V],l=this.m_ps[V+1];this.m_Ls[V]=box2d.b2Distance(_r,l)}for(V=0;V<_o;++V)_r=this.m_ps[V],l=this.m_ps[V+1],o=this.m_ps[V+2],_r=box2d.b2Sub_V2_V2(l,_r,box2d.b2Vec2.s_t0),o=box2d.b2Sub_V2_V2(o,l,box2d.b2Vec2.s_t1),l=box2d.b2Cross_V2_V2(_r,o),_r=box2d.b2Dot_V2_V2(_r,o),this.m_as[V]=box2d.b2Atan2(l,_r);this.m_gravity.Copy(x.gravity),this.m_damping=x.damping,this.m_k2=x.k2,this.m_k3=x.k3};goog.exportProperty(box2d.b2Rope.prototype,"Initialize",box2d.b2Rope.prototype.Initialize);box2d.b2Rope.prototype.Step=function(x,V){if(x!==0){for(var o=Math.exp(-x*this.m_damping),_o=0;_o<this.m_count;++_o)this.m_p0s[_o].Copy(this.m_ps[_o]),0<this.m_ims[_o]&&this.m_vs[_o].SelfMulAdd(x,this.m_gravity),this.m_vs[_o].SelfMul(o),this.m_ps[_o].SelfMulAdd(x,this.m_vs[_o]);for(_o=0;_o<V;++_o)this.SolveC2(),this.SolveC3(),this.SolveC2();for(o=1/x,_o=0;_o<this.m_count;++_o)box2d.b2Mul_S_V2(o,box2d.b2Sub_V2_V2(this.m_ps[_o],this.m_p0s[_o],box2d.b2Vec2.s_t0),this.m_vs[_o])}};goog.exportProperty(box2d.b2Rope.prototype,"Step",box2d.b2Rope.prototype.Step);box2d.b2Rope.prototype.SolveC2=function(){for(var x=this.m_count-1,V=0;V<x;++V){var o=this.m_ps[V],_o=this.m_ps[V+1],_r=box2d.b2Sub_V2_V2(_o,o,box2d.b2Rope.s_d),l=_r.Normalize(),e_=this.m_ims[V],o_=this.m_ims[V+1];if(e_+o_!==0){var i_=o_/(e_+o_);o.SelfMulSub(e_/(e_+o_)*this.m_k2*(this.m_Ls[V]-l),_r),_o.SelfMulAdd(this.m_k2*i_*(this.m_Ls[V]-l),_r)}}};goog.exportProperty(box2d.b2Rope.prototype,"SolveC2",box2d.b2Rope.prototype.SolveC2);box2d.b2Rope.s_d=new box2d.b2Vec2;box2d.b2Rope.prototype.SetAngle=function(x){for(var V=this.m_count-2,o=0;o<V;++o)this.m_as[o]=x};goog.exportProperty(box2d.b2Rope.prototype,"SetAngle",box2d.b2Rope.prototype.SetAngle);box2d.b2Rope.prototype.SolveC3=function(){for(var x=this.m_count-2,V=0;V<x;++V){var o=this.m_ps[V],_o=this.m_ps[V+1],_r=this.m_ps[V+2],l=this.m_ims[V],e_=this.m_ims[V+1],o_=this.m_ims[V+2],i_=box2d.b2Sub_V2_V2(_o,o,box2d.b2Rope.s_d1),_e=box2d.b2Sub_V2_V2(_r,_o,box2d.b2Rope.s_d2),c_=i_.LengthSquared(),ws=_e.LengthSquared();if(c_*ws!==0){var s_=box2d.b2Cross_V2_V2(i_,_e),h_=box2d.b2Dot_V2_V2(i_,_e),s_=box2d.b2Atan2(s_,h_),i_=box2d.b2Mul_S_V2(-1/c_,i_.SelfSkew(),box2d.b2Rope.s_Jd1),c_=box2d.b2Mul_S_V2(1/ws,_e.SelfSkew(),box2d.b2Rope.s_Jd2),_e=box2d.b2Rope.s_J1.Copy(i_).SelfNeg(),ws=box2d.b2Sub_V2_V2(i_,c_,box2d.b2Rope.s_J2),i_=c_,c_=l*box2d.b2Dot_V2_V2(_e,_e)+e_*box2d.b2Dot_V2_V2(ws,ws)+o_*box2d.b2Dot_V2_V2(i_,i_);if(c_!==0){for(c_=1/c_,h_=s_-this.m_as[V];h_>box2d.b2_pi;)s_-=2*box2d.b2_pi,h_=s_-this.m_as[V];for(;h_<-box2d.b2_pi;)s_+=2*box2d.b2_pi,h_=s_-this.m_as[V];s_=-this.m_k3*c_*h_,o.SelfMulAdd(l*s_,_e),_o.SelfMulAdd(e_*s_,ws),_r.SelfMulAdd(o_*s_,i_)}}}};goog.exportProperty(box2d.b2Rope.prototype,"SolveC3",box2d.b2Rope.prototype.SolveC3);box2d.b2Rope.s_d1=new box2d.b2Vec2;box2d.b2Rope.s_d2=new box2d.b2Vec2;box2d.b2Rope.s_Jd1=new box2d.b2Vec2;box2d.b2Rope.s_Jd2=new box2d.b2Vec2;box2d.b2Rope.s_J1=new box2d.b2Vec2;box2d.b2Rope.s_J2=new box2d.b2Vec2;box2d.b2Rope.prototype.Draw=function(x){for(var V=new box2d.b2Color(.4,.5,.7),o=0;o<this.m_count-1;++o)x.DrawSegment(this.m_ps[o],this.m_ps[o+1],V)};goog.exportProperty(box2d.b2Rope.prototype,"Draw",box2d.b2Rope.prototype.Draw)});var X9=z0(U9=>{"use strict";var Z_={};(function(x,V){function o(){}!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function(_o,_r,l){l.get instanceof Function&&_o.__defineGetter__(_r,l.get),l.set instanceof Function&&_o.__defineSetter__(_r,l.set)}),x.inherit=function(_o,_r){o.prototype=_r.prototype,_o.prototype=new o,_o.prototype.constructor=_o},x.generateCallback=function(_o,_r){return function(){_r.apply(_o,arguments)}},x.NVector=function(_o){_o===V&&(_o=0);for(var _r=Array(_o||0),l=0;l<_o;++l)_r[l]=0;return _r},x.is=function(_o,_r){return _o===null?!1:!!(_r instanceof Function&&_o instanceof _r||_o.constructor.__implements!=V&&_o.constructor.__implements[_r])},x.parseUInt=function(_o){return Math.abs(parseInt(_o))}})(Z_);var yA=Array,WC=Z_.NVector;typeof Z_>"u"&&(Z_={});typeof Z_.Collision>"u"&&(Z_.Collision={});typeof Z_.Collision.Shapes>"u"&&(Z_.Collision.Shapes={});typeof Z_.Common>"u"&&(Z_.Common={});typeof Z_.Common.Math>"u"&&(Z_.Common.Math={});typeof Z_.Dynamics>"u"&&(Z_.Dynamics={});typeof Z_.Dynamics.Contacts>"u"&&(Z_.Dynamics.Contacts={});typeof Z_.Dynamics.Controllers>"u"&&(Z_.Dynamics.Controllers={});typeof Z_.Dynamics.Joints>"u"&&(Z_.Dynamics.Joints={});(function(){function x(){x.b2AABB.apply(this,arguments)}function V(){V.b2Bound.apply(this,arguments)}function o(){o.b2BoundValues.apply(this,arguments),this.constructor===o&&this.b2BoundValues.apply(this,arguments)}function _o(){_o.b2Collision.apply(this,arguments)}function _r(){_r.b2ContactID.apply(this,arguments),this.constructor===_r&&this.b2ContactID.apply(this,arguments)}function l(){l.b2ContactPoint.apply(this,arguments)}function e_(){e_.b2Distance.apply(this,arguments)}function o_(){o_.b2DistanceInput.apply(this,arguments)}function i_(){i_.b2DistanceOutput.apply(this,arguments)}function _e(){_e.b2DistanceProxy.apply(this,arguments)}function c_(){c_.b2DynamicTree.apply(this,arguments),this.constructor===c_&&this.b2DynamicTree.apply(this,arguments)}function ws(){ws.b2DynamicTreeBroadPhase.apply(this,arguments)}function h_(){h_.b2DynamicTreeNode.apply(this,arguments)}function s_(){s_.b2DynamicTreePair.apply(this,arguments)}function w_(){w_.b2Manifold.apply(this,arguments),this.constructor===w_&&this.b2Manifold.apply(this,arguments)}function L_(){L_.b2ManifoldPoint.apply(this,arguments),this.constructor===L_&&this.b2ManifoldPoint.apply(this,arguments)}function y_(){y_.b2Point.apply(this,arguments)}function I_(){I_.b2RayCastInput.apply(this,arguments),this.constructor===I_&&this.b2RayCastInput.apply(this,arguments)}function k_(){k_.b2RayCastOutput.apply(this,arguments)}function j_(){j_.b2Segment.apply(this,arguments)}function n2(){n2.b2SeparationFunction.apply(this,arguments)}function p2(){p2.b2Simplex.apply(this,arguments),this.constructor===p2&&this.b2Simplex.apply(this,arguments)}function u2(){u2.b2SimplexCache.apply(this,arguments)}function T2(){T2.b2SimplexVertex.apply(this,arguments)}function I2(){I2.b2TimeOfImpact.apply(this,arguments)}function q2(){q2.b2TOIInput.apply(this,arguments)}function O2(){O2.b2WorldManifold.apply(this,arguments),this.constructor===O2&&this.b2WorldManifold.apply(this,arguments)}function X2(){X2.ClipVertex.apply(this,arguments)}function S_(){S_.Features.apply(this,arguments)}function q_(){q_.b2CircleShape.apply(this,arguments),this.constructor===q_&&this.b2CircleShape.apply(this,arguments)}function N_(){N_.b2EdgeChainDef.apply(this,arguments),this.constructor===N_&&this.b2EdgeChainDef.apply(this,arguments)}function W_(){W_.b2EdgeShape.apply(this,arguments),this.constructor===W_&&this.b2EdgeShape.apply(this,arguments)}function o2(){o2.b2MassData.apply(this,arguments)}function m2(){m2.b2PolygonShape.apply(this,arguments),this.constructor===m2&&this.b2PolygonShape.apply(this,arguments)}function _2(){_2.b2Shape.apply(this,arguments),this.constructor===_2&&this.b2Shape.apply(this,arguments)}function v_(){v_.b2Color.apply(this,arguments),this.constructor===v_&&this.b2Color.apply(this,arguments)}function G_(){G_.b2Settings.apply(this,arguments)}function K_(){K_.b2Mat22.apply(this,arguments),this.constructor===K_&&this.b2Mat22.apply(this,arguments)}function C_(){C_.b2Mat33.apply(this,arguments),this.constructor===C_&&this.b2Mat33.apply(this,arguments)}function z_(){z_.b2Math.apply(this,arguments)}function X_(){X_.b2Sweep.apply(this,arguments)}function l2(){l2.b2Transform.apply(this,arguments),this.constructor===l2&&this.b2Transform.apply(this,arguments)}function D2(){D2.b2Vec2.apply(this,arguments),this.constructor===D2&&this.b2Vec2.apply(this,arguments)}function V2(){V2.b2Vec3.apply(this,arguments),this.constructor===V2&&this.b2Vec3.apply(this,arguments)}function L2(){L2.b2Body.apply(this,arguments),this.constructor===L2&&this.b2Body.apply(this,arguments)}function B2(){B2.b2BodyDef.apply(this,arguments),this.constructor===B2&&this.b2BodyDef.apply(this,arguments)}function J2(){J2.b2ContactFilter.apply(this,arguments)}function U2(){U2.b2ContactImpulse.apply(this,arguments)}function pa(){pa.b2ContactListener.apply(this,arguments)}function h0(){h0.b2ContactManager.apply(this,arguments),this.constructor===h0&&this.b2ContactManager.apply(this,arguments)}function i0(){i0.b2DebugDraw.apply(this,arguments),this.constructor===i0&&this.b2DebugDraw.apply(this,arguments)}function S0(){S0.b2DestructionListener.apply(this,arguments)}function k0(){k0.b2FilterData.apply(this,arguments)}function P0(){P0.b2Fixture.apply(this,arguments),this.constructor===P0&&this.b2Fixture.apply(this,arguments)}function L0(){L0.b2FixtureDef.apply(this,arguments),this.constructor===L0&&this.b2FixtureDef.apply(this,arguments)}function T0(){T0.b2Island.apply(this,arguments),this.constructor===T0&&this.b2Island.apply(this,arguments)}function Vy(){Vy.b2TimeStep.apply(this,arguments)}function wV(){wV.b2World.apply(this,arguments),this.constructor===wV&&this.b2World.apply(this,arguments)}function J4(){J4.b2CircleContact.apply(this,arguments)}function G2(){G2.b2Contact.apply(this,arguments),this.constructor===G2&&this.b2Contact.apply(this,arguments)}function lP(){lP.b2ContactConstraint.apply(this,arguments),this.constructor===lP&&this.b2ContactConstraint.apply(this,arguments)}function uC(){uC.b2ContactConstraintPoint.apply(this,arguments)}function VV(){VV.b2ContactEdge.apply(this,arguments)}function DV(){DV.b2ContactFactory.apply(this,arguments),this.constructor===DV&&this.b2ContactFactory.apply(this,arguments)}function I4(){I4.b2ContactRegister.apply(this,arguments)}function T4(){T4.b2ContactResult.apply(this,arguments)}function MV(){MV.b2ContactSolver.apply(this,arguments),this.constructor===MV&&this.b2ContactSolver.apply(this,arguments)}function R4(){R4.b2EdgeAndCircleContact.apply(this,arguments)}function WP(){WP.b2NullContact.apply(this,arguments),this.constructor===WP&&this.b2NullContact.apply(this,arguments)}function NP(){NP.b2PolyAndCircleContact.apply(this,arguments)}function F4(){F4.b2PolyAndEdgeContact.apply(this,arguments)}function L4(){L4.b2PolygonContact.apply(this,arguments)}function GV(){GV.b2PositionSolverManifold.apply(this,arguments),this.constructor===GV&&this.b2PositionSolverManifold.apply(this,arguments)}function q4(){q4.b2BuoyancyController.apply(this,arguments)}function a_(){a_.b2ConstantAccelController.apply(this,arguments)}function E4(){E4.b2ConstantForceController.apply(this,arguments)}function oA(){oA.b2Controller.apply(this,arguments)}function F1(){F1.b2ControllerEdge.apply(this,arguments)}function vS(){vS.b2GravityController.apply(this,arguments)}function K2(){K2.b2TensorDampingController.apply(this,arguments)}function o0(){o0.b2DistanceJoint.apply(this,arguments),this.constructor===o0&&this.b2DistanceJoint.apply(this,arguments)}function rS(){rS.b2DistanceJointDef.apply(this,arguments),this.constructor===rS&&this.b2DistanceJointDef.apply(this,arguments)}function iy(){iy.b2FrictionJoint.apply(this,arguments),this.constructor===iy&&this.b2FrictionJoint.apply(this,arguments)}function Y2(){Y2.b2FrictionJointDef.apply(this,arguments),this.constructor===Y2&&this.b2FrictionJointDef.apply(this,arguments)}function NC(){NC.b2GearJoint.apply(this,arguments),this.constructor===NC&&this.b2GearJoint.apply(this,arguments)}function JV(){JV.b2GearJointDef.apply(this,arguments),this.constructor===JV&&this.b2GearJointDef.apply(this,arguments)}function R0(){R0.b2Jacobian.apply(this,arguments)}function IV(){IV.b2Joint.apply(this,arguments),this.constructor===IV&&this.b2Joint.apply(this,arguments)}function OP(){OP.b2JointDef.apply(this,arguments),this.constructor===OP&&this.b2JointDef.apply(this,arguments)}function OC(){OC.b2JointEdge.apply(this,arguments)}function cP(){cP.b2LineJoint.apply(this,arguments),this.constructor===cP&&this.b2LineJoint.apply(this,arguments)}function HS(){HS.b2LineJointDef.apply(this,arguments),this.constructor===HS&&this.b2LineJointDef.apply(this,arguments)}function LB(){LB.b2MouseJoint.apply(this,arguments),this.constructor===LB&&this.b2MouseJoint.apply(this,arguments)}function TV(){TV.b2MouseJointDef.apply(this,arguments),this.constructor===TV&&this.b2MouseJointDef.apply(this,arguments)}function RV(){RV.b2PrismaticJoint.apply(this,arguments),this.constructor===RV&&this.b2PrismaticJoint.apply(this,arguments)}function FV(){FV.b2PrismaticJointDef.apply(this,arguments),this.constructor===FV&&this.b2PrismaticJointDef.apply(this,arguments)}function qB(){qB.b2PulleyJoint.apply(this,arguments),this.constructor===qB&&this.b2PulleyJoint.apply(this,arguments)}function AS(){AS.b2PulleyJointDef.apply(this,arguments),this.constructor===AS&&this.b2PulleyJointDef.apply(this,arguments)}function mP(){mP.b2RevoluteJoint.apply(this,arguments),this.constructor===mP&&this.b2RevoluteJoint.apply(this,arguments)}function UP(){UP.b2RevoluteJointDef.apply(this,arguments),this.constructor===UP&&this.b2RevoluteJointDef.apply(this,arguments)}function XP(){XP.b2WeldJoint.apply(this,arguments),this.constructor===XP&&this.b2WeldJoint.apply(this,arguments)}function bP(){bP.b2WeldJointDef.apply(this,arguments),this.constructor===bP&&this.b2WeldJointDef.apply(this,arguments)}Z_.Collision.IBroadPhase="Box2D.Collision.IBroadPhase",Z_.Collision.b2AABB=x,Z_.Collision.b2Bound=V,Z_.Collision.b2BoundValues=o,Z_.Collision.b2Collision=_o,Z_.Collision.b2ContactID=_r,Z_.Collision.b2ContactPoint=l,Z_.Collision.b2Distance=e_,Z_.Collision.b2DistanceInput=o_,Z_.Collision.b2DistanceOutput=i_,Z_.Collision.b2DistanceProxy=_e,Z_.Collision.b2DynamicTree=c_,Z_.Collision.b2DynamicTreeBroadPhase=ws,Z_.Collision.b2DynamicTreeNode=h_,Z_.Collision.b2DynamicTreePair=s_,Z_.Collision.b2Manifold=w_,Z_.Collision.b2ManifoldPoint=L_,Z_.Collision.b2Point=y_,Z_.Collision.b2RayCastInput=I_,Z_.Collision.b2RayCastOutput=k_,Z_.Collision.b2Segment=j_,Z_.Collision.b2SeparationFunction=n2,Z_.Collision.b2Simplex=p2,Z_.Collision.b2SimplexCache=u2,Z_.Collision.b2SimplexVertex=T2,Z_.Collision.b2TimeOfImpact=I2,Z_.Collision.b2TOIInput=q2,Z_.Collision.b2WorldManifold=O2,Z_.Collision.ClipVertex=X2,Z_.Collision.Features=S_,Z_.Collision.Shapes.b2CircleShape=q_,Z_.Collision.Shapes.b2EdgeChainDef=N_,Z_.Collision.Shapes.b2EdgeShape=W_,Z_.Collision.Shapes.b2MassData=o2,Z_.Collision.Shapes.b2PolygonShape=m2,Z_.Collision.Shapes.b2Shape=_2,Z_.Common.b2internal="Box2D.Common.b2internal",Z_.Common.b2Color=v_,Z_.Common.b2Settings=G_,Z_.Common.Math.b2Mat22=K_,Z_.Common.Math.b2Mat33=C_,Z_.Common.Math.b2Math=z_,Z_.Common.Math.b2Sweep=X_,Z_.Common.Math.b2Transform=l2,Z_.Common.Math.b2Vec2=D2,Z_.Common.Math.b2Vec3=V2,Z_.Dynamics.b2Body=L2,Z_.Dynamics.b2BodyDef=B2,Z_.Dynamics.b2ContactFilter=J2,Z_.Dynamics.b2ContactImpulse=U2,Z_.Dynamics.b2ContactListener=pa,Z_.Dynamics.b2ContactManager=h0,Z_.Dynamics.b2DebugDraw=i0,Z_.Dynamics.b2DestructionListener=S0,Z_.Dynamics.b2FilterData=k0,Z_.Dynamics.b2Fixture=P0,Z_.Dynamics.b2FixtureDef=L0,Z_.Dynamics.b2Island=T0,Z_.Dynamics.b2TimeStep=Vy,Z_.Dynamics.b2World=wV,Z_.Dynamics.Contacts.b2CircleContact=J4,Z_.Dynamics.Contacts.b2Contact=G2,Z_.Dynamics.Contacts.b2ContactConstraint=lP,Z_.Dynamics.Contacts.b2ContactConstraintPoint=uC,Z_.Dynamics.Contacts.b2ContactEdge=VV,Z_.Dynamics.Contacts.b2ContactFactory=DV,Z_.Dynamics.Contacts.b2ContactRegister=I4,Z_.Dynamics.Contacts.b2ContactResult=T4,Z_.Dynamics.Contacts.b2ContactSolver=MV,Z_.Dynamics.Contacts.b2EdgeAndCircleContact=R4,Z_.Dynamics.Contacts.b2NullContact=WP,Z_.Dynamics.Contacts.b2PolyAndCircleContact=NP,Z_.Dynamics.Contacts.b2PolyAndEdgeContact=F4,Z_.Dynamics.Contacts.b2PolygonContact=L4,Z_.Dynamics.Contacts.b2PositionSolverManifold=GV,Z_.Dynamics.Controllers.b2BuoyancyController=q4,Z_.Dynamics.Controllers.b2ConstantAccelController=a_,Z_.Dynamics.Controllers.b2ConstantForceController=E4,Z_.Dynamics.Controllers.b2Controller=oA,Z_.Dynamics.Controllers.b2ControllerEdge=F1,Z_.Dynamics.Controllers.b2GravityController=vS,Z_.Dynamics.Controllers.b2TensorDampingController=K2,Z_.Dynamics.Joints.b2DistanceJoint=o0,Z_.Dynamics.Joints.b2DistanceJointDef=rS,Z_.Dynamics.Joints.b2FrictionJoint=iy,Z_.Dynamics.Joints.b2FrictionJointDef=Y2,Z_.Dynamics.Joints.b2GearJoint=NC,Z_.Dynamics.Joints.b2GearJointDef=JV,Z_.Dynamics.Joints.b2Jacobian=R0,Z_.Dynamics.Joints.b2Joint=IV,Z_.Dynamics.Joints.b2JointDef=OP,Z_.Dynamics.Joints.b2JointEdge=OC,Z_.Dynamics.Joints.b2LineJoint=cP,Z_.Dynamics.Joints.b2LineJointDef=HS,Z_.Dynamics.Joints.b2MouseJoint=LB,Z_.Dynamics.Joints.b2MouseJointDef=TV,Z_.Dynamics.Joints.b2PrismaticJoint=RV,Z_.Dynamics.Joints.b2PrismaticJointDef=FV,Z_.Dynamics.Joints.b2PulleyJoint=qB,Z_.Dynamics.Joints.b2PulleyJointDef=AS,Z_.Dynamics.Joints.b2RevoluteJoint=mP,Z_.Dynamics.Joints.b2RevoluteJointDef=UP,Z_.Dynamics.Joints.b2WeldJoint=XP,Z_.Dynamics.Joints.b2WeldJointDef=bP})();Z_.postDefs=[];(function(){var x=Z_.Collision.Shapes.b2CircleShape,V=Z_.Collision.Shapes.b2PolygonShape,o=Z_.Collision.Shapes.b2Shape,_o=Z_.Common.b2Settings,_r=Z_.Common.Math.b2Math,l=Z_.Common.Math.b2Sweep,e_=Z_.Common.Math.b2Transform,o_=Z_.Common.Math.b2Vec2,i_=Z_.Collision.b2AABB,_e=Z_.Collision.b2Bound,c_=Z_.Collision.b2BoundValues,ws=Z_.Collision.b2Collision,h_=Z_.Collision.b2ContactID,s_=Z_.Collision.b2ContactPoint,w_=Z_.Collision.b2Distance,L_=Z_.Collision.b2DistanceInput,y_=Z_.Collision.b2DistanceOutput,I_=Z_.Collision.b2DistanceProxy,k_=Z_.Collision.b2DynamicTree,j_=Z_.Collision.b2DynamicTreeBroadPhase,n2=Z_.Collision.b2DynamicTreeNode,p2=Z_.Collision.b2DynamicTreePair,u2=Z_.Collision.b2Manifold,T2=Z_.Collision.b2ManifoldPoint,I2=Z_.Collision.b2Point,q2=Z_.Collision.b2RayCastInput,O2=Z_.Collision.b2RayCastOutput,X2=Z_.Collision.b2Segment,S_=Z_.Collision.b2SeparationFunction,q_=Z_.Collision.b2Simplex,N_=Z_.Collision.b2SimplexCache,W_=Z_.Collision.b2SimplexVertex,o2=Z_.Collision.b2TimeOfImpact,m2=Z_.Collision.b2TOIInput,_2=Z_.Collision.b2WorldManifold,v_=Z_.Collision.ClipVertex,G_=Z_.Collision.Features,K_=Z_.Collision.IBroadPhase;i_.b2AABB=function(){this.lowerBound=new o_,this.upperBound=new o_},i_.prototype.IsValid=function(){var C_=this.upperBound.y-this.lowerBound.y;return C_=(C_=this.upperBound.x-this.lowerBound.x>=0&&C_>=0)&&this.lowerBound.IsValid()&&this.upperBound.IsValid()},i_.prototype.GetCenter=function(){return new o_((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},i_.prototype.GetExtents=function(){return new o_((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},i_.prototype.Contains=function(C_){var z_=!0;return z_=(z_=(z_=(z_=z_&&this.lowerBound.x<=C_.lowerBound.x)&&this.lowerBound.y<=C_.lowerBound.y)&&C_.upperBound.x<=this.upperBound.x)&&C_.upperBound.y<=this.upperBound.y},i_.prototype.RayCast=function(C_,z_){var X_=-Number.MAX_VALUE,l2=Number.MAX_VALUE,D2=z_.p1.x,V2=z_.p1.y,L2=z_.p2.x-z_.p1.x,B2=z_.p2.y-z_.p1.y,J2=Math.abs(B2),U2=C_.normal,pa=0,h0=0,i0=pa=0;if(i0=0,Math.abs(L2)<Number.MIN_VALUE){if(D2<this.lowerBound.x||this.upperBound.x<D2)return!1}else if(pa=1/L2,h0=(this.lowerBound.x-D2)*pa,pa=(this.upperBound.x-D2)*pa,i0=-1,h0>pa&&(i0=h0,h0=pa,pa=i0,i0=1),h0>X_&&(U2.x=i0,U2.y=0,X_=h0),l2=Math.min(l2,pa),X_>l2)return!1;if(J2<Number.MIN_VALUE){if(V2<this.lowerBound.y||this.upperBound.y<V2)return!1}else if(pa=1/B2,h0=(this.lowerBound.y-V2)*pa,pa=(this.upperBound.y-V2)*pa,i0=-1,h0>pa&&(i0=h0,h0=pa,pa=i0,i0=1),h0>X_&&(U2.y=i0,U2.x=0,X_=h0),l2=Math.min(l2,pa),X_>l2)return!1;return C_.fraction=X_,!0},i_.prototype.TestOverlap=function(C_){var z_=C_.lowerBound.y-this.upperBound.y,X_=this.lowerBound.y-C_.upperBound.y;return!(C_.lowerBound.x-this.upperBound.x>0||z_>0||this.lowerBound.x-C_.upperBound.x>0||X_>0)},i_.Combine=function(C_,z_){var X_=new i_;return X_.Combine(C_,z_),X_},i_.prototype.Combine=function(C_,z_){this.lowerBound.x=Math.min(C_.lowerBound.x,z_.lowerBound.x),this.lowerBound.y=Math.min(C_.lowerBound.y,z_.lowerBound.y),this.upperBound.x=Math.max(C_.upperBound.x,z_.upperBound.x),this.upperBound.y=Math.max(C_.upperBound.y,z_.upperBound.y)},_e.b2Bound=function(){},_e.prototype.IsLower=function(){return(this.value&1)==0},_e.prototype.IsUpper=function(){return(this.value&1)==1},_e.prototype.Swap=function(C_){var z_=this.value,X_=this.proxy,l2=this.stabbingCount;this.value=C_.value,this.proxy=C_.proxy,this.stabbingCount=C_.stabbingCount,C_.value=z_,C_.proxy=X_,C_.stabbingCount=l2},c_.b2BoundValues=function(){},c_.prototype.b2BoundValues=function(){this.lowerValues=new WC,this.lowerValues[0]=0,this.lowerValues[1]=0,this.upperValues=new WC,this.upperValues[0]=0,this.upperValues[1]=0},ws.b2Collision=function(){},ws.ClipSegmentToLine=function(C_,z_,X_,l2){l2===void 0&&(l2=0);var D2,V2=0;D2=z_[0];var L2=D2.v;D2=z_[1];var B2=D2.v,J2=X_.x*L2.x+X_.y*L2.y-l2;return D2=X_.x*B2.x+X_.y*B2.y-l2,J2<=0&&C_[V2++].Set(z_[0]),D2<=0&&C_[V2++].Set(z_[1]),J2*D2<0&&(X_=J2/(J2-D2),D2=C_[V2],D2=D2.v,D2.x=L2.x+X_*(B2.x-L2.x),D2.y=L2.y+X_*(B2.y-L2.y),D2=C_[V2],D2.id=(J2>0?z_[0]:z_[1]).id,++V2),V2},ws.EdgeSeparation=function(C_,z_,X_,l2,D2){X_===void 0&&(X_=0),parseInt(C_.m_vertexCount);var V2=C_.m_vertices;C_=C_.m_normals;var L2=parseInt(l2.m_vertexCount),B2=l2.m_vertices,J2,U2;J2=z_.R,U2=C_[X_],C_=J2.col1.x*U2.x+J2.col2.x*U2.y,l2=J2.col1.y*U2.x+J2.col2.y*U2.y,J2=D2.R;var pa=J2.col1.x*C_+J2.col1.y*l2;J2=J2.col2.x*C_+J2.col2.y*l2;for(var h0=0,i0=Number.MAX_VALUE,S0=0;S0<L2;++S0)U2=B2[S0],U2=U2.x*pa+U2.y*J2,U2<i0&&(i0=U2,h0=S0);return U2=V2[X_],J2=z_.R,X_=z_.position.x+(J2.col1.x*U2.x+J2.col2.x*U2.y),z_=z_.position.y+(J2.col1.y*U2.x+J2.col2.y*U2.y),U2=B2[h0],J2=D2.R,V2=D2.position.x+(J2.col1.x*U2.x+J2.col2.x*U2.y),D2=D2.position.y+(J2.col1.y*U2.x+J2.col2.y*U2.y),V2-=X_,D2-=z_,V2*C_+D2*l2},ws.FindMaxSeparation=function(C_,z_,X_,l2,D2){var V2=parseInt(z_.m_vertexCount),L2=z_.m_normals,B2,J2;J2=D2.R,B2=l2.m_centroid;var U2=D2.position.x+(J2.col1.x*B2.x+J2.col2.x*B2.y),pa=D2.position.y+(J2.col1.y*B2.x+J2.col2.y*B2.y);J2=X_.R,B2=z_.m_centroid,U2-=X_.position.x+(J2.col1.x*B2.x+J2.col2.x*B2.y),pa-=X_.position.y+(J2.col1.y*B2.x+J2.col2.y*B2.y),J2=U2*X_.R.col1.x+pa*X_.R.col1.y,pa=U2*X_.R.col2.x+pa*X_.R.col2.y,U2=0;for(var h0=-Number.MAX_VALUE,i0=0;i0<V2;++i0)B2=L2[i0],B2=B2.x*J2+B2.y*pa,B2>h0&&(h0=B2,U2=i0);L2=ws.EdgeSeparation(z_,X_,U2,l2,D2),B2=parseInt(U2-1>=0?U2-1:V2-1),J2=ws.EdgeSeparation(z_,X_,B2,l2,D2),pa=parseInt(U2+1<V2?U2+1:0),h0=ws.EdgeSeparation(z_,X_,pa,l2,D2);var S0=i0=0,k0=0;if(J2>L2&&J2>h0)k0=-1,i0=B2,S0=J2;else if(h0>L2)k0=1,i0=pa,S0=h0;else return C_[0]=U2,L2;for(;U2=k0==-1?i0-1>=0?i0-1:V2-1:i0+1<V2?i0+1:0,L2=ws.EdgeSeparation(z_,X_,U2,l2,D2),L2>S0;)i0=U2,S0=L2;return C_[0]=i0,S0},ws.FindIncidentEdge=function(C_,z_,X_,l2,D2,V2){l2===void 0&&(l2=0),parseInt(z_.m_vertexCount);var L2=z_.m_normals,B2=parseInt(D2.m_vertexCount);z_=D2.m_vertices,D2=D2.m_normals;var J2;J2=X_.R,X_=L2[l2],L2=J2.col1.x*X_.x+J2.col2.x*X_.y;var U2=J2.col1.y*X_.x+J2.col2.y*X_.y;J2=V2.R,X_=J2.col1.x*L2+J2.col1.y*U2,U2=J2.col2.x*L2+J2.col2.y*U2,L2=X_,J2=0;for(var pa=Number.MAX_VALUE,h0=0;h0<B2;++h0)X_=D2[h0],X_=L2*X_.x+U2*X_.y,X_<pa&&(pa=X_,J2=h0);D2=parseInt(J2),L2=parseInt(D2+1<B2?D2+1:0),B2=C_[0],X_=z_[D2],J2=V2.R,B2.v.x=V2.position.x+(J2.col1.x*X_.x+J2.col2.x*X_.y),B2.v.y=V2.position.y+(J2.col1.y*X_.x+J2.col2.y*X_.y),B2.id.features.referenceEdge=l2,B2.id.features.incidentEdge=D2,B2.id.features.incidentVertex=0,B2=C_[1],X_=z_[L2],J2=V2.R,B2.v.x=V2.position.x+(J2.col1.x*X_.x+J2.col2.x*X_.y),B2.v.y=V2.position.y+(J2.col1.y*X_.x+J2.col2.y*X_.y),B2.id.features.referenceEdge=l2,B2.id.features.incidentEdge=L2,B2.id.features.incidentVertex=1},ws.MakeClipPointVector=function(){var C_=new yA(2);return C_[0]=new v_,C_[1]=new v_,C_},ws.CollidePolygons=function(C_,z_,X_,l2,D2){var V2;C_.m_pointCount=0;var L2=z_.m_radius+l2.m_radius;V2=0,ws.s_edgeAO[0]=V2;var B2=ws.FindMaxSeparation(ws.s_edgeAO,z_,X_,l2,D2);if(V2=ws.s_edgeAO[0],!(B2>L2)){var J2=0;ws.s_edgeBO[0]=J2;var U2=ws.FindMaxSeparation(ws.s_edgeBO,l2,D2,z_,X_);if(J2=ws.s_edgeBO[0],!(U2>L2)){var pa=0,h0=0;U2>.98*B2+.001?(B2=l2,l2=z_,z_=D2,X_=X_,pa=J2,C_.m_type=u2.e_faceB,h0=1):(B2=z_,l2=l2,z_=X_,X_=D2,pa=V2,C_.m_type=u2.e_faceA,h0=0),V2=ws.s_incidentEdge,ws.FindIncidentEdge(V2,B2,z_,pa,l2,X_),J2=parseInt(B2.m_vertexCount),D2=B2.m_vertices,B2=D2[pa];var i0;i0=pa+1<J2?D2[parseInt(pa+1)]:D2[0],pa=ws.s_localTangent,pa.Set(i0.x-B2.x,i0.y-B2.y),pa.Normalize(),D2=ws.s_localNormal,D2.x=pa.y,D2.y=-pa.x,l2=ws.s_planePoint,l2.Set(.5*(B2.x+i0.x),.5*(B2.y+i0.y)),U2=ws.s_tangent,J2=z_.R,U2.x=J2.col1.x*pa.x+J2.col2.x*pa.y,U2.y=J2.col1.y*pa.x+J2.col2.y*pa.y;var S0=ws.s_tangent2;S0.x=-U2.x,S0.y=-U2.y,pa=ws.s_normal,pa.x=U2.y,pa.y=-U2.x;var k0=ws.s_v11,P0=ws.s_v12;if(k0.x=z_.position.x+(J2.col1.x*B2.x+J2.col2.x*B2.y),k0.y=z_.position.y+(J2.col1.y*B2.x+J2.col2.y*B2.y),P0.x=z_.position.x+(J2.col1.x*i0.x+J2.col2.x*i0.y),P0.y=z_.position.y+(J2.col1.y*i0.x+J2.col2.y*i0.y),z_=pa.x*k0.x+pa.y*k0.y,J2=U2.x*P0.x+U2.y*P0.y+L2,i0=ws.s_clipPoints1,B2=ws.s_clipPoints2,P0=0,P0=ws.ClipSegmentToLine(i0,V2,S0,-U2.x*k0.x-U2.y*k0.y+L2),!(P0<2)&&(P0=ws.ClipSegmentToLine(B2,i0,U2,J2),!(P0<2))){for(C_.m_localPlaneNormal.SetV(D2),C_.m_localPoint.SetV(l2),l2=D2=0;l2<_o.b2_maxManifoldPoints;++l2)V2=B2[l2],pa.x*V2.v.x+pa.y*V2.v.y-z_<=L2&&(U2=C_.m_points[D2],J2=X_.R,S0=V2.v.x-X_.position.x,k0=V2.v.y-X_.position.y,U2.m_localPoint.x=S0*J2.col1.x+k0*J2.col1.y,U2.m_localPoint.y=S0*J2.col2.x+k0*J2.col2.y,U2.m_id.Set(V2.id),U2.m_id.features.flip=h0,++D2);C_.m_pointCount=D2}}}},ws.CollideCircles=function(C_,z_,X_,l2,D2){C_.m_pointCount=0;var V2,L2;V2=X_.R,L2=z_.m_p;var B2=X_.position.x+(V2.col1.x*L2.x+V2.col2.x*L2.y);X_=X_.position.y+(V2.col1.y*L2.x+V2.col2.y*L2.y),V2=D2.R,L2=l2.m_p,B2=D2.position.x+(V2.col1.x*L2.x+V2.col2.x*L2.y)-B2,D2=D2.position.y+(V2.col1.y*L2.x+V2.col2.y*L2.y)-X_,V2=z_.m_radius+l2.m_radius,B2*B2+D2*D2>V2*V2||(C_.m_type=u2.e_circles,C_.m_localPoint.SetV(z_.m_p),C_.m_localPlaneNormal.SetZero(),C_.m_pointCount=1,C_.m_points[0].m_localPoint.SetV(l2.m_p),C_.m_points[0].m_id.key=0)},ws.CollidePolygonAndCircle=function(C_,z_,X_,l2,D2){var V2=C_.m_pointCount=0,L2=0,B2,J2;J2=D2.R,B2=l2.m_p;var U2=D2.position.y+(J2.col1.y*B2.x+J2.col2.y*B2.y);V2=D2.position.x+(J2.col1.x*B2.x+J2.col2.x*B2.y)-X_.position.x,L2=U2-X_.position.y,J2=X_.R,X_=V2*J2.col1.x+L2*J2.col1.y,J2=V2*J2.col2.x+L2*J2.col2.y;var pa=0;U2=-Number.MAX_VALUE,D2=z_.m_radius+l2.m_radius;var h0=parseInt(z_.m_vertexCount),i0=z_.m_vertices;z_=z_.m_normals;for(var S0=0;S0<h0;++S0){if(B2=i0[S0],V2=X_-B2.x,L2=J2-B2.y,B2=z_[S0],V2=B2.x*V2+B2.y*L2,V2>D2)return;V2>U2&&(U2=V2,pa=S0)}if(V2=parseInt(pa),L2=parseInt(V2+1<h0?V2+1:0),B2=i0[V2],i0=i0[L2],U2<Number.MIN_VALUE)C_.m_pointCount=1,C_.m_type=u2.e_faceA,C_.m_localPlaneNormal.SetV(z_[pa]),C_.m_localPoint.x=.5*(B2.x+i0.x),C_.m_localPoint.y=.5*(B2.y+i0.y);else if(U2=(X_-i0.x)*(B2.x-i0.x)+(J2-i0.y)*(B2.y-i0.y),(X_-B2.x)*(i0.x-B2.x)+(J2-B2.y)*(i0.y-B2.y)<=0){if((X_-B2.x)*(X_-B2.x)+(J2-B2.y)*(J2-B2.y)>D2*D2)return;C_.m_pointCount=1,C_.m_type=u2.e_faceA,C_.m_localPlaneNormal.x=X_-B2.x,C_.m_localPlaneNormal.y=J2-B2.y,C_.m_localPlaneNormal.Normalize(),C_.m_localPoint.SetV(B2)}else if(U2<=0){if((X_-i0.x)*(X_-i0.x)+(J2-i0.y)*(J2-i0.y)>D2*D2)return;C_.m_pointCount=1,C_.m_type=u2.e_faceA,C_.m_localPlaneNormal.x=X_-i0.x,C_.m_localPlaneNormal.y=J2-i0.y,C_.m_localPlaneNormal.Normalize(),C_.m_localPoint.SetV(i0)}else{if(pa=.5*(B2.x+i0.x),B2=.5*(B2.y+i0.y),U2=(X_-pa)*z_[V2].x+(J2-B2)*z_[V2].y,U2>D2)return;C_.m_pointCount=1,C_.m_type=u2.e_faceA,C_.m_localPlaneNormal.x=z_[V2].x,C_.m_localPlaneNormal.y=z_[V2].y,C_.m_localPlaneNormal.Normalize(),C_.m_localPoint.Set(pa,B2)}C_.m_points[0].m_localPoint.SetV(l2.m_p),C_.m_points[0].m_id.key=0},ws.TestOverlap=function(C_,z_){var X_=z_.lowerBound,l2=C_.upperBound,D2=X_.x-l2.x,V2=X_.y-l2.y;X_=C_.lowerBound,l2=z_.upperBound;var L2=X_.y-l2.y;return!(D2>0||V2>0||X_.x-l2.x>0||L2>0)},Z_.postDefs.push(function(){Z_.Collision.b2Collision.s_incidentEdge=ws.MakeClipPointVector(),Z_.Collision.b2Collision.s_clipPoints1=ws.MakeClipPointVector(),Z_.Collision.b2Collision.s_clipPoints2=ws.MakeClipPointVector(),Z_.Collision.b2Collision.s_edgeAO=new WC(1),Z_.Collision.b2Collision.s_edgeBO=new WC(1),Z_.Collision.b2Collision.s_localTangent=new o_,Z_.Collision.b2Collision.s_localNormal=new o_,Z_.Collision.b2Collision.s_planePoint=new o_,Z_.Collision.b2Collision.s_normal=new o_,Z_.Collision.b2Collision.s_tangent=new o_,Z_.Collision.b2Collision.s_tangent2=new o_,Z_.Collision.b2Collision.s_v11=new o_,Z_.Collision.b2Collision.s_v12=new o_,Z_.Collision.b2Collision.b2CollidePolyTempVec=new o_,Z_.Collision.b2Collision.b2_nullFeature=255}),h_.b2ContactID=function(){this.features=new G_},h_.prototype.b2ContactID=function(){this.features._m_id=this},h_.prototype.Set=function(C_){this.key=C_._key},h_.prototype.Copy=function(){var C_=new h_;return C_.key=this.key,C_},Object.defineProperty(h_.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this._key}}),Object.defineProperty(h_.prototype,"key",{enumerable:!1,configurable:!0,set:function(C_){C_===void 0&&(C_=0),this._key=C_,this.features._referenceEdge=this._key&255,this.features._incidentEdge=(this._key&65280)>>8&255,this.features._incidentVertex=(this._key&16711680)>>16&255,this.features._flip=(this._key&4278190080)>>24&255}}),s_.b2ContactPoint=function(){this.position=new o_,this.velocity=new o_,this.normal=new o_,this.id=new h_},w_.b2Distance=function(){},w_.Distance=function(C_,z_,X_){++w_.b2_gjkCalls;var l2=X_.proxyA,D2=X_.proxyB,V2=X_.transformA,L2=X_.transformB,B2=w_.s_simplex;B2.ReadCache(z_,l2,V2,D2,L2);var J2=B2.m_vertices,U2=w_.s_saveA,pa=w_.s_saveB,h0=0;B2.GetClosestPoint().LengthSquared();for(var i0=0,S0,k0=0;k0<20;){for(h0=B2.m_count,i0=0;i0<h0;i0++)U2[i0]=J2[i0].indexA,pa[i0]=J2[i0].indexB;switch(B2.m_count){case 1:break;case 2:B2.Solve2();break;case 3:B2.Solve3();break;default:_o.b2Assert(!1)}if(B2.m_count==3||(S0=B2.GetClosestPoint(),S0.LengthSquared(),i0=B2.GetSearchDirection(),i0.LengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE))break;S0=J2[B2.m_count],S0.indexA=l2.GetSupport(_r.MulTMV(V2.R,i0.GetNegative())),S0.wA=_r.MulX(V2,l2.GetVertex(S0.indexA)),S0.indexB=D2.GetSupport(_r.MulTMV(L2.R,i0)),S0.wB=_r.MulX(L2,D2.GetVertex(S0.indexB)),S0.w=_r.SubtractVV(S0.wB,S0.wA),++k0,++w_.b2_gjkIters;var P0=!1;for(i0=0;i0<h0;i0++)if(S0.indexA==U2[i0]&&S0.indexB==pa[i0]){P0=!0;break}if(P0)break;++B2.m_count}w_.b2_gjkMaxIters=_r.Max(w_.b2_gjkMaxIters,k0),B2.GetWitnessPoints(C_.pointA,C_.pointB),C_.distance=_r.SubtractVV(C_.pointA,C_.pointB).Length(),C_.iterations=k0,B2.WriteCache(z_),X_.useRadii&&(z_=l2.m_radius,D2=D2.m_radius,C_.distance>z_+D2&&C_.distance>Number.MIN_VALUE?(C_.distance-=z_+D2,X_=_r.SubtractVV(C_.pointB,C_.pointA),X_.Normalize(),C_.pointA.x+=z_*X_.x,C_.pointA.y+=z_*X_.y,C_.pointB.x-=D2*X_.x,C_.pointB.y-=D2*X_.y):(S0=new o_,S0.x=.5*(C_.pointA.x+C_.pointB.x),S0.y=.5*(C_.pointA.y+C_.pointB.y),C_.pointA.x=C_.pointB.x=S0.x,C_.pointA.y=C_.pointB.y=S0.y,C_.distance=0))},Z_.postDefs.push(function(){Z_.Collision.b2Distance.s_simplex=new q_,Z_.Collision.b2Distance.s_saveA=new WC(3),Z_.Collision.b2Distance.s_saveB=new WC(3)}),L_.b2DistanceInput=function(){},y_.b2DistanceOutput=function(){this.pointA=new o_,this.pointB=new o_},I_.b2DistanceProxy=function(){},I_.prototype.Set=function(C_){switch(C_.GetType()){case o.e_circleShape:C_=C_ instanceof x?C_:null,this.m_vertices=new yA(1,!0),this.m_vertices[0]=C_.m_p,this.m_count=1,this.m_radius=C_.m_radius;break;case o.e_polygonShape:C_=C_ instanceof V?C_:null,this.m_vertices=C_.m_vertices,this.m_count=C_.m_vertexCount,this.m_radius=C_.m_radius;break;default:_o.b2Assert(!1)}},I_.prototype.GetSupport=function(C_){for(var z_=0,X_=this.m_vertices[0].x*C_.x+this.m_vertices[0].y*C_.y,l2=1;l2<this.m_count;++l2){var D2=this.m_vertices[l2].x*C_.x+this.m_vertices[l2].y*C_.y;D2>X_&&(z_=l2,X_=D2)}return z_},I_.prototype.GetSupportVertex=function(C_){for(var z_=0,X_=this.m_vertices[0].x*C_.x+this.m_vertices[0].y*C_.y,l2=1;l2<this.m_count;++l2){var D2=this.m_vertices[l2].x*C_.x+this.m_vertices[l2].y*C_.y;D2>X_&&(z_=l2,X_=D2)}return this.m_vertices[z_]},I_.prototype.GetVertexCount=function(){return this.m_count},I_.prototype.GetVertex=function(C_){return C_===void 0&&(C_=0),_o.b2Assert(0<=C_&&C_<this.m_count),this.m_vertices[C_]},k_.b2DynamicTree=function(){},k_.prototype.b2DynamicTree=function(){this.m_freeList=this.m_root=null,this.m_insertionCount=this.m_path=0},k_.prototype.CreateProxy=function(C_,z_){var X_=this.AllocateNode(),l2=_o.b2_aabbExtension,D2=_o.b2_aabbExtension;return X_.aabb.lowerBound.x=C_.lowerBound.x-l2,X_.aabb.lowerBound.y=C_.lowerBound.y-D2,X_.aabb.upperBound.x=C_.upperBound.x+l2,X_.aabb.upperBound.y=C_.upperBound.y+D2,X_.userData=z_,this.InsertLeaf(X_),X_},k_.prototype.DestroyProxy=function(C_){this.RemoveLeaf(C_),this.FreeNode(C_)},k_.prototype.MoveProxy=function(C_,z_,X_){if(_o.b2Assert(C_.IsLeaf()),C_.aabb.Contains(z_))return!1;this.RemoveLeaf(C_);var l2=_o.b2_aabbExtension+_o.b2_aabbMultiplier*(X_.x>0?X_.x:-X_.x);return X_=_o.b2_aabbExtension+_o.b2_aabbMultiplier*(X_.y>0?X_.y:-X_.y),C_.aabb.lowerBound.x=z_.lowerBound.x-l2,C_.aabb.lowerBound.y=z_.lowerBound.y-X_,C_.aabb.upperBound.x=z_.upperBound.x+l2,C_.aabb.upperBound.y=z_.upperBound.y+X_,this.InsertLeaf(C_),!0},k_.prototype.Rebalance=function(C_){if(C_===void 0&&(C_=0),this.m_root!=null)for(var z_=0;z_<C_;z_++){for(var X_=this.m_root,l2=0;X_.IsLeaf()==!1;)X_=this.m_path>>l2&1?X_.child2:X_.child1,l2=l2+1&31;++this.m_path,this.RemoveLeaf(X_),this.InsertLeaf(X_)}},k_.prototype.GetFatAABB=function(C_){return C_.aabb},k_.prototype.GetUserData=function(C_){return C_.userData},k_.prototype.Query=function(C_,z_){if(this.m_root!=null){var X_=new yA,l2=0;for(X_[l2++]=this.m_root;l2>0;){var D2=X_[--l2];if(D2.aabb.TestOverlap(z_))if(D2.IsLeaf()){if(!C_(D2))break}else X_[l2++]=D2.child1,X_[l2++]=D2.child2}}},k_.prototype.RayCast=function(C_,z_){if(this.m_root!=null){var X_=z_.p1,l2=z_.p2,D2=_r.SubtractVV(X_,l2);D2.Normalize(),D2=_r.CrossFV(1,D2);var V2=_r.AbsV(D2),L2=z_.maxFraction,B2=new i_,J2=0,U2=0;J2=X_.x+L2*(l2.x-X_.x),U2=X_.y+L2*(l2.y-X_.y),B2.lowerBound.x=Math.min(X_.x,J2),B2.lowerBound.y=Math.min(X_.y,U2),B2.upperBound.x=Math.max(X_.x,J2),B2.upperBound.y=Math.max(X_.y,U2);var pa=new yA,h0=0;for(pa[h0++]=this.m_root;h0>0;)if(L2=pa[--h0],L2.aabb.TestOverlap(B2)!=!1&&(J2=L2.aabb.GetCenter(),U2=L2.aabb.GetExtents(),!(Math.abs(D2.x*(X_.x-J2.x)+D2.y*(X_.y-J2.y))-V2.x*U2.x-V2.y*U2.y>0)))if(L2.IsLeaf()){if(J2=new q2,J2.p1=z_.p1,J2.p2=z_.p2,J2.maxFraction=z_.maxFraction,L2=C_(J2,L2),L2==0)break;L2>0&&(J2=X_.x+L2*(l2.x-X_.x),U2=X_.y+L2*(l2.y-X_.y),B2.lowerBound.x=Math.min(X_.x,J2),B2.lowerBound.y=Math.min(X_.y,U2),B2.upperBound.x=Math.max(X_.x,J2),B2.upperBound.y=Math.max(X_.y,U2))}else pa[h0++]=L2.child1,pa[h0++]=L2.child2}},k_.prototype.AllocateNode=function(){if(this.m_freeList){var C_=this.m_freeList;return this.m_freeList=C_.parent,C_.parent=null,C_.child1=null,C_.child2=null,C_}return new n2},k_.prototype.FreeNode=function(C_){C_.parent=this.m_freeList,this.m_freeList=C_},k_.prototype.InsertLeaf=function(C_){if(++this.m_insertionCount,this.m_root==null)this.m_root=C_,this.m_root.parent=null;else{var z_=C_.aabb.GetCenter(),X_=this.m_root;if(X_.IsLeaf()==!1)do{var l2=X_.child1;X_=X_.child2,X_=Math.abs((l2.aabb.lowerBound.x+l2.aabb.upperBound.x)/2-z_.x)+Math.abs((l2.aabb.lowerBound.y+l2.aabb.upperBound.y)/2-z_.y)<Math.abs((X_.aabb.lowerBound.x+X_.aabb.upperBound.x)/2-z_.x)+Math.abs((X_.aabb.lowerBound.y+X_.aabb.upperBound.y)/2-z_.y)?l2:X_}while(X_.IsLeaf()==!1);if(z_=X_.parent,l2=this.AllocateNode(),l2.parent=z_,l2.userData=null,l2.aabb.Combine(C_.aabb,X_.aabb),z_){X_.parent.child1==X_?z_.child1=l2:z_.child2=l2,l2.child1=X_,l2.child2=C_,X_.parent=l2,C_.parent=l2;do{if(z_.aabb.Contains(l2.aabb))break;z_.aabb.Combine(z_.child1.aabb,z_.child2.aabb),l2=z_,z_=z_.parent}while(z_)}else l2.child1=X_,l2.child2=C_,X_.parent=l2,this.m_root=C_.parent=l2}},k_.prototype.RemoveLeaf=function(C_){if(C_==this.m_root)this.m_root=null;else{var z_=C_.parent,X_=z_.parent;if(C_=z_.child1==C_?z_.child2:z_.child1,X_)for(X_.child1==z_?X_.child1=C_:X_.child2=C_,C_.parent=X_,this.FreeNode(z_);X_&&(z_=X_.aabb,X_.aabb=i_.Combine(X_.child1.aabb,X_.child2.aabb),!z_.Contains(X_.aabb));)X_=X_.parent;else this.m_root=C_,C_.parent=null,this.FreeNode(z_)}},j_.b2DynamicTreeBroadPhase=function(){this.m_tree=new k_,this.m_moveBuffer=new yA,this.m_pairBuffer=new yA,this.m_pairCount=0},j_.prototype.CreateProxy=function(C_,z_){var X_=this.m_tree.CreateProxy(C_,z_);return++this.m_proxyCount,this.BufferMove(X_),X_},j_.prototype.DestroyProxy=function(C_){this.UnBufferMove(C_),--this.m_proxyCount,this.m_tree.DestroyProxy(C_)},j_.prototype.MoveProxy=function(C_,z_,X_){this.m_tree.MoveProxy(C_,z_,X_)&&this.BufferMove(C_)},j_.prototype.TestOverlap=function(C_,z_){var X_=this.m_tree.GetFatAABB(C_),l2=this.m_tree.GetFatAABB(z_);return X_.TestOverlap(l2)},j_.prototype.GetUserData=function(C_){return this.m_tree.GetUserData(C_)},j_.prototype.GetFatAABB=function(C_){return this.m_tree.GetFatAABB(C_)},j_.prototype.GetProxyCount=function(){return this.m_proxyCount},j_.prototype.UpdatePairs=function(C_){var z_=this,X_=z_.m_pairCount=0,l2;for(X_=0;X_<z_.m_moveBuffer.length;++X_){l2=z_.m_moveBuffer[X_];var D2=z_.m_tree.GetFatAABB(l2);z_.m_tree.Query(function(B2){if(B2==l2)return!0;z_.m_pairCount==z_.m_pairBuffer.length&&(z_.m_pairBuffer[z_.m_pairCount]=new p2);var J2=z_.m_pairBuffer[z_.m_pairCount];return J2.proxyA=B2<l2?B2:l2,J2.proxyB=B2>=l2?B2:l2,++z_.m_pairCount,!0},D2)}for(X_=z_.m_moveBuffer.length=0;X_<z_.m_pairCount;){D2=z_.m_pairBuffer[X_];var V2=z_.m_tree.GetUserData(D2.proxyA),L2=z_.m_tree.GetUserData(D2.proxyB);for(C_(V2,L2),++X_;X_<z_.m_pairCount&&(V2=z_.m_pairBuffer[X_],!(V2.proxyA!=D2.proxyA||V2.proxyB!=D2.proxyB));)++X_}},j_.prototype.Query=function(C_,z_){this.m_tree.Query(C_,z_)},j_.prototype.RayCast=function(C_,z_){this.m_tree.RayCast(C_,z_)},j_.prototype.Validate=function(){},j_.prototype.Rebalance=function(C_){C_===void 0&&(C_=0),this.m_tree.Rebalance(C_)},j_.prototype.BufferMove=function(C_){this.m_moveBuffer[this.m_moveBuffer.length]=C_},j_.prototype.UnBufferMove=function(C_){this.m_moveBuffer.splice(parseInt(this.m_moveBuffer.indexOf(C_)),1)},j_.prototype.ComparePairs=function(){return 0},j_.__implements={},j_.__implements[K_]=!0,n2.b2DynamicTreeNode=function(){this.aabb=new i_},n2.prototype.IsLeaf=function(){return this.child1==null},p2.b2DynamicTreePair=function(){},u2.b2Manifold=function(){this.m_pointCount=0},u2.prototype.b2Manifold=function(){this.m_points=new yA(_o.b2_maxManifoldPoints);for(var C_=0;C_<_o.b2_maxManifoldPoints;C_++)this.m_points[C_]=new T2;this.m_localPlaneNormal=new o_,this.m_localPoint=new o_},u2.prototype.Reset=function(){for(var C_=0;C_<_o.b2_maxManifoldPoints;C_++)(this.m_points[C_]instanceof T2?this.m_points[C_]:null).Reset();this.m_localPlaneNormal.SetZero(),this.m_localPoint.SetZero(),this.m_pointCount=this.m_type=0},u2.prototype.Set=function(C_){this.m_pointCount=C_.m_pointCount;for(var z_=0;z_<_o.b2_maxManifoldPoints;z_++)(this.m_points[z_]instanceof T2?this.m_points[z_]:null).Set(C_.m_points[z_]);this.m_localPlaneNormal.SetV(C_.m_localPlaneNormal),this.m_localPoint.SetV(C_.m_localPoint),this.m_type=C_.m_type},u2.prototype.Copy=function(){var C_=new u2;return C_.Set(this),C_},Z_.postDefs.push(function(){Z_.Collision.b2Manifold.e_circles=1,Z_.Collision.b2Manifold.e_faceA=2,Z_.Collision.b2Manifold.e_faceB=4}),T2.b2ManifoldPoint=function(){this.m_localPoint=new o_,this.m_id=new h_},T2.prototype.b2ManifoldPoint=function(){this.Reset()},T2.prototype.Reset=function(){this.m_localPoint.SetZero(),this.m_tangentImpulse=this.m_normalImpulse=0,this.m_id.key=0},T2.prototype.Set=function(C_){this.m_localPoint.SetV(C_.m_localPoint),this.m_normalImpulse=C_.m_normalImpulse,this.m_tangentImpulse=C_.m_tangentImpulse,this.m_id.Set(C_.m_id)},I2.b2Point=function(){this.p=new o_},I2.prototype.Support=function(){return this.p},I2.prototype.GetFirstVertex=function(){return this.p},q2.b2RayCastInput=function(){this.p1=new o_,this.p2=new o_},q2.prototype.b2RayCastInput=function(C_,z_,X_){C_===void 0&&(C_=null),z_===void 0&&(z_=null),X_===void 0&&(X_=1),C_&&this.p1.SetV(C_),z_&&this.p2.SetV(z_),this.maxFraction=X_},O2.b2RayCastOutput=function(){this.normal=new o_},X2.b2Segment=function(){this.p1=new o_,this.p2=new o_},X2.prototype.TestSegment=function(C_,z_,X_,l2){l2===void 0&&(l2=0);var D2=X_.p1,V2=X_.p2.x-D2.x,L2=X_.p2.y-D2.y;X_=this.p2.y-this.p1.y;var B2=-(this.p2.x-this.p1.x),J2=100*Number.MIN_VALUE,U2=-(V2*X_+L2*B2);if(U2>J2){var pa=D2.x-this.p1.x,h0=D2.y-this.p1.y;if(D2=pa*X_+h0*B2,0<=D2&&D2<=l2*U2&&(l2=-V2*h0+L2*pa,-J2*U2<=l2&&l2<=U2*(1+J2)))return D2/=U2,l2=Math.sqrt(X_*X_+B2*B2),X_/=l2,B2/=l2,C_[0]=D2,z_.Set(X_,B2),!0}return!1},X2.prototype.Extend=function(C_){this.ExtendForward(C_),this.ExtendBackward(C_)},X2.prototype.ExtendForward=function(C_){var z_=this.p2.x-this.p1.x,X_=this.p2.y-this.p1.y;C_=Math.min(z_>0?(C_.upperBound.x-this.p1.x)/z_:z_<0?(C_.lowerBound.x-this.p1.x)/z_:Number.POSITIVE_INFINITY,X_>0?(C_.upperBound.y-this.p1.y)/X_:X_<0?(C_.lowerBound.y-this.p1.y)/X_:Number.POSITIVE_INFINITY),this.p2.x=this.p1.x+z_*C_,this.p2.y=this.p1.y+X_*C_},X2.prototype.ExtendBackward=function(C_){var z_=-this.p2.x+this.p1.x,X_=-this.p2.y+this.p1.y;C_=Math.min(z_>0?(C_.upperBound.x-this.p2.x)/z_:z_<0?(C_.lowerBound.x-this.p2.x)/z_:Number.POSITIVE_INFINITY,X_>0?(C_.upperBound.y-this.p2.y)/X_:X_<0?(C_.lowerBound.y-this.p2.y)/X_:Number.POSITIVE_INFINITY),this.p1.x=this.p2.x+z_*C_,this.p1.y=this.p2.y+X_*C_},S_.b2SeparationFunction=function(){this.m_localPoint=new o_,this.m_axis=new o_},S_.prototype.Initialize=function(C_,z_,X_,l2,D2){this.m_proxyA=z_,this.m_proxyB=l2;var V2=parseInt(C_.count);_o.b2Assert(0<V2&&V2<3);var L2,B2,J2,U2,pa=U2=J2=l2=z_=0,h0=0;pa=0,V2==1?(this.m_type=S_.e_points,L2=this.m_proxyA.GetVertex(C_.indexA[0]),B2=this.m_proxyB.GetVertex(C_.indexB[0]),V2=L2,C_=X_.R,z_=X_.position.x+(C_.col1.x*V2.x+C_.col2.x*V2.y),l2=X_.position.y+(C_.col1.y*V2.x+C_.col2.y*V2.y),V2=B2,C_=D2.R,J2=D2.position.x+(C_.col1.x*V2.x+C_.col2.x*V2.y),U2=D2.position.y+(C_.col1.y*V2.x+C_.col2.y*V2.y),this.m_axis.x=J2-z_,this.m_axis.y=U2-l2,this.m_axis.Normalize()):(C_.indexB[0]==C_.indexB[1]?(this.m_type=S_.e_faceA,z_=this.m_proxyA.GetVertex(C_.indexA[0]),l2=this.m_proxyA.GetVertex(C_.indexA[1]),B2=this.m_proxyB.GetVertex(C_.indexB[0]),this.m_localPoint.x=.5*(z_.x+l2.x),this.m_localPoint.y=.5*(z_.y+l2.y),this.m_axis=_r.CrossVF(_r.SubtractVV(l2,z_),1),this.m_axis.Normalize(),V2=this.m_axis,C_=X_.R,pa=C_.col1.x*V2.x+C_.col2.x*V2.y,h0=C_.col1.y*V2.x+C_.col2.y*V2.y,V2=this.m_localPoint,C_=X_.R,z_=X_.position.x+(C_.col1.x*V2.x+C_.col2.x*V2.y),l2=X_.position.y+(C_.col1.y*V2.x+C_.col2.y*V2.y),V2=B2,C_=D2.R,J2=D2.position.x+(C_.col1.x*V2.x+C_.col2.x*V2.y),U2=D2.position.y+(C_.col1.y*V2.x+C_.col2.y*V2.y),pa=(J2-z_)*pa+(U2-l2)*h0):C_.indexA[0]==C_.indexA[0]?(this.m_type=S_.e_faceB,J2=this.m_proxyB.GetVertex(C_.indexB[0]),U2=this.m_proxyB.GetVertex(C_.indexB[1]),L2=this.m_proxyA.GetVertex(C_.indexA[0]),this.m_localPoint.x=.5*(J2.x+U2.x),this.m_localPoint.y=.5*(J2.y+U2.y),this.m_axis=_r.CrossVF(_r.SubtractVV(U2,J2),1),this.m_axis.Normalize(),V2=this.m_axis,C_=D2.R,pa=C_.col1.x*V2.x+C_.col2.x*V2.y,h0=C_.col1.y*V2.x+C_.col2.y*V2.y,V2=this.m_localPoint,C_=D2.R,J2=D2.position.x+(C_.col1.x*V2.x+C_.col2.x*V2.y),U2=D2.position.y+(C_.col1.y*V2.x+C_.col2.y*V2.y),V2=L2,C_=X_.R,z_=X_.position.x+(C_.col1.x*V2.x+C_.col2.x*V2.y),l2=X_.position.y+(C_.col1.y*V2.x+C_.col2.y*V2.y),pa=(z_-J2)*pa+(l2-U2)*h0):(z_=this.m_proxyA.GetVertex(C_.indexA[0]),l2=this.m_proxyA.GetVertex(C_.indexA[1]),J2=this.m_proxyB.GetVertex(C_.indexB[0]),U2=this.m_proxyB.GetVertex(C_.indexB[1]),_r.MulX(X_,L2),L2=_r.MulMV(X_.R,_r.SubtractVV(l2,z_)),_r.MulX(D2,B2),pa=_r.MulMV(D2.R,_r.SubtractVV(U2,J2)),D2=L2.x*L2.x+L2.y*L2.y,B2=pa.x*pa.x+pa.y*pa.y,C_=_r.SubtractVV(pa,L2),X_=L2.x*C_.x+L2.y*C_.y,C_=pa.x*C_.x+pa.y*C_.y,L2=L2.x*pa.x+L2.y*pa.y,h0=D2*B2-L2*L2,pa=0,h0!=0&&(pa=_r.Clamp((L2*C_-X_*B2)/h0,0,1)),(L2*pa+C_)/B2<0&&(pa=_r.Clamp((L2-X_)/D2,0,1)),L2=new o_,L2.x=z_.x+pa*(l2.x-z_.x),L2.y=z_.y+pa*(l2.y-z_.y),B2=new o_,B2.x=J2.x+pa*(U2.x-J2.x),B2.y=J2.y+pa*(U2.y-J2.y),pa==0||pa==1?(this.m_type=S_.e_faceB,this.m_axis=_r.CrossVF(_r.SubtractVV(U2,J2),1),this.m_axis.Normalize(),this.m_localPoint=B2):(this.m_type=S_.e_faceA,this.m_axis=_r.CrossVF(_r.SubtractVV(l2,z_),1),this.m_localPoint=L2)),pa<0&&this.m_axis.NegativeSelf())},S_.prototype.Evaluate=function(C_,z_){var X_,l2,D2=0;switch(this.m_type){case S_.e_points:return X_=_r.MulTMV(C_.R,this.m_axis),l2=_r.MulTMV(z_.R,this.m_axis.GetNegative()),X_=this.m_proxyA.GetSupportVertex(X_),l2=this.m_proxyB.GetSupportVertex(l2),X_=_r.MulX(C_,X_),l2=_r.MulX(z_,l2),D2=(l2.x-X_.x)*this.m_axis.x+(l2.y-X_.y)*this.m_axis.y;case S_.e_faceA:return D2=_r.MulMV(C_.R,this.m_axis),X_=_r.MulX(C_,this.m_localPoint),l2=_r.MulTMV(z_.R,D2.GetNegative()),l2=this.m_proxyB.GetSupportVertex(l2),l2=_r.MulX(z_,l2),D2=(l2.x-X_.x)*D2.x+(l2.y-X_.y)*D2.y;case S_.e_faceB:return D2=_r.MulMV(z_.R,this.m_axis),l2=_r.MulX(z_,this.m_localPoint),X_=_r.MulTMV(C_.R,D2.GetNegative()),X_=this.m_proxyA.GetSupportVertex(X_),X_=_r.MulX(C_,X_),D2=(X_.x-l2.x)*D2.x+(X_.y-l2.y)*D2.y;default:return _o.b2Assert(!1),0}},Z_.postDefs.push(function(){Z_.Collision.b2SeparationFunction.e_points=1,Z_.Collision.b2SeparationFunction.e_faceA=2,Z_.Collision.b2SeparationFunction.e_faceB=4}),q_.b2Simplex=function(){this.m_v1=new W_,this.m_v2=new W_,this.m_v3=new W_,this.m_vertices=new yA(3)},q_.prototype.b2Simplex=function(){this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3},q_.prototype.ReadCache=function(C_,z_,X_,l2,D2){_o.b2Assert(0<=C_.count&&C_.count<=3);var V2,L2;this.m_count=C_.count;for(var B2=this.m_vertices,J2=0;J2<this.m_count;J2++){var U2=B2[J2];U2.indexA=C_.indexA[J2],U2.indexB=C_.indexB[J2],V2=z_.GetVertex(U2.indexA),L2=l2.GetVertex(U2.indexB),U2.wA=_r.MulX(X_,V2),U2.wB=_r.MulX(D2,L2),U2.w=_r.SubtractVV(U2.wB,U2.wA),U2.a=0}this.m_count>1&&(C_=C_.metric,V2=this.GetMetric(),(V2<.5*C_||2*C_<V2||V2<Number.MIN_VALUE)&&(this.m_count=0)),this.m_count==0&&(U2=B2[0],U2.indexA=0,U2.indexB=0,V2=z_.GetVertex(0),L2=l2.GetVertex(0),U2.wA=_r.MulX(X_,V2),U2.wB=_r.MulX(D2,L2),U2.w=_r.SubtractVV(U2.wB,U2.wA),this.m_count=1)},q_.prototype.WriteCache=function(C_){C_.metric=this.GetMetric(),C_.count=Z_.parseUInt(this.m_count);for(var z_=this.m_vertices,X_=0;X_<this.m_count;X_++)C_.indexA[X_]=Z_.parseUInt(z_[X_].indexA),C_.indexB[X_]=Z_.parseUInt(z_[X_].indexB)},q_.prototype.GetSearchDirection=function(){switch(this.m_count){case 1:return this.m_v1.w.GetNegative();case 2:var C_=_r.SubtractVV(this.m_v2.w,this.m_v1.w);return _r.CrossVV(C_,this.m_v1.w.GetNegative())>0?_r.CrossFV(1,C_):_r.CrossVF(C_,1);default:return _o.b2Assert(!1),new o_}},q_.prototype.GetClosestPoint=function(){switch(this.m_count){case 0:return _o.b2Assert(!1),new o_;case 1:return this.m_v1.w;case 2:return new o_(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return _o.b2Assert(!1),new o_}},q_.prototype.GetWitnessPoints=function(C_,z_){switch(this.m_count){case 0:_o.b2Assert(!1);break;case 1:C_.SetV(this.m_v1.wA),z_.SetV(this.m_v1.wB);break;case 2:C_.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,C_.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,z_.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,z_.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:z_.x=C_.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,z_.y=C_.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:_o.b2Assert(!1)}},q_.prototype.GetMetric=function(){switch(this.m_count){case 0:return _o.b2Assert(!1),0;case 1:return 0;case 2:return _r.SubtractVV(this.m_v1.w,this.m_v2.w).Length();case 3:return _r.CrossVV(_r.SubtractVV(this.m_v2.w,this.m_v1.w),_r.SubtractVV(this.m_v3.w,this.m_v1.w));default:return _o.b2Assert(!1),0}},q_.prototype.Solve2=function(){var C_=this.m_v1.w,z_=this.m_v2.w,X_=_r.SubtractVV(z_,C_);C_=-(C_.x*X_.x+C_.y*X_.y),C_<=0?this.m_count=this.m_v1.a=1:(z_=z_.x*X_.x+z_.y*X_.y,z_<=0?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):(X_=1/(z_+C_),this.m_v1.a=z_*X_,this.m_v2.a=C_*X_,this.m_count=2))},q_.prototype.Solve3=function(){var C_=this.m_v1.w,z_=this.m_v2.w,X_=this.m_v3.w,l2=_r.SubtractVV(z_,C_),D2=_r.Dot(C_,l2),V2=_r.Dot(z_,l2);D2=-D2;var L2=_r.SubtractVV(X_,C_),B2=_r.Dot(C_,L2),J2=_r.Dot(X_,L2);B2=-B2;var U2=_r.SubtractVV(X_,z_),pa=_r.Dot(z_,U2);U2=_r.Dot(X_,U2),pa=-pa,L2=_r.CrossVV(l2,L2),l2=L2*_r.CrossVV(z_,X_),X_=L2*_r.CrossVV(X_,C_),C_=L2*_r.CrossVV(C_,z_),D2<=0&&B2<=0?this.m_count=this.m_v1.a=1:V2>0&&D2>0&&C_<=0?(J2=1/(V2+D2),this.m_v1.a=V2*J2,this.m_v2.a=D2*J2,this.m_count=2):J2>0&&B2>0&&X_<=0?(V2=1/(J2+B2),this.m_v1.a=J2*V2,this.m_v3.a=B2*V2,this.m_count=2,this.m_v2.Set(this.m_v3)):V2<=0&&pa<=0?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):J2<=0&&U2<=0?(this.m_count=this.m_v3.a=1,this.m_v1.Set(this.m_v3)):U2>0&&pa>0&&l2<=0?(V2=1/(U2+pa),this.m_v2.a=U2*V2,this.m_v3.a=pa*V2,this.m_count=2,this.m_v1.Set(this.m_v3)):(V2=1/(l2+X_+C_),this.m_v1.a=l2*V2,this.m_v2.a=X_*V2,this.m_v3.a=C_*V2,this.m_count=3)},N_.b2SimplexCache=function(){this.indexA=new WC(3),this.indexB=new WC(3)},W_.b2SimplexVertex=function(){},W_.prototype.Set=function(C_){this.wA.SetV(C_.wA),this.wB.SetV(C_.wB),this.w.SetV(C_.w),this.a=C_.a,this.indexA=C_.indexA,this.indexB=C_.indexB},o2.b2TimeOfImpact=function(){},o2.TimeOfImpact=function(C_){++o2.b2_toiCalls;var z_=C_.proxyA,X_=C_.proxyB,l2=C_.sweepA,D2=C_.sweepB;_o.b2Assert(l2.t0==D2.t0),_o.b2Assert(1-l2.t0>Number.MIN_VALUE);var V2=z_.m_radius+X_.m_radius;C_=C_.tolerance;var L2=0,B2=0,J2=0;for(o2.s_cache.count=0,o2.s_distanceInput.useRadii=!1;;){if(l2.GetTransform(o2.s_xfA,L2),D2.GetTransform(o2.s_xfB,L2),o2.s_distanceInput.proxyA=z_,o2.s_distanceInput.proxyB=X_,o2.s_distanceInput.transformA=o2.s_xfA,o2.s_distanceInput.transformB=o2.s_xfB,w_.Distance(o2.s_distanceOutput,o2.s_cache,o2.s_distanceInput),o2.s_distanceOutput.distance<=0){L2=1;break}o2.s_fcn.Initialize(o2.s_cache,z_,o2.s_xfA,X_,o2.s_xfB);var U2=o2.s_fcn.Evaluate(o2.s_xfA,o2.s_xfB);if(U2<=0){L2=1;break}if(B2==0&&(J2=U2>V2?_r.Max(V2-C_,.75*V2):_r.Max(U2-C_,.02*V2)),U2-J2<.5*C_){if(B2==0){L2=1;break}break}var pa=L2,h0=L2,i0=1;U2=U2,l2.GetTransform(o2.s_xfA,i0),D2.GetTransform(o2.s_xfB,i0);var S0=o2.s_fcn.Evaluate(o2.s_xfA,o2.s_xfB);if(S0>=J2){L2=1;break}for(var k0=0;;){var P0=0;P0=k0&1?h0+(J2-U2)*(i0-h0)/(S0-U2):.5*(h0+i0),l2.GetTransform(o2.s_xfA,P0),D2.GetTransform(o2.s_xfB,P0);var L0=o2.s_fcn.Evaluate(o2.s_xfA,o2.s_xfB);if(_r.Abs(L0-J2)<.025*C_){pa=P0;break}if(L0>J2?(h0=P0,U2=L0):(i0=P0,S0=L0),++k0,++o2.b2_toiRootIters,k0==50)break}if(o2.b2_toiMaxRootIters=_r.Max(o2.b2_toiMaxRootIters,k0),pa<(1+100*Number.MIN_VALUE)*L2||(L2=pa,B2++,++o2.b2_toiIters,B2==1e3))break}return o2.b2_toiMaxIters=_r.Max(o2.b2_toiMaxIters,B2),L2},Z_.postDefs.push(function(){Z_.Collision.b2TimeOfImpact.b2_toiCalls=0,Z_.Collision.b2TimeOfImpact.b2_toiIters=0,Z_.Collision.b2TimeOfImpact.b2_toiMaxIters=0,Z_.Collision.b2TimeOfImpact.b2_toiRootIters=0,Z_.Collision.b2TimeOfImpact.b2_toiMaxRootIters=0,Z_.Collision.b2TimeOfImpact.s_cache=new N_,Z_.Collision.b2TimeOfImpact.s_distanceInput=new L_,Z_.Collision.b2TimeOfImpact.s_xfA=new e_,Z_.Collision.b2TimeOfImpact.s_xfB=new e_,Z_.Collision.b2TimeOfImpact.s_fcn=new S_,Z_.Collision.b2TimeOfImpact.s_distanceOutput=new y_}),m2.b2TOIInput=function(){this.proxyA=new I_,this.proxyB=new I_,this.sweepA=new l,this.sweepB=new l},_2.b2WorldManifold=function(){this.m_normal=new o_},_2.prototype.b2WorldManifold=function(){this.m_points=new yA(_o.b2_maxManifoldPoints);for(var C_=0;C_<_o.b2_maxManifoldPoints;C_++)this.m_points[C_]=new o_},_2.prototype.Initialize=function(C_,z_,X_,l2,D2){if(X_===void 0&&(X_=0),D2===void 0&&(D2=0),C_.m_pointCount!=0){var V2=0,L2,B2,J2=0,U2=0,pa=0,h0=0,i0=0;switch(L2=0,C_.m_type){case u2.e_circles:B2=z_.R,L2=C_.m_localPoint,V2=z_.position.x+B2.col1.x*L2.x+B2.col2.x*L2.y,z_=z_.position.y+B2.col1.y*L2.x+B2.col2.y*L2.y,B2=l2.R,L2=C_.m_points[0].m_localPoint,C_=l2.position.x+B2.col1.x*L2.x+B2.col2.x*L2.y,l2=l2.position.y+B2.col1.y*L2.x+B2.col2.y*L2.y,L2=C_-V2,B2=l2-z_,J2=L2*L2+B2*B2,J2>Number.MIN_VALUE*Number.MIN_VALUE?(J2=Math.sqrt(J2),this.m_normal.x=L2/J2,this.m_normal.y=B2/J2):(this.m_normal.x=1,this.m_normal.y=0),L2=z_+X_*this.m_normal.y,l2=l2-D2*this.m_normal.y,this.m_points[0].x=.5*(V2+X_*this.m_normal.x+(C_-D2*this.m_normal.x)),this.m_points[0].y=.5*(L2+l2);break;case u2.e_faceA:for(B2=z_.R,L2=C_.m_localPlaneNormal,J2=B2.col1.x*L2.x+B2.col2.x*L2.y,U2=B2.col1.y*L2.x+B2.col2.y*L2.y,B2=z_.R,L2=C_.m_localPoint,pa=z_.position.x+B2.col1.x*L2.x+B2.col2.x*L2.y,h0=z_.position.y+B2.col1.y*L2.x+B2.col2.y*L2.y,this.m_normal.x=J2,this.m_normal.y=U2,V2=0;V2<C_.m_pointCount;V2++)B2=l2.R,L2=C_.m_points[V2].m_localPoint,i0=l2.position.x+B2.col1.x*L2.x+B2.col2.x*L2.y,L2=l2.position.y+B2.col1.y*L2.x+B2.col2.y*L2.y,this.m_points[V2].x=i0+.5*(X_-(i0-pa)*J2-(L2-h0)*U2-D2)*J2,this.m_points[V2].y=L2+.5*(X_-(i0-pa)*J2-(L2-h0)*U2-D2)*U2;break;case u2.e_faceB:for(B2=l2.R,L2=C_.m_localPlaneNormal,J2=B2.col1.x*L2.x+B2.col2.x*L2.y,U2=B2.col1.y*L2.x+B2.col2.y*L2.y,B2=l2.R,L2=C_.m_localPoint,pa=l2.position.x+B2.col1.x*L2.x+B2.col2.x*L2.y,h0=l2.position.y+B2.col1.y*L2.x+B2.col2.y*L2.y,this.m_normal.x=-J2,this.m_normal.y=-U2,V2=0;V2<C_.m_pointCount;V2++)B2=z_.R,L2=C_.m_points[V2].m_localPoint,i0=z_.position.x+B2.col1.x*L2.x+B2.col2.x*L2.y,L2=z_.position.y+B2.col1.y*L2.x+B2.col2.y*L2.y,this.m_points[V2].x=i0+.5*(D2-(i0-pa)*J2-(L2-h0)*U2-X_)*J2,this.m_points[V2].y=L2+.5*(D2-(i0-pa)*J2-(L2-h0)*U2-X_)*U2}}},v_.ClipVertex=function(){this.v=new o_,this.id=new h_},v_.prototype.Set=function(C_){this.v.SetV(C_.v),this.id.Set(C_.id)},G_.Features=function(){},Object.defineProperty(G_.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this._referenceEdge}}),Object.defineProperty(G_.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(C_){C_===void 0&&(C_=0),this._referenceEdge=C_,this._m_id._key=this._m_id._key&4294967040|this._referenceEdge&255}}),Object.defineProperty(G_.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this._incidentEdge}}),Object.defineProperty(G_.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function(C_){C_===void 0&&(C_=0),this._incidentEdge=C_,this._m_id._key=this._m_id._key&4294902015|this._incidentEdge<<8&65280}}),Object.defineProperty(G_.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this._incidentVertex}}),Object.defineProperty(G_.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(C_){C_===void 0&&(C_=0),this._incidentVertex=C_,this._m_id._key=this._m_id._key&4278255615|this._incidentVertex<<16&16711680}}),Object.defineProperty(G_.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this._flip}}),Object.defineProperty(G_.prototype,"flip",{enumerable:!1,configurable:!0,set:function(C_){C_===void 0&&(C_=0),this._flip=C_,this._m_id._key=this._m_id._key&16777215|this._flip<<24&4278190080}})})();(function(){var x=Z_.Common.b2Settings,V=Z_.Collision.Shapes.b2CircleShape,o=Z_.Collision.Shapes.b2EdgeChainDef,_o=Z_.Collision.Shapes.b2EdgeShape,_r=Z_.Collision.Shapes.b2MassData,l=Z_.Collision.Shapes.b2PolygonShape,e_=Z_.Collision.Shapes.b2Shape,o_=Z_.Common.Math.b2Mat22,i_=Z_.Common.Math.b2Math,_e=Z_.Common.Math.b2Transform,c_=Z_.Common.Math.b2Vec2,ws=Z_.Collision.b2Distance,h_=Z_.Collision.b2DistanceInput,s_=Z_.Collision.b2DistanceOutput,w_=Z_.Collision.b2DistanceProxy,L_=Z_.Collision.b2SimplexCache;Z_.inherit(V,Z_.Collision.Shapes.b2Shape),V.prototype.__super=Z_.Collision.Shapes.b2Shape.prototype,V.b2CircleShape=function(){Z_.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments),this.m_p=new c_},V.prototype.Copy=function(){var y_=new V;return y_.Set(this),y_},V.prototype.Set=function(y_){this.__super.Set.call(this,y_),Z_.is(y_,V)&&this.m_p.SetV((y_ instanceof V?y_:null).m_p)},V.prototype.TestPoint=function(y_,I_){var k_=y_.R,j_=y_.position.x+(k_.col1.x*this.m_p.x+k_.col2.x*this.m_p.y);return k_=y_.position.y+(k_.col1.y*this.m_p.x+k_.col2.y*this.m_p.y),j_=I_.x-j_,k_=I_.y-k_,j_*j_+k_*k_<=this.m_radius*this.m_radius},V.prototype.RayCast=function(y_,I_,k_){var j_=k_.R,n2=I_.p1.x-(k_.position.x+(j_.col1.x*this.m_p.x+j_.col2.x*this.m_p.y));k_=I_.p1.y-(k_.position.y+(j_.col1.y*this.m_p.x+j_.col2.y*this.m_p.y)),j_=I_.p2.x-I_.p1.x;var p2=I_.p2.y-I_.p1.y,u2=n2*j_+k_*p2,T2=j_*j_+p2*p2,I2=u2*u2-T2*(n2*n2+k_*k_-this.m_radius*this.m_radius);return I2<0||T2<Number.MIN_VALUE?!1:(u2=-(u2+Math.sqrt(I2)),0<=u2&&u2<=I_.maxFraction*T2?(u2/=T2,y_.fraction=u2,y_.normal.x=n2+u2*j_,y_.normal.y=k_+u2*p2,y_.normal.Normalize(),!0):!1)},V.prototype.ComputeAABB=function(y_,I_){var k_=I_.R,j_=I_.position.x+(k_.col1.x*this.m_p.x+k_.col2.x*this.m_p.y);k_=I_.position.y+(k_.col1.y*this.m_p.x+k_.col2.y*this.m_p.y),y_.lowerBound.Set(j_-this.m_radius,k_-this.m_radius),y_.upperBound.Set(j_+this.m_radius,k_+this.m_radius)},V.prototype.ComputeMass=function(y_,I_){I_===void 0&&(I_=0),y_.mass=I_*x.b2_pi*this.m_radius*this.m_radius,y_.center.SetV(this.m_p),y_.I=y_.mass*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))},V.prototype.ComputeSubmergedArea=function(y_,I_,k_,j_){I_===void 0&&(I_=0),k_=i_.MulX(k_,this.m_p);var n2=-(i_.Dot(y_,k_)-I_);if(n2<-this.m_radius+Number.MIN_VALUE)return 0;if(n2>this.m_radius)return j_.SetV(k_),Math.PI*this.m_radius*this.m_radius;I_=this.m_radius*this.m_radius;var p2=n2*n2;return n2=I_*(Math.asin(n2/this.m_radius)+Math.PI/2)+n2*Math.sqrt(I_-p2),I_=-2/3*Math.pow(I_-p2,1.5)/n2,j_.x=k_.x+y_.x*I_,j_.y=k_.y+y_.y*I_,n2},V.prototype.GetLocalPosition=function(){return this.m_p},V.prototype.SetLocalPosition=function(y_){this.m_p.SetV(y_)},V.prototype.GetRadius=function(){return this.m_radius},V.prototype.SetRadius=function(y_){y_===void 0&&(y_=0),this.m_radius=y_},V.prototype.b2CircleShape=function(y_){y_===void 0&&(y_=0),this.__super.b2Shape.call(this),this.m_type=e_.e_circleShape,this.m_radius=y_},o.b2EdgeChainDef=function(){},o.prototype.b2EdgeChainDef=function(){this.vertexCount=0,this.isALoop=!0,this.vertices=[]},Z_.inherit(_o,Z_.Collision.Shapes.b2Shape),_o.prototype.__super=Z_.Collision.Shapes.b2Shape.prototype,_o.b2EdgeShape=function(){Z_.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments),this.s_supportVec=new c_,this.m_v1=new c_,this.m_v2=new c_,this.m_coreV1=new c_,this.m_coreV2=new c_,this.m_normal=new c_,this.m_direction=new c_,this.m_cornerDir1=new c_,this.m_cornerDir2=new c_},_o.prototype.TestPoint=function(){return!1},_o.prototype.RayCast=function(y_,I_,k_){var j_,n2=I_.p2.x-I_.p1.x,p2=I_.p2.y-I_.p1.y;j_=k_.R;var u2=k_.position.x+(j_.col1.x*this.m_v1.x+j_.col2.x*this.m_v1.y),T2=k_.position.y+(j_.col1.y*this.m_v1.x+j_.col2.y*this.m_v1.y),I2=k_.position.y+(j_.col1.y*this.m_v2.x+j_.col2.y*this.m_v2.y)-T2;k_=-(k_.position.x+(j_.col1.x*this.m_v2.x+j_.col2.x*this.m_v2.y)-u2),j_=100*Number.MIN_VALUE;var q2=-(n2*I2+p2*k_);if(q2>j_){u2=I_.p1.x-u2;var O2=I_.p1.y-T2;if(T2=u2*I2+O2*k_,0<=T2&&T2<=I_.maxFraction*q2&&(I_=-n2*O2+p2*u2,-j_*q2<=I_&&I_<=q2*(1+j_)))return T2/=q2,y_.fraction=T2,I_=Math.sqrt(I2*I2+k_*k_),y_.normal.x=I2/I_,y_.normal.y=k_/I_,!0}return!1},_o.prototype.ComputeAABB=function(y_,I_){var k_=I_.R,j_=I_.position.x+(k_.col1.x*this.m_v1.x+k_.col2.x*this.m_v1.y),n2=I_.position.y+(k_.col1.y*this.m_v1.x+k_.col2.y*this.m_v1.y),p2=I_.position.x+(k_.col1.x*this.m_v2.x+k_.col2.x*this.m_v2.y);k_=I_.position.y+(k_.col1.y*this.m_v2.x+k_.col2.y*this.m_v2.y),j_<p2?(y_.lowerBound.x=j_,y_.upperBound.x=p2):(y_.lowerBound.x=p2,y_.upperBound.x=j_),n2<k_?(y_.lowerBound.y=n2,y_.upperBound.y=k_):(y_.lowerBound.y=k_,y_.upperBound.y=n2)},_o.prototype.ComputeMass=function(y_){y_.mass=0,y_.center.SetV(this.m_v1),y_.I=0},_o.prototype.ComputeSubmergedArea=function(y_,I_,k_,j_){I_===void 0&&(I_=0);var n2=new c_(y_.x*I_,y_.y*I_),p2=i_.MulX(k_,this.m_v1);k_=i_.MulX(k_,this.m_v2);var u2=i_.Dot(y_,p2)-I_;if(y_=i_.Dot(y_,k_)-I_,u2>0){if(y_>0)return 0;p2.x=-y_/(u2-y_)*p2.x+u2/(u2-y_)*k_.x,p2.y=-y_/(u2-y_)*p2.y+u2/(u2-y_)*k_.y}else y_>0&&(k_.x=-y_/(u2-y_)*p2.x+u2/(u2-y_)*k_.x,k_.y=-y_/(u2-y_)*p2.y+u2/(u2-y_)*k_.y);return j_.x=(n2.x+p2.x+k_.x)/3,j_.y=(n2.y+p2.y+k_.y)/3,.5*((p2.x-n2.x)*(k_.y-n2.y)-(p2.y-n2.y)*(k_.x-n2.x))},_o.prototype.GetLength=function(){return this.m_length},_o.prototype.GetVertex1=function(){return this.m_v1},_o.prototype.GetVertex2=function(){return this.m_v2},_o.prototype.GetCoreVertex1=function(){return this.m_coreV1},_o.prototype.GetCoreVertex2=function(){return this.m_coreV2},_o.prototype.GetNormalVector=function(){return this.m_normal},_o.prototype.GetDirectionVector=function(){return this.m_direction},_o.prototype.GetCorner1Vector=function(){return this.m_cornerDir1},_o.prototype.GetCorner2Vector=function(){return this.m_cornerDir2},_o.prototype.Corner1IsConvex=function(){return this.m_cornerConvex1},_o.prototype.Corner2IsConvex=function(){return this.m_cornerConvex2},_o.prototype.GetFirstVertex=function(y_){var I_=y_.R;return new c_(y_.position.x+(I_.col1.x*this.m_coreV1.x+I_.col2.x*this.m_coreV1.y),y_.position.y+(I_.col1.y*this.m_coreV1.x+I_.col2.y*this.m_coreV1.y))},_o.prototype.GetNextEdge=function(){return this.m_nextEdge},_o.prototype.GetPrevEdge=function(){return this.m_prevEdge},_o.prototype.Support=function(y_,I_,k_){I_===void 0&&(I_=0),k_===void 0&&(k_=0);var j_=y_.R,n2=y_.position.x+(j_.col1.x*this.m_coreV1.x+j_.col2.x*this.m_coreV1.y),p2=y_.position.y+(j_.col1.y*this.m_coreV1.x+j_.col2.y*this.m_coreV1.y),u2=y_.position.x+(j_.col1.x*this.m_coreV2.x+j_.col2.x*this.m_coreV2.y);return y_=y_.position.y+(j_.col1.y*this.m_coreV2.x+j_.col2.y*this.m_coreV2.y),n2*I_+p2*k_>u2*I_+y_*k_?(this.s_supportVec.x=n2,this.s_supportVec.y=p2):(this.s_supportVec.x=u2,this.s_supportVec.y=y_),this.s_supportVec},_o.prototype.b2EdgeShape=function(y_,I_){this.__super.b2Shape.call(this),this.m_type=e_.e_edgeShape,this.m_nextEdge=this.m_prevEdge=null,this.m_v1=y_,this.m_v2=I_,this.m_direction.Set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y),this.m_length=this.m_direction.Normalize(),this.m_normal.Set(this.m_direction.y,-this.m_direction.x),this.m_coreV1.Set(-x.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x,-x.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y),this.m_coreV2.Set(-x.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-x.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y),this.m_cornerDir1=this.m_normal,this.m_cornerDir2.Set(-this.m_normal.x,-this.m_normal.y)},_o.prototype.SetPrevEdge=function(y_,I_,k_,j_){this.m_prevEdge=y_,this.m_coreV1=I_,this.m_cornerDir1=k_,this.m_cornerConvex1=j_},_o.prototype.SetNextEdge=function(y_,I_,k_,j_){this.m_nextEdge=y_,this.m_coreV2=I_,this.m_cornerDir2=k_,this.m_cornerConvex2=j_},_r.b2MassData=function(){this.mass=0,this.center=new c_(0,0),this.I=0},Z_.inherit(l,Z_.Collision.Shapes.b2Shape),l.prototype.__super=Z_.Collision.Shapes.b2Shape.prototype,l.b2PolygonShape=function(){Z_.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments)},l.prototype.Copy=function(){var y_=new l;return y_.Set(this),y_},l.prototype.Set=function(y_){if(this.__super.Set.call(this,y_),Z_.is(y_,l)){y_=y_ instanceof l?y_:null,this.m_centroid.SetV(y_.m_centroid),this.m_vertexCount=y_.m_vertexCount,this.Reserve(this.m_vertexCount);for(var I_=0;I_<this.m_vertexCount;I_++)this.m_vertices[I_].SetV(y_.m_vertices[I_]),this.m_normals[I_].SetV(y_.m_normals[I_])}},l.prototype.SetAsArray=function(y_,I_){I_===void 0&&(I_=0);var k_=new yA,j_=0,n2;for(j_=0;j_<y_.length;++j_)n2=y_[j_],k_.push(n2);this.SetAsVector(k_,I_)},l.AsArray=function(y_,I_){I_===void 0&&(I_=0);var k_=new l;return k_.SetAsArray(y_,I_),k_},l.prototype.SetAsVector=function(y_,I_){I_===void 0&&(I_=0),I_==0&&(I_=y_.length),x.b2Assert(2<=I_),this.m_vertexCount=I_,this.Reserve(I_);var k_=0;for(k_=0;k_<this.m_vertexCount;k_++)this.m_vertices[k_].SetV(y_[k_]);for(k_=0;k_<this.m_vertexCount;++k_){var j_=parseInt(k_),n2=parseInt(k_+1<this.m_vertexCount?k_+1:0);j_=i_.SubtractVV(this.m_vertices[n2],this.m_vertices[j_]),x.b2Assert(j_.LengthSquared()>Number.MIN_VALUE),this.m_normals[k_].SetV(i_.CrossVF(j_,1)),this.m_normals[k_].Normalize()}this.m_centroid=l.ComputeCentroid(this.m_vertices,this.m_vertexCount)},l.AsVector=function(y_,I_){I_===void 0&&(I_=0);var k_=new l;return k_.SetAsVector(y_,I_),k_},l.prototype.SetAsBox=function(y_,I_){y_===void 0&&(y_=0),I_===void 0&&(I_=0),this.m_vertexCount=4,this.Reserve(4),this.m_vertices[0].Set(-y_,-I_),this.m_vertices[1].Set(y_,-I_),this.m_vertices[2].Set(y_,I_),this.m_vertices[3].Set(-y_,I_),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero()},l.AsBox=function(y_,I_){y_===void 0&&(y_=0),I_===void 0&&(I_=0);var k_=new l;return k_.SetAsBox(y_,I_),k_},l.prototype.SetAsOrientedBox=function(y_,I_,k_,j_){for(y_===void 0&&(y_=0),I_===void 0&&(I_=0),k_===void 0&&(k_=null),j_===void 0&&(j_=0),this.m_vertexCount=4,this.Reserve(4),this.m_vertices[0].Set(-y_,-I_),this.m_vertices[1].Set(y_,-I_),this.m_vertices[2].Set(y_,I_),this.m_vertices[3].Set(-y_,I_),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid=k_,y_=new _e,y_.position=k_,y_.R.Set(j_),k_=0;k_<this.m_vertexCount;++k_)this.m_vertices[k_]=i_.MulX(y_,this.m_vertices[k_]),this.m_normals[k_]=i_.MulMV(y_.R,this.m_normals[k_])},l.AsOrientedBox=function(y_,I_,k_,j_){y_===void 0&&(y_=0),I_===void 0&&(I_=0),k_===void 0&&(k_=null),j_===void 0&&(j_=0);var n2=new l;return n2.SetAsOrientedBox(y_,I_,k_,j_),n2},l.prototype.SetAsEdge=function(y_,I_){this.m_vertexCount=2,this.Reserve(2),this.m_vertices[0].SetV(y_),this.m_vertices[1].SetV(I_),this.m_centroid.x=.5*(y_.x+I_.x),this.m_centroid.y=.5*(y_.y+I_.y),this.m_normals[0]=i_.CrossVF(i_.SubtractVV(I_,y_),1),this.m_normals[0].Normalize(),this.m_normals[1].x=-this.m_normals[0].x,this.m_normals[1].y=-this.m_normals[0].y},l.AsEdge=function(y_,I_){var k_=new l;return k_.SetAsEdge(y_,I_),k_},l.prototype.TestPoint=function(y_,I_){var k_;k_=y_.R;for(var j_=I_.x-y_.position.x,n2=I_.y-y_.position.y,p2=j_*k_.col1.x+n2*k_.col1.y,u2=j_*k_.col2.x+n2*k_.col2.y,T2=0;T2<this.m_vertexCount;++T2)if(k_=this.m_vertices[T2],j_=p2-k_.x,n2=u2-k_.y,k_=this.m_normals[T2],k_.x*j_+k_.y*n2>0)return!1;return!0},l.prototype.RayCast=function(y_,I_,k_){var j_=0,n2=I_.maxFraction,p2=0,u2=0,T2,I2;p2=I_.p1.x-k_.position.x,u2=I_.p1.y-k_.position.y,T2=k_.R;var q2=p2*T2.col1.x+u2*T2.col1.y,O2=p2*T2.col2.x+u2*T2.col2.y;p2=I_.p2.x-k_.position.x,u2=I_.p2.y-k_.position.y,T2=k_.R,I_=p2*T2.col1.x+u2*T2.col1.y-q2,T2=p2*T2.col2.x+u2*T2.col2.y-O2;for(var X2=parseInt(-1),S_=0;S_<this.m_vertexCount;++S_){if(I2=this.m_vertices[S_],p2=I2.x-q2,u2=I2.y-O2,I2=this.m_normals[S_],p2=I2.x*p2+I2.y*u2,u2=I2.x*I_+I2.y*T2,u2==0){if(p2<0)return!1}else u2<0&&p2<j_*u2?(j_=p2/u2,X2=S_):u2>0&&p2<n2*u2&&(n2=p2/u2);if(n2<j_-Number.MIN_VALUE)return!1}return X2>=0?(y_.fraction=j_,T2=k_.R,I2=this.m_normals[X2],y_.normal.x=T2.col1.x*I2.x+T2.col2.x*I2.y,y_.normal.y=T2.col1.y*I2.x+T2.col2.y*I2.y,!0):!1},l.prototype.ComputeAABB=function(y_,I_){for(var k_=I_.R,j_=this.m_vertices[0],n2=I_.position.x+(k_.col1.x*j_.x+k_.col2.x*j_.y),p2=I_.position.y+(k_.col1.y*j_.x+k_.col2.y*j_.y),u2=n2,T2=p2,I2=1;I2<this.m_vertexCount;++I2){j_=this.m_vertices[I2];var q2=I_.position.x+(k_.col1.x*j_.x+k_.col2.x*j_.y);j_=I_.position.y+(k_.col1.y*j_.x+k_.col2.y*j_.y),n2=n2<q2?n2:q2,p2=p2<j_?p2:j_,u2=u2>q2?u2:q2,T2=T2>j_?T2:j_}y_.lowerBound.x=n2-this.m_radius,y_.lowerBound.y=p2-this.m_radius,y_.upperBound.x=u2+this.m_radius,y_.upperBound.y=T2+this.m_radius},l.prototype.ComputeMass=function(y_,I_){if(I_===void 0&&(I_=0),this.m_vertexCount==2)y_.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),y_.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),y_.mass=0,y_.I=0;else{for(var k_=0,j_=0,n2=0,p2=0,u2=1/3,T2=0;T2<this.m_vertexCount;++T2){var I2=this.m_vertices[T2],q2=T2+1<this.m_vertexCount?this.m_vertices[parseInt(T2+1)]:this.m_vertices[0],O2=I2.x-0,X2=I2.y-0,S_=q2.x-0,q_=q2.y-0,N_=O2*q_-X2*S_,W_=.5*N_;n2+=W_,k_+=W_*u2*(0+I2.x+q2.x),j_+=W_*u2*(0+I2.y+q2.y),I2=O2,X2=X2,S_=S_,q_=q_,p2+=N_*(u2*(.25*(I2*I2+S_*I2+S_*S_)+(0*I2+0*S_))+0+(u2*(.25*(X2*X2+q_*X2+q_*q_)+(0*X2+0*q_))+0))}y_.mass=I_*n2,k_*=1/n2,j_*=1/n2,y_.center.Set(k_,j_),y_.I=I_*p2}},l.prototype.ComputeSubmergedArea=function(y_,I_,k_,j_){I_===void 0&&(I_=0);var n2=i_.MulTMV(k_.R,y_),p2=I_-i_.Dot(y_,k_.position),u2=new WC,T2=0,I2=parseInt(-1);I_=parseInt(-1);var q2=!1;for(y_=y_=0;y_<this.m_vertexCount;++y_){u2[y_]=i_.Dot(n2,this.m_vertices[y_])-p2;var O2=u2[y_]<-Number.MIN_VALUE;y_>0&&(O2?q2||(I2=y_-1,T2++):q2&&(I_=y_-1,T2++)),q2=O2}switch(T2){case 0:return q2?(y_=new _r,this.ComputeMass(y_,1),j_.SetV(i_.MulX(k_,y_.center)),y_.mass):0;case 1:I2==-1?I2=this.m_vertexCount-1:I_=this.m_vertexCount-1}for(y_=parseInt((I2+1)%this.m_vertexCount),n2=parseInt((I_+1)%this.m_vertexCount),p2=(0-u2[I2])/(u2[y_]-u2[I2]),u2=(0-u2[I_])/(u2[n2]-u2[I_]),I2=new c_(this.m_vertices[I2].x*(1-p2)+this.m_vertices[y_].x*p2,this.m_vertices[I2].y*(1-p2)+this.m_vertices[y_].y*p2),I_=new c_(this.m_vertices[I_].x*(1-u2)+this.m_vertices[n2].x*u2,this.m_vertices[I_].y*(1-u2)+this.m_vertices[n2].y*u2),u2=0,p2=new c_,T2=this.m_vertices[y_],y_=y_;y_!=n2;)y_=(y_+1)%this.m_vertexCount,q2=y_==n2?I_:this.m_vertices[y_],O2=.5*((T2.x-I2.x)*(q2.y-I2.y)-(T2.y-I2.y)*(q2.x-I2.x)),u2+=O2,p2.x+=O2*(I2.x+T2.x+q2.x)/3,p2.y+=O2*(I2.y+T2.y+q2.y)/3,T2=q2;return p2.Multiply(1/u2),j_.SetV(i_.MulX(k_,p2)),u2},l.prototype.GetVertexCount=function(){return this.m_vertexCount},l.prototype.GetVertices=function(){return this.m_vertices},l.prototype.GetNormals=function(){return this.m_normals},l.prototype.GetSupport=function(y_){for(var I_=0,k_=this.m_vertices[0].x*y_.x+this.m_vertices[0].y*y_.y,j_=1;j_<this.m_vertexCount;++j_){var n2=this.m_vertices[j_].x*y_.x+this.m_vertices[j_].y*y_.y;n2>k_&&(I_=j_,k_=n2)}return I_},l.prototype.GetSupportVertex=function(y_){for(var I_=0,k_=this.m_vertices[0].x*y_.x+this.m_vertices[0].y*y_.y,j_=1;j_<this.m_vertexCount;++j_){var n2=this.m_vertices[j_].x*y_.x+this.m_vertices[j_].y*y_.y;n2>k_&&(I_=j_,k_=n2)}return this.m_vertices[I_]},l.prototype.Validate=function(){return!1},l.prototype.b2PolygonShape=function(){this.__super.b2Shape.call(this),this.m_type=e_.e_polygonShape,this.m_centroid=new c_,this.m_vertices=new yA,this.m_normals=new yA},l.prototype.Reserve=function(y_){y_===void 0&&(y_=0);for(var I_=parseInt(this.m_vertices.length);I_<y_;I_++)this.m_vertices[I_]=new c_,this.m_normals[I_]=new c_},l.ComputeCentroid=function(y_,I_){I_===void 0&&(I_=0);for(var k_=new c_,j_=0,n2=1/3,p2=0;p2<I_;++p2){var u2=y_[p2],T2=p2+1<I_?y_[parseInt(p2+1)]:y_[0],I2=.5*((u2.x-0)*(T2.y-0)-(u2.y-0)*(T2.x-0));j_+=I2,k_.x+=I2*n2*(0+u2.x+T2.x),k_.y+=I2*n2*(0+u2.y+T2.y)}return k_.x*=1/j_,k_.y*=1/j_,k_},l.ComputeOBB=function(y_,I_,k_){k_===void 0&&(k_=0);var j_=0,n2=new yA(k_+1);for(j_=0;j_<k_;++j_)n2[j_]=I_[j_];for(n2[k_]=n2[0],I_=Number.MAX_VALUE,j_=1;j_<=k_;++j_){var p2=n2[parseInt(j_-1)],u2=n2[j_].x-p2.x,T2=n2[j_].y-p2.y,I2=Math.sqrt(u2*u2+T2*T2);u2/=I2,T2/=I2;for(var q2=-T2,O2=u2,X2=I2=Number.MAX_VALUE,S_=-Number.MAX_VALUE,q_=-Number.MAX_VALUE,N_=0;N_<k_;++N_){var W_=n2[N_].x-p2.x,o2=n2[N_].y-p2.y,m2=u2*W_+T2*o2;W_=q2*W_+O2*o2,m2<I2&&(I2=m2),W_<X2&&(X2=W_),m2>S_&&(S_=m2),W_>q_&&(q_=W_)}N_=(S_-I2)*(q_-X2),N_<.95*I_&&(I_=N_,y_.R.col1.x=u2,y_.R.col1.y=T2,y_.R.col2.x=q2,y_.R.col2.y=O2,u2=.5*(I2+S_),T2=.5*(X2+q_),q2=y_.R,y_.center.x=p2.x+(q2.col1.x*u2+q2.col2.x*T2),y_.center.y=p2.y+(q2.col1.y*u2+q2.col2.y*T2),y_.extents.x=.5*(S_-I2),y_.extents.y=.5*(q_-X2))}},Z_.postDefs.push(function(){Z_.Collision.Shapes.b2PolygonShape.s_mat=new o_}),e_.b2Shape=function(){},e_.prototype.Copy=function(){return null},e_.prototype.Set=function(y_){this.m_radius=y_.m_radius},e_.prototype.GetType=function(){return this.m_type},e_.prototype.TestPoint=function(){return!1},e_.prototype.RayCast=function(){return!1},e_.prototype.ComputeAABB=function(){},e_.prototype.ComputeMass=function(){},e_.prototype.ComputeSubmergedArea=function(){return 0},e_.TestOverlap=function(y_,I_,k_,j_){var n2=new h_;return n2.proxyA=new w_,n2.proxyA.Set(y_),n2.proxyB=new w_,n2.proxyB.Set(k_),n2.transformA=I_,n2.transformB=j_,n2.useRadii=!0,y_=new L_,y_.count=0,I_=new s_,ws.Distance(I_,y_,n2),I_.distance<10*Number.MIN_VALUE},e_.prototype.b2Shape=function(){this.m_type=e_.e_unknownShape,this.m_radius=x.b2_linearSlop},Z_.postDefs.push(function(){Z_.Collision.Shapes.b2Shape.e_unknownShape=parseInt(-1),Z_.Collision.Shapes.b2Shape.e_circleShape=0,Z_.Collision.Shapes.b2Shape.e_polygonShape=1,Z_.Collision.Shapes.b2Shape.e_edgeShape=2,Z_.Collision.Shapes.b2Shape.e_shapeTypeCount=3,Z_.Collision.Shapes.b2Shape.e_hitCollide=1,Z_.Collision.Shapes.b2Shape.e_missCollide=0,Z_.Collision.Shapes.b2Shape.e_startsInsideCollide=parseInt(-1)})})();(function(){var x=Z_.Common.b2Color,V=Z_.Common.b2Settings,o=Z_.Common.Math.b2Math;x.b2Color=function(){this._b=this._g=this._r=0},x.prototype.b2Color=function(_o,_r,l){_o===void 0&&(_o=0),_r===void 0&&(_r=0),l===void 0&&(l=0),this._r=Z_.parseUInt(255*o.Clamp(_o,0,1)),this._g=Z_.parseUInt(255*o.Clamp(_r,0,1)),this._b=Z_.parseUInt(255*o.Clamp(l,0,1))},x.prototype.Set=function(_o,_r,l){_o===void 0&&(_o=0),_r===void 0&&(_r=0),l===void 0&&(l=0),this._r=Z_.parseUInt(255*o.Clamp(_o,0,1)),this._g=Z_.parseUInt(255*o.Clamp(_r,0,1)),this._b=Z_.parseUInt(255*o.Clamp(l,0,1))},Object.defineProperty(x.prototype,"r",{enumerable:!1,configurable:!0,set:function(_o){_o===void 0&&(_o=0),this._r=Z_.parseUInt(255*o.Clamp(_o,0,1))}}),Object.defineProperty(x.prototype,"g",{enumerable:!1,configurable:!0,set:function(_o){_o===void 0&&(_o=0),this._g=Z_.parseUInt(255*o.Clamp(_o,0,1))}}),Object.defineProperty(x.prototype,"b",{enumerable:!1,configurable:!0,set:function(_o){_o===void 0&&(_o=0),this._b=Z_.parseUInt(255*o.Clamp(_o,0,1))}}),Object.defineProperty(x.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this._r<<16|this._g<<8|this._b}}),V.b2Settings=function(){},V.b2MixFriction=function(_o,_r){return _o===void 0&&(_o=0),_r===void 0&&(_r=0),Math.sqrt(_o*_r)},V.b2MixRestitution=function(_o,_r){return _o===void 0&&(_o=0),_r===void 0&&(_r=0),_o>_r?_o:_r},V.b2Assert=function(_o){if(!_o)throw"Assertion Failed"},Z_.postDefs.push(function(){Z_.Common.b2Settings.VERSION="2.1alpha",Z_.Common.b2Settings.USHRT_MAX=65535,Z_.Common.b2Settings.b2_pi=Math.PI,Z_.Common.b2Settings.b2_maxManifoldPoints=2,Z_.Common.b2Settings.b2_aabbExtension=.1,Z_.Common.b2Settings.b2_aabbMultiplier=2,Z_.Common.b2Settings.b2_polygonRadius=2*V.b2_linearSlop,Z_.Common.b2Settings.b2_linearSlop=.005,Z_.Common.b2Settings.b2_angularSlop=2/180*V.b2_pi,Z_.Common.b2Settings.b2_toiSlop=8*V.b2_linearSlop,Z_.Common.b2Settings.b2_maxTOIContactsPerIsland=32,Z_.Common.b2Settings.b2_maxTOIJointsPerIsland=32,Z_.Common.b2Settings.b2_velocityThreshold=1,Z_.Common.b2Settings.b2_maxLinearCorrection=.2,Z_.Common.b2Settings.b2_maxAngularCorrection=8/180*V.b2_pi,Z_.Common.b2Settings.b2_maxTranslation=2,Z_.Common.b2Settings.b2_maxTranslationSquared=V.b2_maxTranslation*V.b2_maxTranslation,Z_.Common.b2Settings.b2_maxRotation=.5*V.b2_pi,Z_.Common.b2Settings.b2_maxRotationSquared=V.b2_maxRotation*V.b2_maxRotation,Z_.Common.b2Settings.b2_contactBaumgarte=.2,Z_.Common.b2Settings.b2_timeToSleep=.5,Z_.Common.b2Settings.b2_linearSleepTolerance=.01,Z_.Common.b2Settings.b2_angularSleepTolerance=2/180*V.b2_pi})})();(function(){var x=Z_.Common.Math.b2Mat22,V=Z_.Common.Math.b2Mat33,o=Z_.Common.Math.b2Math,_o=Z_.Common.Math.b2Sweep,_r=Z_.Common.Math.b2Transform,l=Z_.Common.Math.b2Vec2,e_=Z_.Common.Math.b2Vec3;x.b2Mat22=function(){this.col1=new l,this.col2=new l},x.prototype.b2Mat22=function(){this.SetIdentity()},x.FromAngle=function(o_){o_===void 0&&(o_=0);var i_=new x;return i_.Set(o_),i_},x.FromVV=function(o_,i_){var _e=new x;return _e.SetVV(o_,i_),_e},x.prototype.Set=function(o_){o_===void 0&&(o_=0);var i_=Math.cos(o_);o_=Math.sin(o_),this.col1.x=i_,this.col2.x=-o_,this.col1.y=o_,this.col2.y=i_},x.prototype.SetVV=function(o_,i_){this.col1.SetV(o_),this.col2.SetV(i_)},x.prototype.Copy=function(){var o_=new x;return o_.SetM(this),o_},x.prototype.SetM=function(o_){this.col1.SetV(o_.col1),this.col2.SetV(o_.col2)},x.prototype.AddM=function(o_){this.col1.x+=o_.col1.x,this.col1.y+=o_.col1.y,this.col2.x+=o_.col2.x,this.col2.y+=o_.col2.y},x.prototype.SetIdentity=function(){this.col1.x=1,this.col2.x=0,this.col1.y=0,this.col2.y=1},x.prototype.SetZero=function(){this.col1.x=0,this.col2.x=0,this.col1.y=0,this.col2.y=0},x.prototype.GetAngle=function(){return Math.atan2(this.col1.y,this.col1.x)},x.prototype.GetInverse=function(o_){var i_=this.col1.x,_e=this.col2.x,c_=this.col1.y,ws=this.col2.y,h_=i_*ws-_e*c_;return h_!=0&&(h_=1/h_),o_.col1.x=h_*ws,o_.col2.x=-h_*_e,o_.col1.y=-h_*c_,o_.col2.y=h_*i_,o_},x.prototype.Solve=function(o_,i_,_e){i_===void 0&&(i_=0),_e===void 0&&(_e=0);var c_=this.col1.x,ws=this.col2.x,h_=this.col1.y,s_=this.col2.y,w_=c_*s_-ws*h_;return w_!=0&&(w_=1/w_),o_.x=w_*(s_*i_-ws*_e),o_.y=w_*(c_*_e-h_*i_),o_},x.prototype.Abs=function(){this.col1.Abs(),this.col2.Abs()},V.b2Mat33=function(){this.col1=new e_,this.col2=new e_,this.col3=new e_},V.prototype.b2Mat33=function(o_,i_,_e){o_===void 0&&(o_=null),i_===void 0&&(i_=null),_e===void 0&&(_e=null),!o_&&!i_&&!_e?(this.col1.SetZero(),this.col2.SetZero(),this.col3.SetZero()):(this.col1.SetV(o_),this.col2.SetV(i_),this.col3.SetV(_e))},V.prototype.SetVVV=function(o_,i_,_e){this.col1.SetV(o_),this.col2.SetV(i_),this.col3.SetV(_e)},V.prototype.Copy=function(){return new V(this.col1,this.col2,this.col3)},V.prototype.SetM=function(o_){this.col1.SetV(o_.col1),this.col2.SetV(o_.col2),this.col3.SetV(o_.col3)},V.prototype.AddM=function(o_){this.col1.x+=o_.col1.x,this.col1.y+=o_.col1.y,this.col1.z+=o_.col1.z,this.col2.x+=o_.col2.x,this.col2.y+=o_.col2.y,this.col2.z+=o_.col2.z,this.col3.x+=o_.col3.x,this.col3.y+=o_.col3.y,this.col3.z+=o_.col3.z},V.prototype.SetIdentity=function(){this.col1.x=1,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=1,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=1},V.prototype.SetZero=function(){this.col1.x=0,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=0,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=0},V.prototype.Solve22=function(o_,i_,_e){i_===void 0&&(i_=0),_e===void 0&&(_e=0);var c_=this.col1.x,ws=this.col2.x,h_=this.col1.y,s_=this.col2.y,w_=c_*s_-ws*h_;return w_!=0&&(w_=1/w_),o_.x=w_*(s_*i_-ws*_e),o_.y=w_*(c_*_e-h_*i_),o_},V.prototype.Solve33=function(o_,i_,_e,c_){i_===void 0&&(i_=0),_e===void 0&&(_e=0),c_===void 0&&(c_=0);var ws=this.col1.x,h_=this.col1.y,s_=this.col1.z,w_=this.col2.x,L_=this.col2.y,y_=this.col2.z,I_=this.col3.x,k_=this.col3.y,j_=this.col3.z,n2=ws*(L_*j_-y_*k_)+h_*(y_*I_-w_*j_)+s_*(w_*k_-L_*I_);return n2!=0&&(n2=1/n2),o_.x=n2*(i_*(L_*j_-y_*k_)+_e*(y_*I_-w_*j_)+c_*(w_*k_-L_*I_)),o_.y=n2*(ws*(_e*j_-c_*k_)+h_*(c_*I_-i_*j_)+s_*(i_*k_-_e*I_)),o_.z=n2*(ws*(L_*c_-y_*_e)+h_*(y_*i_-w_*c_)+s_*(w_*_e-L_*i_)),o_},o.b2Math=function(){},o.IsValid=function(o_){return o_===void 0&&(o_=0),isFinite(o_)},o.Dot=function(o_,i_){return o_.x*i_.x+o_.y*i_.y},o.CrossVV=function(o_,i_){return o_.x*i_.y-o_.y*i_.x},o.CrossVF=function(o_,i_){return i_===void 0&&(i_=0),new l(i_*o_.y,-i_*o_.x)},o.CrossFV=function(o_,i_){return o_===void 0&&(o_=0),new l(-o_*i_.y,o_*i_.x)},o.MulMV=function(o_,i_){return new l(o_.col1.x*i_.x+o_.col2.x*i_.y,o_.col1.y*i_.x+o_.col2.y*i_.y)},o.MulTMV=function(o_,i_){return new l(o.Dot(i_,o_.col1),o.Dot(i_,o_.col2))},o.MulX=function(o_,i_){var _e=o.MulMV(o_.R,i_);return _e.x+=o_.position.x,_e.y+=o_.position.y,_e},o.MulXT=function(o_,i_){var _e=o.SubtractVV(i_,o_.position),c_=_e.x*o_.R.col1.x+_e.y*o_.R.col1.y;return _e.y=_e.x*o_.R.col2.x+_e.y*o_.R.col2.y,_e.x=c_,_e},o.AddVV=function(o_,i_){return new l(o_.x+i_.x,o_.y+i_.y)},o.SubtractVV=function(o_,i_){return new l(o_.x-i_.x,o_.y-i_.y)},o.Distance=function(o_,i_){var _e=o_.x-i_.x,c_=o_.y-i_.y;return Math.sqrt(_e*_e+c_*c_)},o.DistanceSquared=function(o_,i_){var _e=o_.x-i_.x,c_=o_.y-i_.y;return _e*_e+c_*c_},o.MulFV=function(o_,i_){return o_===void 0&&(o_=0),new l(o_*i_.x,o_*i_.y)},o.AddMM=function(o_,i_){return x.FromVV(o.AddVV(o_.col1,i_.col1),o.AddVV(o_.col2,i_.col2))},o.MulMM=function(o_,i_){return x.FromVV(o.MulMV(o_,i_.col1),o.MulMV(o_,i_.col2))},o.MulTMM=function(o_,i_){var _e=new l(o.Dot(o_.col1,i_.col1),o.Dot(o_.col2,i_.col1)),c_=new l(o.Dot(o_.col1,i_.col2),o.Dot(o_.col2,i_.col2));return x.FromVV(_e,c_)},o.Abs=function(o_){return o_===void 0&&(o_=0),o_>0?o_:-o_},o.AbsV=function(o_){return new l(o.Abs(o_.x),o.Abs(o_.y))},o.AbsM=function(o_){return x.FromVV(o.AbsV(o_.col1),o.AbsV(o_.col2))},o.Min=function(o_,i_){return o_===void 0&&(o_=0),i_===void 0&&(i_=0),o_<i_?o_:i_},o.MinV=function(o_,i_){return new l(o.Min(o_.x,i_.x),o.Min(o_.y,i_.y))},o.Max=function(o_,i_){return o_===void 0&&(o_=0),i_===void 0&&(i_=0),o_>i_?o_:i_},o.MaxV=function(o_,i_){return new l(o.Max(o_.x,i_.x),o.Max(o_.y,i_.y))},o.Clamp=function(o_,i_,_e){return o_===void 0&&(o_=0),i_===void 0&&(i_=0),_e===void 0&&(_e=0),o_<i_?i_:o_>_e?_e:o_},o.ClampV=function(o_,i_,_e){return o.MaxV(i_,o.MinV(o_,_e))},o.Swap=function(o_,i_){var _e=o_[0];o_[0]=i_[0],i_[0]=_e},o.Random=function(){return Math.random()*2-1},o.RandomRange=function(o_,i_){o_===void 0&&(o_=0),i_===void 0&&(i_=0);var _e=Math.random();return _e=(i_-o_)*_e+o_},o.NextPowerOfTwo=function(o_){return o_===void 0&&(o_=0),o_|=o_>>1&2147483647,o_|=o_>>2&1073741823,o_|=o_>>4&268435455,o_|=o_>>8&16777215,o_|=o_>>16&65535,o_+1},o.IsPowerOfTwo=function(o_){return o_===void 0&&(o_=0),o_>0&&(o_&o_-1)==0},Z_.postDefs.push(function(){Z_.Common.Math.b2Math.b2Vec2_zero=new l(0,0),Z_.Common.Math.b2Math.b2Mat22_identity=x.FromVV(new l(1,0),new l(0,1)),Z_.Common.Math.b2Math.b2Transform_identity=new _r(o.b2Vec2_zero,o.b2Mat22_identity)}),_o.b2Sweep=function(){this.localCenter=new l,this.c0=new l,this.c=new l},_o.prototype.Set=function(o_){this.localCenter.SetV(o_.localCenter),this.c0.SetV(o_.c0),this.c.SetV(o_.c),this.a0=o_.a0,this.a=o_.a,this.t0=o_.t0},_o.prototype.Copy=function(){var o_=new _o;return o_.localCenter.SetV(this.localCenter),o_.c0.SetV(this.c0),o_.c.SetV(this.c),o_.a0=this.a0,o_.a=this.a,o_.t0=this.t0,o_},_o.prototype.GetTransform=function(o_,i_){i_===void 0&&(i_=0),o_.position.x=(1-i_)*this.c0.x+i_*this.c.x,o_.position.y=(1-i_)*this.c0.y+i_*this.c.y,o_.R.Set((1-i_)*this.a0+i_*this.a);var _e=o_.R;o_.position.x-=_e.col1.x*this.localCenter.x+_e.col2.x*this.localCenter.y,o_.position.y-=_e.col1.y*this.localCenter.x+_e.col2.y*this.localCenter.y},_o.prototype.Advance=function(o_){if(o_===void 0&&(o_=0),this.t0<o_&&1-this.t0>Number.MIN_VALUE){var i_=(o_-this.t0)/(1-this.t0);this.c0.x=(1-i_)*this.c0.x+i_*this.c.x,this.c0.y=(1-i_)*this.c0.y+i_*this.c.y,this.a0=(1-i_)*this.a0+i_*this.a,this.t0=o_}},_r.b2Transform=function(){this.position=new l,this.R=new x},_r.prototype.b2Transform=function(o_,i_){o_===void 0&&(o_=null),i_===void 0&&(i_=null),o_&&(this.position.SetV(o_),this.R.SetM(i_))},_r.prototype.Initialize=function(o_,i_){this.position.SetV(o_),this.R.SetM(i_)},_r.prototype.SetIdentity=function(){this.position.SetZero(),this.R.SetIdentity()},_r.prototype.Set=function(o_){this.position.SetV(o_.position),this.R.SetM(o_.R)},_r.prototype.GetAngle=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)},l.b2Vec2=function(){},l.prototype.b2Vec2=function(o_,i_){o_===void 0&&(o_=0),i_===void 0&&(i_=0),this.x=o_,this.y=i_},l.prototype.SetZero=function(){this.y=this.x=0},l.prototype.Set=function(o_,i_){o_===void 0&&(o_=0),i_===void 0&&(i_=0),this.x=o_,this.y=i_},l.prototype.SetV=function(o_){this.x=o_.x,this.y=o_.y},l.prototype.GetNegative=function(){return new l(-this.x,-this.y)},l.prototype.NegativeSelf=function(){this.x=-this.x,this.y=-this.y},l.Make=function(o_,i_){return o_===void 0&&(o_=0),i_===void 0&&(i_=0),new l(o_,i_)},l.prototype.Copy=function(){return new l(this.x,this.y)},l.prototype.Add=function(o_){this.x+=o_.x,this.y+=o_.y},l.prototype.Subtract=function(o_){this.x-=o_.x,this.y-=o_.y},l.prototype.Multiply=function(o_){o_===void 0&&(o_=0),this.x*=o_,this.y*=o_},l.prototype.MulM=function(o_){var i_=this.x;this.x=o_.col1.x*i_+o_.col2.x*this.y,this.y=o_.col1.y*i_+o_.col2.y*this.y},l.prototype.MulTM=function(o_){var i_=o.Dot(this,o_.col1);this.y=o.Dot(this,o_.col2),this.x=i_},l.prototype.CrossVF=function(o_){o_===void 0&&(o_=0);var i_=this.x;this.x=o_*this.y,this.y=-o_*i_},l.prototype.CrossFV=function(o_){o_===void 0&&(o_=0);var i_=this.x;this.x=-o_*this.y,this.y=o_*i_},l.prototype.MinV=function(o_){this.x=this.x<o_.x?this.x:o_.x,this.y=this.y<o_.y?this.y:o_.y},l.prototype.MaxV=function(o_){this.x=this.x>o_.x?this.x:o_.x,this.y=this.y>o_.y?this.y:o_.y},l.prototype.Abs=function(){this.x<0&&(this.x=-this.x),this.y<0&&(this.y=-this.y)},l.prototype.Length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},l.prototype.LengthSquared=function(){return this.x*this.x+this.y*this.y},l.prototype.Normalize=function(){var o_=Math.sqrt(this.x*this.x+this.y*this.y);if(o_<Number.MIN_VALUE)return 0;var i_=1/o_;return this.x*=i_,this.y*=i_,o_},l.prototype.IsValid=function(){return o.IsValid(this.x)&&o.IsValid(this.y)},e_.b2Vec3=function(){},e_.prototype.b2Vec3=function(o_,i_,_e){o_===void 0&&(o_=0),i_===void 0&&(i_=0),_e===void 0&&(_e=0),this.x=o_,this.y=i_,this.z=_e},e_.prototype.SetZero=function(){this.x=this.y=this.z=0},e_.prototype.Set=function(o_,i_,_e){o_===void 0&&(o_=0),i_===void 0&&(i_=0),_e===void 0&&(_e=0),this.x=o_,this.y=i_,this.z=_e},e_.prototype.SetV=function(o_){this.x=o_.x,this.y=o_.y,this.z=o_.z},e_.prototype.GetNegative=function(){return new e_(-this.x,-this.y,-this.z)},e_.prototype.NegativeSelf=function(){this.x=-this.x,this.y=-this.y,this.z=-this.z},e_.prototype.Copy=function(){return new e_(this.x,this.y,this.z)},e_.prototype.Add=function(o_){this.x+=o_.x,this.y+=o_.y,this.z+=o_.z},e_.prototype.Subtract=function(o_){this.x-=o_.x,this.y-=o_.y,this.z-=o_.z},e_.prototype.Multiply=function(o_){o_===void 0&&(o_=0),this.x*=o_,this.y*=o_,this.z*=o_}})();(function(){var x=Z_.Common.Math.b2Math,V=Z_.Common.Math.b2Sweep,o=Z_.Common.Math.b2Transform,_o=Z_.Common.Math.b2Vec2,_r=Z_.Common.b2Color,l=Z_.Common.b2Settings,e_=Z_.Collision.b2AABB,o_=Z_.Collision.b2ContactPoint,i_=Z_.Collision.b2DynamicTreeBroadPhase,_e=Z_.Collision.b2RayCastInput,c_=Z_.Collision.b2RayCastOutput,ws=Z_.Collision.Shapes.b2CircleShape,h_=Z_.Collision.Shapes.b2EdgeShape,s_=Z_.Collision.Shapes.b2MassData,w_=Z_.Collision.Shapes.b2PolygonShape,L_=Z_.Collision.Shapes.b2Shape,y_=Z_.Dynamics.b2Body,I_=Z_.Dynamics.b2BodyDef,k_=Z_.Dynamics.b2ContactFilter,j_=Z_.Dynamics.b2ContactImpulse,n2=Z_.Dynamics.b2ContactListener,p2=Z_.Dynamics.b2ContactManager,u2=Z_.Dynamics.b2DebugDraw,T2=Z_.Dynamics.b2DestructionListener,I2=Z_.Dynamics.b2FilterData,q2=Z_.Dynamics.b2Fixture,O2=Z_.Dynamics.b2FixtureDef,X2=Z_.Dynamics.b2Island,S_=Z_.Dynamics.b2TimeStep,q_=Z_.Dynamics.b2World,N_=Z_.Dynamics.Contacts.b2Contact,W_=Z_.Dynamics.Contacts.b2ContactFactory,o2=Z_.Dynamics.Contacts.b2ContactSolver,m2=Z_.Dynamics.Joints.b2Joint,_2=Z_.Dynamics.Joints.b2PulleyJoint;y_.b2Body=function(){this.m_xf=new o,this.m_sweep=new V,this.m_linearVelocity=new _o,this.m_force=new _o},y_.prototype.connectEdges=function(v_,G_,K_){K_===void 0&&(K_=0);var C_=Math.atan2(G_.GetDirectionVector().y,G_.GetDirectionVector().x);K_=x.MulFV(Math.tan((C_-K_)*.5),G_.GetDirectionVector()),K_=x.SubtractVV(K_,G_.GetNormalVector()),K_=x.MulFV(l.b2_toiSlop,K_),K_=x.AddVV(K_,G_.GetVertex1());var z_=x.AddVV(v_.GetDirectionVector(),G_.GetDirectionVector());z_.Normalize();var X_=x.Dot(v_.GetDirectionVector(),G_.GetNormalVector())>0;return v_.SetNextEdge(G_,K_,z_,X_),G_.SetPrevEdge(v_,K_,z_,X_),C_},y_.prototype.CreateFixture=function(v_){if(this.m_world.IsLocked()==!0)return null;var G_=new q2;return G_.Create(this,this.m_xf,v_),this.m_flags&y_.e_activeFlag&&G_.CreateProxy(this.m_world.m_contactManager.m_broadPhase,this.m_xf),G_.m_next=this.m_fixtureList,this.m_fixtureList=G_,++this.m_fixtureCount,G_.m_body=this,G_.m_density>0&&this.ResetMassData(),this.m_world.m_flags|=q_.e_newFixture,G_},y_.prototype.CreateFixture2=function(v_,G_){G_===void 0&&(G_=0);var K_=new O2;return K_.shape=v_,K_.density=G_,this.CreateFixture(K_)},y_.prototype.DestroyFixture=function(v_){if(this.m_world.IsLocked()!=!0){for(var G_=this.m_fixtureList,K_=null;G_!=null;){if(G_==v_){K_?K_.m_next=v_.m_next:this.m_fixtureList=v_.m_next;break}K_=G_,G_=G_.m_next}for(G_=this.m_contactList;G_;){K_=G_.contact,G_=G_.next;var C_=K_.GetFixtureA(),z_=K_.GetFixtureB();(v_==C_||v_==z_)&&this.m_world.m_contactManager.Destroy(K_)}this.m_flags&y_.e_activeFlag&&v_.DestroyProxy(this.m_world.m_contactManager.m_broadPhase),v_.Destroy(),v_.m_body=null,v_.m_next=null,--this.m_fixtureCount,this.ResetMassData()}},y_.prototype.SetPositionAndAngle=function(v_,G_){G_===void 0&&(G_=0);var K_;if(this.m_world.IsLocked()!=!0){this.m_xf.R.Set(G_),this.m_xf.position.SetV(v_),K_=this.m_xf.R;var C_=this.m_sweep.localCenter;for(this.m_sweep.c.x=K_.col1.x*C_.x+K_.col2.x*C_.y,this.m_sweep.c.y=K_.col1.y*C_.x+K_.col2.y*C_.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.SetV(this.m_sweep.c),this.m_sweep.a0=this.m_sweep.a=G_,C_=this.m_world.m_contactManager.m_broadPhase,K_=this.m_fixtureList;K_;K_=K_.m_next)K_.Synchronize(C_,this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()}},y_.prototype.SetTransform=function(v_){this.SetPositionAndAngle(v_.position,v_.GetAngle())},y_.prototype.GetTransform=function(){return this.m_xf},y_.prototype.GetPosition=function(){return this.m_xf.position},y_.prototype.SetPosition=function(v_){this.SetPositionAndAngle(v_,this.GetAngle())},y_.prototype.GetAngle=function(){return this.m_sweep.a},y_.prototype.SetAngle=function(v_){v_===void 0&&(v_=0),this.SetPositionAndAngle(this.GetPosition(),v_)},y_.prototype.GetWorldCenter=function(){return this.m_sweep.c},y_.prototype.GetLocalCenter=function(){return this.m_sweep.localCenter},y_.prototype.SetLinearVelocity=function(v_){this.m_type!=y_.b2_staticBody&&this.m_linearVelocity.SetV(v_)},y_.prototype.GetLinearVelocity=function(){return this.m_linearVelocity},y_.prototype.SetAngularVelocity=function(v_){v_===void 0&&(v_=0),this.m_type!=y_.b2_staticBody&&(this.m_angularVelocity=v_)},y_.prototype.GetAngularVelocity=function(){return this.m_angularVelocity},y_.prototype.GetDefinition=function(){var v_=new I_;return v_.type=this.GetType(),v_.allowSleep=(this.m_flags&y_.e_allowSleepFlag)==y_.e_allowSleepFlag,v_.angle=this.GetAngle(),v_.angularDamping=this.m_angularDamping,v_.angularVelocity=this.m_angularVelocity,v_.fixedRotation=(this.m_flags&y_.e_fixedRotationFlag)==y_.e_fixedRotationFlag,v_.bullet=(this.m_flags&y_.e_bulletFlag)==y_.e_bulletFlag,v_.awake=(this.m_flags&y_.e_awakeFlag)==y_.e_awakeFlag,v_.linearDamping=this.m_linearDamping,v_.linearVelocity.SetV(this.GetLinearVelocity()),v_.position=this.GetPosition(),v_.userData=this.GetUserData(),v_},y_.prototype.ApplyForce=function(v_,G_){this.m_type==y_.b2_dynamicBody&&(this.IsAwake()==!1&&this.SetAwake(!0),this.m_force.x+=v_.x,this.m_force.y+=v_.y,this.m_torque+=(G_.x-this.m_sweep.c.x)*v_.y-(G_.y-this.m_sweep.c.y)*v_.x)},y_.prototype.ApplyTorque=function(v_){v_===void 0&&(v_=0),this.m_type==y_.b2_dynamicBody&&(this.IsAwake()==!1&&this.SetAwake(!0),this.m_torque+=v_)},y_.prototype.ApplyImpulse=function(v_,G_){this.m_type==y_.b2_dynamicBody&&(this.IsAwake()==!1&&this.SetAwake(!0),this.m_linearVelocity.x+=this.m_invMass*v_.x,this.m_linearVelocity.y+=this.m_invMass*v_.y,this.m_angularVelocity+=this.m_invI*((G_.x-this.m_sweep.c.x)*v_.y-(G_.y-this.m_sweep.c.y)*v_.x))},y_.prototype.Split=function(v_){for(var G_=this.GetLinearVelocity().Copy(),K_=this.GetAngularVelocity(),C_=this.GetWorldCenter(),z_=this.m_world.CreateBody(this.GetDefinition()),X_,l2=this.m_fixtureList;l2;)if(v_(l2)){var D2=l2.m_next;X_?X_.m_next=D2:this.m_fixtureList=D2,this.m_fixtureCount--,l2.m_next=z_.m_fixtureList,z_.m_fixtureList=l2,z_.m_fixtureCount++,l2.m_body=z_,l2=D2}else X_=l2,l2=l2.m_next;return this.ResetMassData(),z_.ResetMassData(),X_=this.GetWorldCenter(),v_=z_.GetWorldCenter(),X_=x.AddVV(G_,x.CrossFV(K_,x.SubtractVV(X_,C_))),G_=x.AddVV(G_,x.CrossFV(K_,x.SubtractVV(v_,C_))),this.SetLinearVelocity(X_),z_.SetLinearVelocity(G_),this.SetAngularVelocity(K_),z_.SetAngularVelocity(K_),this.SynchronizeFixtures(),z_.SynchronizeFixtures(),z_},y_.prototype.Merge=function(v_){var G_;for(G_=v_.m_fixtureList;G_;){var K_=G_.m_next;v_.m_fixtureCount--,G_.m_next=this.m_fixtureList,this.m_fixtureList=G_,this.m_fixtureCount++,G_.m_body=z_,G_=K_}C_.m_fixtureCount=0;var C_=this,z_=v_;C_.GetWorldCenter(),z_.GetWorldCenter(),C_.GetLinearVelocity().Copy(),z_.GetLinearVelocity().Copy(),C_.GetAngularVelocity(),z_.GetAngularVelocity(),C_.ResetMassData(),this.SynchronizeFixtures()},y_.prototype.GetMass=function(){return this.m_mass},y_.prototype.GetInertia=function(){return this.m_I},y_.prototype.GetMassData=function(v_){v_.mass=this.m_mass,v_.I=this.m_I,v_.center.SetV(this.m_sweep.localCenter)},y_.prototype.SetMassData=function(v_){if(l.b2Assert(this.m_world.IsLocked()==!1),this.m_world.IsLocked()!=!0&&this.m_type==y_.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0,this.m_mass=v_.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,v_.I>0&&!(this.m_flags&y_.e_fixedRotationFlag)&&(this.m_I=v_.I-this.m_mass*(v_.center.x*v_.center.x+v_.center.y*v_.center.y),this.m_invI=1/this.m_I);var G_=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(v_.center),this.m_sweep.c0.SetV(x.MulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-G_.y),this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-G_.x)}},y_.prototype.ResetMassData=function(){if(this.m_invI=this.m_I=this.m_invMass=this.m_mass=0,this.m_sweep.localCenter.SetZero(),!(this.m_type==y_.b2_staticBody||this.m_type==y_.b2_kinematicBody)){for(var v_=_o.Make(0,0),G_=this.m_fixtureList;G_;G_=G_.m_next)if(G_.m_density!=0){var K_=G_.GetMassData();this.m_mass+=K_.mass,v_.x+=K_.center.x*K_.mass,v_.y+=K_.center.y*K_.mass,this.m_I+=K_.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,v_.x*=this.m_invMass,v_.y*=this.m_invMass):this.m_invMass=this.m_mass=1,this.m_I>0&&!(this.m_flags&y_.e_fixedRotationFlag)?(this.m_I-=this.m_mass*(v_.x*v_.x+v_.y*v_.y),this.m_I*=this.m_inertiaScale,l.b2Assert(this.m_I>0),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0,G_=this.m_sweep.c.Copy(),this.m_sweep.localCenter.SetV(v_),this.m_sweep.c0.SetV(x.MulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-G_.y),this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-G_.x)}},y_.prototype.GetWorldPoint=function(v_){var G_=this.m_xf.R;return v_=new _o(G_.col1.x*v_.x+G_.col2.x*v_.y,G_.col1.y*v_.x+G_.col2.y*v_.y),v_.x+=this.m_xf.position.x,v_.y+=this.m_xf.position.y,v_},y_.prototype.GetWorldVector=function(v_){return x.MulMV(this.m_xf.R,v_)},y_.prototype.GetLocalPoint=function(v_){return x.MulXT(this.m_xf,v_)},y_.prototype.GetLocalVector=function(v_){return x.MulTMV(this.m_xf.R,v_)},y_.prototype.GetLinearVelocityFromWorldPoint=function(v_){return new _o(this.m_linearVelocity.x-this.m_angularVelocity*(v_.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(v_.x-this.m_sweep.c.x))},y_.prototype.GetLinearVelocityFromLocalPoint=function(v_){var G_=this.m_xf.R;return v_=new _o(G_.col1.x*v_.x+G_.col2.x*v_.y,G_.col1.y*v_.x+G_.col2.y*v_.y),v_.x+=this.m_xf.position.x,v_.y+=this.m_xf.position.y,new _o(this.m_linearVelocity.x-this.m_angularVelocity*(v_.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(v_.x-this.m_sweep.c.x))},y_.prototype.GetLinearDamping=function(){return this.m_linearDamping},y_.prototype.SetLinearDamping=function(v_){v_===void 0&&(v_=0),this.m_linearDamping=v_},y_.prototype.GetAngularDamping=function(){return this.m_angularDamping},y_.prototype.SetAngularDamping=function(v_){v_===void 0&&(v_=0),this.m_angularDamping=v_},y_.prototype.SetType=function(v_){if(v_===void 0&&(v_=0),this.m_type!=v_)for(this.m_type=v_,this.ResetMassData(),this.m_type==y_.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0,v_=this.m_contactList;v_;v_=v_.next)v_.contact.FlagForFiltering()},y_.prototype.GetType=function(){return this.m_type},y_.prototype.SetBullet=function(v_){v_?this.m_flags|=y_.e_bulletFlag:this.m_flags&=~y_.e_bulletFlag},y_.prototype.IsBullet=function(){return(this.m_flags&y_.e_bulletFlag)==y_.e_bulletFlag},y_.prototype.SetSleepingAllowed=function(v_){v_?this.m_flags|=y_.e_allowSleepFlag:(this.m_flags&=~y_.e_allowSleepFlag,this.SetAwake(!0))},y_.prototype.SetAwake=function(v_){v_?(this.m_flags|=y_.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~y_.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)},y_.prototype.IsAwake=function(){return(this.m_flags&y_.e_awakeFlag)==y_.e_awakeFlag},y_.prototype.SetFixedRotation=function(v_){v_?this.m_flags|=y_.e_fixedRotationFlag:this.m_flags&=~y_.e_fixedRotationFlag,this.ResetMassData()},y_.prototype.IsFixedRotation=function(){return(this.m_flags&y_.e_fixedRotationFlag)==y_.e_fixedRotationFlag},y_.prototype.SetActive=function(v_){if(v_!=this.IsActive()){var G_;if(v_)for(this.m_flags|=y_.e_activeFlag,v_=this.m_world.m_contactManager.m_broadPhase,G_=this.m_fixtureList;G_;G_=G_.m_next)G_.CreateProxy(v_,this.m_xf);else{for(this.m_flags&=~y_.e_activeFlag,v_=this.m_world.m_contactManager.m_broadPhase,G_=this.m_fixtureList;G_;G_=G_.m_next)G_.DestroyProxy(v_);for(v_=this.m_contactList;v_;)G_=v_,v_=v_.next,this.m_world.m_contactManager.Destroy(G_.contact);this.m_contactList=null}}},y_.prototype.IsActive=function(){return(this.m_flags&y_.e_activeFlag)==y_.e_activeFlag},y_.prototype.IsSleepingAllowed=function(){return(this.m_flags&y_.e_allowSleepFlag)==y_.e_allowSleepFlag},y_.prototype.GetFixtureList=function(){return this.m_fixtureList},y_.prototype.GetJointList=function(){return this.m_jointList},y_.prototype.GetControllerList=function(){return this.m_controllerList},y_.prototype.GetContactList=function(){return this.m_contactList},y_.prototype.GetNext=function(){return this.m_next},y_.prototype.GetUserData=function(){return this.m_userData},y_.prototype.SetUserData=function(v_){this.m_userData=v_},y_.prototype.GetWorld=function(){return this.m_world},y_.prototype.b2Body=function(v_,G_){this.m_flags=0,v_.bullet&&(this.m_flags|=y_.e_bulletFlag),v_.fixedRotation&&(this.m_flags|=y_.e_fixedRotationFlag),v_.allowSleep&&(this.m_flags|=y_.e_allowSleepFlag),v_.awake&&(this.m_flags|=y_.e_awakeFlag),v_.active&&(this.m_flags|=y_.e_activeFlag),this.m_world=G_,this.m_xf.position.SetV(v_.position),this.m_xf.R.Set(v_.angle),this.m_sweep.localCenter.SetZero(),this.m_sweep.t0=1,this.m_sweep.a0=this.m_sweep.a=v_.angle;var K_=this.m_xf.R,C_=this.m_sweep.localCenter;this.m_sweep.c.x=K_.col1.x*C_.x+K_.col2.x*C_.y,this.m_sweep.c.y=K_.col1.y*C_.x+K_.col2.y*C_.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.SetV(this.m_sweep.c),this.m_contactList=this.m_controllerList=this.m_jointList=null,this.m_controllerCount=0,this.m_next=this.m_prev=null,this.m_linearVelocity.SetV(v_.linearVelocity),this.m_angularVelocity=v_.angularVelocity,this.m_linearDamping=v_.linearDamping,this.m_angularDamping=v_.angularDamping,this.m_force.Set(0,0),this.m_sleepTime=this.m_torque=0,this.m_type=v_.type,this.m_type==y_.b2_dynamicBody?this.m_invMass=this.m_mass=1:this.m_invMass=this.m_mass=0,this.m_invI=this.m_I=0,this.m_inertiaScale=v_.inertiaScale,this.m_userData=v_.userData,this.m_fixtureList=null,this.m_fixtureCount=0},y_.prototype.SynchronizeFixtures=function(){var v_=y_.s_xf1;v_.R.Set(this.m_sweep.a0);var G_=v_.R,K_=this.m_sweep.localCenter;for(v_.position.x=this.m_sweep.c0.x-(G_.col1.x*K_.x+G_.col2.x*K_.y),v_.position.y=this.m_sweep.c0.y-(G_.col1.y*K_.x+G_.col2.y*K_.y),K_=this.m_world.m_contactManager.m_broadPhase,G_=this.m_fixtureList;G_;G_=G_.m_next)G_.Synchronize(K_,v_,this.m_xf)},y_.prototype.SynchronizeTransform=function(){this.m_xf.R.Set(this.m_sweep.a);var v_=this.m_xf.R,G_=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(v_.col1.x*G_.x+v_.col2.x*G_.y),this.m_xf.position.y=this.m_sweep.c.y-(v_.col1.y*G_.x+v_.col2.y*G_.y)},y_.prototype.ShouldCollide=function(v_){if(this.m_type!=y_.b2_dynamicBody&&v_.m_type!=y_.b2_dynamicBody)return!1;for(var G_=this.m_jointList;G_;G_=G_.next)if(G_.other==v_&&G_.joint.m_collideConnected==!1)return!1;return!0},y_.prototype.Advance=function(v_){v_===void 0&&(v_=0),this.m_sweep.Advance(v_),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.SynchronizeTransform()},Z_.postDefs.push(function(){Z_.Dynamics.b2Body.s_xf1=new o,Z_.Dynamics.b2Body.e_islandFlag=1,Z_.Dynamics.b2Body.e_awakeFlag=2,Z_.Dynamics.b2Body.e_allowSleepFlag=4,Z_.Dynamics.b2Body.e_bulletFlag=8,Z_.Dynamics.b2Body.e_fixedRotationFlag=16,Z_.Dynamics.b2Body.e_activeFlag=32,Z_.Dynamics.b2Body.b2_staticBody=0,Z_.Dynamics.b2Body.b2_kinematicBody=1,Z_.Dynamics.b2Body.b2_dynamicBody=2}),I_.b2BodyDef=function(){this.position=new _o,this.linearVelocity=new _o},I_.prototype.b2BodyDef=function(){this.userData=null,this.position.Set(0,0),this.angle=0,this.linearVelocity.Set(0,0),this.angularDamping=this.linearDamping=this.angularVelocity=0,this.awake=this.allowSleep=!0,this.bullet=this.fixedRotation=!1,this.type=y_.b2_staticBody,this.active=!0,this.inertiaScale=1},k_.b2ContactFilter=function(){},k_.prototype.ShouldCollide=function(v_,G_){var K_=v_.GetFilterData(),C_=G_.GetFilterData();return K_.groupIndex==C_.groupIndex&&K_.groupIndex!=0?K_.groupIndex>0:(K_.maskBits&C_.categoryBits)!=0&&(K_.categoryBits&C_.maskBits)!=0},k_.prototype.RayCollide=function(v_,G_){return v_?this.ShouldCollide(v_ instanceof q2?v_:null,G_):!0},Z_.postDefs.push(function(){Z_.Dynamics.b2ContactFilter.b2_defaultFilter=new k_}),j_.b2ContactImpulse=function(){this.normalImpulses=new WC(l.b2_maxManifoldPoints),this.tangentImpulses=new WC(l.b2_maxManifoldPoints)},n2.b2ContactListener=function(){},n2.prototype.BeginContact=function(){},n2.prototype.EndContact=function(){},n2.prototype.PreSolve=function(){},n2.prototype.PostSolve=function(){},Z_.postDefs.push(function(){Z_.Dynamics.b2ContactListener.b2_defaultListener=new n2}),p2.b2ContactManager=function(){},p2.prototype.b2ContactManager=function(){this.m_world=null,this.m_contactCount=0,this.m_contactFilter=k_.b2_defaultFilter,this.m_contactListener=n2.b2_defaultListener,this.m_contactFactory=new W_(this.m_allocator),this.m_broadPhase=new i_},p2.prototype.AddPair=function(v_,G_){var K_=v_ instanceof q2?v_:null,C_=G_ instanceof q2?G_:null,z_=K_.GetBody(),X_=C_.GetBody();if(z_!=X_){for(var l2=X_.GetContactList();l2;){if(l2.other==z_){var D2=l2.contact.GetFixtureA(),V2=l2.contact.GetFixtureB();if(D2==K_&&V2==C_||D2==C_&&V2==K_)return}l2=l2.next}X_.ShouldCollide(z_)!=!1&&this.m_contactFilter.ShouldCollide(K_,C_)!=!1&&(l2=this.m_contactFactory.Create(K_,C_),K_=l2.GetFixtureA(),C_=l2.GetFixtureB(),z_=K_.m_body,X_=C_.m_body,l2.m_prev=null,l2.m_next=this.m_world.m_contactList,this.m_world.m_contactList!=null&&(this.m_world.m_contactList.m_prev=l2),this.m_world.m_contactList=l2,l2.m_nodeA.contact=l2,l2.m_nodeA.other=X_,l2.m_nodeA.prev=null,l2.m_nodeA.next=z_.m_contactList,z_.m_contactList!=null&&(z_.m_contactList.prev=l2.m_nodeA),z_.m_contactList=l2.m_nodeA,l2.m_nodeB.contact=l2,l2.m_nodeB.other=z_,l2.m_nodeB.prev=null,l2.m_nodeB.next=X_.m_contactList,X_.m_contactList!=null&&(X_.m_contactList.prev=l2.m_nodeB),X_.m_contactList=l2.m_nodeB,++this.m_world.m_contactCount)}},p2.prototype.FindNewContacts=function(){this.m_broadPhase.UpdatePairs(Z_.generateCallback(this,this.AddPair))},p2.prototype.Destroy=function(v_){var G_=v_.GetFixtureA(),K_=v_.GetFixtureB();G_=G_.GetBody(),K_=K_.GetBody(),v_.IsTouching()&&this.m_contactListener.EndContact(v_),v_.m_prev&&(v_.m_prev.m_next=v_.m_next),v_.m_next&&(v_.m_next.m_prev=v_.m_prev),v_==this.m_world.m_contactList&&(this.m_world.m_contactList=v_.m_next),v_.m_nodeA.prev&&(v_.m_nodeA.prev.next=v_.m_nodeA.next),v_.m_nodeA.next&&(v_.m_nodeA.next.prev=v_.m_nodeA.prev),v_.m_nodeA==G_.m_contactList&&(G_.m_contactList=v_.m_nodeA.next),v_.m_nodeB.prev&&(v_.m_nodeB.prev.next=v_.m_nodeB.next),v_.m_nodeB.next&&(v_.m_nodeB.next.prev=v_.m_nodeB.prev),v_.m_nodeB==K_.m_contactList&&(K_.m_contactList=v_.m_nodeB.next),this.m_contactFactory.Destroy(v_),--this.m_contactCount},p2.prototype.Collide=function(){for(var v_=this.m_world.m_contactList;v_;){var G_=v_.GetFixtureA(),K_=v_.GetFixtureB(),C_=G_.GetBody(),z_=K_.GetBody();if(C_.IsAwake()==!1&&z_.IsAwake()==!1)v_=v_.GetNext();else{if(v_.m_flags&N_.e_filterFlag){if(z_.ShouldCollide(C_)==!1){G_=v_,v_=G_.GetNext(),this.Destroy(G_);continue}if(this.m_contactFilter.ShouldCollide(G_,K_)==!1){G_=v_,v_=G_.GetNext(),this.Destroy(G_);continue}v_.m_flags&=~N_.e_filterFlag}this.m_broadPhase.TestOverlap(G_.m_proxy,K_.m_proxy)==!1?(G_=v_,v_=G_.GetNext(),this.Destroy(G_)):(v_.Update(this.m_contactListener),v_=v_.GetNext())}}},Z_.postDefs.push(function(){Z_.Dynamics.b2ContactManager.s_evalCP=new o_}),u2.b2DebugDraw=function(){},u2.prototype.b2DebugDraw=function(){},u2.prototype.SetFlags=function(){},u2.prototype.GetFlags=function(){},u2.prototype.AppendFlags=function(){},u2.prototype.ClearFlags=function(){},u2.prototype.SetSprite=function(){},u2.prototype.GetSprite=function(){},u2.prototype.SetDrawScale=function(){},u2.prototype.GetDrawScale=function(){},u2.prototype.SetLineThickness=function(){},u2.prototype.GetLineThickness=function(){},u2.prototype.SetAlpha=function(){},u2.prototype.GetAlpha=function(){},u2.prototype.SetFillAlpha=function(){},u2.prototype.GetFillAlpha=function(){},u2.prototype.SetXFormScale=function(){},u2.prototype.GetXFormScale=function(){},u2.prototype.DrawPolygon=function(){},u2.prototype.DrawSolidPolygon=function(){},u2.prototype.DrawCircle=function(){},u2.prototype.DrawSolidCircle=function(){},u2.prototype.DrawSegment=function(){},u2.prototype.DrawTransform=function(){},Z_.postDefs.push(function(){Z_.Dynamics.b2DebugDraw.e_shapeBit=1,Z_.Dynamics.b2DebugDraw.e_jointBit=2,Z_.Dynamics.b2DebugDraw.e_aabbBit=4,Z_.Dynamics.b2DebugDraw.e_pairBit=8,Z_.Dynamics.b2DebugDraw.e_centerOfMassBit=16,Z_.Dynamics.b2DebugDraw.e_controllerBit=32}),T2.b2DestructionListener=function(){},T2.prototype.SayGoodbyeJoint=function(){},T2.prototype.SayGoodbyeFixture=function(){},I2.b2FilterData=function(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0},I2.prototype.Copy=function(){var v_=new I2;return v_.categoryBits=this.categoryBits,v_.maskBits=this.maskBits,v_.groupIndex=this.groupIndex,v_},q2.b2Fixture=function(){this.m_filter=new I2},q2.prototype.GetType=function(){return this.m_shape.GetType()},q2.prototype.GetShape=function(){return this.m_shape},q2.prototype.SetSensor=function(v_){if(this.m_isSensor!=v_&&(this.m_isSensor=v_,this.m_body!=null))for(v_=this.m_body.GetContactList();v_;){var G_=v_.contact,K_=G_.GetFixtureA(),C_=G_.GetFixtureB();(K_==this||C_==this)&&G_.SetSensor(K_.IsSensor()||C_.IsSensor()),v_=v_.next}},q2.prototype.IsSensor=function(){return this.m_isSensor},q2.prototype.SetFilterData=function(v_){if(this.m_filter=v_.Copy(),!this.m_body)for(v_=this.m_body.GetContactList();v_;){var G_=v_.contact,K_=G_.GetFixtureA(),C_=G_.GetFixtureB();(K_==this||C_==this)&&G_.FlagForFiltering(),v_=v_.next}},q2.prototype.GetFilterData=function(){return this.m_filter.Copy()},q2.prototype.GetBody=function(){return this.m_body},q2.prototype.GetNext=function(){return this.m_next},q2.prototype.GetUserData=function(){return this.m_userData},q2.prototype.SetUserData=function(v_){this.m_userData=v_},q2.prototype.TestPoint=function(v_){return this.m_shape.TestPoint(this.m_body.GetTransform(),v_)},q2.prototype.RayCast=function(v_,G_){return this.m_shape.RayCast(v_,G_,this.m_body.GetTransform())},q2.prototype.GetMassData=function(v_){return v_===void 0&&(v_=null),v_==null&&(v_=new s_),this.m_shape.ComputeMass(v_,this.m_density),v_},q2.prototype.SetDensity=function(v_){v_===void 0&&(v_=0),this.m_density=v_},q2.prototype.GetDensity=function(){return this.m_density},q2.prototype.GetFriction=function(){return this.m_friction},q2.prototype.SetFriction=function(v_){v_===void 0&&(v_=0),this.m_friction=v_},q2.prototype.GetRestitution=function(){return this.m_restitution},q2.prototype.SetRestitution=function(v_){v_===void 0&&(v_=0),this.m_restitution=v_},q2.prototype.GetAABB=function(){return this.m_aabb},q2.prototype.b2Fixture=function(){this.m_aabb=new e_,this.m_shape=this.m_next=this.m_body=this.m_userData=null,this.m_restitution=this.m_friction=this.m_density=0},q2.prototype.Create=function(v_,G_,K_){this.m_userData=K_.userData,this.m_friction=K_.friction,this.m_restitution=K_.restitution,this.m_body=v_,this.m_next=null,this.m_filter=K_.filter.Copy(),this.m_isSensor=K_.isSensor,this.m_shape=K_.shape.Copy(),this.m_density=K_.density},q2.prototype.Destroy=function(){this.m_shape=null},q2.prototype.CreateProxy=function(v_,G_){this.m_shape.ComputeAABB(this.m_aabb,G_),this.m_proxy=v_.CreateProxy(this.m_aabb,this)},q2.prototype.DestroyProxy=function(v_){this.m_proxy!=null&&(v_.DestroyProxy(this.m_proxy),this.m_proxy=null)},q2.prototype.Synchronize=function(v_,G_,K_){if(this.m_proxy){var C_=new e_,z_=new e_;this.m_shape.ComputeAABB(C_,G_),this.m_shape.ComputeAABB(z_,K_),this.m_aabb.Combine(C_,z_),G_=x.SubtractVV(K_.position,G_.position),v_.MoveProxy(this.m_proxy,this.m_aabb,G_)}},O2.b2FixtureDef=function(){this.filter=new I2},O2.prototype.b2FixtureDef=function(){this.userData=this.shape=null,this.friction=.2,this.density=this.restitution=0,this.filter.categoryBits=1,this.filter.maskBits=65535,this.filter.groupIndex=0,this.isSensor=!1},X2.b2Island=function(){},X2.prototype.b2Island=function(){this.m_bodies=new yA,this.m_contacts=new yA,this.m_joints=new yA},X2.prototype.Initialize=function(v_,G_,K_,C_,z_,X_){v_===void 0&&(v_=0),G_===void 0&&(G_=0),K_===void 0&&(K_=0);var l2=0;for(this.m_bodyCapacity=v_,this.m_contactCapacity=G_,this.m_jointCapacity=K_,this.m_jointCount=this.m_contactCount=this.m_bodyCount=0,this.m_allocator=C_,this.m_listener=z_,this.m_contactSolver=X_,l2=this.m_bodies.length;l2<v_;l2++)this.m_bodies[l2]=null;for(l2=this.m_contacts.length;l2<G_;l2++)this.m_contacts[l2]=null;for(l2=this.m_joints.length;l2<K_;l2++)this.m_joints[l2]=null},X2.prototype.Clear=function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0},X2.prototype.Solve=function(v_,G_,K_){var C_=0,z_=0,X_;for(C_=0;C_<this.m_bodyCount;++C_)z_=this.m_bodies[C_],z_.GetType()==y_.b2_dynamicBody&&(z_.m_linearVelocity.x+=v_.dt*(G_.x+z_.m_invMass*z_.m_force.x),z_.m_linearVelocity.y+=v_.dt*(G_.y+z_.m_invMass*z_.m_force.y),z_.m_angularVelocity+=v_.dt*z_.m_invI*z_.m_torque,z_.m_linearVelocity.Multiply(x.Clamp(1-v_.dt*z_.m_linearDamping,0,1)),z_.m_angularVelocity*=x.Clamp(1-v_.dt*z_.m_angularDamping,0,1));for(this.m_contactSolver.Initialize(v_,this.m_contacts,this.m_contactCount,this.m_allocator),G_=this.m_contactSolver,G_.InitVelocityConstraints(v_),C_=0;C_<this.m_jointCount;++C_)X_=this.m_joints[C_],X_.InitVelocityConstraints(v_);for(C_=0;C_<v_.velocityIterations;++C_){for(z_=0;z_<this.m_jointCount;++z_)X_=this.m_joints[z_],X_.SolveVelocityConstraints(v_);G_.SolveVelocityConstraints()}for(C_=0;C_<this.m_jointCount;++C_)X_=this.m_joints[C_],X_.FinalizeVelocityConstraints();for(G_.FinalizeVelocityConstraints(),C_=0;C_<this.m_bodyCount;++C_)if(z_=this.m_bodies[C_],z_.GetType()!=y_.b2_staticBody){var l2=v_.dt*z_.m_linearVelocity.x,D2=v_.dt*z_.m_linearVelocity.y;l2*l2+D2*D2>l.b2_maxTranslationSquared&&(z_.m_linearVelocity.Normalize(),z_.m_linearVelocity.x*=l.b2_maxTranslation*v_.inv_dt,z_.m_linearVelocity.y*=l.b2_maxTranslation*v_.inv_dt),l2=v_.dt*z_.m_angularVelocity,l2*l2>l.b2_maxRotationSquared&&(z_.m_angularVelocity=z_.m_angularVelocity<0?-l.b2_maxRotation*v_.inv_dt:l.b2_maxRotation*v_.inv_dt),z_.m_sweep.c0.SetV(z_.m_sweep.c),z_.m_sweep.a0=z_.m_sweep.a,z_.m_sweep.c.x+=v_.dt*z_.m_linearVelocity.x,z_.m_sweep.c.y+=v_.dt*z_.m_linearVelocity.y,z_.m_sweep.a+=v_.dt*z_.m_angularVelocity,z_.SynchronizeTransform()}for(C_=0;C_<v_.positionIterations;++C_){for(l2=G_.SolvePositionConstraints(l.b2_contactBaumgarte),D2=!0,z_=0;z_<this.m_jointCount;++z_)X_=this.m_joints[z_],X_=X_.SolvePositionConstraints(l.b2_contactBaumgarte),D2=D2&&X_;if(l2&&D2)break}if(this.Report(G_.m_constraints),K_){for(K_=Number.MAX_VALUE,G_=l.b2_linearSleepTolerance*l.b2_linearSleepTolerance,l2=l.b2_angularSleepTolerance*l.b2_angularSleepTolerance,C_=0;C_<this.m_bodyCount;++C_)z_=this.m_bodies[C_],z_.GetType()!=y_.b2_staticBody&&(z_.m_flags&y_.e_allowSleepFlag||(K_=z_.m_sleepTime=0),!(z_.m_flags&y_.e_allowSleepFlag)||z_.m_angularVelocity*z_.m_angularVelocity>l2||x.Dot(z_.m_linearVelocity,z_.m_linearVelocity)>G_?K_=z_.m_sleepTime=0:(z_.m_sleepTime+=v_.dt,K_=x.Min(K_,z_.m_sleepTime)));if(K_>=l.b2_timeToSleep)for(C_=0;C_<this.m_bodyCount;++C_)z_=this.m_bodies[C_],z_.SetAwake(!1)}},X2.prototype.SolveTOI=function(v_){var G_=0,K_=0;this.m_contactSolver.Initialize(v_,this.m_contacts,this.m_contactCount,this.m_allocator);var C_=this.m_contactSolver;for(G_=0;G_<this.m_jointCount;++G_)this.m_joints[G_].InitVelocityConstraints(v_);for(G_=0;G_<v_.velocityIterations;++G_)for(C_.SolveVelocityConstraints(),K_=0;K_<this.m_jointCount;++K_)this.m_joints[K_].SolveVelocityConstraints(v_);for(G_=0;G_<this.m_bodyCount;++G_)if(K_=this.m_bodies[G_],K_.GetType()!=y_.b2_staticBody){var z_=v_.dt*K_.m_linearVelocity.x,X_=v_.dt*K_.m_linearVelocity.y;z_*z_+X_*X_>l.b2_maxTranslationSquared&&(K_.m_linearVelocity.Normalize(),K_.m_linearVelocity.x*=l.b2_maxTranslation*v_.inv_dt,K_.m_linearVelocity.y*=l.b2_maxTranslation*v_.inv_dt),z_=v_.dt*K_.m_angularVelocity,z_*z_>l.b2_maxRotationSquared&&(K_.m_angularVelocity=K_.m_angularVelocity<0?-l.b2_maxRotation*v_.inv_dt:l.b2_maxRotation*v_.inv_dt),K_.m_sweep.c0.SetV(K_.m_sweep.c),K_.m_sweep.a0=K_.m_sweep.a,K_.m_sweep.c.x+=v_.dt*K_.m_linearVelocity.x,K_.m_sweep.c.y+=v_.dt*K_.m_linearVelocity.y,K_.m_sweep.a+=v_.dt*K_.m_angularVelocity,K_.SynchronizeTransform()}for(G_=0;G_<v_.positionIterations;++G_){for(z_=C_.SolvePositionConstraints(.75),X_=!0,K_=0;K_<this.m_jointCount;++K_){var l2=this.m_joints[K_].SolvePositionConstraints(l.b2_contactBaumgarte);X_=X_&&l2}if(z_&&X_)break}this.Report(C_.m_constraints)},X2.prototype.Report=function(v_){if(this.m_listener!=null)for(var G_=0;G_<this.m_contactCount;++G_){for(var K_=this.m_contacts[G_],C_=v_[G_],z_=0;z_<C_.pointCount;++z_)X2.s_impulse.normalImpulses[z_]=C_.points[z_].normalImpulse,X2.s_impulse.tangentImpulses[z_]=C_.points[z_].tangentImpulse;this.m_listener.PostSolve(K_,X2.s_impulse)}},X2.prototype.AddBody=function(v_){v_.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=v_},X2.prototype.AddContact=function(v_){this.m_contacts[this.m_contactCount++]=v_},X2.prototype.AddJoint=function(v_){this.m_joints[this.m_jointCount++]=v_},Z_.postDefs.push(function(){Z_.Dynamics.b2Island.s_impulse=new j_}),S_.b2TimeStep=function(){},S_.prototype.Set=function(v_){this.dt=v_.dt,this.inv_dt=v_.inv_dt,this.positionIterations=v_.positionIterations,this.velocityIterations=v_.velocityIterations,this.warmStarting=v_.warmStarting},q_.b2World=function(){this.s_stack=new yA,this.m_contactManager=new p2,this.m_contactSolver=new o2,this.m_island=new X2},q_.prototype.b2World=function(v_,G_){this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.m_debugDraw=this.m_destructionListener=null,this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=0,q_.m_warmStarting=!0,q_.m_continuousPhysics=!0,this.m_allowSleep=G_,this.m_gravity=v_,this.m_inv_dt0=0,this.m_contactManager.m_world=this,this.m_groundBody=this.CreateBody(new I_)},q_.prototype.SetDestructionListener=function(v_){this.m_destructionListener=v_},q_.prototype.SetContactFilter=function(v_){this.m_contactManager.m_contactFilter=v_},q_.prototype.SetContactListener=function(v_){this.m_contactManager.m_contactListener=v_},q_.prototype.SetDebugDraw=function(v_){this.m_debugDraw=v_},q_.prototype.SetBroadPhase=function(v_){var G_=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=v_;for(var K_=this.m_bodyList;K_;K_=K_.m_next)for(var C_=K_.m_fixtureList;C_;C_=C_.m_next)C_.m_proxy=v_.CreateProxy(G_.GetFatAABB(C_.m_proxy),C_)},q_.prototype.Validate=function(){this.m_contactManager.m_broadPhase.Validate()},q_.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()},q_.prototype.CreateBody=function(v_){return this.IsLocked()==!0?null:(v_=new y_(v_,this),v_.m_prev=null,(v_.m_next=this.m_bodyList)&&(this.m_bodyList.m_prev=v_),this.m_bodyList=v_,++this.m_bodyCount,v_)},q_.prototype.DestroyBody=function(v_){if(this.IsLocked()!=!0){for(var G_=v_.m_jointList;G_;){var K_=G_;G_=G_.next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(K_.joint),this.DestroyJoint(K_.joint)}for(G_=v_.m_controllerList;G_;)K_=G_,G_=G_.nextController,K_.controller.RemoveBody(v_);for(G_=v_.m_contactList;G_;)K_=G_,G_=G_.next,this.m_contactManager.Destroy(K_.contact);for(v_.m_contactList=null,G_=v_.m_fixtureList;G_;)K_=G_,G_=G_.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(K_),K_.DestroyProxy(this.m_contactManager.m_broadPhase),K_.Destroy();v_.m_fixtureList=null,v_.m_fixtureCount=0,v_.m_prev&&(v_.m_prev.m_next=v_.m_next),v_.m_next&&(v_.m_next.m_prev=v_.m_prev),v_==this.m_bodyList&&(this.m_bodyList=v_.m_next),--this.m_bodyCount}},q_.prototype.CreateJoint=function(v_){var G_=m2.Create(v_,null);G_.m_prev=null,(G_.m_next=this.m_jointList)&&(this.m_jointList.m_prev=G_),this.m_jointList=G_,++this.m_jointCount,G_.m_edgeA.joint=G_,G_.m_edgeA.other=G_.m_bodyB,G_.m_edgeA.prev=null,(G_.m_edgeA.next=G_.m_bodyA.m_jointList)&&(G_.m_bodyA.m_jointList.prev=G_.m_edgeA),G_.m_bodyA.m_jointList=G_.m_edgeA,G_.m_edgeB.joint=G_,G_.m_edgeB.other=G_.m_bodyA,G_.m_edgeB.prev=null,(G_.m_edgeB.next=G_.m_bodyB.m_jointList)&&(G_.m_bodyB.m_jointList.prev=G_.m_edgeB),G_.m_bodyB.m_jointList=G_.m_edgeB;var K_=v_.bodyA,C_=v_.bodyB;if(v_.collideConnected==!1)for(v_=C_.GetContactList();v_;)v_.other==K_&&v_.contact.FlagForFiltering(),v_=v_.next;return G_},q_.prototype.DestroyJoint=function(v_){var G_=v_.m_collideConnected;v_.m_prev&&(v_.m_prev.m_next=v_.m_next),v_.m_next&&(v_.m_next.m_prev=v_.m_prev),v_==this.m_jointList&&(this.m_jointList=v_.m_next);var K_=v_.m_bodyA,C_=v_.m_bodyB;if(K_.SetAwake(!0),C_.SetAwake(!0),v_.m_edgeA.prev&&(v_.m_edgeA.prev.next=v_.m_edgeA.next),v_.m_edgeA.next&&(v_.m_edgeA.next.prev=v_.m_edgeA.prev),v_.m_edgeA==K_.m_jointList&&(K_.m_jointList=v_.m_edgeA.next),v_.m_edgeA.prev=null,v_.m_edgeA.next=null,v_.m_edgeB.prev&&(v_.m_edgeB.prev.next=v_.m_edgeB.next),v_.m_edgeB.next&&(v_.m_edgeB.next.prev=v_.m_edgeB.prev),v_.m_edgeB==C_.m_jointList&&(C_.m_jointList=v_.m_edgeB.next),v_.m_edgeB.prev=null,v_.m_edgeB.next=null,m2.Destroy(v_,null),--this.m_jointCount,G_==!1)for(v_=C_.GetContactList();v_;)v_.other==K_&&v_.contact.FlagForFiltering(),v_=v_.next},q_.prototype.AddController=function(v_){return v_.m_next=this.m_controllerList,v_.m_prev=null,this.m_controllerList=v_,v_.m_world=this,this.m_controllerCount++,v_},q_.prototype.RemoveController=function(v_){v_.m_prev&&(v_.m_prev.m_next=v_.m_next),v_.m_next&&(v_.m_next.m_prev=v_.m_prev),this.m_controllerList==v_&&(this.m_controllerList=v_.m_next),this.m_controllerCount--},q_.prototype.CreateController=function(v_){if(v_.m_world!=this)throw Error("Controller can only be a member of one world");return v_.m_next=this.m_controllerList,v_.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=v_),this.m_controllerList=v_,++this.m_controllerCount,v_.m_world=this,v_},q_.prototype.DestroyController=function(v_){v_.Clear(),v_.m_next&&(v_.m_next.m_prev=v_.m_prev),v_.m_prev&&(v_.m_prev.m_next=v_.m_next),v_==this.m_controllerList&&(this.m_controllerList=v_.m_next),--this.m_controllerCount},q_.prototype.SetWarmStarting=function(v_){q_.m_warmStarting=v_},q_.prototype.SetContinuousPhysics=function(v_){q_.m_continuousPhysics=v_},q_.prototype.GetBodyCount=function(){return this.m_bodyCount},q_.prototype.GetJointCount=function(){return this.m_jointCount},q_.prototype.GetContactCount=function(){return this.m_contactCount},q_.prototype.SetGravity=function(v_){this.m_gravity=v_},q_.prototype.GetGravity=function(){return this.m_gravity},q_.prototype.GetGroundBody=function(){return this.m_groundBody},q_.prototype.Step=function(v_,G_,K_){v_===void 0&&(v_=0),G_===void 0&&(G_=0),K_===void 0&&(K_=0),this.m_flags&q_.e_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flags&=~q_.e_newFixture),this.m_flags|=q_.e_locked;var C_=q_.s_timestep2;C_.dt=v_,C_.velocityIterations=G_,C_.positionIterations=K_,C_.inv_dt=v_>0?1/v_:0,C_.dtRatio=this.m_inv_dt0*v_,C_.warmStarting=q_.m_warmStarting,this.m_contactManager.Collide(),C_.dt>0&&this.Solve(C_),q_.m_continuousPhysics&&C_.dt>0&&this.SolveTOI(C_),C_.dt>0&&(this.m_inv_dt0=C_.inv_dt),this.m_flags&=~q_.e_locked},q_.prototype.ClearForces=function(){for(var v_=this.m_bodyList;v_;v_=v_.m_next)v_.m_force.SetZero(),v_.m_torque=0},q_.prototype.DrawDebugData=function(){if(this.m_debugDraw!=null){this.m_debugDraw.m_sprite.graphics.clear();var v_=this.m_debugDraw.GetFlags(),G_,K_,C_;new _o,new _o,new _o;var z_;new e_,new e_,z_=[new _o,new _o,new _o,new _o];var X_=new _r(0,0,0);if(v_&u2.e_shapeBit)for(G_=this.m_bodyList;G_;G_=G_.m_next)for(z_=G_.m_xf,K_=G_.GetFixtureList();K_;K_=K_.m_next)C_=K_.GetShape(),G_.IsActive()==!1?X_.Set(.5,.5,.3):G_.GetType()==y_.b2_staticBody?X_.Set(.5,.9,.5):G_.GetType()==y_.b2_kinematicBody?X_.Set(.5,.5,.9):G_.IsAwake()==!1?X_.Set(.6,.6,.6):X_.Set(.9,.7,.7),this.DrawShape(C_,z_,X_);if(v_&u2.e_jointBit)for(G_=this.m_jointList;G_;G_=G_.m_next)this.DrawJoint(G_);if(v_&u2.e_controllerBit)for(G_=this.m_controllerList;G_;G_=G_.m_next)G_.Draw(this.m_debugDraw);if(v_&u2.e_pairBit)for(X_.Set(.3,.9,.9),G_=this.m_contactManager.m_contactList;G_;G_=G_.GetNext())C_=G_.GetFixtureA(),K_=G_.GetFixtureB(),C_=C_.GetAABB().GetCenter(),K_=K_.GetAABB().GetCenter(),this.m_debugDraw.DrawSegment(C_,K_,X_);if(v_&u2.e_aabbBit){for(C_=this.m_contactManager.m_broadPhase,z_=[new _o,new _o,new _o,new _o],G_=this.m_bodyList;G_;G_=G_.GetNext())if(G_.IsActive()!=!1)for(K_=G_.GetFixtureList();K_;K_=K_.GetNext()){var l2=C_.GetFatAABB(K_.m_proxy);z_[0].Set(l2.lowerBound.x,l2.lowerBound.y),z_[1].Set(l2.upperBound.x,l2.lowerBound.y),z_[2].Set(l2.upperBound.x,l2.upperBound.y),z_[3].Set(l2.lowerBound.x,l2.upperBound.y),this.m_debugDraw.DrawPolygon(z_,4,X_)}}if(v_&u2.e_centerOfMassBit)for(G_=this.m_bodyList;G_;G_=G_.m_next)z_=q_.s_xf,z_.R=G_.m_xf.R,z_.position=G_.GetWorldCenter(),this.m_debugDraw.DrawTransform(z_)}},q_.prototype.QueryAABB=function(v_,G_){var K_=this.m_contactManager.m_broadPhase;K_.Query(function(C_){return v_(K_.GetUserData(C_))},G_)},q_.prototype.QueryShape=function(v_,G_,K_){K_===void 0&&(K_=null),K_==null&&(K_=new o,K_.SetIdentity());var C_=this.m_contactManager.m_broadPhase,z_=new e_;G_.ComputeAABB(z_,K_),C_.Query(function(X_){return X_=C_.GetUserData(X_)instanceof q2?C_.GetUserData(X_):null,L_.TestOverlap(G_,K_,X_.GetShape(),X_.GetBody().GetTransform())?v_(X_):!0},z_)},q_.prototype.QueryPoint=function(v_,G_){var K_=this.m_contactManager.m_broadPhase,C_=new e_;C_.lowerBound.Set(G_.x-l.b2_linearSlop,G_.y-l.b2_linearSlop),C_.upperBound.Set(G_.x+l.b2_linearSlop,G_.y+l.b2_linearSlop),K_.Query(function(z_){return z_=K_.GetUserData(z_)instanceof q2?K_.GetUserData(z_):null,z_.TestPoint(G_)?v_(z_):!0},C_)},q_.prototype.RayCast=function(v_,G_,K_){var C_=this.m_contactManager.m_broadPhase,z_=new c_,X_=new _e(G_,K_);C_.RayCast(function(l2,D2){var V2=C_.GetUserData(D2);if(V2=V2 instanceof q2?V2:null,V2.RayCast(z_,l2)){var L2=z_.fraction,B2=new _o((1-L2)*G_.x+L2*K_.x,(1-L2)*G_.y+L2*K_.y);return v_(V2,B2,z_.normal,L2)}return l2.maxFraction},X_)},q_.prototype.RayCastOne=function(v_,G_){var K_;return this.RayCast(function(C_,z_,X_,l2){return l2===void 0&&(l2=0),K_=C_,l2},v_,G_),K_},q_.prototype.RayCastAll=function(v_,G_){var K_=new yA;return this.RayCast(function(C_){return K_[K_.length]=C_,1},v_,G_),K_},q_.prototype.GetBodyList=function(){return this.m_bodyList},q_.prototype.GetJointList=function(){return this.m_jointList},q_.prototype.GetContactList=function(){return this.m_contactList},q_.prototype.IsLocked=function(){return(this.m_flags&q_.e_locked)>0},q_.prototype.Solve=function(v_){for(var G_,K_=this.m_controllerList;K_;K_=K_.m_next)K_.Step(v_);for(K_=this.m_island,K_.Initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver),G_=this.m_bodyList;G_;G_=G_.m_next)G_.m_flags&=~y_.e_islandFlag;for(var C_=this.m_contactList;C_;C_=C_.m_next)C_.m_flags&=~N_.e_islandFlag;for(C_=this.m_jointList;C_;C_=C_.m_next)C_.m_islandFlag=!1;parseInt(this.m_bodyCount),C_=this.s_stack;for(var z_=this.m_bodyList;z_;z_=z_.m_next)if(!(z_.m_flags&y_.e_islandFlag)&&!(z_.IsAwake()==!1||z_.IsActive()==!1)&&z_.GetType()!=y_.b2_staticBody){K_.Clear();var X_=0;for(C_[X_++]=z_,z_.m_flags|=y_.e_islandFlag;X_>0;)if(G_=C_[--X_],K_.AddBody(G_),G_.IsAwake()==!1&&G_.SetAwake(!0),G_.GetType()!=y_.b2_staticBody){for(var l2,D2=G_.m_contactList;D2;D2=D2.next)D2.contact.m_flags&N_.e_islandFlag||D2.contact.IsSensor()==!0||D2.contact.IsEnabled()==!1||D2.contact.IsTouching()==!1||(K_.AddContact(D2.contact),D2.contact.m_flags|=N_.e_islandFlag,l2=D2.other,l2.m_flags&y_.e_islandFlag||(C_[X_++]=l2,l2.m_flags|=y_.e_islandFlag));for(G_=G_.m_jointList;G_;G_=G_.next)G_.joint.m_islandFlag!=!0&&(l2=G_.other,l2.IsActive()!=!1&&(K_.AddJoint(G_.joint),G_.joint.m_islandFlag=!0,l2.m_flags&y_.e_islandFlag||(C_[X_++]=l2,l2.m_flags|=y_.e_islandFlag)))}for(K_.Solve(v_,this.m_gravity,this.m_allowSleep),X_=0;X_<K_.m_bodyCount;++X_)G_=K_.m_bodies[X_],G_.GetType()==y_.b2_staticBody&&(G_.m_flags&=~y_.e_islandFlag)}for(X_=0;X_<C_.length&&C_[X_];++X_)C_[X_]=null;for(G_=this.m_bodyList;G_;G_=G_.m_next)G_.IsAwake()==!1||G_.IsActive()==!1||G_.GetType()!=y_.b2_staticBody&&G_.SynchronizeFixtures();this.m_contactManager.FindNewContacts()},q_.prototype.SolveTOI=function(v_){var G_,K_,C_,z_=this.m_island;z_.Initialize(this.m_bodyCount,l.b2_maxTOIContactsPerIsland,l.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);var X_=q_.s_queue;for(G_=this.m_bodyList;G_;G_=G_.m_next)G_.m_flags&=~y_.e_islandFlag,G_.m_sweep.t0=0;for(C_=this.m_contactList;C_;C_=C_.m_next)C_.m_flags&=~(N_.e_toiFlag|N_.e_islandFlag);for(C_=this.m_jointList;C_;C_=C_.m_next)C_.m_islandFlag=!1;for(;;){var l2=null,D2=1;for(C_=this.m_contactList;C_;C_=C_.m_next)if(!(C_.IsSensor()==!0||C_.IsEnabled()==!1||C_.IsContinuous()==!1)){if(G_=1,C_.m_flags&N_.e_toiFlag)G_=C_.m_toi;else{if(G_=C_.m_fixtureA,K_=C_.m_fixtureB,G_=G_.m_body,K_=K_.m_body,(G_.GetType()!=y_.b2_dynamicBody||G_.IsAwake()==!1)&&(K_.GetType()!=y_.b2_dynamicBody||K_.IsAwake()==!1))continue;var V2=G_.m_sweep.t0;G_.m_sweep.t0<K_.m_sweep.t0?(V2=K_.m_sweep.t0,G_.m_sweep.Advance(V2)):K_.m_sweep.t0<G_.m_sweep.t0&&(V2=G_.m_sweep.t0,K_.m_sweep.Advance(V2)),G_=C_.ComputeTOI(G_.m_sweep,K_.m_sweep),l.b2Assert(0<=G_&&G_<=1),G_>0&&G_<1&&(G_=(1-G_)*V2+G_,G_>1&&(G_=1)),C_.m_toi=G_,C_.m_flags|=N_.e_toiFlag}Number.MIN_VALUE<G_&&G_<D2&&(l2=C_,D2=G_)}if(l2==null||1-100*Number.MIN_VALUE<D2)break;if(G_=l2.m_fixtureA,K_=l2.m_fixtureB,G_=G_.m_body,K_=K_.m_body,q_.s_backupA.Set(G_.m_sweep),q_.s_backupB.Set(K_.m_sweep),G_.Advance(D2),K_.Advance(D2),l2.Update(this.m_contactManager.m_contactListener),l2.m_flags&=~N_.e_toiFlag,l2.IsSensor()==!0||l2.IsEnabled()==!1)G_.m_sweep.Set(q_.s_backupA),K_.m_sweep.Set(q_.s_backupB),G_.SynchronizeTransform(),K_.SynchronizeTransform();else if(l2.IsTouching()!=!1){for(G_=G_,G_.GetType()!=y_.b2_dynamicBody&&(G_=K_),z_.Clear(),l2=C_=0,X_[C_+l2++]=G_,G_.m_flags|=y_.e_islandFlag;l2>0;)if(G_=X_[C_++],--l2,z_.AddBody(G_),G_.IsAwake()==!1&&G_.SetAwake(!0),G_.GetType()==y_.b2_dynamicBody){for(K_=G_.m_contactList;K_&&z_.m_contactCount!=z_.m_contactCapacity;K_=K_.next)K_.contact.m_flags&N_.e_islandFlag||K_.contact.IsSensor()==!0||K_.contact.IsEnabled()==!1||K_.contact.IsTouching()==!1||(z_.AddContact(K_.contact),K_.contact.m_flags|=N_.e_islandFlag,V2=K_.other,V2.m_flags&y_.e_islandFlag||(V2.GetType()!=y_.b2_staticBody&&(V2.Advance(D2),V2.SetAwake(!0)),X_[C_+l2]=V2,++l2,V2.m_flags|=y_.e_islandFlag));for(G_=G_.m_jointList;G_;G_=G_.next)z_.m_jointCount!=z_.m_jointCapacity&&G_.joint.m_islandFlag!=!0&&(V2=G_.other,V2.IsActive()!=!1&&(z_.AddJoint(G_.joint),G_.joint.m_islandFlag=!0,V2.m_flags&y_.e_islandFlag||(V2.GetType()!=y_.b2_staticBody&&(V2.Advance(D2),V2.SetAwake(!0)),X_[C_+l2]=V2,++l2,V2.m_flags|=y_.e_islandFlag)))}for(C_=q_.s_timestep,C_.warmStarting=!1,C_.dt=(1-D2)*v_.dt,C_.inv_dt=1/C_.dt,C_.dtRatio=0,C_.velocityIterations=v_.velocityIterations,C_.positionIterations=v_.positionIterations,z_.SolveTOI(C_),D2=D2=0;D2<z_.m_bodyCount;++D2)if(G_=z_.m_bodies[D2],G_.m_flags&=~y_.e_islandFlag,G_.IsAwake()!=!1&&G_.GetType()==y_.b2_dynamicBody)for(G_.SynchronizeFixtures(),K_=G_.m_contactList;K_;K_=K_.next)K_.contact.m_flags&=~N_.e_toiFlag;for(D2=0;D2<z_.m_contactCount;++D2)C_=z_.m_contacts[D2],C_.m_flags&=~(N_.e_toiFlag|N_.e_islandFlag);for(D2=0;D2<z_.m_jointCount;++D2)C_=z_.m_joints[D2],C_.m_islandFlag=!1;this.m_contactManager.FindNewContacts()}}},q_.prototype.DrawJoint=function(v_){var G_=v_.GetBodyA(),K_=v_.GetBodyB(),C_=G_.m_xf.position,z_=K_.m_xf.position,X_=v_.GetAnchorA(),l2=v_.GetAnchorB(),D2=q_.s_jointColor;switch(v_.m_type){case m2.e_distanceJoint:this.m_debugDraw.DrawSegment(X_,l2,D2);break;case m2.e_pulleyJoint:G_=v_ instanceof _2?v_:null,v_=G_.GetGroundAnchorA(),G_=G_.GetGroundAnchorB(),this.m_debugDraw.DrawSegment(v_,X_,D2),this.m_debugDraw.DrawSegment(G_,l2,D2),this.m_debugDraw.DrawSegment(v_,G_,D2);break;case m2.e_mouseJoint:this.m_debugDraw.DrawSegment(X_,l2,D2);break;default:G_!=this.m_groundBody&&this.m_debugDraw.DrawSegment(C_,X_,D2),this.m_debugDraw.DrawSegment(X_,l2,D2),K_!=this.m_groundBody&&this.m_debugDraw.DrawSegment(z_,l2,D2)}},q_.prototype.DrawShape=function(v_,G_,K_){switch(v_.m_type){case L_.e_circleShape:var C_=v_ instanceof ws?v_:null;this.m_debugDraw.DrawSolidCircle(x.MulX(G_,C_.m_p),C_.m_radius,G_.R.col1,K_);break;case L_.e_polygonShape:C_=0,C_=v_ instanceof w_?v_:null,v_=parseInt(C_.GetVertexCount());var z_=C_.GetVertices(),X_=new yA(v_);for(C_=0;C_<v_;++C_)X_[C_]=x.MulX(G_,z_[C_]);this.m_debugDraw.DrawSolidPolygon(X_,v_,K_);break;case L_.e_edgeShape:C_=v_ instanceof h_?v_:null,this.m_debugDraw.DrawSegment(x.MulX(G_,C_.GetVertex1()),x.MulX(G_,C_.GetVertex2()),K_)}},Z_.postDefs.push(function(){Z_.Dynamics.b2World.s_timestep2=new S_,Z_.Dynamics.b2World.s_xf=new o,Z_.Dynamics.b2World.s_backupA=new V,Z_.Dynamics.b2World.s_backupB=new V,Z_.Dynamics.b2World.s_timestep=new S_,Z_.Dynamics.b2World.s_queue=new yA,Z_.Dynamics.b2World.s_jointColor=new _r(.5,.8,.8),Z_.Dynamics.b2World.e_newFixture=1,Z_.Dynamics.b2World.e_locked=2})})();(function(){var x=Z_.Collision.Shapes.b2CircleShape,V=Z_.Collision.Shapes.b2EdgeShape,o=Z_.Collision.Shapes.b2PolygonShape,_o=Z_.Collision.Shapes.b2Shape,_r=Z_.Dynamics.Contacts.b2CircleContact,l=Z_.Dynamics.Contacts.b2Contact,e_=Z_.Dynamics.Contacts.b2ContactConstraint,o_=Z_.Dynamics.Contacts.b2ContactConstraintPoint,i_=Z_.Dynamics.Contacts.b2ContactEdge,_e=Z_.Dynamics.Contacts.b2ContactFactory,c_=Z_.Dynamics.Contacts.b2ContactRegister,ws=Z_.Dynamics.Contacts.b2ContactResult,h_=Z_.Dynamics.Contacts.b2ContactSolver,s_=Z_.Dynamics.Contacts.b2EdgeAndCircleContact,w_=Z_.Dynamics.Contacts.b2NullContact,L_=Z_.Dynamics.Contacts.b2PolyAndCircleContact,y_=Z_.Dynamics.Contacts.b2PolyAndEdgeContact,I_=Z_.Dynamics.Contacts.b2PolygonContact,k_=Z_.Dynamics.Contacts.b2PositionSolverManifold,j_=Z_.Dynamics.b2Body,n2=Z_.Dynamics.b2TimeStep,p2=Z_.Common.b2Settings,u2=Z_.Common.Math.b2Mat22,T2=Z_.Common.Math.b2Math,I2=Z_.Common.Math.b2Vec2,q2=Z_.Collision.b2Collision,O2=Z_.Collision.b2ContactID,X2=Z_.Collision.b2Manifold,S_=Z_.Collision.b2TimeOfImpact,q_=Z_.Collision.b2TOIInput,N_=Z_.Collision.b2WorldManifold;Z_.inherit(_r,Z_.Dynamics.Contacts.b2Contact),_r.prototype.__super=Z_.Dynamics.Contacts.b2Contact.prototype,_r.b2CircleContact=function(){Z_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},_r.Create=function(){return new _r},_r.Destroy=function(){},_r.prototype.Reset=function(W_,o2){this.__super.Reset.call(this,W_,o2)},_r.prototype.Evaluate=function(){var W_=this.m_fixtureA.GetBody(),o2=this.m_fixtureB.GetBody();q2.CollideCircles(this.m_manifold,this.m_fixtureA.GetShape()instanceof x?this.m_fixtureA.GetShape():null,W_.m_xf,this.m_fixtureB.GetShape()instanceof x?this.m_fixtureB.GetShape():null,o2.m_xf)},l.b2Contact=function(){this.m_nodeA=new i_,this.m_nodeB=new i_,this.m_manifold=new X2,this.m_oldManifold=new X2},l.prototype.GetManifold=function(){return this.m_manifold},l.prototype.GetWorldManifold=function(W_){var o2=this.m_fixtureA.GetBody(),m2=this.m_fixtureB.GetBody(),_2=this.m_fixtureA.GetShape(),v_=this.m_fixtureB.GetShape();W_.Initialize(this.m_manifold,o2.GetTransform(),_2.m_radius,m2.GetTransform(),v_.m_radius)},l.prototype.IsTouching=function(){return(this.m_flags&l.e_touchingFlag)==l.e_touchingFlag},l.prototype.IsContinuous=function(){return(this.m_flags&l.e_continuousFlag)==l.e_continuousFlag},l.prototype.SetSensor=function(W_){W_?this.m_flags|=l.e_sensorFlag:this.m_flags&=~l.e_sensorFlag},l.prototype.IsSensor=function(){return(this.m_flags&l.e_sensorFlag)==l.e_sensorFlag},l.prototype.SetEnabled=function(W_){W_?this.m_flags|=l.e_enabledFlag:this.m_flags&=~l.e_enabledFlag},l.prototype.IsEnabled=function(){return(this.m_flags&l.e_enabledFlag)==l.e_enabledFlag},l.prototype.GetNext=function(){return this.m_next},l.prototype.GetFixtureA=function(){return this.m_fixtureA},l.prototype.GetFixtureB=function(){return this.m_fixtureB},l.prototype.FlagForFiltering=function(){this.m_flags|=l.e_filterFlag},l.prototype.b2Contact=function(){},l.prototype.Reset=function(W_,o2){if(W_===void 0&&(W_=null),o2===void 0&&(o2=null),this.m_flags=l.e_enabledFlag,!W_||!o2)this.m_fixtureB=this.m_fixtureA=null;else{(W_.IsSensor()||o2.IsSensor())&&(this.m_flags|=l.e_sensorFlag);var m2=W_.GetBody(),_2=o2.GetBody();(m2.GetType()!=j_.b2_dynamicBody||m2.IsBullet()||_2.GetType()!=j_.b2_dynamicBody||_2.IsBullet())&&(this.m_flags|=l.e_continuousFlag),this.m_fixtureA=W_,this.m_fixtureB=o2,this.m_manifold.m_pointCount=0,this.m_next=this.m_prev=null,this.m_nodeA.contact=null,this.m_nodeA.prev=null,this.m_nodeA.next=null,this.m_nodeA.other=null,this.m_nodeB.contact=null,this.m_nodeB.prev=null,this.m_nodeB.next=null,this.m_nodeB.other=null}},l.prototype.Update=function(W_){var o2=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=o2,this.m_flags|=l.e_enabledFlag;var m2=!1;o2=(this.m_flags&l.e_touchingFlag)==l.e_touchingFlag;var _2=this.m_fixtureA.m_body,v_=this.m_fixtureB.m_body,G_=this.m_fixtureA.m_aabb.TestOverlap(this.m_fixtureB.m_aabb);if(this.m_flags&l.e_sensorFlag)G_&&(m2=this.m_fixtureA.GetShape(),G_=this.m_fixtureB.GetShape(),_2=_2.GetTransform(),v_=v_.GetTransform(),m2=_o.TestOverlap(m2,_2,G_,v_)),this.m_manifold.m_pointCount=0;else{if(_2.GetType()!=j_.b2_dynamicBody||_2.IsBullet()||v_.GetType()!=j_.b2_dynamicBody||v_.IsBullet()?this.m_flags|=l.e_continuousFlag:this.m_flags&=~l.e_continuousFlag,G_)for(this.Evaluate(),m2=this.m_manifold.m_pointCount>0,G_=0;G_<this.m_manifold.m_pointCount;++G_){var K_=this.m_manifold.m_points[G_];K_.m_normalImpulse=0,K_.m_tangentImpulse=0;for(var C_=K_.m_id,z_=0;z_<this.m_oldManifold.m_pointCount;++z_){var X_=this.m_oldManifold.m_points[z_];if(X_.m_id.key==C_.key){K_.m_normalImpulse=X_.m_normalImpulse,K_.m_tangentImpulse=X_.m_tangentImpulse;break}}}else this.m_manifold.m_pointCount=0;m2!=o2&&(_2.SetAwake(!0),v_.SetAwake(!0))}m2?this.m_flags|=l.e_touchingFlag:this.m_flags&=~l.e_touchingFlag,o2==!1&&m2==!0&&W_.BeginContact(this),o2==!0&&m2==!1&&W_.EndContact(this),!(this.m_flags&l.e_sensorFlag)&&W_.PreSolve(this,this.m_oldManifold)},l.prototype.Evaluate=function(){},l.prototype.ComputeTOI=function(W_,o2){return l.s_input.proxyA.Set(this.m_fixtureA.GetShape()),l.s_input.proxyB.Set(this.m_fixtureB.GetShape()),l.s_input.sweepA=W_,l.s_input.sweepB=o2,l.s_input.tolerance=p2.b2_linearSlop,S_.TimeOfImpact(l.s_input)},Z_.postDefs.push(function(){Z_.Dynamics.Contacts.b2Contact.e_sensorFlag=1,Z_.Dynamics.Contacts.b2Contact.e_continuousFlag=2,Z_.Dynamics.Contacts.b2Contact.e_islandFlag=4,Z_.Dynamics.Contacts.b2Contact.e_toiFlag=8,Z_.Dynamics.Contacts.b2Contact.e_touchingFlag=16,Z_.Dynamics.Contacts.b2Contact.e_enabledFlag=32,Z_.Dynamics.Contacts.b2Contact.e_filterFlag=64,Z_.Dynamics.Contacts.b2Contact.s_input=new q_}),e_.b2ContactConstraint=function(){this.localPlaneNormal=new I2,this.localPoint=new I2,this.normal=new I2,this.normalMass=new u2,this.K=new u2},e_.prototype.b2ContactConstraint=function(){this.points=new yA(p2.b2_maxManifoldPoints);for(var W_=0;W_<p2.b2_maxManifoldPoints;W_++)this.points[W_]=new o_},o_.b2ContactConstraintPoint=function(){this.localPoint=new I2,this.rA=new I2,this.rB=new I2},i_.b2ContactEdge=function(){},_e.b2ContactFactory=function(){},_e.prototype.b2ContactFactory=function(W_){this.m_allocator=W_,this.InitializeRegisters()},_e.prototype.AddType=function(W_,o2,m2,_2){m2===void 0&&(m2=0),_2===void 0&&(_2=0),this.m_registers[m2][_2].createFcn=W_,this.m_registers[m2][_2].destroyFcn=o2,this.m_registers[m2][_2].primary=!0,m2!=_2&&(this.m_registers[_2][m2].createFcn=W_,this.m_registers[_2][m2].destroyFcn=o2,this.m_registers[_2][m2].primary=!1)},_e.prototype.InitializeRegisters=function(){this.m_registers=new yA(_o.e_shapeTypeCount);for(var W_=0;W_<_o.e_shapeTypeCount;W_++){this.m_registers[W_]=new yA(_o.e_shapeTypeCount);for(var o2=0;o2<_o.e_shapeTypeCount;o2++)this.m_registers[W_][o2]=new c_}this.AddType(_r.Create,_r.Destroy,_o.e_circleShape,_o.e_circleShape),this.AddType(L_.Create,L_.Destroy,_o.e_polygonShape,_o.e_circleShape),this.AddType(I_.Create,I_.Destroy,_o.e_polygonShape,_o.e_polygonShape),this.AddType(s_.Create,s_.Destroy,_o.e_edgeShape,_o.e_circleShape),this.AddType(y_.Create,y_.Destroy,_o.e_polygonShape,_o.e_edgeShape)},_e.prototype.Create=function(W_,o2){var m2=parseInt(W_.GetType()),_2=parseInt(o2.GetType());return m2=this.m_registers[m2][_2],m2.pool?(_2=m2.pool,m2.pool=_2.m_next,m2.poolCount--,_2.Reset(W_,o2),_2):(_2=m2.createFcn,_2!=null?(m2.primary?(_2=_2(this.m_allocator),_2.Reset(W_,o2)):(_2=_2(this.m_allocator),_2.Reset(o2,W_)),_2):null)},_e.prototype.Destroy=function(W_){W_.m_manifold.m_pointCount>0&&(W_.m_fixtureA.m_body.SetAwake(!0),W_.m_fixtureB.m_body.SetAwake(!0));var o2=parseInt(W_.m_fixtureA.GetType()),m2=parseInt(W_.m_fixtureB.GetType());o2=this.m_registers[o2][m2],o2.poolCount++,W_.m_next=o2.pool,o2.pool=W_,o2=o2.destroyFcn,o2(W_,this.m_allocator)},c_.b2ContactRegister=function(){},ws.b2ContactResult=function(){this.position=new I2,this.normal=new I2,this.id=new O2},h_.b2ContactSolver=function(){this.m_step=new n2,this.m_constraints=new yA},h_.prototype.b2ContactSolver=function(){},h_.prototype.Initialize=function(W_,o2,m2,_2){m2===void 0&&(m2=0);var v_;for(this.m_step.Set(W_),this.m_allocator=_2,W_=0,this.m_constraintCount=m2;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new e_;for(W_=0;W_<m2;++W_){v_=o2[W_],_2=v_.m_fixtureA;var G_=v_.m_fixtureB,K_=_2.m_shape.m_radius,C_=G_.m_shape.m_radius,z_=_2.m_body,X_=G_.m_body,l2=v_.GetManifold(),D2=p2.b2MixFriction(_2.GetFriction(),G_.GetFriction()),V2=p2.b2MixRestitution(_2.GetRestitution(),G_.GetRestitution()),L2=z_.m_linearVelocity.x,B2=z_.m_linearVelocity.y,J2=X_.m_linearVelocity.x,U2=X_.m_linearVelocity.y,pa=z_.m_angularVelocity,h0=X_.m_angularVelocity;for(p2.b2Assert(l2.m_pointCount>0),h_.s_worldManifold.Initialize(l2,z_.m_xf,K_,X_.m_xf,C_),G_=h_.s_worldManifold.m_normal.x,v_=h_.s_worldManifold.m_normal.y,_2=this.m_constraints[W_],_2.bodyA=z_,_2.bodyB=X_,_2.manifold=l2,_2.normal.x=G_,_2.normal.y=v_,_2.pointCount=l2.m_pointCount,_2.friction=D2,_2.restitution=V2,_2.localPlaneNormal.x=l2.m_localPlaneNormal.x,_2.localPlaneNormal.y=l2.m_localPlaneNormal.y,_2.localPoint.x=l2.m_localPoint.x,_2.localPoint.y=l2.m_localPoint.y,_2.radius=K_+C_,_2.type=l2.m_type,K_=0;K_<_2.pointCount;++K_){D2=l2.m_points[K_],C_=_2.points[K_],C_.normalImpulse=D2.m_normalImpulse,C_.tangentImpulse=D2.m_tangentImpulse,C_.localPoint.SetV(D2.m_localPoint),D2=C_.rA.x=h_.s_worldManifold.m_points[K_].x-z_.m_sweep.c.x,V2=C_.rA.y=h_.s_worldManifold.m_points[K_].y-z_.m_sweep.c.y;var i0=C_.rB.x=h_.s_worldManifold.m_points[K_].x-X_.m_sweep.c.x,S0=C_.rB.y=h_.s_worldManifold.m_points[K_].y-X_.m_sweep.c.y,k0=D2*v_-V2*G_,P0=i0*v_-S0*G_;k0*=k0,P0*=P0,C_.normalMass=1/(z_.m_invMass+X_.m_invMass+z_.m_invI*k0+X_.m_invI*P0);var L0=z_.m_mass*z_.m_invMass+X_.m_mass*X_.m_invMass;L0+=z_.m_mass*z_.m_invI*k0+X_.m_mass*X_.m_invI*P0,C_.equalizedMass=1/L0,P0=v_,L0=-G_,k0=D2*L0-V2*P0,P0=i0*L0-S0*P0,k0*=k0,P0*=P0,C_.tangentMass=1/(z_.m_invMass+X_.m_invMass+z_.m_invI*k0+X_.m_invI*P0),C_.velocityBias=0,D2=_2.normal.x*(J2+-h0*S0-L2- -pa*V2)+_2.normal.y*(U2+h0*i0-B2-pa*D2),D2<-p2.b2_velocityThreshold&&(C_.velocityBias+=-_2.restitution*D2)}_2.pointCount==2&&(U2=_2.points[0],J2=_2.points[1],l2=z_.m_invMass,z_=z_.m_invI,L2=X_.m_invMass,X_=X_.m_invI,B2=U2.rA.x*v_-U2.rA.y*G_,U2=U2.rB.x*v_-U2.rB.y*G_,pa=J2.rA.x*v_-J2.rA.y*G_,J2=J2.rB.x*v_-J2.rB.y*G_,G_=l2+L2+z_*B2*B2+X_*U2*U2,v_=l2+L2+z_*pa*pa+X_*J2*J2,X_=l2+L2+z_*B2*pa+X_*U2*J2,G_*G_<100*(G_*v_-X_*X_)?(_2.K.col1.Set(G_,X_),_2.K.col2.Set(X_,v_),_2.K.GetInverse(_2.normalMass)):_2.pointCount=1)}},h_.prototype.InitVelocityConstraints=function(W_){for(var o2=0;o2<this.m_constraintCount;++o2){var m2=this.m_constraints[o2],_2=m2.bodyA,v_=m2.bodyB,G_=_2.m_invMass,K_=_2.m_invI,C_=v_.m_invMass,z_=v_.m_invI,X_=m2.normal.x,l2=m2.normal.y,D2=l2,V2=-X_,L2=0,B2=0;if(W_.warmStarting)for(B2=m2.pointCount,L2=0;L2<B2;++L2){var J2=m2.points[L2];J2.normalImpulse*=W_.dtRatio,J2.tangentImpulse*=W_.dtRatio;var U2=J2.normalImpulse*X_+J2.tangentImpulse*D2,pa=J2.normalImpulse*l2+J2.tangentImpulse*V2;_2.m_angularVelocity-=K_*(J2.rA.x*pa-J2.rA.y*U2),_2.m_linearVelocity.x-=G_*U2,_2.m_linearVelocity.y-=G_*pa,v_.m_angularVelocity+=z_*(J2.rB.x*pa-J2.rB.y*U2),v_.m_linearVelocity.x+=C_*U2,v_.m_linearVelocity.y+=C_*pa}else for(B2=m2.pointCount,L2=0;L2<B2;++L2)_2=m2.points[L2],_2.normalImpulse=0,_2.tangentImpulse=0}},h_.prototype.SolveVelocityConstraints=function(){for(var W_=0,o2,m2=0,_2=0,v_=0,G_=_2=_2=m2=m2=0,K_=m2=m2=0,C_=m2=v_=0,z_=0,X_,l2=0;l2<this.m_constraintCount;++l2){v_=this.m_constraints[l2];var D2=v_.bodyA,V2=v_.bodyB,L2=D2.m_angularVelocity,B2=V2.m_angularVelocity,J2=D2.m_linearVelocity,U2=V2.m_linearVelocity,pa=D2.m_invMass,h0=D2.m_invI,i0=V2.m_invMass,S0=V2.m_invI;C_=v_.normal.x;var k0=z_=v_.normal.y;for(X_=-C_,K_=v_.friction,W_=0;W_<v_.pointCount;W_++)o2=v_.points[W_],m2=U2.x-B2*o2.rB.y-J2.x+L2*o2.rA.y,_2=U2.y+B2*o2.rB.x-J2.y-L2*o2.rA.x,m2=m2*k0+_2*X_,m2=o2.tangentMass*-m2,_2=K_*o2.normalImpulse,_2=T2.Clamp(o2.tangentImpulse+m2,-_2,_2),m2=_2-o2.tangentImpulse,G_=m2*k0,m2=m2*X_,J2.x-=pa*G_,J2.y-=pa*m2,L2-=h0*(o2.rA.x*m2-o2.rA.y*G_),U2.x+=i0*G_,U2.y+=i0*m2,B2+=S0*(o2.rB.x*m2-o2.rB.y*G_),o2.tangentImpulse=_2;if(parseInt(v_.pointCount),v_.pointCount==1)o2=v_.points[0],m2=U2.x+-B2*o2.rB.y-J2.x- -L2*o2.rA.y,_2=U2.y+B2*o2.rB.x-J2.y-L2*o2.rA.x,v_=m2*C_+_2*z_,m2=-o2.normalMass*(v_-o2.velocityBias),_2=o2.normalImpulse+m2,_2=_2>0?_2:0,m2=_2-o2.normalImpulse,G_=m2*C_,m2=m2*z_,J2.x-=pa*G_,J2.y-=pa*m2,L2-=h0*(o2.rA.x*m2-o2.rA.y*G_),U2.x+=i0*G_,U2.y+=i0*m2,B2+=S0*(o2.rB.x*m2-o2.rB.y*G_),o2.normalImpulse=_2;else{o2=v_.points[0],W_=v_.points[1],m2=o2.normalImpulse,K_=W_.normalImpulse;var P0=(U2.x-B2*o2.rB.y-J2.x+L2*o2.rA.y)*C_+(U2.y+B2*o2.rB.x-J2.y-L2*o2.rA.x)*z_,L0=(U2.x-B2*W_.rB.y-J2.x+L2*W_.rA.y)*C_+(U2.y+B2*W_.rB.x-J2.y-L2*W_.rA.x)*z_;for(_2=P0-o2.velocityBias,G_=L0-W_.velocityBias,X_=v_.K,_2-=X_.col1.x*m2+X_.col2.x*K_,G_-=X_.col1.y*m2+X_.col2.y*K_;;){if(X_=v_.normalMass,k0=-(X_.col1.x*_2+X_.col2.x*G_),X_=-(X_.col1.y*_2+X_.col2.y*G_),k0>=0&&X_>=0){m2=k0-m2,K_=X_-K_,v_=m2*C_,m2=m2*z_,C_=K_*C_,z_=K_*z_,J2.x-=pa*(v_+C_),J2.y-=pa*(m2+z_),L2-=h0*(o2.rA.x*m2-o2.rA.y*v_+W_.rA.x*z_-W_.rA.y*C_),U2.x+=i0*(v_+C_),U2.y+=i0*(m2+z_),B2+=S0*(o2.rB.x*m2-o2.rB.y*v_+W_.rB.x*z_-W_.rB.y*C_),o2.normalImpulse=k0,W_.normalImpulse=X_;break}if(k0=-o2.normalMass*_2,X_=0,L0=v_.K.col1.y*k0+G_,k0>=0&&L0>=0){m2=k0-m2,K_=X_-K_,v_=m2*C_,m2=m2*z_,C_=K_*C_,z_=K_*z_,J2.x-=pa*(v_+C_),J2.y-=pa*(m2+z_),L2-=h0*(o2.rA.x*m2-o2.rA.y*v_+W_.rA.x*z_-W_.rA.y*C_),U2.x+=i0*(v_+C_),U2.y+=i0*(m2+z_),B2+=S0*(o2.rB.x*m2-o2.rB.y*v_+W_.rB.x*z_-W_.rB.y*C_),o2.normalImpulse=k0,W_.normalImpulse=X_;break}if(k0=0,X_=-W_.normalMass*G_,P0=v_.K.col2.x*X_+_2,X_>=0&&P0>=0){m2=k0-m2,K_=X_-K_,v_=m2*C_,m2=m2*z_,C_=K_*C_,z_=K_*z_,J2.x-=pa*(v_+C_),J2.y-=pa*(m2+z_),L2-=h0*(o2.rA.x*m2-o2.rA.y*v_+W_.rA.x*z_-W_.rA.y*C_),U2.x+=i0*(v_+C_),U2.y+=i0*(m2+z_),B2+=S0*(o2.rB.x*m2-o2.rB.y*v_+W_.rB.x*z_-W_.rB.y*C_),o2.normalImpulse=k0,W_.normalImpulse=X_;break}if(X_=k0=0,P0=_2,L0=G_,P0>=0&&L0>=0){m2=k0-m2,K_=X_-K_,v_=m2*C_,m2=m2*z_,C_=K_*C_,z_=K_*z_,J2.x-=pa*(v_+C_),J2.y-=pa*(m2+z_),L2-=h0*(o2.rA.x*m2-o2.rA.y*v_+W_.rA.x*z_-W_.rA.y*C_),U2.x+=i0*(v_+C_),U2.y+=i0*(m2+z_),B2+=S0*(o2.rB.x*m2-o2.rB.y*v_+W_.rB.x*z_-W_.rB.y*C_),o2.normalImpulse=k0,W_.normalImpulse=X_;break}break}}D2.m_angularVelocity=L2,V2.m_angularVelocity=B2}},h_.prototype.FinalizeVelocityConstraints=function(){for(var W_=0;W_<this.m_constraintCount;++W_)for(var o2=this.m_constraints[W_],m2=o2.manifold,_2=0;_2<o2.pointCount;++_2){var v_=m2.m_points[_2],G_=o2.points[_2];v_.m_normalImpulse=G_.normalImpulse,v_.m_tangentImpulse=G_.tangentImpulse}},h_.prototype.SolvePositionConstraints=function(W_){W_===void 0&&(W_=0);for(var o2=0,m2=0;m2<this.m_constraintCount;m2++){var _2=this.m_constraints[m2],v_=_2.bodyA,G_=_2.bodyB,K_=v_.m_mass*v_.m_invMass,C_=v_.m_mass*v_.m_invI,z_=G_.m_mass*G_.m_invMass,X_=G_.m_mass*G_.m_invI;h_.s_psm.Initialize(_2);for(var l2=h_.s_psm.m_normal,D2=0;D2<_2.pointCount;D2++){var V2=_2.points[D2],L2=h_.s_psm.m_points[D2],B2=h_.s_psm.m_separations[D2],J2=L2.x-v_.m_sweep.c.x,U2=L2.y-v_.m_sweep.c.y,pa=L2.x-G_.m_sweep.c.x;L2=L2.y-G_.m_sweep.c.y,o2=o2<B2?o2:B2,B2=T2.Clamp(W_*(B2+p2.b2_linearSlop),-p2.b2_maxLinearCorrection,0),B2=-V2.equalizedMass*B2,V2=B2*l2.x,B2=B2*l2.y,v_.m_sweep.c.x-=K_*V2,v_.m_sweep.c.y-=K_*B2,v_.m_sweep.a-=C_*(J2*B2-U2*V2),v_.SynchronizeTransform(),G_.m_sweep.c.x+=z_*V2,G_.m_sweep.c.y+=z_*B2,G_.m_sweep.a+=X_*(pa*B2-L2*V2),G_.SynchronizeTransform()}}return o2>-1.5*p2.b2_linearSlop},Z_.postDefs.push(function(){Z_.Dynamics.Contacts.b2ContactSolver.s_worldManifold=new N_,Z_.Dynamics.Contacts.b2ContactSolver.s_psm=new k_}),Z_.inherit(s_,Z_.Dynamics.Contacts.b2Contact),s_.prototype.__super=Z_.Dynamics.Contacts.b2Contact.prototype,s_.b2EdgeAndCircleContact=function(){Z_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},s_.Create=function(){return new s_},s_.Destroy=function(){},s_.prototype.Reset=function(W_,o2){this.__super.Reset.call(this,W_,o2)},s_.prototype.Evaluate=function(){var W_=this.m_fixtureA.GetBody(),o2=this.m_fixtureB.GetBody();this.b2CollideEdgeAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof V?this.m_fixtureA.GetShape():null,W_.m_xf,this.m_fixtureB.GetShape()instanceof x?this.m_fixtureB.GetShape():null,o2.m_xf)},s_.prototype.b2CollideEdgeAndCircle=function(){},Z_.inherit(w_,Z_.Dynamics.Contacts.b2Contact),w_.prototype.__super=Z_.Dynamics.Contacts.b2Contact.prototype,w_.b2NullContact=function(){Z_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},w_.prototype.b2NullContact=function(){this.__super.b2Contact.call(this)},w_.prototype.Evaluate=function(){},Z_.inherit(L_,Z_.Dynamics.Contacts.b2Contact),L_.prototype.__super=Z_.Dynamics.Contacts.b2Contact.prototype,L_.b2PolyAndCircleContact=function(){Z_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},L_.Create=function(){return new L_},L_.Destroy=function(){},L_.prototype.Reset=function(W_,o2){this.__super.Reset.call(this,W_,o2),p2.b2Assert(W_.GetType()==_o.e_polygonShape),p2.b2Assert(o2.GetType()==_o.e_circleShape)},L_.prototype.Evaluate=function(){var W_=this.m_fixtureA.m_body,o2=this.m_fixtureB.m_body;q2.CollidePolygonAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof o?this.m_fixtureA.GetShape():null,W_.m_xf,this.m_fixtureB.GetShape()instanceof x?this.m_fixtureB.GetShape():null,o2.m_xf)},Z_.inherit(y_,Z_.Dynamics.Contacts.b2Contact),y_.prototype.__super=Z_.Dynamics.Contacts.b2Contact.prototype,y_.b2PolyAndEdgeContact=function(){Z_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},y_.Create=function(){return new y_},y_.Destroy=function(){},y_.prototype.Reset=function(W_,o2){this.__super.Reset.call(this,W_,o2),p2.b2Assert(W_.GetType()==_o.e_polygonShape),p2.b2Assert(o2.GetType()==_o.e_edgeShape)},y_.prototype.Evaluate=function(){var W_=this.m_fixtureA.GetBody(),o2=this.m_fixtureB.GetBody();this.b2CollidePolyAndEdge(this.m_manifold,this.m_fixtureA.GetShape()instanceof o?this.m_fixtureA.GetShape():null,W_.m_xf,this.m_fixtureB.GetShape()instanceof V?this.m_fixtureB.GetShape():null,o2.m_xf)},y_.prototype.b2CollidePolyAndEdge=function(){},Z_.inherit(I_,Z_.Dynamics.Contacts.b2Contact),I_.prototype.__super=Z_.Dynamics.Contacts.b2Contact.prototype,I_.b2PolygonContact=function(){Z_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},I_.Create=function(){return new I_},I_.Destroy=function(){},I_.prototype.Reset=function(W_,o2){this.__super.Reset.call(this,W_,o2)},I_.prototype.Evaluate=function(){var W_=this.m_fixtureA.GetBody(),o2=this.m_fixtureB.GetBody();q2.CollidePolygons(this.m_manifold,this.m_fixtureA.GetShape()instanceof o?this.m_fixtureA.GetShape():null,W_.m_xf,this.m_fixtureB.GetShape()instanceof o?this.m_fixtureB.GetShape():null,o2.m_xf)},k_.b2PositionSolverManifold=function(){},k_.prototype.b2PositionSolverManifold=function(){this.m_normal=new I2,this.m_separations=new WC(p2.b2_maxManifoldPoints),this.m_points=new yA(p2.b2_maxManifoldPoints);for(var W_=0;W_<p2.b2_maxManifoldPoints;W_++)this.m_points[W_]=new I2},k_.prototype.Initialize=function(W_){p2.b2Assert(W_.pointCount>0);var o2=0,m2=0,_2=0,v_,G_=0,K_=0;switch(W_.type){case X2.e_circles:v_=W_.bodyA.m_xf.R,_2=W_.localPoint,o2=W_.bodyA.m_xf.position.x+(v_.col1.x*_2.x+v_.col2.x*_2.y),m2=W_.bodyA.m_xf.position.y+(v_.col1.y*_2.x+v_.col2.y*_2.y),v_=W_.bodyB.m_xf.R,_2=W_.points[0].localPoint,G_=W_.bodyB.m_xf.position.x+(v_.col1.x*_2.x+v_.col2.x*_2.y),v_=W_.bodyB.m_xf.position.y+(v_.col1.y*_2.x+v_.col2.y*_2.y),_2=G_-o2,K_=v_-m2;var C_=_2*_2+K_*K_;C_>Number.MIN_VALUE*Number.MIN_VALUE?(C_=Math.sqrt(C_),this.m_normal.x=_2/C_,this.m_normal.y=K_/C_):(this.m_normal.x=1,this.m_normal.y=0),this.m_points[0].x=.5*(o2+G_),this.m_points[0].y=.5*(m2+v_),this.m_separations[0]=_2*this.m_normal.x+K_*this.m_normal.y-W_.radius;break;case X2.e_faceA:for(v_=W_.bodyA.m_xf.R,_2=W_.localPlaneNormal,this.m_normal.x=v_.col1.x*_2.x+v_.col2.x*_2.y,this.m_normal.y=v_.col1.y*_2.x+v_.col2.y*_2.y,v_=W_.bodyA.m_xf.R,_2=W_.localPoint,G_=W_.bodyA.m_xf.position.x+(v_.col1.x*_2.x+v_.col2.x*_2.y),K_=W_.bodyA.m_xf.position.y+(v_.col1.y*_2.x+v_.col2.y*_2.y),v_=W_.bodyB.m_xf.R,o2=0;o2<W_.pointCount;++o2)_2=W_.points[o2].localPoint,m2=W_.bodyB.m_xf.position.x+(v_.col1.x*_2.x+v_.col2.x*_2.y),_2=W_.bodyB.m_xf.position.y+(v_.col1.y*_2.x+v_.col2.y*_2.y),this.m_separations[o2]=(m2-G_)*this.m_normal.x+(_2-K_)*this.m_normal.y-W_.radius,this.m_points[o2].x=m2,this.m_points[o2].y=_2;break;case X2.e_faceB:for(v_=W_.bodyB.m_xf.R,_2=W_.localPlaneNormal,this.m_normal.x=v_.col1.x*_2.x+v_.col2.x*_2.y,this.m_normal.y=v_.col1.y*_2.x+v_.col2.y*_2.y,v_=W_.bodyB.m_xf.R,_2=W_.localPoint,G_=W_.bodyB.m_xf.position.x+(v_.col1.x*_2.x+v_.col2.x*_2.y),K_=W_.bodyB.m_xf.position.y+(v_.col1.y*_2.x+v_.col2.y*_2.y),v_=W_.bodyA.m_xf.R,o2=0;o2<W_.pointCount;++o2)_2=W_.points[o2].localPoint,m2=W_.bodyA.m_xf.position.x+(v_.col1.x*_2.x+v_.col2.x*_2.y),_2=W_.bodyA.m_xf.position.y+(v_.col1.y*_2.x+v_.col2.y*_2.y),this.m_separations[o2]=(m2-G_)*this.m_normal.x+(_2-K_)*this.m_normal.y-W_.radius,this.m_points[o2].Set(m2,_2);this.m_normal.x*=-1,this.m_normal.y*=-1}},Z_.postDefs.push(function(){Z_.Dynamics.Contacts.b2PositionSolverManifold.circlePointA=new I2,Z_.Dynamics.Contacts.b2PositionSolverManifold.circlePointB=new I2})})();(function(){var x=Z_.Common.Math.b2Mat22,V=Z_.Common.Math.b2Math,o=Z_.Common.Math.b2Vec2,_o=Z_.Common.b2Color,_r=Z_.Dynamics.Controllers.b2BuoyancyController,l=Z_.Dynamics.Controllers.b2ConstantAccelController,e_=Z_.Dynamics.Controllers.b2ConstantForceController,o_=Z_.Dynamics.Controllers.b2Controller,i_=Z_.Dynamics.Controllers.b2ControllerEdge,_e=Z_.Dynamics.Controllers.b2GravityController,c_=Z_.Dynamics.Controllers.b2TensorDampingController;Z_.inherit(_r,Z_.Dynamics.Controllers.b2Controller),_r.prototype.__super=Z_.Dynamics.Controllers.b2Controller.prototype,_r.b2BuoyancyController=function(){Z_.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.normal=new o(0,-1),this.density=this.offset=0,this.velocity=new o(0,0),this.linearDrag=2,this.angularDrag=1,this.useDensity=!1,this.useWorldGravity=!0,this.gravity=null},_r.prototype.Step=function(){if(this.m_bodyList){this.useWorldGravity&&(this.gravity=this.GetWorld().GetGravity().Copy());for(var ws=this.m_bodyList;ws;ws=ws.nextBody){var h_=ws.body;if(h_.IsAwake()!=!1){for(var s_=new o,w_=new o,L_=0,y_=0,I_=h_.GetFixtureList();I_;I_=I_.GetNext()){var k_=new o,j_=I_.GetShape().ComputeSubmergedArea(this.normal,this.offset,h_.GetTransform(),k_);L_+=j_,s_.x+=j_*k_.x,s_.y+=j_*k_.y;var n2=0;n2=1,y_+=j_*n2,w_.x+=j_*k_.x*n2,w_.y+=j_*k_.y*n2}s_.x/=L_,s_.y/=L_,w_.x/=y_,w_.y/=y_,L_<Number.MIN_VALUE||(y_=this.gravity.GetNegative(),y_.Multiply(this.density*L_),h_.ApplyForce(y_,w_),w_=h_.GetLinearVelocityFromWorldPoint(s_),w_.Subtract(this.velocity),w_.Multiply(-this.linearDrag*L_),h_.ApplyForce(w_,s_),h_.ApplyTorque(-h_.GetInertia()/h_.GetMass()*L_*h_.GetAngularVelocity()*this.angularDrag))}}}},_r.prototype.Draw=function(ws){var h_=new o,s_=new o;h_.x=this.normal.x*this.offset+this.normal.y*1e3,h_.y=this.normal.y*this.offset-this.normal.x*1e3,s_.x=this.normal.x*this.offset-this.normal.y*1e3,s_.y=this.normal.y*this.offset+this.normal.x*1e3;var w_=new _o(0,0,1);ws.DrawSegment(h_,s_,w_)},Z_.inherit(l,Z_.Dynamics.Controllers.b2Controller),l.prototype.__super=Z_.Dynamics.Controllers.b2Controller.prototype,l.b2ConstantAccelController=function(){Z_.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.A=new o(0,0)},l.prototype.Step=function(ws){ws=new o(this.A.x*ws.dt,this.A.y*ws.dt);for(var h_=this.m_bodyList;h_;h_=h_.nextBody){var s_=h_.body;s_.IsAwake()&&s_.SetLinearVelocity(new o(s_.GetLinearVelocity().x+ws.x,s_.GetLinearVelocity().y+ws.y))}},Z_.inherit(e_,Z_.Dynamics.Controllers.b2Controller),e_.prototype.__super=Z_.Dynamics.Controllers.b2Controller.prototype,e_.b2ConstantForceController=function(){Z_.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.F=new o(0,0)},e_.prototype.Step=function(){for(var ws=this.m_bodyList;ws;ws=ws.nextBody){var h_=ws.body;h_.IsAwake()&&h_.ApplyForce(this.F,h_.GetWorldCenter())}},o_.b2Controller=function(){},o_.prototype.Step=function(){},o_.prototype.Draw=function(){},o_.prototype.AddBody=function(ws){var h_=new i_;h_.controller=this,h_.body=ws,h_.nextBody=this.m_bodyList,h_.prevBody=null,this.m_bodyList=h_,h_.nextBody&&(h_.nextBody.prevBody=h_),this.m_bodyCount++,h_.nextController=ws.m_controllerList,h_.prevController=null,ws.m_controllerList=h_,h_.nextController&&(h_.nextController.prevController=h_),ws.m_controllerCount++},o_.prototype.RemoveBody=function(ws){for(var h_=ws.m_controllerList;h_&&h_.controller!=this;)h_=h_.nextController;h_.prevBody&&(h_.prevBody.nextBody=h_.nextBody),h_.nextBody&&(h_.nextBody.prevBody=h_.prevBody),h_.nextController&&(h_.nextController.prevController=h_.prevController),h_.prevController&&(h_.prevController.nextController=h_.nextController),this.m_bodyList==h_&&(this.m_bodyList=h_.nextBody),ws.m_controllerList==h_&&(ws.m_controllerList=h_.nextController),ws.m_controllerCount--,this.m_bodyCount--},o_.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body)},o_.prototype.GetNext=function(){return this.m_next},o_.prototype.GetWorld=function(){return this.m_world},o_.prototype.GetBodyList=function(){return this.m_bodyList},i_.b2ControllerEdge=function(){},Z_.inherit(_e,Z_.Dynamics.Controllers.b2Controller),_e.prototype.__super=Z_.Dynamics.Controllers.b2Controller.prototype,_e.b2GravityController=function(){Z_.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.G=1,this.invSqr=!0},_e.prototype.Step=function(){var ws=null,h_=null,s_=null,w_=0,L_=null,y_=null,I_=null,k_=0,j_=0,n2=0;if(k_=null,this.invSqr)for(ws=this.m_bodyList;ws;ws=ws.nextBody)for(h_=ws.body,s_=h_.GetWorldCenter(),w_=h_.GetMass(),L_=this.m_bodyList;L_!=ws;L_=L_.nextBody)y_=L_.body,I_=y_.GetWorldCenter(),k_=I_.x-s_.x,j_=I_.y-s_.y,n2=k_*k_+j_*j_,n2<Number.MIN_VALUE||(k_=new o(k_,j_),k_.Multiply(this.G/n2/Math.sqrt(n2)*w_*y_.GetMass()),h_.IsAwake()&&h_.ApplyForce(k_,s_),k_.Multiply(-1),y_.IsAwake()&&y_.ApplyForce(k_,I_));else for(ws=this.m_bodyList;ws;ws=ws.nextBody)for(h_=ws.body,s_=h_.GetWorldCenter(),w_=h_.GetMass(),L_=this.m_bodyList;L_!=ws;L_=L_.nextBody)y_=L_.body,I_=y_.GetWorldCenter(),k_=I_.x-s_.x,j_=I_.y-s_.y,n2=k_*k_+j_*j_,n2<Number.MIN_VALUE||(k_=new o(k_,j_),k_.Multiply(this.G/n2*w_*y_.GetMass()),h_.IsAwake()&&h_.ApplyForce(k_,s_),k_.Multiply(-1),y_.IsAwake()&&y_.ApplyForce(k_,I_))},Z_.inherit(c_,Z_.Dynamics.Controllers.b2Controller),c_.prototype.__super=Z_.Dynamics.Controllers.b2Controller.prototype,c_.b2TensorDampingController=function(){Z_.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.T=new x,this.maxTimestep=0},c_.prototype.SetAxisAligned=function(ws,h_){ws===void 0&&(ws=0),h_===void 0&&(h_=0),this.T.col1.x=-ws,this.T.col1.y=0,this.T.col2.x=0,this.T.col2.y=-h_,this.maxTimestep=ws>0||h_>0?1/Math.max(ws,h_):0},c_.prototype.Step=function(ws){if(ws=ws.dt,!(ws<=Number.MIN_VALUE)){ws>this.maxTimestep&&this.maxTimestep>0&&(ws=this.maxTimestep);for(var h_=this.m_bodyList;h_;h_=h_.nextBody){var s_=h_.body;if(s_.IsAwake()){var w_=s_.GetWorldVector(V.MulMV(this.T,s_.GetLocalVector(s_.GetLinearVelocity())));s_.SetLinearVelocity(new o(s_.GetLinearVelocity().x+w_.x*ws,s_.GetLinearVelocity().y+w_.y*ws))}}}}})();(function(){var x=Z_.Common.b2Settings,V=Z_.Common.Math.b2Mat22,o=Z_.Common.Math.b2Mat33,_o=Z_.Common.Math.b2Math,_r=Z_.Common.Math.b2Vec2,l=Z_.Common.Math.b2Vec3,e_=Z_.Dynamics.Joints.b2DistanceJoint,o_=Z_.Dynamics.Joints.b2DistanceJointDef,i_=Z_.Dynamics.Joints.b2FrictionJoint,_e=Z_.Dynamics.Joints.b2FrictionJointDef,c_=Z_.Dynamics.Joints.b2GearJoint,ws=Z_.Dynamics.Joints.b2GearJointDef,h_=Z_.Dynamics.Joints.b2Jacobian,s_=Z_.Dynamics.Joints.b2Joint,w_=Z_.Dynamics.Joints.b2JointDef,L_=Z_.Dynamics.Joints.b2JointEdge,y_=Z_.Dynamics.Joints.b2LineJoint,I_=Z_.Dynamics.Joints.b2LineJointDef,k_=Z_.Dynamics.Joints.b2MouseJoint,j_=Z_.Dynamics.Joints.b2MouseJointDef,n2=Z_.Dynamics.Joints.b2PrismaticJoint,p2=Z_.Dynamics.Joints.b2PrismaticJointDef,u2=Z_.Dynamics.Joints.b2PulleyJoint,T2=Z_.Dynamics.Joints.b2PulleyJointDef,I2=Z_.Dynamics.Joints.b2RevoluteJoint,q2=Z_.Dynamics.Joints.b2RevoluteJointDef,O2=Z_.Dynamics.Joints.b2WeldJoint,X2=Z_.Dynamics.Joints.b2WeldJointDef;Z_.inherit(e_,Z_.Dynamics.Joints.b2Joint),e_.prototype.__super=Z_.Dynamics.Joints.b2Joint.prototype,e_.b2DistanceJoint=function(){Z_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new _r,this.m_localAnchor2=new _r,this.m_u=new _r},e_.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},e_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},e_.prototype.GetReactionForce=function(S_){return S_===void 0&&(S_=0),new _r(S_*this.m_impulse*this.m_u.x,S_*this.m_impulse*this.m_u.y)},e_.prototype.GetReactionTorque=function(){return 0},e_.prototype.GetLength=function(){return this.m_length},e_.prototype.SetLength=function(S_){S_===void 0&&(S_=0),this.m_length=S_},e_.prototype.GetFrequency=function(){return this.m_frequencyHz},e_.prototype.SetFrequency=function(S_){S_===void 0&&(S_=0),this.m_frequencyHz=S_},e_.prototype.GetDampingRatio=function(){return this.m_dampingRatio},e_.prototype.SetDampingRatio=function(S_){S_===void 0&&(S_=0),this.m_dampingRatio=S_},e_.prototype.b2DistanceJoint=function(S_){this.__super.b2Joint.call(this,S_),this.m_localAnchor1.SetV(S_.localAnchorA),this.m_localAnchor2.SetV(S_.localAnchorB),this.m_length=S_.length,this.m_frequencyHz=S_.frequencyHz,this.m_dampingRatio=S_.dampingRatio,this.m_bias=this.m_gamma=this.m_impulse=0},e_.prototype.InitVelocityConstraints=function(S_){var q_,N_=0,W_=this.m_bodyA,o2=this.m_bodyB;q_=W_.m_xf.R;var m2=this.m_localAnchor1.x-W_.m_sweep.localCenter.x,_2=this.m_localAnchor1.y-W_.m_sweep.localCenter.y;N_=q_.col1.x*m2+q_.col2.x*_2,_2=q_.col1.y*m2+q_.col2.y*_2,m2=N_,q_=o2.m_xf.R;var v_=this.m_localAnchor2.x-o2.m_sweep.localCenter.x,G_=this.m_localAnchor2.y-o2.m_sweep.localCenter.y;N_=q_.col1.x*v_+q_.col2.x*G_,G_=q_.col1.y*v_+q_.col2.y*G_,v_=N_,this.m_u.x=o2.m_sweep.c.x+v_-W_.m_sweep.c.x-m2,this.m_u.y=o2.m_sweep.c.y+G_-W_.m_sweep.c.y-_2,N_=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y),N_>x.b2_linearSlop?this.m_u.Multiply(1/N_):this.m_u.SetZero(),q_=m2*this.m_u.y-_2*this.m_u.x;var K_=v_*this.m_u.y-G_*this.m_u.x;if(q_=W_.m_invMass+W_.m_invI*q_*q_+o2.m_invMass+o2.m_invI*K_*K_,this.m_mass=q_!=0?1/q_:0,this.m_frequencyHz>0){N_=N_-this.m_length,K_=2*Math.PI*this.m_frequencyHz;var C_=this.m_mass*K_*K_;this.m_gamma=S_.dt*(2*this.m_mass*this.m_dampingRatio*K_+S_.dt*C_),this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0,this.m_bias=N_*S_.dt*C_*this.m_gamma,this.m_mass=q_+this.m_gamma,this.m_mass=this.m_mass!=0?1/this.m_mass:0}S_.warmStarting?(this.m_impulse*=S_.dtRatio,S_=this.m_impulse*this.m_u.x,q_=this.m_impulse*this.m_u.y,W_.m_linearVelocity.x-=W_.m_invMass*S_,W_.m_linearVelocity.y-=W_.m_invMass*q_,W_.m_angularVelocity-=W_.m_invI*(m2*q_-_2*S_),o2.m_linearVelocity.x+=o2.m_invMass*S_,o2.m_linearVelocity.y+=o2.m_invMass*q_,o2.m_angularVelocity+=o2.m_invI*(v_*q_-G_*S_)):this.m_impulse=0},e_.prototype.SolveVelocityConstraints=function(){var S_,q_=this.m_bodyA,N_=this.m_bodyB;S_=q_.m_xf.R;var W_=this.m_localAnchor1.x-q_.m_sweep.localCenter.x,o2=this.m_localAnchor1.y-q_.m_sweep.localCenter.y,m2=S_.col1.x*W_+S_.col2.x*o2;o2=S_.col1.y*W_+S_.col2.y*o2,W_=m2,S_=N_.m_xf.R;var _2=this.m_localAnchor2.x-N_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-N_.m_sweep.localCenter.y;m2=S_.col1.x*_2+S_.col2.x*v_,v_=S_.col1.y*_2+S_.col2.y*v_,_2=m2,m2=-this.m_mass*(this.m_u.x*(N_.m_linearVelocity.x+-N_.m_angularVelocity*v_-(q_.m_linearVelocity.x+-q_.m_angularVelocity*o2))+this.m_u.y*(N_.m_linearVelocity.y+N_.m_angularVelocity*_2-(q_.m_linearVelocity.y+q_.m_angularVelocity*W_))+this.m_bias+this.m_gamma*this.m_impulse),this.m_impulse+=m2,S_=m2*this.m_u.x,m2=m2*this.m_u.y,q_.m_linearVelocity.x-=q_.m_invMass*S_,q_.m_linearVelocity.y-=q_.m_invMass*m2,q_.m_angularVelocity-=q_.m_invI*(W_*m2-o2*S_),N_.m_linearVelocity.x+=N_.m_invMass*S_,N_.m_linearVelocity.y+=N_.m_invMass*m2,N_.m_angularVelocity+=N_.m_invI*(_2*m2-v_*S_)},e_.prototype.SolvePositionConstraints=function(){var S_;if(this.m_frequencyHz>0)return!0;var q_=this.m_bodyA,N_=this.m_bodyB;S_=q_.m_xf.R;var W_=this.m_localAnchor1.x-q_.m_sweep.localCenter.x,o2=this.m_localAnchor1.y-q_.m_sweep.localCenter.y,m2=S_.col1.x*W_+S_.col2.x*o2;o2=S_.col1.y*W_+S_.col2.y*o2,W_=m2,S_=N_.m_xf.R;var _2=this.m_localAnchor2.x-N_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-N_.m_sweep.localCenter.y;m2=S_.col1.x*_2+S_.col2.x*v_,v_=S_.col1.y*_2+S_.col2.y*v_,_2=m2,m2=N_.m_sweep.c.x+_2-q_.m_sweep.c.x-W_;var G_=N_.m_sweep.c.y+v_-q_.m_sweep.c.y-o2;S_=Math.sqrt(m2*m2+G_*G_),m2/=S_,G_/=S_,S_=S_-this.m_length,S_=_o.Clamp(S_,-x.b2_maxLinearCorrection,x.b2_maxLinearCorrection);var K_=-this.m_mass*S_;return this.m_u.Set(m2,G_),m2=K_*this.m_u.x,G_=K_*this.m_u.y,q_.m_sweep.c.x-=q_.m_invMass*m2,q_.m_sweep.c.y-=q_.m_invMass*G_,q_.m_sweep.a-=q_.m_invI*(W_*G_-o2*m2),N_.m_sweep.c.x+=N_.m_invMass*m2,N_.m_sweep.c.y+=N_.m_invMass*G_,N_.m_sweep.a+=N_.m_invI*(_2*G_-v_*m2),q_.SynchronizeTransform(),N_.SynchronizeTransform(),_o.Abs(S_)<x.b2_linearSlop},Z_.inherit(o_,Z_.Dynamics.Joints.b2JointDef),o_.prototype.__super=Z_.Dynamics.Joints.b2JointDef.prototype,o_.b2DistanceJointDef=function(){Z_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _r,this.localAnchorB=new _r},o_.prototype.b2DistanceJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_distanceJoint,this.length=1,this.dampingRatio=this.frequencyHz=0},o_.prototype.Initialize=function(S_,q_,N_,W_){this.bodyA=S_,this.bodyB=q_,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(N_)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(W_)),S_=W_.x-N_.x,N_=W_.y-N_.y,this.length=Math.sqrt(S_*S_+N_*N_),this.dampingRatio=this.frequencyHz=0},Z_.inherit(i_,Z_.Dynamics.Joints.b2Joint),i_.prototype.__super=Z_.Dynamics.Joints.b2Joint.prototype,i_.b2FrictionJoint=function(){Z_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchorA=new _r,this.m_localAnchorB=new _r,this.m_linearMass=new V,this.m_linearImpulse=new _r},i_.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)},i_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)},i_.prototype.GetReactionForce=function(S_){return S_===void 0&&(S_=0),new _r(S_*this.m_linearImpulse.x,S_*this.m_linearImpulse.y)},i_.prototype.GetReactionTorque=function(S_){return S_===void 0&&(S_=0),S_*this.m_angularImpulse},i_.prototype.SetMaxForce=function(S_){S_===void 0&&(S_=0),this.m_maxForce=S_},i_.prototype.GetMaxForce=function(){return this.m_maxForce},i_.prototype.SetMaxTorque=function(S_){S_===void 0&&(S_=0),this.m_maxTorque=S_},i_.prototype.GetMaxTorque=function(){return this.m_maxTorque},i_.prototype.b2FrictionJoint=function(S_){this.__super.b2Joint.call(this,S_),this.m_localAnchorA.SetV(S_.localAnchorA),this.m_localAnchorB.SetV(S_.localAnchorB),this.m_linearMass.SetZero(),this.m_angularMass=0,this.m_linearImpulse.SetZero(),this.m_angularImpulse=0,this.m_maxForce=S_.maxForce,this.m_maxTorque=S_.maxTorque},i_.prototype.InitVelocityConstraints=function(S_){var q_,N_=0,W_=this.m_bodyA,o2=this.m_bodyB;q_=W_.m_xf.R;var m2=this.m_localAnchorA.x-W_.m_sweep.localCenter.x,_2=this.m_localAnchorA.y-W_.m_sweep.localCenter.y;N_=q_.col1.x*m2+q_.col2.x*_2,_2=q_.col1.y*m2+q_.col2.y*_2,m2=N_,q_=o2.m_xf.R;var v_=this.m_localAnchorB.x-o2.m_sweep.localCenter.x,G_=this.m_localAnchorB.y-o2.m_sweep.localCenter.y;N_=q_.col1.x*v_+q_.col2.x*G_,G_=q_.col1.y*v_+q_.col2.y*G_,v_=N_,q_=W_.m_invMass,N_=o2.m_invMass;var K_=W_.m_invI,C_=o2.m_invI,z_=new V;z_.col1.x=q_+N_,z_.col2.x=0,z_.col1.y=0,z_.col2.y=q_+N_,z_.col1.x+=K_*_2*_2,z_.col2.x+=-K_*m2*_2,z_.col1.y+=-K_*m2*_2,z_.col2.y+=K_*m2*m2,z_.col1.x+=C_*G_*G_,z_.col2.x+=-C_*v_*G_,z_.col1.y+=-C_*v_*G_,z_.col2.y+=C_*v_*v_,z_.GetInverse(this.m_linearMass),this.m_angularMass=K_+C_,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),S_.warmStarting?(this.m_linearImpulse.x*=S_.dtRatio,this.m_linearImpulse.y*=S_.dtRatio,this.m_angularImpulse*=S_.dtRatio,S_=this.m_linearImpulse,W_.m_linearVelocity.x-=q_*S_.x,W_.m_linearVelocity.y-=q_*S_.y,W_.m_angularVelocity-=K_*(m2*S_.y-_2*S_.x+this.m_angularImpulse),o2.m_linearVelocity.x+=N_*S_.x,o2.m_linearVelocity.y+=N_*S_.y,o2.m_angularVelocity+=C_*(v_*S_.y-G_*S_.x+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0)},i_.prototype.SolveVelocityConstraints=function(S_){var q_,N_=0,W_=this.m_bodyA,o2=this.m_bodyB,m2=W_.m_linearVelocity,_2=W_.m_angularVelocity,v_=o2.m_linearVelocity,G_=o2.m_angularVelocity,K_=W_.m_invMass,C_=o2.m_invMass,z_=W_.m_invI,X_=o2.m_invI;q_=W_.m_xf.R;var l2=this.m_localAnchorA.x-W_.m_sweep.localCenter.x,D2=this.m_localAnchorA.y-W_.m_sweep.localCenter.y;N_=q_.col1.x*l2+q_.col2.x*D2,D2=q_.col1.y*l2+q_.col2.y*D2,l2=N_,q_=o2.m_xf.R;var V2=this.m_localAnchorB.x-o2.m_sweep.localCenter.x,L2=this.m_localAnchorB.y-o2.m_sweep.localCenter.y;N_=q_.col1.x*V2+q_.col2.x*L2,L2=q_.col1.y*V2+q_.col2.y*L2,V2=N_,q_=0,N_=-this.m_angularMass*(G_-_2);var B2=this.m_angularImpulse;q_=S_.dt*this.m_maxTorque,this.m_angularImpulse=_o.Clamp(this.m_angularImpulse+N_,-q_,q_),N_=this.m_angularImpulse-B2,_2-=z_*N_,G_+=X_*N_,q_=_o.MulMV(this.m_linearMass,new _r(-(v_.x-G_*L2-m2.x+_2*D2),-(v_.y+G_*V2-m2.y-_2*l2))),N_=this.m_linearImpulse.Copy(),this.m_linearImpulse.Add(q_),q_=S_.dt*this.m_maxForce,this.m_linearImpulse.LengthSquared()>q_*q_&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Multiply(q_)),q_=_o.SubtractVV(this.m_linearImpulse,N_),m2.x-=K_*q_.x,m2.y-=K_*q_.y,_2-=z_*(l2*q_.y-D2*q_.x),v_.x+=C_*q_.x,v_.y+=C_*q_.y,G_+=X_*(V2*q_.y-L2*q_.x),W_.m_angularVelocity=_2,o2.m_angularVelocity=G_},i_.prototype.SolvePositionConstraints=function(){return!0},Z_.inherit(_e,Z_.Dynamics.Joints.b2JointDef),_e.prototype.__super=Z_.Dynamics.Joints.b2JointDef.prototype,_e.b2FrictionJointDef=function(){Z_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _r,this.localAnchorB=new _r},_e.prototype.b2FrictionJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_frictionJoint,this.maxTorque=this.maxForce=0},_e.prototype.Initialize=function(S_,q_,N_){this.bodyA=S_,this.bodyB=q_,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(N_)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(N_))},Z_.inherit(c_,Z_.Dynamics.Joints.b2Joint),c_.prototype.__super=Z_.Dynamics.Joints.b2Joint.prototype,c_.b2GearJoint=function(){Z_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_groundAnchor1=new _r,this.m_groundAnchor2=new _r,this.m_localAnchor1=new _r,this.m_localAnchor2=new _r,this.m_J=new h_},c_.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},c_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},c_.prototype.GetReactionForce=function(S_){return S_===void 0&&(S_=0),new _r(S_*this.m_impulse*this.m_J.linearB.x,S_*this.m_impulse*this.m_J.linearB.y)},c_.prototype.GetReactionTorque=function(S_){S_===void 0&&(S_=0);var q_=this.m_bodyB.m_xf.R,N_=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,W_=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,o2=q_.col1.x*N_+q_.col2.x*W_;return W_=q_.col1.y*N_+q_.col2.y*W_,N_=o2,S_*(this.m_impulse*this.m_J.angularB-N_*this.m_impulse*this.m_J.linearB.y+W_*this.m_impulse*this.m_J.linearB.x)},c_.prototype.GetRatio=function(){return this.m_ratio},c_.prototype.SetRatio=function(S_){S_===void 0&&(S_=0),this.m_ratio=S_},c_.prototype.b2GearJoint=function(S_){this.__super.b2Joint.call(this,S_);var q_=parseInt(S_.joint1.m_type),N_=parseInt(S_.joint2.m_type);this.m_prismatic2=this.m_revolute2=this.m_prismatic1=this.m_revolute1=null;var W_=0,o2=0;this.m_ground1=S_.joint1.GetBodyA(),this.m_bodyA=S_.joint1.GetBodyB(),q_==s_.e_revoluteJoint?(this.m_revolute1=S_.joint1 instanceof I2?S_.joint1:null,this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2),W_=this.m_revolute1.GetJointAngle()):(this.m_prismatic1=S_.joint1 instanceof n2?S_.joint1:null,this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2),W_=this.m_prismatic1.GetJointTranslation()),this.m_ground2=S_.joint2.GetBodyA(),this.m_bodyB=S_.joint2.GetBodyB(),N_==s_.e_revoluteJoint?(this.m_revolute2=S_.joint2 instanceof I2?S_.joint2:null,this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2),o2=this.m_revolute2.GetJointAngle()):(this.m_prismatic2=S_.joint2 instanceof n2?S_.joint2:null,this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2),o2=this.m_prismatic2.GetJointTranslation()),this.m_ratio=S_.ratio,this.m_constant=W_+this.m_ratio*o2,this.m_impulse=0},c_.prototype.InitVelocityConstraints=function(S_){var q_=this.m_ground1,N_=this.m_ground2,W_=this.m_bodyA,o2=this.m_bodyB,m2=0,_2=0,v_=0,G_=0,K_=v_=0,C_=0;this.m_J.SetZero(),this.m_revolute1?(this.m_J.angularA=-1,C_+=W_.m_invI):(q_=q_.m_xf.R,_2=this.m_prismatic1.m_localXAxis1,m2=q_.col1.x*_2.x+q_.col2.x*_2.y,_2=q_.col1.y*_2.x+q_.col2.y*_2.y,q_=W_.m_xf.R,v_=this.m_localAnchor1.x-W_.m_sweep.localCenter.x,G_=this.m_localAnchor1.y-W_.m_sweep.localCenter.y,K_=q_.col1.x*v_+q_.col2.x*G_,G_=q_.col1.y*v_+q_.col2.y*G_,v_=K_,v_=v_*_2-G_*m2,this.m_J.linearA.Set(-m2,-_2),this.m_J.angularA=-v_,C_+=W_.m_invMass+W_.m_invI*v_*v_),this.m_revolute2?(this.m_J.angularB=-this.m_ratio,C_+=this.m_ratio*this.m_ratio*o2.m_invI):(q_=N_.m_xf.R,_2=this.m_prismatic2.m_localXAxis1,m2=q_.col1.x*_2.x+q_.col2.x*_2.y,_2=q_.col1.y*_2.x+q_.col2.y*_2.y,q_=o2.m_xf.R,v_=this.m_localAnchor2.x-o2.m_sweep.localCenter.x,G_=this.m_localAnchor2.y-o2.m_sweep.localCenter.y,K_=q_.col1.x*v_+q_.col2.x*G_,G_=q_.col1.y*v_+q_.col2.y*G_,v_=K_,v_=v_*_2-G_*m2,this.m_J.linearB.Set(-this.m_ratio*m2,-this.m_ratio*_2),this.m_J.angularB=-this.m_ratio*v_,C_+=this.m_ratio*this.m_ratio*(o2.m_invMass+o2.m_invI*v_*v_)),this.m_mass=C_>0?1/C_:0,S_.warmStarting?(W_.m_linearVelocity.x+=W_.m_invMass*this.m_impulse*this.m_J.linearA.x,W_.m_linearVelocity.y+=W_.m_invMass*this.m_impulse*this.m_J.linearA.y,W_.m_angularVelocity+=W_.m_invI*this.m_impulse*this.m_J.angularA,o2.m_linearVelocity.x+=o2.m_invMass*this.m_impulse*this.m_J.linearB.x,o2.m_linearVelocity.y+=o2.m_invMass*this.m_impulse*this.m_J.linearB.y,o2.m_angularVelocity+=o2.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0},c_.prototype.SolveVelocityConstraints=function(){var S_=this.m_bodyA,q_=this.m_bodyB,N_=-this.m_mass*this.m_J.Compute(S_.m_linearVelocity,S_.m_angularVelocity,q_.m_linearVelocity,q_.m_angularVelocity);this.m_impulse+=N_,S_.m_linearVelocity.x+=S_.m_invMass*N_*this.m_J.linearA.x,S_.m_linearVelocity.y+=S_.m_invMass*N_*this.m_J.linearA.y,S_.m_angularVelocity+=S_.m_invI*N_*this.m_J.angularA,q_.m_linearVelocity.x+=q_.m_invMass*N_*this.m_J.linearB.x,q_.m_linearVelocity.y+=q_.m_invMass*N_*this.m_J.linearB.y,q_.m_angularVelocity+=q_.m_invI*N_*this.m_J.angularB},c_.prototype.SolvePositionConstraints=function(){var S_=this.m_bodyA,q_=this.m_bodyB,N_=0,W_=0;return N_=this.m_revolute1?this.m_revolute1.GetJointAngle():this.m_prismatic1.GetJointTranslation(),W_=this.m_revolute2?this.m_revolute2.GetJointAngle():this.m_prismatic2.GetJointTranslation(),N_=-this.m_mass*(this.m_constant-(N_+this.m_ratio*W_)),S_.m_sweep.c.x+=S_.m_invMass*N_*this.m_J.linearA.x,S_.m_sweep.c.y+=S_.m_invMass*N_*this.m_J.linearA.y,S_.m_sweep.a+=S_.m_invI*N_*this.m_J.angularA,q_.m_sweep.c.x+=q_.m_invMass*N_*this.m_J.linearB.x,q_.m_sweep.c.y+=q_.m_invMass*N_*this.m_J.linearB.y,q_.m_sweep.a+=q_.m_invI*N_*this.m_J.angularB,S_.SynchronizeTransform(),q_.SynchronizeTransform(),0<x.b2_linearSlop},Z_.inherit(ws,Z_.Dynamics.Joints.b2JointDef),ws.prototype.__super=Z_.Dynamics.Joints.b2JointDef.prototype,ws.b2GearJointDef=function(){Z_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments)},ws.prototype.b2GearJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_gearJoint,this.joint2=this.joint1=null,this.ratio=1},h_.b2Jacobian=function(){this.linearA=new _r,this.linearB=new _r},h_.prototype.SetZero=function(){this.linearA.SetZero(),this.angularA=0,this.linearB.SetZero(),this.angularB=0},h_.prototype.Set=function(S_,q_,N_,W_){q_===void 0&&(q_=0),W_===void 0&&(W_=0),this.linearA.SetV(S_),this.angularA=q_,this.linearB.SetV(N_),this.angularB=W_},h_.prototype.Compute=function(S_,q_,N_,W_){return q_===void 0&&(q_=0),W_===void 0&&(W_=0),this.linearA.x*S_.x+this.linearA.y*S_.y+this.angularA*q_+(this.linearB.x*N_.x+this.linearB.y*N_.y)+this.angularB*W_},s_.b2Joint=function(){this.m_edgeA=new L_,this.m_edgeB=new L_,this.m_localCenterA=new _r,this.m_localCenterB=new _r},s_.prototype.GetType=function(){return this.m_type},s_.prototype.GetAnchorA=function(){return null},s_.prototype.GetAnchorB=function(){return null},s_.prototype.GetReactionForce=function(){return null},s_.prototype.GetReactionTorque=function(){return 0},s_.prototype.GetBodyA=function(){return this.m_bodyA},s_.prototype.GetBodyB=function(){return this.m_bodyB},s_.prototype.GetNext=function(){return this.m_next},s_.prototype.GetUserData=function(){return this.m_userData},s_.prototype.SetUserData=function(S_){this.m_userData=S_},s_.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()},s_.Create=function(S_){var q_=null;switch(S_.type){case s_.e_distanceJoint:q_=new e_(S_ instanceof o_?S_:null);break;case s_.e_mouseJoint:q_=new k_(S_ instanceof j_?S_:null);break;case s_.e_prismaticJoint:q_=new n2(S_ instanceof p2?S_:null);break;case s_.e_revoluteJoint:q_=new I2(S_ instanceof q2?S_:null);break;case s_.e_pulleyJoint:q_=new u2(S_ instanceof T2?S_:null);break;case s_.e_gearJoint:q_=new c_(S_ instanceof ws?S_:null);break;case s_.e_lineJoint:q_=new y_(S_ instanceof I_?S_:null);break;case s_.e_weldJoint:q_=new O2(S_ instanceof X2?S_:null);break;case s_.e_frictionJoint:q_=new i_(S_ instanceof _e?S_:null)}return q_},s_.Destroy=function(){},s_.prototype.b2Joint=function(S_){x.b2Assert(S_.bodyA!=S_.bodyB),this.m_type=S_.type,this.m_next=this.m_prev=null,this.m_bodyA=S_.bodyA,this.m_bodyB=S_.bodyB,this.m_collideConnected=S_.collideConnected,this.m_islandFlag=!1,this.m_userData=S_.userData},s_.prototype.InitVelocityConstraints=function(){},s_.prototype.SolveVelocityConstraints=function(){},s_.prototype.FinalizeVelocityConstraints=function(){},s_.prototype.SolvePositionConstraints=function(){return!1},Z_.postDefs.push(function(){Z_.Dynamics.Joints.b2Joint.e_unknownJoint=0,Z_.Dynamics.Joints.b2Joint.e_revoluteJoint=1,Z_.Dynamics.Joints.b2Joint.e_prismaticJoint=2,Z_.Dynamics.Joints.b2Joint.e_distanceJoint=3,Z_.Dynamics.Joints.b2Joint.e_pulleyJoint=4,Z_.Dynamics.Joints.b2Joint.e_mouseJoint=5,Z_.Dynamics.Joints.b2Joint.e_gearJoint=6,Z_.Dynamics.Joints.b2Joint.e_lineJoint=7,Z_.Dynamics.Joints.b2Joint.e_weldJoint=8,Z_.Dynamics.Joints.b2Joint.e_frictionJoint=9,Z_.Dynamics.Joints.b2Joint.e_inactiveLimit=0,Z_.Dynamics.Joints.b2Joint.e_atLowerLimit=1,Z_.Dynamics.Joints.b2Joint.e_atUpperLimit=2,Z_.Dynamics.Joints.b2Joint.e_equalLimits=3}),w_.b2JointDef=function(){},w_.prototype.b2JointDef=function(){this.type=s_.e_unknownJoint,this.bodyB=this.bodyA=this.userData=null,this.collideConnected=!1},L_.b2JointEdge=function(){},Z_.inherit(y_,Z_.Dynamics.Joints.b2Joint),y_.prototype.__super=Z_.Dynamics.Joints.b2Joint.prototype,y_.b2LineJoint=function(){Z_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new _r,this.m_localAnchor2=new _r,this.m_localXAxis1=new _r,this.m_localYAxis1=new _r,this.m_axis=new _r,this.m_perp=new _r,this.m_K=new V,this.m_impulse=new _r},y_.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},y_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},y_.prototype.GetReactionForce=function(S_){return S_===void 0&&(S_=0),new _r(S_*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),S_*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))},y_.prototype.GetReactionTorque=function(S_){return S_===void 0&&(S_=0),S_*this.m_impulse.y},y_.prototype.GetJointTranslation=function(){var S_=this.m_bodyA,q_=this.m_bodyB,N_=S_.GetWorldPoint(this.m_localAnchor1),W_=q_.GetWorldPoint(this.m_localAnchor2);return q_=W_.x-N_.x,N_=W_.y-N_.y,S_=S_.GetWorldVector(this.m_localXAxis1),S_.x*q_+S_.y*N_},y_.prototype.GetJointSpeed=function(){var S_=this.m_bodyA,q_=this.m_bodyB,N_;N_=S_.m_xf.R;var W_=this.m_localAnchor1.x-S_.m_sweep.localCenter.x,o2=this.m_localAnchor1.y-S_.m_sweep.localCenter.y,m2=N_.col1.x*W_+N_.col2.x*o2;o2=N_.col1.y*W_+N_.col2.y*o2,W_=m2,N_=q_.m_xf.R;var _2=this.m_localAnchor2.x-q_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-q_.m_sweep.localCenter.y;m2=N_.col1.x*_2+N_.col2.x*v_,v_=N_.col1.y*_2+N_.col2.y*v_,_2=m2,N_=q_.m_sweep.c.x+_2-(S_.m_sweep.c.x+W_),m2=q_.m_sweep.c.y+v_-(S_.m_sweep.c.y+o2);var G_=S_.GetWorldVector(this.m_localXAxis1),K_=S_.m_linearVelocity,C_=q_.m_linearVelocity;return S_=S_.m_angularVelocity,q_=q_.m_angularVelocity,N_*-S_*G_.y+m2*S_*G_.x+(G_.x*(C_.x+-q_*v_-K_.x- -S_*o2)+G_.y*(C_.y+q_*_2-K_.y-S_*W_))},y_.prototype.IsLimitEnabled=function(){return this.m_enableLimit},y_.prototype.EnableLimit=function(S_){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=S_},y_.prototype.GetLowerLimit=function(){return this.m_lowerTranslation},y_.prototype.GetUpperLimit=function(){return this.m_upperTranslation},y_.prototype.SetLimits=function(S_,q_){S_===void 0&&(S_=0),q_===void 0&&(q_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=S_,this.m_upperTranslation=q_},y_.prototype.IsMotorEnabled=function(){return this.m_enableMotor},y_.prototype.EnableMotor=function(S_){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=S_},y_.prototype.SetMotorSpeed=function(S_){S_===void 0&&(S_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=S_},y_.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},y_.prototype.SetMaxMotorForce=function(S_){S_===void 0&&(S_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=S_},y_.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce},y_.prototype.GetMotorForce=function(){return this.m_motorImpulse},y_.prototype.b2LineJoint=function(S_){this.__super.b2Joint.call(this,S_),this.m_localAnchor1.SetV(S_.localAnchorA),this.m_localAnchor2.SetV(S_.localAnchorB),this.m_localXAxis1.SetV(S_.localAxisA),this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_impulse.SetZero(),this.m_motorImpulse=this.m_motorMass=0,this.m_lowerTranslation=S_.lowerTranslation,this.m_upperTranslation=S_.upperTranslation,this.m_maxMotorForce=S_.maxMotorForce,this.m_motorSpeed=S_.motorSpeed,this.m_enableLimit=S_.enableLimit,this.m_enableMotor=S_.enableMotor,this.m_limitState=s_.e_inactiveLimit,this.m_axis.SetZero(),this.m_perp.SetZero()},y_.prototype.InitVelocityConstraints=function(S_){var q_=this.m_bodyA,N_=this.m_bodyB,W_,o2=0;this.m_localCenterA.SetV(q_.GetLocalCenter()),this.m_localCenterB.SetV(N_.GetLocalCenter());var m2=q_.GetTransform();N_.GetTransform(),W_=q_.m_xf.R;var _2=this.m_localAnchor1.x-this.m_localCenterA.x,v_=this.m_localAnchor1.y-this.m_localCenterA.y;o2=W_.col1.x*_2+W_.col2.x*v_,v_=W_.col1.y*_2+W_.col2.y*v_,_2=o2,W_=N_.m_xf.R;var G_=this.m_localAnchor2.x-this.m_localCenterB.x,K_=this.m_localAnchor2.y-this.m_localCenterB.y;o2=W_.col1.x*G_+W_.col2.x*K_,K_=W_.col1.y*G_+W_.col2.y*K_,G_=o2,W_=N_.m_sweep.c.x+G_-q_.m_sweep.c.x-_2,o2=N_.m_sweep.c.y+K_-q_.m_sweep.c.y-v_,this.m_invMassA=q_.m_invMass,this.m_invMassB=N_.m_invMass,this.m_invIA=q_.m_invI,this.m_invIB=N_.m_invI,this.m_axis.SetV(_o.MulMV(m2.R,this.m_localXAxis1)),this.m_a1=(W_+_2)*this.m_axis.y-(o2+v_)*this.m_axis.x,this.m_a2=G_*this.m_axis.y-K_*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:0,this.m_perp.SetV(_o.MulMV(m2.R,this.m_localYAxis1)),this.m_s1=(W_+_2)*this.m_perp.y-(o2+v_)*this.m_perp.x,this.m_s2=G_*this.m_perp.y-K_*this.m_perp.x,m2=this.m_invMassA,_2=this.m_invMassB,v_=this.m_invIA,G_=this.m_invIB,this.m_K.col1.x=m2+_2+v_*this.m_s1*this.m_s1+G_*this.m_s2*this.m_s2,this.m_K.col1.y=v_*this.m_s1*this.m_a1+G_*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=m2+_2+v_*this.m_a1*this.m_a1+G_*this.m_a2*this.m_a2,this.m_enableLimit?(W_=this.m_axis.x*W_+this.m_axis.y*o2,_o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*x.b2_linearSlop?this.m_limitState=s_.e_equalLimits:W_<=this.m_lowerTranslation?this.m_limitState!=s_.e_atLowerLimit&&(this.m_limitState=s_.e_atLowerLimit,this.m_impulse.y=0):W_>=this.m_upperTranslation?this.m_limitState!=s_.e_atUpperLimit&&(this.m_limitState=s_.e_atUpperLimit,this.m_impulse.y=0):(this.m_limitState=s_.e_inactiveLimit,this.m_impulse.y=0)):this.m_limitState=s_.e_inactiveLimit,this.m_enableMotor==!1&&(this.m_motorImpulse=0),S_.warmStarting?(this.m_impulse.x*=S_.dtRatio,this.m_impulse.y*=S_.dtRatio,this.m_motorImpulse*=S_.dtRatio,S_=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,W_=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,o2=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,m2=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2,q_.m_linearVelocity.x-=this.m_invMassA*S_,q_.m_linearVelocity.y-=this.m_invMassA*W_,q_.m_angularVelocity-=this.m_invIA*o2,N_.m_linearVelocity.x+=this.m_invMassB*S_,N_.m_linearVelocity.y+=this.m_invMassB*W_,N_.m_angularVelocity+=this.m_invIB*m2):(this.m_impulse.SetZero(),this.m_motorImpulse=0)},y_.prototype.SolveVelocityConstraints=function(S_){var q_=this.m_bodyA,N_=this.m_bodyB,W_=q_.m_linearVelocity,o2=q_.m_angularVelocity,m2=N_.m_linearVelocity,_2=N_.m_angularVelocity,v_=0,G_=0,K_=0,C_=0;this.m_enableMotor&&this.m_limitState!=s_.e_equalLimits&&(C_=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(m2.x-W_.x)+this.m_axis.y*(m2.y-W_.y)+this.m_a2*_2-this.m_a1*o2)),v_=this.m_motorImpulse,G_=S_.dt*this.m_maxMotorForce,this.m_motorImpulse=_o.Clamp(this.m_motorImpulse+C_,-G_,G_),C_=this.m_motorImpulse-v_,v_=C_*this.m_axis.x,G_=C_*this.m_axis.y,K_=C_*this.m_a1,C_=C_*this.m_a2,W_.x-=this.m_invMassA*v_,W_.y-=this.m_invMassA*G_,o2-=this.m_invIA*K_,m2.x+=this.m_invMassB*v_,m2.y+=this.m_invMassB*G_,_2+=this.m_invIB*C_),G_=this.m_perp.x*(m2.x-W_.x)+this.m_perp.y*(m2.y-W_.y)+this.m_s2*_2-this.m_s1*o2,this.m_enableLimit&&this.m_limitState!=s_.e_inactiveLimit?(K_=this.m_axis.x*(m2.x-W_.x)+this.m_axis.y*(m2.y-W_.y)+this.m_a2*_2-this.m_a1*o2,v_=this.m_impulse.Copy(),S_=this.m_K.Solve(new _r,-G_,-K_),this.m_impulse.Add(S_),this.m_limitState==s_.e_atLowerLimit?this.m_impulse.y=_o.Max(this.m_impulse.y,0):this.m_limitState==s_.e_atUpperLimit&&(this.m_impulse.y=_o.Min(this.m_impulse.y,0)),G_=-G_-(this.m_impulse.y-v_.y)*this.m_K.col2.x,K_=0,K_=this.m_K.col1.x!=0?G_/this.m_K.col1.x+v_.x:v_.x,this.m_impulse.x=K_,S_.x=this.m_impulse.x-v_.x,S_.y=this.m_impulse.y-v_.y,v_=S_.x*this.m_perp.x+S_.y*this.m_axis.x,G_=S_.x*this.m_perp.y+S_.y*this.m_axis.y,K_=S_.x*this.m_s1+S_.y*this.m_a1,C_=S_.x*this.m_s2+S_.y*this.m_a2):(S_=0,S_=this.m_K.col1.x!=0?-G_/this.m_K.col1.x:0,this.m_impulse.x+=S_,v_=S_*this.m_perp.x,G_=S_*this.m_perp.y,K_=S_*this.m_s1,C_=S_*this.m_s2),W_.x-=this.m_invMassA*v_,W_.y-=this.m_invMassA*G_,o2-=this.m_invIA*K_,m2.x+=this.m_invMassB*v_,m2.y+=this.m_invMassB*G_,_2+=this.m_invIB*C_,q_.m_linearVelocity.SetV(W_),q_.m_angularVelocity=o2,N_.m_linearVelocity.SetV(m2),N_.m_angularVelocity=_2},y_.prototype.SolvePositionConstraints=function(){var S_=this.m_bodyA,q_=this.m_bodyB,N_=S_.m_sweep.c,W_=S_.m_sweep.a,o2=q_.m_sweep.c,m2=q_.m_sweep.a,_2,v_=0,G_=0,K_=0,C_=0,z_=_2=0,X_=0;G_=!1;var l2=0,D2=V.FromAngle(W_);K_=V.FromAngle(m2),_2=D2,X_=this.m_localAnchor1.x-this.m_localCenterA.x;var V2=this.m_localAnchor1.y-this.m_localCenterA.y;if(v_=_2.col1.x*X_+_2.col2.x*V2,V2=_2.col1.y*X_+_2.col2.y*V2,X_=v_,_2=K_,K_=this.m_localAnchor2.x-this.m_localCenterB.x,C_=this.m_localAnchor2.y-this.m_localCenterB.y,v_=_2.col1.x*K_+_2.col2.x*C_,C_=_2.col1.y*K_+_2.col2.y*C_,K_=v_,_2=o2.x+K_-N_.x-X_,v_=o2.y+C_-N_.y-V2,this.m_enableLimit){this.m_axis=_o.MulMV(D2,this.m_localXAxis1),this.m_a1=(_2+X_)*this.m_axis.y-(v_+V2)*this.m_axis.x,this.m_a2=K_*this.m_axis.y-C_*this.m_axis.x;var L2=this.m_axis.x*_2+this.m_axis.y*v_;_o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*x.b2_linearSlop?(l2=_o.Clamp(L2,-x.b2_maxLinearCorrection,x.b2_maxLinearCorrection),z_=_o.Abs(L2),G_=!0):L2<=this.m_lowerTranslation?(l2=_o.Clamp(L2-this.m_lowerTranslation+x.b2_linearSlop,-x.b2_maxLinearCorrection,0),z_=this.m_lowerTranslation-L2,G_=!0):L2>=this.m_upperTranslation&&(l2=_o.Clamp(L2-this.m_upperTranslation+x.b2_linearSlop,0,x.b2_maxLinearCorrection),z_=L2-this.m_upperTranslation,G_=!0)}return this.m_perp=_o.MulMV(D2,this.m_localYAxis1),this.m_s1=(_2+X_)*this.m_perp.y-(v_+V2)*this.m_perp.x,this.m_s2=K_*this.m_perp.y-C_*this.m_perp.x,D2=new _r,V2=this.m_perp.x*_2+this.m_perp.y*v_,z_=_o.Max(z_,_o.Abs(V2)),X_=0,G_?(G_=this.m_invMassA,K_=this.m_invMassB,C_=this.m_invIA,_2=this.m_invIB,this.m_K.col1.x=G_+K_+C_*this.m_s1*this.m_s1+_2*this.m_s2*this.m_s2,this.m_K.col1.y=C_*this.m_s1*this.m_a1+_2*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=G_+K_+C_*this.m_a1*this.m_a1+_2*this.m_a2*this.m_a2,this.m_K.Solve(D2,-V2,-l2)):(G_=this.m_invMassA,K_=this.m_invMassB,C_=this.m_invIA,_2=this.m_invIB,l2=G_+K_+C_*this.m_s1*this.m_s1+_2*this.m_s2*this.m_s2,G_=0,G_=l2!=0?-V2/l2:0,D2.x=G_,D2.y=0),l2=D2.x*this.m_perp.x+D2.y*this.m_axis.x,G_=D2.x*this.m_perp.y+D2.y*this.m_axis.y,V2=D2.x*this.m_s1+D2.y*this.m_a1,D2=D2.x*this.m_s2+D2.y*this.m_a2,N_.x-=this.m_invMassA*l2,N_.y-=this.m_invMassA*G_,W_-=this.m_invIA*V2,o2.x+=this.m_invMassB*l2,o2.y+=this.m_invMassB*G_,m2+=this.m_invIB*D2,S_.m_sweep.a=W_,q_.m_sweep.a=m2,S_.SynchronizeTransform(),q_.SynchronizeTransform(),z_<=x.b2_linearSlop&&X_<=x.b2_angularSlop},Z_.inherit(I_,Z_.Dynamics.Joints.b2JointDef),I_.prototype.__super=Z_.Dynamics.Joints.b2JointDef.prototype,I_.b2LineJointDef=function(){Z_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _r,this.localAnchorB=new _r,this.localAxisA=new _r},I_.prototype.b2LineJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_lineJoint,this.localAxisA.Set(1,0),this.enableLimit=!1,this.upperTranslation=this.lowerTranslation=0,this.enableMotor=!1,this.motorSpeed=this.maxMotorForce=0},I_.prototype.Initialize=function(S_,q_,N_,W_){this.bodyA=S_,this.bodyB=q_,this.localAnchorA=this.bodyA.GetLocalPoint(N_),this.localAnchorB=this.bodyB.GetLocalPoint(N_),this.localAxisA=this.bodyA.GetLocalVector(W_)},Z_.inherit(k_,Z_.Dynamics.Joints.b2Joint),k_.prototype.__super=Z_.Dynamics.Joints.b2Joint.prototype,k_.b2MouseJoint=function(){Z_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.K=new V,this.K1=new V,this.K2=new V,this.m_localAnchor=new _r,this.m_target=new _r,this.m_impulse=new _r,this.m_mass=new V,this.m_C=new _r},k_.prototype.GetAnchorA=function(){return this.m_target},k_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor)},k_.prototype.GetReactionForce=function(S_){return S_===void 0&&(S_=0),new _r(S_*this.m_impulse.x,S_*this.m_impulse.y)},k_.prototype.GetReactionTorque=function(){return 0},k_.prototype.GetTarget=function(){return this.m_target},k_.prototype.SetTarget=function(S_){this.m_bodyB.IsAwake()==!1&&this.m_bodyB.SetAwake(!0),this.m_target=S_},k_.prototype.GetMaxForce=function(){return this.m_maxForce},k_.prototype.SetMaxForce=function(S_){S_===void 0&&(S_=0),this.m_maxForce=S_},k_.prototype.GetFrequency=function(){return this.m_frequencyHz},k_.prototype.SetFrequency=function(S_){S_===void 0&&(S_=0),this.m_frequencyHz=S_},k_.prototype.GetDampingRatio=function(){return this.m_dampingRatio},k_.prototype.SetDampingRatio=function(S_){S_===void 0&&(S_=0),this.m_dampingRatio=S_},k_.prototype.b2MouseJoint=function(S_){this.__super.b2Joint.call(this,S_),this.m_target.SetV(S_.target);var q_=this.m_target.x-this.m_bodyB.m_xf.position.x,N_=this.m_target.y-this.m_bodyB.m_xf.position.y,W_=this.m_bodyB.m_xf.R;this.m_localAnchor.x=q_*W_.col1.x+N_*W_.col1.y,this.m_localAnchor.y=q_*W_.col2.x+N_*W_.col2.y,this.m_maxForce=S_.maxForce,this.m_impulse.SetZero(),this.m_frequencyHz=S_.frequencyHz,this.m_dampingRatio=S_.dampingRatio,this.m_gamma=this.m_beta=0},k_.prototype.InitVelocityConstraints=function(S_){var q_=this.m_bodyB,N_=q_.GetMass(),W_=2*Math.PI*this.m_frequencyHz,o2=N_*W_*W_;this.m_gamma=S_.dt*(2*N_*this.m_dampingRatio*W_+S_.dt*o2),this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0,this.m_beta=S_.dt*o2*this.m_gamma,o2=q_.m_xf.R,N_=this.m_localAnchor.x-q_.m_sweep.localCenter.x,W_=this.m_localAnchor.y-q_.m_sweep.localCenter.y;var m2=o2.col1.x*N_+o2.col2.x*W_;W_=o2.col1.y*N_+o2.col2.y*W_,N_=m2,o2=q_.m_invMass,m2=q_.m_invI,this.K1.col1.x=o2,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=o2,this.K2.col1.x=m2*W_*W_,this.K2.col2.x=-m2*N_*W_,this.K2.col1.y=-m2*N_*W_,this.K2.col2.y=m2*N_*N_,this.K.SetM(this.K1),this.K.AddM(this.K2),this.K.col1.x+=this.m_gamma,this.K.col2.y+=this.m_gamma,this.K.GetInverse(this.m_mass),this.m_C.x=q_.m_sweep.c.x+N_-this.m_target.x,this.m_C.y=q_.m_sweep.c.y+W_-this.m_target.y,q_.m_angularVelocity*=.98,this.m_impulse.x*=S_.dtRatio,this.m_impulse.y*=S_.dtRatio,q_.m_linearVelocity.x+=o2*this.m_impulse.x,q_.m_linearVelocity.y+=o2*this.m_impulse.y,q_.m_angularVelocity+=m2*(N_*this.m_impulse.y-W_*this.m_impulse.x)},k_.prototype.SolveVelocityConstraints=function(S_){var q_=this.m_bodyB,N_,W_=0,o2=0;N_=q_.m_xf.R;var m2=this.m_localAnchor.x-q_.m_sweep.localCenter.x,_2=this.m_localAnchor.y-q_.m_sweep.localCenter.y;W_=N_.col1.x*m2+N_.col2.x*_2,_2=N_.col1.y*m2+N_.col2.y*_2,m2=W_,W_=q_.m_linearVelocity.x+-q_.m_angularVelocity*_2;var v_=q_.m_linearVelocity.y+q_.m_angularVelocity*m2;N_=this.m_mass,W_=W_+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x,o2=v_+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y,v_=-(N_.col1.x*W_+N_.col2.x*o2),o2=-(N_.col1.y*W_+N_.col2.y*o2),N_=this.m_impulse.x,W_=this.m_impulse.y,this.m_impulse.x+=v_,this.m_impulse.y+=o2,S_=S_.dt*this.m_maxForce,this.m_impulse.LengthSquared()>S_*S_&&this.m_impulse.Multiply(S_/this.m_impulse.Length()),v_=this.m_impulse.x-N_,o2=this.m_impulse.y-W_,q_.m_linearVelocity.x+=q_.m_invMass*v_,q_.m_linearVelocity.y+=q_.m_invMass*o2,q_.m_angularVelocity+=q_.m_invI*(m2*o2-_2*v_)},k_.prototype.SolvePositionConstraints=function(){return!0},Z_.inherit(j_,Z_.Dynamics.Joints.b2JointDef),j_.prototype.__super=Z_.Dynamics.Joints.b2JointDef.prototype,j_.b2MouseJointDef=function(){Z_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.target=new _r},j_.prototype.b2MouseJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_mouseJoint,this.maxForce=0,this.frequencyHz=5,this.dampingRatio=.7},Z_.inherit(n2,Z_.Dynamics.Joints.b2Joint),n2.prototype.__super=Z_.Dynamics.Joints.b2Joint.prototype,n2.b2PrismaticJoint=function(){Z_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new _r,this.m_localAnchor2=new _r,this.m_localXAxis1=new _r,this.m_localYAxis1=new _r,this.m_axis=new _r,this.m_perp=new _r,this.m_K=new o,this.m_impulse=new l},n2.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},n2.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},n2.prototype.GetReactionForce=function(S_){return S_===void 0&&(S_=0),new _r(S_*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),S_*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))},n2.prototype.GetReactionTorque=function(S_){return S_===void 0&&(S_=0),S_*this.m_impulse.y},n2.prototype.GetJointTranslation=function(){var S_=this.m_bodyA,q_=this.m_bodyB,N_=S_.GetWorldPoint(this.m_localAnchor1),W_=q_.GetWorldPoint(this.m_localAnchor2);return q_=W_.x-N_.x,N_=W_.y-N_.y,S_=S_.GetWorldVector(this.m_localXAxis1),S_.x*q_+S_.y*N_},n2.prototype.GetJointSpeed=function(){var S_=this.m_bodyA,q_=this.m_bodyB,N_;N_=S_.m_xf.R;var W_=this.m_localAnchor1.x-S_.m_sweep.localCenter.x,o2=this.m_localAnchor1.y-S_.m_sweep.localCenter.y,m2=N_.col1.x*W_+N_.col2.x*o2;o2=N_.col1.y*W_+N_.col2.y*o2,W_=m2,N_=q_.m_xf.R;var _2=this.m_localAnchor2.x-q_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-q_.m_sweep.localCenter.y;m2=N_.col1.x*_2+N_.col2.x*v_,v_=N_.col1.y*_2+N_.col2.y*v_,_2=m2,N_=q_.m_sweep.c.x+_2-(S_.m_sweep.c.x+W_),m2=q_.m_sweep.c.y+v_-(S_.m_sweep.c.y+o2);var G_=S_.GetWorldVector(this.m_localXAxis1),K_=S_.m_linearVelocity,C_=q_.m_linearVelocity;return S_=S_.m_angularVelocity,q_=q_.m_angularVelocity,N_*-S_*G_.y+m2*S_*G_.x+(G_.x*(C_.x+-q_*v_-K_.x- -S_*o2)+G_.y*(C_.y+q_*_2-K_.y-S_*W_))},n2.prototype.IsLimitEnabled=function(){return this.m_enableLimit},n2.prototype.EnableLimit=function(S_){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=S_},n2.prototype.GetLowerLimit=function(){return this.m_lowerTranslation},n2.prototype.GetUpperLimit=function(){return this.m_upperTranslation},n2.prototype.SetLimits=function(S_,q_){S_===void 0&&(S_=0),q_===void 0&&(q_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=S_,this.m_upperTranslation=q_},n2.prototype.IsMotorEnabled=function(){return this.m_enableMotor},n2.prototype.EnableMotor=function(S_){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=S_},n2.prototype.SetMotorSpeed=function(S_){S_===void 0&&(S_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=S_},n2.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},n2.prototype.SetMaxMotorForce=function(S_){S_===void 0&&(S_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=S_},n2.prototype.GetMotorForce=function(){return this.m_motorImpulse},n2.prototype.b2PrismaticJoint=function(S_){this.__super.b2Joint.call(this,S_),this.m_localAnchor1.SetV(S_.localAnchorA),this.m_localAnchor2.SetV(S_.localAnchorB),this.m_localXAxis1.SetV(S_.localAxisA),this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_refAngle=S_.referenceAngle,this.m_impulse.SetZero(),this.m_motorImpulse=this.m_motorMass=0,this.m_lowerTranslation=S_.lowerTranslation,this.m_upperTranslation=S_.upperTranslation,this.m_maxMotorForce=S_.maxMotorForce,this.m_motorSpeed=S_.motorSpeed,this.m_enableLimit=S_.enableLimit,this.m_enableMotor=S_.enableMotor,this.m_limitState=s_.e_inactiveLimit,this.m_axis.SetZero(),this.m_perp.SetZero()},n2.prototype.InitVelocityConstraints=function(S_){var q_=this.m_bodyA,N_=this.m_bodyB,W_,o2=0;this.m_localCenterA.SetV(q_.GetLocalCenter()),this.m_localCenterB.SetV(N_.GetLocalCenter());var m2=q_.GetTransform();N_.GetTransform(),W_=q_.m_xf.R;var _2=this.m_localAnchor1.x-this.m_localCenterA.x,v_=this.m_localAnchor1.y-this.m_localCenterA.y;o2=W_.col1.x*_2+W_.col2.x*v_,v_=W_.col1.y*_2+W_.col2.y*v_,_2=o2,W_=N_.m_xf.R;var G_=this.m_localAnchor2.x-this.m_localCenterB.x,K_=this.m_localAnchor2.y-this.m_localCenterB.y;o2=W_.col1.x*G_+W_.col2.x*K_,K_=W_.col1.y*G_+W_.col2.y*K_,G_=o2,W_=N_.m_sweep.c.x+G_-q_.m_sweep.c.x-_2,o2=N_.m_sweep.c.y+K_-q_.m_sweep.c.y-v_,this.m_invMassA=q_.m_invMass,this.m_invMassB=N_.m_invMass,this.m_invIA=q_.m_invI,this.m_invIB=N_.m_invI,this.m_axis.SetV(_o.MulMV(m2.R,this.m_localXAxis1)),this.m_a1=(W_+_2)*this.m_axis.y-(o2+v_)*this.m_axis.x,this.m_a2=G_*this.m_axis.y-K_*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass),this.m_perp.SetV(_o.MulMV(m2.R,this.m_localYAxis1)),this.m_s1=(W_+_2)*this.m_perp.y-(o2+v_)*this.m_perp.x,this.m_s2=G_*this.m_perp.y-K_*this.m_perp.x,m2=this.m_invMassA,_2=this.m_invMassB,v_=this.m_invIA,G_=this.m_invIB,this.m_K.col1.x=m2+_2+v_*this.m_s1*this.m_s1+G_*this.m_s2*this.m_s2,this.m_K.col1.y=v_*this.m_s1+G_*this.m_s2,this.m_K.col1.z=v_*this.m_s1*this.m_a1+G_*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=v_+G_,this.m_K.col2.z=v_*this.m_a1+G_*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=m2+_2+v_*this.m_a1*this.m_a1+G_*this.m_a2*this.m_a2,this.m_enableLimit?(W_=this.m_axis.x*W_+this.m_axis.y*o2,_o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*x.b2_linearSlop?this.m_limitState=s_.e_equalLimits:W_<=this.m_lowerTranslation?this.m_limitState!=s_.e_atLowerLimit&&(this.m_limitState=s_.e_atLowerLimit,this.m_impulse.z=0):W_>=this.m_upperTranslation?this.m_limitState!=s_.e_atUpperLimit&&(this.m_limitState=s_.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=s_.e_inactiveLimit,this.m_impulse.z=0)):this.m_limitState=s_.e_inactiveLimit,this.m_enableMotor==!1&&(this.m_motorImpulse=0),S_.warmStarting?(this.m_impulse.x*=S_.dtRatio,this.m_impulse.y*=S_.dtRatio,this.m_motorImpulse*=S_.dtRatio,S_=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,W_=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,o2=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,m2=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,q_.m_linearVelocity.x-=this.m_invMassA*S_,q_.m_linearVelocity.y-=this.m_invMassA*W_,q_.m_angularVelocity-=this.m_invIA*o2,N_.m_linearVelocity.x+=this.m_invMassB*S_,N_.m_linearVelocity.y+=this.m_invMassB*W_,N_.m_angularVelocity+=this.m_invIB*m2):(this.m_impulse.SetZero(),this.m_motorImpulse=0)},n2.prototype.SolveVelocityConstraints=function(S_){var q_=this.m_bodyA,N_=this.m_bodyB,W_=q_.m_linearVelocity,o2=q_.m_angularVelocity,m2=N_.m_linearVelocity,_2=N_.m_angularVelocity,v_=0,G_=0,K_=0,C_=0;this.m_enableMotor&&this.m_limitState!=s_.e_equalLimits&&(C_=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(m2.x-W_.x)+this.m_axis.y*(m2.y-W_.y)+this.m_a2*_2-this.m_a1*o2)),v_=this.m_motorImpulse,S_=S_.dt*this.m_maxMotorForce,this.m_motorImpulse=_o.Clamp(this.m_motorImpulse+C_,-S_,S_),C_=this.m_motorImpulse-v_,v_=C_*this.m_axis.x,G_=C_*this.m_axis.y,K_=C_*this.m_a1,C_=C_*this.m_a2,W_.x-=this.m_invMassA*v_,W_.y-=this.m_invMassA*G_,o2-=this.m_invIA*K_,m2.x+=this.m_invMassB*v_,m2.y+=this.m_invMassB*G_,_2+=this.m_invIB*C_),K_=this.m_perp.x*(m2.x-W_.x)+this.m_perp.y*(m2.y-W_.y)+this.m_s2*_2-this.m_s1*o2,G_=_2-o2,this.m_enableLimit&&this.m_limitState!=s_.e_inactiveLimit?(S_=this.m_axis.x*(m2.x-W_.x)+this.m_axis.y*(m2.y-W_.y)+this.m_a2*_2-this.m_a1*o2,v_=this.m_impulse.Copy(),S_=this.m_K.Solve33(new l,-K_,-G_,-S_),this.m_impulse.Add(S_),this.m_limitState==s_.e_atLowerLimit?this.m_impulse.z=_o.Max(this.m_impulse.z,0):this.m_limitState==s_.e_atUpperLimit&&(this.m_impulse.z=_o.Min(this.m_impulse.z,0)),K_=-K_-(this.m_impulse.z-v_.z)*this.m_K.col3.x,G_=-G_-(this.m_impulse.z-v_.z)*this.m_K.col3.y,G_=this.m_K.Solve22(new _r,K_,G_),G_.x+=v_.x,G_.y+=v_.y,this.m_impulse.x=G_.x,this.m_impulse.y=G_.y,S_.x=this.m_impulse.x-v_.x,S_.y=this.m_impulse.y-v_.y,S_.z=this.m_impulse.z-v_.z,v_=S_.x*this.m_perp.x+S_.z*this.m_axis.x,G_=S_.x*this.m_perp.y+S_.z*this.m_axis.y,K_=S_.x*this.m_s1+S_.y+S_.z*this.m_a1,C_=S_.x*this.m_s2+S_.y+S_.z*this.m_a2):(S_=this.m_K.Solve22(new _r,-K_,-G_),this.m_impulse.x+=S_.x,this.m_impulse.y+=S_.y,v_=S_.x*this.m_perp.x,G_=S_.x*this.m_perp.y,K_=S_.x*this.m_s1+S_.y,C_=S_.x*this.m_s2+S_.y),W_.x-=this.m_invMassA*v_,W_.y-=this.m_invMassA*G_,o2-=this.m_invIA*K_,m2.x+=this.m_invMassB*v_,m2.y+=this.m_invMassB*G_,_2+=this.m_invIB*C_,q_.m_linearVelocity.SetV(W_),q_.m_angularVelocity=o2,N_.m_linearVelocity.SetV(m2),N_.m_angularVelocity=_2},n2.prototype.SolvePositionConstraints=function(){var S_=this.m_bodyA,q_=this.m_bodyB,N_=S_.m_sweep.c,W_=S_.m_sweep.a,o2=q_.m_sweep.c,m2=q_.m_sweep.a,_2,v_=0,G_=0,K_=0,C_=v_=_2=0,z_=0;G_=!1;var X_=0,l2=V.FromAngle(W_),D2=V.FromAngle(m2);_2=l2,z_=this.m_localAnchor1.x-this.m_localCenterA.x;var V2=this.m_localAnchor1.y-this.m_localCenterA.y;if(v_=_2.col1.x*z_+_2.col2.x*V2,V2=_2.col1.y*z_+_2.col2.y*V2,z_=v_,_2=D2,D2=this.m_localAnchor2.x-this.m_localCenterB.x,K_=this.m_localAnchor2.y-this.m_localCenterB.y,v_=_2.col1.x*D2+_2.col2.x*K_,K_=_2.col1.y*D2+_2.col2.y*K_,D2=v_,_2=o2.x+D2-N_.x-z_,v_=o2.y+K_-N_.y-V2,this.m_enableLimit){this.m_axis=_o.MulMV(l2,this.m_localXAxis1),this.m_a1=(_2+z_)*this.m_axis.y-(v_+V2)*this.m_axis.x,this.m_a2=D2*this.m_axis.y-K_*this.m_axis.x;var L2=this.m_axis.x*_2+this.m_axis.y*v_;_o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*x.b2_linearSlop?(X_=_o.Clamp(L2,-x.b2_maxLinearCorrection,x.b2_maxLinearCorrection),C_=_o.Abs(L2),G_=!0):L2<=this.m_lowerTranslation?(X_=_o.Clamp(L2-this.m_lowerTranslation+x.b2_linearSlop,-x.b2_maxLinearCorrection,0),C_=this.m_lowerTranslation-L2,G_=!0):L2>=this.m_upperTranslation&&(X_=_o.Clamp(L2-this.m_upperTranslation+x.b2_linearSlop,0,x.b2_maxLinearCorrection),C_=L2-this.m_upperTranslation,G_=!0)}return this.m_perp=_o.MulMV(l2,this.m_localYAxis1),this.m_s1=(_2+z_)*this.m_perp.y-(v_+V2)*this.m_perp.x,this.m_s2=D2*this.m_perp.y-K_*this.m_perp.x,l2=new l,V2=this.m_perp.x*_2+this.m_perp.y*v_,D2=m2-W_-this.m_refAngle,C_=_o.Max(C_,_o.Abs(V2)),z_=_o.Abs(D2),G_?(G_=this.m_invMassA,K_=this.m_invMassB,_2=this.m_invIA,v_=this.m_invIB,this.m_K.col1.x=G_+K_+_2*this.m_s1*this.m_s1+v_*this.m_s2*this.m_s2,this.m_K.col1.y=_2*this.m_s1+v_*this.m_s2,this.m_K.col1.z=_2*this.m_s1*this.m_a1+v_*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=_2+v_,this.m_K.col2.z=_2*this.m_a1+v_*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=G_+K_+_2*this.m_a1*this.m_a1+v_*this.m_a2*this.m_a2,this.m_K.Solve33(l2,-V2,-D2,-X_)):(G_=this.m_invMassA,K_=this.m_invMassB,_2=this.m_invIA,v_=this.m_invIB,X_=_2*this.m_s1+v_*this.m_s2,L2=_2+v_,this.m_K.col1.Set(G_+K_+_2*this.m_s1*this.m_s1+v_*this.m_s2*this.m_s2,X_,0),this.m_K.col2.Set(X_,L2,0),X_=this.m_K.Solve22(new _r,-V2,-D2),l2.x=X_.x,l2.y=X_.y,l2.z=0),X_=l2.x*this.m_perp.x+l2.z*this.m_axis.x,G_=l2.x*this.m_perp.y+l2.z*this.m_axis.y,V2=l2.x*this.m_s1+l2.y+l2.z*this.m_a1,l2=l2.x*this.m_s2+l2.y+l2.z*this.m_a2,N_.x-=this.m_invMassA*X_,N_.y-=this.m_invMassA*G_,W_-=this.m_invIA*V2,o2.x+=this.m_invMassB*X_,o2.y+=this.m_invMassB*G_,m2+=this.m_invIB*l2,S_.m_sweep.a=W_,q_.m_sweep.a=m2,S_.SynchronizeTransform(),q_.SynchronizeTransform(),C_<=x.b2_linearSlop&&z_<=x.b2_angularSlop},Z_.inherit(p2,Z_.Dynamics.Joints.b2JointDef),p2.prototype.__super=Z_.Dynamics.Joints.b2JointDef.prototype,p2.b2PrismaticJointDef=function(){Z_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _r,this.localAnchorB=new _r,this.localAxisA=new _r},p2.prototype.b2PrismaticJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_prismaticJoint,this.localAxisA.Set(1,0),this.referenceAngle=0,this.enableLimit=!1,this.upperTranslation=this.lowerTranslation=0,this.enableMotor=!1,this.motorSpeed=this.maxMotorForce=0},p2.prototype.Initialize=function(S_,q_,N_,W_){this.bodyA=S_,this.bodyB=q_,this.localAnchorA=this.bodyA.GetLocalPoint(N_),this.localAnchorB=this.bodyB.GetLocalPoint(N_),this.localAxisA=this.bodyA.GetLocalVector(W_),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()},Z_.inherit(u2,Z_.Dynamics.Joints.b2Joint),u2.prototype.__super=Z_.Dynamics.Joints.b2Joint.prototype,u2.b2PulleyJoint=function(){Z_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_groundAnchor1=new _r,this.m_groundAnchor2=new _r,this.m_localAnchor1=new _r,this.m_localAnchor2=new _r,this.m_u1=new _r,this.m_u2=new _r},u2.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},u2.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},u2.prototype.GetReactionForce=function(S_){return S_===void 0&&(S_=0),new _r(S_*this.m_impulse*this.m_u2.x,S_*this.m_impulse*this.m_u2.y)},u2.prototype.GetReactionTorque=function(){return 0},u2.prototype.GetGroundAnchorA=function(){var S_=this.m_ground.m_xf.position.Copy();return S_.Add(this.m_groundAnchor1),S_},u2.prototype.GetGroundAnchorB=function(){var S_=this.m_ground.m_xf.position.Copy();return S_.Add(this.m_groundAnchor2),S_},u2.prototype.GetLength1=function(){var S_=this.m_bodyA.GetWorldPoint(this.m_localAnchor1),q_=S_.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x);return S_=S_.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y),Math.sqrt(q_*q_+S_*S_)},u2.prototype.GetLength2=function(){var S_=this.m_bodyB.GetWorldPoint(this.m_localAnchor2),q_=S_.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor2.x);return S_=S_.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor2.y),Math.sqrt(q_*q_+S_*S_)},u2.prototype.GetRatio=function(){return this.m_ratio},u2.prototype.b2PulleyJoint=function(S_){this.__super.b2Joint.call(this,S_),this.m_ground=this.m_bodyA.m_world.m_groundBody,this.m_groundAnchor1.x=S_.groundAnchorA.x-this.m_ground.m_xf.position.x,this.m_groundAnchor1.y=S_.groundAnchorA.y-this.m_ground.m_xf.position.y,this.m_groundAnchor2.x=S_.groundAnchorB.x-this.m_ground.m_xf.position.x,this.m_groundAnchor2.y=S_.groundAnchorB.y-this.m_ground.m_xf.position.y,this.m_localAnchor1.SetV(S_.localAnchorA),this.m_localAnchor2.SetV(S_.localAnchorB),this.m_ratio=S_.ratio,this.m_constant=S_.lengthA+this.m_ratio*S_.lengthB,this.m_maxLength1=_o.Min(S_.maxLengthA,this.m_constant-this.m_ratio*u2.b2_minPulleyLength),this.m_maxLength2=_o.Min(S_.maxLengthB,(this.m_constant-u2.b2_minPulleyLength)/this.m_ratio),this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0},u2.prototype.InitVelocityConstraints=function(S_){var q_=this.m_bodyA,N_=this.m_bodyB,W_;W_=q_.m_xf.R;var o2=this.m_localAnchor1.x-q_.m_sweep.localCenter.x,m2=this.m_localAnchor1.y-q_.m_sweep.localCenter.y,_2=W_.col1.x*o2+W_.col2.x*m2;m2=W_.col1.y*o2+W_.col2.y*m2,o2=_2,W_=N_.m_xf.R;var v_=this.m_localAnchor2.x-N_.m_sweep.localCenter.x,G_=this.m_localAnchor2.y-N_.m_sweep.localCenter.y;_2=W_.col1.x*v_+W_.col2.x*G_,G_=W_.col1.y*v_+W_.col2.y*G_,v_=_2,W_=N_.m_sweep.c.x+v_,_2=N_.m_sweep.c.y+G_;var K_=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,C_=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.Set(q_.m_sweep.c.x+o2-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),q_.m_sweep.c.y+m2-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y)),this.m_u2.Set(W_-K_,_2-C_),W_=this.m_u1.Length(),_2=this.m_u2.Length(),W_>x.b2_linearSlop?this.m_u1.Multiply(1/W_):this.m_u1.SetZero(),_2>x.b2_linearSlop?this.m_u2.Multiply(1/_2):this.m_u2.SetZero(),this.m_constant-W_-this.m_ratio*_2>0?(this.m_state=s_.e_inactiveLimit,this.m_impulse=0):this.m_state=s_.e_atUpperLimit,W_<this.m_maxLength1?(this.m_limitState1=s_.e_inactiveLimit,this.m_limitImpulse1=0):this.m_limitState1=s_.e_atUpperLimit,_2<this.m_maxLength2?(this.m_limitState2=s_.e_inactiveLimit,this.m_limitImpulse2=0):this.m_limitState2=s_.e_atUpperLimit,W_=o2*this.m_u1.y-m2*this.m_u1.x,_2=v_*this.m_u2.y-G_*this.m_u2.x,this.m_limitMass1=q_.m_invMass+q_.m_invI*W_*W_,this.m_limitMass2=N_.m_invMass+N_.m_invI*_2*_2,this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2,this.m_limitMass1=1/this.m_limitMass1,this.m_limitMass2=1/this.m_limitMass2,this.m_pulleyMass=1/this.m_pulleyMass,S_.warmStarting?(this.m_impulse*=S_.dtRatio,this.m_limitImpulse1*=S_.dtRatio,this.m_limitImpulse2*=S_.dtRatio,S_=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,W_=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,_2=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,K_=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y,q_.m_linearVelocity.x+=q_.m_invMass*S_,q_.m_linearVelocity.y+=q_.m_invMass*W_,q_.m_angularVelocity+=q_.m_invI*(o2*W_-m2*S_),N_.m_linearVelocity.x+=N_.m_invMass*_2,N_.m_linearVelocity.y+=N_.m_invMass*K_,N_.m_angularVelocity+=N_.m_invI*(v_*K_-G_*_2)):this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0},u2.prototype.SolveVelocityConstraints=function(){var S_=this.m_bodyA,q_=this.m_bodyB,N_;N_=S_.m_xf.R;var W_=this.m_localAnchor1.x-S_.m_sweep.localCenter.x,o2=this.m_localAnchor1.y-S_.m_sweep.localCenter.y,m2=N_.col1.x*W_+N_.col2.x*o2;o2=N_.col1.y*W_+N_.col2.y*o2,W_=m2,N_=q_.m_xf.R;var _2=this.m_localAnchor2.x-q_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-q_.m_sweep.localCenter.y;m2=N_.col1.x*_2+N_.col2.x*v_,v_=N_.col1.y*_2+N_.col2.y*v_,_2=m2;var G_=m2=N_=0,K_=0;N_=K_=N_=K_=G_=m2=N_=0,this.m_state==s_.e_atUpperLimit&&(N_=S_.m_linearVelocity.x+-S_.m_angularVelocity*o2,m2=S_.m_linearVelocity.y+S_.m_angularVelocity*W_,G_=q_.m_linearVelocity.x+-q_.m_angularVelocity*v_,K_=q_.m_linearVelocity.y+q_.m_angularVelocity*_2,N_=-(this.m_u1.x*N_+this.m_u1.y*m2)-this.m_ratio*(this.m_u2.x*G_+this.m_u2.y*K_),K_=this.m_pulleyMass*-N_,N_=this.m_impulse,this.m_impulse=_o.Max(0,this.m_impulse+K_),K_=this.m_impulse-N_,N_=-K_*this.m_u1.x,m2=-K_*this.m_u1.y,G_=-this.m_ratio*K_*this.m_u2.x,K_=-this.m_ratio*K_*this.m_u2.y,S_.m_linearVelocity.x+=S_.m_invMass*N_,S_.m_linearVelocity.y+=S_.m_invMass*m2,S_.m_angularVelocity+=S_.m_invI*(W_*m2-o2*N_),q_.m_linearVelocity.x+=q_.m_invMass*G_,q_.m_linearVelocity.y+=q_.m_invMass*K_,q_.m_angularVelocity+=q_.m_invI*(_2*K_-v_*G_)),this.m_limitState1==s_.e_atUpperLimit&&(N_=S_.m_linearVelocity.x+-S_.m_angularVelocity*o2,m2=S_.m_linearVelocity.y+S_.m_angularVelocity*W_,N_=-(this.m_u1.x*N_+this.m_u1.y*m2),K_=-this.m_limitMass1*N_,N_=this.m_limitImpulse1,this.m_limitImpulse1=_o.Max(0,this.m_limitImpulse1+K_),K_=this.m_limitImpulse1-N_,N_=-K_*this.m_u1.x,m2=-K_*this.m_u1.y,S_.m_linearVelocity.x+=S_.m_invMass*N_,S_.m_linearVelocity.y+=S_.m_invMass*m2,S_.m_angularVelocity+=S_.m_invI*(W_*m2-o2*N_)),this.m_limitState2==s_.e_atUpperLimit&&(G_=q_.m_linearVelocity.x+-q_.m_angularVelocity*v_,K_=q_.m_linearVelocity.y+q_.m_angularVelocity*_2,N_=-(this.m_u2.x*G_+this.m_u2.y*K_),K_=-this.m_limitMass2*N_,N_=this.m_limitImpulse2,this.m_limitImpulse2=_o.Max(0,this.m_limitImpulse2+K_),K_=this.m_limitImpulse2-N_,G_=-K_*this.m_u2.x,K_=-K_*this.m_u2.y,q_.m_linearVelocity.x+=q_.m_invMass*G_,q_.m_linearVelocity.y+=q_.m_invMass*K_,q_.m_angularVelocity+=q_.m_invI*(_2*K_-v_*G_))},u2.prototype.SolvePositionConstraints=function(){var S_=this.m_bodyA,q_=this.m_bodyB,N_,W_=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,o2=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,m2=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,_2=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,v_=0,G_=0,K_=0,C_=0,z_=N_=0,X_=0,l2=0,D2=z_=l2=N_=z_=N_=0;return this.m_state==s_.e_atUpperLimit&&(N_=S_.m_xf.R,v_=this.m_localAnchor1.x-S_.m_sweep.localCenter.x,G_=this.m_localAnchor1.y-S_.m_sweep.localCenter.y,z_=N_.col1.x*v_+N_.col2.x*G_,G_=N_.col1.y*v_+N_.col2.y*G_,v_=z_,N_=q_.m_xf.R,K_=this.m_localAnchor2.x-q_.m_sweep.localCenter.x,C_=this.m_localAnchor2.y-q_.m_sweep.localCenter.y,z_=N_.col1.x*K_+N_.col2.x*C_,C_=N_.col1.y*K_+N_.col2.y*C_,K_=z_,N_=S_.m_sweep.c.x+v_,z_=S_.m_sweep.c.y+G_,X_=q_.m_sweep.c.x+K_,l2=q_.m_sweep.c.y+C_,this.m_u1.Set(N_-W_,z_-o2),this.m_u2.Set(X_-m2,l2-_2),N_=this.m_u1.Length(),z_=this.m_u2.Length(),N_>x.b2_linearSlop?this.m_u1.Multiply(1/N_):this.m_u1.SetZero(),z_>x.b2_linearSlop?this.m_u2.Multiply(1/z_):this.m_u2.SetZero(),N_=this.m_constant-N_-this.m_ratio*z_,D2=_o.Max(D2,-N_),N_=_o.Clamp(N_+x.b2_linearSlop,-x.b2_maxLinearCorrection,0),l2=-this.m_pulleyMass*N_,N_=-l2*this.m_u1.x,z_=-l2*this.m_u1.y,X_=-this.m_ratio*l2*this.m_u2.x,l2=-this.m_ratio*l2*this.m_u2.y,S_.m_sweep.c.x+=S_.m_invMass*N_,S_.m_sweep.c.y+=S_.m_invMass*z_,S_.m_sweep.a+=S_.m_invI*(v_*z_-G_*N_),q_.m_sweep.c.x+=q_.m_invMass*X_,q_.m_sweep.c.y+=q_.m_invMass*l2,q_.m_sweep.a+=q_.m_invI*(K_*l2-C_*X_),S_.SynchronizeTransform(),q_.SynchronizeTransform()),this.m_limitState1==s_.e_atUpperLimit&&(N_=S_.m_xf.R,v_=this.m_localAnchor1.x-S_.m_sweep.localCenter.x,G_=this.m_localAnchor1.y-S_.m_sweep.localCenter.y,z_=N_.col1.x*v_+N_.col2.x*G_,G_=N_.col1.y*v_+N_.col2.y*G_,v_=z_,N_=S_.m_sweep.c.x+v_,z_=S_.m_sweep.c.y+G_,this.m_u1.Set(N_-W_,z_-o2),N_=this.m_u1.Length(),N_>x.b2_linearSlop?(this.m_u1.x*=1/N_,this.m_u1.y*=1/N_):this.m_u1.SetZero(),N_=this.m_maxLength1-N_,D2=_o.Max(D2,-N_),N_=_o.Clamp(N_+x.b2_linearSlop,-x.b2_maxLinearCorrection,0),l2=-this.m_limitMass1*N_,N_=-l2*this.m_u1.x,z_=-l2*this.m_u1.y,S_.m_sweep.c.x+=S_.m_invMass*N_,S_.m_sweep.c.y+=S_.m_invMass*z_,S_.m_sweep.a+=S_.m_invI*(v_*z_-G_*N_),S_.SynchronizeTransform()),this.m_limitState2==s_.e_atUpperLimit&&(N_=q_.m_xf.R,K_=this.m_localAnchor2.x-q_.m_sweep.localCenter.x,C_=this.m_localAnchor2.y-q_.m_sweep.localCenter.y,z_=N_.col1.x*K_+N_.col2.x*C_,C_=N_.col1.y*K_+N_.col2.y*C_,K_=z_,X_=q_.m_sweep.c.x+K_,l2=q_.m_sweep.c.y+C_,this.m_u2.Set(X_-m2,l2-_2),z_=this.m_u2.Length(),z_>x.b2_linearSlop?(this.m_u2.x*=1/z_,this.m_u2.y*=1/z_):this.m_u2.SetZero(),N_=this.m_maxLength2-z_,D2=_o.Max(D2,-N_),N_=_o.Clamp(N_+x.b2_linearSlop,-x.b2_maxLinearCorrection,0),l2=-this.m_limitMass2*N_,X_=-l2*this.m_u2.x,l2=-l2*this.m_u2.y,q_.m_sweep.c.x+=q_.m_invMass*X_,q_.m_sweep.c.y+=q_.m_invMass*l2,q_.m_sweep.a+=q_.m_invI*(K_*l2-C_*X_),q_.SynchronizeTransform()),D2<x.b2_linearSlop},Z_.postDefs.push(function(){Z_.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength=2}),Z_.inherit(T2,Z_.Dynamics.Joints.b2JointDef),T2.prototype.__super=Z_.Dynamics.Joints.b2JointDef.prototype,T2.b2PulleyJointDef=function(){Z_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.groundAnchorA=new _r,this.groundAnchorB=new _r,this.localAnchorA=new _r,this.localAnchorB=new _r},T2.prototype.b2PulleyJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_pulleyJoint,this.groundAnchorA.Set(-1,1),this.groundAnchorB.Set(1,1),this.localAnchorA.Set(-1,0),this.localAnchorB.Set(1,0),this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0,this.ratio=1,this.collideConnected=!0},T2.prototype.Initialize=function(S_,q_,N_,W_,o2,m2,_2){_2===void 0&&(_2=0),this.bodyA=S_,this.bodyB=q_,this.groundAnchorA.SetV(N_),this.groundAnchorB.SetV(W_),this.localAnchorA=this.bodyA.GetLocalPoint(o2),this.localAnchorB=this.bodyB.GetLocalPoint(m2),S_=o2.x-N_.x,N_=o2.y-N_.y,this.lengthA=Math.sqrt(S_*S_+N_*N_),N_=m2.x-W_.x,W_=m2.y-W_.y,this.lengthB=Math.sqrt(N_*N_+W_*W_),this.ratio=_2,_2=this.lengthA+this.ratio*this.lengthB,this.maxLengthA=_2-this.ratio*u2.b2_minPulleyLength,this.maxLengthB=(_2-u2.b2_minPulleyLength)/this.ratio},Z_.inherit(I2,Z_.Dynamics.Joints.b2Joint),I2.prototype.__super=Z_.Dynamics.Joints.b2Joint.prototype,I2.b2RevoluteJoint=function(){Z_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.K=new V,this.K1=new V,this.K2=new V,this.K3=new V,this.impulse3=new l,this.impulse2=new _r,this.reduced=new _r,this.m_localAnchor1=new _r,this.m_localAnchor2=new _r,this.m_impulse=new l,this.m_mass=new o},I2.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},I2.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},I2.prototype.GetReactionForce=function(S_){return S_===void 0&&(S_=0),new _r(S_*this.m_impulse.x,S_*this.m_impulse.y)},I2.prototype.GetReactionTorque=function(S_){return S_===void 0&&(S_=0),S_*this.m_impulse.z},I2.prototype.GetJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle},I2.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity},I2.prototype.IsLimitEnabled=function(){return this.m_enableLimit},I2.prototype.EnableLimit=function(S_){this.m_enableLimit=S_},I2.prototype.GetLowerLimit=function(){return this.m_lowerAngle},I2.prototype.GetUpperLimit=function(){return this.m_upperAngle},I2.prototype.SetLimits=function(S_,q_){S_===void 0&&(S_=0),q_===void 0&&(q_=0),this.m_lowerAngle=S_,this.m_upperAngle=q_},I2.prototype.IsMotorEnabled=function(){return this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor},I2.prototype.EnableMotor=function(S_){this.m_enableMotor=S_},I2.prototype.SetMotorSpeed=function(S_){S_===void 0&&(S_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=S_},I2.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},I2.prototype.SetMaxMotorTorque=function(S_){S_===void 0&&(S_=0),this.m_maxMotorTorque=S_},I2.prototype.GetMotorTorque=function(){return this.m_maxMotorTorque},I2.prototype.b2RevoluteJoint=function(S_){this.__super.b2Joint.call(this,S_),this.m_localAnchor1.SetV(S_.localAnchorA),this.m_localAnchor2.SetV(S_.localAnchorB),this.m_referenceAngle=S_.referenceAngle,this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerAngle=S_.lowerAngle,this.m_upperAngle=S_.upperAngle,this.m_maxMotorTorque=S_.maxMotorTorque,this.m_motorSpeed=S_.motorSpeed,this.m_enableLimit=S_.enableLimit,this.m_enableMotor=S_.enableMotor,this.m_limitState=s_.e_inactiveLimit},I2.prototype.InitVelocityConstraints=function(S_){var q_=this.m_bodyA,N_=this.m_bodyB,W_,o2=0;W_=q_.m_xf.R;var m2=this.m_localAnchor1.x-q_.m_sweep.localCenter.x,_2=this.m_localAnchor1.y-q_.m_sweep.localCenter.y;o2=W_.col1.x*m2+W_.col2.x*_2,_2=W_.col1.y*m2+W_.col2.y*_2,m2=o2,W_=N_.m_xf.R;var v_=this.m_localAnchor2.x-N_.m_sweep.localCenter.x,G_=this.m_localAnchor2.y-N_.m_sweep.localCenter.y;o2=W_.col1.x*v_+W_.col2.x*G_,G_=W_.col1.y*v_+W_.col2.y*G_,v_=o2,W_=q_.m_invMass,o2=N_.m_invMass;var K_=q_.m_invI,C_=N_.m_invI;if(this.m_mass.col1.x=W_+o2+_2*_2*K_+G_*G_*C_,this.m_mass.col2.x=-_2*m2*K_-G_*v_*C_,this.m_mass.col3.x=-_2*K_-G_*C_,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=W_+o2+m2*m2*K_+v_*v_*C_,this.m_mass.col3.y=m2*K_+v_*C_,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=K_+C_,this.m_motorMass=1/(K_+C_),this.m_enableMotor==!1&&(this.m_motorImpulse=0),this.m_enableLimit){var z_=N_.m_sweep.a-q_.m_sweep.a-this.m_referenceAngle;_o.Abs(this.m_upperAngle-this.m_lowerAngle)<2*x.b2_angularSlop?this.m_limitState=s_.e_equalLimits:z_<=this.m_lowerAngle?(this.m_limitState!=s_.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=s_.e_atLowerLimit):z_>=this.m_upperAngle?(this.m_limitState!=s_.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=s_.e_atUpperLimit):(this.m_limitState=s_.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=s_.e_inactiveLimit;S_.warmStarting?(this.m_impulse.x*=S_.dtRatio,this.m_impulse.y*=S_.dtRatio,this.m_motorImpulse*=S_.dtRatio,S_=this.m_impulse.x,z_=this.m_impulse.y,q_.m_linearVelocity.x-=W_*S_,q_.m_linearVelocity.y-=W_*z_,q_.m_angularVelocity-=K_*(m2*z_-_2*S_+this.m_motorImpulse+this.m_impulse.z),N_.m_linearVelocity.x+=o2*S_,N_.m_linearVelocity.y+=o2*z_,N_.m_angularVelocity+=C_*(v_*z_-G_*S_+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.SetZero(),this.m_motorImpulse=0)},I2.prototype.SolveVelocityConstraints=function(S_){var q_=this.m_bodyA,N_=this.m_bodyB,W_=0,o2=W_=0,m2=0,_2=0,v_=0,G_=q_.m_linearVelocity,K_=q_.m_angularVelocity,C_=N_.m_linearVelocity,z_=N_.m_angularVelocity,X_=q_.m_invMass,l2=N_.m_invMass,D2=q_.m_invI,V2=N_.m_invI;if(this.m_enableMotor&&this.m_limitState!=s_.e_equalLimits&&(o2=this.m_motorMass*-(z_-K_-this.m_motorSpeed),m2=this.m_motorImpulse,_2=S_.dt*this.m_maxMotorTorque,this.m_motorImpulse=_o.Clamp(this.m_motorImpulse+o2,-_2,_2),o2=this.m_motorImpulse-m2,K_-=D2*o2,z_+=V2*o2),this.m_enableLimit&&this.m_limitState!=s_.e_inactiveLimit){S_=q_.m_xf.R,o2=this.m_localAnchor1.x-q_.m_sweep.localCenter.x,m2=this.m_localAnchor1.y-q_.m_sweep.localCenter.y,W_=S_.col1.x*o2+S_.col2.x*m2,m2=S_.col1.y*o2+S_.col2.y*m2,o2=W_,S_=N_.m_xf.R,_2=this.m_localAnchor2.x-N_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-N_.m_sweep.localCenter.y,W_=S_.col1.x*_2+S_.col2.x*v_,v_=S_.col1.y*_2+S_.col2.y*v_,_2=W_,S_=C_.x+-z_*v_-G_.x- -K_*m2;var L2=C_.y+z_*_2-G_.y-K_*o2;this.m_mass.Solve33(this.impulse3,-S_,-L2,-(z_-K_)),this.m_limitState==s_.e_equalLimits?this.m_impulse.Add(this.impulse3):this.m_limitState==s_.e_atLowerLimit?(W_=this.m_impulse.z+this.impulse3.z,W_<0&&(this.m_mass.Solve22(this.reduced,-S_,-L2),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)):this.m_limitState==s_.e_atUpperLimit&&(W_=this.m_impulse.z+this.impulse3.z,W_>0&&(this.m_mass.Solve22(this.reduced,-S_,-L2),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)),G_.x-=X_*this.impulse3.x,G_.y-=X_*this.impulse3.y,K_-=D2*(o2*this.impulse3.y-m2*this.impulse3.x+this.impulse3.z),C_.x+=l2*this.impulse3.x,C_.y+=l2*this.impulse3.y,z_+=V2*(_2*this.impulse3.y-v_*this.impulse3.x+this.impulse3.z)}else S_=q_.m_xf.R,o2=this.m_localAnchor1.x-q_.m_sweep.localCenter.x,m2=this.m_localAnchor1.y-q_.m_sweep.localCenter.y,W_=S_.col1.x*o2+S_.col2.x*m2,m2=S_.col1.y*o2+S_.col2.y*m2,o2=W_,S_=N_.m_xf.R,_2=this.m_localAnchor2.x-N_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-N_.m_sweep.localCenter.y,W_=S_.col1.x*_2+S_.col2.x*v_,v_=S_.col1.y*_2+S_.col2.y*v_,_2=W_,this.m_mass.Solve22(this.impulse2,-(C_.x+-z_*v_-G_.x- -K_*m2),-(C_.y+z_*_2-G_.y-K_*o2)),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,G_.x-=X_*this.impulse2.x,G_.y-=X_*this.impulse2.y,K_-=D2*(o2*this.impulse2.y-m2*this.impulse2.x),C_.x+=l2*this.impulse2.x,C_.y+=l2*this.impulse2.y,z_+=V2*(_2*this.impulse2.y-v_*this.impulse2.x);q_.m_linearVelocity.SetV(G_),q_.m_angularVelocity=K_,N_.m_linearVelocity.SetV(C_),N_.m_angularVelocity=z_},I2.prototype.SolvePositionConstraints=function(){var S_=0,q_,N_=this.m_bodyA,W_=this.m_bodyB,o2=0,m2=q_=0,_2=0,v_=0;if(this.m_enableLimit&&this.m_limitState!=s_.e_inactiveLimit){S_=W_.m_sweep.a-N_.m_sweep.a-this.m_referenceAngle;var G_=0;this.m_limitState==s_.e_equalLimits?(S_=_o.Clamp(S_-this.m_lowerAngle,-x.b2_maxAngularCorrection,x.b2_maxAngularCorrection),G_=-this.m_motorMass*S_,o2=_o.Abs(S_)):this.m_limitState==s_.e_atLowerLimit?(S_=S_-this.m_lowerAngle,o2=-S_,S_=_o.Clamp(S_+x.b2_angularSlop,-x.b2_maxAngularCorrection,0),G_=-this.m_motorMass*S_):this.m_limitState==s_.e_atUpperLimit&&(o2=S_=S_-this.m_upperAngle,S_=_o.Clamp(S_-x.b2_angularSlop,0,x.b2_maxAngularCorrection),G_=-this.m_motorMass*S_),N_.m_sweep.a-=N_.m_invI*G_,W_.m_sweep.a+=W_.m_invI*G_,N_.SynchronizeTransform(),W_.SynchronizeTransform()}q_=N_.m_xf.R,G_=this.m_localAnchor1.x-N_.m_sweep.localCenter.x,S_=this.m_localAnchor1.y-N_.m_sweep.localCenter.y,m2=q_.col1.x*G_+q_.col2.x*S_,S_=q_.col1.y*G_+q_.col2.y*S_,G_=m2,q_=W_.m_xf.R;var K_=this.m_localAnchor2.x-W_.m_sweep.localCenter.x,C_=this.m_localAnchor2.y-W_.m_sweep.localCenter.y;m2=q_.col1.x*K_+q_.col2.x*C_,C_=q_.col1.y*K_+q_.col2.y*C_,K_=m2,_2=W_.m_sweep.c.x+K_-N_.m_sweep.c.x-G_,v_=W_.m_sweep.c.y+C_-N_.m_sweep.c.y-S_;var z_=_2*_2+v_*v_;q_=Math.sqrt(z_),m2=N_.m_invMass;var X_=W_.m_invMass,l2=N_.m_invI,D2=W_.m_invI,V2=10*x.b2_linearSlop;return z_>V2*V2&&(z_=1/(m2+X_),_2=z_*-_2,v_=z_*-v_,N_.m_sweep.c.x-=.5*m2*_2,N_.m_sweep.c.y-=.5*m2*v_,W_.m_sweep.c.x+=.5*X_*_2,W_.m_sweep.c.y+=.5*X_*v_,_2=W_.m_sweep.c.x+K_-N_.m_sweep.c.x-G_,v_=W_.m_sweep.c.y+C_-N_.m_sweep.c.y-S_),this.K1.col1.x=m2+X_,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=m2+X_,this.K2.col1.x=l2*S_*S_,this.K2.col2.x=-l2*G_*S_,this.K2.col1.y=-l2*G_*S_,this.K2.col2.y=l2*G_*G_,this.K3.col1.x=D2*C_*C_,this.K3.col2.x=-D2*K_*C_,this.K3.col1.y=-D2*K_*C_,this.K3.col2.y=D2*K_*K_,this.K.SetM(this.K1),this.K.AddM(this.K2),this.K.AddM(this.K3),this.K.Solve(I2.tImpulse,-_2,-v_),_2=I2.tImpulse.x,v_=I2.tImpulse.y,N_.m_sweep.c.x-=N_.m_invMass*_2,N_.m_sweep.c.y-=N_.m_invMass*v_,N_.m_sweep.a-=N_.m_invI*(G_*v_-S_*_2),W_.m_sweep.c.x+=W_.m_invMass*_2,W_.m_sweep.c.y+=W_.m_invMass*v_,W_.m_sweep.a+=W_.m_invI*(K_*v_-C_*_2),N_.SynchronizeTransform(),W_.SynchronizeTransform(),q_<=x.b2_linearSlop&&o2<=x.b2_angularSlop},Z_.postDefs.push(function(){Z_.Dynamics.Joints.b2RevoluteJoint.tImpulse=new _r}),Z_.inherit(q2,Z_.Dynamics.Joints.b2JointDef),q2.prototype.__super=Z_.Dynamics.Joints.b2JointDef.prototype,q2.b2RevoluteJointDef=function(){Z_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _r,this.localAnchorB=new _r},q2.prototype.b2RevoluteJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_revoluteJoint,this.localAnchorA.Set(0,0),this.localAnchorB.Set(0,0),this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0,this.enableMotor=this.enableLimit=!1},q2.prototype.Initialize=function(S_,q_,N_){this.bodyA=S_,this.bodyB=q_,this.localAnchorA=this.bodyA.GetLocalPoint(N_),this.localAnchorB=this.bodyB.GetLocalPoint(N_),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()},Z_.inherit(O2,Z_.Dynamics.Joints.b2Joint),O2.prototype.__super=Z_.Dynamics.Joints.b2Joint.prototype,O2.b2WeldJoint=function(){Z_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchorA=new _r,this.m_localAnchorB=new _r,this.m_impulse=new l,this.m_mass=new o},O2.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)},O2.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)},O2.prototype.GetReactionForce=function(S_){return S_===void 0&&(S_=0),new _r(S_*this.m_impulse.x,S_*this.m_impulse.y)},O2.prototype.GetReactionTorque=function(S_){return S_===void 0&&(S_=0),S_*this.m_impulse.z},O2.prototype.b2WeldJoint=function(S_){this.__super.b2Joint.call(this,S_),this.m_localAnchorA.SetV(S_.localAnchorA),this.m_localAnchorB.SetV(S_.localAnchorB),this.m_referenceAngle=S_.referenceAngle,this.m_impulse.SetZero(),this.m_mass=new o},O2.prototype.InitVelocityConstraints=function(S_){var q_,N_=0,W_=this.m_bodyA,o2=this.m_bodyB;q_=W_.m_xf.R;var m2=this.m_localAnchorA.x-W_.m_sweep.localCenter.x,_2=this.m_localAnchorA.y-W_.m_sweep.localCenter.y;N_=q_.col1.x*m2+q_.col2.x*_2,_2=q_.col1.y*m2+q_.col2.y*_2,m2=N_,q_=o2.m_xf.R;var v_=this.m_localAnchorB.x-o2.m_sweep.localCenter.x,G_=this.m_localAnchorB.y-o2.m_sweep.localCenter.y;N_=q_.col1.x*v_+q_.col2.x*G_,G_=q_.col1.y*v_+q_.col2.y*G_,v_=N_,q_=W_.m_invMass,N_=o2.m_invMass;var K_=W_.m_invI,C_=o2.m_invI;this.m_mass.col1.x=q_+N_+_2*_2*K_+G_*G_*C_,this.m_mass.col2.x=-_2*m2*K_-G_*v_*C_,this.m_mass.col3.x=-_2*K_-G_*C_,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=q_+N_+m2*m2*K_+v_*v_*C_,this.m_mass.col3.y=m2*K_+v_*C_,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=K_+C_,S_.warmStarting?(this.m_impulse.x*=S_.dtRatio,this.m_impulse.y*=S_.dtRatio,this.m_impulse.z*=S_.dtRatio,W_.m_linearVelocity.x-=q_*this.m_impulse.x,W_.m_linearVelocity.y-=q_*this.m_impulse.y,W_.m_angularVelocity-=K_*(m2*this.m_impulse.y-_2*this.m_impulse.x+this.m_impulse.z),o2.m_linearVelocity.x+=N_*this.m_impulse.x,o2.m_linearVelocity.y+=N_*this.m_impulse.y,o2.m_angularVelocity+=C_*(v_*this.m_impulse.y-G_*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.SetZero()},O2.prototype.SolveVelocityConstraints=function(){var S_,q_=0,N_=this.m_bodyA,W_=this.m_bodyB,o2=N_.m_linearVelocity,m2=N_.m_angularVelocity,_2=W_.m_linearVelocity,v_=W_.m_angularVelocity,G_=N_.m_invMass,K_=W_.m_invMass,C_=N_.m_invI,z_=W_.m_invI;S_=N_.m_xf.R;var X_=this.m_localAnchorA.x-N_.m_sweep.localCenter.x,l2=this.m_localAnchorA.y-N_.m_sweep.localCenter.y;q_=S_.col1.x*X_+S_.col2.x*l2,l2=S_.col1.y*X_+S_.col2.y*l2,X_=q_,S_=W_.m_xf.R;var D2=this.m_localAnchorB.x-W_.m_sweep.localCenter.x,V2=this.m_localAnchorB.y-W_.m_sweep.localCenter.y;q_=S_.col1.x*D2+S_.col2.x*V2,V2=S_.col1.y*D2+S_.col2.y*V2,D2=q_,S_=_2.x-v_*V2-o2.x+m2*l2,q_=_2.y+v_*D2-o2.y-m2*X_;var L2=v_-m2,B2=new l;this.m_mass.Solve33(B2,-S_,-q_,-L2),this.m_impulse.Add(B2),o2.x-=G_*B2.x,o2.y-=G_*B2.y,m2-=C_*(X_*B2.y-l2*B2.x+B2.z),_2.x+=K_*B2.x,_2.y+=K_*B2.y,v_+=z_*(D2*B2.y-V2*B2.x+B2.z),N_.m_angularVelocity=m2,W_.m_angularVelocity=v_},O2.prototype.SolvePositionConstraints=function(){var S_,q_=0,N_=this.m_bodyA,W_=this.m_bodyB;S_=N_.m_xf.R;var o2=this.m_localAnchorA.x-N_.m_sweep.localCenter.x,m2=this.m_localAnchorA.y-N_.m_sweep.localCenter.y;q_=S_.col1.x*o2+S_.col2.x*m2,m2=S_.col1.y*o2+S_.col2.y*m2,o2=q_,S_=W_.m_xf.R;var _2=this.m_localAnchorB.x-W_.m_sweep.localCenter.x,v_=this.m_localAnchorB.y-W_.m_sweep.localCenter.y;q_=S_.col1.x*_2+S_.col2.x*v_,v_=S_.col1.y*_2+S_.col2.y*v_,_2=q_,S_=N_.m_invMass,q_=W_.m_invMass;var G_=N_.m_invI,K_=W_.m_invI,C_=W_.m_sweep.c.x+_2-N_.m_sweep.c.x-o2,z_=W_.m_sweep.c.y+v_-N_.m_sweep.c.y-m2,X_=W_.m_sweep.a-N_.m_sweep.a-this.m_referenceAngle,l2=10*x.b2_linearSlop,D2=Math.sqrt(C_*C_+z_*z_),V2=_o.Abs(X_);return D2>l2&&(G_*=1,K_*=1),this.m_mass.col1.x=S_+q_+m2*m2*G_+v_*v_*K_,this.m_mass.col2.x=-m2*o2*G_-v_*_2*K_,this.m_mass.col3.x=-m2*G_-v_*K_,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=S_+q_+o2*o2*G_+_2*_2*K_,this.m_mass.col3.y=o2*G_+_2*K_,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=G_+K_,l2=new l,this.m_mass.Solve33(l2,-C_,-z_,-X_),N_.m_sweep.c.x-=S_*l2.x,N_.m_sweep.c.y-=S_*l2.y,N_.m_sweep.a-=G_*(o2*l2.y-m2*l2.x+l2.z),W_.m_sweep.c.x+=q_*l2.x,W_.m_sweep.c.y+=q_*l2.y,W_.m_sweep.a+=K_*(_2*l2.y-v_*l2.x+l2.z),N_.SynchronizeTransform(),W_.SynchronizeTransform(),D2<=x.b2_linearSlop&&V2<=x.b2_angularSlop},Z_.inherit(X2,Z_.Dynamics.Joints.b2JointDef),X2.prototype.__super=Z_.Dynamics.Joints.b2JointDef.prototype,X2.b2WeldJointDef=function(){Z_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _r,this.localAnchorB=new _r},X2.prototype.b2WeldJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_weldJoint,this.referenceAngle=0},X2.prototype.Initialize=function(S_,q_,N_){this.bodyA=S_,this.bodyB=q_,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(N_)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(N_)),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}})();(function(){var x=Z_.Dynamics.b2DebugDraw;x.b2DebugDraw=function(){this.m_xformScale=this.m_fillAlpha=this.m_alpha=this.m_lineThickness=this.m_drawScale=1;var V=this;this.m_sprite={graphics:{clear:function(){V.m_ctx.clearRect(0,0,V.m_ctx.canvas.width,V.m_ctx.canvas.height)}}}},x.prototype._color=function(V,o){return"rgba("+((V&16711680)>>16)+","+((V&65280)>>8)+","+(V&255)+","+o+")"},x.prototype.b2DebugDraw=function(){this.m_drawFlags=0},x.prototype.SetFlags=function(V){V===void 0&&(V=0),this.m_drawFlags=V},x.prototype.GetFlags=function(){return this.m_drawFlags},x.prototype.AppendFlags=function(V){V===void 0&&(V=0),this.m_drawFlags|=V},x.prototype.ClearFlags=function(V){V===void 0&&(V=0),this.m_drawFlags&=~V},x.prototype.SetSprite=function(V){this.m_ctx=V},x.prototype.GetSprite=function(){return this.m_ctx},x.prototype.SetDrawScale=function(V){V===void 0&&(V=0),this.m_drawScale=V},x.prototype.GetDrawScale=function(){return this.m_drawScale},x.prototype.SetLineThickness=function(V){V===void 0&&(V=0),this.m_lineThickness=V,this.m_ctx.strokeWidth=V},x.prototype.GetLineThickness=function(){return this.m_lineThickness},x.prototype.SetAlpha=function(V){V===void 0&&(V=0),this.m_alpha=V},x.prototype.GetAlpha=function(){return this.m_alpha},x.prototype.SetFillAlpha=function(V){V===void 0&&(V=0),this.m_fillAlpha=V},x.prototype.GetFillAlpha=function(){return this.m_fillAlpha},x.prototype.SetXFormScale=function(V){V===void 0&&(V=0),this.m_xformScale=V},x.prototype.GetXFormScale=function(){return this.m_xformScale},x.prototype.DrawPolygon=function(V,o,_o){if(o){var _r=this.m_ctx,l=this.m_drawScale;for(_r.beginPath(),_r.strokeStyle=this._color(_o.color,this.m_alpha),_r.moveTo(V[0].x*l,V[0].y*l),_o=1;_o<o;_o++)_r.lineTo(V[_o].x*l,V[_o].y*l);_r.lineTo(V[0].x*l,V[0].y*l),_r.closePath(),_r.stroke()}},x.prototype.DrawSolidPolygon=function(V,o,_o){if(o){var _r=this.m_ctx,l=this.m_drawScale;for(_r.beginPath(),_r.strokeStyle=this._color(_o.color,this.m_alpha),_r.fillStyle=this._color(_o.color,this.m_fillAlpha),_r.moveTo(V[0].x*l,V[0].y*l),_o=1;_o<o;_o++)_r.lineTo(V[_o].x*l,V[_o].y*l);_r.lineTo(V[0].x*l,V[0].y*l),_r.closePath(),_r.fill(),_r.stroke()}},x.prototype.DrawCircle=function(V,o,_o){if(o){var _r=this.m_ctx,l=this.m_drawScale;_r.beginPath(),_r.strokeStyle=this._color(_o.color,this.m_alpha),_r.arc(V.x*l,V.y*l,o*l,0,Math.PI*2,!0),_r.closePath(),_r.stroke()}},x.prototype.DrawSolidCircle=function(V,o,_o,_r){if(o){var l=this.m_ctx,e_=this.m_drawScale,o_=V.x*e_,i_=V.y*e_;l.moveTo(0,0),l.beginPath(),l.strokeStyle=this._color(_r.color,this.m_alpha),l.fillStyle=this._color(_r.color,this.m_fillAlpha),l.arc(o_,i_,o*e_,0,Math.PI*2,!0),l.moveTo(o_,i_),l.lineTo((V.x+_o.x*o)*e_,(V.y+_o.y*o)*e_),l.closePath(),l.fill(),l.stroke()}},x.prototype.DrawSegment=function(V,o,_o){var _r=this.m_ctx,l=this.m_drawScale;_r.strokeStyle=this._color(_o.color,this.m_alpha),_r.beginPath(),_r.moveTo(V.x*l,V.y*l),_r.lineTo(o.x*l,o.y*l),_r.closePath(),_r.stroke()},x.prototype.DrawTransform=function(V){var o=this.m_ctx,_o=this.m_drawScale;o.beginPath(),o.strokeStyle=this._color(16711680,this.m_alpha),o.moveTo(V.position.x*_o,V.position.y*_o),o.lineTo((V.position.x+this.m_xformScale*V.R.col1.x)*_o,(V.position.y+this.m_xformScale*V.R.col1.y)*_o),o.strokeStyle=this._color(65280,this.m_alpha),o.moveTo(V.position.x*_o,V.position.y*_o),o.lineTo((V.position.x+this.m_xformScale*V.R.col2.x)*_o,(V.position.y+this.m_xformScale*V.R.col2.y)*_o),o.closePath(),o.stroke()}})();var F6;for(F6=0;F6<Z_.postDefs.length;++F6)Z_.postDefs[F6]();delete Z_.postDefs;U9.Box2D=Z_});var hT=40,Ppt={x:0,y:-10},dT={x:.5625,y:1},yT={x:1.125,y:0},wpt=5,Vpt=0,gT=1/60,vT=3,AT=3,Dpt={x:-40,y:0},Mpt={x:40,y:0},Gpt={x:-7,y:.75},xT={x:.5,y:.5},n4=64,s4=1024;function Jpt(x){let V=x.createBoxShape(xT.x,xT.y),o={...Gpt};for(let _o=0;_o<hT;++_o){let _r={...o};for(let l=_o;l<hT;++l)x.createBoxBody(V,_r.x,_r.y,wpt),_r.x+=yT.x,_r.y+=yT.y;o.x+=dT.x,o.y+=dT.y}}async function Ipt(x,V){return new Promise(o=>{let _o=0;V(0,n4+s4);let _r=()=>{_o<n4?(x.step(gT,vT,AT),V(_o,n4+s4),_o++,window.requestAnimationFrame(_r)):o()};window.requestAnimationFrame(_r)})}async function Tpt(x,V){return new Promise(o=>{let _o=0;V(0,n4+s4);let _r=[],l=()=>{if(_o<s4){let e_=performance.now();x.step(gT,vT,AT),_r.push(performance.now()-e_),V(n4+_o,n4+s4),_o++,window.requestAnimationFrame(l)}else o(_r)};window.requestAnimationFrame(l)})}function Rpt(x){let V=0;for(let o of x)V+=o;return V/s4}function fT(x,V){let o=Math.floor(V*x.length/100);return x[o]}function ST(x){return x.map(V=>V(Ppt,Dpt,Mpt,Vpt))}async function CT(x,V){Jpt(x),await Ipt(x,V);let o=await Tpt(x,V);return{name:x.name,avg:Rpt(o),p5:fT(o,5),p95:fT(o,95)}}function BT(x){let V=["Name","avg ms/frame","5th %ile","95th %ile","Ratio"],o=x.map(i_=>[i_.name,i_.avg.toFixed(2),i_.p5.toString(),i_.p95.toString(),(i_.avg/x[0].avg).toFixed(2)]),_o=V.map((i_,_e)=>Math.max(i_.length,...o.map(c_=>c_[_e].length)));function _r(i_){return"-".repeat(i_)}let l=`| ${_o.map(_r).join(" | ")} |`,e_=[];e_.push(`| ${V.map(o_).join(" | ")} |`),e_.push(l);function o_(i_,_e){let c_=_o[_e];return i_.length<c_?_e>0?" ".repeat(c_-i_.length)+i_:i_+" ".repeat(c_-i_.length):i_}for(let i_ of o)e_.push(`| ${i_.map(o_).join(" | ")} |`);return e_.join(`
`)}var q6={};Cpt(q6,{box2dCoreFactory:()=>M0t,box2dJsFactory:()=>Zct,flyoverBox2dFactory:()=>G0t,html5Factory:()=>F0t,planckFactory:()=>Hct,webFactory:()=>E0t});var hB=dD(l9()),Hct=(x,V,o,_o)=>{let _r=new hB.World({gravity:new hB.Vec2(x.x,x.y)}),l=_r.createBody({}),e_=new hB.Edge(new hB.Vec2(V.x,V.y),new hB.Vec2(o.x,o.y));return l.createFixture(e_,_o),{name:"planck.js",createBoxShape(o_,i_){return new hB.Box(o_,i_)},createBoxBody(o_,i_,_e,c_){_r.createBody({type:"dynamic",position:new hB.Vec2(i_,_e)}).createFixture(o_,c_)},step(o_,i_,_e){_r.step(o_,i_,_e)}}};"requestAnimationFrame"in globalThis&&globalThis.process&&(process.stdout={write(x){return console.log(x),!0}},process.stderr={write(x){return console.error(x),!0}});var OS=dD(b9()),Zct=(x,V,o,_o)=>{let _r=new OS.b2World(new OS.b2Vec2(x.x,x.y)),l=_r.CreateBody(new OS.b2BodyDef),e_=new OS.b2EdgeShape;return e_.Set(new OS.b2Vec2(V.x,V.y),new OS.b2Vec2(o.x,o.y)),l.CreateFixture(e_,_o),{name:"box2d.js",createBoxShape(o_,i_){let _e=new OS.b2PolygonShape;return _e.SetAsBox(o_,i_),_e},createBoxBody(o_,i_,_e,c_){let ws=new OS.b2BodyDef;ws.set_type(OS.b2_dynamicBody),ws.set_position(new OS.b2Vec2(i_,_e)),_r.CreateBody(ws).CreateFixture(o_,c_)},step(o_,i_,_e){_r.Step(o_,i_,_e)}}};var Kct={lengthUnitsPerMeter:1,maxPolygonVertices:8},j3={...Kct};var EP=j3.lengthUnitsPerMeter,GC=j3.maxPolygonVertices;function O1(x,V){if(!x)throw new Error(V)}function R1(x){if(x===null)throw new Error;return x}var FA=1e37,bS=1e-5,g4=bS*bS,gS=2,IG=.1*EP,z3=4,$0=.005*EP,dB=2/180*Math.PI,CV=2*$0,u9=8,TG=32,v4=.2*EP,WD=8/180*Math.PI,jD=2*EP,W3=jD*jD,zD=.5*Math.PI,N3=zD*zD,h9=.2,d9=.75,y9=.5,O3=.01*EP,U3=2/180*Math.PI;function kP(x,V=0){let o=new Array(x);for(let _o=0;_o<x;_o++)o[_o]=V;return o}function U1(x,V){let o=new Array(x);for(let _o=0;_o<x;_o++)o[_o]=new V;return o}var ydt=Math.PI/180,xdt=180/Math.PI,x9=2*Math.PI;function NA(x,V,o){return x<V?V:x>o?o:x}var m_=class x{static{this.ZERO=new x}static{this.UNITX=new x(1,0)}static{this.UNITY=new x(0,1)}static{this.s_t0=new x}static{this.s_t1=new x}static{this.s_t2=new x}static{this.s_t3=new x}constructor(V=0,o=0){this.x=V,this.y=o}Clone(){return new x(this.x,this.y)}SetZero(){return this.x=0,this.y=0,this}Set(V,o){return this.x=V,this.y=o,this}Copy(V){return this.x=V.x,this.y=V.y,this}Add(V){return this.x+=V.x,this.y+=V.y,this}AddXY(V,o){return this.x+=V,this.y+=o,this}Subtract(V){return this.x-=V.x,this.y-=V.y,this}SubtractXY(V,o){return this.x-=V,this.y-=o,this}Scale(V){return this.x*=V,this.y*=V,this}AddScaled(V,o){return this.x+=V*o.x,this.y+=V*o.y,this}SubtractScaled(V,o){return this.x-=V*o.x,this.y-=V*o.y,this}Dot(V){return this.x*V.x+this.y*V.y}Cross(V){return this.x*V.y-this.y*V.x}Length(){let{x:V,y:o}=this;return Math.sqrt(V*V+o*o)}LengthSquared(){let{x:V,y:o}=this;return V*V+o*o}Normalize(){let V=this.Length();if(V<bS)return 0;let o=1/V;return this.x*=o,this.y*=o,V}Rotate(V){let o=Math.cos(V),_o=Math.sin(V),{x:_r}=this;return this.x=o*_r-_o*this.y,this.y=_o*_r+o*this.y,this}RotateCosSin(V,o){let{x:_o}=this;return this.x=V*_o-o*this.y,this.y=o*_o+V*this.y,this}IsValid(){return Number.isFinite(this.x)&&Number.isFinite(this.y)}Abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}GetAbs(V){return V.x=Math.abs(this.x),V.y=Math.abs(this.y),V}Negate(){return this.x=-this.x,this.y=-this.y,this}Skew(){let{x:V}=this;return this.x=-this.y,this.y=V,this}static Min(V,o,_o){return _o.x=Math.min(V.x,o.x),_o.y=Math.min(V.y,o.y),_o}static Max(V,o,_o){return _o.x=Math.max(V.x,o.x),_o.y=Math.max(V.y,o.y),_o}static Clamp(V,o,_o,_r){return _r.x=NA(V.x,o.x,_o.x),_r.y=NA(V.y,o.y,_o.y),_r}static Rotate(V,o,_o){let _r=V.x,l=V.y,e_=Math.cos(o),o_=Math.sin(o);return _o.x=e_*_r-o_*l,_o.y=o_*_r+e_*l,_o}static Dot(V,o){return V.x*o.x+V.y*o.y}static Cross(V,o){return V.x*o.y-V.y*o.x}static CrossVec2Scalar(V,o,_o){let _r=V.x;return _o.x=o*V.y,_o.y=-o*_r,_o}static CrossVec2One(V,o){let _o=V.x;return o.x=V.y,o.y=-_o,o}static CrossScalarVec2(V,o,_o){let _r=o.x;return _o.x=-V*o.y,_o.y=V*_r,_o}static CrossOneVec2(V,o){let _o=V.x;return o.x=-V.y,o.y=_o,o}static Add(V,o,_o){return _o.x=V.x+o.x,_o.y=V.y+o.y,_o}static Subtract(V,o,_o){return _o.x=V.x-o.x,_o.y=V.y-o.y,_o}static Scale(V,o,_o){return _o.x=o.x*V,_o.y=o.y*V,_o}static AddScaled(V,o,_o,_r){return _r.x=V.x+o*_o.x,_r.y=V.y+o*_o.y,_r}static SubtractScaled(V,o,_o,_r){return _r.x=V.x-o*_o.x,_r.y=V.y-o*_o.y,_r}static AddCrossScalarVec2(V,o,_o,_r){let l=_o.x;return _r.x=V.x-o*_o.y,_r.y=V.y+o*l,_r}static Mid(V,o,_o){return _o.x=(V.x+o.x)*.5,_o.y=(V.y+o.y)*.5,_o}static Extents(V,o,_o){return _o.x=(o.x-V.x)*.5,_o.y=(o.y-V.y)*.5,_o}static Equals(V,o){return V.x===o.x&&V.y===o.y}static Distance(V,o){return Math.sqrt((V.x-o.x)**2+(V.y-o.y)**2)}static DistanceSquared(V,o){return(V.x-o.x)**2+(V.y-o.y)**2}static Negate(V,o){return o.x=-V.x,o.y=-V.y,o}static Normalize(V,o){let _o=V.x**2+V.y**2;if(_o>=g4){let _r=1/Math.sqrt(_o);o.x=_r*V.x,o.y=_r*V.y}else o.x=0,o.y=0;return o}static Skew(V,o){let{x:_o}=V;return o.x=-V.y,o.y=_o,o}},cC=class x{static{this.ZERO=new x(0,0,0)}static{this.s_t0=new x}constructor(V=0,o=0,_o=0){this.x=V,this.y=o,this.z=_o}Clone(){return new x(this.x,this.y,this.z)}SetZero(){return this.x=0,this.y=0,this.z=0,this}Set(V,o,_o){return this.x=V,this.y=o,this.z=_o,this}Copy(V){return this.x=V.x,this.y=V.y,this.z=V.z,this}Negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}Add(V){return this.x+=V.x,this.y+=V.y,this.z+=V.z,this}AddXYZ(V,o,_o){return this.x+=V,this.y+=o,this.z+=_o,this}Subtract(V){return this.x-=V.x,this.y-=V.y,this.z-=V.z,this}SubtractXYZ(V,o,_o){return this.x-=V,this.y-=o,this.z-=_o,this}Scale(V){return this.x*=V,this.y*=V,this.z*=V,this}static Dot(V,o){return V.x*o.x+V.y*o.y+V.z*o.z}static Cross(V,o,_o){let _r=V.x,l=V.y,e_=V.z,o_=o.x,i_=o.y,_e=o.z;return _o.x=l*_e-e_*i_,_o.y=e_*o_-_r*_e,_o.z=_r*i_-l*o_,_o}},LA=class x{constructor(){this.ex=new m_(1,0);this.ey=new m_(0,1)}static{this.IDENTITY=new x}Clone(){return new x().Copy(this)}static FromColumns(V,o){return new x().SetColumns(V,o)}static FromScalars(V,o,_o,_r){return new x().SetScalars(V,o,_o,_r)}static FromAngle(V){return new x().SetAngle(V)}SetScalars(V,o,_o,_r){return this.ex.Set(V,_o),this.ey.Set(o,_r),this}SetColumns(V,o){return this.ex.Copy(V),this.ey.Copy(o),this}SetAngle(V){let o=Math.cos(V),_o=Math.sin(V);return this.ex.Set(o,_o),this.ey.Set(-_o,o),this}Copy(V){return this.ex.Copy(V.ex),this.ey.Copy(V.ey),this}SetIdentity(){return this.ex.Set(1,0),this.ey.Set(0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this}GetAngle(){return Math.atan2(this.ex.y,this.ex.x)}Solve(V,o,_o){let _r=this.ex.x,l=this.ey.x,e_=this.ex.y,o_=this.ey.y,i_=_r*o_-l*e_;return i_!==0&&(i_=1/i_),_o.x=i_*(o_*V-l*o),_o.y=i_*(_r*o-e_*V),_o}Abs(){return this.ex.Abs(),this.ey.Abs(),this}Inverse(){return this.GetInverse(this),this}Add(V){return this.ex.Add(V.ex),this.ey.Add(V.ey),this}Subtract(V){return this.ex.Subtract(V.ex),this.ey.Subtract(V.ey),this}GetInverse(V){let o=this.ex.x,_o=this.ey.x,_r=this.ex.y,l=this.ey.y,e_=o*l-_o*_r;return e_!==0&&(e_=1/e_),V.ex.x=e_*l,V.ey.x=-e_*_o,V.ex.y=-e_*_r,V.ey.y=e_*o,V}GetAbs(V){return V.ex.x=Math.abs(this.ex.x),V.ex.y=Math.abs(this.ex.y),V.ey.x=Math.abs(this.ey.x),V.ey.y=Math.abs(this.ey.y),V}static MultiplyVec2(V,o,_o){let _r=o.x,l=o.y;return _o.x=V.ex.x*_r+V.ey.x*l,_o.y=V.ex.y*_r+V.ey.y*l,_o}static TransposeMultiplyVec2(V,o,_o){let _r=o.x,l=o.y;return _o.x=V.ex.x*_r+V.ex.y*l,_o.y=V.ey.x*_r+V.ey.y*l,_o}static Add(V,o,_o){return _o.ex.x=V.ex.x+o.ex.x,_o.ex.y=V.ex.y+o.ex.y,_o.ey.x=V.ey.x+o.ey.x,_o.ey.y=V.ey.y+o.ey.y,_o}static Multiply(V,o,_o){let _r=V.ex.x,l=V.ex.y,e_=V.ey.x,o_=V.ey.y,i_=o.ex.x,_e=o.ex.y,c_=o.ey.x,ws=o.ey.y;return _o.ex.x=_r*i_+e_*_e,_o.ex.y=l*i_+o_*_e,_o.ey.x=_r*c_+e_*ws,_o.ey.y=l*c_+o_*ws,_o}static TransposeMultiply(V,o,_o){let _r=V.ex.x,l=V.ex.y,e_=V.ey.x,o_=V.ey.y,i_=o.ex.x,_e=o.ex.y,c_=o.ey.x,ws=o.ey.y;return _o.ex.x=_r*i_+l*_e,_o.ex.y=e_*i_+o_*_e,_o.ey.x=_r*c_+l*ws,_o.ey.y=e_*c_+o_*ws,_o}},nP=class x{constructor(){this.ex=new cC(1,0,0);this.ey=new cC(0,1,0);this.ez=new cC(0,0,1)}static{this.IDENTITY=new x}Clone(){return new x().Copy(this)}SetColumns(V,o,_o){return this.ex.Copy(V),this.ey.Copy(o),this.ez.Copy(_o),this}Copy(V){return this.ex.Copy(V.ex),this.ey.Copy(V.ey),this.ez.Copy(V.ez),this}SetIdentity(){return this.ex.Set(1,0,0),this.ey.Set(0,1,0),this.ez.Set(0,0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this}Add(V){return this.ex.Add(V.ex),this.ey.Add(V.ey),this.ez.Add(V.ez),this}Solve33(V,o,_o,_r){let l=this.ex.x,e_=this.ex.y,o_=this.ex.z,i_=this.ey.x,_e=this.ey.y,c_=this.ey.z,ws=this.ez.x,h_=this.ez.y,s_=this.ez.z,w_=l*(_e*s_-c_*h_)+e_*(c_*ws-i_*s_)+o_*(i_*h_-_e*ws);return w_!==0&&(w_=1/w_),_r.x=w_*(V*(_e*s_-c_*h_)+o*(c_*ws-i_*s_)+_o*(i_*h_-_e*ws)),_r.y=w_*(l*(o*s_-_o*h_)+e_*(_o*ws-V*s_)+o_*(V*h_-o*ws)),_r.z=w_*(l*(_e*_o-c_*o)+e_*(c_*V-i_*_o)+o_*(i_*o-_e*V)),_r}Solve22(V,o,_o){let _r=this.ex.x,l=this.ey.x,e_=this.ex.y,o_=this.ey.y,i_=_r*o_-l*e_;return i_!==0&&(i_=1/i_),_o.x=i_*(o_*V-l*o),_o.y=i_*(_r*o-e_*V),_o}GetInverse22(V){let o=this.ex.x,_o=this.ey.x,_r=this.ex.y,l=this.ey.y,e_=o*l-_o*_r;e_!==0&&(e_=1/e_),V.ex.x=e_*l,V.ey.x=-e_*_o,V.ex.z=0,V.ex.y=-e_*_r,V.ey.y=e_*o,V.ey.z=0,V.ez.x=0,V.ez.y=0,V.ez.z=0}GetSymInverse33(V){let o=cC.Dot(this.ex,cC.Cross(this.ey,this.ez,cC.s_t0));o!==0&&(o=1/o);let _o=this.ex.x,_r=this.ey.x,l=this.ez.x,e_=this.ey.y,o_=this.ez.y,i_=this.ez.z;V.ex.x=o*(e_*i_-o_*o_),V.ex.y=o*(l*o_-_r*i_),V.ex.z=o*(_r*o_-l*e_),V.ey.x=V.ex.y,V.ey.y=o*(_o*i_-l*l),V.ey.z=o*(l*_r-_o*o_),V.ez.x=V.ex.z,V.ez.y=V.ey.z,V.ez.z=o*(_o*e_-_r*_r)}static MultiplyVec3(V,o,_o){let{x:_r,y:l,z:e_}=o;return _o.x=V.ex.x*_r+V.ey.x*l+V.ez.x*e_,_o.y=V.ex.y*_r+V.ey.y*l+V.ez.y*e_,_o.z=V.ex.z*_r+V.ey.z*l+V.ez.z*e_,_o}static MultiplyVec2(V,o,_o){let{x:_r,y:l}=o;return _o.x=V.ex.x*_r+V.ey.x*l,_o.y=V.ex.y*_r+V.ey.y*l,_o}},ha=class x{constructor(V=0){this.s=0;this.c=1;V&&(this.s=Math.sin(V),this.c=Math.cos(V))}static{this.IDENTITY=new x}Clone(){return new x().Copy(this)}Copy(V){return this.s=V.s,this.c=V.c,this}Set(V){return this.s=Math.sin(V),this.c=Math.cos(V),this}SetIdentity(){return this.s=0,this.c=1,this}GetAngle(){return Math.atan2(this.s,this.c)}GetXAxis(V){return V.x=this.c,V.y=this.s,V}GetYAxis(V){return V.x=-this.s,V.y=this.c,V}static Multiply(V,o,_o){let _r=V.s*o.c+V.c*o.s,l=V.c*o.c-V.s*o.s;return _o.s=_r,_o.c=l,_o}static TransposeMultiply(V,o,_o){let _r=V.c*o.s-V.s*o.c,l=V.c*o.c+V.s*o.s;return _o.s=_r,_o.c=l,_o}static MultiplyVec2(V,o,_o){let _r=o.x,l=o.y;return _o.x=V.c*_r-V.s*l,_o.y=V.s*_r+V.c*l,_o}static TransposeMultiplyVec2(V,o,_o){let _r=o.x,l=o.y;return _o.x=V.c*_r+V.s*l,_o.y=-V.s*_r+V.c*l,_o}},r0=class x{constructor(){this.p=new m_;this.q=new ha}static{this.IDENTITY=new x}Clone(){return new x().Copy(this)}Copy(V){return this.p.Copy(V.p),this.q.Copy(V.q),this}SetIdentity(){return this.p.SetZero(),this.q.SetIdentity(),this}SetPositionRotation(V,o){return this.p.Copy(V),this.q.Copy(o),this}SetPositionAngle(V,o){return this.p.Copy(V),this.q.Set(o),this}SetPosition(V){return this.p.Copy(V),this}SetPositionXY(V,o){return this.p.Set(V,o),this}SetRotation(V){return this.q.Copy(V),this}SetRotationAngle(V){return this.q.Set(V),this}GetPosition(){return this.p}GetRotation(){return this.q}GetAngle(){return this.q.GetAngle()}static MultiplyVec2(V,o,_o){let _r=o.x,l=o.y;return _o.x=V.q.c*_r-V.q.s*l+V.p.x,_o.y=V.q.s*_r+V.q.c*l+V.p.y,_o}static TransposeMultiplyVec2(V,o,_o){let _r=o.x-V.p.x,l=o.y-V.p.y;return _o.x=V.q.c*_r+V.q.s*l,_o.y=-V.q.s*_r+V.q.c*l,_o}static Multiply(V,o,_o){return ha.Multiply(V.q,o.q,_o.q),ha.MultiplyVec2(V.q,o.p,_o.p).Add(V.p),_o}static TransposeMultiply(V,o,_o){return ha.TransposeMultiply(V.q,o.q,_o.q),ha.TransposeMultiplyVec2(V.q,m_.Subtract(o.p,V.p,_o.p),_o.p),_o}},mC=class x{constructor(){this.localCenter=new m_;this.c0=new m_;this.c=new m_;this.a0=0;this.a=0;this.alpha0=0}Clone(){return new x().Copy(this)}Copy(V){return this.localCenter.Copy(V.localCenter),this.c0.Copy(V.c0),this.c.Copy(V.c),this.a0=V.a0,this.a=V.a,this.alpha0=V.alpha0,this}GetTransform(V,o){let _o=1-o;V.p.x=_o*this.c0.x+o*this.c.x,V.p.y=_o*this.c0.y+o*this.c.y;let _r=_o*this.a0+o*this.a;return V.q.Set(_r),V.p.Subtract(ha.MultiplyVec2(V.q,this.localCenter,m_.s_t0)),V}Advance(V){let o=(V-this.alpha0)/(1-this.alpha0);this.c0.x+=o*(this.c.x-this.c0.x),this.c0.y+=o*(this.c.y-this.c0.y),this.a0+=o*(this.a-this.a0),this.alpha0=V}Normalize(){let V=x9*Math.floor(this.a0/x9);this.a0-=V,this.a-=V}};var OA=class x{static{this.ZERO=new x(0,0,0,0)}static{this.RED=new x(1,0,0)}static{this.GREEN=new x(0,1,0)}static{this.BLUE=new x(0,0,1)}static{this.WHITE=new x(1,1,1)}static{this.BLACK=new x(0,0,0)}constructor(V=.5,o=.5,_o=.5,_r=1){this.r=V,this.g=o,this.b=_o,this.a=_r}Clone(){return new x(this.r,this.g,this.b,this.a)}Copy(V){return this.r=V.r,this.g=V.g,this.b=V.b,this.a=V.a,this}IsEqual(V){return this.r===V.r&&this.g===V.g&&this.b===V.b&&this.a===V.a}IsZero(){return this.r===0&&this.g===0&&this.b===0&&this.a===0}SetByteRGB(V,o,_o){return this.r=V/255,this.g=o/255,this.b=_o/255,this}SetByteRGBA(V,o,_o,_r){return this.r=V/255,this.g=o/255,this.b=_o/255,this.a=_r/255,this}SetRGB(V,o,_o){return this.r=V,this.g=o,this.b=_o,this}SetRGBA(V,o,_o,_r){return this.r=V,this.g=o,this.b=_o,this.a=_r,this}Add(V){return this.r+=V.r,this.g+=V.g,this.b+=V.b,this.a+=V.a,this}Subtract(V){return this.r-=V.r,this.g-=V.g,this.b-=V.b,this.a-=V.a,this}Scale(V){return this.r*=V,this.g*=V,this.b*=V,this.a*=V,this}Mix(V,o){x.MixColors(this,V,o)}static Add(V,o,_o){return _o.r=V.r+o.r,_o.g=V.g+o.g,_o.b=V.b+o.b,_o.a=V.a+o.a,_o}static Subtract(V,o,_o){return _o.r=V.r-o.r,_o.g=V.g-o.g,_o.b=V.b-o.b,_o.a=V.a-o.a,_o}static Scale(V,o,_o){return _o.r=V.r*o,_o.g=V.g*o,_o.b=V.b*o,_o.a=V.a*o,_o}static MixColors(V,o,_o){let _r=_o*(o.r-V.r),l=_o*(o.g-V.g),e_=_o*(o.b-V.b),o_=_o*(o.a-V.a);V.r+=_r,V.g+=l,V.b+=e_,V.a+=o_,o.r-=_r,o.g-=l,o.b-=e_,o.a-=o_}},ly={badBody:new OA(1,0,0),disabledBody:new OA(.5,.5,.3),staticBody:new OA(.5,.9,.5),kinematicBody:new OA(.5,.5,.9),sleepingBody:new OA(.6,.6,.6),body:new OA(.9,.7,.7),pair:new OA(.3,.9,.9),aabb:new OA(.9,.3,.9),joint1:new OA(.7,.7,.7),joint2:new OA(.3,.9,.3),joint3:new OA(.9,.3,.3),joint4:new OA(.3,.3,.9),joint5:new OA(.4,.4,.4),joint6:new OA(.5,.8,.8),joint7:new OA(0,1,0),joint8:new OA(.8,.8,.8),rope:new OA(.4,.5,.7),ropePointG:new OA(.1,.8,.1),ropePointD:new OA(.7,.2,.4)};var A4=class{constructor(){this.mass=0;this.center=new m_;this.I=0}};var IB=class{constructor(V,o){this.m_radius=0;this.m_type=V,this.m_radius=o}Copy(V){return this.m_radius=V.m_radius,this}GetType(){return this.m_type}};var BV=class{constructor(){this.m_buffer=U1(2,m_);this.m_vertices=this.m_buffer;this.m_count=0;this.m_radius=0}Copy(V){return V.m_vertices===V.m_buffer?(this.m_vertices=this.m_buffer,this.m_buffer[0]=V.m_buffer[0],this.m_buffer[1]=V.m_buffer[1]):this.m_vertices=V.m_vertices,this.m_count=V.m_count,this.m_radius=V.m_radius,this}Reset(){return this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0,this}SetShape(V,o){V.SetupDistanceProxy(this,o)}SetVerticesRadius(V,o,_o){this.m_vertices=V,this.m_count=o,this.m_radius=_o}GetSupport(V){let o=0,_o=m_.Dot(this.m_vertices[0],V);for(let _r=1;_r<this.m_count;++_r){let l=m_.Dot(this.m_vertices[_r],V);l>_o&&(o=_r,_o=l)}return o}GetSupportVertex(V){let o=0,_o=m_.Dot(this.m_vertices[0],V);for(let _r=1;_r<this.m_count;++_r){let l=m_.Dot(this.m_vertices[_r],V);l>_o&&(o=_r,_o=l)}return this.m_vertices[o]}GetVertexCount(){return this.m_count}GetVertex(V){return this.m_vertices[V]}},S4=class{constructor(){this.metric=0;this.count=0;this.indexA=[0,0,0];this.indexB=[0,0,0]}Reset(){return this.metric=0,this.count=0,this}},C4=class{constructor(){this.proxyA=new BV;this.proxyB=new BV;this.transformA=new r0;this.transformB=new r0;this.useRadii=!1}Reset(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this}},B4=class{constructor(){this.pointA=new m_;this.pointB=new m_;this.distance=0;this.iterations=0}Reset(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this}};var RG={calls:0,iters:0,maxIters:0,reset(){this.calls=0,this.iters=0,this.maxIters=0}},ND=class{constructor(){this.wA=new m_;this.wB=new m_;this.w=new m_;this.a=0;this.indexA=0;this.indexB=0}Copy(V){return this.wA.Copy(V.wA),this.wB.Copy(V.wB),this.w.Copy(V.w),this.a=V.a,this.indexA=V.indexA,this.indexB=V.indexB,this}},FG=class x{constructor(){this.m_v1=new ND;this.m_v2=new ND;this.m_v3=new ND;this.m_count=0;this.m_vertices=[this.m_v1,this.m_v2,this.m_v3]}ReadCache(V,o,_o,_r,l){this.m_count=V.count;let e_=this.m_vertices;for(let o_=0;o_<this.m_count;++o_){let i_=e_[o_];i_.indexA=V.indexA[o_],i_.indexB=V.indexB[o_];let _e=o.GetVertex(i_.indexA),c_=_r.GetVertex(i_.indexB);r0.MultiplyVec2(_o,_e,i_.wA),r0.MultiplyVec2(l,c_,i_.wB),m_.Subtract(i_.wB,i_.wA,i_.w),i_.a=0}if(this.m_count>1){let o_=V.metric,i_=this.GetMetric();(i_<.5*o_||2*o_<i_||i_<bS)&&(this.m_count=0)}if(this.m_count===0){let o_=e_[0];o_.indexA=0,o_.indexB=0;let i_=o.GetVertex(0),_e=_r.GetVertex(0);r0.MultiplyVec2(_o,i_,o_.wA),r0.MultiplyVec2(l,_e,o_.wB),m_.Subtract(o_.wB,o_.wA,o_.w),o_.a=1,this.m_count=1}}WriteCache(V){V.metric=this.GetMetric(),V.count=this.m_count;let o=this.m_vertices;for(let _o=0;_o<this.m_count;++_o)V.indexA[_o]=o[_o].indexA,V.indexB[_o]=o[_o].indexB}GetSearchDirection(V){switch(this.m_count){case 1:return m_.Negate(this.m_v1.w,V);case 2:{let o=m_.Subtract(this.m_v2.w,this.m_v1.w,V);return m_.Cross(o,m_.Negate(this.m_v1.w,m_.s_t0))>0?m_.CrossOneVec2(o,V):m_.CrossVec2One(o,V)}default:return V.SetZero()}}GetClosestPoint(V){switch(this.m_count){case 0:return V.SetZero();case 1:return V.Copy(this.m_v1.w);case 2:return V.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:return V.SetZero();default:return V.SetZero()}}GetWitnessPoints(V,o){switch(this.m_count){case 0:break;case 1:V.Copy(this.m_v1.wA),o.Copy(this.m_v1.wB);break;case 2:V.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,V.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,o.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,o.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:o.x=V.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,o.y=V.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:break}}GetMetric(){switch(this.m_count){case 0:return 0;case 1:return 0;case 2:return m_.Distance(this.m_v1.w,this.m_v2.w);case 3:return m_.Cross(m_.Subtract(this.m_v2.w,this.m_v1.w,m_.s_t0),m_.Subtract(this.m_v3.w,this.m_v1.w,m_.s_t1));default:return 0}}Solve2(){let V=this.m_v1.w,o=this.m_v2.w,_o=m_.Subtract(o,V,x.s_e12),_r=-m_.Dot(V,_o);if(_r<=0){this.m_v1.a=1,this.m_count=1;return}let l=m_.Dot(o,_o);if(l<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2);return}let e_=1/(l+_r);this.m_v1.a=l*e_,this.m_v2.a=_r*e_,this.m_count=2}Solve3(){let V=this.m_v1.w,o=this.m_v2.w,_o=this.m_v3.w,_r=m_.Subtract(o,V,x.s_e12),l=m_.Dot(V,_r),o_=m_.Dot(o,_r),i_=-l,_e=m_.Subtract(_o,V,x.s_e13),c_=m_.Dot(V,_e),h_=m_.Dot(_o,_e),s_=-c_,w_=m_.Subtract(_o,o,x.s_e23),L_=m_.Dot(o,w_),I_=m_.Dot(_o,w_),k_=-L_,j_=m_.Cross(_r,_e),n2=j_*m_.Cross(o,_o),p2=j_*m_.Cross(_o,V),u2=j_*m_.Cross(V,o);if(i_<=0&&s_<=0){this.m_v1.a=1,this.m_count=1;return}if(o_>0&&i_>0&&u2<=0){let I2=1/(o_+i_);this.m_v1.a=o_*I2,this.m_v2.a=i_*I2,this.m_count=2;return}if(h_>0&&s_>0&&p2<=0){let I2=1/(h_+s_);this.m_v1.a=h_*I2,this.m_v3.a=s_*I2,this.m_count=2,this.m_v2.Copy(this.m_v3);return}if(o_<=0&&k_<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2);return}if(h_<=0&&I_<=0){this.m_v3.a=1,this.m_count=1,this.m_v1.Copy(this.m_v3);return}if(I_>0&&k_>0&&n2<=0){let I2=1/(I_+k_);this.m_v2.a=I_*I2,this.m_v3.a=k_*I2,this.m_count=2,this.m_v1.Copy(this.m_v3);return}let T2=1/(n2+p2+u2);this.m_v1.a=n2*T2,this.m_v2.a=p2*T2,this.m_v3.a=u2*T2,this.m_count=3}static{this.s_e12=new m_}static{this.s_e13=new m_}static{this.s_e23=new m_}},Qct=new FG,$ct=[0,0,0],tmt=[0,0,0],emt=new m_,omt=new m_,imt=new m_,rmt=new m_,nmt=new m_;function LG(x,V,o){++RG.calls;let{proxyA:_o,proxyB:_r,transformA:l,transformB:e_}=o,o_=Qct;o_.ReadCache(V,_o,l,_r,e_);let i_=o_.m_vertices,_e=20,c_=$ct,ws=tmt,h_=0,s_=0;for(;s_<_e;){h_=o_.m_count;for(let I_=0;I_<h_;++I_)c_[I_]=i_[I_].indexA,ws[I_]=i_[I_].indexB;switch(o_.m_count){case 1:break;case 2:o_.Solve2();break;case 3:o_.Solve3();break}if(o_.m_count===3)break;let w_=o_.GetSearchDirection(omt);if(w_.LengthSquared()<g4)break;let L_=i_[o_.m_count];L_.indexA=_o.GetSupport(ha.TransposeMultiplyVec2(l.q,m_.Negate(w_,m_.s_t0),rmt)),r0.MultiplyVec2(l,_o.GetVertex(L_.indexA),L_.wA),L_.indexB=_r.GetSupport(ha.TransposeMultiplyVec2(e_.q,w_,nmt)),r0.MultiplyVec2(e_,_r.GetVertex(L_.indexB),L_.wB),m_.Subtract(L_.wB,L_.wA,L_.w),++s_,++RG.iters;let y_=!1;for(let I_=0;I_<h_;++I_)if(L_.indexA===c_[I_]&&L_.indexB===ws[I_]){y_=!0;break}if(y_)break;++o_.m_count}if(RG.maxIters=Math.max(RG.maxIters,s_),o_.GetWitnessPoints(x.pointA,x.pointB),x.distance=m_.Distance(x.pointA,x.pointB),x.iterations=s_,o_.WriteCache(V),o.useRadii)if(x.distance<bS){let w_=m_.Mid(x.pointA,x.pointB,emt);x.pointA.Copy(w_),x.pointB.Copy(w_),x.distance=0}else{let w_=_o.m_radius,L_=_r.m_radius,y_=m_.Subtract(x.pointB,x.pointA,imt);y_.Normalize(),x.distance=Math.max(0,x.distance-w_-L_),x.pointA.AddScaled(w_,y_),x.pointB.SubtractScaled(L_,y_)}}var wdt=new m_,Vdt=new FG,Ddt=new m_,Mdt=new m_,Gdt=new m_,Jdt=new m_,Idt=new m_,Tdt=new m_;var X3=class{constructor(){this.m_key=0;this.m_key_invalid=!1;this.m_indexA=0;this.m_indexB=0;this.m_typeA=0;this.m_typeB=0}get key(){return this.m_key_invalid&&(this.m_key_invalid=!1,this.m_key=this.m_indexA|this.m_indexB<<8|this.m_typeA<<16|this.m_typeB<<24),this.m_key}set key(V){this.m_key=V,this.m_key_invalid=!1,this.m_indexA=this.m_key&255,this.m_indexB=this.m_key>>8&255,this.m_typeA=this.m_key>>16&255,this.m_typeB=this.m_key>>24&255}get indexA(){return this.m_indexA}set indexA(V){this.m_indexA=V,this.m_key_invalid=!0}get indexB(){return this.m_indexB}set indexB(V){this.m_indexB=V,this.m_key_invalid=!0}get typeA(){return this.m_typeA}set typeA(V){this.m_typeA=V,this.m_key_invalid=!0}get typeB(){return this.m_typeB}set typeB(V){this.m_typeB=V,this.m_key_invalid=!0}},P4=class x{constructor(){this.cf=new X3}Copy(V){return this.key=V.key,this}Clone(){return new x().Copy(this)}get key(){return this.cf.key}set key(V){this.cf.key=V}},Y3=class{constructor(){this.localPoint=new m_;this.normalImpulse=0;this.tangentImpulse=0;this.id=new P4}Reset(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0}Copy(V){return this.localPoint.Copy(V.localPoint),this.normalImpulse=V.normalImpulse,this.tangentImpulse=V.tangentImpulse,this.id.Copy(V.id),this}};var UD=class x{constructor(){this.points=U1(gS,Y3);this.localNormal=new m_;this.localPoint=new m_;this.type=0;this.pointCount=0}Reset(){for(let V=0;V<gS;++V)this.points[V].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=0,this.pointCount=0}Copy(V){this.pointCount=V.pointCount;for(let o=0;o<gS;++o)this.points[o].Copy(V.points[o]);return this.localNormal.Copy(V.localNormal),this.localPoint.Copy(V.localPoint),this.type=V.type,this}Clone(){return new x().Copy(this)}},qG=class x{constructor(){this.normal=new m_;this.points=U1(gS,m_);this.separations=kP(gS)}static{this.Initialize_s_pointA=new m_}static{this.Initialize_s_pointB=new m_}static{this.Initialize_s_cA=new m_}static{this.Initialize_s_cB=new m_}static{this.Initialize_s_planePoint=new m_}static{this.Initialize_s_clipPoint=new m_}Initialize(V,o,_o,_r,l){if(V.pointCount!==0)switch(V.type){case 0:{this.normal.Set(1,0);let e_=r0.MultiplyVec2(o,V.localPoint,x.Initialize_s_pointA),o_=r0.MultiplyVec2(_r,V.points[0].localPoint,x.Initialize_s_pointB);m_.DistanceSquared(e_,o_)>g4&&m_.Subtract(o_,e_,this.normal).Normalize();let i_=m_.AddScaled(e_,_o,this.normal,x.Initialize_s_cA),_e=m_.SubtractScaled(o_,l,this.normal,x.Initialize_s_cB);m_.Mid(i_,_e,this.points[0]),this.separations[0]=m_.Dot(m_.Subtract(_e,i_,m_.s_t0),this.normal);break}case 1:{ha.MultiplyVec2(o.q,V.localNormal,this.normal);let e_=r0.MultiplyVec2(o,V.localPoint,x.Initialize_s_planePoint);for(let o_=0;o_<V.pointCount;++o_){let i_=r0.MultiplyVec2(_r,V.points[o_].localPoint,x.Initialize_s_clipPoint),_e=_o-m_.Dot(m_.Subtract(i_,e_,m_.s_t0),this.normal),c_=m_.AddScaled(i_,_e,this.normal,x.Initialize_s_cA),ws=m_.SubtractScaled(i_,l,this.normal,x.Initialize_s_cB);m_.Mid(c_,ws,this.points[o_]),this.separations[o_]=m_.Dot(m_.Subtract(ws,c_,m_.s_t0),this.normal)}break}case 2:{ha.MultiplyVec2(_r.q,V.localNormal,this.normal);let e_=r0.MultiplyVec2(_r,V.localPoint,x.Initialize_s_planePoint);for(let o_=0;o_<V.pointCount;++o_){let i_=r0.MultiplyVec2(o,V.points[o_].localPoint,x.Initialize_s_clipPoint),_e=l-m_.Dot(m_.Subtract(i_,e_,m_.s_t0),this.normal),c_=m_.AddScaled(i_,_e,this.normal,x.Initialize_s_cB),ws=m_.SubtractScaled(i_,_o,this.normal,x.Initialize_s_cA);m_.Mid(ws,c_,this.points[o_]),this.separations[o_]=m_.Dot(m_.Subtract(ws,c_,m_.s_t0),this.normal)}this.normal.Negate();break}}}};var US=class{constructor(){this.v=new m_;this.id=new P4}Copy(V){return this.v.Copy(V.v),this.id.Copy(V.id),this}},w4=class{constructor(){this.p1=new m_;this.p2=new m_;this.maxFraction=1}Copy(V){return this.p1.Copy(V.p1),this.p2.Copy(V.p2),this.maxFraction=V.maxFraction,this}},EG=class{constructor(){this.normal=new m_;this.fraction=0}Copy(V){return this.normal.Copy(V.normal),this.fraction=V.fraction,this}},XS=class{constructor(){this.lowerBound=new m_;this.upperBound=new m_}Copy(V){return this.lowerBound.Copy(V.lowerBound),this.upperBound.Copy(V.upperBound),this}IsValid(){return this.lowerBound.IsValid()&&this.upperBound.IsValid()&&this.upperBound.x>=this.lowerBound.x&&this.upperBound.y>=this.lowerBound.y}GetCenter(V){return m_.Mid(this.lowerBound,this.upperBound,V)}GetExtents(V){return m_.Extents(this.lowerBound,this.upperBound,V)}GetPerimeter(){let V=this.upperBound.x-this.lowerBound.x,o=this.upperBound.y-this.lowerBound.y;return 2*(V+o)}Combine1(V){return this.lowerBound.x=Math.min(this.lowerBound.x,V.lowerBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,V.lowerBound.y),this.upperBound.x=Math.max(this.upperBound.x,V.upperBound.x),this.upperBound.y=Math.max(this.upperBound.y,V.upperBound.y),this}Combine2(V,o){return this.lowerBound.x=Math.min(V.lowerBound.x,o.lowerBound.x),this.lowerBound.y=Math.min(V.lowerBound.y,o.lowerBound.y),this.upperBound.x=Math.max(V.upperBound.x,o.upperBound.x),this.upperBound.y=Math.max(V.upperBound.y,o.upperBound.y),this}static Combine(V,o,_o){return _o.Combine2(V,o),_o}Contains(V){return this.lowerBound.x<=V.lowerBound.x&&this.lowerBound.y<=V.lowerBound.y&&V.upperBound.x<=this.upperBound.x&&V.upperBound.y<=this.upperBound.y}RayCast(V,o){let _o=-FA,_r=FA,l=o.p1.x,e_=o.p1.y,o_=o.p2.x-o.p1.x,i_=o.p2.y-o.p1.y,_e=Math.abs(o_),c_=Math.abs(i_),{normal:ws}=V;if(_e<bS){if(l<this.lowerBound.x||this.upperBound.x<l)return!1}else{let h_=1/o_,s_=(this.lowerBound.x-l)*h_,w_=(this.upperBound.x-l)*h_,L_=-1;if(s_>w_){let y_=s_;s_=w_,w_=y_,L_=1}if(s_>_o&&(ws.x=L_,ws.y=0,_o=s_),_r=Math.min(_r,w_),_o>_r)return!1}if(c_<bS){if(e_<this.lowerBound.y||this.upperBound.y<e_)return!1}else{let h_=1/i_,s_=(this.lowerBound.y-e_)*h_,w_=(this.upperBound.y-e_)*h_,L_=-1;if(s_>w_){let y_=s_;s_=w_,w_=y_,L_=1}if(s_>_o&&(ws.x=0,ws.y=L_,_o=s_),_r=Math.min(_r,w_),_o>_r)return!1}return _o<0||o.maxFraction<_o?!1:(V.fraction=_o,!0)}TestContain(V){return!(V.x<this.lowerBound.x||this.upperBound.x<V.x||V.y<this.lowerBound.y||this.upperBound.y<V.y)}TestOverlap(V){return!(this.upperBound.x<V.lowerBound.x||this.upperBound.y<V.lowerBound.y||V.upperBound.x<this.lowerBound.x||V.upperBound.y<this.lowerBound.y)}};function V4(x,[V,o],_o,_r,l){let e_=0,o_=m_.Dot(_o,V.v)-_r,i_=m_.Dot(_o,o.v)-_r;if(o_<=0&&x[e_++].Copy(V),i_<=0&&x[e_++].Copy(o),o_*i_<0){let _e=o_/(o_-i_),{v:c_,id:ws}=x[e_];c_.x=V.v.x+_e*(o.v.x-V.v.x),c_.y=V.v.y+_e*(o.v.y-V.v.y),ws.cf.indexA=l,ws.cf.indexB=V.id.cf.indexB,ws.cf.typeA=0,ws.cf.typeB=1,++e_}return e_}var smt=new C4,_mt=new S4,amt=new B4;function jG(x,V,o,_o,_r,l){let e_=smt.Reset();e_.proxyA.SetShape(x,V),e_.proxyB.SetShape(o,_o),e_.transformA.Copy(_r),e_.transformB.Copy(l),e_.useRadii=!0;let o_=_mt.Reset();o_.count=0;let i_=amt.Reset();return LG(i_,o_,e_),i_.distance<10*bS}var pmt=new m_,f9=new m_,OD=[];function kG(x,V,o){if(o.length===0)return OD;let _o=m_.Subtract(V,x,pmt);_o.Normalize();let _r=[],l=0,e_=m_.Cross(m_.Subtract(o[l],x,f9),_o);e_>0&&_r.push(o[l]);for(let ws=1;ws<o.length;++ws){let h_=m_.Cross(m_.Subtract(o[ws],x,f9),_o);h_>e_&&(l=ws,e_=h_),h_>0&&_r.push(o[ws])}if(e_<2*$0)return OD;let o_=o[l],i_=kG(x,o_,_r),_e=kG(o_,V,_r),c_=[...i_,o_,..._e];return O1(c_.length<GC),c_}var g9=new m_,lmt=new m_,cmt=new m_,mmt=new m_,bmt=new XS;function S9(x,V){if(V<3||V>GC)return OD;V=Math.min(V,GC);let o=bmt;o.lowerBound.Set(FA,FA),o.upperBound.Set(-FA,-FA);let _o=[],_r=16*$0*$0;for(let n2=0;n2<V;++n2){m_.Min(o.lowerBound,x[n2],o.lowerBound),m_.Max(o.upperBound,x[n2],o.upperBound);let p2=x[n2],u2=!0;for(let T2=0;T2<n2;++T2){let I2=x[T2];if(m_.DistanceSquared(p2,I2)<_r){u2=!1;break}}u2&&_o.push(p2)}let l=_o.length;if(l<3)return OD;let e_=o.GetCenter(cmt),o_=0,i_=m_.DistanceSquared(e_,_o[o_]);for(let n2=1;n2<l;++n2){let p2=m_.DistanceSquared(e_,_o[n2]);p2>i_&&(o_=n2,i_=p2)}let _e=_o[o_];_o[o_]=_o[l-1],l-=1;let c_=0,ws=m_.DistanceSquared(_e,_o[c_]);for(let n2=1;n2<l;++n2){let p2=m_.DistanceSquared(_e,_o[n2]);p2>ws&&(c_=n2,ws=p2)}let h_=_o[c_];_o[c_]=_o[l-1],l-=1;let s_=[],w_=[],L_=m_.Subtract(h_,_e,g9);L_.Normalize();for(let n2=0;n2<l;++n2){let p2=m_.Cross(m_.Subtract(_o[n2],_e,mmt),L_);p2>=2*$0?s_.push(_o[n2]):p2<=-2*$0&&w_.push(_o[n2])}let y_=kG(_e,h_,s_),I_=kG(h_,_e,w_);if(y_.length===0&&I_.length===0)return OD;let k_=[_e,...y_,h_,...I_];O1(k_.length<=GC);let j_=!0;for(;j_&&k_.length>2;){j_=!1;for(let n2=0;n2<k_.length;++n2){let p2=n2,u2=(n2+1)%k_.length,T2=(n2+2)%k_.length,I2=k_[p2],q2=k_[u2],O2=k_[T2],X2=m_.Subtract(O2,I2,g9);X2.Normalize();let S_=m_.Subtract(q2,I2,lmt);if(m_.Cross(S_,X2)<=2*$0){k_.splice(u2,1),j_=!0;break}}}return k_.length<3&&(k_.length=0),k_}var v9=new m_,A9=new m_;function C9(x,V){if(V<3||GC<V)return!1;for(let o=0;o<V;++o){let _o=o,_r=o<V-1?_o+1:0,l=x[_o],e_=m_.Subtract(x[_r],l,v9);e_.Normalize();for(let o_=0;o_<V;++o_){if(o_===_o||o_===_r)continue;if(m_.Cross(m_.Subtract(x[o_],l,A9),e_)>=0)return!1}}for(let o=0;o<V;++o){let _o=o,_r=(o+1)%V,l=(o+2)%V,e_=x[_o],o_=x[_r],i_=x[l],_e=m_.Subtract(i_,e_,v9);if(_e.Normalize(),m_.Cross(m_.Subtract(o_,e_,A9),_e)<=$0)return!1}return!0}var umt={c1:new m_,c2:new m_},zG={categoryBits:1,maskBits:65535,groupIndex:0},H3=class{constructor(V,o,_o,_r){this.aabb=new XS;this.fixture=V,this.childIndex=_r,V.m_shape.ComputeAABB(this.aabb,_o,_r),this.treeNode=o.CreateProxy(this.aabb,this)}},hmt=new XS,dmt=new XS,ymt=new m_,WG=class{constructor(V,o){this.m_density=0;this.m_next=null;this.m_friction=0;this.m_restitution=0;this.m_restitutionThreshold=0;this.m_proxies=[];this.m_isSensor=!1;this.m_userData={};this.m_body=V,this.m_shape=o.shape.Clone(),o.userData&&this.SetUserData(o.userData),this.m_friction=o.friction??.2,this.m_restitution=o.restitution??0,this.m_restitutionThreshold=o.restitutionThreshold??EP,this.m_filter={...zG,...o.filter},this.m_isSensor=o.isSensor??!1,this.m_density=o.density??0}get m_proxyCount(){return this.m_proxies.length}GetType(){return this.m_shape.GetType()}GetShape(){return this.m_shape}SetSensor(V){V!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=V)}IsSensor(){return this.m_isSensor}SetFilterData(V){this.m_filter.categoryBits=V.categoryBits??zG.categoryBits,this.m_filter.groupIndex=V.groupIndex??zG.groupIndex,this.m_filter.maskBits=V.maskBits??zG.maskBits,this.Refilter()}GetFilterData(){return this.m_filter}Refilter(){let V=this.m_body.GetContactList();for(;V;){let{contact:_r}=V,l=_r.GetFixtureA(),e_=_r.GetFixtureB();(l===this||e_===this)&&_r.FlagForFiltering(),V=V.next}let _o=this.m_body.GetWorld().m_contactManager.m_broadPhase;for(let _r of this.m_proxies)_o.TouchProxy(_r.treeNode)}GetBody(){return this.m_body}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(V){Object.assign(this.m_userData,V)}TestPoint(V){return this.m_shape.TestPoint(this.m_body.GetTransform(),V)}RayCast(V,o,_o){return this.m_shape.RayCast(V,o,this.m_body.GetTransform(),_o)}GetMassData(V=new A4){return this.m_shape.ComputeMass(V,this.m_density),V}SetDensity(V){this.m_density=V}GetDensity(){return this.m_density}GetFriction(){return this.m_friction}SetFriction(V){this.m_friction=V}GetRestitution(){return this.m_restitution}SetRestitution(V){this.m_restitution=V}GetRestitutionThreshold(){return this.m_restitutionThreshold}SetRestitutionThreshold(V){this.m_restitutionThreshold=V}GetAABB(V){return this.m_proxies[V].aabb}CreateProxies(V,o){O1(this.m_proxies.length===0),this.m_proxies.length=this.m_shape.GetChildCount();for(let _o=0;_o<this.m_proxies.length;++_o)this.m_proxies[_o]=new H3(this,V,o,_o)}DestroyProxies(V){for(let o of this.m_proxies)V.DestroyProxy(o.treeNode);this.m_proxies.length=0}Synchronize(V,o,_o){let{c1:_r,c2:l}=umt,e_=ymt;for(let o_ of this.m_proxies){let i_=hmt,_e=dmt;this.m_shape.ComputeAABB(i_,o,o_.childIndex),this.m_shape.ComputeAABB(_e,_o,o_.childIndex),o_.aabb.Combine2(i_,_e),m_.Subtract(_e.GetCenter(l),i_.GetCenter(_r),e_),V.MoveProxy(o_.treeNode,o_.aabb,e_)}}};var XD=class x{constructor(V,o){this.m_type=0;this.m_islandFlag=!1;this.m_awakeFlag=!1;this.m_autoSleepFlag=!1;this.m_bulletFlag=!1;this.m_fixedRotationFlag=!1;this.m_enabledFlag=!1;this.m_toiFlag=!1;this.m_islandIndex=0;this.m_xf=new r0;this.m_sweep=new mC;this.m_linearVelocity=new m_;this.m_angularVelocity=0;this.m_force=new m_;this.m_torque=0;this.m_prev=null;this.m_next=null;this.m_fixtureList=null;this.m_fixtureCount=0;this.m_jointList=null;this.m_contactList=null;this.m_mass=1;this.m_invMass=1;this.m_I=0;this.m_invI=0;this.m_linearDamping=0;this.m_angularDamping=0;this.m_gravityScale=1;this.m_sleepTime=0;this.m_userData={};this.m_bulletFlag=V.bullet??!1,this.m_fixedRotationFlag=V.fixedRotation??!1,this.m_autoSleepFlag=V.allowSleep??!0,(V.awake??!0)&&(V.type??0)!==0&&(this.m_awakeFlag=!0),this.m_enabledFlag=V.enabled??!0,this.m_world=o,this.m_xf.p.Copy(V.position??m_.ZERO),this.m_xf.q.Set(V.angle??0),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a=this.m_xf.q.GetAngle(),this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(V.linearVelocity??m_.ZERO),this.m_angularVelocity=V.angularVelocity??0,this.m_linearDamping=V.linearDamping??0,this.m_angularDamping=V.angularDamping??0,this.m_gravityScale=V.gravityScale??1,this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=V.type??0,this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,V.userData&&this.SetUserData(V.userData),this.m_fixtureList=null,this.m_fixtureCount=0}CreateFixture(V){O1(!this.m_world.IsLocked());let o=new WG(this,V);if(this.m_enabledFlag){let _o=this.m_world.m_contactManager.m_broadPhase;o.CreateProxies(_o,this.m_xf)}return o.m_next=this.m_fixtureList,this.m_fixtureList=o,++this.m_fixtureCount,o.m_density>0&&this.ResetMassData(),this.m_world.m_newContacts=!0,o}DestroyFixture(V){O1(!this.m_world.IsLocked());let o=this.m_fixtureList,_o=null;for(;o!==null;){if(o===V){_o?_o.m_next=V.m_next:this.m_fixtureList=V.m_next;break}_o=o,o=o.m_next}let _r=V.m_density,l=this.m_contactList;for(;l;){let e_=l.contact;l=l.next;let o_=e_.GetFixtureA(),i_=e_.GetFixtureB();(V===o_||V===i_)&&this.m_world.m_contactManager.Destroy(e_)}if(this.m_enabledFlag){let e_=this.m_world.m_contactManager.m_broadPhase;V.DestroyProxies(e_)}V.m_next=null,--this.m_fixtureCount,_r>0&&this.ResetMassData()}SetTransformVec(V,o){this.SetTransformXY(V.x,V.y,o)}SetTransformXY(V,o,_o){O1(!this.m_world.IsLocked()),this.m_xf.q.Set(_o),this.m_xf.p.Set(V,o),r0.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=_o,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=_o;let _r=this.m_world.m_contactManager.m_broadPhase;for(let l=this.m_fixtureList;l;l=l.m_next)l.Synchronize(_r,this.m_xf,this.m_xf);this.m_world.m_newContacts=!0}SetTransform(V){this.SetTransformVec(V.p,V.GetAngle())}GetTransform(){return this.m_xf}GetPosition(){return this.m_xf.p}GetAngle(){return this.m_sweep.a}SetAngle(V){this.SetTransformVec(this.GetPosition(),V)}GetWorldCenter(){return this.m_sweep.c}GetLocalCenter(){return this.m_sweep.localCenter}SetLinearVelocity(V){this.m_type!==0&&(m_.Dot(V,V)>0&&this.SetAwake(!0),this.m_linearVelocity.Copy(V))}GetLinearVelocity(){return this.m_linearVelocity}SetAngularVelocity(V){this.m_type!==0&&(V*V>0&&this.SetAwake(!0),this.m_angularVelocity=V)}GetAngularVelocity(){return this.m_angularVelocity}ApplyForce(V,o,_o=!0){this.m_type===2&&(_o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=V.x,this.m_force.y+=V.y,this.m_torque+=(o.x-this.m_sweep.c.x)*V.y-(o.y-this.m_sweep.c.y)*V.x))}ApplyForceToCenter(V,o=!0){this.m_type===2&&(o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=V.x,this.m_force.y+=V.y))}ApplyTorque(V,o=!0){this.m_type===2&&(o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_torque+=V))}ApplyLinearImpulse(V,o,_o=!0){this.m_type===2&&(_o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*V.x,this.m_linearVelocity.y+=this.m_invMass*V.y,this.m_angularVelocity+=this.m_invI*((o.x-this.m_sweep.c.x)*V.y-(o.y-this.m_sweep.c.y)*V.x)))}ApplyLinearImpulseToCenter(V,o=!0){this.m_type===2&&(o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*V.x,this.m_linearVelocity.y+=this.m_invMass*V.y))}ApplyAngularImpulse(V,o=!0){this.m_type===2&&(o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*V))}GetMass(){return this.m_mass}GetInertia(){return this.m_I+this.m_mass*m_.Dot(this.m_sweep.localCenter,this.m_sweep.localCenter)}GetMassData(V){return V.mass=this.m_mass,V.I=this.m_I+this.m_mass*m_.Dot(this.m_sweep.localCenter,this.m_sweep.localCenter),V.center.Copy(this.m_sweep.localCenter),V}static{this.SetMassData_s_oldCenter=new m_}SetMassData(V){if(O1(!this.m_world.IsLocked()),this.m_type!==2)return;this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=V.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,V.I>0&&!this.m_fixedRotationFlag&&(this.m_I=V.I-this.m_mass*m_.Dot(V.center,V.center),this.m_invI=1/this.m_I);let o=x.SetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(V.center),r0.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),m_.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,m_.Subtract(this.m_sweep.c,o,m_.s_t0),this.m_linearVelocity)}static{this.ResetMassData_s_localCenter=new m_}static{this.ResetMassData_s_oldCenter=new m_}static{this.ResetMassData_s_massData=new A4}ResetMassData(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===0||this.m_type===1){this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;return}let V=x.ResetMassData_s_localCenter.SetZero();for(let _o=this.m_fixtureList;_o;_o=_o.m_next){if(_o.m_density===0)continue;let _r=_o.GetMassData(x.ResetMassData_s_massData);this.m_mass+=_r.mass,V.AddScaled(_r.mass,_r.center),this.m_I+=_r.I}this.m_mass>0&&(this.m_invMass=1/this.m_mass,V.Scale(this.m_invMass)),this.m_I>0&&!this.m_fixedRotationFlag?(this.m_I-=this.m_mass*m_.Dot(V,V),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);let o=x.ResetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(V),r0.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),m_.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,m_.Subtract(this.m_sweep.c,o,m_.s_t0),this.m_linearVelocity)}GetWorldPoint(V,o){return r0.MultiplyVec2(this.m_xf,V,o)}GetWorldVector(V,o){return ha.MultiplyVec2(this.m_xf.q,V,o)}GetLocalPoint(V,o){return r0.TransposeMultiplyVec2(this.m_xf,V,o)}GetLocalVector(V,o){return ha.TransposeMultiplyVec2(this.m_xf.q,V,o)}GetLinearVelocityFromWorldPoint(V,o){return m_.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,m_.Subtract(V,this.m_sweep.c,m_.s_t0),o)}GetLinearVelocityFromLocalPoint(V,o){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(V,o),o)}GetLinearDamping(){return this.m_linearDamping}SetLinearDamping(V){this.m_linearDamping=V}GetAngularDamping(){return this.m_angularDamping}SetAngularDamping(V){this.m_angularDamping=V}GetGravityScale(){return this.m_gravityScale}SetGravityScale(V){this.m_gravityScale=V}SetType(V){if(O1(!this.m_world.IsLocked()),this.m_type===V)return;this.m_type=V,this.ResetMassData(),this.m_type===0&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_awakeFlag=!1,this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;let o=this.m_contactList;for(;o;){let _r=o;o=o.next,this.m_world.m_contactManager.Destroy(_r.contact)}this.m_contactList=null;let _o=this.m_world.m_contactManager.m_broadPhase;for(let _r=this.m_fixtureList;_r;_r=_r.m_next)for(let l of _r.m_proxies)_o.TouchProxy(l.treeNode)}GetType(){return this.m_type}SetBullet(V){this.m_bulletFlag=V}IsBullet(){return this.m_bulletFlag}SetSleepingAllowed(V){this.m_autoSleepFlag=V,V||this.SetAwake(!0)}IsSleepingAllowed(){return this.m_autoSleepFlag}SetAwake(V){this.m_type!==0&&(V?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0))}IsAwake(){return this.m_awakeFlag}SetEnabled(V){if(O1(!this.m_world.IsLocked()),V===this.IsEnabled())return;this.m_enabledFlag=V;let o=this.m_world.m_contactManager.m_broadPhase;if(V){for(let _o=this.m_fixtureList;_o;_o=_o.m_next)_o.CreateProxies(o,this.m_xf);this.m_world.m_newContacts=!0}else{for(let _r=this.m_fixtureList;_r;_r=_r.m_next)_r.DestroyProxies(o);let _o=this.m_contactList;for(;_o;){let _r=_o;_o=_o.next,this.m_world.m_contactManager.Destroy(_r.contact)}this.m_contactList=null}}IsEnabled(){return this.m_enabledFlag}SetFixedRotation(V){this.m_fixedRotationFlag!==V&&(this.m_fixedRotationFlag=V,this.m_angularVelocity=0,this.ResetMassData())}IsFixedRotation(){return this.m_fixedRotationFlag}GetFixtureList(){return this.m_fixtureList}GetJointList(){return this.m_jointList}GetContactList(){return this.m_contactList}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(V){Object.assign(this.m_userData,V)}GetWorld(){return this.m_world}static{this.SynchronizeFixtures_s_xf1=new r0}SynchronizeFixtures(){let V=this.m_world.m_contactManager.m_broadPhase;if(this.m_awakeFlag){let o=x.SynchronizeFixtures_s_xf1;o.q.Set(this.m_sweep.a0),ha.MultiplyVec2(o.q,this.m_sweep.localCenter,o.p),m_.Subtract(this.m_sweep.c0,o.p,o.p);for(let _o=this.m_fixtureList;_o;_o=_o.m_next)_o.Synchronize(V,o,this.m_xf)}else for(let o=this.m_fixtureList;o;o=o.m_next)o.Synchronize(V,this.m_xf,this.m_xf)}SynchronizeTransform(){this.m_xf.q.Set(this.m_sweep.a),ha.MultiplyVec2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),m_.Subtract(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}ShouldCollide(V){return this.m_type!==2&&V.m_type!==2?!1:this.ShouldCollideConnected(V)}ShouldCollideConnected(V){for(let o=this.m_jointList;o;o=o.next)if(o.other===V&&!o.joint.m_collideConnected)return!1;return!0}Advance(V){this.m_sweep.Advance(V),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.Set(this.m_sweep.a),ha.MultiplyVec2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),m_.Subtract(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}};var byt={cA:new m_,cB:new m_,vs:U1(4,m_),xf:new r0};var TB=class{constructor(){this.m_start=performance.now()}Reset(){return this.m_start=performance.now(),this}GetMilliseconds(){return performance.now()-this.m_start}};var sP={stack:[],t:new m_,r:new m_,v:new m_,abs_v:new m_,segmentAABB:new XS,subInput:new w4,combinedAABB:new XS,aabb:new XS,fatAABB:new XS,hugeAABB:new XS,c:new m_,h:new m_},xmt=0,HD=class{constructor(){this.aabb=new XS;this.userData=null;this.parent=null;this.child1=null;this.child2=null;this.height=0;this.moved=!1;this.id=xmt++}Reset(){this.child1=null,this.child2=null,this.height=-1,this.userData=null}IsLeaf(){return this.child1===null}GetArea(){if(this.IsLeaf())return 0;let V=this.aabb.GetPerimeter();return this.child1&&(V+=this.child1.GetArea()),this.child2&&(V+=this.child2.GetArea()),V}ComputeHeight(){if(this.IsLeaf())return 0;O1(this.child1!==null&&this.child2!==null);let V=R1(this.child1).ComputeHeight(),o=R1(this.child2).ComputeHeight();return 1+Math.max(V,o)}GetMaxBalance(){if(this.height<=1)return 0;let V=R1(this.child1),o=R1(this.child2);return Math.max(V.GetMaxBalance(),o.GetMaxBalance(),Math.abs(o.height-V.height))}ShiftOrigin(V){this.height<=1||(R1(this.child1).ShiftOrigin(V),R1(this.child2).ShiftOrigin(V),this.aabb.lowerBound.Subtract(V),this.aabb.upperBound.Subtract(V))}},NG=class{constructor(){this.m_root=null;this.m_freeList=null}Query(V,o){let _o=sP.stack;_o.length=0;let _r=this.m_root;for(;_r;){if(_r.aabb.TestOverlap(V))if(_r.IsLeaf()){if(!o(_r))return}else _o.push(_r.child1),_o.push(_r.child2);_r=_o.pop()}}QueryPoint(V,o){let _o=sP.stack;_o.length=0;let _r=this.m_root;for(;_r;){if(_r.aabb.TestContain(V))if(_r.IsLeaf()){if(!o(_r))return}else _o.push(_r.child1),_o.push(_r.child2);_r=_o.pop()}}RayCast(V,o){let{p1:_o,p2:_r}=V,l=m_.Subtract(_r,_o,sP.r);l.Normalize();let e_=m_.CrossOneVec2(l,sP.v),o_=e_.GetAbs(sP.abs_v),{maxFraction:i_}=V,{segmentAABB:_e,subInput:c_,c:ws,h:h_,t:s_}=sP;m_.AddScaled(_o,i_,m_.Subtract(_r,_o,s_),s_),m_.Min(_o,s_,_e.lowerBound),m_.Max(_o,s_,_e.upperBound);let w_=sP.stack;w_.length=0;let L_=this.m_root;for(;L_;){if(!L_.aabb.TestOverlap(_e)){L_=w_.pop();continue}if(L_.aabb.GetCenter(ws),L_.aabb.GetExtents(h_),Math.abs(m_.Dot(e_,m_.Subtract(_o,ws,m_.s_t0)))-m_.Dot(o_,h_)>0){L_=w_.pop();continue}if(L_.IsLeaf()){c_.p1.Copy(V.p1),c_.p2.Copy(V.p2),c_.maxFraction=i_;let I_=o(c_,L_);if(I_===0)return;I_>0&&(i_=I_,m_.AddScaled(_o,i_,m_.Subtract(_r,_o,s_),s_),m_.Min(_o,s_,_e.lowerBound),m_.Max(_o,s_,_e.upperBound))}else w_.push(L_.child1),w_.push(L_.child2);L_=w_.pop()}}AllocateNode(){if(this.m_freeList===null)return new HD;let V=this.m_freeList;return this.m_freeList=V.parent,V.parent=null,V.child1=null,V.child2=null,V.height=0,V.moved=!1,V}FreeNode(V){V.parent=this.m_freeList,V.Reset(),this.m_freeList=V}CreateProxy(V,o){let _o=this.AllocateNode(),_r=IG;return _o.aabb.lowerBound.Set(V.lowerBound.x-_r,V.lowerBound.y-_r),_o.aabb.upperBound.Set(V.upperBound.x+_r,V.upperBound.y+_r),_o.userData=o,_o.height=0,_o.moved=!0,this.InsertLeaf(_o),_o}DestroyProxy(V){this.RemoveLeaf(V),this.FreeNode(V)}MoveProxy(V,o,_o){let{fatAABB:_r,hugeAABB:l}=sP,e_=IG;_r.lowerBound.Set(o.lowerBound.x-e_,o.lowerBound.y-e_),_r.upperBound.Set(o.upperBound.x+e_,o.upperBound.y+e_);let o_=z3*_o.x,i_=z3*_o.y;o_<0?_r.lowerBound.x+=o_:_r.upperBound.x+=o_,i_<0?_r.lowerBound.y+=i_:_r.upperBound.y+=i_;let _e=V.aabb;if(_e.Contains(o)){let c_=4*IG;if(l.lowerBound.Set(_r.lowerBound.x-c_,o.lowerBound.y-c_),l.upperBound.Set(_r.upperBound.x+c_,o.upperBound.y+c_),l.Contains(_e))return!1}return this.RemoveLeaf(V),V.aabb.Copy(_r),this.InsertLeaf(V),V.moved=!0,!0}InsertLeaf(V){if(this.m_root===null){this.m_root=V,this.m_root.parent=null;return}let{combinedAABB:o,aabb:_o}=sP,_r=V.aabb,l=this.m_root;for(;!l.IsLeaf();){let _e=R1(l.child1),c_=R1(l.child2),ws=l.aabb.GetPerimeter();o.Combine2(l.aabb,_r);let h_=o.GetPerimeter(),s_=2*h_,w_=2*(h_-ws),L_,y_,I_;_e.IsLeaf()?(_o.Combine2(_r,_e.aabb),L_=_o.GetPerimeter()+w_):(_o.Combine2(_r,_e.aabb),y_=_e.aabb.GetPerimeter(),I_=_o.GetPerimeter(),L_=I_-y_+w_);let k_;if(c_.IsLeaf()?(_o.Combine2(_r,c_.aabb),k_=_o.GetPerimeter()+w_):(_o.Combine2(_r,c_.aabb),y_=c_.aabb.GetPerimeter(),I_=_o.GetPerimeter(),k_=I_-y_+w_),s_<L_&&s_<k_)break;L_<k_?l=_e:l=c_}let e_=l.parent,o_=this.AllocateNode();o_.parent=e_,o_.userData=null,o_.aabb.Combine2(_r,l.aabb),o_.height=l.height+1,e_!==null?(e_.child1===l?e_.child1=o_:e_.child2=o_,o_.child1=l,o_.child2=V,l.parent=o_,V.parent=o_):(o_.child1=l,o_.child2=V,l.parent=o_,V.parent=o_,this.m_root=o_);let i_=V.parent;for(;i_!==null;){i_=this.Balance(i_);let _e=R1(i_.child1),c_=R1(i_.child2);i_.height=1+Math.max(_e.height,c_.height),i_.aabb.Combine2(_e.aabb,c_.aabb),i_=i_.parent}}RemoveLeaf(V){if(V===this.m_root){this.m_root=null;return}let o=R1(V.parent),_o=o.parent,_r=R1(o.child1===V?o.child2:o.child1);if(_o!==null){_o.child1===o?_o.child1=_r:_o.child2=_r,_r.parent=_o,this.FreeNode(o);let l=_o;for(;l!==null;){l=this.Balance(l);let e_=R1(l.child1),o_=R1(l.child2);l.aabb.Combine2(e_.aabb,o_.aabb),l.height=1+Math.max(e_.height,o_.height),l=l.parent}}else this.m_root=_r,_r.parent=null,this.FreeNode(o)}Balance(V){if(V.IsLeaf()||V.height<2)return V;let o=R1(V.child1),_o=R1(V.child2),_r=_o.height-o.height;if(_r>1){let l=R1(_o.child1),e_=R1(_o.child2);return _o.child1=V,_o.parent=V.parent,V.parent=_o,_o.parent!==null?_o.parent.child1===V?_o.parent.child1=_o:_o.parent.child2=_o:this.m_root=_o,l.height>e_.height?(_o.child2=l,V.child2=e_,e_.parent=V,V.aabb.Combine2(o.aabb,e_.aabb),_o.aabb.Combine2(V.aabb,l.aabb),V.height=1+Math.max(o.height,e_.height),_o.height=1+Math.max(V.height,l.height)):(_o.child2=e_,V.child2=l,l.parent=V,V.aabb.Combine2(o.aabb,l.aabb),_o.aabb.Combine2(V.aabb,e_.aabb),V.height=1+Math.max(o.height,l.height),_o.height=1+Math.max(V.height,e_.height)),_o}if(_r<-1){let l=R1(o.child1),e_=R1(o.child2);return o.child1=V,o.parent=V.parent,V.parent=o,o.parent!==null?o.parent.child1===V?o.parent.child1=o:o.parent.child2=o:this.m_root=o,l.height>e_.height?(o.child2=l,V.child1=e_,e_.parent=V,V.aabb.Combine2(_o.aabb,e_.aabb),o.aabb.Combine2(V.aabb,l.aabb),V.height=1+Math.max(_o.height,e_.height),o.height=1+Math.max(V.height,l.height)):(o.child2=e_,V.child1=l,l.parent=V,V.aabb.Combine2(_o.aabb,l.aabb),o.aabb.Combine2(V.aabb,e_.aabb),V.height=1+Math.max(_o.height,l.height),o.height=1+Math.max(V.height,e_.height)),o}return V}GetHeight(){return this.m_root===null?0:this.m_root.height}GetAreaRatio(){if(this.m_root===null)return 0;let V=this.m_root,o=V.aabb.GetPerimeter();return V.GetArea()/o}GetMaxBalance(){return this.m_root===null?0:this.m_root.GetMaxBalance()}ShiftOrigin(V){this.m_root?.ShiftOrigin(V)}};var OG=class{constructor(){this.m_tree=new NG;this.m_proxyCount=0;this.m_moveCount=0;this.m_moveBuffer=[];this.m_pairCount=0;this.m_pairBuffer=[];this.m_queryProxy=new HD;this.QueryCallback=V=>(V.id===this.m_queryProxy.id||V.moved&&V.id>this.m_queryProxy.id||(this.m_pairBuffer[this.m_pairCount]=V.id<this.m_queryProxy.id?[V,this.m_queryProxy]:[this.m_queryProxy,V],++this.m_pairCount),!0)}CreateProxy(V,o){let _o=this.m_tree.CreateProxy(V,o);return++this.m_proxyCount,this.BufferMove(_o),_o}DestroyProxy(V){this.UnBufferMove(V),--this.m_proxyCount,this.m_tree.DestroyProxy(V)}MoveProxy(V,o,_o){this.m_tree.MoveProxy(V,o,_o)&&this.BufferMove(V)}TouchProxy(V){this.BufferMove(V)}GetProxyCount(){return this.m_proxyCount}UpdatePairs(V){this.m_pairCount=0;for(let o=0;o<this.m_moveCount;++o){let _o=this.m_moveBuffer[o];if(_o===null)continue;this.m_queryProxy=_o;let _r=_o.aabb;this.m_tree.Query(_r,this.QueryCallback)}for(let o=0;o<this.m_pairCount;++o){let _o=this.m_pairBuffer[o],_r=R1(_o[0].userData),l=R1(_o[1].userData);V(_r,l)}for(let o=0;o<this.m_moveCount;++o){let _o=this.m_moveBuffer[o];_o&&(_o.moved=!1)}this.m_moveCount=0}Query(V,o){this.m_tree.Query(V,o)}QueryPoint(V,o){this.m_tree.QueryPoint(V,o)}RayCast(V,o){this.m_tree.RayCast(V,o)}GetTreeHeight(){return this.m_tree.GetHeight()}GetTreeBalance(){return this.m_tree.GetMaxBalance()}GetTreeQuality(){return this.m_tree.GetAreaRatio()}ShiftOrigin(V){this.m_tree.ShiftOrigin(V)}BufferMove(V){this.m_moveBuffer[this.m_moveCount]=V,++this.m_moveCount}UnBufferMove(V){for(let o=0;o<this.m_moveCount;++o)this.m_moveBuffer[o]===V&&(this.m_moveBuffer[o]=null)}};var RB={time:0,maxTime:0,calls:0,iters:0,maxIters:0,rootIters:0,maxRootIters:0,reset(){this.time=0,this.maxTime=0,this.calls=0,this.iters=0,this.maxIters=0,this.rootIters=0,this.maxRootIters=0}},UG=new r0,XG=new r0,_P=new m_,aP=new m_,D4=new m_,B9=new m_,P9=new m_,YG=class{constructor(){this.proxyA=new BV;this.proxyB=new BV;this.sweepA=new mC;this.sweepB=new mC;this.tMax=0}};var HG=class{constructor(){this.state=0;this.t=0}};var Z3=class{constructor(){this.m_sweepA=new mC;this.m_sweepB=new mC;this.m_type=0;this.m_localPoint=new m_;this.m_axis=new m_}Initialize(V,o,_o,_r,l,e_){this.m_proxyA=o,this.m_proxyB=_r;let{count:o_}=V;this.m_sweepA.Copy(_o),this.m_sweepB.Copy(l);let i_=this.m_sweepA.GetTransform(UG,e_),_e=this.m_sweepB.GetTransform(XG,e_);if(o_===1){this.m_type=0;let I_=this.m_proxyA.GetVertex(V.indexA[0]),k_=this.m_proxyB.GetVertex(V.indexB[0]),j_=r0.MultiplyVec2(i_,I_,_P),n2=r0.MultiplyVec2(_e,k_,aP);return m_.Subtract(n2,j_,this.m_axis),this.m_axis.Normalize()}if(V.indexA[0]===V.indexA[1]){this.m_type=2;let I_=this.m_proxyB.GetVertex(V.indexB[0]),k_=this.m_proxyB.GetVertex(V.indexB[1]);m_.CrossVec2One(m_.Subtract(k_,I_,m_.s_t0),this.m_axis).Normalize();let j_=ha.MultiplyVec2(_e.q,this.m_axis,D4);m_.Mid(I_,k_,this.m_localPoint);let n2=r0.MultiplyVec2(_e,this.m_localPoint,aP),p2=this.m_proxyA.GetVertex(V.indexA[0]),u2=r0.MultiplyVec2(i_,p2,_P),T2=m_.Dot(m_.Subtract(u2,n2,m_.s_t0),j_);return T2<0&&(this.m_axis.Negate(),T2=-T2),T2}this.m_type=1;let c_=this.m_proxyA.GetVertex(V.indexA[0]),ws=this.m_proxyA.GetVertex(V.indexA[1]);m_.CrossVec2One(m_.Subtract(ws,c_,m_.s_t0),this.m_axis).Normalize();let h_=ha.MultiplyVec2(i_.q,this.m_axis,D4);m_.Mid(c_,ws,this.m_localPoint);let s_=r0.MultiplyVec2(i_,this.m_localPoint,_P),w_=this.m_proxyB.GetVertex(V.indexB[0]),L_=r0.MultiplyVec2(_e,w_,aP),y_=m_.Dot(m_.Subtract(L_,s_,m_.s_t0),h_);return y_<0&&(this.m_axis.Negate(),y_=-y_),y_}FindMinSeparation(V,o,_o){let _r=this.m_sweepA.GetTransform(UG,_o),l=this.m_sweepB.GetTransform(XG,_o);switch(this.m_type){case 0:{let e_=ha.TransposeMultiplyVec2(_r.q,this.m_axis,B9),o_=ha.TransposeMultiplyVec2(l.q,m_.Negate(this.m_axis,m_.s_t0),P9);V[0]=this.m_proxyA.GetSupport(e_),o[0]=this.m_proxyB.GetSupport(o_);let i_=this.m_proxyA.GetVertex(V[0]),_e=this.m_proxyB.GetVertex(o[0]),c_=r0.MultiplyVec2(_r,i_,_P),ws=r0.MultiplyVec2(l,_e,aP);return m_.Dot(m_.Subtract(ws,c_,m_.s_t0),this.m_axis)}case 1:{let e_=ha.MultiplyVec2(_r.q,this.m_axis,D4),o_=r0.MultiplyVec2(_r,this.m_localPoint,_P),i_=ha.TransposeMultiplyVec2(l.q,m_.Negate(e_,m_.s_t0),P9);V[0]=-1,o[0]=this.m_proxyB.GetSupport(i_);let _e=this.m_proxyB.GetVertex(o[0]),c_=r0.MultiplyVec2(l,_e,aP);return m_.Dot(m_.Subtract(c_,o_,m_.s_t0),e_)}case 2:{let e_=ha.MultiplyVec2(l.q,this.m_axis,D4),o_=r0.MultiplyVec2(l,this.m_localPoint,aP),i_=ha.TransposeMultiplyVec2(_r.q,m_.Negate(e_,m_.s_t0),B9);o[0]=-1,V[0]=this.m_proxyA.GetSupport(i_);let _e=this.m_proxyA.GetVertex(V[0]),c_=r0.MultiplyVec2(_r,_e,_P);return m_.Dot(m_.Subtract(c_,o_,m_.s_t0),e_)}default:return V[0]=-1,o[0]=-1,0}}Evaluate(V,o,_o){let _r=this.m_sweepA.GetTransform(UG,_o),l=this.m_sweepB.GetTransform(XG,_o);switch(this.m_type){case 0:{let e_=this.m_proxyA.GetVertex(V),o_=this.m_proxyB.GetVertex(o),i_=r0.MultiplyVec2(_r,e_,_P),_e=r0.MultiplyVec2(l,o_,aP);return m_.Dot(m_.Subtract(_e,i_,m_.s_t0),this.m_axis)}case 1:{let e_=ha.MultiplyVec2(_r.q,this.m_axis,D4),o_=r0.MultiplyVec2(_r,this.m_localPoint,_P),i_=this.m_proxyB.GetVertex(o),_e=r0.MultiplyVec2(l,i_,aP);return m_.Dot(m_.Subtract(_e,o_,m_.s_t0),e_)}case 2:{let e_=ha.MultiplyVec2(l.q,this.m_axis,D4),o_=r0.MultiplyVec2(l,this.m_localPoint,aP),i_=this.m_proxyA.GetVertex(V),_e=r0.MultiplyVec2(_r,i_,_P);return m_.Dot(m_.Subtract(_e,o_,m_.s_t0),e_)}default:return O1(!1),0}}},fmt=new TB,gmt=new S4,vmt=new C4,Amt=new B4,Smt=new Z3,Cmt=[0],Bmt=[0],Pmt=new mC,wmt=new mC;function w9(x,V){let o=fmt.Reset();++RB.calls,x.state=0,x.t=V.tMax;let{proxyA:_o,proxyB:_r,tMax:l}=V,e_=Math.max(GC,_o.m_count,_r.m_count),o_=Pmt.Copy(V.sweepA),i_=wmt.Copy(V.sweepB);o_.Normalize(),i_.Normalize();let _e=_o.m_radius+_r.m_radius,c_=Math.max($0,_e-3*$0),ws=.25*$0,h_=0,s_=20,w_=0,L_=gmt;L_.count=0;let y_=vmt;for(y_.proxyA.Copy(V.proxyA),y_.proxyB.Copy(V.proxyB),y_.useRadii=!1;;){let k_=o_.GetTransform(UG,h_),j_=i_.GetTransform(XG,h_);y_.transformA.Copy(k_),y_.transformB.Copy(j_);let n2=Amt;if(LG(n2,L_,y_),n2.distance<=0){x.state=2,x.t=0;break}if(n2.distance<c_+ws){x.state=3,x.t=h_;break}let p2=Smt;p2.Initialize(L_,_o,o_,_r,i_,h_);let u2=!1,T2=l,I2=0;for(;;){let q2=Cmt,O2=Bmt,X2=p2.FindMinSeparation(q2,O2,T2);if(X2>c_+ws){x.state=4,x.t=l,u2=!0;break}if(X2>c_-ws){h_=T2;break}let S_=p2.Evaluate(q2[0],O2[0],h_);if(S_<c_-ws){x.state=1,x.t=h_,u2=!0;break}if(S_<=c_+ws){x.state=3,x.t=h_,u2=!0;break}let q_=0,N_=h_,W_=T2;for(;;){let o2;q_&1?o2=N_+(c_-S_)*(W_-N_)/(X2-S_):o2=.5*(N_+W_),++q_,++RB.rootIters;let m2=p2.Evaluate(q2[0],O2[0],o2);if(Math.abs(m2-c_)<ws){T2=o2;break}if(m2>c_?(N_=o2,S_=m2):(W_=o2,X2=m2),q_===50)break}if(RB.maxRootIters=Math.max(RB.maxRootIters,q_),++I2,I2===e_)break}if(++w_,++RB.iters,u2)break;if(w_===s_){x.state=1,x.t=h_;break}}RB.maxIters=Math.max(RB.maxIters,w_);let I_=o.GetMilliseconds();RB.maxTime=Math.max(RB.maxTime,I_),RB.time+=I_}var Vmt=new m_,Dmt=new m_;function V9(x,V,o,_o,_r){x.pointCount=0;let l=r0.MultiplyVec2(o,V.m_p,Vmt),e_=r0.MultiplyVec2(_r,_o.m_p,Dmt),o_=m_.DistanceSquared(l,e_),i_=V.m_radius+_o.m_radius;o_>i_*i_||(x.type=0,x.localPoint.Copy(V.m_p),x.localNormal.SetZero(),x.pointCount=1,x.points[0].localPoint.Copy(_o.m_p),x.points[0].id.key=0)}var Mmt=new m_,Gmt=new m_,Jmt=new m_;function D9(x,V,o,_o,_r){x.pointCount=0;let l=r0.MultiplyVec2(_r,_o.m_p,Mmt),e_=r0.TransposeMultiplyVec2(o,l,Gmt),o_=0,i_=-FA,_e=V.m_radius+_o.m_radius,c_=V.m_count,ws=V.m_vertices,h_=V.m_normals;for(let j_=0;j_<c_;++j_){let n2=m_.Dot(h_[j_],m_.Subtract(e_,ws[j_],m_.s_t0));if(n2>_e)return;n2>i_&&(i_=n2,o_=j_)}let s_=o_,w_=s_+1<c_?s_+1:0,L_=ws[s_],y_=ws[w_];if(i_<bS){x.pointCount=1,x.type=1,x.localNormal.Copy(h_[o_]),m_.Mid(L_,y_,x.localPoint),x.points[0].localPoint.Copy(_o.m_p),x.points[0].id.key=0;return}let I_=m_.Dot(m_.Subtract(e_,L_,m_.s_t0),m_.Subtract(y_,L_,m_.s_t1)),k_=m_.Dot(m_.Subtract(e_,y_,m_.s_t0),m_.Subtract(L_,y_,m_.s_t1));if(I_<=0){if(m_.DistanceSquared(e_,L_)>_e*_e)return;x.pointCount=1,x.type=1,m_.Subtract(e_,L_,x.localNormal).Normalize(),x.localPoint.Copy(L_),x.points[0].localPoint.Copy(_o.m_p),x.points[0].id.key=0}else if(k_<=0){if(m_.DistanceSquared(e_,y_)>_e*_e)return;x.pointCount=1,x.type=1,m_.Subtract(e_,y_,x.localNormal).Normalize(),x.localPoint.Copy(y_),x.points[0].localPoint.Copy(_o.m_p),x.points[0].id.key=0}else{let j_=m_.Mid(L_,y_,Jmt);if(m_.Dot(m_.Subtract(e_,j_,m_.s_t1),h_[s_])>_e)return;x.pointCount=1,x.type=1,x.localNormal.Copy(h_[s_]),x.localPoint.Copy(j_),x.points[0].localPoint.Copy(_o.m_p),x.points[0].id.key=0}}var Tmt=new r0,Rmt=new m_,Fmt=new m_;function M9(x,V,o,_o,_r){let l=V.m_count,e_=_o.m_count,o_=V.m_normals,i_=V.m_vertices,_e=_o.m_vertices,c_=r0.TransposeMultiply(_r,o,Tmt),ws=0,h_=-FA;for(let s_=0;s_<l;++s_){let w_=ha.MultiplyVec2(c_.q,o_[s_],Rmt),L_=r0.MultiplyVec2(c_,i_[s_],Fmt),y_=FA;for(let I_=0;I_<e_;++I_){let k_=m_.Dot(w_,m_.Subtract(_e[I_],L_,m_.s_t0));k_<y_&&(y_=k_)}y_>h_&&(h_=y_,ws=s_)}return x[0]=ws,h_}var Lmt=new m_;function qmt(x,V,o,_o,_r,l){let e_=V.m_normals,o_=_r.m_count,i_=_r.m_vertices,_e=_r.m_normals,c_=ha.TransposeMultiplyVec2(l.q,ha.MultiplyVec2(o.q,e_[_o],m_.s_t0),Lmt),ws=0,h_=FA;for(let j_=0;j_<o_;++j_){let n2=m_.Dot(c_,_e[j_]);n2<h_&&(h_=n2,ws=j_)}let s_=ws,w_=s_+1<o_?s_+1:0,L_=x[0];r0.MultiplyVec2(l,i_[s_],L_.v);let y_=L_.id.cf;y_.indexA=_o,y_.indexB=s_,y_.typeA=1,y_.typeB=0;let I_=x[1];r0.MultiplyVec2(l,i_[w_],I_.v);let k_=I_.id.cf;k_.indexA=_o,k_.indexB=w_,k_.typeA=1,k_.typeB=0}var Emt=[new US,new US],kmt=[new US,new US],jmt=[new US,new US],zmt=[0],Wmt=[0],Nmt=new m_,Omt=new m_,Umt=new m_,Xmt=new m_,Ymt=new m_,Hmt=new m_,Zmt=new m_,Kmt=new m_;function G9(x,V,o,_o,_r){x.pointCount=0;let l=V.m_radius+_o.m_radius,e_=zmt,o_=M9(e_,V,o,_o,_r);if(o_>l)return;let i_=Wmt,_e=M9(i_,_o,_r,V,o);if(_e>l)return;let c_,ws,h_,s_,w_,L_,y_=.1*$0;_e>o_+y_?(c_=_o,ws=V,h_=_r,s_=o,w_=i_[0],x.type=2,L_=1):(c_=V,ws=_o,h_=o,s_=_r,w_=e_[0],x.type=1,L_=0);let I_=Emt;qmt(I_,c_,h_,w_,ws,s_);let k_=c_.m_count,j_=c_.m_vertices,n2=w_,p2=w_+1<k_?w_+1:0,u2=j_[n2],T2=j_[p2],I2=m_.Subtract(T2,u2,Nmt);I2.Normalize();let q2=m_.CrossVec2One(I2,Omt),O2=m_.Mid(u2,T2,Umt),X2=ha.MultiplyVec2(h_.q,I2,Ymt),S_=m_.CrossVec2One(X2,Xmt);u2=r0.MultiplyVec2(h_,u2,Zmt),T2=r0.MultiplyVec2(h_,T2,Kmt);let q_=m_.Dot(S_,u2),N_=-m_.Dot(X2,u2)+l,W_=m_.Dot(X2,T2)+l,o2=kmt,m2=jmt,_2=m_.Negate(X2,Hmt),v_=V4(o2,I_,_2,N_,n2);if(v_<2||(v_=V4(m2,o2,X2,W_,p2),v_<2))return;x.localNormal.Copy(q2),x.localPoint.Copy(O2);let G_=0;for(let K_=0;K_<gS;++K_){let C_=m2[K_];if(m_.Dot(S_,C_.v)-q_<=l){let X_=x.points[G_];if(r0.TransposeMultiplyVec2(s_,C_.v,X_.localPoint),X_.id.Copy(C_.id),L_){let{cf:l2}=X_.id;l2.indexA=l2.indexB,l2.indexB=l2.indexA,l2.typeA=l2.typeB,l2.typeB=l2.typeA}++G_}}x.pointCount=G_}var Qmt=new m_,$mt=new m_,Q3=new m_,t0t=new m_,e0t=new m_,o0t=new m_,i0t=new m_,r0t=new P4;function KG(x,V,o,_o,_r){x.pointCount=0;let l=r0.TransposeMultiplyVec2(o,r0.MultiplyVec2(_r,_o.m_p,m_.s_t0),Qmt),e_=V.m_vertex1,o_=V.m_vertex2,i_=m_.Subtract(o_,e_,$mt),_e=i0t.Set(i_.y,-i_.x),c_=m_.Dot(_e,m_.Subtract(l,e_,m_.s_t0));if(V.m_oneSided&&c_<0)return;let h_=m_.Dot(i_,m_.Subtract(o_,l,m_.s_t0)),s_=m_.Dot(i_,m_.Subtract(l,e_,m_.s_t0)),w_=V.m_radius+_o.m_radius,L_=r0t;if(L_.cf.indexB=0,L_.cf.typeB=0,s_<=0){let n2=e_,p2=m_.Subtract(l,n2,Q3);if(m_.Dot(p2,p2)>w_*w_)return;if(V.m_oneSided){let T2=V.m_vertex0,I2=e_,q2=m_.Subtract(I2,T2,t0t);if(m_.Dot(q2,m_.Subtract(I2,l,m_.s_t0))>0)return}L_.cf.indexA=0,L_.cf.typeA=0,x.pointCount=1,x.type=0,x.localNormal.SetZero(),x.localPoint.Copy(n2),x.points[0].id.Copy(L_),x.points[0].localPoint.Copy(_o.m_p);return}if(h_<=0){let n2=o_,p2=m_.Subtract(l,n2,Q3);if(m_.Dot(p2,p2)>w_*w_)return;if(V.m_oneSided){let T2=V.m_vertex3,I2=o_,q2=m_.Subtract(T2,I2,e0t);if(m_.Dot(q2,m_.Subtract(l,I2,m_.s_t0))>0)return}L_.cf.indexA=1,L_.cf.typeA=0,x.pointCount=1,x.type=0,x.localNormal.SetZero(),x.localPoint.Copy(n2),x.points[0].id.Copy(L_),x.points[0].localPoint.Copy(_o.m_p);return}let y_=m_.Dot(i_,i_),I_=o0t;I_.x=1/y_*(h_*e_.x+s_*o_.x),I_.y=1/y_*(h_*e_.y+s_*o_.y);let k_=m_.Subtract(l,I_,Q3);m_.Dot(k_,k_)>w_*w_||(c_<0&&_e.Set(-_e.x,-_e.y),_e.Normalize(),L_.cf.indexA=0,L_.cf.typeA=1,x.pointCount=1,x.type=1,x.localNormal.Copy(_e),x.localPoint.Copy(e_),x.points[0].id.Copy(L_),x.points[0].localPoint.Copy(_o.m_p))}var ZG=class{constructor(){this.normal=new m_;this.type=0;this.index=0;this.separation=0}},$3=class{constructor(){this.vertices=U1(GC,m_);this.normals=U1(GC,m_);this.count=0}},tI=class{constructor(){this.i1=0;this.i2=0;this.v1=new m_;this.v2=new m_;this.normal=new m_;this.sideNormal1=new m_;this.sideOffset1=0;this.sideNormal2=new m_;this.sideOffset2=0}},n0t=new ZG,s0t=[new m_,new m_];function _0t(x,V,o){let _o=n0t;_o.type=1,_o.index=-1,_o.separation=-FA,_o.normal.SetZero();let _r=s0t;_r[0].Copy(o),m_.Negate(o,_r[1]);for(let l=0;l<2;++l){let e_=FA;for(let o_=0;o_<x.count;++o_){let i_=m_.Dot(_r[l],m_.Subtract(x.vertices[o_],V,m_.s_t0));i_<e_&&(e_=i_)}e_>_o.separation&&(_o.index=l,_o.separation=e_,_o.normal.Copy(_r[l]))}return _o}var a0t=new ZG,p0t=new m_;function l0t(x,V,o){let _o=a0t;_o.type=0,_o.index=-1,_o.separation=-FA,_o.normal.SetZero();for(let _r=0;_r<x.count;++_r){let l=m_.Negate(x.normals[_r],p0t),e_=m_.Dot(l,m_.Subtract(x.vertices[_r],V,m_.s_t0)),o_=m_.Dot(l,m_.Subtract(x.vertices[_r],o,m_.s_t0)),i_=Math.min(e_,o_);i_>_o.separation&&(_o.type=2,_o.index=_r,_o.separation=i_,_o.normal.Copy(l))}return _o}var c0t=new r0,m0t=new m_,b0t=new m_,u0t=new m_,h0t=new m_,d0t=new m_,y0t=new m_,x0t=new m_,f0t=new $3,g0t=new tI,v0t=[new US,new US],A0t=[new US,new US],S0t=[new US,new US];function QG(x,V,o,_o,_r){x.pointCount=0;let l=r0.TransposeMultiply(o,_r,c0t),e_=r0.MultiplyVec2(l,_o.m_centroid,m0t),o_=V.m_vertex1,i_=V.m_vertex2,_e=m_.Subtract(i_,o_,b0t);_e.Normalize();let c_=u0t.Set(_e.y,-_e.x),ws=m_.Dot(c_,m_.Subtract(e_,o_,m_.s_t0)),h_=V.m_oneSided;if(h_&&ws<0)return;let s_=f0t;s_.count=_o.m_count;for(let O2=0;O2<_o.m_count;++O2)r0.MultiplyVec2(l,_o.m_vertices[O2],s_.vertices[O2]),ha.MultiplyVec2(l.q,_o.m_normals[O2],s_.normals[O2]);let w_=_o.m_radius+V.m_radius,L_=_0t(s_,o_,c_);if(L_.separation>w_)return;let y_=l0t(s_,o_,i_);if(y_.separation>w_)return;let I_=.98,k_=.001,j_;if(y_.separation-w_>I_*(L_.separation-w_)+k_?j_=y_:j_=L_,h_){let O2=m_.Subtract(o_,V.m_vertex0,h0t);O2.Normalize();let X2=d0t.Set(O2.y,-O2.x),S_=m_.Cross(O2,_e)>=0,q_=m_.Subtract(V.m_vertex3,i_,y0t);q_.Normalize();let N_=x0t.Set(q_.y,-q_.x),W_=m_.Cross(_e,q_)>=0,o2=.1;if(m_.Dot(j_.normal,_e)<=0)if(S_){if(m_.Cross(j_.normal,X2)>o2)return}else j_=L_;else if(W_){if(m_.Cross(N_,j_.normal)>o2)return}else j_=L_}let n2=v0t,p2=g0t;if(j_.type===1){x.type=1;let O2=0,X2=m_.Dot(j_.normal,s_.normals[0]);for(let N_=1;N_<s_.count;++N_){let W_=m_.Dot(j_.normal,s_.normals[N_]);W_<X2&&(X2=W_,O2=N_)}let S_=O2,q_=S_+1<s_.count?S_+1:0;n2[0].v.Copy(s_.vertices[S_]),n2[0].id.cf.indexA=0,n2[0].id.cf.indexB=S_,n2[0].id.cf.typeA=1,n2[0].id.cf.typeB=0,n2[1].v.Copy(s_.vertices[q_]),n2[1].id.cf.indexA=0,n2[1].id.cf.indexB=q_,n2[1].id.cf.typeA=1,n2[1].id.cf.typeB=0,p2.i1=0,p2.i2=1,p2.v1.Copy(o_),p2.v2.Copy(i_),p2.normal.Copy(j_.normal),m_.Negate(_e,p2.sideNormal1),p2.sideNormal2.Copy(_e)}else x.type=2,n2[0].v.Copy(i_),n2[0].id.cf.indexA=1,n2[0].id.cf.indexB=j_.index,n2[0].id.cf.typeA=0,n2[0].id.cf.typeB=1,n2[1].v.Copy(o_),n2[1].id.cf.indexA=0,n2[1].id.cf.indexB=j_.index,n2[1].id.cf.typeA=0,n2[1].id.cf.typeB=1,p2.i1=j_.index,p2.i2=p2.i1+1<s_.count?p2.i1+1:0,p2.v1.Copy(s_.vertices[p2.i1]),p2.v2.Copy(s_.vertices[p2.i2]),p2.normal.Copy(s_.normals[p2.i1]),p2.sideNormal1.Set(p2.normal.y,-p2.normal.x),m_.Negate(p2.sideNormal1,p2.sideNormal2);p2.sideOffset1=m_.Dot(p2.sideNormal1,p2.v1),p2.sideOffset2=m_.Dot(p2.sideNormal2,p2.v2);let u2=A0t,T2=S0t,I2;if(I2=V4(u2,n2,p2.sideNormal1,p2.sideOffset1,p2.i1),I2<gS||(I2=V4(T2,u2,p2.sideNormal2,p2.sideOffset2,p2.i2),I2<gS))return;j_.type===1?(x.localNormal.Copy(p2.normal),x.localPoint.Copy(p2.v1)):(x.localNormal.Copy(_o.m_normals[p2.i1]),x.localPoint.Copy(_o.m_vertices[p2.i1]));let q2=0;for(let O2=0;O2<gS;++O2)if(m_.Dot(p2.normal,m_.Subtract(T2[O2].v,p2.v1,m_.s_t0))<=w_){let S_=x.points[q2];j_.type===1?(r0.TransposeMultiplyVec2(l,T2[O2].v,S_.localPoint),S_.id.Copy(T2[O2].id)):(S_.localPoint.Copy(T2[O2].v),S_.id.cf.typeA=T2[O2].id.cf.typeB,S_.id.cf.typeB=T2[O2].id.cf.typeA,S_.id.cf.indexA=T2[O2].id.cf.indexB,S_.id.cf.indexB=T2[O2].id.cf.indexA),++q2}x.pointCount=q2}var J9=class x extends IB{constructor(o=0){super(0,o);this.m_p=new m_}Set(o,_o=this.m_radius){return this.m_p.Copy(o),this.m_radius=_o,this}Clone(){return new x().Copy(this)}Copy(o){return super.Copy(o),this.m_p.Copy(o.m_p),this}GetChildCount(){return 1}static{this.TestPoint_s_center=new m_}static{this.TestPoint_s_d=new m_}TestPoint(o,_o){let _r=r0.MultiplyVec2(o,this.m_p,x.TestPoint_s_center),l=m_.Subtract(_o,_r,x.TestPoint_s_d);return m_.Dot(l,l)<=this.m_radius**2}static{this.RayCast_s_position=new m_}static{this.RayCast_s_s=new m_}static{this.RayCast_s_r=new m_}RayCast(o,_o,_r,l){let e_=r0.MultiplyVec2(_r,this.m_p,x.RayCast_s_position),o_=m_.Subtract(_o.p1,e_,x.RayCast_s_s),i_=m_.Dot(o_,o_)-this.m_radius**2,_e=m_.Subtract(_o.p2,_o.p1,x.RayCast_s_r),c_=m_.Dot(o_,_e),ws=m_.Dot(_e,_e),h_=c_*c_-ws*i_;if(h_<0||ws<bS)return!1;let s_=-(c_+Math.sqrt(h_));return s_>=0&&s_<=_o.maxFraction*ws?(s_/=ws,o.fraction=s_,m_.AddScaled(o_,s_,_e,o.normal).Normalize(),!0):!1}static{this.ComputeAABB_s_p=new m_}ComputeAABB(o,_o,_r){let l=r0.MultiplyVec2(_o,this.m_p,x.ComputeAABB_s_p);o.lowerBound.Set(l.x-this.m_radius,l.y-this.m_radius),o.upperBound.Set(l.x+this.m_radius,l.y+this.m_radius)}ComputeMass(o,_o){let _r=this.m_radius**2;o.mass=_o*Math.PI*_r,o.center.Copy(this.m_p),o.I=o.mass*(.5*_r+m_.Dot(this.m_p,this.m_p))}SetupDistanceProxy(o,_o){o.m_vertices=o.m_buffer,o.m_vertices[0]=this.m_p,o.m_count=1,o.m_radius=this.m_radius}Draw(o,_o){let _r=this.m_p,l=this.m_radius,e_=m_.UNITX;o.DrawSolidCircle(_r,l,e_,_o)}};var yB={ComputeCentroid:{s:new m_,p1:new m_,p2:new m_,p3:new m_,e1:new m_,e2:new m_},TestPoint:{pLocal:new m_},ComputeAABB:{v:new m_},ComputeMass:{center:new m_,s:new m_,e1:new m_,e2:new m_},Validate:{e:new m_,v:new m_},Set:{r:new m_,v:new m_},RayCast:{p1:new m_,p2:new m_,d:new m_},SetAsBox:{xf:new r0}};function C0t(x,V,o){let _o=o;_o.SetZero();let _r=0,{s:l,p1:e_,p2:o_,p3:i_,e1:_e,e2:c_}=yB.ComputeCentroid;l.Copy(x[0]);let ws=1/3;for(let s_=0;s_<V;++s_){m_.Subtract(x[0],l,e_),m_.Subtract(x[s_],l,o_),m_.Subtract(x[s_+1<V?s_+1:0],l,i_),m_.Subtract(o_,e_,_e),m_.Subtract(i_,e_,c_);let L_=.5*m_.Cross(_e,c_);_r+=L_,_o.x+=L_*ws*(e_.x+o_.x+i_.x),_o.y+=L_*ws*(e_.y+o_.y+i_.y)}let h_=1/_r;return _o.x=h_*_o.x+l.x,_o.y=h_*_o.y+l.y,_o}var B0t=new m_,t6=class x extends IB{constructor(){super(2,CV);this.m_centroid=new m_;this.m_vertices=[];this.m_normals=[];this.m_count=0}Clone(){return new x().Copy(this)}Copy(o){super.Copy(o),this.m_centroid.Copy(o.m_centroid),this.m_count=o.m_count,this.m_vertices=U1(this.m_count,m_),this.m_normals=U1(this.m_count,m_);for(let _o=0;_o<this.m_count;++_o)this.m_vertices[_o].Copy(o.m_vertices[_o]),this.m_normals[_o].Copy(o.m_normals[_o]);return this}GetChildCount(){return 1}Set(o,_o=o.length){let _r=S9(o,_o);return _r.length<3?!1:(this.SetHull(_r,_r.length),!0)}SetHull(o,_o){O1(_o>=3),this.m_count=_o,this.m_vertices=U1(_o,m_);for(let _r=0;_r<_o;++_r)this.m_vertices[_r].Copy(o[_r]);this.m_normals=U1(_o,m_);for(let _r=0;_r<this.m_count;++_r){let l=_r,e_=_r+1<this.m_count?_r+1:0,o_=m_.Subtract(this.m_vertices[e_],this.m_vertices[l],B0t);m_.CrossVec2Scalar(o_,1,this.m_normals[_r]),this.m_normals[_r].Normalize()}return C0t(this.m_vertices,this.m_count,this.m_centroid),this}SetAsBox(o,_o,_r,l=0){if(this.m_count=4,this.m_vertices=U1(this.m_count,m_),this.m_normals=U1(this.m_count,m_),this.m_vertices[0].Set(-o,-_o),this.m_vertices[1].Set(o,-_o),this.m_vertices[2].Set(o,_o),this.m_vertices[3].Set(-o,_o),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),_r){this.m_centroid.Copy(_r);let{xf:e_}=yB.SetAsBox;e_.SetPosition(_r),e_.SetRotationAngle(l);for(let o_=0;o_<this.m_count;++o_)r0.MultiplyVec2(e_,this.m_vertices[o_],this.m_vertices[o_]),ha.MultiplyVec2(e_.q,this.m_normals[o_],this.m_normals[o_])}else this.m_centroid.SetZero();return this}TestPoint(o,_o){let _r=r0.TransposeMultiplyVec2(o,_o,yB.TestPoint.pLocal);for(let l=0;l<this.m_count;++l)if(m_.Dot(this.m_normals[l],m_.Subtract(_r,this.m_vertices[l],m_.s_t0))>0)return!1;return!0}RayCast(o,_o,_r,l){let e_=r0.TransposeMultiplyVec2(_r,_o.p1,yB.RayCast.p1),o_=r0.TransposeMultiplyVec2(_r,_o.p2,yB.RayCast.p2),i_=m_.Subtract(o_,e_,yB.RayCast.d),_e=0,c_=_o.maxFraction,ws=-1;for(let h_=0;h_<this.m_count;++h_){let s_=m_.Dot(this.m_normals[h_],m_.Subtract(this.m_vertices[h_],e_,m_.s_t0)),w_=m_.Dot(this.m_normals[h_],i_);if(w_===0){if(s_<0)return!1}else w_<0&&s_<_e*w_?(_e=s_/w_,ws=h_):w_>0&&s_<c_*w_&&(c_=s_/w_);if(c_<_e)return!1}return ws>=0?(o.fraction=_e,ha.MultiplyVec2(_r.q,this.m_normals[ws],o.normal),!0):!1}ComputeAABB(o,_o,_r){let l=r0.MultiplyVec2(_o,this.m_vertices[0],o.lowerBound),e_=o.upperBound.Copy(l);for(let i_=1;i_<this.m_count;++i_){let _e=r0.MultiplyVec2(_o,this.m_vertices[i_],yB.ComputeAABB.v);m_.Min(l,_e,l),m_.Max(e_,_e,e_)}let o_=this.m_radius;l.SubtractXY(o_,o_),e_.AddXY(o_,o_)}ComputeMass(o,_o){let _r=yB.ComputeMass.center.SetZero(),l=0,e_=0,o_=yB.ComputeMass.s.Copy(this.m_vertices[0]),i_=1/3;for(let _e=0;_e<this.m_count;++_e){let c_=m_.Subtract(this.m_vertices[_e],o_,yB.ComputeMass.e1),ws=m_.Subtract(this.m_vertices[_e+1<this.m_count?_e+1:0],o_,yB.ComputeMass.e2),h_=m_.Cross(c_,ws),s_=.5*h_;l+=s_,_r.AddScaled(s_*i_,m_.Add(c_,ws,m_.s_t0));let w_=c_.x,L_=c_.y,y_=ws.x,I_=ws.y,k_=w_*w_+y_*w_+y_*y_,j_=L_*L_+I_*L_+I_*I_;e_+=.25*i_*h_*(k_+j_)}o.mass=_o*l,_r.Scale(1/l),m_.Add(_r,o_,o.center),o.I=_o*e_,o.I+=o.mass*(m_.Dot(o.center,o.center)-m_.Dot(_r,_r))}Validate(){return this.m_count<3||GC<this.m_count?!1:C9(this.m_vertices,this.m_count)}SetupDistanceProxy(o,_o){o.m_vertices=this.m_vertices,o.m_count=this.m_count,o.m_radius=this.m_radius}Draw(o,_o){let _r=this.m_count,l=this.m_vertices;o.DrawSolidPolygon(l,_r,_o)}};var FB=class x extends IB{constructor(){super(1,CV);this.m_vertex1=new m_;this.m_vertex2=new m_;this.m_vertex0=new m_;this.m_vertex3=new m_;this.m_oneSided=!1}SetOneSided(o,_o,_r,l){return this.m_vertex0.Copy(o),this.m_vertex1.Copy(_o),this.m_vertex2.Copy(_r),this.m_vertex3.Copy(l),this.m_oneSided=!0,this}SetTwoSided(o,_o){return this.m_vertex1.Copy(o),this.m_vertex2.Copy(_o),this.m_oneSided=!1,this}Clone(){return new x().Copy(this)}Copy(o){return super.Copy(o),this.m_vertex1.Copy(o.m_vertex1),this.m_vertex2.Copy(o.m_vertex2),this.m_vertex0.Copy(o.m_vertex0),this.m_vertex3.Copy(o.m_vertex3),this.m_oneSided=o.m_oneSided,this}GetChildCount(){return 1}TestPoint(o,_o){return!1}static{this.RayCast_s_p1=new m_}static{this.RayCast_s_p2=new m_}static{this.RayCast_s_d=new m_}static{this.RayCast_s_e=new m_}static{this.RayCast_s_q=new m_}static{this.RayCast_s_r=new m_}RayCast(o,_o,_r,l){let e_=r0.TransposeMultiplyVec2(_r,_o.p1,x.RayCast_s_p1),o_=r0.TransposeMultiplyVec2(_r,_o.p2,x.RayCast_s_p2),i_=m_.Subtract(o_,e_,x.RayCast_s_d),_e=this.m_vertex1,c_=this.m_vertex2,ws=m_.Subtract(c_,_e,x.RayCast_s_e),{normal:h_}=o;h_.Set(ws.y,-ws.x).Normalize();let s_=m_.Dot(h_,m_.Subtract(_e,e_,m_.s_t0));if(this.m_oneSided&&s_>0)return!1;let w_=m_.Dot(h_,i_);if(w_===0)return!1;let L_=s_/w_;if(L_<0||_o.maxFraction<L_)return!1;let y_=m_.AddScaled(e_,L_,i_,x.RayCast_s_q),I_=m_.Subtract(c_,_e,x.RayCast_s_r),k_=m_.Dot(I_,I_);if(k_===0)return!1;let j_=m_.Dot(m_.Subtract(y_,_e,m_.s_t0),I_)/k_;return j_<0||j_>1?!1:(o.fraction=L_,ha.MultiplyVec2(_r.q,o.normal,o.normal),s_>0&&o.normal.Negate(),!0)}static{this.ComputeAABB_s_v1=new m_}static{this.ComputeAABB_s_v2=new m_}ComputeAABB(o,_o,_r){let l=r0.MultiplyVec2(_o,this.m_vertex1,x.ComputeAABB_s_v1),e_=r0.MultiplyVec2(_o,this.m_vertex2,x.ComputeAABB_s_v2);m_.Min(l,e_,o.lowerBound),m_.Max(l,e_,o.upperBound);let o_=this.m_radius;o.lowerBound.SubtractXY(o_,o_),o.upperBound.AddXY(o_,o_)}ComputeMass(o,_o){o.mass=0,m_.Mid(this.m_vertex1,this.m_vertex2,o.center),o.I=0}SetupDistanceProxy(o,_o){o.m_vertices=o.m_buffer,o.m_vertices[0]=this.m_vertex1,o.m_vertices[1]=this.m_vertex2,o.m_count=2,o.m_radius=this.m_radius}Draw(o,_o){let _r=this.m_vertex1,l=this.m_vertex2;o.DrawSegment(_r,l,_o),this.m_oneSided===!1&&(o.DrawPoint(_r,4,_o),o.DrawPoint(l,4,_o))}};var I9=class x extends IB{constructor(){super(3,CV);this.m_vertices=[];this.m_prevVertex=new m_;this.m_nextVertex=new m_}CreateLoop(o,_o=o.length){if(_o<3)return this;this.m_vertices.length=_o+1;for(let _r=0;_r<_o;++_r){let{x:l,y:e_}=o[_r];this.m_vertices[_r]=new m_(l,e_)}return this.m_vertices[_o]=this.m_vertices[0].Clone(),this.m_prevVertex.Copy(this.m_vertices[this.m_vertices.length-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this}CreateChain(o,_o,_r,l){this.m_vertices.length=_o;for(let e_=0;e_<_o;++e_){let{x:o_,y:i_}=o[e_];this.m_vertices[e_]=new m_(o_,i_)}return this.m_prevVertex.Copy(_r),this.m_nextVertex.Copy(l),this}Clone(){return new x().Copy(this)}Copy(o){return super.Copy(o),this.CreateChain(o.m_vertices,o.m_vertices.length,o.m_prevVertex,o.m_nextVertex)}GetChildCount(){return this.m_vertices.length-1}GetChildEdge(o,_o){o.m_radius=this.m_radius,o.m_vertex1.Copy(this.m_vertices[_o]),o.m_vertex2.Copy(this.m_vertices[_o+1]),o.m_oneSided=!0,_o>0?o.m_vertex0.Copy(this.m_vertices[_o-1]):o.m_vertex0.Copy(this.m_prevVertex),_o<this.m_vertices.length-2?o.m_vertex3.Copy(this.m_vertices[_o+2]):o.m_vertex3.Copy(this.m_nextVertex)}TestPoint(o,_o){return!1}static{this.RayCast_s_edgeShape=new FB}RayCast(o,_o,_r,l){let e_=x.RayCast_s_edgeShape,o_=l,i_=l+1;return i_===this.m_vertices.length&&(i_=0),e_.m_vertex1.Copy(this.m_vertices[o_]),e_.m_vertex2.Copy(this.m_vertices[i_]),e_.RayCast(o,_o,_r,0)}static{this.ComputeAABB_s_v1=new m_}static{this.ComputeAABB_s_v2=new m_}static{this.ComputeAABB_s_lower=new m_}static{this.ComputeAABB_s_upper=new m_}ComputeAABB(o,_o,_r){let l=_r,e_=_r+1;e_===this.m_vertices.length&&(e_=0);let o_=r0.MultiplyVec2(_o,this.m_vertices[l],x.ComputeAABB_s_v1),i_=r0.MultiplyVec2(_o,this.m_vertices[e_],x.ComputeAABB_s_v2),_e=m_.Min(o_,i_,x.ComputeAABB_s_lower),c_=m_.Max(o_,i_,x.ComputeAABB_s_upper);o.lowerBound.x=_e.x-this.m_radius,o.lowerBound.y=_e.y-this.m_radius,o.upperBound.x=c_.x+this.m_radius,o.upperBound.y=c_.y+this.m_radius}ComputeMass(o,_o){o.mass=0,o.center.SetZero(),o.I=0}SetupDistanceProxy(o,_o){o.m_vertices=o.m_buffer,o.m_vertices[0]=this.m_vertices[_o];let _r=_o+1<this.m_vertices.length?_o+1:0;o.m_vertices[1]=this.m_vertices[_r],o.m_count=2,o.m_radius=this.m_radius}Draw(o,_o){let _r=this.m_vertices,l=_r[0];for(let e_=1;e_<_r.length;++e_){let o_=_r[e_];o.DrawSegment(l,o_,_o),l=o_}}};var T9={pA:new m_,pB:new m_};var e6=class{constructor(V,o){this.prev=null;this.next=null;this.joint=V,this.other=o}},vC=class{constructor(V){this.userData={};this.collideConnected=!1;this.type=V}};var SA=class{constructor(V){this.m_type=0;this.m_prev=null;this.m_next=null;this.m_islandFlag=!1;this.m_collideConnected=!1;this.m_userData={};this.m_type=V.type,this.m_edgeA=new e6(this,V.bodyB),this.m_edgeB=new e6(this,V.bodyA),this.m_bodyA=V.bodyA,this.m_bodyB=V.bodyB,this.m_collideConnected=V.collideConnected??!1,this.SetUserData(V.userData)}GetType(){return this.m_type}GetBodyA(){return this.m_bodyA}GetBodyB(){return this.m_bodyB}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(V){Object.assign(this.m_userData,V)}IsEnabled(){return this.m_bodyA.IsEnabled()&&this.m_bodyB.IsEnabled()}GetCollideConnected(){return this.m_collideConnected}ShiftOrigin(V){}Draw(V){let o=this.m_bodyA.GetTransform().p,_o=this.m_bodyB.GetTransform().p,_r=this.GetAnchorA(T9.pA),l=this.GetAnchorB(T9.pB);V.DrawSegment(o,_r,ly.joint6),V.DrawSegment(_r,l,ly.joint6),V.DrawSegment(_o,l,ly.joint6)}};var CA={worldPointA:new m_,worldPointB:new m_,vpA:new m_,vpB:new m_,vpBA:new m_,P:new m_,qA:new ha,qB:new ha,lalcA:new m_,lalcB:new m_,Draw:{pA:new m_,pB:new m_,axis:new m_,pRest:new m_,p1:new m_,p2:new m_}},o6=class extends vC{constructor(){super(3);this.localAnchorA=new m_;this.localAnchorB=new m_;this.length=1;this.minLength=0;this.maxLength=FA;this.stiffness=0;this.damping=0}Initialize(o,_o,_r,l){this.bodyA=o,this.bodyB=_o,this.bodyA.GetLocalPoint(_r,this.localAnchorA),this.bodyB.GetLocalPoint(l,this.localAnchorB),this.length=Math.max(m_.Distance(_r,l),$0),this.minLength=this.length,this.maxLength=this.length}},i6=class extends SA{constructor(o){super(o);this.m_bias=0;this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_gamma=0;this.m_impulse=0;this.m_lowerImpulse=0;this.m_upperImpulse=0;this.m_indexA=0;this.m_indexB=0;this.m_u=new m_;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_currentLength=0;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_softMass=0;this.m_mass=0;this.m_localAnchorA.Copy(o.localAnchorA),this.m_localAnchorB.Copy(o.localAnchorB),this.m_length=Math.max(o.length,$0),this.m_minLength=Math.max(o.minLength,$0),this.m_maxLength=Math.max(o.maxLength,this.m_minLength),this.m_stiffness=o.stiffness??0,this.m_damping=o.damping??0}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){let _r=o*(this.m_impulse+this.m_lowerImpulse-this.m_upperImpulse);return _o.x=_r*this.m_u.x,_o.y=_r*this.m_u.y,_o}GetReactionTorque(o){return 0}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetLength(o){return this.m_impulse=0,this.m_length=Math.max($0,o),this.m_length}GetLength(){return this.m_length}SetMinLength(o){return this.m_lowerImpulse=0,this.m_minLength=NA(o,$0,this.m_maxLength),this.m_minLength}GetMinLength(){return this.m_minLength}SetMaxLength(o){return this.m_upperImpulse=0,this.m_maxLength=Math.max(o,this.m_minLength),this.m_maxLength}GetMaxLength(){return this.m_maxLength}GetCurrentLength(){let o=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,CA.worldPointA),_o=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,CA.worldPointB);return m_.Distance(_o,o)}SetStiffness(o){this.m_stiffness=o}GetStiffness(){return this.m_stiffness}SetDamping(o){this.m_damping=o}GetDamping(){return this.m_damping}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.velocities[this.m_indexA].v,e_=o.velocities[this.m_indexA].w,o_=o.positions[this.m_indexB].c,i_=o.positions[this.m_indexB].a,_e=o.velocities[this.m_indexB].v,c_=o.velocities[this.m_indexB].w,{qA:ws,qB:h_,lalcA:s_,lalcB:w_}=CA;ws.Set(_r),h_.Set(i_),ha.MultiplyVec2(ws,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,s_),this.m_rA),ha.MultiplyVec2(h_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,w_),this.m_rB),this.m_u.x=o_.x+this.m_rB.x-_o.x-this.m_rA.x,this.m_u.y=o_.y+this.m_rB.y-_o.y-this.m_rA.y,this.m_currentLength=this.m_u.Length(),this.m_currentLength>$0?this.m_u.Scale(1/this.m_currentLength):(this.m_u.SetZero(),this.m_mass=0,this.m_impulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0);let L_=m_.Cross(this.m_rA,this.m_u),y_=m_.Cross(this.m_rB,this.m_u),I_=this.m_invMassA+this.m_invIA*L_*L_+this.m_invMassB+this.m_invIB*y_*y_;if(this.m_mass=I_!==0?1/I_:0,this.m_stiffness>0&&this.m_minLength<this.m_maxLength){let k_=this.m_currentLength-this.m_length,j_=this.m_damping,n2=this.m_stiffness,p2=o.step.dt;this.m_gamma=p2*(j_+p2*n2),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=k_*p2*n2*this.m_gamma,I_+=this.m_gamma,this.m_softMass=I_!==0?1/I_:0}else this.m_gamma=0,this.m_bias=0,this.m_softMass=this.m_mass;if(o.step.warmStarting){this.m_impulse*=o.step.dtRatio,this.m_lowerImpulse*=o.step.dtRatio,this.m_upperImpulse*=o.step.dtRatio;let{P:k_}=CA;m_.Scale(this.m_impulse+this.m_lowerImpulse-this.m_upperImpulse,this.m_u,k_),l.SubtractScaled(this.m_invMassA,k_),e_-=this.m_invIA*m_.Cross(this.m_rA,k_),_e.AddScaled(this.m_invMassB,k_),c_+=this.m_invIB*m_.Cross(this.m_rB,k_)}else this.m_impulse=0;o.velocities[this.m_indexA].w=e_,o.velocities[this.m_indexB].w=c_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_r=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,e_=o.velocities[this.m_indexB].w;if(this.m_minLength<this.m_maxLength){if(this.m_stiffness>0){let o_=m_.AddCrossScalarVec2(_o,_r,this.m_rA,CA.vpA),i_=m_.AddCrossScalarVec2(l,e_,this.m_rB,CA.vpB),_e=m_.Dot(this.m_u,m_.Subtract(i_,o_,CA.vpBA)),c_=-this.m_softMass*(_e+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=c_;let ws=m_.Scale(c_,this.m_u,CA.P);_o.SubtractScaled(this.m_invMassA,ws),_r-=this.m_invIA*m_.Cross(this.m_rA,ws),l.AddScaled(this.m_invMassB,ws),e_+=this.m_invIB*m_.Cross(this.m_rB,ws)}{let o_=this.m_currentLength-this.m_minLength,i_=Math.max(0,o_)*o.step.inv_dt,_e=m_.AddCrossScalarVec2(_o,_r,this.m_rA,CA.vpA),c_=m_.AddCrossScalarVec2(l,e_,this.m_rB,CA.vpB),ws=m_.Dot(this.m_u,m_.Subtract(c_,_e,CA.vpBA)),h_=-this.m_mass*(ws+i_),s_=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(0,this.m_lowerImpulse+h_),h_=this.m_lowerImpulse-s_;let w_=m_.Scale(h_,this.m_u,CA.P);_o.SubtractScaled(this.m_invMassA,w_),_r-=this.m_invIA*m_.Cross(this.m_rA,w_),l.AddScaled(this.m_invMassB,w_),e_+=this.m_invIB*m_.Cross(this.m_rB,w_)}{let o_=this.m_maxLength-this.m_currentLength,i_=Math.max(0,o_)*o.step.inv_dt,_e=m_.AddCrossScalarVec2(_o,_r,this.m_rA,CA.vpA),c_=m_.AddCrossScalarVec2(l,e_,this.m_rB,CA.vpB),ws=m_.Dot(this.m_u,m_.Subtract(_e,c_,CA.vpBA)),h_=-this.m_mass*(ws+i_),s_=this.m_upperImpulse;this.m_upperImpulse=Math.max(0,this.m_upperImpulse+h_),h_=this.m_upperImpulse-s_;let w_=m_.Scale(-h_,this.m_u,CA.P);_o.SubtractScaled(this.m_invMassA,w_),_r-=this.m_invIA*m_.Cross(this.m_rA,w_),l.AddScaled(this.m_invMassB,w_),e_+=this.m_invIB*m_.Cross(this.m_rB,w_)}}else{let o_=m_.AddCrossScalarVec2(_o,_r,this.m_rA,CA.vpA),i_=m_.AddCrossScalarVec2(l,e_,this.m_rB,CA.vpB),_e=m_.Dot(this.m_u,m_.Subtract(i_,o_,CA.vpBA)),c_=-this.m_mass*_e;this.m_impulse+=c_;let ws=m_.Scale(c_,this.m_u,CA.P);_o.SubtractScaled(this.m_invMassA,ws),_r-=this.m_invIA*m_.Cross(this.m_rA,ws),l.AddScaled(this.m_invMassB,ws),e_+=this.m_invIB*m_.Cross(this.m_rB,ws)}o.velocities[this.m_indexA].w=_r,o.velocities[this.m_indexB].w=e_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,e_=o.positions[this.m_indexB].a,{qA:o_,qB:i_,lalcA:_e,lalcB:c_,P:ws}=CA;o_.Set(_r),i_.Set(e_);let h_=ha.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,_e),this.m_rA),s_=ha.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,c_),this.m_rB);this.m_u.x=l.x+s_.x-_o.x-h_.x,this.m_u.y=l.y+s_.y-_o.y-h_.y;let w_=this.m_u.Normalize(),L_;if(this.m_minLength===this.m_maxLength)L_=w_-this.m_minLength;else if(w_<this.m_minLength)L_=w_-this.m_minLength;else if(this.m_maxLength<w_)L_=w_-this.m_maxLength;else return!0;let y_=-this.m_mass*L_;return m_.Scale(y_,this.m_u,ws),_o.SubtractScaled(this.m_invMassA,ws),_r-=this.m_invIA*m_.Cross(h_,ws),l.AddScaled(this.m_invMassB,ws),e_+=this.m_invIB*m_.Cross(s_,ws),o.positions[this.m_indexA].a=_r,o.positions[this.m_indexB].a=e_,Math.abs(L_)<$0}Draw(o){let{pA:_o,pB:_r,axis:l,pRest:e_}=CA.Draw,o_=this.m_bodyA.GetTransform(),i_=this.m_bodyB.GetTransform();if(r0.MultiplyVec2(o_,this.m_localAnchorA,_o),r0.MultiplyVec2(i_,this.m_localAnchorB,_r),m_.Subtract(_r,_o,l),l.Normalize(),o.DrawSegment(_o,_r,ly.joint5),m_.AddScaled(_o,this.m_length,l,e_),o.DrawPoint(e_,8,ly.joint1),this.m_minLength!==this.m_maxLength){if(this.m_minLength>$0){let _e=m_.AddScaled(_o,this.m_minLength,l,CA.Draw.p1);o.DrawPoint(_e,4,ly.joint2)}if(this.m_maxLength<FA){let _e=m_.AddScaled(_o,this.m_maxLength,l,CA.Draw.p1);o.DrawPoint(_e,4,ly.joint3)}}}};var r6=class extends SA{constructor(o){super(o);this.m_stiffness=0;this.m_damping=0;this.m_impulse=0;this.m_targetArea=0;this.m_joints=[];this.m_delta=new m_;this.m_bodies=o.bodies,this.m_stiffness=o.stiffness??0,this.m_damping=o.damping??0,this.m_targetLengths=kP(o.bodies.length),this.m_normals=U1(o.bodies.length,m_),this.m_deltas=U1(o.bodies.length,m_);let _o=new o6;_o.stiffness=this.m_stiffness,_o.damping=this.m_damping,this.m_targetArea=0;for(let _r=0;_r<this.m_bodies.length;++_r){let l=this.m_bodies[_r],e_=this.m_bodies[(_r+1)%this.m_bodies.length],o_=l.GetWorldCenter(),i_=e_.GetWorldCenter();this.m_targetLengths[_r]=m_.Distance(o_,i_),this.m_targetArea+=m_.Cross(o_,i_),_o.Initialize(l,e_,o_,i_),this.m_joints[_r]=l.GetWorld().CreateJoint(_o)}this.m_targetArea*=.5}GetAnchorA(o){return o}GetAnchorB(o){return o}GetReactionForce(o,_o){return _o}GetReactionTorque(o){return 0}SetStiffness(o){this.m_stiffness=o;for(let _o of this.m_joints)_o.SetStiffness(o)}GetStiffness(){return this.m_stiffness}SetDamping(o){this.m_damping=o;for(let _o of this.m_joints)_o.SetDamping(o)}GetDamping(){return this.m_damping}InitVelocityConstraints(o){for(let _o=0;_o<this.m_bodies.length;++_o){let _r=this.m_bodies[(_o+this.m_bodies.length-1)%this.m_bodies.length],l=this.m_bodies[(_o+1)%this.m_bodies.length],e_=o.positions[_r.m_islandIndex].c,o_=o.positions[l.m_islandIndex].c,i_=this.m_deltas[_o];m_.Subtract(o_,e_,i_)}if(o.step.warmStarting){this.m_impulse*=o.step.dtRatio;for(let _o=0;_o<this.m_bodies.length;++_o){let _r=this.m_bodies[_o],l=o.velocities[_r.m_islandIndex].v,e_=this.m_deltas[_o];l.x+=_r.m_invMass*e_.y*.5*this.m_impulse,l.y+=_r.m_invMass*-e_.x*.5*this.m_impulse}}else this.m_impulse=0}SolveVelocityConstraints(o){let _o=0,_r=0;for(let e_=0;e_<this.m_bodies.length;++e_){let o_=this.m_bodies[e_],i_=o.velocities[o_.m_islandIndex].v,_e=this.m_deltas[e_];_o+=_e.LengthSquared()/o_.GetMass(),_r+=m_.Cross(i_,_e)}let l=-2*_r/_o;this.m_impulse+=l;for(let e_=0;e_<this.m_bodies.length;++e_){let o_=this.m_bodies[e_],i_=o.velocities[o_.m_islandIndex].v,_e=this.m_deltas[e_];i_.x+=o_.m_invMass*_e.y*.5*l,i_.y+=o_.m_invMass*-_e.x*.5*l}}SolvePositionConstraints(o){let _o=0,_r=0;for(let i_=0;i_<this.m_bodies.length;++i_){let _e=this.m_bodies[i_],c_=this.m_bodies[(i_+1)%this.m_bodies.length],ws=o.positions[_e.m_islandIndex].c,h_=o.positions[c_.m_islandIndex].c,s_=m_.Subtract(h_,ws,this.m_delta),w_=s_.Length();w_<bS&&(w_=1),this.m_normals[i_].x=s_.y/w_,this.m_normals[i_].y=-s_.x/w_,_o+=w_,_r+=m_.Cross(ws,h_)}_r*=.5;let e_=.5*(this.m_targetArea-_r)/_o,o_=!0;for(let i_=0;i_<this.m_bodies.length;++i_){let _e=this.m_bodies[i_],c_=o.positions[_e.m_islandIndex].c,ws=(i_+1)%this.m_bodies.length,h_=m_.Add(this.m_normals[i_],this.m_normals[ws],this.m_delta);h_.Scale(e_);let s_=h_.LengthSquared();s_>v4**2&&h_.Scale(v4/Math.sqrt(s_)),s_>$0**2&&(o_=!1),c_.Add(h_)}return o_}};var R9={qA:new ha,qB:new ha,lalcA:new m_,lalcB:new m_,Cdot:new m_,impulse:new m_,oldImpulse:new m_};var n6=class extends SA{constructor(o){super(o);this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_linearImpulse=new m_;this.m_angularImpulse=0;this.m_maxForce=0;this.m_maxTorque=0;this.m_indexA=0;this.m_indexB=0;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_linearMass=new LA;this.m_angularMass=0;this.m_localAnchorA.Copy(o.localAnchorA),this.m_localAnchorB.Copy(o.localAnchorB),this.m_linearImpulse.SetZero(),this.m_maxForce=o.maxForce??0,this.m_maxTorque=o.maxTorque??0}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].a,_r=o.velocities[this.m_indexA].v,l=o.velocities[this.m_indexA].w,e_=o.positions[this.m_indexB].a,o_=o.velocities[this.m_indexB].v,i_=o.velocities[this.m_indexB].w,{qA:_e,qB:c_,lalcA:ws,lalcB:h_}=R9;_e.Set(_o),c_.Set(e_),ha.MultiplyVec2(_e,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,ws),this.m_rA),ha.MultiplyVec2(c_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,h_),this.m_rB);let s_=this.m_invMassA,w_=this.m_invMassB,L_=this.m_invIA,y_=this.m_invIB,I_=this.m_linearMass;if(I_.ex.x=s_+w_+L_*this.m_rA.y*this.m_rA.y+y_*this.m_rB.y*this.m_rB.y,I_.ex.y=-L_*this.m_rA.x*this.m_rA.y-y_*this.m_rB.x*this.m_rB.y,I_.ey.x=I_.ex.y,I_.ey.y=s_+w_+L_*this.m_rA.x*this.m_rA.x+y_*this.m_rB.x*this.m_rB.x,I_.Inverse(),this.m_angularMass=L_+y_,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),o.step.warmStarting){this.m_linearImpulse.Scale(o.step.dtRatio),this.m_angularImpulse*=o.step.dtRatio;let k_=this.m_linearImpulse;_r.SubtractScaled(s_,k_),l-=L_*(m_.Cross(this.m_rA,k_)+this.m_angularImpulse),o_.AddScaled(w_,k_),i_+=y_*(m_.Cross(this.m_rB,k_)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;o.velocities[this.m_indexA].w=l,o.velocities[this.m_indexB].w=i_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_r=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,e_=o.velocities[this.m_indexB].w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB,ws=o.step.dt;{let h_=e_-_r,s_=-this.m_angularMass*h_,w_=this.m_angularImpulse,L_=ws*this.m_maxTorque;this.m_angularImpulse=NA(this.m_angularImpulse+s_,-L_,L_),s_=this.m_angularImpulse-w_,_r-=_e*s_,e_+=c_*s_}{let{Cdot:h_,impulse:s_,oldImpulse:w_}=R9;m_.Subtract(m_.AddCrossScalarVec2(l,e_,this.m_rB,m_.s_t0),m_.AddCrossScalarVec2(_o,_r,this.m_rA,m_.s_t1),h_),LA.MultiplyVec2(this.m_linearMass,h_,s_).Negate(),w_.Copy(this.m_linearImpulse),this.m_linearImpulse.Add(s_);let L_=ws*this.m_maxForce;this.m_linearImpulse.LengthSquared()>L_*L_&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Scale(L_)),m_.Subtract(this.m_linearImpulse,w_,s_),_o.SubtractScaled(o_,s_),_r-=_e*m_.Cross(this.m_rA,s_),l.AddScaled(i_,s_),e_+=c_*m_.Cross(this.m_rB,s_)}o.velocities[this.m_indexA].w=_r,o.velocities[this.m_indexB].w=e_}SolvePositionConstraints(o){return!0}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return _o.x=o*this.m_linearImpulse.x,_o.y=o*this.m_linearImpulse.y,_o}GetReactionTorque(o){return o*this.m_angularImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetMaxForce(o){this.m_maxForce=o}GetMaxForce(){return this.m_maxForce}SetMaxTorque(o){this.m_maxTorque=o}GetMaxTorque(){return this.m_maxTorque}};var M4={qA:new ha,qB:new ha,qC:new ha,qD:new ha,lalcA:new m_,lalcB:new m_,lalcC:new m_,lalcD:new m_,u:new m_,rA:new m_,rB:new m_,rC:new m_,rD:new m_,JvAC:new m_,JvBD:new m_};var s6=class extends SA{constructor(o){super(o);this.m_typeA=0;this.m_typeB=0;this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_localAnchorC=new m_;this.m_localAnchorD=new m_;this.m_localAxisC=new m_;this.m_localAxisD=new m_;this.m_referenceAngleA=0;this.m_referenceAngleB=0;this.m_constant=0;this.m_ratio=0;this.m_tolerance=0;this.m_impulse=0;this.m_indexA=0;this.m_indexB=0;this.m_indexC=0;this.m_indexD=0;this.m_lcA=new m_;this.m_lcB=new m_;this.m_lcC=new m_;this.m_lcD=new m_;this.m_mA=0;this.m_mB=0;this.m_mC=0;this.m_mD=0;this.m_iA=0;this.m_iB=0;this.m_iC=0;this.m_iD=0;this.m_JvAC=new m_;this.m_JvBD=new m_;this.m_JwA=0;this.m_JwB=0;this.m_JwC=0;this.m_JwD=0;this.m_mass=0;this.m_joint1=o.joint1,this.m_joint2=o.joint2,this.m_typeA=this.m_joint1.GetType(),this.m_typeB=this.m_joint2.GetType();let _o,_r;this.m_bodyC=this.m_joint1.GetBodyA(),this.m_bodyA=this.m_joint1.GetBodyB();let l=this.m_bodyA.m_xf,e_=this.m_bodyA.m_sweep.a,o_=this.m_bodyC.m_xf,i_=this.m_bodyC.m_sweep.a;if(this.m_typeA===1){let s_=o.joint1;this.m_localAnchorC.Copy(s_.m_localAnchorA),this.m_localAnchorA.Copy(s_.m_localAnchorB),this.m_referenceAngleA=s_.m_referenceAngle,this.m_localAxisC.SetZero(),_o=e_-i_-this.m_referenceAngleA,this.m_tolerance=dB}else{let s_=o.joint1;this.m_localAnchorC.Copy(s_.m_localAnchorA),this.m_localAnchorA.Copy(s_.m_localAnchorB),this.m_referenceAngleA=s_.m_referenceAngle,this.m_localAxisC.Copy(s_.m_localXAxisA);let w_=this.m_localAnchorC,L_=ha.TransposeMultiplyVec2(o_.q,ha.MultiplyVec2(l.q,this.m_localAnchorA,m_.s_t0).Add(l.p).Subtract(o_.p),m_.s_t0);_o=m_.Dot(L_.Subtract(w_),this.m_localAxisC),this.m_tolerance=$0}this.m_bodyD=this.m_joint2.GetBodyA(),this.m_bodyB=this.m_joint2.GetBodyB();let _e=this.m_bodyB.m_xf,c_=this.m_bodyB.m_sweep.a,ws=this.m_bodyD.m_xf,h_=this.m_bodyD.m_sweep.a;if(this.m_typeB===1){let s_=o.joint2;this.m_localAnchorD.Copy(s_.m_localAnchorA),this.m_localAnchorB.Copy(s_.m_localAnchorB),this.m_referenceAngleB=s_.m_referenceAngle,this.m_localAxisD.SetZero(),_r=c_-h_-this.m_referenceAngleB}else{let s_=o.joint2;this.m_localAnchorD.Copy(s_.m_localAnchorA),this.m_localAnchorB.Copy(s_.m_localAnchorB),this.m_referenceAngleB=s_.m_referenceAngle,this.m_localAxisD.Copy(s_.m_localXAxisA);let w_=this.m_localAnchorD,L_=ha.TransposeMultiplyVec2(ws.q,ha.MultiplyVec2(_e.q,this.m_localAnchorB,m_.s_t0).Add(_e.p).Subtract(ws.p),m_.s_t0);_r=m_.Dot(L_.Subtract(w_),this.m_localAxisD)}this.m_ratio=o.ratio??1,this.m_constant=_o+this.m_ratio*_r,this.m_impulse=0}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;let _o=o.positions[this.m_indexA].a,_r=o.velocities[this.m_indexA].v,l=o.velocities[this.m_indexA].w,e_=o.positions[this.m_indexB].a,o_=o.velocities[this.m_indexB].v,i_=o.velocities[this.m_indexB].w,_e=o.positions[this.m_indexC].a,c_=o.velocities[this.m_indexC].v,ws=o.velocities[this.m_indexC].w,h_=o.positions[this.m_indexD].a,s_=o.velocities[this.m_indexD].v,w_=o.velocities[this.m_indexD].w,{qA:L_,qB:y_,qC:I_,qD:k_}=M4;if(L_.Set(_o),y_.Set(e_),I_.Set(_e),k_.Set(h_),this.m_mass=0,this.m_typeA===1)this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{let{u:j_,rC:n2,rA:p2,lalcA:u2,lalcC:T2}=M4;ha.MultiplyVec2(I_,this.m_localAxisC,j_),ha.MultiplyVec2(I_,m_.Subtract(this.m_localAnchorC,this.m_lcC,T2),n2),ha.MultiplyVec2(L_,m_.Subtract(this.m_localAnchorA,this.m_lcA,u2),p2),this.m_JvAC.Copy(j_),this.m_JwC=m_.Cross(n2,j_),this.m_JwA=m_.Cross(p2,j_),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_typeB===1)this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{let{u:j_,rB:n2,rD:p2,lalcB:u2,lalcD:T2}=M4;ha.MultiplyVec2(k_,this.m_localAxisD,j_),ha.MultiplyVec2(k_,m_.Subtract(this.m_localAnchorD,this.m_lcD,T2),p2),ha.MultiplyVec2(y_,m_.Subtract(this.m_localAnchorB,this.m_lcB,u2),n2),m_.Scale(this.m_ratio,j_,this.m_JvBD),this.m_JwD=this.m_ratio*m_.Cross(p2,j_),this.m_JwB=this.m_ratio*m_.Cross(n2,j_),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,o.step.warmStarting?(_r.AddScaled(this.m_mA*this.m_impulse,this.m_JvAC),l+=this.m_iA*this.m_impulse*this.m_JwA,o_.AddScaled(this.m_mB*this.m_impulse,this.m_JvBD),i_+=this.m_iB*this.m_impulse*this.m_JwB,c_.SubtractScaled(this.m_mC*this.m_impulse,this.m_JvAC),ws-=this.m_iC*this.m_impulse*this.m_JwC,s_.SubtractScaled(this.m_mD*this.m_impulse,this.m_JvBD),w_-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,o.velocities[this.m_indexA].w=l,o.velocities[this.m_indexB].w=i_,o.velocities[this.m_indexC].w=ws,o.velocities[this.m_indexD].w=w_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_r=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,e_=o.velocities[this.m_indexB].w,o_=o.velocities[this.m_indexC].v,i_=o.velocities[this.m_indexC].w,_e=o.velocities[this.m_indexD].v,c_=o.velocities[this.m_indexD].w,ws=m_.Dot(this.m_JvAC,m_.Subtract(_o,o_,m_.s_t0))+m_.Dot(this.m_JvBD,m_.Subtract(l,_e,m_.s_t0));ws+=this.m_JwA*_r-this.m_JwC*i_+(this.m_JwB*e_-this.m_JwD*c_);let h_=-this.m_mass*ws;this.m_impulse+=h_,_o.AddScaled(this.m_mA*h_,this.m_JvAC),_r+=this.m_iA*h_*this.m_JwA,l.AddScaled(this.m_mB*h_,this.m_JvBD),e_+=this.m_iB*h_*this.m_JwB,o_.SubtractScaled(this.m_mC*h_,this.m_JvAC),i_-=this.m_iC*h_*this.m_JwC,_e.SubtractScaled(this.m_mD*h_,this.m_JvBD),c_-=this.m_iD*h_*this.m_JwD,o.velocities[this.m_indexA].w=_r,o.velocities[this.m_indexB].w=e_,o.velocities[this.m_indexC].w=i_,o.velocities[this.m_indexD].w=c_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,e_=o.positions[this.m_indexB].a,o_=o.positions[this.m_indexC].c,i_=o.positions[this.m_indexC].a,_e=o.positions[this.m_indexD].c,c_=o.positions[this.m_indexD].a,{qA:ws,qB:h_,qC:s_,qD:w_,JvAC:L_,JvBD:y_}=M4;ws.Set(_r),h_.Set(e_),s_.Set(i_),w_.Set(c_);let I_,k_,j_,n2,p2,u2,T2=0;if(this.m_typeA===1)L_.SetZero(),j_=1,p2=1,T2+=this.m_iA+this.m_iC,I_=_r-i_-this.m_referenceAngleA;else{let{u:O2,rC:X2,rA:S_,lalcC:q_,lalcA:N_}=M4;ha.MultiplyVec2(s_,this.m_localAxisC,O2),ha.MultiplyVec2(s_,m_.Subtract(this.m_localAnchorC,this.m_lcC,q_),X2),ha.MultiplyVec2(ws,m_.Subtract(this.m_localAnchorA,this.m_lcA,N_),S_),L_.Copy(O2),p2=m_.Cross(X2,O2),j_=m_.Cross(S_,O2),T2+=this.m_mC+this.m_mA+this.m_iC*p2*p2+this.m_iA*j_*j_;let W_=q_,o2=ha.TransposeMultiplyVec2(s_,m_.Add(S_,_o,m_.s_t0).Subtract(o_),m_.s_t0);I_=m_.Dot(m_.Subtract(o2,W_,m_.s_t0),this.m_localAxisC)}if(this.m_typeB===1)y_.SetZero(),n2=this.m_ratio,u2=this.m_ratio,T2+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),k_=e_-c_-this.m_referenceAngleB;else{let{u:O2,rD:X2,rB:S_,lalcD:q_,lalcB:N_}=M4;ha.MultiplyVec2(w_,this.m_localAxisD,O2),ha.MultiplyVec2(w_,m_.Subtract(this.m_localAnchorD,this.m_lcD,q_),X2),ha.MultiplyVec2(h_,m_.Subtract(this.m_localAnchorB,this.m_lcB,N_),S_),m_.Scale(this.m_ratio,O2,y_),u2=this.m_ratio*m_.Cross(X2,O2),n2=this.m_ratio*m_.Cross(S_,O2),T2+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*u2*u2+this.m_iB*n2*n2;let W_=q_,o2=ha.TransposeMultiplyVec2(w_,m_.Add(S_,l,m_.s_t0).Subtract(_e),m_.s_t0);k_=m_.Dot(o2.Subtract(W_),this.m_localAxisD)}let I2=I_+this.m_ratio*k_-this.m_constant,q2=0;return T2>0&&(q2=-I2/T2),_o.AddScaled(this.m_mA*q2,L_),_r+=this.m_iA*q2*j_,l.AddScaled(this.m_mB*q2,y_),e_+=this.m_iB*q2*n2,o_.SubtractScaled(this.m_mC*q2,L_),i_-=this.m_iC*q2*p2,_e.SubtractScaled(this.m_mD*q2,y_),c_-=this.m_iD*q2*u2,o.positions[this.m_indexA].a=_r,o.positions[this.m_indexB].a=e_,o.positions[this.m_indexC].a=i_,o.positions[this.m_indexD].a=c_,Math.abs(I2)<this.m_tolerance}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return m_.Scale(o*this.m_impulse,this.m_JvAC,_o)}GetReactionTorque(o){return o*this.m_impulse*this.m_JwA}GetJoint1(){return this.m_joint1}GetJoint2(){return this.m_joint2}GetRatio(){return this.m_ratio}SetRatio(o){this.m_ratio=o}};var F9={qA:new ha,qB:new ha,K:new LA,Cdot:new m_,impulse:new m_,oldImpulse:new m_};var _6=class extends SA{constructor(o){super(o);this.m_linearOffset=new m_;this.m_linearImpulse=new m_;this.m_angularImpulse=0;this.m_indexA=0;this.m_indexB=0;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_linearError=new m_;this.m_angularError=0;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_linearMass=new LA;this.m_angularMass=0;this.m_linearOffset.Copy(o.linearOffset??m_.ZERO),this.m_angularOffset=o.angularOffset??0,this.m_linearImpulse.SetZero(),this.m_maxForce=o.maxForce??1,this.m_maxTorque=o.maxTorque??1,this.m_correctionFactor=o.correctionFactor??.3}GetAnchorA(o){let _o=this.m_bodyA.GetPosition();return o.x=_o.x,o.y=_o.y,o}GetAnchorB(o){let _o=this.m_bodyB.GetPosition();return o.x=_o.x,o.y=_o.y,o}GetReactionForce(o,_o){return m_.Scale(o,this.m_linearImpulse,_o)}GetReactionTorque(o){return o*this.m_angularImpulse}SetLinearOffset(o){m_.Equals(o,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(o))}GetLinearOffset(){return this.m_linearOffset}SetAngularOffset(o){o!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=o)}GetAngularOffset(){return this.m_angularOffset}SetMaxForce(o){this.m_maxForce=o}GetMaxForce(){return this.m_maxForce}SetMaxTorque(o){this.m_maxTorque=o}GetMaxTorque(){return this.m_maxTorque}GetCorrectionFactor(){return this.m_correctionFactor}SetCorrectionFactor(o){this.m_correctionFactor=o}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.velocities[this.m_indexA].v,e_=o.velocities[this.m_indexA].w,o_=o.positions[this.m_indexB].c,i_=o.positions[this.m_indexB].a,_e=o.velocities[this.m_indexB].v,c_=o.velocities[this.m_indexB].w,{qA:ws,qB:h_}=F9;ws.Set(_r),h_.Set(i_);let s_=ha.MultiplyVec2(ws,m_.Subtract(this.m_linearOffset,this.m_localCenterA,m_.s_t0),this.m_rA),w_=ha.MultiplyVec2(h_,m_.Negate(this.m_localCenterB,m_.s_t0),this.m_rB),L_=this.m_invMassA,y_=this.m_invMassB,I_=this.m_invIA,k_=this.m_invIB,j_=this.m_linearMass;if(j_.ex.x=L_+y_+I_*s_.y*s_.y+k_*w_.y*w_.y,j_.ex.y=-I_*s_.x*s_.y-k_*w_.x*w_.y,j_.ey.x=j_.ex.y,j_.ey.y=L_+y_+I_*s_.x*s_.x+k_*w_.x*w_.x,j_.Inverse(),this.m_angularMass=I_+k_,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),m_.Subtract(m_.Add(o_,w_,m_.s_t0),m_.Add(_o,s_,m_.s_t1),this.m_linearError),this.m_angularError=i_-_r-this.m_angularOffset,o.step.warmStarting){this.m_linearImpulse.Scale(o.step.dtRatio),this.m_angularImpulse*=o.step.dtRatio;let n2=this.m_linearImpulse;l.SubtractScaled(L_,n2),e_-=I_*(m_.Cross(s_,n2)+this.m_angularImpulse),_e.AddScaled(y_,n2),c_+=k_*(m_.Cross(w_,n2)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;o.velocities[this.m_indexA].w=e_,o.velocities[this.m_indexB].w=c_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_r=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,e_=o.velocities[this.m_indexB].w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB,ws=o.step.dt,h_=o.step.inv_dt;{let s_=e_-_r+h_*this.m_correctionFactor*this.m_angularError,w_=-this.m_angularMass*s_,L_=this.m_angularImpulse,y_=ws*this.m_maxTorque;this.m_angularImpulse=NA(this.m_angularImpulse+w_,-y_,y_),w_=this.m_angularImpulse-L_,_r-=_e*w_,e_+=c_*w_}{let{impulse:s_,oldImpulse:w_,Cdot:L_}=F9;m_.AddScaled(m_.Subtract(m_.AddCrossScalarVec2(l,e_,this.m_rB,m_.s_t0),m_.AddCrossScalarVec2(_o,_r,this.m_rA,m_.s_t1),m_.s_t2),h_*this.m_correctionFactor,this.m_linearError,L_),LA.MultiplyVec2(this.m_linearMass,L_,s_).Negate(),w_.Copy(this.m_linearImpulse),this.m_linearImpulse.Add(s_);let y_=ws*this.m_maxForce;this.m_linearImpulse.LengthSquared()>y_*y_&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Scale(y_)),m_.Subtract(this.m_linearImpulse,w_,s_),_o.SubtractScaled(o_,s_),_r-=_e*m_.Cross(this.m_rA,s_),l.AddScaled(i_,s_),e_+=c_*m_.Cross(this.m_rB,s_)}o.velocities[this.m_indexA].w=_r,o.velocities[this.m_indexB].w=e_}SolvePositionConstraints(o){return!0}};var a6={qB:new ha,lalcB:new m_,Cdot:new m_,impulse:new m_,oldImpulse:new m_,pA:new m_,pB:new m_};var p6=class extends SA{constructor(o){super(o);this.m_localAnchorB=new m_;this.m_targetA=new m_;this.m_stiffness=0;this.m_damping=0;this.m_beta=0;this.m_impulse=new m_;this.m_maxForce=0;this.m_gamma=0;this.m_indexB=0;this.m_rB=new m_;this.m_localCenterB=new m_;this.m_invMassB=0;this.m_invIB=0;this.m_mass=new LA;this.m_C=new m_;this.m_targetA.Copy(o.target??m_.ZERO),r0.TransposeMultiplyVec2(this.m_bodyB.GetTransform(),this.m_targetA,this.m_localAnchorB),this.m_maxForce=o.maxForce??0,this.m_stiffness=o.stiffness??0,this.m_damping=o.damping??0,this.m_beta=0,this.m_gamma=0}SetTarget(o){m_.Equals(o,this.m_targetA)||(this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(o))}GetTarget(){return this.m_targetA}SetMaxForce(o){this.m_maxForce=o}GetMaxForce(){return this.m_maxForce}SetStiffness(o){this.m_stiffness=o}GetStiffness(){return this.m_stiffness}SetDamping(o){this.m_damping=o}GetDamping(){return this.m_damping}InitVelocityConstraints(o){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexB].c,_r=o.positions[this.m_indexB].a,l=o.velocities[this.m_indexB].v,e_=o.velocities[this.m_indexB].w,{qB:o_,lalcB:i_}=a6;o_.Set(_r);let _e=this.m_damping,c_=this.m_stiffness,ws=o.step.dt;this.m_gamma=ws*(_e+ws*c_),this.m_gamma!==0&&(this.m_gamma=1/this.m_gamma),this.m_beta=ws*c_*this.m_gamma,ha.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,i_),this.m_rB);let h_=this.m_mass;h_.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,h_.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,h_.ey.x=h_.ex.y,h_.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,h_.Inverse(),m_.Add(_o,this.m_rB,this.m_C).Subtract(this.m_targetA),this.m_C.Scale(this.m_beta),e_*=Math.max(0,1-.02*(60*o.step.dt)),o.step.warmStarting?(this.m_impulse.Scale(o.step.dtRatio),l.AddScaled(this.m_invMassB,this.m_impulse),e_+=this.m_invIB*m_.Cross(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),o.velocities[this.m_indexB].w=e_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexB].v,_r=o.velocities[this.m_indexB].w,{Cdot:l,impulse:e_,oldImpulse:o_}=a6;m_.AddCrossScalarVec2(_o,_r,this.m_rB,l),LA.MultiplyVec2(this.m_mass,m_.Add(l,this.m_C,e_).AddScaled(this.m_gamma,this.m_impulse).Negate(),e_),o_.Copy(this.m_impulse),this.m_impulse.Add(e_);let i_=o.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>i_*i_&&this.m_impulse.Scale(i_/this.m_impulse.Length()),m_.Subtract(this.m_impulse,o_,e_),_o.AddScaled(this.m_invMassB,e_),_r+=this.m_invIB*m_.Cross(this.m_rB,e_),o.velocities[this.m_indexB].w=_r}SolvePositionConstraints(o){return!0}GetAnchorA(o){return o.x=this.m_targetA.x,o.y=this.m_targetA.y,o}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return m_.Scale(o,this.m_impulse,_o)}GetReactionTorque(o){return 0}ShiftOrigin(o){this.m_targetA.Subtract(o)}Draw(o){let _o=this.GetAnchorA(a6.pA),_r=this.GetAnchorB(a6.pB);o.DrawPoint(_o,4,ly.joint7),o.DrawPoint(_r,4,ly.joint7),o.DrawSegment(_o,_r,ly.joint8)}};var JC={K3:new nP,K2:new LA,qA:new ha,qB:new ha,lalcA:new m_,lalcB:new m_,rA:new m_,rB:new m_,GetJointTranslation:{pA:new m_,pB:new m_,d:new m_,axis:new m_},InitVelocityConstraints:{d:new m_,P:new m_},SolveVelocityConstraints:{P:new m_,df:new m_},SolvePositionConstraints:{d:new m_,impulse:new cC,impulse1:new m_,P:new m_},Draw:{p1:new m_,p2:new m_,pA:new m_,pB:new m_,axis:new m_,lower:new m_,upper:new m_,perp:new m_}};var l6=class extends SA{constructor(o){super(o);this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_localXAxisA=new m_;this.m_localYAxisA=new m_;this.m_referenceAngle=0;this.m_impulse=new m_;this.m_motorImpulse=0;this.m_lowerImpulse=0;this.m_upperImpulse=0;this.m_lowerTranslation=0;this.m_upperTranslation=0;this.m_maxMotorForce=0;this.m_motorSpeed=0;this.m_enableLimit=!1;this.m_enableMotor=!1;this.m_indexA=0;this.m_indexB=0;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_axis=new m_;this.m_perp=new m_;this.m_s1=0;this.m_s2=0;this.m_a1=0;this.m_a2=0;this.m_K=new LA;this.m_translation=0;this.m_axialMass=0;this.m_localAnchorA.Copy(o.localAnchorA??m_.ZERO),this.m_localAnchorB.Copy(o.localAnchorB??m_.ZERO),m_.Normalize(o.localAxisA??m_.UNITX,this.m_localXAxisA),m_.CrossOneVec2(this.m_localXAxisA,this.m_localYAxisA),this.m_referenceAngle=o.referenceAngle??0,this.m_lowerTranslation=o.lowerTranslation??0,this.m_upperTranslation=o.upperTranslation??0,this.m_maxMotorForce=o.maxMotorForce??0,this.m_motorSpeed=o.motorSpeed??0,this.m_enableLimit=o.enableLimit??!1,this.m_enableMotor=o.enableMotor??!1}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.velocities[this.m_indexA].v,e_=o.velocities[this.m_indexA].w,o_=o.positions[this.m_indexB].c,i_=o.positions[this.m_indexB].a,_e=o.velocities[this.m_indexB].v,c_=o.velocities[this.m_indexB].w,{qA:ws,qB:h_,lalcA:s_,lalcB:w_,rA:L_,rB:y_}=JC;ws.Set(_r),h_.Set(i_),ha.MultiplyVec2(ws,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,s_),L_),ha.MultiplyVec2(h_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,w_),y_);let I_=m_.Subtract(o_,_o,JC.InitVelocityConstraints.d).Add(y_).Subtract(L_),k_=this.m_invMassA,j_=this.m_invMassB,n2=this.m_invIA,p2=this.m_invIB;ha.MultiplyVec2(ws,this.m_localXAxisA,this.m_axis),this.m_a1=m_.Cross(m_.Add(I_,L_,m_.s_t0),this.m_axis),this.m_a2=m_.Cross(y_,this.m_axis),this.m_axialMass=k_+j_+n2*this.m_a1*this.m_a1+p2*this.m_a2*this.m_a2,this.m_axialMass>0&&(this.m_axialMass=1/this.m_axialMass),ha.MultiplyVec2(ws,this.m_localYAxisA,this.m_perp),this.m_s1=m_.Cross(m_.Add(I_,L_,m_.s_t0),this.m_perp),this.m_s2=m_.Cross(y_,this.m_perp);let u2=k_+j_+n2*this.m_s1*this.m_s1+p2*this.m_s2*this.m_s2,T2=n2*this.m_s1+p2*this.m_s2,I2=n2+p2;if(I2===0&&(I2=1),this.m_K.ex.Set(u2,T2),this.m_K.ey.Set(T2,I2),this.m_enableLimit?this.m_translation=m_.Dot(this.m_axis,I_):(this.m_lowerImpulse=0,this.m_upperImpulse=0),this.m_enableMotor||(this.m_motorImpulse=0),o.step.warmStarting){this.m_impulse.Scale(o.step.dtRatio),this.m_motorImpulse*=o.step.dtRatio,this.m_lowerImpulse*=o.step.dtRatio,this.m_upperImpulse*=o.step.dtRatio;let q2=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse,{P:O2}=JC.InitVelocityConstraints;m_.Scale(this.m_impulse.x,this.m_perp,O2).AddScaled(q2,this.m_axis);let X2=this.m_impulse.x*this.m_s1+this.m_impulse.y+q2*this.m_a1,S_=this.m_impulse.x*this.m_s2+this.m_impulse.y+q2*this.m_a2;l.SubtractScaled(k_,O2),e_-=n2*X2,_e.AddScaled(j_,O2),c_+=p2*S_}else this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;o.velocities[this.m_indexA].w=e_,o.velocities[this.m_indexB].w=c_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_r=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,e_=o.velocities[this.m_indexB].w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB,{P:ws,df:h_}=JC.SolveVelocityConstraints;if(this.m_enableMotor){let s_=m_.Dot(this.m_axis,m_.Subtract(l,_o,m_.s_t0))+this.m_a2*e_-this.m_a1*_r,w_=this.m_axialMass*(this.m_motorSpeed-s_),L_=this.m_motorImpulse,y_=o.step.dt*this.m_maxMotorForce;this.m_motorImpulse=NA(this.m_motorImpulse+w_,-y_,y_),w_=this.m_motorImpulse-L_,m_.Scale(w_,this.m_axis,ws);let I_=w_*this.m_a1,k_=w_*this.m_a2;_o.SubtractScaled(o_,ws),_r-=_e*I_,l.AddScaled(i_,ws),e_+=c_*k_}if(this.m_enableLimit){{let s_=this.m_translation-this.m_lowerTranslation,w_=m_.Dot(this.m_axis,m_.Subtract(l,_o,m_.s_t0))+this.m_a2*e_-this.m_a1*_r,L_=-this.m_axialMass*(w_+Math.max(s_,0)*o.step.inv_dt),y_=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+L_,0),L_=this.m_lowerImpulse-y_,m_.Scale(L_,this.m_axis,ws);let I_=L_*this.m_a1,k_=L_*this.m_a2;_o.SubtractScaled(o_,ws),_r-=_e*I_,l.AddScaled(i_,ws),e_+=c_*k_}{let s_=this.m_upperTranslation-this.m_translation,w_=m_.Dot(this.m_axis,m_.Subtract(_o,l,m_.s_t0))+this.m_a1*_r-this.m_a2*e_,L_=-this.m_axialMass*(w_+Math.max(s_,0)*o.step.inv_dt),y_=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+L_,0),L_=this.m_upperImpulse-y_,m_.Scale(L_,this.m_axis,ws);let I_=L_*this.m_a1,k_=L_*this.m_a2;_o.AddScaled(o_,ws),_r+=_e*I_,l.SubtractScaled(i_,ws),e_-=c_*k_}}{let s_=m_.Dot(this.m_perp,m_.Subtract(l,_o,m_.s_t0))+this.m_s2*e_-this.m_s1*_r,w_=e_-_r;this.m_K.Solve(-s_,-w_,h_),this.m_impulse.Add(h_),m_.Scale(h_.x,this.m_perp,ws);let L_=h_.x*this.m_s1+h_.y,y_=h_.x*this.m_s2+h_.y;_o.SubtractScaled(o_,ws),_r-=_e*L_,l.AddScaled(i_,ws),e_+=c_*y_}o.velocities[this.m_indexA].w=_r,o.velocities[this.m_indexB].w=e_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,e_=o.positions[this.m_indexB].a,{qA:o_,qB:i_,lalcA:_e,lalcB:c_,rA:ws,rB:h_}=JC;o_.Set(_r),i_.Set(e_);let s_=this.m_invMassA,w_=this.m_invMassB,L_=this.m_invIA,y_=this.m_invIB,{d:I_,impulse:k_,P:j_}=JC.SolvePositionConstraints;ha.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,_e),ws),ha.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,c_),h_),m_.Add(l,h_,I_).Subtract(_o).Subtract(ws);let n2=ha.MultiplyVec2(o_,this.m_localXAxisA,this.m_axis),p2=m_.Cross(m_.Add(I_,ws,m_.s_t0),n2),u2=m_.Cross(h_,n2),T2=ha.MultiplyVec2(o_,this.m_localYAxisA,this.m_perp),I2=m_.Cross(m_.Add(I_,ws,m_.s_t0),T2),q2=m_.Cross(h_,T2),O2=m_.Dot(T2,I_),X2=e_-_r-this.m_referenceAngle,S_=Math.abs(O2),q_=Math.abs(X2),N_=!1,W_=0;if(this.m_enableLimit){let _2=m_.Dot(n2,I_);Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*$0?(W_=_2,S_=Math.max(S_,Math.abs(_2)),N_=!0):_2<=this.m_lowerTranslation?(W_=Math.min(_2-this.m_lowerTranslation,0),S_=Math.max(S_,this.m_lowerTranslation-_2),N_=!0):_2>=this.m_upperTranslation&&(W_=Math.max(_2-this.m_upperTranslation,0),S_=Math.max(S_,_2-this.m_upperTranslation),N_=!0)}if(N_){let _2=s_+w_+L_*I2*I2+y_*q2*q2,v_=L_*I2+y_*q2,G_=L_*I2*p2+y_*q2*u2,K_=L_+y_;K_===0&&(K_=1);let C_=L_*p2+y_*u2,z_=s_+w_+L_*p2*p2+y_*u2*u2,X_=JC.K3;X_.ex.Set(_2,v_,G_),X_.ey.Set(v_,K_,C_),X_.ez.Set(G_,C_,z_),X_.Solve33(-O2,-X2,-W_,k_)}else{let _2=s_+w_+L_*I2*I2+y_*q2*q2,v_=L_*I2+y_*q2,G_=L_+y_;G_===0&&(G_=1);let K_=JC.K2;K_.ex.Set(_2,v_),K_.ey.Set(v_,G_);let C_=K_.Solve(-O2,-X2,JC.SolvePositionConstraints.impulse1);k_.x=C_.x,k_.y=C_.y,k_.z=0}m_.Scale(k_.x,T2,j_).AddScaled(k_.z,n2);let o2=k_.x*I2+k_.y+k_.z*p2,m2=k_.x*q2+k_.y+k_.z*u2;return _o.SubtractScaled(s_,j_),_r-=L_*o2,l.AddScaled(w_,j_),e_+=y_*m2,o.positions[this.m_indexA].a=_r,o.positions[this.m_indexB].a=e_,S_<=$0&&q_<=dB}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){let _r=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse;return _o.x=o*(this.m_impulse.x*this.m_perp.x+_r*this.m_axis.x),_o.y=o*(this.m_impulse.x*this.m_perp.y+_r*this.m_axis.y),_o}GetReactionTorque(o){return o*this.m_impulse.y}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetReferenceAngle(){return this.m_referenceAngle}GetJointTranslation(){let{pA:o,pB:_o,axis:_r,d:l}=JC.GetJointTranslation;return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o),this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_o),m_.Subtract(_o,o,l),this.m_bodyA.GetWorldVector(this.m_localXAxisA,_r),m_.Dot(l,_r)}GetJointSpeed(){let o=this.m_bodyA,_o=this.m_bodyB,{lalcA:_r,lalcB:l,rA:e_,rB:o_}=JC;ha.MultiplyVec2(o.m_xf.q,m_.Subtract(this.m_localAnchorA,o.m_sweep.localCenter,_r),e_),ha.MultiplyVec2(_o.m_xf.q,m_.Subtract(this.m_localAnchorB,_o.m_sweep.localCenter,l),o_);let i_=m_.Add(o.m_sweep.c,e_,m_.s_t0),_e=m_.Add(_o.m_sweep.c,o_,m_.s_t1),c_=m_.Subtract(_e,i_,m_.s_t2),ws=ha.MultiplyVec2(o.m_xf.q,this.m_localXAxisA,this.m_axis),h_=o.m_linearVelocity,s_=_o.m_linearVelocity,w_=o.m_angularVelocity,L_=_o.m_angularVelocity;return m_.Dot(c_,m_.CrossScalarVec2(w_,ws,m_.s_t0))+m_.Dot(ws,m_.Subtract(m_.AddCrossScalarVec2(s_,L_,o_,m_.s_t0),m_.AddCrossScalarVec2(h_,w_,e_,m_.s_t1),m_.s_t0))}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(o){return o!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=o,this.m_lowerImpulse=0,this.m_upperImpulse=0),o}GetLowerLimit(){return this.m_lowerTranslation}GetUpperLimit(){return this.m_upperTranslation}SetLimits(o,_o){(o!==this.m_lowerTranslation||_o!==this.m_upperTranslation)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=o,this.m_upperTranslation=_o,this.m_lowerImpulse=0,this.m_upperImpulse=0)}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(o){return o!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=o),o}SetMotorSpeed(o){return o!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=o),o}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorForce(o){o!==this.m_maxMotorForce&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=o)}GetMaxMotorForce(){return this.m_maxMotorForce}GetMotorForce(o){return o*this.m_motorImpulse}Draw(o){let{p1:_o,p2:_r,pA:l,pB:e_,axis:o_}=JC.Draw,i_=this.m_bodyA.GetTransform(),_e=this.m_bodyB.GetTransform();if(r0.MultiplyVec2(i_,this.m_localAnchorA,l),r0.MultiplyVec2(_e,this.m_localAnchorB,e_),ha.MultiplyVec2(i_.q,this.m_localXAxisA,o_),o.DrawSegment(l,e_,ly.joint5),this.m_enableLimit){let{lower:c_,upper:ws,perp:h_}=JC.Draw;m_.AddScaled(l,this.m_lowerTranslation,o_,c_),m_.AddScaled(l,this.m_upperTranslation,o_,ws),ha.MultiplyVec2(i_.q,this.m_localYAxisA,h_),o.DrawSegment(c_,ws,ly.joint1),o.DrawSegment(m_.SubtractScaled(c_,.5,h_,_o),m_.AddScaled(c_,.5,h_,_r),ly.joint2),o.DrawSegment(m_.SubtractScaled(ws,.5,h_,_o),m_.AddScaled(ws,.5,h_,_r),ly.joint3)}else o.DrawSegment(m_.Subtract(l,o_,_o),m_.Add(l,o_,_r),ly.joint1);o.DrawPoint(l,5,ly.joint1),o.DrawPoint(e_,5,ly.joint4)}};var jP={qA:new ha,qB:new ha,lalcA:new m_,lalcB:new m_,p:new m_,PA:new m_,PB:new m_,vpA:new m_,vpB:new m_,pA:new m_,pB:new m_};var P0t=new m_(-1,1),w0t=m_.UNITX,V0t=new m_(-1,0),D0t=m_.UNITX,c6=class extends SA{constructor(o){super(o);this.m_groundAnchorA=new m_;this.m_groundAnchorB=new m_;this.m_lengthA=0;this.m_lengthB=0;this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_constant=0;this.m_ratio=0;this.m_impulse=0;this.m_indexA=0;this.m_indexB=0;this.m_uA=new m_;this.m_uB=new m_;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_mass=0;this.m_groundAnchorA.Copy(o.groundAnchorA??P0t),this.m_groundAnchorB.Copy(o.groundAnchorB??w0t),this.m_localAnchorA.Copy(o.localAnchorA??V0t),this.m_localAnchorB.Copy(o.localAnchorB??D0t),this.m_lengthA=o.lengthA??0,this.m_lengthB=o.lengthB??0,this.m_ratio=o.ratio??1,this.m_constant=this.m_lengthA+this.m_ratio*this.m_lengthB,this.m_impulse=0}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.velocities[this.m_indexA].v,e_=o.velocities[this.m_indexA].w,o_=o.positions[this.m_indexB].c,i_=o.positions[this.m_indexB].a,_e=o.velocities[this.m_indexB].v,c_=o.velocities[this.m_indexB].w,{qA:ws,qB:h_,lalcA:s_,lalcB:w_}=jP;ws.Set(_r),h_.Set(i_),ha.MultiplyVec2(ws,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,s_),this.m_rA),ha.MultiplyVec2(h_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,w_),this.m_rB),m_.Add(_o,this.m_rA,this.m_uA).Subtract(this.m_groundAnchorA),m_.Add(o_,this.m_rB,this.m_uB).Subtract(this.m_groundAnchorB);let L_=this.m_uA.Length(),y_=this.m_uB.Length();L_>10*$0?this.m_uA.Scale(1/L_):this.m_uA.SetZero(),y_>10*$0?this.m_uB.Scale(1/y_):this.m_uB.SetZero();let I_=m_.Cross(this.m_rA,this.m_uA),k_=m_.Cross(this.m_rB,this.m_uB),j_=this.m_invMassA+this.m_invIA*I_*I_,n2=this.m_invMassB+this.m_invIB*k_*k_;if(this.m_mass=j_+this.m_ratio*this.m_ratio*n2,this.m_mass>0&&(this.m_mass=1/this.m_mass),o.step.warmStarting){this.m_impulse*=o.step.dtRatio;let{PA:p2,PB:u2}=jP;m_.Scale(-this.m_impulse,this.m_uA,p2),m_.Scale(-this.m_ratio*this.m_impulse,this.m_uB,u2),l.AddScaled(this.m_invMassA,p2),e_+=this.m_invIA*m_.Cross(this.m_rA,p2),_e.AddScaled(this.m_invMassB,u2),c_+=this.m_invIB*m_.Cross(this.m_rB,u2)}else this.m_impulse=0;o.velocities[this.m_indexA].w=e_,o.velocities[this.m_indexB].w=c_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_r=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,e_=o.velocities[this.m_indexB].w,{PA:o_,PB:i_,vpA:_e,vpB:c_}=jP;m_.AddCrossScalarVec2(_o,_r,this.m_rA,_e),m_.AddCrossScalarVec2(l,e_,this.m_rB,c_);let ws=-m_.Dot(this.m_uA,_e)-this.m_ratio*m_.Dot(this.m_uB,c_),h_=-this.m_mass*ws;this.m_impulse+=h_,m_.Scale(-h_,this.m_uA,o_),m_.Scale(-this.m_ratio*h_,this.m_uB,i_),_o.AddScaled(this.m_invMassA,o_),_r+=this.m_invIA*m_.Cross(this.m_rA,o_),l.AddScaled(this.m_invMassB,i_),e_+=this.m_invIB*m_.Cross(this.m_rB,i_),o.velocities[this.m_indexA].w=_r,o.velocities[this.m_indexB].w=e_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,e_=o.positions[this.m_indexB].a,{qA:o_,qB:i_,lalcA:_e,lalcB:c_,PA:ws,PB:h_}=jP;o_.Set(_r),i_.Set(e_);let s_=ha.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,_e),this.m_rA),w_=ha.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,c_),this.m_rB),L_=m_.Add(_o,s_,this.m_uA).Subtract(this.m_groundAnchorA),y_=m_.Add(l,w_,this.m_uB).Subtract(this.m_groundAnchorB),I_=L_.Length(),k_=y_.Length();I_>10*$0?L_.Scale(1/I_):L_.SetZero(),k_>10*$0?y_.Scale(1/k_):y_.SetZero();let j_=m_.Cross(s_,L_),n2=m_.Cross(w_,y_),p2=this.m_invMassA+this.m_invIA*j_*j_,u2=this.m_invMassB+this.m_invIB*n2*n2,T2=p2+this.m_ratio*this.m_ratio*u2;T2>0&&(T2=1/T2);let I2=this.m_constant-I_-this.m_ratio*k_,q2=Math.abs(I2),O2=-T2*I2;return m_.Scale(-O2,L_,ws),m_.Scale(-this.m_ratio*O2,y_,h_),_o.AddScaled(this.m_invMassA,ws),_r+=this.m_invIA*m_.Cross(s_,ws),l.AddScaled(this.m_invMassB,h_),e_+=this.m_invIB*m_.Cross(w_,h_),o.positions[this.m_indexA].a=_r,o.positions[this.m_indexB].a=e_,q2<$0}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return _o.x=o*this.m_impulse*this.m_uB.x,_o.y=o*this.m_impulse*this.m_uB.y,_o}GetReactionTorque(o){return 0}GetGroundAnchorA(){return this.m_groundAnchorA}GetGroundAnchorB(){return this.m_groundAnchorB}GetLengthA(){return this.m_lengthA}GetLengthB(){return this.m_lengthB}GetRatio(){return this.m_ratio}GetCurrentLengthA(){let o=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,jP.p),_o=this.m_groundAnchorA;return m_.Distance(o,_o)}GetCurrentLengthB(){let o=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,jP.p),_o=this.m_groundAnchorB;return m_.Distance(o,_o)}ShiftOrigin(o){this.m_groundAnchorA.Subtract(o),this.m_groundAnchorB.Subtract(o)}Draw(o){let _o=this.GetAnchorA(jP.pA),_r=this.GetAnchorB(jP.pB),l=this.GetGroundAnchorA(),e_=this.GetGroundAnchorB();o.DrawSegment(l,_o,ly.joint6),o.DrawSegment(e_,_r,ly.joint6),o.DrawSegment(l,e_,ly.joint6)}};var PV={qA:new ha,qB:new ha,lalcA:new m_,lalcB:new m_,P:new m_,Cdot:new m_,C:new m_,impulse:new m_,p2:new m_,r:new m_,pA:new m_,pB:new m_,rlo:new m_,rhi:new m_};var m6=class extends SA{constructor(o){super(o);this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_impulse=new m_;this.m_motorImpulse=0;this.m_lowerImpulse=0;this.m_upperImpulse=0;this.m_enableMotor=!1;this.m_maxMotorTorque=0;this.m_motorSpeed=0;this.m_enableLimit=!1;this.m_referenceAngle=0;this.m_lowerAngle=0;this.m_upperAngle=0;this.m_indexA=0;this.m_indexB=0;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_K=new LA;this.m_angle=0;this.m_axialMass=0;this.m_localAnchorA.Copy(o.localAnchorA??m_.ZERO),this.m_localAnchorB.Copy(o.localAnchorB??m_.ZERO),this.m_referenceAngle=o.referenceAngle??0,this.m_impulse.SetZero(),this.m_lowerAngle=o.lowerAngle??0,this.m_upperAngle=o.upperAngle??0,this.m_maxMotorTorque=o.maxMotorTorque??0,this.m_motorSpeed=o.motorSpeed??0,this.m_enableLimit=o.enableLimit??!1,this.m_enableMotor=o.enableMotor??!1}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].a,_r=o.velocities[this.m_indexA].v,l=o.velocities[this.m_indexA].w,e_=o.positions[this.m_indexB].a,o_=o.velocities[this.m_indexB].v,i_=o.velocities[this.m_indexB].w,{qA:_e,qB:c_,lalcA:ws,lalcB:h_}=PV;_e.Set(_o),c_.Set(e_),ha.MultiplyVec2(_e,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,ws),this.m_rA),ha.MultiplyVec2(c_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,h_),this.m_rB);let s_=this.m_invMassA,w_=this.m_invMassB,L_=this.m_invIA,y_=this.m_invIB;this.m_K.ex.x=s_+w_+this.m_rA.y*this.m_rA.y*L_+this.m_rB.y*this.m_rB.y*y_,this.m_K.ey.x=-this.m_rA.y*this.m_rA.x*L_-this.m_rB.y*this.m_rB.x*y_,this.m_K.ex.y=this.m_K.ey.x,this.m_K.ey.y=s_+w_+this.m_rA.x*this.m_rA.x*L_+this.m_rB.x*this.m_rB.x*y_,this.m_axialMass=L_+y_;let I_;if(this.m_axialMass>0?(this.m_axialMass=1/this.m_axialMass,I_=!1):I_=!0,this.m_angle=e_-_o-this.m_referenceAngle,(this.m_enableLimit===!1||I_)&&(this.m_lowerImpulse=0,this.m_upperImpulse=0),(this.m_enableMotor===!1||I_)&&(this.m_motorImpulse=0),o.step.warmStarting){this.m_impulse.Scale(o.step.dtRatio),this.m_motorImpulse*=o.step.dtRatio,this.m_lowerImpulse*=o.step.dtRatio,this.m_upperImpulse*=o.step.dtRatio;let k_=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse,j_=PV.P.Set(this.m_impulse.x,this.m_impulse.y);_r.SubtractScaled(s_,j_),l-=L_*(m_.Cross(this.m_rA,j_)+k_),o_.AddScaled(w_,j_),i_+=y_*(m_.Cross(this.m_rB,j_)+k_)}else this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;o.velocities[this.m_indexA].w=l,o.velocities[this.m_indexB].w=i_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_r=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,e_=o.velocities[this.m_indexB].w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB,ws=_e+c_===0;if(this.m_enableMotor&&!ws){let h_=e_-_r-this.m_motorSpeed,s_=-this.m_axialMass*h_,w_=this.m_motorImpulse,L_=o.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=NA(this.m_motorImpulse+s_,-L_,L_),s_=this.m_motorImpulse-w_,_r-=_e*s_,e_+=c_*s_}if(this.m_enableLimit&&!ws){{let h_=this.m_angle-this.m_lowerAngle,s_=e_-_r,w_=-this.m_axialMass*(s_+Math.max(h_,0)*o.step.inv_dt),L_=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+w_,0),w_=this.m_lowerImpulse-L_,_r-=_e*w_,e_+=c_*w_}{let h_=this.m_upperAngle-this.m_angle,s_=_r-e_,w_=-this.m_axialMass*(s_+Math.max(h_,0)*o.step.inv_dt),L_=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+w_,0),w_=this.m_upperImpulse-L_,_r+=_e*w_,e_-=c_*w_}}{let{Cdot:h_,impulse:s_}=PV;m_.Subtract(m_.AddCrossScalarVec2(l,e_,this.m_rB,m_.s_t0),m_.AddCrossScalarVec2(_o,_r,this.m_rA,m_.s_t1),h_),this.m_K.Solve(-h_.x,-h_.y,s_),this.m_impulse.x+=s_.x,this.m_impulse.y+=s_.y,_o.SubtractScaled(o_,s_),_r-=_e*m_.Cross(this.m_rA,s_),l.AddScaled(i_,s_),e_+=c_*m_.Cross(this.m_rB,s_)}o.velocities[this.m_indexA].w=_r,o.velocities[this.m_indexB].w=e_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,e_=o.positions[this.m_indexB].a,{qA:o_,qB:i_,lalcA:_e,lalcB:c_,impulse:ws}=PV;o_.Set(_r),i_.Set(e_);let h_=0,s_=0,w_=this.m_invIA+this.m_invIB===0;if(this.m_enableLimit&&!w_){let L_=e_-_r-this.m_referenceAngle,y_=0;Math.abs(this.m_upperAngle-this.m_lowerAngle)<2*dB?y_=NA(L_-this.m_lowerAngle,-WD,WD):L_<=this.m_lowerAngle?y_=NA(L_-this.m_lowerAngle+dB,-WD,0):L_>=this.m_upperAngle&&(y_=NA(L_-this.m_upperAngle-dB,0,WD));let I_=-this.m_axialMass*y_;_r-=this.m_invIA*I_,e_+=this.m_invIB*I_,h_=Math.abs(y_)}{o_.Set(_r),i_.Set(e_);let L_=ha.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,_e),this.m_rA),y_=ha.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,c_),this.m_rB),I_=m_.Add(l,y_,PV.C).Subtract(_o).Subtract(L_);s_=I_.Length();let k_=this.m_invMassA,j_=this.m_invMassB,n2=this.m_invIA,p2=this.m_invIB,u2=this.m_K;u2.ex.x=k_+j_+n2*L_.y*L_.y+p2*y_.y*y_.y,u2.ex.y=-n2*L_.x*L_.y-p2*y_.x*y_.y,u2.ey.x=u2.ex.y,u2.ey.y=k_+j_+n2*L_.x*L_.x+p2*y_.x*y_.x,u2.Solve(I_.x,I_.y,ws).Negate(),_o.SubtractScaled(k_,ws),_r-=n2*m_.Cross(L_,ws),l.AddScaled(j_,ws),e_+=p2*m_.Cross(y_,ws)}return o.positions[this.m_indexA].a=_r,o.positions[this.m_indexB].a=e_,s_<=$0&&h_<=dB}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return _o.x=o*this.m_impulse.x,_o.y=o*this.m_impulse.y,_o}GetReactionTorque(o){return o*(this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse)}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}GetJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle}GetJointSpeed(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(o){return o!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=o),o}GetMotorTorque(o){return o*this.m_motorImpulse}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorTorque(o){o!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=o)}GetMaxMotorTorque(){return this.m_maxMotorTorque}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(o){return o!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=o,this.m_lowerImpulse=0,this.m_upperImpulse=0),o}GetLowerLimit(){return this.m_lowerAngle}GetUpperLimit(){return this.m_upperAngle}SetLimits(o,_o){(o!==this.m_lowerAngle||_o!==this.m_upperAngle)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_lowerAngle=o,this.m_upperAngle=_o)}SetMotorSpeed(o){return o!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=o),o}Draw(o){let{p2:_o,r:_r,pA:l,pB:e_}=PV,o_=this.m_bodyA.GetTransform(),i_=this.m_bodyB.GetTransform();r0.MultiplyVec2(o_,this.m_localAnchorA,l),r0.MultiplyVec2(i_,this.m_localAnchorB,e_),o.DrawPoint(l,5,ly.joint4),o.DrawPoint(e_,5,ly.joint5);let _e=this.m_bodyA.GetAngle(),ws=this.m_bodyB.GetAngle()-_e-this.m_referenceAngle,h_=.5;if(_r.Set(Math.cos(ws),Math.sin(ws)).Scale(h_),o.DrawSegment(e_,m_.Add(e_,_r,_o),ly.joint1),o.DrawCircle(e_,h_,ly.joint1),this.m_enableLimit){let{rlo:s_,rhi:w_}=PV;s_.Set(Math.cos(this.m_lowerAngle),Math.sin(this.m_lowerAngle)).Scale(h_),w_.Set(Math.cos(this.m_upperAngle),Math.sin(this.m_upperAngle)).Scale(h_),o.DrawSegment(e_,m_.Add(e_,s_,_o),ly.joint2),o.DrawSegment(e_,m_.Add(e_,w_,_o),ly.joint3)}o.DrawSegment(o_.p,l,ly.joint6),o.DrawSegment(l,e_,ly.joint6),o.DrawSegment(i_.p,e_,ly.joint6)}};var G4={qA:new ha,qB:new ha,rA:new m_,rB:new m_,lalcA:new m_,lalcB:new m_,K:new nP,P:new m_,Cdot1:new cC,impulse1:new m_,impulse:new cC,C1:new m_,C:new cC};var b6=class extends SA{constructor(o){super(o);this.m_stiffness=0;this.m_damping=0;this.m_bias=0;this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_referenceAngle=0;this.m_gamma=0;this.m_impulse=new cC;this.m_indexA=0;this.m_indexB=0;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_mass=new nP;this.m_localAnchorA.Copy(o.localAnchorA??m_.ZERO),this.m_localAnchorB.Copy(o.localAnchorB??m_.ZERO),this.m_referenceAngle=o.referenceAngle??0,this.m_stiffness=o.stiffness??0,this.m_damping=o.damping??0}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].a,_r=o.velocities[this.m_indexA].v,l=o.velocities[this.m_indexA].w,e_=o.positions[this.m_indexB].a,o_=o.velocities[this.m_indexB].v,i_=o.velocities[this.m_indexB].w,{qA:_e,qB:c_,lalcA:ws,lalcB:h_,K:s_}=G4;_e.Set(_o),c_.Set(e_),ha.MultiplyVec2(_e,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,ws),this.m_rA),ha.MultiplyVec2(c_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,h_),this.m_rB);let w_=this.m_invMassA,L_=this.m_invMassB,y_=this.m_invIA,I_=this.m_invIB;if(s_.ex.x=w_+L_+this.m_rA.y*this.m_rA.y*y_+this.m_rB.y*this.m_rB.y*I_,s_.ey.x=-this.m_rA.y*this.m_rA.x*y_-this.m_rB.y*this.m_rB.x*I_,s_.ez.x=-this.m_rA.y*y_-this.m_rB.y*I_,s_.ex.y=s_.ey.x,s_.ey.y=w_+L_+this.m_rA.x*this.m_rA.x*y_+this.m_rB.x*this.m_rB.x*I_,s_.ez.y=this.m_rA.x*y_+this.m_rB.x*I_,s_.ex.z=s_.ez.x,s_.ey.z=s_.ez.y,s_.ez.z=y_+I_,this.m_stiffness>0){s_.GetInverse22(this.m_mass);let k_=y_+I_,j_=e_-_o-this.m_referenceAngle,n2=this.m_damping,p2=this.m_stiffness,u2=o.step.dt;this.m_gamma=u2*(n2+u2*p2),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=j_*u2*p2*this.m_gamma,k_+=this.m_gamma,this.m_mass.ez.z=k_!==0?1/k_:0}else s_.ez.z===0?(s_.GetInverse22(this.m_mass),this.m_gamma=0,this.m_bias=0):(s_.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0);if(o.step.warmStarting){this.m_impulse.Scale(o.step.dtRatio);let{P:k_}=G4;k_.Copy(this.m_impulse),_r.SubtractScaled(w_,k_),l-=y_*(m_.Cross(this.m_rA,k_)+this.m_impulse.z),o_.AddScaled(L_,k_),i_+=I_*(m_.Cross(this.m_rB,k_)+this.m_impulse.z)}else this.m_impulse.SetZero();o.velocities[this.m_indexA].w=l,o.velocities[this.m_indexB].w=i_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_r=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,e_=o.velocities[this.m_indexB].w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,c_=this.m_invIB;if(this.m_stiffness>0){let ws=e_-_r,h_=-this.m_mass.ez.z*(ws+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=h_,_r-=_e*h_,e_+=c_*h_;let{Cdot1:s_,impulse1:w_}=G4;m_.Subtract(m_.AddCrossScalarVec2(l,e_,this.m_rB,m_.s_t0),m_.AddCrossScalarVec2(_o,_r,this.m_rA,m_.s_t1),s_),nP.MultiplyVec2(this.m_mass,s_,w_).Negate(),this.m_impulse.x+=w_.x,this.m_impulse.y+=w_.y;let L_=w_;_o.SubtractScaled(o_,L_),_r-=_e*m_.Cross(this.m_rA,L_),l.AddScaled(i_,L_),e_+=c_*m_.Cross(this.m_rB,L_)}else{let{Cdot1:ws,impulse:h_,P:s_}=G4;m_.Subtract(m_.AddCrossScalarVec2(l,e_,this.m_rB,m_.s_t0),m_.AddCrossScalarVec2(_o,_r,this.m_rA,m_.s_t1),ws),ws.z=e_-_r,nP.MultiplyVec3(this.m_mass,ws,h_).Negate(),this.m_impulse.Add(h_),s_.Set(h_.x,h_.y),_o.SubtractScaled(o_,s_),_r-=_e*(m_.Cross(this.m_rA,s_)+h_.z),l.AddScaled(i_,s_),e_+=c_*(m_.Cross(this.m_rB,s_)+h_.z)}o.velocities[this.m_indexA].w=_r,o.velocities[this.m_indexB].w=e_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,e_=o.positions[this.m_indexB].a,{qA:o_,qB:i_,lalcA:_e,lalcB:c_,K:ws,C1:h_,P:s_,rA:w_,rB:L_}=G4;o_.Set(_r),i_.Set(e_);let y_=this.m_invMassA,I_=this.m_invMassB,k_=this.m_invIA,j_=this.m_invIB;ha.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,_e),w_),ha.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,c_),L_);let n2,p2;if(ws.ex.x=y_+I_+w_.y*w_.y*k_+L_.y*L_.y*j_,ws.ey.x=-w_.y*w_.x*k_-L_.y*L_.x*j_,ws.ez.x=-w_.y*k_-L_.y*j_,ws.ex.y=ws.ey.x,ws.ey.y=y_+I_+w_.x*w_.x*k_+L_.x*L_.x*j_,ws.ez.y=w_.x*k_+L_.x*j_,ws.ex.z=ws.ez.x,ws.ey.z=ws.ez.y,ws.ez.z=k_+j_,this.m_stiffness>0)m_.Add(l,L_,h_).Subtract(_o).Subtract(w_),n2=h_.Length(),p2=0,ws.Solve22(h_.x,h_.y,s_).Negate(),_o.SubtractScaled(y_,s_),_r-=k_*m_.Cross(w_,s_),l.AddScaled(I_,s_),e_+=j_*m_.Cross(L_,s_);else{m_.Add(l,L_,h_).Subtract(_o).Subtract(w_),m_.Subtract(m_.Add(l,L_,m_.s_t0),m_.Add(_o,w_,m_.s_t1),h_);let u2=e_-_r-this.m_referenceAngle;n2=h_.Length(),p2=Math.abs(u2);let{impulse:T2,C:I2}=G4;I2.Set(h_.x,h_.y,u2),ws.ez.z>0?ws.Solve33(I2.x,I2.y,I2.z,T2).Negate():(ws.Solve22(h_.x,h_.y,T2).Negate(),T2.z=0),s_.Copy(T2),_o.SubtractScaled(y_,s_),_r-=k_*(m_.Cross(w_,s_)+T2.z),l.AddScaled(I_,s_),e_+=j_*(m_.Cross(L_,s_)+T2.z)}return o.positions[this.m_indexA].a=_r,o.positions[this.m_indexB].a=e_,n2<=$0&&p2<=dB}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return _o.x=o*this.m_impulse.x,_o.y=o*this.m_impulse.y,_o}GetReactionTorque(o){return o*this.m_impulse.z}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}SetStiffness(o){this.m_stiffness=o}GetStiffness(){return this.m_stiffness}SetDamping(o){this.m_damping=o}GetDamping(){return this.m_damping}};var zP={qA:new ha,qB:new ha,lalcA:new m_,lalcB:new m_,rA:new m_,rB:new m_,d:new m_,P:new m_,ay:new m_,pA:new m_,pB:new m_,axis:new m_,Draw:{p1:new m_,p2:new m_,pA:new m_,pB:new m_,axis:new m_,lower:new m_,upper:new m_,perp:new m_}};var u6=class extends SA{constructor(o){super(o);this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_localXAxisA=new m_;this.m_localYAxisA=new m_;this.m_impulse=0;this.m_motorImpulse=0;this.m_springImpulse=0;this.m_lowerImpulse=0;this.m_upperImpulse=0;this.m_translation=0;this.m_lowerTranslation=0;this.m_upperTranslation=0;this.m_maxMotorTorque=0;this.m_motorSpeed=0;this.m_enableLimit=!1;this.m_enableMotor=!1;this.m_stiffness=0;this.m_damping=0;this.m_indexA=0;this.m_indexB=0;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_ax=new m_;this.m_ay=new m_;this.m_sAx=0;this.m_sBx=0;this.m_sAy=0;this.m_sBy=0;this.m_mass=0;this.m_motorMass=0;this.m_axialMass=0;this.m_springMass=0;this.m_bias=0;this.m_gamma=0;this.m_localAnchorA.Copy(o.localAnchorA??m_.ZERO),this.m_localAnchorB.Copy(o.localAnchorB??m_.ZERO),this.m_localXAxisA.Copy(o.localAxisA??m_.UNITX),m_.CrossOneVec2(this.m_localXAxisA,this.m_localYAxisA),this.m_lowerTranslation=o.lowerTranslation??0,this.m_upperTranslation=o.upperTranslation??0,this.m_enableLimit=o.enableLimit??!1,this.m_maxMotorTorque=o.maxMotorTorque??0,this.m_motorSpeed=o.motorSpeed??0,this.m_enableMotor=o.enableMotor??!1,this.m_ax.SetZero(),this.m_ay.SetZero(),this.m_stiffness=o.stiffness??0,this.m_damping=o.damping??0}GetMotorSpeed(){return this.m_motorSpeed}GetMaxMotorTorque(){return this.m_maxMotorTorque}SetStiffness(o){this.m_stiffness=o}GetStiffness(){return this.m_stiffness}SetDamping(o){this.m_damping=o}GetDamping(){return this.m_damping}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=this.m_invMassA,_r=this.m_invMassB,l=this.m_invIA,e_=this.m_invIB,o_=o.positions[this.m_indexA].c,i_=o.positions[this.m_indexA].a,_e=o.velocities[this.m_indexA].v,c_=o.velocities[this.m_indexA].w,ws=o.positions[this.m_indexB].c,h_=o.positions[this.m_indexB].a,s_=o.velocities[this.m_indexB].v,w_=o.velocities[this.m_indexB].w,{qA:L_,qB:y_,lalcA:I_,lalcB:k_,rA:j_,rB:n2,d:p2}=zP;L_.Set(i_),y_.Set(h_),ha.MultiplyVec2(L_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,I_),j_),ha.MultiplyVec2(y_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,k_),n2),m_.Add(ws,n2,p2).Subtract(o_).Subtract(j_),ha.MultiplyVec2(L_,this.m_localYAxisA,this.m_ay),this.m_sAy=m_.Cross(m_.Add(p2,j_,m_.s_t0),this.m_ay),this.m_sBy=m_.Cross(n2,this.m_ay),this.m_mass=_o+_r+l*this.m_sAy*this.m_sAy+e_*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),ha.MultiplyVec2(L_,this.m_localXAxisA,this.m_ax),this.m_sAx=m_.Cross(m_.Add(p2,j_,m_.s_t0),this.m_ax),this.m_sBx=m_.Cross(n2,this.m_ax);let u2=_o+_r+l*this.m_sAx*this.m_sAx+e_*this.m_sBx*this.m_sBx;if(u2>0?this.m_axialMass=1/u2:this.m_axialMass=0,this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_stiffness>0&&u2>0){this.m_springMass=1/u2;let T2=m_.Dot(p2,this.m_ax),I2=o.step.dt;this.m_gamma=I2*(this.m_damping+I2*this.m_stiffness),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=T2*I2*this.m_stiffness*this.m_gamma,this.m_springMass=u2+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}else this.m_springImpulse=0;if(this.m_enableLimit?this.m_translation=m_.Dot(this.m_ax,p2):(this.m_lowerImpulse=0,this.m_upperImpulse=0),this.m_enableMotor?(this.m_motorMass=l+e_,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),o.step.warmStarting){this.m_impulse*=o.step.dtRatio,this.m_springImpulse*=o.step.dtRatio,this.m_motorImpulse*=o.step.dtRatio;let T2=this.m_springImpulse+this.m_lowerImpulse-this.m_upperImpulse,{P:I2}=zP;m_.Scale(this.m_impulse,this.m_ay,I2).AddScaled(T2,this.m_ax);let q2=this.m_impulse*this.m_sAy+T2*this.m_sAx+this.m_motorImpulse,O2=this.m_impulse*this.m_sBy+T2*this.m_sBx+this.m_motorImpulse;_e.SubtractScaled(this.m_invMassA,I2),c_-=this.m_invIA*q2,s_.AddScaled(this.m_invMassB,I2),w_+=this.m_invIB*O2}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;o.velocities[this.m_indexA].w=c_,o.velocities[this.m_indexB].w=w_}SolveVelocityConstraints(o){let _o=this.m_invMassA,_r=this.m_invMassB,l=this.m_invIA,e_=this.m_invIB,o_=o.velocities[this.m_indexA].v,i_=o.velocities[this.m_indexA].w,_e=o.velocities[this.m_indexB].v,c_=o.velocities[this.m_indexB].w,{P:ws}=zP;{let h_=m_.Dot(this.m_ax,m_.Subtract(_e,o_,m_.s_t0))+this.m_sBx*c_-this.m_sAx*i_,s_=-this.m_springMass*(h_+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=s_,m_.Scale(s_,this.m_ax,ws);let w_=s_*this.m_sAx,L_=s_*this.m_sBx;o_.SubtractScaled(_o,ws),i_-=l*w_,_e.AddScaled(_r,ws),c_+=e_*L_}{let h_=c_-i_-this.m_motorSpeed,s_=-this.m_motorMass*h_,w_=this.m_motorImpulse,L_=o.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=NA(this.m_motorImpulse+s_,-L_,L_),s_=this.m_motorImpulse-w_,i_-=l*s_,c_+=e_*s_}if(this.m_enableLimit){{let h_=this.m_translation-this.m_lowerTranslation,s_=m_.Dot(this.m_ax,m_.Subtract(_e,o_,m_.s_t0))+this.m_sBx*c_-this.m_sAx*i_,w_=-this.m_axialMass*(s_+Math.max(h_,0)*o.step.inv_dt),L_=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+w_,0),w_=this.m_lowerImpulse-L_,m_.Scale(w_,this.m_ax,ws);let y_=w_*this.m_sAx,I_=w_*this.m_sBx;o_.SubtractScaled(_o,ws),i_-=l*y_,_e.AddScaled(_r,ws),c_+=e_*I_}{let h_=this.m_upperTranslation-this.m_translation,s_=m_.Dot(this.m_ax,m_.Subtract(o_,_e,m_.s_t0))+this.m_sAx*i_-this.m_sBx*c_,w_=-this.m_axialMass*(s_+Math.max(h_,0)*o.step.inv_dt),L_=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+w_,0),w_=this.m_upperImpulse-L_,m_.Scale(w_,this.m_ax,ws);let y_=w_*this.m_sAx,I_=w_*this.m_sBx;o_.AddScaled(_o,ws),i_+=l*y_,_e.SubtractScaled(_r,ws),c_-=e_*I_}}{let h_=m_.Dot(this.m_ay,m_.Subtract(_e,o_,m_.s_t0))+this.m_sBy*c_-this.m_sAy*i_,s_=-this.m_mass*h_;this.m_impulse+=s_,m_.Scale(s_,this.m_ay,ws);let w_=s_*this.m_sAy,L_=s_*this.m_sBy;o_.SubtractScaled(_o,ws),i_-=l*w_,_e.AddScaled(_r,ws),c_+=e_*L_}o.velocities[this.m_indexA].w=i_,o.velocities[this.m_indexB].w=c_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_r=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,e_=o.positions[this.m_indexB].a,o_=0,{qA:i_,qB:_e,lalcA:c_,lalcB:ws,rA:h_,rB:s_,d:w_,P:L_,ay:y_}=zP;if(this.m_enableLimit){i_.Set(_r),_e.Set(e_),ha.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,c_),h_),ha.MultiplyVec2(_e,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,ws),s_),m_.Subtract(l,_o,w_).Add(s_).Subtract(h_);let I_=ha.MultiplyVec2(i_,this.m_localXAxisA,this.m_ax),k_=m_.Cross(m_.Add(w_,h_,m_.s_t0),this.m_ax),j_=m_.Cross(s_,this.m_ax),n2=0,p2=m_.Dot(I_,w_);if(Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*$0?n2=p2:p2<=this.m_lowerTranslation?n2=Math.min(p2-this.m_lowerTranslation,0):p2>=this.m_upperTranslation&&(n2=Math.max(p2-this.m_upperTranslation,0)),n2!==0){let u2=this.m_invMassA+this.m_invMassB+this.m_invIA*k_*k_+this.m_invIB*j_*j_,T2=0;u2!==0&&(T2=-n2/u2),m_.Scale(T2,I_,L_);let I2=T2*k_,q2=T2*j_;_o.SubtractScaled(this.m_invMassA,L_),_r-=this.m_invIA*I2,l.AddScaled(this.m_invMassB,L_),e_+=this.m_invIB*q2,o_=Math.abs(n2)}}{i_.Set(_r),_e.Set(e_),ha.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,c_),h_),ha.MultiplyVec2(_e,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,ws),s_),m_.Subtract(l,_o,w_).Add(s_).Subtract(h_),ha.MultiplyVec2(i_,this.m_localYAxisA,y_);let I_=m_.Cross(m_.Add(w_,h_,m_.s_t0),y_),k_=m_.Cross(s_,y_),j_=m_.Dot(w_,y_),n2=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,p2=0;n2!==0&&(p2=-j_/n2),m_.Scale(p2,y_,L_);let u2=p2*I_,T2=p2*k_;_o.SubtractScaled(this.m_invMassA,L_),_r-=this.m_invIA*u2,l.AddScaled(this.m_invMassB,L_),e_+=this.m_invIB*T2,o_=Math.max(o_,Math.abs(j_))}return o.positions[this.m_indexA].a=_r,o.positions[this.m_indexB].a=e_,o_<=$0}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){let _r=this.m_springImpulse+this.m_lowerImpulse-this.m_upperImpulse;return _o.x=o*(this.m_impulse*this.m_ay.x+_r*this.m_ax.x),_o.y=o*(this.m_impulse*this.m_ay.y+_r*this.m_ax.y),_o}GetReactionTorque(o){return o*this.m_motorImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetJointTranslation(){let o=this.m_bodyA,_o=this.m_bodyB,{pA:_r,pB:l,d:e_,axis:o_}=zP;return o.GetWorldPoint(this.m_localAnchorA,_r),_o.GetWorldPoint(this.m_localAnchorB,l),m_.Subtract(l,_r,e_),o.GetWorldVector(this.m_localXAxisA,o_),m_.Dot(e_,o_)}GetJointLinearSpeed(){let o=this.m_bodyA,_o=this.m_bodyB,{rA:_r,rB:l,lalcA:e_,lalcB:o_,axis:i_}=zP;ha.MultiplyVec2(o.m_xf.q,m_.Subtract(this.m_localAnchorA,o.m_sweep.localCenter,e_),_r),ha.MultiplyVec2(_o.m_xf.q,m_.Subtract(this.m_localAnchorB,_o.m_sweep.localCenter,o_),l);let _e=m_.Add(o.m_sweep.c,_r,m_.s_t0),c_=m_.Add(_o.m_sweep.c,l,m_.s_t1),ws=m_.Subtract(c_,_e,m_.s_t2);ha.MultiplyVec2(o.m_xf.q,this.m_localXAxisA,i_);let h_=o.m_linearVelocity,s_=_o.m_linearVelocity,w_=o.m_angularVelocity,L_=_o.m_angularVelocity;return m_.Dot(ws,m_.CrossScalarVec2(w_,i_,m_.s_t0))+m_.Dot(i_,m_.AddCrossScalarVec2(s_,L_,l,m_.s_t0).Subtract(h_).Subtract(m_.CrossScalarVec2(w_,_r,m_.s_t1)))}GetJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a}GetJointAngularSpeed(){let o=this.m_bodyA.m_angularVelocity;return this.m_bodyB.m_angularVelocity-o}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(o){return o!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=o),o}SetMotorSpeed(o){return o!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=o),o}SetMaxMotorTorque(o){o!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=o)}GetMotorTorque(o){return o*this.m_motorImpulse}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(o){return o!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=o,this.m_lowerImpulse=0,this.m_upperImpulse=0),o}GetLowerLimit(){return this.m_lowerTranslation}GetUpperLimit(){return this.m_upperTranslation}SetLimits(o,_o){(o!==this.m_lowerTranslation||_o!==this.m_upperTranslation)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=o,this.m_upperTranslation=_o,this.m_lowerImpulse=0,this.m_upperImpulse=0)}Draw(o){let{p1:_o,p2:_r,pA:l,pB:e_,axis:o_}=zP.Draw,i_=this.m_bodyA.GetTransform(),_e=this.m_bodyB.GetTransform();if(r0.MultiplyVec2(i_,this.m_localAnchorA,l),r0.MultiplyVec2(_e,this.m_localAnchorB,e_),ha.MultiplyVec2(i_.q,this.m_localXAxisA,o_),o.DrawSegment(l,e_,ly.joint5),this.m_enableLimit){let{lower:c_,upper:ws,perp:h_}=zP.Draw;m_.AddScaled(l,this.m_lowerTranslation,o_,c_),m_.AddScaled(l,this.m_upperTranslation,o_,ws),ha.MultiplyVec2(i_.q,this.m_localYAxisA,h_),o.DrawSegment(c_,ws,ly.joint1),o.DrawSegment(m_.SubtractScaled(c_,.5,h_,_o),m_.AddScaled(c_,.5,h_,_r),ly.joint2),o.DrawSegment(m_.SubtractScaled(ws,.5,h_,_o),m_.AddScaled(ws,.5,h_,_r),ly.joint3)}else o.DrawSegment(m_.Subtract(l,o_,_o),m_.Add(l,o_,_r),ly.joint1);o.DrawPoint(l,5,ly.joint1),o.DrawPoint(e_,5,ly.joint4)}};function L9(x,V){return Math.sqrt(x*V)}function q9(x,V){return x>V?x:V}function E9(x,V){return x<V?x:V}var h6=class{constructor(V){this.m_other=null;this.prev=null;this.next=null;this.contact=V}get other(){return O1(this.m_other!==null),this.m_other}set other(V){O1(this.m_other===null),this.m_other=V}Reset(){this.m_other=null,this.prev=null,this.next=null}},YS=class{constructor(){this.m_islandFlag=!1;this.m_touchingFlag=!1;this.m_enabledFlag=!1;this.m_filterFlag=!1;this.m_bulletHitFlag=!1;this.m_toiFlag=!1;this.m_prev=null;this.m_next=null;this.m_nodeA=new h6(this);this.m_nodeB=new h6(this);this.m_indexA=0;this.m_indexB=0;this.m_manifold=new UD;this.m_toiCount=0;this.m_toi=0;this.m_friction=0;this.m_restitution=0;this.m_restitutionThreshold=0;this.m_tangentSpeed=0;this.m_oldManifold=new UD}GetManifold(){return this.m_manifold}GetWorldManifold(V){let o=this.m_fixtureA.GetBody(),_o=this.m_fixtureB.GetBody(),_r=this.GetShapeA(),l=this.GetShapeB();V.Initialize(this.m_manifold,o.GetTransform(),_r.m_radius,_o.GetTransform(),l.m_radius)}IsTouching(){return this.m_touchingFlag}SetEnabled(V){this.m_enabledFlag=V}IsEnabled(){return this.m_enabledFlag}GetNext(){return this.m_next}GetFixtureA(){return this.m_fixtureA}GetChildIndexA(){return this.m_indexA}GetShapeA(){return this.m_fixtureA.GetShape()}GetFixtureB(){return this.m_fixtureB}GetChildIndexB(){return this.m_indexB}GetShapeB(){return this.m_fixtureB.GetShape()}FlagForFiltering(){this.m_filterFlag=!0}SetFriction(V){this.m_friction=V}GetFriction(){return this.m_friction}ResetFriction(){this.m_friction=L9(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)}SetRestitution(V){this.m_restitution=V}GetRestitution(){return this.m_restitution}ResetRestitution(){this.m_restitution=q9(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}SetRestitutionThreshold(V){this.m_restitutionThreshold=V}GetRestitutionThreshold(){return this.m_restitutionThreshold}ResetRestitutionThreshold(){this.m_restitutionThreshold=E9(this.m_fixtureA.m_restitutionThreshold,this.m_fixtureB.m_restitutionThreshold)}SetTangentSpeed(V){this.m_tangentSpeed=V}GetTangentSpeed(){return this.m_tangentSpeed}Reset(V,o,_o,_r){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!0,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_fixtureA=V,this.m_fixtureB=_o,this.m_indexA=o,this.m_indexB=_r,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.Reset(),this.m_nodeB.Reset(),this.m_toiCount=0,this.m_friction=L9(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=q9(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution),this.m_restitutionThreshold=E9(this.m_fixtureA.m_restitutionThreshold,this.m_fixtureB.m_restitutionThreshold)}Update(V){let o=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=o,this.m_enabledFlag=!0;let _o=!1,_r=this.m_touchingFlag,l=this.m_fixtureA.IsSensor(),e_=this.m_fixtureB.IsSensor(),o_=l||e_,i_=this.m_fixtureA.GetBody(),_e=this.m_fixtureB.GetBody(),c_=i_.GetTransform(),ws=_e.GetTransform();if(o_){let h_=this.GetShapeA(),s_=this.GetShapeB();_o=jG(h_,this.m_indexA,s_,this.m_indexB,c_,ws),this.m_manifold.pointCount=0}else{this.Evaluate(this.m_manifold,c_,ws),_o=this.m_manifold.pointCount>0;for(let h_=0;h_<this.m_manifold.pointCount;++h_){let s_=this.m_manifold.points[h_];s_.normalImpulse=0,s_.tangentImpulse=0;let w_=s_.id;for(let L_=0;L_<this.m_oldManifold.pointCount;++L_){let y_=this.m_oldManifold.points[L_];if(y_.id.key===w_.key){s_.normalImpulse=y_.normalImpulse,s_.tangentImpulse=y_.tangentImpulse;break}}}_o!==_r&&(i_.SetAwake(!0),_e.SetAwake(!0))}this.m_touchingFlag=_o,!_r&&_o&&V&&V.BeginContact(this),_r&&!_o&&V&&V.EndContact(this),!o_&&_o&&V&&V.PreSolve(this,this.m_oldManifold)}};var d6=class extends YS{Evaluate(V,o,_o){V9(V,this.GetShapeA(),o,this.GetShapeB(),_o)}};var y6=class extends YS{Evaluate(V,o,_o){G9(V,this.GetShapeA(),o,this.GetShapeB(),_o)}};var x6=class extends YS{Evaluate(V,o,_o){D9(V,this.GetShapeA(),o,this.GetShapeB(),_o)}};var f6=class extends YS{Evaluate(V,o,_o){KG(V,this.GetShapeA(),o,this.GetShapeB(),_o)}};var g6=class extends YS{Evaluate(V,o,_o){QG(V,this.GetShapeA(),o,this.GetShapeB(),_o)}};var v6=class x extends YS{static{this.Evaluate_s_edge=new FB}Evaluate(V,o,_o){let _r=x.Evaluate_s_edge;this.GetShapeA().GetChildEdge(_r,this.m_indexA),KG(V,_r,o,this.GetShapeB(),_o)}};var A6=class x extends YS{static{this.Evaluate_s_edge=new FB}Evaluate(V,o,_o){let _r=x.Evaluate_s_edge;this.GetShapeA().GetChildEdge(_r,this.m_indexA),QG(V,_r,o,this.GetShapeB(),_o)}};var S6=class{constructor(){let V=new Array(4);for(let o=0;o<4;o++)V[o]=new Array(4);this.m_registers=V,this.AddType(d6,0,0),this.AddType(x6,2,0),this.AddType(y6,2,2),this.AddType(f6,1,0),this.AddType(g6,1,2),this.AddType(v6,3,0),this.AddType(A6,3,2)}AddType(V,o,_o){let _r=[],l=e_=>{_r.push(e_)};this.m_registers[o][_o]={createFcn(e_,o_,i_,_e){let c_=_r.pop()??new V;return c_.Reset(e_,o_,i_,_e),c_},destroyFcn:l},o!==_o&&(this.m_registers[_o][o]={createFcn(e_,o_,i_,_e){let c_=_r.pop()??new V;return c_.Reset(i_,_e,e_,o_),c_},destroyFcn:l})}Create(V,o,_o,_r){let l=V.GetType(),e_=_o.GetType(),o_=this.m_registers[l][e_];return o_?o_.createFcn(V,o,_o,_r):null}Destroy(V){let o=V.m_fixtureA.GetType(),_o=V.m_fixtureB.GetType();this.m_registers[o][_o]?.destroyFcn(V)}};var C6=class x{ShouldCollide(V,o){let _o=V.GetFilterData(),_r=o.GetFilterData();return _o.groupIndex===_r.groupIndex&&_o.groupIndex!==0?_o.groupIndex>0:(_o.maskBits&_r.categoryBits)!==0&&(_o.categoryBits&_r.maskBits)!==0}static{this.b2_defaultFilter=new x}},B6=class{constructor(){this.normalImpulses=kP(gS);this.tangentImpulses=kP(gS);this.count=0}},P6=class x{BeginContact(V){}EndContact(V){}PreSolve(V,o){}PostSolve(V,o){}static{this.b2_defaultListener=new x}};var w6=class{constructor(){this.m_broadPhase=new OG;this.m_contactList=null;this.m_contactCount=0;this.m_contactFilter=C6.b2_defaultFilter;this.m_contactListener=P6.b2_defaultListener;this.m_contactFactory=new S6;this.AddPair=(V,o)=>{let _o=V.fixture,_r=o.fixture,l=V.childIndex,e_=o.childIndex,o_=_o.GetBody(),i_=_r.GetBody();if(o_===i_)return;let _e=i_.GetContactList();for(;_e;){if(_e.other===o_){let ws=_e.contact.GetFixtureA(),h_=_e.contact.GetFixtureB(),s_=_e.contact.GetChildIndexA(),w_=_e.contact.GetChildIndexB();if(ws===_o&&h_===_r&&s_===l&&w_===e_||ws===_r&&h_===_o&&s_===e_&&w_===l)return}_e=_e.next}if(i_.ShouldCollide(o_)===!1||this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(_o,_r))return;let c_=this.m_contactFactory.Create(_o,l,_r,e_);c_!==null&&(_o=c_.GetFixtureA(),_r=c_.GetFixtureB(),l=c_.GetChildIndexA(),e_=c_.GetChildIndexB(),o_=_o.m_body,i_=_r.m_body,c_.m_prev=null,c_.m_next=this.m_contactList,this.m_contactList!==null&&(this.m_contactList.m_prev=c_),this.m_contactList=c_,c_.m_nodeA.other=i_,c_.m_nodeA.prev=null,c_.m_nodeA.next=o_.m_contactList,o_.m_contactList!==null&&(o_.m_contactList.prev=c_.m_nodeA),o_.m_contactList=c_.m_nodeA,c_.m_nodeB.other=o_,c_.m_nodeB.prev=null,c_.m_nodeB.next=i_.m_contactList,i_.m_contactList!==null&&(i_.m_contactList.prev=c_.m_nodeB),i_.m_contactList=c_.m_nodeB,++this.m_contactCount)}}FindNewContacts(){this.m_broadPhase.UpdatePairs(this.AddPair)}Destroy(V){let o=V.GetFixtureA(),_o=V.GetFixtureB(),_r=o.GetBody(),l=_o.GetBody();this.m_contactListener&&V.IsTouching()&&this.m_contactListener.EndContact(V),V.m_prev&&(V.m_prev.m_next=V.m_next),V.m_next&&(V.m_next.m_prev=V.m_prev),V===this.m_contactList&&(this.m_contactList=V.m_next),V.m_nodeA.prev&&(V.m_nodeA.prev.next=V.m_nodeA.next),V.m_nodeA.next&&(V.m_nodeA.next.prev=V.m_nodeA.prev),V.m_nodeA===_r.m_contactList&&(_r.m_contactList=V.m_nodeA.next),V.m_nodeB.prev&&(V.m_nodeB.prev.next=V.m_nodeB.next),V.m_nodeB.next&&(V.m_nodeB.next.prev=V.m_nodeB.prev),V.m_nodeB===l.m_contactList&&(l.m_contactList=V.m_nodeB.next),V.m_manifold.pointCount>0&&!o.IsSensor()&&!_o.IsSensor()&&(o.GetBody().SetAwake(!0),_o.GetBody().SetAwake(!0)),this.m_contactFactory.Destroy(V),--this.m_contactCount}Collide(){let V=this.m_contactList;for(;V;){let o=V.GetFixtureA(),_o=V.GetFixtureB(),_r=V.GetChildIndexA(),l=V.GetChildIndexB(),e_=o.GetBody(),o_=_o.GetBody();if(V.m_filterFlag){if(!o_.ShouldCollide(e_)||this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(o,_o)){let s_=V;V=s_.m_next,this.Destroy(s_);continue}V.m_filterFlag=!1}let i_=e_.IsAwake()&&e_.m_type!==0,_e=o_.IsAwake()&&o_.m_type!==0;if(!i_&&!_e){V=V.m_next;continue}let c_=o.m_proxies[_r].treeNode,ws=_o.m_proxies[l].treeNode;if(!c_.aabb.TestOverlap(ws.aabb)){let s_=V;V=s_.m_next,this.Destroy(s_);continue}V.Update(this.m_contactListener),V=V.m_next}}};var ZD=class{constructor(){this.step=0;this.collide=0;this.solve=0;this.solveInit=0;this.solveVelocity=0;this.solvePosition=0;this.broadphase=0;this.solveTOI=0}Reset(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this}},pP=class x{constructor(){this.dt=0;this.inv_dt=0;this.dtRatio=0;this.config={velocityIterations:0,positionIterations:0};this.warmStarting=!1}static Create(){return new x}Copy(V){return this.dt=V.dt,this.inv_dt=V.inv_dt,this.dtRatio=V.dtRatio,this.config={...V.config},this.warmStarting=V.warmStarting,this}},KD=class{constructor(){this.c=new m_;this.a=0}},QD=class{constructor(){this.v=new m_;this.w=0}},V6=class{constructor(){this.step=pP.Create()}};var k9=!0;var eI=class{constructor(){this.rA=new m_;this.rB=new m_;this.normalImpulse=0;this.tangentImpulse=0;this.normalMass=0;this.tangentMass=0;this.velocityBias=0}},D6=class{constructor(){this.points=U1(gS,eI);this.normal=new m_;this.tangent=new m_;this.normalMass=new LA;this.K=new LA;this.indexA=0;this.indexB=0;this.invMassA=0;this.invMassB=0;this.invIA=0;this.invIB=0;this.friction=0;this.restitution=0;this.threshold=0;this.tangentSpeed=0;this.pointCount=0;this.contactIndex=0}},M6=class{constructor(){this.localPoints=U1(gS,m_);this.localNormal=new m_;this.localPoint=new m_;this.indexA=0;this.indexB=0;this.invMassA=0;this.invMassB=0;this.localCenterA=new m_;this.localCenterB=new m_;this.invIA=0;this.invIB=0;this.type=0;this.radiusA=0;this.radiusB=0;this.pointCount=0}},G6=class{constructor(){this.step=pP.Create();this.count=0}},J6=class x{constructor(){this.normal=new m_;this.point=new m_;this.separation=0}static{this.Initialize_s_pointA=new m_}static{this.Initialize_s_pointB=new m_}static{this.Initialize_s_planePoint=new m_}static{this.Initialize_s_clipPoint=new m_}Initialize(V,o,_o,_r){let l=x.Initialize_s_pointA,e_=x.Initialize_s_pointB,o_=x.Initialize_s_planePoint,i_=x.Initialize_s_clipPoint;switch(V.type){case 0:r0.MultiplyVec2(o,V.localPoint,l),r0.MultiplyVec2(_o,V.localPoints[0],e_),m_.Subtract(e_,l,this.normal).Normalize(),m_.Mid(l,e_,this.point),this.separation=m_.Dot(m_.Subtract(e_,l,m_.s_t0),this.normal)-V.radiusA-V.radiusB;break;case 1:ha.MultiplyVec2(o.q,V.localNormal,this.normal),r0.MultiplyVec2(o,V.localPoint,o_),r0.MultiplyVec2(_o,V.localPoints[_r],i_),this.separation=m_.Dot(m_.Subtract(i_,o_,m_.s_t0),this.normal)-V.radiusA-V.radiusB,this.point.Copy(i_);break;case 2:ha.MultiplyVec2(_o.q,V.localNormal,this.normal),r0.MultiplyVec2(_o,V.localPoint,o_),r0.MultiplyVec2(o,V.localPoints[_r],i_),this.separation=m_.Dot(m_.Subtract(i_,o_,m_.s_t0),this.normal)-V.radiusA-V.radiusB,this.point.Copy(i_),this.normal.Negate();break}}},I6=class x{constructor(){this.m_step=pP.Create();this.m_positionConstraints=U1(1024,M6);this.m_velocityConstraints=U1(1024,D6);this.m_count=0}Initialize(V){if(this.m_step.Copy(V.step),this.m_count=V.count,this.m_positionConstraints.length<this.m_count){let o=Math.max(this.m_positionConstraints.length*2,this.m_count);for(;this.m_positionConstraints.length<o;)this.m_positionConstraints[this.m_positionConstraints.length]=new M6}if(this.m_velocityConstraints.length<this.m_count){let o=Math.max(this.m_velocityConstraints.length*2,this.m_count);for(;this.m_velocityConstraints.length<o;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new D6}this.m_positions=V.positions,this.m_velocities=V.velocities,this.m_contacts=V.contacts;for(let o=0;o<this.m_count;++o){let _o=this.m_contacts[o],_r=_o.m_fixtureA,l=_o.m_fixtureB,e_=_r.GetShape(),o_=l.GetShape(),i_=e_.m_radius,_e=o_.m_radius,c_=_r.GetBody(),ws=l.GetBody(),h_=_o.GetManifold(),{pointCount:s_}=h_,w_=this.m_velocityConstraints[o];w_.friction=_o.m_friction,w_.restitution=_o.m_restitution,w_.threshold=_o.m_restitutionThreshold,w_.tangentSpeed=_o.m_tangentSpeed,w_.indexA=c_.m_islandIndex,w_.indexB=ws.m_islandIndex,w_.invMassA=c_.m_invMass,w_.invMassB=ws.m_invMass,w_.invIA=c_.m_invI,w_.invIB=ws.m_invI,w_.contactIndex=o,w_.pointCount=s_,w_.K.SetZero(),w_.normalMass.SetZero();let L_=this.m_positionConstraints[o];L_.indexA=c_.m_islandIndex,L_.indexB=ws.m_islandIndex,L_.invMassA=c_.m_invMass,L_.invMassB=ws.m_invMass,L_.localCenterA.Copy(c_.m_sweep.localCenter),L_.localCenterB.Copy(ws.m_sweep.localCenter),L_.invIA=c_.m_invI,L_.invIB=ws.m_invI,L_.localNormal.Copy(h_.localNormal),L_.localPoint.Copy(h_.localPoint),L_.pointCount=s_,L_.radiusA=i_,L_.radiusB=_e,L_.type=h_.type;for(let y_=0;y_<s_;++y_){let I_=h_.points[y_],k_=w_.points[y_];this.m_step.warmStarting?(k_.normalImpulse=this.m_step.dtRatio*I_.normalImpulse,k_.tangentImpulse=this.m_step.dtRatio*I_.tangentImpulse):(k_.normalImpulse=0,k_.tangentImpulse=0),k_.rA.SetZero(),k_.rB.SetZero(),k_.normalMass=0,k_.tangentMass=0,k_.velocityBias=0,L_.localPoints[y_].Copy(I_.localPoint)}}return this}static{this.InitializeVelocityConstraints_s_xfA=new r0}static{this.InitializeVelocityConstraints_s_xfB=new r0}static{this.InitializeVelocityConstraints_s_worldManifold=new qG}InitializeVelocityConstraints(){let V=x.InitializeVelocityConstraints_s_xfA,o=x.InitializeVelocityConstraints_s_xfB,_o=x.InitializeVelocityConstraints_s_worldManifold,_r=1e3;for(let l=0;l<this.m_count;++l){let e_=this.m_velocityConstraints[l],o_=this.m_positionConstraints[l],{radiusA:i_,radiusB:_e,localCenterA:c_,localCenterB:ws}=o_,h_=this.m_contacts[e_.contactIndex].GetManifold(),{indexA:s_,indexB:w_,tangent:L_,pointCount:y_}=e_,I_=e_.invMassA,k_=e_.invMassB,j_=e_.invIA,n2=e_.invIB,p2=this.m_positions[s_].c,u2=this.m_positions[s_].a,T2=this.m_velocities[s_].v,I2=this.m_velocities[s_].w,q2=this.m_positions[w_].c,O2=this.m_positions[w_].a,X2=this.m_velocities[w_].v,S_=this.m_velocities[w_].w;V.q.Set(u2),o.q.Set(O2),m_.Subtract(p2,ha.MultiplyVec2(V.q,c_,m_.s_t0),V.p),m_.Subtract(q2,ha.MultiplyVec2(o.q,ws,m_.s_t0),o.p),_o.Initialize(h_,V,i_,o,_e),e_.normal.Copy(_o.normal),m_.CrossVec2One(e_.normal,L_);for(let q_=0;q_<y_;++q_){let N_=e_.points[q_];m_.Subtract(_o.points[q_],p2,N_.rA),m_.Subtract(_o.points[q_],q2,N_.rB);let W_=m_.Cross(N_.rA,e_.normal),o2=m_.Cross(N_.rB,e_.normal),m2=I_+k_+j_*W_*W_+n2*o2*o2;N_.normalMass=m2>0?1/m2:0;let _2=m_.Cross(N_.rA,L_),v_=m_.Cross(N_.rB,L_),G_=I_+k_+j_*_2*_2+n2*v_*v_;N_.tangentMass=G_>0?1/G_:0,N_.velocityBias=0;let K_=m_.Dot(e_.normal,m_.Subtract(m_.AddCrossScalarVec2(X2,S_,N_.rB,m_.s_t0),m_.AddCrossScalarVec2(T2,I2,N_.rA,m_.s_t1),m_.s_t0));K_<-e_.threshold&&(N_.velocityBias=-e_.restitution*K_)}if(e_.pointCount===2&&k9){let q_=e_.points[0],N_=e_.points[1],W_=m_.Cross(q_.rA,e_.normal),o2=m_.Cross(q_.rB,e_.normal),m2=m_.Cross(N_.rA,e_.normal),_2=m_.Cross(N_.rB,e_.normal),v_=I_+k_+j_*W_*W_+n2*o2*o2,G_=I_+k_+j_*m2*m2+n2*_2*_2,K_=I_+k_+j_*W_*m2+n2*o2*_2;v_*v_<_r*(v_*G_-K_*K_)?(e_.K.ex.Set(v_,K_),e_.K.ey.Set(K_,G_),e_.K.GetInverse(e_.normalMass)):e_.pointCount=1}}}static{this.WarmStart_s_P=new m_}WarmStart(){let V=x.WarmStart_s_P;for(let o=0;o<this.m_count;++o){let _o=this.m_velocityConstraints[o],{indexA:_r,indexB:l,pointCount:e_,normal:o_,tangent:i_}=_o,_e=_o.invMassA,c_=_o.invIA,ws=_o.invMassB,h_=_o.invIB,s_=this.m_velocities[_r].v,w_=this.m_velocities[_r].w,L_=this.m_velocities[l].v,y_=this.m_velocities[l].w;for(let I_=0;I_<e_;++I_){let k_=_o.points[I_];m_.Add(m_.Scale(k_.normalImpulse,o_,m_.s_t0),m_.Scale(k_.tangentImpulse,i_,m_.s_t1),V),w_-=c_*m_.Cross(k_.rA,V),s_.SubtractScaled(_e,V),y_+=h_*m_.Cross(k_.rB,V),L_.AddScaled(ws,V)}this.m_velocities[_r].w=w_,this.m_velocities[l].w=y_}}static{this.SolveVelocityConstraints_s_dv=new m_}static{this.SolveVelocityConstraints_s_dv1=new m_}static{this.SolveVelocityConstraints_s_dv2=new m_}static{this.SolveVelocityConstraints_s_P=new m_}static{this.SolveVelocityConstraints_s_a=new m_}static{this.SolveVelocityConstraints_s_b=new m_}static{this.SolveVelocityConstraints_s_x=new m_}static{this.SolveVelocityConstraints_s_d=new m_}static{this.SolveVelocityConstraints_s_P1=new m_}static{this.SolveVelocityConstraints_s_P2=new m_}static{this.SolveVelocityConstraints_s_P1P2=new m_}SolveVelocityConstraints(){let V=x.SolveVelocityConstraints_s_dv,o=x.SolveVelocityConstraints_s_dv1,_o=x.SolveVelocityConstraints_s_dv2,_r=x.SolveVelocityConstraints_s_P,l=x.SolveVelocityConstraints_s_a,e_=x.SolveVelocityConstraints_s_b,o_=x.SolveVelocityConstraints_s_x,i_=x.SolveVelocityConstraints_s_d,_e=x.SolveVelocityConstraints_s_P1,c_=x.SolveVelocityConstraints_s_P2,ws=x.SolveVelocityConstraints_s_P1P2;for(let h_=0;h_<this.m_count;++h_){let s_=this.m_velocityConstraints[h_],{indexA:w_,indexB:L_,pointCount:y_,normal:I_,tangent:k_,friction:j_}=s_,n2=s_.invMassA,p2=s_.invIA,u2=s_.invMassB,T2=s_.invIB,I2=this.m_velocities[w_].v,q2=this.m_velocities[w_].w,O2=this.m_velocities[L_].v,X2=this.m_velocities[L_].w;for(let S_=0;S_<y_;++S_){let q_=s_.points[S_];m_.Subtract(m_.AddCrossScalarVec2(O2,X2,q_.rB,m_.s_t0),m_.AddCrossScalarVec2(I2,q2,q_.rA,m_.s_t1),V);let N_=m_.Dot(V,k_)-s_.tangentSpeed,W_=q_.tangentMass*-N_,o2=j_*q_.normalImpulse,m2=NA(q_.tangentImpulse+W_,-o2,o2);W_=m2-q_.tangentImpulse,q_.tangentImpulse=m2,m_.Scale(W_,k_,_r),I2.SubtractScaled(n2,_r),q2-=p2*m_.Cross(q_.rA,_r),O2.AddScaled(u2,_r),X2+=T2*m_.Cross(q_.rB,_r)}if(s_.pointCount===1||k9===!1)for(let S_=0;S_<y_;++S_){let q_=s_.points[S_];m_.Subtract(m_.AddCrossScalarVec2(O2,X2,q_.rB,m_.s_t0),m_.AddCrossScalarVec2(I2,q2,q_.rA,m_.s_t1),V);let N_=m_.Dot(V,I_),W_=-q_.normalMass*(N_-q_.velocityBias),o2=Math.max(q_.normalImpulse+W_,0);W_=o2-q_.normalImpulse,q_.normalImpulse=o2,m_.Scale(W_,I_,_r),I2.SubtractScaled(n2,_r),q2-=p2*m_.Cross(q_.rA,_r),O2.AddScaled(u2,_r),X2+=T2*m_.Cross(q_.rB,_r)}else{let S_=s_.points[0],q_=s_.points[1];l.Set(S_.normalImpulse,q_.normalImpulse),m_.Subtract(m_.AddCrossScalarVec2(O2,X2,S_.rB,m_.s_t0),m_.AddCrossScalarVec2(I2,q2,S_.rA,m_.s_t1),o),m_.Subtract(m_.AddCrossScalarVec2(O2,X2,q_.rB,m_.s_t0),m_.AddCrossScalarVec2(I2,q2,q_.rA,m_.s_t1),_o);let N_=m_.Dot(o,I_),W_=m_.Dot(_o,I_);for(e_.x=N_-S_.velocityBias,e_.y=W_-q_.velocityBias,e_.Subtract(LA.MultiplyVec2(s_.K,l,m_.s_t0));;){if(LA.MultiplyVec2(s_.normalMass,e_,o_).Negate(),o_.x>=0&&o_.y>=0){m_.Subtract(o_,l,i_),m_.Scale(i_.x,I_,_e),m_.Scale(i_.y,I_,c_),m_.Add(_e,c_,ws),I2.SubtractScaled(n2,ws),q2-=p2*(m_.Cross(S_.rA,_e)+m_.Cross(q_.rA,c_)),O2.AddScaled(u2,ws),X2+=T2*(m_.Cross(S_.rB,_e)+m_.Cross(q_.rB,c_)),S_.normalImpulse=o_.x,q_.normalImpulse=o_.y;break}if(o_.x=-S_.normalMass*e_.x,o_.y=0,N_=0,W_=s_.K.ex.y*o_.x+e_.y,o_.x>=0&&W_>=0){m_.Subtract(o_,l,i_),m_.Scale(i_.x,I_,_e),m_.Scale(i_.y,I_,c_),m_.Add(_e,c_,ws),I2.SubtractScaled(n2,ws),q2-=p2*(m_.Cross(S_.rA,_e)+m_.Cross(q_.rA,c_)),O2.AddScaled(u2,ws),X2+=T2*(m_.Cross(S_.rB,_e)+m_.Cross(q_.rB,c_)),S_.normalImpulse=o_.x,q_.normalImpulse=o_.y;break}if(o_.x=0,o_.y=-q_.normalMass*e_.y,N_=s_.K.ey.x*o_.y+e_.x,W_=0,o_.y>=0&&N_>=0){m_.Subtract(o_,l,i_),m_.Scale(i_.x,I_,_e),m_.Scale(i_.y,I_,c_),m_.Add(_e,c_,ws),I2.SubtractScaled(n2,ws),q2-=p2*(m_.Cross(S_.rA,_e)+m_.Cross(q_.rA,c_)),O2.AddScaled(u2,ws),X2+=T2*(m_.Cross(S_.rB,_e)+m_.Cross(q_.rB,c_)),S_.normalImpulse=o_.x,q_.normalImpulse=o_.y;break}if(o_.x=0,o_.y=0,N_=e_.x,W_=e_.y,N_>=0&&W_>=0){m_.Subtract(o_,l,i_),m_.Scale(i_.x,I_,_e),m_.Scale(i_.y,I_,c_),m_.Add(_e,c_,ws),I2.SubtractScaled(n2,ws),q2-=p2*(m_.Cross(S_.rA,_e)+m_.Cross(q_.rA,c_)),O2.AddScaled(u2,ws),X2+=T2*(m_.Cross(S_.rB,_e)+m_.Cross(q_.rB,c_)),S_.normalImpulse=o_.x,q_.normalImpulse=o_.y;break}break}}this.m_velocities[w_].w=q2,this.m_velocities[L_].w=X2}}StoreImpulses(){for(let V=0;V<this.m_count;++V){let o=this.m_velocityConstraints[V],_o=this.m_contacts[o.contactIndex].GetManifold();for(let _r=0;_r<o.pointCount;++_r)_o.points[_r].normalImpulse=o.points[_r].normalImpulse,_o.points[_r].tangentImpulse=o.points[_r].tangentImpulse}}static{this.SolvePositionConstraints_s_xfA=new r0}static{this.SolvePositionConstraints_s_xfB=new r0}static{this.SolvePositionConstraints_s_psm=new J6}static{this.SolvePositionConstraints_s_rA=new m_}static{this.SolvePositionConstraints_s_rB=new m_}static{this.SolvePositionConstraints_s_P=new m_}SolvePositionConstraints(){let V=x.SolvePositionConstraints_s_xfA,o=x.SolvePositionConstraints_s_xfB,_o=x.SolvePositionConstraints_s_psm,_r=x.SolvePositionConstraints_s_rA,l=x.SolvePositionConstraints_s_rB,e_=x.SolvePositionConstraints_s_P,o_=0;for(let i_=0;i_<this.m_count;++i_){let _e=this.m_positionConstraints[i_],{indexA:c_,indexB:ws,localCenterA:h_,localCenterB:s_,pointCount:w_}=_e,L_=_e.invMassA,y_=_e.invIA,I_=_e.invMassB,k_=_e.invIB,j_=this.m_positions[c_].c,n2=this.m_positions[c_].a,p2=this.m_positions[ws].c,u2=this.m_positions[ws].a;for(let T2=0;T2<w_;++T2){V.q.Set(n2),o.q.Set(u2),m_.Subtract(j_,ha.MultiplyVec2(V.q,h_,m_.s_t0),V.p),m_.Subtract(p2,ha.MultiplyVec2(o.q,s_,m_.s_t0),o.p),_o.Initialize(_e,V,o,T2);let{normal:I2,point:q2,separation:O2}=_o;m_.Subtract(q2,j_,_r),m_.Subtract(q2,p2,l),o_=Math.min(o_,O2);let X2=NA(h9*(O2+$0),-v4,0),S_=m_.Cross(_r,I2),q_=m_.Cross(l,I2),N_=L_+I_+y_*S_*S_+k_*q_*q_,W_=N_>0?-X2/N_:0;m_.Scale(W_,I2,e_),j_.SubtractScaled(L_,e_),n2-=y_*m_.Cross(_r,e_),p2.AddScaled(I_,e_),u2+=k_*m_.Cross(l,e_)}this.m_positions[c_].c.Copy(j_),this.m_positions[c_].a=n2,this.m_positions[ws].c.Copy(p2),this.m_positions[ws].a=u2}return o_>=-3*$0}static{this.SolveTOIPositionConstraints_s_xfA=new r0}static{this.SolveTOIPositionConstraints_s_xfB=new r0}static{this.SolveTOIPositionConstraints_s_psm=new J6}static{this.SolveTOIPositionConstraints_s_rA=new m_}static{this.SolveTOIPositionConstraints_s_rB=new m_}static{this.SolveTOIPositionConstraints_s_P=new m_}SolveTOIPositionConstraints(V,o){let _o=x.SolveTOIPositionConstraints_s_xfA,_r=x.SolveTOIPositionConstraints_s_xfB,l=x.SolveTOIPositionConstraints_s_psm,e_=x.SolveTOIPositionConstraints_s_rA,o_=x.SolveTOIPositionConstraints_s_rB,i_=x.SolveTOIPositionConstraints_s_P,_e=0;for(let c_=0;c_<this.m_count;++c_){let ws=this.m_positionConstraints[c_],{indexA:h_,indexB:s_,localCenterA:w_,localCenterB:L_,pointCount:y_}=ws,I_=0,k_=0;(h_===V||h_===o)&&(I_=ws.invMassA,k_=ws.invIA);let j_=0,n2=0;(s_===V||s_===o)&&(j_=ws.invMassB,n2=ws.invIB);let p2=this.m_positions[h_].c,u2=this.m_positions[h_].a,T2=this.m_positions[s_].c,I2=this.m_positions[s_].a;for(let q2=0;q2<y_;++q2){_o.q.Set(u2),_r.q.Set(I2),m_.Subtract(p2,ha.MultiplyVec2(_o.q,w_,m_.s_t0),_o.p),m_.Subtract(T2,ha.MultiplyVec2(_r.q,L_,m_.s_t0),_r.p),l.Initialize(ws,_o,_r,q2);let{normal:O2,point:X2,separation:S_}=l;m_.Subtract(X2,p2,e_),m_.Subtract(X2,T2,o_),_e=Math.min(_e,S_);let q_=NA(d9*(S_+$0),-v4,0),N_=m_.Cross(e_,O2),W_=m_.Cross(o_,O2),o2=I_+j_+k_*N_*N_+n2*W_*W_,m2=o2>0?-q_/o2:0;m_.Scale(m2,O2,i_),p2.SubtractScaled(I_,i_),u2-=k_*m_.Cross(e_,i_),T2.AddScaled(j_,i_),I2+=n2*m_.Cross(o_,i_)}this.m_positions[h_].a=u2,this.m_positions[s_].a=I2}return _e>=-1.5*$0}};var T6=class x{constructor(V,o,_o,_r){this.m_bodyCount=0;this.m_jointCount=0;this.m_contactCount=0;this.m_bodyCapacity=V,this.m_listener=_r,this.m_bodies=new Array(V),this.m_contacts=new Array(o),this.m_joints=new Array(_o),this.m_velocities=U1(V,QD),this.m_positions=U1(V,KD),this.Resize(V)}Resize(V){for(;this.m_bodyCapacity<V;)this.m_velocities[this.m_bodyCapacity]=new QD,this.m_positions[this.m_bodyCapacity]=new KD,this.m_bodyCapacity++}Clear(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0}AddBody(V){V.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount]=V,++this.m_bodyCount}AddContact(V){this.m_contacts[this.m_contactCount++]=V}AddJoint(V){this.m_joints[this.m_jointCount++]=V}static{this.s_timer=new TB}static{this.s_solverData=new V6}static{this.s_contactSolverDef=new G6}static{this.s_contactSolver=new I6}static{this.s_translation=new m_}Solve(V,o,_o,_r){let l=x.s_timer.Reset(),e_=o.dt;for(let ws=0;ws<this.m_bodyCount;++ws){let h_=this.m_bodies[ws];this.m_positions[ws].c.Copy(h_.m_sweep.c);let{a:s_}=h_.m_sweep,w_=this.m_velocities[ws].v.Copy(h_.m_linearVelocity),L_=h_.m_angularVelocity;h_.m_sweep.c0.Copy(h_.m_sweep.c),h_.m_sweep.a0=h_.m_sweep.a,h_.m_type===2&&(w_.x+=e_*h_.m_invMass*(h_.m_gravityScale*h_.m_mass*_o.x+h_.m_force.x),w_.y+=e_*h_.m_invMass*(h_.m_gravityScale*h_.m_mass*_o.y+h_.m_force.y),L_+=e_*h_.m_invI*h_.m_torque,w_.Scale(1/(1+e_*h_.m_linearDamping)),L_*=1/(1+e_*h_.m_angularDamping)),this.m_positions[ws].a=s_,this.m_velocities[ws].w=L_}l.Reset();let o_=x.s_solverData;o_.step.Copy(o),o_.positions=this.m_positions,o_.velocities=this.m_velocities;let i_=x.s_contactSolverDef;i_.step.Copy(o),i_.contacts=this.m_contacts,i_.count=this.m_contactCount,i_.positions=this.m_positions,i_.velocities=this.m_velocities;let _e=x.s_contactSolver.Initialize(i_);_e.InitializeVelocityConstraints(),o.warmStarting&&_e.WarmStart();for(let ws=0;ws<this.m_jointCount;++ws)this.m_joints[ws].InitVelocityConstraints(o_);V.solveInit=l.GetMilliseconds(),l.Reset();for(let ws=0;ws<o.config.velocityIterations;++ws){for(let h_=0;h_<this.m_jointCount;++h_)this.m_joints[h_].SolveVelocityConstraints(o_);_e.SolveVelocityConstraints()}_e.StoreImpulses(),V.solveVelocity=l.GetMilliseconds();for(let ws=0;ws<this.m_bodyCount;++ws){let{c:h_}=this.m_positions[ws],{a:s_}=this.m_positions[ws],{v:w_}=this.m_velocities[ws],{w:L_}=this.m_velocities[ws],y_=m_.Scale(e_,w_,x.s_translation);if(m_.Dot(y_,y_)>W3){let k_=jD/y_.Length();w_.Scale(k_)}let I_=e_*L_;if(I_*I_>N3){let k_=zD/Math.abs(I_);L_*=k_}h_.AddScaled(e_,w_),s_+=e_*L_,this.m_positions[ws].a=s_,this.m_velocities[ws].w=L_}l.Reset();let c_=!1;for(let ws=0;ws<o.config.positionIterations;++ws){let h_=_e.SolvePositionConstraints(),s_=!0;for(let w_=0;w_<this.m_jointCount;++w_){let L_=this.m_joints[w_].SolvePositionConstraints(o_);s_=s_&&L_}if(h_&&s_){c_=!0;break}}for(let ws=0;ws<this.m_bodyCount;++ws){let h_=this.m_bodies[ws];h_.m_sweep.c.Copy(this.m_positions[ws].c),h_.m_sweep.a=this.m_positions[ws].a,h_.m_linearVelocity.Copy(this.m_velocities[ws].v),h_.m_angularVelocity=this.m_velocities[ws].w,h_.SynchronizeTransform()}if(V.solvePosition=l.GetMilliseconds(),this.Report(_e.m_velocityConstraints),_r){let ws=FA,h_=O3*O3,s_=U3*U3;for(let w_=0;w_<this.m_bodyCount;++w_){let L_=this.m_bodies[w_];L_.GetType()!==0&&(!L_.m_autoSleepFlag||L_.m_angularVelocity*L_.m_angularVelocity>s_||m_.Dot(L_.m_linearVelocity,L_.m_linearVelocity)>h_?(L_.m_sleepTime=0,ws=0):(L_.m_sleepTime+=e_,ws=Math.min(ws,L_.m_sleepTime)))}if(ws>=y9&&c_)for(let w_=0;w_<this.m_bodyCount;++w_)this.m_bodies[w_].SetAwake(!1)}}SolveTOI(V,o,_o){for(let o_=0;o_<this.m_bodyCount;++o_){let i_=this.m_bodies[o_];this.m_positions[o_].c.Copy(i_.m_sweep.c),this.m_positions[o_].a=i_.m_sweep.a,this.m_velocities[o_].v.Copy(i_.m_linearVelocity),this.m_velocities[o_].w=i_.m_angularVelocity}let _r=x.s_contactSolverDef;_r.contacts=this.m_contacts,_r.count=this.m_contactCount,_r.step.Copy(V),_r.positions=this.m_positions,_r.velocities=this.m_velocities;let l=x.s_contactSolver.Initialize(_r);for(let o_=0;o_<V.config.positionIterations&&!l.SolveTOIPositionConstraints(o,_o);++o_);this.m_bodies[o].m_sweep.c0.Copy(this.m_positions[o].c),this.m_bodies[o].m_sweep.a0=this.m_positions[o].a,this.m_bodies[_o].m_sweep.c0.Copy(this.m_positions[_o].c),this.m_bodies[_o].m_sweep.a0=this.m_positions[_o].a,l.InitializeVelocityConstraints();for(let o_=0;o_<V.config.velocityIterations;++o_)l.SolveVelocityConstraints();let e_=V.dt;for(let o_=0;o_<this.m_bodyCount;++o_){let{c:i_}=this.m_positions[o_],{a:_e}=this.m_positions[o_],{v:c_}=this.m_velocities[o_],{w:ws}=this.m_velocities[o_],h_=m_.Scale(e_,c_,x.s_translation);if(m_.Dot(h_,h_)>W3){let L_=jD/h_.Length();c_.Scale(L_)}let s_=e_*ws;if(s_*s_>N3){let L_=zD/Math.abs(s_);ws*=L_}i_.AddScaled(e_,c_),_e+=e_*ws,this.m_positions[o_].a=_e,this.m_velocities[o_].w=ws;let w_=this.m_bodies[o_];w_.m_sweep.c.Copy(i_),w_.m_sweep.a=_e,w_.m_linearVelocity.Copy(c_),w_.m_angularVelocity=ws,w_.SynchronizeTransform()}this.Report(l.m_velocityConstraints)}static{this.s_impulse=new B6}Report(V){for(let o=0;o<this.m_contactCount;++o){let _o=this.m_contacts[o],_r=V[o],l=x.s_impulse;l.count=_r.pointCount;for(let e_=0;e_<_r.pointCount;++e_)l.normalImpulses[e_]=_r.points[e_].normalImpulse,l.tangentImpulses[e_]=_r.points[e_].tangentImpulse;this.m_listener.PostSolve(_o,l)}}};var $D=class x{constructor(V){this.m_contactManager=new w6;this.m_bodyList=null;this.m_jointList=null;this.m_bodyCount=0;this.m_jointCount=0;this.m_gravity=new m_;this.m_allowSleep=!0;this.m_destructionListener=null;this.m_inv_dt0=0;this.m_newContacts=!1;this.m_locked=!1;this.m_clearForces=!0;this.m_warmStarting=!0;this.m_continuousPhysics=!0;this.m_subStepping=!1;this.m_stepComplete=!0;this.m_profile=new ZD;this.m_island=new T6(2*TG,TG,0,this.m_contactManager.m_contactListener);this.s_stack=[];this.m_gravity.Copy(V)}static Create(V){return new x(V)}SetDestructionListener(V){this.m_destructionListener=V}GetDestructionListener(){return this.m_destructionListener}SetContactFilter(V){this.m_contactManager.m_contactFilter=V}SetContactListener(V){this.m_contactManager.m_contactListener=V,this.m_island.m_listener=V}CreateBody(V={}){O1(!this.IsLocked());let o=new XD(V,this);return o.m_prev=null,o.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=o),this.m_bodyList=o,++this.m_bodyCount,o}DestroyBody(V){O1(!this.IsLocked());let o=V.m_jointList;for(;o;){let e_=o;o=o.next,this.m_destructionListener?.SayGoodbyeJoint(e_.joint),this.DestroyJoint(e_.joint),V.m_jointList=o}V.m_jointList=null;let _o=V.m_contactList;for(;_o;){let e_=_o;_o=_o.next,this.m_contactManager.Destroy(e_.contact)}V.m_contactList=null;let _r=this.m_contactManager.m_broadPhase,l=V.m_fixtureList;for(;l;){let e_=l;l=l.m_next,this.m_destructionListener?.SayGoodbyeFixture(e_),e_.DestroyProxies(_r),V.m_fixtureList=l,V.m_fixtureCount-=1}V.m_fixtureList=null,V.m_fixtureCount=0,V.m_prev&&(V.m_prev.m_next=V.m_next),V.m_next&&(V.m_next.m_prev=V.m_prev),V===this.m_bodyList&&(this.m_bodyList=V.m_next),--this.m_bodyCount}static Joint_Create(V){switch(V.type){case 3:return new i6(V);case 5:return new p6(V);case 2:return new l6(V);case 1:return new m6(V);case 4:return new c6(V);case 6:return new s6(V);case 7:return new u6(V);case 8:return new b6(V);case 9:return new n6(V);case 10:return new _6(V);case 11:return new r6(V)}throw new Error}CreateJoint(V){O1(!this.IsLocked());let o=x.Joint_Create(V);o.m_prev=null,o.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=o),this.m_jointList=o,++this.m_jointCount,o.m_edgeA.prev=null,o.m_edgeA.next=o.m_bodyA.m_jointList,o.m_bodyA.m_jointList&&(o.m_bodyA.m_jointList.prev=o.m_edgeA),o.m_bodyA.m_jointList=o.m_edgeA,o.m_edgeB.prev=null,o.m_edgeB.next=o.m_bodyB.m_jointList,o.m_bodyB.m_jointList&&(o.m_bodyB.m_jointList.prev=o.m_edgeB),o.m_bodyB.m_jointList=o.m_edgeB;let _o=o.m_bodyA,_r=o.m_bodyB;if(!V.collideConnected){let l=_r.GetContactList();for(;l;)l.other===_o&&l.contact.FlagForFiltering(),l=l.next}return o}DestroyJoint(V){O1(!this.IsLocked()),V.m_prev&&(V.m_prev.m_next=V.m_next),V.m_next&&(V.m_next.m_prev=V.m_prev),V===this.m_jointList&&(this.m_jointList=V.m_next);let o=V.m_bodyA,_o=V.m_bodyB,_r=V.m_collideConnected;if(o.SetAwake(!0),_o.SetAwake(!0),V.m_edgeA.prev&&(V.m_edgeA.prev.next=V.m_edgeA.next),V.m_edgeA.next&&(V.m_edgeA.next.prev=V.m_edgeA.prev),V.m_edgeA===o.m_jointList&&(o.m_jointList=V.m_edgeA.next),V.m_edgeA.prev=null,V.m_edgeA.next=null,V.m_edgeB.prev&&(V.m_edgeB.prev.next=V.m_edgeB.next),V.m_edgeB.next&&(V.m_edgeB.next.prev=V.m_edgeB.prev),V.m_edgeB===_o.m_jointList&&(_o.m_jointList=V.m_edgeB.next),V.m_edgeB.prev=null,V.m_edgeB.next=null,--this.m_jointCount,!_r){let l=_o.GetContactList();for(;l;)l.other===o&&l.contact.FlagForFiltering(),l=l.next}}static{this.Step_s_step=pP.Create()}static{this.Step_s_stepTimer=new TB}static{this.Step_s_timer=new TB}Step(V,o){let _o=x.Step_s_stepTimer.Reset();this.m_newContacts&&(this.m_contactManager.FindNewContacts(),this.m_newContacts=!1),this.m_locked=!0;let _r=x.Step_s_step;_r.dt=V,_r.config={...o},V>0?_r.inv_dt=1/V:_r.inv_dt=0,_r.dtRatio=this.m_inv_dt0*V,_r.warmStarting=this.m_warmStarting;{let l=x.Step_s_timer.Reset();this.m_contactManager.Collide(),this.m_profile.collide=l.GetMilliseconds()}if(this.m_stepComplete&&_r.dt>0){let l=x.Step_s_timer.Reset();this.Solve(_r),this.m_profile.solve=l.GetMilliseconds()}if(this.m_continuousPhysics&&_r.dt>0){let l=x.Step_s_timer.Reset();this.SolveTOI(_r),this.m_profile.solveTOI=l.GetMilliseconds()}_r.dt>0&&(this.m_inv_dt0=_r.inv_dt),this.m_clearForces&&this.ClearForces(),this.m_locked=!1,this.m_profile.step=_o.GetMilliseconds()}ClearForces(){for(let V=this.m_bodyList;V;V=V.GetNext())V.m_force.SetZero(),V.m_torque=0}QueryAABB(V,o){this.m_contactManager.m_broadPhase.Query(V,_o=>{let _r=R1(_o.userData);return o(_r.fixture)})}QueryAllAABB(V,o=[]){return this.QueryAABB(V,_o=>(o.push(_o),!0)),o}QueryPointAABB(V,o){this.m_contactManager.m_broadPhase.QueryPoint(V,_o=>{let _r=R1(_o.userData);return o(_r.fixture)})}QueryAllPointAABB(V,o=[]){return this.QueryPointAABB(V,_o=>(o.push(_o),!0)),o}static{this.QueryFixtureShape_s_aabb=new XS}QueryFixtureShape(V,o,_o,_r){let l=x.QueryFixtureShape_s_aabb;V.ComputeAABB(l,_o,o),this.m_contactManager.m_broadPhase.Query(l,e_=>{let o_=R1(e_.userData),{fixture:i_}=o_;return!jG(V,o,i_.GetShape(),o_.childIndex,_o,i_.GetBody().GetTransform())||_r(i_)})}QueryAllFixtureShape(V,o,_o,_r=[]){return this.QueryFixtureShape(V,o,_o,l=>(_r.push(l),!0)),_r}QueryFixturePoint(V,o){this.m_contactManager.m_broadPhase.QueryPoint(V,_o=>{let _r=R1(_o.userData),{fixture:l}=_r;return!l.TestPoint(V)||o(l)})}QueryAllFixturePoint(V,o=[]){return this.QueryFixturePoint(V,_o=>(o.push(_o),!0)),o}static{this.RayCast_s_input=new w4}static{this.RayCast_s_output=new EG}static{this.RayCast_s_point=new m_}RayCast(V,o,_o){let _r=x.RayCast_s_input;_r.maxFraction=1,_r.p1.Copy(V),_r.p2.Copy(o),this.m_contactManager.m_broadPhase.RayCast(_r,(l,e_)=>{let o_=R1(e_.userData),{fixture:i_}=o_,_e=o_.childIndex,c_=x.RayCast_s_output;if(i_.RayCast(c_,l,_e)){let{fraction:h_}=c_,s_=x.RayCast_s_point;return s_.Set((1-h_)*V.x+h_*o.x,(1-h_)*V.y+h_*o.y),_o(i_,s_,c_.normal,h_)}return l.maxFraction})}RayCastOne(V,o){let _o=null,_r=1;return this.RayCast(V,o,(l,e_,o_,i_)=>(i_<_r&&(_r=i_,_o=l),_r)),_o}RayCastAll(V,o,_o=[]){return this.RayCast(V,o,_r=>(_o.push(_r),1)),_o}GetBodyList(){return this.m_bodyList}GetJointList(){return this.m_jointList}GetContactList(){return this.m_contactManager.m_contactList}SetAllowSleeping(V){if(V!==this.m_allowSleep&&(this.m_allowSleep=V,!this.m_allowSleep))for(let o=this.m_bodyList;o;o=o.m_next)o.SetAwake(!0)}GetAllowSleeping(){return this.m_allowSleep}SetWarmStarting(V){this.m_warmStarting=V}GetWarmStarting(){return this.m_warmStarting}SetContinuousPhysics(V){this.m_continuousPhysics=V}GetContinuousPhysics(){return this.m_continuousPhysics}SetSubStepping(V){this.m_subStepping=V}GetSubStepping(){return this.m_subStepping}GetProxyCount(){return this.m_contactManager.m_broadPhase.GetProxyCount()}GetBodyCount(){return this.m_bodyCount}GetJointCount(){return this.m_jointCount}GetContactCount(){return this.m_contactManager.m_contactCount}GetTreeHeight(){return this.m_contactManager.m_broadPhase.GetTreeHeight()}GetTreeBalance(){return this.m_contactManager.m_broadPhase.GetTreeBalance()}GetTreeQuality(){return this.m_contactManager.m_broadPhase.GetTreeQuality()}SetGravity(V){this.m_gravity.Copy(V)}GetGravity(){return this.m_gravity}IsLocked(){return this.m_locked}SetAutoClearForces(V){this.m_clearForces=V}GetAutoClearForces(){return this.m_clearForces}ShiftOrigin(V){O1(!this.IsLocked());for(let o=this.m_bodyList;o;o=o.m_next)o.m_xf.p.Subtract(V),o.m_sweep.c0.Subtract(V),o.m_sweep.c.Subtract(V);for(let o=this.m_jointList;o;o=o.m_next)o.ShiftOrigin(V);this.m_contactManager.m_broadPhase.ShiftOrigin(V)}GetContactManager(){return this.m_contactManager}GetProfile(){return this.m_profile}Solve(V){this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;let o=this.m_island;o.Resize(this.m_bodyCount),o.Clear();for(let l=this.m_bodyList;l;l=l.m_next)l.m_islandFlag=!1;for(let l=this.m_contactManager.m_contactList;l;l=l.m_next)l.m_islandFlag=!1;for(let l=this.m_jointList;l;l=l.m_next)l.m_islandFlag=!1;let _o=this.s_stack;for(let l=this.m_bodyList;l;l=l.m_next){if(l.m_islandFlag||!l.IsAwake()||!l.IsEnabled()||l.GetType()===0)continue;o.Clear();let e_=0;for(_o[e_++]=l,l.m_islandFlag=!0;e_>0;){let i_=_o[--e_];if(O1(i_!==null),o.AddBody(i_),i_.GetType()!==0){i_.m_awakeFlag=!0;for(let _e=i_.m_contactList;_e;_e=_e.next){let{contact:c_}=_e;if(c_.m_islandFlag||!c_.IsEnabled()||!c_.IsTouching())continue;let ws=c_.m_fixtureA.m_isSensor,h_=c_.m_fixtureB.m_isSensor;if(ws||h_)continue;o.AddContact(c_),c_.m_islandFlag=!0;let{other:s_}=_e;s_.m_islandFlag||(_o[e_++]=s_,s_.m_islandFlag=!0)}for(let _e=i_.m_jointList;_e;_e=_e.next){if(_e.joint.m_islandFlag)continue;let{other:c_}=_e;c_.IsEnabled()&&(o.AddJoint(_e.joint),_e.joint.m_islandFlag=!0,!c_.m_islandFlag&&(_o[e_++]=c_,c_.m_islandFlag=!0))}}}let o_=new ZD;o.Solve(o_,V,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=o_.solveInit,this.m_profile.solveVelocity+=o_.solveVelocity,this.m_profile.solvePosition+=o_.solvePosition;for(let i_=0;i_<o.m_bodyCount;++i_){let _e=o.m_bodies[i_];_e.GetType()===0&&(_e.m_islandFlag=!1)}}for(let l=0;l<_o.length&&_o[l];++l)_o[l]=null;let _r=new TB;for(let l=this.m_bodyList;l;l=l.m_next)l.m_islandFlag&&l.GetType()!==0&&l.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=_r.GetMilliseconds()}static{this.SolveTOI_s_subStep=pP.Create()}static{this.SolveTOI_s_backup=new mC}static{this.SolveTOI_s_backup1=new mC}static{this.SolveTOI_s_backup2=new mC}static{this.SolveTOI_s_toi_input=new YG}static{this.SolveTOI_s_toi_output=new HG}SolveTOI(V){let o=this.m_island;if(o.Clear(),this.m_stepComplete){for(let _o=this.m_bodyList;_o;_o=_o.m_next)_o.m_islandFlag=!1,_o.m_sweep.alpha0=0;for(let _o=this.m_contactManager.m_contactList;_o;_o=_o.m_next)_o.m_toiFlag=!1,_o.m_islandFlag=!1,_o.m_toiCount=0,_o.m_toi=1}for(;;){let _o=null,_r=1;for(let h_=this.m_contactManager.m_contactList;h_;h_=h_.m_next){if(!h_.IsEnabled()||h_.m_toiCount>u9)continue;let s_=1;if(h_.m_toiFlag)s_=h_.m_toi;else{let w_=h_.GetFixtureA(),L_=h_.GetFixtureB();if(w_.IsSensor()||L_.IsSensor())continue;let y_=w_.GetBody(),I_=L_.GetBody(),k_=y_.m_type,j_=I_.m_type,n2=y_.IsAwake()&&k_!==0,p2=I_.IsAwake()&&j_!==0;if(!n2&&!p2)continue;let u2=y_.IsBullet()||k_!==2,T2=I_.IsBullet()||j_!==2;if(!u2&&!T2)continue;let{alpha0:I2}=y_.m_sweep;y_.m_sweep.alpha0<I_.m_sweep.alpha0?(I2=I_.m_sweep.alpha0,y_.m_sweep.Advance(I2)):I_.m_sweep.alpha0<y_.m_sweep.alpha0&&(I2=y_.m_sweep.alpha0,I_.m_sweep.Advance(I2));let q2=h_.GetChildIndexA(),O2=h_.GetChildIndexB(),X2=x.SolveTOI_s_toi_input;X2.proxyA.SetShape(w_.GetShape(),q2),X2.proxyB.SetShape(L_.GetShape(),O2),X2.sweepA.Copy(y_.m_sweep),X2.sweepB.Copy(I_.m_sweep),X2.tMax=1;let S_=x.SolveTOI_s_toi_output;w9(S_,X2);let q_=S_.t;S_.state===3?s_=Math.min(I2+(1-I2)*q_,1):s_=1,h_.m_toi=s_,h_.m_toiFlag=!0}s_<_r&&(_o=h_,_r=s_)}if(_o===null||1-10*bS<_r){this.m_stepComplete=!0;break}let l=_o.GetFixtureA(),e_=_o.GetFixtureB(),o_=l.GetBody(),i_=e_.GetBody(),_e=x.SolveTOI_s_backup1.Copy(o_.m_sweep),c_=x.SolveTOI_s_backup2.Copy(i_.m_sweep);if(o_.Advance(_r),i_.Advance(_r),_o.Update(this.m_contactManager.m_contactListener),_o.m_toiFlag=!1,++_o.m_toiCount,!_o.IsEnabled()||!_o.IsTouching()){_o.SetEnabled(!1),o_.m_sweep.Copy(_e),i_.m_sweep.Copy(c_),o_.SynchronizeTransform(),i_.SynchronizeTransform();continue}o_.SetAwake(!0),i_.SetAwake(!0),o.Clear(),o.AddBody(o_),o.AddBody(i_),o.AddContact(_o),o_.m_islandFlag=!0,i_.m_islandFlag=!0,_o.m_islandFlag=!0;for(let h_=0;h_<2;++h_){let s_=h_===0?o_:i_;if(s_.m_type===2)for(let w_=s_.m_contactList;w_&&!(o.m_bodyCount===o.m_bodyCapacity||o.m_contactCount===TG);w_=w_.next){let{contact:L_}=w_;if(L_.m_islandFlag)continue;let{other:y_}=w_;if(y_.m_type===2&&!s_.IsBullet()&&!y_.IsBullet())continue;let I_=L_.m_fixtureA.m_isSensor,k_=L_.m_fixtureB.m_isSensor;if(I_||k_)continue;let j_=x.SolveTOI_s_backup.Copy(y_.m_sweep);if(y_.m_islandFlag||y_.Advance(_r),L_.Update(this.m_contactManager.m_contactListener),!L_.IsEnabled()){y_.m_sweep.Copy(j_),y_.SynchronizeTransform();continue}if(!L_.IsTouching()){y_.m_sweep.Copy(j_),y_.SynchronizeTransform();continue}L_.m_islandFlag=!0,o.AddContact(L_),!y_.m_islandFlag&&(y_.m_islandFlag=!0,y_.m_type!==0&&y_.SetAwake(!0),o.AddBody(y_))}}let ws=x.SolveTOI_s_subStep;ws.dt=(1-_r)*V.dt,ws.inv_dt=1/ws.dt,ws.dtRatio=1,ws.config={...V.config,positionIterations:20},ws.warmStarting=!1,o.SolveTOI(ws,o_.m_islandIndex,i_.m_islandIndex);for(let h_=0;h_<o.m_bodyCount;++h_){let s_=o.m_bodies[h_];if(s_.m_islandFlag=!1,s_.m_type===2){s_.SynchronizeFixtures();for(let w_=s_.m_contactList;w_;w_=w_.next)w_.contact.m_toiFlag=!1,w_.contact.m_islandFlag=!1}}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}}};var evt={J1:new m_,J2:new m_,J3:new m_,r:new m_,e1:new m_,e2:new m_,Jd1:new m_,Jd2:new m_,d:new m_,u:new m_,dp1:new m_,dp2:new m_,dp3:new m_,d1:new m_,d2:new m_,dHat:new m_};var M0t=(x,V,o,_o)=>{let _r=$D.Create(x),l=_r.CreateBody(),e_=new FB;return e_.SetTwoSided(new m_(V.x,V.y),new m_(o.x,o.y)),l.CreateFixture({shape:e_,density:_o}),{name:"@box2d/core",createBoxShape(o_,i_){return new t6().SetAsBox(o_,i_)},createBoxBody(o_,i_,_e,c_){_r.CreateBody({type:2,position:{x:i_,y:_e}}).CreateFixture({shape:o_,density:c_})},step(o_,i_,_e){_r.Step(o_,{velocityIterations:i_,positionIterations:_e})}}};var bC=dD(z9()),G0t=(x,V,o,_o)=>{let _r=new bC.b2World(new bC.b2Vec2(x.x,x.y)),l=_r.CreateBody(new bC.b2BodyDef),e_=new bC.b2EdgeShape;return e_.Set(new bC.b2Vec2(V.x,V.y),new bC.b2Vec2(o.x,o.y)),l.CreateFixture(e_,_o),{name:"@flyover/box2d",createBoxShape(o_,i_){return new bC.b2PolygonShape().SetAsBox(o_,i_)},createBoxBody(o_,i_,_e,c_){let ws=new bC.b2BodyDef;ws.type=bC.b2BodyType.b2_dynamicBody,ws.position.Set(i_,_e),_r.CreateBody(ws).CreateFixture(o_,c_)},step(o_,i_,_e){_r.Step(o_,i_,_e)}}};var O9=dD(W9()),{b2World:J0t,b2Vec2:oI,b2EdgeShape:I0t,b2PolygonShape:T0t,b2BodyDef:N9,b2BodyType:R0t}=O9.box2d,F0t=(x,V,o,_o)=>{let _r=new J0t(new oI(x.x,x.y)),l=_r.CreateBody(new N9),e_=new I0t;return e_.Set(new oI(V.x,V.y),new oI(o.x,o.y)),l.CreateFixture(e_,_o),{name:"box2d-html5",createBoxShape(o_,i_){return new T0t().SetAsBox(o_,i_)},createBoxBody(o_,i_,_e,c_){let ws=new N9;ws.type=R0t.b2_dynamicBody,ws.position.Set(i_,_e),_r.CreateBody(ws).CreateFixture(o_,c_)},step(o_,i_,_e){_r.Step(o_,i_,_e)}}};var L6=dD(X9()),{b2Vec2:iI}=L6.Box2D.Common.Math,{b2BodyDef:Y9,b2Body:L0t,b2World:q0t,b2FixtureDef:H9}=L6.Box2D.Dynamics,{b2PolygonShape:Z9}=L6.Box2D.Collision.Shapes,E0t=(x,V,o,_o)=>{let _r=new q0t(new iI(x.x,x.y)),l=_r.CreateBody(new Y9),e_=new Z9;e_.SetAsEdge(new iI(V.x,V.y),new iI(o.x,o.y));let o_=new H9;return o_.density=_o,o_.shape=e_,l.CreateFixture(o_),{name:"box2d-web",createBoxShape(i_,_e){let c_=new Z9;return c_.SetAsBox(i_,_e),c_},createBoxBody(i_,_e,c_,ws){let h_=new Y9;h_.type=L0t.b2_dynamicBody,h_.position.Set(_e,c_);let s_=_r.CreateBody(h_),w_=new H9;w_.density=ws,w_.shape=i_,s_.CreateFixture(w_)},step(i_,_e,c_){_r.Step(i_,_e,c_)}}};var K9=Object.keys(q6).map(x=>q6[x]);function Q9(){let x=navigator.userAgent,V=x.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)??[];if(/trident/i.test(V[1])){let _o=/\brv[ :]+(\d+)/g.exec(x);return _o?`IE ${_o[1]}`:"IE"}if(V[1]==="Chrome"){let _o=x.match(/\bOPR|Edge\/(\d+)/);if(_o!==null)return`Opera ${_o[1]}`}V=V[2]?[V[1],V[2]]:[navigator.appName,navigator.appVersion,"-?"];let o=x.match(/version\/(\d+)/i);return o!==null&&V.splice(1,1,o[1]),`${V[0]} ${V[1]}`}var rI=document.getElementById("start"),$9=document.querySelector("tbody"),t5=document.getElementById("ratio"),nI=document.querySelector("textarea"),k0t=document.getElementById("copy"),j0t=ST(K9).map(x=>{let V=document.createElement("tr");$9.appendChild(V);let o=document.createElement("td"),_o=document.createElement("td"),_r=document.createElement("td"),l=document.createElement("td"),e_=document.createElement("td");o.textContent=x.name,V.appendChild(o),V.appendChild(_o),V.appendChild(_r),V.appendChild(l),V.appendChild(e_);let o_=document.createElement("progress");return{row:V,test:x,begin(){e_.appendChild(o_),o_.value=0},progress(i_,_e){o_.value=i_,o_.max=_e},end(i_){_o.textContent=i_.avg.toFixed(2),_r.textContent=i_.p5.toString(),l.textContent=i_.p95.toString(),e_.textContent="\u2713"},final(i_){e_.textContent=i_.toFixed(2),$9.appendChild(V)}}});async function z0t(){t5.textContent="";let x=[];for(let V of j0t){V.begin();let o=await CT(V.test,V.progress);V.end(o),x.push({...o,testRow:V})}x.sort((V,o)=>V.avg-o.avg).forEach(V=>V.testRow.final(V.avg/x[0].avg)),rI.removeAttribute("disabled"),t5.textContent="Ratio",nI.value=`**Browser:** ${Q9()}
${BT(x)}`}rI.addEventListener("click",()=>{rI.disabled=!0,z0t()});k0t.addEventListener("click",()=>{nI.select(),nI.setSelectionRange(0,99999),document.execCommand("copy"),alert("Copied to clipboard")});})();

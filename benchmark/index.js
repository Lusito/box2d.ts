"use strict";(()=>{var I_t=Object.create;var qG=Object.defineProperty;var T_t=Object.getOwnPropertyDescriptor;var F_t=Object.getOwnPropertyNames;var R_t=Object.getPrototypeOf,L_t=Object.prototype.hasOwnProperty;var jI=(V=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(V,{get:(x,o)=>(typeof require<"u"?require:x)[o]}):V)(function(V){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+V+'" is not supported')});var fV=(V,x)=>()=>(x||V((x={exports:{}}).exports,x),x.exports),k_t=(V,x)=>{for(var o in x)qG(V,o,{get:x[o],enumerable:!0})},q_t=(V,x,o,_o)=>{if(x&&typeof x=="object"||typeof x=="function")for(let _i of F_t(x))!L_t.call(V,_i)&&_i!==o&&qG(V,_i,{get:()=>x[_i],enumerable:!(_o=T_t(x,_i))||_o.enumerable});return V};var _D=(V,x,o)=>(o=V!=null?I_t(R_t(V)):{},q_t(x||!V||!V.__esModule?qG(o,"default",{value:V,enumerable:!0}):o,V));var PT=fV(()=>{});var wT=fV(()=>{});var VT=fV((exports,module)=>{var c={};(function(){function c(V){throw V}var d=void 0,aa=!0,ba=null,ca=!1,e;e||(e=eval("(function() { try { return Module || {} } catch(e) { return {} } })()"));var da={},ea;for(ea in e)e.hasOwnProperty(ea)&&(da[ea]=e[ea]);var fa=typeof process=="object"&&typeof jI=="function",ga=typeof window=="object",ia=typeof importScripts=="function",ja=!ga&&!fa&&!ia;if(fa){e.print||(e.print=function(V){process.stdout.write(V+`
`)}),e.printErr||(e.printErr=function(V){process.stderr.write(V+`
`)});var ka=PT(),la=wT();e.read=function(o,x){var o=la.normalize(o),_o=ka.readFileSync(o);return!_o&&o!=la.resolve(o)&&(o=path.join(__dirname,"..","src",o),_o=ka.readFileSync(o)),_o&&!x&&(_o=_o.toString()),_o},e.readBinary=function(V){return e.read(V,aa)},e.load=function(V){ma(read(V))},e.thisProgram=1<process.argv.length?process.argv[1].replace(/\\/g,"/"):"unknown-program",e.arguments=process.argv.slice(2),typeof module<"u"&&(module.exports=e),process.on("uncaughtException",function(V){V instanceof na||c(V)})}else ja?(e.print||(e.print=print),typeof printErr<"u"&&(e.printErr=printErr),e.read=typeof read<"u"?read:function(){c("no read() available (jsc?)")},e.readBinary=function(V){return typeof readbuffer=="function"?new Uint8Array(readbuffer(V)):(V=read(V,"binary"),oa(typeof V=="object"),V)},typeof scriptArgs<"u"?e.arguments=scriptArgs:typeof arguments<"u"&&(e.arguments=arguments),this.Module=e,eval("if (typeof gc === 'function' && gc.toString().indexOf('[native code]') > 0) var gc = undefined")):ga||ia?(e.read=function(V){var x=new XMLHttpRequest;return x.open("GET",V,ca),x.send(ba),x.responseText},typeof arguments<"u"&&(e.arguments=arguments),typeof console<"u"?(e.print||(e.print=function(V){console.log(V)}),e.printErr||(e.printErr=function(V){console.log(V)})):e.print||(e.print=function(){}),ga?window.Module=e:e.load=importScripts):c("Unknown runtime environment. Where are we?");function ma(V){eval.call(ba,V)}!e.load&&e.read&&(e.load=function(V){ma(e.read(V))}),e.print||(e.print=function(){}),e.printErr||(e.printErr=e.print),e.arguments||(e.arguments=[]),e.thisProgram||(e.thisProgram="./this.program"),e.print=e.print,e.n=e.printErr,e.preRun=[],e.postRun=[];for(ea in da)da.hasOwnProperty(ea)&&(e[ea]=da[ea]);var h={ga:function(V){qa=V},aa:function(){return qa},A:function(){return ra},J:function(V){ra=V},Q:function(V){switch(V){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return V[V.length-1]==="*"?h.B:V[0]==="i"?(V=parseInt(V.substr(1)),oa(V%8===0),V/8):0}},P:function(V){return Math.max(h.Q(V),h.B)},ha:16,ua:function(V,x,o){return!o&&(V=="i64"||V=="double")?8:V?Math.min(x||(V?h.P(V):0),h.B):Math.min(x,8)},r:function(V,x,o){return o&&o.length?(o.splice||(o=Array.prototype.slice.call(o)),o.splice(0,0,x),e["dynCall_"+V].apply(ba,o)):e["dynCall_"+V].call(ba,x)},p:[ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba,ba],V:function(V){for(var x=0;x<h.p.length;x++)if(!h.p[x])return h.p[x]=V,2*(1+x);c("Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS.")},fa:function(V){h.p[(V-2)/2]=ba},O:function(a,b){h.F||(h.F={});var f=h.F[a];if(f)return f;for(var f=[],g=0;g<b;g++)f.push("$"+g);g=sa(a),g[0]==='"'&&(g.indexOf('"',1)===g.length-1?g=g.substr(1,g.length-2):ua("invalid EM_ASM input |"+g+"|. Please use EM_ASM(..code..) (no quotes) or EM_ASM({ ..code($0).. }, input) (to input values)"));try{var k=eval("(function(Module, FS) { return function("+f.join(",")+"){ "+g+" } })")(e,typeof va<"u"?va:ba)}catch(V){e.n("error in executing inline EM_ASM code: "+V+` on: 

`+g+`

with args |`+f+"| (make sure to use the right one out of EM_ASM, EM_ASM_ARGS, etc.)"),c(V)}return h.F[a]=k},q:function(V){h.q.I||(h.q.I={}),h.q.I[V]||(h.q.I[V]=1,e.n(V))},G:{},wa:function(V,x){oa(x),h.G[x]||(h.G[x]={});var o=h.G[x];return o[V]||(o[V]=function(){return h.r(x,V,arguments)}),o[V]},M:function(){var V=[],x=0;this.da=function(_o){if(_o&=255,V.length==0)return(_o&128)==0?String.fromCharCode(_o):(V.push(_o),x=(_o&224)==192?1:(_o&240)==224?2:3,"");if(x&&(V.push(_o),x--,0<x))return"";var _o=V[0],_i=V[1],l=V[2],t_=V[3];return V.length==2?_o=String.fromCharCode((_o&31)<<6|_i&63):V.length==3?_o=String.fromCharCode((_o&15)<<12|(_i&63)<<6|l&63):(_o=(_o&7)<<18|(_i&63)<<12|(l&63)<<6|t_&63,_o=String.fromCharCode(((_o-65536)/1024|0)+55296,(_o-65536)%1024+56320)),V.length=0,_o},this.ea=function(o){for(var o=unescape(encodeURIComponent(o)),_o=[],_i=0;_i<o.length;_i++)_o.push(o.charCodeAt(_i));return _o}},va:function(){c("You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work")},u:function(V){var x=ra;return ra=ra+V|0,ra=ra+15&-16,x},U:function(V){var x=wa;return wa=wa+V|0,wa=wa+15&-16,x},o:function(V){var x=xa;return xa=xa+V|0,xa=xa+15&-16,xa>=ya&&ua("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+ya+", (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs."),x},C:function(V,x){return Math.ceil(V/(x||16))*(x||16)},ca:function(V,x,o){return o?+(V>>>0)+4294967296*+(x>>>0):+(V>>>0)+4294967296*+(x|0)},L:8,B:4,ia:0};e.Runtime=h,h.addFunction=h.V,h.removeFunction=h.fa;var za=ca,Ba,Da,qa;function oa(V,x){V||ua("Assertion failed: "+x)}function Ea(a){var b=e["_"+a];if(!b)try{b=eval("_"+a)}catch(V){}return oa(b,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)"),b}var Fa,Ga;(function(){function a(V){return V=V.toString().match(k).slice(1),{arguments:V[0],body:V[1],returnValue:V[2]}}var b=0,f={stackSave:function(){b=h.A()},stackRestore:function(){h.J(b)},arrayToC:function(V){var x=h.u(V.length);return Ha(V,x),x},stringToC:function(V){var x=0;return V!==ba&&V!==d&&V!==0&&(x=h.u((V.length<<2)+1),Ia(V,x)),x}},g={string:f.stringToC,array:f.arrayToC};Ga=function(_i,x,o,_o){var _i=Ea(_i),l=[];if(_o)for(var t_=0;t_<_o.length;t_++){var o_=g[o[t_]];o_?(b===0&&(b=h.A()),l[t_]=o_(_o[t_])):l[t_]=_o[t_]}return o=_i.apply(ba,l),x==="string"&&(o=sa(o)),b!==0&&f.stackRestore(),o};var k=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/,n={},m;for(m in f)f.hasOwnProperty(m)&&(n[m]=a(f[m]));Fa=function(b,f,g){var g=g||[],k=Ea(b),b=g.every(function(V){return V==="number"}),m=f!=="string";if(m&&b)return k;var Aa=g.map(function(V,x){return"$"+x}),f="(function("+Aa.join(",")+") {",ib=g.length;if(!b)for(var f=f+(n.stackSave.body+";"),Va=0;Va<ib;Va++){var db=Aa[Va],Ca=g[Va];Ca!=="number"&&(Ca=n[Ca+"ToC"],f+="var "+Ca.arguments+" = "+db+";",f+=Ca.body+";",f+=db+"="+Ca.returnValue+";")}return g=a(function(){return k}).returnValue,f+="var ret = "+g+"("+Aa.join(",")+");",m||(g=a(function(){return sa}).returnValue,f+="ret = "+g+"(ret);"),b||(f+=n.stackRestore.body+";"),eval(f+"return ret})")}})(),e.cwrap=Fa,e.ccall=Ga;function Ja(V,x,o){switch(o=o||"i8",o.charAt(o.length-1)==="*"&&(o="i32"),o){case"i1":Ka[V>>0]=x;break;case"i8":Ka[V>>0]=x;break;case"i16":La[V>>1]=x;break;case"i32":Ma[V>>2]=x;break;case"i64":Da=[x>>>0,(Ba=x,1<=+Oa(Ba)?0<Ba?(Pa(+Qa(Ba/4294967296),4294967295)|0)>>>0:~~+Ra((Ba-+(~~Ba>>>0))/4294967296)>>>0:0)],Ma[V>>2]=Da[0],Ma[V+4>>2]=Da[1];break;case"float":Sa[V>>2]=x;break;case"double":Ta[V>>3]=x;break;default:ua("invalid type for setValue: "+o)}}e.setValue=Ja;function Ua(V,x){switch(x=x||"i8",x.charAt(x.length-1)==="*"&&(x="i32"),x){case"i1":return Ka[V>>0];case"i8":return Ka[V>>0];case"i16":return La[V>>1];case"i32":return Ma[V>>2];case"i64":return Ma[V>>2];case"float":return Sa[V>>2];case"double":return Ta[V>>3];default:ua("invalid type for setValue: "+x)}return ba}e.getValue=Ua;var Wa=1,Xa=2,Za=4;e.ALLOC_NORMAL=0,e.ALLOC_STACK=Wa,e.ALLOC_STATIC=Xa,e.ALLOC_DYNAMIC=3,e.ALLOC_NONE=Za;function $a(V,x,o_,_o){var _i,l;typeof V=="number"?(_i=aa,l=V):(_i=ca,l=V.length);var t_=typeof x=="string"?x:ba,o_=o_==Za?_o:[ab,h.u,h.U,h.o][o_===d?Xa:o_](Math.max(l,t_?1:x.length));if(_i){for(_o=o_,oa((o_&3)==0),V=o_+(l&-4);_o<V;_o+=4)Ma[_o>>2]=0;for(V=o_+l;_o<V;)Ka[_o++>>0]=0;return o_}if(t_==="i8")return V.subarray||V.slice?bb.set(V,o_):bb.set(new Uint8Array(V),o_),o_;for(var _o=0,i_,_e;_o<l;){var l_=V[_o];typeof l_=="function"&&(l_=h.xa(l_)),_i=t_||x[_o],_i===0?_o++:(_i=="i64"&&(_i="i32"),Ja(o_+_o,l_,_i),_e!==_i&&(i_=h.Q(_i),_e=_i),_o+=i_)}return o_}e.allocate=$a;function sa(V,x){if(x===0||!V)return"";for(var o=ca,_o,_i=0;;){if(_o=bb[V+_i>>0],128<=_o)o=aa;else if(_o==0&&!x)break;if(_i++,x&&_i==x)break}x||(x=_i);var l="";if(!o){for(;0<x;)_o=String.fromCharCode.apply(String,bb.subarray(V,V+Math.min(x,1024))),l=l?l+_o:_o,V+=1024,x-=1024;return l}for(o=new h.M,_i=0;_i<x;_i++)_o=bb[V+_i>>0],l+=o.da(_o);return l}e.Pointer_stringify=sa,e.UTF16ToString=function(V){for(var x=0,o="";;){var _o=La[V+2*x>>1];if(_o==0)return o;++x,o+=String.fromCharCode(_o)}},e.stringToUTF16=function(V,x){for(var o=0;o<V.length;++o)La[x+2*o>>1]=V.charCodeAt(o);La[x+2*V.length>>1]=0},e.UTF32ToString=function(V){for(var x=0,o="";;){var _o=Ma[V+4*x>>2];if(_o==0)return o;++x,65536<=_o?(_o-=65536,o+=String.fromCharCode(55296|_o>>10,56320|_o&1023)):o+=String.fromCharCode(_o)}},e.stringToUTF32=function(V,x){for(var o=0,_o=0;_o<V.length;++_o){var l=V.charCodeAt(_o);if(55296<=l&&57343>=l)var _i=V.charCodeAt(++_o),l=65536+((l&1023)<<10)|_i&1023;Ma[x+4*o>>2]=l,++o}Ma[x+4*o>>2]=0};function cb(V){function x(l_,s_,h_){var s_=s_||1/0,B_="",D_=[],y_;if(V[l]==="N"){for(l++,V[l]==="K"&&l++,y_=[];V[l]!=="E";)if(V[l]==="S"){l++;var G_=V.indexOf("_",l);y_.push(o_[V.substring(l,G_)||0]||"?"),l=G_+1}else if(V[l]==="C")y_.push(y_[y_.length-1]),l+=2;else{var G_=parseInt(V.substr(l)),q_=G_.toString().length;if(!G_||!q_){l--;break}var j_=V.substr(l+q_,G_);y_.push(j_),o_.push(j_),l+=q_+G_}if(l++,y_=y_.join("::"),s_--,s_===0)return l_?[y_]:y_}else(V[l]==="K"||i_&&V[l]==="L")&&l++,(G_=parseInt(V.substr(l)))&&(q_=G_.toString().length,y_=V.substr(l+q_,G_),l+=q_+G_);i_=ca,V[l]==="I"?(l++,G_=x(aa),q_=x(aa,1,aa),B_+=q_[0]+" "+y_+"<"+G_.join(", ")+">"):B_=y_;t:for(;l<V.length&&0<s_--;)if(y_=V[l++],y_ in t_)D_.push(t_[y_]);else switch(y_){case"P":D_.push(x(aa,1,aa)[0]+"*");break;case"R":D_.push(x(aa,1,aa)[0]+"&");break;case"L":l++,G_=V.indexOf("E",l)-l,D_.push(V.substr(l,G_)),l+=G_+2;break;case"A":G_=parseInt(V.substr(l)),l+=G_.toString().length,V[l]!=="_"&&c("?"),l++,D_.push(x(aa,1,aa)[0]+" ["+G_+"]");break;case"E":break t;default:B_+="?"+y_;break t}return!h_&&D_.length===1&&D_[0]==="void"&&(D_=[]),l_?(B_&&D_.push(B_+"?"),D_):B_+("("+D_.join(", ")+")")}var o=!!e.___cxa_demangle;if(o)try{var _e=ab(V.length);Ia(V.substr(1),_e);var _o=ab(4),_i=e.___cxa_demangle(_e,0,0,_o);if(Ua(_o,"i32")===0&&_i)return sa(_i)}catch{}finally{_e&&eb(_e),_o&&eb(_o),_i&&eb(_i)}var l=3,t_={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},o_=[],i_=aa,_e=V;try{if(V=="Object._main"||V=="_main")return"main()";if(typeof V=="number"&&(V=sa(V)),V[0]!=="_"||V[1]!=="_"||V[2]!=="Z")return V;switch(V[3]){case"n":return"operator new()";case"d":return"operator delete()"}_e=x()}catch{_e+="?"}return 0<=_e.indexOf("?")&&!o&&h.q("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),_e}function fb(){var V;t:{if(V=Error(),!V.stack){try{c(Error(0))}catch(x){V=x}if(!V.stack){V="(no stack trace available)";break t}}V=V.stack.toString()}return V.replace(/__Z[\w\d_]+/g,function(x){var o=cb(x);return x===o?x:x+" ["+o+"]"})}e.stackTrace=function(){return fb()};for(var Ka,bb,La,gb,Ma,hb,Sa,Ta,jb=0,wa=0,kb=0,ra=0,lb=0,mb=0,xa=0,nb=e.TOTAL_STACK||5242880,ya=e.TOTAL_MEMORY||16777216,ob=65536;ob<ya||ob<2*nb;)ob=16777216>ob?2*ob:ob+16777216;ob!==ya&&(e.n("increasing TOTAL_MEMORY to "+ob+" to be compliant with the asm.js spec"),ya=ob),oa(typeof Int32Array<"u"&&typeof Float64Array<"u"&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var pb=new ArrayBuffer(ya);Ka=new Int8Array(pb),La=new Int16Array(pb),Ma=new Int32Array(pb),bb=new Uint8Array(pb),gb=new Uint16Array(pb),hb=new Uint32Array(pb),Sa=new Float32Array(pb),Ta=new Float64Array(pb),Ma[0]=255,oa(bb[0]===255&&bb[3]===0,"Typed arrays 2 must be run on a little-endian system"),e.HEAP=d,e.buffer=pb,e.HEAP8=Ka,e.HEAP16=La,e.HEAP32=Ma,e.HEAPU8=bb,e.HEAPU16=gb,e.HEAPU32=hb,e.HEAPF32=Sa,e.HEAPF64=Ta;function qb(V){for(;0<V.length;){var x=V.shift();if(typeof x=="function")x();else{var o=x.ta;typeof o=="number"?x.D===d?h.r("v",o):h.r("vi",o,[x.D]):o(x.D===d?ba:x.D)}}}var rb=[],sb=[],tb=[],ub=[],vb=[],wb=ca;function yb(V){rb.unshift(V)}e.addOnPreRun=e.na=yb,e.addOnInit=e.ka=function(V){sb.unshift(V)},e.addOnPreMain=e.ma=function(V){tb.unshift(V)},e.addOnExit=e.ja=function(V){ub.unshift(V)};function zb(V){vb.unshift(V)}e.addOnPostRun=e.la=zb;function Ab(V,x,o){return V=new h.M().ea(V),o&&(V.length=o),x||V.push(0),V}e.intArrayFromString=Ab;function Bb(V){for(var x=[],o=0;o<V.length;o++){var _o=V[o];255<_o&&(_o&=255),x.push(String.fromCharCode(_o))}return x.join("")}e.intArrayToString=Bb;function Ia(V,x,o){for(V=Ab(V,o),o=0;o<V.length;)Ka[x+o>>0]=V[o],o+=1}e.writeStringToMemory=Ia;function Ha(V,x){for(var o=0;o<V.length;o++)Ka[x+o>>0]=V[o]}e.writeArrayToMemory=Ha,e.writeAsciiToMemory=function(V,x,o){for(var _o=0;_o<V.length;_o++)Ka[x+_o>>0]=V.charCodeAt(_o);o||(Ka[x+V.length>>0]=0)};function Cb(V,x){return 0<=V?V:32>=x?2*Math.abs(1<<x-1)+V:Math.pow(2,x)+V}function Db(V,x){if(0>=V)return V;var o=32>=x?Math.abs(1<<x-1):Math.pow(2,x-1);return V>=o&&(32>=x||V>o)&&(V=-2*o+V),V}(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(V,x){var o=V&65535,_o=x&65535;return o*_o+((V>>>16)*_o+o*(x>>>16)<<16)|0}),Math.za=Math.imul;var Oa=Math.abs,Eb=Math.cos,Fb=Math.sin,Gb=Math.atan2,Hb=Math.sqrt,Ra=Math.ceil,Qa=Math.floor,Pa=Math.min,Ib=0,Jb=ba,Kb=ba;function Lb(){Ib++,e.monitorRunDependencies&&e.monitorRunDependencies(Ib)}e.addRunDependency=Lb;function Mb(){if(Ib--,e.monitorRunDependencies&&e.monitorRunDependencies(Ib),Ib==0&&(Jb!==ba&&(clearInterval(Jb),Jb=ba),Kb)){var V=Kb;Kb=ba,V()}}e.removeRunDependency=Mb,e.preloadedImages={},e.preloadedAudios={};var Nb=ba,jb=8,wa=jb+19808;sb.push(),$a([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,200,3,0,0,42,0,0,0,43,0,0,0,42,0,0,0,43,0,0,0,42,0,0,0,42,0,0,0,44,0,0,0,42,0,0,0,54,74,83,68,114,97,119,0,54,98,50,68,114,97,119,0,136,74,0,0,184,3,0,0,176,74,0,0,176,3,0,0,192,3,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,84,114,97,110,115,102,111,114,109,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,84,114,97,110,115,102,111,114,109,46,39,59,32,115,101,108,102,46,68,114,97,119,84,114,97,110,115,102,111,114,109,40,36,49,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,83,101,103,109,101,110,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,83,101,103,109,101,110,116,46,39,59,32,115,101,108,102,46,68,114,97,119,83,101,103,109,101,110,116,40,36,49,44,36,50,44,36,51,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,83,111,108,105,100,67,105,114,99,108,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,83,111,108,105,100,67,105,114,99,108,101,46,39,59,32,115,101,108,102,46,68,114,97,119,83,111,108,105,100,67,105,114,99,108,101,40,36,49,44,36,50,44,36,51,44,36,52,41,59,32,125,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,67,105,114,99,108,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,67,105,114,99,108,101,46,39,59,32,115,101,108,102,46,68,114,97,119,67,105,114,99,108,101,40,36,49,44,36,50,44,36,51,41,59,32,125,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,83,111,108,105,100,80,111,108,121,103,111,110,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,83,111,108,105,100,80,111,108,121,103,111,110,46,39,59,32,115,101,108,102,46,68,114,97,119,83,111,108,105,100,80,111,108,121,103,111,110,40,36,49,44,36,50,44,36,51,41,59,32,125,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,80,111,108,121,103,111,110,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,80,111,108,121,103,111,110,46,39,59,32,115,101,108,102,46,68,114,97,119,80,111,108,121,103,111,110,40,36,49,44,36,50,44,36,51,41,59,32,125,0,0,0,0,0,56,9,0,0,44,0,0,0,45,0,0,0,42,0,0,0,0,0,0,0,49,53,74,83,67,111,110,116,97,99,116,70,105,108,116,101,114,0,0,0,0,0,0,0,176,74,0,0,32,9,0,0,40,49,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,70,105,108,116,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,83,104,111,117,108,100,67,111,108,108,105,100,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,70,105,108,116,101,114,58,58,83,104,111,117,108,100,67,111,108,108,105,100,101,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,46,83,104,111,117,108,100,67,111,108,108,105,100,101,40,36,49,44,36,50,41,59,32,125,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,80,111,108,121,103,111,110,83,104,97,112,101,46,104,0,0,0,0,0,0,0,0,208,10,0,0,46,0,0,0,47,0,0,0,43,0,0,0,44,0,0,0,42,0,0,0,43,0,0,0,49,55,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0,0,0,0,0,49,55,98,50,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0,0,0,0,0,136,74,0,0,176,10,0,0,176,74,0,0,152,10,0,0,200,10,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,80,111,115,116,83,111,108,118,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,80,111,115,116,83,111,108,118,101,46,39,59,32,115,101,108,102,46,80,111,115,116,83,111,108,118,101,40,36,49,44,36,50,41,59,32,125,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,80,114,101,83,111,108,118,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,80,114,101,83,111,108,118,101,46,39,59,32,115,101,108,102,46,80,114,101,83,111,108,118,101,40,36,49,44,36,50,41,59,32,125,0,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,69,110,100,67,111,110,116,97,99,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,69,110,100,67,111,110,116,97,99,116,46,39,59,32,115,101,108,102,46,69,110,100,67,111,110,116,97,99,116,40,36,49,41,59,32,125,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,66,101,103,105,110,67,111,110,116,97,99,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,66,101,103,105,110,67,111,110,116,97,99,116,46,39,59,32,115,101,108,102,46,66,101,103,105,110,67,111,110,116,97,99,116,40,36,49,41,59,32,125,0,0,0,0,0,0,0,0,0,0,216,14,0,0,48,0,0,0,49,0,0,0,42,0,0,0,0,0,0,0,49,55,74,83,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,49,55,98,50,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,136,74,0,0,184,14,0,0,176,74,0,0,160,14,0,0,208,14,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,82,101,112,111,114,116,70,105,120,116,117,114,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,58,58,82,101,112,111,114,116,70,105,120,116,117,114,101,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,46,82,101,112,111,114,116,70,105,120,116,117,114,101,40,36,49,44,36,50,44,36,51,44,36,52,41,59,32,125,0,0,0,0,0,0,0,56,16,0,0,50,0,0,0,51,0,0,0,42,0,0,0,0,0,0,0,49,53,74,83,81,117,101,114,121,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,49,53,98,50,81,117,101,114,121,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,136,74,0,0,24,16,0,0,176,74,0,0,0,16,0,0,48,16,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,81,117,101,114,121,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,82,101,112,111,114,116,70,105,120,116,117,114,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,81,117,101,114,121,67,97,108,108,98,97,99,107,58,58,82,101,112,111,114,116,70,105,120,116,117,114,101,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,46,82,101,112,111,114,116,70,105,120,116,117,114,101,40,36,49,41,59,32,125,0,0,0,0,0,0,0,0,48,32,60,61,32,99,104,105,108,100,73,110,100,101,120,32,38,38,32,99,104,105,108,100,73,110,100,101,120,32,60,32,109,95,112,114,111,120,121,67,111,117,110,116,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,70,105,120,116,117,114,101,46,104,0,71,101,116,65,65,66,66,0,98,50,73,115,86,97,108,105,100,40,100,101,110,115,105,116,121,41,32,38,38,32,100,101,110,115,105,116,121,32,62,61,32,48,46,48,102,0,0,0,83,101,116,68,101,110,115,105,116,121,0,0,0,0,0,0,0,0,0,0,104,18,0,0,52,0,0,0,53,0,0,0,45,0,0,0,46,0,0,0,47,0,0,0,48,0,0,0,50,49,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,0,50,56,98,50,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,87,114,97,112,112,101,114,0,0,50,49,98,50,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,0,136,74,0,0,48,18,0,0,16,75,0,0,16,18,0,0,0,0,0,0,1,0,0,0,72,18,0,0,0,0,0,0,176,74,0,0,248,17,0,0,80,18,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,83,97,121,71,111,111,100,98,121,101,70,105,120,116,117,114,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,58,58,83,97,121,71,111,111,100,98,121,101,70,105,120,116,117,114,101,46,39,59,32,115,101,108,102,46,83,97,121,71,111,111,100,98,121,101,70,105,120,116,117,114,101,40,36,49,41,59,32,125,0,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,83,97,121,71,111,111,100,98,121,101,74,111,105,110,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,58,58,83,97,121,71,111,111,100,98,121,101,74,111,105,110,116,46,39,59,32,115,101,108,102,46,83,97,121,71,111,111,100,98,121,101,74,111,105,110,116,40,36,49,41,59,32,125,0,0,0,0,0,0,0,0,0,248,21,0,0,49,0,0,0,50,0,0,0,42,0,0,0,42,0,0,0,54,0,0,0,51,0,0,0,55,0,0,0,56,0,0,0,52,0,0,0,53,0,0,0,43,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,77,111,116,111,114,74,111,105,110,116,46,99,112,112,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,102,97,99,116,111,114,41,32,38,38,32,48,46,48,102,32,60,61,32,102,97,99,116,111,114,32,38,38,32,102,97,99,116,111,114,32,60,61,32,49,46,48,102,0,0,0,83,101,116,67,111,114,114,101,99,116,105,111,110,70,97,99,116,111,114,0,0,0,0,0,32,32,98,50,77,111,116,111,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,32,32,106,100,46,108,105,110,101,97,114,79,102,102,115,101,116,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,97,110,103,117,108,97,114,79,102,102,115,101,116,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,106,100,46,99,111,114,114,101,99,116,105,111,110,70,97,99,116,111,114,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,49,50,98,50,77,111,116,111,114,74,111,105,110,116,0,0,55,98,50,74,111,105,110,116,0,0,0,0,0,0,0,0,136,74,0,0,224,21,0,0,176,74,0,0,208,21,0,0,240,21,0,0,0,0,0,0,100,101,110,32,62,32,48,46,48,102,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,67,111,108,108,105,100,101,69,100,103,101,46,99,112,112,0,0,98,50,67,111,108,108,105,100,101,69,100,103,101,65,110,100,67,105,114,99,108,101,0,0,48,32,60,61,32,101,100,103,101,49,32,38,38,32,101,100,103,101,49,32,60,32,112,111,108,121,49,45,62,109,95,99,111,117,110,116,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,67,111,108,108,105,100,101,80,111,108,121,103,111,110,46,99,112,112,0,0,0,0,0,0,0,98,50,70,105,110,100,73,110,99,105,100,101,110,116,69,100,103,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,99,104,97,105,110,45,62,109,95,99,111,117,110,116,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,105,115,116,97,110,99,101,46,99,112,112,0,0,0,0,0,98,50,68,105,115,116,97,110,99,101,0,0,0,0,0,0,71,101,116,77,101,116,114,105,99,0,0,0,0,0,0,0,71,101,116,87,105,116,110,101,115,115,80,111,105,110,116,115,0,0,0,0,0,0,0,0,99,97,99,104,101,45,62,99,111,117,110,116,32,60,61,32,51,0,0,0,0,0,0,0,82,101,97,100,67,97,99,104,101,0,0,0,0,0,0,0,109,95,110,111,100,101,67,111,117,110,116,32,61,61,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,121,110,97,109,105,99,84,114,101,101,46,99,112,112,0,0,65,108,108,111,99,97,116,101,78,111,100,101,0,0,0,0,48,32,60,61,32,110,111,100,101,73,100,32,38,38,32,110,111,100,101,73,100,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,70,114,101,101,78,111,100,101,0,0,0,0,0,0,0,0,48,32,60,32,109,95,110,111,100,101,67,111,117,110,116,0,68,101,115,116,114,111,121,80,114,111,120,121,0,0,0,0,109,95,110,111,100,101,115,91,112,114,111,120,121,73,100,93,46,73,115,76,101,97,102,40,41,0,0,0,0,0,0,0,77,111,118,101,80,114,111,120,121,0,0,0,0,0,0,0,99,104,105,108,100,49,32,33,61,32,40,45,49,41,0,0,73,110,115,101,114,116,76,101,97,102,0,0,0,0,0,0,99,104,105,108,100,50,32,33,61,32,40,45,49,41,0,0,105,65,32,33,61,32,40,45,49,41,0,0,0,0,0,0,66,97,108,97,110,99,101,0,48,32,60,61,32,105,66,32,38,38,32,105,66,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,48,32,60,61,32,105,67,32,38,38,32,105,67,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,48,32,60,61,32,105,70,32,38,38,32,105,70,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,48,32,60,61,32,105,71,32,38,38,32,105,71,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,109,95,110,111,100,101,115,91,67,45,62,112,97,114,101,110,116,93,46,99,104,105,108,100,50,32,61,61,32,105,65,0,48,32,60,61,32,105,68,32,38,38,32,105,68,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,48,32,60,61,32,105,69,32,38,38,32,105,69,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,109,95,110,111,100,101,115,91,66,45,62,112,97,114,101,110,116,93,46,99,104,105,108,100,50,32,61,61,32,105,65,0,110,111,100,101,45,62,73,115,76,101,97,102,40,41,32,61,61,32,102,97,108,115,101,0,71,101,116,77,97,120,66,97,108,97,110,99,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,116,97,114,103,101,116,32,62,32,116,111,108,101,114,97,110,99,101,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,84,105,109,101,79,102,73,109,112,97,99,116,46,99,112,112,0,98,50,84,105,109,101,79,102,73,109,112,97,99,116,0,0,69,118,97,108,117,97,116,101,0,0,0,0,0,0,0,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,109,95,99,111,117,110,116,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,105,115,116,97,110,99,101,46,104,0,0,0,0,0,0,0,71,101,116,86,101,114,116,101,120,0,0,0,0,0,0,0,70,105,110,100,77,105,110,83,101,112,97,114,97,116,105,111,110,0,0,0,0,0,0,0,48,32,60,32,99,111,117,110,116,32,38,38,32,99,111,117,110,116,32,60,32,51,0,0,0,0,0,0,208,28,0,0,57,0,0,0,58,0,0,0,44,0,0,0,42,0,0,0,43,0,0,0,42,0,0,0,45,0,0,0,43,0,0,0,109,95,118,101,114,116,105,99,101,115,32,61,61,32,48,76,32,38,38,32,109,95,99,111,117,110,116,32,61,61,32,48,0,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,67,104,97,105,110,83,104,97,112,101,46,99,112,112,0,0,0,0,67,114,101,97,116,101,76,111,111,112,0,0,0,0,0,0,98,50,68,105,115,116,97,110,99,101,83,113,117,97,114,101,100,40,118,49,44,32,118,50,41,32,62,32,48,46,48,48,53,102,32,42,32,48,46,48,48,53,102,0,0,0,0,0,67,114,101,97,116,101,67,104,97,105,110,0,0,0,0,0,99,111,117,110,116,32,62,61,32,50,0,0,0,0,0,0,98,50,68,105,115,116,97,110,99,101,83,113,117,97,114,101,100,40,118,101,114,116,105,99,101,115,91,105,45,49,93,44,32,118,101,114,116,105,99,101,115,91,105,93,41,32,62,32,48,46,48,48,53,102,32,42,32,48,46,48,48,53,102,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,109,95,99,111,117,110,116,32,45,32,49,0,0,0,0,0,0,0,71,101,116,67,104,105,108,100,69,100,103,101,0,0,0,0,99,104,105,108,100,73,110,100,101,120,32,60,32,109,95,99,111,117,110,116,0,0,0,0,67,111,109,112,117,116,101,65,65,66,66,0,0,0,0,0,49,50,98,50,67,104,97,105,110,83,104,97,112,101,0,0,55,98,50,83,104,97,112,101,0,0,0,0,0,0,0,0,136,74,0,0,184,28,0,0,176,74,0,0,168,28,0,0,200,28,0,0,0,0,0,0,0,0,0,0,24,29,0,0,59,0,0,0,60,0,0,0,45,0,0,0,43,0,0,0,44,0,0,0,43,0,0,0,46,0,0,0,44,0,0,0,49,51,98,50,67,105,114,99,108,101,83,104,97,112,101,0,176,74,0,0,8,29,0,0,200,28,0,0,0,0,0,0,0,0,0,0,96,29,0,0,61,0,0,0,62,0,0,0,46,0,0,0,44,0,0,0,45,0,0,0,44,0,0,0,47,0,0,0,45,0,0,0,49,49,98,50,69,100,103,101,83,104,97,112,101,0,0,0,176,74,0,0,80,29,0,0,200,28,0,0,0,0,0,0,51,32,60,61,32,99,111,117,110,116,32,38,38,32,99,111,117,110,116,32,60,61,32,56,0,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,80,111,108,121,103,111,110,83,104,97,112,101,46,99,112,112,0,0,83,101,116,0,0,0,0,0,101,100,103,101,46,76,101,110,103,116,104,83,113,117,97,114,101,100,40,41,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,32,42,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,0,0,0,0,0,0,0,48,46,48,102,32,60,61,32,108,111,119,101,114,32,38,38,32,108,111,119,101,114,32,60,61,32,105,110,112,117,116,46,109,97,120,70,114,97,99,116,105,111,110,0,0,0,0,0,109,95,99,111,117,110,116,32,62,61,32,51,0,0,0,0,67,111,109,112,117,116,101,77,97,115,115,0,0,0,0,0,97,114,101,97,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,0,0,0,0,0,208,30,0,0,63,0,0,0,64,0,0,0,47,0,0,0,45,0,0,0,46,0,0,0,45,0,0,0,48,0,0,0,46,0,0,0,49,52,98,50,80,111,108,121,103,111,110,83,104,97,112,101,0,0,0,0,0,0,0,0,176,74,0,0,184,30,0,0,200,28,0,0,0,0,0,0,99,111,117,110,116,32,62,61,32,51,0,0,0,0,0,0,67,111,109,112,117,116,101,67,101,110,116,114,111,105,100,0,16,0,0,0,32,0,0,0,64,0,0,0,96,0,0,0,128,0,0,0,160,0,0,0,192,0,0,0,224,0,0,0,0,1,0,0,64,1,0,0,128,1,0,0,192,1,0,0,0,2,0,0,128,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,106,32,60,32,98,50,95,98,108,111,99,107,83,105,122,101,115,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,46,99,112,112,0,0,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,0,0,0,0,0,0,0,0,48,32,60,32,115,105,122,101,0,0,0,0,0,0,0,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,98,50,95,98,108,111,99,107,83,105,122,101,115,0,0,0,0,0,98,108,111,99,107,67,111,117,110,116,32,42,32,98,108,111,99,107,83,105,122,101,32,60,61,32,98,50,95,99,104,117,110,107,83,105,122,101,0,0,109,95,105,110,100,101,120,32,61,61,32,48,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,83,116,97,99,107,65,108,108,111,99,97,116,111,114,46,99,112,112,0,0,126,98,50,83,116,97,99,107,65,108,108,111,99,97,116,111,114,0,0,0,0,0,0,0,109,95,101,110,116,114,121,67,111,117,110,116,32,61,61,32,48,0,0,0,0,0,0,0,109,95,101,110,116,114,121,67,111,117,110,116,32,60,32,98,50,95,109,97,120,83,116,97,99,107,69,110,116,114,105,101,115,0,0,0,0,0,0,0,65,108,108,111,99,97,116,101,0,0,0,0,0,0,0,0,109,95,101,110,116,114,121,67,111,117,110,116,32,62,32,48,0,0,0,0,0,0,0,0,70,114,101,101,0,0,0,0,112,32,61,61,32,101,110,116,114,121,45,62,100,97,116,97,0,0,0,0,0,0,0,0,98,100,45,62,112,111,115,105,116,105,111,110,46,73,115,86,97,108,105,100,40,41,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,66,111,100,121,46,99,112,112,0,0,98,50,66,111,100,121,0,0,98,100,45,62,108,105,110,101,97,114,86,101,108,111,99,105,116,121,46,73,115,86,97,108,105,100,40,41,0,0,0,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,108,101,41,0,0,0,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,117,108,97,114,86,101,108,111,99,105,116,121,41,0,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,117,108,97,114,68,97,109,112,105,110,103,41,32,38,38,32,98,100,45,62,97,110,103,117,108,97,114,68,97,109,112,105,110,103,32,62,61,32,48,46,48,102,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,108,105,110,101,97,114,68,97,109,112,105,110,103,41,32,38,38,32,98,100,45,62,108,105,110,101,97,114,68,97,109,112,105,110,103,32,62,61,32,48,46,48,102,0,0,0,0,0,0,0,109,95,119,111,114,108,100,45,62,73,115,76,111,99,107,101,100,40,41,32,61,61,32,102,97,108,115,101,0,0,0,0,83,101,116,84,121,112,101,0,67,114,101,97,116,101,70,105,120,116,117,114,101,0,0,0,68,101,115,116,114,111,121,70,105,120,116,117,114,101,0,0,102,105,120,116,117,114,101,45,62,109,95,98,111,100,121,32,61,61,32,116,104,105,115,0,109,95,102,105,120,116,117,114,101,67,111,117,110,116,32,62,32,48,0,0,0,0,0,0,102,111,117,110,100,0,0,0,109,95,116,121,112,101,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,0,0,0,0,0,0,0,0,82,101,115,101,116,77,97,115,115,68,97,116,97,0,0,0,109,95,73,32,62,32,48,46,48,102,0,0,0,0,0,0,83,101,116,77,97,115,115,68,97,116,97,0,0,0,0,0,83,101,116,84,114,97,110,115,102,111,114,109,0,0,0,0,83,101,116,65,99,116,105,118,101,0,0,0,0,0,0,0,32,32,98,50,66,111,100,121,68,101,102,32,98,100,59,10,0,0,0,0,0,0,0,0,32,32,98,100,46,116,121,112,101,32,61,32,98,50,66,111,100,121,84,121,112,101,40,37,100,41,59,10,0,0,0,0,32,32,98,100,46,112,111,115,105,116,105,111,110,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,32,32,98,100,46,97,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,98,100,46,108,105,110,101,97,114,86,101,108,111,99,105,116,121,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,32,32,98,100,46,97,110,103,117,108,97,114,86,101,108,111,99,105,116,121,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,0,32,32,98,100,46,108,105,110,101,97,114,68,97,109,112,105,110,103,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,98,100,46,97,110,103,117,108,97,114,68,97,109,112,105,110,103,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,98,100,46,97,108,108,111,119,83,108,101,101,112,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,32,32,98,100,46,97,119,97,107,101,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,98,100,46,102,105,120,101,100,82,111,116,97,116,105,111,110,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,98,100,46,98,117,108,108,101,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,0,0,32,32,98,100,46,97,99,116,105,118,101,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,0,0,32,32,98,100,46,103,114,97,118,105,116,121,83,99,97,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,32,32,98,111,100,105,101,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,66,111,100,121,40,38,98,100,41,59,10,0,0,0,0,0,0,0,32,32,123,10,0,0,0,0,32,32,125,10,0,0,0,0,0,49,0,0,0,0,0,0,224,39,0,0,0,0,0,0,109,95,99,111,117,110,116,32,62,32,48,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,71,114,111,119,97,98,108,101,83,116,97,99,107,46,104,0,0,0,0,0,80,111,112,0,0,0,0,0,0,0,0,0,200,10,0,0,65,0,0,0,66,0,0,0,54,0,0,0,55,0,0,0,44,0,0,0,45,0,0,0,109,95,112,114,111,120,121,67,111,117,110,116,32,61,61,32],"i8",Za,h.L),$a([48,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,70,105,120,116,117,114,101,46,99,112,112,0,0,0,0,0,0,0,67,114,101,97,116,101,80,114,111,120,105,101,115,0,0,0,32,32,32,32,98,50,70,105,120,116,117,114,101,68,101,102,32,102,100,59,10,0,0,0,32,32,32,32,102,100,46,102,114,105,99,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,32,32,102,100,46,114,101,115,116,105,116,117,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,32,32,102,100,46,100,101,110,115,105,116,121,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,32,32,32,32,102,100,46,105,115,83,101,110,115,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,32,32,32,32,102,100,46,102,105,108,116,101,114,46,99,97,116,101,103,111,114,121,66,105,116,115,32,61,32,117,105,110,116,49,54,40,37,100,41,59,10,0,0,0,0,0,0,0,32,32,32,32,102,100,46,102,105,108,116,101,114,46,109,97,115,107,66,105,116,115,32,61,32,117,105,110,116,49,54,40,37,100,41,59,10,0,0,0,32,32,32,32,102,100,46,102,105,108,116,101,114,46,103,114,111,117,112,73,110,100,101,120,32,61,32,105,110,116,49,54,40,37,100,41,59,10,0,0,32,32,32,32,98,50,67,105,114,99,108,101,83,104,97,112,101,32,115,104,97,112,101,59,10,0,0,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,114,97,100,105,117,115,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,32,32,115,104,97,112,101,46,109,95,112,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,32,32,32,32,98,50,69,100,103,101,83,104,97,112,101,32,115,104,97,112,101,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,48,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,49,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,50,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,51,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,86,101,114,116,101,120,48,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,86,101,114,116,101,120,51,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,32,32,32,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,32,115,104,97,112,101,59,10,0,0,0,0,0,0,32,32,32,32,98,50,86,101,99,50,32,118,115,91,37,100,93,59,10,0,0,0,0,0,32,32,32,32,118,115,91,37,100,93,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,83,101,116,40,118,115,44,32,37,100,41,59,10,0,32,32,32,32,98,50,67,104,97,105,110,83,104,97,112,101,32,115,104,97,112,101,59,10,0,0,0,0,0,0,0,0,32,32,32,32,115,104,97,112,101,46,67,114,101,97,116,101,67,104,97,105,110,40,118,115,44,32,37,100,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,112,114,101,118,86,101,114,116,101,120,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,32,32,32,32,115,104,97,112,101,46,109,95,110,101,120,116,86,101,114,116,101,120,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,80,114,101,118,86,101,114,116,101,120,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,78,101,120,116,86,101,114,116,101,120,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,10,0,0,0,0,0,0,0,32,32,32,32,102,100,46,115,104,97,112,101,32,61,32,38,115,104,97,112,101,59,10,0,32,32,32,32,98,111,100,105,101,115,91,37,100,93,45,62,67,114,101,97,116,101,70,105,120,116,117,114,101,40,38,102,100,41,59,10,0,0,0,0,116,111,105,73,110,100,101,120,65,32,60,32,109,95,98,111,100,121,67,111,117,110,116,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,73,115,108,97,110,100,46,99,112,112,0,0,0,0,0,0,0,0,116,111,105,73,110,100,101,120,66,32,60,32,109,95,98,111,100,121,67,111,117,110,116,0,73,115,76,111,99,107,101,100,40,41,32,61,61,32,102,97,108,115,101,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,87,111,114,108,100,46,99,112,112,0,67,114,101,97,116,101,66,111,100,121,0,0,0,0,0,0,109,95,98,111,100,121,67,111,117,110,116,32,62,32,48,0,68,101,115,116,114,111,121,66,111,100,121,0,0,0,0,0,67,114,101,97,116,101,74,111,105,110,116,0,0,0,0,0,68,101,115,116,114,111,121,74,111,105,110,116,0,0,0,0,109,95,106,111,105,110,116,67,111,117,110,116,32,62,32,48,0,0,0,0,0,0,0,0,98,45,62,73,115,65,99,116,105,118,101,40,41,32,61,61,32,116,114,117,101,0,0,0,83,111,108,118,101,0,0,0,115,116,97,99,107,67,111,117,110,116,32,60,32,115,116,97,99,107,83,105,122,101,0,0,116,121,112,101,65,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,32,124,124,32,116,121,112,101,66,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,0,0,0,0,0,0,83,111,108,118,101,84,79,73,0,0,0,0,0,0,0,0,97,108,112,104,97,48,32,60,32,49,46,48,102,0,0,0,118,101,114,116,101,120,67,111,117,110,116,32,60,61,32,56,0,0,0,0,0,0,0,0,68,114,97,119,83,104,97,112,101,0,0,0,0,0,0,0,98,50,86,101,99,50,32,103,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,109,95,119,111,114,108,100,45,62,83,101,116,71,114,97,118,105,116,121,40,103,41,59,10,0,0,0,0,0,0,0,0,98,50,66,111,100,121,42,42,32,98,111,100,105,101,115,32,61,32,40,98,50,66,111,100,121,42,42,41,98,50,65,108,108,111,99,40,37,100,32,42,32,115,105,122,101,111,102,40,98,50,66,111,100,121,42,41,41,59,10,0,0,0,0,0,98,50,74,111,105,110,116,42,42,32,106,111,105,110,116,115,32,61,32,40,98,50,74,111,105,110,116,42,42,41,98,50,65,108,108,111,99,40,37,100,32,42,32,115,105,122,101,111,102,40,98,50,74,111,105,110,116,42,41,41,59,10,0,0,123,10,0,0,0,0,0,0,125,10,0,0,0,0,0,0,98,50,70,114,101,101,40,106,111,105,110,116,115,41,59,10,0,0,0,0,0,0,0,0,98,50,70,114,101,101,40,98,111,100,105,101,115,41,59,10,0,0,0,0,0,0,0,0,106,111,105,110,116,115,32,61,32,78,85,76,76,59,10,0,98,111,100,105,101,115,32,61,32,78,85,76,76,59,10,0,114,46,76,101,110,103,116,104,83,113,117,97,114,101,100,40,41,32,62,32,48,46,48,102,0,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,121,110,97,109,105,99,84,114,101,101,46,104,0,0,0,0,82,97,121,67,97,115,116,0,48,32,60,61,32,112,114,111,120,121,73,100,32,38,38,32,112,114,111,120,121,73,100,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,0,0,0,0,0,0,0,71,101,116,85,115,101,114,68,97,116,97,0,0,0,0,0,71,101,116,70,97,116,65,65,66,66,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,77,97,116,104,46,104,0,0,0,0,0,0,65,100,118,97,110,99,101,0,109,95,106,111,105,110,116,67,111,117,110,116,32,60,32,109,95,106,111,105,110,116,67,97,112,97,99,105,116,121,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,73,115,108,97,110,100,46,104,0,0,65,100,100,0,0,0,0,0,109,95,99,111,110,116,97,99,116,67,111,117,110,116,32,60,32,109,95,99,111,110,116,97,99,116,67,97,112,97,99,105,116,121,0,0,0,0,0,0,109,95,98,111,100,121,67,111,117,110,116,32,60,32,109,95,98,111,100,121,67,97,112,97,99,105,116,121,0,0,0,0,0,0,0,0,40,49,0,0,67,0,0,0,68,0,0,0,47,0,0,0,0,0,0,0,49,53,98,50,67,111,110,116,97,99,116,70,105,108,116,101,114,0,0,0,0,0,0,0,136,74,0,0,16,49,0,0,0,0,0,0,224,49,0,0,49,0,0,0,69,0,0,0,70,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,0,0,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,50,51,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,57,98,50,67,111,110,116,97,99,116,0,0,0,0,0,0,136,74,0,0,200,49,0,0,176,74,0,0,168,49,0,0,216,49,0,0,0,0,0,0,0,0,0,0,192,50,0,0,50,0,0,0,71,0,0,0,72,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,104,97,105,110,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,0,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,0,0,50,52,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,176,74,0,0,160,50,0,0,216,49,0,0,0,0,0,0,0,0,0,0,128,51,0,0,51,0,0,0,73,0,0,0,74,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,105,114,99,108,101,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,0,0,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,0,49,53,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,176,74,0,0,104,51,0,0,216,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,32,60,61,32,116,121,112,101,49,32,38,38,32,116,121,112,101,49,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,48,32,60,61,32,116,121,112,101,50,32,38,38,32,116,121,112,101,50,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0,0,0,0,0,0,115,95,105,110,105,116,105,97,108,105,122,101,100,32,61,61,32,116,114,117,101,0,0,0,48,32,60,61,32,116,121,112,101,65,32,38,38,32,116,121,112,101,66,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0,0,0,0,0,0,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,46,99,112,112,0,0,0,0,0,0,0,0,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,0,109,97,110,105,102,111,108,100,45,62,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0,0,0,0,0,0,0,0,73,110,105,116,105,97,108,105,122,101,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,0,0,0,112,111,105,110,116,67,111,117,110,116,32,61,61,32,49,32,124,124,32,112,111,105,110,116,67,111,117,110,116,32,61,61,32,50,0,0,0,0,0,0,83,111,108,118,101,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,0,0,0,0,0,0,0,0,97,46,120,32,62,61,32,48,46,48,102,32,38,38,32,97,46,121,32,62,61,32,48,46,48,102,0,0,0,0,0,0,112,99,45,62,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0,0,0,0,0,0,0,0,0,0,232,54,0,0,52,0,0,0,75,0,0,0,76,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,50,50,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,0,176,74,0,0,200,54,0,0,216,49,0,0,0,0,0,0,0,0,0,0,192,55,0,0,53,0,0,0,77,0,0,0,78,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,101,100,103,101,0,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,0,0,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,50,51,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,0,176,74,0,0,160,55,0,0,216,49,0,0,0,0,0,0,0,0,0,0,160,56,0,0,54,0,0,0,79,0,0,0,80,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,66,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,105,114,99,108,101,0,0,0,0,0,0,50,53,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,176,74,0,0,128,56,0,0,216,49,0,0,0,0,0,0,0,0,0,0,152,57,0,0,55,0,0,0,81,0,0,0,82,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,112,111,108,121,103,111,110,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0,0,0,0,0,0,0,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,0,0,109,95,102,105,120,116,117,114,101,66,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,112,111,108,121,103,111,110,0,0,0,0,0,49,54,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,176,74,0,0,128,57,0,0,216,49,0,0,0,0,0,0,0,0,0,0,48,58,0,0,56,0,0,0,57,0,0,0,47,0,0,0,43,0,0,0,83,0,0,0,51,0,0,0,84,0,0,0,85,0,0,0,58,0,0,0,59,0,0,0,48,0,0,0,0,0,0,0,32,32,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0,49,53,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,0,0,0,0,0,0,0,176,74,0,0,24,58,0,0,240,21,0,0,0,0,0,0,0,0,0,0,152,59,0,0,60,0,0,0,61,0,0,0,48,0,0,0,44,0,0,0,86,0,0,0,51,0,0,0,87,0,0,0,88,0,0,0,62,0,0,0,63,0,0,0,49,0,0,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,102,111,114,99,101,41,32,38,38,32,102,111,114,99,101,32,62,61,32,48,46,48,102,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,46,99,112,112,0,0,83,101,116,77,97,120,70,111,114,99,101,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,116,111,114,113,117,101,41,32,38,38,32,116,111,114,113,117,101,32,62,61,32,48,46,48,102,0,0,0,0,0,83,101,116,77,97,120,84,111,114,113,117,101,0,0,0,0,32,32,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,49,53,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,0,0,0,0,0,0,0,176,74,0,0,128,59,0,0,240,21,0,0,0,0,0,0,0,0,0,0,56,61,0,0,64,0,0,0,65,0,0,0,49,0,0,0,45,0,0,0,89,0,0,0,51,0,0,0,90,0,0,0,91,0,0,0,66,0,0,0,67,0,0,0,50,0,0,0,0,0,0,0,109,95,116,121,112,101,65,32,61,61,32,101,95,114,101,118,111,108,117,116,101,74,111,105,110,116,32,124,124,32,109,95,116,121,112,101,65,32,61,61,32,101,95,112,114,105,115,109,97,116,105,99,74,111,105,110,116,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,71,101,97,114,74,111,105,110,116,46,99,112,112,0,0,0,0,0,0,98,50,71,101,97,114,74,111,105,110,116,0,0,0,0,0,109,95,116,121,112,101,66,32,61,61,32,101,95,114,101,118,111,108,117,116,101,74,111,105,110,116,32,124,124,32,109,95,116,121,112,101,66,32,61,61,32,101,95,112,114,105,115,109,97,116,105,99,74,111,105,110,116,0,0,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,114,97,116,105,111,41,0,0,0,0,0,0,0,0,83,101,116,82,97,116,105,111,0,0,0,0,0,0,0,0,32,32,98,50,71,101,97,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,106,111,105,110,116,49,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0,0,0,0,0,0,32,32,106,100,46,106,111,105,110,116,50,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0,0,0,0,0,0,49,49,98,50,71,101,97,114,74,111,105,110,116,0,0,0,176,74,0,0,40,61,0,0,240,21,0,0,0,0,0,0,102,97,108,115,101,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,74,111,105,110,116,46,99,112,112,0,0,67,114,101,97,116,101,0,0,68,101,115,116,114,111,121,0,0,0,0,0,240,21,0,0,42,0,0,0,42,0,0,0,42,0,0,0,42,0,0,0,92,0,0,0,51,0,0,0,93,0,0,0,94,0,0,0,42,0,0,0,42,0,0,0,42,0,0,0,0,0,0,0,100,101,102,45,62,98,111,100,121,65,32,33,61,32,100,101,102,45,62,98,111,100,121,66,0,0,0,0,0,0,0,0,98,50,74,111,105,110,116,0,47,47,32,68,117,109,112,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,102,111,114,32,116,104,105,115,32,106,111,105,110,116,32,116,121,112,101,46,10,0,0,0,0,0,0,184,63,0,0,68,0,0,0,69,0,0,0,50,0,0,0,46,0,0,0,95,0,0,0,70,0,0,0,96,0,0,0,97,0,0,0,71,0,0,0,72,0,0,0,51,0,0,0,0,0,0,0,100,101,102,45,62,116,97,114,103,101,116,46,73,115,86,97,108,105,100,40,41,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,77,111,117,115,101,74,111,105,110,116,46,99,112,112,0,0,0,0,0,98,50,77,111,117,115,101,74,111,105,110,116,0,0,0,0,98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,109,97,120,70,111,114,99,101,41,32,38,38,32,100,101,102,45,62,109,97,120,70,111,114,99,101,32,62,61,32,48,46,48,102,0,0,0,0,0,0,0,98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,102,114,101,113,117,101,110,99,121,72,122,41,32,38,38,32,100,101,102,45,62,102,114,101,113,117,101,110,99,121,72,122,32,62,61,32,48,46,48,102,0,98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,100,97,109,112,105,110,103,82,97,116,105,111,41,32,38,38,32,100,101,102,45,62,100,97,109,112,105,110,103,82,97,116,105,111,32,62,61,32,48,46,48,102,0,0,0,0,0,0,0,100,32,43,32,104,32,42,32,107,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,0,0,0,0,73,110,105,116,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,0,49,50,98,50,77,111,117,115,101,74,111,105,110,116,0,0,176,74,0,0,168,63,0,0,240,21,0,0,0,0,0,0,77,111,117,115,101,32,106,111,105,110,116,32,100,117,109,112,105,110,103,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,46,10,0,0,0,0,0,0,8,65,0,0,73,0,0,0,74,0,0,0,51,0,0,0,47,0,0,0,98,0,0,0,51,0,0,0,99,0,0,0,100,0,0,0,75,0,0,0,76,0,0,0,52,0,0,0,0,0,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,46,99,112,112,0,32,32,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,119,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,117,112,112,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,77,111,116,111,114,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,49,54,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,0,0,0,0,0,0,176,74,0,0,240,64,0,0,240,21,0,0,0,0,0,0,114,97,116,105,111,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,80,117,108,108,101,121,74,111,105,110,116,46,99,112,112,0,0,0,0,73,110,105,116,105,97,108,105,122,101,0,0,0,0,0,0,0,0,0,0,192,66,0,0,77,0,0,0,78,0,0,0,52,0,0,0,48,0,0,0,101,0,0,0,79,0,0,0,102,0,0,0,103,0,0,0,80,0,0,0,81,0,0,0,53,0,0,0,0,0,0,0,100,101,102,45,62,114,97,116,105,111,32,33,61,32,48,46,48,102,0,0,0,0,0,0,98,50,80,117,108,108,101,121,74,111,105,110,116,0,0,0,32,32,98,50,80,117,108,108,101,121,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,65,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,66,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,0,32,32,106,100,46,114,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,49,51,98,50,80,117,108,108,101,121,74,111,105,110,116,0,176,74,0,0,176,66,0,0,240,21,0,0,0,0,0,0,0,0,0,0,248,67,0,0,82,0,0,0,83,0,0,0,53,0,0,0,49,0,0,0,104,0,0,0,51,0,0,0,105,0,0,0,106,0,0,0,84,0,0,0,85,0,0,0,54,0,0,0,0,0,0,0,108,111,119,101,114,32,60,61,32,117,112,112,101,114,0,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,46,99,112,112,0,0,83,101,116,76,105,109,105,116,115,0,0,0,0,0,0,0,32,32,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,101,110,97,98,108,101,76,105,109,105,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,108,111,119,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,117,112,112,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,49,53,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,0,0,0,0,0,0,0,176,74,0,0,224,67,0,0,240,21,0,0,0,0,0,0,0,0,0,0,136,68,0,0,86,0,0,0,87,0,0,0,54,0,0,0,50,0,0,0,107,0,0,0,51,0,0,0,108,0,0,0,109,0,0,0,88,0,0,0,89,0,0,0,55,0,0,0,0,0,0,0,32,32,98,50,82,111,112,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,109,97,120,76,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,49,49,98,50,82,111,112,101,74,111,105,110,116,0,0,0,176,74,0,0,120,68,0,0,240,21,0,0,0,0,0,0,0,0,0,0,24,69,0,0,90,0,0,0,91,0,0,0,55,0,0,0,51,0,0,0,110,0,0,0,51,0,0,0,111,0,0,0,112,0,0,0,92,0,0,0,93,0,0,0,56,0,0,0,0,0,0,0,32,32,98,50,87,101,108,100,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,114,101,102,101,114,101,110,99,101,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,49,49,98,50,87,101,108,100,74,111,105,110,116,0,0,0,176,74,0,0,8,69,0,0,240,21,0,0,0,0,0,0,0,0,0,0,72,71,0,0,94,0,0,0,95,0,0,0,56,0,0,0,52,0,0,0,113,0,0,0,51,0,0,0,114,0,0,0,115,0,0,0,96,0,0,0,97,0,0,0,57,0,0,0,0,0,0,0,32,32,98,50,87,104,101,101,108,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,120,105,115,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,101,110,97,98,108,101,77,111,116,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,109,111,116,111,114,83,112,101,101,100,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,109,97,120,77,111,116,111,114,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,102,114,101,113,117,101,110,99,121,72,122,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,32,32,106,100,46,100,97,109,112,105,110,103,82,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,50,98,50,87,104,101,101,108,74,111,105,110,116,0,0,176,74,0,0,56,71,0,0,240,21,0,0,0,0,0,0,43,0,0,0,0,0,0,0,117,110,99,97,117,103,104,116,0,0,0,0,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,0,0,0,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,0,0,116,101,114,109,105,110,97,116,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,0,0,0,0,0,0,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,0,0,0,0,0,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,0,0,0,0,0,0,0,248,72,0,0,116,0,0,0,117,0,0,0,46,0,0,0,0,0,0,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,0,83,116,57,98,97,100,95,97,108,108,111,99,0,0,0,0,176,74,0,0,232,72,0,0,128,73,0,0,0,0,0,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,116,104,114,101,119,32,97,110,32,101,120,99,101,112,116,105,111,110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,116,57,101,120,99,101,112,116,105,111,110,0,0,0,0,136,74,0,0,112,73,0,0,83,116,57,116,121,112,101,95,105,110,102,111,0,0,0,0,136,74,0,0,136,73,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,0,176,74,0,0,160,73,0,0,152,73,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,176,74,0,0,216,73,0,0,200,73,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,176,74,0,0,56,74,0,0,200,73,0,0,0,0,0,0,176,74,0,0,16,74,0,0,96,74,0,0,0,0,0,0,0,0,0,0,0,74,0,0,118,0,0,0,119,0,0,0,120,0,0,0,121,0,0,0,48,0,0,0,42,0,0,0,42,0,0,0,56,0,0,0,0,0,0,0,248,74,0,0,118,0,0,0,122,0,0,0,120,0,0,0,121,0,0,0,48,0,0,0,43,0,0,0,43,0,0,0,57,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,176,74,0,0,208,74,0,0,0,74,0,0,0,0,0,0,0,0,0,0,88,75,0,0,118,0,0,0,123,0,0,0,120,0,0,0,121,0,0,0,48,0,0,0,44,0,0,0,44,0,0,0,58,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,176,74,0,0,48,75,0,0,0,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",Za,h.L+10240);var Ob=h.C($a(12,"i8",Xa),8);oa(Ob%8==0);var Pb=Qa;function Qb(){return!!Qb.K}var Rb=0,Sb=[],Tb={};function Ub(V){if(!V||Tb[V])return V;for(var x in Tb)if(Tb[x].N===V)return x;return V}function Vb(){var V=Rb;if(!V)return i.setTempRet0(0),0|0;var x=Tb[V],o=x.type;if(!o)return i.setTempRet0(0),V|0;var _o=Array.prototype.slice.call(arguments);e.___cxa_is_pointer_type(o),Vb.buffer||(Vb.buffer=ab(4)),Ma[Vb.buffer>>2]=V;for(var V=Vb.buffer,_i=0;_i<_o.length;_i++)if(_o[_i]&&e.___cxa_can_catch(_o[_i],o,V))return V=Ma[V>>2],x.N=V,i.setTempRet0(_o[_i]),V|0;return V=Ma[V>>2],i.setTempRet0(o),V|0}e._memset=Wb;function Xb(V,x){Xb.H||(Xb.H={}),V in Xb.H||(h.r("v",x),Xb.H[V]=1)}e._strlen=Yb;var va=d,Zb=0;function $b(V){return Ma[Zb>>2]=V}var ac=9;function bc(V,x,o){if(V=va.$(V),!V)return $b(ac),-1;try{return va.write(V,Ka,x,o)}catch(_o){return va.ba(_o),-1}}function cc(V){return V=va.R(V),V?V.sa:-1}function dc(V,x){var o=Cb(V&255);Ka[dc.T>>0]=o;var _o=cc(x);return bc(_o,dc.T,1)==-1?((o=va.R(x))&&(o.error=aa),-1):o}var ec={},fc=1;function gc(l,x,o,_o){if(o*=x,o==0)return 0;var _i=cc(_o),l=bc(_i,l,o);return l==-1?((x=va.R(_o))&&(x.error=aa),0):l/x|0}function hc(V){return 0>V||V===0&&1/V===-1/0}function ic(V,x){function o(m2){var y2;return m2==="double"?y2=(Ma[Ob>>2]=Ma[x+_i>>2],Ma[Ob+4>>2]=Ma[x+(_i+4)>>2],+Ta[Ob>>3]):m2=="i64"?y2=[Ma[x+_i>>2],Ma[x+(_i+4)>>2]]:(m2="i32",y2=Ma[x+_i>>2]),_i+=h.P(m2),y2}for(var _o=V,_i=0,l=[],t_,o_;;){var i_=_o;if(t_=Ka[_o>>0],t_===0)break;if(o_=Ka[_o+1>>0],t_==37){var _e=ca,l_=ca,ws=ca,h_=ca,s_=ca;t:for(;;){switch(o_){case 43:_e=aa;break;case 45:l_=aa;break;case 35:ws=aa;break;case 48:if(h_)break t;h_=aa;break;case 32:s_=aa;break;default:break t}_o++,o_=Ka[_o+1>>0]}var B_=0;if(o_==42)B_=o("i32"),_o++,o_=Ka[_o+1>>0];else for(;48<=o_&&57>=o_;)B_=10*B_+(o_-48),_o++,o_=Ka[_o+1>>0];var D_=ca,y_=-1;if(o_==46){if(y_=0,D_=aa,_o++,o_=Ka[_o+1>>0],o_==42)y_=o("i32"),_o++;else for(;o_=Ka[_o+1>>0],!(48>o_||57<o_);)y_=10*y_+(o_-48),_o++;o_=Ka[_o+1>>0]}0>y_&&(y_=6,D_=ca);var G_;switch(String.fromCharCode(o_)){case"h":o_=Ka[_o+2>>0],o_==104?(_o++,G_=1):G_=2;break;case"l":o_=Ka[_o+2>>0],o_==108?(_o++,G_=8):G_=4;break;case"L":case"q":case"j":G_=8;break;case"z":case"t":case"I":G_=4;break;default:G_=ba}switch(G_&&_o++,o_=Ka[_o+1>>0],String.fromCharCode(o_)){case"d":case"i":case"u":case"o":case"x":case"X":case"p":i_=o_==100||o_==105,G_=G_||4;var q_=t_=o("i"+8*G_),j_;G_==8&&(t_=h.ca(t_[0],t_[1],o_==117)),4>=G_&&(t_=(i_?Db:Cb)(t_&Math.pow(256,G_)-1,8*G_));var _2=Math.abs(t_),i_="";if(o_==100||o_==105)j_=G_==8&&jc?jc.stringify(q_[0],q_[1],ba):Db(t_,8*G_).toString(10);else if(o_==117)j_=G_==8&&jc?jc.stringify(q_[0],q_[1],aa):Cb(t_,8*G_).toString(10),t_=Math.abs(t_);else if(o_==111)j_=(ws?"0":"")+_2.toString(8);else if(o_==120||o_==88){if(i_=ws&&t_!=0?"0x":"",G_==8&&jc)if(q_[1]){for(j_=(q_[1]>>>0).toString(16),ws=(q_[0]>>>0).toString(16);8>ws.length;)ws="0"+ws;j_+=ws}else j_=(q_[0]>>>0).toString(16);else if(0>t_){for(t_=-t_,j_=(_2-1).toString(16),q_=[],ws=0;ws<j_.length;ws++)q_.push((15-parseInt(j_[ws],16)).toString(16));for(j_=q_.join("");j_.length<2*G_;)j_="f"+j_}else j_=_2.toString(16);o_==88&&(i_=i_.toUpperCase(),j_=j_.toUpperCase())}else o_==112&&(_2===0?j_="(nil)":(i_="0x",j_=_2.toString(16)));if(D_)for(;j_.length<y_;)j_="0"+j_;for(0<=t_&&(_e?i_="+"+i_:s_&&(i_=" "+i_)),j_.charAt(0)=="-"&&(i_="-"+i_,j_=j_.substr(1));i_.length+j_.length<B_;)l_?j_+=" ":h_?j_="0"+j_:i_=" "+i_;j_=i_+j_,j_.split("").forEach(function(y2){l.push(y2.charCodeAt(0))});break;case"f":case"F":case"e":case"E":case"g":case"G":if(t_=o("double"),isNaN(t_))j_="nan",h_=ca;else if(isFinite(t_)){if(D_=ca,G_=Math.min(y_,20),(o_==103||o_==71)&&(D_=aa,y_=y_||1,G_=parseInt(t_.toExponential(G_).split("e")[1],10),y_>G_&&-4<=G_?(o_=(o_==103?"f":"F").charCodeAt(0),y_-=G_+1):(o_=(o_==103?"e":"E").charCodeAt(0),y_--),G_=Math.min(y_,20)),o_==101||o_==69?(j_=t_.toExponential(G_),/[eE][-+]\d$/.test(j_)&&(j_=j_.slice(0,-1)+"0"+j_.slice(-1))):(o_==102||o_==70)&&(j_=t_.toFixed(G_),t_===0&&hc(t_)&&(j_="-"+j_)),i_=j_.split("e"),D_&&!ws)for(;1<i_[0].length&&i_[0].indexOf(".")!=-1&&(i_[0].slice(-1)=="0"||i_[0].slice(-1)==".");)i_[0]=i_[0].slice(0,-1);else for(ws&&j_.indexOf(".")==-1&&(i_[0]+=".");y_>G_++;)i_[0]+="0";j_=i_[0]+(1<i_.length?"e"+i_[1]:""),o_==69&&(j_=j_.toUpperCase()),0<=t_&&(_e?j_="+"+j_:s_&&(j_=" "+j_))}else j_=(0>t_?"-":"")+"inf",h_=ca;for(;j_.length<B_;)j_=l_?j_+" ":h_&&(j_[0]=="-"||j_[0]=="+")?j_[0]+"0"+j_.slice(1):(h_?"0":" ")+j_;97>o_&&(j_=j_.toUpperCase()),j_.split("").forEach(function(y2){l.push(y2.charCodeAt(0))});break;case"s":if(h_=(_e=o("i8*"))?Yb(_e):6,D_&&(h_=Math.min(h_,y_)),!l_)for(;h_<B_--;)l.push(32);if(_e)for(ws=0;ws<h_;ws++)l.push(bb[_e++>>0]);else l=l.concat(Ab("(null)".substr(0,h_),aa));if(l_)for(;h_<B_--;)l.push(32);break;case"c":for(l_&&l.push(o("i8"));0<--B_;)l.push(32);l_||l.push(o("i8"));break;case"n":l_=o("i32*"),Ma[l_>>2]=l.length;break;case"%":l.push(t_);break;default:for(ws=i_;ws<_o+2;ws++)l.push(Ka[ws>>0])}_o+=2}else l.push(t_),_o+=1}return l}function kc(V,x,o){return o=ic(x,o),x=h.A(),V=gc($a(o,"i8",Wa),1,o.length,V),h.J(x),V}function lc(V,x){var o=ic(V,x),_o=Bb(o);return _o[_o.length-1]===`
`&&(_o=_o.substr(0,_o.length-1)),e.print(_o),o.length}e._memcpy=mc;function nc(V){nc.Z||(xa=xa+4095&-4096,nc.Z=aa,oa(h.o),nc.W=h.o,h.o=function(){ua("cannot dynamically allocate, sbrk now has control")});var x=xa;return V!=0&&nc.W(V),x}function ab(V){return h.o(V+8)+8&4294967288}e._malloc=ab;var oc=$a(1,"i32*",Xa);dc.T=$a([0],"i8",Xa),Zb=h.U(4),Ma[Zb>>2]=0,kb=ra=h.C(wa),lb=kb+nb,mb=xa=h.C(lb),oa(mb<ya,"TOTAL_MEMORY not big enough for stack"),e.X={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array},e.Y={abort:ua,assert:oa,min:Pa,jsCall:function(){var V=Array.prototype.slice.call(arguments);return h.p[V[0]].apply(ba,V.slice(1))},invoke_iiii:function(V,x,o,_o){try{return e.dynCall_iiii(V,x,o,_o)}catch(_i){typeof _i!="number"&&_i!=="longjmp"&&c(_i),i.setThrew(1,0)}},invoke_viiiii:function(V,x,o,_o,_i,l){try{e.dynCall_viiiii(V,x,o,_o,_i,l)}catch(t_){typeof t_!="number"&&t_!=="longjmp"&&c(t_),i.setThrew(1,0)}},invoke_did:function(V,x,o){try{return e.dynCall_did(V,x,o)}catch(_o){typeof _o!="number"&&_o!=="longjmp"&&c(_o),i.setThrew(1,0)}},invoke_vi:function(V,x){try{e.dynCall_vi(V,x)}catch(o){typeof o!="number"&&o!=="longjmp"&&c(o),i.setThrew(1,0)}},invoke_diiiid:function(V,x,o,_o,_i,l){try{return e.dynCall_diiiid(V,x,o,_o,_i,l)}catch(t_){typeof t_!="number"&&t_!=="longjmp"&&c(t_),i.setThrew(1,0)}},invoke_vii:function(V,x,o){try{e.dynCall_vii(V,x,o)}catch(_o){typeof _o!="number"&&_o!=="longjmp"&&c(_o),i.setThrew(1,0)}},invoke_viidii:function(V,x,o,_o,_i,l){try{e.dynCall_viidii(V,x,o,_o,_i,l)}catch(t_){typeof t_!="number"&&t_!=="longjmp"&&c(t_),i.setThrew(1,0)}},invoke_ii:function(V,x){try{return e.dynCall_ii(V,x)}catch(o){typeof o!="number"&&o!=="longjmp"&&c(o),i.setThrew(1,0)}},invoke_viidi:function(V,x,o,_o,_i){try{e.dynCall_viidi(V,x,o,_o,_i)}catch(l){typeof l!="number"&&l!=="longjmp"&&c(l),i.setThrew(1,0)}},invoke_viii:function(V,x,o,_o){try{e.dynCall_viii(V,x,o,_o)}catch(_i){typeof _i!="number"&&_i!=="longjmp"&&c(_i),i.setThrew(1,0)}},invoke_v:function(V){try{e.dynCall_v(V)}catch(x){typeof x!="number"&&x!=="longjmp"&&c(x),i.setThrew(1,0)}},invoke_viid:function(V,x,o,_o){try{e.dynCall_viid(V,x,o,_o)}catch(_i){typeof _i!="number"&&_i!=="longjmp"&&c(_i),i.setThrew(1,0)}},invoke_viiiiii:function(V,x,o,_o,_i,l,t_){try{e.dynCall_viiiiii(V,x,o,_o,_i,l,t_)}catch(o_){typeof o_!="number"&&o_!=="longjmp"&&c(o_),i.setThrew(1,0)}},invoke_iii:function(V,x,o){try{return e.dynCall_iii(V,x,o)}catch(_o){typeof _o!="number"&&_o!=="longjmp"&&c(_o),i.setThrew(1,0)}},invoke_iiiiii:function(V,x,o,_o,_i,l){try{return e.dynCall_iiiiii(V,x,o,_o,_i,l)}catch(t_){typeof t_!="number"&&t_!=="longjmp"&&c(t_),i.setThrew(1,0)}},invoke_viiii:function(V,x,o,_o,_i){try{e.dynCall_viiii(V,x,o,_o,_i)}catch(l){typeof l!="number"&&l!=="longjmp"&&c(l),i.setThrew(1,0)}},_cosf:Eb,_send:function(V,x,o){return d.ya(V)?bc(V,x,o):($b(ac),-1)},_pthread_key_create:function(V){return V==0?22:(Ma[V>>2]=fc,ec[fc]=0,fc++,0)},___cxa_guard_acquire:function(V){return Ka[V>>0]?0:Ka[V>>0]=1},___setErrNo:$b,_vfprintf:function(V,x,o){return kc(V,x,Ma[o>>2])},_emscripten_asm_const_int:function(V){var x=Array.prototype.slice.call(arguments,1);return h.O(V,x.length).apply(ba,x)|0},___assert_fail:function(V,x,o,_o){za=aa,c("Assertion failed: "+sa(V)+", at: "+[x?sa(x):"unknown filename",o,_o?sa(_o):"unknown function"]+" at "+fb())},_atan2f:Gb,__ZSt18uncaught_exceptionv:Qb,___cxa_guard_release:function(){},_pwrite:function(V,x,o,_o){if(V=va.$(V),!V)return $b(ac),-1;try{return va.write(V,Ka,x,o,_o)}catch(_i){return va.ba(_i),-1}},_emscripten_asm_const_double:function(V){var x=Array.prototype.slice.call(arguments,1);return+h.O(V,x.length).apply(ba,x)},_fprintf:kc,__reallyNegative:hc,_sbrk:nc,___cxa_begin_catch:function(V){Qb.K--,Sb.push(V);var x=Ub(V);return x&&Tb[x].S++,V},_sinf:Fb,_fileno:cc,___resumeException:function(V){Rb||(Rb=V);var x=Ub(V);x&&(Tb[x].S=0),c(V+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.")},___cxa_find_matching_catch:Vb,_sysconf:function(V){switch(V){case 30:return 4096;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 79:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return typeof navigator=="object"&&navigator.hardwareConcurrency||1}return $b(22),-1},_pthread_getspecific:function(V){return ec[V]||0},_vprintf:function(V,x){return lc(V,Ma[x>>2])},_emscripten_memcpy_big:function(V,x,o){return bb.set(bb.subarray(x,x+o),V),V},_pthread_once:Xb,_printf:lc,_floorf:Pb,_sqrtf:Hb,_write:bc,___errno_location:function(){return Zb},_pthread_setspecific:function(V,x){return V in ec?(ec[V]=x,0):22},_fputc:dc,___cxa_throw:function(V,x,o){Tb[V]={e:V,N:V,type:x,qa:o,S:0},Rb=V,"uncaught_exception"in Qb?Qb.K++:Qb.K=1,c(V+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.")},_abort:function(){e.abort()},_fwrite:gc,_time:function(V){var x=Date.now()/1e3|0;return V&&(Ma[V>>2]=x),x},___cxa_allocate_exception:function(V){return ab(V)},__formatString:ic,___cxa_pure_virtual:function(){za=aa,c("Pure virtual function called!")},STACKTOP:ra,STACK_MAX:lb,tempDoublePtr:Ob,ABORT:za,NaN:NaN,Infinity:1/0,_stderr:oc};var i=function(V,x,o){var _o=new V.Int8Array(o),_i=new V.Int16Array(o),l=new V.Int32Array(o),t_=new V.Uint8Array(o),o_=new V.Uint16Array(o),i_=new V.Uint32Array(o),_e=new V.Float32Array(o),l_=new V.Float64Array(o),ws=x.STACKTOP|0,h_=x.STACK_MAX|0,s_=x.tempDoublePtr|0,B_=x.ABORT|0,D_=x._stderr|0,y_=0,G_=0,q_=0,j_=0,_2=+x.NaN,m2=+x.Infinity,y2=0,I2=0,J2=0,z2=0,K2=0,$2=0,P_=0,E_=0,Z_=0,N_=0,s2=0,u2=0,p2=0,v_=0,F_=0,$_=0,C_=0,W_=0,t2=0,l2=V.Math.floor,D2=V.Math.abs,G2=V.Math.sqrt,E2=V.Math.pow,V2=V.Math.cos,F2=V.Math.sin,U2=V.Math.tan,Na=V.Math.acos,g0=V.Math.asin,n0=V.Math.atan,J0=V.Math.atan2,j0=V.Math.exp,V0=V.Math.log,k0=V.Math.ceil,F0=V.Math.imul,My=x.abort,zP=x.assert,KV=x.min,T2=x.jsCall,xB=x.invoke_iiii,dS=x.invoke_viiiii,WP=x.invoke_did,NP=x.invoke_vi,QV=x.invoke_diiiid,$V=x.invoke_vii,OP=x.invoke_viidii,t4=x.invoke_ii,NB=x.invoke_viidi,OB=x.invoke_viii,e4=x.invoke_v,o4=x.invoke_viid,UP=x.invoke_viiiiii,i4=x.invoke_iii,a_=x.invoke_iiiiii,r4=x.invoke_viiii,G1=x._cosf,g1=x._send,EA=x._pthread_key_create,Z2=x.___cxa_guard_acquire,i0=x.___setErrNo,BA=x._vfprintf,sy=x._emscripten_asm_const_int,X2=x.___assert_fail,QS=x._atan2f,XP=x.__ZSt18uncaught_exceptionv,R0=x.___cxa_guard_release,YP=x._pwrite,UB=x._emscripten_asm_const_double,$S=x._fprintf,fB=x.__reallyNegative,iS=x._sbrk,WC=x.___cxa_begin_catch,HP=x._sinf,ZP=x._fileno,KP=x.___resumeException,NC=x.___cxa_find_matching_catch,jA=x._sysconf,gB=x._pthread_getspecific,XB=x._vprintf,YB=x._emscripten_memcpy_big,vB=x._pthread_once,IJ=x._printf,TJ=x._floorf,FJ=x._sqrtf,RJ=x._write,n4=x.___errno_location,N6=x._pthread_setspecific,O6=x._fputc,Q0=x.___cxa_throw,A0=x._abort,LJ=x._fwrite,U6=x._time,xb=x.___cxa_allocate_exception,kJ=x.__formatString,X6=x.___cxa_pure_virtual,Y6=0;function AB(_){_=_|0;var _t=0;return _t=ws,ws=ws+_|0,ws=ws+15&-16,_t|0}function QP(){return ws|0}function HB(_){_=_|0,ws=_}function Y1(_,_t){_=_|0,_t=_t|0,y_||(y_=_,G_=_t)}function qJ(_){_=_|0,_o[s_>>0]=_o[_>>0],_o[s_+1>>0]=_o[_+1>>0],_o[s_+2>>0]=_o[_+2>>0],_o[s_+3>>0]=_o[_+3>>0]}function SC(_){_=_|0,_o[s_>>0]=_o[_>>0],_o[s_+1>>0]=_o[_+1>>0],_o[s_+2>>0]=_o[_+2>>0],_o[s_+3>>0]=_o[_+3>>0],_o[s_+4>>0]=_o[_+4>>0],_o[s_+5>>0]=_o[_+5>>0],_o[s_+6>>0]=_o[_+6>>0],_o[s_+7>>0]=_o[_+7>>0]}function $P(_){_=_|0,N_=_}function s4(){return N_|0}function bA(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(4)|0,_t)return _r=_t,l[_r>>2]=4576,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(4)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return l[_r>>2]=4576,ws=_,_r|0;return 0}function _4(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,vy[l[(l[_>>2]|0)+16>>2]&127](_,_t),ws=_r}function ZB(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,vy[l[(l[_>>2]|0)+20>>2]&127](_,_t),ws=_r}function H6(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function Z6(_){return _=_|0,l[_+16>>2]|0}function K6(_,_t){_=_|0,_t=_t|0,l[_+16>>2]=_t}function a4(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function Q1(_){return _=_|0,_+80|0}function pM(_){return _=_|0,_+88|0}function o1(_,_t){_=_|0,_t=+_t,_e[_+104>>2]=_t}function Q6(_){return _=_|0,+ +_e[_+104>>2]}function $6(_,_t){_=_|0,_t=+_t,_e[_+68>>2]=_t}function t8(_){return _=_|0,+ +_e[_+68>>2]}function cM(_,_t){_=_|0,_t=+_t,_e[_+72>>2]=_t}function lM(_){return _=_|0,+ +_e[_+72>>2]}function mM(_){return _=_|0,l[_+4>>2]|0}function e8(_){return _=_|0,l[_+48>>2]|0}function _w(_){return _=_|0,l[_+52>>2]|0}function tV(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[16]|0)==0&&(Z2(16)|0)!=0&&R0(16),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=8,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,8}function tC(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[32]|0)==0&&(Z2(32)|0)!=0&&R0(32),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=24,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,24}function eC(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[48]|0)==0&&(Z2(48)|0)!=0&&R0(48),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=40,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,40}function SB(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function bM(_){return _=_|0,l[_+12>>2]|0}function uM(_){return _=_|0,l[_+64>>2]|0}function p4(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function c4(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function hM(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function o8(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function i8(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(36)|0,_t)return _r=_t,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(36)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return ws=_,_r|0;return 0}function r8(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0;_s=ws,e_=a0(36)|0;t:do if(!e_){for(;e_=l[4698]|0,l[4698]=e_+0,!!e_;)if(_u[e_&63](),e_=a0(36)|0,e_)break t;e_=xb(4)|0,l[e_>>2]=18632,Q0(e_|0,18680,116)}while(!1);return __=e_+12|0,n_=e_+24|0,l[e_+0>>2]=l[_+0>>2],l[e_+4>>2]=l[_+4>>2],l[e_+8>>2]=l[_+8>>2],l[__+0>>2]=l[_t+0>>2],l[__+4>>2]=l[_t+4>>2],l[__+8>>2]=l[_t+8>>2],l[n_+0>>2]=l[_r+0>>2],l[n_+4>>2]=l[_r+4>>2],l[n_+8>>2]=l[_r+8>>2],ws=_s,e_|0}function n8(_){_=_|0;var _t=0,_r=0;_t=ws,_r=_+0|0,_=_r+36|0;do l[_r>>2]=0,_r=_r+4|0;while((_r|0)<(_|0));ws=_t}function s8(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[72]|0)==0&&(Z2(72)|0)!=0&&R0(72),P4(_r,_,_t),l[14]=l[_r+0>>2],l[15]=l[_r+4>>2],l[16]=l[_r+8>>2],ws=_s,56}function _8(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0;return _r=ws,(_o[88]|0)==0&&(Z2(88)|0)!=0&&R0(88),e_=+_e[_>>2],n_=+_e[_+12>>2],_s=+_e[_+4>>2],__=+_e[_+16>>2],c_=e_*__-n_*_s,c_!=0&&(c_=1/c_),u_=+_e[_t>>2],x_=+_e[_t+4>>2],__=+(c_*(__*u_-n_*x_)),c_=+(c_*(e_*x_-_s*u_)),_=80,_e[_>>2]=__,_e[_+4>>2]=c_,ws=_r,80}function a8(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;_r=ws,_s=+_e[_>>2],n_=+_e[_+12>>2],e_=+_e[_+4>>2],__=+_e[_+16>>2],c_=_s*__-n_*e_,c_!=0&&(c_=1/c_),_e[_t>>2]=__*c_,__=-c_,_e[_t+12>>2]=n_*__,_e[_t+8>>2]=0,_e[_t+4>>2]=e_*__,_e[_t+16>>2]=_s*c_,_=_t+20|0,l[_+0>>2]=0,l[_+4>>2]=0,l[_+8>>2]=0,l[_+12>>2]=0,ws=_r}function p8(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,rI(_,_t),ws=_r}function c8(_){return _=_|0,_|0}function l4(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,l[_+0>>2]=l[_t+0>>2],l[_+4>>2]=l[_t+4>>2],l[_+8>>2]=l[_t+8>>2],ws=_r}function l8(_){return _=_|0,_+12|0}function m8(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,_=_+12|0,l[_+0>>2]=l[_t+0>>2],l[_+4>>2]=l[_t+4>>2],l[_+8>>2]=l[_t+8>>2],ws=_r}function dM(_){return _=_|0,_+24|0}function b8(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,_=_+24|0,l[_+0>>2]=l[_t+0>>2],l[_+4>>2]=l[_t+4>>2],l[_+8>>2]=l[_t+8>>2],ws=_r}function u8(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function h8(_){return _=_|0,l[(l[_+12>>2]|0)+4>>2]|0}function yM(_){return _=_|0,l[_+12>>2]|0}function d8(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;if(_r=ws,_s=_+38|0,(_t&1|0)==(t_[_s>>0]|0|0)){ws=_r;return}_=l[_+8>>2]|0,e_=_+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_+144>>2]=0),_o[_s>>0]=_t&1,ws=_r}function y8(_){return _=_|0,(_o[_+38>>0]|0)!=0|0}function x8(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0;if(_r=ws,u_=_+32|0,_i[u_+0>>1]=_i[_t+0>>1]|0,_i[u_+2>>1]=_i[_t+2>>1]|0,_i[u_+4>>1]=_i[_t+4>>1]|0,_t=l[_+8>>2]|0,!_t){ws=_r;return}if(e_=l[_t+112>>2]|0,e_)do _s=l[e_+4>>2]|0,((l[_s+48>>2]|0)==(_|0)||(l[_s+52>>2]|0)==(_|0))&&(u_=_s+4|0,l[u_>>2]=l[u_>>2]|8),e_=l[e_+12>>2]|0;while((e_|0)!=0);if(n_=l[_t+88>>2]|0,!n_){ws=_r;return}if(_t=_+28|0,(l[_t>>2]|0)<=0){ws=_r;return}_=_+24|0,e_=n_+102912|0,_s=n_+102908|0,c_=n_+102904|0,u_=l[e_>>2]|0,__=0;do n_=l[(l[_>>2]|0)+(__*28|0)+24>>2]|0,(u_|0)==(l[_s>>2]|0)&&(x_=l[c_>>2]|0,l[_s>>2]=u_<<1,u_=a0(u_<<3)|0,l[c_>>2]=u_,NA(u_|0,x_|0,l[e_>>2]<<2|0)|0,d0(x_),u_=l[e_>>2]|0),l[(l[c_>>2]|0)+(u_<<2)>>2]=n_,u_=(l[e_>>2]|0)+1|0,l[e_>>2]=u_,__=__+1|0;while((__|0)<(l[_t>>2]|0));ws=_r}function f8(_){return _=_|0,_+32|0}function eV(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0;if(_t=ws,_r=l[_+8>>2]|0,!_r){ws=_t;return}if(e_=l[_r+112>>2]|0,e_)do _s=l[e_+4>>2]|0,((l[_s+48>>2]|0)==(_|0)||(l[_s+52>>2]|0)==(_|0))&&(u_=_s+4|0,l[u_>>2]=l[u_>>2]|8),e_=l[e_+12>>2]|0;while((e_|0)!=0);if(n_=l[_r+88>>2]|0,!n_){ws=_t;return}if(_r=_+28|0,(l[_r>>2]|0)<=0){ws=_t;return}_=_+24|0,e_=n_+102912|0,_s=n_+102908|0,n_=n_+102904|0,u_=l[e_>>2]|0,c_=0;do __=l[(l[_>>2]|0)+(c_*28|0)+24>>2]|0,(u_|0)==(l[_s>>2]|0)&&(x_=l[n_>>2]|0,l[_s>>2]=u_<<1,u_=a0(u_<<3)|0,l[n_>>2]=u_,NA(u_|0,x_|0,l[e_>>2]<<2|0)|0,d0(x_),u_=l[e_>>2]|0),l[(l[n_>>2]|0)+(u_<<2)>>2]=__,u_=(l[e_>>2]|0)+1|0,l[e_>>2]=u_,c_=c_+1|0;while((c_|0)<(l[_r>>2]|0));ws=_t}function g8(_){return _=_|0,l[_+8>>2]|0}function v8(_){return _=_|0,l[_+4>>2]|0}function xM(_){return _=_|0,l[_+40>>2]|0}function A8(_,_t){_=_|0,_t=_t|0,l[_+40>>2]=_t}function S8(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;return _r=ws,_s=l[_+12>>2]|0,_=nC[l[(l[_s>>2]|0)+16>>2]&63](_s,(l[_+8>>2]|0)+12|0,_t)|0,ws=_r,_|0}function C8(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0;return e_=ws,n_=l[_+12>>2]|0,_t=MC[l[(l[n_>>2]|0)+20>>2]&63](n_,_t,_r,(l[_+8>>2]|0)+12|0,_s)|0,ws=e_,_t|0}function B8(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_r=ws,_s=l[_+12>>2]|0,xA[l[(l[_s>>2]|0)+28>>2]&63](_s,_t,+_e[_>>2]),ws=_r}function P8(_,_t){_=_|0,_t=+_t;var _r=0;if(_r=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0){_e[_>>2]=_t,ws=_r;return}else X2(4512,4464,295,4552)}function w8(_){return _=_|0,+ +_e[_>>2]}function V8(_){return _=_|0,+ +_e[_+16>>2]}function M8(_,_t){_=_|0,_t=+_t,_e[_+16>>2]=_t}function D8(_){return _=_|0,+ +_e[_+20>>2]}function G8(_,_t){_=_|0,_t=+_t,_e[_+20>>2]=_t}function J8(_,_t){_=_|0,_t=_t|0;var _r=0;return _r=ws,(_t|0)>-1&&(l[_+28>>2]|0)>(_t|0)?(ws=_r,(l[_+24>>2]|0)+(_t*28|0)|0):(X2(4416,4464,341,4504),0)}function I8(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,lI(_,_t),ws=_r}function T8(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function F8(){var _=0,_t=0;_=ws,_t=a0(6)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(6)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return _i[_t>>1]=1,_i[_t+2>>1]=-1,_i[_t+4>>1]=0,ws=_,_t|0}function R8(_){return _=_|0,_i[_>>1]|0}function fM(_,_t){_=_|0,_t=_t|0,_i[_>>1]=_t}function L8(_){return _=_|0,_i[_+2>>1]|0}function k8(_,_t){_=_|0,_t=_t|0,_i[_+2>>1]=_t}function m4(_){return _=_|0,_i[_+4>>1]|0}function q8(_,_t){_=_|0,_t=_t|0,_i[_+4>>1]=_t}function E8(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function j8(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(4)|0,_t)return _r=_t,l[_r>>2]=4080,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(4)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return l[_r>>2]=4080,ws=_,_r|0;return 0}function z8(_,_t){_=_|0,_t=_t|0;var _r=0;return _r=ws,_=s1[l[(l[_>>2]|0)+8>>2]&63](_,_t)|0,ws=_r,_|0}function W8(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function b4(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0;_r=ws,e_=l[_+52>>2]|0,_s=e_+4|0,n_=_i[_s>>1]|0,(n_&2)==0&&(__=n_&65535,(__&2|0)==0)&&(_i[_s>>1]=__|2,_e[e_+144>>2]=0),e_=_t,n_=l[e_+4>>2]|0,__=_+76|0,l[__>>2]=l[e_>>2],l[__+4>>2]=n_,ws=_r}function rS(_){return _=_|0,_+76|0}function gM(_,_t){_=_|0,_t=+_t,_e[_+104>>2]=_t}function N8(_){return _=_|0,+ +_e[_+104>>2]}function O8(_,_t){_=_|0,_t=+_t,_e[_+84>>2]=_t}function oV(_){return _=_|0,+ +_e[_+84>>2]}function J1(_,_t){_=_|0,_t=+_t,_e[_+88>>2]=_t}function U8(_){return _=_|0,+ +_e[_+88>>2]}function u4(_){return _=_|0,l[_+4>>2]|0}function iV(_){return _=_|0,l[_+48>>2]|0}function OC(_){return _=_|0,l[_+52>>2]|0}function PA(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[104]|0)==0&&(Z2(104)|0)!=0&&R0(104),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=96,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,96}function N0(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[120]|0)==0&&(Z2(120)|0)!=0&&R0(120),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=112,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,112}function Qy(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[136]|0)==0&&(Z2(136)|0)!=0&&R0(136),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=128,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,128}function PS(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function CC(_){return _=_|0,l[_+12>>2]|0}function vM(_){return _=_|0,l[_+64>>2]|0}function UC(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function AM(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function X8(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function wA(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function Y8(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(8)|0,_t)return _r=_t,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(8)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return ws=_,_r|0;return 0}function h4(_){_=+_;var _t=0,_r=0;_t=ws,_r=a0(8)|0;t:do if(!_r){for(;_r=l[4698]|0,l[4698]=_r+0,!!_r;)if(_u[_r&63](),_r=a0(8)|0,_r)break t;_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116)}while(!1);return _e[_r>>2]=+F2(+_),_e[_r+4>>2]=+V2(+_),ws=_t,_r|0}function nS(_,_t){_=_|0,_t=+_t,_e[_>>2]=+F2(+_t),_e[_+4>>2]=+V2(+_t)}function sS(_){_=_|0,_e[_>>2]=0,_e[_+4>>2]=1}function SM(_){_=_|0;var _t=0;return _t=+J0(+ +_e[_>>2],+ +_e[_+4>>2]),+_t}function _S(_){_=_|0;var _t=0,_r=0,_s=0;return _t=ws,(_o[152]|0)==0&&(Z2(152)|0)!=0&&R0(152),_s=+ +_e[_+4>>2],_r=+ +_e[_>>2],_=144,_e[_>>2]=_s,_e[_+4>>2]=_r,ws=_t,144}function H8(_){_=_|0;var _t=0,_r=0,_s=0;return _t=ws,(_o[168]|0)==0&&(Z2(168)|0)!=0&&R0(168),_s=+-+_e[_>>2],_r=+ +_e[_+4>>2],_=160,_e[_>>2]=_s,_e[_+4>>2]=_r,ws=_t,160}function CM(_){return _=_|0,+ +_e[_>>2]}function Z8(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function oC(_){return _=_|0,+ +_e[_+4>>2]}function K8(_,_t){_=_|0,_t=+_t,_e[_+4>>2]=_t}function P1(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function Q8(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0;if(_r=ws,_s=_+68|0,+_e[_t>>2]==+_e[_s>>2]&&+_e[_t+4>>2]==+_e[_+72>>2]){ws=_r;return}e_=l[_+48>>2]|0,n_=e_+4|0,__=o_[n_>>1]|0,__&2||(_i[n_>>1]=__|2,_e[e_+144>>2]=0),_=l[_+52>>2]|0,e_=_+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_+144>>2]=0),e_=_t,n_=l[e_+4>>2]|0,__=_s,l[__>>2]=l[e_>>2],l[__+4>>2]=n_,ws=_r}function iC(_){return _=_|0,_+68|0}function $8(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0,n_=0,__=0;if(_r=ws,_s=_+76|0,+_e[_s>>2]==_t){ws=_r;return}e_=l[_+48>>2]|0,n_=e_+4|0,__=o_[n_>>1]|0,__&2||(_i[n_>>1]=__|2,_e[e_+144>>2]=0),_=l[_+52>>2]|0,e_=_+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_+144>>2]=0),_e[_s>>2]=_t,ws=_r}function rC(_){return _=_|0,+ +_e[_+76>>2]}function tG(_,_t){_=_|0,_t=+_t;var _r=0;if(_r=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0){_e[_+92>>2]=_t,ws=_r;return}else X2(14968,5304,228,15064)}function Ey(_){return _=_|0,+ +_e[_+92>>2]}function eG(_,_t){_=_|0,_t=+_t;var _r=0;if(_r=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0){_e[_+96>>2]=_t,ws=_r;return}else X2(15080,5304,239,15120)}function oG(_){return _=_|0,+ +_e[_+96>>2]}function L1(_,_t){_=_|0,_t=+_t;var _r=0;if(_r=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0&_t<=1){_e[_+100>>2]=_t,ws=_r;return}else X2(5360,5304,250,5416)}function iG(_){return _=_|0,+ +_e[_+100>>2]}function z1(_){return _=_|0,l[_+4>>2]|0}function rG(_){return _=_|0,l[_+48>>2]|0}function aS(_){return _=_|0,l[_+52>>2]|0}function nG(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[184]|0)==0&&(Z2(184)|0)!=0&&R0(184),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=176,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,176}function W1(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[200]|0)==0&&(Z2(200)|0)!=0&&R0(200),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=192,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,192}function sG(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[216]|0)==0&&(Z2(216)|0)!=0&&R0(216),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=208,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,208}function XA(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function d4(_){return _=_|0,l[_+12>>2]|0}function y4(_){return _=_|0,l[_+64>>2]|0}function x4(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function pS(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function KB(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function QB(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function $B(_){return _=_|0,+ +_e[_>>2]}function tP(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function eP(_){return _=_|0,+ +_e[_+4>>2]}function XC(_,_t){_=_|0,_t=+_t,_e[_+4>>2]=_t}function YC(_){return _=_|0,+ +_e[_+8>>2]}function BM(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function PM(_){return _=_|0,+ +_e[_+12>>2]}function _G(_,_t){_=_|0,_t=+_t,_e[_+12>>2]=_t}function rV(_){return _=_|0,+ +_e[_+16>>2]}function wM(_,_t){_=_|0,_t=+_t,_e[_+16>>2]=_t}function nV(_){return _=_|0,+ +_e[_+20>>2]}function ES(_,_t){_=_|0,_t=+_t,_e[_+20>>2]=_t}function VM(_){return _=_|0,+ +_e[_+24>>2]}function MM(_,_t){_=_|0,_t=+_t,_e[_+24>>2]=_t}function f4(_){return _=_|0,+ +_e[_+28>>2]}function HC(_,_t){_=_|0,_t=+_t,_e[_+28>>2]=_t}function oP(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function iP(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function DM(){var _=0,_t=0,_r=0,_s=0;_=ws,_t=a0(52)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(52)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+44>>2]=0,_s=_t+4|0,_r=_t+36|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+16>>2]=0,l[_s+20>>2]=0,l[_s+24>>2]=0,l[_s+28>>2]=0,_o[_r>>0]=1,_o[_t+37>>0]=1,_o[_t+38>>0]=0,_o[_t+39>>0]=0,l[_t>>2]=0,_o[_t+40>>0]=1,_e[_t+48>>2]=1,ws=_,_t|0}function g4(_){return _=_|0,l[_>>2]|0}function sV(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function rP(_){return _=_|0,_+4|0}function nP(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+4|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function GM(_){return _=_|0,+ +_e[_+12>>2]}function yS(_,_t){_=_|0,_t=+_t,_e[_+12>>2]=_t}function q0(_){return _=_|0,_+16|0}function uA(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+16|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function v4(_){return _=_|0,+ +_e[_+24>>2]}function JM(_,_t){_=_|0,_t=+_t,_e[_+24>>2]=_t}function IM(_){return _=_|0,+ +_e[_+28>>2]}function TM(_,_t){_=_|0,_t=+_t,_e[_+28>>2]=_t}function sP(_){return _=_|0,+ +_e[_+32>>2]}function aG(_,_t){_=_|0,_t=+_t,_e[_+32>>2]=_t}function pG(_){return _=_|0,(_o[_+36>>0]|0)!=0|0}function cG(_,_t){_=_|0,_t=_t|0,_o[_+36>>0]=_t&1}function cS(_){return _=_|0,(_o[_+37>>0]|0)!=0|0}function _V(_,_t){_=_|0,_t=_t|0,_o[_+37>>0]=_t&1}function FM(_){return _=_|0,(_o[_+38>>0]|0)!=0|0}function aV(_,_t){_=_|0,_t=_t|0,_o[_+38>>0]=_t&1}function RM(_){return _=_|0,(_o[_+39>>0]|0)!=0|0}function LM(_,_t){_=_|0,_t=_t|0,_o[_+39>>0]=_t&1}function kM(_){return _=_|0,(_o[_+40>>0]|0)!=0|0}function qM(_,_t){_=_|0,_t=_t|0,_o[_+40>>0]=_t&1}function YA(_){return _=_|0,l[_+44>>2]|0}function lG(_,_t){_=_|0,_t=_t|0,l[_+44>>2]=_t}function ZC(_){return _=_|0,+ +_e[_+48>>2]}function A4(_,_t){_=_|0,_t=+_t,_e[_+48>>2]=_t}function EM(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function jM(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(4)|0,_t)return _r=_t,l[_r>>2]=3728,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(4)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return l[_r>>2]=3728,ws=_,_r|0;return 0}function zM(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_;var n_=0;return n_=ws,e_=+IG[l[(l[_>>2]|0)+8>>2]&63](_,_t,_r,_s,e_),ws=n_,+e_}function WM(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function pV(_){return _=_|0,_o[_>>0]|0}function H2(_,_t){_=_|0,_t=_t|0,_o[_>>0]=_t}function xS(_){return _=_|0,_o[_+1>>0]|0}function KC(_,_t){_=_|0,_t=_t|0,_o[_+1>>0]=_t}function NM(_){return _=_|0,_o[_+2>>0]|0}function OM(_,_t){_=_|0,_t=_t|0,_o[_+2>>0]=_t}function S4(_){return _=_|0,_o[_+3>>0]|0}function mG(_,_t){_=_|0,_t=_t|0,_o[_+3>>0]=_t}function UM(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function bG(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(8)|0,_t)return _r=_t,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(8)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return ws=_,_r|0;return 0}function XM(_,_t){_=+_,_t=+_t;var _r=0,_s=0;_r=ws,_s=a0(8)|0;t:do if(!_s){for(;_s=l[4698]|0,l[4698]=_s+0,!!_s;)if(_u[_s&63](),_s=a0(8)|0,_s)break t;_s=xb(4)|0,l[_s>>2]=18632,Q0(_s|0,18680,116)}while(!1);return _e[_s>>2]=_,_e[_s+4>>2]=_t,ws=_r,_s|0}function cV(_){_=_|0,_e[_>>2]=0,_e[_+4>>2]=0}function YM(_,_t,_r){_=_|0,_t=+_t,_r=+_r,_e[_>>2]=_t,_e[_+4>>2]=_r}function HM(_,_t){_=_|0,_t=_t|0,_e[_>>2]=+_e[_t>>2]+ +_e[_>>2],_=_+4|0,_e[_>>2]=+_e[_t+4>>2]+ +_e[_>>2]}function ZM(_,_t){_=_|0,_t=_t|0,_e[_>>2]=+_e[_>>2]-+_e[_t>>2],_=_+4|0,_e[_>>2]=+_e[_>>2]-+_e[_t+4>>2]}function KM(_,_t){_=_|0,_t=+_t,_e[_>>2]=+_e[_>>2]*_t,_=_+4|0,_e[_>>2]=+_e[_>>2]*_t}function QC(_){_=_|0;var _t=0,_r=0;return _r=+_e[_>>2],_t=+_e[_+4>>2],_t=+G2(+(_r*_r+_t*_t)),+_t}function zA(_){_=_|0;var _t=0,_r=0;return _r=+_e[_>>2],_t=+_e[_+4>>2],+(_r*_r+_t*_t)}function $0(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0;return _t=ws,_s=+_e[_>>2],n_=_+4|0,e_=+_e[n_>>2],_r=+G2(+(_s*_s+e_*e_)),_r<11920928955078125e-23?(e_=0,ws=_t,+e_):(__=1/_r,_e[_>>2]=_s*__,_e[n_>>2]=e_*__,e_=_r,ws=_t,+e_)}function QM(_){_=_|0;var _t=0;return _t=ws,_e[s_>>2]=+_e[_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040?(_=0,ws=_t,_|0):(_=(_e[s_>>2]=+_e[_+4>>2],((l[s_>>2]|0)&2139095040|0)!=2139095040),ws=_t,_|0)}function CB(_){_=_|0;var _t=0,_r=0,_s=0;return _t=ws,(_o[232]|0)==0&&(Z2(232)|0)!=0&&R0(232),_s=+-+_e[_+4>>2],_r=+ +_e[_>>2],_=224,_e[_>>2]=_s,_e[_+4>>2]=_r,ws=_t,224}function uG(_){return _=_|0,+ +_e[_>>2]}function lV(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function hG(_){return _=_|0,+ +_e[_+4>>2]}function _P(_,_t){_=_|0,_t=+_t,_e[_+4>>2]=_t}function mV(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function dG(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(12)|0,_t)return _r=_t,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(12)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return ws=_,_r|0;return 0}function JA(_,_t,_r){_=+_,_t=+_t,_r=+_r;var _s=0,e_=0;_s=ws,e_=a0(12)|0;t:do if(!e_){for(;e_=l[4698]|0,l[4698]=e_+0,!!e_;)if(_u[e_&63](),e_=a0(12)|0,e_)break t;e_=xb(4)|0,l[e_>>2]=18632,Q0(e_|0,18680,116)}while(!1);return _e[e_>>2]=_,_e[e_+4>>2]=_t,_e[e_+8>>2]=_r,ws=_s,e_|0}function i2(_){_=_|0,_e[_>>2]=0,_e[_+4>>2]=0,_e[_+8>>2]=0}function _n(_,_t,_r,_s){_=_|0,_t=+_t,_r=+_r,_s=+_s,_e[_>>2]=_t,_e[_+4>>2]=_r,_e[_+8>>2]=_s}function r_(_,_t){_=_|0,_t=_t|0;var _r=0;_e[_>>2]=+_e[_t>>2]+ +_e[_>>2],_r=_+4|0,_e[_r>>2]=+_e[_t+4>>2]+ +_e[_r>>2],_=_+8|0,_e[_>>2]=+_e[_t+8>>2]+ +_e[_>>2]}function p_(_,_t){_=_|0,_t=_t|0;var _r=0;_e[_>>2]=+_e[_>>2]-+_e[_t>>2],_r=_+4|0,_e[_r>>2]=+_e[_r>>2]-+_e[_t+4>>2],_=_+8|0,_e[_>>2]=+_e[_>>2]-+_e[_t+8>>2]}function b_(_,_t){_=_|0,_t=+_t;var _r=0;_e[_>>2]=+_e[_>>2]*_t,_r=_+4|0,_e[_r>>2]=+_e[_r>>2]*_t,_=_+8|0,_e[_>>2]=+_e[_>>2]*_t}function d_(_){return _=_|0,+ +_e[_>>2]}function S_(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function T_(_){return _=_|0,+ +_e[_+4>>2]}function k_(_,_t){_=_|0,_t=+_t,_e[_+4>>2]=_t}function U_(_){return _=_|0,+ +_e[_+8>>2]}function X_(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function O_(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function K_(){var _=0,_t=0;_=ws,_t=a0(16)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(16)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,ws=_,_t|0}function a2(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;return _t=ws,_s=+_e[_+8>>2],e_=+_e[_>>2],_r=+_e[_+12>>2],n_=+_e[_+4>>2],!(_s-e_>=0&_r-n_>=0)||(_e[s_>>2]=e_,((l[s_>>2]|0)&2139095040|0)==2139095040)||(_e[s_>>2]=n_,((l[s_>>2]|0)&2139095040|0)==2139095040)||(_e[s_>>2]=_s,((l[s_>>2]|0)&2139095040|0)==2139095040)?(_=0,ws=_t,_|0):(_=(_e[s_>>2]=_r,((l[s_>>2]|0)&2139095040|0)!=2139095040),ws=_t,_|0)}function v2(_){_=_|0;var _t=0,_r=0,_s=0;return _t=ws,(_o[248]|0)==0&&(Z2(248)|0)!=0&&R0(248),_s=+((+_e[_>>2]+ +_e[_+8>>2])*.5),_r=+((+_e[_+4>>2]+ +_e[_+12>>2])*.5),_=240,_e[_>>2]=_s,_e[_+4>>2]=_r,ws=_t,240}function M2(_){_=_|0;var _t=0,_r=0,_s=0;return _t=ws,(_o[264]|0)==0&&(Z2(264)|0)!=0&&R0(264),_s=+((+_e[_+8>>2]-+_e[_>>2])*.5),_r=+((+_e[_+12>>2]-+_e[_+4>>2])*.5),_=256,_e[_>>2]=_s,_e[_+4>>2]=_r,ws=_t,256}function R2(_){return _=_|0,+((+_e[_+8>>2]-+_e[_>>2]+(+_e[_+12>>2]-+_e[_+4>>2]))*2)}function N2(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;_r=ws,_s=+_e[_>>2],e_=+_e[_t>>2],__=+_e[_+4>>2],c_=+_e[_t+4>>2],e_=+(_s<e_?_s:e_),c_=+(__<c_?__:c_),n_=_,_e[n_>>2]=e_,_e[n_+4>>2]=c_,n_=_+8|0,c_=+_e[n_>>2],e_=+_e[_t+8>>2],__=+_e[_+12>>2],_s=+_e[_t+12>>2],e_=+(c_>e_?c_:e_),_s=+(__>_s?__:_s),_=n_,_e[_>>2]=e_,_e[_+4>>2]=_s,ws=_r}function W2(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0;_s=ws,e_=+_e[_t>>2],n_=+_e[_r>>2],__=+_e[_t+4>>2],c_=+_e[_r+4>>2],n_=+(e_<n_?e_:n_),c_=+(__<c_?__:c_),u_=_,_e[u_>>2]=n_,_e[u_+4>>2]=c_,c_=+_e[_t+8>>2],n_=+_e[_r+8>>2],__=+_e[_t+12>>2],e_=+_e[_r+12>>2],n_=+(c_>n_?c_:n_),e_=+(__>e_?__:e_),_t=_+8|0,_e[_t>>2]=n_,_e[_t+4>>2]=e_,ws=_s}function Q2(_,_t){_=_|0,_t=_t|0;var _r=0;return _r=ws,+_e[_>>2]<=+_e[_t>>2]&&+_e[_+4>>2]<=+_e[_t+4>>2]&&+_e[_t+8>>2]<=+_e[_+8>>2]?_t=+_e[_t+12>>2]<=+_e[_+12>>2]:_t=0,ws=_r,_t|0}function ta(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0;for(_s=ws,ws=ws+32|0,c_=_s+8|0,n_=_s+24|0,__=_s+16|0,e_=_s,x_=_r,J_=l[x_>>2]|0,x_=l[x_+4>>2]|0,A_=c_,l[A_>>2]=J_,l[A_+4>>2]=x_,I_=+_e[_r+8>>2]-(l[s_>>2]=J_,+_e[s_>>2]),g_=+_e[_r+12>>2]-+_e[_r+4>>2],_e[n_>>2]=I_,_e[n_+4>>2]=g_,I_>0||(I_=-I_),g_>0||(g_=-g_),_e[__>>2]=I_,_e[__+4>>2]=g_,x_=_+8|0,u_=e_+4|0,A_=0,g_=34028234663852886e22,f_=-34028234663852886e22;;){if(I_<11920928955078125e-23){if(I_=+_e[c_+(A_<<2)>>2],I_<+_e[_+(A_<<2)>>2]){e_=0,_=17;break}if(+_e[x_+(A_<<2)>>2]<I_){e_=0,_=17;break}}else if(R_=1/+_e[n_+(A_<<2)>>2],I_=+_e[c_+(A_<<2)>>2],V_=R_*(+_e[_+(A_<<2)>>2]-I_),I_=R_*(+_e[x_+(A_<<2)>>2]-I_),J_=V_>I_,R_=J_?I_:V_,I_=J_?V_:I_,R_>f_&&(_e[e_>>2]=0,_e[u_>>2]=0,_e[e_+(A_<<2)>>2]=J_?1:-1,f_=R_),g_=g_<I_?g_:I_,f_>g_){e_=0,_=17;break}if(A_=A_+1|0,(A_|0)>=2){_=14;break}I_=+_e[__+(A_<<2)>>2]}return(_|0)==14?f_<0||+_e[_r+16>>2]<f_?(J_=0,ws=_s,J_|0):(_e[_t+8>>2]=f_,x_=e_,A_=l[x_+4>>2]|0,J_=_t,l[J_>>2]=l[x_>>2],l[J_+4>>2]=A_,J_=1,ws=_s,J_|0):(_|0)==17?(ws=_s,e_|0):0}function o0(_){return _=_|0,_|0}function l0(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function p0(_){return _=_|0,_+8|0}function S0(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+8|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function h0(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function G0(){var _=0,_t=0;_=ws,_t=a0(28)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(28)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return _i[_t+22>>1]=1,_i[_t+24>>1]=-1,_i[_t+26>>1]=0,l[_t>>2]=0,l[_t+4>>2]=0,_e[_t+8>>2]=.20000000298023224,_e[_t+12>>2]=0,_e[_t+16>>2]=0,_o[_t+20>>0]=0,ws=_,_t|0}function E0(_){return _=_|0,l[_>>2]|0}function v0(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function m0(_){return _=_|0,l[_+4>>2]|0}function W0(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function z0(_){return _=_|0,+ +_e[_+8>>2]}function Py(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function n1(_){return _=_|0,+ +_e[_+12>>2]}function h1(_,_t){_=_|0,_t=+_t,_e[_+12>>2]=_t}function hA(_){return _=_|0,+ +_e[_+16>>2]}function dA(_,_t){_=_|0,_t=+_t,_e[_+16>>2]=_t}function yA(_){return _=_|0,(_o[_+20>>0]|0)!=0|0}function BB(_,_t){_=_|0,_t=_t|0,_o[_+20>>0]=_t&1}function jS(_){return _=_|0,_+22|0}function PB(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,_=_+22|0,_i[_+0>>1]=_i[_t+0>>1]|0,_i[_+2>>1]=_i[_t+2>>1]|0,_i[_+4>>1]=_i[_t+4>>1]|0,ws=_r}function WA(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function IA(){var _=0,_t=0,_r=0;_=ws,_t=a0(44)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(44)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=9,_r=_t+20|0,l[_r+0>>2]=0,l[_r+4>>2]=0,l[_r+8>>2]=0,l[_r+12>>2]=0,l[_r+16>>2]=0,l[_r+20>>2]=0,ws=_,_t|0}function $1(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0;e_=ws,l[_+8>>2]=_t,l[_+12>>2]=_r,x_=+_e[_s>>2]-+_e[_t+12>>2],A_=_s+4|0,n_=+_e[A_>>2]-+_e[_t+16>>2],__=+_e[_t+24>>2],c_=+_e[_t+20>>2],u_=+(x_*__+n_*c_),c_=+(__*n_-x_*c_),_t=_+20|0,_e[_t>>2]=u_,_e[_t+4>>2]=c_,c_=+_e[_s>>2]-+_e[_r+12>>2],u_=+_e[A_>>2]-+_e[_r+16>>2],x_=+_e[_r+24>>2],n_=+_e[_r+20>>2],__=+(c_*x_+u_*n_),n_=+(x_*u_-c_*n_),_t=_+28|0,_e[_t>>2]=__,_e[_t+4>>2]=n_,ws=e_}function wS(_){return _=_|0,_+20|0}function bV(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function C4(_){return _=_|0,_+28|0}function aP(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function pP(_){return _=_|0,+ +_e[_+36>>2]}function uV(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function hV(_){return _=_|0,+ +_e[_+40>>2]}function yG(_,_t){_=_|0,_t=+_t,_e[_+40>>2]=_t}function dF(_){return _=_|0,l[_>>2]|0}function yF(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function xF(_){return _=_|0,l[_+4>>2]|0}function fF(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function gF(_){return _=_|0,l[_+8>>2]|0}function vF(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function AF(_){return _=_|0,l[_+12>>2]|0}function SF(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function CF(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function BF(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function PF(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function wF(){var _=0,_t=0,_r=0,_s=0;_=ws,_s=a0(64)|0;t:do if(!_s){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_s=a0(64)|0,_s)break t;_s=xb(4)|0,l[_s>>2]=18632,Q0(_s|0,18680,116)}while(!1);_r=_s+0|0,_t=_r+64|0;do l[_r>>2]=0,_r=_r+4|0;while((_r|0)<(_t|0));return ws=_,_s|0}function VF(_){return _=_|0,_+40|0}function MF(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+40|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function DF(_){return _=_|0,_+48|0}function GF(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+48|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function JF(_){return _=_|0,l[_+56>>2]|0}function IF(_,_t){_=_|0,_t=_t|0,l[_+56>>2]=_t}function TF(_){return _=_|0,l[_+60>>2]|0}function FF(_,_t){_=_|0,_t=_t|0,l[_+60>>2]=_t}function RF(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function LF(){var _=0,_t=0,_r=0,_s=0;_=ws,_t=a0(72)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(72)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=2,_s=_t+20|0,_r=_t+36|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0,_e[_r>>2]=1,_e[_t+40>>2]=0,_e[_t+44>>2]=0,_o[_t+48>>0]=0,_e[_t+52>>2]=0,_e[_t+56>>2]=0,_o[_t+60>>0]=0,_e[_t+64>>2]=0,_e[_t+68>>2]=0,ws=_,_t|0}function kF(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0;n_=ws,l[_+8>>2]=_t,l[_+12>>2]=_r,c_=+_e[_s>>2]-+_e[_t+12>>2],I_=_s+4|0,A_=+_e[I_>>2]-+_e[_t+16>>2],f_=_t+24|0,u_=+_e[f_>>2],g_=_t+20|0,__=+_e[g_>>2],x_=+(c_*u_+A_*__),__=+(u_*A_-c_*__),R_=_+20|0,_e[R_>>2]=x_,_e[R_+4>>2]=__,__=+_e[_s>>2]-+_e[_r+12>>2],x_=+_e[I_>>2]-+_e[_r+16>>2],c_=+_e[_r+24>>2],A_=+_e[_r+20>>2],u_=+(__*c_+x_*A_),A_=+(c_*x_-__*A_),_s=_+28|0,_e[_s>>2]=u_,_e[_s+4>>2]=A_,A_=+_e[f_>>2],u_=+_e[e_>>2],__=+_e[g_>>2],x_=+_e[e_+4>>2],c_=+(A_*u_+__*x_),__=+(A_*x_-u_*__),_s=_+36|0,_e[_s>>2]=c_,_e[_s+4>>2]=__,_e[_+44>>2]=+_e[_r+56>>2]-+_e[_t+56>>2],ws=n_}function qF(_){return _=_|0,_+20|0}function EF(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function jF(_){return _=_|0,_+28|0}function zF(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function WF(_){return _=_|0,_+36|0}function NF(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+36|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function OF(_){return _=_|0,+ +_e[_+44>>2]}function UF(_,_t){_=_|0,_t=+_t,_e[_+44>>2]=_t}function XF(_){return _=_|0,(_o[_+48>>0]|0)!=0|0}function YF(_,_t){_=_|0,_t=_t|0,_o[_+48>>0]=_t&1}function HF(_){return _=_|0,+ +_e[_+52>>2]}function ZF(_,_t){_=_|0,_t=+_t,_e[_+52>>2]=_t}function KF(_){return _=_|0,+ +_e[_+56>>2]}function QF(_,_t){_=_|0,_t=+_t,_e[_+56>>2]=_t}function $F(_){return _=_|0,(_o[_+60>>0]|0)!=0|0}function tR(_,_t){_=_|0,_t=_t|0,_o[_+60>>0]=_t&1}function eR(_){return _=_|0,+ +_e[_+64>>2]}function oR(_,_t){_=_|0,_t=+_t,_e[_+64>>2]=_t}function iR(_){return _=_|0,+ +_e[_+68>>2]}function rR(_,_t){_=_|0,_t=+_t,_e[_+68>>2]=_t}function nR(_){return _=_|0,l[_>>2]|0}function sR(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function _R(_){return _=_|0,l[_+4>>2]|0}function aR(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function pR(_){return _=_|0,l[_+8>>2]|0}function cR(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function lR(_){return _=_|0,l[_+12>>2]|0}function mR(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function bR(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function uR(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function hR(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function dR(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0;_t=ws,_r=a0(103028)|0;t:do if(!_r){for(;_r=l[4698]|0,l[4698]=_r+0,!!_r;)if(_u[_r&63](),_r=a0(103028)|0,_r)break t;__=xb(4)|0,l[__>>2]=18632,Q0(__|0,18680,116)}while(!1);e_=_r+8|0,l[e_>>2]=128,l[_r+4>>2]=0,_s=a0(1024)|0,l[_r>>2]=_s,iD(_s|0,0,l[e_>>2]<<3|0)|0,e_=_r+12|0,_s=e_+56|0;do l[e_>>2]=0,e_=e_+4|0;while((e_|0)<(_s|0));do if(!(_o[8640]|0)){for(_s=1,e_=0;;){if((e_|0)>=14){_s=7;break}if((_s|0)>(l[7936+(e_<<2)>>2]|0)&&(e_=e_+1|0),_o[7992+_s>>0]=e_,_s=_s+1|0,(_s|0)>=641){_s=12;break}}if((_s|0)==7)X2(8648,8672,71,8720);else if((_s|0)==12){_o[8640]=1;break}}while(!1);if(l[_r+102468>>2]=0,l[_r+102472>>2]=0,l[_r+102476>>2]=0,l[_r+102864>>2]=0,l[_r+102872>>2]=-1,_s=_r+102884|0,l[_s>>2]=16,l[_r+102880>>2]=0,n_=a0(576)|0,e_=_r+102876|0,l[e_>>2]=n_,iD(n_|0,0,(l[_s>>2]|0)*36|0)|0,n_=(l[_s>>2]|0)+-1|0,e_=l[e_>>2]|0,(n_|0)>0){__=0;do n_=__,__=__+1|0,l[e_+(n_*36|0)+20>>2]=__,l[e_+(n_*36|0)+32>>2]=-1,n_=(l[_s>>2]|0)+-1|0;while((__|0)<(n_|0))}return l[e_+(n_*36|0)+20>>2]=-1,l[e_+(((l[_s>>2]|0)+-1|0)*36|0)+32>>2]=-1,n_=_r+102888|0,__=_r+102920|0,l[n_+0>>2]=0,l[n_+4>>2]=0,l[n_+8>>2]=0,l[n_+12>>2]=0,l[__>>2]=16,l[_r+102924>>2]=0,l[_r+102916>>2]=a0(128)|0,l[_r+102908>>2]=16,l[_r+102912>>2]=0,l[_r+102904>>2]=a0(64)|0,l[_r+102932>>2]=0,l[_r+102936>>2]=0,l[_r+102940>>2]=10112,l[_r+102944>>2]=10120,__=_r+102948|0,n_=_r+102968|0,l[_r+102980>>2]=0,l[_r+102984>>2]=0,_s=_r+102992|0,l[__+0>>2]=0,l[__+4>>2]=0,l[__+8>>2]=0,l[__+12>>2]=0,l[__+16>>2]=0,_o[_s>>0]=1,_o[_r+102993>>0]=1,_o[_r+102994>>0]=0,_o[_r+102995>>0]=1,_o[_r+102976>>0]=1,_s=_,e_=l[_s+4>>2]|0,l[n_>>2]=l[_s>>2],l[n_+4>>2]=e_,l[_r+102868>>2]=4,_e[_r+102988>>2]=0,l[__>>2]=_r,__=_r+102996|0,l[__+0>>2]=0,l[__+4>>2]=0,l[__+8>>2]=0,l[__+12>>2]=0,l[__+16>>2]=0,l[__+20>>2]=0,l[__+24>>2]=0,l[__+28>>2]=0,ws=_t,_r|0}function yR(_,_t){_=_|0,_t=_t|0,l[_+102980>>2]=_t}function xR(_,_t){_=_|0,_t=_t|0,l[_+102940>>2]=_t}function fR(_,_t){_=_|0,_t=_t|0,l[_+102944>>2]=_t}function gR(_,_t){_=_|0,_t=_t|0,l[_+102984>>2]=_t}function vR(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0;return _r=ws,l[_+102868>>2]&2&&X2(11528,11552,109,11592),_s=k1(_,152)|0,_s?(n_=_t+4|0,_e[s_>>2]=+_e[n_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&X2(9064,9088,27,9128),_e[s_>>2]=+_e[_t+8>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&X2(9064,9088,27,9128),u_=_t+16|0,_e[s_>>2]=+_e[u_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&X2(9136,9088,28,9128),_e[s_>>2]=+_e[_t+20>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&X2(9136,9088,28,9128),x_=_t+12|0,_e[s_>>2]=+_e[x_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&X2(9168,9088,29,9128),A_=_t+24|0,_e[s_>>2]=+_e[A_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&X2(9192,9088,30,9128),c_=_t+32|0,f_=+_e[c_>>2],_e[s_>>2]=f_,((l[s_>>2]|0)&2139095040|0)==2139095040|!(f_>=0)&&X2(9224,9088,31,9128),__=_t+28|0,f_=+_e[__>>2],_e[s_>>2]=f_,((l[s_>>2]|0)&2139095040|0)==2139095040|!(f_>=0)&&X2(9288,9088,32,9128),e_=_s+4|0,g_=(_o[_t+39>>0]|0)==0?0:8,_i[e_>>1]=g_,_o[_t+38>>0]|0&&(g_=(g_&65535|16)&65535,_i[e_>>1]=g_),_o[_t+36>>0]|0&&(g_=(g_&65535|4)&65535,_i[e_>>1]=g_),_o[_t+37>>0]|0&&(g_=(g_&65535|2)&65535,_i[e_>>1]=g_),_o[_t+40>>0]|0&&(_i[e_>>1]=g_&65535|32),l[_s+88>>2]=_,g_=n_,n_=l[g_>>2]|0,g_=l[g_+4>>2]|0,e_=_s+12|0,l[e_>>2]=n_,l[e_+4>>2]=g_,f_=+_e[x_>>2],_e[_s+20>>2]=+F2(+f_),_e[_s+24>>2]=+V2(+f_),_e[_s+28>>2]=0,_e[_s+32>>2]=0,e_=_s+36|0,l[e_>>2]=n_,l[e_+4>>2]=g_,e_=_s+44|0,l[e_>>2]=n_,l[e_+4>>2]=g_,_e[_s+52>>2]=+_e[x_>>2],_e[_s+56>>2]=+_e[x_>>2],_e[_s+60>>2]=0,l[_s+108>>2]=0,l[_s+112>>2]=0,l[_s+92>>2]=0,l[_s+96>>2]=0,x_=u_,e_=l[x_+4>>2]|0,g_=_s+64|0,l[g_>>2]=l[x_>>2],l[g_+4>>2]=e_,_e[_s+72>>2]=+_e[A_>>2],_e[_s+132>>2]=+_e[__>>2],_e[_s+136>>2]=+_e[c_>>2],_e[_s+140>>2]=+_e[_t+48>>2],_e[_s+76>>2]=0,_e[_s+80>>2]=0,_e[_s+84>>2]=0,_e[_s+144>>2]=0,g_=l[_t>>2]|0,l[_s>>2]=g_,e_=_s+116|0,(g_|0)==2?(_e[e_>>2]=1,_e[_s+120>>2]=1):(_e[e_>>2]=0,_e[_s+120>>2]=0),_e[_s+124>>2]=0,_e[_s+128>>2]=0,l[_s+148>>2]=l[_t+44>>2],l[_s+100>>2]=0,l[_s+104>>2]=0):_s=0,l[_s+92>>2]=0,e_=_+102952|0,l[_s+96>>2]=l[e_>>2],_t=l[e_>>2]|0,_t?(l[_t+92>>2]=_s,l[e_>>2]=_s,g_=_+102960|0,A_=l[g_>>2]|0,A_=A_+1|0,l[g_>>2]=A_,ws=_r,_s|0):(l[e_>>2]=_s,g_=_+102960|0,A_=l[g_>>2]|0,A_=A_+1|0,l[g_>>2]=A_,ws=_r,_s|0)}function AR(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0;if(_r=ws,_s=_+102960|0,(l[_s>>2]|0)<=0&&X2(11608,11552,133,11624),l[_+102868>>2]&2&&X2(11528,11552,134,11624),__=_t+108|0,c_=l[__>>2]|0,c_){n_=_+102980|0;do x_=c_,c_=l[c_+12>>2]|0,u_=l[n_>>2]|0,u_?(g_=x_+4|0,vy[l[(l[u_>>2]|0)+8>>2]&127](u_,l[g_>>2]|0),u_=g_):u_=x_+4|0,hI(_,l[u_>>2]|0),l[__>>2]=c_;while((c_|0)!=0)}if(l[__>>2]=0,n_=_t+112|0,c_=l[n_>>2]|0,c_){__=_+102872|0;do g_=c_,c_=l[c_+12>>2]|0,cP(__,l[g_+4>>2]|0);while((c_|0)!=0)}l[n_>>2]=0,n_=_t+100|0,x_=l[n_>>2]|0;t:do if(!x_)e_=_t+104|0;else{for(u_=_+102980|0,__=_+102872|0,c_=_t+104|0;A_=x_,x_=l[x_+4>>2]|0,g_=l[u_>>2]|0,g_&&vy[l[(l[g_>>2]|0)+12>>2]&127](g_,A_),wG(A_,__),PG(A_,_),g_=_o[8036]|0,!((g_&255)>=14);)if(g_=_+((g_&255)<<2)+12|0,l[A_>>2]=l[g_>>2],l[g_>>2]=A_,l[n_>>2]=x_,l[c_>>2]=(l[c_>>2]|0)+-1,!x_){e_=c_;break t}X2(8760,8672,171,9032)}while(!1);if(l[n_>>2]=0,l[e_>>2]=0,n_=_t+92|0,__=l[n_>>2]|0,e_=_t+96|0,__&&(l[__+96>>2]=l[e_>>2]),__=l[e_>>2]|0,__&&(l[__+92>>2]=l[n_>>2]),n_=_+102952|0,(l[n_>>2]|0)==(_t|0)&&(l[n_>>2]=l[e_>>2]),l[_s>>2]=(l[_s>>2]|0)+-1,_s=_o[8144]|0,(_s&255)<14){g_=_+((_s&255)<<2)+12|0,l[_t>>2]=l[g_>>2],l[g_>>2]=_t,ws=_r;return}else X2(8760,8672,171,9032)}function SR(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0;_r=ws,l[_+102868>>2]&2&&X2(11528,11552,214,11640);do switch(l[_t>>2]|0){case 4:{_s=k1(_,196)|0;do if(_s)if(l[_s>>2]=15768,__=_t+8|0,e_=_t+12|0,(l[__>>2]|0)==(l[e_>>2]|0)&&X2(15816,15696,185,15848),l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[__>>2],l[_s+52>>2]=l[e_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],e_=_s+16|0,l[e_+0>>2]=0,l[e_+4>>2]=0,l[e_+8>>2]=0,l[e_+12>>2]=0,l[e_+16>>2]=0,l[e_+20>>2]=0,l[e_+24>>2]=0,l[e_+28>>2]=0,l[_s>>2]=16776,e_=_t+20|0,__=l[e_+4>>2]|0,z_=_s+68|0,l[z_>>2]=l[e_>>2],l[z_+4>>2]=__,z_=_t+28|0,__=l[z_+4>>2]|0,e_=_s+76|0,l[e_>>2]=l[z_>>2],l[e_+4>>2]=__,e_=_t+36|0,__=l[e_+4>>2]|0,z_=_s+92|0,l[z_>>2]=l[e_>>2],l[z_+4>>2]=__,z_=_t+44|0,__=l[z_+4>>2]|0,e_=_s+100|0,l[e_>>2]=l[z_>>2],l[e_+4>>2]=__,e_=_t+52|0,_e[_s+84>>2]=+_e[e_>>2],__=_t+56|0,_e[_s+88>>2]=+_e[__>>2],w_=+_e[_t+60>>2],w_!=0){_e[_s+112>>2]=w_,_e[_s+108>>2]=+_e[e_>>2]+w_*+_e[__>>2],_e[_s+116>>2]=0,n_=_s;break}else X2(16824,16696,65,16848);else n_=0;while(!1);_s=n_;break}case 9:{_s=k1(_,180)|0;do if(_s)if(l[_s>>2]=15768,e_=_t+8|0,n_=_t+12|0,(l[e_>>2]|0)==(l[n_>>2]|0))X2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[e_>>2],l[_s+52>>2]=l[n_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],A_=_s+16|0,l[A_+0>>2]=0,l[A_+4>>2]=0,l[A_+8>>2]=0,l[A_+12>>2]=0,l[A_+16>>2]=0,l[A_+20>>2]=0,l[A_+24>>2]=0,l[A_+28>>2]=0,l[_s>>2]=14920,A_=_t+20|0,z_=l[A_+4>>2]|0,M_=_s+68|0,l[M_>>2]=l[A_>>2],l[M_+4>>2]=z_,M_=_t+28|0,z_=l[M_+4>>2]|0,A_=_s+76|0,l[A_>>2]=l[M_>>2],l[A_+4>>2]=z_,_e[_s+84>>2]=0,_e[_s+88>>2]=0,_e[_s+92>>2]=0,_e[_s+96>>2]=+_e[_t+36>>2],_e[_s+100>>2]=+_e[_t+40>>2],A_=_s;break}else A_=0;while(!1);_s=A_;break}case 2:{_s=k1(_,256)|0,_s?(l[_s>>2]=15768,e_=_t+8|0,n_=_t+12|0,(l[e_>>2]|0)==(l[n_>>2]|0)&&X2(15816,15696,185,15848),l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[e_>>2],l[_s+52>>2]=l[n_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],e_=_s+16|0,l[e_+0>>2]=0,l[e_+4>>2]=0,l[e_+8>>2]=0,l[e_+12>>2]=0,l[e_+16>>2]=0,l[e_+20>>2]=0,l[e_+24>>2]=0,l[e_+28>>2]=0,l[_s>>2]=16376,e_=_s+84|0,z_=_t+20|0,M_=l[z_+4>>2]|0,V_=_s+68|0,l[V_>>2]=l[z_>>2],l[V_+4>>2]=M_,V_=_t+28|0,M_=l[V_+4>>2]|0,z_=_s+76|0,l[z_>>2]=l[V_>>2],l[z_+4>>2]=M_,z_=_t+36|0,M_=l[z_>>2]|0,z_=l[z_+4>>2]|0,V_=e_,l[V_>>2]=M_,l[V_+4>>2]=z_,w_=(l[s_>>2]=M_,+_e[s_>>2]),L_=(l[s_>>2]=z_,+_e[s_>>2]),Q_=+G2(+(w_*w_+L_*L_)),Q_<11920928955078125e-23||(H_=1/Q_,w_=w_*H_,_e[e_>>2]=w_,L_=L_*H_,_e[_s+88>>2]=L_),o2=+-L_,H_=+w_,M_=_s+92|0,_e[M_>>2]=o2,_e[M_+4>>2]=H_,_e[_s+100>>2]=+_e[_t+44>>2],M_=_s+104|0,_e[_s+252>>2]=0,z_=_t+52|0,l[M_+0>>2]=0,l[M_+4>>2]=0,l[M_+8>>2]=0,l[M_+12>>2]=0,_e[_s+120>>2]=+_e[z_>>2],_e[_s+124>>2]=+_e[_t+56>>2],_e[_s+128>>2]=+_e[_t+64>>2],_e[_s+132>>2]=+_e[_t+68>>2],_o[_s+136>>0]=_o[_t+48>>0]|0,_o[_s+137>>0]=_o[_t+60>>0]|0,l[_s+140>>2]=0,z_=_s+184|0,l[z_+0>>2]=0,l[z_+4>>2]=0,l[z_+8>>2]=0,l[z_+12>>2]=0):_s=0;break}case 7:{n_=k1(_,224)|0;do if(n_)if(l[n_>>2]=15768,_s=_t+8|0,e_=_t+12|0,(l[_s>>2]|0)==(l[e_>>2]|0))X2(15816,15696,185,15848);else{l[n_+4>>2]=l[_t>>2],l[n_+8>>2]=0,l[n_+12>>2]=0,l[n_+48>>2]=l[_s>>2],l[n_+52>>2]=l[e_>>2],l[n_+56>>2]=0,_o[n_+61>>0]=_o[_t+16>>0]|0,_o[n_+60>>0]=0,l[n_+64>>2]=l[_t+4>>2],M_=n_+16|0,l[M_+0>>2]=0,l[M_+4>>2]=0,l[M_+8>>2]=0,l[M_+12>>2]=0,l[M_+16>>2]=0,l[M_+20>>2]=0,l[M_+24>>2]=0,l[M_+28>>2]=0,l[n_>>2]=17712,M_=_t+20|0,z_=l[M_+4>>2]|0,g_=n_+76|0,l[g_>>2]=l[M_>>2],l[g_+4>>2]=z_,g_=_t+28|0,z_=l[g_+4>>2]|0,M_=n_+84|0,l[M_>>2]=l[g_>>2],l[M_+4>>2]=z_,M_=_t+36|0,z_=l[M_>>2]|0,M_=l[M_+4>>2]|0,g_=n_+92|0,l[g_>>2]=z_,l[g_+4>>2]=M_,g_=n_+100|0,_e[g_>>2]=(l[s_>>2]=M_,-+_e[s_>>2]),l[g_+4>>2]=z_,_e[n_+204>>2]=0,_e[n_+108>>2]=0,_e[n_+208>>2]=0,_e[n_+112>>2]=0,_e[n_+212>>2]=0,_e[n_+116>>2]=0,_e[n_+120>>2]=+_e[_t+48>>2],_e[n_+124>>2]=+_e[_t+52>>2],_o[n_+128>>0]=_o[_t+44>>0]|0,_e[n_+68>>2]=+_e[_t+56>>2],_e[n_+72>>2]=+_e[_t+60>>2],_e[n_+216>>2]=0,_e[n_+220>>2]=0,g_=n_+172|0,l[g_+0>>2]=0,l[g_+4>>2]=0,l[g_+8>>2]=0,l[g_+12>>2]=0,g_=n_;break}else g_=0;while(!1);_s=g_;break}case 3:{_s=k1(_,176)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,e_=_t+12|0,(l[n_>>2]|0)==(l[e_>>2]|0))X2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],l[_s+52>>2]=l[e_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],f_=_s+16|0,l[f_+0>>2]=0,l[f_+4>>2]=0,l[f_+8>>2]=0,l[f_+12>>2]=0,l[f_+16>>2]=0,l[f_+20>>2]=0,l[f_+24>>2]=0,l[f_+28>>2]=0,l[_s>>2]=14768,f_=_t+20|0,z_=l[f_+4>>2]|0,M_=_s+80|0,l[M_>>2]=l[f_>>2],l[M_+4>>2]=z_,M_=_t+28|0,z_=l[M_+4>>2]|0,f_=_s+88|0,l[f_>>2]=l[M_>>2],l[f_+4>>2]=z_,_e[_s+104>>2]=+_e[_t+36>>2],_e[_s+68>>2]=+_e[_t+40>>2],_e[_s+72>>2]=+_e[_t+44>>2],_e[_s+100>>2]=0,_e[_s+96>>2]=0,_e[_s+76>>2]=0,f_=_s;break}else f_=0;while(!1);_s=f_;break}case 1:{_s=k1(_,228)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,e_=_t+12|0,(l[n_>>2]|0)==(l[e_>>2]|0))X2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],l[_s+52>>2]=l[e_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],z_=_s+16|0,l[z_+0>>2]=0,l[z_+4>>2]=0,l[z_+8>>2]=0,l[z_+12>>2]=0,l[z_+16>>2]=0,l[z_+20>>2]=0,l[z_+24>>2]=0,l[z_+28>>2]=0,l[_s>>2]=17112,z_=_t+20|0,u_=l[z_+4>>2]|0,M_=_s+68|0,l[M_>>2]=l[z_>>2],l[M_+4>>2]=u_,M_=_t+28|0,u_=l[M_+4>>2]|0,z_=_s+76|0,l[z_>>2]=l[M_>>2],l[z_+4>>2]=u_,_e[_s+116>>2]=+_e[_t+36>>2],z_=_s+84|0,u_=_t+44|0,l[z_+0>>2]=0,l[z_+4>>2]=0,l[z_+8>>2]=0,l[z_+12>>2]=0,_e[_s+120>>2]=+_e[u_>>2],_e[_s+124>>2]=+_e[_t+48>>2],_e[_s+104>>2]=+_e[_t+60>>2],_e[_s+108>>2]=+_e[_t+56>>2],_o[_s+112>>0]=_o[_t+40>>0]|0,_o[_s+100>>0]=_o[_t+52>>0]|0,l[_s+224>>2]=0,u_=_s;break}else u_=0;while(!1);_s=u_;break}case 8:{_s=k1(_,208)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,e_=_t+12|0,(l[n_>>2]|0)==(l[e_>>2]|0))X2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],l[_s+52>>2]=l[e_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],x_=_s+16|0,l[x_+0>>2]=0,l[x_+4>>2]=0,l[x_+8>>2]=0,l[x_+12>>2]=0,l[x_+16>>2]=0,l[x_+20>>2]=0,l[x_+24>>2]=0,l[x_+28>>2]=0,l[_s>>2]=17568,x_=_t+20|0,z_=l[x_+4>>2]|0,M_=_s+80|0,l[M_>>2]=l[x_>>2],l[M_+4>>2]=z_,M_=_t+28|0,z_=l[M_+4>>2]|0,x_=_s+88|0,l[x_>>2]=l[M_>>2],l[x_+4>>2]=z_,_e[_s+96>>2]=+_e[_t+36>>2],_e[_s+68>>2]=+_e[_t+40>>2],_e[_s+72>>2]=+_e[_t+44>>2],_e[_s+104>>2]=0,_e[_s+108>>2]=0,_e[_s+112>>2]=0,x_=_s;break}else x_=0;while(!1);_s=x_;break}case 6:{_s=k1(_,276)|0,_s?(l[_s>>2]=15768,n_=_t+8|0,e_=_t+12|0,(l[n_>>2]|0)==(l[e_>>2]|0)&&X2(15816,15696,185,15848),l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,z_=_s+48|0,l[z_>>2]=l[n_>>2],x_=_s+52|0,l[x_>>2]=l[e_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],f_=_s+16|0,l[f_+0>>2]=0,l[f_+4>>2]=0,l[f_+8>>2]=0,l[f_+12>>2]=0,l[f_+16>>2]=0,l[f_+20>>2]=0,l[f_+24>>2]=0,l[f_+28>>2]=0,l[_s>>2]=15280,f_=_s+92|0,n_=_s+100|0,R_=_s+108|0,c_=_s+116|0,I_=_s+124|0,e_=_s+132|0,M_=_t+20|0,V_=l[M_>>2]|0,l[_s+68>>2]=V_,u_=_t+24|0,A_=l[u_>>2]|0,l[_s+72>>2]=A_,g_=l[V_+4>>2]|0,l[_s+76>>2]=g_,__=l[A_+4>>2]|0,l[_s+80>>2]=__,(g_+-1|0)>>>0>=2&&X2(15328,15392,53,15448),(__+-1|0)>>>0>=2&&X2(15464,15392,54,15448),J_=l[V_+48>>2]|0,l[_s+84>>2]=J_,V_=l[V_+52>>2]|0,l[z_>>2]=V_,Q_=+_e[V_+20>>2],o2=+_e[V_+24>>2],w_=+_e[J_+20>>2],L_=+_e[J_+24>>2],M_=l[M_>>2]|0,(g_|0)==1?(o2=+_e[V_+56>>2],H_=+_e[J_+56>>2],z_=M_+68|0,V_=l[z_+4>>2]|0,J_=R_,l[J_>>2]=l[z_>>2],l[J_+4>>2]=V_,J_=M_+76|0,V_=l[J_+4>>2]|0,z_=f_,l[z_>>2]=l[J_>>2],l[z_+4>>2]=V_,w_=+_e[M_+116>>2],_e[_s+140>>2]=w_,_e[I_>>2]=0,_e[_s+128>>2]=0,w_=o2-H_-w_):(C2=+_e[J_+16>>2],n2=+_e[J_+12>>2],w2=+_e[V_+16>>2],h2=+_e[V_+12>>2],g_=M_+68|0,r2=l[g_>>2]|0,g_=l[g_+4>>2]|0,V_=R_,l[V_>>2]=r2,l[V_+4>>2]=g_,V_=M_+76|0,J_=l[V_>>2]|0,V_=l[V_+4>>2]|0,z_=f_,l[z_>>2]=J_,l[z_+4>>2]=V_,_e[_s+140>>2]=+_e[M_+100>>2],z_=M_+84|0,M_=l[z_>>2]|0,z_=l[z_+4>>2]|0,R_=I_,l[R_>>2]=M_,l[R_+4>>2]=z_,b2=(l[s_>>2]=r2,+_e[s_>>2]),H_=(l[s_>>2]=g_,+_e[s_>>2]),g2=(l[s_>>2]=J_,+_e[s_>>2]),A2=(l[s_>>2]=V_,+_e[s_>>2]),n2=h2-n2+(o2*g2-Q_*A2),o2=w2-C2+(Q_*g2+o2*A2),Q_=(l[s_>>2]=M_,+_e[s_>>2]*(L_*n2+w_*o2-b2)),w_=Q_+(l[s_>>2]=z_,+_e[s_>>2]*(L_*o2-w_*n2-H_))),g_=l[A_+48>>2]|0,l[_s+88>>2]=g_,A_=l[A_+52>>2]|0,l[x_>>2]=A_,o2=+_e[A_+20>>2],Q_=+_e[A_+24>>2],L_=+_e[g_+20>>2],H_=+_e[g_+24>>2],u_=l[u_>>2]|0,(__|0)==1?(w2=+_e[A_+56>>2],h2=+_e[g_+56>>2],r2=u_+68|0,z_=l[r2+4>>2]|0,M_=c_,l[M_>>2]=l[r2>>2],l[M_+4>>2]=z_,M_=u_+76|0,z_=l[M_+4>>2]|0,r2=n_,l[r2>>2]=l[M_>>2],l[r2+4>>2]=z_,L_=+_e[u_+116>>2],_e[_s+144>>2]=L_,_e[e_>>2]=0,_e[_s+136>>2]=0,L_=w2-h2-L_):(b2=+_e[g_+16>>2],w2=+_e[g_+12>>2],n2=+_e[A_+16>>2],f2=+_e[A_+12>>2],J_=u_+68|0,R_=l[J_>>2]|0,J_=l[J_+4>>2]|0,M_=c_,l[M_>>2]=R_,l[M_+4>>2]=J_,M_=u_+76|0,V_=l[M_>>2]|0,M_=l[M_+4>>2]|0,r2=n_,l[r2>>2]=V_,l[r2+4>>2]=M_,_e[_s+144>>2]=+_e[u_+100>>2],r2=u_+84|0,z_=l[r2>>2]|0,r2=l[r2+4>>2]|0,I_=e_,l[I_>>2]=z_,l[I_+4>>2]=r2,g2=(l[s_>>2]=R_,+_e[s_>>2]),h2=(l[s_>>2]=J_,+_e[s_>>2]),A2=(l[s_>>2]=V_,+_e[s_>>2]),C2=(l[s_>>2]=M_,+_e[s_>>2]),w2=f2-w2+(Q_*A2-o2*C2),C2=n2-b2+(o2*A2+Q_*C2),g2=(l[s_>>2]=z_,+_e[s_>>2]*(H_*w2+L_*C2-g2)),L_=g2+(l[s_>>2]=r2,+_e[s_>>2]*(H_*C2-L_*w2-h2))),f2=+_e[_t+28>>2],_e[_s+152>>2]=f2,_e[_s+148>>2]=w_+L_*f2,_e[_s+156>>2]=0):_s=0;break}case 5:{_s=k1(_,168)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,__=_t+12|0,(l[n_>>2]|0)==(l[__>>2]|0)&&X2(15816,15696,185,15848),l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],__=l[__>>2]|0,l[_s+52>>2]=__,l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],n_=_s+16|0,l[n_+0>>2]=0,l[n_+4>>2]=0,l[n_+8>>2]=0,l[n_+12>>2]=0,l[n_+16>>2]=0,l[n_+20>>2]=0,l[n_+24>>2]=0,l[n_+28>>2]=0,l[_s>>2]=15912,n_=_t+20|0,_e[s_>>2]=+_e[n_>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&X2(15960,15984,34,16040),_e[s_>>2]=+_e[_t+24>>2],((l[s_>>2]|0)&2139095040|0)==2139095040&&X2(15960,15984,34,16040),c_=_t+28|0,f2=+_e[c_>>2],_e[s_>>2]=f2,((l[s_>>2]|0)&2139095040|0)==2139095040|!(f2>=0)&&X2(16056,15984,35,16040),u_=_t+32|0,f2=+_e[u_>>2],_e[s_>>2]=f2,((l[s_>>2]|0)&2139095040|0)==2139095040|!(f2>=0)&&X2(16112,15984,36,16040),x_=_t+36|0,f2=+_e[x_>>2],_e[s_>>2]=f2,((l[s_>>2]|0)&2139095040|0)==2139095040|!(f2>=0))X2(16168,15984,37,16040);else{e_=n_,r2=l[e_>>2]|0,e_=l[e_+4>>2]|0,z_=_s+76|0,l[z_>>2]=r2,l[z_+4>>2]=e_,w2=(l[s_>>2]=r2,+_e[s_>>2]-+_e[__+12>>2]),C2=(l[s_>>2]=e_,+_e[s_>>2]-+_e[__+16>>2]),g2=+_e[__+24>>2],f2=+_e[__+20>>2],h2=+(w2*g2+C2*f2),f2=+(g2*C2-w2*f2),e_=_s+68|0,_e[e_>>2]=h2,_e[e_+4>>2]=f2,_e[_s+104>>2]=+_e[c_>>2],_e[_s+96>>2]=0,_e[_s+100>>2]=0,_e[_s+84>>2]=+_e[u_>>2],_e[_s+88>>2]=+_e[x_>>2],_e[_s+92>>2]=0,_e[_s+108>>2]=0,e_=_s;break}else e_=0;while(!1);_s=e_;break}case 10:{_s=k1(_,168)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,e_=_t+12|0,(l[n_>>2]|0)==(l[e_>>2]|0))X2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],l[_s+52>>2]=l[e_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],__=_s+16|0,l[__+0>>2]=0,l[__+4>>2]=0,l[__+8>>2]=0,l[__+12>>2]=0,l[__+16>>2]=0,l[__+20>>2]=0,l[__+24>>2]=0,l[__+28>>2]=0,l[_s>>2]=17424,__=_t+20|0,r2=l[__+4>>2]|0,z_=_s+68|0,l[z_>>2]=l[__>>2],l[z_+4>>2]=r2,z_=_t+28|0,r2=l[z_+4>>2]|0,__=_s+76|0,l[__>>2]=l[z_>>2],l[__+4>>2]=r2,_e[_s+84>>2]=+_e[_t+36>>2],_e[_s+160>>2]=0,_e[_s+92>>2]=0,l[_s+164>>2]=0,_e[_s+88>>2]=0,__=_s;break}else __=0;while(!1);_s=__;break}case 11:{_s=k1(_,192)|0;do if(_s)if(l[_s>>2]=15768,n_=_t+8|0,e_=_t+12|0,(l[n_>>2]|0)==(l[e_>>2]|0))X2(15816,15696,185,15848);else{l[_s+4>>2]=l[_t>>2],l[_s+8>>2]=0,l[_s+12>>2]=0,l[_s+48>>2]=l[n_>>2],l[_s+52>>2]=l[e_>>2],l[_s+56>>2]=0,_o[_s+61>>0]=_o[_t+16>>0]|0,_o[_s+60>>0]=0,l[_s+64>>2]=l[_t+4>>2],z_=_s+16|0,l[z_+0>>2]=0,l[z_+4>>2]=0,l[z_+8>>2]=0,l[z_+12>>2]=0,l[z_+16>>2]=0,l[z_+20>>2]=0,l[z_+24>>2]=0,l[z_+28>>2]=0,l[_s>>2]=5256,z_=_t+20|0,r2=l[z_+4>>2]|0,c_=_s+68|0,l[c_>>2]=l[z_>>2],l[c_+4>>2]=r2,_e[_s+76>>2]=+_e[_t+28>>2],_e[_s+80>>2]=0,_e[_s+84>>2]=0,_e[_s+88>>2]=0,_e[_s+92>>2]=+_e[_t+32>>2],_e[_s+96>>2]=+_e[_t+36>>2],_e[_s+100>>2]=+_e[_t+40>>2],c_=_s;break}else c_=0;while(!1);_s=c_;break}default:X2(15688,15696,121,15744)}while(!1);if(l[_s+8>>2]=0,n_=_+102956|0,l[_s+12>>2]=l[n_>>2],e_=l[n_>>2]|0,e_&&(l[e_+8>>2]=_s),l[n_>>2]=_s,n_=_+102964|0,l[n_>>2]=(l[n_>>2]|0)+1,n_=_s+16|0,l[_s+20>>2]=_s,_=_s+52|0,l[n_>>2]=l[_>>2],l[_s+24>>2]=0,e_=_s+48|0,__=l[e_>>2]|0,c_=__+108|0,l[_s+28>>2]=l[c_>>2],c_=l[c_>>2]|0,c_&&(l[c_+8>>2]=n_,__=l[e_>>2]|0),l[__+108>>2]=n_,n_=_s+32|0,l[_s+36>>2]=_s,l[n_>>2]=l[e_>>2],l[_s+40>>2]=0,e_=l[_>>2]|0,__=e_+108|0,l[_s+44>>2]=l[__>>2],__=l[__>>2]|0,__&&(l[__+8>>2]=n_,e_=l[_>>2]|0),l[e_+108>>2]=n_,_=l[_t+8>>2]|0,_o[_t+16>>0]|0||(_t=l[(l[_t+12>>2]|0)+112>>2]|0,!_t))return ws=_r,_s|0;do(l[_t>>2]|0)==(_|0)&&(r2=(l[_t+4>>2]|0)+4|0,l[r2>>2]=l[r2>>2]|8),_t=l[_t+12>>2]|0;while((_t|0)!=0);return ws=_r,_s|0}function CR(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,hI(_,_t),ws=_r}function BR(_,_t,_r,_s){_=_|0,_t=+_t,_r=_r|0,_s=_s|0;var e_=0;e_=ws,RX(_,_t,_r,_s),ws=e_}function PR(_){_=_|0;var _t=0;if(_t=ws,_=l[_+102952>>2]|0,!_){ws=_t;return}do _e[_+76>>2]=0,_e[_+80>>2]=0,_e[_+84>>2]=0,_=l[_+96>>2]|0;while((_|0)!=0);ws=_t}function wR(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0,_p=0,_0=0,C0=0;if(_t=ws,ws=ws+208|0,A_=_t+40|0,x_=_t+24|0,I_=_t+80|0,J_=_t+104|0,f_=_t+48|0,g_=_t+32|0,R_=_t,L_=_t+160|0,w_=_t+64|0,M_=_t+176|0,Q_=_t+192|0,o2=_t+88|0,e_=_t+144|0,c_=_t+112|0,_s=_t+8|0,_r=_+102984|0,n_=l[_r>>2]|0,!n_){ws=_t;return}if(n_=l[n_+4>>2]|0,(n_&1|0)!=0&&(k2=l[_+102952>>2]|0,(k2|0)!=0)){Y2=L_+4|0,z_=L_+8|0,H_=L_+12|0,g2=Q_+4|0,C2=Q_+8|0,w2=Q_+12|0,h2=o2+4|0,r2=o2+8|0,f2=o2+12|0,c2=w_+4|0,S2=w_+8|0,d2=w_+12|0,n2=M_+4|0,b2=M_+8|0,A2=M_+12|0;do{if(P2=k2+12|0,L2=l[k2+100>>2]|0,L2){O2=k2+4|0;do{x2=_i[O2>>1]|0;do if(x2&32)if(B2=l[k2>>2]|0,(B2|0)==1){_e[M_>>2]=.5,_e[n2>>2]=.5,_e[b2>>2]=.8999999761581421,_e[A2>>2]=1,B4(_,l[L2+12>>2]|0,P2,M_);break}else if(B2)if(x2&2){_e[o2>>2]=.8999999761581421,_e[h2>>2]=.699999988079071,_e[r2>>2]=.699999988079071,_e[f2>>2]=1,B4(_,l[L2+12>>2]|0,P2,o2);break}else{_e[Q_>>2]=.6000000238418579,_e[g2>>2]=.6000000238418579,_e[C2>>2]=.6000000238418579,_e[w2>>2]=1,B4(_,l[L2+12>>2]|0,P2,Q_);break}else{_e[w_>>2]=.5,_e[c2>>2]=.8999999761581421,_e[S2>>2]=.5,_e[d2>>2]=1,B4(_,l[L2+12>>2]|0,P2,w_);break}else _e[L_>>2]=.5,_e[Y2>>2]=.5,_e[z_>>2]=.30000001192092896,_e[H_>>2]=1,B4(_,l[L2+12>>2]|0,P2,L_);while(!1);L2=l[L2+4>>2]|0}while((L2|0)!=0)}k2=l[k2+96>>2]|0}while((k2|0)!=0)}if((n_&2|0)!=0&&(V_=l[_+102956>>2]|0,(V_|0)!=0)){M_=f_+4|0,w_=f_+8|0,L_=f_+12|0;do x2=(l[V_+52>>2]|0)+12|0,L2=(l[V_+48>>2]|0)+12|0,Q_=l[L2+4>>2]|0,B2=A_,l[B2>>2]=l[L2>>2],l[B2+4>>2]=Q_,B2=l[x2+4>>2]|0,Q_=x_,l[Q_>>2]=l[x2>>2],l[Q_+4>>2]=B2,vy[l[l[V_>>2]>>2]&127](I_,V_),vy[l[(l[V_>>2]|0)+4>>2]&127](J_,V_),_e[f_>>2]=.5,_e[M_>>2]=.800000011920929,_e[w_>>2]=.800000011920929,_e[L_>>2]=1,Q_=l[V_+4>>2]|0,(Q_|0)==3?(B2=l[_r>>2]|0,M1[l[(l[B2>>2]|0)+24>>2]&63](B2,I_,J_,f_)):(Q_|0)==4?(B2=V_+68|0,x2=l[B2+4>>2]|0,L2=g_,l[L2>>2]=l[B2>>2],l[L2+4>>2]=x2,L2=V_+76|0,x2=l[L2+4>>2]|0,B2=R_,l[B2>>2]=l[L2>>2],l[B2+4>>2]=x2,B2=l[_r>>2]|0,M1[l[(l[B2>>2]|0)+24>>2]&63](B2,g_,I_,f_),B2=l[_r>>2]|0,M1[l[(l[B2>>2]|0)+24>>2]&63](B2,R_,J_,f_),B2=l[_r>>2]|0,M1[l[(l[B2>>2]|0)+24>>2]&63](B2,g_,R_,f_)):(Q_|0)!=5&&(B2=l[_r>>2]|0,M1[l[(l[B2>>2]|0)+24>>2]&63](B2,A_,I_,f_),B2=l[_r>>2]|0,M1[l[(l[B2>>2]|0)+24>>2]&63](B2,I_,J_,f_),B2=l[_r>>2]|0,M1[l[(l[B2>>2]|0)+24>>2]&63](B2,x_,J_,f_)),V_=l[V_+12>>2]|0;while((V_|0)!=0)}if(n_&8)for(x_=_+102932|0;x_=l[x_>>2]|0,x_;)x_=x_+12|0;t:do if((n_&4|0)!=0&&(_e[e_>>2]=.8999999761581421,_e[e_+4>>2]=.30000001192092896,_e[e_+8>>2]=.8999999761581421,_e[e_+12>>2]=1,u_=l[_+102952>>2]|0,(u_|0)!=0)){A_=_+102884|0,M_=_+102876|0,x_=c_+4|0,V_=c_+8|0,J_=c_+12|0,R_=c_+16|0,I_=c_+20|0,f_=c_+24|0,g_=c_+28|0;e:for(;;){if((_i[u_+4>>1]&32)!=0&&(__=l[u_+100>>2]|0,(__|0)!=0)){z_=__;do{if(o2=z_+28|0,(l[o2>>2]|0)>0){Q_=z_+24|0,L_=0;do{if(w_=l[(l[Q_>>2]|0)+(L_*28|0)+24>>2]|0,(w_|0)<=-1){e_=37;break e}if((l[A_>>2]|0)<=(w_|0)){e_=37;break e}B2=l[M_>>2]|0,_p=+_e[B2+(w_*36|0)>>2],C0=+_e[B2+(w_*36|0)+4>>2],_0=+_e[B2+(w_*36|0)+8>>2],j2=+_e[B2+(w_*36|0)+12>>2],_e[c_>>2]=_p,_e[x_>>2]=C0,_e[V_>>2]=_0,_e[J_>>2]=C0,_e[R_>>2]=_0,_e[I_>>2]=j2,_e[f_>>2]=_p,_e[g_>>2]=j2,B2=l[_r>>2]|0,M1[l[(l[B2>>2]|0)+8>>2]&63](B2,c_,4,e_),L_=L_+1|0}while((L_|0)<(l[o2>>2]|0))}z_=l[z_+4>>2]|0}while((z_|0)!=0)}if(u_=l[u_+96>>2]|0,!u_)break t}(e_|0)==37&&X2(12256,12200,164,12320)}while(!1);if(!(n_&16)){ws=_t;return}if(_=l[_+102952>>2]|0,!_){ws=_t;return}do L2=_+12|0,l[_s+0>>2]=l[L2+0>>2],l[_s+4>>2]=l[L2+4>>2],l[_s+8>>2]=l[L2+8>>2],l[_s+12>>2]=l[L2+12>>2],L2=_+44|0,x2=l[L2+4>>2]|0,B2=_s,l[B2>>2]=l[L2>>2],l[B2+4>>2]=x2,B2=l[_r>>2]|0,vy[l[(l[B2>>2]|0)+28>>2]&127](B2,_s),_=l[_+96>>2]|0;while((_|0)!=0);ws=_t}function VR(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0;__=ws,ws=ws+1040|0,e_=__,n_=e_+4|0,l[e_>>2]=n_,c_=e_+1028|0,l[c_>>2]=0,u_=e_+1032|0,l[u_>>2]=256,A_=l[e_>>2]|0,l[A_+(l[c_>>2]<<2)>>2]=l[_+102872>>2],M_=l[c_>>2]|0,J_=M_+1|0,l[c_>>2]=J_;do if((M_|0)>-1){I_=_+102876|0,f_=_r+4|0,g_=_r+8|0,A_=_r+12|0,_=_+102884|0;t:for(;;){if((J_|0)<=0){c_=4;break}J_=J_+-1|0,l[c_>>2]=J_,M_=l[e_>>2]|0,R_=l[M_+(J_<<2)>>2]|0;do if((R_|0)!=-1&&(x_=l[I_>>2]|0,!((+_e[_r>>2]-+_e[x_+(R_*36|0)+8>>2]>0?1:+_e[f_>>2]-+_e[x_+(R_*36|0)+12>>2]>0)|+_e[x_+(R_*36|0)>>2]-+_e[g_>>2]>0|+_e[x_+(R_*36|0)+4>>2]-+_e[A_>>2]>0))){if(V_=x_+(R_*36|0)+24|0,(l[V_>>2]|0)==-1){if((R_|0)<=-1){c_=11;break t}if((l[_>>2]|0)<=(R_|0)){c_=11;break t}if(!(s1[l[(l[_t>>2]|0)+8>>2]&63](_t,l[(l[x_+(R_*36|0)+16>>2]|0)+16>>2]|0)|0)){c_=21;break t}J_=l[c_>>2]|0;break}(J_|0)==(l[u_>>2]|0)&&(l[u_>>2]=J_<<1,J_=a0(J_<<3)|0,l[e_>>2]=J_,NA(J_|0,M_|0,l[c_>>2]<<2|0)|0,(M_|0)!=(n_|0))&&d0(M_),J_=l[e_>>2]|0,l[J_+(l[c_>>2]<<2)>>2]=l[V_>>2],V_=(l[c_>>2]|0)+1|0,l[c_>>2]=V_,R_=x_+(R_*36|0)+28|0,(V_|0)==(l[u_>>2]|0)&&(l[u_>>2]=V_<<1,M_=a0(V_<<3)|0,l[e_>>2]=M_,NA(M_|0,J_|0,l[c_>>2]<<2|0)|0,(J_|0)!=(n_|0))&&d0(J_),l[(l[e_>>2]|0)+(l[c_>>2]<<2)>>2]=l[R_>>2],J_=(l[c_>>2]|0)+1|0,l[c_>>2]=J_}while(!1);if((J_|0)<=0){c_=21;break}}if((c_|0)==4)X2(10128,10144,67,10192);else if((c_|0)==11)X2(12256,12200,158,12304);else if((c_|0)==21){_s=l[e_>>2]|0;break}}else _s=A_;while(!1);if((_s|0)==(n_|0)){ws=__;return}d0(_s),l[e_>>2]=0,ws=__}function MR(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0,_p=0,_0=0,C0=0;e_=ws,ws=ws+1088|0,c_=e_+1064|0,__=e_+1056|0,n_=e_+20|0,A_=e_,R_=l[_r>>2]|0,_r=l[_r+4>>2]|0,L_=_s,_s=l[L_>>2]|0,L_=l[L_+4>>2]|0,w_=(l[s_>>2]=R_,+_e[s_>>2]),J_=(l[s_>>2]=_r,+_e[s_>>2]),V_=(l[s_>>2]=_s,+_e[s_>>2]),V_=V_-w_,M_=(l[s_>>2]=L_,+_e[s_>>2]-J_),o2=V_*V_+M_*M_,o2>0||X2(12168,12200,209,12248),o2=+G2(+o2),o2<11920928955078125e-23?(H_=M_,z_=V_):(z_=1/o2,H_=M_*z_,z_=V_*z_),o2=-H_,C2=H_<-0?o2:H_,z_>0?H_=z_:H_=-z_,k2=w_+V_,P2=J_+M_,Q_=n_+4|0,l[n_>>2]=Q_,b2=n_+1028|0,l[b2>>2]=0,n2=n_+1032|0,l[n2>>2]=256,l[(l[n_>>2]|0)+(l[b2>>2]<<2)>>2]=l[_+102872>>2],j2=l[b2>>2]|0,B2=j2+1|0,l[b2>>2]=B2;t:do if((j2|0)>-1){A2=_+102876|0,g2=A_+8|0,w2=A_+16|0,h2=_+102884|0,r2=c_+8|0,f2=A_+4|0,S2=A_+8|0,_=A_+12|0,d2=__+4|0,c2=w_<k2?w_:k2,Y2=J_>P2?J_:P2,k2=w_>k2?w_:k2,P2=J_<P2?J_:P2,O2=1;e:for(;;){o:for(;;){if((B2|0)<=0){__=11;break e}B2=B2+-1|0,l[b2>>2]=B2,x2=l[n_>>2]|0,L2=l[x2+(B2<<2)>>2]|0;do if((L2|0)!=-1&&(g_=l[A2>>2]|0,f_=+_e[g_+(L2*36|0)+8>>2],u_=+_e[g_+(L2*36|0)+12>>2],x_=+_e[g_+(L2*36|0)>>2],I_=+_e[g_+(L2*36|0)+4>>2],!(c2-f_>0|P2-u_>0|x_-k2>0|I_-Y2>0))&&(_p=(w_-(f_+x_)*.5)*o2+z_*(J_-(u_+I_)*.5),_p>0||(_p=-_p),!(_p-(C2*(f_-x_)*.5+H_*(u_-I_)*.5)>0))){if(j2=g_+(L2*36|0)+24|0,(l[j2>>2]|0)!=-1){(B2|0)==(l[n2>>2]|0)&&(l[n2>>2]=B2<<1,B2=a0(B2<<3)|0,l[n_>>2]=B2,NA(B2|0,x2|0,l[b2>>2]<<2|0)|0,(x2|0)!=(Q_|0))&&d0(x2),x2=l[n_>>2]|0,l[x2+(l[b2>>2]<<2)>>2]=l[j2>>2],B2=(l[b2>>2]|0)+1|0,l[b2>>2]=B2,L2=g_+(L2*36|0)+28|0,(B2|0)==(l[n2>>2]|0)&&(l[n2>>2]=B2<<1,j2=a0(B2<<3)|0,l[n_>>2]=j2,NA(j2|0,x2|0,l[b2>>2]<<2|0)|0,(x2|0)!=(Q_|0))&&d0(x2),l[(l[n_>>2]|0)+(l[b2>>2]<<2)>>2]=l[L2>>2],B2=(l[b2>>2]|0)+1|0,l[b2>>2]=B2;break}if(j2=A_,l[j2>>2]=R_,l[j2+4>>2]=_r,j2=g2,l[j2>>2]=_s,l[j2+4>>2]=L_,_e[w2>>2]=O2,(L2|0)<=-1){__=21;break e}if((l[h2>>2]|0)<=(L2|0)){__=21;break e}if(j2=l[g_+(L2*36|0)+16>>2]|0,L2=l[j2+16>>2]|0,B2=l[L2+12>>2]|0,MC[l[(l[B2>>2]|0)+20>>2]&63](B2,c_,A_,(l[L2+8>>2]|0)+12|0,l[j2+20>>2]|0)|0?(_p=+_e[r2>>2],C0=1-_p,_0=C0*+_e[f2>>2]+_p*+_e[_>>2],_e[__>>2]=+_e[A_>>2]*C0+_p*+_e[S2>>2],_e[d2>>2]=_0,_p=+IG[l[(l[_t>>2]|0)+8>>2]&63](_t,L2,__,c_,_p)):_p=+_e[w2>>2],_p==0)break t;if(_p>0)break o;B2=l[b2>>2]|0}while(!1);if((B2|0)<=0)break t}if(k2=w_+V_*_p,P2=J_+M_*_p,B2=l[b2>>2]|0,(B2|0)<=0)break t;c2=w_<k2?w_:k2,Y2=J_>P2?J_:P2,k2=w_>k2?w_:k2,P2=J_<P2?J_:P2,O2=_p}(__|0)==11?X2(10128,10144,67,10192):(__|0)==21&&X2(12256,12200,158,12304)}while(!1);if(__=l[n_>>2]|0,(__|0)==(Q_|0)){ws=e_;return}d0(__),l[n_>>2]=0,ws=e_}function DR(_){return _=_|0,l[_+102952>>2]|0}function GR(_){return _=_|0,l[_+102956>>2]|0}function JR(_){return _=_|0,l[_+102932>>2]|0}function IR(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;if(_r=ws,_s=_+102976|0,(_t&1|0)==(t_[_s>>0]|0|0)){ws=_r;return}if(_o[_s>>0]=_t&1,_t){ws=_r;return}if(_=l[_+102952>>2]|0,!_){ws=_r;return}do _s=_+4|0,_t=o_[_s>>1]|0,_t&2||(_i[_s>>1]=_t|2,_e[_+144>>2]=0),_=l[_+96>>2]|0;while((_|0)!=0);ws=_r}function TR(_){return _=_|0,(_o[_+102976>>0]|0)!=0|0}function FR(_,_t){_=_|0,_t=_t|0,_o[_+102992>>0]=_t&1}function RR(_){return _=_|0,(_o[_+102992>>0]|0)!=0|0}function LR(_,_t){_=_|0,_t=_t|0,_o[_+102993>>0]=_t&1}function kR(_){return _=_|0,(_o[_+102993>>0]|0)!=0|0}function qR(_,_t){_=_|0,_t=_t|0,_o[_+102994>>0]=_t&1}function ER(_){return _=_|0,(_o[_+102994>>0]|0)!=0|0}function jR(_){return _=_|0,l[_+102900>>2]|0}function zR(_){return _=_|0,l[_+102960>>2]|0}function WR(_){return _=_|0,l[_+102964>>2]|0}function NR(_){return _=_|0,l[_+102936>>2]|0}function OR(_){_=_|0;var _t=0,_r=0;return _t=ws,_r=l[_+102872>>2]|0,(_r|0)==-1?(_r=0,ws=_t,_r|0):(_r=l[(l[_+102876>>2]|0)+(_r*36|0)+32>>2]|0,ws=_t,_r|0)}function UR(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;if(_t=ws,_r=l[_+102884>>2]|0,(_r|0)<=0)return n_=0,ws=_t,n_|0;for(_=l[_+102876>>2]|0,_s=0,e_=0;;){if((l[_+(_s*36|0)+32>>2]|0)>=2){if(n_=l[_+(_s*36|0)+24>>2]|0,(n_|0)==-1){_r=5;break}n_=(l[_+((l[_+(_s*36|0)+28>>2]|0)*36|0)+32>>2]|0)-(l[_+(n_*36|0)+32>>2]|0)|0,n_=(n_|0)>0?n_:0-n_|0,e_=(e_|0)>(n_|0)?e_:n_}if(_s=_s+1|0,(_s|0)>=(_r|0)){_r=8;break}}if((_r|0)==5)X2(6616,6088,683,6640);else if((_r|0)==8)return ws=_t,e_|0;return 0}function XR(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;if(_t=ws,e_=l[_+102872>>2]|0,(e_|0)==-1)return n_=0,ws=_t,+n_;if(_s=l[_+102876>>2]|0,_r=(+_e[_s+(e_*36|0)+8>>2]-+_e[_s+(e_*36|0)>>2]+(+_e[_s+(e_*36|0)+12>>2]-+_e[_s+(e_*36|0)+4>>2]))*2,_=l[_+102884>>2]|0,(_|0)>0){e_=0,n_=0;do(l[_s+(e_*36|0)+32>>2]|0)>=0&&(n_=n_+(+_e[_s+(e_*36|0)+8>>2]-+_e[_s+(e_*36|0)>>2]+(+_e[_s+(e_*36|0)+12>>2]-+_e[_s+(e_*36|0)+4>>2]))*2),e_=e_+1|0;while((e_|0)<(_|0))}else n_=0;return n_=n_/_r,ws=_t,+n_}function YR(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+102968|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function HR(_){_=_|0;var _t=0,_r=0,_s=0;return _t=ws,(_o[280]|0)==0&&(Z2(280)|0)!=0&&R0(280),_s=_+102968|0,_r=l[_s+4>>2]|0,_=272,l[_>>2]=l[_s>>2],l[_+4>>2]=_r,ws=_t,272}function ZR(_){return _=_|0,(l[_+102868>>2]&2|0)!=0|0}function KR(_,_t){_=_|0,_t=_t|0;var _r=0;_=_+102868|0,_r=l[_>>2]|0,l[_>>2]=_t?_r|4:_r&-5}function QR(_){return _=_|0,(l[_+102868>>2]&4|0)!=0|0}function $R(_){return _=_|0,_+102996|0}function t5(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;if(_r=ws,ws=ws+16|0,_t=_r,l[_+102868>>2]&2){ws=_r;return}if(n_=+_e[_+102972>>2],l_[s_>>3]=+_e[_+102968>>2],l[_t>>2]=l[s_>>2],l[_t+4>>2]=l[s_+4>>2],_s=_t+8|0,l_[s_>>3]=n_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(11880,_t),_a(11912,_t),l[_t>>2]=l[_+102960>>2],_a(11944,_t),l[_t>>2]=l[_+102964>>2],_a(12008,_t),_s=l[_+102952>>2]|0,_s)for(e_=0;l[_s+8>>2]=e_,aI(_s),_s=l[_s+96>>2]|0,_s;)e_=e_+1|0;if(_=_+102956|0,e_=l[_>>2]|0,e_){for(_s=0;l[e_+56>>2]=_s,e_=l[e_+12>>2]|0,e_;)_s=_s+1|0;if(_s=l[_>>2]|0,_s){do(l[_s+4>>2]|0)!=6&&(_a(12072,_t),_y[l[(l[_s>>2]|0)+16>>2]&127](_s),_a(12080,_t)),_s=l[_s+12>>2]|0;while((_s|0)!=0);if(_=l[_>>2]|0,_)do(l[_+4>>2]|0)==6&&(_a(12072,_t),_y[l[(l[_>>2]|0)+16>>2]&127](_),_a(12080,_t)),_=l[_+12>>2]|0;while((_|0)!=0)}}_a(12088,_t),_a(12112,_t),_a(12136,_t),_a(12152,_t),ws=_r}function e5(_){_=_|0;var _t=0,_r=0,_s=0,e_=0;if(_t=ws,!_){ws=_t;return}if(_r=l[_+102952>>2]|0,_r)do for(_s=_r,_r=l[_r+96>>2]|0,_s=l[_s+100>>2]|0;_s;)e_=l[_s+4>>2]|0,l[_s+28>>2]=0,PG(_s,_),_s=e_;while((_r|0)!=0);if(d0(l[_+102904>>2]|0),d0(l[_+102916>>2]|0),d0(l[_+102876>>2]|0),l[_+102468>>2]|0&&X2(8840,8856,32,8904),l[_+102864>>2]|0&&X2(8928,8856,33,8904),_r=_+4|0,e_=l[_>>2]|0,(l[_r>>2]|0)>0){_s=0;do d0(l[e_+(_s<<3)+4>>2]|0),_s=_s+1|0,e_=l[_>>2]|0;while((_s|0)<(l[_r>>2]|0))}d0(e_),d0(_),ws=_t}function o5(_){return _=_|0,_+68|0}function i5(_){return _=_|0,_+76|0}function r5(_){return _=_|0,_+84|0}function n5(_){return _=_|0,+ +_e[_+100>>2]}function s5(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0;return n_=l[_+48>>2]|0,_r=+_e[n_+24>>2],c_=+_e[_+68>>2],e_=+_e[n_+20>>2],__=+_e[_+72>>2],u_=l[_+52>>2]|0,A_=+_e[u_+24>>2],f_=+_e[_+76>>2],g_=+_e[u_+20>>2],x_=+_e[_+80>>2],_s=+_e[_+84>>2],_t=+_e[_+88>>2],+((+_e[u_+12>>2]+(A_*f_-g_*x_)-(+_e[n_+12>>2]+(_r*c_-e_*__)))*(_r*_s-e_*_t)+(f_*g_+A_*x_+ +_e[u_+16>>2]-(c_*e_+_r*__+ +_e[n_+16>>2]))*(e_*_s+_r*_t))}function _5(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0;return _r=ws,I_=l[_+48>>2]|0,R_=l[_+52>>2]|0,g_=+_e[_+68>>2]-+_e[I_+28>>2],e_=+_e[_+72>>2]-+_e[I_+32>>2],u_=+_e[I_+24>>2],A_=+_e[I_+20>>2],_s=g_*u_-e_*A_,g_=u_*e_+g_*A_,e_=+_e[_+76>>2]-+_e[R_+28>>2],c_=+_e[_+80>>2]-+_e[R_+32>>2],f_=+_e[R_+24>>2],x_=+_e[R_+20>>2],__=e_*f_-c_*x_,x_=f_*c_+e_*x_,e_=+_e[_+84>>2],c_=+_e[_+88>>2],f_=u_*e_-A_*c_,c_=A_*e_+u_*c_,_=I_+64|0,u_=+_e[_>>2],e_=+_e[_+4>>2],_=R_+64|0,A_=+_e[_>>2],_t=+_e[I_+72>>2],n_=+_e[R_+72>>2],_t=(x_+ +_e[R_+48>>2]-(g_+ +_e[I_+48>>2]))*f_*_t-(__+ +_e[R_+44>>2]-(_s+ +_e[I_+44>>2]))*c_*_t+(f_*(g_*_t+(A_-x_*n_-u_))+c_*(+_e[_+4>>2]+__*n_-e_-_s*_t)),ws=_r,+_t}function a5(_){return _=_|0,(_o[_+136>>0]|0)!=0|0}function p5(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0;if(_r=ws,_s=_+136|0,(_t&1|0)==(t_[_s>>0]|0|0)){ws=_r;return}e_=l[_+48>>2]|0,n_=e_+4|0,__=o_[n_>>1]|0,__&2||(_i[n_>>1]=__|2,_e[e_+144>>2]=0),e_=l[_+52>>2]|0,n_=e_+4|0,__=o_[n_>>1]|0,__&2||(_i[n_>>1]=__|2,_e[e_+144>>2]=0),_o[_s>>0]=_t&1,_e[_+112>>2]=0,ws=_r}function c5(_){return _=_|0,+ +_e[_+120>>2]}function l5(_){return _=_|0,+ +_e[_+124>>2]}function m5(_,_t,_r){_=_|0,_t=+_t,_r=+_r;var _s=0,e_=0,n_=0,__=0,c_=0;if(e_=ws,_t<=_r||X2(17160,16424,567,17232),_s=_+120|0,+_e[_s>>2]==_t&&+_e[_+124>>2]==_r){ws=e_;return}c_=l[_+48>>2]|0,n_=c_+4|0,__=o_[n_>>1]|0,__&2||(_i[n_>>1]=__|2,_e[c_+144>>2]=0),__=l[_+52>>2]|0,c_=__+4|0,n_=o_[c_>>1]|0,n_&2||(_i[c_>>1]=n_|2,_e[__+144>>2]=0),_e[_s>>2]=_t,_e[_+124>>2]=_r,_e[_+112>>2]=0,ws=e_}function b5(_){return _=_|0,(_o[_+137>>0]|0)!=0|0}function u5(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;if(_r=ws,_s=l[_+48>>2]|0,e_=_s+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,e_=n_+4|0,_s=o_[e_>>1]|0,_s&2){n_=_+137|0,e_=_t&1,_o[n_>>0]=e_,ws=_r;return}_i[e_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+137|0,e_=_t&1,_o[n_>>0]=e_,ws=_r}function h5(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0,n_=0;if(_r=ws,_s=l[_+48>>2]|0,e_=_s+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,e_=n_+4|0,_s=o_[e_>>1]|0,_s&2){n_=_+132|0,_e[n_>>2]=_t,ws=_r;return}_i[e_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+132|0,_e[n_>>2]=_t,ws=_r}function d5(_){return _=_|0,+ +_e[_+132>>2]}function y5(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0,n_=0;if(_r=ws,_s=l[_+48>>2]|0,e_=_s+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,e_=n_+4|0,_s=o_[e_>>1]|0,_s&2){n_=_+128|0,_e[n_>>2]=_t,ws=_r;return}_i[e_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+128|0,_e[n_>>2]=_t,ws=_r}function x5(_){return _=_|0,+ +_e[_+128>>2]}function f5(_,_t){return _=_|0,_t=+_t,+(+_e[_+116>>2]*_t)}function g5(_){return _=_|0,l[_+4>>2]|0}function v5(_){return _=_|0,l[_+48>>2]|0}function A5(_){return _=_|0,l[_+52>>2]|0}function S5(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[296]|0)==0&&(Z2(296)|0)!=0&&R0(296),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=288,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,288}function C5(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[312]|0)==0&&(Z2(312)|0)!=0&&R0(312),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=304,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,304}function B5(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[328]|0)==0&&(Z2(328)|0)!=0&&R0(328),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=320,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,320}function P5(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function w5(_){return _=_|0,l[_+12>>2]|0}function V5(_){return _=_|0,l[_+64>>2]|0}function M5(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function D5(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function G5(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function J5(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function I5(_){return _=_|0,_|0}function T5(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function F5(_){return _=_|0,+ +_e[_+8>>2]}function R5(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function L5(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function k5(_){return _=_|0,_|0}function q5(_,_t){_=_|0,_t=_t|0,_t=t_[_t>>0]|t_[_t+1>>0]<<8|t_[_t+2>>0]<<16|t_[_t+3>>0]<<24,_o[_>>0]=_t,_o[_+1>>0]=_t>>8,_o[_+2>>0]=_t>>16,_o[_+3>>0]=_t>>24}function E5(_){return _=_|0,l[_>>2]|0}function j5(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function z5(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function W5(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function N5(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(4)|0,_t)return _r=_t,l[_r>>2]=2688,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(4)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return l[_r>>2]=2688,ws=_,_r|0;return 0}function O5(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,vy[l[(l[_>>2]|0)+8>>2]&127](_,_t),ws=_r}function U5(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,vy[l[(l[_>>2]|0)+12>>2]&127](_,_t),ws=_r}function X5(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;_s=ws,M4[l[(l[_>>2]|0)+16>>2]&63](_,_t,_r),ws=_s}function Y5(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;_s=ws,M4[l[(l[_>>2]|0)+20>>2]&63](_,_t,_r),ws=_s}function H5(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function Z5(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(16)|0,_t)return _r=_t,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(16)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return ws=_,_r|0;return 0}function K5(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;_r=ws,_s=a0(16)|0;t:do if(!_s){for(;_s=l[4698]|0,l[4698]=_s+0,!!_s;)if(_u[_s&63](),_s=a0(16)|0,_s)break t;_s=xb(4)|0,l[_s>>2]=18632,Q0(_s|0,18680,116)}while(!1);return n_=_,_=l[n_+4>>2]|0,e_=_s,l[e_>>2]=l[n_>>2],l[e_+4>>2]=_,e_=_t,_=l[e_+4>>2]|0,_t=_s+8|0,l[_t>>2]=l[e_>>2],l[_t+4>>2]=_,ws=_r,_s|0}function Q5(_,_t,_r,_s){_=+_,_t=+_t,_r=+_r,_s=+_s;var e_=0,n_=0;e_=ws,n_=a0(16)|0;t:do if(!n_){for(;n_=l[4698]|0,l[4698]=n_+0,!!n_;)if(_u[n_&63](),n_=a0(16)|0,n_)break t;n_=xb(4)|0,l[n_>>2]=18632,Q0(n_|0,18680,116)}while(!1);return _e[n_>>2]=_,_e[n_+4>>2]=_r,_e[n_+8>>2]=_t,_e[n_+12>>2]=_s,ws=e_,n_|0}function $5(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0;e_=_t,_t=l[e_+4>>2]|0,_s=_,l[_s>>2]=l[e_>>2],l[_s+4>>2]=_t,_s=_r,_r=l[_s+4>>2]|0,_t=_+8|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function t9(_){_=_|0,_e[_>>2]=1,_e[_+8>>2]=0,_e[_+4>>2]=0,_e[_+12>>2]=1}function e9(_){_=_|0;var _t=0;_t=ws,l[_+0>>2]=0,l[_+4>>2]=0,l[_+8>>2]=0,l[_+12>>2]=0,ws=_t}function o9(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0;return _t=ws,(_o[352]|0)==0&&(Z2(352)|0)!=0&&R0(352),_r=+_e[_>>2],_s=+_e[_+8>>2],e_=+_e[_+4>>2],n_=+_e[_+12>>2],__=_r*n_-_s*e_,__!=0&&(__=1/__),c_=-__,_e[84]=n_*__,_e[85]=e_*c_,_e[86]=_s*c_,_e[87]=_r*__,ws=_t,336}function i9(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0;return _r=ws,(_o[368]|0)==0&&(Z2(368)|0)!=0&&R0(368),e_=+_e[_>>2],n_=+_e[_+8>>2],_s=+_e[_+4>>2],__=+_e[_+12>>2],c_=e_*__-n_*_s,c_!=0&&(c_=1/c_),u_=+_e[_t>>2],x_=+_e[_t+4>>2],__=+(c_*(__*u_-n_*x_)),c_=+(c_*(e_*x_-_s*u_)),_=360,_e[_>>2]=__,_e[_+4>>2]=c_,ws=_r,360}function r9(_){return _=_|0,_|0}function n9(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function s9(_){return _=_|0,_+8|0}function _9(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+8|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function a9(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function p9(){var _=0,_t=0,_r=0,_s=0;_=ws,_t=a0(64)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(64)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=7,_s=_t+20|0,_r=_t+36|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0,_e[_r>>2]=1,_e[_t+40>>2]=0,_o[_t+44>>0]=0,_e[_t+48>>2]=0,_e[_t+52>>2]=0,_e[_t+56>>2]=2,_e[_t+60>>2]=.699999988079071,ws=_,_t|0}function c9(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0;n_=ws,l[_+8>>2]=_t,l[_+12>>2]=_r,c_=+_e[_s>>2]-+_e[_t+12>>2],f_=_s+4|0,A_=+_e[f_>>2]-+_e[_t+16>>2],g_=_t+24|0,u_=+_e[g_>>2],_t=_t+20|0,__=+_e[_t>>2],x_=+(c_*u_+A_*__),__=+(u_*A_-c_*__),I_=_+20|0,_e[I_>>2]=x_,_e[I_+4>>2]=__,__=+_e[_s>>2]-+_e[_r+12>>2],x_=+_e[f_>>2]-+_e[_r+16>>2],c_=+_e[_r+24>>2],A_=+_e[_r+20>>2],u_=+(__*c_+x_*A_),A_=+(c_*x_-__*A_),_s=_+28|0,_e[_s>>2]=u_,_e[_s+4>>2]=A_,A_=+_e[g_>>2],u_=+_e[e_>>2],__=+_e[_t>>2],x_=+_e[e_+4>>2],c_=+(A_*u_+__*x_),__=+(A_*x_-u_*__),_t=_+36|0,_e[_t>>2]=c_,_e[_t+4>>2]=__,ws=n_}function l9(_){return _=_|0,_+20|0}function m9(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function b9(_){return _=_|0,_+28|0}function u9(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function h9(_){return _=_|0,_+36|0}function d9(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+36|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function y9(_){return _=_|0,(_o[_+44>>0]|0)!=0|0}function x9(_,_t){_=_|0,_t=_t|0,_o[_+44>>0]=_t&1}function f9(_){return _=_|0,+ +_e[_+48>>2]}function g9(_,_t){_=_|0,_t=+_t,_e[_+48>>2]=_t}function v9(_){return _=_|0,+ +_e[_+52>>2]}function A9(_,_t){_=_|0,_t=+_t,_e[_+52>>2]=_t}function S9(_){return _=_|0,+ +_e[_+56>>2]}function C9(_,_t){_=_|0,_t=+_t,_e[_+56>>2]=_t}function B9(_){return _=_|0,+ +_e[_+60>>2]}function P9(_,_t){_=_|0,_t=+_t,_e[_+60>>2]=_t}function w9(_){return _=_|0,l[_>>2]|0}function V9(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function M9(_){return _=_|0,l[_+4>>2]|0}function D9(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function G9(_){return _=_|0,l[_+8>>2]|0}function J9(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function I9(_){return _=_|0,l[_+12>>2]|0}function T9(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function F9(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function R9(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function L9(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function k9(){var _=0,_t=0,_r=0;_=ws,_t=a0(20)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(20)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t>>2]=7400,_r=_t+4|0,l[_r+0>>2]=0,l[_r+4>>2]=0,l[_r+8>>2]=0,l[_r+12>>2]=0,ws=_,_t|0}function q9(_){return _=_|0,l[_+4>>2]|0}function E9(_){_=_|0;var _t=0;return _t=ws,_=VC[l[(l[_>>2]|0)+12>>2]&63](_)|0,ws=_t,_|0}function j9(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;return _s=ws,_=nC[l[(l[_>>2]|0)+16>>2]&63](_,_t,_r)|0,ws=_s,_|0}function z9(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0;return n_=ws,_=MC[l[(l[_>>2]|0)+20>>2]&63](_,_t,_r,_s,e_)|0,ws=n_,_|0}function W9(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,M1[l[(l[_>>2]|0)+24>>2]&63](_,_t,_r,_s),ws=e_}function N9(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=ws,xA[l[(l[_>>2]|0)+28>>2]&63](_,_t,_r),ws=_s}function O9(_){return _=_|0,_+12|0}function U9(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+12|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function X9(_){return _=_|0,l[_+4>>2]|0}function Y9(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function H9(_){return _=_|0,+ +_e[_+8>>2]}function Z9(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function K9(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function Q9(){var _=0,_t=0,_r=0;_=ws,_t=a0(48)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(48)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=8,_r=_t+20|0,l[_r+0>>2]=0,l[_r+4>>2]=0,l[_r+8>>2]=0,l[_r+12>>2]=0,l[_r+16>>2]=0,l[_r+20>>2]=0,l[_r+24>>2]=0,ws=_,_t|0}function $9(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0;e_=ws,l[_+8>>2]=_t,l[_+12>>2]=_r,x_=+_e[_s>>2]-+_e[_t+12>>2],A_=_s+4|0,n_=+_e[A_>>2]-+_e[_t+16>>2],__=+_e[_t+24>>2],c_=+_e[_t+20>>2],u_=+(x_*__+n_*c_),c_=+(__*n_-x_*c_),g_=_+20|0,_e[g_>>2]=u_,_e[g_+4>>2]=c_,c_=+_e[_s>>2]-+_e[_r+12>>2],u_=+_e[A_>>2]-+_e[_r+16>>2],x_=+_e[_r+24>>2],n_=+_e[_r+20>>2],__=+(c_*x_+u_*n_),n_=+(x_*u_-c_*n_),_s=_+28|0,_e[_s>>2]=__,_e[_s+4>>2]=n_,_e[_+36>>2]=+_e[_r+56>>2]-+_e[_t+56>>2],ws=e_}function tL(_){return _=_|0,_+20|0}function eL(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function oL(_){return _=_|0,_+28|0}function iL(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function rL(_){return _=_|0,+ +_e[_+36>>2]}function nL(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function sL(_){return _=_|0,+ +_e[_+40>>2]}function _L(_,_t){_=_|0,_t=+_t,_e[_+40>>2]=_t}function aL(_){return _=_|0,+ +_e[_+44>>2]}function pL(_,_t){_=_|0,_t=+_t,_e[_+44>>2]=_t}function cL(_){return _=_|0,l[_>>2]|0}function lL(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function mL(_){return _=_|0,l[_+4>>2]|0}function bL(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function uL(_){return _=_|0,l[_+8>>2]|0}function hL(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function dL(_){return _=_|0,l[_+12>>2]|0}function yL(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function xL(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function fL(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function gL(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function vL(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function AL(_){return _=_|0,l[_+4>>2]|0}function SL(_,_t){_=_|0,_t=_t|0,_=_+4|0,l[_>>2]=l[_>>2]|_t}function CL(_,_t){_=_|0,_t=_t|0,_=_+4|0,l[_>>2]=l[_>>2]&~_t}function BL(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function PL(){var _=0,_t=0;_=ws,_t=a0(16)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(16)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,ws=_,_t|0}function wL(_){return _=_|0,+ +_e[_>>2]}function VL(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function ML(_){return _=_|0,_+4|0}function DL(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+4|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function GL(_){return _=_|0,+ +_e[_+12>>2]}function JL(_,_t){_=_|0,_t=+_t,_e[_+12>>2]=_t}function IL(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function TL(_){return _=_|0,l[_+4>>2]|0}function FL(_){return _=_|0,l[_+48>>2]|0}function RL(_){return _=_|0,l[_+52>>2]|0}function LL(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[384]|0)==0&&(Z2(384)|0)!=0&&R0(384),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=376,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,376}function kL(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[400]|0)==0&&(Z2(400)|0)!=0&&R0(400),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=392,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,392}function qL(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[416]|0)==0&&(Z2(416)|0)!=0&&R0(416),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=408,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,408}function EL(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function jL(_){return _=_|0,l[_+12>>2]|0}function zL(_){return _=_|0,l[_+64>>2]|0}function WL(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function NL(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function OL(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function UL(_){_=_|0;var _t=0;_t=ws,_y[l[(l[_>>2]|0)+16>>2]&127](_),ws=_t}function XL(_){return _=_|0,l[_+68>>2]|0}function YL(_){return _=_|0,l[_+72>>2]|0}function HL(_,_t){_=_|0,_t=+_t;var _r=0;if(_r=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)==2139095040)X2(15528,15392,394,15552);else{_e[_+152>>2]=_t,ws=_r;return}}function ZL(_){return _=_|0,+ +_e[_+152>>2]}function KL(_){return _=_|0,l[_+4>>2]|0}function QL(_){return _=_|0,l[_+48>>2]|0}function $L(_){return _=_|0,l[_+52>>2]|0}function t7(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[432]|0)==0&&(Z2(432)|0)!=0&&R0(432),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=424,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,424}function e7(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[448]|0)==0&&(Z2(448)|0)!=0&&R0(448),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=440,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,440}function o7(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[464]|0)==0&&(Z2(464)|0)!=0&&R0(464),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=456,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,456}function i7(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function r7(_){return _=_|0,l[_+12>>2]|0}function n7(_){return _=_|0,l[_+64>>2]|0}function s7(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function _7(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function a7(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function p7(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function c7(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function l7(_){return _=_|0,_+80|0}function m7(_){return _=_|0,_+88|0}function b7(_,_t){_=_|0,_t=+_t,_e[_+68>>2]=_t}function u7(_){return _=_|0,+ +_e[_+68>>2]}function h7(_,_t){_=_|0,_t=+_t,_e[_+72>>2]=_t}function d7(_){return _=_|0,+ +_e[_+72>>2]}function y7(_){_=_|0;var _t=0;_t=ws,_y[l[(l[_>>2]|0)+16>>2]&127](_),ws=_t}function x7(_){return _=_|0,l[_+4>>2]|0}function f7(_){return _=_|0,l[_+48>>2]|0}function g7(_){return _=_|0,l[_+52>>2]|0}function v7(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[480]|0)==0&&(Z2(480)|0)!=0&&R0(480),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=472,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,472}function A7(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[496]|0)==0&&(Z2(496)|0)!=0&&R0(496),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=488,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,488}function S7(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[512]|0)==0&&(Z2(512)|0)!=0&&R0(512),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=504,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,504}function C7(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function B7(_){return _=_|0,l[_+12>>2]|0}function P7(_){return _=_|0,l[_+64>>2]|0}function w7(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function V7(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function M7(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function D7(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function G7(){var _=0,_t=0;_=ws,_t=a0(16)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(16)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,ws=_,_t|0}function J7(_){return _=_|0,l[_>>2]|0}function I7(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function T7(_){return _=_|0,l[_+4>>2]|0}function F7(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function R7(_){return _=_|0,l[_+8>>2]|0}function L7(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function k7(_){return _=_|0,l[_+12>>2]|0}function q7(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function E7(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function j7(){var _=0,_t=0;_=ws,_t=a0(64)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(64)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,l[_t>>2]=4,_e[_t+20>>2]=-1,_e[_t+24>>2]=1,_e[_t+28>>2]=1,_e[_t+32>>2]=1,_e[_t+36>>2]=-1,_e[_t+40>>2]=0,_e[_t+44>>2]=1,_e[_t+48>>2]=0,_e[_t+52>>2]=0,_e[_t+56>>2]=0,_e[_t+60>>2]=1,_o[_t+16>>0]=1,ws=_,_t|0}function z7(_,_t,_r,_s,e_,n_,__,c_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,__=__|0,c_=+c_;var u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0;if(u_=ws,l[_+8>>2]=_t,l[_+12>>2]=_r,g_=_s,J_=l[g_+4>>2]|0,V_=_+20|0,l[V_>>2]=l[g_>>2],l[V_+4>>2]=J_,V_=e_,J_=l[V_+4>>2]|0,g_=_+28|0,l[g_>>2]=l[V_>>2],l[g_+4>>2]=J_,R_=+_e[n_>>2]-+_e[_t+12>>2],g_=n_+4|0,x_=+_e[g_>>2]-+_e[_t+16>>2],A_=+_e[_t+24>>2],f_=+_e[_t+20>>2],I_=+(R_*A_+x_*f_),f_=+(A_*x_-R_*f_),_t=_+36|0,_e[_t>>2]=I_,_e[_t+4>>2]=f_,f_=+_e[__>>2]-+_e[_r+12>>2],_t=__+4|0,I_=+_e[_t>>2]-+_e[_r+16>>2],R_=+_e[_r+24>>2],x_=+_e[_r+20>>2],A_=+(f_*R_+I_*x_),x_=+(R_*I_-f_*x_),_r=_+44|0,_e[_r>>2]=A_,_e[_r+4>>2]=x_,x_=+_e[n_>>2]-+_e[_s>>2],A_=+_e[g_>>2]-+_e[_s+4>>2],_e[_+52>>2]=+G2(+(x_*x_+A_*A_)),A_=+_e[__>>2]-+_e[e_>>2],x_=+_e[_t>>2]-+_e[e_+4>>2],_e[_+56>>2]=+G2(+(A_*A_+x_*x_)),_e[_+60>>2]=c_,c_>11920928955078125e-23){ws=u_;return}else X2(16664,16696,51,16752)}function W7(_){return _=_|0,_+20|0}function N7(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function O7(_){return _=_|0,_+28|0}function U7(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function X7(_){return _=_|0,_+36|0}function Y7(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+36|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function H7(_){return _=_|0,_+44|0}function Z7(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+44|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function K7(_){return _=_|0,+ +_e[_+52>>2]}function Q7(_,_t){_=_|0,_t=+_t,_e[_+52>>2]=_t}function $7(_){return _=_|0,+ +_e[_+56>>2]}function _k(_,_t){_=_|0,_t=+_t,_e[_+56>>2]=_t}function _q(_){return _=_|0,+ +_e[_+60>>2]}function tE(_,_t){_=_|0,_t=+_t,_e[_+60>>2]=_t}function eE(_){return _=_|0,l[_>>2]|0}function oE(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function iE(_){return _=_|0,l[_+4>>2]|0}function rE(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function nE(_){return _=_|0,l[_+8>>2]|0}function sE(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function _E(_){return _=_|0,l[_+12>>2]|0}function aE(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function pE(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function cE(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function lE(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function mE(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function bE(){var _=0,_t=0;_=ws,_t=a0(20)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(20)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,l[_t+16>>2]=0,ws=_,_t|0}function uE(_){return _=_|0,_|0}function hE(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function dE(_){return _=_|0,+ +_e[_+8>>2]}function yE(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function xE(_){return _=_|0,+ +_e[_+12>>2]}function fE(_,_t){_=_|0,_t=+_t,_e[_+12>>2]=_t}function gE(_){return _=_|0,_+16|0}function vE(_,_t){_=_|0,_t=_t|0,l[_+16>>2]=l[_t>>2]}function AE(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function SE(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function CE(){var _=0,_t=0;_=ws,_t=a0(20)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(20)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,ws=_,_t|0}function BE(_){return _=_|0,l[_>>2]|0}function PE(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function wE(_){return _=_|0,l[_+4>>2]|0}function VE(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function ME(_){return _=_|0,l[_+8>>2]|0}function DE(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function GE(_){return _=_|0,l[_+12>>2]|0}function JE(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function IE(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function TE(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function FE(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function RE(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(16)|0,_t)return _r=_t,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(16)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return ws=_,_r|0;return 0}function LE(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;_r=ws,_s=a0(16)|0;t:do if(!_s){for(;_s=l[4698]|0,l[4698]=_s+0,!!_s;)if(_u[_s&63](),_s=a0(16)|0,_s)break t;_s=xb(4)|0,l[_s>>2]=18632,Q0(_s|0,18680,116)}while(!1);return n_=_,_=l[n_+4>>2]|0,e_=_s,l[e_>>2]=l[n_>>2],l[e_+4>>2]=_,e_=_t,_=l[e_+4>>2]|0,_t=_s+8|0,l[_t>>2]=l[e_>>2],l[_t+4>>2]=_,ws=_r,_s|0}function kE(_){_=_|0,_e[_>>2]=0,_e[_+4>>2]=0,_e[_+8>>2]=0,_e[_+12>>2]=1}function qE(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0,e_=0;e_=_t,_s=l[e_+4>>2]|0,_t=_,l[_t>>2]=l[e_>>2],l[_t+4>>2]=_s,_e[_+8>>2]=+F2(+_r),_e[_+12>>2]=+V2(+_r)}function EE(_){return _=_|0,_|0}function jE(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function zE(_){return _=_|0,_+8|0}function WE(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+8|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function NE(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function OE(){var _=0,_t=0;_=ws,_t=a0(40)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(40)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t>>2]=6952,l[_t+4>>2]=3,_e[_t+8>>2]=.009999999776482582,l[_t+12>>2]=0,l[_t+16>>2]=0,_o[_t+36>>0]=0,_o[_t+37>>0]=0,ws=_,_t|0}function UE(_){_=_|0;var _t=0,_r=0;_t=ws,_r=_+12|0,d0(l[_r>>2]|0),l[_r>>2]=0,l[_+16>>2]=0,ws=_t}function XE(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0;for(e_=ws,_s=_+12|0,l[_s>>2]|0&&X2(6984,7024,38,7080),n_=_+16|0,l[n_>>2]|0&&X2(6984,7024,38,7080),(_r|0)<=2&&X2(7904,7024,39,7080),c_=_t,u_=l[c_>>2]|0,c_=l[c_+4>>2]|0,__=1;;){if(g_=(l[s_>>2]=u_,+_e[s_>>2]),x_=(l[s_>>2]=c_,+_e[s_>>2]),f_=_t+(__<<3)|0,u_=l[f_>>2]|0,c_=l[f_+4>>2]|0,A_=(l[s_>>2]=u_,+_e[s_>>2]),A_=g_-A_,x_=x_-(l[s_>>2]=c_,+_e[s_>>2]),__=__+1|0,!(A_*A_+x_*x_>2499999936844688e-20)){__=9;break}if((__|0)>=(_r|0)){__=10;break}}if((__|0)==9)X2(7096,7024,45,7080);else if((__|0)==10){c_=_r+1|0,l[n_>>2]=c_,c_=a0(c_<<3)|0,l[_s>>2]=c_,NA(c_|0,_t|0,_r<<3|0)|0,c_=l[_s>>2]|0,f_=c_,__=l[f_+4>>2]|0,c_=c_+(_r<<3)|0,l[c_>>2]=l[f_>>2],l[c_+4>>2]=__,c_=l[_s>>2]|0,__=c_+((l[n_>>2]|0)+-2<<3)|0,f_=l[__+4>>2]|0,u_=_+20|0,l[u_>>2]=l[__>>2],l[u_+4>>2]=f_,c_=c_+8|0,u_=l[c_+4>>2]|0,f_=_+28|0,l[f_>>2]=l[c_>>2],l[f_+4>>2]=u_,_o[_+36>>0]=1,_o[_+37>>0]=1,ws=e_;return}}function YE(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;_s=ws,eI(_,_t,_r),ws=_s}function HE(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r,_o[_+36>>0]=1}function ZE(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r,_o[_+37>>0]=1}function KE(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;_s=ws,gG(_,_t,_r),ws=_s}function QE(_){return _=_|0,l[_+4>>2]|0}function $E(_){_=_|0;var _t=0;return _t=ws,_=VC[l[(l[_>>2]|0)+12>>2]&63](_)|0,ws=_t,_|0}function _j(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;return _s=ws,_=nC[l[(l[_>>2]|0)+16>>2]&63](_,_t,_r)|0,ws=_s,_|0}function tz(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0;return n_=ws,_=MC[l[(l[_>>2]|0)+20>>2]&63](_,_t,_r,_s,e_)|0,ws=n_,_|0}function ez(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,M1[l[(l[_>>2]|0)+24>>2]&63](_,_t,_r,_s),ws=e_}function oz(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=ws,xA[l[(l[_>>2]|0)+28>>2]&63](_,_t,_r),ws=_s}function iz(_){return _=_|0,l[_+12>>2]|0}function rz(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function nz(_){return _=_|0,l[_+16>>2]|0}function sz(_,_t){_=_|0,_t=_t|0,l[_+16>>2]=_t}function _z(_){return _=_|0,_+20|0}function az(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function pz(_){return _=_|0,_+28|0}function cz(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function lz(_){return _=_|0,(_o[_+36>>0]|0)!=0|0}function mz(_,_t){_=_|0,_t=_t|0,_o[_+36>>0]=_t&1}function bz(_){return _=_|0,(_o[_+37>>0]|0)!=0|0}function uz(_,_t){_=_|0,_t=_t|0,_o[_+37>>0]=_t&1}function hz(_){return _=_|0,l[_+4>>2]|0}function dz(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function yz(_){return _=_|0,+ +_e[_+8>>2]}function xz(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function fz(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function gz(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(16)|0,_t)return _r=_t,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(16)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return ws=_,_r|0;return 0}function vz(_,_t,_r){_=+_,_t=+_t,_r=+_r;var _s=0,e_=0;_s=ws,e_=a0(16)|0;t:do if(!e_){for(;e_=l[4698]|0,l[4698]=e_+0,!!e_;)if(_u[e_&63](),e_=a0(16)|0,e_)break t;e_=xb(4)|0,l[e_>>2]=18632,Q0(e_|0,18680,116)}while(!1);return _e[e_>>2]=_,_e[e_+4>>2]=_t,_e[e_+8>>2]=_r,_e[e_+12>>2]=1,ws=_s,e_|0}function Az(_,_t,_r,_s){_=_|0,_t=+_t,_r=+_r,_s=+_s,_e[_>>2]=_t,_e[_+4>>2]=_r,_e[_+8>>2]=_s,_e[_+12>>2]=1}function Sz(_){return _=_|0,+ +_e[_>>2]}function Cz(_,_t){_=_|0,_t=+_t,_e[_>>2]=_t}function Bz(_){return _=_|0,+ +_e[_+4>>2]}function Pz(_,_t){_=_|0,_t=+_t,_e[_+4>>2]=_t}function wz(_){return _=_|0,+ +_e[_+8>>2]}function Vz(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function Mz(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function Dz(_){return _=_|0,_+68|0}function Gz(_){return _=_|0,_+76|0}function Jz(_,_t){_=_|0,_t=+_t,_e[_+84>>2]=_t}function Iz(_){return _=_|0,+ +_e[_+84>>2]}function Tz(_){return _=_|0,l[_+164>>2]|0}function Fz(_){return _=_|0,l[_+4>>2]|0}function Rz(_){return _=_|0,l[_+48>>2]|0}function Lz(_){return _=_|0,l[_+52>>2]|0}function kz(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[528]|0)==0&&(Z2(528)|0)!=0&&R0(528),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=520,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,520}function qz(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[544]|0)==0&&(Z2(544)|0)!=0&&R0(544),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=536,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,536}function Ez(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[560]|0)==0&&(Z2(560)|0)!=0&&R0(560),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=552,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,552}function jz(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function zz(_){return _=_|0,l[_+12>>2]|0}function Wz(_){return _=_|0,l[_+64>>2]|0}function Nz(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function Oz(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function Uz(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function Xz(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function Yz(_){return _=_|0,_|0}function Hz(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function Zz(_){return _=_|0,_+8|0}function Kz(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+8|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function Qz(_){return _=_|0,+ +_e[_+16>>2]}function $z(_,_t){_=_|0,_t=+_t,_e[_+16>>2]=_t}function tW(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function eW(){var _=0,_t=0;_=ws,_t=a0(152)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(152)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t>>2]=7832,l[_t+4>>2]=2,_e[_t+8>>2]=.009999999776482582,l[_t+148>>2]=0,_e[_t+12>>2]=0,_e[_t+16>>2]=0,ws=_,_t|0}function oW(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0;_s=ws,ws=ws+96|0,g_=_s+32|0,A_=_s,(_r+-3|0)>>>0>=6&&X2(7536,7568,122,7624),w_=~_r,w_=(w_|0)>-9?w_:-9,f_=~w_,NA(g_|0,_t|0,-8-(w_<<3)|0)|0,(w_|0)>-4&&X2(15688,7568,159,7624),I_=0,_t=1,L_=+_e[g_>>2];do Q_=+_e[g_+(_t<<3)>>2],(Q_>L_||Q_==L_&&+_e[g_+(_t<<3)+4>>2]<+_e[g_+(I_<<3)+4>>2])&&(u_=9),(u_|0)==9&&(u_=0,I_=_t,L_=Q_),_t=_t+1|0;while((_t|0)!=(f_|0));for(R_=I_,J_=1,_t=0;;){l[A_+(_t<<2)>>2]=R_,M_=g_+(R_<<3)|0,_r=g_+(R_<<3)+4|0,w_=0,V_=1;do(w_|0)!=(R_|0)?(z_=+_e[M_>>2],Q_=+_e[g_+(w_<<3)>>2]-z_,L_=+_e[_r>>2],o2=+_e[g_+(w_<<3)+4>>2]-L_,z_=+_e[g_+(V_<<3)>>2]-z_,L_=+_e[g_+(V_<<3)+4>>2]-L_,H_=Q_*L_-o2*z_,w_=H_<0?V_:w_,H_==0&&z_*z_+L_*L_>Q_*Q_+o2*o2&&(w_=V_)):w_=V_,V_=V_+1|0;while((V_|0)!=(f_|0));if(_r=_t+1|0,(w_|0)==(I_|0))break;R_=w_,J_=J_+1|0,_t=_r}(_r|0)<3&&X2(15688,7568,224,7624),l[_+148>>2]=_r,(_t|0)>-1?x_=0:X2(7904,7568,76,7920);do V_=g_+(l[A_+(x_<<2)>>2]<<3)|0,M_=l[V_+4>>2]|0,w_=_+(x_<<3)+20|0,l[w_>>2]=l[V_>>2],l[w_+4>>2]=M_,x_=x_+1|0;while((x_|0)!=(J_|0));g_=0;do{if(f_=g_,g_=g_+1|0,A_=(g_|0)<(_r|0),w_=A_?g_:0,o2=+_e[_+(w_<<3)+20>>2]-+_e[_+(f_<<3)+20>>2],L_=+_e[_+(w_<<3)+24>>2]-+_e[_+(f_<<3)+24>>2],Q_=L_*L_,!(o2*o2+Q_>14210854715202004e-30)){u_=23;break}x_=_+(f_<<3)+84|0,H_=+L_,o2=+-o2,w_=x_,_e[w_>>2]=H_,_e[w_+4>>2]=o2,f_=_+(f_<<3)+88|0,o2=+_e[f_>>2],Q_=+G2(+(Q_+o2*o2)),Q_<11920928955078125e-23||(H_=1/Q_,_e[x_>>2]=L_*H_,_e[f_>>2]=o2*H_)}while(A_);(u_|0)==23&&X2(7632,7568,243,7624),u_=_+12|0,x_=_+20|0,(_t|0)>1?(n_=0,__=0,e_=0,c_=0):X2(7904,7568,76,7920);do w_=_+(c_<<3)+20|0,L_=+_e[w_>>2],Q_=+_e[w_+4>>2],c_=c_+1|0,(c_|0)<(_r|0)?_t=_+(c_<<3)+20|0:_t=x_,w_=_t,o2=+_e[w_>>2],z_=+_e[w_+4>>2],H_=(L_*z_-Q_*o2)*.5,e_=e_+H_,H_=H_*.3333333432674408,n_=n_+(L_+0+o2)*H_,__=__+(Q_+0+z_)*H_;while((c_|0)!=(_r|0));if(e_>11920928955078125e-23){H_=1/e_,z_=+(n_*H_),H_=+(__*H_),w_=u_,_e[w_>>2]=z_,_e[w_+4>>2]=H_,ws=_s;return}else X2(7792,7568,115,7920)}function iW(_,_t,_r){_=_|0,_t=+_t,_r=+_r;var _s=0,e_=0;l[_+148>>2]=4,_s=-_t,e_=-_r,_e[_+20>>2]=_s,_e[_+24>>2]=e_,_e[_+28>>2]=_t,_e[_+32>>2]=e_,_e[_+36>>2]=_t,_e[_+40>>2]=_r,_e[_+44>>2]=_s,_e[_+48>>2]=_r,_e[_+84>>2]=0,_e[_+88>>2]=-1,_e[_+92>>2]=1,_e[_+96>>2]=0,_e[_+100>>2]=0,_e[_+104>>2]=1,_e[_+108>>2]=-1,_e[_+112>>2]=0,_e[_+12>>2]=0,_e[_+16>>2]=0}function rW(_,_t,_r,_s,e_){_=_|0,_t=+_t,_r=+_r,_s=_s|0,e_=+e_;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0;for(__=ws,n_=_+148|0,l[n_>>2]=4,c_=-_t,x_=-_r,_e[_+20>>2]=c_,_e[_+24>>2]=x_,_e[_+28>>2]=_t,_e[_+32>>2]=x_,_e[_+36>>2]=_t,_e[_+40>>2]=_r,_e[_+44>>2]=c_,_e[_+48>>2]=_r,_e[_+84>>2]=0,_e[_+88>>2]=-1,_e[_+92>>2]=1,_e[_+96>>2]=0,_e[_+100>>2]=0,_e[_+104>>2]=1,_e[_+108>>2]=-1,_e[_+112>>2]=0,f_=_s,g_=l[f_+4>>2]|0,A_=_+12|0,l[A_>>2]=l[f_>>2],l[A_+4>>2]=g_,_r=+_e[_s>>2],c_=+_e[_s+4>>2],_t=+F2(+e_),e_=+V2(+e_),u_=-1,_s=0;f_=_+(_s<<3)+20|0,R_=+_e[f_>>2],I_=+(_r+(e_*R_-_t*x_)),x_=+(c_+(_t*R_+e_*x_)),_e[f_>>2]=I_,_e[f_+4>>2]=x_,f_=_+(_s<<3)+84|0,x_=+_e[f_>>2],I_=+(e_*x_-_t*u_),x_=+(_t*x_+e_*u_),_e[f_>>2]=I_,_e[f_+4>>2]=x_,_s=_s+1|0,!((_s|0)>=(l[n_>>2]|0));)x_=+_e[_+(_s<<3)+24>>2],u_=+_e[_+(_s<<3)+88>>2];ws=__}function nW(_){return _=_|0,l[_+148>>2]|0}function sW(_,_t){_=_|0,_t=_t|0;var _r=0;return _r=ws,(_t|0)>-1&&(l[_+148>>2]|0)>(_t|0)?(ws=_r,_+(_t<<3)+20|0):(X2(6800,2624,97,6880),0)}function _W(_){return _=_|0,l[_+4>>2]|0}function aW(_){_=_|0;var _t=0;return _t=ws,_=VC[l[(l[_>>2]|0)+12>>2]&63](_)|0,ws=_t,_|0}function pW(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;return _s=ws,_=nC[l[(l[_>>2]|0)+16>>2]&63](_,_t,_r)|0,ws=_s,_|0}function cW(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0;return n_=ws,_=MC[l[(l[_>>2]|0)+20>>2]&63](_,_t,_r,_s,e_)|0,ws=n_,_|0}function lW(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,M1[l[(l[_>>2]|0)+24>>2]&63](_,_t,_r,_s),ws=e_}function mW(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=ws,xA[l[(l[_>>2]|0)+28>>2]&63](_,_t,_r),ws=_s}function bW(_){return _=_|0,_+12|0}function uW(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+12|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function hW(_){return _=_|0,l[_+148>>2]|0}function dW(_,_t){_=_|0,_t=_t|0,l[_+148>>2]=_t}function yW(_){return _=_|0,l[_+4>>2]|0}function xW(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function fW(_){return _=_|0,+ +_e[_+8>>2]}function gW(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function vW(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function AW(){var _=0,_t=0,_r=0;_=ws,_t=a0(48)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(48)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t>>2]=7472,l[_t+4>>2]=1,_e[_t+8>>2]=.009999999776482582,_r=_t+28|0,l[_r+0>>2]=0,l[_r+4>>2]=0,l[_r+8>>2]=0,l[_r+12>>2]=0,_i[_r+16>>1]=0,ws=_,_t|0}function SW(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0;e_=_t,_t=l[e_+4>>2]|0,_s=_+12|0,l[_s>>2]=l[e_>>2],l[_s+4>>2]=_t,_s=_r,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r,_o[_+44>>0]=0,_o[_+45>>0]=0}function CW(_){return _=_|0,l[_+4>>2]|0}function BW(_){_=_|0;var _t=0;return _t=ws,_=VC[l[(l[_>>2]|0)+12>>2]&63](_)|0,ws=_t,_|0}function PW(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;return _s=ws,_=nC[l[(l[_>>2]|0)+16>>2]&63](_,_t,_r)|0,ws=_s,_|0}function wW(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0;return n_=ws,_=MC[l[(l[_>>2]|0)+20>>2]&63](_,_t,_r,_s,e_)|0,ws=n_,_|0}function VW(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,M1[l[(l[_>>2]|0)+24>>2]&63](_,_t,_r,_s),ws=e_}function MW(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=ws,xA[l[(l[_>>2]|0)+28>>2]&63](_,_t,_r),ws=_s}function DW(_){return _=_|0,_+12|0}function GW(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+12|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function JW(_){return _=_|0,_+20|0}function IW(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function TW(_){return _=_|0,_+28|0}function FW(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function RW(_){return _=_|0,_+36|0}function LW(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+36|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function kW(_){return _=_|0,(_o[_+44>>0]|0)!=0|0}function qW(_,_t){_=_|0,_t=_t|0,_o[_+44>>0]=_t&1}function EW(_){return _=_|0,(_o[_+45>>0]|0)!=0|0}function jW(_,_t){_=_|0,_t=_t|0,_o[_+45>>0]=_t&1}function zW(_){return _=_|0,l[_+4>>2]|0}function WW(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function NW(_){return _=_|0,+ +_e[_+8>>2]}function OW(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function UW(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function XW(){var _=0,_t=0,_r=0;if(_=ws,_t=a0(4)|0,_t)return _r=_t,l[_r>>2]=2320,ws=_,_r|0;for(;;){if(_t=l[4698]|0,l[4698]=_t+0,!_t){_t=4;break}if(_u[_t&63](),_r=a0(4)|0,_r){_t=5;break}}if((_t|0)==4)_r=xb(4)|0,l[_r>>2]=18632,Q0(_r|0,18680,116);else if((_t|0)==5)return l[_r>>2]=2320,ws=_,_r|0;return 0}function YW(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;return _s=ws,_=nC[l[(l[_>>2]|0)+8>>2]&63](_,_t,_r)|0,ws=_s,_|0}function HW(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function ZW(){var _=0,_t=0,_r=0;_=ws,_t=a0(64)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(64)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=1,_r=_t+20|0,_e[_t+44>>2]=0,_e[_t+48>>2]=0,_e[_t+60>>2]=0,_e[_t+56>>2]=0,_o[_t+52>>0]=0,l[_r+0>>2]=0,l[_r+4>>2]=0,l[_r+8>>2]=0,l[_r+12>>2]=0,l[_r+16>>2]=0,_o[_r+20>>0]=0,ws=_,_t|0}function KW(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0;e_=ws,l[_+8>>2]=_t,l[_+12>>2]=_r,x_=+_e[_s>>2]-+_e[_t+12>>2],A_=_s+4|0,n_=+_e[A_>>2]-+_e[_t+16>>2],__=+_e[_t+24>>2],c_=+_e[_t+20>>2],u_=+(x_*__+n_*c_),c_=+(__*n_-x_*c_),g_=_+20|0,_e[g_>>2]=u_,_e[g_+4>>2]=c_,c_=+_e[_s>>2]-+_e[_r+12>>2],u_=+_e[A_>>2]-+_e[_r+16>>2],x_=+_e[_r+24>>2],n_=+_e[_r+20>>2],__=+(c_*x_+u_*n_),n_=+(x_*u_-c_*n_),_s=_+28|0,_e[_s>>2]=__,_e[_s+4>>2]=n_,_e[_+36>>2]=+_e[_r+56>>2]-+_e[_t+56>>2],ws=e_}function QW(_){return _=_|0,_+20|0}function $W(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function tN(_){return _=_|0,_+28|0}function eN(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function oN(_){return _=_|0,+ +_e[_+36>>2]}function iN(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function rN(_){return _=_|0,(_o[_+40>>0]|0)!=0|0}function nN(_,_t){_=_|0,_t=_t|0,_o[_+40>>0]=_t&1}function sN(_){return _=_|0,+ +_e[_+44>>2]}function _N(_,_t){_=_|0,_t=+_t,_e[_+44>>2]=_t}function aN(_){return _=_|0,+ +_e[_+48>>2]}function pN(_,_t){_=_|0,_t=+_t,_e[_+48>>2]=_t}function cN(_){return _=_|0,(_o[_+52>>0]|0)!=0|0}function lN(_,_t){_=_|0,_t=_t|0,_o[_+52>>0]=_t&1}function mN(_){return _=_|0,+ +_e[_+56>>2]}function bN(_,_t){_=_|0,_t=+_t,_e[_+56>>2]=_t}function uN(_){return _=_|0,+ +_e[_+60>>2]}function hN(_,_t){_=_|0,_t=+_t,_e[_+60>>2]=_t}function dN(_){return _=_|0,l[_>>2]|0}function yN(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function xN(_){return _=_|0,l[_+4>>2]|0}function fN(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function gN(_){return _=_|0,l[_+8>>2]|0}function vN(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function AN(_){return _=_|0,l[_+12>>2]|0}function SN(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function CN(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function BN(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function PN(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function wN(){var _=0,_t=0,_r=0;_=ws,_t=a0(8)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(8)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return _r=_t,l[_r>>2]=0,l[_r+4>>2]=0,l[_t+4>>2]=0,l[_t>>2]=912,ws=_,_t|0}function VN(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,M1[l[(l[_>>2]|0)+8>>2]&63](_,_t,_r,_s),ws=e_}function MN(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,M1[l[(l[_>>2]|0)+12>>2]&63](_,_t,_r,_s),ws=e_}function DN(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0;var e_=0;e_=ws,FG[l[(l[_>>2]|0)+16>>2]&63](_,_t,_r,_s),ws=e_}function GN(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0;var n_=0;n_=ws,TG[l[(l[_>>2]|0)+20>>2]&63](_,_t,_r,_s,e_),ws=n_}function JN(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,M1[l[(l[_>>2]|0)+24>>2]&63](_,_t,_r,_s),ws=e_}function IN(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,vy[l[(l[_>>2]|0)+28>>2]&127](_,_t),ws=_r}function TN(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function FN(_){return _=_|0,_+76|0}function RN(_){return _=_|0,_+84|0}function LN(_){return _=_|0,_+92|0}function kN(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0;return n_=l[_+48>>2]|0,u_=l[_+52>>2]|0,_r=+_e[n_+24>>2],c_=+_e[_+76>>2],e_=+_e[n_+20>>2],__=+_e[_+80>>2],A_=+_e[u_+24>>2],f_=+_e[_+84>>2],g_=+_e[u_+20>>2],x_=+_e[_+88>>2],_s=+_e[_+92>>2],_t=+_e[_+96>>2],+((+_e[u_+12>>2]+(A_*f_-g_*x_)-(+_e[n_+12>>2]+(_r*c_-e_*__)))*(_r*_s-e_*_t)+(f_*g_+A_*x_+ +_e[u_+16>>2]-(c_*e_+_r*__+ +_e[n_+16>>2]))*(e_*_s+_r*_t))}function qN(_){return _=_|0,+(+_e[(l[_+52>>2]|0)+72>>2]-+_e[(l[_+48>>2]|0)+72>>2])}function EN(_){return _=_|0,(_o[_+128>>0]|0)!=0|0}function jN(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;if(_r=ws,_s=l[_+48>>2]|0,e_=_s+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,e_=n_+4|0,_s=o_[e_>>1]|0,_s&2){n_=_+128|0,e_=_t&1,_o[n_>>0]=e_,ws=_r;return}_i[e_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+128|0,e_=_t&1,_o[n_>>0]=e_,ws=_r}function zN(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0,n_=0;if(_r=ws,_s=l[_+48>>2]|0,e_=_s+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,e_=n_+4|0,_s=o_[e_>>1]|0,_s&2){n_=_+124|0,_e[n_>>2]=_t,ws=_r;return}_i[e_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+124|0,_e[n_>>2]=_t,ws=_r}function WN(_){return _=_|0,+ +_e[_+124>>2]}function NN(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0,n_=0;if(_r=ws,_s=l[_+48>>2]|0,e_=_s+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,e_=n_+4|0,_s=o_[e_>>1]|0,_s&2){n_=_+120|0,_e[n_>>2]=_t,ws=_r;return}_i[e_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+120|0,_e[n_>>2]=_t,ws=_r}function ON(_){return _=_|0,+ +_e[_+120>>2]}function UN(_,_t){return _=_|0,_t=+_t,+(+_e[_+112>>2]*_t)}function XN(_,_t){_=_|0,_t=+_t,_e[_+68>>2]=_t}function YN(_){return _=_|0,+ +_e[_+68>>2]}function HN(_,_t){_=_|0,_t=+_t,_e[_+72>>2]=_t}function ZN(_){return _=_|0,+ +_e[_+72>>2]}function KN(_){return _=_|0,l[_+4>>2]|0}function QN(_){return _=_|0,l[_+48>>2]|0}function $N(_){return _=_|0,l[_+52>>2]|0}function tO(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[576]|0)==0&&(Z2(576)|0)!=0&&R0(576),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=568,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,568}function eO(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[592]|0)==0&&(Z2(592)|0)!=0&&R0(592),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=584,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,584}function oO(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[608]|0)==0&&(Z2(608)|0)!=0&&R0(608),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=600,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,600}function iO(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function rO(_){return _=_|0,l[_+12>>2]|0}function nO(_){return _=_|0,l[_+64>>2]|0}function sO(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function _O(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function aO(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function pO(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function cO(_){_=_|0;var _t=0,_r=0,_s=0;return _t=ws,(_o[624]|0)==0&&(Z2(624)|0)!=0&&R0(624),_s=_+68|0,_r=l[_s+4>>2]|0,_=616,l[_>>2]=l[_s>>2],l[_+4>>2]=_r,ws=_t,616}function lO(_){_=_|0;var _t=0,_r=0,_s=0;return _t=ws,(_o[640]|0)==0&&(Z2(640)|0)!=0&&R0(640),_s=_+76|0,_r=l[_s+4>>2]|0,_=632,l[_>>2]=l[_s>>2],l[_+4>>2]=_r,ws=_t,632}function mO(_){return _=_|0,+ +_e[_+84>>2]}function bO(_){return _=_|0,+ +_e[_+88>>2]}function uO(_){return _=_|0,+ +_e[_+112>>2]}function hO(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0;return _r=ws,e_=l[_+48>>2]|0,n_=+_e[e_+24>>2],c_=+_e[_+92>>2],__=+_e[e_+20>>2],_t=+_e[_+96>>2],_=_+68|0,_s=+_e[_>>2],_s=+_e[e_+12>>2]+(n_*c_-__*_t)-_s,_t=c_*__+n_*_t+ +_e[e_+16>>2]-+_e[_+4>>2],_t=+G2(+(_s*_s+_t*_t)),ws=_r,+_t}function dO(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0;return _r=ws,e_=l[_+52>>2]|0,n_=+_e[e_+24>>2],c_=+_e[_+100>>2],__=+_e[e_+20>>2],_t=+_e[_+104>>2],_=_+76|0,_s=+_e[_>>2],_s=+_e[e_+12>>2]+(n_*c_-__*_t)-_s,_t=c_*__+n_*_t+ +_e[e_+16>>2]-+_e[_+4>>2],_t=+G2(+(_s*_s+_t*_t)),ws=_r,+_t}function yO(_){return _=_|0,l[_+4>>2]|0}function xO(_){return _=_|0,l[_+48>>2]|0}function fO(_){return _=_|0,l[_+52>>2]|0}function gO(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[656]|0)==0&&(Z2(656)|0)!=0&&R0(656),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=648,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,648}function vO(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[672]|0)==0&&(Z2(672)|0)!=0&&R0(672),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=664,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,664}function AO(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[688]|0)==0&&(Z2(688)|0)!=0&&R0(688),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=680,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,680}function SO(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function CO(_){return _=_|0,l[_+12>>2]|0}function BO(_){return _=_|0,l[_+64>>2]|0}function PO(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function wO(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function VO(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function MO(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function DO(){var _=0,_t=0;_=ws,_t=a0(40)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(40)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=5,_e[_t+20>>2]=0,_e[_t+24>>2]=0,_e[_t+28>>2]=0,_e[_t+32>>2]=5,_e[_t+36>>2]=.699999988079071,ws=_,_t|0}function GO(_){return _=_|0,_+20|0}function JO(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function IO(_){return _=_|0,+ +_e[_+28>>2]}function TO(_,_t){_=_|0,_t=+_t,_e[_+28>>2]=_t}function FO(_){return _=_|0,+ +_e[_+32>>2]}function RO(_,_t){_=_|0,_t=+_t,_e[_+32>>2]=_t}function LO(_){return _=_|0,+ +_e[_+36>>2]}function kO(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function qO(_){return _=_|0,l[_>>2]|0}function EO(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function jO(_){return _=_|0,l[_+4>>2]|0}function zO(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function WO(_){return _=_|0,l[_+8>>2]|0}function NO(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function OO(_){return _=_|0,l[_+12>>2]|0}function UO(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function XO(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function YO(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function HO(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function ZO(_){return _=_|0,_+64|0}function KO(_){return _=_|0,(l[_+4>>2]&2|0)!=0|0}function QO(_,_t){_=_|0,_t=_t|0;var _r=0;_=_+4|0,_r=l[_>>2]|0,l[_>>2]=_t?_r|4:_r&-5}function $O(_){return _=_|0,(l[_+4>>2]&4|0)!=0|0}function tU(_){return _=_|0,l[_+12>>2]|0}function eU(_){return _=_|0,l[_+48>>2]|0}function oU(_){return _=_|0,l[_+56>>2]|0}function iU(_){return _=_|0,l[_+52>>2]|0}function rU(_){return _=_|0,l[_+60>>2]|0}function nU(_,_t){_=_|0,_t=+_t,_e[_+136>>2]=_t}function sU(_){return _=_|0,+ +_e[_+136>>2]}function _U(_){_=_|0,_e[_+136>>2]=+G2(+(+_e[(l[_+48>>2]|0)+16>>2]*+_e[(l[_+52>>2]|0)+16>>2]))}function aU(_,_t){_=_|0,_t=+_t,_e[_+140>>2]=_t}function pU(_){return _=_|0,+ +_e[_+140>>2]}function cU(_){_=_|0;var _t=0,_r=0;_r=+_e[(l[_+48>>2]|0)+20>>2],_t=+_e[(l[_+52>>2]|0)+20>>2],_e[_+140>>2]=_r>_t?_r:_t}function lU(_,_t){_=_|0,_t=+_t,_e[_+144>>2]=_t}function mU(_){return _=_|0,+ +_e[_+144>>2]}function bU(_){return _=_|0,l[_+4>>2]|0}function uU(_){_=_|0;var _t=0;return _t=ws,_=VC[l[(l[_>>2]|0)+12>>2]&63](_)|0,ws=_t,_|0}function hU(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;return _s=ws,_=nC[l[(l[_>>2]|0)+16>>2]&63](_,_t,_r)|0,ws=_s,_|0}function dU(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0;return n_=ws,_=MC[l[(l[_>>2]|0)+20>>2]&63](_,_t,_r,_s,e_)|0,ws=n_,_|0}function yU(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,M1[l[(l[_>>2]|0)+24>>2]&63](_,_t,_r,_s),ws=e_}function xU(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=ws,xA[l[(l[_>>2]|0)+28>>2]&63](_,_t,_r),ws=_s}function fU(_){return _=_|0,l[_+4>>2]|0}function gU(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function vU(_){return _=_|0,+ +_e[_+8>>2]}function AU(_,_t){_=_|0,_t=+_t,_e[_+8>>2]=_t}function SU(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function CU(){var _=0,_t=0,_r=0,_s=0;_=ws,_t=a0(48)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(48)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=3,_s=_t+20|0,_r=_t+36|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0,_e[_r>>2]=1,_e[_t+40>>2]=0,_e[_t+44>>2]=0,ws=_,_t|0}function BU(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0;n_=ws,l[_+8>>2]=_t,l[_+12>>2]=_r,g_=+_e[_s>>2]-+_e[_t+12>>2],u_=_s+4|0,c_=+_e[u_>>2]-+_e[_t+16>>2],__=+_e[_t+24>>2],x_=+_e[_t+20>>2],A_=+(g_*__+c_*x_),x_=+(__*c_-g_*x_),_t=_+20|0,_e[_t>>2]=A_,_e[_t+4>>2]=x_,x_=+_e[e_>>2]-+_e[_r+12>>2],_t=e_+4|0,A_=+_e[_t>>2]-+_e[_r+16>>2],g_=+_e[_r+24>>2],c_=+_e[_r+20>>2],__=+(x_*g_+A_*c_),c_=+(g_*A_-x_*c_),_r=_+28|0,_e[_r>>2]=__,_e[_r+4>>2]=c_,c_=+_e[e_>>2]-+_e[_s>>2],__=+_e[_t>>2]-+_e[u_>>2],_e[_+36>>2]=+G2(+(c_*c_+__*__)),ws=n_}function PU(_){return _=_|0,_+20|0}function wU(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function VU(_){return _=_|0,_+28|0}function MU(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function DU(_){return _=_|0,+ +_e[_+36>>2]}function GU(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function JU(_){return _=_|0,+ +_e[_+40>>2]}function IU(_,_t){_=_|0,_t=+_t,_e[_+40>>2]=_t}function TU(_){return _=_|0,+ +_e[_+44>>2]}function FU(_,_t){_=_|0,_t=+_t,_e[_+44>>2]=_t}function RU(_){return _=_|0,l[_>>2]|0}function LU(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function kU(_){return _=_|0,l[_+4>>2]|0}function qU(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function EU(_){return _=_|0,l[_+8>>2]|0}function jU(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function zU(_){return _=_|0,l[_+12>>2]|0}function WU(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function NU(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function OU(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function UU(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function XU(_,_t){_=_|0,_t=_t|0;var _r=0;return _r=ws,_=sI(_,_t)|0,ws=_r,_|0}function YU(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0,e_=0;return _s=ws,ws=ws+32|0,e_=_s,_i[e_+22>>1]=1,_i[e_+24>>1]=-1,_i[e_+26>>1]=0,l[e_+4>>2]=0,_e[e_+8>>2]=.20000000298023224,_e[e_+12>>2]=0,_o[e_+20>>0]=0,l[e_>>2]=_t,_e[e_+16>>2]=_r,_t=sI(_,e_)|0,ws=_s,_t|0}function HU(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0;for(_r=ws,n_=_+88|0,l[(l[n_>>2]|0)+102868>>2]&2&&X2(9352,9088,216,9408),e_=_t+8|0,(l[e_>>2]|0)!=(_|0)&&X2(9424,9088,222,9408),_s=_+104|0,(l[_s>>2]|0)<=0&&X2(9448,9088,225,9408),A_=_+100|0,x_=l[A_>>2]|0,x_?(u_=x_,__=A_):X2(9472,9088,241,9408);x_=u_+4|0,(u_|0)!=(_t|0);)if(u_=l[x_>>2]|0,u_)__=x_;else{c_=11;break}if((c_|0)==11&&X2(9472,9088,241,9408),c_=_t+4|0,l[__>>2]=l[c_>>2],__=l[_+112>>2]|0,__)do u_=l[__+4>>2]|0,__=l[__+12>>2]|0,((l[u_+48>>2]|0)==(_t|0)||(l[u_+52>>2]|0)==(_t|0))&&cP((l[n_>>2]|0)+102872|0,u_);while((__|0)!=0);if(n_=l[n_>>2]|0,_i[_+4>>1]&32&&wG(_t,n_+102872|0),PG(_t,n_),l[e_>>2]=0,l[c_>>2]=0,e_=_o[8036]|0,(e_&255)<14){A_=n_+((e_&255)<<2)+12|0,l[_t>>2]=l[A_>>2],l[A_>>2]=_t,l[_s>>2]=(l[_s>>2]|0)+-1,V4(_),ws=_r;return}else X2(8760,8672,171,9032)}function ZU(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0;if(_s=ws,n_=l[_+88>>2]|0,l[n_+102868>>2]&2&&X2(9352,9088,419,9560),e_=_+12|0,x_=+F2(+_r),_e[_+20>>2]=x_,u_=+V2(+_r),_e[_+24>>2]=u_,g_=l[_t>>2]|0,_t=l[_t+4>>2]|0,f_=e_,l[f_>>2]=g_,l[f_+4>>2]=_t,A_=+_e[_+28>>2],__=+_e[_+32>>2],c_=(l[s_>>2]=g_,+_e[s_>>2]+(u_*A_-x_*__)),__=A_*x_+u_*__+(l[s_>>2]=_t,+_e[s_>>2]),c_=+c_,__=+__,_t=_+44|0,_e[_t>>2]=c_,_e[_t+4>>2]=__,_e[_+56>>2]=_r,_t=_+36|0,_e[_t>>2]=c_,_e[_t+4>>2]=__,_e[_+52>>2]=_r,n_=n_+102872|0,_=l[_+100>>2]|0,!_){ws=_s;return}do VG(_,n_,e_,e_),_=l[_+4>>2]|0;while((_|0)!=0);ws=_s}function KU(_){return _=_|0,_+12|0}function QU(_){return _=_|0,_+12|0}function $U(_){return _=_|0,+ +_e[_+56>>2]}function tX(_){return _=_|0,_+44|0}function eX(_){return _=_|0,_+28|0}function oX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0;if(_r=ws,!(l[_>>2]|0)){ws=_r;return}__=+_e[_t>>2],n_=+_e[_t+4>>2],__*__+n_*n_>0&&(e_=_+4|0,_s=o_[e_>>1]|0,(_s&2|0)==0)&&(_i[e_>>1]=_s|2,_e[_+144>>2]=0),_s=_t,e_=l[_s+4>>2]|0,_t=_+64|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=e_,ws=_r}function iX(_){_=_|0;var _t=0,_r=0,_s=0;return _t=ws,(_o[704]|0)==0&&(Z2(704)|0)!=0&&R0(704),_s=_+64|0,_r=l[_s+4>>2]|0,_=696,l[_>>2]=l[_s>>2],l[_+4>>2]=_r,ws=_t,696}function rX(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;if(_r=ws,!(l[_>>2]|0)){ws=_r;return}_t*_t>0&&(e_=_+4|0,_s=o_[e_>>1]|0,(_s&2|0)==0)&&(_i[e_>>1]=_s|2,_e[_+144>>2]=0),_e[_+72>>2]=_t,ws=_r}function nX(_){return _=_|0,+ +_e[_+72>>2]}function sX(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0;if(e_=ws,(l[_>>2]|0)!=2){ws=e_;return}if(__=_+4|0,c_=_i[__>>1]|0,_s&&(c_&2)==0&&(n_=c_&65535,(n_&2|0)==0)&&(c_=(n_|2)&65535,_i[__>>1]=c_,_e[_+144>>2]=0),!(c_&2)){ws=e_;return}__=_+76|0,_e[__>>2]=+_e[_t>>2]+ +_e[__>>2],__=_t+4|0,c_=_+80|0,_e[c_>>2]=+_e[__>>2]+ +_e[c_>>2],c_=_+84|0,_e[c_>>2]=+_e[c_>>2]+((+_e[_r>>2]-+_e[_+44>>2])*+_e[__>>2]-(+_e[_r+4>>2]-+_e[_+48>>2])*+_e[_t>>2]),ws=e_}function _X(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0;if(_s=ws,(l[_>>2]|0)!=2){ws=_s;return}if(n_=_+4|0,__=_i[n_>>1]|0,_r&&(__&2)==0&&(e_=__&65535,(e_&2|0)==0)&&(__=(e_|2)&65535,_i[n_>>1]=__,_e[_+144>>2]=0),!(__&2)){ws=_s;return}__=_+76|0,_e[__>>2]=+_e[_t>>2]+ +_e[__>>2],__=_+80|0,_e[__>>2]=+_e[_t+4>>2]+ +_e[__>>2],ws=_s}function aX(_,_t,_r){_=_|0,_t=+_t,_r=_r|0;var _s=0,e_=0,n_=0,__=0;if(_s=ws,(l[_>>2]|0)!=2){ws=_s;return}if(n_=_+4|0,__=_i[n_>>1]|0,_r&&(__&2)==0&&(e_=__&65535,(e_&2|0)==0)&&(__=(e_|2)&65535,_i[n_>>1]=__,_e[_+144>>2]=0),!(__&2)){ws=_s;return}__=_+84|0,_e[__>>2]=+_e[__>>2]+_t,ws=_s}function pX(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0;if(e_=ws,(l[_>>2]|0)!=2){ws=e_;return}if(__=_+4|0,c_=_i[__>>1]|0,_s&&(c_&2)==0&&(n_=c_&65535,(n_&2|0)==0)&&(c_=(n_|2)&65535,_i[__>>1]=c_,_e[_+144>>2]=0),!(c_&2)){ws=e_;return}x_=+_e[_+120>>2],__=_t+4|0,u_=x_*+_e[__>>2],c_=_+64|0,_e[c_>>2]=x_*+_e[_t>>2]+ +_e[c_>>2],c_=_+68|0,_e[c_>>2]=u_+ +_e[c_>>2],c_=_+72|0,_e[c_>>2]=+_e[c_>>2]+ +_e[_+128>>2]*((+_e[_r>>2]-+_e[_+44>>2])*+_e[__>>2]-(+_e[_r+4>>2]-+_e[_+48>>2])*+_e[_t>>2]),ws=e_}function cX(_,_t,_r){_=_|0,_t=+_t,_r=_r|0;var _s=0,e_=0,n_=0,__=0;if(_s=ws,(l[_>>2]|0)!=2){ws=_s;return}if(n_=_+4|0,__=_i[n_>>1]|0,_r&&(__&2)==0&&(e_=__&65535,(e_&2|0)==0)&&(__=(e_|2)&65535,_i[n_>>1]=__,_e[_+144>>2]=0),!(__&2)){ws=_s;return}__=_+72|0,_e[__>>2]=+_e[__>>2]+ +_e[_+128>>2]*_t,ws=_s}function lX(_){return _=_|0,+ +_e[_+116>>2]}function mX(_){_=_|0;var _t=0,_r=0;return _r=+_e[_+28>>2],_t=+_e[_+32>>2],+(+_e[_+124>>2]+ +_e[_+116>>2]*(_r*_r+_t*_t))}function bX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;_r=_+116|0,_e[_t>>2]=+_e[_r>>2],_s=_+28|0,n_=+_e[_s>>2],e_=+_e[_+32>>2],_e[_t+12>>2]=+_e[_+124>>2]+ +_e[_r>>2]*(n_*n_+e_*e_),_r=l[_s+4>>2]|0,_=_t+4|0,l[_>>2]=l[_s>>2],l[_+4>>2]=_r}function uX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0;if(_r=ws,l[(l[_+88>>2]|0)+102868>>2]&2&&X2(9352,9088,355,9544),(l[_>>2]|0)!=2){ws=_r;return}c_=_+120|0,_e[c_>>2]=0,e_=_+124|0,_e[e_>>2]=0,_s=_+128|0,_e[_s>>2]=0,n_=+_e[_t>>2],n_=n_<=0?1:n_,_e[_+116>>2]=n_,_e[c_>>2]=1/n_,__=+_e[_t+12>>2];do if(__>0&&(_i[_+4>>1]&16)==0)if(x_=+_e[_t+4>>2],u_=+_e[_t+8>>2],n_=__-n_*(x_*x_+u_*u_),_e[e_>>2]=n_,n_>0){_e[_s>>2]=1/n_;break}else X2(9528,9088,381,9544);while(!1);c_=_+44|0,e_=c_,x_=+_e[e_>>2],n_=+_e[e_+4>>2],e_=_t+4|0,_s=l[e_>>2]|0,e_=l[e_+4>>2]|0,_t=_+28|0,l[_t>>2]=_s,l[_t+4>>2]=e_,g_=+_e[_+24>>2],f_=(l[s_>>2]=_s,+_e[s_>>2]),__=+_e[_+20>>2],A_=(l[s_>>2]=e_,+_e[s_>>2]),u_=+_e[_+12>>2]+(g_*f_-__*A_),A_=f_*__+g_*A_+ +_e[_+16>>2],g_=+u_,__=+A_,_e[c_>>2]=g_,_e[c_+4>>2]=__,c_=_+36|0,_e[c_>>2]=g_,_e[c_+4>>2]=__,__=+_e[_+72>>2],c_=_+64|0,_e[c_>>2]=+_e[c_>>2]-__*(A_-n_),c_=_+68|0,_e[c_>>2]=__*(u_-x_)+ +_e[c_>>2],ws=_r}function hX(_){_=_|0;var _t=0;_t=ws,V4(_),ws=_t}function dX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;return _r=ws,(_o[720]|0)==0&&(Z2(720)|0)!=0&&R0(720),n_=+_e[_+24>>2],c_=+_e[_t>>2],__=+_e[_+20>>2],_s=+_e[_t+4>>2],e_=+(+_e[_+12>>2]+(n_*c_-__*_s)),_s=+(c_*__+n_*_s+ +_e[_+16>>2]),_t=712,_e[_t>>2]=e_,_e[_t+4>>2]=_s,ws=_r,712}function yX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;return _r=ws,(_o[736]|0)==0&&(Z2(736)|0)!=0&&R0(736),n_=+_e[_+24>>2],c_=+_e[_t>>2],__=+_e[_+20>>2],_s=+_e[_t+4>>2],e_=+(n_*c_-__*_s),_s=+(c_*__+n_*_s),_t=728,_e[_t>>2]=e_,_e[_t+4>>2]=_s,ws=_r,728}function xX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;return _r=ws,(_o[752]|0)==0&&(Z2(752)|0)!=0&&R0(752),n_=+_e[_t>>2]-+_e[_+12>>2],__=+_e[_t+4>>2]-+_e[_+16>>2],c_=+_e[_+24>>2],_s=+_e[_+20>>2],e_=+(n_*c_+__*_s),_s=+(c_*__-n_*_s),_=744,_e[_>>2]=e_,_e[_+4>>2]=_s,ws=_r,744}function fX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;return _r=ws,(_o[768]|0)==0&&(Z2(768)|0)!=0&&R0(768),c_=+_e[_+24>>2],n_=+_e[_t>>2],_s=+_e[_+20>>2],__=+_e[_t+4>>2],e_=+(c_*n_+_s*__),_s=+(c_*__-n_*_s),_t=760,_e[_t>>2]=e_,_e[_t+4>>2]=_s,ws=_r,760}function gX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0;return _r=ws,(_o[784]|0)==0&&(Z2(784)|0)!=0&&R0(784),_s=+_e[_+72>>2],e_=+(+_e[_+64>>2]-_s*(+_e[_t+4>>2]-+_e[_+48>>2])),_s=+(_s*(+_e[_t>>2]-+_e[_+44>>2])+ +_e[_+68>>2]),_t=776,_e[_t>>2]=e_,_e[_t+4>>2]=_s,ws=_r,776}function vX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0;return _r=ws,(_o[800]|0)==0&&(Z2(800)|0)!=0&&R0(800),c_=+_e[_+24>>2],__=+_e[_t>>2],n_=+_e[_+20>>2],_s=+_e[_t+4>>2],u_=+_e[_+72>>2],e_=+(+_e[_+64>>2]-u_*(__*n_+c_*_s+ +_e[_+16>>2]-+_e[_+48>>2])),_s=+(u_*(+_e[_+12>>2]+(c_*__-n_*_s)-+_e[_+44>>2])+ +_e[_+68>>2]),_t=792,_e[_t>>2]=e_,_e[_t+4>>2]=_s,ws=_r,792}function AX(_){return _=_|0,+ +_e[_+132>>2]}function SX(_,_t){_=_|0,_t=+_t,_e[_+132>>2]=_t}function CX(_){return _=_|0,+ +_e[_+136>>2]}function BX(_,_t){_=_|0,_t=+_t,_e[_+136>>2]=_t}function PX(_){return _=_|0,+ +_e[_+140>>2]}function wX(_,_t){_=_|0,_t=+_t,_e[_+140>>2]=_t}function VX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0;if(_r=ws,ws=ws+16|0,n_=_r,_s=_+88|0,l[(l[_s>>2]|0)+102868>>2]&2&&X2(9352,9088,115,9384),(l[_>>2]|0)==(_t|0)){ws=_r;return}if(l[_>>2]=_t,V4(_),(l[_>>2]|0)==0&&(_e[_+64>>2]=0,_e[_+68>>2]=0,_e[_+72>>2]=0,f_=+_e[_+56>>2],_e[_+52>>2]=f_,e_=_+44|0,__=l[e_>>2]|0,e_=l[e_+4>>2]|0,x_=_+36|0,l[x_>>2]=__,l[x_+4>>2]=e_,I_=+F2(+f_),_e[n_+8>>2]=I_,f_=+V2(+f_),_e[n_+12>>2]=f_,R_=+_e[_+28>>2],A_=+_e[_+32>>2],g_=(l[s_>>2]=__,+_e[s_>>2]-(f_*R_-I_*A_)),A_=(l[s_>>2]=e_,+_e[s_>>2]-(R_*I_+f_*A_)),g_=+g_,A_=+A_,e_=n_,_e[e_>>2]=g_,_e[e_+4>>2]=A_,e_=(l[_s>>2]|0)+102872|0,__=l[_+100>>2]|0,(__|0)!=0)){_t=_+12|0;do VG(__,e_,n_,_t),__=l[__+4>>2]|0;while((__|0)!=0)}if(n_=_+4|0,e_=o_[n_>>1]|0,e_&2||(_i[n_>>1]=e_|2,_e[_+144>>2]=0),_e[_+76>>2]=0,_e[_+80>>2]=0,_e[_+84>>2]=0,e_=_+112|0,n_=l[e_>>2]|0,n_)do x_=n_,n_=l[n_+12>>2]|0,cP((l[_s>>2]|0)+102872|0,l[x_+4>>2]|0);while((n_|0)!=0);if(l[e_>>2]=0,e_=l[_s>>2]|0,c_=l[_+100>>2]|0,!c_){ws=_r;return}_s=e_+102912|0,_=e_+102908|0,e_=e_+102904|0;do{if(u_=l[c_+28>>2]|0,(u_|0)>0){_t=c_+24|0,x_=l[_s>>2]|0,n_=0;do __=l[(l[_t>>2]|0)+(n_*28|0)+24>>2]|0,(x_|0)==(l[_>>2]|0)&&(J_=l[e_>>2]|0,l[_>>2]=x_<<1,x_=a0(x_<<3)|0,l[e_>>2]=x_,NA(x_|0,J_|0,l[_s>>2]<<2|0)|0,d0(J_),x_=l[_s>>2]|0),l[(l[e_>>2]|0)+(x_<<2)>>2]=__,x_=(l[_s>>2]|0)+1|0,l[_s>>2]=x_,n_=n_+1|0;while((n_|0)!=(u_|0))}c_=l[c_+4>>2]|0}while((c_|0)!=0);ws=_r}function MX(_){return _=_|0,l[_>>2]|0}function DX(_,_t){_=_|0,_t=_t|0;var _r=0;_=_+4|0,_r=o_[_>>1]|0,_i[_>>1]=_t?_r|8:_r&65527}function GX(_){return _=_|0,(_i[_+4>>1]&8)!=0|0}function JX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0;if(_r=ws,_s=_+4|0,e_=o_[_s>>1]|0,_t){_i[_s>>1]=e_|4,ws=_r;return}if(_t=e_&65531,_i[_s>>1]=_t,e_&2){ws=_r;return}_i[_s>>1]=_t|2,_e[_+144>>2]=0,ws=_r}function IX(_){return _=_|0,(_i[_+4>>1]&4)!=0|0}function TX(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0;if(_r=ws,_s=_+4|0,e_=o_[_s>>1]|0,!_t){_i[_s>>1]=e_&65533,_e[_+144>>2]=0,_t=_+64|0,l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,l[_t+16>>2]=0,l[_t+20>>2]=0,ws=_r;return}if(e_&2){ws=_r;return}_i[_s>>1]=e_|2,_e[_+144>>2]=0,ws=_r}function FX(_){return _=_|0,(_i[_+4>>1]&2)!=0|0}function RX(_,_t,_r,_s){_=_|0,_t=+_t,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0,_p=0,_0=0,C0=0,P0=0,T0=0,c0=0,_l=0,ey=0,H0=0,hy=0,I0=0,wy=0,dy=0,yy=0,_1=0,I1=0,d1=0,zS=0,OA=0,fS=0,Uy=0,U0=0,sC=0,nD=0,lP=0,mP=0,yV=0,bP=0,$C=0,uP=0,G4=0,VB=0,tB=0,eB=0,J4=0,I4=0,oB=0,hP=0,xV=0,_C=0,i1=0,zy=0,O0=0,Z0=0,Hy=0,L0=0,Wy=0,Ly=0,a1=0,y1=0,nA=0,T1=0,aC=0,sA=0,sD=0,dP=0,MB=0,DC=0,RG=0,LG=0,kG=0,gI=0,vI=0,AI=0,SI=0,CI=0,BI=0,PI=0,wI=0,VI=0,MI=0,DI=0,GI=0,JI=0,II=0,TI=0,FI=0,RI=0,LI=0,kI=0,qI=0,EI=0,Ay=0,Vy=0,Z1=0,ky=0,B0=0,Ty=0,t0=0,_g=0,t1=0,$y=0,p1=0,cy=0,_v=0,MS=0,VA=0,B1=0,F1=0,_A=0,aA=0,tA=0,HA=0,x1=0,R1=0,lS=0,TA=0,c1=0,l1=0,ly=0,e0=0,my=0,X0=0,Ny=0,e1=0,Xy=0,_h=0,oy=0,N1=0,Sy=0,u0=0,x0=0,M0=0,ty=0,Zy=0,_x=0,FA=0,m1=0,iB=0,pC=0,Oy=0,b1=0,Fy=0,_d=0,DS=0,T4=0,D0=0,f0=0,DB=0,_c=0,pa=0,GS=0,cC=0,pA=0,cA=0,qy=0,q2=0,b0=0;e_=ws,ws=ws+608|0,c_=e_,u_=e_+16|0,x_=e_+112|0,J_=e_+236|0,V_=e_+404|0,__=e_+136|0,M_=e_+536|0,g_=e_+456|0,f_=e_+492|0,A_=e_+528|0,I_=e_+368|0,R_=e_+591|0,g2=e_+588|0,n_=_+102868|0,Q_=l[n_>>2]|0,Q_&1&&(vG(_+102872|0),Q_=l[n_>>2]&-2,l[n_>>2]=Q_),l[n_>>2]=Q_|2,Q_=_t>0,Q_?o2=1/_t:o2=0,n2=_+102988|0,Z1=+_e[n2>>2]*_t,C2=_o[_+102992>>0]|0,z_=_+102872|0,H_=_+102932|0,f2=l[H_>>2]|0;t:do if(f2){b2=_+102884|0,w2=_+102876|0,r2=_+102944|0,h2=_+102940|0;e:for(;;){Y2=l[f2+48>>2]|0,S2=l[f2+52>>2]|0,d2=l[f2+56>>2]|0,c2=l[f2+60>>2]|0,O2=l[Y2+8>>2]|0,k2=l[S2+8>>2]|0,P2=f2+4|0,x2=l[P2>>2]|0;o:do if(!(x2&8))L_=16;else{if(!(_I(k2,O2)|0)){q2=l[f2+12>>2]|0,cP(z_,f2),f2=q2;break}L2=l[h2>>2]|0;do if(L2)if(nC[l[(l[L2>>2]|0)+8>>2]&63](L2,Y2,S2)|0){x2=l[P2>>2]|0;break}else{q2=l[f2+12>>2]|0,cP(z_,f2),f2=q2;break o}while(!1);l[P2>>2]=x2&-9,L_=16}while(!1);do if((L_|0)==16){if(L_=0,_i[O2+4>>1]&2?P2=(l[O2>>2]|0)!=0:P2=0,_i[k2+4>>1]&2?k2=(l[k2>>2]|0)!=0:k2=0,!(P2|k2)){f2=l[f2+12>>2]|0;break}if(d2=l[(l[Y2+24>>2]|0)+(d2*28|0)+24>>2]|0,S2=l[(l[S2+24>>2]|0)+(c2*28|0)+24>>2]|0,(d2|0)<=-1){L_=24;break e}if(Y2=l[b2>>2]|0,(Y2|0)<=(d2|0)){L_=24;break e}if(c2=l[w2>>2]|0,!((S2|0)>-1&(Y2|0)>(S2|0))){L_=26;break e}if((+_e[c2+(S2*36|0)>>2]-+_e[c2+(d2*36|0)+8>>2]>0?1:+_e[c2+(S2*36|0)+4>>2]-+_e[c2+(d2*36|0)+12>>2]>0)|+_e[c2+(d2*36|0)>>2]-+_e[c2+(S2*36|0)+8>>2]>0|+_e[c2+(d2*36|0)+4>>2]-+_e[c2+(S2*36|0)+12>>2]>0){q2=l[f2+12>>2]|0,cP(z_,f2),f2=q2;break}else{xG(f2,l[r2>>2]|0),f2=l[f2+12>>2]|0;break}}while(!1);if(!f2)break t}((L_|0)==24||(L_|0)==26)&&X2(12256,12200,164,12320)}while(!1);if(_e[_+103e3>>2]=0,b2=_+102995|0,!((_o[b2>>0]|0)==0|Q_^1)){if(w2=_+103008|0,_e[w2>>2]=0,h2=_+103012|0,_e[h2>>2]=0,r2=_+103016|0,_e[r2>>2]=0,S2=_+102960|0,f2=_+68|0,mI(M_,l[S2>>2]|0,l[_+102936>>2]|0,l[_+102964>>2]|0,f2,l[_+102944>>2]|0),c2=_+102952|0,d2=l[c2>>2]|0,d2)do q2=d2+4|0,_i[q2>>1]=o_[q2>>1]&65534,d2=l[d2+96>>2]|0;while((d2|0)!=0);if(d2=l[H_>>2]|0,d2)do q2=d2+4|0,l[q2>>2]=l[q2>>2]&-2,d2=l[d2+12>>2]|0;while((d2|0)!=0);if(d2=l[_+102956>>2]|0,d2)do _o[d2+60>>0]=0,d2=l[d2+12>>2]|0;while((d2|0)!=0);hP=l[S2>>2]|0,oB=wB(f2,hP<<2)|0,_C=l[c2>>2]|0;t:do if(_C){eB=M_+28|0,P2=M_+36|0,tB=M_+32|0,J4=_+102976|0,uP=M_+8|0,G4=M_+48|0,VB=M_+16|0,_p=_+102968|0,_0=_+102972|0,Uy=M_+20|0,$C=M_+24|0,zS=J_+4|0,_1=J_+8|0,wy=J_+12|0,I0=J_+16|0,hy=J_+20|0,H0=J_+21|0,ey=J_+24|0,C0=J_+28|0,OA=V_+4|0,T0=V_+8|0,yV=V_+12|0,bP=V_+16|0,I4=V_+20|0,d2=V_+21|0,Y2=M_+12|0,k2=V_+24|0,O2=V_+28|0,L2=V_+32|0,x2=V_+36|0,B2=V_+40|0,j2=C2<<24>>24==0,_l=(_r|0)>0,xV=__+48|0,c0=__+40|0,dy=__+44|0,yy=(_s|0)>0,d1=__+36|0,I1=__+24|0,S2=c_+8|0,fS=c_+12|0,U0=u_+8|0,sC=u_+12|0,nD=x_+8|0,lP=x_+16|0,mP=__+32|0,P0=__+28|0;e:for(;;){i1=_C+4|0,zy=_i[i1>>1]|0;do if((zy&35)==34&&(l[_C>>2]|0)!=0){l[eB>>2]=0,l[P2>>2]=0,l[tB>>2]=0,l[oB>>2]=_C,_i[i1>>1]=zy&65535|1,O0=1;do{if(O0=O0+-1|0,i1=l[oB+(O0<<2)>>2]|0,Z0=i1+4|0,!(_i[Z0>>1]&32)){L_=43;break e}eD(M_,i1),zy=o_[Z0>>1]|0,zy&2||(_i[Z0>>1]=zy|2,_e[i1+144>>2]=0);do if(l[i1>>2]|0){if(zy=l[i1+112>>2]|0,zy)do{Z0=l[zy+4>>2]|0,Hy=Z0+4|0;do if((l[Hy>>2]&7|0)==6){if(_o[(l[Z0+48>>2]|0)+38>>0]|0||_o[(l[Z0+52>>2]|0)+38>>0]|0||(MG(M_,Z0),l[Hy>>2]=l[Hy>>2]|1,Z0=l[zy>>2]|0,Hy=Z0+4|0,L0=_i[Hy>>1]|0,L0&1))break;if((O0|0)>=(hP|0)){L_=54;break e}l[oB+(O0<<2)>>2]=Z0,_i[Hy>>1]=L0&65535|1,O0=O0+1|0}while(!1);zy=l[zy+12>>2]|0}while((zy|0)!=0);if(i1=l[i1+108>>2]|0,!i1)break;do{Hy=i1+4|0,zy=l[Hy>>2]|0;do if(!(_o[zy+60>>0]|0)){if(L0=l[i1>>2]|0,Ly=L0+4|0,Wy=_i[Ly>>1]|0,!(Wy&32))break;if(Z0=l[tB>>2]|0,(Z0|0)>=(l[G4>>2]|0)){L_=61;break e}if(l[tB>>2]=Z0+1,l[(l[VB>>2]|0)+(Z0<<2)>>2]=zy,_o[(l[Hy>>2]|0)+60>>0]=1,Wy&1)break;if((O0|0)>=(hP|0)){L_=64;break e}l[oB+(O0<<2)>>2]=L0,_i[Ly>>1]=Wy&65535|1,O0=O0+1|0}while(!1);i1=l[i1+12>>2]|0}while((i1|0)!=0)}while(!1)}while((O0|0)>0);if(i1=(_o[J4>>0]|0)==0,zy=l[eB>>2]|0,Hy=(zy|0)>0,Hy){L0=l[uP>>2]|0,Wy=0;do O0=l[L0+(Wy<<2)>>2]|0,Z0=O0+44|0,Ly=l[Z0>>2]|0,Z0=l[Z0+4>>2]|0,Ty=+_e[O0+56>>2],q2=O0+64|0,B0=+_e[q2>>2],_g=+_e[q2+4>>2],t1=+_e[O0+72>>2],q2=O0+36|0,l[q2>>2]=Ly,l[q2+4>>2]=Z0,_e[O0+52>>2]=Ty,(l[O0>>2]|0)==2&&(f0=+_e[O0+140>>2],_c=+_e[O0+120>>2],pa=1/(+_e[O0+132>>2]*_t+1),B0=(B0+(f0*+_e[_p>>2]+_c*+_e[O0+76>>2])*_t)*pa,_g=(_g+(f0*+_e[_0>>2]+_c*+_e[O0+80>>2])*_t)*pa,t1=(t1+ +_e[O0+128>>2]*_t*+_e[O0+84>>2])*(1/(+_e[O0+136>>2]*_t+1))),O0=l[Uy>>2]|0,q2=O0+(Wy*12|0)|0,l[q2>>2]=Ly,l[q2+4>>2]=Z0,_e[O0+(Wy*12|0)+8>>2]=Ty,Z0=l[$C>>2]|0,_c=+B0,pa=+_g,q2=Z0+(Wy*12|0)|0,_e[q2>>2]=_c,_e[q2+4>>2]=pa,_e[Z0+(Wy*12|0)+8>>2]=t1,Wy=Wy+1|0;while((Wy|0)<(zy|0))}else Z0=l[$C>>2]|0,O0=l[Uy>>2]|0;if(_e[J_>>2]=_t,_e[zS>>2]=o2,_e[_1>>2]=Z1,l[wy>>2]=_r,l[I0>>2]=_s,_o[hy>>0]=C2,_o[H0+0>>0]=_o[g2+0>>0]|0,_o[H0+1>>0]=_o[g2+1>>0]|0,_o[H0+2>>0]=_o[g2+2>>0]|0,l[ey>>2]=O0,l[C0>>2]=Z0,_e[V_>>2]=_t,_e[OA>>2]=o2,_e[T0>>2]=Z1,l[yV>>2]=_r,l[bP>>2]=_s,_o[I4>>0]=C2,_o[d2+0>>0]=_o[g2+0>>0]|0,_o[d2+1>>0]=_o[g2+1>>0]|0,_o[d2+2>>0]=_o[g2+2>>0]|0,l[k2>>2]=l[Y2>>2],l[O2>>2]=l[P2>>2],l[L2>>2]=O0,l[x2>>2]=Z0,l[B2>>2]=l[M_>>2],EJ(__,V_),jJ(__),!j2&&(A2=l[xV>>2]|0,(A2|0)>0)){nA=l[P0>>2]|0,T1=l[c0>>2]|0,L0=0;do{if(Ly=l[T1+(L0*156|0)+112>>2]|0,y1=l[T1+(L0*156|0)+116>>2]|0,B0=+_e[T1+(L0*156|0)+120>>2],p1=+_e[T1+(L0*156|0)+128>>2],$y=+_e[T1+(L0*156|0)+124>>2],t1=+_e[T1+(L0*156|0)+132>>2],aC=l[T1+(L0*156|0)+148>>2]|0,a1=nA+(Ly*12|0)|0,Wy=a1,_v=+_e[Wy>>2],VA=+_e[Wy+4>>2],Ly=nA+(Ly*12|0)+8|0,MS=+_e[Ly>>2],Wy=nA+(y1*12|0)|0,q2=Wy,B1=+_e[q2>>2],F1=+_e[q2+4>>2],y1=nA+(y1*12|0)+8|0,cy=+_e[y1>>2],q2=T1+(L0*156|0)+72|0,_g=+_e[q2>>2],Ty=+_e[q2+4>>2],(aC|0)>0){sA=0;do f0=+_e[T1+(L0*156|0)+(sA*36|0)+16>>2],pa=+_e[T1+(L0*156|0)+(sA*36|0)+20>>2],_c=_g*f0+Ty*pa,pa=Ty*f0-_g*pa,MS=MS-p1*(+_e[T1+(L0*156|0)+(sA*36|0)>>2]*pa-+_e[T1+(L0*156|0)+(sA*36|0)+4>>2]*_c),_v=_v-B0*_c,VA=VA-B0*pa,cy=cy+t1*(pa*+_e[T1+(L0*156|0)+(sA*36|0)+8>>2]-_c*+_e[T1+(L0*156|0)+(sA*36|0)+12>>2]),B1=B1+$y*_c,F1=F1+$y*pa,sA=sA+1|0;while((sA|0)!=(aC|0))}pa=+_v,_c=+VA,q2=a1,_e[q2>>2]=pa,_e[q2+4>>2]=_c,_e[Ly>>2]=MS,_c=+B1,pa=+F1,q2=Wy,_e[q2>>2]=_c,_e[q2+4>>2]=pa,_e[y1>>2]=cy,L0=L0+1|0}while((L0|0)<(A2|0))}if(L0=l[tB>>2]|0,Wy=(L0|0)>0,Wy){a1=l[VB>>2]|0,Ly=0;do q2=l[a1+(Ly<<2)>>2]|0,vy[l[(l[q2>>2]|0)+32>>2]&127](q2,J_),Ly=Ly+1|0;while((Ly|0)<(L0|0))}if(_l){y1=0;do{if(Wy){Ly=l[VB>>2]|0,a1=0;do q2=l[Ly+(a1<<2)>>2]|0,vy[l[(l[q2>>2]|0)+36>>2]&127](q2,J_),a1=a1+1|0;while((a1|0)<(L0|0))}zJ(__),y1=y1+1|0}while((y1|0)<(_r|0))}if(nA=l[xV>>2]|0,(nA|0)>0){y1=l[c0>>2]|0,a1=l[dy>>2]|0,Ly=0;do{if(T1=l[a1+(l[y1+(Ly*156|0)+152>>2]<<2)>>2]|0,Wy=l[y1+(Ly*156|0)+148>>2]|0,(Wy|0)>0){L0=0;do _e[T1+(L0*20|0)+72>>2]=+_e[y1+(Ly*156|0)+(L0*36|0)+16>>2],_e[T1+(L0*20|0)+76>>2]=+_e[y1+(Ly*156|0)+(L0*36|0)+20>>2],L0=L0+1|0;while((L0|0)<(Wy|0))}Ly=Ly+1|0}while((Ly|0)<(nA|0))}if(Hy){Hy=0;do zy=O0+(Hy*12|0)|0,q2=zy,B0=+_e[q2>>2],Ty=+_e[q2+4>>2],_g=+_e[O0+(Hy*12|0)+8>>2],q2=Z0+(Hy*12|0)|0,t1=+_e[q2>>2],p1=+_e[q2+4>>2],$y=+_e[Z0+(Hy*12|0)+8>>2],pa=t1*_t,cy=p1*_t,cy=pa*pa+cy*cy,cy>4&&(pa=2/+G2(+cy),t1=t1*pa,p1=p1*pa),cy=$y*_t,cy*cy>2.4674012660980225&&(cy>0||(cy=-cy),$y=$y*(1.5707963705062866/cy)),pa=+(B0+t1*_t),_c=+(Ty+p1*_t),O0=zy,_e[O0>>2]=pa,_e[O0+4>>2]=_c,O0=l[Uy>>2]|0,_e[O0+(Hy*12|0)+8>>2]=_g+$y*_t,Z0=l[$C>>2]|0,_c=+t1,pa=+p1,zy=Z0+(Hy*12|0)|0,_e[zy>>2]=_c,_e[zy+4>>2]=pa,_e[Z0+(Hy*12|0)+8>>2]=$y,Hy=Hy+1|0,zy=l[eB>>2]|0;while((Hy|0)<(zy|0))}o:do if(yy)for(L0=l[xV>>2]|0,Hy=0;;){if((L0|0)>0){Wy=l[I1>>2]|0,y1=l[d1>>2]|0,a1=0,VA=0;do{if(sD=y1+(a1*88|0)|0,aC=l[y1+(a1*88|0)+32>>2]|0,nA=l[y1+(a1*88|0)+36>>2]|0,sA=y1+(a1*88|0)+48|0,p1=+_e[sA>>2],cy=+_e[sA+4>>2],$y=+_e[y1+(a1*88|0)+40>>2],B0=+_e[y1+(a1*88|0)+64>>2],sA=y1+(a1*88|0)+56|0,_v=+_e[sA>>2],MS=+_e[sA+4>>2],_g=+_e[y1+(a1*88|0)+44>>2],t1=+_e[y1+(a1*88|0)+68>>2],sA=l[y1+(a1*88|0)+84>>2]|0,Ly=Wy+(aC*12|0)|0,T1=Ly,B1=+_e[T1>>2],F1=+_e[T1+4>>2],aC=Wy+(aC*12|0)+8|0,HA=+_e[aC>>2],T1=Wy+(nA*12|0)|0,q2=T1,_A=+_e[q2>>2],aA=+_e[q2+4>>2],nA=Wy+(nA*12|0)+8|0,tA=+_e[nA>>2],(sA|0)>0){Ty=$y+_g,dP=0;do l1=+F2(+HA),_e[S2>>2]=l1,ly=+V2(+HA),_e[fS>>2]=ly,c1=+F2(+tA),_e[U0>>2]=c1,R1=+V2(+tA),_e[sC>>2]=R1,x1=+(B1-(p1*ly-cy*l1)),l1=+(F1-(cy*ly+p1*l1)),q2=c_,_e[q2>>2]=x1,_e[q2+4>>2]=l1,l1=+(_A-(_v*R1-MS*c1)),c1=+(aA-(MS*R1+_v*c1)),q2=u_,_e[q2>>2]=l1,_e[q2+4>>2]=c1,WJ(x_,sD,c_,u_,dP),q2=x_,c1=+_e[q2>>2],l1=+_e[q2+4>>2],q2=nD,R1=+_e[q2>>2],x1=+_e[q2+4>>2],ly=+_e[lP>>2],TA=R1-B1,lS=x1-F1,R1=R1-_A,x1=x1-aA,VA=VA<ly?VA:ly,ly=(ly+.004999999888241291)*.20000000298023224,ly=ly<0?ly:0,my=l1*TA-c1*lS,pa=l1*R1-c1*x1,my=pa*t1*pa+(Ty+my*B0*my),my>0?ly=-(ly<-.20000000298023224?-.20000000298023224:ly)/my:ly=0,pa=c1*ly,_c=l1*ly,B1=B1-$y*pa,F1=F1-$y*_c,HA=HA-B0*(TA*_c-lS*pa),_A=_A+_g*pa,aA=aA+_g*_c,tA=tA+t1*(R1*_c-x1*pa),dP=dP+1|0;while((dP|0)!=(sA|0))}pa=+B1,_c=+F1,q2=Ly,_e[q2>>2]=pa,_e[q2+4>>2]=_c,_e[aC>>2]=HA,_c=+_A,pa=+aA,q2=T1,_e[q2>>2]=_c,_e[q2+4>>2]=pa,_e[nA>>2]=tA,a1=a1+1|0}while((a1|0)<(L0|0))}else VA=0;if(Wy=VA>=-.014999999664723873,a1=l[tB>>2]|0,(a1|0)>0){y1=l[VB>>2]|0,Ly=0,nA=1;do q2=l[y1+(Ly<<2)>>2]|0,nA=nA&(s1[l[(l[q2>>2]|0)+40>>2]&63](q2,J_)|0),Ly=Ly+1|0;while((Ly|0)<(a1|0))}else nA=1;if(Hy=Hy+1|0,Wy&nA){Hy=0;break o}if((Hy|0)>=(_s|0)){Hy=1;break}}else Hy=1;while(!1);if((zy|0)>0){Wy=l[uP>>2]|0,L0=0;do q2=l[Wy+(L0<<2)>>2]|0,qy=O0+(L0*12|0)|0,cA=l[qy>>2]|0,qy=l[qy+4>>2]|0,GS=q2+44|0,l[GS>>2]=cA,l[GS+4>>2]=qy,f0=+_e[O0+(L0*12|0)+8>>2],_e[q2+56>>2]=f0,GS=Z0+(L0*12|0)|0,cC=l[GS+4>>2]|0,pA=q2+64|0,l[pA>>2]=l[GS>>2],l[pA+4>>2]=cC,_e[q2+72>>2]=+_e[Z0+(L0*12|0)+8>>2],_d=+F2(+f0),_e[q2+20>>2]=_d,f0=+V2(+f0),_e[q2+24>>2]=f0,D0=+_e[q2+28>>2],pa=+_e[q2+32>>2],_c=(l[s_>>2]=cA,+_e[s_>>2]-(f0*D0-_d*pa)),pa=(l[s_>>2]=qy,+_e[s_>>2]-(_d*D0+f0*pa)),_c=+_c,pa=+pa,q2=q2+12|0,_e[q2>>2]=_c,_e[q2+4>>2]=pa,L0=L0+1|0;while((L0|0)<(zy|0))}zy=l[c0>>2]|0,uI(M_,zy);do if(!i1){if(i1=l[eB>>2]|0,(i1|0)<=0)break;O0=l[uP>>2]|0,Z0=0,B0=34028234663852886e22;do{L0=l[O0+(Z0<<2)>>2]|0;o:do if(l[L0>>2]|0){do if(_i[L0+4>>1]&4){if(pa=+_e[L0+72>>2],pa*pa>.001218469929881394||(_c=+_e[L0+64>>2],pa=+_e[L0+68>>2],_c*_c+pa*pa>9999999747378752e-20))break;q2=L0+144|0,pa=+_e[q2>>2]+_t,_e[q2>>2]=pa,B0=B0<pa?B0:pa;break o}while(!1);_e[L0+144>>2]=0,B0=0}while(!1);Z0=Z0+1|0}while((Z0|0)<(i1|0));if(!(B0>=.5)|Hy)break;Z0=0;do q2=l[O0+(Z0<<2)>>2]|0,qy=q2+4|0,_i[qy>>1]=o_[qy>>1]&65533,_e[q2+144>>2]=0,q2=q2+64|0,l[q2+0>>2]=0,l[q2+4>>2]=0,l[q2+8>>2]=0,l[q2+12>>2]=0,l[q2+16>>2]=0,l[q2+20>>2]=0,Z0=Z0+1|0;while((Z0|0)<(i1|0))}while(!1);if(i1=l[mP>>2]|0,PC(i1,zy),PC(i1,l[d1>>2]|0),_e[w2>>2]=+_e[w2>>2]+0,_e[h2>>2]=+_e[h2>>2]+0,_e[r2>>2]=+_e[r2>>2]+0,i1=l[eB>>2]|0,(i1|0)<=0)break;zy=l[uP>>2]|0,O0=0;do Z0=l[zy+(O0<<2)>>2]|0,l[Z0>>2]|0||(q2=Z0+4|0,_i[q2>>1]=o_[q2>>1]&65534),O0=O0+1|0;while((O0|0)<(i1|0))}while(!1);if(_C=l[_C+96>>2]|0,!_C)break t}(L_|0)==43?X2(11696,11552,445,11720):(L_|0)==54?X2(11728,11552,495,11720):(L_|0)==61?X2(12384,12416,68,12456):(L_|0)==64&&X2(11728,11552,524,11720)}while(!1);if(PC(f2,oB),A2=l[c2>>2]|0,A2)do(_i[A2+4>>1]&1)!=0&&(l[A2>>2]|0)!=0&&nI(A2),A2=l[A2+96>>2]|0;while((A2|0)!=0);vG(z_),_e[_+103020>>2]=0,bI(M_),_e[_+103004>>2]=0}if(_o[_+102993>>0]|0){if(Q_){if(A2=_+102944|0,mI(M_,64,32,0,_+68|0,l[A2>>2]|0),_o[b2>>0]|0){if(g2=l[_+102952>>2]|0,g2)do q2=g2+4|0,_i[q2>>1]=o_[q2>>1]&65534,_e[g2+60>>2]=0,g2=l[g2+96>>2]|0;while((g2|0)!=0);if(g2=l[H_>>2]|0,g2)do q2=g2+4|0,l[q2>>2]=l[q2>>2]&-34,l[g2+128>>2]=0,_e[g2+132>>2]=1,g2=l[g2+12>>2]|0;while((g2|0)!=0)}_1=M_+28|0,yy=M_+36|0,dy=M_+32|0,wy=A_+4|0,I0=M_+40|0,hy=M_+44|0,C2=_+102994|0,H0=M_+8|0,fS=J_+16|0,bP=J_+20|0,kG=J_+24|0,lP=J_+44|0,mP=J_+48|0,LG=J_+52|0,DC=J_+28|0,I1=J_+56|0,qI=J_+92|0,kI=J_+128|0,LI=J_+56|0,RI=J_+60|0,FI=J_+64|0,TI=J_+68|0,II=J_+72|0,JI=J_+76|0,GI=J_+80|0,vI=J_+84|0,DI=J_+88|0,MI=J_+92|0,VI=J_+96|0,wI=J_+100|0,PI=J_+104|0,BI=J_+108|0,CI=J_+112|0,SI=J_+116|0,gI=J_+120|0,AI=J_+124|0,RG=c_+4|0,MB=u_+28|0,dP=u_+88|0,sD=u_+56|0,sA=u_+64|0,aC=u_+68|0,T1=u_+72|0,nA=u_+80|0,y1=u_+84|0,a1=x_+16|0,Ly=__+4|0,Wy=__+8|0,L0=__+12|0,Hy=__+16|0,Z0=__+20|0,O0=__+24|0,zy=__+28|0,i1=__+32|0,_C=__+36|0,xV=__+40|0,hP=__+44|0,oB=__+48|0,I4=__+52|0,J4=__+56|0,eB=__+60|0,tB=__+64|0,VB=__+68|0,G4=__+72|0,uP=__+76|0,$C=__+80|0,yV=c_+9|0,sC=__+92|0,U0=__+96|0,nD=c_+10|0,Uy=__+84|0,OA=__+92|0,h2=__+84|0,d1=__+88|0,ey=M_+20|0,_l=M_+24|0,c0=M_+12|0,T0=J_+24|0,P0=J_+28|0,C0=J_+40|0,_0=J_+4|0,_p=J_+8|0,j2=J_+12|0,B2=J_+16|0,x2=J_+20|0,L2=J_+21|0,O2=J_+32|0,P2=J_+36|0,EI=(_r|0)>0,zS=V_+40|0,w2=V_+32|0,Y2=V_+36|0,k2=V_+48|0,d2=V_+24|0,S2=c_+8|0,c2=c_+12|0,r2=u_+8|0,_s=u_+12|0,g2=x_+8|0,f2=x_+16|0;t:for(;;){if(Ay=l[H_>>2]|0,Ay)Z1=1,Vy=0;else{L_=255;break}do{ky=Ay+4|0,t0=l[ky>>2]|0;do if((t0&4|0)!=0&&(l[Ay+128>>2]|0)<=8){if(t0&32)B0=+_e[Ay+132>>2];else{if(e0=l[Ay+48>>2]|0,t0=l[Ay+52>>2]|0,_o[e0+38>>0]|0||_o[t0+38>>0]|0)break;if(u0=l[e0+8>>2]|0,M0=l[t0+8>>2]|0,ty=l[u0>>2]|0,Zy=l[M0>>2]|0,!((ty|0)==2|(Zy|0)==2)){L_=158;break t}if(x0=_i[u0+4>>1]|0,_x=_i[M0+4>>1]|0,!((x0&2)!=0&(ty|0)!=0|(_x&2)!=0&(Zy|0)!=0)||!((x0&8)!=0|(ty|0)!=2|((_x&8)!=0|(Zy|0)!=2)))break;ty=u0+28|0,_x=u0+60|0,Ty=+_e[_x>>2],x0=M0+28|0,Zy=M0+60|0,B0=+_e[Zy>>2];do if(Ty<B0){if(!(Ty<1)){L_=163;break t}_c=(B0-Ty)/(1-Ty),qy=u0+36|0,D0=+_e[qy>>2],q2=u0+40|0,f0=+_e[q2>>2],pa=_c*(+_e[u0+48>>2]-f0),_e[qy>>2]=D0+_c*(+_e[u0+44>>2]-D0),_e[q2>>2]=f0+pa,q2=u0+52|0,pa=+_e[q2>>2],_e[q2>>2]=pa+_c*(+_e[u0+56>>2]-pa),_e[_x>>2]=B0}else{if(!(B0<Ty)){B0=Ty;break}if(!(B0<1)){L_=167;break t}pa=(Ty-B0)/(1-B0),qy=M0+36|0,f0=+_e[qy>>2],q2=M0+40|0,_c=+_e[q2>>2],B0=pa*(+_e[M0+48>>2]-_c),_e[qy>>2]=f0+pa*(+_e[M0+44>>2]-f0),_e[q2>>2]=_c+B0,q2=M0+52|0,B0=+_e[q2>>2],_e[q2>>2]=B0+pa*(+_e[M0+56>>2]-B0),_e[Zy>>2]=Ty,B0=Ty}while(!1);if(!(B0<1)){L_=170;break t}q2=l[Ay+56>>2]|0,u0=l[Ay+60>>2]|0,l[fS>>2]=0,l[bP>>2]=0,_e[kG>>2]=0,l[lP>>2]=0,l[mP>>2]=0,_e[LG>>2]=0,tD(J_,l[e0+12>>2]|0,q2),tD(DC,l[t0+12>>2]|0,u0),t0=I1+0|0,e0=ty+0|0,u0=t0+36|0;do l[t0>>2]=l[e0>>2],t0=t0+4|0,e0=e0+4|0;while((t0|0)<(u0|0));t0=qI+0|0,e0=x0+0|0,u0=t0+36|0;do l[t0>>2]=l[e0>>2],t0=t0+4|0,e0=e0+4|0;while((t0|0)<(u0|0));if(_e[kI>>2]=1,l[1664]=(l[1664]|0)+1,p1=+_e[LI>>2],$y=+_e[RI>>2],_A=+_e[FI>>2],aA=+_e[TI>>2],ly=+_e[II>>2],l1=+_e[JI>>2],TA=+_e[GI>>2],HA=+_e[DI>>2],F1=+_e[MI>>2],tA=+_e[VI>>2],t1=+_e[wI>>2],lS=+_e[PI>>2],c1=+_e[BI>>2],cy=+_e[CI>>2],_v=+_e[SI>>2],_g=+_e[AI>>2],x1=+l2(+(TA/6.2831854820251465))*6.2831854820251465,TA=TA-x1,x1=+_e[vI>>2]-x1,B1=+l2(+(_v/6.2831854820251465))*6.2831854820251465,_v=_v-B1,B1=+_e[gI>>2]-B1,R1=+_e[kG>>2]+ +_e[LG>>2]+-.014999999664723873,R1=R1<.004999999888241291?.004999999888241291:R1,!(R1>.0012499999720603228)){L_=172;break t}_i[RG>>1]=0,l[u_+0>>2]=l[J_+0>>2],l[u_+4>>2]=l[J_+4>>2],l[u_+8>>2]=l[J_+8>>2],l[u_+12>>2]=l[J_+12>>2],l[u_+16>>2]=l[J_+16>>2],l[u_+20>>2]=l[J_+20>>2],l[u_+24>>2]=l[J_+24>>2],l[MB+0>>2]=l[DC+0>>2],l[MB+4>>2]=l[DC+4>>2],l[MB+8>>2]=l[DC+8>>2],l[MB+12>>2]=l[DC+12>>2],l[MB+16>>2]=l[DC+16>>2],l[MB+20>>2]=l[DC+20>>2],l[MB+24>>2]=l[DC+24>>2],_o[dP>>0]=0,MS=R1+.0012499999720603228,VA=R1+-.0012499999720603228,t0=0,Ty=0;e:for(;;){if(e1=1-Ty,X0=e1*TA+Ty*x1,my=+F2(+X0),X0=+V2(+X0),oy=e1*_A+Ty*ly-(X0*p1-my*$y),Ny=e1*aA+Ty*l1-(my*p1+X0*$y),_h=e1*_v+Ty*B1,Xy=+F2(+_h),_h=+V2(+_h),N1=e1*t1+Ty*c1-(_h*F1-Xy*tA),e1=e1*lS+Ty*cy-(Xy*F1+_h*tA),Sy=+oy,pa=+Ny,q2=sD,_e[q2>>2]=Sy,_e[q2+4>>2]=pa,_e[sA>>2]=my,_e[aC>>2]=X0,pa=+N1,Sy=+e1,q2=T1,_e[q2>>2]=pa,_e[q2+4>>2]=Sy,_e[nA>>2]=Xy,_e[y1>>2]=_h,YJ(x_,c_,u_),Sy=+_e[a1>>2],Sy<=0){e0=2,Ty=0;break}if(Sy<MS){e0=3;break}if(l[__>>2]=J_,l[Ly>>2]=DC,u0=l[RG>>2]|0,M0=u0&65535,e0=u0>>>16,ty=e0&255,u0=u0>>>24,x0=u0&255,!(M0<<16>>16!=0&(M0&65535)<3)){L_=177;break t}_e[Wy>>2]=p1,_e[L0>>2]=$y,_e[Hy>>2]=_A,_e[Z0>>2]=aA,_e[O0>>2]=ly,_e[zy>>2]=l1,_e[i1>>2]=TA,_e[_C>>2]=x1,_e[xV>>2]=HA,_e[hP>>2]=F1,_e[oB>>2]=tA,_e[I4>>2]=t1,_e[J4>>2]=lS,_e[eB>>2]=c1,_e[tB>>2]=cy,_e[VB>>2]=_v,_e[G4>>2]=B1,_e[uP>>2]=_g;do if(M0<<16>>16!=1)if(ty<<24>>24==x0<<24>>24){if(l[$C>>2]=2,M0=t_[yV>>0]|0,u0=l[mP>>2]|0,(u0|0)<=(M0|0)){L_=187;break t}if(x0=l[lP>>2]|0,M0=x0+(M0<<3)|0,Oy=+_e[M0>>2],Sy=+_e[M0+4>>2],M0=t_[nD>>0]|0,(u0|0)<=(M0|0)){L_=189;break t}if(q2=x0+(M0<<3)|0,_d=+_e[q2>>2],b1=+_e[q2+4>>2],f0=_d-Oy,D0=b1-Sy,Fy=-f0,_c=+D0,pa=+Fy,q2=sC,_e[q2>>2]=_c,_e[q2+4>>2]=pa,f0=+G2(+(D0*D0+f0*f0)),f0<11920928955078125e-23||(pa=1/f0,D0=D0*pa,_e[sC>>2]=D0,Fy=pa*Fy,_e[U0>>2]=Fy),Oy=(Oy+_d)*.5,Sy=(Sy+b1)*.5,_c=+Oy,pa=+Sy,q2=Uy,_e[q2>>2]=_c,_e[q2+4>>2]=pa,e0=e0&255,(l[bP>>2]|0)<=(e0|0)){L_=193;break t}if(q2=(l[fS>>2]|0)+(e0<<3)|0,_c=+_e[q2>>2],pa=+_e[q2+4>>2],!((_h*D0-Xy*Fy)*(oy+(X0*_c-my*pa)-(N1+(_h*Oy-Xy*Sy)))+(Xy*D0+_h*Fy)*(Ny+(my*_c+X0*pa)-(e1+(Xy*Oy+_h*Sy)))<0)){pa=_A,Xy=aA,e1=ly,_c=l1,Ny=TA,X0=x1,f0=p1,D0=$y,_d=t1,b1=lS,N1=c1,Fy=cy,_h=_v,oy=B1,Oy=F1,Sy=tA,u0=2,e0=1,my=1;break}Xy=+-D0,pa=+-Fy,u0=sC,_e[u0>>2]=Xy,_e[u0+4>>2]=pa,pa=_A,Xy=aA,e1=ly,_c=l1,Ny=TA,X0=x1,f0=p1,D0=$y,_d=t1,b1=lS,N1=c1,Fy=cy,_h=_v,oy=B1,Oy=F1,Sy=tA,u0=2,e0=1,my=1;break}else{if(l[$C>>2]=1,M0=e0&255,e0=l[bP>>2]|0,(e0|0)<=(M0|0)){L_=197;break t}if(x0=l[fS>>2]|0,q2=x0+(M0<<3)|0,Oy=+_e[q2>>2],Sy=+_e[q2+4>>2],(e0|0)<=(u0|0)){L_=199;break t}if(q2=x0+(u0<<3)|0,D0=+_e[q2>>2],b1=+_e[q2+4>>2],f0=D0-Oy,_d=b1-Sy,Fy=-f0,_c=+_d,pa=+Fy,q2=sC,_e[q2>>2]=_c,_e[q2+4>>2]=pa,f0=+G2(+(_d*_d+f0*f0)),f0<11920928955078125e-23||(pa=1/f0,_d=_d*pa,_e[sC>>2]=_d,Fy=pa*Fy,_e[U0>>2]=Fy),Oy=(Oy+D0)*.5,Sy=(Sy+b1)*.5,_c=+Oy,pa=+Sy,e0=Uy,_e[e0>>2]=_c,_e[e0+4>>2]=pa,e0=t_[yV>>0]|0,(l[mP>>2]|0)<=(e0|0)){L_=203;break t}if(q2=(l[lP>>2]|0)+(e0<<3)|0,_c=+_e[q2>>2],pa=+_e[q2+4>>2],!((X0*_d-my*Fy)*(N1+(_h*_c-Xy*pa)-(oy+(X0*Oy-my*Sy)))+(my*_d+X0*Fy)*(e1+(Xy*_c+_h*pa)-(Ny+(my*Oy+X0*Sy)))<0)){pa=_A,Xy=aA,e1=ly,_c=l1,Ny=TA,X0=x1,f0=p1,D0=$y,_d=t1,b1=lS,N1=c1,Fy=cy,_h=_v,oy=B1,Oy=F1,Sy=tA,u0=1,e0=1,my=1;break}Xy=+-_d,pa=+-Fy,u0=sC,_e[u0>>2]=Xy,_e[u0+4>>2]=pa,pa=_A,Xy=aA,e1=ly,_c=l1,Ny=TA,X0=x1,f0=p1,D0=$y,_d=t1,b1=lS,N1=c1,Fy=cy,_h=_v,oy=B1,Oy=F1,Sy=tA,u0=1,e0=1,my=1;break}else{if(l[$C>>2]=0,e0=e0&255,(l[bP>>2]|0)<=(e0|0)){L_=180;break t}if(e0=(l[fS>>2]|0)+(e0<<3)|0,Oy=+_e[e0>>2],Sy=+_e[e0+4>>2],e0=t_[yV>>0]|0,(l[mP>>2]|0)<=(e0|0)){L_=182;break t}if(q2=(l[lP>>2]|0)+(e0<<3)|0,_c=+_e[q2>>2],pa=+_e[q2+4>>2],oy=N1+(_h*_c-Xy*pa)-(oy+(X0*Oy-my*Sy)),my=e1+(Xy*_c+_h*pa)-(Ny+(my*Oy+X0*Sy)),pa=+oy,X0=+my,q2=sC,_e[q2>>2]=pa,_e[q2+4>>2]=X0,X0=+G2(+(oy*oy+my*my)),X0<11920928955078125e-23){pa=_A,Xy=aA,e1=ly,_c=l1,Ny=TA,X0=x1,f0=p1,D0=$y,_d=t1,b1=lS,N1=c1,Fy=cy,_h=_v,oy=B1,Oy=F1,Sy=tA,u0=0,e0=1,my=1;break}pa=1/X0,_e[sC>>2]=oy*pa,_e[U0>>2]=my*pa,pa=_A,Xy=aA,e1=ly,_c=l1,Ny=TA,X0=x1,f0=p1,D0=$y,_d=t1,b1=lS,N1=c1,Fy=cy,_h=_v,oy=B1,Oy=F1,Sy=tA,u0=0,e0=1,my=1}while(!1);for(;;){if(b0=1-my,X0=b0*Ny+X0*my,Ny=+F2(+X0),X0=+V2(+X0),e1=b0*pa+e1*my-(X0*f0-Ny*D0),Xy=b0*Xy+_c*my-(Ny*f0+X0*D0),_h=b0*_h+oy*my,oy=+F2(+_h),_h=+V2(+_h),N1=b0*_d+N1*my-(_h*Oy-oy*Sy),Sy=b0*b1+Fy*my-(oy*Oy+_h*Sy),u0)if((u0|0)==1){if(b0=+_e[OA>>2],b1=+_e[U0>>2],Oy=X0*b0-Ny*b1,b1=Ny*b0+X0*b1,b0=+_e[h2>>2],_d=+_e[d1>>2],e1=e1+(X0*b0-Ny*_d),X0=Xy+(Ny*b0+X0*_d),_d=-Oy,b0=-b1,Fy=_h*_d+oy*b0,_d=_h*b0-oy*_d,u0=l[Ly>>2]|0,x0=l[u0+16>>2]|0,u0=l[u0+20>>2]|0,(u0|0)>1){for(m1=0,Ny=_d*+_e[x0+4>>2]+Fy*+_e[x0>>2],M0=1;Xy=Fy*+_e[x0+(M0<<3)>>2]+_d*+_e[x0+(M0<<3)+4>>2],ty=Xy>Ny,m1=ty?M0:m1,M0=M0+1|0,(M0|0)!=(u0|0);)Ny=ty?Xy:Ny;if((m1|0)<=-1){L_=223;break t}}else m1=0;if((u0|0)<=(m1|0)){L_=223;break t}M0=x0+(m1<<3)|0,pa=+_e[M0>>2],b0=+_e[M0+4>>2],oy=Oy*(N1+(_h*pa-oy*b0)-e1)+b1*(Sy+(oy*pa+_h*b0)-X0),M0=-1}else if((u0|0)==2){if(pa=+_e[OA>>2],b1=+_e[U0>>2],Oy=_h*pa-oy*b1,b1=oy*pa+_h*b1,pa=+_e[h2>>2],b0=+_e[d1>>2],N1=N1+(_h*pa-oy*b0),_h=Sy+(oy*pa+_h*b0),Sy=-Oy,b0=-b1,oy=X0*Sy+Ny*b0,Sy=X0*b0-Ny*Sy,u0=l[__>>2]|0,x0=l[u0+16>>2]|0,u0=l[u0+20>>2]|0,(u0|0)>1){for(M0=0,Fy=Sy*+_e[x0+4>>2]+oy*+_e[x0>>2],ty=1;_d=oy*+_e[x0+(ty<<3)>>2]+Sy*+_e[x0+(ty<<3)+4>>2],Zy=_d>Fy,M0=Zy?ty:M0,ty=ty+1|0,(ty|0)!=(u0|0);)Fy=Zy?_d:Fy;if((M0|0)<=-1){L_=230;break t}}else M0=0;if((u0|0)<=(M0|0)){L_=230;break t}m1=x0+(M0<<3)|0,b0=+_e[m1>>2],oy=+_e[m1+4>>2],oy=Oy*(e1+(X0*b0-Ny*oy)-N1)+b1*(Xy+(Ny*b0+X0*oy)-_h),m1=-1}else{L_=232;break t}else{if(Oy=+_e[OA>>2],b1=+_e[U0>>2],f0=X0*Oy+Ny*b1,D0=X0*b1-Ny*Oy,_d=-Oy,b0=-b1,Fy=_h*_d+oy*b0,_d=_h*b0-oy*_d,u0=l[__>>2]|0,x0=l[u0+16>>2]|0,u0=l[u0+20>>2]|0,(u0|0)>1)for(M0=0,_c=D0*+_e[x0+4>>2]+f0*+_e[x0>>2],Zy=1;pa=f0*+_e[x0+(Zy<<3)>>2]+D0*+_e[x0+(Zy<<3)+4>>2],ty=pa>_c,M0=ty?Zy:M0,Zy=Zy+1|0,(Zy|0)!=(u0|0);)_c=ty?pa:_c;else M0=0;if(ty=l[Ly>>2]|0,Zy=l[ty+16>>2]|0,ty=l[ty+20>>2]|0,(ty|0)>1)for(m1=0,f0=_d*+_e[Zy+4>>2]+Fy*+_e[Zy>>2],_x=1;D0=Fy*+_e[Zy+(_x<<3)>>2]+_d*+_e[Zy+(_x<<3)+4>>2],FA=D0>f0,m1=FA?_x:m1,_x=_x+1|0,(_x|0)!=(ty|0);)f0=FA?D0:f0;else m1=0;if(!((M0|0)>-1&(u0|0)>(M0|0))){L_=214;break t}if(q2=x0+(M0<<3)|0,Fy=+_e[q2>>2],_d=+_e[q2+4>>2],!((m1|0)>-1&(ty|0)>(m1|0))){L_=216;break t}q2=Zy+(m1<<3)|0,pa=+_e[q2>>2],b0=+_e[q2+4>>2],oy=Oy*(N1+(_h*pa-oy*b0)-(e1+(X0*Fy-Ny*_d)))+b1*(Sy+(oy*pa+_h*b0)-(Xy+(Ny*Fy+X0*_d)))}if(oy>MS){e0=4,Ty=1,L_=246;break e}if(oy>VA){Ty=my;break}if(e1=+tI(__,M0,m1,Ty),e1<VA){e0=1,L_=246;break e}if(!(e1<=MS))X0=Ty,Ny=my,u0=0;else{e0=3,L_=246;break e}for(;;){if(u0&1?_h=X0+(R1-e1)*(Ny-X0)/(oy-e1):_h=(X0+Ny)*.5,u0=u0+1|0,l[1670]=(l[1670]|0)+1,Xy=+tI(__,M0,m1,_h),N1=Xy-R1,N1>0||(N1=-N1),N1<.0012499999720603228){my=_h;break}if(x0=Xy>R1,(u0|0)==50)break;X0=x0?_h:X0,Ny=x0?Ny:_h,e1=x0?Xy:e1,oy=x0?oy:Xy}if(q2=l[1672]|0,l[1672]=(q2|0)>(u0|0)?q2:u0,(e0|0)==8)break;pa=+_e[Hy>>2],Xy=+_e[Z0>>2],e1=+_e[O0>>2],_c=+_e[zy>>2],Ny=+_e[i1>>2],X0=+_e[_C>>2],f0=+_e[Wy>>2],D0=+_e[L0>>2],_d=+_e[I4>>2],b1=+_e[J4>>2],N1=+_e[eB>>2],Fy=+_e[tB>>2],_h=+_e[VB>>2],oy=+_e[G4>>2],Oy=+_e[hP>>2],Sy=+_e[oB>>2],u0=l[$C>>2]|0,e0=e0+1|0}if(t0=t0+1|0,l[1666]=(l[1666]|0)+1,(t0|0)==20){t0=20,e0=1;break}}(L_|0)==246&&(L_=0,l[1666]=(l[1666]|0)+1,t0=t0+1|0),q2=l[1668]|0,l[1668]=(q2|0)>(t0|0)?q2:t0,(e0|0)==3?(B0=B0+(1-B0)*Ty,B0=B0<1?B0:1):B0=1,_e[Ay+132>>2]=B0,l[ky>>2]=l[ky>>2]|32}B0<Z1&&(Z1=B0,Vy=Ay)}while(!1);Ay=l[Ay+12>>2]|0}while((Ay|0)!=0);if((Vy|0)==0|Z1>.9999988079071045){L_=255;break}ky=l[(l[Vy+48>>2]|0)+8>>2]|0,Ay=l[(l[Vy+52>>2]|0)+8>>2]|0,M0=ky+28|0,t0=g_+0|0,e0=M0+0|0,u0=t0+36|0;do l[t0>>2]=l[e0>>2],t0=t0+4|0,e0=e0+4|0;while((t0|0)<(u0|0));x0=Ay+28|0,t0=f_+0|0,e0=x0+0|0,u0=t0+36|0;do l[t0>>2]=l[e0>>2],t0=t0+4|0,e0=e0+4|0;while((t0|0)<(u0|0));if(t0=ky+60|0,B0=+_e[t0>>2],!(B0<1)){L_=257;break}if(f0=(Z1-B0)/(1-B0),Zy=ky+44|0,q2=ky+36|0,B0=+_e[q2>>2],_x=ky+48|0,ty=ky+40|0,_c=+_e[ty>>2],pa=f0*(+_e[_x>>2]-_c),_e[q2>>2]=B0+f0*(+_e[Zy>>2]-B0),_e[ty>>2]=_c+pa,ty=ky+56|0,q2=ky+52|0,pa=+_e[q2>>2],pa=pa+f0*(+_e[ty>>2]-pa),_e[q2>>2]=pa,_e[t0>>2]=Z1,t0=ky+36|0,q2=l[t0>>2]|0,t0=l[t0+4>>2]|0,FA=ky+44|0,l[FA>>2]=q2,l[FA+4>>2]=t0,_e[ty>>2]=pa,f0=+F2(+pa),FA=ky+20|0,_e[FA>>2]=f0,pa=+V2(+pa),iB=ky+24|0,_e[iB>>2]=pa,DS=ky+12|0,pC=ky+28|0,_c=+_e[pC>>2],m1=ky+32|0,B0=+_e[m1>>2],b0=(l[s_>>2]=q2,+_e[s_>>2]-(pa*_c-f0*B0)),B0=(l[s_>>2]=t0,+_e[s_>>2]-(f0*_c+pa*B0)),b0=+b0,B0=+B0,t0=DS,_e[t0>>2]=b0,_e[t0+4>>2]=B0,t0=Ay+60|0,B0=+_e[t0>>2],!(B0<1)){L_=259;break}if(D0=(Z1-B0)/(1-B0),DB=Ay+44|0,e0=Ay+36|0,b0=+_e[e0>>2],T4=Ay+48|0,GS=Ay+40|0,f0=+_e[GS>>2],_c=D0*(+_e[T4>>2]-f0),_e[e0>>2]=b0+D0*(+_e[DB>>2]-b0),_e[GS>>2]=f0+_c,GS=Ay+56|0,e0=Ay+52|0,_c=+_e[e0>>2],_c=_c+D0*(+_e[GS>>2]-_c),_e[e0>>2]=_c,_e[t0>>2]=Z1,t0=Ay+36|0,e0=l[t0>>2]|0,t0=l[t0+4>>2]|0,cC=Ay+44|0,l[cC>>2]=e0,l[cC+4>>2]=t0,_e[GS>>2]=_c,D0=+F2(+_c),cC=Ay+20|0,_e[cC>>2]=D0,_c=+V2(+_c),pA=Ay+24|0,_e[pA>>2]=_c,q2=Ay+12|0,cA=Ay+28|0,f0=+_e[cA>>2],qy=Ay+32|0,b0=+_e[qy>>2],pa=(l[s_>>2]=e0,+_e[s_>>2]-(_c*f0-D0*b0)),b0=(l[s_>>2]=t0,+_e[s_>>2]-(D0*f0+_c*b0)),pa=+pa,b0=+b0,t0=q2,_e[t0>>2]=pa,_e[t0+4>>2]=b0,xG(Vy,l[A2>>2]|0),t0=Vy+4|0,e0=l[t0>>2]|0,l[t0>>2]=e0&-33,u0=Vy+128|0,l[u0>>2]=(l[u0>>2]|0)+1,(e0&6|0)!=6){l[t0>>2]=e0&-37,t0=M0+0|0,e0=g_+0|0,u0=t0+36|0;do l[t0>>2]=l[e0>>2],t0=t0+4|0,e0=e0+4|0;while((t0|0)<(u0|0));t0=x0+0|0,e0=f_+0|0,u0=t0+36|0;do l[t0>>2]=l[e0>>2],t0=t0+4|0,e0=e0+4|0;while((t0|0)<(u0|0));f0=+_e[ty>>2],pa=+F2(+f0),_e[FA>>2]=pa,f0=+V2(+f0),_e[iB>>2]=f0,b0=+_e[pC>>2],_c=+_e[m1>>2],D0=+(+_e[Zy>>2]-(f0*b0-pa*_c)),_c=+(+_e[_x>>2]-(pa*b0+f0*_c)),_e[DS>>2]=D0,_e[DS+4>>2]=_c,_c=+_e[GS>>2],D0=+F2(+_c),_e[cC>>2]=D0,_c=+V2(+_c),_e[pA>>2]=_c,f0=+_e[cA>>2],b0=+_e[qy>>2],pa=+(+_e[DB>>2]-(_c*f0-D0*b0)),b0=+(+_e[T4>>2]-(D0*f0+_c*b0)),_e[q2>>2]=pa,_e[q2+4>>2]=b0;continue}for(e0=ky+4|0,u0=o_[e0>>1]|0,u0&2||(_i[e0>>1]=u0|2,_e[ky+144>>2]=0),x0=Ay+4|0,u0=o_[x0>>1]|0,u0&2||(_i[x0>>1]=u0|2,_e[Ay+144>>2]=0),l[_1>>2]=0,l[yy>>2]=0,l[dy>>2]=0,eD(M_,ky),eD(M_,Ay),MG(M_,Vy),_i[e0>>1]=o_[e0>>1]|1,_i[x0>>1]=o_[x0>>1]|1,l[t0>>2]=l[t0>>2]|1,l[A_>>2]=ky,l[wy>>2]=Ay,t0=ky,Vy=1;;){e:do if((l[t0>>2]|0)==2&&(w_=l[t0+112>>2]|0,(w_|0)!=0)){ty=t0+4|0,M0=w_;do{if((l[_1>>2]|0)==(l[I0>>2]|0)||(l[yy>>2]|0)==(l[hy>>2]|0))break e;FA=l[M0+4>>2]|0,_x=FA+4|0;o:do if(!(l[_x>>2]&1)){x0=l[M0>>2]|0;do if((l[x0>>2]|0)==2){if(_i[ty>>1]&8)break;if(!(_i[x0+4>>1]&8))break o}while(!1);if(_o[(l[FA+48>>2]|0)+38>>0]|0||_o[(l[FA+52>>2]|0)+38>>0]|0)break;Zy=x0+28|0,t0=I_+0|0,e0=Zy+0|0,u0=t0+36|0;do l[t0>>2]=l[e0>>2],t0=t0+4|0,e0=e0+4|0;while((t0|0)<(u0|0));if(t0=x0+4|0,!(_i[t0>>1]&1)){if(e0=x0+60|0,B0=+_e[e0>>2],!(B0<1)){L_=280;break t}D0=(Z1-B0)/(1-B0),q2=x0+36|0,b0=+_e[q2>>2],cA=x0+40|0,f0=+_e[cA>>2],_c=D0*(+_e[x0+48>>2]-f0),_e[q2>>2]=b0+D0*(+_e[x0+44>>2]-b0),_e[cA>>2]=f0+_c,cA=x0+56|0,q2=x0+52|0,_c=+_e[q2>>2],_c=_c+D0*(+_e[cA>>2]-_c),_e[q2>>2]=_c,_e[e0>>2]=Z1,q2=x0+36|0,qy=l[q2>>2]|0,q2=l[q2+4>>2]|0,pA=x0+44|0,l[pA>>2]=qy,l[pA+4>>2]=q2,_e[cA>>2]=_c,D0=+F2(+_c),_e[x0+20>>2]=D0,_c=+V2(+_c),_e[x0+24>>2]=_c,f0=+_e[x0+28>>2],b0=+_e[x0+32>>2],pa=(l[s_>>2]=qy,+_e[s_>>2]-(_c*f0-D0*b0)),b0=(l[s_>>2]=q2,+_e[s_>>2]-(D0*f0+_c*b0)),pa=+pa,b0=+b0,q2=x0+12|0,_e[q2>>2]=pa,_e[q2+4>>2]=b0}if(xG(FA,l[A2>>2]|0),e0=l[_x>>2]|0,!(e0&4)){t0=Zy+0|0,e0=I_+0|0,u0=t0+36|0;do l[t0>>2]=l[e0>>2],t0=t0+4|0,e0=e0+4|0;while((t0|0)<(u0|0));_c=+_e[x0+56>>2],D0=+F2(+_c),_e[x0+20>>2]=D0,_c=+V2(+_c),_e[x0+24>>2]=_c,f0=+_e[x0+28>>2],b0=+_e[x0+32>>2],pa=+(+_e[x0+44>>2]-(_c*f0-D0*b0)),b0=+(+_e[x0+48>>2]-(D0*f0+_c*b0)),q2=x0+12|0,_e[q2>>2]=pa,_e[q2+4>>2]=b0;break}if(!(e0&2)){t0=Zy+0|0,e0=I_+0|0,u0=t0+36|0;do l[t0>>2]=l[e0>>2],t0=t0+4|0,e0=e0+4|0;while((t0|0)<(u0|0));_c=+_e[x0+56>>2],D0=+F2(+_c),_e[x0+20>>2]=D0,_c=+V2(+_c),_e[x0+24>>2]=_c,f0=+_e[x0+28>>2],b0=+_e[x0+32>>2],pa=+(+_e[x0+44>>2]-(_c*f0-D0*b0)),b0=+(+_e[x0+48>>2]-(D0*f0+_c*b0)),q2=x0+12|0,_e[q2>>2]=pa,_e[q2+4>>2]=b0;break}if(l[_x>>2]=e0|1,MG(M_,FA),e0=o_[t0>>1]|0,e0&1)break;_i[t0>>1]=e0|1;do if(l[x0>>2]|0){if(e0&2)break;_i[t0>>1]=e0|3,_e[x0+144>>2]=0}while(!1);eD(M_,x0)}while(!1);M0=l[M0+12>>2]|0}while((M0|0)!=0)}while(!1);if((Vy|0)>=2)break;t0=l[A_+(Vy<<2)>>2]|0,Vy=Vy+1|0}if(Z1=(1-Z1)*_t,B0=1/Z1,Vy=l[ky+8>>2]|0,ky=l[Ay+8>>2]|0,M0=l[_1>>2]|0,(M0|0)<=(Vy|0)){L_=295;break}if((M0|0)<=(ky|0)){L_=300;break}if(Ay=(M0|0)>0,Ay){u0=l[H0>>2]|0,e0=l[ey>>2]|0,t0=l[_l>>2]|0,x0=0;do q2=l[u0+(x0<<2)>>2]|0,qy=q2+44|0,cA=l[qy+4>>2]|0,pA=e0+(x0*12|0)|0,l[pA>>2]=l[qy>>2],l[pA+4>>2]=cA,_e[e0+(x0*12|0)+8>>2]=+_e[q2+56>>2],pA=q2+64|0,cA=l[pA+4>>2]|0,qy=t0+(x0*12|0)|0,l[qy>>2]=l[pA>>2],l[qy+4>>2]=cA,_e[t0+(x0*12|0)+8>>2]=+_e[q2+72>>2],x0=x0+1|0;while((x0|0)<(M0|0))}else e0=l[ey>>2]|0,t0=l[_l>>2]|0;l[T0>>2]=l[c0>>2],l[P0>>2]=l[yy>>2],l[C0>>2]=l[M_>>2],_e[J_>>2]=Z1,_e[_0>>2]=B0,_e[_p>>2]=1,l[j2>>2]=_r,l[B2>>2]=20,_o[x2>>0]=0,_o[L2+0>>0]=_o[R_+0>>0]|0,_o[L2+1>>0]=_o[R_+1>>0]|0,_o[L2+2>>0]=_o[R_+2>>0]|0,l[O2>>2]=e0,l[P2>>2]=t0,EJ(V_,J_),M0=l[k2>>2]|0,x0=(M0|0)>0,ty=l[Y2>>2]|0,Zy=l[d2>>2]|0,u0=0;do{if(x0){_x=0,VA=0;do{if(T4=ty+(_x*88|0)|0,m1=l[ty+(_x*88|0)+32>>2]|0,pC=l[ty+(_x*88|0)+36>>2]|0,DS=ty+(_x*88|0)+48|0,t1=+_e[DS>>2],_v=+_e[DS+4>>2],DS=ty+(_x*88|0)+56|0,cy=+_e[DS>>2],p1=+_e[DS+4>>2],DS=l[ty+(_x*88|0)+84>>2]|0,(m1|0)==(Vy|0)|(m1|0)==(ky|0)?(B0=+_e[ty+(_x*88|0)+64>>2],$y=+_e[ty+(_x*88|0)+40>>2]):(B0=0,$y=0),(pC|0)==(Vy|0)|(pC|0)==(ky|0)?(Ty=+_e[ty+(_x*88|0)+68>>2],_g=+_e[ty+(_x*88|0)+44>>2]):(Ty=0,_g=0),FA=Zy+(m1*12|0)|0,iB=FA,B1=+_e[iB>>2],F1=+_e[iB+4>>2],iB=Zy+(m1*12|0)+8|0,R1=+_e[iB>>2],m1=Zy+(pC*12|0)|0,q2=m1,_A=+_e[q2>>2],aA=+_e[q2+4>>2],pC=Zy+(pC*12|0)+8|0,tA=+_e[pC>>2],(DS|0)>0){MS=$y+_g,DB=0;do c1=+F2(+R1),_e[S2>>2]=c1,ly=+V2(+R1),_e[c2>>2]=ly,l1=+F2(+tA),_e[r2>>2]=l1,x1=+V2(+tA),_e[_s>>2]=x1,HA=+(B1-(t1*ly-_v*c1)),c1=+(F1-(_v*ly+t1*c1)),q2=c_,_e[q2>>2]=HA,_e[q2+4>>2]=c1,c1=+(_A-(cy*x1-p1*l1)),l1=+(aA-(p1*x1+cy*l1)),q2=u_,_e[q2>>2]=c1,_e[q2+4>>2]=l1,WJ(x_,T4,c_,u_,DB),q2=x_,l1=+_e[q2>>2],c1=+_e[q2+4>>2],q2=g2,x1=+_e[q2>>2],HA=+_e[q2+4>>2],ly=+_e[f2>>2],lS=x1-B1,TA=HA-F1,x1=x1-_A,HA=HA-aA,VA=VA<ly?VA:ly,ly=(ly+.004999999888241291)*.75,ly=ly<0?ly:0,my=c1*lS-l1*TA,b0=c1*x1-l1*HA,my=b0*Ty*b0+(MS+my*B0*my),my>0?ly=-(ly<-.20000000298023224?-.20000000298023224:ly)/my:ly=0,b0=l1*ly,pa=c1*ly,B1=B1-$y*b0,F1=F1-$y*pa,R1=R1-B0*(lS*pa-TA*b0),_A=_A+_g*b0,aA=aA+_g*pa,tA=tA+Ty*(x1*pa-HA*b0),DB=DB+1|0;while((DB|0)!=(DS|0))}b0=+B1,pa=+F1,q2=FA,_e[q2>>2]=b0,_e[q2+4>>2]=pa,_e[iB>>2]=R1,pa=+_A,b0=+aA,q2=m1,_e[q2>>2]=pa,_e[q2+4>>2]=b0,_e[pC>>2]=tA,_x=_x+1|0}while((_x|0)<(M0|0))}else VA=0;u0=u0+1|0}while(!(VA>=-.007499999832361937)&(u0|0)<20);if(q2=l[H0>>2]|0,pA=q2+(Vy<<2)|0,cC=e0+(Vy*12|0)|0,qy=l[cC+4>>2]|0,cA=(l[pA>>2]|0)+36|0,l[cA>>2]=l[cC>>2],l[cA+4>>2]=qy,_e[(l[pA>>2]|0)+52>>2]=+_e[e0+(Vy*12|0)+8>>2],q2=q2+(ky<<2)|0,pA=e0+(ky*12|0)|0,cA=l[pA+4>>2]|0,qy=(l[q2>>2]|0)+36|0,l[qy>>2]=l[pA>>2],l[qy+4>>2]=cA,_e[(l[q2>>2]|0)+52>>2]=+_e[e0+(ky*12|0)+8>>2],jJ(V_),EI){Vy=0;do zJ(V_),Vy=Vy+1|0;while((Vy|0)<(_r|0))}if(Ay){Vy=0;do Ay=e0+(Vy*12|0)|0,q2=Ay,Ty=+_e[q2>>2],B0=+_e[q2+4>>2],_g=+_e[e0+(Vy*12|0)+8>>2],q2=t0+(Vy*12|0)|0,t1=+_e[q2>>2],$y=+_e[q2+4>>2],p1=+_e[t0+(Vy*12|0)+8>>2],b0=Z1*t1,cy=Z1*$y,cy=b0*b0+cy*cy,cy>4&&(b0=2/+G2(+cy),t1=t1*b0,$y=$y*b0),cy=Z1*p1,cy*cy>2.4674012660980225&&(cy>0||(cy=-cy),p1=p1*(1.5707963705062866/cy)),pa=Ty+Z1*t1,_d=B0+Z1*$y,_c=_g+Z1*p1,Fy=+pa,b0=+_d,e0=Ay,_e[e0>>2]=Fy,_e[e0+4>>2]=b0,e0=l[ey>>2]|0,_e[e0+(Vy*12|0)+8>>2]=_c,t0=l[_l>>2]|0,f0=+t1,D0=+$y,q2=t0+(Vy*12|0)|0,_e[q2>>2]=f0,_e[q2+4>>2]=D0,_e[t0+(Vy*12|0)+8>>2]=p1,q2=l[(l[H0>>2]|0)+(Vy<<2)>>2]|0,qy=q2+44|0,_e[qy>>2]=Fy,_e[qy+4>>2]=b0,_e[q2+56>>2]=_c,qy=q2+64|0,_e[qy>>2]=f0,_e[qy+4>>2]=D0,_e[q2+72>>2]=p1,D0=+F2(+_c),_e[q2+20>>2]=D0,_c=+V2(+_c),_e[q2+24>>2]=_c,f0=+_e[q2+28>>2],b0=+_e[q2+32>>2],pa=+(pa-(_c*f0-D0*b0)),b0=+(_d-(D0*f0+_c*b0)),q2=q2+12|0,_e[q2>>2]=pa,_e[q2+4>>2]=b0,Vy=Vy+1|0;while((Vy|0)<(l[_1>>2]|0))}if(q2=l[zS>>2]|0,uI(M_,q2),ky=l[w2>>2]|0,PC(ky,q2),PC(ky,l[Y2>>2]|0),ky=l[_1>>2]|0,(ky|0)>0){Ay=l[H0>>2]|0,Vy=0;do{t0=l[Ay+(Vy<<2)>>2]|0,q2=t0+4|0,_i[q2>>1]=o_[q2>>1]&65534;do if((l[t0>>2]|0)==2){if(nI(t0),t0=l[t0+112>>2]|0,!t0)break;do q2=(l[t0+4>>2]|0)+4|0,l[q2>>2]=l[q2>>2]&-34,t0=l[t0+12>>2]|0;while((t0|0)!=0)}while(!1);Vy=Vy+1|0}while((Vy|0)<(ky|0))}if(vG(z_),_o[C2>>0]|0){L_=332;break}}switch(L_|0){case 158:{X2(11752,11552,641,11808);break}case 163:{X2(11824,12336,704,12376);break}case 167:{X2(11824,12336,704,12376);break}case 170:{X2(11824,11552,676,11808);break}case 172:{X2(6696,6720,279,6768);break}case 177:{X2(6920,6720,52,16752);break}case 180:{X2(6800,6832,103,6880);break}case 182:{X2(6800,6832,103,6880);break}case 187:{X2(6800,6832,103,6880);break}case 189:{X2(6800,6832,103,6880);break}case 193:{X2(6800,6832,103,6880);break}case 197:{X2(6800,6832,103,6880);break}case 199:{X2(6800,6832,103,6880);break}case 203:{X2(6800,6832,103,6880);break}case 214:{X2(6800,6832,103,6880);break}case 216:{X2(6800,6832,103,6880);break}case 223:{X2(6800,6832,103,6880);break}case 230:{X2(6800,6832,103,6880);break}case 232:{X2(15688,6720,186,6896);break}case 255:{_o[b2>>0]=1;break}case 257:{X2(11824,12336,704,12376);break}case 259:{X2(11824,12336,704,12376);break}case 280:{X2(11824,12336,704,12376);break}case 295:{X2(11432,11456,386,11808);break}case 300:{X2(11504,11456,387,11808);break}case 332:{_o[b2>>0]=0;break}}bI(M_),_e[_+103024>>2]=0,L_=334}}else L_=334;if((L_|0)==334&&Q_&&(_e[n2>>2]=o2),__=l[n_>>2]|0,!(__&4)){q2=__&-3,l[n_>>2]=q2,q2=_+102996|0,_e[q2>>2]=0,ws=e_;return}if(c_=l[_+102952>>2]|0,!c_){q2=__&-3,l[n_>>2]=q2,q2=_+102996|0,_e[q2>>2]=0,ws=e_;return}do _e[c_+76>>2]=0,_e[c_+80>>2]=0,_e[c_+84>>2]=0,c_=l[c_+96>>2]|0;while((c_|0)!=0);q2=__&-3,l[n_>>2]=q2,q2=_+102996|0,_e[q2>>2]=0,ws=e_}function B4(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0;if(e_=ws,ws=ws+112|0,g_=e_+16|0,A_=e_+88|0,x_=e_+96|0,u_=e_+104|0,n_=e_+8|0,__=e_,c_=e_+24|0,V_=l[_t+4>>2]|0,(V_|0)==3){if(c_=l[_t+16>>2]|0,x_=l[_t+12>>2]|0,_t=_r+12|0,f_=+_e[_t>>2],w_=+_e[x_>>2],g_=_r+8|0,I_=+_e[g_>>2],M_=+_e[x_+4>>2],J_=+_e[_r>>2],A_=_r+4|0,R_=+_e[A_>>2],_e[n_>>2]=J_+(f_*w_-I_*M_),_e[n_+4>>2]=w_*I_+f_*M_+R_,(c_|0)<=1){ws=e_;return}for(u_=__+4|0,_=_+102984|0,V_=1;M_=+_e[x_+(V_<<3)>>2],w_=+_e[x_+(V_<<3)+4>>2],_e[__>>2]=J_+(f_*M_-I_*w_),_e[u_>>2]=M_*I_+f_*w_+R_,o2=l[_>>2]|0,M1[l[(l[o2>>2]|0)+24>>2]&63](o2,n_,__,_s),o2=l[_>>2]|0,FG[l[(l[o2>>2]|0)+16>>2]&63](o2,n_,.05000000074505806,_s),o2=__,Q_=l[o2+4>>2]|0,L_=n_,l[L_>>2]=l[o2>>2],l[L_+4>>2]=Q_,V_=V_+1|0,(V_|0)!=(c_|0);)f_=+_e[_t>>2],I_=+_e[g_>>2],J_=+_e[_r>>2],R_=+_e[A_>>2];ws=e_;return}else if(V_)if((V_|0)==2){if(n_=l[_t+148>>2]|0,(n_|0)>=9&&X2(11840,11552,1077,11864),(n_|0)>0){__=_t+20|0,I_=+_e[_r+12>>2],R_=+_e[_r+8>>2],f_=+_e[_r>>2],J_=+_e[_r+4>>2],_r=0;do z_=+_e[__+(_r<<3)>>2],w_=+_e[__+(_r<<3)+4>>2],M_=+(f_+(I_*z_-R_*w_)),w_=+(z_*R_+I_*w_+J_),o2=c_+(_r<<3)|0,_e[o2>>2]=M_,_e[o2+4>>2]=w_,_r=_r+1|0;while((_r|0)!=(n_|0))}o2=l[_+102984>>2]|0,M1[l[(l[o2>>2]|0)+12>>2]&63](o2,c_,n_,_s),ws=e_;return}else if((V_|0)==1){M_=+_e[_r+12>>2],w_=+_e[_t+12>>2],J_=+_e[_r+8>>2],R_=+_e[_t+16>>2],I_=+_e[_r>>2],z_=+_e[_r+4>>2],_e[x_>>2]=I_+(M_*w_-J_*R_),_e[x_+4>>2]=w_*J_+M_*R_+z_,o2=_t+20|0,R_=+_e[o2>>2],w_=+_e[o2+4>>2],_e[u_>>2]=I_+(M_*R_-J_*w_),_e[u_+4>>2]=R_*J_+M_*w_+z_,o2=l[_+102984>>2]|0,M1[l[(l[o2>>2]|0)+24>>2]&63](o2,x_,u_,_s),ws=e_;return}else{ws=e_;return}else{M_=+_e[_r+12>>2],I_=+_e[_t+12>>2],J_=+_e[_r+8>>2],R_=+_e[_t+16>>2],w_=I_*J_+M_*R_+ +_e[_r+4>>2],_e[g_>>2]=+_e[_r>>2]+(M_*I_-J_*R_),_e[g_+4>>2]=w_,w_=+_e[_t+8>>2],_e[A_>>2]=M_-J_*0,_e[A_+4>>2]=J_+M_*0,o2=l[_+102984>>2]|0,TG[l[(l[o2>>2]|0)+20>>2]&63](o2,g_,w_,A_,_s),ws=e_;return}}function LX(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;return _=ws,_s=_i[_t+36>>1]|0,_s<<16>>16==0||_s<<16>>16!=(_i[_r+36>>1]|0)?(_i[_r+32>>1]&_i[_t+34>>1])<<16>>16?(_s=(_i[_r+34>>1]&_i[_t+32>>1])<<16>>16!=0,ws=_,_s|0):(_s=0,ws=_,_s|0):(_s=_s<<16>>16>0,ws=_,_s|0)}function kX(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0;if(n_=ws,e_=k1(e_,148)|0,!e_)return __=0,ws=n_,__|0;l[e_+4>>2]=4,l[e_+48>>2]=_,l[e_+52>>2]=_r,l[e_+56>>2]=_t,l[e_+60>>2]=_s,l[e_+124>>2]=0,l[e_+128>>2]=0,_s=_+16|0,__=e_+8|0,_t=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_t|0));if(_e[e_+136>>2]=+G2(+(+_e[_s>>2]*+_e[_r+16>>2])),u_=+_e[_+20>>2],c_=+_e[_r+20>>2],_e[e_+140>>2]=u_>c_?u_:c_,_e[e_+144>>2]=0,l[e_>>2]=12600,(l[(l[_+12>>2]|0)+4>>2]|0)!=3&&X2(12808,12616,42,12688),l[(l[_r+12>>2]|0)+4>>2]|0)X2(14416,12616,43,12688);else return __=e_,ws=n_,__|0;return 0}function qX(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,_y[l[(l[_>>2]|0)+4>>2]&127](_),H1(_t,_,148),ws=_r}function EX(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0;e_=ws,ws=ws+48|0,n_=e_,__=l[(l[_+48>>2]|0)+12>>2]|0,l[n_>>2]=7472,l[n_+4>>2]=1,_e[n_+8>>2]=.009999999776482582,c_=n_+28|0,l[c_+0>>2]=0,l[c_+4>>2]=0,l[c_+8>>2]=0,l[c_+12>>2]=0,_i[c_+16>>1]=0,gG(__,n_,l[_+56>>2]|0),OJ(_t,n_,_r,l[(l[_+52>>2]|0)+12>>2]|0,_s),ws=e_}function jX(_){_=_|0}function zX(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function WX(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0;if(n_=ws,e_=k1(e_,148)|0,!e_)return __=0,ws=n_,__|0;l[e_+4>>2]=4,l[e_+48>>2]=_,l[e_+52>>2]=_r,l[e_+56>>2]=_t,l[e_+60>>2]=_s,l[e_+124>>2]=0,l[e_+128>>2]=0,_s=_+16|0,__=e_+8|0,_t=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_t|0));return _e[e_+136>>2]=+G2(+(+_e[_s>>2]*+_e[_r+16>>2])),u_=+_e[_+20>>2],c_=+_e[_r+20>>2],_e[e_+140>>2]=u_>c_?u_:c_,_e[e_+144>>2]=0,l[e_>>2]=12792,(l[(l[_+12>>2]|0)+4>>2]|0)!=3&&X2(12808,12856,42,12928),(l[(l[_r+12>>2]|0)+4>>2]|0)==2?(__=e_,ws=n_,__|0):(X2(14672,12856,43,12928),0)}function NX(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,_y[l[(l[_>>2]|0)+4>>2]&127](_),H1(_t,_,148),ws=_r}function OX(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0;e_=ws,ws=ws+48|0,n_=e_,__=l[(l[_+48>>2]|0)+12>>2]|0,l[n_>>2]=7472,l[n_+4>>2]=1,_e[n_+8>>2]=.009999999776482582,c_=n_+28|0,l[c_+0>>2]=0,l[c_+4>>2]=0,l[c_+8>>2]=0,l[c_+12>>2]=0,_i[c_+16>>1]=0,gG(__,n_,l[_+56>>2]|0),UJ(_t,n_,_r,l[(l[_+52>>2]|0)+12>>2]|0,_s),ws=e_}function UX(_){_=_|0}function XX(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function YX(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0;if(_t=ws,e_=k1(e_,148)|0,!e_)return __=0,ws=_t,__|0;l[e_+4>>2]=4,l[e_+48>>2]=_,l[e_+52>>2]=_r,l[e_+56>>2]=0,l[e_+60>>2]=0,l[e_+124>>2]=0,l[e_+128>>2]=0,n_=_+16|0,__=e_+8|0,_s=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_s|0));if(_e[e_+136>>2]=+G2(+(+_e[n_>>2]*+_e[_r+16>>2])),u_=+_e[_+20>>2],c_=+_e[_r+20>>2],_e[e_+140>>2]=u_>c_?u_:c_,_e[e_+144>>2]=0,l[e_>>2]=13016,l[(l[_+12>>2]|0)+4>>2]|0&&X2(13032,13080,43,13144),l[(l[_r+12>>2]|0)+4>>2]|0)X2(14416,13080,44,13144);else return __=e_,ws=_t,__|0;return 0}function HX(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,_y[l[(l[_>>2]|0)+4>>2]&127](_),H1(_t,_,148),ws=_r}function ZX(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0;if(e_=ws,g_=l[(l[_+48>>2]|0)+12>>2]|0,A_=l[(l[_+52>>2]|0)+12>>2]|0,n_=_t+60|0,l[n_>>2]=0,_=g_+12|0,c_=+_e[_r+12>>2],I_=+_e[_>>2],f_=+_e[_r+8>>2],u_=+_e[g_+16>>2],__=A_+12|0,J_=+_e[_s+12>>2],M_=+_e[__>>2],V_=+_e[_s+8>>2],R_=+_e[A_+16>>2],x_=+_e[_s>>2]+(J_*M_-V_*R_)-(+_e[_r>>2]+(c_*I_-f_*u_)),u_=M_*V_+J_*R_+ +_e[_s+4>>2]-(I_*f_+c_*u_+ +_e[_r+4>>2]),c_=+_e[g_+8>>2]+ +_e[A_+8>>2],x_*x_+u_*u_>c_*c_){ws=e_;return}l[_t+56>>2]=0,g_=l[_+4>>2]|0,A_=_t+48|0,l[A_>>2]=l[_>>2],l[A_+4>>2]=g_,_e[_t+40>>2]=0,_e[_t+44>>2]=0,l[n_>>2]=1,A_=l[__+4>>2]|0,g_=_t,l[g_>>2]=l[__>>2],l[g_+4>>2]=A_,l[_t+16>>2]=0,ws=e_}function KX(_){_=_|0}function QX(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function xG(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0;_s=ws,ws=ws+192|0,A_=_s+100|0,f_=_s+88|0,x_=_s+64|0,_r=_s,g_=_+64|0,e_=_r+0|0,__=g_+0|0,n_=e_+64|0;do l[e_>>2]=l[__>>2],e_=e_+4|0,__=__+4|0;while((e_|0)<(n_|0));if(n_=_+4|0,u_=l[n_>>2]|0,l[n_>>2]=u_|4,u_=u_>>>1,I_=l[_+48>>2]|0,R_=l[_+52>>2]|0,e_=(_o[R_+38>>0]|_o[I_+38>>0])<<24>>24!=0,c_=l[I_+8>>2]|0,__=l[R_+8>>2]|0,J_=c_+12|0,V_=__+12|0,e_)I_=l[I_+12>>2]|0,M_=l[R_+12>>2]|0,R_=l[_+56>>2]|0,w_=l[_+60>>2]|0,l[A_+16>>2]=0,l[A_+20>>2]=0,_e[A_+24>>2]=0,l[A_+44>>2]=0,l[A_+48>>2]=0,_e[A_+52>>2]=0,tD(A_,I_,R_),tD(A_+28|0,M_,w_),w_=A_+56|0,l[w_+0>>2]=l[J_+0>>2],l[w_+4>>2]=l[J_+4>>2],l[w_+8>>2]=l[J_+8>>2],l[w_+12>>2]=l[J_+12>>2],w_=A_+72|0,l[w_+0>>2]=l[V_+0>>2],l[w_+4>>2]=l[V_+4>>2],l[w_+8>>2]=l[V_+8>>2],l[w_+12>>2]=l[V_+12>>2],_o[A_+88>>0]=1,_i[f_+4>>1]=0,YJ(x_,f_,A_),x_=+_e[x_+16>>2]<11920928955078125e-22,l[_+124>>2]=0,u_=u_&1;else{if(M1[l[l[_>>2]>>2]&63](_,g_,J_,V_),R_=_+124|0,x_=(l[R_>>2]|0)>0,x_){V_=l[_r+60>>2]|0,M_=(V_|0)>0,I_=0;do{f_=_+(I_*20|0)+72|0,_e[f_>>2]=0,g_=_+(I_*20|0)+76|0,_e[g_>>2]=0,A_=l[_+(I_*20|0)+80>>2]|0;t:do if(M_){for(w_=0;J_=w_+1|0,(l[_r+(w_*20|0)+16>>2]|0)!=(A_|0);)if((J_|0)<(V_|0))w_=J_;else break t;_e[f_>>2]=+_e[_r+(w_*20|0)+8>>2],_e[g_>>2]=+_e[_r+(w_*20|0)+12>>2]}while(!1);I_=I_+1|0}while((I_|0)<(l[R_>>2]|0))}u_=u_&1,x_^(u_|0)!=0&&(g_=c_+4|0,A_=o_[g_>>1]|0,A_&2||(_i[g_>>1]=A_|2,_e[c_+144>>2]=0),A_=__+4|0,c_=o_[A_>>1]|0,c_&2||(_i[A_>>1]=c_|2,_e[__+144>>2]=0))}if(__=l[n_>>2]|0,l[n_>>2]=x_?__|2:__&-3,n_=(u_|0)==0,__=x_^1,c_=(_t|0)==0,n_^1|__|c_||vy[l[(l[_t>>2]|0)+8>>2]&127](_t,_),n_|x_|c_||vy[l[(l[_t>>2]|0)+12>>2]&127](_t,_),e_|__|c_){ws=_s;return}M4[l[(l[_t>>2]|0)+16>>2]&63](_t,_,_r),ws=_s}function EJ(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0;if(_r=ws,l[_+0>>2]=l[_t+0>>2],l[_+4>>2]=l[_t+4>>2],l[_+8>>2]=l[_t+8>>2],l[_+12>>2]=l[_t+12>>2],l[_+16>>2]=l[_t+16>>2],l[_+20>>2]=l[_t+20>>2],I_=l[_t+40>>2]|0,u_=_+32|0,l[u_>>2]=I_,_s=l[_t+28>>2]|0,n_=_+48|0,l[n_>>2]=_s,e_=_+36|0,l[e_>>2]=wB(I_,_s*88|0)|0,_s=_+40|0,l[_s>>2]=wB(l[u_>>2]|0,(l[n_>>2]|0)*156|0)|0,l[_+24>>2]=l[_t+32>>2],l[_+28>>2]=l[_t+36>>2],u_=l[_t+24>>2]|0,_t=_+44|0,l[_t>>2]=u_,(l[n_>>2]|0)<=0){ws=_r;return}for(__=_+20|0,_=_+8|0,c_=0;;){if(x_=l[u_+(c_<<2)>>2]|0,A_=l[x_+48>>2]|0,g_=l[x_+52>>2]|0,I_=l[A_+8>>2]|0,f_=l[g_+8>>2]|0,u_=l[x_+124>>2]|0,(u_|0)<=0){_s=4;break}R_=+_e[(l[g_+12>>2]|0)+8>>2],J_=+_e[(l[A_+12>>2]|0)+8>>2],g_=l[_s>>2]|0,_e[g_+(c_*156|0)+136>>2]=+_e[x_+136>>2],_e[g_+(c_*156|0)+140>>2]=+_e[x_+140>>2],_e[g_+(c_*156|0)+144>>2]=+_e[x_+144>>2],o2=I_+8|0,l[g_+(c_*156|0)+112>>2]=l[o2>>2],Q_=f_+8|0,l[g_+(c_*156|0)+116>>2]=l[Q_>>2],w_=I_+120|0,_e[g_+(c_*156|0)+120>>2]=+_e[w_>>2],L_=f_+120|0,_e[g_+(c_*156|0)+124>>2]=+_e[L_>>2],M_=I_+128|0,_e[g_+(c_*156|0)+128>>2]=+_e[M_>>2],V_=f_+128|0,_e[g_+(c_*156|0)+132>>2]=+_e[V_>>2],l[g_+(c_*156|0)+152>>2]=c_,l[g_+(c_*156|0)+148>>2]=u_,A_=g_+(c_*156|0)+80|0,l[A_+0>>2]=0,l[A_+4>>2]=0,l[A_+8>>2]=0,l[A_+12>>2]=0,l[A_+16>>2]=0,l[A_+20>>2]=0,l[A_+24>>2]=0,l[A_+28>>2]=0,A_=l[e_>>2]|0,l[A_+(c_*88|0)+32>>2]=l[o2>>2],l[A_+(c_*88|0)+36>>2]=l[Q_>>2],_e[A_+(c_*88|0)+40>>2]=+_e[w_>>2],_e[A_+(c_*88|0)+44>>2]=+_e[L_>>2],L_=I_+28|0,I_=l[L_+4>>2]|0,w_=A_+(c_*88|0)+48|0,l[w_>>2]=l[L_>>2],l[w_+4>>2]=I_,w_=f_+28|0,I_=l[w_+4>>2]|0,f_=A_+(c_*88|0)+56|0,l[f_>>2]=l[w_>>2],l[f_+4>>2]=I_,_e[A_+(c_*88|0)+64>>2]=+_e[M_>>2],_e[A_+(c_*88|0)+68>>2]=+_e[V_>>2],f_=x_+104|0,I_=l[f_+4>>2]|0,V_=A_+(c_*88|0)+16|0,l[V_>>2]=l[f_>>2],l[V_+4>>2]=I_,V_=x_+112|0,I_=l[V_+4>>2]|0,f_=A_+(c_*88|0)+24|0,l[f_>>2]=l[V_>>2],l[f_+4>>2]=I_,l[A_+(c_*88|0)+84>>2]=u_,_e[A_+(c_*88|0)+76>>2]=J_,_e[A_+(c_*88|0)+80>>2]=R_,l[A_+(c_*88|0)+72>>2]=l[x_+120>>2],f_=0;do I_=x_+(f_*20|0)+64|0,_o[__>>0]|0?(_e[g_+(c_*156|0)+(f_*36|0)+16>>2]=+_e[_>>2]*+_e[x_+(f_*20|0)+72>>2],_e[g_+(c_*156|0)+(f_*36|0)+20>>2]=+_e[_>>2]*+_e[x_+(f_*20|0)+76>>2]):(_e[g_+(c_*156|0)+(f_*36|0)+16>>2]=0,_e[g_+(c_*156|0)+(f_*36|0)+20>>2]=0),L_=g_+(c_*156|0)+(f_*36|0)|0,_e[g_+(c_*156|0)+(f_*36|0)+24>>2]=0,_e[g_+(c_*156|0)+(f_*36|0)+28>>2]=0,_e[g_+(c_*156|0)+(f_*36|0)+32>>2]=0,o2=A_+(c_*88|0)+(f_<<3)|0,l[L_+0>>2]=0,l[L_+4>>2]=0,l[L_+8>>2]=0,l[L_+12>>2]=0,L_=I_,Q_=l[L_+4>>2]|0,l[o2>>2]=l[L_>>2],l[o2+4>>2]=Q_,f_=f_+1|0;while((f_|0)!=(u_|0));if(c_=c_+1|0,(c_|0)>=(l[n_>>2]|0)){_s=12;break}u_=l[_t>>2]|0}if((_s|0)==4)X2(13624,13640,73,13704);else if((_s|0)==12){ws=_r;return}}function jJ(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0,_p=0,_0=0,C0=0,P0=0,T0=0,c0=0;if(_t=ws,ws=ws+32|0,_s=_t,_r=_+48|0,(l[_r>>2]|0)<=0){ws=_t;return}for(__=_+40|0,n_=_+36|0,c_=_+44|0,e_=_+24|0,A_=_+28|0,_=_s+4|0,f_=_s+8|0,x_=_s+24|0,u_=0;;){if(g_=l[__>>2]|0,L2=l[n_>>2]|0,w2=l[(l[c_>>2]|0)+(l[g_+(u_*156|0)+152>>2]<<2)>>2]|0,B2=l[g_+(u_*156|0)+112>>2]|0,h2=l[g_+(u_*156|0)+116>>2]|0,A2=+_e[g_+(u_*156|0)+120>>2],b2=+_e[g_+(u_*156|0)+124>>2],I_=+_e[g_+(u_*156|0)+128>>2],R_=+_e[g_+(u_*156|0)+132>>2],j2=L2+(u_*88|0)+48|0,P2=+_e[j2>>2],Y2=+_e[j2+4>>2],j2=L2+(u_*88|0)+56|0,d2=+_e[j2>>2],O2=+_e[j2+4>>2],j2=l[e_>>2]|0,_p=j2+(B2*12|0)|0,Q_=+_e[_p>>2],o2=+_e[_p+4>>2],r2=+_e[j2+(B2*12|0)+8>>2],_p=l[A_>>2]|0,x2=_p+(B2*12|0)|0,V_=+_e[x2>>2],L_=+_e[x2+4>>2],M_=+_e[_p+(B2*12|0)+8>>2],B2=j2+(h2*12|0)|0,z_=+_e[B2>>2],H_=+_e[B2+4>>2],f2=+_e[j2+(h2*12|0)+8>>2],j2=_p+(h2*12|0)|0,n2=+_e[j2>>2],w_=+_e[j2+4>>2],J_=+_e[_p+(h2*12|0)+8>>2],h2=l[w2+124>>2]|0,(h2|0)<=0){_r=4;break}g2=+_e[L2+(u_*88|0)+80>>2],C2=+_e[L2+(u_*88|0)+76>>2],c2=+F2(+r2),S2=+V2(+r2),r2=+F2(+f2),f2=+V2(+f2),k2=Q_-(P2*S2-Y2*c2),P2=o2-(Y2*S2+P2*c2),Y2=z_-(d2*f2-O2*r2),d2=H_-(O2*f2+d2*r2),L2=l[w2+120>>2]|0;t:do if(!L2)_e[_s>>2]=1,_e[_>>2]=0,_0=+_e[w2+112>>2],O2=+_e[w2+116>>2],k2=k2+(S2*_0-c2*O2),c2=_0*c2+S2*O2+P2,O2=+_e[w2+64>>2],P2=+_e[w2+68>>2],S2=Y2+(f2*O2-r2*P2),r2=O2*r2+f2*P2+d2,P2=k2-S2,O2=c2-r2,P2*P2+O2*O2>14210854715202004e-30?(d2=S2-k2,f2=r2-c2,_0=+d2,Y2=+f2,_p=_s,_e[_p>>2]=_0,_e[_p+4>>2]=Y2,Y2=+G2(+(d2*d2+f2*f2)),Y2<11920928955078125e-23||(_0=1/Y2,d2=d2*_0,_e[_s>>2]=d2,f2=f2*_0,_e[_>>2]=f2)):(d2=1,f2=0),P2=k2+d2*C2,_0=c2+f2*C2,k2=S2-d2*g2,O2=r2-f2*g2,S2=+((P2+k2)*.5),Y2=+((_0+O2)*.5),_p=f_,_e[_p>>2]=S2,_e[_p+4>>2]=Y2,_e[x_>>2]=d2*(k2-P2)+f2*(O2-_0);else if((L2|0)==2){C0=+_e[w2+104>>2],_0=+_e[w2+108>>2],O2=f2*C0-r2*_0,_0=C0*r2+f2*_0,C0=+O2,P0=+_0,L2=_s,_e[L2>>2]=C0,_e[L2+4>>2]=P0,P0=+_e[w2+112>>2],C0=+_e[w2+116>>2],Y2=Y2+(f2*P0-r2*C0),d2=P0*r2+f2*C0+d2,f2=O2,r2=_0,L2=0;do P0=+_e[w2+(L2*20|0)+64>>2],C0=+_e[w2+(L2*20|0)+68>>2],O2=k2+(S2*P0-c2*C0),C0=P0*c2+S2*C0+P2,P0=g2-(f2*(O2-Y2)+(C0-d2)*r2),_0=O2+f2*P0,P0=C0+r2*P0,O2=O2-f2*C2,C0=C0-r2*C2,c0=+((O2+_0)*.5),T0=+((C0+P0)*.5),_p=_s+(L2<<3)+8|0,_e[_p>>2]=c0,_e[_p+4>>2]=T0,_e[_s+(L2<<2)+24>>2]=+_e[_s>>2]*(O2-_0)+ +_e[_>>2]*(C0-P0),L2=L2+1|0,f2=+_e[_s>>2],r2=+_e[_>>2];while((L2|0)<(h2|0));T0=+-f2,c0=+-r2,_p=_s,_e[_p>>2]=T0,_e[_p+4>>2]=c0}else if((L2|0)==1)for(P0=+_e[w2+104>>2],c0=+_e[w2+108>>2],T0=S2*P0-c2*c0,c0=P0*c2+S2*c0,P0=+T0,C0=+c0,L2=_s,_e[L2>>2]=P0,_e[L2+4>>2]=C0,C0=+_e[w2+112>>2],P0=+_e[w2+116>>2],k2=k2+(S2*C0-c2*P0),c2=C0*c2+S2*P0+P2,P2=T0,S2=c0,L2=0;;){if(c0=+_e[w2+(L2*20|0)+64>>2],T0=+_e[w2+(L2*20|0)+68>>2],C0=Y2+(f2*c0-r2*T0),T0=c0*r2+f2*T0+d2,c0=C2-(P2*(C0-k2)+(T0-c2)*S2),P0=C0+P2*c0,c0=T0+S2*c0,C0=C0-P2*g2,T0=T0-S2*g2,O2=+((C0+P0)*.5),_0=+((T0+c0)*.5),_p=_s+(L2<<3)+8|0,_e[_p>>2]=O2,_e[_p+4>>2]=_0,_e[_s+(L2<<2)+24>>2]=+_e[_s>>2]*(C0-P0)+ +_e[_>>2]*(T0-c0),L2=L2+1|0,(L2|0)>=(h2|0))break t;P2=+_e[_s>>2],S2=+_e[_>>2]}while(!1);h2=g_+(u_*156|0)+72|0,_p=_s,L2=l[_p+4>>2]|0,w2=h2,l[w2>>2]=l[_p>>2],l[w2+4>>2]=L2,w2=g_+(u_*156|0)+148|0,L2=l[w2>>2]|0;do if((L2|0)>0){x2=g_+(u_*156|0)+76|0,b2=A2+b2,B2=g_+(u_*156|0)+140|0,j2=0;do r2=+_e[_s+(j2<<3)+8>>2],g2=r2-Q_,T0=+_e[_s+(j2<<3)+12>>2],f2=+g2,C2=+(T0-o2),_p=g_+(u_*156|0)+(j2*36|0)|0,_e[_p>>2]=f2,_e[_p+4>>2]=C2,r2=r2-z_,C2=+r2,T0=+(T0-H_),_p=g_+(u_*156|0)+(j2*36|0)+8|0,_e[_p>>2]=C2,_e[_p+4>>2]=T0,T0=+_e[x2>>2],C2=+_e[g_+(u_*156|0)+(j2*36|0)+4>>2],f2=+_e[h2>>2],c0=g2*T0-C2*f2,A2=+_e[g_+(u_*156|0)+(j2*36|0)+12>>2],f2=T0*r2-f2*A2,f2=b2+c0*I_*c0+f2*R_*f2,f2>0?f2=1/f2:f2=0,_e[g_+(u_*156|0)+(j2*36|0)+24>>2]=f2,f2=+_e[x2>>2],T0=-+_e[h2>>2],c0=g2*T0-f2*C2,f2=r2*T0-f2*A2,f2=b2+c0*I_*c0+f2*R_*f2,f2>0?f2=1/f2:f2=0,_e[g_+(u_*156|0)+(j2*36|0)+28>>2]=f2,_p=g_+(u_*156|0)+(j2*36|0)+32|0,_e[_p>>2]=0,A2=+_e[h2>>2]*(n2-J_*A2-V_+M_*C2)+ +_e[x2>>2]*(w_+J_*r2-L_-M_*g2),A2<-1&&(_e[_p>>2]=-(A2*+_e[B2>>2])),j2=j2+1|0;while((j2|0)!=(L2|0));if((l[w2>>2]|0)==2){if(P0=+_e[x2>>2],V_=+_e[h2>>2],C0=+_e[g_+(u_*156|0)>>2]*P0-+_e[g_+(u_*156|0)+4>>2]*V_,J_=P0*+_e[g_+(u_*156|0)+8>>2]-V_*+_e[g_+(u_*156|0)+12>>2],T0=P0*+_e[g_+(u_*156|0)+36>>2]-V_*+_e[g_+(u_*156|0)+40>>2],V_=P0*+_e[g_+(u_*156|0)+44>>2]-V_*+_e[g_+(u_*156|0)+48>>2],P0=I_*C0,c0=R_*J_,J_=b2+C0*P0+J_*c0,I_=b2+T0*I_*T0+V_*R_*V_,R_=b2+P0*T0+c0*V_,V_=J_*I_-R_*R_,!(J_*J_<V_*1e3)){l[w2>>2]=1;break}_e[g_+(u_*156|0)+96>>2]=J_,_e[g_+(u_*156|0)+100>>2]=R_,_e[g_+(u_*156|0)+104>>2]=R_,_e[g_+(u_*156|0)+108>>2]=I_,V_!=0&&(V_=1/V_),c0=-(V_*R_),_e[g_+(u_*156|0)+80>>2]=I_*V_,_e[g_+(u_*156|0)+84>>2]=c0,_e[g_+(u_*156|0)+88>>2]=c0,_e[g_+(u_*156|0)+92>>2]=J_*V_}}while(!1);if(u_=u_+1|0,(u_|0)>=(l[_r>>2]|0)){_r=32;break}}if((_r|0)==4)X2(13720,13640,171,13752);else if((_r|0)==32){ws=_t;return}}function zJ(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0;if(_t=ws,_s=_+48|0,(l[_s>>2]|0)<=0){ws=_t;return}_r=_+40|0,n_=_+28|0,h2=l[n_>>2]|0,__=0;t:for(;;){if(R_=l[_r>>2]|0,_=l[R_+(__*156|0)+112>>2]|0,e_=l[R_+(__*156|0)+116>>2]|0,g_=+_e[R_+(__*156|0)+120>>2],x_=+_e[R_+(__*156|0)+128>>2],A_=+_e[R_+(__*156|0)+124>>2],u_=+_e[R_+(__*156|0)+132>>2],c2=l[R_+(__*156|0)+148>>2]|0,c_=h2+(_*12|0)|0,x2=c_,L2=h2+(e_*12|0)|0,O2=R_+(__*156|0)+72|0,I_=+_e[O2>>2],f_=+_e[O2+4>>2],o2=-I_,z_=+_e[R_+(__*156|0)+136>>2],O2=(c2|0)==1,(c2+-1|0)>>>0>=2){_r=5;break}M_=+_e[L2+4>>2],L_=+_e[L2>>2],w_=+_e[x2+4>>2],L2=R_+(__*156|0)+144|0,Q_=+_e[x2>>2],x2=0,V_=+_e[h2+(_*12|0)+8>>2],J_=+_e[h2+(e_*12|0)+8>>2];do k2=+_e[R_+(__*156|0)+(x2*36|0)+12>>2],d2=+_e[R_+(__*156|0)+(x2*36|0)+8>>2],S2=+_e[R_+(__*156|0)+(x2*36|0)+4>>2],f2=+_e[R_+(__*156|0)+(x2*36|0)>>2],P2=z_*+_e[R_+(__*156|0)+(x2*36|0)+16>>2],h2=R_+(__*156|0)+(x2*36|0)+20|0,Y2=+_e[h2>>2],w2=Y2-+_e[R_+(__*156|0)+(x2*36|0)+28>>2]*(f_*(L_-J_*k2-Q_+V_*S2)+(M_+J_*d2-w_-V_*f2)*o2-+_e[L2>>2]),r2=-P2,P2=w2<P2?w2:P2,P2=P2<r2?r2:P2,Y2=P2-Y2,_e[h2>>2]=P2,P2=f_*Y2,Y2=Y2*o2,Q_=Q_-g_*P2,w_=w_-g_*Y2,V_=V_-x_*(f2*Y2-S2*P2),L_=L_+A_*P2,M_=M_+A_*Y2,J_=J_+u_*(d2*Y2-k2*P2),x2=x2+1|0;while((x2|0)!=(c2|0));do if(O2)for(h2=0;B2=+_e[R_+(__*156|0)+(h2*36|0)+12>>2],k2=+_e[R_+(__*156|0)+(h2*36|0)+8>>2],Y2=+_e[R_+(__*156|0)+(h2*36|0)+4>>2],d2=+_e[R_+(__*156|0)+(h2*36|0)>>2],x2=R_+(__*156|0)+(h2*36|0)+16|0,P2=+_e[x2>>2],j2=P2-+_e[R_+(__*156|0)+(h2*36|0)+24>>2]*(I_*(L_-J_*B2-Q_+V_*Y2)+f_*(M_+J_*k2-w_-V_*d2)-+_e[R_+(__*156|0)+(h2*36|0)+32>>2]),j2=j2>0?j2:0,P2=j2-P2,_e[x2>>2]=j2,j2=I_*P2,P2=f_*P2,Q_=Q_-g_*j2,w_=w_-g_*P2,V_=V_-x_*(d2*P2-Y2*j2),L_=L_+A_*j2,M_=M_+A_*P2,J_=J_+u_*(k2*P2-B2*j2),h2;)h2=h2+1|0;else{if(c2=R_+(__*156|0)+16|0,d2=+_e[c2>>2],h2=R_+(__*156|0)+52|0,S2=+_e[h2>>2],!(d2>=0)|!(S2>=0)){_r=10;break t}if(H_=+_e[R_+(__*156|0)+12>>2],z_=+_e[R_+(__*156|0)+8>>2],b2=+_e[R_+(__*156|0)+4>>2],C2=+_e[R_+(__*156|0)>>2],o2=+_e[R_+(__*156|0)+48>>2],n2=+_e[R_+(__*156|0)+44>>2],g2=+_e[R_+(__*156|0)+40>>2],A2=+_e[R_+(__*156|0)+36>>2],f2=+_e[R_+(__*156|0)+104>>2],Y2=+_e[R_+(__*156|0)+100>>2],w2=I_*(L_-J_*H_-Q_+V_*b2)+f_*(M_+J_*z_-w_-V_*C2)-+_e[R_+(__*156|0)+32>>2]-(d2*+_e[R_+(__*156|0)+96>>2]+S2*f2),r2=I_*(L_-J_*o2-Q_+V_*g2)+f_*(M_+J_*n2-w_-V_*A2)-+_e[R_+(__*156|0)+68>>2]-(d2*Y2+S2*+_e[R_+(__*156|0)+108>>2]),j2=+_e[R_+(__*156|0)+80>>2]*w2+ +_e[R_+(__*156|0)+88>>2]*r2,B2=w2*+_e[R_+(__*156|0)+84>>2]+r2*+_e[R_+(__*156|0)+92>>2],k2=-j2,P2=-B2,!(!(j2<=-0)|!(B2<=-0))){d2=k2-d2,B2=P2-S2,Y2=I_*d2,d2=f_*d2,j2=I_*B2,B2=f_*B2,f2=Y2+j2,S2=d2+B2,_e[c2>>2]=k2,_e[h2>>2]=P2,Q_=Q_-g_*f2,w_=w_-g_*S2,L_=L_+A_*f2,M_=M_+A_*S2,V_=V_-x_*(C2*d2-b2*Y2+(A2*B2-g2*j2)),J_=J_+u_*(z_*d2-H_*Y2+(n2*B2-o2*j2));break}if(j2=w2*+_e[R_+(__*156|0)+24>>2],k2=-j2,j2<=-0&&r2+Y2*k2>=0){Y2=k2-d2,B2=0-S2,P2=I_*Y2,Y2=f_*Y2,j2=I_*B2,B2=f_*B2,S2=j2+P2,d2=B2+Y2,_e[c2>>2]=k2,_e[h2>>2]=0,Q_=Q_-g_*S2,w_=w_-g_*d2,L_=L_+A_*S2,M_=M_+A_*d2,V_=V_-x_*(Y2*C2-P2*b2+(B2*A2-j2*g2)),J_=J_+u_*(Y2*z_-P2*H_+(B2*n2-j2*o2));break}if(j2=r2*+_e[R_+(__*156|0)+60>>2],Y2=-j2,j2<=-0&&w2+f2*Y2>=0){k2=0-d2,B2=Y2-S2,P2=I_*k2,k2=f_*k2,j2=I_*B2,B2=f_*B2,S2=P2+j2,d2=k2+B2,_e[c2>>2]=0,_e[h2>>2]=Y2,Q_=Q_-g_*S2,w_=w_-g_*d2,L_=L_+A_*S2,M_=M_+A_*d2,V_=V_-x_*(k2*C2-P2*b2+(B2*A2-j2*g2)),J_=J_+u_*(k2*z_-P2*H_+(B2*n2-j2*o2));break}!(w2>=0)|!(r2>=0)||(k2=0-d2,B2=0-S2,P2=I_*k2,k2=f_*k2,j2=I_*B2,B2=f_*B2,d2=P2+j2,Y2=k2+B2,_e[c2>>2]=0,_e[h2>>2]=0,Q_=Q_-g_*d2,w_=w_-g_*Y2,L_=L_+A_*d2,M_=M_+A_*Y2,V_=V_-x_*(k2*C2-P2*b2+(B2*A2-j2*g2)),J_=J_+u_*(k2*z_-P2*H_+(B2*n2-j2*o2)))}while(!1);if(j2=+Q_,B2=+w_,h2=c_,_e[h2>>2]=j2,_e[h2+4>>2]=B2,h2=l[n_>>2]|0,_e[h2+(_*12|0)+8>>2]=V_,B2=+L_,j2=+M_,h2=h2+(e_*12|0)|0,_e[h2>>2]=B2,_e[h2+4>>2]=j2,h2=l[n_>>2]|0,_e[h2+(e_*12|0)+8>>2]=J_,__=__+1|0,(__|0)>=(l[_s>>2]|0)){_r=22;break}}if((_r|0)==5)X2(13784,13640,314,13824);else if((_r|0)==10)X2(13856,13640,412,13824);else if((_r|0)==22){ws=_t;return}}function WJ(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0;if(n_=ws,(l[_t+84>>2]|0)<=0&&X2(13888,13640,623,16752),R_=l[_t+72>>2]|0,R_)if((R_|0)==1){w_=_r+12|0,c_=+_e[w_>>2],u_=+_e[_t+16>>2],R_=_r+8|0,x_=+_e[R_>>2],g_=+_e[_t+20>>2],__=c_*u_-x_*g_,g_=u_*x_+c_*g_,c_=+__,x_=+g_,L_=_,_e[L_>>2]=c_,_e[L_+4>>2]=x_,x_=+_e[w_>>2],c_=+_e[_t+24>>2],u_=+_e[R_>>2],A_=+_e[_t+28>>2],J_=+_e[_s+12>>2],M_=+_e[_t+(e_<<3)>>2],V_=+_e[_s+8>>2],I_=+_e[_t+(e_<<3)+4>>2],f_=+_e[_s>>2]+(J_*M_-V_*I_),I_=M_*V_+J_*I_+ +_e[_s+4>>2],_e[_+16>>2]=__*(f_-(+_e[_r>>2]+(x_*c_-u_*A_)))+(I_-(c_*u_+x_*A_+ +_e[_r+4>>2]))*g_-+_e[_t+76>>2]-+_e[_t+80>>2],f_=+f_,I_=+I_,e_=_+8|0,_e[e_>>2]=f_,_e[e_+4>>2]=I_,ws=n_;return}else if((R_|0)==2){w_=_s+12|0,x_=+_e[w_>>2],A_=+_e[_t+16>>2],L_=_s+8|0,g_=+_e[L_>>2],M_=+_e[_t+20>>2],V_=x_*A_-g_*M_,M_=A_*g_+x_*M_,x_=+V_,g_=+M_,R_=_,_e[R_>>2]=x_,_e[R_+4>>2]=g_,g_=+_e[w_>>2],x_=+_e[_t+24>>2],A_=+_e[L_>>2],f_=+_e[_t+28>>2],u_=+_e[_r+12>>2],__=+_e[_t+(e_<<3)>>2],c_=+_e[_r+8>>2],J_=+_e[_t+(e_<<3)+4>>2],I_=+_e[_r>>2]+(u_*__-c_*J_),J_=__*c_+u_*J_+ +_e[_r+4>>2],_e[_+16>>2]=V_*(I_-(+_e[_s>>2]+(g_*x_-A_*f_)))+(J_-(x_*A_+g_*f_+ +_e[_s+4>>2]))*M_-+_e[_t+76>>2]-+_e[_t+80>>2],I_=+I_,J_=+J_,L_=_+8|0,_e[L_>>2]=I_,_e[L_+4>>2]=J_,V_=+-V_,M_=+-M_,L_=_,_e[L_>>2]=V_,_e[L_+4>>2]=M_,ws=n_;return}else{ws=n_;return}else{g_=+_e[_r+12>>2],A_=+_e[_t+24>>2],I_=+_e[_r+8>>2],u_=+_e[_t+28>>2],__=+_e[_r>>2]+(g_*A_-I_*u_),u_=A_*I_+g_*u_+ +_e[_r+4>>2],g_=+_e[_s+12>>2],I_=+_e[_t>>2],A_=+_e[_s+8>>2],x_=+_e[_t+4>>2],c_=+_e[_s>>2]+(g_*I_-A_*x_),x_=I_*A_+g_*x_+ +_e[_s+4>>2],g_=c_-__,A_=x_-u_,I_=+g_,f_=+A_,e_=_,_e[e_>>2]=I_,_e[e_+4>>2]=f_,f_=+G2(+(g_*g_+A_*A_)),f_<11920928955078125e-23?(I_=g_,f_=A_):(f_=1/f_,I_=g_*f_,_e[_>>2]=I_,f_=A_*f_,_e[_+4>>2]=f_),c_=+((__+c_)*.5),x_=+((u_+x_)*.5),e_=_+8|0,_e[e_>>2]=c_,_e[e_+4>>2]=x_,_e[_+16>>2]=g_*I_+A_*f_-+_e[_t+76>>2]-+_e[_t+80>>2],ws=n_;return}}function $X(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0;if(_t=ws,e_=k1(e_,148)|0,!e_)return __=0,ws=_t,__|0;l[e_+4>>2]=4,l[e_+48>>2]=_,l[e_+52>>2]=_r,l[e_+56>>2]=0,l[e_+60>>2]=0,l[e_+124>>2]=0,l[e_+128>>2]=0,n_=_+16|0,__=e_+8|0,_s=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_s|0));if(_e[e_+136>>2]=+G2(+(+_e[n_>>2]*+_e[_r+16>>2])),u_=+_e[_+20>>2],c_=+_e[_r+20>>2],_e[e_+140>>2]=u_>c_?u_:c_,_e[e_+144>>2]=0,l[e_>>2]=13920,(l[(l[_+12>>2]|0)+4>>2]|0)!=1&&X2(14096,13936,40,14e3),l[(l[_r+12>>2]|0)+4>>2]|0)X2(14416,13936,41,14e3);else return __=e_,ws=_t,__|0;return 0}function tY(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,_y[l[(l[_>>2]|0)+4>>2]&127](_),H1(_t,_,148),ws=_r}function eY(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,OJ(_t,l[(l[_+48>>2]|0)+12>>2]|0,_r,l[(l[_+52>>2]|0)+12>>2]|0,_s),ws=e_}function oY(_){_=_|0}function iY(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function rY(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0;if(_t=ws,e_=k1(e_,148)|0,!e_)return __=0,ws=_t,__|0;l[e_+4>>2]=4,l[e_+48>>2]=_,l[e_+52>>2]=_r,l[e_+56>>2]=0,l[e_+60>>2]=0,l[e_+124>>2]=0,l[e_+128>>2]=0,n_=_+16|0,__=e_+8|0,_s=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_s|0));return _e[e_+136>>2]=+G2(+(+_e[n_>>2]*+_e[_r+16>>2])),u_=+_e[_+20>>2],c_=+_e[_r+20>>2],_e[e_+140>>2]=u_>c_?u_:c_,_e[e_+144>>2]=0,l[e_>>2]=14080,(l[(l[_+12>>2]|0)+4>>2]|0)!=1&&X2(14096,14144,40,14216),(l[(l[_r+12>>2]|0)+4>>2]|0)==2?(__=e_,ws=_t,__|0):(X2(14672,14144,41,14216),0)}function nY(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,_y[l[(l[_>>2]|0)+4>>2]&127](_),H1(_t,_,148),ws=_r}function sY(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,UJ(_t,l[(l[_+48>>2]|0)+12>>2]|0,_r,l[(l[_+52>>2]|0)+12>>2]|0,_s),ws=e_}function _Y(_){_=_|0}function aY(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function pY(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0;if(_t=ws,e_=k1(e_,148)|0,!e_)return __=0,ws=_t,__|0;l[e_+4>>2]=4,l[e_+48>>2]=_,l[e_+52>>2]=_r,l[e_+56>>2]=0,l[e_+60>>2]=0,l[e_+124>>2]=0,l[e_+128>>2]=0,n_=_+16|0,__=e_+8|0,_s=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_s|0));if(_e[e_+136>>2]=+G2(+(+_e[n_>>2]*+_e[_r+16>>2])),u_=+_e[_+20>>2],c_=+_e[_r+20>>2],_e[e_+140>>2]=u_>c_?u_:c_,_e[e_+144>>2]=0,l[e_>>2]=14296,(l[(l[_+12>>2]|0)+4>>2]|0)!=2&&X2(14536,14312,40,14384),l[(l[_r+12>>2]|0)+4>>2]|0)X2(14416,14312,41,14384);else return __=e_,ws=_t,__|0;return 0}function cY(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,_y[l[(l[_>>2]|0)+4>>2]&127](_),H1(_t,_,148),ws=_r}function lY(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0;e_=ws,__=l[(l[_+48>>2]|0)+12>>2]|0,g_=l[(l[_+52>>2]|0)+12>>2]|0,n_=_t+60|0,l[n_>>2]=0,_=g_+12|0,L_=+_e[_s+12>>2],u_=+_e[_>>2],x_=+_e[_s+8>>2],Q_=+_e[g_+16>>2],c_=+_e[_s>>2]+(L_*u_-x_*Q_)-+_e[_r>>2],Q_=u_*x_+L_*Q_+ +_e[_s+4>>2]-+_e[_r+4>>2],L_=+_e[_r+12>>2],x_=+_e[_r+8>>2],u_=c_*L_+Q_*x_,x_=L_*Q_-c_*x_,c_=+_e[__+8>>2]+ +_e[g_+8>>2],g_=l[__+148>>2]|0;do if((g_|0)>0){for(_r=0,_s=0,I_=-34028234663852886e22;;){if(R_=(u_-+_e[__+(_r<<3)+20>>2])*+_e[__+(_r<<3)+84>>2]+(x_-+_e[__+(_r<<3)+24>>2])*+_e[__+(_r<<3)+88>>2],R_>c_){_r=19;break}if(o2=R_>I_,I_=o2?R_:I_,_s=o2?_r:_s,_r=_r+1|0,(_r|0)>=(g_|0)){_r=4;break}}if((_r|0)==4){o2=I_<11920928955078125e-23;break}else if((_r|0)==19){ws=e_;return}}else _s=0,o2=1;while(!1);if(f_=_s+1|0,A_=__+(_s<<3)+20|0,_r=l[A_>>2]|0,A_=l[A_+4>>2]|0,L_=(l[s_>>2]=_r,+_e[s_>>2]),J_=(l[s_>>2]=A_,+_e[s_>>2]),f_=__+(((f_|0)<(g_|0)?f_:0)<<3)+20|0,g_=l[f_>>2]|0,f_=l[f_+4>>2]|0,Q_=(l[s_>>2]=g_,+_e[s_>>2]),w_=(l[s_>>2]=f_,+_e[s_>>2]),o2){l[n_>>2]=1,l[_t+56>>2]=1,o2=__+(_s<<3)+84|0,f_=l[o2+4>>2]|0,g_=_t+40|0,l[g_>>2]=l[o2>>2],l[g_+4>>2]=f_,L_=+((L_+Q_)*.5),Q_=+((J_+w_)*.5),g_=_t+48|0,_e[g_>>2]=L_,_e[g_+4>>2]=Q_,g_=_,f_=l[g_+4>>2]|0,o2=_t,l[o2>>2]=l[g_>>2],l[o2+4>>2]=f_,l[_t+16>>2]=0,ws=e_;return}if(R_=u_-L_,V_=x_-J_,I_=u_-Q_,M_=x_-w_,R_*(Q_-L_)+V_*(w_-J_)<=0){if(u_=R_*R_+V_*V_,u_>c_*c_){ws=e_;return}l[n_>>2]=1,l[_t+56>>2]=1,n_=_t+40|0,Q_=+R_,c_=+V_,o2=n_,_e[o2>>2]=Q_,_e[o2+4>>2]=c_,c_=+G2(+u_),c_<11920928955078125e-23||(Q_=1/c_,_e[n_>>2]=R_*Q_,_e[_t+44>>2]=V_*Q_),g_=_t+48|0,l[g_>>2]=_r,l[g_+4>>2]=A_,g_=_,f_=l[g_+4>>2]|0,o2=_t,l[o2>>2]=l[g_>>2],l[o2+4>>2]=f_,l[_t+16>>2]=0,ws=e_;return}if(!(I_*(L_-Q_)+M_*(J_-w_)<=0)){if(I_=(L_+Q_)*.5,R_=(J_+w_)*.5,_r=__+(_s<<3)+84|0,(u_-I_)*+_e[_r>>2]+(x_-R_)*+_e[__+(_s<<3)+88>>2]>c_){ws=e_;return}l[n_>>2]=1,l[_t+56>>2]=1,o2=_r,f_=l[o2+4>>2]|0,g_=_t+40|0,l[g_>>2]=l[o2>>2],l[g_+4>>2]=f_,L_=+I_,Q_=+R_,g_=_t+48|0,_e[g_>>2]=L_,_e[g_+4>>2]=Q_,g_=_,f_=l[g_+4>>2]|0,o2=_t,l[o2>>2]=l[g_>>2],l[o2+4>>2]=f_,l[_t+16>>2]=0,ws=e_;return}if(u_=I_*I_+M_*M_,u_>c_*c_){ws=e_;return}l[n_>>2]=1,l[_t+56>>2]=1,n_=_t+40|0,Q_=+I_,c_=+M_,o2=n_,_e[o2>>2]=Q_,_e[o2+4>>2]=c_,c_=+G2(+u_),c_<11920928955078125e-23||(Q_=1/c_,_e[n_>>2]=I_*Q_,_e[_t+44>>2]=M_*Q_),o2=_t+48|0,l[o2>>2]=g_,l[o2+4>>2]=f_,g_=_,f_=l[g_+4>>2]|0,o2=_t,l[o2>>2]=l[g_>>2],l[o2+4>>2]=f_,l[_t+16>>2]=0,ws=e_}function mY(_){_=_|0}function bY(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function uY(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0;if(_t=ws,e_=k1(e_,148)|0,!e_)return __=0,ws=_t,__|0;l[e_+4>>2]=4,l[e_+48>>2]=_,l[e_+52>>2]=_r,l[e_+56>>2]=0,l[e_+60>>2]=0,l[e_+124>>2]=0,l[e_+128>>2]=0,n_=_+16|0,__=e_+8|0,_s=__+40|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(_s|0));return _e[e_+136>>2]=+G2(+(+_e[n_>>2]*+_e[_r+16>>2])),u_=+_e[_+20>>2],c_=+_e[_r+20>>2],_e[e_+140>>2]=u_>c_?u_:c_,_e[e_+144>>2]=0,l[e_>>2]=14520,(l[(l[_+12>>2]|0)+4>>2]|0)!=2&&X2(14536,14584,43,14648),(l[(l[_r+12>>2]|0)+4>>2]|0)==2?(__=e_,ws=_t,__|0):(X2(14672,14584,44,14648),0)}function hY(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,_y[l[(l[_>>2]|0)+4>>2]&127](_),H1(_t,_,148),ws=_r}function dY(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0;if(e_=ws,ws=ws+80|0,g2=e_+76|0,I_=e_+72|0,g_=e_,f_=e_+48|0,n_=e_+24|0,z_=l[(l[_+48>>2]|0)+12>>2]|0,A2=l[(l[_+52>>2]|0)+12>>2]|0,_=_t+60|0,l[_>>2]=0,__=+_e[z_+8>>2]+ +_e[A2+8>>2],l[g2>>2]=0,c_=+XJ(g2,z_,_r,A2,_s),c_>__){ws=e_;return}if(l[I_>>2]=0,u_=+XJ(I_,A2,_s,z_,_r),u_>__){ws=e_;return}if(u_>c_+.0005000000237487257?(R_=+_e[_s>>2],M_=+_e[_s+4>>2],V_=+_e[_s+8>>2],J_=+_e[_s+12>>2],A_=+_e[_r>>2],c_=+_e[_r+4>>2],u_=+_e[_r+8>>2],x_=+_e[_r+12>>2],I_=l[I_>>2]|0,l[_t+56>>2]=2,_s=1,_r=A2):(R_=+_e[_r>>2],M_=+_e[_r+4>>2],V_=+_e[_r+8>>2],J_=+_e[_r+12>>2],A_=+_e[_s>>2],c_=+_e[_s+4>>2],u_=+_e[_s+8>>2],x_=+_e[_s+12>>2],I_=l[g2>>2]|0,l[_t+56>>2]=1,_s=0,_r=z_,z_=A2),A2=l[z_+148>>2]|0,(I_|0)<=-1&&X2(5728,5768,74,5824),g2=l[_r+148>>2]|0,(g2|0)<=(I_|0)&&X2(5728,5768,74,5824),w_=+_e[_r+(I_<<3)+84>>2],c2=+_e[_r+(I_<<3)+88>>2],L_=J_*w_-V_*c2,c2=V_*w_+J_*c2,w_=x_*L_+u_*c2,L_=x_*c2-u_*L_,(A2|0)>0)for(w2=0,f2=0,Q_=34028234663852886e22;o2=w_*+_e[z_+(w2<<3)+84>>2]+L_*+_e[z_+(w2<<3)+88>>2],h2=o2<Q_,f2=h2?w2:f2,w2=w2+1|0,(w2|0)!=(A2|0);)Q_=h2?o2:Q_;else f2=0;if(h2=f2+1|0,h2=(h2|0)<(A2|0)?h2:0,o2=+_e[z_+(f2<<3)+20>>2],b2=+_e[z_+(f2<<3)+24>>2],H_=+(A_+(x_*o2-u_*b2)),b2=+(c_+(u_*o2+x_*b2)),w2=g_,_e[w2>>2]=H_,_e[w2+4>>2]=b2,w2=I_&255,A2=g_+8|0,_o[A2>>0]=w2,_o[A2+1>>0]=f2,_o[A2+2>>0]=1,_o[A2+3>>0]=0,b2=+_e[z_+(h2<<3)+20>>2],H_=+_e[z_+(h2<<3)+24>>2],o2=+(A_+(x_*b2-u_*H_)),H_=+(c_+(u_*b2+x_*H_)),z_=g_+12|0,_e[z_>>2]=o2,_e[z_+4>>2]=H_,z_=g_+20|0,_o[z_>>0]=w2,_o[z_+1>>0]=h2,_o[z_+2>>0]=1,_o[z_+3>>0]=0,z_=I_+1|0,z_=(z_|0)<(g2|0)?z_:0,f2=_r+(I_<<3)+20|0,H_=+_e[f2>>2],o2=+_e[f2+4>>2],f2=_r+(z_<<3)+20|0,b2=+_e[f2>>2],n2=+_e[f2+4>>2],C2=b2-H_,c2=n2-o2,w_=+G2(+(C2*C2+c2*c2)),w_<11920928955078125e-23||(r2=1/w_,C2=C2*r2,c2=c2*r2),r2=J_*C2-V_*c2,L_=J_*c2+V_*C2,Q_=-r2,d2=R_+(J_*H_-V_*o2),S2=M_+(V_*H_+J_*o2),w_=d2*L_+S2*Q_,($M(f_,g_,Q_,-L_,__-(d2*r2+S2*L_),I_)|0)<2){ws=e_;return}if(($M(n_,f_,r2,L_,__+((R_+(J_*b2-V_*n2))*r2+(M_+(V_*b2+J_*n2))*L_),z_)|0)<2){ws=e_;return}d2=+c2,S2=+-C2,g_=_t+40|0,_e[g_>>2]=d2,_e[g_+4>>2]=S2,S2=+((H_+b2)*.5),d2=+((o2+n2)*.5),g_=_t+48|0,_e[g_>>2]=S2,_e[g_+4>>2]=d2,g_=_s<<24>>24==0,f_=0,I_=0;do R_=+_e[n_+(f_*12|0)>>2],J_=+_e[n_+(f_*12|0)+4>>2],L_*R_+J_*Q_-w_<=__&&(d2=R_-A_,c2=J_-c_,S2=+(x_*d2+u_*c2),d2=+(x_*c2-u_*d2),_r=_t+(I_*20|0)|0,_e[_r>>2]=S2,_e[_r+4>>2]=d2,_r=_t+(I_*20|0)+16|0,_s=l[n_+(f_*12|0)+8>>2]|0,l[_r>>2]=_s,g_||(_o[_r>>0]=_s>>>8,_o[_r+1>>0]=_s,_o[_r+2>>0]=_s>>>24,_o[_r+3>>0]=_s>>>16),I_=I_+1|0),f_=f_+1|0;while((f_|0)!=2);l[_>>2]=I_,ws=e_}function yY(_){_=_|0}function xY(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function fY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0;if(x_=ws,o2=l[_+48>>2]|0,k2=l[o2+8>>2]|0,__=_+108|0,l[__>>2]=k2,Y2=l[_+52>>2]|0,S2=l[Y2+8>>2]|0,u_=_+112|0,l[u_>>2]=S2,f2=o2+28|0,c2=l[f2>>2]|0,f2=l[f2+4>>2]|0,C2=_+140|0,l[C2>>2]=c2,l[C2+4>>2]=f2,C2=Y2+28|0,r2=l[C2>>2]|0,C2=l[C2+4>>2]|0,h2=_+148|0,l[h2>>2]=r2,l[h2+4>>2]=C2,h2=_+156|0,_e[h2>>2]=+_e[o2+120>>2],C2=_+160|0,_e[C2>>2]=+_e[Y2+120>>2],w2=_+164|0,_e[w2>>2]=+_e[o2+128>>2],o2=_+168|0,_e[o2>>2]=+_e[Y2+128>>2],Y2=l[_t+24>>2]|0,c_=Y2+(k2*12|0)|0,V_=+_e[c_>>2],M_=+_e[c_+4>>2],_r=+_e[Y2+(k2*12|0)+8>>2],c_=_t+28|0,d2=l[c_>>2]|0,P2=d2+(k2*12|0)|0,J_=+_e[P2>>2],R_=+_e[P2+4>>2],e_=+_e[d2+(k2*12|0)+8>>2],k2=Y2+(S2*12|0)|0,H_=+_e[k2>>2],g2=+_e[k2+4>>2],b2=+_e[Y2+(S2*12|0)+8>>2],Y2=d2+(S2*12|0)|0,I_=+_e[Y2>>2],_s=+_e[Y2+4>>2],n_=+_e[d2+(S2*12|0)+8>>2],f_=+F2(+_r),_r=+V2(+_r),n2=+F2(+b2),b2=+V2(+b2),A2=+_e[_+80>>2]-(l[s_>>2]=c2,+_e[s_>>2]),g_=+_e[_+84>>2]-(l[s_>>2]=f2,+_e[s_>>2]),A_=_r*A2-f_*g_,g_=f_*A2+_r*g_,_r=+A_,A2=+g_,f2=_+124|0,_e[f2>>2]=_r,_e[f2+4>>2]=A2,A2=+_e[_+88>>2]-(l[s_>>2]=r2,+_e[s_>>2]),_r=+_e[_+92>>2]-+_e[_+152>>2],f_=b2*A2-n2*_r,_r=n2*A2+b2*_r,b2=+f_,A2=+_r,r2=_+132|0,_e[r2>>2]=b2,_e[r2+4>>2]=A2,r2=_+116|0,V_=H_+f_-V_-A_,M_=g2+_r-M_-g_,g2=+V_,H_=+M_,f2=r2,_e[f2>>2]=g2,_e[f2+4>>2]=H_,H_=+G2(+(V_*V_+M_*M_)),H_>.004999999888241291?(g2=1/H_,V_=V_*g2,_e[r2>>2]=V_,M_=g2*M_):(_e[r2>>2]=0,M_=0,V_=0),_e[_+120>>2]=M_,g2=M_*A_-g_*V_,n2=M_*f_-V_*_r,w_=+_e[h2>>2],L_=+_e[w2>>2],Q_=+_e[C2>>2],z_=+_e[o2>>2],n2=Q_+(w_+g2*g2*L_)+n2*n2*z_,n2!=0?g2=1/n2:g2=0,o2=_+172|0,_e[o2>>2]=g2,b2=+_e[_+68>>2],b2>0?(H_=H_-+_e[_+104>>2],O2=b2*6.2831854820251465,A2=O2*g2*O2,b2=+_e[_t>>2],g2=b2*(O2*g2*2*+_e[_+72>>2]+A2*b2),C2=_+96|0,_e[C2>>2]=g2,g2!=0?g2=1/g2:g2=0,_e[C2>>2]=g2,_e[_+76>>2]=A2*H_*b2*g2,H_=n2+g2,H_!=0?H_=1/H_:H_=0,_e[o2>>2]=H_):(_e[_+96>>2]=0,_e[_+76>>2]=0),_o[_t+20>>0]|0){P2=_+100|0,H_=+_e[_t+8>>2]*+_e[P2>>2],_e[P2>>2]=H_,O2=V_*H_,M_=H_*M_,H_=J_-O2*w_,n2=R_-M_*w_,A2=I_+O2*Q_,g2=_s+M_*Q_,b2=e_-L_*(M_*A_-O2*g_),O2=n_+z_*(M_*f_-O2*_r),P2=l[__>>2]|0,k2=l[c_>>2]|0,P2=k2+(P2*12|0)|0,H_=+H_,n2=+n2,k2=P2,_e[k2>>2]=H_,P2=P2+4|0,_e[P2>>2]=n2,P2=l[__>>2]|0,k2=l[c_>>2]|0,P2=k2+(P2*12|0)+8|0,_e[P2>>2]=b2,P2=l[u_>>2]|0,P2=k2+(P2*12|0)|0,A2=+A2,g2=+g2,k2=P2,_e[k2>>2]=A2,P2=P2+4|0,_e[P2>>2]=g2,P2=l[u_>>2]|0,k2=l[c_>>2]|0,P2=k2+(P2*12|0)+8|0,_e[P2>>2]=O2,ws=x_;return}else{_e[_+100>>2]=0,H_=J_,n2=R_,A2=I_,g2=_s,b2=e_,O2=n_,P2=l[__>>2]|0,k2=l[c_>>2]|0,P2=k2+(P2*12|0)|0,H_=+H_,n2=+n2,k2=P2,_e[k2>>2]=H_,P2=P2+4|0,_e[P2>>2]=n2,P2=l[__>>2]|0,k2=l[c_>>2]|0,P2=k2+(P2*12|0)+8|0,_e[P2>>2]=b2,P2=l[u_>>2]|0,P2=k2+(P2*12|0)|0,A2=+A2,g2=+g2,k2=P2,_e[k2>>2]=A2,P2=P2+4|0,_e[P2>>2]=g2,P2=l[u_>>2]|0,k2=l[c_>>2]|0,P2=k2+(P2*12|0)+8|0,_e[P2>>2]=O2,ws=x_;return}}function gY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0;_r=ws,A_=_+108|0,L_=l[A_>>2]|0,_s=_t+28|0,z_=l[_s>>2]|0,R_=z_+(L_*12|0)|0,_t=R_,I_=+_e[_t>>2],J_=+_e[_t+4>>2],w_=+_e[z_+(L_*12|0)+8>>2],_t=_+112|0,L_=l[_t>>2]|0,H_=z_+(L_*12|0)|0,x_=+_e[H_>>2],u_=+_e[H_+4>>2],M_=+_e[z_+(L_*12|0)+8>>2],g_=+_e[_+128>>2],n_=+_e[_+124>>2],e_=+_e[_+136>>2],V_=+_e[_+132>>2],__=+_e[_+116>>2],f_=+_e[_+120>>2],L_=_+100|0,o2=+_e[L_>>2],Q_=+_e[_+172>>2]*(+_e[_+76>>2]+(__*(x_-M_*e_-(I_-w_*g_))+f_*(u_+M_*V_-(J_+w_*n_)))+ +_e[_+96>>2]*o2),c_=-Q_,_e[L_>>2]=o2-Q_,__=__*c_,c_=f_*c_,f_=+_e[_+156>>2],g_=w_-+_e[_+164>>2]*(n_*c_-__*g_),n_=+_e[_+160>>2],e_=M_+ +_e[_+168>>2]*(c_*V_-__*e_),I_=+(I_-f_*__),f_=+(J_-f_*c_),_=R_,_e[_>>2]=I_,_e[_+4>>2]=f_,_=l[_s>>2]|0,_e[_+((l[A_>>2]|0)*12|0)+8>>2]=g_,__=+(x_+__*n_),n_=+(u_+c_*n_),_=_+((l[_t>>2]|0)*12|0)|0,_e[_>>2]=__,_e[_+4>>2]=n_,_e[(l[_s>>2]|0)+((l[_t>>2]|0)*12|0)+8>>2]=e_,ws=_r}function vY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0;return _r=ws,+_e[_+68>>2]>0?(I_=1,ws=_r,I_|0):(_s=_+108|0,I_=l[_s>>2]|0,f_=_t+24|0,Q_=l[f_>>2]|0,_t=Q_+(I_*12|0)|0,L_=_t,A_=+_e[L_>>2],g_=+_e[L_+4>>2],e_=+_e[Q_+(I_*12|0)+8>>2],I_=_+112|0,L_=l[I_>>2]|0,o2=Q_+(L_*12|0)|0,R_=+_e[o2>>2],J_=+_e[o2+4>>2],c_=+_e[Q_+(L_*12|0)+8>>2],u_=+F2(+e_),V_=+V2(+e_),w_=+F2(+c_),M_=+V2(+c_),x_=+_e[_+80>>2]-+_e[_+140>>2],__=+_e[_+84>>2]-+_e[_+144>>2],n_=V_*x_-u_*__,__=u_*x_+V_*__,V_=+_e[_+88>>2]-+_e[_+148>>2],x_=+_e[_+92>>2]-+_e[_+152>>2],u_=M_*V_-w_*x_,x_=w_*V_+M_*x_,M_=R_+u_-A_-n_,V_=J_+x_-g_-__,w_=+G2(+(M_*M_+V_*V_)),w_<11920928955078125e-23?w_=0:(z_=1/w_,M_=M_*z_,V_=V_*z_),w_=w_-+_e[_+104>>2],w_=w_<.20000000298023224?w_:.20000000298023224,w_=w_<-.20000000298023224?-.20000000298023224:w_,n2=-(+_e[_+172>>2]*w_),H_=M_*n2,M_=V_*n2,n2=+_e[_+156>>2],V_=e_-+_e[_+164>>2]*(n_*M_-__*H_),__=+_e[_+160>>2],z_=c_+ +_e[_+168>>2]*(u_*M_-x_*H_),A_=+(A_-n2*H_),g_=+(g_-n2*M_),o2=_t,_e[o2>>2]=A_,_e[o2+4>>2]=g_,o2=l[f_>>2]|0,_e[o2+((l[_s>>2]|0)*12|0)+8>>2]=V_,V_=+(R_+__*H_),M_=+(J_+__*M_),o2=o2+((l[I_>>2]|0)*12|0)|0,_e[o2>>2]=V_,_e[o2+4>>2]=M_,_e[(l[f_>>2]|0)+((l[I_>>2]|0)*12|0)+8>>2]=z_,w_>0||(w_=-w_),o2=w_<.004999999888241291,ws=_r,o2|0)}function AY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+48>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+80>>2],e_=+_e[c_+20>>2],_s=+_e[_t+84>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function SY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+52>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+88>>2],e_=+_e[c_+20>>2],_s=+_e[_t+92>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function CY(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=+_e[_t+100>>2]*_r,_r=_s*+_e[_t+120>>2],_e[_>>2]=+_e[_t+116>>2]*_s,_e[_+4>>2]=_r}function BY(_,_t){return _=_|0,_t=+_t,0}function PY(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;_t=ws,ws=ws+16|0,_r=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,_a(14816,_r),l[_r>>2]=n_,_a(17784,_r),l[_r>>2]=_s,_a(17816,_r),l[_r>>2]=t_[_+61>>0],_a(17848,_r),e_=+_e[_+84>>2],l_[s_>>3]=+_e[_+80>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17888,_r),e_=+_e[_+92>>2],l_[s_>>3]=+_e[_+88>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17936,_r),l_[s_>>3]=+_e[_+104>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(14848,_r),l_[s_>>3]=+_e[_+68>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18120,_r),l_[s_>>3]=+_e[_+72>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18152,_r),l[_r>>2]=l[_+56>>2],_a(18184,_r),ws=_t}function wY(_){_=_|0}function VY(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function MY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0;if(g_=ws,x_=l[_+48>>2]|0,f2=l[x_+8>>2]|0,u_=_+104|0,l[u_>>2]=f2,r2=l[_+52>>2]|0,w2=l[r2+8>>2]|0,A_=_+108|0,l[A_>>2]=w2,g2=x_+28|0,C2=l[g2>>2]|0,g2=l[g2+4>>2]|0,n2=_+128|0,l[n2>>2]=C2,l[n2+4>>2]=g2,n2=r2+28|0,A2=l[n2>>2]|0,n2=l[n2+4>>2]|0,h2=_+136|0,l[h2>>2]=A2,l[h2+4>>2]=n2,f_=+_e[x_+120>>2],_e[_+144>>2]=f_,I_=+_e[r2+120>>2],_e[_+148>>2]=I_,R_=+_e[x_+128>>2],_e[_+152>>2]=R_,M_=+_e[r2+128>>2],_e[_+156>>2]=M_,r2=l[_t+24>>2]|0,L_=+_e[r2+(f2*12|0)+8>>2],x_=_t+28|0,h2=l[x_>>2]|0,c2=h2+(f2*12|0)|0,J_=+_e[c2>>2],_s=+_e[c2+4>>2],__=+_e[h2+(f2*12|0)+8>>2],o2=+_e[r2+(w2*12|0)+8>>2],r2=h2+(w2*12|0)|0,e_=+_e[r2>>2],n_=+_e[r2+4>>2],c_=+_e[h2+(w2*12|0)+8>>2],w_=+F2(+L_),L_=+V2(+L_),H_=+F2(+o2),o2=+V2(+o2),b2=+_e[_+68>>2]-(l[s_>>2]=C2,+_e[s_>>2]),V_=+_e[_+72>>2]-(l[s_>>2]=g2,+_e[s_>>2]),_r=L_*b2-w_*V_,V_=w_*b2+L_*V_,L_=+_r,b2=+V_,g2=_+112|0,_e[g2>>2]=L_,_e[g2+4>>2]=b2,b2=+_e[_+76>>2]-(l[s_>>2]=A2,+_e[s_>>2]),L_=+_e[_+80>>2]-(l[s_>>2]=n2,+_e[s_>>2]),w_=o2*b2-H_*L_,L_=H_*b2+o2*L_,o2=+w_,b2=+L_,n2=_+120|0,_e[n2>>2]=o2,_e[n2+4>>2]=b2,b2=f_+I_,o2=b2+V_*R_*V_+L_*M_*L_,H_=R_*_r,Q_=M_*w_,z_=-(V_*H_)-L_*Q_,Q_=b2+_r*H_+w_*Q_,H_=o2*Q_-z_*z_,H_!=0&&(H_=1/H_),b2=-(z_*H_),_e[_+160>>2]=Q_*H_,_e[_+164>>2]=b2,_e[_+168>>2]=b2,_e[_+172>>2]=o2*H_,Q_=R_+M_,Q_>0&&(Q_=1/Q_),_e[_+176>>2]=Q_,n2=_+84|0,_o[_t+20>>0]|0){f2=_t+8|0,S2=+_e[f2>>2],b2=S2*+_e[n2>>2],_e[n2>>2]=b2,c2=_+88|0,S2=S2*+_e[c2>>2],_e[c2>>2]=S2,c2=_+92|0,d2=+_e[f2>>2]*+_e[c2>>2],_e[c2>>2]=d2,J_=J_-f_*b2,Q_=_s-f_*S2,z_=e_+I_*b2,H_=n_+I_*S2,o2=__-R_*(d2+(S2*_r-b2*V_)),b2=c_+M_*(d2+(S2*w_-b2*L_)),c2=l[u_>>2]|0,f2=l[x_>>2]|0,c2=f2+(c2*12|0)|0,L_=+J_,Q_=+Q_,f2=c2,_e[f2>>2]=L_,c2=c2+4|0,_e[c2>>2]=Q_,c2=l[u_>>2]|0,f2=l[x_>>2]|0,c2=f2+(c2*12|0)+8|0,_e[c2>>2]=o2,c2=l[A_>>2]|0,c2=f2+(c2*12|0)|0,z_=+z_,H_=+H_,f2=c2,_e[f2>>2]=z_,c2=c2+4|0,_e[c2>>2]=H_,c2=l[A_>>2]|0,f2=l[x_>>2]|0,c2=f2+(c2*12|0)+8|0,_e[c2>>2]=b2,ws=g_;return}else{_e[n2>>2]=0,_e[_+88>>2]=0,_e[_+92>>2]=0,L_=J_,Q_=_s,z_=e_,H_=n_,o2=__,b2=c_,c2=l[u_>>2]|0,f2=l[x_>>2]|0,c2=f2+(c2*12|0)|0,L_=+L_,Q_=+Q_,f2=c2,_e[f2>>2]=L_,c2=c2+4|0,_e[c2>>2]=Q_,c2=l[u_>>2]|0,f2=l[x_>>2]|0,c2=f2+(c2*12|0)+8|0,_e[c2>>2]=o2,c2=l[A_>>2]|0,c2=f2+(c2*12|0)|0,z_=+z_,H_=+H_,f2=c2,_e[f2>>2]=z_,c2=c2+4|0,_e[c2>>2]=H_,c2=l[A_>>2]|0,f2=l[x_>>2]|0,c2=f2+(c2*12|0)+8|0,_e[c2>>2]=b2,ws=g_;return}}function DY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0;I_=ws,c_=_+104|0,g_=l[c_>>2]|0,__=_t+28|0,g2=l[__>>2]|0,z_=g2+(g_*12|0)|0,u_=+_e[z_>>2],n_=+_e[z_+4>>2],o2=+_e[g2+(g_*12|0)+8>>2],g_=_+108|0,z_=l[g_>>2]|0,C2=g2+(z_*12|0)|0,x_=+_e[C2>>2],A_=+_e[C2+4>>2],Q_=+_e[g2+(z_*12|0)+8>>2],e_=+_e[_+144>>2],_s=+_e[_+148>>2],_r=+_e[_+152>>2],f_=+_e[_+156>>2],n2=+_e[_t>>2],_t=_+92|0,J_=+_e[_t>>2],L_=n2*+_e[_+100>>2],V_=J_-(Q_-o2)*+_e[_+176>>2],w_=-L_,L_=V_<L_?V_:L_,L_=L_<w_?w_:L_,_e[_t>>2]=L_,J_=L_-J_,o2=o2-_r*J_,J_=Q_+f_*J_,Q_=+_e[_+124>>2],L_=+_e[_+120>>2],w_=+_e[_+116>>2],V_=+_e[_+112>>2],A2=w_*o2+(x_-Q_*J_-u_),b2=A_+L_*J_-n_-V_*o2,H_=+_e[_+164>>2]*A2+ +_e[_+172>>2]*b2,_t=_+84|0,z_=_t,M_=+_e[z_>>2],R_=+_e[z_+4>>2],b2=M_-(+_e[_+160>>2]*A2+ +_e[_+168>>2]*b2),_e[_t>>2]=b2,z_=_+88|0,H_=+_e[z_>>2]-H_,_e[z_>>2]=H_,n2=n2*+_e[_+96>>2],A2=b2*b2+H_*H_,A2>n2*n2&&(A2=+G2(+A2),A2<11920928955078125e-23||(A2=1/A2,b2=b2*A2,_e[_t>>2]=b2,H_=H_*A2,_e[z_>>2]=H_),b2=n2*b2,_e[_t>>2]=b2,H_=n2*H_,_e[z_>>2]=H_),A2=b2-M_,b2=H_-R_,n2=+(u_-e_*A2),H_=+(n_-e_*b2),C2=(l[__>>2]|0)+((l[c_>>2]|0)*12|0)|0,_e[C2>>2]=n2,_e[C2+4>>2]=H_,C2=l[__>>2]|0,_e[C2+((l[c_>>2]|0)*12|0)+8>>2]=o2-_r*(V_*b2-A2*w_),H_=+(x_+_s*A2),n2=+(A_+_s*b2),C2=C2+((l[g_>>2]|0)*12|0)|0,_e[C2>>2]=H_,_e[C2+4>>2]=n2,_e[(l[__>>2]|0)+((l[g_>>2]|0)*12|0)+8>>2]=J_+f_*(b2*L_-A2*Q_),ws=I_}function GY(_,_t){return _=_|0,_t=_t|0,1}function JY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+48>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+68>>2],e_=+_e[c_+20>>2],_s=+_e[_t+72>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function IY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+52>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+76>>2],e_=+_e[c_+20>>2],_s=+_e[_t+80>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function TY(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=+_e[_t+88>>2]*_r,_e[_>>2]=+_e[_t+84>>2]*_r,_e[_+4>>2]=_s}function FY(_,_t){return _=_|0,_t=+_t,+(+_e[_+92>>2]*_t)}function RY(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;_t=ws,ws=ws+16|0,_r=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,_a(15136,_r),l[_r>>2]=n_,_a(17784,_r),l[_r>>2]=_s,_a(17816,_r),l[_r>>2]=t_[_+61>>0],_a(17848,_r),e_=+_e[_+72>>2],l_[s_>>3]=+_e[_+68>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17888,_r),e_=+_e[_+80>>2],l_[s_>>3]=+_e[_+76>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17936,_r),l_[s_>>3]=+_e[_+96>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(15168,_r),l_[s_>>3]=+_e[_+100>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(15200,_r),l[_r>>2]=l[_+56>>2],_a(18184,_r),ws=_t}function LY(_){_=_|0}function kY(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function qY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0,_p=0,_0=0,C0=0,P0=0,T0=0,c0=0,_l=0,ey=0,H0=0,hy=0,I0=0,wy=0,dy=0,yy=0,_1=0,I1=0,d1=0;if(w_=ws,T0=l[_+48>>2]|0,P0=l[T0+8>>2]|0,I_=_+160|0,l[I_>>2]=P0,j2=l[_+52>>2]|0,C0=l[j2+8>>2]|0,_r=_+164|0,l[_r>>2]=C0,R_=l[_+84>>2]|0,_0=l[R_+8>>2]|0,V_=_+168|0,l[V_>>2]=_0,_p=l[_+88>>2]|0,C2=l[_p+8>>2]|0,M_=_+172|0,l[M_>>2]=C2,x2=_+176|0,c0=T0+28|0,B2=l[c0+4>>2]|0,d2=x2,l[d2>>2]=l[c0>>2],l[d2+4>>2]=B2,d2=_+184|0,B2=j2+28|0,c0=l[B2+4>>2]|0,L2=d2,l[L2>>2]=l[B2>>2],l[L2+4>>2]=c0,L2=_+192|0,c0=R_+28|0,B2=l[c0+4>>2]|0,_l=L2,l[_l>>2]=l[c0>>2],l[_l+4>>2]=B2,_l=_p+28|0,B2=l[_l>>2]|0,_l=l[_l+4>>2]|0,c0=_+200|0,l[c0>>2]=B2,l[c0+4>>2]=_l,L_=+_e[T0+120>>2],_e[_+208>>2]=L_,Q_=+_e[j2+120>>2],_e[_+212>>2]=Q_,o2=+_e[R_+120>>2],_e[_+216>>2]=o2,z_=+_e[_p+120>>2],_e[_+220>>2]=z_,H_=+_e[T0+128>>2],_e[_+224>>2]=H_,n2=+_e[j2+128>>2],_e[_+228>>2]=n2,b2=+_e[R_+128>>2],_e[_+232>>2]=b2,A2=+_e[_p+128>>2],_e[_+236>>2]=A2,_p=l[_t+24>>2]|0,w2=+_e[_p+(P0*12|0)+8>>2],R_=_t+28|0,j2=l[R_>>2]|0,T0=j2+(P0*12|0)|0,g2=+_e[T0>>2],J_=+_e[T0+4>>2],x_=+_e[j2+(P0*12|0)+8>>2],k2=+_e[_p+(C0*12|0)+8>>2],P0=j2+(C0*12|0)|0,_s=+_e[P0>>2],e_=+_e[P0+4>>2],A_=+_e[j2+(C0*12|0)+8>>2],r2=+_e[_p+(_0*12|0)+8>>2],C0=j2+(_0*12|0)|0,n_=+_e[C0>>2],__=+_e[C0+4>>2],g_=+_e[j2+(_0*12|0)+8>>2],P2=+_e[_p+(C2*12|0)+8>>2],_p=j2+(C2*12|0)|0,c_=+_e[_p>>2],u_=+_e[_p+4>>2],f_=+_e[j2+(C2*12|0)+8>>2],f2=+F2(+w2),w2=+V2(+w2),c2=+F2(+k2),k2=+V2(+k2),h2=+F2(+r2),r2=+V2(+r2),S2=+F2(+P2),P2=+V2(+P2),C2=_+272|0,_e[C2>>2]=0,Y2=(l[s_>>2]=B2,+_e[s_>>2]),(l[_+76>>2]|0)==1?(_e[_+240>>2]=0,_e[_+244>>2]=0,_e[_+256>>2]=1,_e[_+264>>2]=1,O2=H_+b2,f2=0,w2=0,r2=1,h2=1):(wy=+_e[_+124>>2],ey=+_e[_+128>>2],H0=r2*wy-h2*ey,ey=h2*wy+r2*ey,wy=+_e[_+108>>2]-+_e[L2>>2],I0=+_e[_+112>>2]-+_e[_+196>>2],hy=+_e[_+92>>2]-+_e[x2>>2],O2=+_e[_+96>>2]-+_e[_+180>>2],yy=+H0,dy=+ey,_l=_+240|0,_e[_l>>2]=yy,_e[_l+4>>2]=dy,h2=ey*(r2*wy-h2*I0)-H0*(h2*wy+r2*I0),_e[_+264>>2]=h2,r2=ey*(w2*hy-f2*O2)-H0*(f2*hy+w2*O2),_e[_+256>>2]=r2,O2=o2+L_+h2*b2*h2+r2*H_*r2,f2=H0,w2=ey),O2=O2+0,_e[C2>>2]=O2,(l[_+80>>2]|0)==1?(_e[_+248>>2]=0,_e[_+252>>2]=0,S2=+_e[_+152>>2],_e[_+260>>2]=S2,_e[_+268>>2]=S2,P2=S2*S2*(n2+A2),c2=0,Y2=0,k2=S2):(_1=+_e[_+132>>2],H0=+_e[_+136>>2],hy=P2*_1-S2*H0,H0=S2*_1+P2*H0,_1=+_e[_+116>>2]-Y2,ey=+_e[_+120>>2]-+_e[_+204>>2],I0=+_e[_+100>>2]-+_e[d2>>2],wy=+_e[_+104>>2]-+_e[_+188>>2],dy=+_e[_+152>>2],yy=hy*dy,Y2=H0*dy,d1=+yy,I1=+Y2,_l=_+248|0,_e[_l>>2]=d1,_e[_l+4>>2]=I1,S2=(H0*(P2*_1-S2*ey)-hy*(S2*_1+P2*ey))*dy,_e[_+268>>2]=S2,k2=dy*(H0*(k2*I0-c2*wy)-hy*(c2*I0+k2*wy)),_e[_+260>>2]=k2,P2=dy*dy*(z_+Q_)+S2*A2*S2+k2*k2*n2,c2=yy),P2=O2+P2,_e[C2>>2]=P2,P2>0?P2=1/P2:P2=0,_e[C2>>2]=P2,C2=_+156|0,_o[_t+20>>0]|0){d1=+_e[C2>>2],O2=L_*d1,hy=d1*Q_,dy=d1*o2,I1=d1*z_,P2=g2+f2*O2,O2=J_+O2*w2,H0=_s+c2*hy,hy=e_+hy*Y2,wy=n_-f2*dy,dy=__-w2*dy,_1=c_-c2*I1,I1=u_-Y2*I1,ey=x_+d1*H_*r2,I0=A_+d1*n2*k2,yy=g_-d1*b2*h2,d1=f_-d1*A2*S2,_l=l[I_>>2]|0,c0=l[R_>>2]|0,_l=c0+(_l*12|0)|0,P2=+P2,O2=+O2,c0=_l,_e[c0>>2]=P2,_l=_l+4|0,_e[_l>>2]=O2,_l=l[I_>>2]|0,c0=l[R_>>2]|0,_l=c0+(_l*12|0)+8|0,_e[_l>>2]=ey,_l=l[_r>>2]|0,_l=c0+(_l*12|0)|0,H0=+H0,hy=+hy,c0=_l,_e[c0>>2]=H0,_l=_l+4|0,_e[_l>>2]=hy,_l=l[_r>>2]|0,c0=l[R_>>2]|0,_l=c0+(_l*12|0)+8|0,_e[_l>>2]=I0,_l=l[V_>>2]|0,_l=c0+(_l*12|0)|0,wy=+wy,dy=+dy,c0=_l,_e[c0>>2]=wy,_l=_l+4|0,_e[_l>>2]=dy,_l=l[V_>>2]|0,c0=l[R_>>2]|0,_l=c0+(_l*12|0)+8|0,_e[_l>>2]=yy,_l=l[M_>>2]|0,_l=c0+(_l*12|0)|0,_1=+_1,I1=+I1,c0=_l,_e[c0>>2]=_1,_l=_l+4|0,_e[_l>>2]=I1,_l=l[M_>>2]|0,c0=l[R_>>2]|0,_l=c0+(_l*12|0)+8|0,_e[_l>>2]=d1,ws=w_;return}else{_e[C2>>2]=0,P2=g2,O2=J_,H0=_s,hy=e_,wy=n_,dy=__,_1=c_,I1=u_,ey=x_,I0=A_,yy=g_,d1=f_,_l=l[I_>>2]|0,c0=l[R_>>2]|0,_l=c0+(_l*12|0)|0,P2=+P2,O2=+O2,c0=_l,_e[c0>>2]=P2,_l=_l+4|0,_e[_l>>2]=O2,_l=l[I_>>2]|0,c0=l[R_>>2]|0,_l=c0+(_l*12|0)+8|0,_e[_l>>2]=ey,_l=l[_r>>2]|0,_l=c0+(_l*12|0)|0,H0=+H0,hy=+hy,c0=_l,_e[c0>>2]=H0,_l=_l+4|0,_e[_l>>2]=hy,_l=l[_r>>2]|0,c0=l[R_>>2]|0,_l=c0+(_l*12|0)+8|0,_e[_l>>2]=I0,_l=l[V_>>2]|0,_l=c0+(_l*12|0)|0,wy=+wy,dy=+dy,c0=_l,_e[c0>>2]=wy,_l=_l+4|0,_e[_l>>2]=dy,_l=l[V_>>2]|0,c0=l[R_>>2]|0,_l=c0+(_l*12|0)+8|0,_e[_l>>2]=yy,_l=l[M_>>2]|0,_l=c0+(_l*12|0)|0,_1=+_1,I1=+I1,c0=_l,_e[c0>>2]=_1,_l=_l+4|0,_e[_l>>2]=I1,_l=l[M_>>2]|0,c0=l[R_>>2]|0,_l=c0+(_l*12|0)+8|0,_e[_l>>2]=d1,ws=w_;return}}function EY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0;_r=ws,z_=_+160|0,M_=l[z_>>2]|0,_s=_t+28|0,h2=l[_s>>2]|0,A_=h2+(M_*12|0)|0,b2=+_e[A_>>2],A2=+_e[A_+4>>2],L_=+_e[h2+(M_*12|0)+8>>2],M_=_+164|0,A_=l[M_>>2]|0,_t=h2+(A_*12|0)|0,Q_=+_e[_t>>2],o2=+_e[_t+4>>2],f_=+_e[h2+(A_*12|0)+8>>2],A_=_+168|0,_t=l[A_>>2]|0,w2=h2+(_t*12|0)|0,V_=+_e[w2>>2],J_=+_e[w2+4>>2],n_=+_e[h2+(_t*12|0)+8>>2],_t=_+172|0,w2=l[_t>>2]|0,r2=h2+(w2*12|0)|0,x_=+_e[r2>>2],u_=+_e[r2+4>>2],C2=+_e[h2+(w2*12|0)+8>>2],I_=+_e[_+240>>2],R_=+_e[_+244>>2],__=+_e[_+248>>2],c_=+_e[_+252>>2],H_=+_e[_+256>>2],g_=+_e[_+264>>2],w_=+_e[_+260>>2],e_=+_e[_+268>>2],n2=+_e[_+272>>2]*((b2-V_)*I_+(A2-J_)*R_+((Q_-x_)*__+(o2-u_)*c_)+(L_*H_-n_*g_+(f_*w_-C2*e_))),g2=-n2,w2=_+156|0,_e[w2>>2]=+_e[w2>>2]-n2,n2=+_e[_+208>>2]*g2,H_=L_+ +_e[_+224>>2]*g2*H_,L_=+_e[_+212>>2]*g2,w_=f_+ +_e[_+228>>2]*g2*w_,f_=+_e[_+216>>2]*g2,g_=n_-+_e[_+232>>2]*g2*g_,n_=+_e[_+220>>2]*g2,e_=C2-+_e[_+236>>2]*g2*e_,b2=+(b2+I_*n2),n2=+(A2+R_*n2),_=(l[_s>>2]|0)+((l[z_>>2]|0)*12|0)|0,_e[_>>2]=b2,_e[_+4>>2]=n2,_=l[_s>>2]|0,_e[_+((l[z_>>2]|0)*12|0)+8>>2]=H_,Q_=+(Q_+__*L_),L_=+(o2+L_*c_),_=_+((l[M_>>2]|0)*12|0)|0,_e[_>>2]=Q_,_e[_+4>>2]=L_,_=l[_s>>2]|0,_e[_+((l[M_>>2]|0)*12|0)+8>>2]=w_,I_=+(V_-I_*f_),f_=+(J_-R_*f_),_=_+((l[A_>>2]|0)*12|0)|0,_e[_>>2]=I_,_e[_+4>>2]=f_,_=l[_s>>2]|0,_e[_+((l[A_>>2]|0)*12|0)+8>>2]=g_,__=+(x_-__*n_),n_=+(u_-c_*n_),_=_+((l[_t>>2]|0)*12|0)|0,_e[_>>2]=__,_e[_+4>>2]=n_,_e[(l[_s>>2]|0)+((l[_t>>2]|0)*12|0)+8>>2]=e_,ws=_r}function jY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0,_p=0,_0=0,C0=0,P0=0;return _s=ws,_r=_+160|0,A_=l[_r>>2]|0,I_=_t+24|0,O2=l[I_>>2]|0,M_=O2+(A_*12|0)|0,_t=M_,L_=+_e[_t>>2],w_=+_e[_t+4>>2],V_=+_e[O2+(A_*12|0)+8>>2],_t=_+164|0,A_=l[_t>>2]|0,R_=O2+(A_*12|0)|0,n_=+_e[R_>>2],__=+_e[R_+4>>2],c_=+_e[O2+(A_*12|0)+8>>2],A_=_+168|0,R_=l[A_>>2]|0,P2=O2+(R_*12|0)|0,u_=+_e[P2>>2],x_=+_e[P2+4>>2],g_=+_e[O2+(R_*12|0)+8>>2],R_=_+172|0,P2=l[R_>>2]|0,L2=O2+(P2*12|0)|0,f_=+_e[L2>>2],e_=+_e[L2+4>>2],J_=+_e[O2+(P2*12|0)+8>>2],Q_=+F2(+V_),o2=+V2(+V_),w2=+F2(+c_),h2=+V2(+c_),C2=+F2(+g_),r2=+V2(+g_),g2=+F2(+J_),A2=+V2(+J_),(l[_+76>>2]|0)==1?(k2=+_e[_+224>>2],r2=+_e[_+232>>2],n2=0,b2=0,z_=k2,Q_=r2,H_=1,o2=1,C2=V_-g_-+_e[_+140>>2],r2=k2+r2):(_p=+_e[_+124>>2],B2=+_e[_+128>>2],n2=r2*_p-C2*B2,b2=C2*_p+r2*B2,j2=+_e[_+108>>2]-+_e[_+192>>2],c2=+_e[_+112>>2]-+_e[_+196>>2],S2=+_e[_+92>>2]-+_e[_+176>>2],x2=+_e[_+96>>2]-+_e[_+180>>2],f2=o2*S2-Q_*x2,x2=Q_*S2+o2*x2,S2=b2*(r2*j2-C2*c2)-n2*(C2*j2+r2*c2),k2=b2*f2-n2*x2,d2=+_e[_+232>>2],Y2=+_e[_+224>>2],f2=L_-u_+f2,x2=w_-x_+x2,z_=Y2,Q_=d2,H_=k2,o2=S2,C2=_p*(r2*f2+C2*x2-j2)+B2*(r2*x2-C2*f2-c2),r2=+_e[_+216>>2]+ +_e[_+208>>2]+S2*S2*d2+k2*Y2*k2),(l[_+80>>2]|0)==1?(w2=+_e[_+152>>2],d2=+_e[_+228>>2],h2=+_e[_+236>>2],k2=w2*w2*(d2+h2),Y2=w2,f2=0,c2=0,S2=w2,A2=c_-J_-+_e[_+144>>2]):(C0=+_e[_+132>>2],x2=+_e[_+136>>2],f2=A2*C0-g2*x2,P0=g2*C0+A2*x2,_0=+_e[_+116>>2]-+_e[_+200>>2],_p=+_e[_+120>>2]-+_e[_+204>>2],c2=+_e[_+100>>2]-+_e[_+184>>2],B2=+_e[_+104>>2]-+_e[_+188>>2],j2=h2*c2-w2*B2,B2=w2*c2+h2*B2,c2=+_e[_+152>>2],w2=c2*(P0*(A2*_0-g2*_p)-f2*(g2*_0+A2*_p)),S2=c2*(P0*j2-f2*B2),h2=+_e[_+236>>2],d2=+_e[_+228>>2],j2=n_-f_+j2,B2=__-e_+B2,k2=c2*c2*(+_e[_+220>>2]+ +_e[_+212>>2])+w2*w2*h2+S2*d2*S2,Y2=c2,f2=f2*c2,c2=P0*c2,A2=C0*(A2*j2+g2*B2-_0)+x2*(A2*B2-g2*j2-_p)),g2=r2+0+k2,g2>0?A2=-(C2+A2*Y2-+_e[_+148>>2])/g2:A2=0,_p=A2*+_e[_+208>>2],_0=A2*+_e[_+212>>2],C0=A2*+_e[_+216>>2],P0=A2*+_e[_+220>>2],j2=+(L_+n2*_p),_p=+(w_+b2*_p),L2=M_,_e[L2>>2]=j2,_e[L2+4>>2]=_p,L2=l[I_>>2]|0,_e[L2+((l[_r>>2]|0)*12|0)+8>>2]=V_+H_*A2*z_,_p=+(n_+f2*_0),_0=+(__+c2*_0),L2=L2+((l[_t>>2]|0)*12|0)|0,_e[L2>>2]=_p,_e[L2+4>>2]=_0,L2=l[I_>>2]|0,_e[L2+((l[_t>>2]|0)*12|0)+8>>2]=c_+S2*A2*d2,_0=+(u_-n2*C0),C0=+(x_-b2*C0),L2=L2+((l[A_>>2]|0)*12|0)|0,_e[L2>>2]=_0,_e[L2+4>>2]=C0,L2=l[I_>>2]|0,_e[L2+((l[A_>>2]|0)*12|0)+8>>2]=g_-o2*A2*Q_,C0=+(f_-f2*P0),P0=+(e_-c2*P0),L2=L2+((l[R_>>2]|0)*12|0)|0,_e[L2>>2]=C0,_e[L2+4>>2]=P0,_e[(l[I_>>2]|0)+((l[R_>>2]|0)*12|0)+8>>2]=J_-w2*A2*h2,ws=_s,1}function zY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+48>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+92>>2],e_=+_e[c_+20>>2],_s=+_e[_t+96>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function WY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+52>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+100>>2],e_=+_e[c_+20>>2],_s=+_e[_t+104>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function NY(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0,e_=0;e_=+_e[_t+156>>2],_s=e_*+_e[_t+244>>2]*_r,_e[_>>2]=e_*+_e[_t+240>>2]*_r,_e[_+4>>2]=_s}function OY(_,_t){return _=_|0,_t=+_t,+(+_e[_+156>>2]*+_e[_+256>>2]*_t)}function UY(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0;_t=ws,ws=ws+16|0,_r=_t,__=l[(l[_+48>>2]|0)+8>>2]|0,n_=l[(l[_+52>>2]|0)+8>>2]|0,e_=l[(l[_+68>>2]|0)+56>>2]|0,_s=l[(l[_+72>>2]|0)+56>>2]|0,_a(15568,_r),l[_r>>2]=__,_a(17784,_r),l[_r>>2]=n_,_a(17816,_r),l[_r>>2]=t_[_+61>>0],_a(17848,_r),l[_r>>2]=e_,_a(15592,_r),l[_r>>2]=_s,_a(15624,_r),l_[s_>>3]=+_e[_+152>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(17048,_r),l[_r>>2]=l[_+56>>2],_a(18184,_r),ws=_t}function XY(_){_=_|0}function YY(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function HY(_){_=_|0,_=ws,ws=ws+16|0,_a(15856,_),ws=_}function ZY(_){_=_|0}function KY(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function QY(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0;if(__=ws,z_=l[_+52>>2]|0,e_=l[z_+8>>2]|0,n_=_+116|0,l[n_>>2]=e_,Q_=z_+28|0,o2=l[Q_>>2]|0,Q_=l[Q_+4>>2]|0,_s=_+128|0,l[_s>>2]=o2,l[_s+4>>2]=Q_,c_=+_e[z_+120>>2],_e[_+136>>2]=c_,_r=+_e[z_+128>>2],_e[_+140>>2]=_r,_s=l[_t+24>>2]|0,H_=_s+(e_*12|0)|0,f_=+_e[H_>>2],A_=+_e[H_+4>>2],J_=+_e[_s+(e_*12|0)+8>>2],_s=_t+28|0,H_=l[_s>>2]|0,n2=H_+(e_*12|0)|0,x_=+_e[n2>>2],u_=+_e[n2+4>>2],g_=+_e[H_+(e_*12|0)+8>>2],M_=+F2(+J_),J_=+V2(+J_),L_=+_e[z_+116>>2],w_=+_e[_+84>>2]*6.2831854820251465,V_=+_e[_t>>2],I_=V_*L_*w_*w_,L_=w_*L_*2*+_e[_+88>>2]+I_,w_=(l[s_>>2]=o2,+_e[s_>>2]),R_=(l[s_>>2]=Q_,+_e[s_>>2]),L_>11920928955078125e-23||X2(16232,15984,125,16272),V_=V_*L_,V_!=0&&(V_=1/V_),_e[_+108>>2]=V_,I_=I_*V_,_e[_+92>>2]=I_,w_=+_e[_+68>>2]-w_,L_=+_e[_+72>>2]-R_,R_=J_*w_-M_*L_,J_=M_*w_+J_*L_,L_=+R_,w_=+J_,n2=_+120|0,_e[n2>>2]=L_,_e[n2+4>>2]=w_,w_=V_+(c_+J_*_r*J_),L_=_r*R_,M_=J_*L_,V_=V_+(c_+R_*L_),L_=w_*V_-M_*M_,L_!=0&&(L_=1/L_),M_=M_*L_,_e[_+144>>2]=V_*L_,_e[_+148>>2]=M_,_e[_+152>>2]=M_,_e[_+156>>2]=w_*L_,Q_=_+160|0,L_=f_+R_-+_e[_+76>>2],A_=A_+J_-+_e[_+80>>2],M_=+L_,w_=+A_,n2=Q_,_e[n2>>2]=M_,_e[n2+4>>2]=w_,_e[Q_>>2]=I_*L_,_e[_+164>>2]=I_*A_,A_=g_*.9800000190734863,Q_=_+96|0,_o[_t+20>>0]|0){V_=+_e[_t+8>>2],L_=V_*+_e[Q_>>2],_e[Q_>>2]=L_,n2=_+100|0,V_=V_*+_e[n2>>2],_e[n2>>2]=V_,M_=x_+c_*L_,w_=u_+V_*c_,L_=A_+_r*(V_*R_-L_*J_),n2=l[_s>>2]|0,n2=n2+(e_*12|0)|0,M_=+M_,w_=+w_,H_=n2,_e[H_>>2]=M_,n2=n2+4|0,_e[n2>>2]=w_,n2=l[n_>>2]|0,H_=l[_s>>2]|0,n2=H_+(n2*12|0)+8|0,_e[n2>>2]=L_,ws=__;return}else{_e[Q_>>2]=0,_e[_+100>>2]=0,M_=x_,w_=u_,L_=A_,n2=l[_s>>2]|0,n2=n2+(e_*12|0)|0,M_=+M_,w_=+w_,H_=n2,_e[H_>>2]=M_,n2=n2+4|0,_e[n2>>2]=w_,n2=l[n_>>2]|0,H_=l[_s>>2]|0,n2=H_+(n2*12|0)+8|0,_e[n2>>2]=L_,ws=__;return}}function $Y(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0;g_=ws,_s=_+116|0,J_=l[_s>>2]|0,e_=_t+28|0,R_=l[e_>>2]|0,n_=R_+(J_*12|0)|0,Q_=n_,c_=+_e[Q_>>2],__=+_e[Q_+4>>2],A_=+_e[R_+(J_*12|0)+8>>2],u_=+_e[_+124>>2],x_=+_e[_+120>>2],V_=+_e[_+108>>2],J_=_+96|0,L_=+_e[J_>>2],R_=_+100|0,I_=+_e[R_>>2],M_=-(c_-A_*u_+ +_e[_+160>>2]+V_*L_),V_=-(__+A_*x_+ +_e[_+164>>2]+V_*I_),w_=+_e[_+148>>2]*M_+ +_e[_+156>>2]*V_,Q_=J_,f_=+_e[Q_>>2],_r=+_e[Q_+4>>2],V_=L_+(+_e[_+144>>2]*M_+ +_e[_+152>>2]*V_),_e[J_>>2]=V_,I_=w_+I_,_e[R_>>2]=I_,w_=+_e[_t>>2]*+_e[_+104>>2],M_=I_*I_+V_*V_,M_>w_*w_&&(L_=w_/+G2(+M_),V_=V_*L_,_e[J_>>2]=V_,I_=L_*I_,_e[R_>>2]=I_),M_=V_-f_,V_=I_-_r,w_=+_e[_+136>>2],L_=A_+ +_e[_+140>>2]*(V_*x_-M_*u_),M_=+(c_+M_*w_),w_=+(__+V_*w_),Q_=n_,_e[Q_>>2]=M_,_e[Q_+4>>2]=w_,_e[(l[e_>>2]|0)+((l[_s>>2]|0)*12|0)+8>>2]=L_,ws=g_}function tH(_,_t){return _=_|0,_t=_t|0,1}function eH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t+76|0,_r=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function oH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+52>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+68>>2],e_=+_e[c_+20>>2],_s=+_e[_t+72>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function iH(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=+_e[_t+100>>2]*_r,_e[_>>2]=+_e[_t+96>>2]*_r,_e[_+4>>2]=_s}function rH(_,_t){return _=_|0,_t=+_t,+(_t*0)}function nH(_,_t){_=_|0,_t=_t|0;var _r=0;_r=_+76|0,_e[_r>>2]=+_e[_r>>2]-+_e[_t>>2],_=_+80|0,_e[_>>2]=+_e[_>>2]-+_e[_t+4>>2]}function sH(_){_=_|0,_=ws,ws=ws+16|0,_a(16328,_),ws=_}function _H(_){_=_|0}function aH(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function pH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0,_p=0,_0=0;I_=ws,g_=l[_+48>>2]|0,x2=l[g_+8>>2]|0,A_=_+144|0,l[A_>>2]=x2,L2=l[_+52>>2]|0,P2=l[L2+8>>2]|0,f_=_+148|0,l[f_>>2]=P2,Y2=g_+28|0,k2=l[Y2>>2]|0,Y2=l[Y2+4>>2]|0,S2=_+152|0,l[S2>>2]=k2,l[S2+4>>2]=Y2,S2=L2+28|0,d2=l[S2>>2]|0,S2=l[S2+4>>2]|0,c2=_+160|0,l[c2>>2]=d2,l[c2+4>>2]=S2,c2=_+168|0,_e[c2>>2]=+_e[g_+120>>2],J_=+_e[L2+120>>2],_e[_+172>>2]=J_,V_=+_e[g_+128>>2],_e[_+176>>2]=V_,w_=+_e[L2+128>>2],_e[_+180>>2]=w_,L2=l[_t+24>>2]|0,g_=L2+(x2*12|0)|0,n2=+_e[g_>>2],g2=+_e[g_+4>>2],f2=+_e[L2+(x2*12|0)+8>>2],g_=_t+28|0,O2=l[g_>>2]|0,B2=O2+(x2*12|0)|0,e_=+_e[B2>>2],n_=+_e[B2+4>>2],u_=+_e[O2+(x2*12|0)+8>>2],x2=L2+(P2*12|0)|0,L_=+_e[x2>>2],R_=+_e[x2+4>>2],_s=+_e[L2+(P2*12|0)+8>>2],L2=O2+(P2*12|0)|0,__=+_e[L2>>2],c_=+_e[L2+4>>2],x_=+_e[O2+(P2*12|0)+8>>2],o2=+F2(+f2),f2=+V2(+f2),_r=+F2(+_s),_s=+V2(+_s),M_=+_e[_+68>>2]-(l[s_>>2]=k2,+_e[s_>>2]),r2=+_e[_+72>>2]-(l[s_>>2]=Y2,+_e[s_>>2]),z_=f2*M_-o2*r2,r2=o2*M_+f2*r2,M_=+_e[_+76>>2]-(l[s_>>2]=d2,+_e[s_>>2]),H_=+_e[_+80>>2]-(l[s_>>2]=S2,+_e[s_>>2]),h2=_s*M_-_r*H_,H_=_r*M_+_s*H_,n2=L_-n2+h2-z_,g2=R_-g2+H_-r2,R_=+_e[c2>>2],L_=+_e[_+84>>2],_s=+_e[_+88>>2],M_=f2*L_-o2*_s,_s=o2*L_+f2*_s,L_=+M_,_r=+_s,c2=_+184|0,_e[c2>>2]=L_,_e[c2+4>>2]=_r,z_=z_+n2,r2=r2+g2,_r=z_*_s-r2*M_,_e[_+208>>2]=_r,L_=h2*_s-H_*M_,_e[_+212>>2]=L_,w2=R_+J_,b2=V_*_r,A2=w_*L_,C2=w2+_r*b2+L_*A2,C2>0?Q_=1/C2:Q_=C2,_e[_+252>>2]=Q_,_0=+_e[_+92>>2],_p=+_e[_+96>>2],Q_=f2*_0-o2*_p,o2=o2*_0+f2*_p,_p=+Q_,_0=+o2,B2=_+192|0,_e[B2>>2]=_p,_e[B2+4>>2]=_0,z_=z_*o2-r2*Q_,_e[_+200>>2]=z_,H_=h2*o2-H_*Q_,_e[_+204>>2]=H_,_0=V_*z_,_p=w_*H_,j2=_0+_p,r2=_0*_r+_p*L_,h2=w_+V_,f2=b2+A2,_e[_+216>>2]=w2+z_*_0+H_*_p,_e[_+220>>2]=j2,_e[_+224>>2]=r2,_e[_+228>>2]=j2,_e[_+232>>2]=h2==0?1:h2,_e[_+236>>2]=f2,_e[_+240>>2]=r2,_e[_+244>>2]=f2,_e[_+248>>2]=C2;do if(_o[_+136>>0]|0){if(n2=n2*M_+g2*_s,b2=+_e[_+124>>2],A2=+_e[_+120>>2],g2=b2-A2,g2>0||(g2=-g2),g2<.009999999776482582){l[_+140>>2]=3;break}if(n2<=A2){if(c2=_+140|0,(l[c2>>2]|0)==1)break;l[c2>>2]=1,_e[_+112>>2]=0;break}if(c2=_+140|0,!(n2>=b2)){l[c2>>2]=0,_e[_+112>>2]=0;break}(l[c2>>2]|0)!=2&&(l[c2>>2]=2,_e[_+112>>2]=0)}else l[_+140>>2]=0,_e[_+112>>2]=0;while(!1);if(_o[_+137>>0]|0||(_e[_+116>>2]=0),c2=_+104|0,_o[_t+20>>0]|0){x2=_t+8|0,_0=+_e[x2>>2],w2=_0*+_e[c2>>2],_e[c2>>2]=w2,B2=_+108|0,C2=_0*+_e[B2>>2],_e[B2>>2]=C2,B2=_+112|0,_0=_0*+_e[B2>>2],_e[B2>>2]=_0,B2=_+116|0,j2=+_e[x2>>2]*+_e[B2>>2],_e[B2>>2]=j2,_0=j2+_0,j2=w2*Q_+M_*_0,_p=w2*o2+_0*_s,h2=e_-R_*j2,r2=n_-R_*_p,j2=__+J_*j2,_p=c_+J_*_p,f2=u_-V_*(w2*z_+C2+_0*_r),_0=x_+w_*(C2+w2*H_+_0*L_),B2=l[A_>>2]|0,x2=l[g_>>2]|0,B2=x2+(B2*12|0)|0,h2=+h2,r2=+r2,x2=B2,_e[x2>>2]=h2,B2=B2+4|0,_e[B2>>2]=r2,B2=l[A_>>2]|0,x2=l[g_>>2]|0,B2=x2+(B2*12|0)+8|0,_e[B2>>2]=f2,B2=l[f_>>2]|0,B2=x2+(B2*12|0)|0,j2=+j2,_p=+_p,x2=B2,_e[x2>>2]=j2,B2=B2+4|0,_e[B2>>2]=_p,B2=l[f_>>2]|0,x2=l[g_>>2]|0,B2=x2+(B2*12|0)+8|0,_e[B2>>2]=_0,ws=I_;return}else{l[c2+0>>2]=0,l[c2+4>>2]=0,l[c2+8>>2]=0,l[c2+12>>2]=0,h2=e_,r2=n_,j2=__,_p=c_,f2=u_,_0=x_,B2=l[A_>>2]|0,x2=l[g_>>2]|0,B2=x2+(B2*12|0)|0,h2=+h2,r2=+r2,x2=B2,_e[x2>>2]=h2,B2=B2+4|0,_e[B2>>2]=r2,B2=l[A_>>2]|0,x2=l[g_>>2]|0,B2=x2+(B2*12|0)+8|0,_e[B2>>2]=f2,B2=l[f_>>2]|0,B2=x2+(B2*12|0)|0,j2=+j2,_p=+_p,x2=B2,_e[x2>>2]=j2,B2=B2+4|0,_e[B2>>2]=_p,B2=l[f_>>2]|0,x2=l[g_>>2]|0,B2=x2+(B2*12|0)+8|0,_e[B2>>2]=_0,ws=I_;return}}function cH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0;if(_r=ws,ws=ws+48|0,A_=_r+28|0,V_=_r+16|0,g_=_r+8|0,H_=_r,c_=_+144|0,x_=l[c_>>2]|0,u_=_t+28|0,c2=l[u_>>2]|0,P2=c2+(x_*12|0)|0,M_=+_e[P2>>2],R_=+_e[P2+4>>2],w_=+_e[c2+(x_*12|0)+8>>2],x_=_+148|0,P2=l[x_>>2]|0,f2=c2+(P2*12|0)|0,J_=+_e[f2>>2],f_=+_e[f2+4>>2],o2=+_e[c2+(P2*12|0)+8>>2],_s=+_e[_+168>>2],e_=+_e[_+172>>2],n_=+_e[_+176>>2],__=+_e[_+180>>2],(_o[_+137>>0]|0)!=0&&(l[_+140>>2]|0)!=3&&(S2=+_e[_+184>>2],C2=+_e[_+188>>2],Y2=+_e[_+212>>2],d2=+_e[_+208>>2],P2=_+116|0,k2=+_e[P2>>2],b2=+_e[_t>>2]*+_e[_+128>>2],O2=k2+ +_e[_+252>>2]*(+_e[_+132>>2]-((J_-M_)*S2+(f_-R_)*C2+o2*Y2-w_*d2)),n2=-b2,b2=O2<b2?O2:b2,b2=b2<n2?n2:b2,_e[P2>>2]=b2,k2=b2-k2,S2=S2*k2,C2=C2*k2,f_=f_+e_*C2,R_=R_-_s*C2,J_=J_+e_*S2,M_=M_-_s*S2,w_=w_-n_*d2*k2,o2=o2+__*Y2*k2),Y2=J_-M_,k2=f_-R_,L_=_+192|0,z_=_+196|0,Q_=_+204|0,_t=_+200|0,S2=Y2*+_e[L_>>2]+k2*+_e[z_>>2]+o2*+_e[Q_>>2]-w_*+_e[_t>>2],d2=o2-w_,(_o[_+136>>0]|0)!=0&&(I_=_+140|0,(l[I_>>2]|0)!=0)){r2=_+184|0,c2=_+188|0,H_=_+212|0,f2=_+208|0,w2=_+104|0,n2=+_e[w2>>2],h2=_+108|0,b2=+_e[h2>>2],g2=_+112|0,C2=+_e[g2>>2],A2=_+216|0,S2=-S2,d2=-d2,Y2=-(Y2*+_e[r2>>2]+k2*+_e[c2>>2]+o2*+_e[H_>>2]-w_*+_e[f2>>2]),_e[V_>>2]=S2,_e[V_+4>>2]=d2,_e[V_+8>>2]=Y2,P4(A_,A2,V_),_e[w2>>2]=+_e[A_>>2]+ +_e[w2>>2],P2=A_+4|0,_e[h2>>2]=+_e[P2>>2]+ +_e[h2>>2],V_=A_+8|0,Y2=+_e[V_>>2]+ +_e[g2>>2],_e[g2>>2]=Y2,I_=l[I_>>2]|0,(I_|0)==1?(Y2=Y2>0?Y2:0,_e[g2>>2]=Y2):(I_|0)==2&&(Y2=Y2<0?Y2:0,_e[g2>>2]=Y2),k2=Y2-C2,w4(g_,A2,S2-+_e[_+240>>2]*k2,d2-k2*+_e[_+244>>2]),S2=n2+ +_e[g_>>2],d2=b2+ +_e[g_+4>>2],_e[w2>>2]=S2,_e[h2>>2]=d2,S2=S2-n2,d2=d2-b2,k2=+_e[g2>>2]-C2,_e[A_>>2]=S2,_e[P2>>2]=d2,_e[V_>>2]=k2,O2=d2+S2*+_e[Q_>>2]+k2*+_e[H_>>2],Y2=S2*+_e[L_>>2]+k2*+_e[r2>>2],d2=S2*+_e[_t>>2]+d2+k2*+_e[f2>>2],k2=S2*+_e[z_>>2]+k2*+_e[c2>>2],S2=_s*k2,C2=_s*Y2,C2=M_-C2,S2=R_-S2,Y2=e_*Y2,k2=e_*k2,Y2=J_+Y2,k2=f_+k2,d2=n_*d2,O2=__*O2,d2=w_-d2,O2=o2+O2,P2=l[c_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)|0,C2=+C2,S2=+S2,c2=P2,_e[c2>>2]=C2,P2=P2+4|0,_e[P2>>2]=S2,P2=l[c_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)+8|0,_e[P2>>2]=d2,P2=l[x_>>2]|0,P2=c2+(P2*12|0)|0,Y2=+Y2,k2=+k2,c2=P2,_e[c2>>2]=Y2,P2=P2+4|0,_e[P2>>2]=k2,P2=l[x_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)+8|0,_e[P2>>2]=O2,ws=_r;return}w4(H_,_+216|0,-S2,-d2),k2=+_e[H_>>2],P2=_+104|0,_e[P2>>2]=k2+ +_e[P2>>2],d2=+_e[H_+4>>2],P2=_+108|0,_e[P2>>2]=d2+ +_e[P2>>2],O2=d2+k2*+_e[Q_>>2],Y2=k2*+_e[L_>>2],d2=k2*+_e[_t>>2]+d2,k2=k2*+_e[z_>>2],S2=_s*k2,C2=_s*Y2,C2=M_-C2,S2=R_-S2,Y2=e_*Y2,k2=e_*k2,Y2=J_+Y2,k2=f_+k2,d2=n_*d2,O2=__*O2,d2=w_-d2,O2=o2+O2,P2=l[c_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)|0,C2=+C2,S2=+S2,c2=P2,_e[c2>>2]=C2,P2=P2+4|0,_e[P2>>2]=S2,P2=l[c_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)+8|0,_e[P2>>2]=d2,P2=l[x_>>2]|0,P2=c2+(P2*12|0)|0,Y2=+Y2,k2=+k2,c2=P2,_e[c2>>2]=Y2,P2=P2+4|0,_e[P2>>2]=k2,P2=l[x_>>2]|0,c2=l[u_>>2]|0,P2=c2+(P2*12|0)+8|0,_e[P2>>2]=O2,ws=_r}function lH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0;_s=ws,ws=ws+64|0,C2=_s+24|0,n2=_s+12|0,A2=_s,_r=_+144|0,Y2=l[_r>>2]|0,L_=_t+24|0,k2=l[L_>>2]|0,_t=k2+(Y2*12|0)|0,M_=+_e[_t>>2],w_=+_e[_t+4>>2],o2=+_e[k2+(Y2*12|0)+8>>2],_t=_+148|0,Y2=l[_t>>2]|0,P2=k2+(Y2*12|0)|0,z_=+_e[P2>>2],H_=+_e[P2+4>>2],c_=+_e[k2+(Y2*12|0)+8>>2],c2=+F2(+o2),d2=+V2(+o2),u_=+F2(+c_),h2=+V2(+c_),x_=+_e[_+168>>2],A_=+_e[_+172>>2],Q_=+_e[_+176>>2],e_=+_e[_+180>>2],r2=+_e[_+68>>2]-+_e[_+152>>2],g_=+_e[_+72>>2]-+_e[_+156>>2],b2=d2*r2-c2*g_,g_=c2*r2+d2*g_,r2=+_e[_+76>>2]-+_e[_+160>>2],f_=+_e[_+80>>2]-+_e[_+164>>2],g2=h2*r2-u_*f_,f_=u_*r2+h2*f_,h2=z_+g2-M_-b2,r2=H_+f_-w_-g_,u_=+_e[_+84>>2],J_=+_e[_+88>>2],I_=d2*u_-c2*J_,J_=c2*u_+d2*J_,b2=b2+h2,g_=g_+r2,u_=J_*b2-I_*g_,__=g2*J_-f_*I_,S2=+_e[_+92>>2],V_=+_e[_+96>>2],R_=d2*S2-c2*V_,V_=c2*S2+d2*V_,g_=V_*b2-R_*g_,f_=g2*V_-f_*R_,g2=R_*h2+V_*r2,b2=c_-o2-+_e[_+100>>2],g2>0?w2=g2:w2=-g2,b2>0?n_=b2:n_=-b2;do if(_o[_+136>>0]|0){if(h2=I_*h2+J_*r2,r2=+_e[_+124>>2],f2=+_e[_+120>>2],c2=r2-f2,c2>0||(c2=-c2),c2<.009999999776482582){r2=h2<.20000000298023224?h2:.20000000298023224,h2>0||(h2=-h2),f2=r2<-.20000000298023224?-.20000000298023224:r2,_=1,w2=w2>h2?w2:h2;break}if(h2<=f2){S2=h2-f2+.004999999888241291,S2=S2<0?S2:0,d2=f2-h2,f2=S2<-.20000000298023224?-.20000000298023224:S2,_=1,w2=w2>d2?w2:d2;break}h2>=r2?(d2=h2-r2,f2=d2+-.004999999888241291,f2=f2<.20000000298023224?f2:.20000000298023224,f2=f2<0?0:f2,_=1,w2=w2>d2?w2:d2):(f2=0,_=0)}else f2=0,_=0;while(!1);return c2=x_+A_,S2=Q_*g_,d2=e_*f_,h2=f_*d2+(c2+g_*S2),r2=d2+S2,_?(L2=__*d2+u_*S2,x2=Q_+e_,d2=Q_*u_,S2=e_*__,O2=S2+d2,_e[C2>>2]=h2,_e[C2+4>>2]=r2,_e[C2+8>>2]=L2,_e[C2+12>>2]=r2,_e[C2+16>>2]=x2==0?1:x2,_e[C2+20>>2]=O2,_e[C2+24>>2]=L2,_e[C2+28>>2]=O2,_e[C2+32>>2]=__*S2+(c2+u_*d2),_e[A2>>2]=-g2,_e[A2+4>>2]=-b2,_e[A2+8>>2]=-f2,P4(n2,C2,A2),b2=+_e[n2>>2],f2=+_e[n2+8>>2],g2=+_e[n2+4>>2]):(f2=Q_+e_,f2=f2==0?1:f2,g2=-g2,c2=-b2,S2=f2*h2-r2*r2,S2!=0&&(S2=1/S2),b2=(f2*g2-r2*c2)*S2,f2=0,g2=(h2*c2-r2*g2)*S2),L2=I_*f2+R_*b2,x2=J_*f2+V_*b2,d2=+(M_-x_*L2),O2=+(w_-x_*x2),P2=(l[L_>>2]|0)+((l[_r>>2]|0)*12|0)|0,_e[P2>>2]=d2,_e[P2+4>>2]=O2,P2=l[L_>>2]|0,_e[P2+((l[_r>>2]|0)*12|0)+8>>2]=o2-Q_*(u_*f2+(g2+g_*b2)),L2=+(z_+A_*L2),x2=+(H_+A_*x2),P2=P2+((l[_t>>2]|0)*12|0)|0,_e[P2>>2]=L2,_e[P2+4>>2]=x2,_e[(l[L_>>2]|0)+((l[_t>>2]|0)*12|0)+8>>2]=c_+e_*(__*f2+(g2+f_*b2)),w2<=.004999999888241291?(P2=n_<=.03490658849477768,ws=_s,P2|0):(P2=0,ws=_s,P2|0)}function mH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+48>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+68>>2],e_=+_e[c_+20>>2],_s=+_e[_t+72>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function bH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+52>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+76>>2],e_=+_e[c_+20>>2],_s=+_e[_t+80>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function uH(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0,e_=0,n_=0;n_=+_e[_t+104>>2],e_=+_e[_t+116>>2]+ +_e[_t+112>>2],_s=(n_*+_e[_t+196>>2]+e_*+_e[_t+188>>2])*_r,_e[_>>2]=(n_*+_e[_t+192>>2]+ +_e[_t+184>>2]*e_)*_r,_e[_+4>>2]=_s}function hH(_,_t){return _=_|0,_t=+_t,+(+_e[_+108>>2]*_t)}function dH(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;_t=ws,ws=ws+16|0,_r=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,_a(16480,_r),l[_r>>2]=n_,_a(17784,_r),l[_r>>2]=_s,_a(17816,_r),l[_r>>2]=t_[_+61>>0],_a(17848,_r),e_=+_e[_+72>>2],l_[s_>>3]=+_e[_+68>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17888,_r),e_=+_e[_+80>>2],l_[s_>>3]=+_e[_+76>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17936,_r),e_=+_e[_+88>>2],l_[s_>>3]=+_e[_+84>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17984,_r),l_[s_>>3]=+_e[_+100>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(17640,_r),l[_r>>2]=t_[_+136>>0],_a(17280,_r),l_[s_>>3]=+_e[_+120>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(16512,_r),l_[s_>>3]=+_e[_+124>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(16552,_r),l[_r>>2]=t_[_+137>>0],_a(18024,_r),l_[s_>>3]=+_e[_+132>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18056,_r),l_[s_>>3]=+_e[_+128>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(16592,_r),l[_r>>2]=l[_+56>>2],_a(18184,_r),ws=_t}function yH(_){_=_|0}function xH(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function fH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0;if(A_=ws,V_=l[_+48>>2]|0,Y2=l[V_+8>>2]|0,c_=_+120|0,l[c_>>2]=Y2,d2=l[_+52>>2]|0,c2=l[d2+8>>2]|0,x_=_+124|0,l[x_>>2]=c2,n2=V_+28|0,f2=l[n2>>2]|0,n2=l[n2+4>>2]|0,L_=_+160|0,l[L_>>2]=f2,l[L_+4>>2]=n2,L_=d2+28|0,g2=l[L_>>2]|0,L_=l[L_+4>>2]|0,o2=_+168|0,l[o2>>2]=g2,l[o2+4>>2]=L_,o2=_+176|0,_e[o2>>2]=+_e[V_+120>>2],L_=_+180|0,_e[L_>>2]=+_e[d2+120>>2],Q_=_+184|0,_e[Q_>>2]=+_e[V_+128>>2],V_=_+188|0,_e[V_>>2]=+_e[d2+128>>2],d2=l[_t+24>>2]|0,u_=d2+(Y2*12|0)|0,w_=+_e[u_>>2],A2=+_e[u_+4>>2],R_=+_e[d2+(Y2*12|0)+8>>2],u_=_t+28|0,S2=l[u_>>2]|0,k2=S2+(Y2*12|0)|0,J_=+_e[k2>>2],I_=+_e[k2+4>>2],n_=+_e[S2+(Y2*12|0)+8>>2],Y2=d2+(c2*12|0)|0,H_=+_e[Y2>>2],b2=+_e[Y2+4>>2],z_=+_e[d2+(c2*12|0)+8>>2],d2=S2+(c2*12|0)|0,_s=+_e[d2>>2],e_=+_e[d2+4>>2],__=+_e[S2+(c2*12|0)+8>>2],_r=+F2(+R_),R_=+V2(+R_),r2=+F2(+z_),z_=+V2(+z_),M_=+_e[_+92>>2]-(l[s_>>2]=f2,+_e[s_>>2]),f_=+_e[_+96>>2]-(l[s_>>2]=n2,+_e[s_>>2]),g_=R_*M_-_r*f_,f_=_r*M_+R_*f_,R_=+g_,M_=+f_,n2=_+144|0,_e[n2>>2]=R_,_e[n2+4>>2]=M_,M_=+_e[_+100>>2]-(l[s_>>2]=g2,+_e[s_>>2]),R_=+_e[_+104>>2]-+_e[_+172>>2],_r=z_*M_-r2*R_,R_=r2*M_+z_*R_,z_=+_r,M_=+R_,g2=_+152|0,_e[g2>>2]=z_,_e[g2+4>>2]=M_,g2=_+128|0,w_=w_+g_-+_e[_+68>>2],A2=A2+f_-+_e[_+72>>2],M_=+w_,z_=+A2,n2=g2,_e[n2>>2]=M_,_e[n2+4>>2]=z_,n2=_+136|0,H_=H_+_r-+_e[_+76>>2],b2=b2+R_-+_e[_+80>>2],z_=+H_,M_=+b2,f2=n2,_e[f2>>2]=z_,_e[f2+4>>2]=M_,M_=+G2(+(w_*w_+A2*A2)),z_=+G2(+(H_*H_+b2*b2)),M_>.04999999701976776?(M_=1/M_,w_=w_*M_,_e[g2>>2]=w_,M_=M_*A2):(_e[g2>>2]=0,M_=0,w_=0),_e[_+132>>2]=M_,z_>.04999999701976776?(z_=1/z_,H_=z_*H_,_e[n2>>2]=H_,z_=z_*b2):(_e[n2>>2]=0,z_=0,H_=0),_e[_+140>>2]=z_,P2=g_*M_-f_*w_,r2=_r*z_-R_*H_,b2=+_e[o2>>2],A2=+_e[Q_>>2],C2=+_e[L_>>2],h2=+_e[V_>>2],w2=+_e[_+112>>2],r2=b2+P2*P2*A2+w2*w2*(C2+r2*r2*h2),r2>0&&(r2=1/r2),_e[_+192>>2]=r2,_o[_t+20>>0]|0){k2=_+116|0,P2=+_e[_t+8>>2]*+_e[k2>>2],_e[k2>>2]=P2,r2=-P2,w_=w_*r2,M_=M_*r2,w2=-(P2*w2),P2=H_*w2,z_=z_*w2,H_=J_+w_*b2,b2=I_+M_*b2,w2=_s+P2*C2,r2=e_+z_*C2,C2=n_+A2*(M_*g_-w_*f_),P2=__+h2*(z_*_r-P2*R_),k2=l[c_>>2]|0,Y2=l[u_>>2]|0,k2=Y2+(k2*12|0)|0,A2=+H_,h2=+b2,Y2=k2,_e[Y2>>2]=A2,k2=k2+4|0,_e[k2>>2]=h2,k2=l[c_>>2]|0,Y2=l[u_>>2]|0,k2=Y2+(k2*12|0)+8|0,_e[k2>>2]=C2,k2=l[x_>>2]|0,k2=Y2+(k2*12|0)|0,h2=+w2,r2=+r2,Y2=k2,_e[Y2>>2]=h2,k2=k2+4|0,_e[k2>>2]=r2,k2=l[x_>>2]|0,Y2=l[u_>>2]|0,k2=Y2+(k2*12|0)+8|0,_e[k2>>2]=P2,ws=A_;return}else{_e[_+116>>2]=0,A2=J_,C2=I_,h2=_s,r2=e_,w2=n_,P2=__,k2=l[c_>>2]|0,Y2=l[u_>>2]|0,k2=Y2+(k2*12|0)|0,A2=+A2,C2=+C2,Y2=k2,_e[Y2>>2]=A2,k2=k2+4|0,_e[k2>>2]=C2,k2=l[c_>>2]|0,Y2=l[u_>>2]|0,k2=Y2+(k2*12|0)+8|0,_e[k2>>2]=w2,k2=l[x_>>2]|0,k2=Y2+(k2*12|0)|0,h2=+h2,r2=+r2,Y2=k2,_e[Y2>>2]=h2,k2=k2+4|0,_e[k2>>2]=r2,k2=l[x_>>2]|0,Y2=l[u_>>2]|0,k2=Y2+(k2*12|0)+8|0,_e[k2>>2]=P2,ws=A_;return}}function gH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0;_r=ws,A_=_+120|0,z_=l[A_>>2]|0,_s=_t+28|0,H_=l[_s>>2]|0,R_=H_+(z_*12|0)|0,_t=R_,M_=+_e[_t>>2],V_=+_e[_t+4>>2],Q_=+_e[H_+(z_*12|0)+8>>2],_t=_+124|0,z_=l[_t>>2]|0,n2=H_+(z_*12|0)|0,x_=+_e[n2>>2],u_=+_e[n2+4>>2],L_=+_e[H_+(z_*12|0)+8>>2],g_=+_e[_+148>>2],n_=+_e[_+144>>2],e_=+_e[_+156>>2],w_=+_e[_+152>>2],I_=+_e[_+128>>2],J_=+_e[_+132>>2],o2=+_e[_+112>>2],__=+_e[_+136>>2],c_=+_e[_+140>>2],f_=+_e[_+192>>2]*(-((M_-Q_*g_)*I_+(V_+Q_*n_)*J_)-o2*((x_-L_*e_)*__+(u_+L_*w_)*c_)),z_=_+116|0,_e[z_>>2]=+_e[z_>>2]-f_,I_=I_*f_,J_=J_*f_,f_=o2*f_,__=__*f_,c_=f_*c_,f_=+_e[_+176>>2],g_=Q_+ +_e[_+184>>2]*(J_*n_-I_*g_),n_=+_e[_+180>>2],e_=L_+ +_e[_+188>>2]*(c_*w_-__*e_),I_=+(M_+I_*f_),f_=+(V_+J_*f_),_=R_,_e[_>>2]=I_,_e[_+4>>2]=f_,_=l[_s>>2]|0,_e[_+((l[A_>>2]|0)*12|0)+8>>2]=g_,__=+(x_+__*n_),n_=+(u_+c_*n_),_=_+((l[_t>>2]|0)*12|0)|0,_e[_>>2]=__,_e[_+4>>2]=n_,_e[(l[_s>>2]|0)+((l[_t>>2]|0)*12|0)+8>>2]=e_,ws=_r}function vH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0;return _r=ws,_s=_+120|0,A_=l[_s>>2]|0,_t=_t+24|0,w2=l[_t>>2]|0,u_=w2+(A_*12|0)|0,C2=u_,c_=+_e[C2>>2],R_=+_e[C2+4>>2],e_=+_e[w2+(A_*12|0)+8>>2],A_=_+124|0,C2=l[A_>>2]|0,h2=w2+(C2*12|0)|0,J_=+_e[h2>>2],x_=+_e[h2+4>>2],g_=+_e[w2+(C2*12|0)+8>>2],f_=+F2(+e_),V_=+V2(+e_),o2=+F2(+g_),w_=+V2(+g_),I_=+_e[_+92>>2]-+_e[_+160>>2],__=+_e[_+96>>2]-+_e[_+164>>2],n_=V_*I_-f_*__,__=f_*I_+V_*__,V_=+_e[_+100>>2]-+_e[_+168>>2],I_=+_e[_+104>>2]-+_e[_+172>>2],f_=w_*V_-o2*I_,I_=o2*V_+w_*I_,w_=c_+n_-+_e[_+68>>2],V_=R_+__-+_e[_+72>>2],o2=J_+f_-+_e[_+76>>2],Q_=x_+I_-+_e[_+80>>2],L_=+G2(+(w_*w_+V_*V_)),M_=+G2(+(o2*o2+Q_*Q_)),L_>.04999999701976776?(g2=1/L_,V_=V_*g2,w_=w_*g2):(V_=0,w_=0),M_>.04999999701976776?(A2=1/M_,Q_=Q_*A2,A2=o2*A2):(Q_=0,A2=0),r2=n_*V_-__*w_,g2=f_*Q_-I_*A2,H_=+_e[_+176>>2],z_=+_e[_+184>>2],o2=+_e[_+180>>2],n2=+_e[_+188>>2],b2=+_e[_+112>>2],g2=H_+r2*r2*z_+b2*b2*(o2+g2*g2*n2),g2>0&&(g2=1/g2),M_=+_e[_+108>>2]-L_-M_*b2,M_>0?L_=M_:L_=-M_,g2=g2*M_,w_=w_*g2,M_=V_*g2,g2=g2*b2,r2=A2*g2,g2=Q_*g2,A2=+(c_+w_*H_),b2=+(R_+M_*H_),h2=u_,_e[h2>>2]=A2,_e[h2+4>>2]=b2,h2=l[_t>>2]|0,_e[h2+((l[_s>>2]|0)*12|0)+8>>2]=e_+(n_*M_-__*w_)*z_,b2=+(J_+r2*o2),A2=+(x_+g2*o2),h2=h2+((l[A_>>2]|0)*12|0)|0,_e[h2>>2]=b2,_e[h2+4>>2]=A2,_e[(l[_t>>2]|0)+((l[A_>>2]|0)*12|0)+8>>2]=g_+n2*(f_*g2-I_*r2),ws=_r,L_<.004999999888241291|0}function AH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+48>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+92>>2],e_=+_e[c_+20>>2],_s=+_e[_t+96>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function SH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+52>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+100>>2],e_=+_e[c_+20>>2],_s=+_e[_t+104>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function CH(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0,e_=0;e_=+_e[_t+116>>2],_s=e_*+_e[_t+140>>2]*_r,_e[_>>2]=e_*+_e[_t+136>>2]*_r,_e[_+4>>2]=_s}function BH(_,_t){return _=_|0,_t=+_t,0}function PH(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;_t=ws,ws=ws+16|0,_r=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,_a(16864,_r),l[_r>>2]=n_,_a(17784,_r),l[_r>>2]=_s,_a(17816,_r),l[_r>>2]=t_[_+61>>0],_a(17848,_r),e_=+_e[_+72>>2],l_[s_>>3]=+_e[_+68>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(16888,_r),e_=+_e[_+80>>2],l_[s_>>3]=+_e[_+76>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(16936,_r),e_=+_e[_+96>>2],l_[s_>>3]=+_e[_+92>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17888,_r),e_=+_e[_+104>>2],l_[s_>>3]=+_e[_+100>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17936,_r),l_[s_>>3]=+_e[_+84>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(16984,_r),l_[s_>>3]=+_e[_+88>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(17016,_r),l_[s_>>3]=+_e[_+112>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(17048,_r),l[_r>>2]=l[_+56>>2],_a(18184,_r),ws=_t}function wH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_r=_+68|0,_e[_r>>2]=+_e[_r>>2]-+_e[_t>>2],_r=_t+4|0,_s=_+72|0,_e[_s>>2]=+_e[_s>>2]-+_e[_r>>2],_s=_+76|0,_e[_s>>2]=+_e[_s>>2]-+_e[_t>>2],_t=_+80|0,_e[_t>>2]=+_e[_t>>2]-+_e[_r>>2]}function VH(_){_=_|0}function MH(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function DH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0;g_=ws,x_=l[_+48>>2]|0,c2=l[x_+8>>2]|0,u_=_+128|0,l[u_>>2]=c2,f2=l[_+52>>2]|0,h2=l[f2+8>>2]|0,A_=_+132|0,l[A_>>2]=h2,C2=x_+28|0,w2=l[C2>>2]|0,C2=l[C2+4>>2]|0,H_=_+152|0,l[H_>>2]=w2,l[H_+4>>2]=C2,H_=f2+28|0,g2=l[H_>>2]|0,H_=l[H_+4>>2]|0,r2=_+160|0,l[r2>>2]=g2,l[r2+4>>2]=H_,f_=+_e[x_+120>>2],_e[_+168>>2]=f_,I_=+_e[f2+120>>2],_e[_+172>>2]=I_,R_=+_e[x_+128>>2],_e[_+176>>2]=R_,_r=+_e[f2+128>>2],_e[_+180>>2]=_r,f2=l[_t+24>>2]|0,o2=+_e[f2+(c2*12|0)+8>>2],x_=_t+28|0,r2=l[x_>>2]|0,S2=r2+(c2*12|0)|0,M_=+_e[S2>>2],_s=+_e[S2+4>>2],__=+_e[r2+(c2*12|0)+8>>2],Q_=+_e[f2+(h2*12|0)+8>>2],f2=r2+(h2*12|0)|0,e_=+_e[f2>>2],n_=+_e[f2+4>>2],c_=+_e[r2+(h2*12|0)+8>>2],w_=+F2(+o2),L_=+V2(+o2),A2=+F2(+Q_),n2=+V2(+Q_),z_=+_e[_+68>>2]-(l[s_>>2]=w2,+_e[s_>>2]),V_=+_e[_+72>>2]-(l[s_>>2]=C2,+_e[s_>>2]),J_=L_*z_-w_*V_,V_=w_*z_+L_*V_,L_=+J_,z_=+V_,C2=_+136|0,_e[C2>>2]=L_,_e[C2+4>>2]=z_,z_=+_e[_+76>>2]-(l[s_>>2]=g2,+_e[s_>>2]),L_=+_e[_+80>>2]-(l[s_>>2]=H_,+_e[s_>>2]),w_=n2*z_-A2*L_,L_=A2*z_+n2*L_,n2=+w_,z_=+L_,H_=_+144|0,_e[H_>>2]=n2,_e[H_+4>>2]=z_,z_=R_+_r,H_=z_==0,n2=f_+I_,_e[_+184>>2]=n2+R_*V_*V_+_r*L_*L_,A2=-(R_*V_*J_)-_r*L_*w_,_e[_+196>>2]=A2,b2=-(R_*V_)-_r*L_,_e[_+208>>2]=b2,_e[_+188>>2]=A2,_e[_+200>>2]=n2+R_*J_*J_+_r*w_*w_,n2=R_*J_+_r*w_,_e[_+212>>2]=n2,_e[_+192>>2]=b2,_e[_+204>>2]=n2,_e[_+216>>2]=z_,z_>0&&(z_=1/z_),_e[_+220>>2]=z_,(_o[_+100>>0]|0)==0|H_&&(_e[_+96>>2]=0);do if((_o[_+112>>0]|0)==0|H_)l[_+224>>2]=0;else{if(Q_=Q_-o2-+_e[_+116>>2],o2=+_e[_+124>>2],z_=+_e[_+120>>2],n2=o2-z_,n2>0||(n2=-n2),n2<.06981317698955536){l[_+224>>2]=3;break}if(Q_<=z_){H_=_+224|0,(l[H_>>2]|0)!=1&&(_e[_+92>>2]=0),l[H_>>2]=1;break}if(H_=_+224|0,!(Q_>=o2)){l[H_>>2]=0,_e[_+92>>2]=0;break}(l[H_>>2]|0)!=2&&(_e[_+92>>2]=0),l[H_>>2]=2}while(!1);if(H_=_+84|0,_o[_t+20>>0]|0){c2=_t+8|0,k2=+_e[c2>>2],A2=k2*+_e[H_>>2],_e[H_>>2]=A2,S2=_+88|0,d2=k2*+_e[S2>>2],_e[S2>>2]=d2,S2=_+92|0,k2=k2*+_e[S2>>2],_e[S2>>2]=k2,S2=_+96|0,Y2=+_e[c2>>2]*+_e[S2>>2],_e[S2>>2]=Y2,Q_=M_-f_*A2,o2=_s-f_*d2,n2=e_+I_*A2,b2=n_+I_*d2,z_=__-R_*(k2+(Y2+(d2*J_-A2*V_))),A2=c_+_r*(k2+(Y2+(d2*w_-A2*L_))),S2=l[u_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)|0,Q_=+Q_,o2=+o2,c2=S2,_e[c2>>2]=Q_,S2=S2+4|0,_e[S2>>2]=o2,S2=l[u_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)+8|0,_e[S2>>2]=z_,S2=l[A_>>2]|0,S2=c2+(S2*12|0)|0,n2=+n2,b2=+b2,c2=S2,_e[c2>>2]=n2,S2=S2+4|0,_e[S2>>2]=b2,S2=l[A_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)+8|0,_e[S2>>2]=A2,ws=g_;return}else{l[H_+0>>2]=0,l[H_+4>>2]=0,l[H_+8>>2]=0,l[H_+12>>2]=0,Q_=M_,o2=_s,n2=e_,b2=n_,z_=__,A2=c_,S2=l[u_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)|0,Q_=+Q_,o2=+o2,c2=S2,_e[c2>>2]=Q_,S2=S2+4|0,_e[S2>>2]=o2,S2=l[u_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)+8|0,_e[S2>>2]=z_,S2=l[A_>>2]|0,S2=c2+(S2*12|0)|0,n2=+n2,b2=+b2,c2=S2,_e[c2>>2]=n2,S2=S2+4|0,_e[S2>>2]=b2,S2=l[A_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)+8|0,_e[S2>>2]=A2,ws=g_;return}}function GH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0;if(_r=ws,_s=_+88|0,e_=l[_s>>2]|0,l[e_+102868>>2]&2&&X2(9352,9088,456,9576),n_=_+4|0,__=_i[n_>>1]|0,!((__&32)!=0^_t)){ws=_r;return}if(__=__&65535,_t){if(_i[n_>>1]=__|32,_s=e_+102872|0,e_=l[_+100>>2]|0,!e_){ws=_r;return}_=_+12|0;do cI(e_,_s,_),e_=l[e_+4>>2]|0;while((e_|0)!=0);ws=_r;return}if(_i[n_>>1]=__&65503,e_=e_+102872|0,_t=l[_+100>>2]|0,_t)do wG(_t,e_),_t=l[_t+4>>2]|0;while((_t|0)!=0);if(_=_+112|0,e_=l[_>>2]|0,e_)do __=e_,e_=l[e_+12>>2]|0,cP((l[_s>>2]|0)+102872|0,l[__+4>>2]|0);while((e_|0)!=0);l[_>>2]=0,ws=_r}function JH(_){return _=_|0,(_i[_+4>>1]&32)!=0|0}function IH(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0;if(_r=ws,e_=_+4|0,_s=o_[e_>>1]|0,!((_s&16|0)!=0^_t)){ws=_r;return}_i[e_>>1]=_t?_s|16:_s&65519,_e[_+72>>2]=0,V4(_),ws=_r}function TH(_){return _=_|0,(_i[_+4>>1]&16)!=0|0}function FH(_){return _=_|0,l[_+100>>2]|0}function RH(_){return _=_|0,l[_+108>>2]|0}function LH(_){return _=_|0,l[_+112>>2]|0}function kH(_){return _=_|0,l[_+96>>2]|0}function qH(_){return _=_|0,l[_+148>>2]|0}function EH(_,_t){_=_|0,_t=_t|0,l[_+148>>2]=_t}function jH(_){return _=_|0,l[_+88>>2]|0}function zH(_){_=_|0;var _t=0;_t=ws,aI(_),ws=_t}function WH(_){return _=_|0,_+68|0}function NH(_){return _=_|0,_+76|0}function OH(_,_t){_=_|0,_t=+_t;var _r=0;if(_r=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0){_e[_+96>>2]=_t,ws=_r;return}else X2(14968,15008,217,15064)}function UH(_){return _=_|0,+ +_e[_+96>>2]}function XH(_,_t){_=_|0,_t=+_t;var _r=0;if(_r=ws,_e[s_>>2]=_t,((l[s_>>2]|0)&2139095040|0)!=2139095040&_t>=0){_e[_+100>>2]=_t,ws=_r;return}else X2(15080,15008,228,15120)}function YH(_){return _=_|0,+ +_e[_+100>>2]}function HH(_){return _=_|0,l[_+4>>2]|0}function ZH(_){return _=_|0,l[_+48>>2]|0}function KH(_){return _=_|0,l[_+52>>2]|0}function QH(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[816]|0)==0&&(Z2(816)|0)!=0&&R0(816),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=808,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,808}function $H(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[832]|0)==0&&(Z2(832)|0)!=0&&R0(832),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=824,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,824}function tZ(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[848]|0)==0&&(Z2(848)|0)!=0&&R0(848),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=840,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,840}function eZ(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function oZ(_){return _=_|0,l[_+12>>2]|0}function iZ(_){return _=_|0,l[_+64>>2]|0}function rZ(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function nZ(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function sZ(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function _Z(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function aZ(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function pZ(){var _=0,_t=0;_=ws,_t=a0(32)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(32)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=6,l[_t+20>>2]=0,l[_t+24>>2]=0,_e[_t+28>>2]=1,ws=_,_t|0}function cZ(_){return _=_|0,l[_+20>>2]|0}function lZ(_,_t){_=_|0,_t=_t|0,l[_+20>>2]=_t}function mZ(_){return _=_|0,l[_+24>>2]|0}function bZ(_,_t){_=_|0,_t=_t|0,l[_+24>>2]=_t}function uZ(_){return _=_|0,+ +_e[_+28>>2]}function hZ(_,_t){_=_|0,_t=+_t,_e[_+28>>2]=_t}function dZ(_){return _=_|0,l[_>>2]|0}function yZ(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function xZ(_){return _=_|0,l[_+4>>2]|0}function fZ(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function gZ(_){return _=_|0,l[_+8>>2]|0}function vZ(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function AZ(_){return _=_|0,l[_+12>>2]|0}function SZ(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function CZ(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function BZ(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function PZ(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function wZ(_){return _=_|0,_+68|0}function VZ(_){return _=_|0,_+76|0}function MZ(_){return _=_|0,+ +_e[_+116>>2]}function DZ(_){return _=_|0,+(+_e[(l[_+52>>2]|0)+56>>2]-+_e[(l[_+48>>2]|0)+56>>2]-+_e[_+116>>2])}function GZ(_){return _=_|0,+(+_e[(l[_+52>>2]|0)+72>>2]-+_e[(l[_+48>>2]|0)+72>>2])}function JZ(_){return _=_|0,(_o[_+112>>0]|0)!=0|0}function IZ(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0;if(_r=ws,_s=_+112|0,(_t&1|0)==(t_[_s>>0]|0|0)){ws=_r;return}e_=l[_+48>>2]|0,n_=e_+4|0,__=o_[n_>>1]|0,__&2||(_i[n_>>1]=__|2,_e[e_+144>>2]=0),e_=l[_+52>>2]|0,n_=e_+4|0,__=o_[n_>>1]|0,__&2||(_i[n_>>1]=__|2,_e[e_+144>>2]=0),_o[_s>>0]=_t&1,_e[_+92>>2]=0,ws=_r}function TZ(_){return _=_|0,+ +_e[_+120>>2]}function FZ(_){return _=_|0,+ +_e[_+124>>2]}function RZ(_,_t,_r){_=_|0,_t=+_t,_r=+_r;var _s=0,e_=0,n_=0,__=0,c_=0;if(e_=ws,_t<=_r||X2(17160,17176,471,17232),_s=_+120|0,+_e[_s>>2]==_t&&+_e[_+124>>2]==_r){ws=e_;return}c_=l[_+48>>2]|0,n_=c_+4|0,__=o_[n_>>1]|0,__&2||(_i[n_>>1]=__|2,_e[c_+144>>2]=0),__=l[_+52>>2]|0,c_=__+4|0,n_=o_[c_>>1]|0,n_&2||(_i[c_>>1]=n_|2,_e[__+144>>2]=0),_e[_+92>>2]=0,_e[_s>>2]=_t,_e[_+124>>2]=_r,ws=e_}function LZ(_){return _=_|0,(_o[_+100>>0]|0)!=0|0}function kZ(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;if(_r=ws,_s=l[_+48>>2]|0,e_=_s+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,e_=n_+4|0,_s=o_[e_>>1]|0,_s&2){n_=_+100|0,e_=_t&1,_o[n_>>0]=e_,ws=_r;return}_i[e_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+100|0,e_=_t&1,_o[n_>>0]=e_,ws=_r}function qZ(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0,n_=0;if(_r=ws,_s=l[_+48>>2]|0,e_=_s+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,e_=n_+4|0,_s=o_[e_>>1]|0,_s&2){n_=_+108|0,_e[n_>>2]=_t,ws=_r;return}_i[e_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+108|0,_e[n_>>2]=_t,ws=_r}function EZ(_){return _=_|0,+ +_e[_+108>>2]}function jZ(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0,n_=0;if(_r=ws,_s=l[_+48>>2]|0,e_=_s+4|0,n_=o_[e_>>1]|0,n_&2||(_i[e_>>1]=n_|2,_e[_s+144>>2]=0),n_=l[_+52>>2]|0,e_=n_+4|0,_s=o_[e_>>1]|0,_s&2){n_=_+104|0,_e[n_>>2]=_t,ws=_r;return}_i[e_>>1]=_s|2,_e[n_+144>>2]=0,n_=_+104|0,_e[n_>>2]=_t,ws=_r}function zZ(_){return _=_|0,+ +_e[_+104>>2]}function WZ(_,_t){return _=_|0,_t=+_t,+(+_e[_+96>>2]*_t)}function NZ(_){return _=_|0,l[_+4>>2]|0}function OZ(_){return _=_|0,l[_+48>>2]|0}function UZ(_){return _=_|0,l[_+52>>2]|0}function XZ(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[864]|0)==0&&(Z2(864)|0)!=0&&R0(864),vy[l[l[_>>2]>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=856,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,856}function YZ(_){_=_|0;var _t=0,_r=0,_s=0;return _r=ws,ws=ws+16|0,_t=_r,(_o[880]|0)==0&&(Z2(880)|0)!=0&&R0(880),vy[l[(l[_>>2]|0)+4>>2]&127](_t,_),_s=_t,_=l[_s+4>>2]|0,_t=872,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_,ws=_r,872}function HZ(_,_t){_=_|0,_t=+_t;var _r=0,_s=0,e_=0;return _s=ws,ws=ws+16|0,_r=_s,(_o[896]|0)==0&&(Z2(896)|0)!=0&&R0(896),xA[l[(l[_>>2]|0)+8>>2]&63](_r,_,_t),e_=_r,_=l[e_+4>>2]|0,_r=888,l[_r>>2]=l[e_>>2],l[_r+4>>2]=_,ws=_s,888}function ZZ(_,_t){_=_|0,_t=+_t;var _r=0;return _r=ws,_t=+VS[l[(l[_>>2]|0)+12>>2]&63](_,_t),ws=_r,+_t}function KZ(_){return _=_|0,l[_+12>>2]|0}function QZ(_){return _=_|0,l[_+64>>2]|0}function $Z(_,_t){_=_|0,_t=_t|0,l[_+64>>2]=_t}function tK(_){_=_|0;var _t=0;return _t=ws,_i[(l[_+48>>2]|0)+4>>1]&32?(_=(_i[(l[_+52>>2]|0)+4>>1]&32)!=0,ws=_t,_|0):(_=0,ws=_t,_|0)}function eK(_){return _=_|0,(_o[_+61>>0]|0)!=0|0}function oK(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+28>>2]&127](_),ws=_t}function iK(_){_=_|0;var _t=0;if(_t=ws,!_){ws=_t;return}_y[l[(l[_>>2]|0)+4>>2]&127](_),ws=_t}function rK(){var _=0,_t=0;_=ws,_t=a0(16)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(16)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,ws=_,_t|0}function nK(_){return _=_|0,l[_>>2]|0}function sK(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function _K(_){return _=_|0,l[_+4>>2]|0}function aK(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function pK(_){return _=_|0,l[_+8>>2]|0}function cK(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function lK(_){return _=_|0,l[_+12>>2]|0}function mK(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function bK(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function uK(){var _=0,_t=0;_=ws,_t=a0(40)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(40)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=10,_e[_t+20>>2]=-1,_e[_t+24>>2]=0,_e[_t+28>>2]=1,_e[_t+32>>2]=0,_e[_t+36>>2]=0,ws=_,_t|0}function hK(_){return _=_|0,_+20|0}function dK(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function yK(_){return _=_|0,_+28|0}function xK(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+28|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function fK(_){return _=_|0,+ +_e[_+36>>2]}function gK(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function vK(_){return _=_|0,l[_>>2]|0}function AK(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function SK(_){return _=_|0,l[_+4>>2]|0}function CK(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function BK(_){return _=_|0,l[_+8>>2]|0}function PK(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function wK(_){return _=_|0,l[_+12>>2]|0}function VK(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function MK(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function DK(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function GK(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function JK(){var _=0,_t=0;_=ws,_t=a0(44)|0;t:do if(!_t){for(;_t=l[4698]|0,l[4698]=_t+0,!!_t;)if(_u[_t&63](),_t=a0(44)|0,_t)break t;_t=xb(4)|0,l[_t>>2]=18632,Q0(_t|0,18680,116)}while(!1);return l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,_o[_t+16>>0]=0,l[_t>>2]=11,_e[_t+20>>2]=0,_e[_t+24>>2]=0,_e[_t+28>>2]=0,_e[_t+32>>2]=1,_e[_t+36>>2]=1,_e[_t+40>>2]=.30000001192092896,ws=_,_t|0}function IK(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0;_s=ws,l[_+8>>2]=_t,l[_+12>>2]=_r,e_=_r+12|0,c_=+_e[e_>>2],c_=c_-+_e[_t+12>>2],u_=+_e[e_+4>>2]-+_e[_t+16>>2],x_=+_e[_t+24>>2],n_=+_e[_t+20>>2],__=+(c_*x_+u_*n_),n_=+(x_*u_-c_*n_),e_=_+20|0,_e[e_>>2]=__,_e[e_+4>>2]=n_,_e[_+28>>2]=+_e[_r+56>>2]-+_e[_t+56>>2],ws=_s}function TK(_){return _=_|0,_+20|0}function FK(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=_t,_r=l[_s+4>>2]|0,_t=_+20|0,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function RK(_){return _=_|0,+ +_e[_+28>>2]}function LK(_,_t){_=_|0,_t=+_t,_e[_+28>>2]=_t}function kK(_){return _=_|0,+ +_e[_+32>>2]}function qK(_,_t){_=_|0,_t=+_t,_e[_+32>>2]=_t}function EK(_){return _=_|0,+ +_e[_+36>>2]}function jK(_,_t){_=_|0,_t=+_t,_e[_+36>>2]=_t}function zK(_){return _=_|0,+ +_e[_+40>>2]}function WK(_,_t){_=_|0,_t=+_t,_e[_+40>>2]=_t}function NK(_){return _=_|0,l[_>>2]|0}function OK(_,_t){_=_|0,_t=_t|0,l[_>>2]=_t}function UK(_){return _=_|0,l[_+4>>2]|0}function XK(_,_t){_=_|0,_t=_t|0,l[_+4>>2]=_t}function YK(_){return _=_|0,l[_+8>>2]|0}function HK(_,_t){_=_|0,_t=_t|0,l[_+8>>2]=_t}function ZK(_){return _=_|0,l[_+12>>2]|0}function KK(_,_t){_=_|0,_t=_t|0,l[_+12>>2]=_t}function QK(_){return _=_|0,(_o[_+16>>0]|0)!=0|0}function $K(_,_t){_=_|0,_t=_t|0,_o[_+16>>0]=_t&1}function tQ(_){_=_|0;var _t=0;_t=ws,_&&d0(_),ws=_t}function eQ(){return 0}function oQ(){return 1}function iQ(){return 2}function rQ(){return 3}function nQ(){return 4}function sQ(){return 0}function _Q(){return 1}function aQ(){return 2}function pQ(){return 3}function cQ(){return 4}function lQ(){return 5}function mQ(){return 6}function bQ(){return 7}function uQ(){return 8}function hQ(){return 9}function dQ(){return 10}function yQ(){return 11}function xQ(){return 0}function fQ(){return 1}function gQ(){return 2}function vQ(){return 3}function AQ(){return 0}function SQ(){return 1}function CQ(){return 2}function BQ(){return 0}function PQ(){return 1}function wQ(){return 2}function VQ(){return 1}function MQ(){return 2}function DQ(){return 4}function GQ(){return 8}function JQ(){return 16}function IQ(){return 0}function TQ(){return 1}function FQ(_){_=_|0}function RQ(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function LQ(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,sy(2096,_|0,_t|0,_r|0,_s|0)|0,ws=e_}function kQ(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,sy(1864,_|0,_t|0,_r|0,_s|0)|0,ws=e_}function qQ(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0;var e_=0;e_=ws,sy(1648,_|0,_t|0,+_r,_s|0)|0,ws=e_}function EQ(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0;var n_=0;n_=ws,sy(1416,_|0,_t|0,+_r,_s|0,e_|0)|0,ws=n_}function jQ(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;e_=ws,sy(1200,_|0,_t|0,_r|0,_s|0)|0,ws=e_}function zQ(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,sy(984,_|0,_t|0)|0,ws=_r}function WQ(_){_=_|0}function NQ(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function OQ(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;return _s=ws,_=(sy(2376,_|0,_t|0,_r|0)|0)!=0,ws=_s,_|0}function UQ(_){_=_|0}function XQ(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function YQ(_){_=_|0}function HQ(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function ZQ(_){_=_|0}function KQ(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function QQ(_){_=_|0}function $Q(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function t$(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,sy(3480,_|0,_t|0)|0,ws=_r}function e$(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,sy(3248,_|0,_t|0)|0,ws=_r}function o$(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;_s=ws,sy(3016,_|0,_t|0,_r|0)|0,ws=_s}function i$(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;_s=ws,sy(2784,_|0,_t|0,_r|0)|0,ws=_s}function r$(_){_=_|0}function n$(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function s$(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_;var n_=0;return n_=ws,e_=+UB(3816,_|0,_t|0,_r|0,_s|0,+e_),ws=n_,+e_}function _$(_){_=_|0}function a$(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function p$(_,_t){_=_|0,_t=_t|0;var _r=0;return _r=ws,_=(sy(4168,_|0,_t|0)|0)!=0,ws=_r,_|0}function c$(_){_=_|0}function l$(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function m$(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,vy[l[(l[_>>2]|0)+16>>2]&127](_,_t),ws=_r}function b$(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,vy[l[(l[_>>2]|0)+20>>2]&127](_,_t),ws=_r}function u$(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,sy(4992,_|0,_t|0)|0,ws=_r}function h$(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,sy(4728,_|0,_t|0)|0,ws=_r}function d$(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0;if(g_=ws,x_=l[_+48>>2]|0,B2=l[x_+8>>2]|0,u_=_+104|0,l[u_>>2]=B2,x2=l[_+52>>2]|0,O2=l[x2+8>>2]|0,A_=_+108|0,l[A_>>2]=O2,k2=x_+28|0,P2=l[k2>>2]|0,k2=l[k2+4>>2]|0,d2=_+128|0,l[d2>>2]=P2,l[d2+4>>2]=k2,d2=x2+28|0,Y2=l[d2>>2]|0,d2=l[d2+4>>2]|0,S2=_+136|0,l[S2>>2]=Y2,l[S2+4>>2]=d2,S2=_+156|0,_e[S2>>2]=+_e[x_+120>>2],f2=_+160|0,_e[f2>>2]=+_e[x2+120>>2],R_=+_e[x_+128>>2],_e[_+164>>2]=R_,M_=+_e[x2+128>>2],_e[_+168>>2]=M_,x2=l[_t+24>>2]|0,x_=x2+(B2*12|0)|0,Q_=+_e[x_>>2],H_=+_e[x_+4>>2],b2=+_e[x2+(B2*12|0)+8>>2],x_=_t+28|0,L2=l[x_>>2]|0,j2=L2+(B2*12|0)|0,L_=+_e[j2>>2],_s=+_e[j2+4>>2],__=+_e[L2+(B2*12|0)+8>>2],B2=x2+(O2*12|0)|0,g2=+_e[B2>>2],z_=+_e[B2+4>>2],n2=+_e[x2+(O2*12|0)+8>>2],x2=L2+(O2*12|0)|0,e_=+_e[x2>>2],n_=+_e[x2+4>>2],c_=+_e[L2+(O2*12|0)+8>>2],o2=+F2(+b2),A2=+V2(+b2),c2=+F2(+n2),I_=+V2(+n2),_r=(l[s_>>2]=P2,-+_e[s_>>2]),V_=(l[s_>>2]=k2,-+_e[s_>>2]),J_=A2*_r-o2*V_,V_=o2*_r+A2*V_,_r=+J_,f_=+V_,k2=_+112|0,_e[k2>>2]=_r,_e[k2+4>>2]=f_,f_=(l[s_>>2]=Y2,-+_e[s_>>2]),_r=(l[s_>>2]=d2,-+_e[s_>>2]),w_=I_*f_-c2*_r,_r=c2*f_+I_*_r,I_=+w_,f_=+_r,d2=_+120|0,_e[d2>>2]=I_,_e[d2+4>>2]=f_,f_=+_e[S2>>2],I_=+_e[f2>>2],c2=f_+I_,w2=c2+V_*R_*V_+_r*M_*_r,r2=R_*J_,C2=M_*w_,h2=-(V_*r2)-_r*C2,C2=c2+J_*r2+w_*C2,r2=w2*C2-h2*h2,r2!=0&&(r2=1/r2),c2=-(h2*r2),_e[_+172>>2]=C2*r2,_e[_+176>>2]=c2,_e[_+180>>2]=c2,_e[_+184>>2]=w2*r2,C2=R_+M_,C2>0&&(C2=1/C2),_e[_+188>>2]=C2,h2=+_e[_+68>>2],c2=+_e[_+72>>2],r2=+(g2+w_-Q_-J_-(A2*h2-o2*c2)),c2=+(z_+_r-H_-V_-(o2*h2+A2*c2)),f2=_+144|0,_e[f2>>2]=r2,_e[f2+4>>2]=c2,_e[_+152>>2]=n2-b2-+_e[_+76>>2],f2=_+80|0,_o[_t+20>>0]|0){B2=_t+8|0,A2=+_e[B2>>2],c2=A2*+_e[f2>>2],_e[f2>>2]=c2,j2=_+84|0,A2=A2*+_e[j2>>2],_e[j2>>2]=A2,j2=_+88|0,b2=+_e[B2>>2]*+_e[j2>>2],_e[j2>>2]=b2,g2=L_-f_*c2,C2=_s-f_*A2,h2=e_+I_*c2,r2=n_+I_*A2,w2=__-R_*(b2+(A2*J_-c2*V_)),c2=c_+M_*(b2+(A2*w_-c2*_r)),j2=l[u_>>2]|0,B2=l[x_>>2]|0,j2=B2+(j2*12|0)|0,g2=+g2,C2=+C2,B2=j2,_e[B2>>2]=g2,j2=j2+4|0,_e[j2>>2]=C2,j2=l[u_>>2]|0,B2=l[x_>>2]|0,j2=B2+(j2*12|0)+8|0,_e[j2>>2]=w2,j2=l[A_>>2]|0,j2=B2+(j2*12|0)|0,h2=+h2,r2=+r2,B2=j2,_e[B2>>2]=h2,j2=j2+4|0,_e[j2>>2]=r2,j2=l[A_>>2]|0,B2=l[x_>>2]|0,j2=B2+(j2*12|0)+8|0,_e[j2>>2]=c2,ws=g_;return}else{_e[f2>>2]=0,_e[_+84>>2]=0,_e[_+88>>2]=0,g2=L_,C2=_s,h2=e_,r2=n_,w2=__,c2=c_,j2=l[u_>>2]|0,B2=l[x_>>2]|0,j2=B2+(j2*12|0)|0,g2=+g2,C2=+C2,B2=j2,_e[B2>>2]=g2,j2=j2+4|0,_e[j2>>2]=C2,j2=l[u_>>2]|0,B2=l[x_>>2]|0,j2=B2+(j2*12|0)+8|0,_e[j2>>2]=w2,j2=l[A_>>2]|0,j2=B2+(j2*12|0)|0,h2=+h2,r2=+r2,B2=j2,_e[B2>>2]=h2,j2=j2+4|0,_e[j2>>2]=r2,j2=l[A_>>2]|0,B2=l[x_>>2]|0,j2=B2+(j2*12|0)+8|0,_e[j2>>2]=c2,ws=g_;return}}function y$(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0;I_=ws,c_=_+104|0,g_=l[c_>>2]|0,__=_t+28|0,g2=l[__>>2]|0,z_=g2+(g_*12|0)|0,u_=+_e[z_>>2],n_=+_e[z_+4>>2],o2=+_e[g2+(g_*12|0)+8>>2],g_=_+108|0,z_=l[g_>>2]|0,C2=g2+(z_*12|0)|0,x_=+_e[C2>>2],A_=+_e[C2+4>>2],Q_=+_e[g2+(z_*12|0)+8>>2],e_=+_e[_+156>>2],_s=+_e[_+160>>2],_r=+_e[_+164>>2],f_=+_e[_+168>>2],n2=+_e[_t>>2],b2=+_e[_t+4>>2]*+_e[_+100>>2],_t=_+88|0,J_=+_e[_t>>2],L_=n2*+_e[_+96>>2],V_=J_-+_e[_+188>>2]*(Q_-o2+b2*+_e[_+152>>2]),w_=-L_,L_=V_<L_?V_:L_,L_=L_<w_?w_:L_,_e[_t>>2]=L_,J_=L_-J_,o2=o2-_r*J_,J_=Q_+f_*J_,Q_=+_e[_+124>>2],L_=+_e[_+120>>2],w_=+_e[_+116>>2],V_=+_e[_+112>>2],A2=+_e[_+144>>2]*b2+(w_*o2+(x_-Q_*J_-u_)),b2=b2*+_e[_+148>>2]+(A_+L_*J_-n_-V_*o2),H_=+_e[_+176>>2]*A2+ +_e[_+184>>2]*b2,_t=_+80|0,z_=_t,M_=+_e[z_>>2],R_=+_e[z_+4>>2],b2=M_-(+_e[_+172>>2]*A2+ +_e[_+180>>2]*b2),_e[_t>>2]=b2,z_=_+84|0,H_=+_e[z_>>2]-H_,_e[z_>>2]=H_,n2=n2*+_e[_+92>>2],A2=b2*b2+H_*H_,A2>n2*n2&&(A2=+G2(+A2),A2<11920928955078125e-23||(A2=1/A2,b2=b2*A2,_e[_t>>2]=b2,H_=H_*A2,_e[z_>>2]=H_),b2=n2*b2,_e[_t>>2]=b2,H_=n2*H_,_e[z_>>2]=H_),A2=b2-M_,b2=H_-R_,n2=+(u_-e_*A2),H_=+(n_-e_*b2),C2=(l[__>>2]|0)+((l[c_>>2]|0)*12|0)|0,_e[C2>>2]=n2,_e[C2+4>>2]=H_,C2=l[__>>2]|0,_e[C2+((l[c_>>2]|0)*12|0)+8>>2]=o2-_r*(V_*b2-A2*w_),H_=+(x_+_s*A2),n2=+(A_+_s*b2),C2=C2+((l[g_>>2]|0)*12|0)|0,_e[C2>>2]=H_,_e[C2+4>>2]=n2,_e[(l[__>>2]|0)+((l[g_>>2]|0)*12|0)+8>>2]=J_+f_*(b2*L_-A2*Q_),ws=I_}function x$(_,_t){return _=_|0,_t=_t|0,1}function f$(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=(l[_t+48>>2]|0)+12|0,_r=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function g$(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_s=(l[_t+52>>2]|0)+12|0,_r=l[_s+4>>2]|0,_t=_,l[_t>>2]=l[_s>>2],l[_t+4>>2]=_r}function v$(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=+_e[_t+84>>2]*_r,_e[_>>2]=+_e[_t+80>>2]*_r,_e[_+4>>2]=_s}function A$(_,_t){return _=_|0,_t=+_t,+(+_e[_+88>>2]*_t)}function S$(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;_t=ws,ws=ws+16|0,_r=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,_a(5440,_r),l[_r>>2]=n_,_a(17784,_r),l[_r>>2]=_s,_a(17816,_r),l[_r>>2]=t_[_+61>>0],_a(17848,_r),e_=+_e[_+72>>2],l_[s_>>3]=+_e[_+68>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(5464,_r),l_[s_>>3]=+_e[_+76>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(5512,_r),l_[s_>>3]=+_e[_+92>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(15168,_r),l_[s_>>3]=+_e[_+96>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(15200,_r),l_[s_>>3]=+_e[_+100>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(5544,_r),l[_r>>2]=l[_+56>>2],_a(18184,_r),ws=_t}function C$(_,_t){_=_|0,_t=_t|0}function B$(_){_=_|0}function P$(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function uct(_){_=_|0,WC(_|0)|0,$tt()}function NJ(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0;_r=ws,_s=_+40|0,e_=l[_s>>2]|0,n_=_+36|0,_=_+32|0,(e_|0)==(l[n_>>2]|0)&&(__=l[_>>2]|0,l[n_>>2]=e_<<1,e_=a0(e_<<3)|0,l[_>>2]=e_,NA(e_|0,__|0,l[_s>>2]<<2|0)|0,d0(__),e_=l[_s>>2]|0),l[(l[_>>2]|0)+(e_<<2)>>2]=_t,l[_s>>2]=(l[_s>>2]|0)+1,ws=_r}function OJ(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0;if(c_=ws,n_=_+60|0,l[n_>>2]=0,__=_s+12|0,x_=+_e[e_+12>>2],z_=+_e[__>>2],M_=+_e[e_+8>>2],w_=+_e[_s+16>>2],o2=+_e[e_>>2]+(x_*z_-M_*w_)-+_e[_r>>2],w_=z_*M_+x_*w_+ +_e[e_+4>>2]-+_e[_r+4>>2],x_=+_e[_r+12>>2],M_=+_e[_r+8>>2],z_=o2*x_+w_*M_,M_=x_*w_-o2*M_,_r=_t+12|0,e_=l[_r>>2]|0,_r=l[_r+4>>2]|0,o2=(l[s_>>2]=e_,+_e[s_>>2]),w_=(l[s_>>2]=_r,+_e[s_>>2]),J_=_t+20|0,R_=l[J_>>2]|0,J_=l[J_+4>>2]|0,x_=(l[s_>>2]=R_,+_e[s_>>2]),A_=(l[s_>>2]=J_,+_e[s_>>2]),u_=x_-o2,V_=A_-w_,L_=u_*(x_-z_)+V_*(A_-M_),I_=z_-o2,f_=M_-w_,Q_=I_*u_+f_*V_,g_=+_e[_t+8>>2]+ +_e[_s+8>>2],Q_<=0){if(I_*I_+f_*f_>g_*g_){ws=c_;return}if((_o[_t+44>>0]|0)!=0&&(_s=_t+28|0,H_=+_e[_s>>2],(o2-z_)*(o2-H_)+(w_-M_)*(w_-+_e[_s+4>>2])>0)){ws=c_;return}l[n_>>2]=1,l[_+56>>2]=0,_e[_+40>>2]=0,_e[_+44>>2]=0,R_=_+48|0,l[R_>>2]=e_,l[R_+4>>2]=_r,R_=_+16|0,l[R_>>2]=0,_o[R_>>0]=0,_o[R_+1>>0]=0,_o[R_+2>>0]=0,_o[R_+3>>0]=0,R_=__,J_=l[R_+4>>2]|0,_s=_,l[_s>>2]=l[R_>>2],l[_s+4>>2]=J_,ws=c_;return}if(L_<=0){if(u_=z_-x_,f_=M_-A_,u_*u_+f_*f_>g_*g_){ws=c_;return}if((_o[_t+45>>0]|0)!=0&&(_s=_t+36|0,H_=+_e[_s>>2],u_*(H_-x_)+f_*(+_e[_s+4>>2]-A_)>0)){ws=c_;return}l[n_>>2]=1,l[_+56>>2]=0,_e[_+40>>2]=0,_e[_+44>>2]=0,_s=_+48|0,l[_s>>2]=R_,l[_s+4>>2]=J_,R_=_+16|0,l[R_>>2]=0,_o[R_>>0]=1,_o[R_+1>>0]=0,_o[R_+2>>0]=0,_o[R_+3>>0]=0,R_=__,J_=l[R_+4>>2]|0,_s=_,l[_s>>2]=l[R_>>2],l[_s+4>>2]=J_,ws=c_;return}if(H_=u_*u_+V_*V_,H_>0||X2(5640,5656,127,5704),H_=1/H_,z_=z_-(o2*L_+x_*Q_)*H_,H_=M_-(w_*L_+A_*Q_)*H_,z_*z_+H_*H_>g_*g_){ws=c_;return}x_=-V_,u_*f_+I_*x_<0?u_=-u_:V_=x_,x_=+G2(+(u_*u_+V_*V_)),x_<11920928955078125e-23||(H_=1/x_,V_=V_*H_,u_=u_*H_),l[n_>>2]=1,l[_+56>>2]=1,z_=+V_,H_=+u_,R_=_+40|0,_e[R_>>2]=z_,_e[R_+4>>2]=H_,R_=_+48|0,l[R_>>2]=e_,l[R_+4>>2]=_r,R_=_+16|0,l[R_>>2]=0,_o[R_>>0]=0,_o[R_+1>>0]=0,_o[R_+2>>0]=1,_o[R_+3>>0]=0,R_=__,J_=l[R_+4>>2]|0,_s=_,l[_s>>2]=l[R_>>2],l[_s+4>>2]=J_,ws=c_}function UJ(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0;n_=ws,ws=ws+336|0,g_=n_,x_=n_+304|0,__=n_+280|0,f_=n_+24|0,c_=f_+132|0,A2=+_e[_r+12>>2],S2=+_e[e_+8>>2],o2=+_e[_r+8>>2],b2=+_e[e_+12>>2],Q_=A2*S2-o2*b2,b2=S2*o2+A2*b2,S2=+Q_,n2=+b2,H_=+_e[e_>>2]-+_e[_r>>2],f2=+_e[e_+4>>2]-+_e[_r+4>>2],z_=A2*H_+o2*f2,H_=A2*f2-o2*H_,o2=+z_,f2=+H_,_r=c_,_e[_r>>2]=o2,_e[_r+4>>2]=f2,_r=f_+140|0,_e[_r>>2]=S2,_e[_r+4>>2]=n2,_r=f_+144|0,n2=+_e[_s+12>>2],e_=f_+140|0,S2=+_e[_s+16>>2],z_=z_+(b2*n2-Q_*S2),u_=f_+136|0,H_=n2*Q_+b2*S2+H_,S2=+z_,b2=+H_,c2=f_+148|0,_e[c2>>2]=S2,_e[c2+4>>2]=b2,c2=_t+28|0,g2=l[c2>>2]|0,c2=l[c2+4>>2]|0,I_=f_+156|0,l[I_>>2]=g2,l[I_+4>>2]=c2,I_=f_+164|0,L_=_t+12|0,J_=l[L_>>2]|0,L_=l[L_+4>>2]|0,R_=I_,l[R_>>2]=J_,l[R_+4>>2]=L_,R_=f_+172|0,M_=_t+20|0,x2=l[M_>>2]|0,M_=l[M_+4>>2]|0,L2=R_,l[L2>>2]=x2,l[L2+4>>2]=M_,L2=_t+36|0,d2=l[L2>>2]|0,L2=l[L2+4>>2]|0,V_=f_+180|0,l[V_>>2]=d2,l[V_+4>>2]=L2,V_=(_o[_t+44>>0]|0)!=0,w_=(_o[_t+45>>0]|0)==0,b2=(l[s_>>2]=x2,+_e[s_>>2]),S2=(l[s_>>2]=J_,+_e[s_>>2]),Q_=b2-S2,n2=(l[s_>>2]=M_,+_e[s_>>2]),f2=(l[s_>>2]=L_,+_e[s_>>2]),o2=n2-f2,A2=+G2(+(Q_*Q_+o2*o2)),h2=(l[s_>>2]=g2,+_e[s_>>2]),r2=(l[s_>>2]=c2,+_e[s_>>2]),w2=(l[s_>>2]=d2,+_e[s_>>2]),C2=(l[s_>>2]=L2,+_e[s_>>2]),A2<11920928955078125e-23||(O2=1/A2,Q_=Q_*O2,o2=o2*O2),J_=f_+196|0,A2=-Q_,_e[J_>>2]=o2,_t=f_+200|0,_e[_t>>2]=A2,A2=(z_-S2)*o2+(H_-f2)*A2,V_?(S2=S2-h2,f2=f2-r2,Y2=+G2(+(S2*S2+f2*f2)),Y2<11920928955078125e-23||(O2=1/Y2,S2=S2*O2,f2=f2*O2),O2=-S2,_e[f_+188>>2]=f2,_e[f_+192>>2]=O2,M_=o2*S2-Q_*f2>=0,h2=(z_-h2)*f2+(H_-r2)*O2):(M_=0,h2=0);t:do if(w_){if(!V_)if(x2=A2>=0,_o[f_+248>>0]=x2&1,V_=f_+212|0,x2){d2=J_,x2=l[d2>>2]|0,d2=l[d2+4>>2]|0,L2=V_,l[L2>>2]=x2,l[L2+4>>2]=d2,P2=(l[s_>>2]=x2,+-+_e[s_>>2]),O2=+Q_,x2=f_+228|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2,x2=f_+236|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2;break}else{P2=+-o2,O2=+Q_,L2=V_,_e[L2>>2]=P2,_e[L2+4>>2]=O2,L2=J_,d2=l[L2>>2]|0,L2=l[L2+4>>2]|0,x2=f_+228|0,l[x2>>2]=d2,l[x2+4>>2]=L2,x2=f_+236|0,l[x2>>2]=d2,l[x2+4>>2]=L2;break}if(V_=h2>=0,M_){if(V_)_o[f_+248>>0]=1,V_=f_+212|0;else if(x2=A2>=0,_o[f_+248>>0]=x2&1,V_=f_+212|0,!x2){P2=+-o2,O2=+Q_,d2=V_,_e[d2>>2]=P2,_e[d2+4>>2]=O2,d2=J_,L2=l[d2>>2]|0,d2=l[d2+4>>2]|0,x2=f_+228|0,l[x2>>2]=L2,l[x2+4>>2]=d2,x2=f_+236|0,_e[x2>>2]=(l[s_>>2]=L2,-+_e[s_>>2]),_e[x2+4>>2]=O2;break}x2=J_,L2=l[x2+4>>2]|0,d2=V_,l[d2>>2]=l[x2>>2],l[d2+4>>2]=L2,d2=f_+188|0,L2=l[d2+4>>2]|0,x2=f_+228|0,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2,P2=+-+_e[J_>>2],O2=+-+_e[_t>>2],x2=f_+236|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2;break}else{if(V_){if(x2=A2>=0,_o[f_+248>>0]=x2&1,V_=f_+212|0,x2){d2=J_,x2=l[d2>>2]|0,d2=l[d2+4>>2]|0,L2=V_,l[L2>>2]=x2,l[L2+4>>2]=d2,L2=f_+228|0,l[L2>>2]=x2,l[L2+4>>2]=d2,P2=(l[s_>>2]=x2,+-+_e[s_>>2]),O2=+Q_,x2=f_+236|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2;break}}else _o[f_+248>>0]=0,V_=f_+212|0;O2=+-o2,P2=+Q_,d2=V_,_e[d2>>2]=O2,_e[d2+4>>2]=P2,d2=J_,L2=l[d2+4>>2]|0,x2=f_+228|0,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2,P2=+-+_e[f_+188>>2],O2=+-+_e[f_+192>>2],x2=f_+236|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2;break}}else{if(w2=w2-b2,C2=C2-n2,r2=+G2(+(w2*w2+C2*C2)),r2<11920928955078125e-23||(O2=1/r2,w2=w2*O2,C2=C2*O2),O2=-w2,w_=f_+204|0,_e[w_>>2]=C2,L_=f_+208|0,_e[L_>>2]=O2,g2=Q_*C2-o2*w2>0,z_=(z_-b2)*C2+(H_-n2)*O2,!V_)if(V_=A2>=0,g2){if(V_)_o[f_+248>>0]=1,V_=f_+212|0;else if(x2=z_>=0,_o[f_+248>>0]=x2&1,V_=f_+212|0,!x2){P2=+-o2,O2=+Q_,d2=V_,_e[d2>>2]=P2,_e[d2+4>>2]=O2,d2=f_+228|0,_e[d2>>2]=P2,_e[d2+4>>2]=O2,d2=J_,L2=l[d2+4>>2]|0,x2=f_+236|0,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2;break}x2=J_,L2=l[x2+4>>2]|0,d2=V_,l[d2>>2]=l[x2>>2],l[d2+4>>2]=L2,P2=+-+_e[J_>>2],O2=+-+_e[_t>>2],d2=f_+228|0,_e[d2>>2]=P2,_e[d2+4>>2]=O2,d2=f_+204|0,L2=l[d2+4>>2]|0,x2=f_+236|0,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2;break}else{if(V_){if(x2=z_>=0,_o[f_+248>>0]=x2&1,V_=f_+212|0,x2){L2=J_,d2=l[L2>>2]|0,L2=l[L2+4>>2]|0,x2=V_,l[x2>>2]=d2,l[x2+4>>2]=L2,P2=(l[s_>>2]=d2,+-+_e[s_>>2]),O2=+Q_,x2=f_+228|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2,x2=f_+236|0,l[x2>>2]=d2,l[x2+4>>2]=L2;break}}else _o[f_+248>>0]=0,V_=f_+212|0;O2=+-o2,P2=+Q_,d2=V_,_e[d2>>2]=O2,_e[d2+4>>2]=P2,P2=+-+_e[w_>>2],O2=+-+_e[L_>>2],d2=f_+228|0,_e[d2>>2]=P2,_e[d2+4>>2]=O2,d2=J_,L2=l[d2+4>>2]|0,x2=f_+236|0,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2;break}if(M_&g2){if(!(h2>=0)&!(A2>=0)){if(x2=z_>=0,_o[f_+248>>0]=x2&1,V_=f_+212|0,!x2){P2=+-o2,O2=+Q_,x2=V_,_e[x2>>2]=P2,_e[x2+4>>2]=O2,x2=f_+228|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2,x2=f_+236|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2;break}}else _o[f_+248>>0]=1,V_=f_+212|0;d2=J_,L2=l[d2+4>>2]|0,x2=V_,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2,x2=f_+188|0,L2=l[x2+4>>2]|0,d2=f_+228|0,l[d2>>2]=l[x2>>2],l[d2+4>>2]=L2,d2=f_+204|0,L2=l[d2+4>>2]|0,x2=f_+236|0,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2;break}if(M_){do if(h2>=0)_o[f_+248>>0]=1,V_=f_+212|0;else{if(A2>=0){if(x2=z_>=0,_o[f_+248>>0]=x2&1,V_=f_+212|0,x2)break}else _o[f_+248>>0]=0,V_=f_+212|0;P2=+-o2,O2=+Q_,x2=V_,_e[x2>>2]=P2,_e[x2+4>>2]=O2,O2=+-+_e[w_>>2],P2=+-+_e[L_>>2],x2=f_+228|0,_e[x2>>2]=O2,_e[x2+4>>2]=P2,P2=+-+_e[J_>>2],O2=+-+_e[_t>>2],x2=f_+236|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2;break t}while(!1);d2=J_,L2=l[d2+4>>2]|0,x2=V_,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2,x2=f_+188|0,L2=l[x2+4>>2]|0,d2=f_+228|0,l[d2>>2]=l[x2>>2],l[d2+4>>2]=L2,d2=J_,L2=l[d2+4>>2]|0,x2=f_+236|0,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2;break}if(!g2){if(!(h2>=0)|!(A2>=0))_o[f_+248>>0]=0,V_=f_+212|0;else if(x2=z_>=0,_o[f_+248>>0]=x2&1,V_=f_+212|0,x2){L2=J_,d2=l[L2>>2]|0,L2=l[L2+4>>2]|0,x2=V_,l[x2>>2]=d2,l[x2+4>>2]=L2,x2=f_+228|0,l[x2>>2]=d2,l[x2+4>>2]=L2,x2=f_+236|0,l[x2>>2]=d2,l[x2+4>>2]=L2;break}P2=+-o2,O2=+Q_,x2=V_,_e[x2>>2]=P2,_e[x2+4>>2]=O2,O2=+-+_e[w_>>2],P2=+-+_e[L_>>2],x2=f_+228|0,_e[x2>>2]=O2,_e[x2+4>>2]=P2,P2=+-+_e[f_+188>>2],O2=+-+_e[f_+192>>2],x2=f_+236|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2;break}do if(z_>=0)_o[f_+248>>0]=1,V_=f_+212|0;else{if(h2>=0){if(x2=A2>=0,_o[f_+248>>0]=x2&1,V_=f_+212|0,x2)break}else _o[f_+248>>0]=0,V_=f_+212|0;P2=+-o2,O2=+Q_,x2=V_,_e[x2>>2]=P2,_e[x2+4>>2]=O2,O2=+-+_e[J_>>2],P2=+-+_e[_t>>2],x2=f_+228|0,_e[x2>>2]=O2,_e[x2+4>>2]=P2,P2=+-+_e[f_+188>>2],O2=+-+_e[f_+192>>2],x2=f_+236|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2;break t}while(!1);d2=J_,L2=l[d2+4>>2]|0,x2=V_,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2,x2=J_,L2=l[x2+4>>2]|0,d2=f_+228|0,l[d2>>2]=l[x2>>2],l[d2+4>>2]=L2,d2=f_+204|0,L2=l[d2+4>>2]|0,x2=f_+236|0,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2}while(!1);if(L_=l[_s+148>>2]|0,V_=f_+128|0,l[V_>>2]=L_,(L_|0)>0){M_=0;do Y2=+_e[_r>>2],P2=+_e[_s+(M_<<3)+20>>2],O2=+_e[e_>>2],k2=+_e[_s+(M_<<3)+24>>2],S2=+(+_e[c_>>2]+(Y2*P2-O2*k2)),k2=+(P2*O2+Y2*k2+ +_e[u_>>2]),x2=f_+(M_<<3)|0,_e[x2>>2]=S2,_e[x2+4>>2]=k2,k2=+_e[_r>>2],S2=+_e[_s+(M_<<3)+84>>2],Y2=+_e[e_>>2],O2=+_e[_s+(M_<<3)+88>>2],P2=+(k2*S2-Y2*O2),O2=+(S2*Y2+k2*O2),x2=f_+(M_<<3)+64|0,_e[x2>>2]=P2,_e[x2+4>>2]=O2,M_=M_+1|0;while((M_|0)<(L_|0));L_=l[V_>>2]|0}if(M_=f_+244|0,_e[M_>>2]=.019999999552965164,V_=_+60|0,l[V_>>2]=0,w_=_o[f_+248>>0]|0,g2=(L_|0)>0,!g2){ws=n_;return}for(Q_=+_e[f_+164>>2],n2=+_e[f_+168>>2],H_=+_e[f_+212>>2],b2=+_e[f_+216>>2],A2=34028234663852886e22,z_=34028234663852886e22,d2=0;o2=(+_e[f_+(d2<<3)>>2]-Q_)*H_+(+_e[f_+(d2<<3)+4>>2]-n2)*b2,c2=o2<A2,z_=c2?o2:z_,d2=d2+1|0,!((d2|0)>=(L_|0));)A2=c2?o2:A2;if(z_>.019999999552965164){ws=n_;return}Q_=+_e[f_+216>>2],o2=+_e[f_+212>>2];do if(g2){for(C2=+_e[f_+164>>2],h2=+_e[f_+168>>2],r2=+_e[f_+172>>2],f2=+_e[f_+176>>2],w2=+_e[f_+228>>2],A2=+_e[f_+232>>2],b2=+_e[f_+236>>2],n2=+_e[f_+240>>2],S2=-34028234663852886e22,g2=0,d2=0,c2=-1,Y2=-34028234663852886e22;;){if(k2=+_e[f_+(g2<<3)+64>>2],O2=-k2,P2=-+_e[f_+(g2<<3)+68>>2],j2=+_e[f_+(g2<<3)>>2],H_=+_e[f_+(g2<<3)+4>>2],B2=(j2-C2)*O2+(H_-h2)*P2,H_=(j2-r2)*O2+(H_-f2)*P2,H_=B2<H_?B2:H_,H_>.019999999552965164){d2=2;break}if(Q_*k2+o2*P2>=0?H_>S2&&!((O2-b2)*o2+(P2-n2)*Q_<-.03490658849477768)?A_=77:H_=Y2:H_>S2&&!((O2-w2)*o2+(P2-A2)*Q_<-.03490658849477768)?A_=77:H_=Y2,(A_|0)==77&&(A_=0,S2=H_,d2=2,c2=g2),g2=g2+1|0,(g2|0)>=(L_|0)){g2=c2,A_=79;break}else Y2=H_}if((A_|0)==79&&!d2){A_=82;break}if(H_>.019999999552965164){ws=n_;return}H_>z_*.9800000190734863+.0010000000474974513?(c2=(d2|0)==1,d2=_+56|0,c2?(g2=c2,c2=g_,A_=84):(l[d2>>2]=2,w_=I_,_t=l[w_+4>>2]|0,I_=g_,l[I_>>2]=l[w_>>2],l[I_+4>>2]=_t,I_=g_+8|0,_o[I_>>0]=0,_t=g2&255,_o[I_+1>>0]=_t,_o[I_+2>>0]=0,_o[I_+3>>0]=1,I_=R_,R_=l[I_+4>>2]|0,w_=g_+12|0,l[w_>>2]=l[I_>>2],l[w_+4>>2]=R_,w_=g_+20|0,_o[w_>>0]=0,_o[w_+1>>0]=_t,_o[w_+2>>0]=0,_o[w_+3>>0]=1,w_=g2+1|0,w_=(w_|0)<(L_|0)?w_:0,L_=f_+(g2<<3)|0,R_=f_+(w_<<3)|0,_t=f_+(g2<<3)+64|0,I_=l[R_+4>>2]|0,R_=l[R_>>2]|0,f_=c2,c2=w_,w_=l[L_>>2]|0,L_=l[L_+4>>2]|0,J_=l[_t>>2]|0,_t=l[_t+4>>2]|0)):A_=82}else A_=82;while(!1);(A_|0)==82&&(g2=1,c2=g_,d2=_+56|0,A_=84);do if((A_|0)==84){if(l[d2>>2]=1,(L_|0)>1)for(L2=0,z_=o2*+_e[f_+64>>2]+Q_*+_e[f_+68>>2],A_=1;H_=o2*+_e[f_+(A_<<3)+64>>2]+Q_*+_e[f_+(A_<<3)+68>>2],d2=H_<z_,L2=d2?A_:L2,A_=A_+1|0,!((A_|0)>=(L_|0));)z_=d2?H_:z_;else L2=0;if(d2=L2+1|0,d2=(d2|0)<(L_|0)?d2:0,A_=f_+(L2<<3)|0,x2=l[A_+4>>2]|0,L_=g_,l[L_>>2]=l[A_>>2],l[L_+4>>2]=x2,L_=g_+8|0,_o[L_>>0]=0,_o[L_+1>>0]=L2,_o[L_+2>>0]=1,_o[L_+3>>0]=0,L_=f_+(d2<<3)|0,L2=l[L_+4>>2]|0,x2=g_+12|0,l[x2>>2]=l[L_>>2],l[x2+4>>2]=L2,x2=g_+20|0,_o[x2>>0]=0,_o[x2+1>>0]=d2,_o[x2+2>>0]=1,_o[x2+3>>0]=0,w_<<24>>24){L_=I_,_t=J_,I_=l[R_+4>>2]|0,R_=l[R_>>2]|0,g_=c2,f_=g2,g2=0,c2=1,w_=l[L_>>2]|0,L_=l[L_+4>>2]|0,J_=l[_t>>2]|0,_t=l[_t+4>>2]|0;break}else{L_=R_,R_=I_,J_=(_e[s_>>2]=-+_e[J_>>2],l[s_>>2]|0),I_=l[R_+4>>2]|0,R_=l[R_>>2]|0,g_=c2,f_=g2,g2=1,c2=0,w_=l[L_>>2]|0,L_=l[L_+4>>2]|0,_t=(_e[s_>>2]=-+_e[_t>>2],l[s_>>2]|0);break}}while(!1);if(o2=(l[s_>>2]=L_,+_e[s_>>2]),Q_=(l[s_>>2]=_t,+_e[s_>>2]),O2=(l[s_>>2]=_t,+_e[s_>>2]),H_=(l[s_>>2]=J_,+_e[s_>>2]),B2=(l[s_>>2]=w_,+_e[s_>>2]),j2=-H_,z_=-O2,($M(x_,g_,O2,j2,O2*B2+(l[s_>>2]=L_,+_e[s_>>2]*j2),g2)|0)<2){ws=n_;return}if(j2=(l[s_>>2]=I_,+_e[s_>>2]),j2=(l[s_>>2]=R_,+_e[s_>>2]*z_+H_*j2),($M(__,x_,z_,(l[s_>>2]=J_,+_e[s_>>2]),j2,c2)|0)<2){ws=n_;return}x_=_+40|0,f_?(x2=x_,l[x2>>2]=J_,l[x2+4>>2]=_t,x2=_+48|0,l[x2>>2]=w_,l[x2+4>>2]=L_):(x2=_s+(g2<<3)+84|0,L2=l[x2+4>>2]|0,d2=x_,l[d2>>2]=l[x2>>2],l[d2+4>>2]=L2,d2=_s+(g2<<3)+20|0,L2=l[d2+4>>2]|0,x2=_+48|0,l[x2>>2]=l[d2>>2],l[x2+4>>2]=L2),z_=(l[s_>>2]=w_,+_e[s_>>2]),H_=(l[s_>>2]=J_,+_e[s_>>2]),n2=+_e[M_>>2],b2=+_e[c_>>2],A2=+_e[u_>>2],C2=+_e[_r>>2],w2=+_e[e_>>2],e_=0,_r=0;do u_=__+(e_*12|0)|0,h2=+_e[u_>>2],r2=+_e[__+(e_*12|0)+4>>2],(h2-z_)*H_+(r2-o2)*Q_<=n2&&(c_=_+(_r*20|0)|0,f_?(j2=h2-b2,O2=r2-A2,B2=+(j2*C2+O2*w2),j2=+(C2*O2-j2*w2),x2=c_,_e[x2>>2]=B2,_e[x2+4>>2]=j2,l[_+(_r*20|0)+16>>2]=l[__+(e_*12|0)+8>>2]):(d2=u_,x2=l[d2+4>>2]|0,L2=c_,l[L2>>2]=l[d2>>2],l[L2+4>>2]=x2,L2=__+(e_*12|0)+8|0,x2=_+(_r*20|0)+16|0,_o[x2+2>>0]=_o[L2+3>>0]|0,_o[x2+3>>0]=_o[L2+2>>0]|0,_o[x2>>0]=_o[L2+1>>0]|0,_o[x2+1>>0]=_o[L2>>0]|0),_r=_r+1|0),e_=e_+1|0;while((e_|0)!=2);l[V_>>2]=_r,ws=n_}function XJ(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0;if(n_=ws,__=l[_t+148>>2]|0,c_=l[_s+148>>2]|0,V_=+_e[e_+12>>2],g_=+_e[_r+8>>2],L_=+_e[e_+8>>2],u_=+_e[_r+12>>2],x_=V_*g_-L_*u_,u_=g_*L_+V_*u_,g_=+_e[_r>>2]-+_e[e_>>2],M_=+_e[_r+4>>2]-+_e[e_+4>>2],A_=V_*g_+L_*M_,g_=V_*M_-L_*g_,(__|0)<=0)return w_=0,L_=-34028234663852886e22,l[_>>2]=w_,ws=n_,+L_;_r=(c_|0)>0,f_=0,e_=0,I_=-34028234663852886e22;do{if(L_=+_e[_t+(e_<<3)+84>>2],V_=+_e[_t+(e_<<3)+88>>2],R_=u_*L_-x_*V_,V_=x_*L_+u_*V_,L_=+_e[_t+(e_<<3)+20>>2],M_=+_e[_t+(e_<<3)+24>>2],J_=A_+(u_*L_-x_*M_),M_=g_+(x_*L_+u_*M_),_r){w_=0,L_=34028234663852886e22;do Q_=R_*(+_e[_s+(w_<<3)+20>>2]-J_)+V_*(+_e[_s+(w_<<3)+24>>2]-M_),L_=Q_<L_?Q_:L_,w_=w_+1|0;while((w_|0)!=(c_|0))}else L_=34028234663852886e22;w_=L_>I_,I_=w_?L_:I_,f_=w_?e_:f_,e_=e_+1|0}while((e_|0)!=(__|0));return l[_>>2]=f_,ws=n_,+I_}function $M(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=+_r,_s=+_s,e_=+e_,n_=n_|0;var __=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0;return A_=ws,c_=_t+4|0,__=+_e[_t>>2]*_r+ +_e[c_>>2]*_s-e_,u_=_t+12|0,x_=_t+16|0,e_=+_e[u_>>2]*_r+ +_e[x_>>2]*_s-e_,__<=0?(l[_+0>>2]=l[_t+0>>2],l[_+4>>2]=l[_t+4>>2],l[_+8>>2]=l[_t+8>>2],g_=1):g_=0,e_<=0&&(f_=g_+1|0,g_=_+(g_*12|0)|0,l[g_+0>>2]=l[u_+0>>2],l[g_+4>>2]=l[u_+4>>2],l[g_+8>>2]=l[u_+8>>2],g_=f_),__*e_<0?(e_=__/(__-e_),_s=+_e[_t>>2],_r=+_e[c_>>2],_s=+(_s+e_*(+_e[u_>>2]-_s)),_r=+(_r+e_*(+_e[x_>>2]-_r)),f_=_+(g_*12|0)|0,_e[f_>>2]=_s,_e[f_+4>>2]=_r,f_=_+(g_*12|0)+8|0,_o[f_>>0]=n_,_o[f_+1>>0]=_o[_t+9>>0]|0,_o[f_+2>>0]=0,_o[f_+3>>0]=1,f_=g_+1|0,ws=A_,f_|0):(f_=g_,ws=A_,f_|0)}function tD(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0;if(_s=ws,e_=l[_t+4>>2]|0,(e_|0)==3){(_r|0)<=-1&&X2(5872,5912,53,7624),e_=_t+16|0,(l[e_>>2]|0)<=(_r|0)&&X2(5872,5912,53,7624),__=_t+12|0,u_=(l[__>>2]|0)+(_r<<3)|0,c_=l[u_+4>>2]|0,n_=_,l[n_>>2]=l[u_>>2],l[n_+4>>2]=c_,n_=_r+1|0,_r=_+8|0,__=l[__>>2]|0,(n_|0)<(l[e_>>2]|0)?(__=__+(n_<<3)|0,c_=l[__+4>>2]|0,u_=_r,l[u_>>2]=l[__>>2],l[u_+4>>2]=c_):(c_=l[__+4>>2]|0,u_=_r,l[u_>>2]=l[__>>2],l[u_+4>>2]=c_),l[_+16>>2]=_,l[_+20>>2]=2,_e[_+24>>2]=+_e[_t+8>>2],ws=_s;return}else if((e_|0)==2){l[_+16>>2]=_t+20,l[_+20>>2]=l[_t+148>>2],_e[_+24>>2]=+_e[_t+8>>2],ws=_s;return}else if(e_)if((e_|0)==1){l[_+16>>2]=_t+12,l[_+20>>2]=2,_e[_+24>>2]=+_e[_t+8>>2],ws=_s;return}else X2(15688,5912,81,7624);else{l[_+16>>2]=_t+12,l[_+20>>2]=1,_e[_+24>>2]=+_e[_t+8>>2],ws=_s;return}}function YJ(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0,_p=0,_0=0,C0=0,P0=0,T0=0,c0=0,_l=0,ey=0,H0=0,hy=0,I0=0,wy=0,dy=0,yy=0,_1=0,I1=0,d1=0,zS=0,OA=0,fS=0,Uy=0,U0=0;_s=ws,ws=ws+144|0,n_=_s,Q_=_s+124|0,H_=_s+112|0,l[1462]=(l[1462]|0)+1,w_=+_e[_r+56>>2],M_=+_e[_r+60>>2],L_=+_e[_r+64>>2],z_=+_e[_r+68>>2],V_=+_e[_r+72>>2],n2=+_e[_r+76>>2],C2=+_e[_r+80>>2],J_=+_e[_r+84>>2],__=_t+4|0,r2=_i[__>>1]|0,(r2&65535)>=4&&X2(6016,5912,102,6040),h2=r2&65535,c_=n_+108|0,l[c_>>2]=h2;t:do if(r2<<16>>16){for(r2=_r+16|0,f2=_r+48|0,h2=_r+44|0,c2=l[_r+20>>2]|0,S2=0;;){if(Y2=t_[_t+S2+6>>0]|0,l[n_+(S2*36|0)+28>>2]=Y2,d2=t_[_t+S2+9>>0]|0,l[n_+(S2*36|0)+32>>2]=d2,(c2|0)<=(Y2|0)){B2=6;break}if(I0=(l[r2>>2]|0)+(Y2<<3)|0,_0=+_e[I0>>2],j2=+_e[I0+4>>2],(l[f2>>2]|0)<=(d2|0)){B2=8;break}if(d2=(l[h2>>2]|0)+(d2<<3)|0,wy=+_e[d2>>2],H0=+_e[d2+4>>2],dy=w_+(_0*z_-j2*L_),hy=+dy,yy=+(j2*z_+_0*L_+M_),d2=n_+(S2*36|0)|0,_e[d2>>2]=hy,_e[d2+4>>2]=yy,yy=V_+(wy*J_-H0*C2),hy=+yy,wy=+(H0*J_+wy*C2+n2),d2=n_+(S2*36|0)+8|0,_e[d2>>2]=hy,_e[d2+4>>2]=wy,dy=+(yy-dy),yy=+(+_e[n_+(S2*36|0)+12>>2]-+_e[n_+(S2*36|0)+4>>2]),d2=n_+(S2*36|0)+16|0,_e[d2>>2]=dy,_e[d2+4>>2]=yy,_e[n_+(S2*36|0)+24>>2]=0,S2=S2+1|0,d2=l[c_>>2]|0,(S2|0)>=(d2|0)){w2=d2;break t}}((B2|0)==6||(B2|0)==8)&&X2(6800,6832,103,6880)}else w2=h2;while(!1);do if((w2|0)>1){if(dy=+_e[_t>>2],yy=+HJ(n_),!(yy<dy*.5)&&!(dy*2<yy|yy<11920928955078125e-23)){w2=l[c_>>2]|0,B2=15;break}l[c_>>2]=0,B2=17}else B2=15;while(!1);(B2|0)==15&&(w2?(O2=w2,R_=_r+20|0,b2=_r+44|0,A2=_r+48|0,o2=n_+16|0,g_=n_+24|0,g2=_r+16|0):B2=17);do if((B2|0)==17)if(l[n_+28>>2]=0,l[n_+32>>2]=0,w2=_r+20|0,(l[w2>>2]|0)<=0&&X2(6800,6832,103,6880),h2=_r+16|0,r2=l[h2>>2]|0,j2=+_e[r2>>2],_0=+_e[r2+4>>2],r2=_r+48|0,(l[r2>>2]|0)>0){b2=_r+44|0,o2=l[b2>>2]|0,wy=+_e[o2>>2],ey=+_e[o2+4>>2],dy=w_+(j2*z_-_0*L_),yy=_0*z_+j2*L_+M_,H0=+dy,hy=+yy,o2=n_,_e[o2>>2]=H0,_e[o2+4>>2]=hy,hy=V_+(wy*J_-ey*C2),wy=ey*J_+wy*C2+n2,ey=+hy,H0=+wy,o2=n_+8|0,_e[o2>>2]=ey,_e[o2+4>>2]=H0,o2=n_+16|0,dy=+(hy-dy),yy=+(wy-yy),g_=o2,_e[g_>>2]=dy,_e[g_+4>>2]=yy,g_=n_+24|0,_e[g_>>2]=1,l[c_>>2]=1,O2=1,R_=w2,A2=r2,g2=h2;break}else X2(6800,6832,103,6880);while(!1);Y2=n_+16|0,d2=n_+20|0,S2=n_+52|0,c2=n_+56|0,r2=n_+36|0,f2=n_+52|0,w2=n_+60|0,P2=n_+72|0,k2=n_+88|0,h2=n_+96|0,L2=0;t:for(;;){if(x2=(O2|0)>0,x2){B2=0;do l[Q_+(B2<<2)>>2]=l[n_+(B2*36|0)+28>>2],l[H_+(B2<<2)>>2]=l[n_+(B2*36|0)+32>>2],B2=B2+1|0;while((B2|0)!=(O2|0))}do if((O2|0)==2){if(I0=o2,yy=+_e[I0>>2],j2=+_e[I0+4>>2],I0=f2,C0=+_e[I0>>2],H0=+_e[I0+4>>2],_0=C0-yy,ey=H0-j2,j2=yy*_0+j2*ey,j2>=-0){_e[g_>>2]=1,l[c_>>2]=1,B2=45;break}if(_0=C0*_0+H0*ey,_0<=0){_e[w2>>2]=1,l[c_>>2]=1,B2=n_+0|0,_p=r2+0|0,P0=B2+36|0;do l[B2>>2]=l[_p>>2],B2=B2+4|0,_p=_p+4|0;while((B2|0)<(P0|0));B2=45;break}else{yy=1/(_0-j2),_e[g_>>2]=_0*yy,_e[w2>>2]=-(j2*yy),l[c_>>2]=2,B2=46;break}}else if((O2|0)==3){if(I0=o2,zS=+_e[I0>>2],I1=+_e[I0+4>>2],I0=f2,_1=+_e[I0>>2],d1=+_e[I0+4>>2],I0=k2,OA=+_e[I0>>2],j2=+_e[I0+4>>2],Uy=_1-zS,C0=d1-I1,H0=zS*Uy+I1*C0,hy=_1*Uy+d1*C0,_0=OA-zS,fS=j2-I1,ey=zS*_0+I1*fS,yy=OA*_0+j2*fS,U0=OA-_1,wy=j2-d1,dy=_1*U0+d1*wy,wy=OA*U0+j2*wy,_0=Uy*fS-C0*_0,C0=(_1*j2-d1*OA)*_0,j2=(I1*OA-zS*j2)*_0,_0=(zS*d1-I1*_1)*_0,!(!(H0>=-0)|!(ey>=-0))){_e[g_>>2]=1,l[c_>>2]=1,B2=45;break}if(!(!(H0<-0)|!(hy>0)|!(_0<=0))){U0=1/(hy-H0),_e[g_>>2]=hy*U0,_e[w2>>2]=-(H0*U0),l[c_>>2]=2,B2=46;break}if(!(!(ey<-0)|!(yy>0)|!(j2<=0))){U0=1/(yy-ey),_e[g_>>2]=yy*U0,_e[h2>>2]=-(ey*U0),l[c_>>2]=2,B2=r2+0|0,_p=P2+0|0,P0=B2+36|0;do l[B2>>2]=l[_p>>2],B2=B2+4|0,_p=_p+4|0;while((B2|0)<(P0|0));B2=46;break}if(!(!(hy<=0)|!(dy>=-0))){_e[w2>>2]=1,l[c_>>2]=1,B2=n_+0|0,_p=r2+0|0,P0=B2+36|0;do l[B2>>2]=l[_p>>2],B2=B2+4|0,_p=_p+4|0;while((B2|0)<(P0|0));B2=45;break}if(!(!(yy<=0)|!(wy<=0))){_e[h2>>2]=1,l[c_>>2]=1,B2=n_+0|0,_p=P2+0|0,P0=B2+36|0;do l[B2>>2]=l[_p>>2],B2=B2+4|0,_p=_p+4|0;while((B2|0)<(P0|0));B2=45;break}if(!(dy<-0)|!(wy>0)|!(C0<=0)){B2=43;break t}U0=1/(wy-dy),_e[w2>>2]=wy*U0,_e[h2>>2]=-(dy*U0),l[c_>>2]=2,B2=n_+0|0,_p=P2+0|0,P0=B2+36|0;do l[B2>>2]=l[_p>>2],B2=B2+4|0,_p=_p+4|0;while((B2|0)<(P0|0));B2=46}else if((O2|0)==1)B2=45;else{B2=44;break t}while(!1);do if((B2|0)==45)_p=1,j2=-+_e[Y2>>2],_0=-+_e[d2>>2];else if((B2|0)==46)if(Uy=+_e[Y2>>2],_0=+_e[S2>>2]-Uy,U0=+_e[d2>>2],j2=+_e[c2>>2]-U0,Uy*j2-_0*U0>0){_p=2,j2=-j2;break}else{_p=2,_0=-_0;break}while(!1);if(j2*j2+_0*_0<14210854715202004e-30){O2=_p,B2=71;break}if(P0=n_+(_p*36|0)|0,hy=-j2,U0=-_0,H0=z_*hy+L_*U0,hy=z_*U0-L_*hy,T0=l[g2>>2]|0,c0=l[R_>>2]|0,(c0|0)>1){for(_l=0,C0=hy*+_e[T0+4>>2]+H0*+_e[T0>>2],I0=1;ey=H0*+_e[T0+(I0<<3)>>2]+hy*+_e[T0+(I0<<3)+4>>2],B2=ey>C0,_l=B2?I0:_l,I0=I0+1|0,(I0|0)!=(c0|0);)C0=B2?ey:C0;if(B2=n_+(_p*36|0)+28|0,l[B2>>2]=_l,(_l|0)<=-1){B2=56;break}}else B2=n_+(_p*36|0)+28|0,l[B2>>2]=0,_l=0;if((c0|0)<=(_l|0)){B2=56;break}if(Uy=+_e[T0+(_l<<3)>>2],ey=+_e[T0+(_l<<3)+4>>2],C0=w_+(z_*Uy-L_*ey),U0=+C0,ey=+(Uy*L_+z_*ey+M_),T0=P0,_e[T0>>2]=U0,_e[T0+4>>2]=ey,ey=J_*j2+C2*_0,j2=J_*_0-j2*C2,T0=l[b2>>2]|0,P0=l[A2>>2]|0,(P0|0)>1){for(c0=0,H0=j2*+_e[T0+4>>2]+ey*+_e[T0>>2],_l=1;_0=ey*+_e[T0+(_l<<3)>>2]+j2*+_e[T0+(_l<<3)+4>>2],I0=_0>H0,c0=I0?_l:c0,_l=_l+1|0,(_l|0)!=(P0|0);)H0=I0?_0:H0;if(_l=n_+(_p*36|0)+32|0,l[_l>>2]=c0,(c0|0)<=-1){B2=63;break}}else _l=n_+(_p*36|0)+32|0,l[_l>>2]=0,c0=0;if((P0|0)<=(c0|0)){B2=63;break}if(OA=+_e[T0+(c0<<3)>>2],U0=+_e[T0+(c0<<3)+4>>2],Uy=V_+(J_*OA-C2*U0),fS=+Uy,U0=+(OA*C2+J_*U0+n2),I0=n_+(_p*36|0)+8|0,_e[I0>>2]=fS,_e[I0+4>>2]=U0,Uy=+(Uy-C0),U0=+(+_e[n_+(_p*36|0)+12>>2]-+_e[n_+(_p*36|0)+4>>2]),I0=n_+(_p*36|0)+16|0,_e[I0>>2]=Uy,_e[I0+4>>2]=U0,L2=L2+1|0,l[1464]=(l[1464]|0)+1,x2){B2=l[B2>>2]|0,x2=0;do{if((B2|0)==(l[Q_+(x2<<2)>>2]|0)&&(l[_l>>2]|0)==(l[H_+(x2<<2)>>2]|0)){B2=70;break t}x2=x2+1|0}while((x2|0)<(O2|0))}if(O2=(l[c_>>2]|0)+1|0,l[c_>>2]=O2,(L2|0)>=20){B2=71;break}}(B2|0)==43?(U0=1/(_0+(C0+j2)),_e[g_>>2]=C0*U0,_e[w2>>2]=j2*U0,_e[h2>>2]=_0*U0,l[c_>>2]=3,e_=l[1466]|0,l[1466]=(e_|0)>(L2|0)?e_:L2,e_=_+8|0,A_=L2,B2=75):(B2|0)==44?X2(15688,5912,498,5960):(B2|0)==56||(B2|0)==63?X2(6800,6832,103,6880):(B2|0)==70&&(O2=l[c_>>2]|0,B2=71);do if((B2|0)==71)if(R_=l[1466]|0,l[1466]=(R_|0)>(L2|0)?R_:L2,R_=_+8|0,!O2)X2(15688,5912,218,5992);else if((O2|0)==1){A_=n_,_l=l[A_>>2]|0,A_=l[A_+4>>2]|0,e_=_,l[e_>>2]=_l,l[e_+4>>2]=A_,e_=n_+8|0,I0=l[e_>>2]|0,e_=l[e_+4>>2]|0,c0=R_,l[c0>>2]=I0,l[c0+4>>2]=e_,f_=(l[s_>>2]=_l,+_e[s_>>2]),I_=(l[s_>>2]=I0,+_e[s_>>2]),x_=(l[s_>>2]=A_,+_e[s_>>2]),u_=(l[s_>>2]=e_,+_e[s_>>2]),e_=R_,A_=L2;break}else if((O2|0)==2){Uy=+_e[g_>>2],u_=+_e[w2>>2],f_=Uy*+_e[n_>>2]+u_*+_e[n_+36>>2],x_=Uy*+_e[n_+4>>2]+u_*+_e[n_+40>>2],U0=+f_,I_=+x_,e_=_,_e[e_>>2]=U0,_e[e_+4>>2]=I_,I_=Uy*+_e[n_+8>>2]+u_*+_e[n_+44>>2],u_=Uy*+_e[n_+12>>2]+u_*+_e[n_+48>>2],Uy=+I_,U0=+u_,e_=R_,_e[e_>>2]=Uy,_e[e_+4>>2]=U0,e_=R_,A_=L2;break}else if((O2|0)==3){e_=R_,A_=L2,B2=75;break}else X2(15688,5912,237,5992);while(!1);if((B2|0)==75&&(f_=+_e[g_>>2],x_=+_e[w2>>2],u_=+_e[h2>>2],I_=f_*+_e[n_>>2]+x_*+_e[n_+36>>2]+u_*+_e[n_+72>>2],u_=f_*+_e[n_+4>>2]+x_*+_e[n_+40>>2]+u_*+_e[n_+76>>2],x_=+I_,f_=+u_,I0=_,_e[I0>>2]=x_,_e[I0+4>>2]=f_,I0=e_,_e[I0>>2]=x_,_e[I0+4>>2]=f_,f_=I_,x_=u_),Uy=f_-I_,g_=_+4|0,R_=_+12|0,U0=x_-u_,Q_=_+16|0,_e[Q_>>2]=+G2(+(Uy*Uy+U0*U0)),l[_+20>>2]=A_,_e[_t>>2]=+HJ(n_),c_=l[c_>>2]|0,_i[__>>1]=c_,(c_|0)>0){__=0;do _o[_t+__+6>>0]=l[n_+(__*36|0)+28>>2],_o[_t+__+9>>0]=l[n_+(__*36|0)+32>>2],__=__+1|0;while((__|0)<(c_|0))}if(!(_o[_r+88>>0]|0)){ws=_s;return}if(u_=+_e[_r+24>>2],x_=+_e[_r+52>>2],f_=+_e[Q_>>2],I_=u_+x_,!(f_>I_&f_>11920928955078125e-23)){Uy=+((+_e[_>>2]+ +_e[e_>>2])*.5),U0=+((+_e[g_>>2]+ +_e[R_>>2])*.5),I0=_,_e[I0>>2]=Uy,_e[I0+4>>2]=U0,I0=e_,_e[I0>>2]=Uy,_e[I0+4>>2]=U0,_e[Q_>>2]=0,ws=_s;return}_e[Q_>>2]=f_-I_,J_=+_e[e_>>2],f_=+_e[_>>2],w_=J_-f_,I_=+_e[R_>>2],V_=+_e[g_>>2],M_=I_-V_,L_=+G2(+(w_*w_+M_*M_)),L_<11920928955078125e-23||(U0=1/L_,w_=w_*U0,M_=M_*U0),_e[_>>2]=u_*w_+f_,_e[g_>>2]=u_*M_+V_,_e[e_>>2]=J_-x_*w_,_e[R_>>2]=I_-x_*M_,ws=_s}function HJ(_){_=_|0;var _t=0,_r=0,_s=0,e_=0;if(_t=ws,_r=l[_+108>>2]|0,(_r|0)==3)return _s=+_e[_+16>>2],e_=+_e[_+20>>2],_s=(+_e[_+52>>2]-_s)*(+_e[_+92>>2]-e_)-(+_e[_+56>>2]-e_)*(+_e[_+88>>2]-_s),ws=_t,+_s;if(!_r)X2(15688,5912,247,5976);else{if((_r|0)==2)return _s=+_e[_+16>>2]-+_e[_+52>>2],e_=+_e[_+20>>2]-+_e[_+56>>2],e_=+G2(+(_s*_s+e_*e_)),ws=_t,+e_;if((_r|0)==1)return e_=0,ws=_t,+e_;X2(15688,5912,260,5976)}return 0}function ZJ(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0;if(_t=ws,_r=_+16|0,_s=l[_r>>2]|0,(_s|0)==-1){if(e_=_+8|0,n_=l[e_>>2]|0,_s=_+12|0,(n_|0)!=(l[_s>>2]|0)&&X2(6056,6088,58,6136),_=_+4|0,__=l[_>>2]|0,l[_s>>2]=n_<<1,n_=a0(n_*72|0)|0,l[_>>2]=n_,NA(n_|0,__|0,(l[e_>>2]|0)*36|0)|0,d0(__),n_=l[e_>>2]|0,__=(l[_s>>2]|0)+-1|0,_=l[_>>2]|0,(n_|0)<(__|0))do __=n_,n_=n_+1|0,l[_+(__*36|0)+20>>2]=n_,l[_+(__*36|0)+32>>2]=-1,__=(l[_s>>2]|0)+-1|0;while((n_|0)<(__|0));l[_+(__*36|0)+20>>2]=-1,l[_+(((l[_s>>2]|0)+-1|0)*36|0)+32>>2]=-1,_s=l[e_>>2]|0,l[_r>>2]=_s}else e_=_+8|0,_=l[_+4>>2]|0;return __=_+(_s*36|0)+20|0,l[_r>>2]=l[__>>2],l[__>>2]=-1,l[_+(_s*36|0)+24>>2]=-1,l[_+(_s*36|0)+28>>2]=-1,l[_+(_s*36|0)+32>>2]=0,l[_+(_s*36|0)+16>>2]=0,l[e_>>2]=(l[e_>>2]|0)+1,ws=_t,_s|0}function fG(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0;if(_r=ws,(_t|0)<=-1&&X2(6152,6088,94,6192),(l[_+12>>2]|0)<=(_t|0)&&X2(6152,6088,94,6192),_s=_+8|0,(l[_s>>2]|0)>0){e_=_+16|0,_=l[_+4>>2]|0,l[_+(_t*36|0)+20>>2]=l[e_>>2],l[_+(_t*36|0)+32>>2]=-1,l[e_>>2]=_t,l[_s>>2]=(l[_s>>2]|0)+-1,ws=_r;return}else X2(6208,6088,95,6192)}function KJ(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0;if(_r=ws,A_=_+24|0,l[A_>>2]=(l[A_>>2]|0)+1,A_=l[_>>2]|0,(A_|0)==-1){l[_>>2]=_t,l[(l[_+4>>2]|0)+(_t*36|0)+20>>2]=-1,ws=_r;return}_s=_+4|0,u_=l[_s>>2]|0,e_=+_e[u_+(_t*36|0)>>2],n_=+_e[u_+(_t*36|0)+4>>2],__=+_e[u_+(_t*36|0)+8>>2],c_=+_e[u_+(_t*36|0)+12>>2],x_=l[u_+(A_*36|0)+24>>2]|0;t:do if((x_|0)!=-1)do{if(g_=l[u_+(A_*36|0)+28>>2]|0,J_=+_e[u_+(A_*36|0)+8>>2],o2=+_e[u_+(A_*36|0)>>2],M_=+_e[u_+(A_*36|0)+12>>2],I_=+_e[u_+(A_*36|0)+4>>2],L_=((J_>__?J_:__)-(o2<e_?o2:e_)+((M_>c_?M_:c_)-(I_<n_?I_:n_)))*2,f_=L_*2,I_=(L_-(J_-o2+(M_-I_))*2)*2,M_=+_e[u_+(x_*36|0)>>2],o2=e_<M_?e_:M_,J_=+_e[u_+(x_*36|0)+4>>2],L_=n_<J_?n_:J_,w_=+_e[u_+(x_*36|0)+8>>2],R_=__>w_?__:w_,V_=+_e[u_+(x_*36|0)+12>>2],Q_=c_>V_?c_:V_,(l[u_+(x_*36|0)+24>>2]|0)==-1?R_=(R_-o2+(Q_-L_))*2:R_=(R_-o2+(Q_-L_))*2-(w_-M_+(V_-J_))*2,R_=I_+R_,J_=+_e[u_+(g_*36|0)>>2],L_=e_<J_?e_:J_,z_=+_e[u_+(g_*36|0)+4>>2],o2=n_<z_?n_:z_,M_=+_e[u_+(g_*36|0)+8>>2],w_=__>M_?__:M_,V_=+_e[u_+(g_*36|0)+12>>2],Q_=c_>V_?c_:V_,(l[u_+(g_*36|0)+24>>2]|0)==-1?J_=(w_-L_+(Q_-o2))*2:J_=(w_-L_+(Q_-o2))*2-(M_-J_+(V_-z_))*2,I_=I_+J_,f_<R_&f_<I_)break t;A_=R_<I_?x_:g_,x_=l[u_+(A_*36|0)+24>>2]|0}while((x_|0)!=-1);while(!1);if(u_=l[u_+(A_*36|0)+20>>2]|0,x_=ZJ(_)|0,g_=l[_s>>2]|0,l[g_+(x_*36|0)+20>>2]=u_,l[g_+(x_*36|0)+16>>2]=0,g_=l[_s>>2]|0,z_=+_e[g_+(A_*36|0)>>2],o2=+_e[g_+(A_*36|0)+4>>2],z_=+(e_<z_?e_:z_),o2=+(n_<o2?n_:o2),H_=g_+(x_*36|0)|0,_e[H_>>2]=z_,_e[H_+4>>2]=o2,o2=+_e[g_+(A_*36|0)+8>>2],z_=+_e[g_+(A_*36|0)+12>>2],o2=+(__>o2?__:o2),z_=+(c_>z_?c_:z_),g_=g_+(x_*36|0)+8|0,_e[g_>>2]=o2,_e[g_+4>>2]=z_,g_=l[_s>>2]|0,l[g_+(x_*36|0)+32>>2]=(l[g_+(A_*36|0)+32>>2]|0)+1,(u_|0)==-1?(l[g_+(x_*36|0)+24>>2]=A_,l[g_+(x_*36|0)+28>>2]=_t,l[g_+(A_*36|0)+20>>2]=x_,H_=g_+(_t*36|0)+20|0,l[H_>>2]=x_,l[_>>2]=x_,x_=l[H_>>2]|0):(H_=g_+(u_*36|0)+24|0,(l[H_>>2]|0)==(A_|0)?l[H_>>2]=x_:l[g_+(u_*36|0)+28>>2]=x_,l[g_+(x_*36|0)+24>>2]=A_,l[g_+(x_*36|0)+28>>2]=_t,l[g_+(A_*36|0)+20>>2]=x_,l[g_+(_t*36|0)+20>>2]=x_),(x_|0)==-1){ws=_r;return}for(;;){if(A_=$J(_,x_)|0,_t=l[_s>>2]|0,u_=l[_t+(A_*36|0)+24>>2]|0,x_=l[_t+(A_*36|0)+28>>2]|0,(u_|0)==-1){_s=20;break}if((x_|0)==-1){_s=22;break}if(g_=l[_t+(u_*36|0)+32>>2]|0,H_=l[_t+(x_*36|0)+32>>2]|0,l[_t+(A_*36|0)+32>>2]=((g_|0)>(H_|0)?g_:H_)+1,BC(_t+(A_*36|0)|0,_t+(u_*36|0)|0,_t+(x_*36|0)|0),x_=l[(l[_s>>2]|0)+(A_*36|0)+20>>2]|0,(x_|0)==-1){_s=24;break}}if((_s|0)==20)X2(6288,6088,304,6304);else if((_s|0)==22)X2(6320,6088,305,6304);else if((_s|0)==24){ws=_r;return}}function QJ(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;if(_s=ws,(l[_>>2]|0)==(_t|0)){l[_>>2]=-1,ws=_s;return}if(_r=_+4|0,e_=l[_r>>2]|0,n_=l[e_+(_t*36|0)+20>>2]|0,__=l[e_+(n_*36|0)+20>>2]|0,c_=l[e_+(n_*36|0)+24>>2]|0,(c_|0)==(_t|0)&&(c_=l[e_+(n_*36|0)+28>>2]|0),(__|0)==-1){l[_>>2]=c_,l[e_+(c_*36|0)+20>>2]=-1,fG(_,n_),ws=_s;return}_t=e_+(__*36|0)+24|0,(l[_t>>2]|0)==(n_|0)?l[_t>>2]=c_:l[e_+(__*36|0)+28>>2]=c_,l[e_+(c_*36|0)+20>>2]=__,fG(_,n_);do c_=$J(_,__)|0,_t=l[_r>>2]|0,e_=l[_t+(c_*36|0)+24>>2]|0,n_=l[_t+(c_*36|0)+28>>2]|0,BC(_t+(c_*36|0)|0,_t+(e_*36|0)|0,_t+(n_*36|0)|0),_t=l[_r>>2]|0,e_=l[_t+(e_*36|0)+32>>2]|0,n_=l[_t+(n_*36|0)+32>>2]|0,l[_t+(c_*36|0)+32>>2]=((e_|0)>(n_|0)?e_:n_)+1,__=l[_t+(c_*36|0)+20>>2]|0;while((__|0)!=-1);ws=_s}function BC(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0;_s=ws,e_=+_e[_t>>2],n_=+_e[_r>>2],__=+_e[_t+4>>2],c_=+_e[_r+4>>2],n_=+(e_<n_?e_:n_),c_=+(__<c_?__:c_),u_=_,_e[u_>>2]=n_,_e[u_+4>>2]=c_,c_=+_e[_t+8>>2],n_=+_e[_r+8>>2],__=+_e[_t+12>>2],e_=+_e[_r+12>>2],n_=+(c_>n_?c_:n_),e_=+(__>e_?__:e_),_t=_+8|0,_e[_t>>2]=n_,_e[_t+4>>2]=e_,ws=_s}function $J(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0;if(_r=ws,(_t|0)==-1&&X2(6336,6088,379,6352),__=l[_+4>>2]|0,n_=__+(_t*36|0)|0,I_=__+(_t*36|0)+24|0,f_=l[I_>>2]|0,(f_|0)==-1||(c_=__+(_t*36|0)+32|0,(l[c_>>2]|0)<2))return w_=_t,ws=_r,w_|0;if(R_=__+(_t*36|0)+28|0,g_=l[R_>>2]|0,(f_|0)<=-1&&X2(6360,6088,389,6352),A_=l[_+12>>2]|0,(f_|0)>=(A_|0)&&X2(6360,6088,389,6352),(g_|0)>-1&(g_|0)<(A_|0)||X2(6392,6088,390,6352),x_=__+(f_*36|0)|0,u_=__+(g_*36|0)|0,_s=__+(g_*36|0)+32|0,e_=__+(f_*36|0)+32|0,J_=(l[_s>>2]|0)-(l[e_>>2]|0)|0,(J_|0)>1){w_=__+(g_*36|0)+24|0,f_=l[w_>>2]|0,I_=__+(g_*36|0)+28|0,J_=l[I_>>2]|0,M_=__+(f_*36|0)|0,V_=__+(J_*36|0)|0,(f_|0)>-1&(f_|0)<(A_|0)||X2(6424,6088,404,6352),(J_|0)>-1&(J_|0)<(A_|0)||X2(6456,6088,405,6352),l[w_>>2]=_t,w_=__+(_t*36|0)+20|0,A_=__+(g_*36|0)+20|0,l[A_>>2]=l[w_>>2],l[w_>>2]=g_,A_=l[A_>>2]|0;do if((A_|0)!=-1){if(_=__+(A_*36|0)+24|0,(l[_>>2]|0)==(_t|0)){l[_>>2]=g_;break}if(_=__+(A_*36|0)+28|0,(l[_>>2]|0)==(_t|0)){l[_>>2]=g_;break}else X2(6488,6088,421,6352)}else l[_>>2]=g_;while(!1);return A_=__+(f_*36|0)+32|0,_=__+(J_*36|0)+32|0,(l[A_>>2]|0)>(l[_>>2]|0)?(l[I_>>2]=f_,l[R_>>2]=J_,l[__+(J_*36|0)+20>>2]=_t,BC(n_,x_,V_),BC(u_,n_,M_),e_=l[e_>>2]|0,w_=l[_>>2]|0,w_=((e_|0)>(w_|0)?e_:w_)+1|0,l[c_>>2]=w_,e_=l[A_>>2]|0,e_=(w_|0)>(e_|0)?w_:e_):(l[I_>>2]=J_,l[R_>>2]=f_,l[__+(f_*36|0)+20>>2]=_t,BC(n_,x_,M_),BC(u_,n_,V_),e_=l[e_>>2]|0,w_=l[A_>>2]|0,w_=((e_|0)>(w_|0)?e_:w_)+1|0,l[c_>>2]=w_,e_=l[_>>2]|0,e_=(w_|0)>(e_|0)?w_:e_),l[_s>>2]=e_+1,w_=g_,ws=_r,w_|0}if((J_|0)>=-1)return w_=_t,ws=_r,w_|0;w_=__+(f_*36|0)+24|0,M_=l[w_>>2]|0,V_=__+(f_*36|0)+28|0,J_=l[V_>>2]|0,g_=__+(M_*36|0)|0,R_=__+(J_*36|0)|0,(M_|0)>-1&(M_|0)<(A_|0)||X2(6520,6088,464,6352),(J_|0)>-1&(J_|0)<(A_|0)||X2(6552,6088,465,6352),l[w_>>2]=_t,w_=__+(_t*36|0)+20|0,A_=__+(f_*36|0)+20|0,l[A_>>2]=l[w_>>2],l[w_>>2]=f_,A_=l[A_>>2]|0;do if((A_|0)!=-1){if(_=__+(A_*36|0)+24|0,(l[_>>2]|0)==(_t|0)){l[_>>2]=f_;break}if(_=__+(A_*36|0)+28|0,(l[_>>2]|0)==(_t|0)){l[_>>2]=f_;break}else X2(6584,6088,481,6352)}else l[_>>2]=f_;while(!1);return A_=__+(M_*36|0)+32|0,_=__+(J_*36|0)+32|0,(l[A_>>2]|0)>(l[_>>2]|0)?(l[V_>>2]=M_,l[I_>>2]=J_,l[__+(J_*36|0)+20>>2]=_t,BC(n_,u_,R_),BC(x_,n_,g_),_s=l[_s>>2]|0,w_=l[_>>2]|0,w_=((_s|0)>(w_|0)?_s:w_)+1|0,l[c_>>2]=w_,_s=l[A_>>2]|0,_s=(w_|0)>(_s|0)?w_:_s):(l[V_>>2]=J_,l[I_>>2]=M_,l[__+(M_*36|0)+20>>2]=_t,BC(n_,u_,g_),BC(x_,n_,R_),_s=l[_s>>2]|0,w_=l[A_>>2]|0,w_=((_s|0)>(w_|0)?_s:w_)+1|0,l[c_>>2]=w_,_s=l[_>>2]|0,_s=(w_|0)>(_s|0)?w_:_s),l[e_>>2]=_s+1,w_=f_,ws=_r,w_|0}function tI(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=+_s;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0;if(x_=ws,I_=1-_s,A_=I_*+_e[_+32>>2]+ +_e[_+36>>2]*_s,g_=+F2(+A_),A_=+V2(+A_),n_=+_e[_+8>>2],u_=+_e[_+12>>2],c_=I_*+_e[_+16>>2]+ +_e[_+24>>2]*_s-(A_*n_-g_*u_),u_=I_*+_e[_+20>>2]+ +_e[_+28>>2]*_s-(g_*n_+A_*u_),n_=I_*+_e[_+68>>2]+ +_e[_+72>>2]*_s,__=+F2(+n_),n_=+V2(+n_),R_=+_e[_+44>>2],J_=+_e[_+48>>2],e_=I_*+_e[_+52>>2]+ +_e[_+60>>2]*_s-(n_*R_-__*J_),_s=I_*+_e[_+56>>2]+ +_e[_+64>>2]*_s-(__*R_+n_*J_),V_=l[_+80>>2]|0,(V_|0)==1)return f_=+_e[_+92>>2],I_=+_e[_+96>>2],R_=+_e[_+84>>2],J_=+_e[_+88>>2],_=l[_+4>>2]|0,(_r|0)<=-1&&X2(6800,6832,103,6880),(l[_+20>>2]|0)<=(_r|0)&&X2(6800,6832,103,6880),V_=(l[_+16>>2]|0)+(_r<<3)|0,w_=+_e[V_>>2],M_=+_e[V_+4>>2],J_=(A_*f_-g_*I_)*(e_+(n_*w_-__*M_)-(c_+(A_*R_-g_*J_)))+(g_*f_+A_*I_)*(_s+(__*w_+n_*M_)-(u_+(g_*R_+A_*J_))),ws=x_,+J_;if((V_|0)==2)return R_=+_e[_+92>>2],J_=+_e[_+96>>2],f_=+_e[_+84>>2],I_=+_e[_+88>>2],_=l[_>>2]|0,(_t|0)<=-1&&X2(6800,6832,103,6880),(l[_+20>>2]|0)<=(_t|0)&&X2(6800,6832,103,6880),V_=(l[_+16>>2]|0)+(_t<<3)|0,M_=+_e[V_>>2],w_=+_e[V_+4>>2],w_=(n_*R_-__*J_)*(c_+(A_*M_-g_*w_)-(e_+(n_*f_-__*I_)))+(__*R_+n_*J_)*(u_+(g_*M_+A_*w_)-(_s+(__*f_+n_*I_))),ws=x_,+w_;if(V_)X2(15688,6720,239,6784);else return V_=l[_>>2]|0,(_t|0)<=-1&&X2(6800,6832,103,6880),(l[V_+20>>2]|0)<=(_t|0)&&X2(6800,6832,103,6880),_t=(l[V_+16>>2]|0)+(_t<<3)|0,f_=+_e[_t>>2],I_=+_e[_t+4>>2],_t=l[_+4>>2]|0,(_r|0)<=-1&&X2(6800,6832,103,6880),(l[_t+20>>2]|0)<=(_r|0)&&X2(6800,6832,103,6880),V_=(l[_t+16>>2]|0)+(_r<<3)|0,M_=+_e[V_>>2],w_=+_e[V_+4>>2],w_=+_e[_+92>>2]*(e_+(n_*M_-__*w_)-(c_+(A_*f_-g_*I_)))+ +_e[_+96>>2]*(_s+(__*M_+n_*w_)-(u_+(g_*f_+A_*I_))),ws=x_,+w_;return 0}function w$(_){_=_|0;var _t=0;_t=ws,l[_>>2]=6952,d0(l[_+12>>2]|0),d0(_),ws=_t}function V$(_){_=_|0;var _t=0,_r=0;_t=ws,l[_>>2]=6952,_r=_+12|0,d0(l[_r>>2]|0),l[_r>>2]=0,l[_+16>>2]=0,ws=_t}function eI(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0;for(e_=ws,_s=_+12|0,l[_s>>2]|0&&X2(6984,7024,60,7144),n_=_+16|0,l[n_>>2]|0&&X2(6984,7024,60,7144),(_r|0)<=1&&X2(7160,7024,61,7144),u_=+_e[_t>>2],c_=+_e[_t+4>>2],__=1;;){if(A_=u_,u_=+_e[_t+(__<<3)>>2],A_=A_-u_,x_=c_,c_=+_e[_t+(__<<3)+4>>2],x_=x_-c_,__=__+1|0,!(A_*A_+x_*x_>2499999936844688e-20)){__=9;break}if((__|0)>=(_r|0)){__=10;break}}if((__|0)==9)X2(7176,7024,66,7144);else if((__|0)==10){l[n_>>2]=_r,__=a0(_r<<3)|0,l[_s>>2]=__,NA(__|0,_t|0,l[n_>>2]<<3|0)|0,__=_+20|0,l[__+0>>2]=0,l[__+4>>2]=0,l[__+8>>2]=0,l[__+12>>2]=0,_i[__+16>>1]=0,ws=e_;return}}function M$(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;return _r=ws,_t=k1(_t,40)|0,_t?(l[_t>>2]=6952,l[_t+4>>2]=3,_e[_t+8>>2]=.009999999776482582,l[_t+12>>2]=0,l[_t+16>>2]=0,_o[_t+36>>0]=0,_o[_t+37>>0]=0):_t=0,eI(_t,l[_+12>>2]|0,l[_+16>>2]|0),_s=_+20|0,e_=l[_s+4>>2]|0,n_=_t+20|0,l[n_>>2]=l[_s>>2],l[n_+4>>2]=e_,n_=_+28|0,e_=l[n_+4>>2]|0,_s=_t+28|0,l[_s>>2]=l[n_>>2],l[_s+4>>2]=e_,_o[_t+36>>0]=_o[_+36>>0]|0,_o[_t+37>>0]=_o[_+37>>0]|0,ws=_r,_t|0}function D$(_){return _=_|0,(l[_+16>>2]|0)+-1|0}function gG(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0;if(_s=ws,(_r|0)<=-1&&X2(7240,7024,112,7280),e_=_+16|0,((l[e_>>2]|0)+-1|0)<=(_r|0)&&X2(7240,7024,112,7280),l[_t+4>>2]=1,_e[_t+8>>2]=+_e[_+8>>2],n_=_+12|0,__=(l[n_>>2]|0)+(_r<<3)|0,c_=l[__+4>>2]|0,u_=_t+12|0,l[u_>>2]=l[__>>2],l[u_+4>>2]=c_,u_=(l[n_>>2]|0)+(_r+1<<3)|0,c_=l[u_+4>>2]|0,__=_t+20|0,l[__>>2]=l[u_>>2],l[__+4>>2]=c_,__=_t+28|0,(_r|0)>0?(x_=(l[n_>>2]|0)+(_r+-1<<3)|0,c_=l[x_+4>>2]|0,u_=__,l[u_>>2]=l[x_>>2],l[u_+4>>2]=c_,_o[_t+44>>0]=1):(c_=_+20|0,u_=l[c_+4>>2]|0,x_=__,l[x_>>2]=l[c_>>2],l[x_+4>>2]=u_,_o[_t+44>>0]=_o[_+36>>0]|0),__=_t+36|0,((l[e_>>2]|0)+-2|0)>(_r|0)){c_=(l[n_>>2]|0)+(_r+2<<3)|0,u_=l[c_+4>>2]|0,x_=__,l[x_>>2]=l[c_>>2],l[x_+4>>2]=u_,_o[_t+45>>0]=1,ws=_s;return}else{c_=_+28|0,u_=l[c_+4>>2]|0,x_=__,l[x_>>2]=l[c_>>2],l[x_+4>>2]=u_,_o[_t+45>>0]=_o[_+37>>0]|0,ws=_s;return}}function G$(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,0}function J$(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0;return n_=ws,ws=ws+48|0,__=n_,c_=l[_+16>>2]|0,(c_|0)>(e_|0)?(l[__>>2]=7472,l[__+4>>2]=1,_e[__+8>>2]=.009999999776482582,u_=__+28|0,l[u_+0>>2]=0,l[u_+4>>2]=0,l[u_+8>>2]=0,l[u_+12>>2]=0,_i[u_+16>>1]=0,u_=e_+1|0,_=l[_+12>>2]|0,A_=_+(e_<<3)|0,x_=l[A_+4>>2]|0,e_=__+12|0,l[e_>>2]=l[A_>>2],l[e_+4>>2]=x_,c_=_+(((u_|0)==(c_|0)?0:u_)<<3)|0,e_=l[c_+4>>2]|0,_=__+20|0,l[_>>2]=l[c_>>2],l[_+4>>2]=e_,_=oI(__,_t,_r,_s,0)|0,ws=n_,_|0):(X2(7296,7024,152,12248),0)}function I$(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0;if(e_=ws,n_=l[_+16>>2]|0,(n_|0)>(_s|0)){R_=_s+1|0,n_=(R_|0)==(n_|0)?0:R_,_=l[_+12>>2]|0,g_=+_e[_r+12>>2],A_=+_e[_+(_s<<3)>>2],f_=+_e[_r+8>>2],u_=+_e[_+(_s<<3)+4>>2],c_=+_e[_r>>2],x_=c_+(g_*A_-f_*u_),I_=+_e[_r+4>>2],u_=A_*f_+g_*u_+I_,A_=+_e[_+(n_<<3)>>2],__=+_e[_+(n_<<3)+4>>2],c_=c_+(g_*A_-f_*__),__=I_+(f_*A_+g_*__),g_=+(x_<c_?x_:c_),A_=+(u_<__?u_:__),_=_t,_e[_>>2]=g_,_e[_+4>>2]=A_,c_=+(x_>c_?x_:c_),__=+(u_>__?u_:__),_=_t+8|0,_e[_>>2]=c_,_e[_+4>>2]=__,ws=e_;return}else X2(7296,7024,171,7320)}function T$(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,_=ws,l[_t+0>>2]=0,l[_t+4>>2]=0,l[_t+8>>2]=0,l[_t+12>>2]=0,ws=_}function F$(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;return _r=ws,_t=k1(_t,20)|0,_t?(l[_t>>2]=7400,_s=_t+4|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0):_t=0,n_=_+4|0,_s=l[n_+4>>2]|0,e_=_t+4|0,l[e_>>2]=l[n_>>2],l[e_+4>>2]=_s,e_=_+12|0,_=l[e_+4>>2]|0,_s=_t+12|0,l[_s>>2]=l[e_>>2],l[_s+4>>2]=_,ws=_r,_t|0}function R$(_){return _=_|0,1}function L$(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0;return _s=+_e[_t+12>>2],c_=+_e[_+12>>2],__=+_e[_t+8>>2],e_=+_e[_+16>>2],n_=+_e[_r>>2]-(+_e[_t>>2]+(_s*c_-__*e_)),e_=+_e[_r+4>>2]-(+_e[_t+4>>2]+(c_*__+_s*e_)),_s=+_e[_+8>>2],n_*n_+e_*e_<=_s*_s|0}function k$(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0;return e_=ws,A_=+_e[_s+12>>2],u_=+_e[_+12>>2],g_=+_e[_s+8>>2],__=+_e[_+16>>2],x_=+_e[_r>>2],n_=x_-(+_e[_s>>2]+(A_*u_-g_*__)),c_=+_e[_r+4>>2],__=c_-(+_e[_s+4>>2]+(u_*g_+A_*__)),A_=+_e[_+8>>2],x_=+_e[_r+8>>2]-x_,c_=+_e[_r+12>>2]-c_,g_=n_*x_+__*c_,u_=x_*x_+c_*c_,A_=g_*g_-(n_*n_+__*__-A_*A_)*u_,A_<0|u_<11920928955078125e-23||(g_=g_+ +G2(+A_),A_=-g_,!(g_<=-0))||!(u_*+_e[_r+16>>2]>=A_)?(_s=0,ws=e_,_s|0):(g_=A_/u_,_e[_t+8>>2]=g_,n_=n_+x_*g_,c_=__+c_*g_,g_=+n_,__=+c_,_s=_t,_e[_s>>2]=g_,_e[_s+4>>2]=__,__=+G2(+(n_*n_+c_*c_)),__<11920928955078125e-23?(_s=1,ws=e_,_s|0):(g_=1/__,_e[_t>>2]=n_*g_,_e[_t+4>>2]=c_*g_,_s=1,ws=e_,_s|0))}function q$(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0;e_=+_e[_r+12>>2],u_=+_e[_+12>>2],c_=+_e[_r+8>>2],n_=+_e[_+16>>2],__=+_e[_r>>2]+(e_*u_-c_*n_),n_=+_e[_r+4>>2]+(u_*c_+e_*n_),_s=_+8|0,e_=+_e[_s>>2],_e[_t>>2]=__-e_,_e[_t+4>>2]=n_-e_,e_=+_e[_s>>2],_e[_t+8>>2]=__+e_,_e[_t+12>>2]=n_+e_}function E$(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0;c_=_+8|0,n_=+_e[c_>>2],n_=n_*_r*3.1415927410125732*n_,_e[_t>>2]=n_,__=_+12|0,A_=__,x_=l[A_+4>>2]|0,u_=_t+4|0,l[u_>>2]=l[A_>>2],l[u_+4>>2]=x_,e_=+_e[c_>>2],_s=+_e[__>>2],_r=+_e[_+16>>2],_e[_t+12>>2]=n_*(e_*e_*.5+(_s*_s+_r*_r))}function j$(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;return _r=ws,_t=k1(_t,48)|0,_t?(l[_t>>2]=7472,l[_t+4>>2]=1,_e[_t+8>>2]=.009999999776482582,_s=_t+28|0,l[_s+0>>2]=0,l[_s+4>>2]=0,l[_s+8>>2]=0,l[_s+12>>2]=0,_i[_s+16>>1]=0):_t=0,n_=_+4|0,e_=l[n_+4>>2]|0,_s=_t+4|0,l[_s>>2]=l[n_>>2],l[_s+4>>2]=e_,_s=_t+12|0,_=_+12|0,l[_s+0>>2]=l[_+0>>2],l[_s+4>>2]=l[_+4>>2],l[_s+8>>2]=l[_+8>>2],l[_s+12>>2]=l[_+12>>2],l[_s+16>>2]=l[_+16>>2],l[_s+20>>2]=l[_+20>>2],l[_s+24>>2]=l[_+24>>2],l[_s+28>>2]=l[_+28>>2],_i[_s+32>>1]=_i[_+32>>1]|0,ws=_r,_t|0}function z$(_){return _=_|0,1}function W$(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,0}function oI(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0;return e_=ws,A_=+_e[_s>>2],x_=+_e[_r>>2]-A_,g_=+_e[_s+4>>2],c_=+_e[_r+4>>2]-g_,n_=_s+12|0,R_=+_e[n_>>2],_s=_s+8|0,u_=+_e[_s>>2],__=x_*R_+c_*u_,x_=R_*c_-x_*u_,A_=+_e[_r+8>>2]-A_,g_=+_e[_r+12>>2]-g_,c_=R_*A_+u_*g_-__,A_=R_*g_-u_*A_-x_,L_=_+12|0,u_=+_e[L_>>2],g_=+_e[L_+4>>2],_=_+20|0,R_=+_e[_>>2],R_=R_-u_,I_=+_e[_+4>>2]-g_,M_=-R_,f_=R_*R_+I_*I_,J_=+G2(+f_),J_<11920928955078125e-23?V_=I_:(w_=1/J_,V_=I_*w_,M_=w_*M_),J_=(g_-x_)*M_+(u_-__)*V_,w_=A_*M_+c_*V_,w_==0||(w_=J_/w_,w_<0)||f_==0||+_e[_r+16>>2]<w_||(R_=(R_*(__+c_*w_-u_)+I_*(x_+A_*w_-g_))/f_,R_<0|R_>1)?(L_=0,ws=e_,L_|0):(_e[_t+8>>2]=w_,w_=+_e[n_>>2],c_=+_e[_s>>2],__=V_*w_-M_*c_,c_=M_*w_+V_*c_,J_>0?(M_=+-__,w_=+-c_,L_=_t,_e[L_>>2]=M_,_e[L_+4>>2]=w_,L_=1,ws=e_,L_|0):(M_=+__,w_=+c_,L_=_t,_e[L_>>2]=M_,_e[L_+4>>2]=w_,L_=1,ws=e_,L_|0))}function N$(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0;_s=ws,c_=+_e[_r+12>>2],A_=+_e[_+12>>2],x_=+_e[_r+8>>2],__=+_e[_+16>>2],n_=+_e[_r>>2],u_=n_+(c_*A_-x_*__),g_=+_e[_r+4>>2],__=A_*x_+c_*__+g_,A_=+_e[_+20>>2],e_=+_e[_+24>>2],n_=n_+(c_*A_-x_*e_),e_=g_+(x_*A_+c_*e_),c_=+_e[_+8>>2],A_=+((u_<n_?u_:n_)-c_),x_=+((__<e_?__:e_)-c_),_r=_t,_e[_r>>2]=A_,_e[_r+4>>2]=x_,n_=+(c_+(u_>n_?u_:n_)),e_=+(c_+(__>e_?__:e_)),_r=_t+8|0,_e[_r>>2]=n_,_e[_r+4>>2]=e_,ws=_s}function O$(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0,e_=0;_s=ws,_e[_t>>2]=0,e_=+((+_e[_+12>>2]+ +_e[_+20>>2])*.5),_r=+((+_e[_+16>>2]+ +_e[_+24>>2])*.5),_=_t+4|0,_e[_>>2]=e_,_e[_+4>>2]=_r,_e[_t+12>>2]=0,ws=_s}function U$(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;return _r=ws,_t=k1(_t,152)|0,_t?(l[_t>>2]=7832,l[_t+4>>2]=2,_e[_t+8>>2]=.009999999776482582,l[_t+148>>2]=0,_e[_t+12>>2]=0,_e[_t+16>>2]=0):_t=0,n_=_+4|0,e_=l[n_+4>>2]|0,_s=_t+4|0,l[_s>>2]=l[n_>>2],l[_s+4>>2]=e_,NA(_t+12|0,_+12|0,140)|0,ws=_r,_t|0}function X$(_){return _=_|0,1}function Y$(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0;if(_s=ws,__=+_e[_r>>2]-+_e[_t>>2],c_=+_e[_r+4>>2]-+_e[_t+4>>2],u_=+_e[_t+12>>2],n_=+_e[_t+8>>2],e_=__*u_+c_*n_,n_=u_*c_-__*n_,_t=l[_+148>>2]|0,(_t|0)>0)_r=0;else return _r=1,ws=_s,_r|0;for(;;){if((e_-+_e[_+(_r<<3)+20>>2])*+_e[_+(_r<<3)+84>>2]+(n_-+_e[_+(_r<<3)+24>>2])*+_e[_+(_r<<3)+88>>2]>0){_t=0,_=4;break}if(_r=_r+1|0,(_r|0)>=(_t|0)){_t=1,_=4;break}}return(_|0)==4?(ws=_s,_t|0):0}function H$(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0;e_=ws,A_=+_e[_s>>2],x_=+_e[_r>>2]-A_,L_=+_e[_s+4>>2],R_=+_e[_r+4>>2]-L_,u_=_s+12|0,w_=+_e[u_>>2],_s=_s+8|0,I_=+_e[_s>>2],g_=x_*w_+R_*I_,x_=w_*R_-x_*I_,A_=+_e[_r+8>>2]-A_,L_=+_e[_r+12>>2]-L_,R_=w_*A_+I_*L_-g_,A_=w_*L_-I_*A_-x_,f_=l[_+148>>2]|0,I_=+_e[_r+16>>2];do if((f_|0)>0){V_=0,_r=-1,J_=0,M_=I_;t:for(;;){Q_=+_e[_+(V_<<3)+84>>2],L_=+_e[_+(V_<<3)+88>>2],w_=(+_e[_+(V_<<3)+20>>2]-g_)*Q_+(+_e[_+(V_<<3)+24>>2]-x_)*L_,L_=R_*Q_+A_*L_;do if(L_==0){if(w_<0){n_=0,f_=17;break t}}else{if(L_<0&&w_<J_*L_){_r=V_,J_=w_/L_;break}L_>0&&w_<M_*L_&&(M_=w_/L_)}while(!1);if(V_=V_+1|0,M_<J_){n_=0,f_=17;break}if((V_|0)>=(f_|0)){f_=12;break}}if((f_|0)==12){if(J_>=0){__=I_,n_=_r,c_=J_;break}X2(7712,7568,328,12248)}else if((f_|0)==17)return ws=e_,n_|0}else __=I_,n_=-1,c_=0;while(!1);return c_<=__||X2(7712,7568,328,12248),(n_|0)<=-1?(V_=0,ws=e_,V_|0):(_e[_t+8>>2]=c_,w_=+_e[u_>>2],J_=+_e[_+(n_<<3)+84>>2],M_=+_e[_s>>2],Q_=+_e[_+(n_<<3)+88>>2],L_=+(w_*J_-M_*Q_),Q_=+(J_*M_+w_*Q_),V_=_t,_e[V_>>2]=L_,_e[V_+4>>2]=Q_,V_=1,ws=e_,V_|0)}function Z$(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0;if(_s=ws,e_=+_e[_r+12>>2],A_=+_e[_+20>>2],n_=+_e[_r+8>>2],g_=+_e[_+24>>2],__=+_e[_r>>2],u_=__+(e_*A_-n_*g_),c_=+_e[_r+4>>2],g_=A_*n_+e_*g_+c_,_r=l[_+148>>2]|0,(_r|0)>1){x_=u_,A_=g_,f_=1;do J_=+_e[_+(f_<<3)+20>>2],I_=+_e[_+(f_<<3)+24>>2],R_=__+(e_*J_-n_*I_),I_=J_*n_+e_*I_+c_,x_=x_<R_?x_:R_,A_=A_<I_?A_:I_,u_=u_>R_?u_:R_,g_=g_>I_?g_:I_,f_=f_+1|0;while((f_|0)<(_r|0))}else A_=g_,x_=u_;J_=+_e[_+8>>2],I_=+(x_-J_),R_=+(A_-J_),f_=_t,_e[f_>>2]=I_,_e[f_+4>>2]=R_,R_=+(u_+J_),J_=+(g_+J_),f_=_t+8|0,_e[f_>>2]=R_,_e[f_+4>>2]=J_,ws=_s}function K$(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0;_s=ws,e_=l[_+148>>2]|0,(e_|0)>2?(__=0,n_=0,g_=0):X2(7760,7568,385,7776);do n_=n_+ +_e[_+(g_<<3)+20>>2],__=__+ +_e[_+(g_<<3)+24>>2],g_=g_+1|0;while((g_|0)<(e_|0));A_=1/+(e_|0),n_=n_*A_,A_=__*A_,J_=_+20|0,w_=_+24|0,u_=0,x_=0,__=0,c_=0,V_=0;do M_=+_e[_+(V_<<3)+20>>2]-n_,f_=+_e[_+(V_<<3)+24>>2]-A_,V_=V_+1|0,g_=(V_|0)<(e_|0),g_?(I_=_+(V_<<3)+20|0,R_=_+(V_<<3)+24|0):(I_=J_,R_=w_),Q_=+_e[I_>>2]-n_,L_=+_e[R_>>2]-A_,o2=M_*L_-f_*Q_,z_=o2*.5,c_=c_+z_,z_=z_*.3333333432674408,u_=u_+(M_+Q_)*z_,x_=x_+(f_+L_)*z_,__=__+o2*.0833333358168602*(Q_*Q_+(M_*M_+M_*Q_)+(L_*L_+(f_*f_+f_*L_)));while(g_);if(f_=c_*_r,_e[_t>>2]=f_,c_>11920928955078125e-23){z_=1/c_,o2=u_*z_,z_=x_*z_,L_=n_+o2,Q_=A_+z_,A_=+L_,M_=+Q_,w_=_t+4|0,_e[w_>>2]=A_,_e[w_+4>>2]=M_,_e[_t+12>>2]=__*_r+f_*(L_*L_+Q_*Q_-(o2*o2+z_*z_)),ws=_s;return}else X2(7792,7568,431,7776)}function k1(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0;if(_r=ws,!_t)return c_=0,ws=_r,c_|0;if((_t|0)<=0&&X2(8744,8672,102,8992),(_t|0)>640)return c_=a0(_t)|0,ws=_r,c_|0;if(c_=_o[7992+_t>>0]|0,e_=c_&255,(c_&255)>=14&&X2(8760,8672,110,8992),_t=_+(e_<<2)+12|0,_s=l[_t>>2]|0,_s)return l[_t>>2]=l[_s>>2],c_=_s,ws=_r,c_|0;if(_s=_+4|0,n_=l[_s>>2]|0,__=_+8|0,(n_|0)==(l[__>>2]|0)&&(c_=l[_>>2]|0,n_=n_+128|0,l[__>>2]=n_,n_=a0(n_<<3)|0,l[_>>2]=n_,NA(n_|0,c_|0,l[_s>>2]<<3|0)|0,iD((l[_>>2]|0)+(l[_s>>2]<<3)|0,0,1024)|0,d0(c_),n_=l[_s>>2]|0),c_=l[_>>2]|0,__=a0(16384)|0,_=c_+(n_<<3)+4|0,l[_>>2]=__,e_=l[7936+(e_<<2)>>2]|0,l[c_+(n_<<3)>>2]=e_,n_=16384/(e_|0)|0,(F0(n_,e_)|0)>=16385&&X2(8800,8672,138,8992),n_=n_+-1|0,(n_|0)>0){c_=0;do u_=c_,c_=c_+1|0,l[__+(F0(u_,e_)|0)>>2]=__+(F0(c_,e_)|0),__=l[_>>2]|0;while((c_|0)!=(n_|0))}return l[__+(F0(n_,e_)|0)>>2]=0,l[_t>>2]=l[l[_>>2]>>2],l[_s>>2]=(l[_s>>2]|0)+1,u_=l[_>>2]|0,ws=_r,u_|0}function H1(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;if(_s=ws,!_r){ws=_s;return}if((_r|0)<=0&&X2(8744,8672,162,9032),(_r|0)>640){d0(_t),ws=_s;return}_r=_o[7992+_r>>0]|0,(_r&255)>=14&&X2(8760,8672,171,9032),_r=_+((_r&255)<<2)+12|0,l[_t>>2]=l[_r>>2],l[_r>>2]=_t,ws=_s}function P4(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0;e_=+_e[_t+16>>2],A_=+_e[_t+32>>2],__=+_e[_t+20>>2],_s=+_e[_t+28>>2],I_=e_*A_-__*_s,x_=+_e[_t+24>>2],n_=+_e[_t+12>>2],f_=__*x_-A_*n_,g_=_s*n_-e_*x_,u_=+_e[_t>>2],c_=+_e[_t+4>>2],R_=+_e[_t+8>>2],J_=I_*u_+c_*f_+g_*R_,J_!=0&&(J_=1/J_),V_=+_e[_r>>2],M_=+_e[_r+4>>2],w_=+_e[_r+8>>2],_e[_>>2]=J_*(I_*V_+M_*f_+g_*w_),_e[_+4>>2]=J_*((M_*A_-w_*_s)*u_+c_*(w_*x_-A_*V_)+(_s*V_-M_*x_)*R_),_e[_+8>>2]=J_*((e_*w_-__*M_)*u_+c_*(__*V_-w_*n_)+(M_*n_-e_*V_)*R_)}function w4(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=+_s;var e_=0,n_=0,__=0,c_=0,u_=0;n_=+_e[_t>>2],__=+_e[_t+12>>2],e_=+_e[_t+4>>2],c_=+_e[_t+16>>2],u_=n_*c_-__*e_,u_!=0&&(u_=1/u_),_e[_>>2]=u_*(c_*_r-__*_s),_e[_+4>>2]=u_*(n_*_s-e_*_r)}function iI(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;_r=ws,_s=+_e[_>>2],n_=+_e[_+12>>2],e_=+_e[_+4>>2],__=+_e[_+16>>2],c_=_s*__-n_*e_,c_!=0&&(c_=1/c_),_e[_t>>2]=__*c_,__=-c_,_e[_t+12>>2]=n_*__,_e[_t+8>>2]=0,_e[_t+4>>2]=e_*__,_e[_t+16>>2]=_s*c_,_=_t+20|0,l[_+0>>2]=0,l[_+4>>2]=0,l[_+8>>2]=0,l[_+12>>2]=0,ws=_r}function rI(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0;_s=+_e[_+16>>2],_r=+_e[_+32>>2],A_=_s*_r,g_=+_e[_+20>>2],n_=+_e[_+28>>2],__=+_e[_+24>>2],c_=+_e[_+12>>2],x_=_r*c_,u_=n_*c_-_s*__,e_=+_e[_>>2],g_=(A_-g_*n_)*e_+ +_e[_+4>>2]*(g_*__-x_)+u_*+_e[_+8>>2],g_!=0&&(g_=1/g_),_e[_t>>2]=g_*(A_-n_*n_),A_=g_*(__*n_-x_),_e[_t+4>>2]=A_,x_=g_*u_,_e[_t+8>>2]=x_,_e[_t+12>>2]=A_,_e[_t+16>>2]=g_*(e_*_r-__*__),A_=g_*(c_*__-e_*n_),_e[_t+20>>2]=A_,_e[_t+24>>2]=x_,_e[_t+28>>2]=A_,_e[_t+32>>2]=g_*(e_*_s-c_*c_)}function _a(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_r=ws,ws=ws+16|0,_s=_r,l[_s>>2]=_t,XB(_|0,_s|0)|0,ws=_r}function wB(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;return _s=ws,_r=_+102796|0,e_=l[_r>>2]|0,(e_|0)>=32&&X2(8952,8856,38,8992),n_=_+(e_*12|0)+102412|0,l[_+(e_*12|0)+102416>>2]=_t,__=_+102400|0,c_=l[__>>2]|0,(c_+_t|0)>102400?(l[n_>>2]=a0(_t)|0,_o[_+(e_*12|0)+102420>>0]=1):(l[n_>>2]=_+c_,_o[_+(e_*12|0)+102420>>0]=0,l[__>>2]=(l[__>>2]|0)+_t),c_=_+102404|0,__=(l[c_>>2]|0)+_t|0,l[c_>>2]=__,c_=_+102408|0,_t=l[c_>>2]|0,l[c_>>2]=(_t|0)>(__|0)?_t:__,l[_r>>2]=(l[_r>>2]|0)+1,ws=_s,l[n_>>2]|0}function PC(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0;_s=ws,_r=_+102796|0,e_=l[_r>>2]|0,(e_|0)<=0&&X2(9008,8856,63,9032),n_=e_+-1|0,(l[_+(n_*12|0)+102412>>2]|0)!=(_t|0)&&X2(9040,8856,65,9032),_o[_+(n_*12|0)+102420>>0]|0?(d0(_t),_t=_+(n_*12|0)+102416|0,e_=l[_r>>2]|0):(_t=_+(n_*12|0)+102416|0,n_=_+102400|0,l[n_>>2]=(l[n_>>2]|0)-(l[_t>>2]|0)),n_=_+102404|0,l[n_>>2]=(l[n_>>2]|0)-(l[_t>>2]|0),l[_r>>2]=e_+-1,ws=_s}function V4(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0;if(e_=ws,ws=ws+16|0,x_=e_,c_=_+116|0,u_=_+120|0,_s=_+124|0,__=_+128|0,_r=_+28|0,_e[_r>>2]=0,_e[_+32>>2]=0,l[c_+0>>2]=0,l[c_+4>>2]=0,l[c_+8>>2]=0,l[c_+12>>2]=0,A_=l[_>>2]|0,(A_|0)==1|(A_|0)==0){f_=_+12|0,g_=l[f_>>2]|0,f_=l[f_+4>>2]|0,J_=_+36|0,l[J_>>2]=g_,l[J_+4>>2]=f_,J_=_+44|0,l[J_>>2]=g_,l[J_+4>>2]=f_,_e[_+52>>2]=+_e[_+56>>2],ws=e_;return}else if((A_|0)==2){if(J_=l[_+100>>2]|0,J_){A_=x_+4|0,g_=x_+8|0,f_=x_+12|0,V_=0,I_=0,R_=0,M_=0;do w_=+_e[J_>>2],w_!=0&&(L_=l[J_+12>>2]|0,xA[l[(l[L_>>2]|0)+28>>2]&63](L_,x_,w_),V_=+_e[x_>>2],I_=V_+ +_e[c_>>2],_e[c_>>2]=I_,R_=R_+V_*+_e[A_>>2],M_=M_+V_*+_e[g_>>2],V_=+_e[f_>>2]+ +_e[_s>>2],_e[_s>>2]=V_),J_=l[J_+4>>2]|0;while((J_|0)!=0);I_>0?(w_=1/I_,_e[u_>>2]=w_,R_=R_*w_,M_=M_*w_):_t=11}else M_=0,R_=0,V_=0,_t=11;(_t|0)==11&&(_e[c_>>2]=1,_e[u_>>2]=1,I_=1);do if(V_>0&&(_i[_+4>>1]&16)==0)if(I_=V_-(M_*M_+R_*R_)*I_,_e[_s>>2]=I_,I_>0){n_=1/I_;break}else X2(9528,9088,334,9512);else _t=17;while(!1);(_t|0)==17&&(_e[_s>>2]=0,n_=0),_e[__>>2]=n_,L_=_+44|0,J_=L_,w_=+_e[J_>>2],I_=+_e[J_+4>>2],Q_=+R_,n_=+M_,J_=_r,_e[J_>>2]=Q_,_e[J_+4>>2]=n_,n_=+_e[_+24>>2],Q_=+_e[_+20>>2],V_=+_e[_+12>>2]+(n_*R_-Q_*M_),R_=R_*Q_+n_*M_+ +_e[_+16>>2],n_=+V_,M_=+R_,_e[L_>>2]=n_,_e[L_+4>>2]=M_,L_=_+36|0,_e[L_>>2]=n_,_e[L_+4>>2]=M_,M_=+_e[_+72>>2],L_=_+64|0,_e[L_>>2]=+_e[L_>>2]-M_*(R_-I_),L_=_+68|0,_e[L_>>2]=M_*(V_-w_)+ +_e[L_>>2],ws=e_;return}else X2(9480,9088,299,9512)}function nI(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0;if(_t=ws,ws=ws+16|0,_s=_t,c_=+_e[_+52>>2],u_=+F2(+c_),_e[_s+8>>2]=u_,c_=+V2(+c_),_e[_s+12>>2]=c_,x_=+_e[_+28>>2],n_=+_e[_+32>>2],__=+(+_e[_+36>>2]-(c_*x_-u_*n_)),n_=+(+_e[_+40>>2]-(x_*u_+c_*n_)),_r=_s,_e[_r>>2]=__,_e[_r+4>>2]=n_,_r=(l[_+88>>2]|0)+102872|0,e_=l[_+100>>2]|0,!e_){ws=_t;return}_=_+12|0;do VG(e_,_r,_s,_),e_=l[e_+4>>2]|0;while((e_|0)!=0);ws=_t}function sI(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0;if(_r=ws,_s=_+88|0,u_=l[_s>>2]|0,l[u_+102868>>2]&2&&X2(9352,9088,168,9392),__=k1(u_,44)|0,__?(_i[__+32>>1]=1,_i[__+34>>1]=-1,_i[__+36>>1]=0,l[__+40>>2]=0,l[__+24>>2]=0,l[__+28>>2]=0,l[__+0>>2]=0,l[__+4>>2]=0,l[__+8>>2]=0,l[__+12>>2]=0):__=0,l[__+40>>2]=l[_t+4>>2],_e[__+16>>2]=+_e[_t+8>>2],_e[__+20>>2]=+_e[_t+12>>2],e_=__+8|0,l[e_>>2]=_,n_=__+4|0,l[n_>>2]=0,c_=__+32|0,A_=_t+22|0,_i[c_+0>>1]=_i[A_+0>>1]|0,_i[c_+2>>1]=_i[A_+2>>1]|0,_i[c_+4>>1]=_i[A_+4>>1]|0,_o[__+38>>0]=_o[_t+20>>0]|0,c_=l[_t>>2]|0,c_=s1[l[(l[c_>>2]|0)+8>>2]&63](c_,u_)|0,l[__+12>>2]=c_,c_=VC[l[(l[c_>>2]|0)+12>>2]&63](c_)|0,A_=k1(u_,c_*28|0)|0,u_=__+24|0,l[u_>>2]=A_,(c_|0)>0){x_=0;do l[A_+(x_*28|0)+16>>2]=0,A_=l[u_>>2]|0,l[A_+(x_*28|0)+24>>2]=-1,x_=x_+1|0;while((x_|0)!=(c_|0))}return l[__+28>>2]=0,g_=+_e[_t+16>>2],_e[__>>2]=g_,_i[_+4>>1]&32&&(cI(__,(l[_s>>2]|0)+102872|0,_+12|0),g_=+_e[__>>2]),A_=_+100|0,l[n_>>2]=l[A_>>2],l[A_>>2]=__,A_=_+104|0,l[A_>>2]=(l[A_>>2]|0)+1,l[e_>>2]=_,g_>0?(V4(_),A_=l[_s>>2]|0,A_=A_+102868|0,x_=l[A_>>2]|0,x_=x_|1,l[A_>>2]=x_,ws=_r,__|0):(A_=l[_s>>2]|0,A_=A_+102868|0,x_=l[A_>>2]|0,x_=x_|1,l[A_>>2]=x_,ws=_r,__|0)}function _I(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;_r=ws,(l[_>>2]|0)!=2&&(l[_t>>2]|0)!=2?_t=0:_s=3;t:do if((_s|0)==3)if(_s=l[_+108>>2]|0,!_s)_t=1;else for(;;){if((l[_s>>2]|0)==(_t|0)&&(_o[(l[_s+4>>2]|0)+61>>0]|0)==0){_t=0;break t}if(_s=l[_s+12>>2]|0,!_s){_t=1;break}}while(!1);return ws=_r,_t|0}function aI(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0;if(_t=ws,ws=ws+16|0,_r=_t,e_=_+8|0,_s=l[e_>>2]|0,_a(12072,_r),_a(9592,_r),l[_r>>2]=l[_>>2],_a(9616,_r),__=+_e[_+16>>2],l_[s_>>3]=+_e[_+12>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],n_=_r+8|0,l_[s_>>3]=__,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],_a(9648,_r),l_[s_>>3]=+_e[_+56>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(9688,_r),__=+_e[_+68>>2],l_[s_>>3]=+_e[_+64>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],n_=_r+8|0,l_[s_>>3]=__,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],_a(9712,_r),l_[s_>>3]=+_e[_+72>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(9760,_r),l_[s_>>3]=+_e[_+132>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(9800,_r),l_[s_>>3]=+_e[_+136>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(9832,_r),n_=_+4|0,l[_r>>2]=(o_[n_>>1]|0)&4,_a(9864,_r),l[_r>>2]=(o_[n_>>1]|0)&2,_a(9896,_r),l[_r>>2]=(o_[n_>>1]|0)&16,_a(9920,_r),l[_r>>2]=(o_[n_>>1]|0)&8,_a(9952,_r),l[_r>>2]=(o_[n_>>1]|0)&32,_a(9984,_r),l_[s_>>3]=+_e[_+140>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(10016,_r),l[_r>>2]=l[e_>>2],_a(10048,_r),_a(11360,_r),_=l[_+100>>2]|0,!_){_a(12080,_r),ws=_t;return}do _a(10096,_r),lI(_,_s),_a(10104,_r),_=l[_+4>>2]|0;while((_|0)!=0);_a(12080,_r),ws=_t}function Q$(_){_=_|0}function $$(_){_=_|0}function cP(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0;if(_r=ws,e_=_t+48|0,_s=_t+52|0,__=l[(l[e_>>2]|0)+8>>2]|0,n_=l[(l[_s>>2]|0)+8>>2]|0,c_=l[_+72>>2]|0,(c_|0)!=0&&(l[_t+4>>2]&2|0)!=0&&vy[l[(l[c_>>2]|0)+12>>2]&127](c_,_t),u_=_t+8|0,x_=l[u_>>2]|0,c_=_t+12|0,x_&&(l[x_+12>>2]=l[c_>>2]),x_=l[c_>>2]|0,x_&&(l[x_+8>>2]=l[u_>>2]),u_=_+60|0,(l[u_>>2]|0)==(_t|0)&&(l[u_>>2]=l[c_>>2]),u_=_t+24|0,x_=l[u_>>2]|0,c_=_t+28|0,x_&&(l[x_+12>>2]=l[c_>>2]),x_=l[c_>>2]|0,x_&&(l[x_+8>>2]=l[u_>>2]),__=__+112|0,(_t+16|0)==(l[__>>2]|0)&&(l[__>>2]=l[c_>>2]),c_=_t+40|0,u_=l[c_>>2]|0,__=_t+44|0,u_&&(l[u_+12>>2]=l[__>>2]),u_=l[__>>2]|0,u_&&(l[u_+8>>2]=l[c_>>2]),n_=n_+112|0,(_t+32|0)==(l[n_>>2]|0)&&(l[n_>>2]=l[__>>2]),n_=l[_+76>>2]|0,_o[13392]|0||X2(13552,13448,103,15752),e_=l[e_>>2]|0,_s=l[_s>>2]|0,(l[_t+124>>2]|0)>0&&(_o[e_+38>>0]|0)==0&&(_o[_s+38>>0]|0)==0&&(__=l[e_+8>>2]|0,c_=__+4|0,u_=o_[c_>>1]|0,u_&2||(_i[c_>>1]=u_|2,_e[__+144>>2]=0),__=l[_s+8>>2]|0,u_=__+4|0,c_=o_[u_>>1]|0,c_&2||(_i[u_>>1]=c_|2,_e[__+144>>2]=0)),e_=l[(l[e_+12>>2]|0)+4>>2]|0,_s=l[(l[_s+12>>2]|0)+4>>2]|0,(e_|0)>-1&(_s|0)<4){vy[l[13200+(e_*48|0)+(_s*12|0)+4>>2]&127](_t,n_),x_=_+64|0,l[x_>>2]=(l[x_>>2]|0)+-1,ws=_r;return}else X2(13576,13448,119,15752)}function vG(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0;_t=ws,ws=ws+1040|0,e_=_t,_s=_+52|0,l[_s>>2]=0,n_=_+40|0,w_=l[n_>>2]|0;do if((w_|0)>0){for(V_=_+32|0,g_=_+56|0,J_=_+12|0,I_=_+4|0,f_=e_+4|0,u_=e_+1028|0,R_=e_+1032|0,A_=_+48|0,__=_+44|0,M_=0;;){if(o2=l[(l[V_>>2]|0)+(M_<<2)>>2]|0,l[g_>>2]=o2,(o2|0)!=-1){if((o2|0)<=-1){u_=7;break}if((l[J_>>2]|0)<=(o2|0)){u_=7;break}if(z_=l[I_>>2]|0,l[e_>>2]=f_,l[u_>>2]=0,l[R_>>2]=256,BG(e_,_),(l[u_>>2]|0)>0){Q_=z_+(o2*36|0)|0,w_=z_+(o2*36|0)+4|0,L_=z_+(o2*36|0)+8|0,o2=z_+(o2*36|0)+12|0;do{z_=ett(e_)|0;do if((z_|0)!=-1&&(x_=l[I_>>2]|0,!((+_e[Q_>>2]-+_e[x_+(z_*36|0)+8>>2]>0?1:+_e[w_>>2]-+_e[x_+(z_*36|0)+12>>2]>0)|+_e[x_+(z_*36|0)>>2]-+_e[L_>>2]>0|+_e[x_+(z_*36|0)+4>>2]-+_e[o2>>2]>0))){if(H_=x_+(z_*36|0)+24|0,(l[H_>>2]|0)!=-1){BG(e_,H_),BG(e_,x_+(z_*36|0)+28|0);break}H_=l[g_>>2]|0,(H_|0)!=(z_|0)&&(n2=l[_s>>2]|0,(n2|0)==(l[A_>>2]|0)&&(H_=l[__>>2]|0,l[A_>>2]=n2<<1,n2=a0(n2<<4)|0,l[__>>2]=n2,NA(n2|0,H_|0,l[_s>>2]<<3|0)|0,d0(H_),H_=l[g_>>2]|0,n2=l[_s>>2]|0),b2=l[__>>2]|0,l[b2+(n2<<3)>>2]=(H_|0)>(z_|0)?z_:H_,n2=l[g_>>2]|0,l[b2+(l[_s>>2]<<3)+4>>2]=(n2|0)<(z_|0)?z_:n2,l[_s>>2]=(l[_s>>2]|0)+1)}while(!1)}while((l[u_>>2]|0)>0)}w_=l[e_>>2]|0,(w_|0)!=(f_|0)&&(d0(w_),l[e_>>2]=0),w_=l[n_>>2]|0}if(M_=M_+1|0,(M_|0)>=(w_|0)){u_=23;break}}if((u_|0)==7)X2(12256,12200,164,12320);else if((u_|0)==23){_r=__,c_=l[_s>>2]|0;break}}else _r=_+44|0,c_=0;while(!1);if(l[n_>>2]=0,b2=l[_r>>2]|0,l[e_>>2]=58,AG(b2,b2+(c_<<3)|0,e_),(l[_s>>2]|0)<=0){ws=_t;return}u_=_+12|0,c_=_+4|0,__=_+68|0,n_=_+76|0,e_=_+60|0,_=_+64|0,f_=l[_r>>2]|0,A_=f_,f_=l[f_>>2]|0,g_=0;t:for(;;){if(x_=A_+(g_<<3)|0,(f_|0)<=-1){u_=28;break}if(R_=l[u_>>2]|0,(R_|0)<=(f_|0)){u_=28;break}if(I_=l[c_>>2]|0,A_=A_+(g_<<3)+4|0,J_=l[A_>>2]|0,!((J_|0)>-1&(R_|0)>(J_|0))){u_=30;break}M_=l[I_+(f_*36|0)+16>>2]|0,J_=l[I_+(J_*36|0)+16>>2]|0,R_=l[M_+16>>2]|0,f_=l[J_+16>>2]|0,I_=l[M_+20>>2]|0,J_=l[J_+20>>2]|0,M_=l[R_+8>>2]|0,V_=l[f_+8>>2]|0;e:do if((M_|0)!=(V_|0)){if(z_=l[V_+112>>2]|0,z_)do{if((l[z_>>2]|0)==(M_|0)&&(o2=l[z_+4>>2]|0,w_=l[o2+48>>2]|0,L_=l[o2+52>>2]|0,Q_=l[o2+56>>2]|0,o2=l[o2+60>>2]|0,(w_|0)==(R_|0)&(L_|0)==(f_|0)&(Q_|0)==(I_|0)&(o2|0)==(J_|0)||(w_|0)==(f_|0)&(L_|0)==(R_|0)&(Q_|0)==(J_|0)&(o2|0)==(I_|0)))break e;z_=l[z_+12>>2]|0}while((z_|0)!=0);if(_I(V_,M_)|0){if(V_=l[__>>2]|0,(V_|0)!=0&&!(nC[l[(l[V_>>2]|0)+8>>2]&63](V_,R_,f_)|0))break;if(V_=l[n_>>2]|0,_o[13392]|0||(l[3300]=46,l[3301]=98,_o[13208]=1,l[3324]=47,l[3325]=99,_o[13304]=1,l[3306]=47,l[3307]=99,_o[13232]=0,l[3330]=48,l[3331]=100,_o[13328]=1,l[3312]=49,l[3313]=101,_o[13256]=1,l[3303]=49,l[3304]=101,_o[13220]=0,l[3318]=50,l[3319]=102,_o[13280]=1,l[3327]=50,l[3328]=102,_o[13316]=0,l[3336]=51,l[3337]=103,_o[13352]=1,l[3309]=51,l[3310]=103,_o[13244]=0,l[3342]=52,l[3343]=104,_o[13376]=1,l[3333]=52,l[3334]=104,_o[13340]=0,_o[13392]=1),M_=l[(l[R_+12>>2]|0)+4>>2]|0,w_=l[(l[f_+12>>2]|0)+4>>2]|0,M_>>>0>=4){u_=43;break t}if(w_>>>0>=4){u_=45;break t}if(L_=l[13200+(M_*48|0)+(w_*12|0)>>2]|0,L_&&(_o[13200+(M_*48|0)+(w_*12|0)+8>>0]|0?V_=MC[L_&63](R_,I_,f_,J_,V_)|0:V_=MC[L_&63](f_,J_,R_,I_,V_)|0,V_)){J_=l[V_+48>>2]|0,R_=l[V_+52>>2]|0,I_=l[J_+8>>2]|0,f_=l[R_+8>>2]|0,l[V_+8>>2]=0,l[V_+12>>2]=l[e_>>2],M_=l[e_>>2]|0,M_&&(l[M_+8>>2]=V_),l[e_>>2]=V_,L_=V_+16|0,l[V_+20>>2]=V_,l[L_>>2]=f_,l[V_+24>>2]=0,M_=I_+112|0,l[V_+28>>2]=l[M_>>2],w_=l[M_>>2]|0,w_&&(l[w_+8>>2]=L_),l[M_>>2]=L_,M_=V_+32|0,l[V_+36>>2]=V_,l[M_>>2]=I_,l[V_+40>>2]=0,w_=f_+112|0,l[V_+44>>2]=l[w_>>2],V_=l[w_>>2]|0,V_&&(l[V_+8>>2]=M_),l[w_>>2]=M_;do if(!(_o[J_+38>>0]|0)){if(_o[R_+38>>0]|0||(R_=I_+4|0,J_=o_[R_>>1]|0,J_&2||(_i[R_>>1]=J_|2,_e[I_+144>>2]=0),R_=f_+4|0,I_=o_[R_>>1]|0,I_&2))break;_i[R_>>1]=I_|2,_e[f_+144>>2]=0}while(!1);l[_>>2]=(l[_>>2]|0)+1}}}while(!1);for(I_=l[_s>>2]|0;;){if(g_=g_+1|0,(g_|0)>=(I_|0)){u_=68;break t}if(R_=l[_r>>2]|0,f_=l[R_+(g_<<3)>>2]|0,(f_|0)!=(l[x_>>2]|0)){A_=R_;continue t}if((l[R_+(g_<<3)+4>>2]|0)!=(l[A_>>2]|0)){A_=R_;continue t}}}if((u_|0)==28)X2(12256,12200,158,12304);else if((u_|0)==30)X2(12256,12200,158,12304);else if((u_|0)==43)X2(13400,13448,80,15744);else if((u_|0)==45)X2(13504,13448,81,15744);else if((u_|0)==68){ws=_t;return}}function ttt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0;return _r=ws,e_=l[_>>2]|0,_s=l[_t>>2]|0,(e_|0)>=(_s|0)?(e_|0)==(_s|0)?_=(l[_+4>>2]|0)<(l[_t+4>>2]|0):_=0:_=1,ws=_r,_|0}function AG(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0;_s=ws,ws=ws+16|0,e_=_s;t:for(;;){c_=_t,__=_t+-8|0;e:for(;;){switch(u_=_,g_=c_-u_|0,f_=g_>>3,f_|0){case 5:{n_=8;break t}case 1:case 0:{n_=51;break t}case 3:{n_=6;break t}case 2:{n_=4;break t}case 4:{n_=7;break t}default:}if((g_|0)<248){n_=10;break t}A_=(f_|0)/2|0,x_=_+(A_<<3)|0,(g_|0)>7992?(g_=(f_|0)/4|0,g_=CG(_,_+(g_<<3)|0,x_,_+(g_+A_<<3)|0,__,_r)|0):g_=dV(_,x_,__,_r)|0;do if(s1[l[_r>>2]&63](_,x_)|0)f_=__;else{for(f_=__;f_=f_+-8|0,(_|0)!=(f_|0);)if(s1[l[_r>>2]&63](f_,x_)|0){n_=34;break}if((n_|0)==34){n_=0,I_=_,A_=l[I_>>2]|0,I_=l[I_+4>>2]|0,V_=f_,J_=l[V_+4>>2]|0,R_=_,l[R_>>2]=l[V_>>2],l[R_+4>>2]=J_,R_=f_,l[R_>>2]=A_,l[R_+4>>2]=I_,g_=g_+1|0;break}if(u_=_+8|0,!(s1[l[_r>>2]&63](_,__)|0)){if((u_|0)==(__|0)){n_=51;break t}for(;x_=u_+8|0,!(s1[l[_r>>2]&63](_,u_)|0);)if((x_|0)==(__|0)){n_=51;break t}else u_=x_;V_=u_,J_=l[V_>>2]|0,V_=l[V_+4>>2]|0,I_=__,R_=l[I_+4>>2]|0,l[u_>>2]=l[I_>>2],l[u_+4>>2]=R_,u_=__,l[u_>>2]=J_,l[u_+4>>2]=V_,u_=x_}if((u_|0)==(__|0)){n_=51;break t}else A_=__;for(;;){for(;x_=u_+8|0,!(s1[l[_r>>2]&63](_,u_)|0);)u_=x_;do A_=A_+-8|0;while(s1[l[_r>>2]&63](_,A_)|0);if(u_>>>0>=A_>>>0){_=u_;continue e}V_=u_,J_=l[V_>>2]|0,V_=l[V_+4>>2]|0,I_=A_,R_=l[I_+4>>2]|0,l[u_>>2]=l[I_>>2],l[u_+4>>2]=R_,u_=A_,l[u_>>2]=J_,l[u_+4>>2]=V_,u_=x_}}while(!1);A_=_+8|0;o:do if(A_>>>0<f_>>>0)for(;;){for(R_=A_;;)if(A_=R_+8|0,s1[l[_r>>2]&63](R_,x_)|0)R_=A_;else{I_=f_;break}do I_=I_+-8|0;while(!(s1[l[_r>>2]&63](I_,x_)|0));if(R_>>>0>I_>>>0){A_=R_;break o}V_=R_,J_=l[V_>>2]|0,V_=l[V_+4>>2]|0,w_=I_,M_=l[w_+4>>2]|0,f_=R_,l[f_>>2]=l[w_>>2],l[f_+4>>2]=M_,f_=I_,l[f_>>2]=J_,l[f_+4>>2]=V_,f_=I_,x_=(x_|0)==(R_|0)?I_:x_,g_=g_+1|0}while(!1);if((A_|0)!=(x_|0)&&s1[l[_r>>2]&63](x_,A_)|0&&(M_=A_,V_=l[M_>>2]|0,M_=l[M_+4>>2]|0,R_=x_,J_=l[R_+4>>2]|0,w_=A_,l[w_>>2]=l[R_>>2],l[w_+4>>2]=J_,w_=x_,l[w_>>2]=V_,l[w_+4>>2]=M_,g_=g_+1|0),!g_){if(g_=pI(_,A_,_r)|0,x_=A_+8|0,pI(x_,_t,_r)|0){n_=46;break}if(g_){_=x_;continue}}if(w_=A_,(w_-u_|0)>=(c_-w_|0)){n_=50;break}AG(_,A_,_r),_=A_+8|0}if((n_|0)==46)if(n_=0,g_){n_=51;break}else{_t=A_;continue}else if((n_|0)==50){n_=0,AG(A_+8|0,_t,_r),_t=A_;continue}}if((n_|0)==4){if(!(s1[l[_r>>2]&63](__,_)|0)){ws=_s;return}M_=_,V_=l[M_>>2]|0,M_=l[M_+4>>2]|0,R_=__,J_=l[R_+4>>2]|0,w_=_,l[w_>>2]=l[R_>>2],l[w_+4>>2]=J_,w_=__,l[w_>>2]=V_,l[w_+4>>2]=M_,ws=_s;return}else if((n_|0)==6){dV(_,_+8|0,__,_r)|0,ws=_s;return}else if((n_|0)==7){SG(_,_+8|0,_+16|0,__,_r)|0,ws=_s;return}else if((n_|0)==8){CG(_,_+8|0,_+16|0,_+24|0,__,_r)|0,ws=_s;return}else if((n_|0)==10){if(c_=_+16|0,dV(_,_+8|0,c_,_r)|0,n_=_+24|0,(n_|0)==(_t|0)){ws=_s;return}for(;;){if(s1[l[_r>>2]&63](n_,c_)|0){for(M_=n_,w_=l[M_+4>>2]|0,__=e_,l[__>>2]=l[M_>>2],l[__+4>>2]=w_,__=n_;V_=c_,M_=l[V_+4>>2]|0,w_=__,l[w_>>2]=l[V_>>2],l[w_+4>>2]=M_,(c_|0)!=(_|0);)if(__=c_+-8|0,s1[l[_r>>2]&63](e_,__)|0)w_=c_,c_=__,__=w_;else break;V_=e_,M_=l[V_+4>>2]|0,w_=c_,l[w_>>2]=l[V_>>2],l[w_+4>>2]=M_}if(__=n_+8|0,(__|0)==(_t|0))break;c_=n_,n_=__}ws=_s;return}else if((n_|0)==51){ws=_s;return}}function dV(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0;return e_=ws,c_=s1[l[_s>>2]&63](_t,_)|0,n_=s1[l[_s>>2]&63](_r,_t)|0,c_?(__=_,c_=l[__>>2]|0,__=l[__+4>>2]|0,n_?(_s=_r,u_=l[_s+4>>2]|0,x_=_,l[x_>>2]=l[_s>>2],l[x_+4>>2]=u_,x_=_r,l[x_>>2]=c_,l[x_+4>>2]=__,x_=1,ws=e_,x_|0):(n_=_t,u_=l[n_+4>>2]|0,x_=_,l[x_>>2]=l[n_>>2],l[x_+4>>2]=u_,x_=_t,l[x_>>2]=c_,l[x_+4>>2]=__,s1[l[_s>>2]&63](_r,_t)|0?(u_=_t,c_=l[u_>>2]|0,u_=l[u_+4>>2]|0,_=_r,__=l[_+4>>2]|0,x_=_t,l[x_>>2]=l[_>>2],l[x_+4>>2]=__,x_=_r,l[x_>>2]=c_,l[x_+4>>2]=u_,x_=2,ws=e_,x_|0):(x_=1,ws=e_,x_|0))):n_?(__=_t,n_=l[__>>2]|0,__=l[__+4>>2]|0,x_=_r,u_=l[x_+4>>2]|0,c_=_t,l[c_>>2]=l[x_>>2],l[c_+4>>2]=u_,c_=_r,l[c_>>2]=n_,l[c_+4>>2]=__,s1[l[_s>>2]&63](_t,_)|0?(u_=_,c_=l[u_>>2]|0,u_=l[u_+4>>2]|0,_s=_t,__=l[_s+4>>2]|0,x_=_,l[x_>>2]=l[_s>>2],l[x_+4>>2]=__,x_=_t,l[x_>>2]=c_,l[x_+4>>2]=u_,x_=2,ws=e_,x_|0):(x_=1,ws=e_,x_|0)):(c_=0,ws=e_,c_|0)}function SG(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0;return n_=ws,__=dV(_,_t,_r,e_)|0,s1[l[e_>>2]&63](_s,_r)|0?(c_=_r,u_=l[c_>>2]|0,c_=l[c_+4>>2]|0,g_=_s,A_=l[g_+4>>2]|0,x_=_r,l[x_>>2]=l[g_>>2],l[x_+4>>2]=A_,l[_s>>2]=u_,l[_s+4>>2]=c_,s1[l[e_>>2]&63](_r,_t)|0?(A_=_t,x_=l[A_>>2]|0,A_=l[A_+4>>2]|0,c_=_r,u_=l[c_+4>>2]|0,g_=_t,l[g_>>2]=l[c_>>2],l[g_+4>>2]=u_,g_=_r,l[g_>>2]=x_,l[g_+4>>2]=A_,s1[l[e_>>2]&63](_t,_)|0?(A_=_,x_=l[A_>>2]|0,A_=l[A_+4>>2]|0,c_=_t,u_=l[c_+4>>2]|0,g_=_,l[g_>>2]=l[c_>>2],l[g_+4>>2]=u_,g_=_t,l[g_>>2]=x_,l[g_+4>>2]=A_,g_=__+3|0,ws=n_,g_|0):(g_=__+2|0,ws=n_,g_|0)):(g_=__+1|0,ws=n_,g_|0)):(_s=__,ws=n_,_s|0)}function CG(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0;var __=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0;return __=ws,c_=SG(_,_t,_r,_s,n_)|0,s1[l[n_>>2]&63](e_,_s)|0?(u_=_s,x_=l[u_>>2]|0,u_=l[u_+4>>2]|0,f_=e_,g_=l[f_+4>>2]|0,A_=_s,l[A_>>2]=l[f_>>2],l[A_+4>>2]=g_,l[e_>>2]=x_,l[e_+4>>2]=u_,s1[l[n_>>2]&63](_s,_r)|0?(g_=_r,A_=l[g_>>2]|0,g_=l[g_+4>>2]|0,u_=_s,x_=l[u_+4>>2]|0,f_=_r,l[f_>>2]=l[u_>>2],l[f_+4>>2]=x_,f_=_s,l[f_>>2]=A_,l[f_+4>>2]=g_,s1[l[n_>>2]&63](_r,_t)|0?(g_=_t,A_=l[g_>>2]|0,g_=l[g_+4>>2]|0,u_=_r,x_=l[u_+4>>2]|0,f_=_t,l[f_>>2]=l[u_>>2],l[f_+4>>2]=x_,f_=_r,l[f_>>2]=A_,l[f_+4>>2]=g_,s1[l[n_>>2]&63](_t,_)|0?(g_=_,A_=l[g_>>2]|0,g_=l[g_+4>>2]|0,u_=_t,x_=l[u_+4>>2]|0,f_=_,l[f_>>2]=l[u_>>2],l[f_+4>>2]=x_,f_=_t,l[f_>>2]=A_,l[f_+4>>2]=g_,f_=c_+4|0,ws=__,f_|0):(f_=c_+3|0,ws=__,f_|0)):(f_=c_+2|0,ws=__,f_|0)):(f_=c_+1|0,ws=__,f_|0)):(e_=c_,ws=__,e_|0)}function pI(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0;switch(_s=ws,ws=ws+16|0,n_=_s,_t-_>>3|0){case 2:return e_=_t+-8|0,s1[l[_r>>2]&63](e_,_)|0?(u_=_,c_=l[u_>>2]|0,u_=l[u_+4>>2]|0,_t=e_,__=l[_t+4>>2]|0,x_=_,l[x_>>2]=l[_t>>2],l[x_+4>>2]=__,x_=e_,l[x_>>2]=c_,l[x_+4>>2]=u_,x_=1,ws=_s,x_|0):(x_=1,ws=_s,x_|0);case 4:return SG(_,_+8|0,_+16|0,_t+-8|0,_r)|0,x_=1,ws=_s,x_|0;case 5:return CG(_,_+8|0,_+16|0,_+24|0,_t+-8|0,_r)|0,x_=1,ws=_s,x_|0;case 3:return dV(_,_+8|0,_t+-8|0,_r)|0,x_=1,ws=_s,x_|0;case 1:case 0:return x_=1,ws=_s,x_|0;default:{if(x_=_+16|0,dV(_,_+8|0,x_,_r)|0,__=_+24|0,(__|0)==(_t|0))return x_=1,ws=_s,x_|0;for(c_=0;;){if(s1[l[_r>>2]&63](__,x_)|0){for(g_=__,A_=l[g_+4>>2]|0,u_=n_,l[u_>>2]=l[g_>>2],l[u_+4>>2]=A_,u_=__;f_=x_,A_=l[f_+4>>2]|0,g_=u_,l[g_>>2]=l[f_>>2],l[g_+4>>2]=A_,(x_|0)!=(_|0);)if(u_=x_+-8|0,s1[l[_r>>2]&63](n_,u_)|0)f_=x_,x_=u_,u_=f_;else break;if(A_=n_,g_=l[A_+4>>2]|0,f_=x_,l[f_>>2]=l[A_>>2],l[f_+4>>2]=g_,c_=c_+1|0,(c_|0)==8)break}if(u_=__+8|0,(u_|0)==(_t|0)){_=1,e_=15;break}else x_=__,__=u_}return(e_|0)==15?(ws=_s,_|0):(f_=(__+8|0)==(_t|0),ws=_s,f_|0)}}return 0}function BG(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0;_s=ws,_r=_+1028|0,e_=l[_r>>2]|0,n_=_+1032|0,(e_|0)==(l[n_>>2]|0)&&(__=l[_>>2]|0,l[n_>>2]=e_<<1,n_=a0(e_<<3)|0,l[_>>2]=n_,NA(n_|0,__|0,l[_r>>2]<<2|0)|0,(__|0)!=(_+4|0))&&d0(__),l[(l[_>>2]|0)+(l[_r>>2]<<2)>>2]=l[_t>>2],l[_r>>2]=(l[_r>>2]|0)+1,ws=_s}function ett(_){_=_|0;var _t=0,_r=0;return _t=_+1028|0,_r=l[_t>>2]|0,(_r|0)>0?(_r=_r+-1|0,l[_t>>2]=_r,l[(l[_>>2]|0)+(_r<<2)>>2]|0):(X2(10128,10144,67,10192),0)}function ott(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function itt(_,_t){_=_|0,_t=_t|0}function rtt(_,_t){_=_|0,_t=_t|0}function ntt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0}function stt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0}function _tt(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function PG(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0;if(_r=ws,l[_+28>>2]|0&&X2(10232,10256,72,15752),_s=_+12|0,e_=l[_s>>2]|0,e_=VC[l[(l[e_>>2]|0)+12>>2]&63](e_)|0,_=_+24|0,H1(_t,l[_>>2]|0,e_*28|0),l[_>>2]=0,_=l[_s>>2]|0,e_=l[_+4>>2]|0,(e_|0)==2){_y[l[l[_>>2]>>2]&127](_),H1(_t,_,152),l[_s>>2]=0,ws=_r;return}else if(e_)if((e_|0)==3){_y[l[l[_>>2]>>2]&127](_),H1(_t,_,40),l[_s>>2]=0,ws=_r;return}else if((e_|0)==1){_y[l[l[_>>2]>>2]&127](_),H1(_t,_,48),l[_s>>2]=0,ws=_r;return}else X2(15688,10256,115,15752);else{_y[l[l[_>>2]>>2]&127](_),H1(_t,_,20),l[_s>>2]=0,ws=_r;return}}function cI(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0;if(_s=ws,e_=_+28|0,l[e_>>2]|0&&X2(10232,10256,124,10304),n_=_+12|0,x_=l[n_>>2]|0,x_=VC[l[(l[x_>>2]|0)+12>>2]&63](x_)|0,l[e_>>2]=x_,(x_|0)<=0){ws=_s;return}__=_+24|0,c_=_t+4|0,u_=_t+28|0,x_=0;do A_=l[__>>2]|0,f_=A_+(x_*28|0)|0,g_=l[n_>>2]|0,M1[l[(l[g_>>2]|0)+24>>2]&63](g_,f_,_r,x_),g_=ZJ(_t)|0,R_=+(+_e[f_>>2]+-.10000000149011612),J_=+(+_e[A_+(x_*28|0)+4>>2]+-.10000000149011612),I_=(l[c_>>2]|0)+(g_*36|0)|0,_e[I_>>2]=R_,_e[I_+4>>2]=J_,J_=+(+_e[A_+(x_*28|0)+8>>2]+.10000000149011612),R_=+(+_e[A_+(x_*28|0)+12>>2]+.10000000149011612),I_=(l[c_>>2]|0)+(g_*36|0)+8|0,_e[I_>>2]=J_,_e[I_+4>>2]=R_,l[(l[c_>>2]|0)+(g_*36|0)+16>>2]=f_,l[(l[c_>>2]|0)+(g_*36|0)+32>>2]=0,KJ(_t,g_),l[u_>>2]=(l[u_>>2]|0)+1,NJ(_t,g_),l[A_+(x_*28|0)+24>>2]=g_,l[A_+(x_*28|0)+16>>2]=_,l[A_+(x_*28|0)+20>>2]=x_,x_=x_+1|0;while((x_|0)<(l[e_>>2]|0));ws=_s}function wG(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0;if(_s=ws,_r=_+28|0,(l[_r>>2]|0)<=0){l[_r>>2]=0,ws=_s;return}for(_=_+24|0,__=_t+40|0,c_=_t+32|0,n_=_t+28|0,e_=_t+12|0,x_=_t+4|0,u_=0;;){if(g_=(l[_>>2]|0)+(u_*28|0)+24|0,A_=l[g_>>2]|0,R_=l[__>>2]|0,(R_|0)>0){f_=l[c_>>2]|0,I_=0;do J_=f_+(I_<<2)|0,(l[J_>>2]|0)==(A_|0)&&(l[J_>>2]=-1,R_=l[__>>2]|0),I_=I_+1|0;while((I_|0)<(R_|0))}if(l[n_>>2]=(l[n_>>2]|0)+-1,(A_|0)<=-1){_t=10;break}if((l[e_>>2]|0)<=(A_|0)){_t=10;break}if((l[(l[x_>>2]|0)+(A_*36|0)+24>>2]|0)!=-1){_t=12;break}if(QJ(_t,A_),fG(_t,A_),l[g_>>2]=-1,u_=u_+1|0,(u_|0)>=(l[_r>>2]|0)){_t=14;break}}if((_t|0)==10)X2(12256,6088,123,6224);else if((_t|0)==12)X2(6240,6088,124,6224);else if((_t|0)==14){l[_r>>2]=0,ws=_s;return}}function VG(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0;if(e_=ws,ws=ws+32|0,__=e_+16|0,c_=e_,n_=_+28|0,(l[n_>>2]|0)<=0){ws=e_;return}for(u_=_+24|0,g_=_+12|0,f_=__+4|0,I_=c_+4|0,R_=__+8|0,J_=c_+8|0,V_=__+12|0,M_=c_+12|0,w_=_s+4|0,L_=_r+4|0,x_=_t+12|0,_=_t+4|0,A_=0;;){if(C2=l[u_>>2]|0,A2=l[g_>>2]|0,g2=C2+(A_*28|0)+20|0,M1[l[(l[A2>>2]|0)+24>>2]&63](A2,__,_r,l[g2>>2]|0),A2=l[g_>>2]|0,M1[l[(l[A2>>2]|0)+24>>2]&63](A2,c_,_s,l[g2>>2]|0),g2=C2+(A_*28|0)|0,z_=+_e[__>>2],n2=+_e[c_>>2],n2=z_<n2?z_:n2,z_=+_e[f_>>2],h2=+_e[I_>>2],H_=+n2,h2=+(z_<h2?z_:h2),A2=g2,_e[A2>>2]=H_,_e[A2+4>>2]=h2,A2=C2+(A_*28|0)+8|0,h2=+_e[R_>>2],H_=+_e[J_>>2],H_=h2>H_?h2:H_,h2=+_e[V_>>2],z_=+_e[M_>>2],o2=+H_,z_=+(h2>z_?h2:z_),Q_=A2,_e[Q_>>2]=o2,_e[Q_+4>>2]=z_,z_=+_e[_s>>2]-+_e[_r>>2],o2=+_e[w_>>2]-+_e[L_>>2],Q_=l[C2+(A_*28|0)+24>>2]|0,(Q_|0)<=-1){_t=5;break}if((l[x_>>2]|0)<=(Q_|0)){_t=5;break}if(r2=l[_>>2]|0,(l[r2+(Q_*36|0)+24>>2]|0)!=-1){_t=7;break}if(+_e[r2+(Q_*36|0)>>2]<=n2&&+_e[r2+(Q_*36|0)+4>>2]<=+_e[C2+(A_*28|0)+4>>2]&&H_<=+_e[r2+(Q_*36|0)+8>>2]&&+_e[C2+(A_*28|0)+12>>2]<=+_e[r2+(Q_*36|0)+12>>2]||(QJ(_t,Q_),r2=g2,h2=+_e[r2>>2],n2=+_e[r2+4>>2],r2=A2,b2=+_e[r2>>2],h2=h2+-.10000000149011612,n2=n2+-.10000000149011612,b2=b2+.10000000149011612,H_=+_e[r2+4>>2]+.10000000149011612,w2=z_*2,z_=o2*2,w2<0?o2=h2+w2:(o2=h2,b2=w2+b2),z_<0?n2=n2+z_:H_=z_+H_,r2=l[_>>2]|0,h2=+o2,w2=+n2,C2=r2+(Q_*36|0)|0,_e[C2>>2]=h2,_e[C2+4>>2]=w2,w2=+b2,h2=+H_,r2=r2+(Q_*36|0)+8|0,_e[r2>>2]=w2,_e[r2+4>>2]=h2,KJ(_t,Q_),NJ(_t,Q_)),A_=A_+1|0,(A_|0)>=(l[n_>>2]|0)){_t=20;break}}if((_t|0)==5)X2(12256,6088,132,6272);else if((_t|0)==7)X2(6240,6088,134,6272);else if((_t|0)==20){ws=e_;return}}function lI(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0;if(_s=ws,ws=ws+32|0,_r=_s,_a(10320,_r),l_[s_>>3]=+_e[_+16>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(10344,_r),l_[s_>>3]=+_e[_+20>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(10376,_r),l_[s_>>3]=+_e[_>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(10408,_r),l[_r>>2]=t_[_+38>>0],_a(10440,_r),l[_r>>2]=o_[_+32>>1],_a(10472,_r),l[_r>>2]=o_[_+34>>1],_a(10520,_r),l[_r>>2]=_i[_+36>>1],_a(10560,_r),_=l[_+12>>2]|0,e_=l[_+4>>2]|0,(e_|0)==1)_a(10704,_r),l_[s_>>3]=+_e[_+8>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(10632,_r),c_=_+28|0,u_=+_e[c_+4>>2],l_[s_>>3]=+_e[c_>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],c_=_r+8|0,l_[s_>>3]=u_,l[c_>>2]=l[s_>>2],l[c_+4>>2]=l[s_+4>>2],_a(10728,_r),u_=+_e[_+16>>2],l_[s_>>3]=+_e[_+12>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],c_=_r+8|0,l_[s_>>3]=u_,l[c_>>2]=l[s_>>2],l[c_+4>>2]=l[s_+4>>2],_a(10776,_r),c_=_+20|0,u_=+_e[c_+4>>2],l_[s_>>3]=+_e[c_>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],c_=_r+8|0,l_[s_>>3]=u_,l[c_>>2]=l[s_>>2],l[c_+4>>2]=l[s_+4>>2],_a(10824,_r),u_=+_e[_+40>>2],l_[s_>>3]=+_e[_+36>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],c_=_r+8|0,l_[s_>>3]=u_,l[c_>>2]=l[s_>>2],l[c_+4>>2]=l[s_+4>>2],_a(10872,_r),l[_r>>2]=t_[_+44>>0],_a(10920,_r),l[_r>>2]=t_[_+45>>0],_a(10960,_r);else if((e_|0)==2){if(_a(11e3,_r),l[_r>>2]=8,_a(11032,_r),e_=_+148|0,n_=l[e_>>2]|0,(n_|0)>0){_=_+20|0,__=0;do x_=+_e[_+(__<<3)>>2],u_=+_e[_+(__<<3)+4>>2],l[_r>>2]=__,n_=_r+4|0,l_[s_>>3]=x_,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],n_=_r+12|0,l_[s_>>3]=u_,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],_a(11056,_r),__=__+1|0,n_=l[e_>>2]|0;while((__|0)<(n_|0))}l[_r>>2]=n_,_a(11096,_r)}else if(!e_)_a(10600,_r),l_[s_>>3]=+_e[_+8>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(10632,_r),x_=+_e[_+16>>2],l_[s_>>3]=+_e[_+12>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],c_=_r+8|0,l_[s_>>3]=x_,l[c_>>2]=l[s_>>2],l[c_+4>>2]=l[s_+4>>2],_a(10664,_r);else if((e_|0)==3){if(_a(11120,_r),e_=_+16|0,l[_r>>2]=l[e_>>2],_a(11032,_r),n_=l[e_>>2]|0,(n_|0)>0){c_=_+12|0,__=0;do n_=l[c_>>2]|0,u_=+_e[n_+(__<<3)>>2],x_=+_e[n_+(__<<3)+4>>2],l[_r>>2]=__,n_=_r+4|0,l_[s_>>3]=u_,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],n_=_r+12|0,l_[s_>>3]=x_,l[n_>>2]=l[s_>>2],l[n_+4>>2]=l[s_+4>>2],_a(11056,_r),__=__+1|0,n_=l[e_>>2]|0;while((__|0)<(n_|0))}l[_r>>2]=n_,_a(11152,_r),c_=_+20|0,x_=+_e[c_+4>>2],l_[s_>>3]=+_e[c_>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],c_=_r+8|0,l_[s_>>3]=x_,l[c_>>2]=l[s_>>2],l[c_+4>>2]=l[s_+4>>2],_a(11184,_r),c_=_+28|0,x_=+_e[c_+4>>2],l_[s_>>3]=+_e[c_>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],c_=_r+8|0,l_[s_>>3]=x_,l[c_>>2]=l[s_>>2],l[c_+4>>2]=l[s_+4>>2],_a(11232,_r),l[_r>>2]=t_[_+36>>0],_a(11280,_r),l[_r>>2]=t_[_+37>>0],_a(11320,_r)}else{ws=_s;return}_a(11360,_r),_a(11368,_r),_a(11360,_r),l[_r>>2]=_t,_a(11392,_r),ws=_s}function mI(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0;var __=0,c_=0;__=ws,c_=_+40|0,l[c_>>2]=_t,l[_+44>>2]=_r,l[_+48>>2]=_s,l[_+28>>2]=0,l[_+36>>2]=0,l[_+32>>2]=0,l[_>>2]=e_,l[_+4>>2]=n_,l[_+8>>2]=wB(e_,_t<<2)|0,l[_+12>>2]=wB(l[_>>2]|0,_r<<2)|0,l[_+16>>2]=wB(l[_>>2]|0,_s<<2)|0,l[_+24>>2]=wB(l[_>>2]|0,(l[c_>>2]|0)*12|0)|0,l[_+20>>2]=wB(l[_>>2]|0,(l[c_>>2]|0)*12|0)|0,ws=__}function bI(_){_=_|0;var _t=0;_t=ws,PC(l[_>>2]|0,l[_+20>>2]|0),PC(l[_>>2]|0,l[_+24>>2]|0),PC(l[_>>2]|0,l[_+16>>2]|0),PC(l[_>>2]|0,l[_+12>>2]|0),PC(l[_>>2]|0,l[_+8>>2]|0),ws=_t}function uI(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0;if(n_=ws,ws=ws+32|0,_s=n_,_r=_+4|0,!(l[_r>>2]|0)){ws=n_;return}if(e_=_+36|0,(l[e_>>2]|0)<=0){ws=n_;return}A_=_+12|0,c_=_s+16|0,u_=0;do{if(x_=l[(l[A_>>2]|0)+(u_<<2)>>2]|0,__=l[_t+(u_*156|0)+148>>2]|0,l[c_>>2]=__,(__|0)>0){_=0;do _e[_s+(_<<2)>>2]=+_e[_t+(u_*156|0)+(_*36|0)+16>>2],_e[_s+(_<<2)+8>>2]=+_e[_t+(u_*156|0)+(_*36|0)+20>>2],_=_+1|0;while((_|0)<(__|0))}__=l[_r>>2]|0,M4[l[(l[__>>2]|0)+20>>2]&63](__,x_,_s),u_=u_+1|0}while((u_|0)<(l[e_>>2]|0));ws=n_}function hI(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0;_r=ws,l[_+102868>>2]&2&&X2(11528,11552,274,11656),_s=_o[_t+61>>0]|0,n_=_t+8|0,__=l[n_>>2]|0,e_=_t+12|0,__&&(l[__+12>>2]=l[e_>>2]),__=l[e_>>2]|0,__&&(l[__+8>>2]=l[n_>>2]),n_=_+102956|0,(l[n_>>2]|0)==(_t|0)&&(l[n_>>2]=l[e_>>2]),e_=l[_t+48>>2]|0,n_=l[_t+52>>2]|0,c_=e_+4|0,__=o_[c_>>1]|0,__&2||(_i[c_>>1]=__|2,_e[e_+144>>2]=0),__=n_+4|0,c_=o_[__>>1]|0,c_&2||(_i[__>>1]=c_|2,_e[n_+144>>2]=0),c_=_t+24|0,u_=l[c_>>2]|0,__=_t+28|0,u_&&(l[u_+12>>2]=l[__>>2]),u_=l[__>>2]|0,u_&&(l[u_+8>>2]=l[c_>>2]),u_=e_+108|0,(_t+16|0)==(l[u_>>2]|0)&&(l[u_>>2]=l[__>>2]),l[c_>>2]=0,l[__>>2]=0,c_=_t+40|0,u_=l[c_>>2]|0,__=_t+44|0,u_&&(l[u_+12>>2]=l[__>>2]),u_=l[__>>2]|0,u_&&(l[u_+8>>2]=l[c_>>2]),u_=n_+108|0,(_t+32|0)==(l[u_>>2]|0)&&(l[u_>>2]=l[__>>2]),l[c_>>2]=0,l[__>>2]=0,_y[l[(l[_t>>2]|0)+24>>2]&127](_t);do switch(l[_t+4>>2]|0){case 7:{H1(_,_t,224);break}case 8:{H1(_,_t,208);break}case 9:{H1(_,_t,180);break}case 10:{H1(_,_t,168);break}case 11:{H1(_,_t,192);break}case 3:{H1(_,_t,176);break}case 5:{H1(_,_t,168);break}case 2:{H1(_,_t,256);break}case 1:{H1(_,_t,228);break}case 4:{H1(_,_t,196);break}case 6:{H1(_,_t,276);break}default:X2(15688,15696,178,15752)}while(!1);if(_t=_+102964|0,_=l[_t>>2]|0,(_|0)<=0&&X2(11672,11552,346,11656),l[_t>>2]=_+-1,_s<<24>>24){ws=_r;return}if(_s=l[n_+112>>2]|0,!_s){ws=_r;return}do(l[_s>>2]|0)==(e_|0)&&(u_=(l[_s+4>>2]|0)+4|0,l[u_>>2]=l[u_>>2]|8),_s=l[_s+12>>2]|0;while((_s|0)!=0);ws=_r}function eD(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;if(_r=_+28|0,_s=l[_r>>2]|0,(_s|0)<(l[_+40>>2]|0)){l[_t+8>>2]=_s,_s=l[_r>>2]|0,l[(l[_+8>>2]|0)+(_s<<2)>>2]=_t,l[_r>>2]=_s+1;return}else X2(12504,12416,54,12456)}function MG(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0;if(_s=_+36|0,_r=l[_s>>2]|0,(_r|0)<(l[_+44>>2]|0)){l[_s>>2]=_r+1,l[(l[_+12>>2]|0)+(_r<<2)>>2]=_t;return}else X2(12464,12416,62,12456)}function att(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0;if(f_=ws,ws=ws+48|0,c2=f_+36|0,r2=f_+24|0,L_=f_+16|0,Q_=f_+8|0,V_=f_,x_=_+128|0,g_=l[x_>>2]|0,A_=_t+28|0,b2=l[A_>>2]|0,M_=b2+(g_*12|0)|0,n_=+_e[M_>>2],__=+_e[M_+4>>2],R_=+_e[b2+(g_*12|0)+8>>2],g_=_+132|0,M_=l[g_>>2]|0,w_=b2+(M_*12|0)|0,u_=+_e[w_>>2],e_=+_e[w_+4>>2],J_=+_e[b2+(M_*12|0)+8>>2],_r=+_e[_+168>>2],I_=+_e[_+172>>2],c_=+_e[_+176>>2],_s=+_e[_+180>>2],M_=c_+_s==0,(_o[_+100>>0]|0)!=0&&!((l[_+224>>2]|0)==3|M_)&&(b2=_+96|0,f2=+_e[b2>>2],h2=+_e[_t>>2]*+_e[_+104>>2],g2=f2-+_e[_+220>>2]*(J_-R_-+_e[_+108>>2]),C2=-h2,h2=g2<h2?g2:h2,h2=h2<C2?C2:h2,_e[b2>>2]=h2,f2=h2-f2,R_=R_-c_*f2,J_=J_+_s*f2),(_o[_+112>>0]|0)!=0&&(w2=_+224|0,!((l[w2>>2]|0)==0|M_))){w_=_+148|0,_t=_+144|0,M_=_+140|0,V_=_+136|0,o2=u_-J_*+_e[w_>>2]-n_+R_*+_e[M_>>2],n2=e_+J_*+_e[_t>>2]-__-R_*+_e[V_>>2],_e[c2>>2]=o2,_e[c2+4>>2]=n2,_e[c2+8>>2]=J_-R_,b2=_+184|0,P4(r2,b2,c2),g2=+_e[r2>>2],z_=-g2,C2=+_e[r2+4>>2],A2=-C2,h2=+_e[r2+8>>2],H_=-h2,w2=l[w2>>2]|0;do if((w2|0)==2)if(L_=_+84|0,w2=_+92|0,f2=+_e[w2>>2],h2=f2-h2,h2>0){w4(Q_,b2,f2*+_e[_+208>>2]-o2,f2*+_e[_+212>>2]-n2),z_=+_e[Q_>>2],A2=+_e[Q_+4>>2],H_=-+_e[w2>>2],_e[L_>>2]=z_+ +_e[L_>>2],c2=_+88|0,_e[c2>>2]=A2+ +_e[c2>>2],_e[w2>>2]=0;break}else{_e[L_>>2]=+_e[L_>>2]-g2,c2=_+88|0,_e[c2>>2]=+_e[c2>>2]-C2,_e[w2>>2]=h2;break}else if((w2|0)==3)c2=_+84|0,_e[c2>>2]=+_e[c2>>2]-g2,c2=_+88|0,_e[c2>>2]=+_e[c2>>2]-C2,c2=_+92|0,_e[c2>>2]=+_e[c2>>2]-h2;else if((w2|0)==1)if(w2=_+84|0,Q_=_+92|0,f2=+_e[Q_>>2],h2=f2-h2,h2<0){w4(L_,b2,f2*+_e[_+208>>2]-o2,f2*+_e[_+212>>2]-n2),z_=+_e[L_>>2],A2=+_e[L_+4>>2],H_=-+_e[Q_>>2],_e[w2>>2]=z_+ +_e[w2>>2],c2=_+88|0,_e[c2>>2]=A2+ +_e[c2>>2],_e[Q_>>2]=0;break}else{_e[w2>>2]=+_e[w2>>2]-g2,c2=_+88|0,_e[c2>>2]=+_e[c2>>2]-C2,_e[Q_>>2]=h2;break}while(!1);f2=H_+(A2*+_e[_t>>2]-z_*+_e[w_>>2]),g2=H_+(A2*+_e[V_>>2]-z_*+_e[M_>>2]),n2=z_,C2=I_*n2,h2=I_*A2,n2=_r*n2,A2=_r*A2,C2=u_+C2,h2=e_+h2,n2=n_-n2,A2=__-A2,g2=c_*g2,f2=_s*f2,g2=R_-g2,f2=J_+f2,c2=l[x_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)|0,n2=+n2,A2=+A2,r2=c2,_e[r2>>2]=n2,c2=c2+4|0,_e[c2>>2]=A2,c2=l[x_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)+8|0,_e[c2>>2]=g2,c2=l[g_>>2]|0,c2=r2+(c2*12|0)|0,C2=+C2,h2=+h2,r2=c2,_e[r2>>2]=C2,c2=c2+4|0,_e[c2>>2]=h2,c2=l[g_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)+8|0,_e[c2>>2]=f2,ws=f_;return}w2=_+148|0,b2=_+144|0,c2=_+140|0,r2=_+136|0,w4(V_,_+184|0,-(u_-J_*+_e[w2>>2]-n_+R_*+_e[c2>>2]),-(e_+J_*+_e[b2>>2]-__-R_*+_e[r2>>2])),n2=+_e[V_>>2],Q_=_+84|0,_e[Q_>>2]=n2+ +_e[Q_>>2],A2=+_e[V_+4>>2],Q_=_+88|0,_e[Q_>>2]=A2+ +_e[Q_>>2],f2=A2*+_e[b2>>2]-n2*+_e[w2>>2],g2=A2*+_e[r2>>2]-n2*+_e[c2>>2],C2=I_*n2,h2=I_*A2,n2=_r*n2,A2=_r*A2,C2=u_+C2,h2=e_+h2,n2=n_-n2,A2=__-A2,g2=c_*g2,f2=_s*f2,g2=R_-g2,f2=J_+f2,c2=l[x_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)|0,n2=+n2,A2=+A2,r2=c2,_e[r2>>2]=n2,c2=c2+4|0,_e[c2>>2]=A2,c2=l[x_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)+8|0,_e[c2>>2]=g2,c2=l[g_>>2]|0,c2=r2+(c2*12|0)|0,C2=+C2,h2=+h2,r2=c2,_e[r2>>2]=C2,c2=c2+4|0,_e[c2>>2]=h2,c2=l[g_>>2]|0,r2=l[A_>>2]|0,c2=r2+(c2*12|0)+8|0,_e[c2>>2]=f2,ws=f_}function ptt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0;return _s=ws,_r=_+128|0,x_=l[_r>>2]|0,__=_t+24|0,C2=l[__>>2]|0,_t=C2+(x_*12|0)|0,w2=_t,c_=+_e[w2>>2],n_=+_e[w2+4>>2],f_=+_e[C2+(x_*12|0)+8>>2],x_=_+132|0,w2=l[x_>>2]|0,h2=C2+(w2*12|0)|0,e_=+_e[h2>>2],u_=+_e[h2+4>>2],I_=+_e[C2+(w2*12|0)+8>>2],w2=_+176|0,C2=_+180|0,_o[_+112>>0]|0?(R_=+_e[C2>>2],J_=+_e[w2>>2],C2=l[_+224>>2]|0,(C2|0)==0|R_+J_==0?(A_=J_,g_=R_,V_=0):(A_=I_-f_-+_e[_+116>>2],(C2|0)==2?(V_=A_-+_e[_+124>>2],M_=V_+-.03490658849477768,M_=M_<.13962635397911072?M_:.13962635397911072,M_=-(+_e[_+220>>2]*(M_<0?0:M_))):(C2|0)==1?(V_=A_-+_e[_+120>>2],M_=V_+.03490658849477768,M_=M_<0?M_:0,V_=-V_,M_=-(+_e[_+220>>2]*(M_<-.13962635397911072?-.13962635397911072:M_))):(C2|0)==3?(V_=A_-+_e[_+120>>2],V_=V_<.13962635397911072?V_:.13962635397911072,V_=V_<-.13962635397911072?-.13962635397911072:V_,M_=-(+_e[_+220>>2]*V_),V_>0||(V_=-V_)):(V_=0,M_=0),A_=J_,g_=R_,f_=f_-M_*J_,I_=I_+M_*R_)):(A_=+_e[w2>>2],g_=+_e[C2>>2],V_=0),w_=+F2(+f_),L_=+V2(+f_),Q_=+F2(+I_),o2=+V2(+I_),M_=+_e[_+68>>2]-+_e[_+152>>2],R_=+_e[_+72>>2]-+_e[_+156>>2],z_=L_*M_-w_*R_,R_=w_*M_+L_*R_,L_=+_e[_+76>>2]-+_e[_+160>>2],M_=+_e[_+80>>2]-+_e[_+164>>2],w_=o2*L_-Q_*M_,M_=Q_*L_+o2*M_,o2=e_+w_-c_-z_,L_=u_+M_-n_-R_,Q_=+G2(+(o2*o2+L_*L_)),J_=+_e[_+168>>2],n2=+_e[_+172>>2],r2=J_+n2,A2=r2+R_*R_*A_+M_*M_*g_,g2=z_*A_,H_=w_*g_,b2=-(R_*g2)-M_*H_,H_=r2+z_*g2+w_*H_,g2=A2*H_-b2*b2,g2!=0&&(g2=1/g2),r2=-((o2*H_-L_*b2)*g2),g2=-((L_*A2-o2*b2)*g2),A2=+(c_-J_*r2),b2=+(n_-J_*g2),h2=_t,_e[h2>>2]=A2,_e[h2+4>>2]=b2,h2=l[__>>2]|0,_e[h2+((l[_r>>2]|0)*12|0)+8>>2]=f_-A_*(z_*g2-R_*r2),b2=+(e_+n2*r2),A2=+(u_+n2*g2),h2=h2+((l[x_>>2]|0)*12|0)|0,_e[h2>>2]=b2,_e[h2+4>>2]=A2,_e[(l[__>>2]|0)+((l[x_>>2]|0)*12|0)+8>>2]=I_+g_*(w_*g2-M_*r2),Q_<=.004999999888241291?(h2=V_<=.03490658849477768,ws=_s,h2|0):(h2=0,ws=_s,h2|0)}function ctt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+48>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+68>>2],e_=+_e[c_+20>>2],_s=+_e[_t+72>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function ltt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+52>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+76>>2],e_=+_e[c_+20>>2],_s=+_e[_t+80>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function mtt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=+_e[_t+88>>2]*_r,_e[_>>2]=+_e[_t+84>>2]*_r,_e[_+4>>2]=_s}function btt(_,_t){return _=_|0,_t=+_t,+(+_e[_+92>>2]*_t)}function utt(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;_t=ws,ws=ws+16|0,_r=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,_a(17248,_r),l[_r>>2]=n_,_a(17784,_r),l[_r>>2]=_s,_a(17816,_r),l[_r>>2]=t_[_+61>>0],_a(17848,_r),e_=+_e[_+72>>2],l_[s_>>3]=+_e[_+68>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17888,_r),e_=+_e[_+80>>2],l_[s_>>3]=+_e[_+76>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17936,_r),l_[s_>>3]=+_e[_+116>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(17640,_r),l[_r>>2]=t_[_+112>>0],_a(17280,_r),l_[s_>>3]=+_e[_+120>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(17312,_r),l_[s_>>3]=+_e[_+124>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(17344,_r),l[_r>>2]=t_[_+100>>0],_a(18024,_r),l_[s_>>3]=+_e[_+108>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18056,_r),l_[s_>>3]=+_e[_+104>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18088,_r),l[_r>>2]=l[_+56>>2],_a(18184,_r),ws=_t}function htt(_){_=_|0}function dtt(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function ytt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0;if(_r=ws,M_=l[_+48>>2]|0,c2=l[M_+8>>2]|0,_s=_+96|0,l[_s>>2]=c2,f2=l[_+52>>2]|0,h2=l[f2+8>>2]|0,e_=_+100|0,l[e_>>2]=h2,b2=M_+28|0,w2=l[b2>>2]|0,b2=l[b2+4>>2]|0,L_=_+128|0,l[L_>>2]=w2,l[L_+4>>2]=b2,L_=f2+28|0,g2=l[L_>>2]|0,L_=l[L_+4>>2]|0,A2=_+136|0,l[A2>>2]=g2,l[A2+4>>2]=L_,A2=_+144|0,_e[A2>>2]=+_e[M_+120>>2],L_=_+148|0,_e[L_>>2]=+_e[f2+120>>2],z_=_+152|0,_e[z_>>2]=+_e[M_+128>>2],M_=_+156|0,_e[M_>>2]=+_e[f2+128>>2],f2=l[_t+24>>2]|0,n_=f2+(c2*12|0)|0,V_=+_e[n_>>2],w_=+_e[n_+4>>2],__=+_e[f2+(c2*12|0)+8>>2],n_=_t+28|0,r2=l[n_>>2]|0,S2=r2+(c2*12|0)|0,J_=+_e[S2>>2],R_=+_e[S2+4>>2],x_=+_e[r2+(c2*12|0)+8>>2],c2=f2+(h2*12|0)|0,Q_=+_e[c2>>2],C2=+_e[c2+4>>2],H_=+_e[f2+(h2*12|0)+8>>2],f2=r2+(h2*12|0)|0,I_=+_e[f2>>2],f_=+_e[f2+4>>2],c_=+_e[r2+(h2*12|0)+8>>2],u_=+F2(+__),__=+V2(+__),o2=+F2(+H_),H_=+V2(+H_),n2=+_e[_+68>>2]-(l[s_>>2]=w2,+_e[s_>>2]),g_=+_e[_+72>>2]-(l[s_>>2]=b2,+_e[s_>>2]),A_=__*n2-u_*g_,g_=u_*n2+__*g_,__=+A_,n2=+g_,b2=_+112|0,_e[b2>>2]=__,_e[b2+4>>2]=n2,n2=+_e[_+76>>2]-(l[s_>>2]=g2,+_e[s_>>2]),__=+_e[_+80>>2]-+_e[_+140>>2],u_=H_*n2-o2*__,__=o2*n2+H_*__,H_=+u_,n2=+__,g2=_+120|0,_e[g2>>2]=H_,_e[g2+4>>2]=n2,g2=_+104|0,V_=Q_+u_-V_-A_,w_=C2+__-w_-g_,C2=+V_,Q_=+w_,b2=g2,_e[b2>>2]=C2,_e[b2+4>>2]=Q_,b2=_+108|0,Q_=+G2(+(V_*V_+w_*w_)),_e[_+88>>2]=Q_,l[_+164>>2]=Q_-+_e[_+84>>2]>0?2:0,!(Q_>.004999999888241291)){_e[g2>>2]=0,_e[b2>>2]=0,_e[_+160>>2]=0,_e[_+92>>2]=0,ws=_r;return}o2=1/Q_,V_=o2*V_,_e[g2>>2]=V_,o2=o2*w_,_e[b2>>2]=o2,d2=A_*o2-g_*V_,C2=o2*u_-V_*__,H_=+_e[A2>>2],w_=+_e[z_>>2],n2=+_e[L_>>2],Q_=+_e[M_>>2],C2=n2+(H_+d2*d2*w_)+C2*C2*Q_,C2!=0?C2=1/C2:C2=0,_e[_+160>>2]=C2,_o[_t+20>>0]|0?(S2=_+92|0,C2=+_e[_t+8>>2]*+_e[S2>>2],_e[S2>>2]=C2,d2=V_*C2,C2=C2*o2,J_=J_-d2*H_,R_=R_-C2*H_,I_=I_+d2*n2,f_=f_+C2*n2,x_=x_-w_*(C2*A_-d2*g_),c_=c_+Q_*(C2*u_-d2*__)):_e[_+92>>2]=0,d2=+J_,C2=+R_,S2=(l[n_>>2]|0)+((l[_s>>2]|0)*12|0)|0,_e[S2>>2]=d2,_e[S2+4>>2]=C2,S2=l[n_>>2]|0,_e[S2+((l[_s>>2]|0)*12|0)+8>>2]=x_,C2=+I_,d2=+f_,S2=S2+((l[e_>>2]|0)*12|0)|0,_e[S2>>2]=C2,_e[S2+4>>2]=d2,_e[(l[n_>>2]|0)+((l[e_>>2]|0)*12|0)+8>>2]=c_,ws=_r}function xtt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0;f_=ws,c_=_+96|0,_s=l[c_>>2]|0,e_=_t+28|0,z_=l[e_>>2]|0,u_=z_+(_s*12|0)|0,o2=u_,A_=+_e[o2>>2],x_=+_e[o2+4>>2],V_=+_e[z_+(_s*12|0)+8>>2],_s=_+100|0,o2=l[_s>>2]|0,H_=z_+(o2*12|0)|0,__=+_e[H_>>2],n_=+_e[H_+4>>2],I_=+_e[z_+(o2*12|0)+8>>2],R_=+_e[_+116>>2],J_=+_e[_+112>>2],g_=+_e[_+124>>2],_r=+_e[_+120>>2],L_=+_e[_+88>>2]-+_e[_+84>>2],w_=+_e[_+104>>2],M_=+_e[_+108>>2],Q_=(__-I_*g_-(A_-V_*R_))*w_+(n_+I_*_r-(x_+V_*J_))*M_,L_<0&&(Q_=Q_+L_*+_e[_t+4>>2]),H_=_+92|0,n2=+_e[H_>>2],L_=n2-Q_*+_e[_+160>>2],L_=L_>0?0:L_,_e[H_>>2]=L_,n2=L_-n2,w_=w_*n2,M_=M_*n2,n2=+_e[_+144>>2],V_=V_-+_e[_+152>>2]*(J_*M_-w_*R_),L_=+_e[_+148>>2],Q_=I_+ +_e[_+156>>2]*(M_*_r-w_*g_),R_=+(A_-n2*w_),J_=+(x_-n2*M_),H_=u_,_e[H_>>2]=R_,_e[H_+4>>2]=J_,H_=l[e_>>2]|0,_e[H_+((l[c_>>2]|0)*12|0)+8>>2]=V_,w_=+(__+w_*L_),L_=+(n_+M_*L_),H_=H_+((l[_s>>2]|0)*12|0)|0,_e[H_>>2]=w_,_e[H_+4>>2]=L_,_e[(l[e_>>2]|0)+((l[_s>>2]|0)*12|0)+8>>2]=Q_,ws=f_}function ftt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0;return _s=ws,_r=_+96|0,g_=l[_r>>2]|0,_t=_t+24|0,Q_=l[_t>>2]|0,c_=Q_+(g_*12|0)|0,L_=c_,x_=+_e[L_>>2],u_=+_e[L_+4>>2],J_=+_e[Q_+(g_*12|0)+8>>2],g_=_+100|0,L_=l[g_>>2]|0,o2=Q_+(L_*12|0)|0,n_=+_e[o2>>2],e_=+_e[o2+4>>2],f_=+_e[Q_+(L_*12|0)+8>>2],__=+F2(+J_),V_=+V2(+J_),M_=+F2(+f_),w_=+V2(+f_),A_=+_e[_+68>>2]-+_e[_+128>>2],I_=+_e[_+72>>2]-+_e[_+132>>2],R_=V_*A_-__*I_,I_=__*A_+V_*I_,V_=+_e[_+76>>2]-+_e[_+136>>2],A_=+_e[_+80>>2]-+_e[_+140>>2],__=w_*V_-M_*A_,A_=M_*V_+w_*A_,w_=n_+__-x_-R_,V_=e_+A_-u_-I_,M_=+G2(+(w_*w_+V_*V_)),M_<11920928955078125e-23?M_=0:(z_=1/M_,w_=w_*z_,V_=V_*z_),o2=_+84|0,n2=M_-+_e[o2>>2],n2=n2<.20000000298023224?n2:.20000000298023224,n2=-(+_e[_+160>>2]*(n2<0?0:n2)),H_=w_*n2,w_=V_*n2,n2=+_e[_+144>>2],V_=J_-+_e[_+152>>2]*(R_*w_-I_*H_),J_=+_e[_+148>>2],z_=f_+ +_e[_+156>>2]*(__*w_-A_*H_),I_=+(x_-n2*H_),R_=+(u_-n2*w_),Q_=c_,_e[Q_>>2]=I_,_e[Q_+4>>2]=R_,Q_=l[_t>>2]|0,_e[Q_+((l[_r>>2]|0)*12|0)+8>>2]=V_,V_=+(n_+J_*H_),w_=+(e_+J_*w_),Q_=Q_+((l[g_>>2]|0)*12|0)|0,_e[Q_>>2]=V_,_e[Q_+4>>2]=w_,_e[(l[_t>>2]|0)+((l[g_>>2]|0)*12|0)+8>>2]=z_,ws=_s,M_-+_e[o2>>2]<.004999999888241291|0}function gtt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+48>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+68>>2],e_=+_e[c_+20>>2],_s=+_e[_t+72>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function vtt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+52>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+76>>2],e_=+_e[c_+20>>2],_s=+_e[_t+80>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function Att(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=+_e[_t+92>>2]*_r,_r=_s*+_e[_t+108>>2],_e[_>>2]=+_e[_t+104>>2]*_s,_e[_+4>>2]=_r}function Stt(_,_t){return _=_|0,_t=+_t,0}function Ctt(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;_t=ws,ws=ws+16|0,_r=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,_a(17472,_r),l[_r>>2]=n_,_a(17784,_r),l[_r>>2]=_s,_a(17816,_r),l[_r>>2]=t_[_+61>>0],_a(17848,_r),e_=+_e[_+72>>2],l_[s_>>3]=+_e[_+68>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17888,_r),e_=+_e[_+80>>2],l_[s_>>3]=+_e[_+76>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17936,_r),l_[s_>>3]=+_e[_+84>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(17496,_r),l[_r>>2]=l[_+56>>2],_a(18184,_r),ws=_t}function Btt(_){_=_|0}function Ptt(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function wtt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0;g_=ws,ws=ws+48|0,A2=g_,x_=l[_+48>>2]|0,c2=l[x_+8>>2]|0,u_=_+116|0,l[u_>>2]=c2,f2=l[_+52>>2]|0,J_=l[f2+8>>2]|0,A_=_+120|0,l[A_>>2]=J_,w_=x_+28|0,b2=l[w_>>2]|0,w_=l[w_+4>>2]|0,V_=_+140|0,l[V_>>2]=b2,l[V_+4>>2]=w_,V_=f2+28|0,_r=l[V_>>2]|0,V_=l[V_+4>>2]|0,r2=_+148|0,l[r2>>2]=_r,l[r2+4>>2]=V_,f_=+_e[x_+120>>2],_e[_+156>>2]=f_,I_=+_e[f2+120>>2],_e[_+160>>2]=I_,R_=+_e[x_+128>>2],_e[_+164>>2]=R_,M_=+_e[f2+128>>2],_e[_+168>>2]=M_,f2=l[_t+24>>2]|0,z_=+_e[f2+(c2*12|0)+8>>2],x_=_t+28|0,r2=l[x_>>2]|0,S2=r2+(c2*12|0)|0,L_=+_e[S2>>2],_s=+_e[S2+4>>2],__=+_e[r2+(c2*12|0)+8>>2],o2=+_e[f2+(J_*12|0)+8>>2],f2=r2+(J_*12|0)|0,e_=+_e[f2>>2],n_=+_e[f2+4>>2],c_=+_e[r2+(J_*12|0)+8>>2],Q_=+F2(+z_),n2=+V2(+z_),h2=+F2(+o2),C2=+V2(+o2),J_=_+124|0,g2=+_e[_+80>>2]-(l[s_>>2]=b2,+_e[s_>>2]),w2=+_e[_+84>>2]-(l[s_>>2]=w_,+_e[s_>>2]),H_=n2*g2-Q_*w2,w2=Q_*g2+n2*w2,n2=+H_,g2=+w2,w_=J_,_e[w_>>2]=n2,_e[w_+4>>2]=g2,w_=_+132|0,g2=+_e[_+88>>2]-(l[s_>>2]=_r,+_e[s_>>2]),n2=+_e[_+92>>2]-(l[s_>>2]=V_,+_e[s_>>2]),Q_=C2*g2-h2*n2,n2=h2*g2+C2*n2,C2=+Q_,g2=+n2,V_=w_,_e[V_>>2]=C2,_e[V_+4>>2]=g2,g2=f_+I_,V_=_+128|0,_r=_+136|0,_e[A2>>2]=g2+R_*w2*w2+M_*n2*n2,C2=-(R_*w2*H_)-M_*n2*Q_,_e[A2+12>>2]=C2,n2=-(R_*w2)-M_*n2,_e[A2+24>>2]=n2,_e[A2+4>>2]=C2,_e[A2+16>>2]=g2+R_*H_*H_+M_*Q_*Q_,Q_=R_*H_+M_*Q_,_e[A2+28>>2]=Q_,_e[A2+8>>2]=n2,_e[A2+20>>2]=Q_,Q_=R_+M_,_e[A2+32>>2]=Q_,b2=_+68|0;do if(+_e[b2>>2]>0)iI(A2,_+172|0),Q_>0?n2=1/Q_:n2=0,o2=o2-z_-+_e[_+96>>2],h2=+_e[b2>>2]*6.2831854820251465,z_=h2*n2*h2,H_=+_e[_t>>2],n2=H_*(h2*n2*2*+_e[_+72>>2]+H_*z_),b2=_+100|0,_e[b2>>2]=n2,n2!=0?n2=1/n2:n2=0,_e[b2>>2]=n2,_e[_+76>>2]=o2*H_*z_*n2,Q_=Q_+n2,Q_!=0?Q_=1/Q_:Q_=0,_e[_+204>>2]=Q_;else if(b2=_+172|0,Q_==0){iI(A2,b2),_e[_+100>>2]=0,_e[_+76>>2]=0;break}else{rI(A2,b2),_e[_+100>>2]=0,_e[_+76>>2]=0;break}while(!1);if(b2=_+104|0,_o[_t+20>>0]|0){o2=+_e[_t+8>>2],h2=o2*+_e[b2>>2],_e[b2>>2]=h2,S2=_+108|0,z_=o2*+_e[S2>>2],_e[S2>>2]=z_,S2=_+112|0,o2=o2*+_e[S2>>2],_e[S2>>2]=o2,H_=L_-f_*h2,n2=_s-f_*z_,C2=e_+I_*h2,w2=n_+I_*z_,g2=__-R_*(o2+(z_*+_e[J_>>2]-h2*+_e[V_>>2])),h2=c_+M_*(o2+(z_*+_e[w_>>2]-h2*+_e[_r>>2])),S2=l[u_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)|0,H_=+H_,n2=+n2,c2=S2,_e[c2>>2]=H_,S2=S2+4|0,_e[S2>>2]=n2,S2=l[u_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)+8|0,_e[S2>>2]=g2,S2=l[A_>>2]|0,S2=c2+(S2*12|0)|0,C2=+C2,w2=+w2,c2=S2,_e[c2>>2]=C2,S2=S2+4|0,_e[S2>>2]=w2,S2=l[A_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)+8|0,_e[S2>>2]=h2,ws=g_;return}else{_e[b2>>2]=0,_e[_+108>>2]=0,_e[_+112>>2]=0,H_=L_,n2=_s,C2=e_,w2=n_,g2=__,h2=c_,S2=l[u_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)|0,H_=+H_,n2=+n2,c2=S2,_e[c2>>2]=H_,S2=S2+4|0,_e[S2>>2]=n2,S2=l[u_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)+8|0,_e[S2>>2]=g2,S2=l[A_>>2]|0,S2=c2+(S2*12|0)|0,C2=+C2,w2=+w2,c2=S2,_e[c2>>2]=C2,S2=S2+4|0,_e[S2>>2]=w2,S2=l[A_>>2]|0,c2=l[x_>>2]|0,S2=c2+(S2*12|0)+8|0,_e[S2>>2]=h2,ws=g_;return}}function Vtt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0;if(_s=ws,_r=_+116|0,V_=l[_r>>2]|0,u_=_t+28|0,M_=l[u_>>2]|0,n_=M_+(V_*12|0)|0,_t=n_,c_=+_e[_t>>2],__=+_e[_t+4>>2],J_=+_e[M_+(V_*12|0)+8>>2],_t=_+120|0,V_=l[_t>>2]|0,w_=M_+(V_*12|0)|0,x_=+_e[w_>>2],e_=+_e[w_+4>>2],R_=+_e[M_+(V_*12|0)+8>>2],A_=+_e[_+156>>2],g_=+_e[_+160>>2],I_=+_e[_+164>>2],f_=+_e[_+168>>2],+_e[_+68>>2]>0){w_=_+112|0,H_=+_e[w_>>2],A2=+_e[_+204>>2]*(R_-J_+ +_e[_+76>>2]+ +_e[_+100>>2]*H_),n2=-A2,_e[w_>>2]=H_-A2,A2=J_-I_*n2,n2=R_+f_*n2,R_=+_e[_+136>>2],H_=+_e[_+132>>2],L_=+_e[_+128>>2],b2=+_e[_+124>>2],J_=L_*A2+(x_-R_*n2-c_),Q_=e_+H_*n2-__-b2*A2,o2=+_e[_+172>>2]*J_+ +_e[_+184>>2]*Q_,Q_=+_e[_+176>>2]*J_+ +_e[_+188>>2]*Q_,J_=-o2,z_=-Q_,w_=_+104|0,_e[w_>>2]=+_e[w_>>2]-o2,w_=_+108|0,_e[w_>>2]=+_e[w_>>2]-Q_,Q_=z_,o2=J_,L_=A2-I_*(b2*z_-L_*J_),J_=n2+f_*(H_*z_-R_*J_),I_=g_*o2,R_=g_*Q_,g_=A_*o2,f_=A_*Q_,I_=x_+I_,R_=e_+R_,g_=c_-g_,f_=__-f_,g_=+g_,f_=+f_,w_=n_,M_=w_,_e[M_>>2]=g_,w_=w_+4|0,_e[w_>>2]=f_,w_=l[_r>>2]|0,M_=l[u_>>2]|0,w_=M_+(w_*12|0)+8|0,_e[w_>>2]=L_,w_=l[_t>>2]|0,w_=M_+(w_*12|0)|0,I_=+I_,R_=+R_,M_=w_,_e[M_>>2]=I_,w_=w_+4|0,_e[w_>>2]=R_,w_=l[_t>>2]|0,M_=l[u_>>2]|0,w_=M_+(w_*12|0)+8|0,_e[w_>>2]=J_,ws=_s;return}else{b2=+_e[_+136>>2],L_=+_e[_+132>>2],H_=+_e[_+128>>2],g2=+_e[_+124>>2],Q_=x_-R_*b2-c_+J_*H_,n2=e_+R_*L_-__-J_*g2,A2=R_-J_,o2=Q_*+_e[_+172>>2]+n2*+_e[_+184>>2]+A2*+_e[_+196>>2],z_=Q_*+_e[_+176>>2]+n2*+_e[_+188>>2]+A2*+_e[_+200>>2],A2=Q_*+_e[_+180>>2]+n2*+_e[_+192>>2]+A2*+_e[_+204>>2],n2=-o2,Q_=-z_,w_=_+104|0,_e[w_>>2]=+_e[w_>>2]-o2,w_=_+108|0,_e[w_>>2]=+_e[w_>>2]-z_,w_=_+112|0,_e[w_>>2]=+_e[w_>>2]-A2,z_=Q_,o2=n2,H_=J_-I_*(g2*Q_-H_*n2-A2),A2=R_+f_*(L_*Q_-b2*n2-A2),n2=g_*o2,b2=g_*z_,o2=A_*o2,z_=A_*z_,n2=x_+n2,b2=e_+b2,o2=c_-o2,z_=__-z_,o2=+o2,z_=+z_,w_=n_,M_=w_,_e[M_>>2]=o2,w_=w_+4|0,_e[w_>>2]=z_,w_=l[_r>>2]|0,M_=l[u_>>2]|0,w_=M_+(w_*12|0)+8|0,_e[w_>>2]=H_,w_=l[_t>>2]|0,w_=M_+(w_*12|0)|0,n2=+n2,b2=+b2,M_=w_,_e[M_>>2]=n2,w_=w_+4|0,_e[w_>>2]=b2,w_=l[_t>>2]|0,M_=l[u_>>2]|0,w_=M_+(w_*12|0)+8|0,_e[w_>>2]=A2,ws=_s;return}}function Mtt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0;return _r=ws,ws=ws+64|0,g2=_r+24|0,C2=_r+12|0,A2=_r,_s=_+116|0,e_=l[_s>>2]|0,_t=_t+24|0,f2=l[_t>>2]|0,r2=f2+(e_*12|0)|0,I_=+_e[r2>>2],u_=+_e[r2+4>>2],n_=+_e[f2+(e_*12|0)+8>>2],e_=_+120|0,r2=l[e_>>2]|0,c2=f2+(r2*12|0)|0,c_=+_e[c2>>2],x_=+_e[c2+4>>2],g_=+_e[f2+(r2*12|0)+8>>2],w_=+F2(+n_),b2=+V2(+n_),n2=+F2(+g_),z_=+V2(+g_),A_=+_e[_+156>>2],R_=+_e[_+160>>2],__=+_e[_+164>>2],f_=+_e[_+168>>2],L_=+_e[_+80>>2]-+_e[_+140>>2],V_=+_e[_+84>>2]-+_e[_+144>>2],J_=b2*L_-w_*V_,V_=w_*L_+b2*V_,b2=+_e[_+88>>2]-+_e[_+148>>2],L_=+_e[_+92>>2]-+_e[_+152>>2],w_=z_*b2-n2*L_,L_=n2*b2+z_*L_,z_=A_+R_,b2=z_+__*V_*V_+f_*L_*L_,_e[g2>>2]=b2,n2=-(__*V_*J_)-f_*L_*w_,_e[g2+12>>2]=n2,H_=-(__*V_)-f_*L_,_e[g2+24>>2]=H_,_e[g2+4>>2]=n2,z_=z_+__*J_*J_+f_*w_*w_,_e[g2+16>>2]=z_,w2=__*J_+f_*w_,_e[g2+28>>2]=w2,_e[g2+8>>2]=H_,_e[g2+20>>2]=w2,w2=__+f_,_e[g2+32>>2]=w2,H_=c_+w_-I_-J_,o2=x_+L_-u_-V_,+_e[_+68>>2]>0?(M_=+G2(+(o2*o2+H_*H_)),Q_=b2*z_-n2*n2,Q_!=0&&(Q_=1/Q_),h2=-(Q_*(z_*H_-n2*o2)),Q_=-(Q_*(b2*o2-n2*H_)),w_=w_*Q_-L_*h2,L_=Q_,o2=h2,J_=J_*Q_-V_*h2,Q_=0):(h2=g_-n_-+_e[_+96>>2],M_=+G2(+(o2*o2+H_*H_)),h2>0?Q_=h2:Q_=-h2,_e[C2>>2]=H_,_e[C2+4>>2]=o2,_e[C2+8>>2]=h2,w2>0?(P4(A2,g2,C2),b2=+_e[A2+4>>2],o2=+_e[A2>>2],z_=-+_e[A2+8>>2]):(w2=b2*z_-n2*n2,w2!=0&&(w2=1/w2),b2=w2*(b2*o2-n2*H_),o2=w2*(z_*H_-n2*o2),z_=0),h2=-o2,w2=-b2,w_=z_+(w_*w2-L_*h2),L_=w2,o2=h2,J_=z_+(J_*w2-V_*h2)),h2=+(I_-A_*o2),w2=+(u_-A_*L_),c2=(l[_t>>2]|0)+((l[_s>>2]|0)*12|0)|0,_e[c2>>2]=h2,_e[c2+4>>2]=w2,c2=l[_t>>2]|0,_e[c2+((l[_s>>2]|0)*12|0)+8>>2]=n_-__*J_,w2=+(c_+R_*o2),h2=+(x_+R_*L_),c2=c2+((l[e_>>2]|0)*12|0)|0,_e[c2>>2]=w2,_e[c2+4>>2]=h2,_e[(l[_t>>2]|0)+((l[e_>>2]|0)*12|0)+8>>2]=g_+f_*w_,M_<=.004999999888241291?(c2=Q_<=.03490658849477768,ws=_r,c2|0):(c2=0,ws=_r,c2|0)}function Dtt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+48>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+80>>2],e_=+_e[c_+20>>2],_s=+_e[_t+84>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function Gtt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+52>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+88>>2],e_=+_e[c_+20>>2],_s=+_e[_t+92>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function Jtt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0;_s=+_e[_t+108>>2]*_r,_e[_>>2]=+_e[_t+104>>2]*_r,_e[_+4>>2]=_s}function Itt(_,_t){return _=_|0,_t=+_t,+(+_e[_+112>>2]*_t)}function Ttt(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;_t=ws,ws=ws+16|0,_r=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,_a(17616,_r),l[_r>>2]=n_,_a(17784,_r),l[_r>>2]=_s,_a(17816,_r),l[_r>>2]=t_[_+61>>0],_a(17848,_r),e_=+_e[_+84>>2],l_[s_>>3]=+_e[_+80>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17888,_r),e_=+_e[_+92>>2],l_[s_>>3]=+_e[_+88>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17936,_r),l_[s_>>3]=+_e[_+96>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(17640,_r),l_[s_>>3]=+_e[_+68>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18120,_r),l_[s_>>3]=+_e[_+72>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18152,_r),l[_r>>2]=l[_+56>>2],_a(18184,_r),ws=_t}function Ftt(_){_=_|0}function Rtt(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function Ltt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0,f2=0,c2=0,S2=0,d2=0,Y2=0,k2=0,P2=0,O2=0,L2=0,x2=0,B2=0,j2=0;if(A_=ws,n_=l[_+48>>2]|0,L2=l[n_+8>>2]|0,w_=_+132|0,l[w_>>2]=L2,_s=l[_+52>>2]|0,k2=l[_s+8>>2]|0,g_=_+136|0,l[g_>>2]=k2,n2=n_+28|0,Y2=l[n2>>2]|0,n2=l[n2+4>>2]|0,g2=_+140|0,l[g2>>2]=Y2,l[g2+4>>2]=n2,g2=_s+28|0,A2=l[g2>>2]|0,g2=l[g2+4>>2]|0,u_=_+148|0,l[u_>>2]=A2,l[u_+4>>2]=g2,b2=+_e[n_+120>>2],u_=_+156|0,_e[u_>>2]=b2,r2=+_e[_s+120>>2],c_=_+160|0,_e[c_>>2]=r2,o2=+_e[n_+128>>2],n_=_+164|0,_e[n_>>2]=o2,Q_=+_e[_s+128>>2],_s=_+168|0,_e[_s>>2]=Q_,O2=l[_t+24>>2]|0,L_=O2+(L2*12|0)|0,H_=+_e[L_>>2],z_=+_e[L_+4>>2],C2=+_e[O2+(L2*12|0)+8>>2],L_=_t+28|0,P2=l[L_>>2]|0,x2=P2+(L2*12|0)|0,f_=+_e[x2>>2],I_=+_e[x2+4>>2],V_=+_e[P2+(L2*12|0)+8>>2],L2=O2+(k2*12|0)|0,_r=+_e[L2>>2],e_=+_e[L2+4>>2],x_=+_e[O2+(k2*12|0)+8>>2],O2=P2+(k2*12|0)|0,R_=+_e[O2>>2],J_=+_e[O2+4>>2],M_=+_e[P2+(k2*12|0)+8>>2],d2=+F2(+C2),C2=+V2(+C2),S2=+F2(+x_),x_=+V2(+x_),__=+_e[_+76>>2]-(l[s_>>2]=Y2,+_e[s_>>2]),f2=+_e[_+80>>2]-(l[s_>>2]=n2,+_e[s_>>2]),w2=C2*__-d2*f2,f2=d2*__+C2*f2,__=+_e[_+84>>2]-(l[s_>>2]=A2,+_e[s_>>2]),c2=+_e[_+88>>2]-(l[s_>>2]=g2,+_e[s_>>2]),h2=x_*__-S2*c2,c2=S2*__+x_*c2,H_=_r+h2-H_-w2,z_=e_+c2-z_-f2,e_=+_e[_+100>>2],_r=+_e[_+104>>2],x_=C2*e_-d2*_r,_r=d2*e_+C2*_r,e_=+x_,__=+_r,g2=_+180|0,_e[g2>>2]=e_,_e[g2+4>>2]=__,w2=w2+H_,f2=f2+z_,__=_r*w2-x_*f2,_e[_+196>>2]=__,e_=h2*_r-c2*x_,_e[_+200>>2]=e_,r2=b2+r2,b2=r2+__*o2*__+e_*Q_*e_,b2>0&&(b2=1/b2),_e[_+204>>2]=b2,n2=_+212|0,_e[n2>>2]=0,A2=_+216|0,_e[A2>>2]=0,g2=_+220|0,_e[g2>>2]=0,S2=+_e[_+68>>2],S2>0?(j2=+_e[_+92>>2],B2=+_e[_+96>>2],b2=C2*j2-d2*B2,C2=d2*j2+C2*B2,B2=+b2,d2=+C2,x2=_+172|0,_e[x2>>2]=B2,_e[x2+4>>2]=d2,d2=w2*C2-f2*b2,_e[_+188>>2]=d2,w2=h2*C2-c2*b2,_e[_+192>>2]=w2,w2=r2+d2*o2*d2+w2*Q_*w2,w2>0&&(f2=1/w2,_e[n2>>2]=f2,j2=S2*6.2831854820251465,r2=j2*f2*j2,h2=+_e[_t>>2],f2=h2*(j2*f2*2*+_e[_+72>>2]+h2*r2),f2>0&&(f2=1/f2),_e[g2>>2]=f2,_e[A2>>2]=(H_*b2+z_*C2)*h2*r2*f2,z_=w2+f2,_e[n2>>2]=z_,z_>0&&(_e[n2>>2]=1/z_))):_e[_+116>>2]=0,_o[_+128>>0]|0?(Q_=Q_+o2,n2=_+208|0,_e[n2>>2]=Q_,Q_>0&&(_e[n2>>2]=1/Q_)):(_e[_+208>>2]=0,_e[_+112>>2]=0),_o[_t+20>>0]|0){L2=_t+8|0,x2=_+108|0,r2=+_e[L2>>2]*+_e[x2>>2],_e[x2>>2]=r2,x2=_+116|0,j2=+_e[L2>>2]*+_e[x2>>2],_e[x2>>2]=j2,x2=_+112|0,h2=+_e[L2>>2]*+_e[x2>>2],_e[x2>>2]=h2,d2=r2*x_+j2*+_e[_+172>>2],S2=r2*_r+j2*+_e[_+176>>2],c2=+_e[u_>>2],B2=+_e[c_>>2],f2=f_-d2*c2,c2=I_-S2*c2,d2=R_+d2*B2,B2=J_+S2*B2,S2=V_-(h2+(r2*__+j2*+_e[_+188>>2]))*+_e[n_>>2],j2=M_+(h2+(r2*e_+j2*+_e[_+192>>2]))*+_e[_s>>2],x2=l[w_>>2]|0,L2=l[L_>>2]|0,x2=L2+(x2*12|0)|0,f2=+f2,c2=+c2,L2=x2,_e[L2>>2]=f2,x2=x2+4|0,_e[x2>>2]=c2,x2=l[w_>>2]|0,L2=l[L_>>2]|0,x2=L2+(x2*12|0)+8|0,_e[x2>>2]=S2,x2=l[g_>>2]|0,x2=L2+(x2*12|0)|0,d2=+d2,B2=+B2,L2=x2,_e[L2>>2]=d2,x2=x2+4|0,_e[x2>>2]=B2,x2=l[g_>>2]|0,L2=l[L_>>2]|0,x2=L2+(x2*12|0)+8|0,_e[x2>>2]=j2,ws=A_;return}else{_e[_+108>>2]=0,_e[_+116>>2]=0,_e[_+112>>2]=0,f2=f_,c2=I_,d2=R_,B2=J_,S2=V_,j2=M_,x2=l[w_>>2]|0,L2=l[L_>>2]|0,x2=L2+(x2*12|0)|0,f2=+f2,c2=+c2,L2=x2,_e[L2>>2]=f2,x2=x2+4|0,_e[x2>>2]=c2,x2=l[w_>>2]|0,L2=l[L_>>2]|0,x2=L2+(x2*12|0)+8|0,_e[x2>>2]=S2,x2=l[g_>>2]|0,x2=L2+(x2*12|0)|0,d2=+d2,B2=+B2,L2=x2,_e[L2>>2]=d2,x2=x2+4|0,_e[x2>>2]=B2,x2=l[g_>>2]|0,L2=l[L_>>2]|0,x2=L2+(x2*12|0)+8|0,_e[x2>>2]=j2,ws=A_;return}}function ktt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0;_r=ws,w_=+_e[_+156>>2],g_=+_e[_+160>>2],V_=+_e[_+164>>2],c_=+_e[_+168>>2],R_=_+132|0,_s=l[R_>>2]|0,e_=_t+28|0,n2=l[e_>>2]|0,z_=n2+(_s*12|0)|0,L_=+_e[z_>>2],Q_=+_e[z_+4>>2],o2=+_e[n2+(_s*12|0)+8>>2],_s=_+136|0,z_=l[_s>>2]|0,b2=n2+(z_*12|0)|0,__=+_e[b2>>2],J_=+_e[b2+4>>2],x_=+_e[n2+(z_*12|0)+8>>2],I_=+_e[_+172>>2],f_=+_e[_+176>>2],u_=+_e[_+192>>2],M_=+_e[_+188>>2],z_=_+116|0,H_=+_e[z_>>2],n_=+_e[_+212>>2]*(+_e[_+216>>2]+(x_*u_+(I_*(__-L_)+f_*(J_-Q_))-o2*M_)+ +_e[_+220>>2]*H_),A_=-n_,_e[z_>>2]=H_-n_,I_=I_*A_,f_=f_*A_,L_=L_-w_*I_,Q_=Q_-w_*f_,M_=o2-V_*M_*A_,I_=__+g_*I_,f_=J_+g_*f_,A_=x_+c_*u_*A_,z_=_+112|0,u_=+_e[z_>>2],x_=+_e[_t>>2]*+_e[_+120>>2],J_=u_-+_e[_+208>>2]*(A_-M_-+_e[_+124>>2]),__=-x_,x_=J_<x_?J_:x_,x_=x_<__?__:x_,_e[z_>>2]=x_,u_=x_-u_,M_=M_-V_*u_,u_=A_+c_*u_,A_=+_e[_+180>>2],x_=+_e[_+184>>2],__=+_e[_+200>>2],J_=+_e[_+196>>2],o2=+_e[_+204>>2]*((I_-L_)*A_+(f_-Q_)*x_+__*u_-J_*M_),n_=-o2,_t=_+108|0,_e[_t>>2]=+_e[_t>>2]-o2,A_=A_*n_,x_=x_*n_,L_=+(L_-w_*A_),w_=+(Q_-w_*x_),_t=(l[e_>>2]|0)+((l[R_>>2]|0)*12|0)|0,_e[_t>>2]=L_,_e[_t+4>>2]=w_,_t=l[e_>>2]|0,_e[_t+((l[R_>>2]|0)*12|0)+8>>2]=M_-V_*J_*n_,A_=+(I_+g_*A_),x_=+(f_+g_*x_),_t=_t+((l[_s>>2]|0)*12|0)|0,_e[_t>>2]=A_,_e[_t+4>>2]=x_,_e[(l[e_>>2]|0)+((l[_s>>2]|0)*12|0)+8>>2]=u_+c_*__*n_,ws=_r}function qtt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0;return _s=ws,_r=_+132|0,L_=l[_r>>2]|0,_t=_t+24|0,g2=l[_t>>2]|0,A2=g2+(L_*12|0)|0,__=+_e[A2>>2],u_=+_e[A2+4>>2],A_=+_e[g2+(L_*12|0)+8>>2],L_=_+136|0,A2=l[L_>>2]|0,C2=g2+(A2*12|0)|0,V_=+_e[C2>>2],w_=+_e[C2+4>>2],Q_=+_e[g2+(A2*12|0)+8>>2],M_=+F2(+A_),I_=+V2(+A_),c_=+F2(+Q_),e_=+V2(+Q_),R_=+_e[_+76>>2]-+_e[_+140>>2],x_=+_e[_+80>>2]-+_e[_+144>>2],g_=I_*R_-M_*x_,x_=M_*R_+I_*x_,R_=+_e[_+84>>2]-+_e[_+148>>2],z_=+_e[_+88>>2]-+_e[_+152>>2],o2=e_*R_-c_*z_,z_=c_*R_+e_*z_,e_=V_-__+o2-g_,R_=w_-u_+z_-x_,c_=+_e[_+100>>2],n_=+_e[_+104>>2],f_=I_*c_-M_*n_,n_=M_*c_+I_*n_,I_=f_*e_+n_*R_,c_=+_e[_+156>>2],M_=+_e[_+160>>2],J_=+_e[_+164>>2],b2=+_e[_+196>>2],H_=+_e[_+168>>2],n2=+_e[_+200>>2],n2=c_+M_+b2*J_*b2+n2*H_*n2,n2!=0?n2=-I_/n2:n2=0,w2=f_*n2,b2=n_*n2,__=+(__-w2*c_),u_=+(u_-b2*c_),C2=(l[_t>>2]|0)+((l[_r>>2]|0)*12|0)|0,_e[C2>>2]=__,_e[C2+4>>2]=u_,C2=l[_t>>2]|0,_e[C2+((l[_r>>2]|0)*12|0)+8>>2]=A_-(n_*(g_+e_)-f_*(x_+R_))*n2*J_,V_=+(V_+w2*M_),b2=+(w_+b2*M_),C2=C2+((l[L_>>2]|0)*12|0)|0,_e[C2>>2]=V_,_e[C2+4>>2]=b2,_e[(l[_t>>2]|0)+((l[L_>>2]|0)*12|0)+8>>2]=Q_+(o2*n_-z_*f_)*n2*H_,I_>0?(w2=I_,C2=w2<=.004999999888241291,ws=_s,C2|0):(w2=-I_,C2=w2<=.004999999888241291,ws=_s,C2|0)}function Ett(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+48>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+76>>2],e_=+_e[c_+20>>2],_s=+_e[_t+80>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function jtt(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0;c_=l[_t+52>>2]|0,__=+_e[c_+24>>2],n_=+_e[_t+84>>2],e_=+_e[c_+20>>2],_s=+_e[_t+88>>2],_r=n_*e_+__*_s+ +_e[c_+16>>2],_e[_>>2]=+_e[c_+12>>2]+(__*n_-e_*_s),_e[_+4>>2]=_r}function ztt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r;var _s=0,e_=0,n_=0;n_=+_e[_t+108>>2],e_=+_e[_t+116>>2],_s=(n_*+_e[_t+184>>2]+e_*+_e[_t+176>>2])*_r,_e[_>>2]=(n_*+_e[_t+180>>2]+e_*+_e[_t+172>>2])*_r,_e[_+4>>2]=_s}function Wtt(_,_t){return _=_|0,_t=+_t,+(+_e[_+112>>2]*_t)}function Ntt(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0;_t=ws,ws=ws+16|0,_r=_t,n_=l[(l[_+48>>2]|0)+8>>2]|0,_s=l[(l[_+52>>2]|0)+8>>2]|0,_a(17760,_r),l[_r>>2]=n_,_a(17784,_r),l[_r>>2]=_s,_a(17816,_r),l[_r>>2]=t_[_+61>>0],_a(17848,_r),e_=+_e[_+80>>2],l_[s_>>3]=+_e[_+76>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17888,_r),e_=+_e[_+88>>2],l_[s_>>3]=+_e[_+84>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17936,_r),e_=+_e[_+96>>2],l_[s_>>3]=+_e[_+92>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_s=_r+8|0,l_[s_>>3]=e_,l[_s>>2]=l[s_>>2],l[_s+4>>2]=l[s_+4>>2],_a(17984,_r),l[_r>>2]=t_[_+128>>0],_a(18024,_r),l_[s_>>3]=+_e[_+124>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18056,_r),l_[s_>>3]=+_e[_+120>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18088,_r),l_[s_>>3]=+_e[_+68>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18120,_r),l_[s_>>3]=+_e[_+72>>2],l[_r>>2]=l[s_>>2],l[_r+4>>2]=l[s_+4>>2],_a(18152,_r),l[_r>>2]=l[_+56>>2],_a(18184,_r),ws=_t}function Ott(_){_=_|0}function Utt(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function wC(_,_t){_=_|0,_t=_t|0;var _r=0;_r=ws,ws=ws+16|0,l[_r>>2]=_t,_t=l[D_>>2]|0,BA(_t|0,_|0,_r|0)|0,O6(10,_t|0)|0,A0()}function Xtt(){var _=0,_t=0,_r=0,_s=0,e_=0;_=ws,ws=ws+16|0,_t=_,_=_+12|0,vB(18448,44)|0&&wC(18456,_t),_r=gB(l[4610]|0)|0,_r||wC(18424,_t),_r=l[_r>>2]|0,_r||wC(18424,_t),e_=_r+48|0,_s=l[e_>>2]|0,e_=l[e_+4>>2]|0,(_s&-256|0)==1126902528&(e_|0)==1129074247||(l[_t>>2]=18272,wC(18384,_t)),(_s|0)==1126902529&(e_|0)==1129074247?_s=l[_r+44>>2]|0:_s=_r+80|0,l[_>>2]=_s,e_=l[_r>>2]|0,_r=l[e_+4>>2]|0,yI(18816,e_,_)|0?(e_=l[_>>2]|0,e_=VC[l[(l[e_>>2]|0)+8>>2]&63](e_)|0,l[_t>>2]=18272,l[_t+4>>2]=_r,l[_t+8>>2]=e_,wC(18288,_t)):(l[_t>>2]=18272,l[_t+4>>2]=_r,wC(18336,_t))}function Ytt(){var _=0;if(_=ws,ws=ws+16|0,EA(18440,124)|0)wC(18512,_);else{ws=_;return}}function Htt(_){_=_|0;var _t=0;if(_t=ws,ws=ws+16|0,d0(_),N6(l[4610]|0,0)|0)wC(18568,_t);else{ws=_t;return}}function Ztt(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function Ktt(_){_=_|0}function Qtt(_){return _=_|0,18648}function dI(_){_=_|0;var _t=0;_t=ws,ws=ws+16|0,_u[_&63](),wC(18696,_t)}function $tt(){var _=0,_t=0;_t=ws,ws=ws+16|0,vB(18448,44)|0&&wC(18456,_t),_t=gB(l[4610]|0)|0,(_t|0)!=0&&(_=l[_t>>2]|0,(_|0)!=0)&&(_t=_+48|0,(l[_t>>2]&-256|0)==1126902528?(l[_t+4>>2]|0)==1129074247:0)&&dI(l[_+12>>2]|0),_t=l[4566]|0,l[4566]=_t+0,dI(_t)}function tet(_){_=_|0}function eet(_){_=_|0}function oet(_){_=_|0}function iet(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function ret(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function net(_){_=_|0;var _t=0;_t=ws,d0(_),ws=_t}function yI(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0;if(_s=ws,ws=ws+64|0,e_=_s,(_|0)==(_t|0))return __=1,ws=_s,__|0;if(!_t||(_t=fI(_t,18944)|0,!_t))return __=0,ws=_s,__|0;__=e_+0|0,n_=__+56|0;do l[__>>2]=0,__=__+4|0;while((__|0)<(n_|0));return l[e_>>2]=_t,l[e_+8>>2]=_,l[e_+12>>2]=-1,l[e_+48>>2]=1,M1[l[(l[_t>>2]|0)+28>>2]&63](_t,e_,l[_r>>2]|0,1),(l[e_+24>>2]|0)!=1?(__=0,ws=_s,__|0):(l[_r>>2]=l[e_+16>>2],__=1,ws=_s,__|0)}function DG(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0;if(_s=ws,e_=_+16|0,n_=l[e_>>2]|0,!n_){l[e_>>2]=_t,l[_+24>>2]=_r,l[_+36>>2]=1,ws=_s;return}if((n_|0)!=(_t|0)){n_=_+36|0,l[n_>>2]=(l[n_>>2]|0)+1,l[_+24>>2]=2,_o[_+54>>0]=1,ws=_s;return}if(_t=_+24|0,(l[_t>>2]|0)!=2){ws=_s;return}l[_t>>2]=_r,ws=_s}function set(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;if(e_=ws,(l[_t+8>>2]|0)!=(_|0)){ws=e_;return}DG(_t,_r,_s),ws=e_}function _et(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0;if(e_=ws,(_|0)==(l[_t+8>>2]|0)){DG(_t,_r,_s),ws=e_;return}else{_=l[_+8>>2]|0,M1[l[(l[_>>2]|0)+28>>2]&63](_,_t,_r,_s),ws=e_;return}}function xI(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0;e_=ws,n_=l[_+4>>2]|0,__=n_>>8,n_&1&&(__=l[(l[_r>>2]|0)+__>>2]|0),_=l[_>>2]|0,M1[l[(l[_>>2]|0)+28>>2]&63](_,_t,_r+__|0,(n_&2|0)!=0?_s:2),ws=e_}function aet(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0,__=0;if(e_=ws,(_|0)==(l[_t+8>>2]|0)){DG(_t,_r,_s),ws=e_;return}if(__=l[_+12>>2]|0,n_=_+(__<<3)+16|0,xI(_+16|0,_t,_r,_s),(__|0)<=1){ws=e_;return}for(__=_t+54|0,_=_+24|0;;){if(xI(_,_t,_r,_s),_o[__>>0]|0){_s=7;break}if(_=_+8|0,_>>>0>=n_>>>0){_s=7;break}}if((_s|0)==7){ws=e_;return}}function fI(_,_t){_=_|0,_t=_t|0;var _r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0;_r=ws,ws=ws+64|0,u_=_r,_s=l[_>>2]|0,e_=_+(l[_s+-8>>2]|0)|0,_s=l[_s+-4>>2]|0,l[u_>>2]=_t,l[u_+4>>2]=_,l[u_+8>>2]=18888,g_=u_+12|0,x_=u_+16|0,A_=u_+20|0,n_=u_+24|0,_=u_+28|0,__=u_+32|0,c_=u_+40|0,I_=(_s|0)==(_t|0),_t=g_+0|0,f_=_t+40|0;do l[_t>>2]=0,_t=_t+4|0;while((_t|0)<(f_|0));_i[g_+40>>1]=0,_o[g_+42>>0]=0;do if(I_)l[u_+48>>2]=1,D4[l[(l[_s>>2]|0)+20>>2]&63](_s,u_,e_,e_,1,0),_=(l[n_>>2]|0)==1?e_:0;else{if(rD[l[(l[_s>>2]|0)+24>>2]&63](_s,u_,e_,1,0),_s=l[u_+36>>2]|0,_s){if((_s|0)!=1){_=0;break}}else{if((l[c_>>2]|0)!=1){_=0;break}if((l[_>>2]|0)!=1){_=0;break}_=(l[__>>2]|0)==1?l[A_>>2]|0:0;break}if((l[n_>>2]|0)!=1){if(l[c_>>2]|0){_=0;break}if((l[_>>2]|0)!=1){_=0;break}if((l[__>>2]|0)!=1){_=0;break}}_=l[x_>>2]|0}while(!1);return ws=_r,_|0}function GG(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0;var e_=0,n_=0;if(e_=ws,_o[_+53>>0]=1,(l[_+4>>2]|0)!=(_r|0)){ws=e_;return}if(_o[_+52>>0]=1,_r=_+16|0,n_=l[_r>>2]|0,!n_){if(l[_r>>2]=_t,l[_+24>>2]=_s,l[_+36>>2]=1,!((_s|0)==1&&(l[_+48>>2]|0)==1)){ws=e_;return}_o[_+54>>0]=1,ws=e_;return}if((n_|0)!=(_t|0)){n_=_+36|0,l[n_>>2]=(l[n_>>2]|0)+1,_o[_+54>>0]=1,ws=e_;return}if(_t=_+24|0,_r=l[_t>>2]|0,(_r|0)==2?l[_t>>2]=_s:_s=_r,!((_s|0)==1&&(l[_+48>>2]|0)==1)){ws=e_;return}_o[_+54>>0]=1,ws=e_}function pet(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0;if(n_=ws,(_|0)==(l[_t+8>>2]|0)){if((l[_t+4>>2]|0)!=(_r|0)){ws=n_;return}if(_r=_t+28|0,(l[_r>>2]|0)==1){ws=n_;return}l[_r>>2]=_s,ws=n_;return}if((_|0)!=(l[_t>>2]|0)){if(M_=l[_+12>>2]|0,x_=_+(M_<<3)+16|0,oD(_+16|0,_t,_r,_s,e_),A_=_+24|0,(M_|0)<=1){ws=n_;return}if(f_=l[_+8>>2]|0,(f_&2|0)==0&&(g_=_t+36|0,(l[g_>>2]|0)!=1)){if(!(f_&1)){for(I_=_t+54|0,f_=A_;;){if(_o[I_>>0]|0){f_=43;break}if((l[g_>>2]|0)==1){f_=43;break}if(oD(f_,_t,_r,_s,e_),f_=f_+8|0,f_>>>0>=x_>>>0){f_=43;break}}if((f_|0)==43){ws=n_;return}}for(f_=_t+24|0,I_=_t+54|0,R_=A_;;){if(_o[I_>>0]|0){f_=43;break}if((l[g_>>2]|0)==1&&(l[f_>>2]|0)==1){f_=43;break}if(oD(R_,_t,_r,_s,e_),R_=R_+8|0,R_>>>0>=x_>>>0){f_=43;break}}if((f_|0)==43){ws=n_;return}}for(g_=_t+54|0;;){if(_o[g_>>0]|0){f_=43;break}if(oD(A_,_t,_r,_s,e_),A_=A_+8|0,A_>>>0>=x_>>>0){f_=43;break}}if((f_|0)==43){ws=n_;return}}if((l[_t+16>>2]|0)!=(_r|0)&&(__=_t+20|0,(l[__>>2]|0)!=(_r|0))){if(l[_t+32>>2]=_s,x_=_t+44|0,(l[x_>>2]|0)==4){ws=n_;return}M_=l[_+12>>2]|0,V_=_+(M_<<3)+16|0;t:do if((M_|0)>0){g_=_t+52|0,A_=_t+53|0,R_=_t+54|0,I_=_+8|0,f_=_t+24|0,M_=0,J_=0,_=_+16|0;e:do{if(_o[g_>>0]=0,_o[A_>>0]=0,JG(_,_t,_r,_r,1,e_),_o[R_>>0]|0)break;do if(_o[A_>>0]|0){if(!(_o[g_>>0]|0))if(l[I_>>2]&1){J_=1;break}else{J_=1;break e}if((l[f_>>2]|0)==1){f_=25;break t}if(l[I_>>2]&2)M_=1,J_=1;else{f_=25;break t}}while(!1);_=_+8|0}while(_>>>0<V_>>>0);M_?(u_=J_,f_=24):(c_=J_,f_=21)}else c_=0,f_=21;while(!1);if((f_|0)==21&&(l[__>>2]=_r,M_=_t+40|0,l[M_>>2]=(l[M_>>2]|0)+1,(l[_t+36>>2]|0)==1&&(l[_t+24>>2]|0)==2?(_o[_t+54>>0]=1,c_?f_=25:f_=26):(u_=c_,f_=24)),(f_|0)==24&&(u_?f_=25:f_=26),(f_|0)==25){l[x_>>2]=3,ws=n_;return}else if((f_|0)==26){l[x_>>2]=4,ws=n_;return}}if((_s|0)!=1){ws=n_;return}l[_t+32>>2]=1,ws=n_}function JG(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0;var __=0,c_=0,u_=0;__=ws,c_=l[_+4>>2]|0,u_=c_>>8,c_&1&&(u_=l[(l[_s>>2]|0)+u_>>2]|0),_=l[_>>2]|0,D4[l[(l[_>>2]|0)+20>>2]&63](_,_t,_r,_s+u_|0,(c_&2|0)!=0?e_:2,n_),ws=__}function oD(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0;n_=ws,__=l[_+4>>2]|0,c_=__>>8,__&1&&(c_=l[(l[_r>>2]|0)+c_>>2]|0),_=l[_>>2]|0,rD[l[(l[_>>2]|0)+24>>2]&63](_,_t,_r+c_|0,(__&2|0)!=0?_s:2,e_),ws=n_}function cet(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0,__=0,c_=0,u_=0,x_=0;if(n_=ws,(_|0)==(l[_t+8>>2]|0)){if((l[_t+4>>2]|0)!=(_r|0)){ws=n_;return}if(__=_t+28|0,(l[__>>2]|0)==1){ws=n_;return}l[__>>2]=_s,ws=n_;return}if((_|0)!=(l[_t>>2]|0)){u_=l[_+8>>2]|0,rD[l[(l[u_>>2]|0)+24>>2]&63](u_,_t,_r,_s,e_),ws=n_;return}if((l[_t+16>>2]|0)!=(_r|0)&&(c_=_t+20|0,(l[c_>>2]|0)!=(_r|0))){if(l[_t+32>>2]=_s,_s=_t+44|0,(l[_s>>2]|0)==4){ws=n_;return}u_=_t+52|0,_o[u_>>0]=0,x_=_t+53|0,_o[x_>>0]=0,_=l[_+8>>2]|0,D4[l[(l[_>>2]|0)+20>>2]&63](_,_t,_r,_r,1,e_),_o[x_>>0]|0?_o[u_>>0]|0||(_=1,__=13):(_=0,__=13);do if((__|0)==13){if(l[c_>>2]=_r,x_=_t+40|0,l[x_>>2]=(l[x_>>2]|0)+1,(l[_t+36>>2]|0)==1&&(l[_t+24>>2]|0)==2){if(_o[_t+54>>0]=1,_)break}else __=16;if((__|0)==16&&_)break;l[_s>>2]=4,ws=n_;return}while(!1);l[_s>>2]=3,ws=n_;return}if((_s|0)!=1){ws=n_;return}l[_t+32>>2]=1,ws=n_}function met(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0;var n_=0;if(e_=ws,(l[_t+8>>2]|0)==(_|0)){if((l[_t+4>>2]|0)!=(_r|0)){ws=e_;return}if(_t=_t+28|0,(l[_t>>2]|0)==1){ws=e_;return}l[_t>>2]=_s,ws=e_;return}if((l[_t>>2]|0)!=(_|0)){ws=e_;return}if((l[_t+16>>2]|0)!=(_r|0)&&(n_=_t+20|0,(l[n_>>2]|0)!=(_r|0))){l[_t+32>>2]=_s,l[n_>>2]=_r,_=_t+40|0,l[_>>2]=(l[_>>2]|0)+1,(l[_t+36>>2]|0)==1&&(l[_t+24>>2]|0)==2&&(_o[_t+54>>0]=1),l[_t+44>>2]=4,ws=e_;return}if((_s|0)!=1){ws=e_;return}l[_t+32>>2]=1,ws=e_}function bet(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0;var __=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0;if(x_=ws,(_|0)==(l[_t+8>>2]|0)){GG(_t,_r,_s,e_),ws=x_;return}__=_t+52|0,u_=_o[__>>0]|0,g_=_t+53|0,A_=_o[g_>>0]|0,R_=l[_+12>>2]|0,f_=_+(R_<<3)+16|0,_o[__>>0]=0,_o[g_>>0]=0,JG(_+16|0,_t,_r,_s,e_,n_);t:do if((R_|0)>1){c_=_t+24|0,I_=_+8|0,R_=_t+54|0,_=_+24|0;do{if(_o[R_>>0]|0)break t;if(_o[__>>0]|0){if((l[c_>>2]|0)==1||!(l[I_>>2]&2))break t}else if((_o[g_>>0]|0)!=0&&(l[I_>>2]&1|0)==0)break t;_o[__>>0]=0,_o[g_>>0]=0,JG(_,_t,_r,_s,e_,n_),_=_+8|0}while(_>>>0<f_>>>0)}while(!1);_o[__>>0]=u_,_o[g_>>0]=A_,ws=x_}function uet(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0;var __=0;if(__=ws,(_|0)==(l[_t+8>>2]|0)){GG(_t,_r,_s,e_),ws=__;return}else{_=l[_+8>>2]|0,D4[l[(l[_>>2]|0)+20>>2]&63](_,_t,_r,_s,e_,n_),ws=__;return}}function het(_,_t,_r,_s,e_,n_){if(_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,n_=ws,(l[_t+8>>2]|0)!=(_|0)){ws=n_;return}GG(_t,_r,_s,e_),ws=n_}function det(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0;return _s=ws,ws=ws+16|0,e_=_s,l[e_>>2]=l[_r>>2],_=nC[l[(l[_>>2]|0)+16>>2]&63](_,_t,e_)|0,_t=_&1,_?(l[_r>>2]=l[e_>>2],ws=_s,_t|0):(ws=_s,_t|0)}function yet(_){_=_|0;var _t=0;return _t=ws,_?_=(fI(_,19056)|0)!=0:_=0,ws=_t,_&1|0}function a0(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0,o2=0,z_=0,H_=0,n2=0,b2=0,A2=0,g2=0,C2=0,w2=0,h2=0,r2=0;_t=ws;do if(_>>>0<245){if(_>>>0<11?_=16:_=_+11&-8,L_=_>>>3,I_=l[4826]|0,Q_=I_>>>L_,Q_&3){__=(Q_&1^1)+L_|0,n_=__<<1,_s=19344+(n_<<2)|0,n_=19344+(n_+2<<2)|0,c_=l[n_>>2]|0,_r=c_+8|0,e_=l[_r>>2]|0;do if((_s|0)!=(e_|0))if(e_>>>0<(l[4830]|0)>>>0&&A0(),u_=e_+12|0,(l[u_>>2]|0)==(c_|0)){l[u_>>2]=_s,l[n_>>2]=e_;break}else A0();else l[4826]=I_&~(1<<__);while(!1);return r2=__<<3,l[c_+4>>2]=r2|3,r2=c_+(r2|4)|0,l[r2>>2]=l[r2>>2]|1,r2=_r,ws=_t,r2|0}if(_>>>0>(l[4828]|0)>>>0){if(Q_){__=2<<L_,__=Q_<<L_&(__|0-__),__=(__&0-__)+-1|0,_r=__>>>12&16,__=__>>>_r,e_=__>>>5&8,__=__>>>e_,n_=__>>>2&4,__=__>>>n_,_s=__>>>1&2,__=__>>>_s,c_=__>>>1&1,c_=(e_|_r|n_|_s|c_)+(__>>>c_)|0,__=c_<<1,_s=19344+(__<<2)|0,__=19344+(__+2<<2)|0,n_=l[__>>2]|0,_r=n_+8|0,e_=l[_r>>2]|0;do if((_s|0)!=(e_|0))if(e_>>>0<(l[4830]|0)>>>0&&A0(),u_=e_+12|0,(l[u_>>2]|0)==(n_|0)){l[u_>>2]=_s,l[__>>2]=e_;break}else A0();else l[4826]=I_&~(1<<c_);while(!1);return __=c_<<3,e_=__-_|0,l[n_+4>>2]=_|3,_s=n_+_|0,l[n_+(_|4)>>2]=e_|1,l[n_+__>>2]=e_,__=l[4828]|0,__&&(n_=l[4831]|0,u_=__>>>3,c_=u_<<1,__=19344+(c_<<2)|0,x_=l[4826]|0,u_=1<<u_,x_&u_?(c_=19344+(c_+2<<2)|0,u_=l[c_>>2]|0,u_>>>0<(l[4830]|0)>>>0?A0():(g2=c_,A2=u_)):(l[4826]=x_|u_,g2=19344+(c_+2<<2)|0,A2=__),l[g2>>2]=n_,l[A2+12>>2]=n_,l[n_+8>>2]=A2,l[n_+12>>2]=__),l[4828]=e_,l[4831]=_s,r2=_r,ws=_t,r2|0}if(I_=l[4827]|0,I_){for(_s=(I_&0-I_)+-1|0,h2=_s>>>12&16,_s=_s>>>h2,w2=_s>>>5&8,_s=_s>>>w2,r2=_s>>>2&4,_s=_s>>>r2,e_=_s>>>1&2,_s=_s>>>e_,_r=_s>>>1&1,_r=l[19608+((w2|h2|r2|e_|_r)+(_s>>>_r)<<2)>>2]|0,_s=(l[_r+4>>2]&-8)-_|0,e_=_r;n_=l[e_+16>>2]|0,!(!n_&&(n_=l[e_+20>>2]|0,!n_));)e_=(l[n_+4>>2]&-8)-_|0,r2=e_>>>0<_s>>>0,_s=r2?e_:_s,e_=n_,_r=r2?n_:_r;__=l[4830]|0,_r>>>0<__>>>0&&A0(),e_=_r+_|0,_r>>>0>=e_>>>0&&A0(),n_=l[_r+24>>2]|0,u_=l[_r+12>>2]|0;do if((u_|0)==(_r|0)){if(u_=_r+20|0,c_=l[u_>>2]|0,!c_&&(u_=_r+16|0,c_=l[u_>>2]|0,!c_)){b2=0;break}for(;;){if(x_=c_+20|0,A_=l[x_>>2]|0,A_){c_=A_,u_=x_;continue}if(A_=c_+16|0,x_=l[A_>>2]|0,x_)c_=x_,u_=A_;else break}if(u_>>>0<__>>>0)A0();else{l[u_>>2]=0,b2=c_;break}}else if(c_=l[_r+8>>2]|0,c_>>>0<__>>>0&&A0(),__=c_+12|0,(l[__>>2]|0)!=(_r|0)&&A0(),x_=u_+8|0,(l[x_>>2]|0)==(_r|0)){l[__>>2]=u_,l[x_>>2]=c_,b2=u_;break}else A0();while(!1);do if(n_){if(__=l[_r+28>>2]|0,c_=19608+(__<<2)|0,(_r|0)==(l[c_>>2]|0)){if(l[c_>>2]=b2,!b2){l[4827]=l[4827]&~(1<<__);break}}else if(n_>>>0<(l[4830]|0)>>>0&&A0(),__=n_+16|0,(l[__>>2]|0)==(_r|0)?l[__>>2]=b2:l[n_+20>>2]=b2,!b2)break;b2>>>0<(l[4830]|0)>>>0&&A0(),l[b2+24>>2]=n_,n_=l[_r+16>>2]|0;do if(n_)if(n_>>>0<(l[4830]|0)>>>0)A0();else{l[b2+16>>2]=n_,l[n_+24>>2]=b2;break}while(!1);if(n_=l[_r+20>>2]|0,n_)if(n_>>>0<(l[4830]|0)>>>0)A0();else{l[b2+20>>2]=n_,l[n_+24>>2]=b2;break}}while(!1);return _s>>>0<16?(r2=_s+_|0,l[_r+4>>2]=r2|3,r2=_r+(r2+4)|0,l[r2>>2]=l[r2>>2]|1):(l[_r+4>>2]=_|3,l[_r+(_|4)>>2]=_s|1,l[_r+(_s+_)>>2]=_s,__=l[4828]|0,__&&(n_=l[4831]|0,x_=__>>>3,c_=x_<<1,__=19344+(c_<<2)|0,u_=l[4826]|0,x_=1<<x_,u_&x_?(c_=19344+(c_+2<<2)|0,u_=l[c_>>2]|0,u_>>>0<(l[4830]|0)>>>0?A0():(n2=c_,H_=u_)):(l[4826]=u_|x_,n2=19344+(c_+2<<2)|0,H_=__),l[n2>>2]=n_,l[H_+12>>2]=n_,l[n_+8>>2]=H_,l[n_+12>>2]=__),l[4828]=_s,l[4831]=e_),r2=_r+8|0,ws=_t,r2|0}}}else if(_>>>0<=4294967231){if(H_=_+11|0,_=H_&-8,b2=l[4827]|0,b2){n2=0-_|0,H_=H_>>>8,H_?_>>>0>16777215?A2=31:(h2=(H_+1048320|0)>>>16&8,r2=H_<<h2,w2=(r2+520192|0)>>>16&4,r2=r2<<w2,A2=(r2+245760|0)>>>16&2,A2=14-(w2|h2|A2)+(r2<<A2>>>15)|0,A2=_>>>(A2+7|0)&1|A2<<1):A2=0,g2=l[19608+(A2<<2)>>2]|0;t:do if(!g2)w2=0,H_=0;else for((A2|0)==31?H_=0:H_=25-(A2>>>1)|0,w2=0,C2=_<<H_,H_=0;;){if(r2=l[g2+4>>2]&-8,h2=r2-_|0,h2>>>0<n2>>>0)if((r2|0)==(_|0)){n2=h2,w2=g2,H_=g2;break t}else n2=h2,H_=g2;if(r2=l[g2+20>>2]|0,g2=l[g2+(C2>>>31<<2)+16>>2]|0,w2=(r2|0)==0|(r2|0)==(g2|0)?w2:r2,g2)C2=C2<<1;else break}while(!1);if((w2|0)==0&(H_|0)==0){if(r2=2<<A2,b2=b2&(r2|0-r2),!b2)break;r2=(b2&0-b2)+-1|0,g2=r2>>>12&16,r2=r2>>>g2,A2=r2>>>5&8,r2=r2>>>A2,C2=r2>>>2&4,r2=r2>>>C2,h2=r2>>>1&2,r2=r2>>>h2,w2=r2>>>1&1,w2=l[19608+((A2|g2|C2|h2|w2)+(r2>>>w2)<<2)>>2]|0}if(w2)for(;;){if(r2=(l[w2+4>>2]&-8)-_|0,b2=r2>>>0<n2>>>0,n2=b2?r2:n2,H_=b2?w2:H_,b2=l[w2+16>>2]|0,b2){w2=b2;continue}if(w2=l[w2+20>>2]|0,!w2)break}if((H_|0)!=0&&n2>>>0<((l[4828]|0)-_|0)>>>0){e_=l[4830]|0,H_>>>0<e_>>>0&&A0(),_r=H_+_|0,H_>>>0>=_r>>>0&&A0(),_s=l[H_+24>>2]|0,__=l[H_+12>>2]|0;do if((__|0)==(H_|0)){if(__=H_+20|0,n_=l[__>>2]|0,!n_&&(__=H_+16|0,n_=l[__>>2]|0,!n_)){o2=0;break}for(;;){if(c_=n_+20|0,u_=l[c_>>2]|0,u_){n_=u_,__=c_;continue}if(c_=n_+16|0,u_=l[c_>>2]|0,u_)n_=u_,__=c_;else break}if(__>>>0<e_>>>0)A0();else{l[__>>2]=0,o2=n_;break}}else if(n_=l[H_+8>>2]|0,n_>>>0<e_>>>0&&A0(),e_=n_+12|0,(l[e_>>2]|0)!=(H_|0)&&A0(),c_=__+8|0,(l[c_>>2]|0)==(H_|0)){l[e_>>2]=__,l[c_>>2]=n_,o2=__;break}else A0();while(!1);do if(_s){if(n_=l[H_+28>>2]|0,e_=19608+(n_<<2)|0,(H_|0)==(l[e_>>2]|0)){if(l[e_>>2]=o2,!o2){l[4827]=l[4827]&~(1<<n_);break}}else if(_s>>>0<(l[4830]|0)>>>0&&A0(),e_=_s+16|0,(l[e_>>2]|0)==(H_|0)?l[e_>>2]=o2:l[_s+20>>2]=o2,!o2)break;o2>>>0<(l[4830]|0)>>>0&&A0(),l[o2+24>>2]=_s,_s=l[H_+16>>2]|0;do if(_s)if(_s>>>0<(l[4830]|0)>>>0)A0();else{l[o2+16>>2]=_s,l[_s+24>>2]=o2;break}while(!1);if(_s=l[H_+20>>2]|0,_s)if(_s>>>0<(l[4830]|0)>>>0)A0();else{l[o2+20>>2]=_s,l[_s+24>>2]=o2;break}}while(!1);t:do if(n2>>>0>=16){if(l[H_+4>>2]=_|3,l[H_+(_|4)>>2]=n2|1,l[H_+(n2+_)>>2]=n2,e_=n2>>>3,n2>>>0<256){__=e_<<1,_s=19344+(__<<2)|0,n_=l[4826]|0,e_=1<<e_;do if(!(n_&e_))l[4826]=n_|e_,Q_=19344+(__+2<<2)|0,L_=_s;else{if(e_=19344+(__+2<<2)|0,n_=l[e_>>2]|0,n_>>>0>=(l[4830]|0)>>>0){Q_=e_,L_=n_;break}A0()}while(!1);l[Q_>>2]=_r,l[L_+12>>2]=_r,l[H_+(_+8)>>2]=L_,l[H_+(_+12)>>2]=_s;break}if(_s=n2>>>8,_s?n2>>>0>16777215?_s=31:(h2=(_s+1048320|0)>>>16&8,r2=_s<<h2,w2=(r2+520192|0)>>>16&4,r2=r2<<w2,_s=(r2+245760|0)>>>16&2,_s=14-(w2|h2|_s)+(r2<<_s>>>15)|0,_s=n2>>>(_s+7|0)&1|_s<<1):_s=0,e_=19608+(_s<<2)|0,l[H_+(_+28)>>2]=_s,l[H_+(_+20)>>2]=0,l[H_+(_+16)>>2]=0,__=l[4827]|0,n_=1<<_s,!(__&n_)){l[4827]=__|n_,l[e_>>2]=_r,l[H_+(_+24)>>2]=e_,l[H_+(_+12)>>2]=_r,l[H_+(_+8)>>2]=_r;break}e_=l[e_>>2]|0,(_s|0)==31?_s=0:_s=25-(_s>>>1)|0;e:do if((l[e_+4>>2]&-8|0)!=(n2|0)){for(_s=n2<<_s;n_=e_+(_s>>>31<<2)+16|0,__=l[n_>>2]|0,!!__;)if((l[__+4>>2]&-8|0)==(n2|0)){I_=__;break e}else _s=_s<<1,e_=__;if(n_>>>0<(l[4830]|0)>>>0)A0();else{l[n_>>2]=_r,l[H_+(_+24)>>2]=e_,l[H_+(_+12)>>2]=_r,l[H_+(_+8)>>2]=_r;break t}}else I_=e_;while(!1);if(e_=I_+8|0,_s=l[e_>>2]|0,n_=l[4830]|0,I_>>>0<n_>>>0&&A0(),_s>>>0<n_>>>0)A0();else{l[_s+12>>2]=_r,l[e_>>2]=_r,l[H_+(_+8)>>2]=_s,l[H_+(_+12)>>2]=I_,l[H_+(_+24)>>2]=0;break}}else r2=n2+_|0,l[H_+4>>2]=r2|3,r2=H_+(r2+4)|0,l[r2>>2]=l[r2>>2]|1;while(!1);return r2=H_+8|0,ws=_t,r2|0}}}else _=-1;while(!1);if(I_=l[4828]|0,_>>>0<=I_>>>0)return _s=I_-_|0,_r=l[4831]|0,_s>>>0>15?(l[4831]=_r+_,l[4828]=_s,l[_r+(_+4)>>2]=_s|1,l[_r+I_>>2]=_s,l[_r+4>>2]=_|3):(l[4828]=0,l[4831]=0,l[_r+4>>2]=I_|3,r2=_r+(I_+4)|0,l[r2>>2]=l[r2>>2]|1),r2=_r+8|0,ws=_t,r2|0;if(I_=l[4829]|0,_>>>0<I_>>>0)return h2=I_-_|0,l[4829]=h2,r2=l[4832]|0,l[4832]=r2+_,l[r2+(_+4)>>2]=h2|1,l[r2+4>>2]=_|3,r2=r2+8|0,ws=_t,r2|0;do if(!(l[4944]|0))if(I_=jA(30)|0,I_+-1&I_)A0();else{l[4946]=I_,l[4945]=I_,l[4947]=-1,l[4948]=-1,l[4949]=0,l[4937]=0,l[4944]=(U6(0)|0)&-16^1431655768;break}while(!1);if(Q_=_+48|0,I_=l[4946]|0,o2=_+47|0,H_=I_+o2|0,I_=0-I_|0,L_=H_&I_,L_>>>0<=_>>>0||(n2=l[4936]|0,(n2|0)!=0&&(h2=l[4934]|0,r2=h2+L_|0,r2>>>0<=h2>>>0|r2>>>0>n2>>>0)))return r2=0,ws=_t,r2|0;t:do if(l[4937]&4)n2=0,f_=199;else{b2=l[4832]|0;e:do if(b2){for(n2=19752;A2=l[n2>>2]|0,!(A2>>>0<=b2>>>0&&(z_=n2+4|0,(A2+(l[z_>>2]|0)|0)>>>0>b2>>>0));)if(n2=l[n2+8>>2]|0,!n2){f_=182;break e}n2?(b2=H_-(l[4829]|0)&I_,b2>>>0<2147483647?(I_=iS(b2|0)|0,n2=(I_|0)==((l[n2>>2]|0)+(l[z_>>2]|0)|0),z_=I_,H_=b2,I_=n2?I_:-1,n2=n2?b2:0,f_=191):n2=0):f_=182}else f_=182;while(!1);do if((f_|0)==182)if(I_=iS(0)|0,(I_|0)!=-1)if(H_=I_,n2=l[4945]|0,z_=n2+-1|0,z_&H_?n2=L_-H_+(z_+H_&0-n2)|0:n2=L_,z_=l[4934]|0,H_=z_+n2|0,n2>>>0>_>>>0&n2>>>0<2147483647){if(r2=l[4936]|0,(r2|0)!=0&&H_>>>0<=z_>>>0|H_>>>0>r2>>>0){n2=0;break}z_=iS(n2|0)|0,f_=(z_|0)==(I_|0),H_=n2,I_=f_?I_:-1,n2=f_?n2:0,f_=191}else n2=0;else n2=0;while(!1);e:do if((f_|0)==191){if(f_=0-H_|0,(I_|0)!=-1){R_=n2,f_=202;break t}do if((z_|0)!=-1&H_>>>0<2147483647&H_>>>0<Q_>>>0&&(w_=l[4946]|0,w_=o2-H_+w_&0-w_,w_>>>0<2147483647))if((iS(w_|0)|0)==-1){iS(f_|0)|0;break e}else{H_=w_+H_|0;break}while(!1);if((z_|0)!=-1){I_=z_,R_=H_,f_=202;break t}}while(!1);l[4937]=l[4937]|4,f_=199}while(!1);if((f_|0)==199&&L_>>>0<2147483647&&(M_=iS(L_|0)|0,V_=iS(0)|0,(V_|0)!=-1&(M_|0)!=-1&M_>>>0<V_>>>0)&&(J_=V_-M_|0,R_=J_>>>0>(_+40|0)>>>0,R_)&&(I_=M_,R_=R_?J_:n2,f_=202),(f_|0)==202){J_=(l[4934]|0)+R_|0,l[4934]=J_,J_>>>0>(l[4935]|0)>>>0&&(l[4935]=J_),J_=l[4832]|0;t:do if(J_){for(L_=19752;;){if(M_=l[L_>>2]|0,w_=L_+4|0,V_=l[w_>>2]|0,(I_|0)==(M_+V_|0)){f_=214;break}if(Q_=l[L_+8>>2]|0,Q_)L_=Q_;else break}if((f_|0)==214&&(l[L_+12>>2]&8|0)==0&&J_>>>0>=M_>>>0&J_>>>0<I_>>>0){l[w_>>2]=V_+R_,_r=(l[4829]|0)+R_|0,_s=J_+8|0,_s&7?_s=0-_s&7:_s=0,r2=_r-_s|0,l[4832]=J_+_s,l[4829]=r2,l[J_+(_s+4)>>2]=r2|1,l[J_+(_r+4)>>2]=40,l[4833]=l[4948];break}for(I_>>>0<(l[4830]|0)>>>0&&(l[4830]=I_),M_=I_+R_|0,V_=19752;;){if((l[V_>>2]|0)==(M_|0)){f_=224;break}if(w_=l[V_+8>>2]|0,w_)V_=w_;else break}if((f_|0)==224&&(l[V_+12>>2]&8|0)==0){l[V_>>2]=I_,__=V_+4|0,l[__>>2]=(l[__>>2]|0)+R_,__=I_+8|0,__&7?__=0-__&7:__=0,c_=I_+(R_+8)|0,c_&7?g_=0-c_&7:g_=0,f_=I_+(g_+R_)|0,c_=__+_|0,u_=I_+c_|0,A_=f_-(I_+__)-_|0,l[I_+(__+4)>>2]=_|3;e:do if((f_|0)!=(l[4832]|0)){if((f_|0)==(l[4831]|0)){r2=(l[4828]|0)+A_|0,l[4828]=r2,l[4831]=u_,l[I_+(c_+4)>>2]=r2|1,l[I_+(r2+c_)>>2]=r2;break}if(J_=R_+4|0,M_=l[I_+(J_+g_)>>2]|0,(M_&3|0)==1){_=M_&-8,V_=M_>>>3;o:do if(M_>>>0>=256){x_=l[I_+((g_|24)+R_)>>2]|0,w_=l[I_+(R_+12+g_)>>2]|0;do if((w_|0)==(f_|0)){if(w_=g_|16,M_=I_+(J_+w_)|0,V_=l[M_>>2]|0,!V_&&(M_=I_+(w_+R_)|0,V_=l[M_>>2]|0,!V_)){n_=0;break}for(;;){if(w_=V_+20|0,L_=l[w_>>2]|0,L_){V_=L_,M_=w_;continue}if(w_=V_+16|0,L_=l[w_>>2]|0,L_)V_=L_,M_=w_;else break}if(M_>>>0<(l[4830]|0)>>>0)A0();else{l[M_>>2]=0,n_=V_;break}}else if(M_=l[I_+((g_|8)+R_)>>2]|0,M_>>>0<(l[4830]|0)>>>0&&A0(),L_=M_+12|0,(l[L_>>2]|0)!=(f_|0)&&A0(),V_=w_+8|0,(l[V_>>2]|0)==(f_|0)){l[L_>>2]=w_,l[V_>>2]=M_,n_=w_;break}else A0();while(!1);if(!x_)break;M_=l[I_+(R_+28+g_)>>2]|0,V_=19608+(M_<<2)|0;do if((f_|0)!=(l[V_>>2]|0)){if(x_>>>0<(l[4830]|0)>>>0&&A0(),V_=x_+16|0,(l[V_>>2]|0)==(f_|0)?l[V_>>2]=n_:l[x_+20>>2]=n_,!n_)break o}else{if(l[V_>>2]=n_,n_)break;l[4827]=l[4827]&~(1<<M_);break o}while(!1);n_>>>0<(l[4830]|0)>>>0&&A0(),l[n_+24>>2]=x_,x_=g_|16,f_=l[I_+(x_+R_)>>2]|0;do if(f_)if(f_>>>0<(l[4830]|0)>>>0)A0();else{l[n_+16>>2]=f_,l[f_+24>>2]=n_;break}while(!1);if(x_=l[I_+(J_+x_)>>2]|0,!x_)break;if(x_>>>0<(l[4830]|0)>>>0)A0();else{l[n_+20>>2]=x_,l[x_+24>>2]=n_;break}}else{J_=l[I_+((g_|8)+R_)>>2]|0,n_=l[I_+(R_+12+g_)>>2]|0,M_=19344+(V_<<1<<2)|0;do if((J_|0)!=(M_|0)){if(J_>>>0<(l[4830]|0)>>>0&&A0(),(l[J_+12>>2]|0)==(f_|0))break;A0()}while(!1);if((n_|0)==(J_|0)){l[4826]=l[4826]&~(1<<V_);break}do if((n_|0)==(M_|0))x_=n_+8|0;else{if(n_>>>0<(l[4830]|0)>>>0&&A0(),V_=n_+8|0,(l[V_>>2]|0)==(f_|0)){x_=V_;break}A0()}while(!1);l[J_+12>>2]=n_,l[x_>>2]=J_}while(!1);f_=I_+((_|g_)+R_)|0,A_=_+A_|0}if(n_=f_+4|0,l[n_>>2]=l[n_>>2]&-2,l[I_+(c_+4)>>2]=A_|1,l[I_+(A_+c_)>>2]=A_,n_=A_>>>3,A_>>>0<256){A_=n_<<1,_r=19344+(A_<<2)|0,x_=l[4826]|0,n_=1<<n_;do if(!(x_&n_))l[4826]=x_|n_,e_=19344+(A_+2<<2)|0,_s=_r;else{if(x_=19344+(A_+2<<2)|0,n_=l[x_>>2]|0,n_>>>0>=(l[4830]|0)>>>0){e_=x_,_s=n_;break}A0()}while(!1);l[e_>>2]=u_,l[_s+12>>2]=u_,l[I_+(c_+8)>>2]=_s,l[I_+(c_+12)>>2]=_r;break}_s=A_>>>8;do if(!_s)_s=0;else{if(A_>>>0>16777215){_s=31;break}h2=(_s+1048320|0)>>>16&8,r2=_s<<h2,w2=(r2+520192|0)>>>16&4,r2=r2<<w2,_s=(r2+245760|0)>>>16&2,_s=14-(w2|h2|_s)+(r2<<_s>>>15)|0,_s=A_>>>(_s+7|0)&1|_s<<1}while(!1);if(x_=19608+(_s<<2)|0,l[I_+(c_+28)>>2]=_s,l[I_+(c_+20)>>2]=0,l[I_+(c_+16)>>2]=0,e_=l[4827]|0,n_=1<<_s,!(e_&n_)){l[4827]=e_|n_,l[x_>>2]=u_,l[I_+(c_+24)>>2]=x_,l[I_+(c_+12)>>2]=u_,l[I_+(c_+8)>>2]=u_;break}x_=l[x_>>2]|0,(_s|0)==31?_s=0:_s=25-(_s>>>1)|0;o:do if((l[x_+4>>2]&-8|0)!=(A_|0)){for(_s=A_<<_s;n_=x_+(_s>>>31<<2)+16|0,e_=l[n_>>2]|0,!!e_;)if((l[e_+4>>2]&-8|0)==(A_|0)){_r=e_;break o}else _s=_s<<1,x_=e_;if(n_>>>0<(l[4830]|0)>>>0)A0();else{l[n_>>2]=u_,l[I_+(c_+24)>>2]=x_,l[I_+(c_+12)>>2]=u_,l[I_+(c_+8)>>2]=u_;break e}}else _r=x_;while(!1);if(e_=_r+8|0,_s=l[e_>>2]|0,n_=l[4830]|0,_r>>>0<n_>>>0&&A0(),_s>>>0<n_>>>0)A0();else{l[_s+12>>2]=u_,l[e_>>2]=u_,l[I_+(c_+8)>>2]=_s,l[I_+(c_+12)>>2]=_r,l[I_+(c_+24)>>2]=0;break}}else r2=(l[4829]|0)+A_|0,l[4829]=r2,l[4832]=u_,l[I_+(c_+4)>>2]=r2|1;while(!1);return r2=I_+(__|8)|0,ws=_t,r2|0}for(_s=19752;_r=l[_s>>2]|0,!(_r>>>0<=J_>>>0&&(g_=l[_s+4>>2]|0,A_=_r+g_|0,A_>>>0>J_>>>0));)_s=l[_s+8>>2]|0;if(_s=_r+(g_+-39)|0,_s&7?_s=0-_s&7:_s=0,_r=_r+(g_+-47+_s)|0,_r=_r>>>0<(J_+16|0)>>>0?J_:_r,_s=_r+8|0,e_=I_+8|0,e_&7?e_=0-e_&7:e_=0,r2=R_+-40-e_|0,l[4832]=I_+e_,l[4829]=r2,l[I_+(e_+4)>>2]=r2|1,l[I_+(R_+-36)>>2]=40,l[4833]=l[4948],l[_r+4>>2]=27,l[_s+0>>2]=l[4938],l[_s+4>>2]=l[4939],l[_s+8>>2]=l[4940],l[_s+12>>2]=l[4941],l[4938]=I_,l[4939]=R_,l[4941]=0,l[4940]=_s,_s=_r+28|0,l[_s>>2]=7,(_r+32|0)>>>0<A_>>>0)do r2=_s,_s=_s+4|0,l[_s>>2]=7;while((r2+8|0)>>>0<A_>>>0);if((_r|0)!=(J_|0)){if(_r=_r-J_|0,_s=J_+(_r+4)|0,l[_s>>2]=l[_s>>2]&-2,l[J_+4>>2]=_r|1,l[J_+_r>>2]=_r,_s=_r>>>3,_r>>>0<256){n_=_s<<1,_r=19344+(n_<<2)|0,e_=l[4826]|0,_s=1<<_s;do if(!(e_&_s))l[4826]=e_|_s,u_=19344+(n_+2<<2)|0,c_=_r;else{if(e_=19344+(n_+2<<2)|0,_s=l[e_>>2]|0,_s>>>0>=(l[4830]|0)>>>0){u_=e_,c_=_s;break}A0()}while(!1);l[u_>>2]=J_,l[c_+12>>2]=J_,l[J_+8>>2]=c_,l[J_+12>>2]=_r;break}if(_s=_r>>>8,_s?_r>>>0>16777215?_s=31:(h2=(_s+1048320|0)>>>16&8,r2=_s<<h2,w2=(r2+520192|0)>>>16&4,r2=r2<<w2,_s=(r2+245760|0)>>>16&2,_s=14-(w2|h2|_s)+(r2<<_s>>>15)|0,_s=_r>>>(_s+7|0)&1|_s<<1):_s=0,c_=19608+(_s<<2)|0,l[J_+28>>2]=_s,l[J_+20>>2]=0,l[J_+16>>2]=0,e_=l[4827]|0,n_=1<<_s,!(e_&n_)){l[4827]=e_|n_,l[c_>>2]=J_,l[J_+24>>2]=c_,l[J_+12>>2]=J_,l[J_+8>>2]=J_;break}e_=l[c_>>2]|0,(_s|0)==31?_s=0:_s=25-(_s>>>1)|0;e:do if((l[e_+4>>2]&-8|0)!=(_r|0)){for(_s=_r<<_s;c_=e_+(_s>>>31<<2)+16|0,n_=l[c_>>2]|0,!!n_;)if((l[n_+4>>2]&-8|0)==(_r|0)){__=n_;break e}else _s=_s<<1,e_=n_;if(c_>>>0<(l[4830]|0)>>>0)A0();else{l[c_>>2]=J_,l[J_+24>>2]=e_,l[J_+12>>2]=J_,l[J_+8>>2]=J_;break t}}else __=e_;while(!1);if(e_=__+8|0,_s=l[e_>>2]|0,_r=l[4830]|0,__>>>0<_r>>>0&&A0(),_s>>>0<_r>>>0)A0();else{l[_s+12>>2]=J_,l[e_>>2]=J_,l[J_+8>>2]=_s,l[J_+12>>2]=__,l[J_+24>>2]=0;break}}}else{r2=l[4830]|0,(r2|0)==0|I_>>>0<r2>>>0&&(l[4830]=I_),l[4938]=I_,l[4939]=R_,l[4941]=0,l[4835]=l[4944],l[4834]=-1,_r=0;do r2=_r<<1,h2=19344+(r2<<2)|0,l[19344+(r2+3<<2)>>2]=h2,l[19344+(r2+2<<2)>>2]=h2,_r=_r+1|0;while((_r|0)!=32);_r=I_+8|0,_r&7?_r=0-_r&7:_r=0,r2=R_+-40-_r|0,l[4832]=I_+_r,l[4829]=r2,l[I_+(_r+4)>>2]=r2|1,l[I_+(R_+-36)>>2]=40,l[4833]=l[4948]}while(!1);if(_r=l[4829]|0,_r>>>0>_>>>0)return h2=_r-_|0,l[4829]=h2,r2=l[4832]|0,l[4832]=r2+_,l[r2+(_+4)>>2]=h2|1,l[r2+4>>2]=_|3,r2=r2+8|0,ws=_t,r2|0}return l[(n4()|0)>>2]=12,r2=0,ws=_t,r2|0}function d0(_){_=_|0;var _t=0,_r=0,_s=0,e_=0,n_=0,__=0,c_=0,u_=0,x_=0,A_=0,g_=0,f_=0,I_=0,R_=0,J_=0,V_=0,M_=0,w_=0,L_=0,Q_=0;if(_t=ws,!_){ws=_t;return}R_=_+-8|0,J_=l[4830]|0,R_>>>0<J_>>>0&&A0(),f_=l[_+-4>>2]|0,g_=f_&3,(g_|0)==1&&A0(),c_=f_&-8,__=_+(c_+-8)|0;do if(f_&1)_r=R_,A_=c_;else{if(w_=l[R_>>2]|0,!g_){ws=_t;return}if(R_=-8-w_|0,f_=_+R_|0,g_=w_+c_|0,f_>>>0<J_>>>0&&A0(),(f_|0)==(l[4831]|0)){if(_r=_+(c_+-4)|0,(l[_r>>2]&3|0)!=3){_r=f_,A_=g_;break}l[4828]=g_,l[_r>>2]=l[_r>>2]&-2,l[_+(R_+4)>>2]=g_|1,l[__>>2]=g_,ws=_t;return}if(M_=w_>>>3,w_>>>0<256){if(_r=l[_+(R_+8)>>2]|0,A_=l[_+(R_+12)>>2]|0,I_=19344+(M_<<1<<2)|0,(_r|0)!=(I_|0)&&(_r>>>0<J_>>>0&&A0(),(l[_r+12>>2]|0)!=(f_|0)&&A0()),(A_|0)==(_r|0)){l[4826]=l[4826]&~(1<<M_),_r=f_,A_=g_;break}(A_|0)!=(I_|0)?(A_>>>0<J_>>>0&&A0(),I_=A_+8|0,(l[I_>>2]|0)==(f_|0)?V_=I_:A0()):V_=A_+8|0,l[_r+12>>2]=A_,l[V_>>2]=_r,_r=f_,A_=g_;break}V_=l[_+(R_+24)>>2]|0,M_=l[_+(R_+12)>>2]|0;do if((M_|0)==(f_|0)){if(w_=_+(R_+20)|0,M_=l[w_>>2]|0,!M_&&(w_=_+(R_+16)|0,M_=l[w_>>2]|0,!M_)){I_=0;break}for(;;){if(Q_=M_+20|0,L_=l[Q_>>2]|0,L_){M_=L_,w_=Q_;continue}if(L_=M_+16|0,Q_=l[L_>>2]|0,Q_)M_=Q_,w_=L_;else break}if(w_>>>0<J_>>>0)A0();else{l[w_>>2]=0,I_=M_;break}}else if(w_=l[_+(R_+8)>>2]|0,w_>>>0<J_>>>0&&A0(),J_=w_+12|0,(l[J_>>2]|0)!=(f_|0)&&A0(),L_=M_+8|0,(l[L_>>2]|0)==(f_|0)){l[J_>>2]=M_,l[L_>>2]=w_,I_=M_;break}else A0();while(!1);if(V_){if(M_=l[_+(R_+28)>>2]|0,J_=19608+(M_<<2)|0,(f_|0)==(l[J_>>2]|0)){if(l[J_>>2]=I_,!I_){l[4827]=l[4827]&~(1<<M_),_r=f_,A_=g_;break}}else if(V_>>>0<(l[4830]|0)>>>0&&A0(),J_=V_+16|0,(l[J_>>2]|0)==(f_|0)?l[J_>>2]=I_:l[V_+20>>2]=I_,!I_){_r=f_,A_=g_;break}I_>>>0<(l[4830]|0)>>>0&&A0(),l[I_+24>>2]=V_,J_=l[_+(R_+16)>>2]|0;do if(J_)if(J_>>>0<(l[4830]|0)>>>0)A0();else{l[I_+16>>2]=J_,l[J_+24>>2]=I_;break}while(!1);if(R_=l[_+(R_+20)>>2]|0,R_)if(R_>>>0<(l[4830]|0)>>>0)A0();else{l[I_+20>>2]=R_,l[R_+24>>2]=I_,_r=f_,A_=g_;break}else _r=f_,A_=g_}else _r=f_,A_=g_}while(!1);if(_r>>>0>=__>>>0&&A0(),g_=_+(c_+-4)|0,f_=l[g_>>2]|0,f_&1||A0(),f_&2)l[g_>>2]=f_&-2,l[_r+4>>2]=A_|1,l[_r+A_>>2]=A_;else{if((__|0)==(l[4832]|0)){if(Q_=(l[4829]|0)+A_|0,l[4829]=Q_,l[4832]=_r,l[_r+4>>2]=Q_|1,(_r|0)!=(l[4831]|0)){ws=_t;return}l[4831]=0,l[4828]=0,ws=_t;return}if((__|0)==(l[4831]|0)){Q_=(l[4828]|0)+A_|0,l[4828]=Q_,l[4831]=_r,l[_r+4>>2]=Q_|1,l[_r+Q_>>2]=Q_,ws=_t;return}A_=(f_&-8)+A_|0,g_=f_>>>3;do if(f_>>>0>=256){x_=l[_+(c_+16)>>2]|0,R_=l[_+(c_|4)>>2]|0;do if((R_|0)==(__|0)){if(f_=_+(c_+12)|0,g_=l[f_>>2]|0,!g_&&(f_=_+(c_+8)|0,g_=l[f_>>2]|0,!g_)){u_=0;break}for(;;){if(I_=g_+20|0,R_=l[I_>>2]|0,R_){g_=R_,f_=I_;continue}if(I_=g_+16|0,R_=l[I_>>2]|0,R_)g_=R_,f_=I_;else break}if(f_>>>0<(l[4830]|0)>>>0)A0();else{l[f_>>2]=0,u_=g_;break}}else if(f_=l[_+c_>>2]|0,f_>>>0<(l[4830]|0)>>>0&&A0(),I_=f_+12|0,(l[I_>>2]|0)!=(__|0)&&A0(),g_=R_+8|0,(l[g_>>2]|0)==(__|0)){l[I_>>2]=R_,l[g_>>2]=f_,u_=R_;break}else A0();while(!1);if(x_){if(g_=l[_+(c_+20)>>2]|0,f_=19608+(g_<<2)|0,(__|0)==(l[f_>>2]|0)){if(l[f_>>2]=u_,!u_){l[4827]=l[4827]&~(1<<g_);break}}else if(x_>>>0<(l[4830]|0)>>>0&&A0(),g_=x_+16|0,(l[g_>>2]|0)==(__|0)?l[g_>>2]=u_:l[x_+20>>2]=u_,!u_)break;u_>>>0<(l[4830]|0)>>>0&&A0(),l[u_+24>>2]=x_,__=l[_+(c_+8)>>2]|0;do if(__)if(__>>>0<(l[4830]|0)>>>0)A0();else{l[u_+16>>2]=__,l[__+24>>2]=u_;break}while(!1);if(__=l[_+(c_+12)>>2]|0,__)if(__>>>0<(l[4830]|0)>>>0)A0();else{l[u_+20>>2]=__,l[__+24>>2]=u_;break}}}else{if(u_=l[_+c_>>2]|0,_=l[_+(c_|4)>>2]|0,c_=19344+(g_<<1<<2)|0,(u_|0)!=(c_|0)&&(u_>>>0<(l[4830]|0)>>>0&&A0(),(l[u_+12>>2]|0)!=(__|0)&&A0()),(_|0)==(u_|0)){l[4826]=l[4826]&~(1<<g_);break}(_|0)!=(c_|0)?(_>>>0<(l[4830]|0)>>>0&&A0(),c_=_+8|0,(l[c_>>2]|0)==(__|0)?x_=c_:A0()):x_=_+8|0,l[u_+12>>2]=_,l[x_>>2]=u_}while(!1);if(l[_r+4>>2]=A_|1,l[_r+A_>>2]=A_,(_r|0)==(l[4831]|0)){l[4828]=A_,ws=_t;return}}if(__=A_>>>3,A_>>>0<256){_=__<<1,_s=19344+(_<<2)|0,c_=l[4826]|0,__=1<<__,c_&__?(__=19344+(_+2<<2)|0,_=l[__>>2]|0,_>>>0<(l[4830]|0)>>>0?A0():(e_=__,n_=_)):(l[4826]=c_|__,e_=19344+(_+2<<2)|0,n_=_s),l[e_>>2]=_r,l[n_+12>>2]=_r,l[_r+8>>2]=n_,l[_r+12>>2]=_s,ws=_t;return}e_=A_>>>8,e_?A_>>>0>16777215?e_=31:(L_=(e_+1048320|0)>>>16&8,Q_=e_<<L_,w_=(Q_+520192|0)>>>16&4,Q_=Q_<<w_,e_=(Q_+245760|0)>>>16&2,e_=14-(w_|L_|e_)+(Q_<<e_>>>15)|0,e_=A_>>>(e_+7|0)&1|e_<<1):e_=0,n_=19608+(e_<<2)|0,l[_r+28>>2]=e_,l[_r+20>>2]=0,l[_r+16>>2]=0,_=l[4827]|0,__=1<<e_;t:do if(_&__){n_=l[n_>>2]|0,(e_|0)==31?e_=0:e_=25-(e_>>>1)|0;e:do if((l[n_+4>>2]&-8|0)!=(A_|0)){for(e_=A_<<e_,_=n_;__=_+(e_>>>31<<2)+16|0,n_=l[__>>2]|0,!!n_;)if((l[n_+4>>2]&-8|0)==(A_|0)){_s=n_;break e}else e_=e_<<1,_=n_;if(__>>>0<(l[4830]|0)>>>0)A0();else{l[__>>2]=_r,l[_r+24>>2]=_,l[_r+12>>2]=_r,l[_r+8>>2]=_r;break t}}else _s=n_;while(!1);if(n_=_s+8|0,e_=l[n_>>2]|0,__=l[4830]|0,_s>>>0<__>>>0&&A0(),e_>>>0<__>>>0)A0();else{l[e_+12>>2]=_r,l[n_>>2]=_r,l[_r+8>>2]=e_,l[_r+12>>2]=_s,l[_r+24>>2]=0;break}}else l[4827]=_|__,l[n_>>2]=_r,l[_r+24>>2]=n_,l[_r+12>>2]=_r,l[_r+8>>2]=_r;while(!1);if(Q_=(l[4834]|0)+-1|0,l[4834]=Q_,!Q_)_r=19760;else{ws=_t;return}for(;_r=l[_r>>2]|0,_r;)_r=_r+8|0;l[4834]=-1,ws=_t}function xet(){}function iD(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0,e_=0,n_=0,__=0;if(_s=_+_r|0,(_r|0)>=20){if(_t=_t&255,__=_&3,n_=_t|_t<<8|_t<<16|_t<<24,e_=_s&-4,__)for(__=_+4-__|0;(_|0)<(__|0);)_o[_>>0]=_t,_=_+1|0;for(;(_|0)<(e_|0);)l[_>>2]=n_,_=_+4|0}for(;(_|0)<(_s|0);)_o[_>>0]=_t,_=_+1|0;return _-_r|0}function fet(_){_=_|0;var _t=0;for(_t=_;_o[_t>>0]|0;)_t=_t+1|0;return _t-_|0}function NA(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0;var _s=0;if((_r|0)>=4096)return YB(_|0,_t|0,_r|0)|0;if(_s=_|0,(_&3)==(_t&3)){for(;_&3;){if(!_r)return _s|0;_o[_>>0]=_o[_t>>0]|0,_=_+1|0,_t=_t+1|0,_r=_r-1|0}for(;(_r|0)>=4;)l[_>>2]=l[_t>>2],_=_+4|0,_t=_t+4|0,_r=_r-4|0}for(;(_r|0)>0;)_o[_>>0]=_o[_t>>0]|0,_=_+1|0,_t=_t+1|0,_r=_r-1|0;return _s|0}function get(_,_t,_r,_s){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,nC[_&63](_t|0,_r|0,_s|0)|0}function vet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(0,_|0,_t|0,_r|0)|0}function Aet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(1,_|0,_t|0,_r|0)|0}function Set(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(2,_|0,_t|0,_r|0)|0}function Cet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(3,_|0,_t|0,_r|0)|0}function Bet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(4,_|0,_t|0,_r|0)|0}function Pet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(5,_|0,_t|0,_r|0)|0}function wet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(6,_|0,_t|0,_r|0)|0}function Vet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(7,_|0,_t|0,_r|0)|0}function Met(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(8,_|0,_t|0,_r|0)|0}function Det(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(9,_|0,_t|0,_r|0)|0}function Get(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(10,_|0,_t|0,_r|0)|0}function Jet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(11,_|0,_t|0,_r|0)|0}function Iet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(12,_|0,_t|0,_r|0)|0}function Tet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(13,_|0,_t|0,_r|0)|0}function Fet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(14,_|0,_t|0,_r|0)|0}function Ret(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(15,_|0,_t|0,_r|0)|0}function Let(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(16,_|0,_t|0,_r|0)|0}function ket(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(17,_|0,_t|0,_r|0)|0}function qet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(18,_|0,_t|0,_r|0)|0}function Eet(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,T2(19,_|0,_t|0,_r|0)|0}function jet(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,rD[_&63](_t|0,_r|0,_s|0,e_|0,n_|0)}function zet(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(0,_|0,_t|0,_r|0,_s|0,e_|0)}function Wet(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(1,_|0,_t|0,_r|0,_s|0,e_|0)}function Net(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(2,_|0,_t|0,_r|0,_s|0,e_|0)}function Oet(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(3,_|0,_t|0,_r|0,_s|0,e_|0)}function Uet(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(4,_|0,_t|0,_r|0,_s|0,e_|0)}function Xet(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(5,_|0,_t|0,_r|0,_s|0,e_|0)}function Yet(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(6,_|0,_t|0,_r|0,_s|0,e_|0)}function Het(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(7,_|0,_t|0,_r|0,_s|0,e_|0)}function Zet(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(8,_|0,_t|0,_r|0,_s|0,e_|0)}function Ket(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(9,_|0,_t|0,_r|0,_s|0,e_|0)}function Qet(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(10,_|0,_t|0,_r|0,_s|0,e_|0)}function $et(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(11,_|0,_t|0,_r|0,_s|0,e_|0)}function tot(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(12,_|0,_t|0,_r|0,_s|0,e_|0)}function eot(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(13,_|0,_t|0,_r|0,_s|0,e_|0)}function oot(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(14,_|0,_t|0,_r|0,_s|0,e_|0)}function iot(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(15,_|0,_t|0,_r|0,_s|0,e_|0)}function rot(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(16,_|0,_t|0,_r|0,_s|0,e_|0)}function not(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(17,_|0,_t|0,_r|0,_s|0,e_|0)}function sot(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(18,_|0,_t|0,_r|0,_s|0,e_|0)}function _ot(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(19,_|0,_t|0,_r|0,_s|0,e_|0)}function aot(_,_t,_r){return _=_|0,_t=_t|0,_r=+_r,+VS[_&63](_t|0,+_r)}function pot(_,_t){return _=_|0,_t=+_t,+T2(0,_|0,+_t)}function cot(_,_t){return _=_|0,_t=+_t,+T2(1,_|0,+_t)}function lot(_,_t){return _=_|0,_t=+_t,+T2(2,_|0,+_t)}function mot(_,_t){return _=_|0,_t=+_t,+T2(3,_|0,+_t)}function bot(_,_t){return _=_|0,_t=+_t,+T2(4,_|0,+_t)}function uot(_,_t){return _=_|0,_t=+_t,+T2(5,_|0,+_t)}function hot(_,_t){return _=_|0,_t=+_t,+T2(6,_|0,+_t)}function dot(_,_t){return _=_|0,_t=+_t,+T2(7,_|0,+_t)}function yot(_,_t){return _=_|0,_t=+_t,+T2(8,_|0,+_t)}function xot(_,_t){return _=_|0,_t=+_t,+T2(9,_|0,+_t)}function fot(_,_t){return _=_|0,_t=+_t,+T2(10,_|0,+_t)}function got(_,_t){return _=_|0,_t=+_t,+T2(11,_|0,+_t)}function vot(_,_t){return _=_|0,_t=+_t,+T2(12,_|0,+_t)}function Aot(_,_t){return _=_|0,_t=+_t,+T2(13,_|0,+_t)}function Sot(_,_t){return _=_|0,_t=+_t,+T2(14,_|0,+_t)}function Cot(_,_t){return _=_|0,_t=+_t,+T2(15,_|0,+_t)}function Bot(_,_t){return _=_|0,_t=+_t,+T2(16,_|0,+_t)}function Pot(_,_t){return _=_|0,_t=+_t,+T2(17,_|0,+_t)}function wot(_,_t){return _=_|0,_t=+_t,+T2(18,_|0,+_t)}function Vot(_,_t){return _=_|0,_t=+_t,+T2(19,_|0,+_t)}function Mot(_,_t){_=_|0,_t=_t|0,_y[_&127](_t|0)}function Dot(_){_=_|0,T2(0,_|0)}function Got(_){_=_|0,T2(1,_|0)}function Jot(_){_=_|0,T2(2,_|0)}function Iot(_){_=_|0,T2(3,_|0)}function Tot(_){_=_|0,T2(4,_|0)}function Fot(_){_=_|0,T2(5,_|0)}function Rot(_){_=_|0,T2(6,_|0)}function Lot(_){_=_|0,T2(7,_|0)}function kot(_){_=_|0,T2(8,_|0)}function qot(_){_=_|0,T2(9,_|0)}function Eot(_){_=_|0,T2(10,_|0)}function jot(_){_=_|0,T2(11,_|0)}function zot(_){_=_|0,T2(12,_|0)}function Wot(_){_=_|0,T2(13,_|0)}function Not(_){_=_|0,T2(14,_|0)}function Oot(_){_=_|0,T2(15,_|0)}function Uot(_){_=_|0,T2(16,_|0)}function Xot(_){_=_|0,T2(17,_|0)}function Yot(_){_=_|0,T2(18,_|0)}function Hot(_){_=_|0,T2(19,_|0)}function Zot(_,_t,_r,_s,e_,n_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=+n_,+IG[_&63](_t|0,_r|0,_s|0,e_|0,+n_)}function Kot(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(0,_|0,_t|0,_r|0,_s|0,+e_)}function Qot(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(1,_|0,_t|0,_r|0,_s|0,+e_)}function $ot(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(2,_|0,_t|0,_r|0,_s|0,+e_)}function tit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(3,_|0,_t|0,_r|0,_s|0,+e_)}function eit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(4,_|0,_t|0,_r|0,_s|0,+e_)}function oit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(5,_|0,_t|0,_r|0,_s|0,+e_)}function iit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(6,_|0,_t|0,_r|0,_s|0,+e_)}function rit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(7,_|0,_t|0,_r|0,_s|0,+e_)}function nit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(8,_|0,_t|0,_r|0,_s|0,+e_)}function sit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(9,_|0,_t|0,_r|0,_s|0,+e_)}function _it(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(10,_|0,_t|0,_r|0,_s|0,+e_)}function ait(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(11,_|0,_t|0,_r|0,_s|0,+e_)}function pit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(12,_|0,_t|0,_r|0,_s|0,+e_)}function cit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(13,_|0,_t|0,_r|0,_s|0,+e_)}function lit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(14,_|0,_t|0,_r|0,_s|0,+e_)}function mit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(15,_|0,_t|0,_r|0,_s|0,+e_)}function bit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(16,_|0,_t|0,_r|0,_s|0,+e_)}function uit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(17,_|0,_t|0,_r|0,_s|0,+e_)}function hit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(18,_|0,_t|0,_r|0,_s|0,+e_)}function dit(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,+T2(19,_|0,_t|0,_r|0,_s|0,+e_)}function yit(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,vy[_&127](_t|0,_r|0)}function xit(_,_t){_=_|0,_t=_t|0,T2(0,_|0,_t|0)}function fit(_,_t){_=_|0,_t=_t|0,T2(1,_|0,_t|0)}function git(_,_t){_=_|0,_t=_t|0,T2(2,_|0,_t|0)}function vit(_,_t){_=_|0,_t=_t|0,T2(3,_|0,_t|0)}function Ait(_,_t){_=_|0,_t=_t|0,T2(4,_|0,_t|0)}function Sit(_,_t){_=_|0,_t=_t|0,T2(5,_|0,_t|0)}function Cit(_,_t){_=_|0,_t=_t|0,T2(6,_|0,_t|0)}function Bit(_,_t){_=_|0,_t=_t|0,T2(7,_|0,_t|0)}function Pit(_,_t){_=_|0,_t=_t|0,T2(8,_|0,_t|0)}function wit(_,_t){_=_|0,_t=_t|0,T2(9,_|0,_t|0)}function Vit(_,_t){_=_|0,_t=_t|0,T2(10,_|0,_t|0)}function Mit(_,_t){_=_|0,_t=_t|0,T2(11,_|0,_t|0)}function Dit(_,_t){_=_|0,_t=_t|0,T2(12,_|0,_t|0)}function Git(_,_t){_=_|0,_t=_t|0,T2(13,_|0,_t|0)}function Jit(_,_t){_=_|0,_t=_t|0,T2(14,_|0,_t|0)}function Iit(_,_t){_=_|0,_t=_t|0,T2(15,_|0,_t|0)}function Tit(_,_t){_=_|0,_t=_t|0,T2(16,_|0,_t|0)}function Fit(_,_t){_=_|0,_t=_t|0,T2(17,_|0,_t|0)}function Rit(_,_t){_=_|0,_t=_t|0,T2(18,_|0,_t|0)}function Lit(_,_t){_=_|0,_t=_t|0,T2(19,_|0,_t|0)}function kit(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=+_s,e_=e_|0,n_=n_|0,TG[_&63](_t|0,_r|0,+_s,e_|0,n_|0)}function qit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(0,_|0,_t|0,+_r,_s|0,e_|0)}function Eit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(1,_|0,_t|0,+_r,_s|0,e_|0)}function jit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(2,_|0,_t|0,+_r,_s|0,e_|0)}function zit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(3,_|0,_t|0,+_r,_s|0,e_|0)}function Wit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(4,_|0,_t|0,+_r,_s|0,e_|0)}function Nit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(5,_|0,_t|0,+_r,_s|0,e_|0)}function Oit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(6,_|0,_t|0,+_r,_s|0,e_|0)}function Uit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(7,_|0,_t|0,+_r,_s|0,e_|0)}function Xit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(8,_|0,_t|0,+_r,_s|0,e_|0)}function Yit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(9,_|0,_t|0,+_r,_s|0,e_|0)}function Hit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(10,_|0,_t|0,+_r,_s|0,e_|0)}function Zit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(11,_|0,_t|0,+_r,_s|0,e_|0)}function Kit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(12,_|0,_t|0,+_r,_s|0,e_|0)}function Qit(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(13,_|0,_t|0,+_r,_s|0,e_|0)}function $it(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(14,_|0,_t|0,+_r,_s|0,e_|0)}function trt(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(15,_|0,_t|0,+_r,_s|0,e_|0)}function ert(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(16,_|0,_t|0,+_r,_s|0,e_|0)}function ort(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(17,_|0,_t|0,+_r,_s|0,e_|0)}function irt(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(18,_|0,_t|0,+_r,_s|0,e_|0)}function rrt(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,T2(19,_|0,_t|0,+_r,_s|0,e_|0)}function nrt(_,_t){return _=_|0,_t=_t|0,VC[_&63](_t|0)|0}function srt(_){return _=_|0,T2(0,_|0)|0}function _rt(_){return _=_|0,T2(1,_|0)|0}function art(_){return _=_|0,T2(2,_|0)|0}function prt(_){return _=_|0,T2(3,_|0)|0}function crt(_){return _=_|0,T2(4,_|0)|0}function lrt(_){return _=_|0,T2(5,_|0)|0}function mrt(_){return _=_|0,T2(6,_|0)|0}function brt(_){return _=_|0,T2(7,_|0)|0}function urt(_){return _=_|0,T2(8,_|0)|0}function hrt(_){return _=_|0,T2(9,_|0)|0}function drt(_){return _=_|0,T2(10,_|0)|0}function yrt(_){return _=_|0,T2(11,_|0)|0}function xrt(_){return _=_|0,T2(12,_|0)|0}function frt(_){return _=_|0,T2(13,_|0)|0}function grt(_){return _=_|0,T2(14,_|0)|0}function vrt(_){return _=_|0,T2(15,_|0)|0}function Art(_){return _=_|0,T2(16,_|0)|0}function Srt(_){return _=_|0,T2(17,_|0)|0}function Crt(_){return _=_|0,T2(18,_|0)|0}function Brt(_){return _=_|0,T2(19,_|0)|0}function Prt(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=+_s,e_=e_|0,FG[_&63](_t|0,_r|0,+_s,e_|0)}function wrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(0,_|0,_t|0,+_r,_s|0)}function Vrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(1,_|0,_t|0,+_r,_s|0)}function Mrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(2,_|0,_t|0,+_r,_s|0)}function Drt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(3,_|0,_t|0,+_r,_s|0)}function Grt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(4,_|0,_t|0,+_r,_s|0)}function Jrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(5,_|0,_t|0,+_r,_s|0)}function Irt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(6,_|0,_t|0,+_r,_s|0)}function Trt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(7,_|0,_t|0,+_r,_s|0)}function Frt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(8,_|0,_t|0,+_r,_s|0)}function Rrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(9,_|0,_t|0,+_r,_s|0)}function Lrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(10,_|0,_t|0,+_r,_s|0)}function krt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(11,_|0,_t|0,+_r,_s|0)}function qrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(12,_|0,_t|0,+_r,_s|0)}function Ert(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(13,_|0,_t|0,+_r,_s|0)}function jrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(14,_|0,_t|0,+_r,_s|0)}function zrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(15,_|0,_t|0,+_r,_s|0)}function Wrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(16,_|0,_t|0,+_r,_s|0)}function Nrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(17,_|0,_t|0,+_r,_s|0)}function Ort(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(18,_|0,_t|0,+_r,_s|0)}function Urt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,T2(19,_|0,_t|0,+_r,_s|0)}function Xrt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,M4[_&63](_t|0,_r|0,_s|0)}function Yrt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(0,_|0,_t|0,_r|0)}function Hrt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(1,_|0,_t|0,_r|0)}function Zrt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(2,_|0,_t|0,_r|0)}function Krt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(3,_|0,_t|0,_r|0)}function Qrt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(4,_|0,_t|0,_r|0)}function $rt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(5,_|0,_t|0,_r|0)}function tnt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(6,_|0,_t|0,_r|0)}function ent(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(7,_|0,_t|0,_r|0)}function ont(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(8,_|0,_t|0,_r|0)}function int(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(9,_|0,_t|0,_r|0)}function rnt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(10,_|0,_t|0,_r|0)}function nnt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(11,_|0,_t|0,_r|0)}function snt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(12,_|0,_t|0,_r|0)}function _nt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(13,_|0,_t|0,_r|0)}function ant(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(14,_|0,_t|0,_r|0)}function pnt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(15,_|0,_t|0,_r|0)}function cnt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(16,_|0,_t|0,_r|0)}function lnt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(17,_|0,_t|0,_r|0)}function mnt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(18,_|0,_t|0,_r|0)}function bnt(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,T2(19,_|0,_t|0,_r|0)}function unt(_){_=_|0,_u[_&63]()}function hnt(){T2(0)}function dnt(){T2(1)}function ynt(){T2(2)}function xnt(){T2(3)}function fnt(){T2(4)}function gnt(){T2(5)}function vnt(){T2(6)}function Ant(){T2(7)}function Snt(){T2(8)}function Cnt(){T2(9)}function Bnt(){T2(10)}function Pnt(){T2(11)}function wnt(){T2(12)}function Vnt(){T2(13)}function Mnt(){T2(14)}function Dnt(){T2(15)}function Gnt(){T2(16)}function Jnt(){T2(17)}function Int(){T2(18)}function Tnt(){T2(19)}function Fnt(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=+_s,xA[_&63](_t|0,_r|0,+_s)}function Rnt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(0,_|0,_t|0,+_r)}function Lnt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(1,_|0,_t|0,+_r)}function knt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(2,_|0,_t|0,+_r)}function qnt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(3,_|0,_t|0,+_r)}function Ent(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(4,_|0,_t|0,+_r)}function jnt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(5,_|0,_t|0,+_r)}function znt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(6,_|0,_t|0,+_r)}function Wnt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(7,_|0,_t|0,+_r)}function Nnt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(8,_|0,_t|0,+_r)}function Ont(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(9,_|0,_t|0,+_r)}function Unt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(10,_|0,_t|0,+_r)}function Xnt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(11,_|0,_t|0,+_r)}function Ynt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(12,_|0,_t|0,+_r)}function Hnt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(13,_|0,_t|0,+_r)}function Znt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(14,_|0,_t|0,+_r)}function Knt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(15,_|0,_t|0,+_r)}function Qnt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(16,_|0,_t|0,+_r)}function $nt(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(17,_|0,_t|0,+_r)}function tst(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(18,_|0,_t|0,+_r)}function est(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,T2(19,_|0,_t|0,+_r)}function ost(_,_t,_r,_s,e_,n_,__){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,__=__|0,D4[_&63](_t|0,_r|0,_s|0,e_|0,n_|0,__|0)}function ist(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(0,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function rst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(1,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function nst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(2,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function sst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(3,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function _st(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(4,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function ast(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(5,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function pst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(6,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function cst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(7,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function lst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(8,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function mst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(9,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function bst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(10,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function ust(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(11,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function hst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(12,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function dst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(13,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function yst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(14,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function xst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(15,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function fst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(16,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function gst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(17,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function vst(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(18,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function Ast(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,T2(19,_|0,_t|0,_r|0,_s|0,e_|0,n_|0)}function Sst(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,s1[_&63](_t|0,_r|0)|0}function Cst(_,_t){return _=_|0,_t=_t|0,T2(0,_|0,_t|0)|0}function Bst(_,_t){return _=_|0,_t=_t|0,T2(1,_|0,_t|0)|0}function Pst(_,_t){return _=_|0,_t=_t|0,T2(2,_|0,_t|0)|0}function wst(_,_t){return _=_|0,_t=_t|0,T2(3,_|0,_t|0)|0}function Vst(_,_t){return _=_|0,_t=_t|0,T2(4,_|0,_t|0)|0}function Mst(_,_t){return _=_|0,_t=_t|0,T2(5,_|0,_t|0)|0}function Dst(_,_t){return _=_|0,_t=_t|0,T2(6,_|0,_t|0)|0}function Gst(_,_t){return _=_|0,_t=_t|0,T2(7,_|0,_t|0)|0}function Jst(_,_t){return _=_|0,_t=_t|0,T2(8,_|0,_t|0)|0}function Ist(_,_t){return _=_|0,_t=_t|0,T2(9,_|0,_t|0)|0}function Tst(_,_t){return _=_|0,_t=_t|0,T2(10,_|0,_t|0)|0}function Fst(_,_t){return _=_|0,_t=_t|0,T2(11,_|0,_t|0)|0}function Rst(_,_t){return _=_|0,_t=_t|0,T2(12,_|0,_t|0)|0}function Lst(_,_t){return _=_|0,_t=_t|0,T2(13,_|0,_t|0)|0}function kst(_,_t){return _=_|0,_t=_t|0,T2(14,_|0,_t|0)|0}function qst(_,_t){return _=_|0,_t=_t|0,T2(15,_|0,_t|0)|0}function Est(_,_t){return _=_|0,_t=_t|0,T2(16,_|0,_t|0)|0}function jst(_,_t){return _=_|0,_t=_t|0,T2(17,_|0,_t|0)|0}function zst(_,_t){return _=_|0,_t=_t|0,T2(18,_|0,_t|0)|0}function Wst(_,_t){return _=_|0,_t=_t|0,T2(19,_|0,_t|0)|0}function Nst(_,_t,_r,_s,e_,n_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,MC[_&63](_t|0,_r|0,_s|0,e_|0,n_|0)|0}function Ost(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(0,_|0,_t|0,_r|0,_s|0,e_|0)|0}function Ust(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(1,_|0,_t|0,_r|0,_s|0,e_|0)|0}function Xst(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(2,_|0,_t|0,_r|0,_s|0,e_|0)|0}function Yst(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(3,_|0,_t|0,_r|0,_s|0,e_|0)|0}function Hst(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(4,_|0,_t|0,_r|0,_s|0,e_|0)|0}function Zst(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(5,_|0,_t|0,_r|0,_s|0,e_|0)|0}function Kst(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(6,_|0,_t|0,_r|0,_s|0,e_|0)|0}function Qst(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(7,_|0,_t|0,_r|0,_s|0,e_|0)|0}function $st(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(8,_|0,_t|0,_r|0,_s|0,e_|0)|0}function t_t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(9,_|0,_t|0,_r|0,_s|0,e_|0)|0}function e_t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(10,_|0,_t|0,_r|0,_s|0,e_|0)|0}function o_t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(11,_|0,_t|0,_r|0,_s|0,e_|0)|0}function i_t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(12,_|0,_t|0,_r|0,_s|0,e_|0)|0}function r_t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(13,_|0,_t|0,_r|0,_s|0,e_|0)|0}function n_t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(14,_|0,_t|0,_r|0,_s|0,e_|0)|0}function s_t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(15,_|0,_t|0,_r|0,_s|0,e_|0)|0}function __t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(16,_|0,_t|0,_r|0,_s|0,e_|0)|0}function a_t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(17,_|0,_t|0,_r|0,_s|0,e_|0)|0}function p_t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(18,_|0,_t|0,_r|0,_s|0,e_|0)|0}function c_t(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,T2(19,_|0,_t|0,_r|0,_s|0,e_|0)|0}function l_t(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,M1[_&63](_t|0,_r|0,_s|0,e_|0)}function m_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(0,_|0,_t|0,_r|0,_s|0)}function b_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(1,_|0,_t|0,_r|0,_s|0)}function u_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(2,_|0,_t|0,_r|0,_s|0)}function h_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(3,_|0,_t|0,_r|0,_s|0)}function d_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(4,_|0,_t|0,_r|0,_s|0)}function y_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(5,_|0,_t|0,_r|0,_s|0)}function x_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(6,_|0,_t|0,_r|0,_s|0)}function f_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(7,_|0,_t|0,_r|0,_s|0)}function g_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(8,_|0,_t|0,_r|0,_s|0)}function v_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(9,_|0,_t|0,_r|0,_s|0)}function A_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(10,_|0,_t|0,_r|0,_s|0)}function S_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(11,_|0,_t|0,_r|0,_s|0)}function C_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(12,_|0,_t|0,_r|0,_s|0)}function B_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(13,_|0,_t|0,_r|0,_s|0)}function P_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(14,_|0,_t|0,_r|0,_s|0)}function w_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(15,_|0,_t|0,_r|0,_s|0)}function V_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(16,_|0,_t|0,_r|0,_s|0)}function M_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(17,_|0,_t|0,_r|0,_s|0)}function D_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(18,_|0,_t|0,_r|0,_s|0)}function G_t(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,T2(19,_|0,_t|0,_r|0,_s|0)}function jy(_,_t,_r){return _=_|0,_t=_t|0,_r=_r|0,My(0),0}function Dy(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,My(1)}function jx(_,_t){return _=_|0,_t=+_t,My(2),0}function q1(_){_=_|0,My(3)}function xy(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=+e_,My(4),0}function py(_,_t){_=_|0,_t=_t|0,My(5)}function fy(_,_t,_r,_s,e_){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,e_=e_|0,My(6)}function Ry(_){return _=_|0,My(7),0}function gy(_,_t,_r,_s){_=_|0,_t=_t|0,_r=+_r,_s=_s|0,My(8)}function Iy(_,_t,_r){_=_|0,_t=_t|0,_r=_r|0,My(9)}function Gy(){My(10)}function J_t(){X6()}function v1(_,_t,_r){_=_|0,_t=_t|0,_r=+_r,My(11)}function Jy(_,_t,_r,_s,e_,n_){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,n_=n_|0,My(12)}function w1(_,_t){return _=_|0,_t=_t|0,My(13),0}function _f(_,_t,_r,_s,e_){return _=_|0,_t=_t|0,_r=_r|0,_s=_s|0,e_=e_|0,My(14),0}function V1(_,_t,_r,_s){_=_|0,_t=_t|0,_r=_r|0,_s=_s|0,My(15)}var nC=[jy,jy,vet,jy,Aet,jy,Set,jy,Cet,jy,Bet,jy,Pet,jy,wet,jy,Vet,jy,Met,jy,Det,jy,Get,jy,Jet,jy,Iet,jy,Tet,jy,Fet,jy,Ret,jy,Let,jy,ket,jy,qet,jy,Eet,jy,OQ,G$,L$,W$,Y$,LX,yI,jy,jy,jy,jy,jy,jy,jy,jy,jy,jy,jy,jy,jy,jy,jy],rD=[Dy,Dy,zet,Dy,Wet,Dy,Net,Dy,Oet,Dy,Uet,Dy,Xet,Dy,Yet,Dy,Het,Dy,Zet,Dy,Ket,Dy,Qet,Dy,$et,Dy,tot,Dy,eot,Dy,oot,Dy,iot,Dy,rot,Dy,not,Dy,sot,Dy,_ot,Dy,met,cet,pet,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy,Dy],VS=[jx,jx,pot,jx,cot,jx,lot,jx,mot,jx,bot,jx,uot,jx,hot,jx,dot,jx,yot,jx,xot,jx,fot,jx,got,jx,vot,jx,Aot,jx,Sot,jx,Cot,jx,Bot,jx,Pot,jx,wot,jx,Vot,jx,A$,BY,FY,OY,rH,hH,BH,btt,Stt,Itt,Wtt,jx,jx,jx,jx,jx,jx,jx,jx,jx,jx,jx],_y=[q1,q1,Dot,q1,Got,q1,Jot,q1,Iot,q1,Tot,q1,Fot,q1,Rot,q1,Lot,q1,kot,q1,qot,q1,Eot,q1,jot,q1,zot,q1,Wot,q1,Not,q1,Oot,q1,Uot,q1,Xot,q1,Yot,q1,Hot,q1,FQ,RQ,WQ,NQ,QQ,$Q,r$,n$,_$,a$,c$,l$,S$,B$,P$,V$,w$,ZQ,KQ,UQ,XQ,YQ,HQ,$$,ott,Q$,_tt,jX,zX,UX,XX,KX,QX,oY,iY,_Y,aY,mY,bY,yY,xY,PY,wY,VY,RY,LY,kY,UY,XY,YY,HY,ZY,KY,sH,_H,aH,dH,yH,xH,PH,VH,MH,utt,htt,dtt,Ctt,Btt,Ptt,Ttt,Ftt,Rtt,Ntt,Ott,Utt,Ktt,Ztt,tet,iet,eet,oet,ret,net,Htt,q1,q1,q1],IG=[xy,xy,Kot,xy,Qot,xy,$ot,xy,tit,xy,eit,xy,oit,xy,iit,xy,rit,xy,nit,xy,sit,xy,_it,xy,ait,xy,pit,xy,cit,xy,lit,xy,mit,xy,bit,xy,uit,xy,hit,xy,dit,xy,s$,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy,xy],vy=[py,py,xit,py,fit,py,git,py,vit,py,Ait,py,Sit,py,Cit,py,Bit,py,Pit,py,wit,py,Vit,py,Mit,py,Dit,py,Git,py,Jit,py,Iit,py,Tit,py,Fit,py,Rit,py,Lit,py,zQ,t$,e$,m$,b$,u$,h$,f$,g$,C$,d$,y$,itt,rtt,AY,SY,fY,gY,JY,IY,MY,DY,zY,WY,qY,EY,eH,oH,nH,QY,$Y,mH,bH,pH,cH,AH,SH,wH,fH,gH,ctt,ltt,DH,att,gtt,vtt,ytt,xtt,Dtt,Gtt,wtt,Vtt,Ett,jtt,Ltt,ktt,HX,cY,hY,tY,nY,qX,NX,py,py,py,py,py,py,py,py,py,py,py,py,py,py,py,py,py,py,py,py,py,py,py],TG=[fy,fy,qit,fy,Eit,fy,jit,fy,zit,fy,Wit,fy,Nit,fy,Oit,fy,Uit,fy,Xit,fy,Yit,fy,Hit,fy,Zit,fy,Kit,fy,Qit,fy,$it,fy,trt,fy,ert,fy,ort,fy,irt,fy,rrt,fy,EQ,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy,fy],VC=[Ry,Ry,srt,Ry,_rt,Ry,art,Ry,prt,Ry,crt,Ry,lrt,Ry,mrt,Ry,brt,Ry,urt,Ry,hrt,Ry,drt,Ry,yrt,Ry,xrt,Ry,frt,Ry,grt,Ry,vrt,Ry,Art,Ry,Srt,Ry,Crt,Ry,Brt,Ry,D$,R$,z$,X$,Qtt,Ry,Ry,Ry,Ry,Ry,Ry,Ry,Ry,Ry,Ry,Ry,Ry,Ry,Ry,Ry,Ry,Ry],FG=[gy,gy,wrt,gy,Vrt,gy,Mrt,gy,Drt,gy,Grt,gy,Jrt,gy,Irt,gy,Trt,gy,Frt,gy,Rrt,gy,Lrt,gy,krt,gy,qrt,gy,Ert,gy,jrt,gy,zrt,gy,Wrt,gy,Nrt,gy,Ort,gy,Urt,gy,qQ,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy,gy],M4=[Iy,Iy,Yrt,Iy,Hrt,Iy,Zrt,Iy,Krt,Iy,Qrt,Iy,$rt,Iy,tnt,Iy,ent,Iy,ont,Iy,int,Iy,rnt,Iy,nnt,Iy,snt,Iy,_nt,Iy,ant,Iy,pnt,Iy,cnt,Iy,lnt,Iy,mnt,Iy,bnt,Iy,o$,i$,ntt,stt,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy,Iy],_u=[Gy,Gy,hnt,Gy,dnt,Gy,ynt,Gy,xnt,Gy,fnt,Gy,gnt,Gy,vnt,Gy,Ant,Gy,Snt,Gy,Cnt,Gy,Bnt,Gy,Pnt,Gy,wnt,Gy,Vnt,Gy,Mnt,Gy,Dnt,Gy,Gnt,Gy,Jnt,Gy,Int,Gy,Tnt,Gy,J_t,Xtt,Ytt,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy,Gy],xA=[v1,v1,Rnt,v1,Lnt,v1,knt,v1,qnt,v1,Ent,v1,jnt,v1,znt,v1,Wnt,v1,Nnt,v1,Ont,v1,Unt,v1,Xnt,v1,Ynt,v1,Hnt,v1,Znt,v1,Knt,v1,Qnt,v1,$nt,v1,tst,v1,est,v1,v$,T$,E$,O$,K$,CY,TY,NY,iH,uH,CH,mtt,Att,Jtt,ztt,v1,v1,v1,v1,v1,v1,v1],D4=[Jy,Jy,ist,Jy,rst,Jy,nst,Jy,sst,Jy,_st,Jy,ast,Jy,pst,Jy,cst,Jy,lst,Jy,mst,Jy,bst,Jy,ust,Jy,hst,Jy,dst,Jy,yst,Jy,xst,Jy,fst,Jy,gst,Jy,vst,Jy,Ast,Jy,het,uet,bet,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy,Jy],s1=[w1,w1,Cst,w1,Bst,w1,Pst,w1,wst,w1,Vst,w1,Mst,w1,Dst,w1,Gst,w1,Jst,w1,Ist,w1,Tst,w1,Fst,w1,Rst,w1,Lst,w1,kst,w1,qst,w1,Est,w1,jst,w1,zst,w1,Wst,w1,p$,x$,M$,F$,j$,U$,vY,GY,jY,tH,lH,vH,ptt,ftt,Mtt,qtt,ttt,w1,w1,w1,w1,w1],MC=[_f,_f,Ost,_f,Ust,_f,Xst,_f,Yst,_f,Hst,_f,Zst,_f,Kst,_f,Qst,_f,$st,_f,t_t,_f,e_t,_f,o_t,_f,i_t,_f,r_t,_f,n_t,_f,s_t,_f,__t,_f,a_t,_f,p_t,_f,c_t,_f,J$,k$,oI,H$,YX,pY,uY,$X,rY,kX,WX,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f],M1=[V1,V1,m_t,V1,b_t,V1,u_t,V1,h_t,V1,d_t,V1,y_t,V1,x_t,V1,f_t,V1,g_t,V1,v_t,V1,A_t,V1,S_t,V1,C_t,V1,B_t,V1,P_t,V1,w_t,V1,V_t,V1,M_t,V1,D_t,V1,G_t,V1,LQ,kQ,jQ,I$,q$,N$,Z$,EX,OX,ZX,eY,sY,lY,dY,set,_et,aet,V1,V1,V1,V1,V1];return{_emscripten_bind_b2WheelJoint_GetSpringDampingRatio_0:ZN,_emscripten_bind_b2ContactEdge_set_next_1:mK,_emscripten_bind_b2ChainShape_get_m_count_0:nz,_emscripten_bind_b2Fixture_SetFriction_1:M8,_emscripten_bind_b2Shape_ComputeAABB_3:yU,_emscripten_bind_b2FrictionJointDef_set_userData_1:fF,_emscripten_bind_b2Vec3_get_z_0:U_,_emscripten_bind_b2World_IsLocked_0:ZR,_emscripten_bind_b2Draw_GetFlags_0:AL,_emscripten_bind_b2FrictionJoint_IsActive_0:nZ,_emscripten_bind_b2Color_set_g_1:Pz,_emscripten_bind_b2WheelJointDef_get_frequencyHz_0:S9,_emscripten_bind_b2RopeJointDef_set_localAnchorA_1:dK,_emscripten_bind_b2PolygonShape_RayCast_4:cW,_emscripten_bind_b2World_GetTreeBalance_0:UR,_emscripten_bind_b2PrismaticJointDef_get_upperTranslation_0:KF,_emscripten_bind_JSDraw_DrawSolidCircle_4:GN,_emscripten_bind_b2RevoluteJoint_GetLocalAnchorA_0:wZ,_emscripten_bind_b2FixtureDef_get_filter_0:jS,_emscripten_bind_b2FrictionJointDef_get_type_0:dF,_emscripten_bind_b2RevoluteJoint_GetMotorTorque_1:WZ,_emscripten_bind_b2MotorJointDef_set_type_1:OK,_emscripten_bind_b2RayCastInput_get_p1_0:Yz,_emscripten_bind_b2EdgeShape_set_m_hasVertex3_1:jW,_emscripten_bind_b2JointEdge_set_joint_1:F7,_emscripten_enum_b2ShapeType_e_polygon:iQ,_emscripten_bind_b2Fixture___destroy___0:T8,_emscripten_bind_b2PulleyJoint_SetUserData_1:PO,_emscripten_bind_b2World_SetWarmStarting_1:FR,_emscripten_bind_JSDraw_DrawCircle_3:DN,_emscripten_bind_b2WeldJoint_IsActive_0:V7,_emscripten_bind_b2DestructionListener___destroy___0:aZ,_emscripten_bind_b2BodyDef_set_type_1:sV,_emscripten_bind_b2ChainShape_ComputeAABB_3:ez,_emscripten_bind_b2MouseJointDef_set_type_1:EO,_emscripten_bind_b2JointEdge_get_prev_0:R7,_emscripten_bind_b2WeldJoint_GetReactionTorque_1:C7,_emscripten_bind_b2MotorJointDef_get_maxForce_0:kK,_emscripten_bind_b2DistanceJointDef_get_userData_0:kU,_emscripten_bind_b2BodyDef_get_position_0:rP,_emscripten_bind_b2RopeJointDef_get_localAnchorB_0:yK,_emscripten_bind_b2RevoluteJointDef_set_userData_1:fN,_emscripten_bind_b2RevoluteJointDef_get_localAnchorA_0:QW,_emscripten_bind_b2World_SetContactFilter_1:xR,_emscripten_bind_b2WheelJointDef_get_collideConnected_0:F9,_emscripten_bind_b2MouseJointDef_set_userData_1:zO,_emscripten_bind_JSDraw_DrawSegment_3:JN,_emscripten_bind_b2FixtureDef_set_restitution_1:h1,_emscripten_bind_b2MotorJointDef_Initialize_2:IK,_emscripten_bind_b2EdgeShape_GetChildCount_0:BW,_emscripten_bind_b2Mat33_get_ey_0:l8,_emscripten_bind_b2MouseJoint_IsActive_0:AM,_emscripten_bind_b2World_GetGravity_0:HR,_emscripten_bind_b2World_DrawDebugData_0:wR,_emscripten_bind_b2Profile_get_broadphase_0:VM,_emscripten_bind_b2PulleyJointDef_get_bodyA_0:nE,_emscripten_bind_b2PrismaticJoint_SetLimits_2:m5,_emscripten_bind_b2PulleyJointDef_get_localAnchorA_0:X7,_emscripten_bind_b2DistanceJoint_GetAnchorA_0:tV,_emscripten_bind_b2ManifoldPoint_set_tangentImpulse_1:fE,_emscripten_bind_b2PolygonShape_get_m_count_0:hW,_emscripten_bind_b2RopeJointDef_set_collideConnected_1:DK,_emscripten_bind_b2CircleShape_set_m_p_1:U9,_emscripten_bind_JSContactListener_EndContact_1:U5,_emscripten_bind_b2MassData_set_mass_1:VL,_emscripten_bind_b2Vec3_get_x_0:d_,_emscripten_bind_b2ChainShape_CreateChain_2:YE,_emscripten_bind_b2Color_get_r_0:Sz,_emscripten_bind_b2World_DestroyBody_1:AR,_emscripten_bind_b2Profile_get_solvePosition_0:nV,_emscripten_bind_b2Shape_RayCast_4:dU,_emscripten_bind_b2PulleyJoint_GetGroundAnchorA_0:cO,_emscripten_bind_b2Mat33___destroy___0:u8,_emscripten_bind_b2GearJoint_GetReactionTorque_1:i7,_emscripten_bind_b2WeldJointDef_set_collideConnected_1:fL,_emscripten_bind_b2Manifold_get_type_0:JF,_emscripten_bind_b2RevoluteJoint___destroy___0:oK,_emscripten_bind_b2PulleyJointDef_b2PulleyJointDef_0:j7,_emscripten_bind_b2World_SetAutoClearForces_1:KR,_emscripten_bind_b2PrismaticJointDef_set_lowerTranslation_1:ZF,_emscripten_bind_b2BodyDef_set_position_1:nP,_emscripten_bind_b2Transform_get_q_0:zE,_emscripten_bind_b2FrictionJoint_GetMaxForce_0:UH,_emscripten_bind_b2PolygonShape_set_m_count_1:dW,_emscripten_bind_b2Contact_GetNext_0:tU,_emscripten_bind_b2MotorJointDef_set_userData_1:XK,_emscripten_bind_b2EdgeShape_get_m_type_0:zW,_emscripten_bind_b2GearJoint_GetJoint1_0:XL,_emscripten_bind_b2WheelJoint_GetMaxMotorTorque_0:ON,_emscripten_bind_b2MotorJoint_SetMaxTorque_1:eG,_emscripten_bind_b2GearJoint_GetAnchorA_0:t7,_emscripten_enum_b2JointType_e_mouseJoint:lQ,_emscripten_bind_b2MouseJointDef_set_bodyA_1:NO,_emscripten_enum_b2JointType_e_revoluteJoint:_Q,_emscripten_bind_b2World_SetContactListener_1:fR,_emscripten_bind_b2Body_IsAwake_0:FX,_emscripten_bind_b2JointEdge_set_other_1:I7,_emscripten_bind_b2RevoluteJoint_IsMotorEnabled_0:LZ,_emscripten_bind_b2MouseJointDef_set_target_1:JO,_emscripten_bind_b2MotorJoint_SetCorrectionFactor_1:L1,_emscripten_bind_b2FixtureDef_get_density_0:hA,_emscripten_bind_b2ChainShape_set_m_vertices_1:rz,_emscripten_bind_b2ChainShape_get_m_vertices_0:iz,_emscripten_bind_b2Rot_set_s_1:Z8,_emscripten_bind_b2MotorJointDef_get_collideConnected_0:QK,_emscripten_bind_b2RevoluteJoint_GetUpperLimit_0:FZ,_emscripten_bind_b2WheelJointDef_set_bodyB_1:T9,_emscripten_bind_b2WheelJointDef_set_enableMotor_1:x9,_emscripten_bind_b2FixtureDef_get_userData_0:m0,_emscripten_bind_b2FrictionJointDef_set_collideConnected_1:BF,_emscripten_bind_b2PrismaticJointDef_get_lowerTranslation_0:HF,_emscripten_bind_b2GearJoint_GetCollideConnected_0:a7,_emscripten_bind_b2RevoluteJointDef_get_upperAngle_0:aN,_emscripten_bind_b2Body_ApplyAngularImpulse_2:cX,_emscripten_enum_b2JointType_e_frictionJoint:hQ,_emscripten_bind_b2RayCastOutput_set_fraction_1:R5,_emscripten_bind_b2Color_set_r_1:Cz,_emscripten_bind_b2DistanceJointDef_get_length_0:DU,_emscripten_bind_b2PulleyJoint_GetBodyB_0:fO,_emscripten_bind_b2WheelJointDef_set_type_1:V9,_emscripten_bind_b2World_GetTreeQuality_0:XR,_emscripten_bind_b2BodyDef_set_gravityScale_1:A4,_emscripten_bind_b2RopeJointDef_set_bodyB_1:VK,_emscripten_bind_b2PrismaticJoint_GetLowerLimit_0:c5,_emscripten_bind_b2AABB_get_lowerBound_0:o0,_emscripten_bind_b2WheelJoint_SetMotorSpeed_1:zN,_emscripten_bind_b2PrismaticJointDef_get_referenceAngle_0:OF,_emscripten_bind_b2Body_SetMassData_1:uX,_emscripten_bind_b2BodyDef_get_angularVelocity_0:v4,_emscripten_bind_b2WeldJoint_SetDampingRatio_1:h7,_emscripten_bind_b2PrismaticJointDef___destroy___0:hR,_emscripten_bind_b2Contact_IsTouching_0:KO,_emscripten_bind_b2Draw_SetFlags_1:vL,_emscripten_bind_b2AABB_Contains_1:Q2,_emscripten_bind_b2DistanceJoint_GetNext_0:bM,_emscripten_bind_b2GearJoint_GetReactionForce_1:o7,_emscripten_bind_b2PrismaticJoint_GetNext_0:w5,_emscripten_bind_b2Filter_get_groupIndex_0:m4,_emscripten_bind_b2PrismaticJoint_GetType_0:g5,_emscripten_bind_b2Fixture_GetRestitution_0:D8,_emscripten_bind_b2Transform_set_q_1:WE,_emscripten_bind_b2PolygonShape___destroy___0:vW,_emscripten_bind_b2AABB_get_upperBound_0:p0,_emscripten_bind_b2Transform___destroy___0:NE,_emscripten_bind_b2WeldJointDef_set_localAnchorB_1:iL,_emscripten_bind_b2CircleShape_set_m_radius_1:Z9,_emscripten_bind_b2EdgeShape_set_m_hasVertex0_1:qW,_emscripten_bind_b2RopeJoint_GetMaxLength_0:Iz,_emscripten_bind_b2GearJoint_GetUserData_0:n7,_emscripten_bind_b2MotorJoint_GetCollideConnected_0:KB,_emscripten_bind_b2GearJointDef_set_type_1:yZ,_emscripten_bind_b2DistanceJoint_SetDampingRatio_1:cM,_emscripten_bind_b2Contact_GetFixtureA_0:eU,_emscripten_bind_b2QueryCallback___destroy___0:SE,_emscripten_bind_b2PulleyJointDef_get_ratio_0:_q,_emscripten_bind_b2PrismaticJointDef_get_localAnchorB_0:jF,_emscripten_bind_b2CircleShape_set_m_type_1:Y9,_emscripten_enum_b2ShapeType_e_typeCount:nQ,_emscripten_bind_b2Body_SetTransform_2:ZU,_emscripten_bind_b2RopeJoint_GetAnchorB_0:qz,_emscripten_bind_b2AABB_set_upperBound_1:S0,_emscripten_bind_b2MouseJointDef_get_collideConnected_0:XO,_emscripten_bind_b2ContactImpulse___destroy___0:a4,_emscripten_bind_b2PrismaticJointDef_b2PrismaticJointDef_0:LF,_emscripten_bind_b2Vec2_set_x_1:lV,_emscripten_bind_b2RayCastInput___destroy___0:tW,_emscripten_bind_b2Body_ApplyForceToCenter_2:_X,_emscripten_bind_JSDestructionListener_JSDestructionListener_0:bA,_emscripten_bind_b2WheelJointDef_set_localAnchorA_1:m9,_emscripten_bind_b2FrictionJoint_GetBodyB_0:KH,_emscripten_bind_b2DistanceJointDef_get_bodyA_0:EU,_emscripten_bind_b2WeldJointDef_set_bodyA_1:hL,_emscripten_bind_b2World_SetDestructionListener_1:yR,_emscripten_bind_b2RevoluteJoint_GetJointSpeed_0:GZ,_emscripten_bind_b2WheelJoint_GetLocalAnchorB_0:RN,_emscripten_bind_b2JointDef___destroy___0:FE,_emscripten_bind_b2PrismaticJointDef_Initialize_4:kF,_emscripten_bind_b2FrictionJointDef_get_localAnchorA_0:wS,_emscripten_bind_b2CircleShape_GetChildCount_0:E9,_emscripten_bind_b2BodyDef_get_bullet_0:RM,_emscripten_bind_b2ManifoldPoint_get_localPoint_0:uE,_emscripten_bind_b2PrismaticJointDef_get_type_0:nR,_emscripten_bind_b2MassData_get_center_0:ML,_emscripten_bind_b2World_b2World_1:dR,_emscripten_bind_b2WheelJoint_GetReactionForce_1:oO,_emscripten_bind_b2World_SetSubStepping_1:qR,_emscripten_bind_b2Vec2_op_add_1:HM,_emscripten_bind_b2Joint_GetBodyA_0:FL,_emscripten_bind_b2Joint_GetCollideConnected_0:OL,_emscripten_bind_b2MotorJoint_GetReactionTorque_1:XA,_emscripten_bind_b2WheelJoint_IsMotorEnabled_0:EN,_emscripten_bind_b2WheelJointDef___destroy___0:L9,_emscripten_bind_b2Vec3_SetZero_0:i2,_emscripten_enum_b2JointType_e_pulleyJoint:cQ,_emscripten_bind_b2ChainShape_get_m_nextVertex_0:pz,_emscripten_bind_b2Contact_SetEnabled_1:QO,_emscripten_bind_b2Shape_set_m_radius_1:AU,_emscripten_bind_b2GearJointDef_get_joint2_0:mZ,_emscripten_bind_b2World_SetDebugDraw_1:gR,_emscripten_bind_b2ContactID_set_key_1:j5,_emscripten_bind_b2RevoluteJointDef_set_collideConnected_1:BN,_malloc:a0,_emscripten_bind_b2World_GetProxyCount_0:jR,_emscripten_bind_b2Vec2_Normalize_0:$0,_emscripten_bind_b2WheelJoint_GetJointSpeed_0:qN,_emscripten_bind_b2FrictionJointDef_set_localAnchorA_1:bV,_emscripten_bind_b2GearJoint_GetRatio_0:ZL,_emscripten_bind_JSRayCastCallback_JSRayCastCallback_0:jM,_emscripten_bind_b2RayCastInput_set_p2_1:Kz,_emscripten_bind_b2RevoluteJointDef_get_motorSpeed_0:mN,_emscripten_bind_b2RayCastOutput_get_normal_0:I5,_emscripten_bind_b2WeldJoint_GetBodyA_0:f7,_emscripten_bind_b2MotorJointDef_set_maxForce_1:qK,_emscripten_enum_b2DrawFlag_e_jointBit:MQ,_emscripten_bind_b2FixtureDef_get_isSensor_0:yA,_emscripten_bind_b2PulleyJointDef_set_bodyB_1:aE,_emscripten_bind_b2WheelJoint_EnableMotor_1:jN,_emscripten_bind_b2WheelJoint_GetLocalAnchorA_0:FN,_emscripten_bind_JSDraw_DrawSolidPolygon_3:MN,_emscripten_bind_b2Rot_Set_1:nS,_emscripten_bind_b2ContactFeature_set_typeB_1:mG,_emscripten_bind_JSDraw___destroy___0:TN,_emscripten_bind_b2MouseJointDef___destroy___0:HO,_emscripten_bind_b2Mat33_Solve22_1:_8,_emscripten_bind_b2Profile_set_solvePosition_1:ES,_emscripten_bind_b2ContactFilter___destroy___0:iK,_emscripten_bind_b2PulleyJointDef_get_localAnchorB_0:H7,_emscripten_bind_b2ChainShape_set_m_hasPrevVertex_1:mz,_emscripten_bind_b2PrismaticJoint___destroy___0:J5,_emscripten_bind_b2World_CreateJoint_1:SR,_emscripten_bind_b2Profile_get_solveTOI_0:f4,_emscripten_bind_b2ManifoldPoint_get_id_0:gE,_emscripten_bind_b2Manifold_set_pointCount_1:FF,_emscripten_bind_b2PrismaticJoint_GetMotorSpeed_0:d5,_emscripten_bind_b2Body_SetSleepingAllowed_1:JX,_emscripten_bind_b2Rot_SetIdentity_0:sS,_emscripten_bind_b2PulleyJoint_GetGroundAnchorB_0:lO,_emscripten_bind_b2Vec3_op_add_1:r_,_emscripten_bind_b2FrictionJoint_GetType_0:HH,_emscripten_bind_b2DistanceJointDef_set_dampingRatio_1:FU,_emscripten_bind_b2MotorJoint_GetBodyA_0:rG,_emscripten_bind_b2MouseJointDef_get_dampingRatio_0:LO,_emscripten_bind_b2RevoluteJoint_GetMotorSpeed_0:EZ,_emscripten_bind_b2ChainShape_set_m_type_1:dz,_emscripten_bind_b2RevoluteJointDef_set_bodyB_1:SN,_emscripten_bind_b2Body_GetGravityScale_0:PX,_emscripten_bind_b2GearJointDef_get_bodyB_0:AZ,_emscripten_bind_b2Mat33_b2Mat33_0:i8,_emscripten_bind_b2MouseJointDef_get_bodyB_0:OO,_emscripten_bind_b2Shape_TestPoint_2:hU,_emscripten_bind_b2Body_GetWorldVector_1:yX,_emscripten_bind_b2WeldJointDef_get_frequencyHz_0:sL,_emscripten_bind_b2PolygonShape_Set_2:oW,_emscripten_bind_b2Manifold___destroy___0:RF,_emscripten_bind_b2PulleyJointDef_set_lengthA_1:Q7,_emscripten_bind_b2RevoluteJointDef_set_localAnchorA_1:$W,_emscripten_bind_b2GearJoint___destroy___0:p7,_emscripten_bind_b2RevoluteJoint_GetJointAngle_0:DZ,_emscripten_bind_b2PulleyJointDef_set_ratio_1:tE,_emscripten_bind_b2JointEdge_set_prev_1:L7,_emscripten_bind_b2PrismaticJoint_GetReactionTorque_1:P5,_emscripten_bind_b2Body_GetLocalPoint_1:xX,_emscripten_bind_b2PrismaticJoint_GetCollideConnected_0:G5,_emscripten_bind_b2RopeJointDef_get_userData_0:SK,_emscripten_bind_b2DistanceJoint_IsActive_0:c4,_emscripten_bind_b2MotorJointDef_set_angularOffset_1:LK,_emscripten_bind_b2Vec2_b2Vec2_2:XM,_emscripten_bind_b2PrismaticJoint_GetJointTranslation_0:s5,_emscripten_bind_b2Vec2_b2Vec2_0:bG,_emscripten_bind_b2DistanceJoint_GetAnchorB_0:tC,_emscripten_bind_b2WheelJointDef_get_maxMotorTorque_0:f9,_emscripten_bind_b2Vec2_op_sub_1:ZM,_emscripten_bind_b2CircleShape_get_m_p_0:O9,_emscripten_bind_b2ContactFeature_get_indexA_0:pV,_emscripten_bind_b2MotorJointDef_b2MotorJointDef_0:JK,_emscripten_bind_b2ChainShape_set_m_nextVertex_1:cz,_emscripten_bind_b2PulleyJoint_GetCollideConnected_0:VO,_emscripten_bind_b2PulleyJoint_GetAnchorB_0:vO,_emscripten_bind_b2Mat33_get_ex_0:c8,_emscripten_bind_b2Body_GetPosition_0:QU,_emscripten_bind_b2Profile___destroy___0:oP,_emscripten_bind_b2ContactEdge_get_prev_0:pK,_emscripten_bind_b2DistanceJoint_SetFrequency_1:$6,_emscripten_enum_b2ShapeType_e_chain:rQ,_emscripten_enum_b2ContactFeatureType_e_vertex:IQ,_emscripten_bind_b2Fixture_GetBody_0:g8,_emscripten_bind_b2ContactImpulse_set_count_1:K6,_emscripten_bind_b2PulleyJointDef_get_bodyB_0:_E,_emscripten_bind_b2Rot_set_c_1:K8,_emscripten_bind_b2RevoluteJoint_GetReactionTorque_1:ZZ,_emscripten_bind_b2Fixture_SetDensity_1:P8,_emscripten_bind_b2ChainShape_get_m_prevVertex_0:_z,_emscripten_bind_b2World_ClearForces_0:PR,_emscripten_bind_b2Vec3___destroy___0:O_,_emscripten_bind_b2WheelJointDef_set_userData_1:D9,_emscripten_bind_b2WeldJoint_SetFrequency_1:b7,_emscripten_bind_JSContactListener_PreSolve_2:X5,_emscripten_bind_b2Body_SetFixedRotation_1:IH,_emscripten_bind_b2RayCastOutput_set_normal_1:T5,_emscripten_bind_b2DistanceJoint_GetDampingRatio_0:lM,_emscripten_bind_b2WeldJointDef_set_userData_1:bL,_emscripten_bind_b2Body_GetMassData_1:bX,_emscripten_bind_b2MouseJointDef_set_bodyB_1:UO,_emscripten_bind_b2CircleShape_GetType_0:q9,_emscripten_bind_b2PolygonShape_GetType_0:_W,_emscripten_bind_b2PrismaticJointDef_set_referenceAngle_1:UF,_emscripten_bind_b2RopeJointDef_get_collideConnected_0:MK,_emscripten_bind_b2FixtureDef_set_filter_1:PB,_emscripten_bind_b2PulleyJointDef_get_groundAnchorA_0:W7,_emscripten_bind_b2Fixture_SetFilterData_1:x8,_emscripten_bind_b2FrictionJointDef_get_userData_0:xF,_emscripten_bind_b2RayCastCallback___destroy___0:c7,_emscripten_bind_b2PulleyJointDef_set_localAnchorA_1:Y7,_emscripten_bind_b2MotorJoint_SetUserData_1:x4,_emscripten_bind_b2PrismaticJoint_GetLocalAxisA_0:r5,_emscripten_bind_b2MotorJoint_GetBodyB_0:aS,_emscripten_bind_b2Transform_Set_2:qE,_emscripten_bind_b2MouseJoint_SetTarget_1:b4,_emscripten_bind_b2RopeJointDef_get_localAnchorA_0:hK,_emscripten_bind_b2ContactEdge_set_contact_1:aK,_emscripten_bind_b2RevoluteJointDef_get_enableLimit_0:rN,_emscripten_bind_b2CircleShape_get_m_radius_0:H9,_emscripten_bind_b2RevoluteJoint_GetUserData_0:QZ,_emscripten_bind_b2Profile_set_solveTOI_1:HC,_emscripten_bind_b2PrismaticJointDef_set_type_1:sR,_emscripten_bind_b2GearJointDef_get_userData_0:xZ,_emscripten_bind_b2WheelJoint_SetSpringFrequencyHz_1:XN,_emscripten_bind_b2FrictionJointDef___destroy___0:PF,_emscripten_bind_b2PrismaticJoint_GetReactionForce_1:B5,_emscripten_bind_b2Transform_b2Transform_0:RE,_emscripten_bind_b2MouseJoint_GetCollideConnected_0:X8,_emscripten_enum_b2LimitState_e_equalLimits:vQ,_emscripten_bind_b2ManifoldPoint_set_normalImpulse_1:yE,_emscripten_bind_b2Body_GetContactList_0:LH,_emscripten_bind_b2Body_IsFixedRotation_0:TH,_emscripten_enum_b2DrawFlag_e_shapeBit:VQ,_emscripten_bind_b2Contact_GetFriction_0:sU,_emscripten_bind_b2WheelJoint_GetAnchorB_0:eO,_emscripten_bind_b2DistanceJointDef_set_length_1:GU,_emscripten_bind_b2DistanceJoint_GetLocalAnchorB_0:pM,_emscripten_bind_b2FrictionJoint_GetLocalAnchorB_0:NH,_emscripten_bind_b2Mat33_set_ey_1:m8,_emscripten_bind_b2DistanceJointDef_get_type_0:RU,_emscripten_bind_b2Draw_ClearFlags_1:CL,_emscripten_bind_b2Body_IsActive_0:JH,_emscripten_bind_b2Contact_ResetRestitution_0:cU,_emscripten_bind_b2World_GetAllowSleeping_0:TR,_emscripten_bind_b2ManifoldPoint_b2ManifoldPoint_0:bE,_emscripten_bind_b2PrismaticJointDef_set_maxMotorForce_1:oR,_emscripten_bind_b2GearJointDef_set_bodyA_1:vZ,_emscripten_bind_b2RevoluteJointDef_set_enableMotor_1:lN,_emscripten_bind_b2PulleyJoint_IsActive_0:wO,_emscripten_bind_b2MouseJoint_GetNext_0:CC,_emscripten_bind_b2Transform_set_p_1:jE,_emscripten_bind_b2EdgeShape_set_m_vertex0_1:FW,_emscripten_bind_b2PulleyJointDef_get_lengthB_0:$7,_emscripten_bind_b2WeldJoint_SetUserData_1:w7,_emscripten_bind_b2Fixture_SetSensor_1:d8,_emscripten_bind_b2GearJointDef_get_joint1_0:cZ,_emscripten_bind_b2PrismaticJoint_GetMotorForce_1:f5,_emscripten_bind_b2DistanceJoint_GetBodyA_0:e8,_emscripten_bind_b2GearJoint_IsActive_0:_7,_emscripten_bind_b2EdgeShape_get_m_vertex0_0:TW,_emscripten_bind_b2World_GetBodyCount_0:zR,_emscripten_bind_b2Fixture_GetMassData_1:B8,_emscripten_bind_b2WeldJointDef_get_collideConnected_0:xL,_emscripten_bind_b2FrictionJoint_GetMaxTorque_0:YH,_emscripten_bind_b2EdgeShape_RayCast_4:wW,_emscripten_bind_b2BodyDef_set_allowSleep_1:cG,_emscripten_bind_b2PulleyJoint_GetType_0:yO,_emscripten_bind_b2WeldJointDef_set_localAnchorA_1:eL,_emscripten_bind_b2Profile_set_step_1:tP,_emscripten_bind_b2ContactEdge_set_other_1:sK,_emscripten_bind_b2PulleyJoint_GetCurrentLengthB_0:dO,_emscripten_bind_b2Vec2_op_mul_1:KM,_emscripten_bind_b2PrismaticJointDef_get_localAnchorA_0:qF,_emscripten_bind_b2EdgeShape___destroy___0:UW,_emscripten_bind_b2RopeJoint_GetAnchorA_0:kz,_emscripten_bind_b2World_GetContactCount_0:NR,_emscripten_bind_b2MotorJointDef_set_correctionFactor_1:WK,_emscripten_bind_b2DistanceJointDef_set_userData_1:qU,_emscripten_bind_b2ContactEdge_get_other_0:nK,_emscripten_bind_b2RopeJoint_GetLocalAnchorB_0:Gz,_emscripten_bind_b2PulleyJointDef___destroy___0:lE,_emscripten_bind_b2MouseJoint_GetBodyB_0:OC,_emscripten_bind_b2PolygonShape_TestPoint_2:pW,_emscripten_bind_b2EdgeShape_set_m_vertex3_1:LW,_emscripten_bind_b2PolygonShape_b2PolygonShape_0:eW,_emscripten_bind_b2GearJointDef_set_ratio_1:hZ,_emscripten_bind_b2WheelJoint_SetMaxMotorTorque_1:NN,_emscripten_bind_b2WheelJointDef_get_localAxisA_0:h9,_emscripten_bind_b2DistanceJointDef_get_localAnchorA_0:PU,_emscripten_bind_b2MassData_set_center_1:DL,_emscripten_bind_b2Contact_SetTangentSpeed_1:lU,_emscripten_bind_b2FrictionJointDef_get_localAnchorB_0:C4,_emscripten_bind_b2BodyDef_get_active_0:kM,_emscripten_bind_b2Body_GetAngularVelocity_0:nX,_emscripten_bind_b2WeldJoint_GetBodyB_0:g7,_emscripten_bind_b2Draw___destroy___0:BL,_emscripten_bind_b2WheelJointDef_Initialize_4:c9,_emscripten_bind_b2WeldJointDef_set_dampingRatio_1:pL,_emscripten_bind_b2Contact_IsEnabled_0:$O,_emscripten_bind_b2Joint_GetAnchorB_0:kL,_emscripten_bind_b2PrismaticJointDef_get_userData_0:_R,_emscripten_bind_b2MotorJoint_GetMaxForce_0:Ey,_emscripten_bind_b2RevoluteJoint_GetBodyA_0:OZ,_emscripten_bind_b2ContactID_set_cf_1:q5,_emscripten_bind_b2Rot_GetXAxis_0:_S,_emscripten_bind_b2ContactEdge_set_prev_1:cK,_emscripten_bind_b2Vec3_Set_3:_n,_emscripten_bind_b2Fixture_GetNext_0:v8,_emscripten_bind_b2FrictionJointDef_set_localAnchorB_1:aP,_emscripten_bind_b2PulleyJoint_GetNext_0:CO,_emscripten_bind_b2ChainShape_get_m_type_0:hz,_emscripten_bind_b2GearJointDef_get_bodyA_0:gZ,_emscripten_bind_b2DistanceJointDef_set_frequencyHz_1:IU,_emscripten_bind_b2RevoluteJointDef_get_localAnchorB_0:tN,_emscripten_bind_b2RevoluteJointDef_get_referenceAngle_0:oN,_emscripten_bind_JSContactFilter___destroy___0:HW,_memset:iD,_emscripten_bind_b2PolygonShape_get_m_radius_0:fW,_emscripten_bind_b2RopeJoint_GetUserData_0:Wz,_emscripten_bind_b2RopeJointDef_get_bodyA_0:BK,_emscripten_bind_b2DistanceJointDef_get_dampingRatio_0:TU,_emscripten_enum_b2ManifoldType_e_faceA:SQ,_emscripten_enum_b2ManifoldType_e_faceB:CQ,_emscripten_bind_b2RevoluteJointDef_get_bodyB_0:AN,_emscripten_bind_b2FixtureDef_b2FixtureDef_0:G0,_emscripten_bind_b2PrismaticJoint_SetUserData_1:M5,_emscripten_bind_b2EdgeShape_get_m_hasVertex3_0:EW,_emscripten_enum_b2ShapeType_e_edge:oQ,_emscripten_bind_b2RevoluteJoint_GetMaxMotorTorque_0:zZ,_emscripten_bind_b2BodyDef_set_active_1:qM,_emscripten_bind_b2DistanceJointDef_set_localAnchorB_1:MU,_emscripten_bind_b2Body_GetWorldPoint_1:dX,_emscripten_bind_b2ManifoldPoint_get_normalImpulse_0:dE,_emscripten_bind_JSContactFilter_ShouldCollide_2:YW,_emscripten_bind_b2Joint_GetReactionTorque_1:EL,_emscripten_bind_b2RevoluteJointDef_set_type_1:yN,_emscripten_bind_b2RopeJointDef_b2RopeJointDef_0:uK,_emscripten_bind_b2BodyDef_get_linearDamping_0:IM,_emscripten_bind_b2MotorJointDef_get_bodyB_0:ZK,_emscripten_bind_b2World_Step_3:BR,_emscripten_bind_b2CircleShape_RayCast_4:z9,_emscripten_bind_b2Profile_get_step_0:$B,_emscripten_bind_b2Vec3_b2Vec3_0:dG,_emscripten_bind_b2Vec3_b2Vec3_3:JA,_emscripten_bind_b2PulleyJoint_GetLengthB_0:bO,_emscripten_bind_b2Filter_set_categoryBits_1:fM,_emscripten_bind_b2MotorJoint_GetUserData_0:y4,_emscripten_bind_b2PrismaticJoint_GetLocalAnchorA_0:o5,_emscripten_bind_b2Shape_get_m_type_0:fU,_emscripten_bind_b2MouseJoint_SetDampingRatio_1:J1,_emscripten_bind_b2World_GetAutoClearForces_0:QR,_emscripten_enum_b2ShapeType_e_circle:eQ,_emscripten_bind_b2BodyDef_set_fixedRotation_1:aV,_emscripten_bind_b2RopeJoint_GetLimitState_0:Tz,_emscripten_bind_b2JointDef_get_collideConnected_0:IE,_emscripten_bind_b2Body_Dump_0:zH,_emscripten_bind_b2RevoluteJoint_GetLowerLimit_0:TZ,_emscripten_bind_b2Body_GetWorldCenter_0:tX,_emscripten_bind_JSContactListener___destroy___0:H5,_emscripten_bind_b2BodyDef_set_linearVelocity_1:uA,_emscripten_bind_b2JointDef_set_collideConnected_1:TE,_emscripten_bind_b2MotorJoint___destroy___0:QB,_emscripten_bind_b2Body_GetUserData_0:qH,_emscripten_bind_b2World_GetContinuousPhysics_0:kR,_emscripten_bind_b2Fixture_RayCast_3:C8,_emscripten_bind_b2JointDef_set_bodyA_1:DE,_emscripten_bind_b2GearJointDef_get_collideConnected_0:CZ,_emscripten_bind_b2RopeJointDef_get_maxLength_0:fK,_emscripten_bind_b2MouseJointDef_get_bodyA_0:WO,_emscripten_bind_b2Body_SetBullet_1:DX,_emscripten_bind_b2DistanceJoint_GetType_0:mM,_emscripten_bind_b2FixtureDef_get_restitution_0:n1,_emscripten_bind_b2Fixture_GetType_0:h8,_emscripten_bind_b2PulleyJointDef_set_localAnchorB_1:Z7,_emscripten_bind_b2RevoluteJoint_GetBodyB_0:UZ,_emscripten_bind_b2Profile_set_solveInit_1:_G,_emscripten_bind_b2RopeJointDef_set_type_1:AK,_emscripten_bind_b2PrismaticJointDef_get_bodyB_0:lR,_emscripten_bind_b2Body_SetLinearVelocity_1:oX,_emscripten_bind_b2RevoluteJoint_GetReferenceAngle_0:MZ,_emscripten_bind_b2PulleyJointDef_get_userData_0:iE,_emscripten_bind_b2PrismaticJointDef_set_bodyB_1:mR,_emscripten_bind_b2FrictionJointDef_b2FrictionJointDef_0:IA,_free:d0,_emscripten_bind_b2PulleyJoint_GetCurrentLengthA_0:hO,_emscripten_bind_b2Manifold_get_localNormal_0:VF,_emscripten_bind_b2AABB_RayCast_2:ta,_emscripten_bind_b2FixtureDef_set_isSensor_1:BB,_emscripten_bind_b2RopeJoint_GetBodyB_0:Lz,_emscripten_bind_b2PrismaticJoint_GetAnchorA_0:S5,_emscripten_bind_b2ChainShape_set_m_count_1:sz,_emscripten_bind_b2PrismaticJoint_IsMotorEnabled_0:b5,_emscripten_bind_b2WeldJoint_GetFrequency_0:u7,_emscripten_bind_b2Joint_GetUserData_0:zL,_emscripten_bind_b2RevoluteJointDef_get_lowerAngle_0:sN,_emscripten_bind_b2Manifold_set_type_1:IF,_emscripten_bind_b2DistanceJoint_GetLength_0:Q6,_emscripten_bind_b2RopeJointDef_set_maxLength_1:gK,_emscripten_bind_b2ChainShape_TestPoint_2:_j,_emscripten_bind_b2PrismaticJoint_GetReferenceAngle_0:n5,_emscripten_bind_b2RayCastInput_get_p2_0:Zz,_emscripten_bind_b2RevoluteJoint_EnableLimit_1:IZ,_emscripten_bind_b2BodyDef_set_angle_1:yS,_emscripten_bind_b2WeldJoint_GetUserData_0:P7,_emscripten_bind_b2WheelJointDef_get_localAnchorA_0:l9,_emscripten_bind_b2PulleyJointDef_set_type_1:oE,_emscripten_bind_b2Body_IsBullet_0:GX,_emscripten_bind_b2MotorJointDef_set_bodyA_1:HK,_emscripten_bind_b2Mat33_GetSymInverse33_1:p8,_emscripten_bind_b2Body_ApplyLinearImpulse_3:pX,_emscripten_bind_b2PolygonShape_ComputeMass_2:mW,_emscripten_bind_b2WeldJoint_GetLocalAnchorA_0:l7,_emscripten_bind_b2MouseJoint_SetFrequency_1:O8,_emscripten_bind_b2EdgeShape_get_m_vertex1_0:DW,_emscripten_bind_b2BodyDef_set_awake_1:_V,_emscripten_bind_b2Vec2_get_y_0:hG,_emscripten_bind_b2Body_CreateFixture_1:XU,_emscripten_bind_b2Body_CreateFixture_2:YU,_emscripten_bind_b2PulleyJoint_GetUserData_0:BO,_emscripten_bind_b2Body_SetActive_1:GH,_emscripten_bind_b2Fixture_GetUserData_0:xM,_emscripten_bind_b2PolygonShape_ComputeAABB_3:lW,_emscripten_bind_b2ContactFeature_get_typeA_0:NM,_emscripten_bind_b2MouseJoint_GetReactionForce_1:Qy,_emscripten_bind_b2FrictionJoint_GetReactionTorque_1:eZ,_emscripten_bind_b2EdgeShape_TestPoint_2:PW,_memcpy:NA,_emscripten_bind_b2PolygonShape_get_m_centroid_0:bW,_emscripten_bind_b2ChainShape___destroy___0:fz,_emscripten_bind_b2GearJoint_SetUserData_1:s7,_emscripten_bind_b2Vec3_set_z_1:X_,_emscripten_bind_b2PrismaticJointDef_set_enableLimit_1:YF,_emscripten_bind_b2DistanceJoint_GetFrequency_0:t8,_emscripten_bind_b2Body_SetGravityScale_1:wX,_emscripten_enum_b2ContactFeatureType_e_face:TQ,_emscripten_bind_b2AABB_GetPerimeter_0:R2,_emscripten_bind_b2PulleyJointDef_get_lengthA_0:K7,_emscripten_bind_b2Vec3_set_x_1:S_,_emscripten_bind_b2PulleyJointDef_get_type_0:eE,_emscripten_bind_JSDestructionListener_SayGoodbyeJoint_1:_4,_emscripten_bind_b2Shape___destroy___0:SU,_strlen:fet,_emscripten_bind_b2Color_set_b_1:Vz,_emscripten_bind_b2Joint_GetReactionForce_1:qL,_emscripten_bind_b2FixtureDef_set_friction_1:Py,_emscripten_bind_b2ContactID___destroy___0:z5,_emscripten_bind_b2EdgeShape_get_m_hasVertex0_0:kW,_emscripten_bind_JSRayCastCallback_ReportFixture_4:zM,_emscripten_bind_b2MotorJointDef_get_linearOffset_0:TK,_emscripten_bind_b2Profile_set_solveVelocity_1:wM,_emscripten_bind_b2PrismaticJoint_GetAnchorB_0:C5,_emscripten_bind_b2WeldJointDef_b2WeldJointDef_0:Q9,_emscripten_enum_b2BodyType_b2_staticBody:BQ,_emscripten_bind_b2RevoluteJointDef_set_upperAngle_1:pN,_emscripten_bind_b2RevoluteJointDef_get_type_0:dN,_emscripten_bind_b2GearJointDef_get_type_0:dZ,_emscripten_bind_b2ChainShape_GetType_0:QE,_emscripten_bind_b2RayCastInput_get_maxFraction_0:Qz,_emscripten_bind_b2GearJoint_GetBodyA_0:QL,_emscripten_bind_b2Body_GetLocalVector_1:fX,_emscripten_bind_b2PrismaticJoint_EnableLimit_1:p5,_emscripten_bind_b2FrictionJointDef_get_maxForce_0:pP,_emscripten_bind_b2BodyDef_set_angularVelocity_1:JM,_emscripten_bind_b2Body_SetLinearDamping_1:SX,_emscripten_bind_b2WheelJoint_GetBodyB_0:$N,_emscripten_bind_b2Color___destroy___0:Mz,_emscripten_bind_b2PrismaticJoint_IsActive_0:D5,_emscripten_bind_b2Filter_get_categoryBits_0:R8,_emscripten_enum_b2JointType_e_weldJoint:uQ,_emscripten_bind_b2World_SetContinuousPhysics_1:LR,_emscripten_bind_b2MouseJointDef_get_target_0:GO,_emscripten_bind_b2Manifold_b2Manifold_0:wF,_emscripten_bind_b2PulleyJointDef_set_userData_1:rE,_emscripten_bind_b2FrictionJointDef_set_maxForce_1:uV,_emscripten_bind_b2DistanceJointDef_b2DistanceJointDef_0:CU,_emscripten_bind_b2PolygonShape_set_m_centroid_1:uW,_emscripten_bind_b2Mat33_GetInverse22_1:a8,_emscripten_bind_b2PolygonShape_SetAsBox_4:rW,_emscripten_bind_b2EdgeShape_get_m_vertex2_0:JW,_emscripten_bind_b2WheelJoint_GetReactionTorque_1:iO,_emscripten_bind_b2RevoluteJointDef_b2RevoluteJointDef_0:ZW,_emscripten_bind_b2ContactFeature_set_typeA_1:OM,_emscripten_bind_b2Fixture_Dump_1:I8,_emscripten_bind_b2World_GetJointList_0:GR,_emscripten_bind_b2Manifold_set_localPoint_1:GF,_emscripten_bind_b2DistanceJoint_SetUserData_1:p4,_emscripten_bind_b2BodyDef_set_bullet_1:LM,_emscripten_bind_b2RayCastOutput___destroy___0:L5,___cxa_can_catch:det,_emscripten_bind_b2WheelJoint_GetNext_0:rO,_emscripten_bind_b2AABB_GetCenter_0:v2,_emscripten_bind_b2Filter_set_groupIndex_1:q8,_emscripten_bind_b2JointDef_b2JointDef_0:CE,_emscripten_bind_b2CircleShape_b2CircleShape_0:k9,_emscripten_bind_b2GearJointDef_b2GearJointDef_0:pZ,_emscripten_bind_b2JointDef_get_bodyB_0:GE,_emscripten_bind_b2DistanceJoint_GetReactionForce_1:eC,_emscripten_bind_b2PrismaticJoint_GetJointSpeed_0:_5,_emscripten_bind_b2PulleyJointDef_get_groundAnchorB_0:O7,_emscripten_bind_b2Joint_GetAnchorA_0:LL,_emscripten_bind_b2Contact_GetRestitution_0:pU,_emscripten_bind_b2ContactEdge_get_contact_0:_K,_emscripten_bind_b2RevoluteJointDef_get_userData_0:xN,_emscripten_bind_b2Body_ApplyTorque_2:aX,_emscripten_bind_b2Fixture_GetAABB_1:J8,_emscripten_bind_b2DistanceJointDef_Initialize_4:BU,_emscripten_bind_b2PrismaticJointDef_set_collideConnected_1:uR,_emscripten_bind_b2PrismaticJointDef_set_localAxisA_1:NF,_emscripten_bind_b2Contact_GetTangentSpeed_0:mU,_emscripten_enum_b2LimitState_e_atLowerLimit:fQ,_emscripten_bind_b2ManifoldPoint_set_id_1:vE,_emscripten_bind_b2WheelJointDef_get_bodyB_0:I9,_emscripten_bind_b2WeldJoint_GetLocalAnchorB_0:m7,_emscripten_bind_b2RevoluteJointDef_set_localAnchorB_1:eN,_emscripten_bind_b2RevoluteJoint_GetType_0:NZ,_emscripten_bind_b2Body_DestroyFixture_1:HU,_emscripten_bind_b2Profile_set_broadphase_1:MM,_emscripten_bind_b2WheelJointDef_get_localAnchorB_0:b9,_emscripten_bind_b2ContactImpulse_get_count_0:Z6,_emscripten_bind_b2World_GetJointCount_0:WR,_emscripten_bind_b2WheelJoint_GetMotorSpeed_0:WN,_emscripten_bind_b2Body_GetAngularDamping_0:CX,_emscripten_bind_b2WheelJointDef_get_dampingRatio_0:B9,_emscripten_bind_b2RayCastOutput_get_fraction_0:F5,_emscripten_enum_b2ManifoldType_e_circles:AQ,_emscripten_bind_b2GearJoint_SetRatio_1:HL,_emscripten_bind_JSDraw_DrawPolygon_3:VN,_emscripten_bind_b2Filter___destroy___0:E8,_emscripten_bind_b2JointEdge_set_next_1:q7,___cxa_is_pointer_type:yet,_emscripten_bind_b2BodyDef_get_fixedRotation_0:FM,_emscripten_bind_b2PrismaticJointDef_set_motorSpeed_1:rR,_emscripten_bind_b2ChainShape_SetPrevVertex_1:HE,_emscripten_bind_b2MotorJoint_IsActive_0:pS,_emscripten_bind_b2MouseJoint_GetReactionTorque_1:PS,_emscripten_bind_b2MouseJoint_GetUserData_0:vM,_emscripten_bind_b2WheelJoint_GetUserData_0:nO,_emscripten_bind_b2Vec3_op_sub_1:p_,_emscripten_bind_b2BodyDef_get_gravityScale_0:ZC,_emscripten_bind_b2Shape_GetType_0:bU,_emscripten_bind_b2AABB_IsValid_0:a2,_emscripten_bind_b2WheelJoint_GetBodyA_0:QN,_emscripten_bind_JSDraw_DrawTransform_1:IN,_emscripten_bind_b2PulleyJoint_GetLengthA_0:mO,_emscripten_bind_b2DistanceJointDef_get_frequencyHz_0:JU,_emscripten_bind_b2RevoluteJoint_SetMotorSpeed_1:qZ,_emscripten_bind_b2World___destroy___0:e5,_emscripten_bind_b2ChainShape_get_m_hasNextVertex_0:bz,_emscripten_bind_b2ChainShape_SetNextVertex_1:ZE,_emscripten_bind_b2Body_SetType_1:VX,_emscripten_bind_b2Body_GetMass_0:lX,_emscripten_bind_b2Rot_b2Rot_0:Y8,_emscripten_bind_b2Rot_b2Rot_1:h4,_emscripten_enum_b2JointType_e_distanceJoint:pQ,_emscripten_bind_b2PulleyJoint___destroy___0:MO,_emscripten_bind_b2PrismaticJoint_GetLocalAnchorB_0:i5,_emscripten_bind_b2MouseJoint_GetType_0:u4,_emscripten_bind_JSQueryCallback___destroy___0:W8,_emscripten_bind_b2RevoluteJointDef_set_lowerAngle_1:_N,_emscripten_bind_b2JointEdge___destroy___0:E7,_emscripten_bind_b2PulleyJoint_GetRatio_0:uO,_emscripten_bind_JSContactListener_BeginContact_1:O5,_emscripten_bind_b2MotorJointDef_set_linearOffset_1:FK,_emscripten_enum_b2JointType_e_motorJoint:yQ,_emscripten_bind_b2JointEdge_get_next_0:k7,_emscripten_bind_b2RayCastInput_set_maxFraction_1:$z,_emscripten_bind_b2MouseJoint_GetBodyA_0:iV,_emscripten_bind_b2Profile_set_collide_1:XC,_emscripten_bind_b2AABB_b2AABB_0:K_,_emscripten_bind_b2Fixture_Refilter_0:eV,_emscripten_bind_b2World_CreateBody_1:vR,_emscripten_bind_b2RopeJointDef_set_userData_1:CK,_emscripten_bind_b2Fixture_IsSensor_0:y8,_emscripten_bind_b2WeldJoint_GetType_0:x7,_emscripten_bind_b2PrismaticJointDef_get_motorSpeed_0:iR,_emscripten_bind_b2Rot___destroy___0:P1,_emscripten_bind_b2Filter_get_maskBits_0:L8,_emscripten_bind_b2Mat22_get_ex_0:r9,_emscripten_bind_b2Body_GetFixtureList_0:FH,_emscripten_bind_b2RevoluteJointDef_get_enableMotor_0:cN,_emscripten_bind_b2MouseJointDef_set_dampingRatio_1:kO,_emscripten_bind_JSRayCastCallback___destroy___0:WM,_emscripten_bind_b2ContactListener___destroy___0:mE,_emscripten_bind_b2PrismaticJointDef_set_localAnchorB_1:zF,_emscripten_enum_b2DrawFlag_e_pairBit:GQ,_emscripten_bind_b2FrictionJoint___destroy___0:_Z,_emscripten_bind_b2WeldJoint_Dump_0:y7,_emscripten_bind_b2MotorJoint_SetMaxForce_1:tG,_emscripten_bind_b2FrictionJointDef_get_maxTorque_0:hV,_emscripten_bind_b2FrictionJoint_GetLocalAnchorA_0:WH,_emscripten_bind_b2WeldJointDef_get_localAnchorB_0:oL,_emscripten_bind_b2PrismaticJointDef_get_bodyA_0:pR,_emscripten_bind_b2Vec2_IsValid_0:QM,_emscripten_bind_b2PrismaticJointDef_set_bodyA_1:cR,_emscripten_bind_b2World_GetWarmStarting_0:RR,_emscripten_bind_b2RevoluteJointDef_set_enableLimit_1:nN,_emscripten_bind_b2WeldJointDef___destroy___0:gL,_emscripten_bind_b2Mat22_Solve_1:i9,_emscripten_bind_b2Color_get_g_0:Bz,_emscripten_bind_VoidPtr___destroy___0:iP,_emscripten_bind_b2RopeJoint_GetNext_0:zz,_emscripten_bind_b2Filter_b2Filter_0:F8,_emscripten_bind_b2PolygonShape_GetChildCount_0:aW,_emscripten_bind_b2GearJointDef_get_ratio_0:uZ,_emscripten_bind_b2Mat33_Solve33_1:s8,_emscripten_bind_b2PulleyJoint_GetReactionForce_1:AO,_emscripten_bind_b2WheelJoint_GetCollideConnected_0:aO,_emscripten_bind_b2WheelJoint_SetSpringDampingRatio_1:HN,_emscripten_bind_b2RevoluteJointDef___destroy___0:PN,_emscripten_bind_b2MouseJointDef_get_maxForce_0:IO,_emscripten_bind_b2RevoluteJoint_EnableMotor_1:kZ,_emscripten_bind_b2ContactFeature_get_typeB_0:S4,_emscripten_bind_b2MotorJoint_SetLinearOffset_1:Q8,_emscripten_bind_b2MotorJoint_GetReactionForce_1:sG,_emscripten_bind_b2Rot_GetAngle_0:SM,_emscripten_bind_b2World_SetAllowSleeping_1:IR,_emscripten_bind_b2MotorJoint_SetAngularOffset_1:$8,_emscripten_bind_b2MotorJoint_GetLinearOffset_0:iC,_emscripten_bind_b2FrictionJoint_GetCollideConnected_0:sZ,_emscripten_bind_b2WheelJointDef_set_motorSpeed_1:A9,_emscripten_bind_b2MotorJoint_GetAnchorA_0:nG,_emscripten_bind_b2Fixture_GetDensity_0:w8,_emscripten_bind_b2PolygonShape_get_m_type_0:yW,_emscripten_bind_b2Vec2_Set_2:YM,_emscripten_bind_b2WeldJointDef_get_type_0:cL,_emscripten_bind_b2MouseJointDef_b2MouseJointDef_0:DO,_emscripten_bind_b2Rot_get_s_0:CM,_emscripten_bind_b2FrictionJoint_SetMaxTorque_1:XH,_emscripten_bind_b2MouseJointDef_get_frequencyHz_0:FO,_emscripten_bind_b2FrictionJoint_SetUserData_1:rZ,_emscripten_bind_b2FixtureDef_set_userData_1:W0,_emscripten_bind_b2JointDef_get_userData_0:wE,_emscripten_bind_b2DistanceJointDef_get_collideConnected_0:NU,_emscripten_bind_b2RevoluteJointDef_set_referenceAngle_1:iN,_emscripten_bind_b2ContactFeature___destroy___0:UM,_emscripten_bind_b2DistanceJointDef_set_bodyB_1:WU,_emscripten_bind_JSQueryCallback_JSQueryCallback_0:j8,_emscripten_bind_b2ChainShape_GetChildCount_0:$E,_emscripten_bind_b2MassData_b2MassData_0:PL,_emscripten_bind_b2Vec3_set_y_1:k_,_emscripten_bind_b2AABB_Combine_1:N2,_emscripten_bind_b2AABB_Combine_2:W2,_emscripten_bind_b2PrismaticJoint_GetBodyA_0:v5,_emscripten_bind_b2PrismaticJoint_GetMaxMotorForce_0:x5,_emscripten_bind_b2AABB___destroy___0:h0,_emscripten_bind_b2Body_IsSleepingAllowed_0:IX,_emscripten_bind_b2MouseJointDef_set_maxForce_1:TO,_emscripten_bind_b2MotorJoint_GetCorrectionFactor_0:iG,_emscripten_bind_b2Profile_get_solve_0:YC,_emscripten_bind_JSDestructionListener_SayGoodbyeFixture_1:ZB,_emscripten_bind_b2PolygonShape_GetVertexCount_0:nW,_emscripten_bind_b2Rot_get_c_0:oC,_emscripten_bind_b2AABB_set_lowerBound_1:l0,_emscripten_bind_b2ChainShape_get_m_hasPrevVertex_0:lz,_emscripten_bind_b2MouseJoint_SetMaxForce_1:gM,_emscripten_bind_b2FrictionJointDef_get_bodyB_0:AF,_emscripten_bind_b2JointDef_set_userData_1:VE,_emscripten_bind_b2ManifoldPoint_get_tangentImpulse_0:xE,_emscripten_bind_b2RevoluteJointDef_get_maxMotorTorque_0:uN,_emscripten_bind_b2WeldJointDef_get_dampingRatio_0:aL,_emscripten_bind_b2MouseJoint___destroy___0:wA,_emscripten_bind_b2EdgeShape_b2EdgeShape_0:AW,_emscripten_bind_b2FrictionJoint_GetReactionForce_1:tZ,_emscripten_bind_b2DistanceJointDef_set_type_1:LU,_emscripten_bind_b2WeldJoint___destroy___0:D7,_emscripten_bind_JSContactListener_PostSolve_2:Y5,_emscripten_bind_b2PulleyJoint_GetBodyA_0:xO,_emscripten_bind_b2RopeJointDef_get_type_0:vK,_emscripten_bind_b2CircleShape_ComputeMass_2:N9,_emscripten_bind_b2DistanceJointDef_get_localAnchorB_0:VU,_emscripten_bind_b2GearJointDef___destroy___0:PZ,_emscripten_bind_b2RevoluteJointDef_set_bodyA_1:vN,_emscripten_enum_b2BodyType_b2_dynamicBody:wQ,_emscripten_bind_b2CircleShape_TestPoint_2:j9,_emscripten_bind_b2MotorJointDef_get_maxTorque_0:EK,_emscripten_bind_b2Body_GetLinearVelocityFromLocalPoint_1:vX,_emscripten_bind_b2Mat22_b2Mat22_0:Z5,_emscripten_bind_b2MouseJoint_GetAnchorB_0:N0,_emscripten_enum_b2BodyType_b2_kinematicBody:PQ,_emscripten_bind_b2Manifold_get_localPoint_0:DF,_emscripten_bind_b2GearJoint_GetBodyB_0:$L,_emscripten_bind_b2ChainShape_Clear_0:UE,_emscripten_bind_b2CircleShape___destroy___0:K9,_emscripten_bind_b2MotorJoint_GetType_0:z1,_emscripten_bind_b2BodyDef_get_awake_0:cS,_emscripten_bind_b2Contact_SetRestitution_1:aU,_emscripten_bind_b2BodyDef_get_angularDamping_0:sP,_emscripten_bind_b2EdgeShape_get_m_vertex3_0:RW,_emscripten_bind_b2Fixture_SetUserData_1:A8,_emscripten_bind_b2Transform_SetIdentity_0:kE,_emscripten_bind_b2GearJointDef_set_joint1_1:lZ,_emscripten_bind_b2EdgeShape_set_m_vertex2_1:IW,_emscripten_bind_b2ContactEdge_get_next_0:lK,_emscripten_bind_b2ContactFeature_set_indexB_1:KC,_emscripten_bind_b2Body_GetLinearVelocityFromWorldPoint_1:gX,_emscripten_bind_b2WeldJoint_GetCollideConnected_0:M7,_emscripten_bind_b2Mat22_set_ey_1:_9,_emscripten_bind_b2WheelJointDef_set_frequencyHz_1:C9,_emscripten_bind_b2World_GetSubStepping_0:ER,_emscripten_bind_b2Rot_GetYAxis_0:H8,_emscripten_bind_b2Contact_GetChildIndexB_0:rU,_emscripten_bind_b2DistanceJoint___destroy___0:o8,_emscripten_bind_b2EdgeShape_GetType_0:CW,_emscripten_bind_b2WheelJointDef_set_dampingRatio_1:P9,_emscripten_bind_b2ManifoldPoint___destroy___0:AE,_emscripten_enum_b2JointType_e_prismaticJoint:aQ,_emscripten_bind_b2MotorJoint_GetNext_0:d4,_emscripten_bind_b2Vec2_Length_0:QC,_emscripten_bind_b2Vec2_SetZero_0:cV,_emscripten_bind_b2RopeJoint___destroy___0:Xz,_emscripten_bind_b2World_DestroyJoint_1:CR,_emscripten_bind_b2JointDef_set_bodyB_1:JE,_emscripten_bind_b2Mat22_Set_2:$5,_emscripten_bind_b2Body_GetType_0:MX,_emscripten_bind_b2WeldJoint_GetAnchorB_0:A7,_emscripten_bind_b2WeldJoint_GetNext_0:B7,_emscripten_bind_b2Shape_get_m_radius_0:vU,_emscripten_bind_b2EdgeShape_ComputeAABB_3:VW,_emscripten_bind_b2BodyDef_get_type_0:g4,_emscripten_bind_b2WheelJointDef_set_collideConnected_1:R9,_emscripten_bind_JSDestructionListener___destroy___0:H6,_emscripten_bind_b2MotorJointDef_get_type_0:NK,_emscripten_bind_b2RopeJoint_GetLocalAnchorA_0:Dz,_emscripten_bind_b2BodyDef_set_linearDamping_1:TM,_emscripten_bind_b2FrictionJoint_GetUserData_0:iZ,_emscripten_bind_b2Contact_SetFriction_1:nU,_emscripten_bind_b2Manifold_set_localNormal_1:MF,_emscripten_bind_b2JointDef_get_bodyA_0:ME,_emscripten_bind_b2Body_GetLinearDamping_0:AX,_emscripten_bind_b2WeldJointDef_set_frequencyHz_1:_L,_emscripten_bind_b2Body_ResetMassData_0:hX,_emscripten_bind_b2PrismaticJointDef_set_enableMotor_1:tR,_emscripten_enum_b2JointType_e_wheelJoint:bQ,_emscripten_bind_b2Vec2_Skew_0:CB,_emscripten_bind_b2MouseJoint_GetDampingRatio_0:U8,_emscripten_bind_b2RevoluteJoint_GetAnchorA_0:XZ,_emscripten_bind_b2ChainShape_set_m_prevVertex_1:az,_emscripten_bind_b2WheelJoint_GetAnchorA_0:tO,_emscripten_bind_b2MotorJoint_GetMaxTorque_0:oG,_emscripten_bind_b2FrictionJoint_GetNext_0:oZ,_emscripten_bind_b2PrismaticJointDef_set_userData_1:aR,_emscripten_bind_b2FrictionJointDef_set_type_1:yF,_emscripten_bind_b2PrismaticJoint_GetUserData_0:V5,_emscripten_bind_b2FrictionJointDef_get_collideConnected_0:CF,_emscripten_bind_b2Body_GetInertia_0:mX,_emscripten_bind_b2WeldJointDef_set_referenceAngle_1:nL,_emscripten_bind_b2FrictionJoint_GetAnchorA_0:QH,_emscripten_bind_b2RopeJoint_GetType_0:Fz,_emscripten_bind_b2MassData_get_I_0:GL,_emscripten_bind_b2WheelJointDef_get_motorSpeed_0:v9,_emscripten_bind_b2WeldJointDef_get_referenceAngle_0:rL,_emscripten_enum_b2JointType_e_ropeJoint:dQ,_emscripten_bind_b2Filter_set_maskBits_1:k8,_emscripten_bind_b2EdgeShape_set_m_radius_1:OW,_emscripten_bind_b2MotorJointDef_set_collideConnected_1:$K,_emscripten_bind_b2Mat22_b2Mat22_2:K5,_emscripten_bind_b2WheelJointDef_set_maxMotorTorque_1:g9,_emscripten_bind_b2FrictionJointDef_set_bodyB_1:SF,_emscripten_bind_b2Mat22_b2Mat22_4:Q5,_emscripten_bind_b2ChainShape_set_m_hasNextVertex_1:uz,_emscripten_bind_b2Mat22_GetInverse_0:o9,_emscripten_bind_b2PrismaticJoint_EnableMotor_1:u5,_emscripten_bind_b2CircleShape_get_m_type_0:X9,_emscripten_bind_b2DistanceJoint_GetLocalAnchorA_0:Q1,_emscripten_bind_b2ContactEdge_b2ContactEdge_0:rK,_emscripten_bind_b2BodyDef___destroy___0:EM,_emscripten_bind_b2FrictionJointDef_set_maxTorque_1:yG,_emscripten_bind_b2PolygonShape_GetVertex_1:sW,_emscripten_bind_b2PulleyJointDef_set_groundAnchorB_1:U7,_emscripten_bind_b2RevoluteJointDef_get_collideConnected_0:CN,_emscripten_bind_b2DistanceJointDef_set_bodyA_1:jU,_emscripten_bind_b2RevoluteJoint_SetLimits_2:RZ,_emscripten_bind_b2WeldJointDef_set_type_1:lL,_emscripten_bind_b2MotorJointDef___destroy___0:tQ,_emscripten_bind_b2FixtureDef_set_density_1:dA,_emscripten_bind_b2Shape_set_m_type_1:gU,_emscripten_bind_b2WheelJoint_GetJointTranslation_0:kN,_emscripten_bind_b2WheelJoint_GetMotorTorque_1:UN,_emscripten_bind_b2RopeJoint_SetUserData_1:Nz,_emscripten_bind_b2RopeJointDef___destroy___0:GK,_emscripten_bind_b2WheelJoint_IsActive_0:_O,_emscripten_bind_b2PrismaticJointDef_get_enableMotor_0:$F,_emscripten_bind_b2MotorJointDef_set_bodyB_1:KK,_emscripten_bind_b2Transform_b2Transform_2:LE,_emscripten_bind_b2WeldJoint_GetReactionForce_1:S7,_emscripten_bind_b2ChainShape_RayCast_4:tz,_emscripten_bind_b2PrismaticJoint_GetUpperLimit_0:l5,_emscripten_bind_b2ContactID_get_cf_0:k5,_emscripten_bind_b2MouseJointDef_set_frequencyHz_1:RO,_emscripten_bind_b2ChainShape_get_m_radius_0:yz,_emscripten_bind_b2Body_GetLinearVelocity_0:iX,_emscripten_bind_b2ChainShape_set_m_radius_1:xz,_emscripten_bind_b2DistanceJoint_GetReactionTorque_1:SB,_emscripten_bind_b2World_Dump_0:t5,_emscripten_bind_b2RevoluteJoint_GetLocalAnchorB_0:VZ,_emscripten_bind_JSContactFilter_JSContactFilter_0:XW,_emscripten_bind_b2Profile_set_solve_1:BM,_emscripten_bind_b2WeldJoint_GetDampingRatio_0:d7,_emscripten_bind_b2Color_get_b_0:wz,_emscripten_bind_b2MouseJointDef_get_userData_0:jO,_emscripten_bind_b2CircleShape_ComputeAABB_3:W9,_emscripten_bind_b2RopeJoint_GetReactionForce_1:Ez,_emscripten_bind_b2PrismaticJointDef_get_enableLimit_0:XF,_emscripten_bind_b2ManifoldPoint_set_localPoint_1:hE,_emscripten_bind_b2Fixture_GetFilterData_0:f8,_emscripten_bind_b2World_GetBodyList_0:DR,_emscripten_bind_b2Shape_ComputeMass_2:xU,_emscripten_bind_b2Joint_GetNext_0:jL,_emscripten_bind_b2PrismaticJointDef_get_collideConnected_0:bR,_emscripten_bind_b2World_RayCast_3:MR,_emscripten_bind_b2MassData_set_I_1:JL,_emscripten_bind_b2MassData___destroy___0:IL,_emscripten_bind_b2Profile_get_collide_0:eP,_emscripten_bind_b2Color_b2Color_3:vz,_emscripten_bind_b2Color_b2Color_0:gz,_emscripten_bind_b2MouseJoint_GetFrequency_0:oV,_emscripten_bind_b2WeldJointDef_Initialize_3:$9,_emscripten_bind_b2Shape_GetChildCount_0:uU,_emscripten_enum_b2JointType_e_gearJoint:mQ,_emscripten_bind_b2FixtureDef_get_friction_0:z0,_emscripten_bind_b2PrismaticJointDef_set_localAnchorA_1:EF,_emscripten_bind_b2Contact_GetManifold_0:ZO,_emscripten_bind_b2MouseJoint_GetTarget_0:rS,_emscripten_bind_b2WeldJointDef_get_localAnchorA_0:tL,_emscripten_bind_b2MouseJoint_SetUserData_1:UC,_emscripten_bind_b2JointEdge_get_other_0:J7,_emscripten_bind_b2ChainShape_GetChildEdge_2:KE,_emscripten_bind_b2GearJointDef_set_collideConnected_1:BZ,_emscripten_bind_b2MotorJointDef_get_angularOffset_0:RK,_emscripten_bind_b2WheelJoint_SetUserData_1:sO,_emscripten_bind_b2Body_ApplyForce_3:sX,_emscripten_bind_b2PrismaticJoint_SetMotorSpeed_1:h5,_emscripten_bind_b2DistanceJoint_GetCollideConnected_0:hM,_emscripten_bind_b2MouseJoint_GetMaxForce_0:N8,_emscripten_bind_b2World_SetGravity_1:YR,_emscripten_bind_b2Mat22_SetZero_0:e9,_emscripten_bind_b2Contact_GetChildIndexA_0:oU,_emscripten_bind_b2Fixture_SetRestitution_1:G8,_emscripten_bind_b2Body_GetTransform_0:KU,_emscripten_bind_b2ContactEdge___destroy___0:bK,_emscripten_bind_b2Mat33_set_ex_1:l4,_emscripten_bind_b2AABB_GetExtents_0:M2,_emscripten_bind_b2RevoluteJointDef_get_bodyA_0:gN,_emscripten_bind_b2PrismaticJoint_GetBodyB_0:A5,_emscripten_bind_b2WheelJointDef_set_bodyA_1:J9,_emscripten_bind_b2DistanceJointDef_set_collideConnected_1:OU,_emscripten_bind_b2BodyDef_get_angle_0:GM,_emscripten_bind_b2PulleyJoint_GetReactionTorque_1:SO,_emscripten_bind_b2FixtureDef_get_shape_0:E0,_emscripten_bind_b2WeldJointDef_get_userData_0:mL,_emscripten_bind_b2FrictionJoint_SetMaxForce_1:OH,_emscripten_bind_b2Mat33_b2Mat33_3:r8,_emscripten_bind_b2Vec3_get_y_0:T_,_emscripten_bind_b2JointDef_get_type_0:BE,_emscripten_bind_JSQueryCallback_ReportFixture_1:z8,_emscripten_bind_b2Fixture_TestPoint_1:S8,_emscripten_bind_b2RevoluteJoint_GetCollideConnected_0:eK,_emscripten_bind_JSDraw_JSDraw_0:wN,_emscripten_bind_b2MouseJoint_GetAnchorA_0:PA,_emscripten_bind_b2Transform_get_p_0:EE,_emscripten_bind_b2EdgeShape_ComputeMass_2:MW,_emscripten_bind_b2World_GetProfile_0:$R,_emscripten_bind_b2DistanceJointDef___destroy___0:UU,_emscripten_bind_b2RopeJointDef_set_bodyA_1:PK,_emscripten_bind_b2JointDef_set_type_1:PE,_emscripten_bind_b2Draw_AppendFlags_1:SL,_emscripten_bind_b2MotorJointDef_get_userData_0:UK,_emscripten_bind_b2World_GetContactList_0:JR,_emscripten_bind_b2Mat33_set_ez_1:b8,_emscripten_bind_b2JointEdge_b2JointEdge_0:G7,_emscripten_bind_b2FrictionJointDef_get_bodyA_0:gF,_emscripten_bind_b2WheelJointDef_get_type_0:w9,_emscripten_bind_b2RevoluteJoint_GetReactionForce_1:HZ,_emscripten_bind_b2PulleyJointDef_set_collideConnected_1:cE,_emscripten_bind_b2RopeJoint_GetCollideConnected_0:Uz,_emscripten_bind_b2GearJointDef_set_joint2_1:bZ,_emscripten_bind_b2BodyDef_set_userData_1:lG,_emscripten_bind_b2GearJoint_GetAnchorB_0:e7,_emscripten_bind_b2RopeJoint_IsActive_0:Oz,_emscripten_bind_b2Fixture_GetFriction_0:V8,_emscripten_enum_b2DrawFlag_e_aabbBit:DQ,_emscripten_bind_b2RevoluteJointDef_Initialize_3:KW,_emscripten_bind_b2Body_GetAngle_0:$U,_emscripten_bind_b2EdgeShape_Set_2:SW,_emscripten_bind_b2Mat33_SetZero_0:n8,_emscripten_bind_b2MotorJointDef_set_maxTorque_1:jK,_emscripten_bind_b2PrismaticJointDef_get_localAxisA_0:WF,_emscripten_bind_b2Mat22_get_ey_0:s9,_emscripten_bind_b2Mat22_SetIdentity_0:t9,_emscripten_bind_b2Joint_IsActive_0:NL,_emscripten_bind_b2BodyDef_get_allowSleep_0:pG,_emscripten_bind_b2World_GetTreeHeight_0:OR,_emscripten_bind_b2GearJoint_GetJoint2_0:YL,_emscripten_bind_b2EdgeShape_set_m_vertex1_1:GW,_emscripten_bind_b2Body_GetWorld_0:jH,_emscripten_enum_b2LimitState_e_inactiveLimit:xQ,_emscripten_bind_b2PulleyJointDef_set_lengthB_1:_k,_emscripten_bind_b2Body_SetAwake_1:TX,_emscripten_bind_b2PrismaticJointDef_set_upperTranslation_1:QF,_emscripten_bind_b2Vec2___destroy___0:mV,_emscripten_bind_b2RayCastInput_set_p1_1:Hz,_emscripten_bind_b2Contact_ResetFriction_0:_U,_emscripten_bind_b2PulleyJoint_GetAnchorA_0:gO,_emscripten_bind_b2BodyDef_get_linearVelocity_0:q0,_emscripten_bind_b2DistanceJointDef_get_bodyB_0:zU,_emscripten_bind_b2Mat22___destroy___0:a9,_emscripten_bind_b2RevoluteJoint_GetAnchorB_0:YZ,_emscripten_bind_b2RevoluteJoint_GetNext_0:KZ,_emscripten_bind_b2WeldJointDef_get_bodyA_0:uL,_emscripten_bind_b2MotorJoint_GetAnchorB_0:W1,_emscripten_bind_b2Fixture_GetShape_0:yM,_emscripten_bind_b2PolygonShape_SetAsBox_2:iW,_emscripten_bind_b2Vec3_op_mul_1:b_,_emscripten_bind_b2PolygonShape_set_m_type_1:xW,_emscripten_bind_b2WheelJoint_GetType_0:KN,_emscripten_bind_b2MotorJoint_GetAngularOffset_0:rC,_emscripten_bind_b2RevoluteJoint_IsActive_0:tK,_emscripten_bind_b2GearJoint_GetNext_0:r7,_emscripten_bind_b2MotorJointDef_get_correctionFactor_0:zK,_emscripten_bind_b2Color_Set_3:Az,_emscripten_bind_b2EdgeShape_set_m_type_1:WW,_emscripten_bind_b2WheelJoint_GetLocalAxisA_0:LN,_emscripten_bind_b2Body_GetNext_0:kH,_emscripten_bind_b2RopeJoint_GetBodyA_0:Rz,_emscripten_enum_b2JointType_e_unknownJoint:sQ,_emscripten_bind_b2ContactFeature_set_indexA_1:H2,_emscripten_bind_b2Profile_get_solveInit_0:PM,_emscripten_bind_b2BodyDef_set_angularDamping_1:aG,_emscripten_bind_b2FrictionJoint_GetAnchorB_0:$H,_emscripten_bind_b2World_QueryAABB_2:VR,_emscripten_bind_b2BodyDef_get_userData_0:YA,_emscripten_bind_b2ContactID_get_key_0:E5,_emscripten_bind_b2Body_SetAngularVelocity_1:rX,_emscripten_bind_b2WheelJointDef_get_userData_0:M9,_emscripten_bind_b2RevoluteJoint_IsLimitEnabled_0:JZ,_emscripten_bind_b2DistanceJoint_GetBodyB_0:_w,_emscripten_bind_b2RevoluteJointDef_set_maxMotorTorque_1:hN,_emscripten_bind_b2WeldJointDef_set_bodyB_1:yL,_emscripten_bind_b2RevoluteJoint_SetUserData_1:$Z,_emscripten_bind_b2DistanceJoint_SetLength_1:o1,_emscripten_bind_b2JointEdge_get_joint_0:T7,_emscripten_bind_b2Body_GetLocalCenter_0:eX,_emscripten_bind_b2FixtureDef___destroy___0:WA,_emscripten_bind_b2FixtureDef_set_shape_1:v0,_emscripten_bind_b2WeldJoint_GetAnchorA_0:v7,_emscripten_bind_b2Profile_get_solveVelocity_0:rV,_emscripten_bind_b2WeldJointDef_get_bodyB_0:dL,_emscripten_bind_b2Body_SetAngularDamping_1:BX,_emscripten_bind_b2PulleyJointDef_Initialize_7:z7,_emscripten_bind_b2GearJointDef_set_bodyB_1:SZ,_emscripten_bind_b2RopeJoint_GetReactionTorque_1:jz,_emscripten_bind_b2Mat22_set_ex_1:n9,_emscripten_bind_b2GearJoint_GetType_0:KL,_emscripten_enum_b2DrawFlag_e_centerOfMassBit:JQ,_emscripten_bind_b2ChainShape_b2ChainShape_0:OE,_emscripten_bind_b2RevoluteJoint_SetMaxMotorTorque_1:jZ,_emscripten_bind_b2RopeJointDef_set_localAnchorB_1:xK,_emscripten_bind_b2FrictionJointDef_Initialize_3:$1,_emscripten_bind_b2GearJointDef_set_userData_1:fZ,_emscripten_bind_b2ChainShape_CreateLoop_2:XE,_emscripten_bind_b2EdgeShape_get_m_radius_0:NW,_emscripten_bind_b2Contact_GetFixtureB_0:iU,_emscripten_bind_b2ChainShape_ComputeMass_2:oz,_emscripten_bind_b2Vec2_set_y_1:_P,_emscripten_bind_b2PrismaticJoint_IsLimitEnabled_0:a5,_emscripten_bind_b2RopeJointDef_get_bodyB_0:wK,_emscripten_bind_b2BodyDef_b2BodyDef_0:DM,_emscripten_bind_b2MassData_get_mass_0:wL,_emscripten_bind_b2WheelJoint___destroy___0:pO,_emscripten_bind_b2Joint_GetBodyB_0:RL,_emscripten_bind_b2MouseJointDef_set_collideConnected_1:YO,_emscripten_bind_b2WheelJointDef_set_localAxisA_1:d9,_emscripten_bind_b2Joint_Dump_0:UL,_emscripten_bind_b2WheelJointDef_b2WheelJointDef_0:p9,_emscripten_bind_b2RevoluteJointDef_set_motorSpeed_1:bN,_emscripten_bind_b2MotorJointDef_get_bodyA_0:YK,_emscripten_bind_b2WheelJointDef_get_enableMotor_0:y9,_emscripten_bind_b2Vec2_LengthSquared_0:zA,_emscripten_bind_b2FrictionJointDef_set_bodyA_1:vF,_emscripten_bind_b2WheelJoint_GetSpringFrequencyHz_0:YN,_emscripten_bind_b2ContactFeature_get_indexB_0:xS,_emscripten_bind_b2Body_GetJointList_0:RH,_emscripten_bind_b2FrictionJoint_GetBodyA_0:ZH,_emscripten_bind_b2WheelJointDef_set_localAnchorB_1:u9,_emscripten_bind_b2DistanceJointDef_set_localAnchorA_1:wU,_emscripten_bind_b2PrismaticJointDef_get_maxMotorForce_0:eR,_emscripten_bind_b2Body_SetUserData_1:EH,_emscripten_bind_b2DistanceJoint_GetUserData_0:uM,_emscripten_bind_b2PulleyJointDef_set_bodyA_1:sE,_emscripten_bind_b2Joint_GetType_0:TL,_emscripten_bind_b2Manifold_get_pointCount_0:TF,_emscripten_bind_b2Mat33_get_ez_0:dM,_emscripten_bind_b2DestructionListenerWrapper___destroy___0:W5,_emscripten_bind_b2WheelJointDef_get_bodyA_0:G9,_emscripten_enum_b2LimitState_e_atUpperLimit:gQ,_emscripten_bind_b2PulleyJointDef_set_groundAnchorA_1:N7,_emscripten_bind_b2MouseJointDef_get_type_0:qO,_emscripten_bind_b2PrismaticJoint_SetMaxMotorForce_1:y5,_emscripten_bind_b2PulleyJointDef_get_collideConnected_0:pE,_emscripten_bind_b2RopeJoint_SetMaxLength_1:Jz,_emscripten_bind_b2Joint_SetUserData_1:WL,_emscripten_bind_b2PolygonShape_set_m_radius_1:gW,_emscripten_bind_b2Vec2_get_x_0:uG,_emscripten_bind_JSContactListener_JSContactListener_0:N5,runPostSets:xet,stackAlloc:AB,stackSave:QP,stackRestore:HB,setThrew:Y1,setTempRet0:$P,getTempRet0:s4,dynCall_iiii:get,dynCall_viiiii:jet,dynCall_did:aot,dynCall_vi:Mot,dynCall_diiiid:Zot,dynCall_vii:yit,dynCall_viidii:kit,dynCall_ii:nrt,dynCall_viidi:Prt,dynCall_viii:Xrt,dynCall_v:unt,dynCall_viid:Fnt,dynCall_viiiiii:ost,dynCall_iii:Sst,dynCall_iiiiii:Nst,dynCall_viiii:l_t}}(e.X,e.Y,pb),pc=e._emscripten_bind_b2WheelJoint_GetSpringDampingRatio_0=i._emscripten_bind_b2WheelJoint_GetSpringDampingRatio_0,qc=e._emscripten_bind_b2ContactEdge_set_next_1=i._emscripten_bind_b2ContactEdge_set_next_1,rc=e._emscripten_bind_b2ChainShape_get_m_count_0=i._emscripten_bind_b2ChainShape_get_m_count_0,sc=e._emscripten_bind_b2Fixture_SetFriction_1=i._emscripten_bind_b2Fixture_SetFriction_1,tc=e._emscripten_bind_b2Shape_ComputeAABB_3=i._emscripten_bind_b2Shape_ComputeAABB_3,uc=e._emscripten_bind_b2FrictionJointDef_set_userData_1=i._emscripten_bind_b2FrictionJointDef_set_userData_1,vc=e._emscripten_bind_b2Vec3_get_z_0=i._emscripten_bind_b2Vec3_get_z_0,wc=e._emscripten_bind_b2World_IsLocked_0=i._emscripten_bind_b2World_IsLocked_0,xc=e._emscripten_bind_b2Draw_GetFlags_0=i._emscripten_bind_b2Draw_GetFlags_0,yc=e._emscripten_bind_b2FrictionJoint_IsActive_0=i._emscripten_bind_b2FrictionJoint_IsActive_0,zc=e._emscripten_bind_b2Color_set_g_1=i._emscripten_bind_b2Color_set_g_1,Ac=e._emscripten_bind_b2WheelJointDef_get_frequencyHz_0=i._emscripten_bind_b2WheelJointDef_get_frequencyHz_0,Bc=e._emscripten_bind_b2RopeJointDef_set_localAnchorA_1=i._emscripten_bind_b2RopeJointDef_set_localAnchorA_1,Cc=e._emscripten_bind_b2PolygonShape_RayCast_4=i._emscripten_bind_b2PolygonShape_RayCast_4,Dc=e._emscripten_bind_b2World_GetTreeBalance_0=i._emscripten_bind_b2World_GetTreeBalance_0,Ec=e._emscripten_bind_b2PrismaticJointDef_get_upperTranslation_0=i._emscripten_bind_b2PrismaticJointDef_get_upperTranslation_0,Fc=e._emscripten_bind_JSDraw_DrawSolidCircle_4=i._emscripten_bind_JSDraw_DrawSolidCircle_4,Gc=e._emscripten_bind_b2RevoluteJoint_GetLocalAnchorA_0=i._emscripten_bind_b2RevoluteJoint_GetLocalAnchorA_0,Hc=e._emscripten_bind_b2FixtureDef_get_filter_0=i._emscripten_bind_b2FixtureDef_get_filter_0,Ic=e._emscripten_bind_b2FrictionJointDef_get_type_0=i._emscripten_bind_b2FrictionJointDef_get_type_0,Jc=e._emscripten_bind_b2RevoluteJoint_GetMotorTorque_1=i._emscripten_bind_b2RevoluteJoint_GetMotorTorque_1,Kc=e._emscripten_bind_b2MotorJointDef_set_type_1=i._emscripten_bind_b2MotorJointDef_set_type_1,Lc=e._emscripten_bind_b2RayCastInput_get_p1_0=i._emscripten_bind_b2RayCastInput_get_p1_0,Mc=e._emscripten_bind_b2EdgeShape_set_m_hasVertex3_1=i._emscripten_bind_b2EdgeShape_set_m_hasVertex3_1,Nc=e._emscripten_bind_b2JointEdge_set_joint_1=i._emscripten_bind_b2JointEdge_set_joint_1,Oc=e._emscripten_enum_b2ShapeType_e_polygon=i._emscripten_enum_b2ShapeType_e_polygon,Pc=e._emscripten_bind_b2Fixture___destroy___0=i._emscripten_bind_b2Fixture___destroy___0,Qc=e._emscripten_bind_b2PulleyJoint_SetUserData_1=i._emscripten_bind_b2PulleyJoint_SetUserData_1,Rc=e._emscripten_bind_b2World_SetWarmStarting_1=i._emscripten_bind_b2World_SetWarmStarting_1,Sc=e._emscripten_bind_JSDraw_DrawCircle_3=i._emscripten_bind_JSDraw_DrawCircle_3,Tc=e._emscripten_bind_b2WeldJoint_IsActive_0=i._emscripten_bind_b2WeldJoint_IsActive_0,Uc=e._emscripten_bind_b2DestructionListener___destroy___0=i._emscripten_bind_b2DestructionListener___destroy___0,Vc=e._emscripten_bind_b2BodyDef_set_type_1=i._emscripten_bind_b2BodyDef_set_type_1,Wc=e._emscripten_bind_b2ChainShape_ComputeAABB_3=i._emscripten_bind_b2ChainShape_ComputeAABB_3,Xc=e._emscripten_bind_b2MouseJointDef_set_type_1=i._emscripten_bind_b2MouseJointDef_set_type_1,Yc=e._emscripten_bind_b2JointEdge_get_prev_0=i._emscripten_bind_b2JointEdge_get_prev_0,Zc=e._emscripten_bind_b2WeldJoint_GetReactionTorque_1=i._emscripten_bind_b2WeldJoint_GetReactionTorque_1,$c=e._emscripten_bind_b2MotorJointDef_get_maxForce_0=i._emscripten_bind_b2MotorJointDef_get_maxForce_0,ad=e._emscripten_bind_b2DistanceJointDef_get_userData_0=i._emscripten_bind_b2DistanceJointDef_get_userData_0,bd=e._emscripten_bind_b2BodyDef_get_position_0=i._emscripten_bind_b2BodyDef_get_position_0,cd=e._emscripten_bind_b2RopeJointDef_get_localAnchorB_0=i._emscripten_bind_b2RopeJointDef_get_localAnchorB_0,dd=e._emscripten_bind_b2RevoluteJointDef_set_userData_1=i._emscripten_bind_b2RevoluteJointDef_set_userData_1,ed=e._emscripten_bind_b2RevoluteJointDef_get_localAnchorA_0=i._emscripten_bind_b2RevoluteJointDef_get_localAnchorA_0,fd=e._emscripten_bind_b2World_SetContactFilter_1=i._emscripten_bind_b2World_SetContactFilter_1,gd=e._emscripten_bind_b2WheelJointDef_get_collideConnected_0=i._emscripten_bind_b2WheelJointDef_get_collideConnected_0,hd=e._emscripten_bind_b2MouseJointDef_set_userData_1=i._emscripten_bind_b2MouseJointDef_set_userData_1,id=e._emscripten_bind_JSDraw_DrawSegment_3=i._emscripten_bind_JSDraw_DrawSegment_3,jd=e._emscripten_bind_b2FixtureDef_set_restitution_1=i._emscripten_bind_b2FixtureDef_set_restitution_1,kd=e._emscripten_bind_b2MotorJointDef_Initialize_2=i._emscripten_bind_b2MotorJointDef_Initialize_2,ld=e._emscripten_bind_b2EdgeShape_GetChildCount_0=i._emscripten_bind_b2EdgeShape_GetChildCount_0,md=e._emscripten_bind_b2Mat33_get_ey_0=i._emscripten_bind_b2Mat33_get_ey_0,nd=e._emscripten_bind_b2MouseJoint_IsActive_0=i._emscripten_bind_b2MouseJoint_IsActive_0,od=e._emscripten_bind_b2World_GetGravity_0=i._emscripten_bind_b2World_GetGravity_0,pd=e._emscripten_bind_b2World_DrawDebugData_0=i._emscripten_bind_b2World_DrawDebugData_0,qd=e._emscripten_bind_b2Profile_get_broadphase_0=i._emscripten_bind_b2Profile_get_broadphase_0,rd=e._emscripten_bind_b2PulleyJointDef_get_bodyA_0=i._emscripten_bind_b2PulleyJointDef_get_bodyA_0,sd=e._emscripten_bind_b2PrismaticJoint_SetLimits_2=i._emscripten_bind_b2PrismaticJoint_SetLimits_2,td=e._emscripten_bind_b2PulleyJointDef_get_localAnchorA_0=i._emscripten_bind_b2PulleyJointDef_get_localAnchorA_0,ud=e._emscripten_bind_b2DistanceJoint_GetAnchorA_0=i._emscripten_bind_b2DistanceJoint_GetAnchorA_0,vd=e._emscripten_bind_b2ManifoldPoint_set_tangentImpulse_1=i._emscripten_bind_b2ManifoldPoint_set_tangentImpulse_1,wd=e._emscripten_bind_b2PolygonShape_get_m_count_0=i._emscripten_bind_b2PolygonShape_get_m_count_0,xd=e._emscripten_bind_b2RopeJointDef_set_collideConnected_1=i._emscripten_bind_b2RopeJointDef_set_collideConnected_1,yd=e._emscripten_bind_b2CircleShape_set_m_p_1=i._emscripten_bind_b2CircleShape_set_m_p_1,zd=e._emscripten_bind_JSContactListener_EndContact_1=i._emscripten_bind_JSContactListener_EndContact_1,Ad=e._emscripten_bind_b2MassData_set_mass_1=i._emscripten_bind_b2MassData_set_mass_1,Bd=e._emscripten_bind_b2Vec3_get_x_0=i._emscripten_bind_b2Vec3_get_x_0,Cd=e._emscripten_bind_b2ChainShape_CreateChain_2=i._emscripten_bind_b2ChainShape_CreateChain_2,Dd=e._emscripten_bind_b2Color_get_r_0=i._emscripten_bind_b2Color_get_r_0,Ed=e._emscripten_bind_b2World_DestroyBody_1=i._emscripten_bind_b2World_DestroyBody_1,Fd=e._emscripten_bind_b2Profile_get_solvePosition_0=i._emscripten_bind_b2Profile_get_solvePosition_0,Gd=e._emscripten_bind_b2Shape_RayCast_4=i._emscripten_bind_b2Shape_RayCast_4,Hd=e._emscripten_bind_b2PulleyJoint_GetGroundAnchorA_0=i._emscripten_bind_b2PulleyJoint_GetGroundAnchorA_0,Id=e._emscripten_bind_b2Mat33___destroy___0=i._emscripten_bind_b2Mat33___destroy___0,Jd=e._emscripten_bind_b2GearJoint_GetReactionTorque_1=i._emscripten_bind_b2GearJoint_GetReactionTorque_1,Kd=e._emscripten_bind_b2WeldJointDef_set_collideConnected_1=i._emscripten_bind_b2WeldJointDef_set_collideConnected_1,Ld=e._emscripten_bind_b2Manifold_get_type_0=i._emscripten_bind_b2Manifold_get_type_0,Md=e._emscripten_bind_b2RevoluteJoint___destroy___0=i._emscripten_bind_b2RevoluteJoint___destroy___0,Nd=e._emscripten_bind_b2PulleyJointDef_b2PulleyJointDef_0=i._emscripten_bind_b2PulleyJointDef_b2PulleyJointDef_0,Od=e._emscripten_bind_b2World_SetAutoClearForces_1=i._emscripten_bind_b2World_SetAutoClearForces_1,Pd=e._emscripten_bind_b2PrismaticJointDef_set_lowerTranslation_1=i._emscripten_bind_b2PrismaticJointDef_set_lowerTranslation_1,Qd=e._emscripten_bind_b2BodyDef_set_position_1=i._emscripten_bind_b2BodyDef_set_position_1,Rd=e._emscripten_bind_b2Transform_get_q_0=i._emscripten_bind_b2Transform_get_q_0,Sd=e._emscripten_bind_b2FrictionJoint_GetMaxForce_0=i._emscripten_bind_b2FrictionJoint_GetMaxForce_0,Td=e._emscripten_bind_b2PolygonShape_set_m_count_1=i._emscripten_bind_b2PolygonShape_set_m_count_1,Ud=e._emscripten_bind_b2Contact_GetNext_0=i._emscripten_bind_b2Contact_GetNext_0,Vd=e._emscripten_bind_b2MotorJointDef_set_userData_1=i._emscripten_bind_b2MotorJointDef_set_userData_1,Wd=e._emscripten_bind_b2EdgeShape_get_m_type_0=i._emscripten_bind_b2EdgeShape_get_m_type_0,Xd=e._emscripten_bind_b2GearJoint_GetJoint1_0=i._emscripten_bind_b2GearJoint_GetJoint1_0,Yd=e._emscripten_bind_b2WheelJoint_GetMaxMotorTorque_0=i._emscripten_bind_b2WheelJoint_GetMaxMotorTorque_0,Zd=e._emscripten_bind_b2MotorJoint_SetMaxTorque_1=i._emscripten_bind_b2MotorJoint_SetMaxTorque_1,$d=e._emscripten_bind_b2GearJoint_GetAnchorA_0=i._emscripten_bind_b2GearJoint_GetAnchorA_0,ae=e._emscripten_enum_b2JointType_e_mouseJoint=i._emscripten_enum_b2JointType_e_mouseJoint,be=e._emscripten_bind_b2MouseJointDef_set_bodyA_1=i._emscripten_bind_b2MouseJointDef_set_bodyA_1,ce=e._emscripten_enum_b2JointType_e_revoluteJoint=i._emscripten_enum_b2JointType_e_revoluteJoint,de=e._emscripten_bind_b2World_SetContactListener_1=i._emscripten_bind_b2World_SetContactListener_1,ee=e._emscripten_bind_b2Body_IsAwake_0=i._emscripten_bind_b2Body_IsAwake_0,fe=e._emscripten_bind_b2JointEdge_set_other_1=i._emscripten_bind_b2JointEdge_set_other_1,ge=e._emscripten_bind_b2RevoluteJoint_IsMotorEnabled_0=i._emscripten_bind_b2RevoluteJoint_IsMotorEnabled_0,he=e._emscripten_bind_b2MouseJointDef_set_target_1=i._emscripten_bind_b2MouseJointDef_set_target_1,ie=e._emscripten_bind_b2MotorJoint_SetCorrectionFactor_1=i._emscripten_bind_b2MotorJoint_SetCorrectionFactor_1,je=e._emscripten_bind_b2FixtureDef_get_density_0=i._emscripten_bind_b2FixtureDef_get_density_0,ke=e._emscripten_bind_b2ChainShape_set_m_vertices_1=i._emscripten_bind_b2ChainShape_set_m_vertices_1,le=e._emscripten_bind_b2ChainShape_get_m_vertices_0=i._emscripten_bind_b2ChainShape_get_m_vertices_0,me=e._emscripten_bind_b2Rot_set_s_1=i._emscripten_bind_b2Rot_set_s_1,ne=e._emscripten_bind_b2MotorJointDef_get_collideConnected_0=i._emscripten_bind_b2MotorJointDef_get_collideConnected_0,oe=e._emscripten_bind_b2RevoluteJoint_GetUpperLimit_0=i._emscripten_bind_b2RevoluteJoint_GetUpperLimit_0,pe=e._emscripten_bind_b2WheelJointDef_set_bodyB_1=i._emscripten_bind_b2WheelJointDef_set_bodyB_1,qe=e._emscripten_bind_b2WheelJointDef_set_enableMotor_1=i._emscripten_bind_b2WheelJointDef_set_enableMotor_1,re=e._emscripten_bind_b2FixtureDef_get_userData_0=i._emscripten_bind_b2FixtureDef_get_userData_0,se=e._emscripten_bind_b2FrictionJointDef_set_collideConnected_1=i._emscripten_bind_b2FrictionJointDef_set_collideConnected_1,te=e._emscripten_bind_b2PrismaticJointDef_get_lowerTranslation_0=i._emscripten_bind_b2PrismaticJointDef_get_lowerTranslation_0,ue=e._emscripten_bind_b2GearJoint_GetCollideConnected_0=i._emscripten_bind_b2GearJoint_GetCollideConnected_0,ve=e._emscripten_bind_b2RevoluteJointDef_get_upperAngle_0=i._emscripten_bind_b2RevoluteJointDef_get_upperAngle_0,we=e._emscripten_bind_b2Body_ApplyAngularImpulse_2=i._emscripten_bind_b2Body_ApplyAngularImpulse_2,xe=e._emscripten_enum_b2JointType_e_frictionJoint=i._emscripten_enum_b2JointType_e_frictionJoint,ye=e._emscripten_bind_b2RayCastOutput_set_fraction_1=i._emscripten_bind_b2RayCastOutput_set_fraction_1,ze=e._emscripten_bind_b2Color_set_r_1=i._emscripten_bind_b2Color_set_r_1,Ae=e._emscripten_bind_b2DistanceJointDef_get_length_0=i._emscripten_bind_b2DistanceJointDef_get_length_0,Be=e._emscripten_bind_b2PulleyJoint_GetBodyB_0=i._emscripten_bind_b2PulleyJoint_GetBodyB_0,Ce=e._emscripten_bind_b2WheelJointDef_set_type_1=i._emscripten_bind_b2WheelJointDef_set_type_1,De=e._emscripten_bind_b2World_GetTreeQuality_0=i._emscripten_bind_b2World_GetTreeQuality_0,Ee=e._emscripten_bind_b2BodyDef_set_gravityScale_1=i._emscripten_bind_b2BodyDef_set_gravityScale_1,Fe=e._emscripten_bind_b2RopeJointDef_set_bodyB_1=i._emscripten_bind_b2RopeJointDef_set_bodyB_1,Ge=e._emscripten_bind_b2PrismaticJoint_GetLowerLimit_0=i._emscripten_bind_b2PrismaticJoint_GetLowerLimit_0,He=e._emscripten_bind_b2AABB_get_lowerBound_0=i._emscripten_bind_b2AABB_get_lowerBound_0,Ie=e._emscripten_bind_b2WheelJoint_SetMotorSpeed_1=i._emscripten_bind_b2WheelJoint_SetMotorSpeed_1,Je=e._emscripten_bind_b2PrismaticJointDef_get_referenceAngle_0=i._emscripten_bind_b2PrismaticJointDef_get_referenceAngle_0,Ke=e._emscripten_bind_b2Body_SetMassData_1=i._emscripten_bind_b2Body_SetMassData_1,Le=e._emscripten_bind_b2BodyDef_get_angularVelocity_0=i._emscripten_bind_b2BodyDef_get_angularVelocity_0,Me=e._emscripten_bind_b2WeldJoint_SetDampingRatio_1=i._emscripten_bind_b2WeldJoint_SetDampingRatio_1,Ne=e._emscripten_bind_b2PrismaticJointDef___destroy___0=i._emscripten_bind_b2PrismaticJointDef___destroy___0,Oe=e._emscripten_bind_b2Contact_IsTouching_0=i._emscripten_bind_b2Contact_IsTouching_0,Pe=e._emscripten_bind_b2Draw_SetFlags_1=i._emscripten_bind_b2Draw_SetFlags_1,Qe=e._emscripten_bind_b2AABB_Contains_1=i._emscripten_bind_b2AABB_Contains_1,Re=e._emscripten_bind_b2DistanceJoint_GetNext_0=i._emscripten_bind_b2DistanceJoint_GetNext_0,Se=e._emscripten_bind_b2GearJoint_GetReactionForce_1=i._emscripten_bind_b2GearJoint_GetReactionForce_1,Te=e._emscripten_bind_b2PrismaticJoint_GetNext_0=i._emscripten_bind_b2PrismaticJoint_GetNext_0,Ue=e._emscripten_bind_b2Filter_get_groupIndex_0=i._emscripten_bind_b2Filter_get_groupIndex_0,Ve=e._emscripten_bind_b2PrismaticJoint_GetType_0=i._emscripten_bind_b2PrismaticJoint_GetType_0,We=e._emscripten_bind_b2Fixture_GetRestitution_0=i._emscripten_bind_b2Fixture_GetRestitution_0,Xe=e._emscripten_bind_b2Transform_set_q_1=i._emscripten_bind_b2Transform_set_q_1,Ye=e._emscripten_bind_b2PolygonShape___destroy___0=i._emscripten_bind_b2PolygonShape___destroy___0,Ze=e._emscripten_bind_b2AABB_get_upperBound_0=i._emscripten_bind_b2AABB_get_upperBound_0,$e=e._emscripten_bind_b2Transform___destroy___0=i._emscripten_bind_b2Transform___destroy___0,af=e._emscripten_bind_b2WeldJointDef_set_localAnchorB_1=i._emscripten_bind_b2WeldJointDef_set_localAnchorB_1,bf=e._emscripten_bind_b2CircleShape_set_m_radius_1=i._emscripten_bind_b2CircleShape_set_m_radius_1,cf=e._emscripten_bind_b2EdgeShape_set_m_hasVertex0_1=i._emscripten_bind_b2EdgeShape_set_m_hasVertex0_1,df=e._emscripten_bind_b2RopeJoint_GetMaxLength_0=i._emscripten_bind_b2RopeJoint_GetMaxLength_0,ef=e._emscripten_bind_b2GearJoint_GetUserData_0=i._emscripten_bind_b2GearJoint_GetUserData_0,ff=e._emscripten_bind_b2MotorJoint_GetCollideConnected_0=i._emscripten_bind_b2MotorJoint_GetCollideConnected_0,gf=e._emscripten_bind_b2GearJointDef_set_type_1=i._emscripten_bind_b2GearJointDef_set_type_1,hf=e._emscripten_bind_b2DistanceJoint_SetDampingRatio_1=i._emscripten_bind_b2DistanceJoint_SetDampingRatio_1,jf=e._emscripten_bind_b2Contact_GetFixtureA_0=i._emscripten_bind_b2Contact_GetFixtureA_0,kf=e._emscripten_bind_b2QueryCallback___destroy___0=i._emscripten_bind_b2QueryCallback___destroy___0,lf=e._emscripten_bind_b2PulleyJointDef_get_ratio_0=i._emscripten_bind_b2PulleyJointDef_get_ratio_0,mf=e._emscripten_bind_b2PrismaticJointDef_get_localAnchorB_0=i._emscripten_bind_b2PrismaticJointDef_get_localAnchorB_0,nf=e._emscripten_bind_b2CircleShape_set_m_type_1=i._emscripten_bind_b2CircleShape_set_m_type_1,of=e._emscripten_enum_b2ShapeType_e_typeCount=i._emscripten_enum_b2ShapeType_e_typeCount,pf=e._emscripten_bind_b2Body_SetTransform_2=i._emscripten_bind_b2Body_SetTransform_2,qf=e._emscripten_bind_b2RopeJoint_GetAnchorB_0=i._emscripten_bind_b2RopeJoint_GetAnchorB_0,rf=e._emscripten_bind_b2AABB_set_upperBound_1=i._emscripten_bind_b2AABB_set_upperBound_1,sf=e._emscripten_bind_b2MouseJointDef_get_collideConnected_0=i._emscripten_bind_b2MouseJointDef_get_collideConnected_0,tf=e._emscripten_bind_b2ContactImpulse___destroy___0=i._emscripten_bind_b2ContactImpulse___destroy___0,uf=e._emscripten_bind_b2PrismaticJointDef_b2PrismaticJointDef_0=i._emscripten_bind_b2PrismaticJointDef_b2PrismaticJointDef_0,vf=e._emscripten_bind_b2Vec2_set_x_1=i._emscripten_bind_b2Vec2_set_x_1,wf=e._emscripten_bind_b2RayCastInput___destroy___0=i._emscripten_bind_b2RayCastInput___destroy___0,xf=e._emscripten_bind_b2Body_ApplyForceToCenter_2=i._emscripten_bind_b2Body_ApplyForceToCenter_2,yf=e._emscripten_bind_JSDestructionListener_JSDestructionListener_0=i._emscripten_bind_JSDestructionListener_JSDestructionListener_0,zf=e._emscripten_bind_b2WheelJointDef_set_localAnchorA_1=i._emscripten_bind_b2WheelJointDef_set_localAnchorA_1,Af=e._emscripten_bind_b2FrictionJoint_GetBodyB_0=i._emscripten_bind_b2FrictionJoint_GetBodyB_0,Bf=e._emscripten_bind_b2DistanceJointDef_get_bodyA_0=i._emscripten_bind_b2DistanceJointDef_get_bodyA_0,Cf=e._emscripten_bind_b2WeldJointDef_set_bodyA_1=i._emscripten_bind_b2WeldJointDef_set_bodyA_1,Df=e._emscripten_bind_b2World_SetDestructionListener_1=i._emscripten_bind_b2World_SetDestructionListener_1,Ef=e._emscripten_bind_b2RevoluteJoint_GetJointSpeed_0=i._emscripten_bind_b2RevoluteJoint_GetJointSpeed_0,Ff=e._emscripten_bind_b2WheelJoint_GetLocalAnchorB_0=i._emscripten_bind_b2WheelJoint_GetLocalAnchorB_0,Gf=e._emscripten_bind_b2JointDef___destroy___0=i._emscripten_bind_b2JointDef___destroy___0,Hf=e._emscripten_bind_b2PrismaticJointDef_Initialize_4=i._emscripten_bind_b2PrismaticJointDef_Initialize_4,If=e._emscripten_bind_b2FrictionJointDef_get_localAnchorA_0=i._emscripten_bind_b2FrictionJointDef_get_localAnchorA_0,Jf=e._emscripten_bind_b2CircleShape_GetChildCount_0=i._emscripten_bind_b2CircleShape_GetChildCount_0,Kf=e._emscripten_bind_b2BodyDef_get_bullet_0=i._emscripten_bind_b2BodyDef_get_bullet_0,Lf=e._emscripten_bind_b2ManifoldPoint_get_localPoint_0=i._emscripten_bind_b2ManifoldPoint_get_localPoint_0,Mf=e._emscripten_bind_b2PrismaticJointDef_get_type_0=i._emscripten_bind_b2PrismaticJointDef_get_type_0,Nf=e._emscripten_bind_b2MassData_get_center_0=i._emscripten_bind_b2MassData_get_center_0,Of=e._emscripten_bind_b2World_b2World_1=i._emscripten_bind_b2World_b2World_1,Pf=e._emscripten_bind_b2WheelJoint_GetReactionForce_1=i._emscripten_bind_b2WheelJoint_GetReactionForce_1,Qf=e._emscripten_bind_b2World_SetSubStepping_1=i._emscripten_bind_b2World_SetSubStepping_1,Rf=e._emscripten_bind_b2Vec2_op_add_1=i._emscripten_bind_b2Vec2_op_add_1,Sf=e._emscripten_bind_b2Joint_GetBodyA_0=i._emscripten_bind_b2Joint_GetBodyA_0,Tf=e._emscripten_bind_b2Joint_GetCollideConnected_0=i._emscripten_bind_b2Joint_GetCollideConnected_0,Uf=e._emscripten_bind_b2MotorJoint_GetReactionTorque_1=i._emscripten_bind_b2MotorJoint_GetReactionTorque_1,Vf=e._emscripten_bind_b2WheelJoint_IsMotorEnabled_0=i._emscripten_bind_b2WheelJoint_IsMotorEnabled_0,Wf=e._emscripten_bind_b2WheelJointDef___destroy___0=i._emscripten_bind_b2WheelJointDef___destroy___0,Xf=e._emscripten_bind_b2Vec3_SetZero_0=i._emscripten_bind_b2Vec3_SetZero_0,Yf=e._emscripten_enum_b2JointType_e_pulleyJoint=i._emscripten_enum_b2JointType_e_pulleyJoint,Zf=e._emscripten_bind_b2ChainShape_get_m_nextVertex_0=i._emscripten_bind_b2ChainShape_get_m_nextVertex_0,$f=e._emscripten_bind_b2Contact_SetEnabled_1=i._emscripten_bind_b2Contact_SetEnabled_1,ag=e._emscripten_bind_b2Shape_set_m_radius_1=i._emscripten_bind_b2Shape_set_m_radius_1,bg=e._emscripten_bind_b2GearJointDef_get_joint2_0=i._emscripten_bind_b2GearJointDef_get_joint2_0,cg=e._emscripten_bind_b2World_SetDebugDraw_1=i._emscripten_bind_b2World_SetDebugDraw_1,dg=e._emscripten_bind_b2ContactID_set_key_1=i._emscripten_bind_b2ContactID_set_key_1,eg=e._emscripten_bind_b2RevoluteJointDef_set_collideConnected_1=i._emscripten_bind_b2RevoluteJointDef_set_collideConnected_1,ab=e._malloc=i._malloc,fg=e._emscripten_bind_b2World_GetProxyCount_0=i._emscripten_bind_b2World_GetProxyCount_0,gg=e._emscripten_bind_b2Vec2_Normalize_0=i._emscripten_bind_b2Vec2_Normalize_0,hg=e._emscripten_bind_b2WheelJoint_GetJointSpeed_0=i._emscripten_bind_b2WheelJoint_GetJointSpeed_0,ig=e._emscripten_bind_b2FrictionJointDef_set_localAnchorA_1=i._emscripten_bind_b2FrictionJointDef_set_localAnchorA_1,jg=e._emscripten_bind_b2GearJoint_GetRatio_0=i._emscripten_bind_b2GearJoint_GetRatio_0,kg=e._emscripten_bind_JSRayCastCallback_JSRayCastCallback_0=i._emscripten_bind_JSRayCastCallback_JSRayCastCallback_0,lg=e._emscripten_bind_b2RayCastInput_set_p2_1=i._emscripten_bind_b2RayCastInput_set_p2_1,mg=e._emscripten_bind_b2RevoluteJointDef_get_motorSpeed_0=i._emscripten_bind_b2RevoluteJointDef_get_motorSpeed_0,ng=e._emscripten_bind_b2RayCastOutput_get_normal_0=i._emscripten_bind_b2RayCastOutput_get_normal_0,og=e._emscripten_bind_b2WeldJoint_GetBodyA_0=i._emscripten_bind_b2WeldJoint_GetBodyA_0,pg=e._emscripten_bind_b2MotorJointDef_set_maxForce_1=i._emscripten_bind_b2MotorJointDef_set_maxForce_1,qg=e._emscripten_enum_b2DrawFlag_e_jointBit=i._emscripten_enum_b2DrawFlag_e_jointBit,rg=e._emscripten_bind_b2FixtureDef_get_isSensor_0=i._emscripten_bind_b2FixtureDef_get_isSensor_0,sg=e._emscripten_bind_b2PulleyJointDef_set_bodyB_1=i._emscripten_bind_b2PulleyJointDef_set_bodyB_1,tg=e._emscripten_bind_b2WheelJoint_EnableMotor_1=i._emscripten_bind_b2WheelJoint_EnableMotor_1,ug=e._emscripten_bind_b2WheelJoint_GetLocalAnchorA_0=i._emscripten_bind_b2WheelJoint_GetLocalAnchorA_0,vg=e._emscripten_bind_JSDraw_DrawSolidPolygon_3=i._emscripten_bind_JSDraw_DrawSolidPolygon_3,wg=e._emscripten_bind_b2Rot_Set_1=i._emscripten_bind_b2Rot_Set_1,xg=e._emscripten_bind_b2ContactFeature_set_typeB_1=i._emscripten_bind_b2ContactFeature_set_typeB_1,yg=e._emscripten_bind_JSDraw___destroy___0=i._emscripten_bind_JSDraw___destroy___0,zg=e._emscripten_bind_b2MouseJointDef___destroy___0=i._emscripten_bind_b2MouseJointDef___destroy___0,Ag=e._emscripten_bind_b2Mat33_Solve22_1=i._emscripten_bind_b2Mat33_Solve22_1,Bg=e._emscripten_bind_b2Profile_set_solvePosition_1=i._emscripten_bind_b2Profile_set_solvePosition_1,Cg=e._emscripten_bind_b2ContactFilter___destroy___0=i._emscripten_bind_b2ContactFilter___destroy___0,Dg=e._emscripten_bind_b2PulleyJointDef_get_localAnchorB_0=i._emscripten_bind_b2PulleyJointDef_get_localAnchorB_0,Eg=e._emscripten_bind_b2ChainShape_set_m_hasPrevVertex_1=i._emscripten_bind_b2ChainShape_set_m_hasPrevVertex_1,Fg=e._emscripten_bind_b2PrismaticJoint___destroy___0=i._emscripten_bind_b2PrismaticJoint___destroy___0,Gg=e._emscripten_bind_b2World_CreateJoint_1=i._emscripten_bind_b2World_CreateJoint_1,Hg=e._emscripten_bind_b2Profile_get_solveTOI_0=i._emscripten_bind_b2Profile_get_solveTOI_0,Ig=e._emscripten_bind_b2ManifoldPoint_get_id_0=i._emscripten_bind_b2ManifoldPoint_get_id_0,Jg=e._emscripten_bind_b2Manifold_set_pointCount_1=i._emscripten_bind_b2Manifold_set_pointCount_1,Kg=e._emscripten_bind_b2PrismaticJoint_GetMotorSpeed_0=i._emscripten_bind_b2PrismaticJoint_GetMotorSpeed_0,Lg=e._emscripten_bind_b2Body_SetSleepingAllowed_1=i._emscripten_bind_b2Body_SetSleepingAllowed_1,Mg=e._emscripten_bind_b2Rot_SetIdentity_0=i._emscripten_bind_b2Rot_SetIdentity_0,Ng=e._emscripten_bind_b2PulleyJoint_GetGroundAnchorB_0=i._emscripten_bind_b2PulleyJoint_GetGroundAnchorB_0,Og=e._emscripten_bind_b2Vec3_op_add_1=i._emscripten_bind_b2Vec3_op_add_1,Pg=e._emscripten_bind_b2FrictionJoint_GetType_0=i._emscripten_bind_b2FrictionJoint_GetType_0,Qg=e._emscripten_bind_b2DistanceJointDef_set_dampingRatio_1=i._emscripten_bind_b2DistanceJointDef_set_dampingRatio_1,Rg=e._emscripten_bind_b2MotorJoint_GetBodyA_0=i._emscripten_bind_b2MotorJoint_GetBodyA_0,Sg=e._emscripten_bind_b2MouseJointDef_get_dampingRatio_0=i._emscripten_bind_b2MouseJointDef_get_dampingRatio_0,Tg=e._emscripten_bind_b2RevoluteJoint_GetMotorSpeed_0=i._emscripten_bind_b2RevoluteJoint_GetMotorSpeed_0,Ug=e._emscripten_bind_b2ChainShape_set_m_type_1=i._emscripten_bind_b2ChainShape_set_m_type_1,Vg=e._emscripten_bind_b2RevoluteJointDef_set_bodyB_1=i._emscripten_bind_b2RevoluteJointDef_set_bodyB_1,Wg=e._emscripten_bind_b2Body_GetGravityScale_0=i._emscripten_bind_b2Body_GetGravityScale_0,Xg=e._emscripten_bind_b2GearJointDef_get_bodyB_0=i._emscripten_bind_b2GearJointDef_get_bodyB_0,Yg=e._emscripten_bind_b2Mat33_b2Mat33_0=i._emscripten_bind_b2Mat33_b2Mat33_0,Zg=e._emscripten_bind_b2MouseJointDef_get_bodyB_0=i._emscripten_bind_b2MouseJointDef_get_bodyB_0,$g=e._emscripten_bind_b2Shape_TestPoint_2=i._emscripten_bind_b2Shape_TestPoint_2,ah=e._emscripten_bind_b2Body_GetWorldVector_1=i._emscripten_bind_b2Body_GetWorldVector_1,bh=e._emscripten_bind_b2WeldJointDef_get_frequencyHz_0=i._emscripten_bind_b2WeldJointDef_get_frequencyHz_0,ch=e._emscripten_bind_b2PolygonShape_Set_2=i._emscripten_bind_b2PolygonShape_Set_2,dh=e._emscripten_bind_b2Manifold___destroy___0=i._emscripten_bind_b2Manifold___destroy___0,eh=e._emscripten_bind_b2PulleyJointDef_set_lengthA_1=i._emscripten_bind_b2PulleyJointDef_set_lengthA_1,fh=e._emscripten_bind_b2RevoluteJointDef_set_localAnchorA_1=i._emscripten_bind_b2RevoluteJointDef_set_localAnchorA_1,gh=e._emscripten_bind_b2GearJoint___destroy___0=i._emscripten_bind_b2GearJoint___destroy___0,hh=e._emscripten_bind_b2RevoluteJoint_GetJointAngle_0=i._emscripten_bind_b2RevoluteJoint_GetJointAngle_0,ih=e._emscripten_bind_b2PulleyJointDef_set_ratio_1=i._emscripten_bind_b2PulleyJointDef_set_ratio_1,jh=e._emscripten_bind_b2JointEdge_set_prev_1=i._emscripten_bind_b2JointEdge_set_prev_1,kh=e._emscripten_bind_b2PrismaticJoint_GetReactionTorque_1=i._emscripten_bind_b2PrismaticJoint_GetReactionTorque_1,lh=e._emscripten_bind_b2Body_GetLocalPoint_1=i._emscripten_bind_b2Body_GetLocalPoint_1,mh=e._emscripten_bind_b2PrismaticJoint_GetCollideConnected_0=i._emscripten_bind_b2PrismaticJoint_GetCollideConnected_0,nh=e._emscripten_bind_b2RopeJointDef_get_userData_0=i._emscripten_bind_b2RopeJointDef_get_userData_0,oh=e._emscripten_bind_b2DistanceJoint_IsActive_0=i._emscripten_bind_b2DistanceJoint_IsActive_0,ph=e._emscripten_bind_b2MotorJointDef_set_angularOffset_1=i._emscripten_bind_b2MotorJointDef_set_angularOffset_1,qh=e._emscripten_bind_b2Vec2_b2Vec2_2=i._emscripten_bind_b2Vec2_b2Vec2_2,rh=e._emscripten_bind_b2PrismaticJoint_GetJointTranslation_0=i._emscripten_bind_b2PrismaticJoint_GetJointTranslation_0,sh=e._emscripten_bind_b2Vec2_b2Vec2_0=i._emscripten_bind_b2Vec2_b2Vec2_0,th=e._emscripten_bind_b2DistanceJoint_GetAnchorB_0=i._emscripten_bind_b2DistanceJoint_GetAnchorB_0,uh=e._emscripten_bind_b2WheelJointDef_get_maxMotorTorque_0=i._emscripten_bind_b2WheelJointDef_get_maxMotorTorque_0,vh=e._emscripten_bind_b2Vec2_op_sub_1=i._emscripten_bind_b2Vec2_op_sub_1,wh=e._emscripten_bind_b2CircleShape_get_m_p_0=i._emscripten_bind_b2CircleShape_get_m_p_0,xh=e._emscripten_bind_b2ContactFeature_get_indexA_0=i._emscripten_bind_b2ContactFeature_get_indexA_0,yh=e._emscripten_bind_b2MotorJointDef_b2MotorJointDef_0=i._emscripten_bind_b2MotorJointDef_b2MotorJointDef_0,zh=e._emscripten_bind_b2ChainShape_set_m_nextVertex_1=i._emscripten_bind_b2ChainShape_set_m_nextVertex_1,Ah=e._emscripten_bind_b2PulleyJoint_GetCollideConnected_0=i._emscripten_bind_b2PulleyJoint_GetCollideConnected_0,Bh=e._emscripten_bind_b2PulleyJoint_GetAnchorB_0=i._emscripten_bind_b2PulleyJoint_GetAnchorB_0,Ch=e._emscripten_bind_b2Mat33_get_ex_0=i._emscripten_bind_b2Mat33_get_ex_0,Dh=e._emscripten_bind_b2Body_GetPosition_0=i._emscripten_bind_b2Body_GetPosition_0,Eh=e._emscripten_bind_b2Profile___destroy___0=i._emscripten_bind_b2Profile___destroy___0,Fh=e._emscripten_bind_b2ContactEdge_get_prev_0=i._emscripten_bind_b2ContactEdge_get_prev_0,Gh=e._emscripten_bind_b2DistanceJoint_SetFrequency_1=i._emscripten_bind_b2DistanceJoint_SetFrequency_1,Hh=e._emscripten_enum_b2ShapeType_e_chain=i._emscripten_enum_b2ShapeType_e_chain,Ih=e._emscripten_enum_b2ContactFeatureType_e_vertex=i._emscripten_enum_b2ContactFeatureType_e_vertex,Jh=e._emscripten_bind_b2Fixture_GetBody_0=i._emscripten_bind_b2Fixture_GetBody_0,Kh=e._emscripten_bind_b2ContactImpulse_set_count_1=i._emscripten_bind_b2ContactImpulse_set_count_1,Lh=e._emscripten_bind_b2PulleyJointDef_get_bodyB_0=i._emscripten_bind_b2PulleyJointDef_get_bodyB_0,Mh=e._emscripten_bind_b2Rot_set_c_1=i._emscripten_bind_b2Rot_set_c_1,Nh=e._emscripten_bind_b2RevoluteJoint_GetReactionTorque_1=i._emscripten_bind_b2RevoluteJoint_GetReactionTorque_1,Oh=e._emscripten_bind_b2Fixture_SetDensity_1=i._emscripten_bind_b2Fixture_SetDensity_1,Ph=e._emscripten_bind_b2ChainShape_get_m_prevVertex_0=i._emscripten_bind_b2ChainShape_get_m_prevVertex_0,Qh=e._emscripten_bind_b2World_ClearForces_0=i._emscripten_bind_b2World_ClearForces_0,Rh=e._emscripten_bind_b2Vec3___destroy___0=i._emscripten_bind_b2Vec3___destroy___0,Sh=e._emscripten_bind_b2WheelJointDef_set_userData_1=i._emscripten_bind_b2WheelJointDef_set_userData_1,Th=e._emscripten_bind_b2WeldJoint_SetFrequency_1=i._emscripten_bind_b2WeldJoint_SetFrequency_1,Uh=e._emscripten_bind_JSContactListener_PreSolve_2=i._emscripten_bind_JSContactListener_PreSolve_2,Vh=e._emscripten_bind_b2Body_SetFixedRotation_1=i._emscripten_bind_b2Body_SetFixedRotation_1,Wh=e._emscripten_bind_b2RayCastOutput_set_normal_1=i._emscripten_bind_b2RayCastOutput_set_normal_1,Xh=e._emscripten_bind_b2DistanceJoint_GetDampingRatio_0=i._emscripten_bind_b2DistanceJoint_GetDampingRatio_0,Yh=e._emscripten_bind_b2WeldJointDef_set_userData_1=i._emscripten_bind_b2WeldJointDef_set_userData_1,Zh=e._emscripten_bind_b2Body_GetMassData_1=i._emscripten_bind_b2Body_GetMassData_1,$h=e._emscripten_bind_b2MouseJointDef_set_bodyB_1=i._emscripten_bind_b2MouseJointDef_set_bodyB_1,ai=e._emscripten_bind_b2CircleShape_GetType_0=i._emscripten_bind_b2CircleShape_GetType_0,bi=e._emscripten_bind_b2PolygonShape_GetType_0=i._emscripten_bind_b2PolygonShape_GetType_0,ci=e._emscripten_bind_b2PrismaticJointDef_set_referenceAngle_1=i._emscripten_bind_b2PrismaticJointDef_set_referenceAngle_1,di=e._emscripten_bind_b2RopeJointDef_get_collideConnected_0=i._emscripten_bind_b2RopeJointDef_get_collideConnected_0,ei=e._emscripten_bind_b2FixtureDef_set_filter_1=i._emscripten_bind_b2FixtureDef_set_filter_1,fi=e._emscripten_bind_b2PulleyJointDef_get_groundAnchorA_0=i._emscripten_bind_b2PulleyJointDef_get_groundAnchorA_0,gi=e._emscripten_bind_b2Fixture_SetFilterData_1=i._emscripten_bind_b2Fixture_SetFilterData_1,hi=e._emscripten_bind_b2FrictionJointDef_get_userData_0=i._emscripten_bind_b2FrictionJointDef_get_userData_0,ii=e._emscripten_bind_b2RayCastCallback___destroy___0=i._emscripten_bind_b2RayCastCallback___destroy___0,ji=e._emscripten_bind_b2PulleyJointDef_set_localAnchorA_1=i._emscripten_bind_b2PulleyJointDef_set_localAnchorA_1,ki=e._emscripten_bind_b2MotorJoint_SetUserData_1=i._emscripten_bind_b2MotorJoint_SetUserData_1,li=e._emscripten_bind_b2PrismaticJoint_GetLocalAxisA_0=i._emscripten_bind_b2PrismaticJoint_GetLocalAxisA_0,mi=e._emscripten_bind_b2MotorJoint_GetBodyB_0=i._emscripten_bind_b2MotorJoint_GetBodyB_0,ni=e._emscripten_bind_b2Transform_Set_2=i._emscripten_bind_b2Transform_Set_2,oi=e._emscripten_bind_b2MouseJoint_SetTarget_1=i._emscripten_bind_b2MouseJoint_SetTarget_1,pi=e._emscripten_bind_b2RopeJointDef_get_localAnchorA_0=i._emscripten_bind_b2RopeJointDef_get_localAnchorA_0,qi=e._emscripten_bind_b2ContactEdge_set_contact_1=i._emscripten_bind_b2ContactEdge_set_contact_1,ri=e._emscripten_bind_b2RevoluteJointDef_get_enableLimit_0=i._emscripten_bind_b2RevoluteJointDef_get_enableLimit_0,si=e._emscripten_bind_b2CircleShape_get_m_radius_0=i._emscripten_bind_b2CircleShape_get_m_radius_0,ti=e._emscripten_bind_b2RevoluteJoint_GetUserData_0=i._emscripten_bind_b2RevoluteJoint_GetUserData_0,ui=e._emscripten_bind_b2Profile_set_solveTOI_1=i._emscripten_bind_b2Profile_set_solveTOI_1,vi=e._emscripten_bind_b2PrismaticJointDef_set_type_1=i._emscripten_bind_b2PrismaticJointDef_set_type_1,wi=e._emscripten_bind_b2GearJointDef_get_userData_0=i._emscripten_bind_b2GearJointDef_get_userData_0,xi=e._emscripten_bind_b2WheelJoint_SetSpringFrequencyHz_1=i._emscripten_bind_b2WheelJoint_SetSpringFrequencyHz_1,yi=e._emscripten_bind_b2FrictionJointDef___destroy___0=i._emscripten_bind_b2FrictionJointDef___destroy___0,zi=e._emscripten_bind_b2PrismaticJoint_GetReactionForce_1=i._emscripten_bind_b2PrismaticJoint_GetReactionForce_1,Ai=e._emscripten_bind_b2Transform_b2Transform_0=i._emscripten_bind_b2Transform_b2Transform_0,Bi=e._emscripten_bind_b2MouseJoint_GetCollideConnected_0=i._emscripten_bind_b2MouseJoint_GetCollideConnected_0,Ci=e._emscripten_enum_b2LimitState_e_equalLimits=i._emscripten_enum_b2LimitState_e_equalLimits,Di=e._emscripten_bind_b2ManifoldPoint_set_normalImpulse_1=i._emscripten_bind_b2ManifoldPoint_set_normalImpulse_1,Ei=e._emscripten_bind_b2Body_GetContactList_0=i._emscripten_bind_b2Body_GetContactList_0,Fi=e._emscripten_bind_b2Body_IsFixedRotation_0=i._emscripten_bind_b2Body_IsFixedRotation_0,Gi=e._emscripten_enum_b2DrawFlag_e_shapeBit=i._emscripten_enum_b2DrawFlag_e_shapeBit,Hi=e._emscripten_bind_b2Contact_GetFriction_0=i._emscripten_bind_b2Contact_GetFriction_0,Ii=e._emscripten_bind_b2WheelJoint_GetAnchorB_0=i._emscripten_bind_b2WheelJoint_GetAnchorB_0,Ji=e._emscripten_bind_b2DistanceJointDef_set_length_1=i._emscripten_bind_b2DistanceJointDef_set_length_1,Ki=e._emscripten_bind_b2DistanceJoint_GetLocalAnchorB_0=i._emscripten_bind_b2DistanceJoint_GetLocalAnchorB_0,Li=e._emscripten_bind_b2FrictionJoint_GetLocalAnchorB_0=i._emscripten_bind_b2FrictionJoint_GetLocalAnchorB_0,Mi=e._emscripten_bind_b2Mat33_set_ey_1=i._emscripten_bind_b2Mat33_set_ey_1,Ni=e._emscripten_bind_b2DistanceJointDef_get_type_0=i._emscripten_bind_b2DistanceJointDef_get_type_0,Oi=e._emscripten_bind_b2Draw_ClearFlags_1=i._emscripten_bind_b2Draw_ClearFlags_1,Pi=e._emscripten_bind_b2Body_IsActive_0=i._emscripten_bind_b2Body_IsActive_0,Qi=e._emscripten_bind_b2Contact_ResetRestitution_0=i._emscripten_bind_b2Contact_ResetRestitution_0,Ri=e._emscripten_bind_b2World_GetAllowSleeping_0=i._emscripten_bind_b2World_GetAllowSleeping_0,Si=e._emscripten_bind_b2ManifoldPoint_b2ManifoldPoint_0=i._emscripten_bind_b2ManifoldPoint_b2ManifoldPoint_0,Ti=e._emscripten_bind_b2PrismaticJointDef_set_maxMotorForce_1=i._emscripten_bind_b2PrismaticJointDef_set_maxMotorForce_1,Ui=e._emscripten_bind_b2GearJointDef_set_bodyA_1=i._emscripten_bind_b2GearJointDef_set_bodyA_1,Vi=e._emscripten_bind_b2RevoluteJointDef_set_enableMotor_1=i._emscripten_bind_b2RevoluteJointDef_set_enableMotor_1,Wi=e._emscripten_bind_b2PulleyJoint_IsActive_0=i._emscripten_bind_b2PulleyJoint_IsActive_0,Xi=e._emscripten_bind_b2MouseJoint_GetNext_0=i._emscripten_bind_b2MouseJoint_GetNext_0,Yi=e._emscripten_bind_b2Transform_set_p_1=i._emscripten_bind_b2Transform_set_p_1,Zi=e._emscripten_bind_b2EdgeShape_set_m_vertex0_1=i._emscripten_bind_b2EdgeShape_set_m_vertex0_1,$i=e._emscripten_bind_b2PulleyJointDef_get_lengthB_0=i._emscripten_bind_b2PulleyJointDef_get_lengthB_0,aj=e._emscripten_bind_b2WeldJoint_SetUserData_1=i._emscripten_bind_b2WeldJoint_SetUserData_1,bj=e._emscripten_bind_b2Fixture_SetSensor_1=i._emscripten_bind_b2Fixture_SetSensor_1,cj=e._emscripten_bind_b2GearJointDef_get_joint1_0=i._emscripten_bind_b2GearJointDef_get_joint1_0,dj=e._emscripten_bind_b2PrismaticJoint_GetMotorForce_1=i._emscripten_bind_b2PrismaticJoint_GetMotorForce_1,ej=e._emscripten_bind_b2DistanceJoint_GetBodyA_0=i._emscripten_bind_b2DistanceJoint_GetBodyA_0,fj=e._emscripten_bind_b2GearJoint_IsActive_0=i._emscripten_bind_b2GearJoint_IsActive_0,gj=e._emscripten_bind_b2EdgeShape_get_m_vertex0_0=i._emscripten_bind_b2EdgeShape_get_m_vertex0_0,hj=e._emscripten_bind_b2World_GetBodyCount_0=i._emscripten_bind_b2World_GetBodyCount_0,ij=e._emscripten_bind_b2Fixture_GetMassData_1=i._emscripten_bind_b2Fixture_GetMassData_1,jj=e._emscripten_bind_b2WeldJointDef_get_collideConnected_0=i._emscripten_bind_b2WeldJointDef_get_collideConnected_0,kj=e._emscripten_bind_b2FrictionJoint_GetMaxTorque_0=i._emscripten_bind_b2FrictionJoint_GetMaxTorque_0,lj=e._emscripten_bind_b2EdgeShape_RayCast_4=i._emscripten_bind_b2EdgeShape_RayCast_4,mj=e._emscripten_bind_b2BodyDef_set_allowSleep_1=i._emscripten_bind_b2BodyDef_set_allowSleep_1,nj=e._emscripten_bind_b2PulleyJoint_GetType_0=i._emscripten_bind_b2PulleyJoint_GetType_0,oj=e._emscripten_bind_b2WeldJointDef_set_localAnchorA_1=i._emscripten_bind_b2WeldJointDef_set_localAnchorA_1,pj=e._emscripten_bind_b2Profile_set_step_1=i._emscripten_bind_b2Profile_set_step_1,qj=e._emscripten_bind_b2ContactEdge_set_other_1=i._emscripten_bind_b2ContactEdge_set_other_1,rj=e._emscripten_bind_b2PulleyJoint_GetCurrentLengthB_0=i._emscripten_bind_b2PulleyJoint_GetCurrentLengthB_0,sj=e._emscripten_bind_b2Vec2_op_mul_1=i._emscripten_bind_b2Vec2_op_mul_1,tj=e._emscripten_bind_b2PrismaticJointDef_get_localAnchorA_0=i._emscripten_bind_b2PrismaticJointDef_get_localAnchorA_0,uj=e._emscripten_bind_b2EdgeShape___destroy___0=i._emscripten_bind_b2EdgeShape___destroy___0,vj=e._emscripten_bind_b2RopeJoint_GetAnchorA_0=i._emscripten_bind_b2RopeJoint_GetAnchorA_0,wj=e._emscripten_bind_b2World_GetContactCount_0=i._emscripten_bind_b2World_GetContactCount_0,xj=e._emscripten_bind_b2MotorJointDef_set_correctionFactor_1=i._emscripten_bind_b2MotorJointDef_set_correctionFactor_1,yj=e._emscripten_bind_b2DistanceJointDef_set_userData_1=i._emscripten_bind_b2DistanceJointDef_set_userData_1,zj=e._emscripten_bind_b2ContactEdge_get_other_0=i._emscripten_bind_b2ContactEdge_get_other_0,Aj=e._emscripten_bind_b2RopeJoint_GetLocalAnchorB_0=i._emscripten_bind_b2RopeJoint_GetLocalAnchorB_0,Bj=e._emscripten_bind_b2PulleyJointDef___destroy___0=i._emscripten_bind_b2PulleyJointDef___destroy___0,Cj=e._emscripten_bind_b2MouseJoint_GetBodyB_0=i._emscripten_bind_b2MouseJoint_GetBodyB_0,Dj=e._emscripten_bind_b2PolygonShape_TestPoint_2=i._emscripten_bind_b2PolygonShape_TestPoint_2,Ej=e._emscripten_bind_b2EdgeShape_set_m_vertex3_1=i._emscripten_bind_b2EdgeShape_set_m_vertex3_1,Fj=e._emscripten_bind_b2PolygonShape_b2PolygonShape_0=i._emscripten_bind_b2PolygonShape_b2PolygonShape_0,Gj=e._emscripten_bind_b2GearJointDef_set_ratio_1=i._emscripten_bind_b2GearJointDef_set_ratio_1,Hj=e._emscripten_bind_b2WheelJoint_SetMaxMotorTorque_1=i._emscripten_bind_b2WheelJoint_SetMaxMotorTorque_1,Ij=e._emscripten_bind_b2WheelJointDef_get_localAxisA_0=i._emscripten_bind_b2WheelJointDef_get_localAxisA_0,Jj=e._emscripten_bind_b2DistanceJointDef_get_localAnchorA_0=i._emscripten_bind_b2DistanceJointDef_get_localAnchorA_0,Kj=e._emscripten_bind_b2MassData_set_center_1=i._emscripten_bind_b2MassData_set_center_1,Lj=e._emscripten_bind_b2Contact_SetTangentSpeed_1=i._emscripten_bind_b2Contact_SetTangentSpeed_1,Mj=e._emscripten_bind_b2FrictionJointDef_get_localAnchorB_0=i._emscripten_bind_b2FrictionJointDef_get_localAnchorB_0,Nj=e._emscripten_bind_b2BodyDef_get_active_0=i._emscripten_bind_b2BodyDef_get_active_0,Oj=e._emscripten_bind_b2Body_GetAngularVelocity_0=i._emscripten_bind_b2Body_GetAngularVelocity_0,Pj=e._emscripten_bind_b2WeldJoint_GetBodyB_0=i._emscripten_bind_b2WeldJoint_GetBodyB_0,Qj=e._emscripten_bind_b2Draw___destroy___0=i._emscripten_bind_b2Draw___destroy___0,Rj=e._emscripten_bind_b2WheelJointDef_Initialize_4=i._emscripten_bind_b2WheelJointDef_Initialize_4,Sj=e._emscripten_bind_b2WeldJointDef_set_dampingRatio_1=i._emscripten_bind_b2WeldJointDef_set_dampingRatio_1,Tj=e._emscripten_bind_b2Contact_IsEnabled_0=i._emscripten_bind_b2Contact_IsEnabled_0,Uj=e._emscripten_bind_b2Joint_GetAnchorB_0=i._emscripten_bind_b2Joint_GetAnchorB_0,Vj=e._emscripten_bind_b2PrismaticJointDef_get_userData_0=i._emscripten_bind_b2PrismaticJointDef_get_userData_0,Wj=e._emscripten_bind_b2MotorJoint_GetMaxForce_0=i._emscripten_bind_b2MotorJoint_GetMaxForce_0,Xj=e._emscripten_bind_b2RevoluteJoint_GetBodyA_0=i._emscripten_bind_b2RevoluteJoint_GetBodyA_0,Yj=e._emscripten_bind_b2ContactID_set_cf_1=i._emscripten_bind_b2ContactID_set_cf_1,Zj=e._emscripten_bind_b2Rot_GetXAxis_0=i._emscripten_bind_b2Rot_GetXAxis_0,$j=e._emscripten_bind_b2ContactEdge_set_prev_1=i._emscripten_bind_b2ContactEdge_set_prev_1,ak=e._emscripten_bind_b2Vec3_Set_3=i._emscripten_bind_b2Vec3_Set_3,bk=e._emscripten_bind_b2Fixture_GetNext_0=i._emscripten_bind_b2Fixture_GetNext_0,ck=e._emscripten_bind_b2FrictionJointDef_set_localAnchorB_1=i._emscripten_bind_b2FrictionJointDef_set_localAnchorB_1,dk=e._emscripten_bind_b2PulleyJoint_GetNext_0=i._emscripten_bind_b2PulleyJoint_GetNext_0,ek=e._emscripten_bind_b2ChainShape_get_m_type_0=i._emscripten_bind_b2ChainShape_get_m_type_0,fk=e._emscripten_bind_b2GearJointDef_get_bodyA_0=i._emscripten_bind_b2GearJointDef_get_bodyA_0,gk=e._emscripten_bind_b2DistanceJointDef_set_frequencyHz_1=i._emscripten_bind_b2DistanceJointDef_set_frequencyHz_1,hk=e._emscripten_bind_b2RevoluteJointDef_get_localAnchorB_0=i._emscripten_bind_b2RevoluteJointDef_get_localAnchorB_0,ik=e._emscripten_bind_b2RevoluteJointDef_get_referenceAngle_0=i._emscripten_bind_b2RevoluteJointDef_get_referenceAngle_0,jk=e._emscripten_bind_JSContactFilter___destroy___0=i._emscripten_bind_JSContactFilter___destroy___0,Wb=e._memset=i._memset,kk=e._emscripten_bind_b2PolygonShape_get_m_radius_0=i._emscripten_bind_b2PolygonShape_get_m_radius_0,lk=e._emscripten_bind_b2RopeJoint_GetUserData_0=i._emscripten_bind_b2RopeJoint_GetUserData_0,mk=e._emscripten_bind_b2RopeJointDef_get_bodyA_0=i._emscripten_bind_b2RopeJointDef_get_bodyA_0,nk=e._emscripten_bind_b2DistanceJointDef_get_dampingRatio_0=i._emscripten_bind_b2DistanceJointDef_get_dampingRatio_0,ok=e._emscripten_enum_b2ManifoldType_e_faceA=i._emscripten_enum_b2ManifoldType_e_faceA,pk=e._emscripten_enum_b2ManifoldType_e_faceB=i._emscripten_enum_b2ManifoldType_e_faceB,qk=e._emscripten_bind_b2RevoluteJointDef_get_bodyB_0=i._emscripten_bind_b2RevoluteJointDef_get_bodyB_0,rk=e._emscripten_bind_b2FixtureDef_b2FixtureDef_0=i._emscripten_bind_b2FixtureDef_b2FixtureDef_0,sk=e._emscripten_bind_b2PrismaticJoint_SetUserData_1=i._emscripten_bind_b2PrismaticJoint_SetUserData_1,tk=e._emscripten_bind_b2EdgeShape_get_m_hasVertex3_0=i._emscripten_bind_b2EdgeShape_get_m_hasVertex3_0,uk=e._emscripten_enum_b2ShapeType_e_edge=i._emscripten_enum_b2ShapeType_e_edge,vk=e._emscripten_bind_b2RevoluteJoint_GetMaxMotorTorque_0=i._emscripten_bind_b2RevoluteJoint_GetMaxMotorTorque_0,wk=e._emscripten_bind_b2BodyDef_set_active_1=i._emscripten_bind_b2BodyDef_set_active_1,xk=e._emscripten_bind_b2DistanceJointDef_set_localAnchorB_1=i._emscripten_bind_b2DistanceJointDef_set_localAnchorB_1,yk=e._emscripten_bind_b2Body_GetWorldPoint_1=i._emscripten_bind_b2Body_GetWorldPoint_1,zk=e._emscripten_bind_b2ManifoldPoint_get_normalImpulse_0=i._emscripten_bind_b2ManifoldPoint_get_normalImpulse_0,Ak=e._emscripten_bind_JSContactFilter_ShouldCollide_2=i._emscripten_bind_JSContactFilter_ShouldCollide_2,Bk=e._emscripten_bind_b2Joint_GetReactionTorque_1=i._emscripten_bind_b2Joint_GetReactionTorque_1,Ck=e._emscripten_bind_b2RevoluteJointDef_set_type_1=i._emscripten_bind_b2RevoluteJointDef_set_type_1,Dk=e._emscripten_bind_b2RopeJointDef_b2RopeJointDef_0=i._emscripten_bind_b2RopeJointDef_b2RopeJointDef_0,Ek=e._emscripten_bind_b2BodyDef_get_linearDamping_0=i._emscripten_bind_b2BodyDef_get_linearDamping_0,Fk=e._emscripten_bind_b2MotorJointDef_get_bodyB_0=i._emscripten_bind_b2MotorJointDef_get_bodyB_0,Gk=e._emscripten_bind_b2World_Step_3=i._emscripten_bind_b2World_Step_3,Hk=e._emscripten_bind_b2CircleShape_RayCast_4=i._emscripten_bind_b2CircleShape_RayCast_4,Ik=e._emscripten_bind_b2Profile_get_step_0=i._emscripten_bind_b2Profile_get_step_0,Jk=e._emscripten_bind_b2Vec3_b2Vec3_0=i._emscripten_bind_b2Vec3_b2Vec3_0,Kk=e._emscripten_bind_b2Vec3_b2Vec3_3=i._emscripten_bind_b2Vec3_b2Vec3_3,Lk=e._emscripten_bind_b2PulleyJoint_GetLengthB_0=i._emscripten_bind_b2PulleyJoint_GetLengthB_0,Mk=e._emscripten_bind_b2Filter_set_categoryBits_1=i._emscripten_bind_b2Filter_set_categoryBits_1,Nk=e._emscripten_bind_b2MotorJoint_GetUserData_0=i._emscripten_bind_b2MotorJoint_GetUserData_0,Ok=e._emscripten_bind_b2PrismaticJoint_GetLocalAnchorA_0=i._emscripten_bind_b2PrismaticJoint_GetLocalAnchorA_0,Pk=e._emscripten_bind_b2Shape_get_m_type_0=i._emscripten_bind_b2Shape_get_m_type_0,Qk=e._emscripten_bind_b2MouseJoint_SetDampingRatio_1=i._emscripten_bind_b2MouseJoint_SetDampingRatio_1,Rk=e._emscripten_bind_b2World_GetAutoClearForces_0=i._emscripten_bind_b2World_GetAutoClearForces_0,Sk=e._emscripten_enum_b2ShapeType_e_circle=i._emscripten_enum_b2ShapeType_e_circle,Tk=e._emscripten_bind_b2BodyDef_set_fixedRotation_1=i._emscripten_bind_b2BodyDef_set_fixedRotation_1,Uk=e._emscripten_bind_b2RopeJoint_GetLimitState_0=i._emscripten_bind_b2RopeJoint_GetLimitState_0,Vk=e._emscripten_bind_b2JointDef_get_collideConnected_0=i._emscripten_bind_b2JointDef_get_collideConnected_0,Wk=e._emscripten_bind_b2Body_Dump_0=i._emscripten_bind_b2Body_Dump_0,Xk=e._emscripten_bind_b2RevoluteJoint_GetLowerLimit_0=i._emscripten_bind_b2RevoluteJoint_GetLowerLimit_0,Yk=e._emscripten_bind_b2Body_GetWorldCenter_0=i._emscripten_bind_b2Body_GetWorldCenter_0,Zk=e._emscripten_bind_JSContactListener___destroy___0=i._emscripten_bind_JSContactListener___destroy___0,$k=e._emscripten_bind_b2BodyDef_set_linearVelocity_1=i._emscripten_bind_b2BodyDef_set_linearVelocity_1,al=e._emscripten_bind_b2JointDef_set_collideConnected_1=i._emscripten_bind_b2JointDef_set_collideConnected_1,bl=e._emscripten_bind_b2MotorJoint___destroy___0=i._emscripten_bind_b2MotorJoint___destroy___0,cl=e._emscripten_bind_b2Body_GetUserData_0=i._emscripten_bind_b2Body_GetUserData_0,dl=e._emscripten_bind_b2World_GetContinuousPhysics_0=i._emscripten_bind_b2World_GetContinuousPhysics_0,el=e._emscripten_bind_b2Fixture_RayCast_3=i._emscripten_bind_b2Fixture_RayCast_3,fl=e._emscripten_bind_b2JointDef_set_bodyA_1=i._emscripten_bind_b2JointDef_set_bodyA_1,gl=e._emscripten_bind_b2GearJointDef_get_collideConnected_0=i._emscripten_bind_b2GearJointDef_get_collideConnected_0,hl=e._emscripten_bind_b2RopeJointDef_get_maxLength_0=i._emscripten_bind_b2RopeJointDef_get_maxLength_0,il=e._emscripten_bind_b2MouseJointDef_get_bodyA_0=i._emscripten_bind_b2MouseJointDef_get_bodyA_0,jl=e._emscripten_bind_b2Body_SetBullet_1=i._emscripten_bind_b2Body_SetBullet_1,kl=e._emscripten_bind_b2DistanceJoint_GetType_0=i._emscripten_bind_b2DistanceJoint_GetType_0,ll=e._emscripten_bind_b2FixtureDef_get_restitution_0=i._emscripten_bind_b2FixtureDef_get_restitution_0,ml=e._emscripten_bind_b2Fixture_GetType_0=i._emscripten_bind_b2Fixture_GetType_0,nl=e._emscripten_bind_b2PulleyJointDef_set_localAnchorB_1=i._emscripten_bind_b2PulleyJointDef_set_localAnchorB_1,ol=e._emscripten_bind_b2RevoluteJoint_GetBodyB_0=i._emscripten_bind_b2RevoluteJoint_GetBodyB_0,pl=e._emscripten_bind_b2Profile_set_solveInit_1=i._emscripten_bind_b2Profile_set_solveInit_1,ql=e._emscripten_bind_b2RopeJointDef_set_type_1=i._emscripten_bind_b2RopeJointDef_set_type_1,rl=e._emscripten_bind_b2PrismaticJointDef_get_bodyB_0=i._emscripten_bind_b2PrismaticJointDef_get_bodyB_0,sl=e._emscripten_bind_b2Body_SetLinearVelocity_1=i._emscripten_bind_b2Body_SetLinearVelocity_1,tl=e._emscripten_bind_b2RevoluteJoint_GetReferenceAngle_0=i._emscripten_bind_b2RevoluteJoint_GetReferenceAngle_0,ul=e._emscripten_bind_b2PulleyJointDef_get_userData_0=i._emscripten_bind_b2PulleyJointDef_get_userData_0,vl=e._emscripten_bind_b2PrismaticJointDef_set_bodyB_1=i._emscripten_bind_b2PrismaticJointDef_set_bodyB_1,wl=e._emscripten_bind_b2FrictionJointDef_b2FrictionJointDef_0=i._emscripten_bind_b2FrictionJointDef_b2FrictionJointDef_0,eb=e._free=i._free,xl=e._emscripten_bind_b2PulleyJoint_GetCurrentLengthA_0=i._emscripten_bind_b2PulleyJoint_GetCurrentLengthA_0,yl=e._emscripten_bind_b2Manifold_get_localNormal_0=i._emscripten_bind_b2Manifold_get_localNormal_0,zl=e._emscripten_bind_b2AABB_RayCast_2=i._emscripten_bind_b2AABB_RayCast_2,Al=e._emscripten_bind_b2FixtureDef_set_isSensor_1=i._emscripten_bind_b2FixtureDef_set_isSensor_1,Bl=e._emscripten_bind_b2RopeJoint_GetBodyB_0=i._emscripten_bind_b2RopeJoint_GetBodyB_0,Cl=e._emscripten_bind_b2PrismaticJoint_GetAnchorA_0=i._emscripten_bind_b2PrismaticJoint_GetAnchorA_0,Dl=e._emscripten_bind_b2ChainShape_set_m_count_1=i._emscripten_bind_b2ChainShape_set_m_count_1,El=e._emscripten_bind_b2PrismaticJoint_IsMotorEnabled_0=i._emscripten_bind_b2PrismaticJoint_IsMotorEnabled_0,Fl=e._emscripten_bind_b2WeldJoint_GetFrequency_0=i._emscripten_bind_b2WeldJoint_GetFrequency_0,Gl=e._emscripten_bind_b2Joint_GetUserData_0=i._emscripten_bind_b2Joint_GetUserData_0,Hl=e._emscripten_bind_b2RevoluteJointDef_get_lowerAngle_0=i._emscripten_bind_b2RevoluteJointDef_get_lowerAngle_0,Il=e._emscripten_bind_b2Manifold_set_type_1=i._emscripten_bind_b2Manifold_set_type_1,Jl=e._emscripten_bind_b2DistanceJoint_GetLength_0=i._emscripten_bind_b2DistanceJoint_GetLength_0,Kl=e._emscripten_bind_b2RopeJointDef_set_maxLength_1=i._emscripten_bind_b2RopeJointDef_set_maxLength_1,Ll=e._emscripten_bind_b2ChainShape_TestPoint_2=i._emscripten_bind_b2ChainShape_TestPoint_2,Ml=e._emscripten_bind_b2PrismaticJoint_GetReferenceAngle_0=i._emscripten_bind_b2PrismaticJoint_GetReferenceAngle_0,Nl=e._emscripten_bind_b2RayCastInput_get_p2_0=i._emscripten_bind_b2RayCastInput_get_p2_0,Ol=e._emscripten_bind_b2RevoluteJoint_EnableLimit_1=i._emscripten_bind_b2RevoluteJoint_EnableLimit_1,Pl=e._emscripten_bind_b2BodyDef_set_angle_1=i._emscripten_bind_b2BodyDef_set_angle_1,Ql=e._emscripten_bind_b2WeldJoint_GetUserData_0=i._emscripten_bind_b2WeldJoint_GetUserData_0,Rl=e._emscripten_bind_b2WheelJointDef_get_localAnchorA_0=i._emscripten_bind_b2WheelJointDef_get_localAnchorA_0,Sl=e._emscripten_bind_b2PulleyJointDef_set_type_1=i._emscripten_bind_b2PulleyJointDef_set_type_1,Tl=e._emscripten_bind_b2Body_IsBullet_0=i._emscripten_bind_b2Body_IsBullet_0,Ul=e._emscripten_bind_b2MotorJointDef_set_bodyA_1=i._emscripten_bind_b2MotorJointDef_set_bodyA_1,Vl=e._emscripten_bind_b2Mat33_GetSymInverse33_1=i._emscripten_bind_b2Mat33_GetSymInverse33_1,Wl=e._emscripten_bind_b2Body_ApplyLinearImpulse_3=i._emscripten_bind_b2Body_ApplyLinearImpulse_3,Xl=e._emscripten_bind_b2PolygonShape_ComputeMass_2=i._emscripten_bind_b2PolygonShape_ComputeMass_2,Yl=e._emscripten_bind_b2WeldJoint_GetLocalAnchorA_0=i._emscripten_bind_b2WeldJoint_GetLocalAnchorA_0,Zl=e._emscripten_bind_b2MouseJoint_SetFrequency_1=i._emscripten_bind_b2MouseJoint_SetFrequency_1,$l=e._emscripten_bind_b2EdgeShape_get_m_vertex1_0=i._emscripten_bind_b2EdgeShape_get_m_vertex1_0,am=e._emscripten_bind_b2BodyDef_set_awake_1=i._emscripten_bind_b2BodyDef_set_awake_1,bm=e._emscripten_bind_b2Vec2_get_y_0=i._emscripten_bind_b2Vec2_get_y_0,cm=e._emscripten_bind_b2Body_CreateFixture_1=i._emscripten_bind_b2Body_CreateFixture_1,dm=e._emscripten_bind_b2Body_CreateFixture_2=i._emscripten_bind_b2Body_CreateFixture_2,em=e._emscripten_bind_b2PulleyJoint_GetUserData_0=i._emscripten_bind_b2PulleyJoint_GetUserData_0,fm=e._emscripten_bind_b2Body_SetActive_1=i._emscripten_bind_b2Body_SetActive_1,gm=e._emscripten_bind_b2Fixture_GetUserData_0=i._emscripten_bind_b2Fixture_GetUserData_0,hm=e._emscripten_bind_b2PolygonShape_ComputeAABB_3=i._emscripten_bind_b2PolygonShape_ComputeAABB_3,im=e._emscripten_bind_b2ContactFeature_get_typeA_0=i._emscripten_bind_b2ContactFeature_get_typeA_0,jm=e._emscripten_bind_b2MouseJoint_GetReactionForce_1=i._emscripten_bind_b2MouseJoint_GetReactionForce_1,km=e._emscripten_bind_b2FrictionJoint_GetReactionTorque_1=i._emscripten_bind_b2FrictionJoint_GetReactionTorque_1,lm=e._emscripten_bind_b2EdgeShape_TestPoint_2=i._emscripten_bind_b2EdgeShape_TestPoint_2,mc=e._memcpy=i._memcpy,mm=e._emscripten_bind_b2PolygonShape_get_m_centroid_0=i._emscripten_bind_b2PolygonShape_get_m_centroid_0,nm=e._emscripten_bind_b2ChainShape___destroy___0=i._emscripten_bind_b2ChainShape___destroy___0,om=e._emscripten_bind_b2GearJoint_SetUserData_1=i._emscripten_bind_b2GearJoint_SetUserData_1,pm=e._emscripten_bind_b2Vec3_set_z_1=i._emscripten_bind_b2Vec3_set_z_1,qm=e._emscripten_bind_b2PrismaticJointDef_set_enableLimit_1=i._emscripten_bind_b2PrismaticJointDef_set_enableLimit_1,rm=e._emscripten_bind_b2DistanceJoint_GetFrequency_0=i._emscripten_bind_b2DistanceJoint_GetFrequency_0,sm=e._emscripten_bind_b2Body_SetGravityScale_1=i._emscripten_bind_b2Body_SetGravityScale_1,tm=e._emscripten_enum_b2ContactFeatureType_e_face=i._emscripten_enum_b2ContactFeatureType_e_face,um=e._emscripten_bind_b2AABB_GetPerimeter_0=i._emscripten_bind_b2AABB_GetPerimeter_0,vm=e._emscripten_bind_b2PulleyJointDef_get_lengthA_0=i._emscripten_bind_b2PulleyJointDef_get_lengthA_0,wm=e._emscripten_bind_b2Vec3_set_x_1=i._emscripten_bind_b2Vec3_set_x_1,xm=e._emscripten_bind_b2PulleyJointDef_get_type_0=i._emscripten_bind_b2PulleyJointDef_get_type_0,ym=e._emscripten_bind_JSDestructionListener_SayGoodbyeJoint_1=i._emscripten_bind_JSDestructionListener_SayGoodbyeJoint_1,zm=e._emscripten_bind_b2Shape___destroy___0=i._emscripten_bind_b2Shape___destroy___0,Yb=e._strlen=i._strlen,Am=e._emscripten_bind_b2Color_set_b_1=i._emscripten_bind_b2Color_set_b_1,Bm=e._emscripten_bind_b2Joint_GetReactionForce_1=i._emscripten_bind_b2Joint_GetReactionForce_1,Cm=e._emscripten_bind_b2FixtureDef_set_friction_1=i._emscripten_bind_b2FixtureDef_set_friction_1,Dm=e._emscripten_bind_b2ContactID___destroy___0=i._emscripten_bind_b2ContactID___destroy___0,Em=e._emscripten_bind_b2EdgeShape_get_m_hasVertex0_0=i._emscripten_bind_b2EdgeShape_get_m_hasVertex0_0,Fm=e._emscripten_bind_JSRayCastCallback_ReportFixture_4=i._emscripten_bind_JSRayCastCallback_ReportFixture_4,Gm=e._emscripten_bind_b2MotorJointDef_get_linearOffset_0=i._emscripten_bind_b2MotorJointDef_get_linearOffset_0,Hm=e._emscripten_bind_b2Profile_set_solveVelocity_1=i._emscripten_bind_b2Profile_set_solveVelocity_1,Im=e._emscripten_bind_b2PrismaticJoint_GetAnchorB_0=i._emscripten_bind_b2PrismaticJoint_GetAnchorB_0,Jm=e._emscripten_bind_b2WeldJointDef_b2WeldJointDef_0=i._emscripten_bind_b2WeldJointDef_b2WeldJointDef_0,Km=e._emscripten_enum_b2BodyType_b2_staticBody=i._emscripten_enum_b2BodyType_b2_staticBody,Lm=e._emscripten_bind_b2RevoluteJointDef_set_upperAngle_1=i._emscripten_bind_b2RevoluteJointDef_set_upperAngle_1,Mm=e._emscripten_bind_b2RevoluteJointDef_get_type_0=i._emscripten_bind_b2RevoluteJointDef_get_type_0,Nm=e._emscripten_bind_b2GearJointDef_get_type_0=i._emscripten_bind_b2GearJointDef_get_type_0,Om=e._emscripten_bind_b2ChainShape_GetType_0=i._emscripten_bind_b2ChainShape_GetType_0,Pm=e._emscripten_bind_b2RayCastInput_get_maxFraction_0=i._emscripten_bind_b2RayCastInput_get_maxFraction_0,Qm=e._emscripten_bind_b2GearJoint_GetBodyA_0=i._emscripten_bind_b2GearJoint_GetBodyA_0,Rm=e._emscripten_bind_b2Body_GetLocalVector_1=i._emscripten_bind_b2Body_GetLocalVector_1,Sm=e._emscripten_bind_b2PrismaticJoint_EnableLimit_1=i._emscripten_bind_b2PrismaticJoint_EnableLimit_1,Tm=e._emscripten_bind_b2FrictionJointDef_get_maxForce_0=i._emscripten_bind_b2FrictionJointDef_get_maxForce_0,Um=e._emscripten_bind_b2BodyDef_set_angularVelocity_1=i._emscripten_bind_b2BodyDef_set_angularVelocity_1,Vm=e._emscripten_bind_b2Body_SetLinearDamping_1=i._emscripten_bind_b2Body_SetLinearDamping_1,Wm=e._emscripten_bind_b2WheelJoint_GetBodyB_0=i._emscripten_bind_b2WheelJoint_GetBodyB_0,Xm=e._emscripten_bind_b2Color___destroy___0=i._emscripten_bind_b2Color___destroy___0,Ym=e._emscripten_bind_b2PrismaticJoint_IsActive_0=i._emscripten_bind_b2PrismaticJoint_IsActive_0,Zm=e._emscripten_bind_b2Filter_get_categoryBits_0=i._emscripten_bind_b2Filter_get_categoryBits_0,$m=e._emscripten_enum_b2JointType_e_weldJoint=i._emscripten_enum_b2JointType_e_weldJoint,an=e._emscripten_bind_b2World_SetContinuousPhysics_1=i._emscripten_bind_b2World_SetContinuousPhysics_1,bn=e._emscripten_bind_b2MouseJointDef_get_target_0=i._emscripten_bind_b2MouseJointDef_get_target_0,cn=e._emscripten_bind_b2Manifold_b2Manifold_0=i._emscripten_bind_b2Manifold_b2Manifold_0,dn=e._emscripten_bind_b2PulleyJointDef_set_userData_1=i._emscripten_bind_b2PulleyJointDef_set_userData_1,en=e._emscripten_bind_b2FrictionJointDef_set_maxForce_1=i._emscripten_bind_b2FrictionJointDef_set_maxForce_1,fn=e._emscripten_bind_b2DistanceJointDef_b2DistanceJointDef_0=i._emscripten_bind_b2DistanceJointDef_b2DistanceJointDef_0,gn=e._emscripten_bind_b2PolygonShape_set_m_centroid_1=i._emscripten_bind_b2PolygonShape_set_m_centroid_1,hn=e._emscripten_bind_b2Mat33_GetInverse22_1=i._emscripten_bind_b2Mat33_GetInverse22_1,jn=e._emscripten_bind_b2PolygonShape_SetAsBox_4=i._emscripten_bind_b2PolygonShape_SetAsBox_4,kn=e._emscripten_bind_b2EdgeShape_get_m_vertex2_0=i._emscripten_bind_b2EdgeShape_get_m_vertex2_0,ln=e._emscripten_bind_b2WheelJoint_GetReactionTorque_1=i._emscripten_bind_b2WheelJoint_GetReactionTorque_1,mn=e._emscripten_bind_b2RevoluteJointDef_b2RevoluteJointDef_0=i._emscripten_bind_b2RevoluteJointDef_b2RevoluteJointDef_0,nn=e._emscripten_bind_b2ContactFeature_set_typeA_1=i._emscripten_bind_b2ContactFeature_set_typeA_1,on=e._emscripten_bind_b2Fixture_Dump_1=i._emscripten_bind_b2Fixture_Dump_1,pn=e._emscripten_bind_b2World_GetJointList_0=i._emscripten_bind_b2World_GetJointList_0,qn=e._emscripten_bind_b2Manifold_set_localPoint_1=i._emscripten_bind_b2Manifold_set_localPoint_1,rn=e._emscripten_bind_b2DistanceJoint_SetUserData_1=i._emscripten_bind_b2DistanceJoint_SetUserData_1,sn=e._emscripten_bind_b2BodyDef_set_bullet_1=i._emscripten_bind_b2BodyDef_set_bullet_1,tn=e._emscripten_bind_b2RayCastOutput___destroy___0=i._emscripten_bind_b2RayCastOutput___destroy___0;e.___cxa_can_catch=i.___cxa_can_catch;var un=e._emscripten_bind_b2WheelJoint_GetNext_0=i._emscripten_bind_b2WheelJoint_GetNext_0,vn=e._emscripten_bind_b2AABB_GetCenter_0=i._emscripten_bind_b2AABB_GetCenter_0,wn=e._emscripten_bind_b2Filter_set_groupIndex_1=i._emscripten_bind_b2Filter_set_groupIndex_1,xn=e._emscripten_bind_b2JointDef_b2JointDef_0=i._emscripten_bind_b2JointDef_b2JointDef_0,yn=e._emscripten_bind_b2CircleShape_b2CircleShape_0=i._emscripten_bind_b2CircleShape_b2CircleShape_0,zn=e._emscripten_bind_b2GearJointDef_b2GearJointDef_0=i._emscripten_bind_b2GearJointDef_b2GearJointDef_0,An=e._emscripten_bind_b2JointDef_get_bodyB_0=i._emscripten_bind_b2JointDef_get_bodyB_0,Bn=e._emscripten_bind_b2DistanceJoint_GetReactionForce_1=i._emscripten_bind_b2DistanceJoint_GetReactionForce_1,Cn=e._emscripten_bind_b2PrismaticJoint_GetJointSpeed_0=i._emscripten_bind_b2PrismaticJoint_GetJointSpeed_0,Dn=e._emscripten_bind_b2PulleyJointDef_get_groundAnchorB_0=i._emscripten_bind_b2PulleyJointDef_get_groundAnchorB_0,En=e._emscripten_bind_b2Joint_GetAnchorA_0=i._emscripten_bind_b2Joint_GetAnchorA_0,Fn=e._emscripten_bind_b2Contact_GetRestitution_0=i._emscripten_bind_b2Contact_GetRestitution_0,Gn=e._emscripten_bind_b2ContactEdge_get_contact_0=i._emscripten_bind_b2ContactEdge_get_contact_0,Hn=e._emscripten_bind_b2RevoluteJointDef_get_userData_0=i._emscripten_bind_b2RevoluteJointDef_get_userData_0,In=e._emscripten_bind_b2Body_ApplyTorque_2=i._emscripten_bind_b2Body_ApplyTorque_2,Jn=e._emscripten_bind_b2Fixture_GetAABB_1=i._emscripten_bind_b2Fixture_GetAABB_1,Kn=e._emscripten_bind_b2DistanceJointDef_Initialize_4=i._emscripten_bind_b2DistanceJointDef_Initialize_4,Ln=e._emscripten_bind_b2PrismaticJointDef_set_collideConnected_1=i._emscripten_bind_b2PrismaticJointDef_set_collideConnected_1,Mn=e._emscripten_bind_b2PrismaticJointDef_set_localAxisA_1=i._emscripten_bind_b2PrismaticJointDef_set_localAxisA_1,Nn=e._emscripten_bind_b2Contact_GetTangentSpeed_0=i._emscripten_bind_b2Contact_GetTangentSpeed_0,On=e._emscripten_enum_b2LimitState_e_atLowerLimit=i._emscripten_enum_b2LimitState_e_atLowerLimit,Pn=e._emscripten_bind_b2ManifoldPoint_set_id_1=i._emscripten_bind_b2ManifoldPoint_set_id_1,Qn=e._emscripten_bind_b2WheelJointDef_get_bodyB_0=i._emscripten_bind_b2WheelJointDef_get_bodyB_0,Rn=e._emscripten_bind_b2WeldJoint_GetLocalAnchorB_0=i._emscripten_bind_b2WeldJoint_GetLocalAnchorB_0,Sn=e._emscripten_bind_b2RevoluteJointDef_set_localAnchorB_1=i._emscripten_bind_b2RevoluteJointDef_set_localAnchorB_1,Tn=e._emscripten_bind_b2RevoluteJoint_GetType_0=i._emscripten_bind_b2RevoluteJoint_GetType_0,Un=e._emscripten_bind_b2Body_DestroyFixture_1=i._emscripten_bind_b2Body_DestroyFixture_1,Vn=e._emscripten_bind_b2Profile_set_broadphase_1=i._emscripten_bind_b2Profile_set_broadphase_1,Wn=e._emscripten_bind_b2WheelJointDef_get_localAnchorB_0=i._emscripten_bind_b2WheelJointDef_get_localAnchorB_0,Xn=e._emscripten_bind_b2ContactImpulse_get_count_0=i._emscripten_bind_b2ContactImpulse_get_count_0,Yn=e._emscripten_bind_b2World_GetJointCount_0=i._emscripten_bind_b2World_GetJointCount_0,Zn=e._emscripten_bind_b2WheelJoint_GetMotorSpeed_0=i._emscripten_bind_b2WheelJoint_GetMotorSpeed_0,$n=e._emscripten_bind_b2Body_GetAngularDamping_0=i._emscripten_bind_b2Body_GetAngularDamping_0,ao=e._emscripten_bind_b2WheelJointDef_get_dampingRatio_0=i._emscripten_bind_b2WheelJointDef_get_dampingRatio_0,bo=e._emscripten_bind_b2RayCastOutput_get_fraction_0=i._emscripten_bind_b2RayCastOutput_get_fraction_0,co=e._emscripten_enum_b2ManifoldType_e_circles=i._emscripten_enum_b2ManifoldType_e_circles,eo=e._emscripten_bind_b2GearJoint_SetRatio_1=i._emscripten_bind_b2GearJoint_SetRatio_1,fo=e._emscripten_bind_JSDraw_DrawPolygon_3=i._emscripten_bind_JSDraw_DrawPolygon_3,go=e._emscripten_bind_b2Filter___destroy___0=i._emscripten_bind_b2Filter___destroy___0,ho=e._emscripten_bind_b2JointEdge_set_next_1=i._emscripten_bind_b2JointEdge_set_next_1;e.___cxa_is_pointer_type=i.___cxa_is_pointer_type;var io=e._emscripten_bind_b2BodyDef_get_fixedRotation_0=i._emscripten_bind_b2BodyDef_get_fixedRotation_0,jo=e._emscripten_bind_b2PrismaticJointDef_set_motorSpeed_1=i._emscripten_bind_b2PrismaticJointDef_set_motorSpeed_1,ko=e._emscripten_bind_b2ChainShape_SetPrevVertex_1=i._emscripten_bind_b2ChainShape_SetPrevVertex_1,lo=e._emscripten_bind_b2MotorJoint_IsActive_0=i._emscripten_bind_b2MotorJoint_IsActive_0,mo=e._emscripten_bind_b2MouseJoint_GetReactionTorque_1=i._emscripten_bind_b2MouseJoint_GetReactionTorque_1,no=e._emscripten_bind_b2MouseJoint_GetUserData_0=i._emscripten_bind_b2MouseJoint_GetUserData_0,oo=e._emscripten_bind_b2WheelJoint_GetUserData_0=i._emscripten_bind_b2WheelJoint_GetUserData_0,po=e._emscripten_bind_b2Vec3_op_sub_1=i._emscripten_bind_b2Vec3_op_sub_1,qo=e._emscripten_bind_b2BodyDef_get_gravityScale_0=i._emscripten_bind_b2BodyDef_get_gravityScale_0,ro=e._emscripten_bind_b2Shape_GetType_0=i._emscripten_bind_b2Shape_GetType_0,so=e._emscripten_bind_b2AABB_IsValid_0=i._emscripten_bind_b2AABB_IsValid_0,to=e._emscripten_bind_b2WheelJoint_GetBodyA_0=i._emscripten_bind_b2WheelJoint_GetBodyA_0,uo=e._emscripten_bind_JSDraw_DrawTransform_1=i._emscripten_bind_JSDraw_DrawTransform_1,vo=e._emscripten_bind_b2PulleyJoint_GetLengthA_0=i._emscripten_bind_b2PulleyJoint_GetLengthA_0,wo=e._emscripten_bind_b2DistanceJointDef_get_frequencyHz_0=i._emscripten_bind_b2DistanceJointDef_get_frequencyHz_0,xo=e._emscripten_bind_b2RevoluteJoint_SetMotorSpeed_1=i._emscripten_bind_b2RevoluteJoint_SetMotorSpeed_1,yo=e._emscripten_bind_b2World___destroy___0=i._emscripten_bind_b2World___destroy___0,zo=e._emscripten_bind_b2ChainShape_get_m_hasNextVertex_0=i._emscripten_bind_b2ChainShape_get_m_hasNextVertex_0,Ao=e._emscripten_bind_b2ChainShape_SetNextVertex_1=i._emscripten_bind_b2ChainShape_SetNextVertex_1,Bo=e._emscripten_bind_b2Body_SetType_1=i._emscripten_bind_b2Body_SetType_1,Co=e._emscripten_bind_b2Body_GetMass_0=i._emscripten_bind_b2Body_GetMass_0,Do=e._emscripten_bind_b2Rot_b2Rot_0=i._emscripten_bind_b2Rot_b2Rot_0,Eo=e._emscripten_bind_b2Rot_b2Rot_1=i._emscripten_bind_b2Rot_b2Rot_1,Fo=e._emscripten_enum_b2JointType_e_distanceJoint=i._emscripten_enum_b2JointType_e_distanceJoint,Go=e._emscripten_bind_b2PulleyJoint___destroy___0=i._emscripten_bind_b2PulleyJoint___destroy___0,Ho=e._emscripten_bind_b2PrismaticJoint_GetLocalAnchorB_0=i._emscripten_bind_b2PrismaticJoint_GetLocalAnchorB_0,Io=e._emscripten_bind_b2MouseJoint_GetType_0=i._emscripten_bind_b2MouseJoint_GetType_0,Jo=e._emscripten_bind_JSQueryCallback___destroy___0=i._emscripten_bind_JSQueryCallback___destroy___0,Ko=e._emscripten_bind_b2RevoluteJointDef_set_lowerAngle_1=i._emscripten_bind_b2RevoluteJointDef_set_lowerAngle_1,Lo=e._emscripten_bind_b2JointEdge___destroy___0=i._emscripten_bind_b2JointEdge___destroy___0,Mo=e._emscripten_bind_b2PulleyJoint_GetRatio_0=i._emscripten_bind_b2PulleyJoint_GetRatio_0,No=e._emscripten_bind_JSContactListener_BeginContact_1=i._emscripten_bind_JSContactListener_BeginContact_1,Oo=e._emscripten_bind_b2MotorJointDef_set_linearOffset_1=i._emscripten_bind_b2MotorJointDef_set_linearOffset_1,Po=e._emscripten_enum_b2JointType_e_motorJoint=i._emscripten_enum_b2JointType_e_motorJoint,Qo=e._emscripten_bind_b2JointEdge_get_next_0=i._emscripten_bind_b2JointEdge_get_next_0,Ro=e._emscripten_bind_b2RayCastInput_set_maxFraction_1=i._emscripten_bind_b2RayCastInput_set_maxFraction_1,So=e._emscripten_bind_b2MouseJoint_GetBodyA_0=i._emscripten_bind_b2MouseJoint_GetBodyA_0,To=e._emscripten_bind_b2Profile_set_collide_1=i._emscripten_bind_b2Profile_set_collide_1,Uo=e._emscripten_bind_b2AABB_b2AABB_0=i._emscripten_bind_b2AABB_b2AABB_0,Vo=e._emscripten_bind_b2Fixture_Refilter_0=i._emscripten_bind_b2Fixture_Refilter_0,Wo=e._emscripten_bind_b2World_CreateBody_1=i._emscripten_bind_b2World_CreateBody_1,Xo=e._emscripten_bind_b2RopeJointDef_set_userData_1=i._emscripten_bind_b2RopeJointDef_set_userData_1,Yo=e._emscripten_bind_b2Fixture_IsSensor_0=i._emscripten_bind_b2Fixture_IsSensor_0,Zo=e._emscripten_bind_b2WeldJoint_GetType_0=i._emscripten_bind_b2WeldJoint_GetType_0,$o=e._emscripten_bind_b2PrismaticJointDef_get_motorSpeed_0=i._emscripten_bind_b2PrismaticJointDef_get_motorSpeed_0,ap=e._emscripten_bind_b2Rot___destroy___0=i._emscripten_bind_b2Rot___destroy___0,bp=e._emscripten_bind_b2Filter_get_maskBits_0=i._emscripten_bind_b2Filter_get_maskBits_0,cp=e._emscripten_bind_b2Mat22_get_ex_0=i._emscripten_bind_b2Mat22_get_ex_0,dp=e._emscripten_bind_b2Body_GetFixtureList_0=i._emscripten_bind_b2Body_GetFixtureList_0,ep=e._emscripten_bind_b2RevoluteJointDef_get_enableMotor_0=i._emscripten_bind_b2RevoluteJointDef_get_enableMotor_0,fp=e._emscripten_bind_b2MouseJointDef_set_dampingRatio_1=i._emscripten_bind_b2MouseJointDef_set_dampingRatio_1,gp=e._emscripten_bind_JSRayCastCallback___destroy___0=i._emscripten_bind_JSRayCastCallback___destroy___0,hp=e._emscripten_bind_b2ContactListener___destroy___0=i._emscripten_bind_b2ContactListener___destroy___0,ip=e._emscripten_bind_b2PrismaticJointDef_set_localAnchorB_1=i._emscripten_bind_b2PrismaticJointDef_set_localAnchorB_1,jp=e._emscripten_enum_b2DrawFlag_e_pairBit=i._emscripten_enum_b2DrawFlag_e_pairBit,kp=e._emscripten_bind_b2FrictionJoint___destroy___0=i._emscripten_bind_b2FrictionJoint___destroy___0,lp=e._emscripten_bind_b2WeldJoint_Dump_0=i._emscripten_bind_b2WeldJoint_Dump_0,mp=e._emscripten_bind_b2MotorJoint_SetMaxForce_1=i._emscripten_bind_b2MotorJoint_SetMaxForce_1,np=e._emscripten_bind_b2FrictionJointDef_get_maxTorque_0=i._emscripten_bind_b2FrictionJointDef_get_maxTorque_0,op=e._emscripten_bind_b2FrictionJoint_GetLocalAnchorA_0=i._emscripten_bind_b2FrictionJoint_GetLocalAnchorA_0,pp=e._emscripten_bind_b2WeldJointDef_get_localAnchorB_0=i._emscripten_bind_b2WeldJointDef_get_localAnchorB_0,qp=e._emscripten_bind_b2PrismaticJointDef_get_bodyA_0=i._emscripten_bind_b2PrismaticJointDef_get_bodyA_0,rp=e._emscripten_bind_b2Vec2_IsValid_0=i._emscripten_bind_b2Vec2_IsValid_0,sp=e._emscripten_bind_b2PrismaticJointDef_set_bodyA_1=i._emscripten_bind_b2PrismaticJointDef_set_bodyA_1,tp=e._emscripten_bind_b2World_GetWarmStarting_0=i._emscripten_bind_b2World_GetWarmStarting_0,up=e._emscripten_bind_b2RevoluteJointDef_set_enableLimit_1=i._emscripten_bind_b2RevoluteJointDef_set_enableLimit_1,vp=e._emscripten_bind_b2WeldJointDef___destroy___0=i._emscripten_bind_b2WeldJointDef___destroy___0,wp=e._emscripten_bind_b2Mat22_Solve_1=i._emscripten_bind_b2Mat22_Solve_1,xp=e._emscripten_bind_b2Color_get_g_0=i._emscripten_bind_b2Color_get_g_0,yp=e._emscripten_bind_VoidPtr___destroy___0=i._emscripten_bind_VoidPtr___destroy___0,zp=e._emscripten_bind_b2RopeJoint_GetNext_0=i._emscripten_bind_b2RopeJoint_GetNext_0,Ap=e._emscripten_bind_b2Filter_b2Filter_0=i._emscripten_bind_b2Filter_b2Filter_0,Bp=e._emscripten_bind_b2PolygonShape_GetChildCount_0=i._emscripten_bind_b2PolygonShape_GetChildCount_0,Cp=e._emscripten_bind_b2GearJointDef_get_ratio_0=i._emscripten_bind_b2GearJointDef_get_ratio_0,Dp=e._emscripten_bind_b2Mat33_Solve33_1=i._emscripten_bind_b2Mat33_Solve33_1,Ep=e._emscripten_bind_b2PulleyJoint_GetReactionForce_1=i._emscripten_bind_b2PulleyJoint_GetReactionForce_1,Fp=e._emscripten_bind_b2WheelJoint_GetCollideConnected_0=i._emscripten_bind_b2WheelJoint_GetCollideConnected_0,Gp=e._emscripten_bind_b2WheelJoint_SetSpringDampingRatio_1=i._emscripten_bind_b2WheelJoint_SetSpringDampingRatio_1,Hp=e._emscripten_bind_b2RevoluteJointDef___destroy___0=i._emscripten_bind_b2RevoluteJointDef___destroy___0,Ip=e._emscripten_bind_b2MouseJointDef_get_maxForce_0=i._emscripten_bind_b2MouseJointDef_get_maxForce_0,Jp=e._emscripten_bind_b2RevoluteJoint_EnableMotor_1=i._emscripten_bind_b2RevoluteJoint_EnableMotor_1,Kp=e._emscripten_bind_b2ContactFeature_get_typeB_0=i._emscripten_bind_b2ContactFeature_get_typeB_0,Lp=e._emscripten_bind_b2MotorJoint_SetLinearOffset_1=i._emscripten_bind_b2MotorJoint_SetLinearOffset_1,Mp=e._emscripten_bind_b2MotorJoint_GetReactionForce_1=i._emscripten_bind_b2MotorJoint_GetReactionForce_1,Np=e._emscripten_bind_b2Rot_GetAngle_0=i._emscripten_bind_b2Rot_GetAngle_0,Op=e._emscripten_bind_b2World_SetAllowSleeping_1=i._emscripten_bind_b2World_SetAllowSleeping_1,Pp=e._emscripten_bind_b2MotorJoint_SetAngularOffset_1=i._emscripten_bind_b2MotorJoint_SetAngularOffset_1,Qp=e._emscripten_bind_b2MotorJoint_GetLinearOffset_0=i._emscripten_bind_b2MotorJoint_GetLinearOffset_0,Rp=e._emscripten_bind_b2FrictionJoint_GetCollideConnected_0=i._emscripten_bind_b2FrictionJoint_GetCollideConnected_0,Sp=e._emscripten_bind_b2WheelJointDef_set_motorSpeed_1=i._emscripten_bind_b2WheelJointDef_set_motorSpeed_1,Tp=e._emscripten_bind_b2MotorJoint_GetAnchorA_0=i._emscripten_bind_b2MotorJoint_GetAnchorA_0,Up=e._emscripten_bind_b2Fixture_GetDensity_0=i._emscripten_bind_b2Fixture_GetDensity_0,Vp=e._emscripten_bind_b2PolygonShape_get_m_type_0=i._emscripten_bind_b2PolygonShape_get_m_type_0,Wp=e._emscripten_bind_b2Vec2_Set_2=i._emscripten_bind_b2Vec2_Set_2,Xp=e._emscripten_bind_b2WeldJointDef_get_type_0=i._emscripten_bind_b2WeldJointDef_get_type_0,Yp=e._emscripten_bind_b2MouseJointDef_b2MouseJointDef_0=i._emscripten_bind_b2MouseJointDef_b2MouseJointDef_0,Zp=e._emscripten_bind_b2Rot_get_s_0=i._emscripten_bind_b2Rot_get_s_0,$p=e._emscripten_bind_b2FrictionJoint_SetMaxTorque_1=i._emscripten_bind_b2FrictionJoint_SetMaxTorque_1,aq=e._emscripten_bind_b2MouseJointDef_get_frequencyHz_0=i._emscripten_bind_b2MouseJointDef_get_frequencyHz_0,bq=e._emscripten_bind_b2FrictionJoint_SetUserData_1=i._emscripten_bind_b2FrictionJoint_SetUserData_1,cq=e._emscripten_bind_b2FixtureDef_set_userData_1=i._emscripten_bind_b2FixtureDef_set_userData_1,dq=e._emscripten_bind_b2JointDef_get_userData_0=i._emscripten_bind_b2JointDef_get_userData_0,eq=e._emscripten_bind_b2DistanceJointDef_get_collideConnected_0=i._emscripten_bind_b2DistanceJointDef_get_collideConnected_0,fq=e._emscripten_bind_b2RevoluteJointDef_set_referenceAngle_1=i._emscripten_bind_b2RevoluteJointDef_set_referenceAngle_1,gq=e._emscripten_bind_b2ContactFeature___destroy___0=i._emscripten_bind_b2ContactFeature___destroy___0,hq=e._emscripten_bind_b2DistanceJointDef_set_bodyB_1=i._emscripten_bind_b2DistanceJointDef_set_bodyB_1,iq=e._emscripten_bind_JSQueryCallback_JSQueryCallback_0=i._emscripten_bind_JSQueryCallback_JSQueryCallback_0,jq=e._emscripten_bind_b2ChainShape_GetChildCount_0=i._emscripten_bind_b2ChainShape_GetChildCount_0,kq=e._emscripten_bind_b2MassData_b2MassData_0=i._emscripten_bind_b2MassData_b2MassData_0,lq=e._emscripten_bind_b2Vec3_set_y_1=i._emscripten_bind_b2Vec3_set_y_1,mq=e._emscripten_bind_b2AABB_Combine_1=i._emscripten_bind_b2AABB_Combine_1,nq=e._emscripten_bind_b2AABB_Combine_2=i._emscripten_bind_b2AABB_Combine_2,oq=e._emscripten_bind_b2PrismaticJoint_GetBodyA_0=i._emscripten_bind_b2PrismaticJoint_GetBodyA_0,pq=e._emscripten_bind_b2PrismaticJoint_GetMaxMotorForce_0=i._emscripten_bind_b2PrismaticJoint_GetMaxMotorForce_0,qq=e._emscripten_bind_b2AABB___destroy___0=i._emscripten_bind_b2AABB___destroy___0,rq=e._emscripten_bind_b2Body_IsSleepingAllowed_0=i._emscripten_bind_b2Body_IsSleepingAllowed_0,sq=e._emscripten_bind_b2MouseJointDef_set_maxForce_1=i._emscripten_bind_b2MouseJointDef_set_maxForce_1,tq=e._emscripten_bind_b2MotorJoint_GetCorrectionFactor_0=i._emscripten_bind_b2MotorJoint_GetCorrectionFactor_0,uq=e._emscripten_bind_b2Profile_get_solve_0=i._emscripten_bind_b2Profile_get_solve_0,vq=e._emscripten_bind_JSDestructionListener_SayGoodbyeFixture_1=i._emscripten_bind_JSDestructionListener_SayGoodbyeFixture_1,wq=e._emscripten_bind_b2PolygonShape_GetVertexCount_0=i._emscripten_bind_b2PolygonShape_GetVertexCount_0,xq=e._emscripten_bind_b2Rot_get_c_0=i._emscripten_bind_b2Rot_get_c_0,yq=e._emscripten_bind_b2AABB_set_lowerBound_1=i._emscripten_bind_b2AABB_set_lowerBound_1,zq=e._emscripten_bind_b2ChainShape_get_m_hasPrevVertex_0=i._emscripten_bind_b2ChainShape_get_m_hasPrevVertex_0,Aq=e._emscripten_bind_b2MouseJoint_SetMaxForce_1=i._emscripten_bind_b2MouseJoint_SetMaxForce_1,Bq=e._emscripten_bind_b2FrictionJointDef_get_bodyB_0=i._emscripten_bind_b2FrictionJointDef_get_bodyB_0,Cq=e._emscripten_bind_b2JointDef_set_userData_1=i._emscripten_bind_b2JointDef_set_userData_1,Dq=e._emscripten_bind_b2ManifoldPoint_get_tangentImpulse_0=i._emscripten_bind_b2ManifoldPoint_get_tangentImpulse_0,Eq=e._emscripten_bind_b2RevoluteJointDef_get_maxMotorTorque_0=i._emscripten_bind_b2RevoluteJointDef_get_maxMotorTorque_0,Fq=e._emscripten_bind_b2WeldJointDef_get_dampingRatio_0=i._emscripten_bind_b2WeldJointDef_get_dampingRatio_0,Gq=e._emscripten_bind_b2MouseJoint___destroy___0=i._emscripten_bind_b2MouseJoint___destroy___0,Hq=e._emscripten_bind_b2EdgeShape_b2EdgeShape_0=i._emscripten_bind_b2EdgeShape_b2EdgeShape_0,Iq=e._emscripten_bind_b2FrictionJoint_GetReactionForce_1=i._emscripten_bind_b2FrictionJoint_GetReactionForce_1,Jq=e._emscripten_bind_b2DistanceJointDef_set_type_1=i._emscripten_bind_b2DistanceJointDef_set_type_1,Kq=e._emscripten_bind_b2WeldJoint___destroy___0=i._emscripten_bind_b2WeldJoint___destroy___0,Lq=e._emscripten_bind_JSContactListener_PostSolve_2=i._emscripten_bind_JSContactListener_PostSolve_2,Mq=e._emscripten_bind_b2PulleyJoint_GetBodyA_0=i._emscripten_bind_b2PulleyJoint_GetBodyA_0,Nq=e._emscripten_bind_b2RopeJointDef_get_type_0=i._emscripten_bind_b2RopeJointDef_get_type_0,Oq=e._emscripten_bind_b2CircleShape_ComputeMass_2=i._emscripten_bind_b2CircleShape_ComputeMass_2,Pq=e._emscripten_bind_b2DistanceJointDef_get_localAnchorB_0=i._emscripten_bind_b2DistanceJointDef_get_localAnchorB_0,Qq=e._emscripten_bind_b2GearJointDef___destroy___0=i._emscripten_bind_b2GearJointDef___destroy___0,Rq=e._emscripten_bind_b2RevoluteJointDef_set_bodyA_1=i._emscripten_bind_b2RevoluteJointDef_set_bodyA_1,Sq=e._emscripten_enum_b2BodyType_b2_dynamicBody=i._emscripten_enum_b2BodyType_b2_dynamicBody,Tq=e._emscripten_bind_b2CircleShape_TestPoint_2=i._emscripten_bind_b2CircleShape_TestPoint_2,Uq=e._emscripten_bind_b2MotorJointDef_get_maxTorque_0=i._emscripten_bind_b2MotorJointDef_get_maxTorque_0,Vq=e._emscripten_bind_b2Body_GetLinearVelocityFromLocalPoint_1=i._emscripten_bind_b2Body_GetLinearVelocityFromLocalPoint_1,Wq=e._emscripten_bind_b2Mat22_b2Mat22_0=i._emscripten_bind_b2Mat22_b2Mat22_0,Xq=e._emscripten_bind_b2MouseJoint_GetAnchorB_0=i._emscripten_bind_b2MouseJoint_GetAnchorB_0,Yq=e._emscripten_enum_b2BodyType_b2_kinematicBody=i._emscripten_enum_b2BodyType_b2_kinematicBody,Zq=e._emscripten_bind_b2Manifold_get_localPoint_0=i._emscripten_bind_b2Manifold_get_localPoint_0,$q=e._emscripten_bind_b2GearJoint_GetBodyB_0=i._emscripten_bind_b2GearJoint_GetBodyB_0,ar=e._emscripten_bind_b2ChainShape_Clear_0=i._emscripten_bind_b2ChainShape_Clear_0,br=e._emscripten_bind_b2CircleShape___destroy___0=i._emscripten_bind_b2CircleShape___destroy___0,cr=e._emscripten_bind_b2MotorJoint_GetType_0=i._emscripten_bind_b2MotorJoint_GetType_0,dr=e._emscripten_bind_b2BodyDef_get_awake_0=i._emscripten_bind_b2BodyDef_get_awake_0,er=e._emscripten_bind_b2Contact_SetRestitution_1=i._emscripten_bind_b2Contact_SetRestitution_1,fr=e._emscripten_bind_b2BodyDef_get_angularDamping_0=i._emscripten_bind_b2BodyDef_get_angularDamping_0,gr=e._emscripten_bind_b2EdgeShape_get_m_vertex3_0=i._emscripten_bind_b2EdgeShape_get_m_vertex3_0,hr=e._emscripten_bind_b2Fixture_SetUserData_1=i._emscripten_bind_b2Fixture_SetUserData_1,ir=e._emscripten_bind_b2Transform_SetIdentity_0=i._emscripten_bind_b2Transform_SetIdentity_0,jr=e._emscripten_bind_b2GearJointDef_set_joint1_1=i._emscripten_bind_b2GearJointDef_set_joint1_1,kr=e._emscripten_bind_b2EdgeShape_set_m_vertex2_1=i._emscripten_bind_b2EdgeShape_set_m_vertex2_1,lr=e._emscripten_bind_b2ContactEdge_get_next_0=i._emscripten_bind_b2ContactEdge_get_next_0,mr=e._emscripten_bind_b2ContactFeature_set_indexB_1=i._emscripten_bind_b2ContactFeature_set_indexB_1,nr=e._emscripten_bind_b2Body_GetLinearVelocityFromWorldPoint_1=i._emscripten_bind_b2Body_GetLinearVelocityFromWorldPoint_1,or=e._emscripten_bind_b2WeldJoint_GetCollideConnected_0=i._emscripten_bind_b2WeldJoint_GetCollideConnected_0,pr=e._emscripten_bind_b2Mat22_set_ey_1=i._emscripten_bind_b2Mat22_set_ey_1,qr=e._emscripten_bind_b2WheelJointDef_set_frequencyHz_1=i._emscripten_bind_b2WheelJointDef_set_frequencyHz_1,rr=e._emscripten_bind_b2World_GetSubStepping_0=i._emscripten_bind_b2World_GetSubStepping_0,sr=e._emscripten_bind_b2Rot_GetYAxis_0=i._emscripten_bind_b2Rot_GetYAxis_0,tr=e._emscripten_bind_b2Contact_GetChildIndexB_0=i._emscripten_bind_b2Contact_GetChildIndexB_0,ur=e._emscripten_bind_b2DistanceJoint___destroy___0=i._emscripten_bind_b2DistanceJoint___destroy___0,vr=e._emscripten_bind_b2EdgeShape_GetType_0=i._emscripten_bind_b2EdgeShape_GetType_0,wr=e._emscripten_bind_b2WheelJointDef_set_dampingRatio_1=i._emscripten_bind_b2WheelJointDef_set_dampingRatio_1,xr=e._emscripten_bind_b2ManifoldPoint___destroy___0=i._emscripten_bind_b2ManifoldPoint___destroy___0,yr=e._emscripten_enum_b2JointType_e_prismaticJoint=i._emscripten_enum_b2JointType_e_prismaticJoint,zr=e._emscripten_bind_b2MotorJoint_GetNext_0=i._emscripten_bind_b2MotorJoint_GetNext_0,Ar=e._emscripten_bind_b2Vec2_Length_0=i._emscripten_bind_b2Vec2_Length_0,Br=e._emscripten_bind_b2Vec2_SetZero_0=i._emscripten_bind_b2Vec2_SetZero_0,Cr=e._emscripten_bind_b2RopeJoint___destroy___0=i._emscripten_bind_b2RopeJoint___destroy___0,Dr=e._emscripten_bind_b2World_DestroyJoint_1=i._emscripten_bind_b2World_DestroyJoint_1,Er=e._emscripten_bind_b2JointDef_set_bodyB_1=i._emscripten_bind_b2JointDef_set_bodyB_1,Fr=e._emscripten_bind_b2Mat22_Set_2=i._emscripten_bind_b2Mat22_Set_2,Gr=e._emscripten_bind_b2Body_GetType_0=i._emscripten_bind_b2Body_GetType_0,Hr=e._emscripten_bind_b2WeldJoint_GetAnchorB_0=i._emscripten_bind_b2WeldJoint_GetAnchorB_0,Ir=e._emscripten_bind_b2WeldJoint_GetNext_0=i._emscripten_bind_b2WeldJoint_GetNext_0,Jr=e._emscripten_bind_b2Shape_get_m_radius_0=i._emscripten_bind_b2Shape_get_m_radius_0,Kr=e._emscripten_bind_b2EdgeShape_ComputeAABB_3=i._emscripten_bind_b2EdgeShape_ComputeAABB_3,Lr=e._emscripten_bind_b2BodyDef_get_type_0=i._emscripten_bind_b2BodyDef_get_type_0,Mr=e._emscripten_bind_b2WheelJointDef_set_collideConnected_1=i._emscripten_bind_b2WheelJointDef_set_collideConnected_1,Nr=e._emscripten_bind_JSDestructionListener___destroy___0=i._emscripten_bind_JSDestructionListener___destroy___0,Or=e._emscripten_bind_b2MotorJointDef_get_type_0=i._emscripten_bind_b2MotorJointDef_get_type_0,Pr=e._emscripten_bind_b2RopeJoint_GetLocalAnchorA_0=i._emscripten_bind_b2RopeJoint_GetLocalAnchorA_0,Qr=e._emscripten_bind_b2BodyDef_set_linearDamping_1=i._emscripten_bind_b2BodyDef_set_linearDamping_1,Rr=e._emscripten_bind_b2FrictionJoint_GetUserData_0=i._emscripten_bind_b2FrictionJoint_GetUserData_0,Sr=e._emscripten_bind_b2Contact_SetFriction_1=i._emscripten_bind_b2Contact_SetFriction_1,Tr=e._emscripten_bind_b2Manifold_set_localNormal_1=i._emscripten_bind_b2Manifold_set_localNormal_1,Ur=e._emscripten_bind_b2JointDef_get_bodyA_0=i._emscripten_bind_b2JointDef_get_bodyA_0,Vr=e._emscripten_bind_b2Body_GetLinearDamping_0=i._emscripten_bind_b2Body_GetLinearDamping_0,Wr=e._emscripten_bind_b2WeldJointDef_set_frequencyHz_1=i._emscripten_bind_b2WeldJointDef_set_frequencyHz_1,Xr=e._emscripten_bind_b2Body_ResetMassData_0=i._emscripten_bind_b2Body_ResetMassData_0,Yr=e._emscripten_bind_b2PrismaticJointDef_set_enableMotor_1=i._emscripten_bind_b2PrismaticJointDef_set_enableMotor_1,Zr=e._emscripten_enum_b2JointType_e_wheelJoint=i._emscripten_enum_b2JointType_e_wheelJoint,$r=e._emscripten_bind_b2Vec2_Skew_0=i._emscripten_bind_b2Vec2_Skew_0,as=e._emscripten_bind_b2MouseJoint_GetDampingRatio_0=i._emscripten_bind_b2MouseJoint_GetDampingRatio_0,bs=e._emscripten_bind_b2RevoluteJoint_GetAnchorA_0=i._emscripten_bind_b2RevoluteJoint_GetAnchorA_0,cs=e._emscripten_bind_b2ChainShape_set_m_prevVertex_1=i._emscripten_bind_b2ChainShape_set_m_prevVertex_1,ds=e._emscripten_bind_b2WheelJoint_GetAnchorA_0=i._emscripten_bind_b2WheelJoint_GetAnchorA_0,es=e._emscripten_bind_b2MotorJoint_GetMaxTorque_0=i._emscripten_bind_b2MotorJoint_GetMaxTorque_0,fs=e._emscripten_bind_b2FrictionJoint_GetNext_0=i._emscripten_bind_b2FrictionJoint_GetNext_0,gs=e._emscripten_bind_b2PrismaticJointDef_set_userData_1=i._emscripten_bind_b2PrismaticJointDef_set_userData_1,hs=e._emscripten_bind_b2FrictionJointDef_set_type_1=i._emscripten_bind_b2FrictionJointDef_set_type_1,is=e._emscripten_bind_b2PrismaticJoint_GetUserData_0=i._emscripten_bind_b2PrismaticJoint_GetUserData_0,js=e._emscripten_bind_b2FrictionJointDef_get_collideConnected_0=i._emscripten_bind_b2FrictionJointDef_get_collideConnected_0,ks=e._emscripten_bind_b2Body_GetInertia_0=i._emscripten_bind_b2Body_GetInertia_0,ls=e._emscripten_bind_b2WeldJointDef_set_referenceAngle_1=i._emscripten_bind_b2WeldJointDef_set_referenceAngle_1,ms=e._emscripten_bind_b2FrictionJoint_GetAnchorA_0=i._emscripten_bind_b2FrictionJoint_GetAnchorA_0,ns=e._emscripten_bind_b2RopeJoint_GetType_0=i._emscripten_bind_b2RopeJoint_GetType_0,os=e._emscripten_bind_b2MassData_get_I_0=i._emscripten_bind_b2MassData_get_I_0,ps=e._emscripten_bind_b2WheelJointDef_get_motorSpeed_0=i._emscripten_bind_b2WheelJointDef_get_motorSpeed_0,qs=e._emscripten_bind_b2WeldJointDef_get_referenceAngle_0=i._emscripten_bind_b2WeldJointDef_get_referenceAngle_0,rs=e._emscripten_enum_b2JointType_e_ropeJoint=i._emscripten_enum_b2JointType_e_ropeJoint,ss=e._emscripten_bind_b2Filter_set_maskBits_1=i._emscripten_bind_b2Filter_set_maskBits_1,ts=e._emscripten_bind_b2EdgeShape_set_m_radius_1=i._emscripten_bind_b2EdgeShape_set_m_radius_1,us=e._emscripten_bind_b2MotorJointDef_set_collideConnected_1=i._emscripten_bind_b2MotorJointDef_set_collideConnected_1,vs=e._emscripten_bind_b2Mat22_b2Mat22_2=i._emscripten_bind_b2Mat22_b2Mat22_2,xs=e._emscripten_bind_b2WheelJointDef_set_maxMotorTorque_1=i._emscripten_bind_b2WheelJointDef_set_maxMotorTorque_1,ys=e._emscripten_bind_b2FrictionJointDef_set_bodyB_1=i._emscripten_bind_b2FrictionJointDef_set_bodyB_1,zs=e._emscripten_bind_b2Mat22_b2Mat22_4=i._emscripten_bind_b2Mat22_b2Mat22_4,As=e._emscripten_bind_b2ChainShape_set_m_hasNextVertex_1=i._emscripten_bind_b2ChainShape_set_m_hasNextVertex_1,Bs=e._emscripten_bind_b2Mat22_GetInverse_0=i._emscripten_bind_b2Mat22_GetInverse_0,Cs=e._emscripten_bind_b2PrismaticJoint_EnableMotor_1=i._emscripten_bind_b2PrismaticJoint_EnableMotor_1,Ds=e._emscripten_bind_b2CircleShape_get_m_type_0=i._emscripten_bind_b2CircleShape_get_m_type_0,Es=e._emscripten_bind_b2DistanceJoint_GetLocalAnchorA_0=i._emscripten_bind_b2DistanceJoint_GetLocalAnchorA_0,Fs=e._emscripten_bind_b2ContactEdge_b2ContactEdge_0=i._emscripten_bind_b2ContactEdge_b2ContactEdge_0,Gs=e._emscripten_bind_b2BodyDef___destroy___0=i._emscripten_bind_b2BodyDef___destroy___0,Hs=e._emscripten_bind_b2FrictionJointDef_set_maxTorque_1=i._emscripten_bind_b2FrictionJointDef_set_maxTorque_1,Is=e._emscripten_bind_b2PolygonShape_GetVertex_1=i._emscripten_bind_b2PolygonShape_GetVertex_1,Js=e._emscripten_bind_b2PulleyJointDef_set_groundAnchorB_1=i._emscripten_bind_b2PulleyJointDef_set_groundAnchorB_1,Ks=e._emscripten_bind_b2RevoluteJointDef_get_collideConnected_0=i._emscripten_bind_b2RevoluteJointDef_get_collideConnected_0,Ls=e._emscripten_bind_b2DistanceJointDef_set_bodyA_1=i._emscripten_bind_b2DistanceJointDef_set_bodyA_1,Ms=e._emscripten_bind_b2RevoluteJoint_SetLimits_2=i._emscripten_bind_b2RevoluteJoint_SetLimits_2,Ns=e._emscripten_bind_b2WeldJointDef_set_type_1=i._emscripten_bind_b2WeldJointDef_set_type_1,Os=e._emscripten_bind_b2MotorJointDef___destroy___0=i._emscripten_bind_b2MotorJointDef___destroy___0,Ps=e._emscripten_bind_b2FixtureDef_set_density_1=i._emscripten_bind_b2FixtureDef_set_density_1,Qs=e._emscripten_bind_b2Shape_set_m_type_1=i._emscripten_bind_b2Shape_set_m_type_1,Rs=e._emscripten_bind_b2WheelJoint_GetJointTranslation_0=i._emscripten_bind_b2WheelJoint_GetJointTranslation_0,Ss=e._emscripten_bind_b2WheelJoint_GetMotorTorque_1=i._emscripten_bind_b2WheelJoint_GetMotorTorque_1,Ts=e._emscripten_bind_b2RopeJoint_SetUserData_1=i._emscripten_bind_b2RopeJoint_SetUserData_1,Us=e._emscripten_bind_b2RopeJointDef___destroy___0=i._emscripten_bind_b2RopeJointDef___destroy___0,Vs=e._emscripten_bind_b2WheelJoint_IsActive_0=i._emscripten_bind_b2WheelJoint_IsActive_0,Ws=e._emscripten_bind_b2PrismaticJointDef_get_enableMotor_0=i._emscripten_bind_b2PrismaticJointDef_get_enableMotor_0,Xs=e._emscripten_bind_b2MotorJointDef_set_bodyB_1=i._emscripten_bind_b2MotorJointDef_set_bodyB_1,Ys=e._emscripten_bind_b2Transform_b2Transform_2=i._emscripten_bind_b2Transform_b2Transform_2,Zs=e._emscripten_bind_b2WeldJoint_GetReactionForce_1=i._emscripten_bind_b2WeldJoint_GetReactionForce_1,$s=e._emscripten_bind_b2ChainShape_RayCast_4=i._emscripten_bind_b2ChainShape_RayCast_4,at=e._emscripten_bind_b2PrismaticJoint_GetUpperLimit_0=i._emscripten_bind_b2PrismaticJoint_GetUpperLimit_0,bt=e._emscripten_bind_b2ContactID_get_cf_0=i._emscripten_bind_b2ContactID_get_cf_0,ct=e._emscripten_bind_b2MouseJointDef_set_frequencyHz_1=i._emscripten_bind_b2MouseJointDef_set_frequencyHz_1,dt=e._emscripten_bind_b2ChainShape_get_m_radius_0=i._emscripten_bind_b2ChainShape_get_m_radius_0,et=e._emscripten_bind_b2Body_GetLinearVelocity_0=i._emscripten_bind_b2Body_GetLinearVelocity_0,ft=e._emscripten_bind_b2ChainShape_set_m_radius_1=i._emscripten_bind_b2ChainShape_set_m_radius_1,gt=e._emscripten_bind_b2DistanceJoint_GetReactionTorque_1=i._emscripten_bind_b2DistanceJoint_GetReactionTorque_1,ht=e._emscripten_bind_b2World_Dump_0=i._emscripten_bind_b2World_Dump_0,it=e._emscripten_bind_b2RevoluteJoint_GetLocalAnchorB_0=i._emscripten_bind_b2RevoluteJoint_GetLocalAnchorB_0,jt=e._emscripten_bind_JSContactFilter_JSContactFilter_0=i._emscripten_bind_JSContactFilter_JSContactFilter_0,kt=e._emscripten_bind_b2Profile_set_solve_1=i._emscripten_bind_b2Profile_set_solve_1,lt=e._emscripten_bind_b2WeldJoint_GetDampingRatio_0=i._emscripten_bind_b2WeldJoint_GetDampingRatio_0,mt=e._emscripten_bind_b2Color_get_b_0=i._emscripten_bind_b2Color_get_b_0,nt=e._emscripten_bind_b2MouseJointDef_get_userData_0=i._emscripten_bind_b2MouseJointDef_get_userData_0,ot=e._emscripten_bind_b2CircleShape_ComputeAABB_3=i._emscripten_bind_b2CircleShape_ComputeAABB_3,pt=e._emscripten_bind_b2RopeJoint_GetReactionForce_1=i._emscripten_bind_b2RopeJoint_GetReactionForce_1,qt=e._emscripten_bind_b2PrismaticJointDef_get_enableLimit_0=i._emscripten_bind_b2PrismaticJointDef_get_enableLimit_0,rt=e._emscripten_bind_b2ManifoldPoint_set_localPoint_1=i._emscripten_bind_b2ManifoldPoint_set_localPoint_1,st=e._emscripten_bind_b2Fixture_GetFilterData_0=i._emscripten_bind_b2Fixture_GetFilterData_0,tt=e._emscripten_bind_b2World_GetBodyList_0=i._emscripten_bind_b2World_GetBodyList_0,ut=e._emscripten_bind_b2Shape_ComputeMass_2=i._emscripten_bind_b2Shape_ComputeMass_2,vt=e._emscripten_bind_b2Joint_GetNext_0=i._emscripten_bind_b2Joint_GetNext_0,wt=e._emscripten_bind_b2PrismaticJointDef_get_collideConnected_0=i._emscripten_bind_b2PrismaticJointDef_get_collideConnected_0,xt=e._emscripten_bind_b2World_RayCast_3=i._emscripten_bind_b2World_RayCast_3,yt=e._emscripten_bind_b2MassData_set_I_1=i._emscripten_bind_b2MassData_set_I_1,zt=e._emscripten_bind_b2MassData___destroy___0=i._emscripten_bind_b2MassData___destroy___0,At=e._emscripten_bind_b2Profile_get_collide_0=i._emscripten_bind_b2Profile_get_collide_0,Bt=e._emscripten_bind_b2Color_b2Color_3=i._emscripten_bind_b2Color_b2Color_3,Ct=e._emscripten_bind_b2Color_b2Color_0=i._emscripten_bind_b2Color_b2Color_0,Dt=e._emscripten_bind_b2MouseJoint_GetFrequency_0=i._emscripten_bind_b2MouseJoint_GetFrequency_0,Et=e._emscripten_bind_b2WeldJointDef_Initialize_3=i._emscripten_bind_b2WeldJointDef_Initialize_3,Ft=e._emscripten_bind_b2Shape_GetChildCount_0=i._emscripten_bind_b2Shape_GetChildCount_0,Gt=e._emscripten_enum_b2JointType_e_gearJoint=i._emscripten_enum_b2JointType_e_gearJoint,Ht=e._emscripten_bind_b2FixtureDef_get_friction_0=i._emscripten_bind_b2FixtureDef_get_friction_0,It=e._emscripten_bind_b2PrismaticJointDef_set_localAnchorA_1=i._emscripten_bind_b2PrismaticJointDef_set_localAnchorA_1,Jt=e._emscripten_bind_b2Contact_GetManifold_0=i._emscripten_bind_b2Contact_GetManifold_0,Kt=e._emscripten_bind_b2MouseJoint_GetTarget_0=i._emscripten_bind_b2MouseJoint_GetTarget_0,Lt=e._emscripten_bind_b2WeldJointDef_get_localAnchorA_0=i._emscripten_bind_b2WeldJointDef_get_localAnchorA_0,Mt=e._emscripten_bind_b2MouseJoint_SetUserData_1=i._emscripten_bind_b2MouseJoint_SetUserData_1,Nt=e._emscripten_bind_b2JointEdge_get_other_0=i._emscripten_bind_b2JointEdge_get_other_0,Ot=e._emscripten_bind_b2ChainShape_GetChildEdge_2=i._emscripten_bind_b2ChainShape_GetChildEdge_2,Pt=e._emscripten_bind_b2GearJointDef_set_collideConnected_1=i._emscripten_bind_b2GearJointDef_set_collideConnected_1,Qt=e._emscripten_bind_b2MotorJointDef_get_angularOffset_0=i._emscripten_bind_b2MotorJointDef_get_angularOffset_0,Rt=e._emscripten_bind_b2WheelJoint_SetUserData_1=i._emscripten_bind_b2WheelJoint_SetUserData_1,St=e._emscripten_bind_b2Body_ApplyForce_3=i._emscripten_bind_b2Body_ApplyForce_3,Tt=e._emscripten_bind_b2PrismaticJoint_SetMotorSpeed_1=i._emscripten_bind_b2PrismaticJoint_SetMotorSpeed_1,Ut=e._emscripten_bind_b2DistanceJoint_GetCollideConnected_0=i._emscripten_bind_b2DistanceJoint_GetCollideConnected_0,Vt=e._emscripten_bind_b2MouseJoint_GetMaxForce_0=i._emscripten_bind_b2MouseJoint_GetMaxForce_0,Wt=e._emscripten_bind_b2World_SetGravity_1=i._emscripten_bind_b2World_SetGravity_1,Xt=e._emscripten_bind_b2Mat22_SetZero_0=i._emscripten_bind_b2Mat22_SetZero_0,Yt=e._emscripten_bind_b2Contact_GetChildIndexA_0=i._emscripten_bind_b2Contact_GetChildIndexA_0,Zt=e._emscripten_bind_b2Fixture_SetRestitution_1=i._emscripten_bind_b2Fixture_SetRestitution_1,$t=e._emscripten_bind_b2Body_GetTransform_0=i._emscripten_bind_b2Body_GetTransform_0,au=e._emscripten_bind_b2ContactEdge___destroy___0=i._emscripten_bind_b2ContactEdge___destroy___0,bu=e._emscripten_bind_b2Mat33_set_ex_1=i._emscripten_bind_b2Mat33_set_ex_1,cu=e._emscripten_bind_b2AABB_GetExtents_0=i._emscripten_bind_b2AABB_GetExtents_0,du=e._emscripten_bind_b2RevoluteJointDef_get_bodyA_0=i._emscripten_bind_b2RevoluteJointDef_get_bodyA_0,eu=e._emscripten_bind_b2PrismaticJoint_GetBodyB_0=i._emscripten_bind_b2PrismaticJoint_GetBodyB_0,fu=e._emscripten_bind_b2WheelJointDef_set_bodyA_1=i._emscripten_bind_b2WheelJointDef_set_bodyA_1,gu=e._emscripten_bind_b2DistanceJointDef_set_collideConnected_1=i._emscripten_bind_b2DistanceJointDef_set_collideConnected_1,hu=e._emscripten_bind_b2BodyDef_get_angle_0=i._emscripten_bind_b2BodyDef_get_angle_0,iu=e._emscripten_bind_b2PulleyJoint_GetReactionTorque_1=i._emscripten_bind_b2PulleyJoint_GetReactionTorque_1,ju=e._emscripten_bind_b2FixtureDef_get_shape_0=i._emscripten_bind_b2FixtureDef_get_shape_0,ku=e._emscripten_bind_b2WeldJointDef_get_userData_0=i._emscripten_bind_b2WeldJointDef_get_userData_0,lu=e._emscripten_bind_b2FrictionJoint_SetMaxForce_1=i._emscripten_bind_b2FrictionJoint_SetMaxForce_1,mu=e._emscripten_bind_b2Mat33_b2Mat33_3=i._emscripten_bind_b2Mat33_b2Mat33_3,nu=e._emscripten_bind_b2Vec3_get_y_0=i._emscripten_bind_b2Vec3_get_y_0,ou=e._emscripten_bind_b2JointDef_get_type_0=i._emscripten_bind_b2JointDef_get_type_0,pu=e._emscripten_bind_JSQueryCallback_ReportFixture_1=i._emscripten_bind_JSQueryCallback_ReportFixture_1,qu=e._emscripten_bind_b2Fixture_TestPoint_1=i._emscripten_bind_b2Fixture_TestPoint_1,ru=e._emscripten_bind_b2RevoluteJoint_GetCollideConnected_0=i._emscripten_bind_b2RevoluteJoint_GetCollideConnected_0,su=e._emscripten_bind_JSDraw_JSDraw_0=i._emscripten_bind_JSDraw_JSDraw_0,tu=e._emscripten_bind_b2MouseJoint_GetAnchorA_0=i._emscripten_bind_b2MouseJoint_GetAnchorA_0,uu=e._emscripten_bind_b2Transform_get_p_0=i._emscripten_bind_b2Transform_get_p_0,vu=e._emscripten_bind_b2EdgeShape_ComputeMass_2=i._emscripten_bind_b2EdgeShape_ComputeMass_2,wu=e._emscripten_bind_b2World_GetProfile_0=i._emscripten_bind_b2World_GetProfile_0,xu=e._emscripten_bind_b2DistanceJointDef___destroy___0=i._emscripten_bind_b2DistanceJointDef___destroy___0,yu=e._emscripten_bind_b2RopeJointDef_set_bodyA_1=i._emscripten_bind_b2RopeJointDef_set_bodyA_1,zu=e._emscripten_bind_b2JointDef_set_type_1=i._emscripten_bind_b2JointDef_set_type_1,Au=e._emscripten_bind_b2Draw_AppendFlags_1=i._emscripten_bind_b2Draw_AppendFlags_1,Bu=e._emscripten_bind_b2MotorJointDef_get_userData_0=i._emscripten_bind_b2MotorJointDef_get_userData_0,Cu=e._emscripten_bind_b2World_GetContactList_0=i._emscripten_bind_b2World_GetContactList_0,Du=e._emscripten_bind_b2Mat33_set_ez_1=i._emscripten_bind_b2Mat33_set_ez_1,Eu=e._emscripten_bind_b2JointEdge_b2JointEdge_0=i._emscripten_bind_b2JointEdge_b2JointEdge_0,Fu=e._emscripten_bind_b2FrictionJointDef_get_bodyA_0=i._emscripten_bind_b2FrictionJointDef_get_bodyA_0,Gu=e._emscripten_bind_b2WheelJointDef_get_type_0=i._emscripten_bind_b2WheelJointDef_get_type_0,Hu=e._emscripten_bind_b2RevoluteJoint_GetReactionForce_1=i._emscripten_bind_b2RevoluteJoint_GetReactionForce_1,Iu=e._emscripten_bind_b2PulleyJointDef_set_collideConnected_1=i._emscripten_bind_b2PulleyJointDef_set_collideConnected_1,Ju=e._emscripten_bind_b2RopeJoint_GetCollideConnected_0=i._emscripten_bind_b2RopeJoint_GetCollideConnected_0,Ku=e._emscripten_bind_b2GearJointDef_set_joint2_1=i._emscripten_bind_b2GearJointDef_set_joint2_1,Lu=e._emscripten_bind_b2BodyDef_set_userData_1=i._emscripten_bind_b2BodyDef_set_userData_1,Mu=e._emscripten_bind_b2GearJoint_GetAnchorB_0=i._emscripten_bind_b2GearJoint_GetAnchorB_0,Nu=e._emscripten_bind_b2RopeJoint_IsActive_0=i._emscripten_bind_b2RopeJoint_IsActive_0,Ou=e._emscripten_bind_b2Fixture_GetFriction_0=i._emscripten_bind_b2Fixture_GetFriction_0,Pu=e._emscripten_enum_b2DrawFlag_e_aabbBit=i._emscripten_enum_b2DrawFlag_e_aabbBit,Qu=e._emscripten_bind_b2RevoluteJointDef_Initialize_3=i._emscripten_bind_b2RevoluteJointDef_Initialize_3,Ru=e._emscripten_bind_b2Body_GetAngle_0=i._emscripten_bind_b2Body_GetAngle_0,Su=e._emscripten_bind_b2EdgeShape_Set_2=i._emscripten_bind_b2EdgeShape_Set_2,Tu=e._emscripten_bind_b2Mat33_SetZero_0=i._emscripten_bind_b2Mat33_SetZero_0,Uu=e._emscripten_bind_b2MotorJointDef_set_maxTorque_1=i._emscripten_bind_b2MotorJointDef_set_maxTorque_1,Vu=e._emscripten_bind_b2PrismaticJointDef_get_localAxisA_0=i._emscripten_bind_b2PrismaticJointDef_get_localAxisA_0,Wu=e._emscripten_bind_b2Mat22_get_ey_0=i._emscripten_bind_b2Mat22_get_ey_0,Xu=e._emscripten_bind_b2Mat22_SetIdentity_0=i._emscripten_bind_b2Mat22_SetIdentity_0,Yu=e._emscripten_bind_b2Joint_IsActive_0=i._emscripten_bind_b2Joint_IsActive_0,Zu=e._emscripten_bind_b2BodyDef_get_allowSleep_0=i._emscripten_bind_b2BodyDef_get_allowSleep_0,$u=e._emscripten_bind_b2World_GetTreeHeight_0=i._emscripten_bind_b2World_GetTreeHeight_0,av=e._emscripten_bind_b2GearJoint_GetJoint2_0=i._emscripten_bind_b2GearJoint_GetJoint2_0,bv=e._emscripten_bind_b2EdgeShape_set_m_vertex1_1=i._emscripten_bind_b2EdgeShape_set_m_vertex1_1,cv=e._emscripten_bind_b2Body_GetWorld_0=i._emscripten_bind_b2Body_GetWorld_0,dv=e._emscripten_enum_b2LimitState_e_inactiveLimit=i._emscripten_enum_b2LimitState_e_inactiveLimit,ev=e._emscripten_bind_b2PulleyJointDef_set_lengthB_1=i._emscripten_bind_b2PulleyJointDef_set_lengthB_1,fv=e._emscripten_bind_b2Body_SetAwake_1=i._emscripten_bind_b2Body_SetAwake_1,gv=e._emscripten_bind_b2PrismaticJointDef_set_upperTranslation_1=i._emscripten_bind_b2PrismaticJointDef_set_upperTranslation_1,hv=e._emscripten_bind_b2Vec2___destroy___0=i._emscripten_bind_b2Vec2___destroy___0,iv=e._emscripten_bind_b2RayCastInput_set_p1_1=i._emscripten_bind_b2RayCastInput_set_p1_1,jv=e._emscripten_bind_b2Contact_ResetFriction_0=i._emscripten_bind_b2Contact_ResetFriction_0,kv=e._emscripten_bind_b2PulleyJoint_GetAnchorA_0=i._emscripten_bind_b2PulleyJoint_GetAnchorA_0,lv=e._emscripten_bind_b2BodyDef_get_linearVelocity_0=i._emscripten_bind_b2BodyDef_get_linearVelocity_0,mv=e._emscripten_bind_b2DistanceJointDef_get_bodyB_0=i._emscripten_bind_b2DistanceJointDef_get_bodyB_0,nv=e._emscripten_bind_b2Mat22___destroy___0=i._emscripten_bind_b2Mat22___destroy___0,ov=e._emscripten_bind_b2RevoluteJoint_GetAnchorB_0=i._emscripten_bind_b2RevoluteJoint_GetAnchorB_0,pv=e._emscripten_bind_b2RevoluteJoint_GetNext_0=i._emscripten_bind_b2RevoluteJoint_GetNext_0,qv=e._emscripten_bind_b2WeldJointDef_get_bodyA_0=i._emscripten_bind_b2WeldJointDef_get_bodyA_0,rv=e._emscripten_bind_b2MotorJoint_GetAnchorB_0=i._emscripten_bind_b2MotorJoint_GetAnchorB_0,sv=e._emscripten_bind_b2Fixture_GetShape_0=i._emscripten_bind_b2Fixture_GetShape_0,tv=e._emscripten_bind_b2PolygonShape_SetAsBox_2=i._emscripten_bind_b2PolygonShape_SetAsBox_2,uv=e._emscripten_bind_b2Vec3_op_mul_1=i._emscripten_bind_b2Vec3_op_mul_1,vv=e._emscripten_bind_b2PolygonShape_set_m_type_1=i._emscripten_bind_b2PolygonShape_set_m_type_1,wv=e._emscripten_bind_b2WheelJoint_GetType_0=i._emscripten_bind_b2WheelJoint_GetType_0,xv=e._emscripten_bind_b2MotorJoint_GetAngularOffset_0=i._emscripten_bind_b2MotorJoint_GetAngularOffset_0,yv=e._emscripten_bind_b2RevoluteJoint_IsActive_0=i._emscripten_bind_b2RevoluteJoint_IsActive_0,zv=e._emscripten_bind_b2GearJoint_GetNext_0=i._emscripten_bind_b2GearJoint_GetNext_0,Av=e._emscripten_bind_b2MotorJointDef_get_correctionFactor_0=i._emscripten_bind_b2MotorJointDef_get_correctionFactor_0,Bv=e._emscripten_bind_b2Color_Set_3=i._emscripten_bind_b2Color_Set_3,Cv=e._emscripten_bind_b2EdgeShape_set_m_type_1=i._emscripten_bind_b2EdgeShape_set_m_type_1,Dv=e._emscripten_bind_b2WheelJoint_GetLocalAxisA_0=i._emscripten_bind_b2WheelJoint_GetLocalAxisA_0,Ev=e._emscripten_bind_b2Body_GetNext_0=i._emscripten_bind_b2Body_GetNext_0,Fv=e._emscripten_bind_b2RopeJoint_GetBodyA_0=i._emscripten_bind_b2RopeJoint_GetBodyA_0,Gv=e._emscripten_enum_b2JointType_e_unknownJoint=i._emscripten_enum_b2JointType_e_unknownJoint,Hv=e._emscripten_bind_b2ContactFeature_set_indexA_1=i._emscripten_bind_b2ContactFeature_set_indexA_1,Iv=e._emscripten_bind_b2Profile_get_solveInit_0=i._emscripten_bind_b2Profile_get_solveInit_0,Jv=e._emscripten_bind_b2BodyDef_set_angularDamping_1=i._emscripten_bind_b2BodyDef_set_angularDamping_1,Kv=e._emscripten_bind_b2FrictionJoint_GetAnchorB_0=i._emscripten_bind_b2FrictionJoint_GetAnchorB_0,Lv=e._emscripten_bind_b2World_QueryAABB_2=i._emscripten_bind_b2World_QueryAABB_2,Mv=e._emscripten_bind_b2BodyDef_get_userData_0=i._emscripten_bind_b2BodyDef_get_userData_0,Nv=e._emscripten_bind_b2ContactID_get_key_0=i._emscripten_bind_b2ContactID_get_key_0,Ov=e._emscripten_bind_b2Body_SetAngularVelocity_1=i._emscripten_bind_b2Body_SetAngularVelocity_1,Pv=e._emscripten_bind_b2WheelJointDef_get_userData_0=i._emscripten_bind_b2WheelJointDef_get_userData_0,Qv=e._emscripten_bind_b2RevoluteJoint_IsLimitEnabled_0=i._emscripten_bind_b2RevoluteJoint_IsLimitEnabled_0,Rv=e._emscripten_bind_b2DistanceJoint_GetBodyB_0=i._emscripten_bind_b2DistanceJoint_GetBodyB_0,Sv=e._emscripten_bind_b2RevoluteJointDef_set_maxMotorTorque_1=i._emscripten_bind_b2RevoluteJointDef_set_maxMotorTorque_1,Tv=e._emscripten_bind_b2WeldJointDef_set_bodyB_1=i._emscripten_bind_b2WeldJointDef_set_bodyB_1,Uv=e._emscripten_bind_b2RevoluteJoint_SetUserData_1=i._emscripten_bind_b2RevoluteJoint_SetUserData_1,Vv=e._emscripten_bind_b2DistanceJoint_SetLength_1=i._emscripten_bind_b2DistanceJoint_SetLength_1,Wv=e._emscripten_bind_b2JointEdge_get_joint_0=i._emscripten_bind_b2JointEdge_get_joint_0,Xv=e._emscripten_bind_b2Body_GetLocalCenter_0=i._emscripten_bind_b2Body_GetLocalCenter_0,Yv=e._emscripten_bind_b2FixtureDef___destroy___0=i._emscripten_bind_b2FixtureDef___destroy___0,Zv=e._emscripten_bind_b2FixtureDef_set_shape_1=i._emscripten_bind_b2FixtureDef_set_shape_1,$v=e._emscripten_bind_b2WeldJoint_GetAnchorA_0=i._emscripten_bind_b2WeldJoint_GetAnchorA_0,aw=e._emscripten_bind_b2Profile_get_solveVelocity_0=i._emscripten_bind_b2Profile_get_solveVelocity_0,bw=e._emscripten_bind_b2WeldJointDef_get_bodyB_0=i._emscripten_bind_b2WeldJointDef_get_bodyB_0,cw=e._emscripten_bind_b2Body_SetAngularDamping_1=i._emscripten_bind_b2Body_SetAngularDamping_1,dw=e._emscripten_bind_b2PulleyJointDef_Initialize_7=i._emscripten_bind_b2PulleyJointDef_Initialize_7,ew=e._emscripten_bind_b2GearJointDef_set_bodyB_1=i._emscripten_bind_b2GearJointDef_set_bodyB_1,fw=e._emscripten_bind_b2RopeJoint_GetReactionTorque_1=i._emscripten_bind_b2RopeJoint_GetReactionTorque_1,gw=e._emscripten_bind_b2Mat22_set_ex_1=i._emscripten_bind_b2Mat22_set_ex_1,hw=e._emscripten_bind_b2GearJoint_GetType_0=i._emscripten_bind_b2GearJoint_GetType_0,iw=e._emscripten_enum_b2DrawFlag_e_centerOfMassBit=i._emscripten_enum_b2DrawFlag_e_centerOfMassBit,jw=e._emscripten_bind_b2ChainShape_b2ChainShape_0=i._emscripten_bind_b2ChainShape_b2ChainShape_0,kw=e._emscripten_bind_b2RevoluteJoint_SetMaxMotorTorque_1=i._emscripten_bind_b2RevoluteJoint_SetMaxMotorTorque_1,lw=e._emscripten_bind_b2RopeJointDef_set_localAnchorB_1=i._emscripten_bind_b2RopeJointDef_set_localAnchorB_1,mw=e._emscripten_bind_b2FrictionJointDef_Initialize_3=i._emscripten_bind_b2FrictionJointDef_Initialize_3,nw=e._emscripten_bind_b2GearJointDef_set_userData_1=i._emscripten_bind_b2GearJointDef_set_userData_1,ow=e._emscripten_bind_b2ChainShape_CreateLoop_2=i._emscripten_bind_b2ChainShape_CreateLoop_2,pw=e._emscripten_bind_b2EdgeShape_get_m_radius_0=i._emscripten_bind_b2EdgeShape_get_m_radius_0,qw=e._emscripten_bind_b2Contact_GetFixtureB_0=i._emscripten_bind_b2Contact_GetFixtureB_0,rw=e._emscripten_bind_b2ChainShape_ComputeMass_2=i._emscripten_bind_b2ChainShape_ComputeMass_2,sw=e._emscripten_bind_b2Vec2_set_y_1=i._emscripten_bind_b2Vec2_set_y_1,tw=e._emscripten_bind_b2PrismaticJoint_IsLimitEnabled_0=i._emscripten_bind_b2PrismaticJoint_IsLimitEnabled_0,uw=e._emscripten_bind_b2RopeJointDef_get_bodyB_0=i._emscripten_bind_b2RopeJointDef_get_bodyB_0,vw=e._emscripten_bind_b2BodyDef_b2BodyDef_0=i._emscripten_bind_b2BodyDef_b2BodyDef_0,ww=e._emscripten_bind_b2MassData_get_mass_0=i._emscripten_bind_b2MassData_get_mass_0,xw=e._emscripten_bind_b2WheelJoint___destroy___0=i._emscripten_bind_b2WheelJoint___destroy___0,yw=e._emscripten_bind_b2Joint_GetBodyB_0=i._emscripten_bind_b2Joint_GetBodyB_0,zw=e._emscripten_bind_b2MouseJointDef_set_collideConnected_1=i._emscripten_bind_b2MouseJointDef_set_collideConnected_1,Aw=e._emscripten_bind_b2WheelJointDef_set_localAxisA_1=i._emscripten_bind_b2WheelJointDef_set_localAxisA_1,Bw=e._emscripten_bind_b2Joint_Dump_0=i._emscripten_bind_b2Joint_Dump_0,Cw=e._emscripten_bind_b2WheelJointDef_b2WheelJointDef_0=i._emscripten_bind_b2WheelJointDef_b2WheelJointDef_0,Dw=e._emscripten_bind_b2RevoluteJointDef_set_motorSpeed_1=i._emscripten_bind_b2RevoluteJointDef_set_motorSpeed_1,Ew=e._emscripten_bind_b2MotorJointDef_get_bodyA_0=i._emscripten_bind_b2MotorJointDef_get_bodyA_0,Fw=e._emscripten_bind_b2WheelJointDef_get_enableMotor_0=i._emscripten_bind_b2WheelJointDef_get_enableMotor_0,Gw=e._emscripten_bind_b2Vec2_LengthSquared_0=i._emscripten_bind_b2Vec2_LengthSquared_0,Hw=e._emscripten_bind_b2FrictionJointDef_set_bodyA_1=i._emscripten_bind_b2FrictionJointDef_set_bodyA_1,Iw=e._emscripten_bind_b2WheelJoint_GetSpringFrequencyHz_0=i._emscripten_bind_b2WheelJoint_GetSpringFrequencyHz_0,Jw=e._emscripten_bind_b2ContactFeature_get_indexB_0=i._emscripten_bind_b2ContactFeature_get_indexB_0,Kw=e._emscripten_bind_b2Body_GetJointList_0=i._emscripten_bind_b2Body_GetJointList_0,Lw=e._emscripten_bind_b2FrictionJoint_GetBodyA_0=i._emscripten_bind_b2FrictionJoint_GetBodyA_0,Mw=e._emscripten_bind_b2WheelJointDef_set_localAnchorB_1=i._emscripten_bind_b2WheelJointDef_set_localAnchorB_1,Nw=e._emscripten_bind_b2DistanceJointDef_set_localAnchorA_1=i._emscripten_bind_b2DistanceJointDef_set_localAnchorA_1,Ow=e._emscripten_bind_b2PrismaticJointDef_get_maxMotorForce_0=i._emscripten_bind_b2PrismaticJointDef_get_maxMotorForce_0,Pw=e._emscripten_bind_b2Body_SetUserData_1=i._emscripten_bind_b2Body_SetUserData_1,Qw=e._emscripten_bind_b2DistanceJoint_GetUserData_0=i._emscripten_bind_b2DistanceJoint_GetUserData_0,Rw=e._emscripten_bind_b2PulleyJointDef_set_bodyA_1=i._emscripten_bind_b2PulleyJointDef_set_bodyA_1,Sw=e._emscripten_bind_b2Joint_GetType_0=i._emscripten_bind_b2Joint_GetType_0,Tw=e._emscripten_bind_b2Manifold_get_pointCount_0=i._emscripten_bind_b2Manifold_get_pointCount_0,Uw=e._emscripten_bind_b2Mat33_get_ez_0=i._emscripten_bind_b2Mat33_get_ez_0,Vw=e._emscripten_bind_b2DestructionListenerWrapper___destroy___0=i._emscripten_bind_b2DestructionListenerWrapper___destroy___0,Ww=e._emscripten_bind_b2WheelJointDef_get_bodyA_0=i._emscripten_bind_b2WheelJointDef_get_bodyA_0,Xw=e._emscripten_enum_b2LimitState_e_atUpperLimit=i._emscripten_enum_b2LimitState_e_atUpperLimit,Yw=e._emscripten_bind_b2PulleyJointDef_set_groundAnchorA_1=i._emscripten_bind_b2PulleyJointDef_set_groundAnchorA_1,Zw=e._emscripten_bind_b2MouseJointDef_get_type_0=i._emscripten_bind_b2MouseJointDef_get_type_0,$w=e._emscripten_bind_b2PrismaticJoint_SetMaxMotorForce_1=i._emscripten_bind_b2PrismaticJoint_SetMaxMotorForce_1,ax=e._emscripten_bind_b2PulleyJointDef_get_collideConnected_0=i._emscripten_bind_b2PulleyJointDef_get_collideConnected_0,bx=e._emscripten_bind_b2RopeJoint_SetMaxLength_1=i._emscripten_bind_b2RopeJoint_SetMaxLength_1,cx=e._emscripten_bind_b2Joint_SetUserData_1=i._emscripten_bind_b2Joint_SetUserData_1,dx=e._emscripten_bind_b2PolygonShape_set_m_radius_1=i._emscripten_bind_b2PolygonShape_set_m_radius_1,ex=e._emscripten_bind_b2Vec2_get_x_0=i._emscripten_bind_b2Vec2_get_x_0,fx=e._emscripten_bind_JSContactListener_JSContactListener_0=i._emscripten_bind_JSContactListener_JSContactListener_0;e.runPostSets=i.runPostSets,e.dynCall_iiii=i.dynCall_iiii,e.dynCall_viiiii=i.dynCall_viiiii,e.dynCall_did=i.dynCall_did,e.dynCall_vi=i.dynCall_vi,e.dynCall_diiiid=i.dynCall_diiiid,e.dynCall_vii=i.dynCall_vii,e.dynCall_viidii=i.dynCall_viidii,e.dynCall_ii=i.dynCall_ii,e.dynCall_viidi=i.dynCall_viidi,e.dynCall_viii=i.dynCall_viii,e.dynCall_v=i.dynCall_v,e.dynCall_viid=i.dynCall_viid,e.dynCall_viiiiii=i.dynCall_viiiiii,e.dynCall_iii=i.dynCall_iii,e.dynCall_iiiiii=i.dynCall_iiiiii,e.dynCall_viiii=i.dynCall_viiii,h.u=i.stackAlloc,h.A=i.stackSave,h.J=i.stackRestore,h.ga=i.setTempRet0,h.aa=i.getTempRet0;var jc=ba;if(Nb)if(typeof e.locateFile=="function"?Nb=e.locateFile(Nb):e.memoryInitializerPrefixURL&&(Nb=e.memoryInitializerPrefixURL+Nb),fa||ja){var gx=e.readBinary(Nb);bb.set(gx,jb)}else Lb(),Browser.oa(Nb,function(V){bb.set(V,jb),Mb()},function(){c("could not load memory initializer "+Nb)});function na(V){this.name="ExitStatus",this.message="Program terminated with exit("+V+")",this.status=V}na.prototype=Error();var hx,ix=ba,Kb=function V(){!e.calledRun&&kx&&lx(),e.calledRun||(Kb=V)};e.callMain=e.pa=function(V){function x(){for(var t_=0;3>t_;t_++)_o.push(0)}oa(Ib==0,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),oa(rb.length==0,"cannot call main when preRun functions remain to be called"),V=V||[],wb||(wb=aa,qb(sb));var o=V.length+1,_o=[$a(Ab(e.thisProgram),"i8",0)];x();for(var _i=0;_i<o-1;_i+=1)_o.push($a(Ab(V[_i]),"i8",0)),x();_o.push(0),_o=$a(_o,"i32",0),hx=ra;try{var l=e._main(o,_o,0);mx(l)}catch(t_){t_ instanceof na||(t_=="SimulateInfiniteLoop"?e.noExitRuntime=aa:(t_&&typeof t_=="object"&&t_.stack&&e.n("exception thrown: "+[t_,t_.stack]),c(t_)))}finally{}};function lx(V){function x(){if(!e.calledRun&&(e.calledRun=aa,!za)){if(wb||(wb=aa,qb(sb)),qb(tb),ga&&ix!==ba&&e.n("pre-main prep time: "+(Date.now()-ix)+" ms"),e._main&&kx&&e.callMain(V),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)zb(e.postRun.shift());qb(vb)}}if(V=V||e.arguments,ix===ba&&(ix=Date.now()),!(0<Ib)){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)yb(e.preRun.shift());qb(rb),!(0<Ib)&&!e.calledRun&&(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),x()},1)):x())}}e.run=e.Aa=lx;function mx(V){e.noExitRuntime||(za=aa,ra=hx,qb(ub),fa?(process.stdout.once("drain",function(){process.exit(V)}),console.log(" "),setTimeout(function(){process.exit(V)},500)):ja&&typeof quit=="function"&&quit(V),c(new na(V)))}e.exit=e.ra=mx;function ua(V){V&&(e.print(V),e.n(V)),za=aa,c("abort() at "+fb()+`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`)}if(e.abort=e.abort=ua,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();var kx=aa;e.noInitialRun&&(kx=ca),e.noExitRuntime=aa,lx(),j.prototype=Object.create(j.prototype),j.prototype.g=j,j.k={},e.WrapperObject=j,e.getCache=p,e.wrapPointer=q,e.castObject=nx,e.NULL=q(0),e.destroy=ox,e.compare=px,e.getPointer=qx,e.getClass=rx,sx.prototype=Object.create(tx.prototype),sx.prototype.g=sx,sx.k={},e.JSDestructionListener=sx,sx.prototype.SayGoodbyeJoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ym(x,o)},sx.prototype.SayGoodbyeFixture=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vq(x,o)},sx.prototype.__destroy__=function(){Nr(this.e)},ux.prototype=Object.create(j.prototype),ux.prototype.g=ux,ux.k={},e.b2ContactImpulse=ux,ux.prototype.get_count=function(){return Xn(this.e)},ux.prototype.set_count=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Kh(x,o)},ux.prototype.__destroy__=function(){tf(this.e)},s.prototype=Object.create(t.prototype),s.prototype.g=s,s.k={},e.b2DistanceJoint=s,s.prototype.GetLocalAnchorA=function(){return q(Es(this.e),u)},s.prototype.GetLocalAnchorB=function(){return q(Ki(this.e),u)},s.prototype.SetLength=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vv(x,o)},s.prototype.GetLength=function(){return Jl(this.e)},s.prototype.SetFrequency=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Gh(x,o)},s.prototype.GetFrequency=function(){return rm(this.e)},s.prototype.SetDampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hf(x,o)},s.prototype.GetDampingRatio=function(){return Xh(this.e)},s.prototype.GetType=function(){return kl(this.e)},s.prototype.GetBodyA=function(){return q(ej(this.e),v)},s.prototype.GetBodyB=function(){return q(Rv(this.e),v)},s.prototype.GetAnchorA=function(){return q(ud(this.e),u)},s.prototype.GetAnchorB=function(){return q(th(this.e),u)},s.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Bn(x,o),u)},s.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return gt(x,o)},s.prototype.GetNext=function(){return q(Re(this.e),t)},s.prototype.GetUserData=function(){return Qw(this.e)},s.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);rn(x,o)},s.prototype.IsActive=function(){return oh(this.e)},s.prototype.GetCollideConnected=function(){return Ut(this.e)},s.prototype.__destroy__=function(){ur(this.e)},vx.prototype=Object.create(j.prototype),vx.prototype.g=vx,vx.k={},e.b2Mat33=vx,vx.prototype.SetZero=function(){Tu(this.e)},vx.prototype.Solve33=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Dp(x,o),wx)},vx.prototype.Solve22=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Ag(x,o),u)},vx.prototype.GetInverse22=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hn(x,o)},vx.prototype.GetSymInverse33=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vl(x,o)},vx.prototype.get_ex=function(){return q(Ch(this.e),wx)},vx.prototype.set_ex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bu(x,o)},vx.prototype.get_ey=function(){return q(md(this.e),wx)},vx.prototype.set_ey=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mi(x,o)},vx.prototype.get_ez=function(){return q(Uw(this.e),wx)},vx.prototype.set_ez=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Du(x,o)},vx.prototype.__destroy__=function(){Id(this.e)},w.prototype=Object.create(j.prototype),w.prototype.g=w,w.k={},e.b2Fixture=w,w.prototype.GetType=function(){return ml(this.e)},w.prototype.GetShape=function(){return q(sv(this.e),xx)},w.prototype.SetSensor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bj(x,o)},w.prototype.IsSensor=function(){return Yo(this.e)},w.prototype.SetFilterData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gi(x,o)},w.prototype.GetFilterData=function(){return q(st(this.e),yx)},w.prototype.Refilter=function(){Vo(this.e)},w.prototype.GetBody=function(){return q(Jh(this.e),v)},w.prototype.GetNext=function(){return q(bk(this.e),w)},w.prototype.GetUserData=function(){return gm(this.e)},w.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hr(x,o)},w.prototype.TestPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return qu(x,o)},w.prototype.RayCast=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);return el(_o,_i,l,t_)},w.prototype.GetMassData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ij(x,o)},w.prototype.SetDensity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Oh(x,o)},w.prototype.GetDensity=function(){return Up(this.e)},w.prototype.GetFriction=function(){return Ou(this.e)},w.prototype.SetFriction=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sc(x,o)},w.prototype.GetRestitution=function(){return We(this.e)},w.prototype.SetRestitution=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zt(x,o)},w.prototype.GetAABB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Jn(x,o),zx)},w.prototype.Dump=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);on(x,o)},w.prototype.__destroy__=function(){Pc(this.e)},yx.prototype=Object.create(j.prototype),yx.prototype.g=yx,yx.k={},e.b2Filter=yx,yx.prototype.get_categoryBits=function(){return Zm(this.e)},yx.prototype.set_categoryBits=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mk(x,o)},yx.prototype.get_maskBits=function(){return bp(this.e)},yx.prototype.set_maskBits=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ss(x,o)},yx.prototype.get_groupIndex=function(){return Ue(this.e)},yx.prototype.set_groupIndex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);wn(x,o)},yx.prototype.__destroy__=function(){go(this.e)},Ax.prototype=Object.create(Bx.prototype),Ax.prototype.g=Ax,Ax.k={},e.JSQueryCallback=Ax,Ax.prototype.ReportFixture=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return pu(x,o)},Ax.prototype.__destroy__=function(){Jo(this.e)},y.prototype=Object.create(t.prototype),y.prototype.g=y,y.k={},e.b2MouseJoint=y,y.prototype.SetTarget=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);oi(x,o)},y.prototype.GetTarget=function(){return q(Kt(this.e),u)},y.prototype.SetMaxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Aq(x,o)},y.prototype.GetMaxForce=function(){return Vt(this.e)},y.prototype.SetFrequency=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zl(x,o)},y.prototype.GetFrequency=function(){return Dt(this.e)},y.prototype.SetDampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qk(x,o)},y.prototype.GetDampingRatio=function(){return as(this.e)},y.prototype.GetType=function(){return Io(this.e)},y.prototype.GetBodyA=function(){return q(So(this.e),v)},y.prototype.GetBodyB=function(){return q(Cj(this.e),v)},y.prototype.GetAnchorA=function(){return q(tu(this.e),u)},y.prototype.GetAnchorB=function(){return q(Xq(this.e),u)},y.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(jm(x,o),u)},y.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return mo(x,o)},y.prototype.GetNext=function(){return q(Xi(this.e),t)},y.prototype.GetUserData=function(){return no(this.e)},y.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mt(x,o)},y.prototype.IsActive=function(){return nd(this.e)},y.prototype.GetCollideConnected=function(){return Bi(this.e)},y.prototype.__destroy__=function(){Gq(this.e)},Cx.prototype=Object.create(j.prototype),Cx.prototype.g=Cx,Cx.k={},e.b2Rot=Cx,Cx.prototype.Set=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);wg(x,o)},Cx.prototype.SetIdentity=function(){Mg(this.e)},Cx.prototype.GetAngle=function(){return Np(this.e)},Cx.prototype.GetXAxis=function(){return q(Zj(this.e),u)},Cx.prototype.GetYAxis=function(){return q(sr(this.e),u)},Cx.prototype.get_s=function(){return Zp(this.e)},Cx.prototype.set_s=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);me(x,o)},Cx.prototype.get_c=function(){return xq(this.e)},Cx.prototype.set_c=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mh(x,o)},Cx.prototype.__destroy__=function(){ap(this.e)},z.prototype=Object.create(t.prototype),z.prototype.g=z,z.k={},e.b2MotorJoint=z,z.prototype.SetLinearOffset=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Lp(x,o)},z.prototype.GetLinearOffset=function(){return q(Qp(this.e),u)},z.prototype.SetAngularOffset=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pp(x,o)},z.prototype.GetAngularOffset=function(){return xv(this.e)},z.prototype.SetMaxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);mp(x,o)},z.prototype.GetMaxForce=function(){return Wj(this.e)},z.prototype.SetMaxTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zd(x,o)},z.prototype.GetMaxTorque=function(){return es(this.e)},z.prototype.SetCorrectionFactor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ie(x,o)},z.prototype.GetCorrectionFactor=function(){return tq(this.e)},z.prototype.GetType=function(){return cr(this.e)},z.prototype.GetBodyA=function(){return q(Rg(this.e),v)},z.prototype.GetBodyB=function(){return q(mi(this.e),v)},z.prototype.GetAnchorA=function(){return q(Tp(this.e),u)},z.prototype.GetAnchorB=function(){return q(rv(this.e),u)},z.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Mp(x,o),u)},z.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Uf(x,o)},z.prototype.GetNext=function(){return q(zr(this.e),t)},z.prototype.GetUserData=function(){return Nk(this.e)},z.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ki(x,o)},z.prototype.IsActive=function(){return lo(this.e)},z.prototype.GetCollideConnected=function(){return ff(this.e)},z.prototype.__destroy__=function(){bl(this.e)},A.prototype=Object.create(j.prototype),A.prototype.g=A,A.k={},e.b2Profile=A,A.prototype.get_step=function(){return Ik(this.e)},A.prototype.set_step=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pj(x,o)},A.prototype.get_collide=function(){return At(this.e)},A.prototype.set_collide=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);To(x,o)},A.prototype.get_solve=function(){return uq(this.e)},A.prototype.set_solve=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);kt(x,o)},A.prototype.get_solveInit=function(){return Iv(this.e)},A.prototype.set_solveInit=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pl(x,o)},A.prototype.get_solveVelocity=function(){return aw(this.e)},A.prototype.set_solveVelocity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Hm(x,o)},A.prototype.get_solvePosition=function(){return Fd(this.e)},A.prototype.set_solvePosition=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Bg(x,o)},A.prototype.get_broadphase=function(){return qd(this.e)},A.prototype.set_broadphase=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vn(x,o)},A.prototype.get_solveTOI=function(){return Hg(this.e)},A.prototype.set_solveTOI=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ui(x,o)},A.prototype.__destroy__=function(){Eh(this.e)},Dx.prototype=Object.create(j.prototype),Dx.prototype.g=Dx,Dx.k={},e.VoidPtr=Dx,Dx.prototype.__destroy__=function(){yp(this.e)},B.prototype=Object.create(j.prototype),B.prototype.g=B,B.k={},e.b2BodyDef=B,B.prototype.get_type=function(){return Lr(this.e)},B.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vc(x,o)},B.prototype.get_position=function(){return q(bd(this.e),u)},B.prototype.set_position=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qd(x,o)},B.prototype.get_angle=function(){return hu(this.e)},B.prototype.set_angle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pl(x,o)},B.prototype.get_linearVelocity=function(){return q(lv(this.e),u)},B.prototype.set_linearVelocity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$k(x,o)},B.prototype.get_angularVelocity=function(){return Le(this.e)},B.prototype.set_angularVelocity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Um(x,o)},B.prototype.get_linearDamping=function(){return Ek(this.e)},B.prototype.set_linearDamping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qr(x,o)},B.prototype.get_angularDamping=function(){return fr(this.e)},B.prototype.set_angularDamping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Jv(x,o)},B.prototype.get_allowSleep=function(){return Zu(this.e)},B.prototype.set_allowSleep=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);mj(x,o)},B.prototype.get_awake=function(){return dr(this.e)},B.prototype.set_awake=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);am(x,o)},B.prototype.get_fixedRotation=function(){return io(this.e)},B.prototype.set_fixedRotation=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Tk(x,o)},B.prototype.get_bullet=function(){return Kf(this.e)},B.prototype.set_bullet=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sn(x,o)},B.prototype.get_active=function(){return Nj(this.e)},B.prototype.set_active=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);wk(x,o)},B.prototype.get_userData=function(){return Mv(this.e)},B.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Lu(x,o)},B.prototype.get_gravityScale=function(){return qo(this.e)},B.prototype.set_gravityScale=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ee(x,o)},B.prototype.__destroy__=function(){Gs(this.e)},Ex.prototype=Object.create(Fx.prototype),Ex.prototype.g=Ex,Ex.k={},e.JSRayCastCallback=Ex,Ex.prototype.ReportFixture=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Fm(_i,l,t_,o_,i_)},Ex.prototype.__destroy__=function(){gp(this.e)},Gx.prototype=Object.create(j.prototype),Gx.prototype.g=Gx,Gx.k={},e.b2ContactFeature=Gx,Gx.prototype.get_indexA=function(){return xh(this.e)},Gx.prototype.set_indexA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Hv(x,o)},Gx.prototype.get_indexB=function(){return Jw(this.e)},Gx.prototype.set_indexB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);mr(x,o)},Gx.prototype.get_typeA=function(){return im(this.e)},Gx.prototype.set_typeA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);nn(x,o)},Gx.prototype.get_typeB=function(){return Kp(this.e)},Gx.prototype.set_typeB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xg(x,o)},Gx.prototype.__destroy__=function(){gq(this.e)},u.prototype=Object.create(j.prototype),u.prototype.g=u,u.k={},e.b2Vec2=u,u.prototype.SetZero=function(){Br(this.e)},u.prototype.Set=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Wp(o,_o,_i)},u.prototype.op_add=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Rf(x,o)},u.prototype.op_sub=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vh(x,o)},u.prototype.op_mul=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sj(x,o)},u.prototype.Length=function(){return Ar(this.e)},u.prototype.LengthSquared=function(){return Gw(this.e)},u.prototype.Normalize=function(){return gg(this.e)},u.prototype.IsValid=function(){return rp(this.e)},u.prototype.Skew=function(){return q($r(this.e),u)},u.prototype.get_x=function(){return ex(this.e)},u.prototype.set_x=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vf(x,o)},u.prototype.get_y=function(){return bm(this.e)},u.prototype.set_y=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sw(x,o)},u.prototype.__destroy__=function(){hv(this.e)},wx.prototype=Object.create(j.prototype),wx.prototype.g=wx,wx.k={},e.b2Vec3=wx,wx.prototype.SetZero=function(){Xf(this.e)},wx.prototype.Set=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);ak(_o,_i,l,t_)},wx.prototype.op_add=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Og(x,o)},wx.prototype.op_sub=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);po(x,o)},wx.prototype.op_mul=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);uv(x,o)},wx.prototype.get_x=function(){return Bd(this.e)},wx.prototype.set_x=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);wm(x,o)},wx.prototype.get_y=function(){return nu(this.e)},wx.prototype.set_y=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);lq(x,o)},wx.prototype.get_z=function(){return vc(this.e)},wx.prototype.set_z=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pm(x,o)},wx.prototype.__destroy__=function(){Rh(this.e)},zx.prototype=Object.create(j.prototype),zx.prototype.g=zx,zx.k={},e.b2AABB=zx,zx.prototype.IsValid=function(){return so(this.e)},zx.prototype.GetCenter=function(){return q(vn(this.e),u)},zx.prototype.GetExtents=function(){return q(cu(this.e),u)},zx.prototype.GetPerimeter=function(){return um(this.e)},zx.prototype.Combine=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);_i===d?mq(o,_o):nq(o,_o,_i)},zx.prototype.Contains=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Qe(x,o)},zx.prototype.RayCast=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return zl(o,_o,_i)},zx.prototype.get_lowerBound=function(){return q(He(this.e),u)},zx.prototype.set_lowerBound=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);yq(x,o)},zx.prototype.get_upperBound=function(){return q(Ze(this.e),u)},zx.prototype.set_upperBound=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);rf(x,o)},zx.prototype.__destroy__=function(){qq(this.e)},Hx.prototype=Object.create(j.prototype),Hx.prototype.g=Hx,Hx.k={},e.b2FixtureDef=Hx,Hx.prototype.get_shape=function(){return q(ju(this.e),xx)},Hx.prototype.set_shape=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zv(x,o)},Hx.prototype.get_userData=function(){return re(this.e)},Hx.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cq(x,o)},Hx.prototype.get_friction=function(){return Ht(this.e)},Hx.prototype.set_friction=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Cm(x,o)},Hx.prototype.get_restitution=function(){return ll(this.e)},Hx.prototype.set_restitution=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);jd(x,o)},Hx.prototype.get_density=function(){return je(this.e)},Hx.prototype.set_density=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ps(x,o)},Hx.prototype.get_isSensor=function(){return rg(this.e)},Hx.prototype.set_isSensor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Al(x,o)},Hx.prototype.get_filter=function(){return q(Hc(this.e),yx)},Hx.prototype.set_filter=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ei(x,o)},Hx.prototype.__destroy__=function(){Yv(this.e)},C.prototype=Object.create(D.prototype),C.prototype.g=C,C.k={},e.b2FrictionJointDef=C,C.prototype.Initialize=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);mw(_o,_i,l,t_)},C.prototype.get_localAnchorA=function(){return q(If(this.e),u)},C.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ig(x,o)},C.prototype.get_localAnchorB=function(){return q(Mj(this.e),u)},C.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ck(x,o)},C.prototype.get_maxForce=function(){return Tm(this.e)},C.prototype.set_maxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);en(x,o)},C.prototype.get_maxTorque=function(){return np(this.e)},C.prototype.set_maxTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Hs(x,o)},C.prototype.get_type=function(){return Ic(this.e)},C.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hs(x,o)},C.prototype.get_userData=function(){return hi(this.e)},C.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);uc(x,o)},C.prototype.get_bodyA=function(){return q(Fu(this.e),v)},C.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Hw(x,o)},C.prototype.get_bodyB=function(){return q(Bq(this.e),v)},C.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ys(x,o)},C.prototype.get_collideConnected=function(){return js(this.e)},C.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);se(x,o)},C.prototype.__destroy__=function(){yi(this.e)},Ix.prototype=Object.create(j.prototype),Ix.prototype.g=Ix,Ix.k={},e.b2Manifold=Ix,Ix.prototype.get_localNormal=function(){return q(yl(this.e),u)},Ix.prototype.set_localNormal=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Tr(x,o)},Ix.prototype.get_localPoint=function(){return q(Zq(this.e),u)},Ix.prototype.set_localPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qn(x,o)},Ix.prototype.get_type=function(){return Ld(this.e)},Ix.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Il(x,o)},Ix.prototype.get_pointCount=function(){return Tw(this.e)},Ix.prototype.set_pointCount=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Jg(x,o)},Ix.prototype.__destroy__=function(){dh(this.e)},E.prototype=Object.create(D.prototype),E.prototype.g=E,E.k={},e.b2PrismaticJointDef=E,E.prototype.Initialize=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Hf(_i,l,t_,o_,i_)},E.prototype.get_localAnchorA=function(){return q(tj(this.e),u)},E.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);It(x,o)},E.prototype.get_localAnchorB=function(){return q(mf(this.e),u)},E.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ip(x,o)},E.prototype.get_localAxisA=function(){return q(Vu(this.e),u)},E.prototype.set_localAxisA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mn(x,o)},E.prototype.get_referenceAngle=function(){return Je(this.e)},E.prototype.set_referenceAngle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ci(x,o)},E.prototype.get_enableLimit=function(){return qt(this.e)},E.prototype.set_enableLimit=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qm(x,o)},E.prototype.get_lowerTranslation=function(){return te(this.e)},E.prototype.set_lowerTranslation=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pd(x,o)},E.prototype.get_upperTranslation=function(){return Ec(this.e)},E.prototype.set_upperTranslation=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gv(x,o)},E.prototype.get_enableMotor=function(){return Ws(this.e)},E.prototype.set_enableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Yr(x,o)},E.prototype.get_maxMotorForce=function(){return Ow(this.e)},E.prototype.set_maxMotorForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ti(x,o)},E.prototype.get_motorSpeed=function(){return $o(this.e)},E.prototype.set_motorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);jo(x,o)},E.prototype.get_type=function(){return Mf(this.e)},E.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vi(x,o)},E.prototype.get_userData=function(){return Vj(this.e)},E.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gs(x,o)},E.prototype.get_bodyA=function(){return q(qp(this.e),v)},E.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sp(x,o)},E.prototype.get_bodyB=function(){return q(rl(this.e),v)},E.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vl(x,o)},E.prototype.get_collideConnected=function(){return wt(this.e)},E.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ln(x,o)},E.prototype.__destroy__=function(){Ne(this.e)},F.prototype=Object.create(j.prototype),F.prototype.g=F,F.k={},e.b2World=F,F.prototype.SetDestructionListener=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Df(x,o)},F.prototype.SetContactFilter=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fd(x,o)},F.prototype.SetContactListener=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);de(x,o)},F.prototype.SetDebugDraw=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cg(x,o)},F.prototype.CreateBody=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Wo(x,o),v)},F.prototype.DestroyBody=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ed(x,o)},F.prototype.CreateJoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Gg(x,o),t)},F.prototype.DestroyJoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Dr(x,o)},F.prototype.Step=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Gk(_o,_i,l,t_)},F.prototype.ClearForces=function(){Qh(this.e)},F.prototype.DrawDebugData=function(){pd(this.e)},F.prototype.QueryAABB=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Lv(o,_o,_i)},F.prototype.RayCast=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);xt(_o,_i,l,t_)},F.prototype.GetBodyList=function(){return q(tt(this.e),v)},F.prototype.GetJointList=function(){return q(pn(this.e),t)},F.prototype.GetContactList=function(){return q(Cu(this.e),G)},F.prototype.SetAllowSleeping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Op(x,o)},F.prototype.GetAllowSleeping=function(){return Ri(this.e)},F.prototype.SetWarmStarting=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Rc(x,o)},F.prototype.GetWarmStarting=function(){return tp(this.e)},F.prototype.SetContinuousPhysics=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);an(x,o)},F.prototype.GetContinuousPhysics=function(){return dl(this.e)},F.prototype.SetSubStepping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qf(x,o)},F.prototype.GetSubStepping=function(){return rr(this.e)},F.prototype.GetProxyCount=function(){return fg(this.e)},F.prototype.GetBodyCount=function(){return hj(this.e)},F.prototype.GetJointCount=function(){return Yn(this.e)},F.prototype.GetContactCount=function(){return wj(this.e)},F.prototype.GetTreeHeight=function(){return $u(this.e)},F.prototype.GetTreeBalance=function(){return Dc(this.e)},F.prototype.GetTreeQuality=function(){return De(this.e)},F.prototype.SetGravity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Wt(x,o)},F.prototype.GetGravity=function(){return q(od(this.e),u)},F.prototype.IsLocked=function(){return wc(this.e)},F.prototype.SetAutoClearForces=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Od(x,o)},F.prototype.GetAutoClearForces=function(){return Rk(this.e)},F.prototype.GetProfile=function(){return q(wu(this.e),A)},F.prototype.Dump=function(){ht(this.e)},F.prototype.__destroy__=function(){yo(this.e)},H.prototype=Object.create(t.prototype),H.prototype.g=H,H.k={},e.b2PrismaticJoint=H,H.prototype.GetLocalAnchorA=function(){return q(Ok(this.e),u)},H.prototype.GetLocalAnchorB=function(){return q(Ho(this.e),u)},H.prototype.GetLocalAxisA=function(){return q(li(this.e),u)},H.prototype.GetReferenceAngle=function(){return Ml(this.e)},H.prototype.GetJointTranslation=function(){return rh(this.e)},H.prototype.GetJointSpeed=function(){return Cn(this.e)},H.prototype.IsLimitEnabled=function(){return tw(this.e)},H.prototype.EnableLimit=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sm(x,o)},H.prototype.GetLowerLimit=function(){return Ge(this.e)},H.prototype.GetUpperLimit=function(){return at(this.e)},H.prototype.SetLimits=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);sd(o,_o,_i)},H.prototype.IsMotorEnabled=function(){return El(this.e)},H.prototype.EnableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Cs(x,o)},H.prototype.SetMotorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Tt(x,o)},H.prototype.GetMotorSpeed=function(){return Kg(this.e)},H.prototype.SetMaxMotorForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$w(x,o)},H.prototype.GetMaxMotorForce=function(){return pq(this.e)},H.prototype.GetMotorForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return dj(x,o)},H.prototype.GetType=function(){return Ve(this.e)},H.prototype.GetBodyA=function(){return q(oq(this.e),v)},H.prototype.GetBodyB=function(){return q(eu(this.e),v)},H.prototype.GetAnchorA=function(){return q(Cl(this.e),u)},H.prototype.GetAnchorB=function(){return q(Im(this.e),u)},H.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(zi(x,o),u)},H.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return kh(x,o)},H.prototype.GetNext=function(){return q(Te(this.e),t)},H.prototype.GetUserData=function(){return is(this.e)},H.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sk(x,o)},H.prototype.IsActive=function(){return Ym(this.e)},H.prototype.GetCollideConnected=function(){return mh(this.e)},H.prototype.__destroy__=function(){Fg(this.e)},Jx.prototype=Object.create(j.prototype),Jx.prototype.g=Jx,Jx.k={},e.b2RayCastOutput=Jx,Jx.prototype.get_normal=function(){return q(ng(this.e),u)},Jx.prototype.set_normal=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Wh(x,o)},Jx.prototype.get_fraction=function(){return bo(this.e)},Jx.prototype.set_fraction=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ye(x,o)},Jx.prototype.__destroy__=function(){tn(this.e)},Kx.prototype=Object.create(j.prototype),Kx.prototype.g=Kx,Kx.k={},e.b2ContactID=Kx,Kx.prototype.get_cf=function(){return q(bt(this.e),Gx)},Kx.prototype.set_cf=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Yj(x,o)},Kx.prototype.get_key=function(){return Nv(this.e)},Kx.prototype.set_key=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);dg(x,o)},Kx.prototype.__destroy__=function(){Dm(this.e)},tx.prototype=Object.create(j.prototype),tx.prototype.g=tx,tx.k={},e.b2DestructionListenerWrapper=tx,tx.prototype.__destroy__=function(){Vw(this.e)},Lx.prototype=Object.create(Mx.prototype),Lx.prototype.g=Lx,Lx.k={},e.JSContactListener=Lx,Lx.prototype.BeginContact=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);No(x,o)},Lx.prototype.EndContact=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zd(x,o)},Lx.prototype.PreSolve=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Uh(o,_o,_i)},Lx.prototype.PostSolve=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Lq(o,_o,_i)},Lx.prototype.__destroy__=function(){Zk(this.e)},Nx.prototype=Object.create(j.prototype),Nx.prototype.g=Nx,Nx.k={},e.b2Mat22=Nx,Nx.prototype.Set=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Fr(o,_o,_i)},Nx.prototype.SetIdentity=function(){Xu(this.e)},Nx.prototype.SetZero=function(){Xt(this.e)},Nx.prototype.GetInverse=function(){return q(Bs(this.e),Nx)},Nx.prototype.Solve=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(wp(x,o),u)},Nx.prototype.get_ex=function(){return q(cp(this.e),u)},Nx.prototype.set_ex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gw(x,o)},Nx.prototype.get_ey=function(){return q(Wu(this.e),u)},Nx.prototype.set_ey=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pr(x,o)},Nx.prototype.__destroy__=function(){nv(this.e)},I.prototype=Object.create(D.prototype),I.prototype.g=I,I.k={},e.b2WheelJointDef=I,I.prototype.Initialize=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Rj(_i,l,t_,o_,i_)},I.prototype.get_localAnchorA=function(){return q(Rl(this.e),u)},I.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zf(x,o)},I.prototype.get_localAnchorB=function(){return q(Wn(this.e),u)},I.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mw(x,o)},I.prototype.get_localAxisA=function(){return q(Ij(this.e),u)},I.prototype.set_localAxisA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Aw(x,o)},I.prototype.get_enableMotor=function(){return Fw(this.e)},I.prototype.set_enableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qe(x,o)},I.prototype.get_maxMotorTorque=function(){return uh(this.e)},I.prototype.set_maxMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xs(x,o)},I.prototype.get_motorSpeed=function(){return ps(this.e)},I.prototype.set_motorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sp(x,o)},I.prototype.get_frequencyHz=function(){return Ac(this.e)},I.prototype.set_frequencyHz=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qr(x,o)},I.prototype.get_dampingRatio=function(){return ao(this.e)},I.prototype.set_dampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);wr(x,o)},I.prototype.get_type=function(){return Gu(this.e)},I.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ce(x,o)},I.prototype.get_userData=function(){return Pv(this.e)},I.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sh(x,o)},I.prototype.get_bodyA=function(){return q(Ww(this.e),v)},I.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fu(x,o)},I.prototype.get_bodyB=function(){return q(Qn(this.e),v)},I.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pe(x,o)},I.prototype.get_collideConnected=function(){return gd(this.e)},I.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mr(x,o)},I.prototype.__destroy__=function(){Wf(this.e)},Ox.prototype=Object.create(xx.prototype),Ox.prototype.g=Ox,Ox.k={},e.b2CircleShape=Ox,Ox.prototype.GetType=function(){return ai(this.e)},Ox.prototype.GetChildCount=function(){return Jf(this.e)},Ox.prototype.TestPoint=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return Tq(o,_o,_i)},Ox.prototype.RayCast=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Hk(_i,l,t_,o_,i_)},Ox.prototype.ComputeAABB=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);ot(_o,_i,l,t_)},Ox.prototype.ComputeMass=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Oq(o,_o,_i)},Ox.prototype.get_m_p=function(){return q(wh(this.e),u)},Ox.prototype.set_m_p=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);yd(x,o)},Ox.prototype.get_m_type=function(){return Ds(this.e)},Ox.prototype.set_m_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);nf(x,o)},Ox.prototype.get_m_radius=function(){return si(this.e)},Ox.prototype.set_m_radius=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bf(x,o)},Ox.prototype.__destroy__=function(){br(this.e)},J.prototype=Object.create(D.prototype),J.prototype.g=J,J.k={},e.b2WeldJointDef=J,J.prototype.Initialize=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Et(_o,_i,l,t_)},J.prototype.get_localAnchorA=function(){return q(Lt(this.e),u)},J.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);oj(x,o)},J.prototype.get_localAnchorB=function(){return q(pp(this.e),u)},J.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);af(x,o)},J.prototype.get_referenceAngle=function(){return qs(this.e)},J.prototype.set_referenceAngle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ls(x,o)},J.prototype.get_frequencyHz=function(){return bh(this.e)},J.prototype.set_frequencyHz=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Wr(x,o)},J.prototype.get_dampingRatio=function(){return Fq(this.e)},J.prototype.set_dampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sj(x,o)},J.prototype.get_type=function(){return Xp(this.e)},J.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ns(x,o)},J.prototype.get_userData=function(){return ku(this.e)},J.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Yh(x,o)},J.prototype.get_bodyA=function(){return q(qv(this.e),v)},J.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Cf(x,o)},J.prototype.get_bodyB=function(){return q(bw(this.e),v)},J.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Tv(x,o)},J.prototype.get_collideConnected=function(){return jj(this.e)},J.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Kd(x,o)},J.prototype.__destroy__=function(){vp(this.e)},Px.prototype=Object.create(j.prototype),Px.prototype.g=Px,Px.k={},e.b2Draw=Px,Px.prototype.SetFlags=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pe(x,o)},Px.prototype.GetFlags=function(){return xc(this.e)},Px.prototype.AppendFlags=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Au(x,o)},Px.prototype.ClearFlags=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Oi(x,o)},Px.prototype.__destroy__=function(){Qj(this.e)},Qx.prototype=Object.create(j.prototype),Qx.prototype.g=Qx,Qx.k={},e.b2MassData=Qx,Qx.prototype.get_mass=function(){return ww(this.e)},Qx.prototype.set_mass=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ad(x,o)},Qx.prototype.get_center=function(){return q(Nf(this.e),u)},Qx.prototype.set_center=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Kj(x,o)},Qx.prototype.get_I=function(){return os(this.e)},Qx.prototype.set_I=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);yt(x,o)},Qx.prototype.__destroy__=function(){zt(this.e)},t.prototype=Object.create(j.prototype),t.prototype.g=t,t.k={},e.b2Joint=t,t.prototype.GetType=function(){return Sw(this.e)},t.prototype.GetBodyA=function(){return q(Sf(this.e),v)},t.prototype.GetBodyB=function(){return q(yw(this.e),v)},t.prototype.GetAnchorA=function(){return q(En(this.e),u)},t.prototype.GetAnchorB=function(){return q(Uj(this.e),u)},t.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Bm(x,o),u)},t.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Bk(x,o)},t.prototype.GetNext=function(){return q(vt(this.e),t)},t.prototype.GetUserData=function(){return Gl(this.e)},t.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cx(x,o)},t.prototype.IsActive=function(){return Yu(this.e)},t.prototype.GetCollideConnected=function(){return Tf(this.e)},t.prototype.Dump=function(){Bw(this.e)},Rx.prototype=Object.create(t.prototype),Rx.prototype.g=Rx,Rx.k={},e.b2GearJoint=Rx,Rx.prototype.GetJoint1=function(){return q(Xd(this.e),t)},Rx.prototype.GetJoint2=function(){return q(av(this.e),t)},Rx.prototype.SetRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);eo(x,o)},Rx.prototype.GetRatio=function(){return jg(this.e)},Rx.prototype.GetType=function(){return hw(this.e)},Rx.prototype.GetBodyA=function(){return q(Qm(this.e),v)},Rx.prototype.GetBodyB=function(){return q($q(this.e),v)},Rx.prototype.GetAnchorA=function(){return q($d(this.e),u)},Rx.prototype.GetAnchorB=function(){return q(Mu(this.e),u)},Rx.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Se(x,o),u)},Rx.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Jd(x,o)},Rx.prototype.GetNext=function(){return q(zv(this.e),t)},Rx.prototype.GetUserData=function(){return ef(this.e)},Rx.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);om(x,o)},Rx.prototype.IsActive=function(){return fj(this.e)},Rx.prototype.GetCollideConnected=function(){return ue(this.e)},Rx.prototype.__destroy__=function(){gh(this.e)},Fx.prototype=Object.create(j.prototype),Fx.prototype.g=Fx,Fx.k={},e.b2RayCastCallback=Fx,Fx.prototype.__destroy__=function(){ii(this.e)},K.prototype=Object.create(t.prototype),K.prototype.g=K,K.k={},e.b2WeldJoint=K,K.prototype.GetLocalAnchorA=function(){return q(Yl(this.e),u)},K.prototype.GetLocalAnchorB=function(){return q(Rn(this.e),u)},K.prototype.SetFrequency=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Th(x,o)},K.prototype.GetFrequency=function(){return Fl(this.e)},K.prototype.SetDampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Me(x,o)},K.prototype.GetDampingRatio=function(){return lt(this.e)},K.prototype.Dump=function(){lp(this.e)},K.prototype.GetType=function(){return Zo(this.e)},K.prototype.GetBodyA=function(){return q(og(this.e),v)},K.prototype.GetBodyB=function(){return q(Pj(this.e),v)},K.prototype.GetAnchorA=function(){return q($v(this.e),u)},K.prototype.GetAnchorB=function(){return q(Hr(this.e),u)},K.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Zs(x,o),u)},K.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Zc(x,o)},K.prototype.GetNext=function(){return q(Ir(this.e),t)},K.prototype.GetUserData=function(){return Ql(this.e)},K.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);aj(x,o)},K.prototype.IsActive=function(){return Tc(this.e)},K.prototype.GetCollideConnected=function(){return or(this.e)},K.prototype.__destroy__=function(){Kq(this.e)},Sx.prototype=Object.create(j.prototype),Sx.prototype.g=Sx,Sx.k={},e.b2JointEdge=Sx,Sx.prototype.get_other=function(){return q(Nt(this.e),v)},Sx.prototype.set_other=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fe(x,o)},Sx.prototype.get_joint=function(){return q(Wv(this.e),t)},Sx.prototype.set_joint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Nc(x,o)},Sx.prototype.get_prev=function(){return q(Yc(this.e),Sx)},Sx.prototype.set_prev=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);jh(x,o)},Sx.prototype.get_next=function(){return q(Qo(this.e),Sx)},Sx.prototype.set_next=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ho(x,o)},Sx.prototype.__destroy__=function(){Lo(this.e)},L.prototype=Object.create(D.prototype),L.prototype.g=L,L.k={},e.b2PulleyJointDef=L,L.prototype.Initialize=function(i_,_e,l_,ws,h_,s_,B_){var o_=this.e,i_=i_&&typeof i_=="object"?i_.e:r(i_),_e=_e&&typeof _e=="object"?_e.e:r(_e),l_=l_&&typeof l_=="object"?l_.e:r(l_),ws=ws&&typeof ws=="object"?ws.e:r(ws),h_=h_&&typeof h_=="object"?h_.e:r(h_),s_=s_&&typeof s_=="object"?s_.e:r(s_),B_=B_&&typeof B_=="object"?B_.e:r(B_);dw(o_,i_,_e,l_,ws,h_,s_,B_)},L.prototype.get_groundAnchorA=function(){return q(fi(this.e),u)},L.prototype.set_groundAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Yw(x,o)},L.prototype.get_groundAnchorB=function(){return q(Dn(this.e),u)},L.prototype.set_groundAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Js(x,o)},L.prototype.get_localAnchorA=function(){return q(td(this.e),u)},L.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ji(x,o)},L.prototype.get_localAnchorB=function(){return q(Dg(this.e),u)},L.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);nl(x,o)},L.prototype.get_lengthA=function(){return vm(this.e)},L.prototype.set_lengthA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);eh(x,o)},L.prototype.get_lengthB=function(){return $i(this.e)},L.prototype.set_lengthB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ev(x,o)},L.prototype.get_ratio=function(){return lf(this.e)},L.prototype.set_ratio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ih(x,o)},L.prototype.get_type=function(){return xm(this.e)},L.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sl(x,o)},L.prototype.get_userData=function(){return ul(this.e)},L.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);dn(x,o)},L.prototype.get_bodyA=function(){return q(rd(this.e),v)},L.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Rw(x,o)},L.prototype.get_bodyB=function(){return q(Lh(this.e),v)},L.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sg(x,o)},L.prototype.get_collideConnected=function(){return ax(this.e)},L.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Iu(x,o)},L.prototype.__destroy__=function(){Bj(this.e)},Mx.prototype=Object.create(j.prototype),Mx.prototype.g=Mx,Mx.k={},e.b2ContactListener=Mx,Mx.prototype.__destroy__=function(){hp(this.e)},Tx.prototype=Object.create(j.prototype),Tx.prototype.g=Tx,Tx.k={},e.b2ManifoldPoint=Tx,Tx.prototype.get_localPoint=function(){return q(Lf(this.e),u)},Tx.prototype.set_localPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);rt(x,o)},Tx.prototype.get_normalImpulse=function(){return zk(this.e)},Tx.prototype.set_normalImpulse=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Di(x,o)},Tx.prototype.get_tangentImpulse=function(){return Dq(this.e)},Tx.prototype.set_tangentImpulse=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vd(x,o)},Tx.prototype.get_id=function(){return q(Ig(this.e),Kx)},Tx.prototype.set_id=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pn(x,o)},Tx.prototype.__destroy__=function(){xr(this.e)},Bx.prototype=Object.create(j.prototype),Bx.prototype.g=Bx,Bx.k={},e.b2QueryCallback=Bx,Bx.prototype.__destroy__=function(){kf(this.e)},D.prototype=Object.create(j.prototype),D.prototype.g=D,D.k={},e.b2JointDef=D,D.prototype.get_type=function(){return ou(this.e)},D.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zu(x,o)},D.prototype.get_userData=function(){return dq(this.e)},D.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Cq(x,o)},D.prototype.get_bodyA=function(){return q(Ur(this.e),v)},D.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fl(x,o)},D.prototype.get_bodyB=function(){return q(An(this.e),v)},D.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Er(x,o)},D.prototype.get_collideConnected=function(){return Vk(this.e)},D.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);al(x,o)},D.prototype.__destroy__=function(){Gf(this.e)},Ux.prototype=Object.create(j.prototype),Ux.prototype.g=Ux,Ux.k={},e.b2Transform=Ux,Ux.prototype.SetIdentity=function(){ir(this.e)},Ux.prototype.Set=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);ni(o,_o,_i)},Ux.prototype.get_p=function(){return q(uu(this.e),u)},Ux.prototype.set_p=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Yi(x,o)},Ux.prototype.get_q=function(){return q(Rd(this.e),Cx)},Ux.prototype.set_q=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Xe(x,o)},Ux.prototype.__destroy__=function(){$e(this.e)},M.prototype=Object.create(xx.prototype),M.prototype.g=M,M.k={},e.b2ChainShape=M,M.prototype.Clear=function(){ar(this.e)},M.prototype.CreateLoop=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);ow(o,_o,_i)},M.prototype.CreateChain=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Cd(o,_o,_i)},M.prototype.SetPrevVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ko(x,o)},M.prototype.SetNextVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ao(x,o)},M.prototype.GetChildEdge=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Ot(o,_o,_i)},M.prototype.GetType=function(){return Om(this.e)},M.prototype.GetChildCount=function(){return jq(this.e)},M.prototype.TestPoint=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return Ll(o,_o,_i)},M.prototype.RayCast=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return $s(_i,l,t_,o_,i_)},M.prototype.ComputeAABB=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Wc(_o,_i,l,t_)},M.prototype.ComputeMass=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);rw(o,_o,_i)},M.prototype.get_m_vertices=function(){return q(le(this.e),u)},M.prototype.set_m_vertices=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ke(x,o)},M.prototype.get_m_count=function(){return rc(this.e)},M.prototype.set_m_count=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Dl(x,o)},M.prototype.get_m_prevVertex=function(){return q(Ph(this.e),u)},M.prototype.set_m_prevVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cs(x,o)},M.prototype.get_m_nextVertex=function(){return q(Zf(this.e),u)},M.prototype.set_m_nextVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zh(x,o)},M.prototype.get_m_hasPrevVertex=function(){return zq(this.e)},M.prototype.set_m_hasPrevVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Eg(x,o)},M.prototype.get_m_hasNextVertex=function(){return zo(this.e)},M.prototype.set_m_hasNextVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);As(x,o)},M.prototype.get_m_type=function(){return ek(this.e)},M.prototype.set_m_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ug(x,o)},M.prototype.get_m_radius=function(){return dt(this.e)},M.prototype.set_m_radius=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ft(x,o)},M.prototype.__destroy__=function(){nm(this.e)},Vx.prototype=Object.create(j.prototype),Vx.prototype.g=Vx,Vx.k={},e.b2Color=Vx,Vx.prototype.Set=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Bv(_o,_i,l,t_)},Vx.prototype.get_r=function(){return Dd(this.e)},Vx.prototype.set_r=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ze(x,o)},Vx.prototype.get_g=function(){return xp(this.e)},Vx.prototype.set_g=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zc(x,o)},Vx.prototype.get_b=function(){return mt(this.e)},Vx.prototype.set_b=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Am(x,o)},Vx.prototype.__destroy__=function(){Xm(this.e)},N.prototype=Object.create(t.prototype),N.prototype.g=N,N.k={},e.b2RopeJoint=N,N.prototype.GetLocalAnchorA=function(){return q(Pr(this.e),u)},N.prototype.GetLocalAnchorB=function(){return q(Aj(this.e),u)},N.prototype.SetMaxLength=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bx(x,o)},N.prototype.GetMaxLength=function(){return df(this.e)},N.prototype.GetLimitState=function(){return Uk(this.e)},N.prototype.GetType=function(){return ns(this.e)},N.prototype.GetBodyA=function(){return q(Fv(this.e),v)},N.prototype.GetBodyB=function(){return q(Bl(this.e),v)},N.prototype.GetAnchorA=function(){return q(vj(this.e),u)},N.prototype.GetAnchorB=function(){return q(qf(this.e),u)},N.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(pt(x,o),u)},N.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return fw(x,o)},N.prototype.GetNext=function(){return q(zp(this.e),t)},N.prototype.GetUserData=function(){return lk(this.e)},N.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ts(x,o)},N.prototype.IsActive=function(){return Nu(this.e)},N.prototype.GetCollideConnected=function(){return Ju(this.e)},N.prototype.__destroy__=function(){Cr(this.e)},Wx.prototype=Object.create(j.prototype),Wx.prototype.g=Wx,Wx.k={},e.b2RayCastInput=Wx,Wx.prototype.get_p1=function(){return q(Lc(this.e),u)},Wx.prototype.set_p1=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);iv(x,o)},Wx.prototype.get_p2=function(){return q(Nl(this.e),u)},Wx.prototype.set_p2=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);lg(x,o)},Wx.prototype.get_maxFraction=function(){return Pm(this.e)},Wx.prototype.set_maxFraction=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ro(x,o)},Wx.prototype.__destroy__=function(){wf(this.e)},O.prototype=Object.create(xx.prototype),O.prototype.g=O,O.k={},e.b2PolygonShape=O,O.prototype.Set=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);ch(o,_o,_i)},O.prototype.SetAsBox=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);o_===d?tv(_i,l,t_):i_===d?_emscripten_bind_b2PolygonShape_SetAsBox_3(_i,l,t_,o_):jn(_i,l,t_,o_,i_)},O.prototype.GetVertexCount=function(){return wq(this.e)},O.prototype.GetVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Is(x,o),u)},O.prototype.GetType=function(){return bi(this.e)},O.prototype.GetChildCount=function(){return Bp(this.e)},O.prototype.TestPoint=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return Dj(o,_o,_i)},O.prototype.RayCast=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Cc(_i,l,t_,o_,i_)},O.prototype.ComputeAABB=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);hm(_o,_i,l,t_)},O.prototype.ComputeMass=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Xl(o,_o,_i)},O.prototype.get_m_centroid=function(){return q(mm(this.e),u)},O.prototype.set_m_centroid=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gn(x,o)},O.prototype.get_m_count=function(){return wd(this.e)},O.prototype.set_m_count=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Td(x,o)},O.prototype.get_m_type=function(){return Vp(this.e)},O.prototype.set_m_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vv(x,o)},O.prototype.get_m_radius=function(){return kk(this.e)},O.prototype.set_m_radius=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);dx(x,o)},O.prototype.__destroy__=function(){Ye(this.e)},P.prototype=Object.create(xx.prototype),P.prototype.g=P,P.k={},e.b2EdgeShape=P,P.prototype.Set=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Su(o,_o,_i)},P.prototype.GetType=function(){return vr(this.e)},P.prototype.GetChildCount=function(){return ld(this.e)},P.prototype.TestPoint=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return lm(o,_o,_i)},P.prototype.RayCast=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return lj(_i,l,t_,o_,i_)},P.prototype.ComputeAABB=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Kr(_o,_i,l,t_)},P.prototype.ComputeMass=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);vu(o,_o,_i)},P.prototype.get_m_vertex1=function(){return q($l(this.e),u)},P.prototype.set_m_vertex1=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bv(x,o)},P.prototype.get_m_vertex2=function(){return q(kn(this.e),u)},P.prototype.set_m_vertex2=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);kr(x,o)},P.prototype.get_m_vertex0=function(){return q(gj(this.e),u)},P.prototype.set_m_vertex0=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zi(x,o)},P.prototype.get_m_vertex3=function(){return q(gr(this.e),u)},P.prototype.set_m_vertex3=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ej(x,o)},P.prototype.get_m_hasVertex0=function(){return Em(this.e)},P.prototype.set_m_hasVertex0=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cf(x,o)},P.prototype.get_m_hasVertex3=function(){return tk(this.e)},P.prototype.set_m_hasVertex3=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mc(x,o)},P.prototype.get_m_type=function(){return Wd(this.e)},P.prototype.set_m_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Cv(x,o)},P.prototype.get_m_radius=function(){return pw(this.e)},P.prototype.set_m_radius=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ts(x,o)},P.prototype.__destroy__=function(){uj(this.e)},Xx.prototype=Object.create(Yx.prototype),Xx.prototype.g=Xx,Xx.k={},e.JSContactFilter=Xx,Xx.prototype.ShouldCollide=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return Ak(o,_o,_i)},Xx.prototype.__destroy__=function(){jk(this.e)},Q.prototype=Object.create(D.prototype),Q.prototype.g=Q,Q.k={},e.b2RevoluteJointDef=Q,Q.prototype.Initialize=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Qu(_o,_i,l,t_)},Q.prototype.get_localAnchorA=function(){return q(ed(this.e),u)},Q.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fh(x,o)},Q.prototype.get_localAnchorB=function(){return q(hk(this.e),u)},Q.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sn(x,o)},Q.prototype.get_referenceAngle=function(){return ik(this.e)},Q.prototype.set_referenceAngle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fq(x,o)},Q.prototype.get_enableLimit=function(){return ri(this.e)},Q.prototype.set_enableLimit=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);up(x,o)},Q.prototype.get_lowerAngle=function(){return Hl(this.e)},Q.prototype.set_lowerAngle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ko(x,o)},Q.prototype.get_upperAngle=function(){return ve(this.e)},Q.prototype.set_upperAngle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Lm(x,o)},Q.prototype.get_enableMotor=function(){return ep(this.e)},Q.prototype.set_enableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vi(x,o)},Q.prototype.get_motorSpeed=function(){return mg(this.e)},Q.prototype.set_motorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Dw(x,o)},Q.prototype.get_maxMotorTorque=function(){return Eq(this.e)},Q.prototype.set_maxMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sv(x,o)},Q.prototype.get_type=function(){return Mm(this.e)},Q.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ck(x,o)},Q.prototype.get_userData=function(){return Hn(this.e)},Q.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);dd(x,o)},Q.prototype.get_bodyA=function(){return q(du(this.e),v)},Q.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Rq(x,o)},Q.prototype.get_bodyB=function(){return q(qk(this.e),v)},Q.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vg(x,o)},Q.prototype.get_collideConnected=function(){return Ks(this.e)},Q.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);eg(x,o)},Q.prototype.__destroy__=function(){Hp(this.e)},Zx.prototype=Object.create(Px.prototype),Zx.prototype.g=Zx,Zx.k={},e.JSDraw=Zx,Zx.prototype.DrawPolygon=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);fo(_o,_i,l,t_)},Zx.prototype.DrawSolidPolygon=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);vg(_o,_i,l,t_)},Zx.prototype.DrawCircle=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Sc(_o,_i,l,t_)},Zx.prototype.DrawSolidCircle=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Fc(_i,l,t_,o_,i_)},Zx.prototype.DrawSegment=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);id(_o,_i,l,t_)},Zx.prototype.DrawTransform=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);uo(x,o)},Zx.prototype.__destroy__=function(){yg(this.e)},R.prototype=Object.create(t.prototype),R.prototype.g=R,R.k={},e.b2WheelJoint=R,R.prototype.GetLocalAnchorA=function(){return q(ug(this.e),u)},R.prototype.GetLocalAnchorB=function(){return q(Ff(this.e),u)},R.prototype.GetLocalAxisA=function(){return q(Dv(this.e),u)},R.prototype.GetJointTranslation=function(){return Rs(this.e)},R.prototype.GetJointSpeed=function(){return hg(this.e)},R.prototype.IsMotorEnabled=function(){return Vf(this.e)},R.prototype.EnableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);tg(x,o)},R.prototype.SetMotorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ie(x,o)},R.prototype.GetMotorSpeed=function(){return Zn(this.e)},R.prototype.SetMaxMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Hj(x,o)},R.prototype.GetMaxMotorTorque=function(){return Yd(this.e)},R.prototype.GetMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Ss(x,o)},R.prototype.SetSpringFrequencyHz=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xi(x,o)},R.prototype.GetSpringFrequencyHz=function(){return Iw(this.e)},R.prototype.SetSpringDampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Gp(x,o)},R.prototype.GetSpringDampingRatio=function(){return pc(this.e)},R.prototype.GetType=function(){return wv(this.e)},R.prototype.GetBodyA=function(){return q(to(this.e),v)},R.prototype.GetBodyB=function(){return q(Wm(this.e),v)},R.prototype.GetAnchorA=function(){return q(ds(this.e),u)},R.prototype.GetAnchorB=function(){return q(Ii(this.e),u)},R.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Pf(x,o),u)},R.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return ln(x,o)},R.prototype.GetNext=function(){return q(un(this.e),t)},R.prototype.GetUserData=function(){return oo(this.e)},R.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Rt(x,o)},R.prototype.IsActive=function(){return Vs(this.e)},R.prototype.GetCollideConnected=function(){return Fp(this.e)},R.prototype.__destroy__=function(){xw(this.e)},S.prototype=Object.create(t.prototype),S.prototype.g=S,S.k={},e.b2PulleyJoint=S,S.prototype.GetGroundAnchorA=function(){return q(Hd(this.e),u)},S.prototype.GetGroundAnchorB=function(){return q(Ng(this.e),u)},S.prototype.GetLengthA=function(){return vo(this.e)},S.prototype.GetLengthB=function(){return Lk(this.e)},S.prototype.GetRatio=function(){return Mo(this.e)},S.prototype.GetCurrentLengthA=function(){return xl(this.e)},S.prototype.GetCurrentLengthB=function(){return rj(this.e)},S.prototype.GetType=function(){return nj(this.e)},S.prototype.GetBodyA=function(){return q(Mq(this.e),v)},S.prototype.GetBodyB=function(){return q(Be(this.e),v)},S.prototype.GetAnchorA=function(){return q(kv(this.e),u)},S.prototype.GetAnchorB=function(){return q(Bh(this.e),u)},S.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Ep(x,o),u)},S.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return iu(x,o)},S.prototype.GetNext=function(){return q(dk(this.e),t)},S.prototype.GetUserData=function(){return em(this.e)},S.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qc(x,o)},S.prototype.IsActive=function(){return Wi(this.e)},S.prototype.GetCollideConnected=function(){return Ah(this.e)},S.prototype.__destroy__=function(){Go(this.e)},T.prototype=Object.create(D.prototype),T.prototype.g=T,T.k={},e.b2MouseJointDef=T,T.prototype.get_target=function(){return q(bn(this.e),u)},T.prototype.set_target=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);he(x,o)},T.prototype.get_maxForce=function(){return Ip(this.e)},T.prototype.set_maxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sq(x,o)},T.prototype.get_frequencyHz=function(){return aq(this.e)},T.prototype.set_frequencyHz=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ct(x,o)},T.prototype.get_dampingRatio=function(){return Sg(this.e)},T.prototype.set_dampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fp(x,o)},T.prototype.get_type=function(){return Zw(this.e)},T.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Xc(x,o)},T.prototype.get_userData=function(){return nt(this.e)},T.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hd(x,o)},T.prototype.get_bodyA=function(){return q(il(this.e),v)},T.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);be(x,o)},T.prototype.get_bodyB=function(){return q(Zg(this.e),v)},T.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$h(x,o)},T.prototype.get_collideConnected=function(){return sf(this.e)},T.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zw(x,o)},T.prototype.__destroy__=function(){zg(this.e)},G.prototype=Object.create(j.prototype),G.prototype.g=G,G.k={},e.b2Contact=G,G.prototype.GetManifold=function(){return q(Jt(this.e),Ix)},G.prototype.IsTouching=function(){return Oe(this.e)},G.prototype.SetEnabled=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$f(x,o)},G.prototype.IsEnabled=function(){return Tj(this.e)},G.prototype.GetNext=function(){return q(Ud(this.e),G)},G.prototype.GetFixtureA=function(){return q(jf(this.e),w)},G.prototype.GetChildIndexA=function(){return Yt(this.e)},G.prototype.GetFixtureB=function(){return q(qw(this.e),w)},G.prototype.GetChildIndexB=function(){return tr(this.e)},G.prototype.SetFriction=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sr(x,o)},G.prototype.GetFriction=function(){return Hi(this.e)},G.prototype.ResetFriction=function(){jv(this.e)},G.prototype.SetRestitution=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);er(x,o)},G.prototype.GetRestitution=function(){return Fn(this.e)},G.prototype.ResetRestitution=function(){Qi(this.e)},G.prototype.SetTangentSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Lj(x,o)},G.prototype.GetTangentSpeed=function(){return Nn(this.e)},xx.prototype=Object.create(j.prototype),xx.prototype.g=xx,xx.k={},e.b2Shape=xx,xx.prototype.GetType=function(){return ro(this.e)},xx.prototype.GetChildCount=function(){return Ft(this.e)},xx.prototype.TestPoint=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return $g(o,_o,_i)},xx.prototype.RayCast=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Gd(_i,l,t_,o_,i_)},xx.prototype.ComputeAABB=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);tc(_o,_i,l,t_)},xx.prototype.ComputeMass=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);ut(o,_o,_i)},xx.prototype.get_m_type=function(){return Pk(this.e)},xx.prototype.set_m_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qs(x,o)},xx.prototype.get_m_radius=function(){return Jr(this.e)},xx.prototype.set_m_radius=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ag(x,o)},xx.prototype.__destroy__=function(){zm(this.e)},U.prototype=Object.create(D.prototype),U.prototype.g=U,U.k={},e.b2DistanceJointDef=U,U.prototype.Initialize=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Kn(_i,l,t_,o_,i_)},U.prototype.get_localAnchorA=function(){return q(Jj(this.e),u)},U.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Nw(x,o)},U.prototype.get_localAnchorB=function(){return q(Pq(this.e),u)},U.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xk(x,o)},U.prototype.get_length=function(){return Ae(this.e)},U.prototype.set_length=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ji(x,o)},U.prototype.get_frequencyHz=function(){return wo(this.e)},U.prototype.set_frequencyHz=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gk(x,o)},U.prototype.get_dampingRatio=function(){return nk(this.e)},U.prototype.set_dampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qg(x,o)},U.prototype.get_type=function(){return Ni(this.e)},U.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Jq(x,o)},U.prototype.get_userData=function(){return ad(this.e)},U.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);yj(x,o)},U.prototype.get_bodyA=function(){return q(Bf(this.e),v)},U.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ls(x,o)},U.prototype.get_bodyB=function(){return q(mv(this.e),v)},U.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hq(x,o)},U.prototype.get_collideConnected=function(){return eq(this.e)},U.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gu(x,o)},U.prototype.__destroy__=function(){xu(this.e)},v.prototype=Object.create(j.prototype),v.prototype.g=v,v.k={},e.b2Body=v,v.prototype.CreateFixture=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return q(_i===d?cm(o,_o):dm(o,_o,_i),w)},v.prototype.DestroyFixture=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Un(x,o)},v.prototype.SetTransform=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);pf(o,_o,_i)},v.prototype.GetTransform=function(){return q($t(this.e),Ux)},v.prototype.GetPosition=function(){return q(Dh(this.e),u)},v.prototype.GetAngle=function(){return Ru(this.e)},v.prototype.GetWorldCenter=function(){return q(Yk(this.e),u)},v.prototype.GetLocalCenter=function(){return q(Xv(this.e),u)},v.prototype.SetLinearVelocity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sl(x,o)},v.prototype.GetLinearVelocity=function(){return q(et(this.e),u)},v.prototype.SetAngularVelocity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ov(x,o)},v.prototype.GetAngularVelocity=function(){return Oj(this.e)},v.prototype.ApplyForce=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);St(_o,_i,l,t_)},v.prototype.ApplyForceToCenter=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);xf(o,_o,_i)},v.prototype.ApplyTorque=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);In(o,_o,_i)},v.prototype.ApplyLinearImpulse=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Wl(_o,_i,l,t_)},v.prototype.ApplyAngularImpulse=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);we(o,_o,_i)},v.prototype.GetMass=function(){return Co(this.e)},v.prototype.GetInertia=function(){return ks(this.e)},v.prototype.GetMassData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zh(x,o)},v.prototype.SetMassData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ke(x,o)},v.prototype.ResetMassData=function(){Xr(this.e)},v.prototype.GetWorldPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(yk(x,o),u)},v.prototype.GetWorldVector=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(ah(x,o),u)},v.prototype.GetLocalPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(lh(x,o),u)},v.prototype.GetLocalVector=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Rm(x,o),u)},v.prototype.GetLinearVelocityFromWorldPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(nr(x,o),u)},v.prototype.GetLinearVelocityFromLocalPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Vq(x,o),u)},v.prototype.GetLinearDamping=function(){return Vr(this.e)},v.prototype.SetLinearDamping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vm(x,o)},v.prototype.GetAngularDamping=function(){return $n(this.e)},v.prototype.SetAngularDamping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cw(x,o)},v.prototype.GetGravityScale=function(){return Wg(this.e)},v.prototype.SetGravityScale=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sm(x,o)},v.prototype.SetType=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Bo(x,o)},v.prototype.GetType=function(){return Gr(this.e)},v.prototype.SetBullet=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);jl(x,o)},v.prototype.IsBullet=function(){return Tl(this.e)},v.prototype.SetSleepingAllowed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Lg(x,o)},v.prototype.IsSleepingAllowed=function(){return rq(this.e)},v.prototype.SetAwake=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fv(x,o)},v.prototype.IsAwake=function(){return ee(this.e)},v.prototype.SetActive=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fm(x,o)},v.prototype.IsActive=function(){return Pi(this.e)},v.prototype.SetFixedRotation=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vh(x,o)},v.prototype.IsFixedRotation=function(){return Fi(this.e)},v.prototype.GetFixtureList=function(){return q(dp(this.e),w)},v.prototype.GetJointList=function(){return q(Kw(this.e),Sx)},v.prototype.GetContactList=function(){return q(Ei(this.e),$x)},v.prototype.GetNext=function(){return q(Ev(this.e),v)},v.prototype.GetUserData=function(){return cl(this.e)},v.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pw(x,o)},v.prototype.GetWorld=function(){return q(cv(this.e),F)},v.prototype.Dump=function(){Wk(this.e)},W.prototype=Object.create(t.prototype),W.prototype.g=W,W.k={},e.b2FrictionJoint=W,W.prototype.GetLocalAnchorA=function(){return q(op(this.e),u)},W.prototype.GetLocalAnchorB=function(){return q(Li(this.e),u)},W.prototype.SetMaxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);lu(x,o)},W.prototype.GetMaxForce=function(){return Sd(this.e)},W.prototype.SetMaxTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$p(x,o)},W.prototype.GetMaxTorque=function(){return kj(this.e)},W.prototype.GetType=function(){return Pg(this.e)},W.prototype.GetBodyA=function(){return q(Lw(this.e),v)},W.prototype.GetBodyB=function(){return q(Af(this.e),v)},W.prototype.GetAnchorA=function(){return q(ms(this.e),u)},W.prototype.GetAnchorB=function(){return q(Kv(this.e),u)},W.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Iq(x,o),u)},W.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return km(x,o)},W.prototype.GetNext=function(){return q(fs(this.e),t)},W.prototype.GetUserData=function(){return Rr(this.e)},W.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bq(x,o)},W.prototype.IsActive=function(){return yc(this.e)},W.prototype.GetCollideConnected=function(){return Rp(this.e)},W.prototype.__destroy__=function(){kp(this.e)},ay.prototype=Object.create(j.prototype),ay.prototype.g=ay,ay.k={},e.b2DestructionListener=ay,ay.prototype.__destroy__=function(){Uc(this.e)},X.prototype=Object.create(D.prototype),X.prototype.g=X,X.k={},e.b2GearJointDef=X,X.prototype.get_joint1=function(){return q(cj(this.e),t)},X.prototype.set_joint1=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);jr(x,o)},X.prototype.get_joint2=function(){return q(bg(this.e),t)},X.prototype.set_joint2=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ku(x,o)},X.prototype.get_ratio=function(){return Cp(this.e)},X.prototype.set_ratio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Gj(x,o)},X.prototype.get_type=function(){return Nm(this.e)},X.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gf(x,o)},X.prototype.get_userData=function(){return wi(this.e)},X.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);nw(x,o)},X.prototype.get_bodyA=function(){return q(fk(this.e),v)},X.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ui(x,o)},X.prototype.get_bodyB=function(){return q(Xg(this.e),v)},X.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ew(x,o)},X.prototype.get_collideConnected=function(){return gl(this.e)},X.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pt(x,o)},X.prototype.__destroy__=function(){Qq(this.e)},Y.prototype=Object.create(t.prototype),Y.prototype.g=Y,Y.k={},e.b2RevoluteJoint=Y,Y.prototype.GetLocalAnchorA=function(){return q(Gc(this.e),u)},Y.prototype.GetLocalAnchorB=function(){return q(it(this.e),u)},Y.prototype.GetReferenceAngle=function(){return tl(this.e)},Y.prototype.GetJointAngle=function(){return hh(this.e)},Y.prototype.GetJointSpeed=function(){return Ef(this.e)},Y.prototype.IsLimitEnabled=function(){return Qv(this.e)},Y.prototype.EnableLimit=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ol(x,o)},Y.prototype.GetLowerLimit=function(){return Xk(this.e)},Y.prototype.GetUpperLimit=function(){return oe(this.e)},Y.prototype.SetLimits=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Ms(o,_o,_i)},Y.prototype.IsMotorEnabled=function(){return ge(this.e)},Y.prototype.EnableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Jp(x,o)},Y.prototype.SetMotorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xo(x,o)},Y.prototype.GetMotorSpeed=function(){return Tg(this.e)},Y.prototype.SetMaxMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);kw(x,o)},Y.prototype.GetMaxMotorTorque=function(){return vk(this.e)},Y.prototype.GetMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Jc(x,o)},Y.prototype.GetType=function(){return Tn(this.e)},Y.prototype.GetBodyA=function(){return q(Xj(this.e),v)},Y.prototype.GetBodyB=function(){return q(ol(this.e),v)},Y.prototype.GetAnchorA=function(){return q(bs(this.e),u)},Y.prototype.GetAnchorB=function(){return q(ov(this.e),u)},Y.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Hu(x,o),u)},Y.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Nh(x,o)},Y.prototype.GetNext=function(){return q(pv(this.e),t)},Y.prototype.GetUserData=function(){return ti(this.e)},Y.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Uv(x,o)},Y.prototype.IsActive=function(){return yv(this.e)},Y.prototype.GetCollideConnected=function(){return ru(this.e)},Y.prototype.__destroy__=function(){Md(this.e)},Yx.prototype=Object.create(j.prototype),Yx.prototype.g=Yx,Yx.k={},e.b2ContactFilter=Yx,Yx.prototype.__destroy__=function(){Cg(this.e)},$x.prototype=Object.create(j.prototype),$x.prototype.g=$x,$x.k={},e.b2ContactEdge=$x,$x.prototype.get_other=function(){return q(zj(this.e),v)},$x.prototype.set_other=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qj(x,o)},$x.prototype.get_contact=function(){return q(Gn(this.e),G)},$x.prototype.set_contact=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qi(x,o)},$x.prototype.get_prev=function(){return q(Fh(this.e),$x)},$x.prototype.set_prev=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$j(x,o)},$x.prototype.get_next=function(){return q(lr(this.e),$x)},$x.prototype.set_next=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qc(x,o)},$x.prototype.__destroy__=function(){au(this.e)},Z.prototype=Object.create(D.prototype),Z.prototype.g=Z,Z.k={},e.b2RopeJointDef=Z,Z.prototype.get_localAnchorA=function(){return q(pi(this.e),u)},Z.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Bc(x,o)},Z.prototype.get_localAnchorB=function(){return q(cd(this.e),u)},Z.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);lw(x,o)},Z.prototype.get_maxLength=function(){return hl(this.e)},Z.prototype.set_maxLength=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Kl(x,o)},Z.prototype.get_type=function(){return Nq(this.e)},Z.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ql(x,o)},Z.prototype.get_userData=function(){return nh(this.e)},Z.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Xo(x,o)},Z.prototype.get_bodyA=function(){return q(mk(this.e),v)},Z.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);yu(x,o)},Z.prototype.get_bodyB=function(){return q(uw(this.e),v)},Z.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Fe(x,o)},Z.prototype.get_collideConnected=function(){return di(this.e)},Z.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xd(x,o)},Z.prototype.__destroy__=function(){Us(this.e)},$.prototype=Object.create(D.prototype),$.prototype.g=$,$.k={},e.b2MotorJointDef=$,$.prototype.Initialize=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);kd(o,_o,_i)},$.prototype.get_linearOffset=function(){return q(Gm(this.e),u)},$.prototype.set_linearOffset=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Oo(x,o)},$.prototype.get_angularOffset=function(){return Qt(this.e)},$.prototype.set_angularOffset=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ph(x,o)},$.prototype.get_maxForce=function(){return $c(this.e)},$.prototype.set_maxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pg(x,o)},$.prototype.get_maxTorque=function(){return Uq(this.e)},$.prototype.set_maxTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Uu(x,o)},$.prototype.get_correctionFactor=function(){return Av(this.e)},$.prototype.set_correctionFactor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xj(x,o)},$.prototype.get_type=function(){return Or(this.e)},$.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Kc(x,o)},$.prototype.get_userData=function(){return Bu(this.e)},$.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vd(x,o)},$.prototype.get_bodyA=function(){return q(Ew(this.e),v)},$.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ul(x,o)},$.prototype.get_bodyB=function(){return q(Fk(this.e),v)},$.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Xs(x,o)},$.prototype.get_collideConnected=function(){return ne(this.e)},$.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);us(x,o)},$.prototype.__destroy__=function(){Os(this.e)},e.b2Shape.e_circle=Sk(),e.b2Shape.e_edge=uk(),e.b2Shape.e_polygon=Oc(),e.b2Shape.e_chain=Hh(),e.b2Shape.e_typeCount=of(),e.e_unknownJoint=Gv(),e.e_revoluteJoint=ce(),e.e_prismaticJoint=yr(),e.e_distanceJoint=Fo(),e.e_pulleyJoint=Yf(),e.e_mouseJoint=ae(),e.e_gearJoint=Gt(),e.e_wheelJoint=Zr(),e.e_weldJoint=$m(),e.e_frictionJoint=xe(),e.e_ropeJoint=rs(),e.e_motorJoint=Po(),e.e_inactiveLimit=dv(),e.e_atLowerLimit=On(),e.e_atUpperLimit=Xw(),e.e_equalLimits=Ci(),e.b2Manifold.e_circles=co(),e.b2Manifold.e_faceA=ok(),e.b2Manifold.e_faceB=pk(),e.b2_staticBody=Km(),e.b2_kinematicBody=Yq(),e.b2_dynamicBody=Sq(),e.b2Draw.e_shapeBit=Gi(),e.b2Draw.e_jointBit=qg(),e.b2Draw.e_aabbBit=Pu(),e.b2Draw.e_pairBit=jp(),e.b2Draw.e_centerOfMassBit=iw(),e.b2ContactFeature.e_vertex=Ih(),e.b2ContactFeature.e_face=tm();function j(){}j.prototype=Object.create(j.prototype),j.prototype.g=j,j.k={},e.WrapperObject=j;function p(V){return(V||j).k}e.getCache=p;function q(V,x){var o=p(x),_o=o[V];return _o||(_o=Object.create((x||j).prototype),_o.e=V,o[V]=_o)}e.wrapPointer=q;function nx(V,x){return q(V.e,x)}e.castObject=nx,e.NULL=q(0);function ox(V){V.__destroy__||c("Error: Cannot destroy object. (Did you create it yourself?)"),V.__destroy__(),delete p(V.g)[V.e]}e.destroy=ox;function px(V,x){return V.e===x.e}e.compare=px;function qx(V){return V.e}e.getPointer=qx;function rx(V){return V.g}e.getClass=rx;function r(V){return typeof V=="string"?$a(Ab(V),"i8",Wa):V}function sx(){this.e=yf(),p(sx)[this.e]=this}sx.prototype=Object.create(tx.prototype),sx.prototype.g=sx,sx.k={},e.JSDestructionListener=sx,sx.prototype.SayGoodbyeJoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ym(x,o)},sx.prototype.SayGoodbyeFixture=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vq(x,o)},sx.prototype.__destroy__=function(){Nr(this.e)};function ux(){c("cannot construct a b2ContactImpulse, no constructor in IDL")}ux.prototype=Object.create(j.prototype),ux.prototype.g=ux,ux.k={},e.b2ContactImpulse=ux,ux.prototype.get_count=function(){return Xn(this.e)},ux.prototype.set_count=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Kh(x,o)},ux.prototype.__destroy__=function(){tf(this.e)};function s(){c("cannot construct a b2DistanceJoint, no constructor in IDL")}s.prototype=Object.create(t.prototype),s.prototype.g=s,s.k={},e.b2DistanceJoint=s,s.prototype.GetLocalAnchorA=function(){return q(Es(this.e),u)},s.prototype.GetLocalAnchorB=function(){return q(Ki(this.e),u)},s.prototype.SetLength=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vv(x,o)},s.prototype.GetLength=function(){return Jl(this.e)},s.prototype.SetFrequency=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Gh(x,o)},s.prototype.GetFrequency=function(){return rm(this.e)},s.prototype.SetDampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hf(x,o)},s.prototype.GetDampingRatio=function(){return Xh(this.e)},s.prototype.GetType=function(){return kl(this.e)},s.prototype.GetBodyA=function(){return q(ej(this.e),v)},s.prototype.GetBodyB=function(){return q(Rv(this.e),v)},s.prototype.GetAnchorA=function(){return q(ud(this.e),u)},s.prototype.GetAnchorB=function(){return q(th(this.e),u)},s.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Bn(x,o),u)},s.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return gt(x,o)},s.prototype.GetNext=function(){return q(Re(this.e),t)},s.prototype.GetUserData=function(){return Qw(this.e)},s.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);rn(x,o)},s.prototype.IsActive=function(){return oh(this.e)},s.prototype.GetCollideConnected=function(){return Ut(this.e)},s.prototype.__destroy__=function(){ur(this.e)};function vx(V,x,o){V=V&&typeof V=="object"?V.e:r(V),x=x&&typeof x=="object"?x.e:r(x),o=o&&typeof o=="object"?o.e:r(o),this.e=V===d?Yg():x===d?_emscripten_bind_b2Mat33_b2Mat33_1(V):o===d?_emscripten_bind_b2Mat33_b2Mat33_2(V,x):mu(V,x,o),p(vx)[this.e]=this}vx.prototype=Object.create(j.prototype),vx.prototype.g=vx,vx.k={},e.b2Mat33=vx,vx.prototype.SetZero=function(){Tu(this.e)},vx.prototype.Solve33=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Dp(x,o),wx)},vx.prototype.Solve22=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Ag(x,o),u)},vx.prototype.GetInverse22=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hn(x,o)},vx.prototype.GetSymInverse33=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vl(x,o)},vx.prototype.get_ex=function(){return q(Ch(this.e),wx)},vx.prototype.set_ex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bu(x,o)},vx.prototype.get_ey=function(){return q(md(this.e),wx)},vx.prototype.set_ey=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mi(x,o)},vx.prototype.get_ez=function(){return q(Uw(this.e),wx)},vx.prototype.set_ez=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Du(x,o)},vx.prototype.__destroy__=function(){Id(this.e)};function w(){c("cannot construct a b2Fixture, no constructor in IDL")}w.prototype=Object.create(j.prototype),w.prototype.g=w,w.k={},e.b2Fixture=w,w.prototype.GetType=function(){return ml(this.e)},w.prototype.GetShape=function(){return q(sv(this.e),xx)},w.prototype.SetSensor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bj(x,o)},w.prototype.IsSensor=function(){return Yo(this.e)},w.prototype.SetFilterData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gi(x,o)},w.prototype.GetFilterData=function(){return q(st(this.e),yx)},w.prototype.Refilter=function(){Vo(this.e)},w.prototype.GetBody=function(){return q(Jh(this.e),v)},w.prototype.GetNext=function(){return q(bk(this.e),w)},w.prototype.GetUserData=function(){return gm(this.e)},w.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hr(x,o)},w.prototype.TestPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return qu(x,o)},w.prototype.RayCast=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);return el(_o,_i,l,t_)},w.prototype.GetMassData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ij(x,o)},w.prototype.SetDensity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Oh(x,o)},w.prototype.GetDensity=function(){return Up(this.e)},w.prototype.GetFriction=function(){return Ou(this.e)},w.prototype.SetFriction=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sc(x,o)},w.prototype.GetRestitution=function(){return We(this.e)},w.prototype.SetRestitution=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zt(x,o)},w.prototype.GetAABB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Jn(x,o),zx)},w.prototype.Dump=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);on(x,o)},w.prototype.__destroy__=function(){Pc(this.e)};function yx(){this.e=Ap(),p(yx)[this.e]=this}yx.prototype=Object.create(j.prototype),yx.prototype.g=yx,yx.k={},e.b2Filter=yx,yx.prototype.get_categoryBits=function(){return Zm(this.e)},yx.prototype.set_categoryBits=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mk(x,o)},yx.prototype.get_maskBits=function(){return bp(this.e)},yx.prototype.set_maskBits=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ss(x,o)},yx.prototype.get_groupIndex=function(){return Ue(this.e)},yx.prototype.set_groupIndex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);wn(x,o)},yx.prototype.__destroy__=function(){go(this.e)};function Ax(){this.e=iq(),p(Ax)[this.e]=this}Ax.prototype=Object.create(Bx.prototype),Ax.prototype.g=Ax,Ax.k={},e.JSQueryCallback=Ax,Ax.prototype.ReportFixture=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return pu(x,o)},Ax.prototype.__destroy__=function(){Jo(this.e)};function y(){c("cannot construct a b2MouseJoint, no constructor in IDL")}y.prototype=Object.create(t.prototype),y.prototype.g=y,y.k={},e.b2MouseJoint=y,y.prototype.SetTarget=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);oi(x,o)},y.prototype.GetTarget=function(){return q(Kt(this.e),u)},y.prototype.SetMaxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Aq(x,o)},y.prototype.GetMaxForce=function(){return Vt(this.e)},y.prototype.SetFrequency=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zl(x,o)},y.prototype.GetFrequency=function(){return Dt(this.e)},y.prototype.SetDampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qk(x,o)},y.prototype.GetDampingRatio=function(){return as(this.e)},y.prototype.GetType=function(){return Io(this.e)},y.prototype.GetBodyA=function(){return q(So(this.e),v)},y.prototype.GetBodyB=function(){return q(Cj(this.e),v)},y.prototype.GetAnchorA=function(){return q(tu(this.e),u)},y.prototype.GetAnchorB=function(){return q(Xq(this.e),u)},y.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(jm(x,o),u)},y.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return mo(x,o)},y.prototype.GetNext=function(){return q(Xi(this.e),t)},y.prototype.GetUserData=function(){return no(this.e)},y.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mt(x,o)},y.prototype.IsActive=function(){return nd(this.e)},y.prototype.GetCollideConnected=function(){return Bi(this.e)},y.prototype.__destroy__=function(){Gq(this.e)};function Cx(V){V=V&&typeof V=="object"?V.e:r(V),this.e=V===d?Do():Eo(V),p(Cx)[this.e]=this}Cx.prototype=Object.create(j.prototype),Cx.prototype.g=Cx,Cx.k={},e.b2Rot=Cx,Cx.prototype.Set=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);wg(x,o)},Cx.prototype.SetIdentity=function(){Mg(this.e)},Cx.prototype.GetAngle=function(){return Np(this.e)},Cx.prototype.GetXAxis=function(){return q(Zj(this.e),u)},Cx.prototype.GetYAxis=function(){return q(sr(this.e),u)},Cx.prototype.get_s=function(){return Zp(this.e)},Cx.prototype.set_s=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);me(x,o)},Cx.prototype.get_c=function(){return xq(this.e)},Cx.prototype.set_c=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mh(x,o)},Cx.prototype.__destroy__=function(){ap(this.e)};function z(){c("cannot construct a b2MotorJoint, no constructor in IDL")}z.prototype=Object.create(t.prototype),z.prototype.g=z,z.k={},e.b2MotorJoint=z,z.prototype.SetLinearOffset=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Lp(x,o)},z.prototype.GetLinearOffset=function(){return q(Qp(this.e),u)},z.prototype.SetAngularOffset=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pp(x,o)},z.prototype.GetAngularOffset=function(){return xv(this.e)},z.prototype.SetMaxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);mp(x,o)},z.prototype.GetMaxForce=function(){return Wj(this.e)},z.prototype.SetMaxTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zd(x,o)},z.prototype.GetMaxTorque=function(){return es(this.e)},z.prototype.SetCorrectionFactor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ie(x,o)},z.prototype.GetCorrectionFactor=function(){return tq(this.e)},z.prototype.GetType=function(){return cr(this.e)},z.prototype.GetBodyA=function(){return q(Rg(this.e),v)},z.prototype.GetBodyB=function(){return q(mi(this.e),v)},z.prototype.GetAnchorA=function(){return q(Tp(this.e),u)},z.prototype.GetAnchorB=function(){return q(rv(this.e),u)},z.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Mp(x,o),u)},z.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Uf(x,o)},z.prototype.GetNext=function(){return q(zr(this.e),t)},z.prototype.GetUserData=function(){return Nk(this.e)},z.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ki(x,o)},z.prototype.IsActive=function(){return lo(this.e)},z.prototype.GetCollideConnected=function(){return ff(this.e)},z.prototype.__destroy__=function(){bl(this.e)};function A(){c("cannot construct a b2Profile, no constructor in IDL")}A.prototype=Object.create(j.prototype),A.prototype.g=A,A.k={},e.b2Profile=A,A.prototype.get_step=function(){return Ik(this.e)},A.prototype.set_step=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pj(x,o)},A.prototype.get_collide=function(){return At(this.e)},A.prototype.set_collide=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);To(x,o)},A.prototype.get_solve=function(){return uq(this.e)},A.prototype.set_solve=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);kt(x,o)},A.prototype.get_solveInit=function(){return Iv(this.e)},A.prototype.set_solveInit=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pl(x,o)},A.prototype.get_solveVelocity=function(){return aw(this.e)},A.prototype.set_solveVelocity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Hm(x,o)},A.prototype.get_solvePosition=function(){return Fd(this.e)},A.prototype.set_solvePosition=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Bg(x,o)},A.prototype.get_broadphase=function(){return qd(this.e)},A.prototype.set_broadphase=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vn(x,o)},A.prototype.get_solveTOI=function(){return Hg(this.e)},A.prototype.set_solveTOI=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ui(x,o)},A.prototype.__destroy__=function(){Eh(this.e)};function Dx(){c("cannot construct a VoidPtr, no constructor in IDL")}Dx.prototype=Object.create(j.prototype),Dx.prototype.g=Dx,Dx.k={},e.VoidPtr=Dx,Dx.prototype.__destroy__=function(){yp(this.e)};function B(){this.e=vw(),p(B)[this.e]=this}B.prototype=Object.create(j.prototype),B.prototype.g=B,B.k={},e.b2BodyDef=B,B.prototype.get_type=function(){return Lr(this.e)},B.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vc(x,o)},B.prototype.get_position=function(){return q(bd(this.e),u)},B.prototype.set_position=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qd(x,o)},B.prototype.get_angle=function(){return hu(this.e)},B.prototype.set_angle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pl(x,o)},B.prototype.get_linearVelocity=function(){return q(lv(this.e),u)},B.prototype.set_linearVelocity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$k(x,o)},B.prototype.get_angularVelocity=function(){return Le(this.e)},B.prototype.set_angularVelocity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Um(x,o)},B.prototype.get_linearDamping=function(){return Ek(this.e)},B.prototype.set_linearDamping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qr(x,o)},B.prototype.get_angularDamping=function(){return fr(this.e)},B.prototype.set_angularDamping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Jv(x,o)},B.prototype.get_allowSleep=function(){return Zu(this.e)},B.prototype.set_allowSleep=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);mj(x,o)},B.prototype.get_awake=function(){return dr(this.e)},B.prototype.set_awake=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);am(x,o)},B.prototype.get_fixedRotation=function(){return io(this.e)},B.prototype.set_fixedRotation=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Tk(x,o)},B.prototype.get_bullet=function(){return Kf(this.e)},B.prototype.set_bullet=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sn(x,o)},B.prototype.get_active=function(){return Nj(this.e)},B.prototype.set_active=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);wk(x,o)},B.prototype.get_userData=function(){return Mv(this.e)},B.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Lu(x,o)},B.prototype.get_gravityScale=function(){return qo(this.e)},B.prototype.set_gravityScale=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ee(x,o)},B.prototype.__destroy__=function(){Gs(this.e)};function Ex(){this.e=kg(),p(Ex)[this.e]=this}Ex.prototype=Object.create(Fx.prototype),Ex.prototype.g=Ex,Ex.k={},e.JSRayCastCallback=Ex,Ex.prototype.ReportFixture=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Fm(_i,l,t_,o_,i_)},Ex.prototype.__destroy__=function(){gp(this.e)};function Gx(){c("cannot construct a b2ContactFeature, no constructor in IDL")}Gx.prototype=Object.create(j.prototype),Gx.prototype.g=Gx,Gx.k={},e.b2ContactFeature=Gx,Gx.prototype.get_indexA=function(){return xh(this.e)},Gx.prototype.set_indexA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Hv(x,o)},Gx.prototype.get_indexB=function(){return Jw(this.e)},Gx.prototype.set_indexB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);mr(x,o)},Gx.prototype.get_typeA=function(){return im(this.e)},Gx.prototype.set_typeA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);nn(x,o)},Gx.prototype.get_typeB=function(){return Kp(this.e)},Gx.prototype.set_typeB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xg(x,o)},Gx.prototype.__destroy__=function(){gq(this.e)};function u(V,x){V=V&&typeof V=="object"?V.e:r(V),x=x&&typeof x=="object"?x.e:r(x),this.e=V===d?sh():x===d?_emscripten_bind_b2Vec2_b2Vec2_1(V):qh(V,x),p(u)[this.e]=this}u.prototype=Object.create(j.prototype),u.prototype.g=u,u.k={},e.b2Vec2=u,u.prototype.SetZero=function(){Br(this.e)},u.prototype.Set=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Wp(o,_o,_i)},u.prototype.op_add=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Rf(x,o)},u.prototype.op_sub=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vh(x,o)},u.prototype.op_mul=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sj(x,o)},u.prototype.Length=function(){return Ar(this.e)},u.prototype.LengthSquared=function(){return Gw(this.e)},u.prototype.Normalize=function(){return gg(this.e)},u.prototype.IsValid=function(){return rp(this.e)},u.prototype.Skew=function(){return q($r(this.e),u)},u.prototype.get_x=function(){return ex(this.e)},u.prototype.set_x=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vf(x,o)},u.prototype.get_y=function(){return bm(this.e)},u.prototype.set_y=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sw(x,o)},u.prototype.__destroy__=function(){hv(this.e)};function wx(V,x,o){V=V&&typeof V=="object"?V.e:r(V),x=x&&typeof x=="object"?x.e:r(x),o=o&&typeof o=="object"?o.e:r(o),this.e=V===d?Jk():x===d?_emscripten_bind_b2Vec3_b2Vec3_1(V):o===d?_emscripten_bind_b2Vec3_b2Vec3_2(V,x):Kk(V,x,o),p(wx)[this.e]=this}wx.prototype=Object.create(j.prototype),wx.prototype.g=wx,wx.k={},e.b2Vec3=wx,wx.prototype.SetZero=function(){Xf(this.e)},wx.prototype.Set=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);ak(_o,_i,l,t_)},wx.prototype.op_add=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Og(x,o)},wx.prototype.op_sub=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);po(x,o)},wx.prototype.op_mul=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);uv(x,o)},wx.prototype.get_x=function(){return Bd(this.e)},wx.prototype.set_x=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);wm(x,o)},wx.prototype.get_y=function(){return nu(this.e)},wx.prototype.set_y=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);lq(x,o)},wx.prototype.get_z=function(){return vc(this.e)},wx.prototype.set_z=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pm(x,o)},wx.prototype.__destroy__=function(){Rh(this.e)};function zx(){this.e=Uo(),p(zx)[this.e]=this}zx.prototype=Object.create(j.prototype),zx.prototype.g=zx,zx.k={},e.b2AABB=zx,zx.prototype.IsValid=function(){return so(this.e)},zx.prototype.GetCenter=function(){return q(vn(this.e),u)},zx.prototype.GetExtents=function(){return q(cu(this.e),u)},zx.prototype.GetPerimeter=function(){return um(this.e)},zx.prototype.Combine=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);_i===d?mq(o,_o):nq(o,_o,_i)},zx.prototype.Contains=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Qe(x,o)},zx.prototype.RayCast=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return zl(o,_o,_i)},zx.prototype.get_lowerBound=function(){return q(He(this.e),u)},zx.prototype.set_lowerBound=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);yq(x,o)},zx.prototype.get_upperBound=function(){return q(Ze(this.e),u)},zx.prototype.set_upperBound=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);rf(x,o)},zx.prototype.__destroy__=function(){qq(this.e)};function Hx(){this.e=rk(),p(Hx)[this.e]=this}Hx.prototype=Object.create(j.prototype),Hx.prototype.g=Hx,Hx.k={},e.b2FixtureDef=Hx,Hx.prototype.get_shape=function(){return q(ju(this.e),xx)},Hx.prototype.set_shape=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zv(x,o)},Hx.prototype.get_userData=function(){return re(this.e)},Hx.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cq(x,o)},Hx.prototype.get_friction=function(){return Ht(this.e)},Hx.prototype.set_friction=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Cm(x,o)},Hx.prototype.get_restitution=function(){return ll(this.e)},Hx.prototype.set_restitution=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);jd(x,o)},Hx.prototype.get_density=function(){return je(this.e)},Hx.prototype.set_density=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ps(x,o)},Hx.prototype.get_isSensor=function(){return rg(this.e)},Hx.prototype.set_isSensor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Al(x,o)},Hx.prototype.get_filter=function(){return q(Hc(this.e),yx)},Hx.prototype.set_filter=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ei(x,o)},Hx.prototype.__destroy__=function(){Yv(this.e)};function C(){this.e=wl(),p(C)[this.e]=this}C.prototype=Object.create(D.prototype),C.prototype.g=C,C.k={},e.b2FrictionJointDef=C,C.prototype.Initialize=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);mw(_o,_i,l,t_)},C.prototype.get_localAnchorA=function(){return q(If(this.e),u)},C.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ig(x,o)},C.prototype.get_localAnchorB=function(){return q(Mj(this.e),u)},C.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ck(x,o)},C.prototype.get_maxForce=function(){return Tm(this.e)},C.prototype.set_maxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);en(x,o)},C.prototype.get_maxTorque=function(){return np(this.e)},C.prototype.set_maxTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Hs(x,o)},C.prototype.get_type=function(){return Ic(this.e)},C.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hs(x,o)},C.prototype.get_userData=function(){return hi(this.e)},C.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);uc(x,o)},C.prototype.get_bodyA=function(){return q(Fu(this.e),v)},C.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Hw(x,o)},C.prototype.get_bodyB=function(){return q(Bq(this.e),v)},C.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ys(x,o)},C.prototype.get_collideConnected=function(){return js(this.e)},C.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);se(x,o)},C.prototype.__destroy__=function(){yi(this.e)};function Ix(){this.e=cn(),p(Ix)[this.e]=this}Ix.prototype=Object.create(j.prototype),Ix.prototype.g=Ix,Ix.k={},e.b2Manifold=Ix,Ix.prototype.get_localNormal=function(){return q(yl(this.e),u)},Ix.prototype.set_localNormal=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Tr(x,o)},Ix.prototype.get_localPoint=function(){return q(Zq(this.e),u)},Ix.prototype.set_localPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qn(x,o)},Ix.prototype.get_type=function(){return Ld(this.e)},Ix.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Il(x,o)},Ix.prototype.get_pointCount=function(){return Tw(this.e)},Ix.prototype.set_pointCount=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Jg(x,o)},Ix.prototype.__destroy__=function(){dh(this.e)};function E(){this.e=uf(),p(E)[this.e]=this}E.prototype=Object.create(D.prototype),E.prototype.g=E,E.k={},e.b2PrismaticJointDef=E,E.prototype.Initialize=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Hf(_i,l,t_,o_,i_)},E.prototype.get_localAnchorA=function(){return q(tj(this.e),u)},E.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);It(x,o)},E.prototype.get_localAnchorB=function(){return q(mf(this.e),u)},E.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ip(x,o)},E.prototype.get_localAxisA=function(){return q(Vu(this.e),u)},E.prototype.set_localAxisA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mn(x,o)},E.prototype.get_referenceAngle=function(){return Je(this.e)},E.prototype.set_referenceAngle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ci(x,o)},E.prototype.get_enableLimit=function(){return qt(this.e)},E.prototype.set_enableLimit=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qm(x,o)},E.prototype.get_lowerTranslation=function(){return te(this.e)},E.prototype.set_lowerTranslation=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pd(x,o)},E.prototype.get_upperTranslation=function(){return Ec(this.e)},E.prototype.set_upperTranslation=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gv(x,o)},E.prototype.get_enableMotor=function(){return Ws(this.e)},E.prototype.set_enableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Yr(x,o)},E.prototype.get_maxMotorForce=function(){return Ow(this.e)},E.prototype.set_maxMotorForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ti(x,o)},E.prototype.get_motorSpeed=function(){return $o(this.e)},E.prototype.set_motorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);jo(x,o)},E.prototype.get_type=function(){return Mf(this.e)},E.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vi(x,o)},E.prototype.get_userData=function(){return Vj(this.e)},E.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gs(x,o)},E.prototype.get_bodyA=function(){return q(qp(this.e),v)},E.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sp(x,o)},E.prototype.get_bodyB=function(){return q(rl(this.e),v)},E.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vl(x,o)},E.prototype.get_collideConnected=function(){return wt(this.e)},E.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ln(x,o)},E.prototype.__destroy__=function(){Ne(this.e)};function F(V){V=V&&typeof V=="object"?V.e:r(V),this.e=Of(V),p(F)[this.e]=this}F.prototype=Object.create(j.prototype),F.prototype.g=F,F.k={},e.b2World=F,F.prototype.SetDestructionListener=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Df(x,o)},F.prototype.SetContactFilter=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fd(x,o)},F.prototype.SetContactListener=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);de(x,o)},F.prototype.SetDebugDraw=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cg(x,o)},F.prototype.CreateBody=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Wo(x,o),v)},F.prototype.DestroyBody=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ed(x,o)},F.prototype.CreateJoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Gg(x,o),t)},F.prototype.DestroyJoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Dr(x,o)},F.prototype.Step=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Gk(_o,_i,l,t_)},F.prototype.ClearForces=function(){Qh(this.e)},F.prototype.DrawDebugData=function(){pd(this.e)},F.prototype.QueryAABB=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Lv(o,_o,_i)},F.prototype.RayCast=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);xt(_o,_i,l,t_)},F.prototype.GetBodyList=function(){return q(tt(this.e),v)},F.prototype.GetJointList=function(){return q(pn(this.e),t)},F.prototype.GetContactList=function(){return q(Cu(this.e),G)},F.prototype.SetAllowSleeping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Op(x,o)},F.prototype.GetAllowSleeping=function(){return Ri(this.e)},F.prototype.SetWarmStarting=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Rc(x,o)},F.prototype.GetWarmStarting=function(){return tp(this.e)},F.prototype.SetContinuousPhysics=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);an(x,o)},F.prototype.GetContinuousPhysics=function(){return dl(this.e)},F.prototype.SetSubStepping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qf(x,o)},F.prototype.GetSubStepping=function(){return rr(this.e)},F.prototype.GetProxyCount=function(){return fg(this.e)},F.prototype.GetBodyCount=function(){return hj(this.e)},F.prototype.GetJointCount=function(){return Yn(this.e)},F.prototype.GetContactCount=function(){return wj(this.e)},F.prototype.GetTreeHeight=function(){return $u(this.e)},F.prototype.GetTreeBalance=function(){return Dc(this.e)},F.prototype.GetTreeQuality=function(){return De(this.e)},F.prototype.SetGravity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Wt(x,o)},F.prototype.GetGravity=function(){return q(od(this.e),u)},F.prototype.IsLocked=function(){return wc(this.e)},F.prototype.SetAutoClearForces=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Od(x,o)},F.prototype.GetAutoClearForces=function(){return Rk(this.e)},F.prototype.GetProfile=function(){return q(wu(this.e),A)},F.prototype.Dump=function(){ht(this.e)},F.prototype.__destroy__=function(){yo(this.e)};function H(){c("cannot construct a b2PrismaticJoint, no constructor in IDL")}H.prototype=Object.create(t.prototype),H.prototype.g=H,H.k={},e.b2PrismaticJoint=H,H.prototype.GetLocalAnchorA=function(){return q(Ok(this.e),u)},H.prototype.GetLocalAnchorB=function(){return q(Ho(this.e),u)},H.prototype.GetLocalAxisA=function(){return q(li(this.e),u)},H.prototype.GetReferenceAngle=function(){return Ml(this.e)},H.prototype.GetJointTranslation=function(){return rh(this.e)},H.prototype.GetJointSpeed=function(){return Cn(this.e)},H.prototype.IsLimitEnabled=function(){return tw(this.e)},H.prototype.EnableLimit=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sm(x,o)},H.prototype.GetLowerLimit=function(){return Ge(this.e)},H.prototype.GetUpperLimit=function(){return at(this.e)},H.prototype.SetLimits=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);sd(o,_o,_i)},H.prototype.IsMotorEnabled=function(){return El(this.e)},H.prototype.EnableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Cs(x,o)},H.prototype.SetMotorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Tt(x,o)},H.prototype.GetMotorSpeed=function(){return Kg(this.e)},H.prototype.SetMaxMotorForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$w(x,o)},H.prototype.GetMaxMotorForce=function(){return pq(this.e)},H.prototype.GetMotorForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return dj(x,o)},H.prototype.GetType=function(){return Ve(this.e)},H.prototype.GetBodyA=function(){return q(oq(this.e),v)},H.prototype.GetBodyB=function(){return q(eu(this.e),v)},H.prototype.GetAnchorA=function(){return q(Cl(this.e),u)},H.prototype.GetAnchorB=function(){return q(Im(this.e),u)},H.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(zi(x,o),u)},H.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return kh(x,o)},H.prototype.GetNext=function(){return q(Te(this.e),t)},H.prototype.GetUserData=function(){return is(this.e)},H.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sk(x,o)},H.prototype.IsActive=function(){return Ym(this.e)},H.prototype.GetCollideConnected=function(){return mh(this.e)},H.prototype.__destroy__=function(){Fg(this.e)};function Jx(){c("cannot construct a b2RayCastOutput, no constructor in IDL")}Jx.prototype=Object.create(j.prototype),Jx.prototype.g=Jx,Jx.k={},e.b2RayCastOutput=Jx,Jx.prototype.get_normal=function(){return q(ng(this.e),u)},Jx.prototype.set_normal=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Wh(x,o)},Jx.prototype.get_fraction=function(){return bo(this.e)},Jx.prototype.set_fraction=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ye(x,o)},Jx.prototype.__destroy__=function(){tn(this.e)};function Kx(){c("cannot construct a b2ContactID, no constructor in IDL")}Kx.prototype=Object.create(j.prototype),Kx.prototype.g=Kx,Kx.k={},e.b2ContactID=Kx,Kx.prototype.get_cf=function(){return q(bt(this.e),Gx)},Kx.prototype.set_cf=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Yj(x,o)},Kx.prototype.get_key=function(){return Nv(this.e)},Kx.prototype.set_key=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);dg(x,o)},Kx.prototype.__destroy__=function(){Dm(this.e)};function tx(){c("cannot construct a b2DestructionListenerWrapper, no constructor in IDL")}tx.prototype=Object.create(j.prototype),tx.prototype.g=tx,tx.k={},e.b2DestructionListenerWrapper=tx,tx.prototype.__destroy__=function(){Vw(this.e)};function Lx(){this.e=fx(),p(Lx)[this.e]=this}Lx.prototype=Object.create(Mx.prototype),Lx.prototype.g=Lx,Lx.k={},e.JSContactListener=Lx,Lx.prototype.BeginContact=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);No(x,o)},Lx.prototype.EndContact=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zd(x,o)},Lx.prototype.PreSolve=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Uh(o,_o,_i)},Lx.prototype.PostSolve=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Lq(o,_o,_i)},Lx.prototype.__destroy__=function(){Zk(this.e)};function Nx(V,x,o,_o){V=V&&typeof V=="object"?V.e:r(V),x=x&&typeof x=="object"?x.e:r(x),o=o&&typeof o=="object"?o.e:r(o),_o=_o&&typeof _o=="object"?_o.e:r(_o),this.e=V===d?Wq():x===d?_emscripten_bind_b2Mat22_b2Mat22_1(V):o===d?vs(V,x):_o===d?_emscripten_bind_b2Mat22_b2Mat22_3(V,x,o):zs(V,x,o,_o),p(Nx)[this.e]=this}Nx.prototype=Object.create(j.prototype),Nx.prototype.g=Nx,Nx.k={},e.b2Mat22=Nx,Nx.prototype.Set=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Fr(o,_o,_i)},Nx.prototype.SetIdentity=function(){Xu(this.e)},Nx.prototype.SetZero=function(){Xt(this.e)},Nx.prototype.GetInverse=function(){return q(Bs(this.e),Nx)},Nx.prototype.Solve=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(wp(x,o),u)},Nx.prototype.get_ex=function(){return q(cp(this.e),u)},Nx.prototype.set_ex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gw(x,o)},Nx.prototype.get_ey=function(){return q(Wu(this.e),u)},Nx.prototype.set_ey=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pr(x,o)},Nx.prototype.__destroy__=function(){nv(this.e)};function I(){this.e=Cw(),p(I)[this.e]=this}I.prototype=Object.create(D.prototype),I.prototype.g=I,I.k={},e.b2WheelJointDef=I,I.prototype.Initialize=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Rj(_i,l,t_,o_,i_)},I.prototype.get_localAnchorA=function(){return q(Rl(this.e),u)},I.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zf(x,o)},I.prototype.get_localAnchorB=function(){return q(Wn(this.e),u)},I.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mw(x,o)},I.prototype.get_localAxisA=function(){return q(Ij(this.e),u)},I.prototype.set_localAxisA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Aw(x,o)},I.prototype.get_enableMotor=function(){return Fw(this.e)},I.prototype.set_enableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qe(x,o)},I.prototype.get_maxMotorTorque=function(){return uh(this.e)},I.prototype.set_maxMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xs(x,o)},I.prototype.get_motorSpeed=function(){return ps(this.e)},I.prototype.set_motorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sp(x,o)},I.prototype.get_frequencyHz=function(){return Ac(this.e)},I.prototype.set_frequencyHz=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qr(x,o)},I.prototype.get_dampingRatio=function(){return ao(this.e)},I.prototype.set_dampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);wr(x,o)},I.prototype.get_type=function(){return Gu(this.e)},I.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ce(x,o)},I.prototype.get_userData=function(){return Pv(this.e)},I.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sh(x,o)},I.prototype.get_bodyA=function(){return q(Ww(this.e),v)},I.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fu(x,o)},I.prototype.get_bodyB=function(){return q(Qn(this.e),v)},I.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pe(x,o)},I.prototype.get_collideConnected=function(){return gd(this.e)},I.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mr(x,o)},I.prototype.__destroy__=function(){Wf(this.e)};function Ox(){this.e=yn(),p(Ox)[this.e]=this}Ox.prototype=Object.create(xx.prototype),Ox.prototype.g=Ox,Ox.k={},e.b2CircleShape=Ox,Ox.prototype.GetType=function(){return ai(this.e)},Ox.prototype.GetChildCount=function(){return Jf(this.e)},Ox.prototype.TestPoint=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return Tq(o,_o,_i)},Ox.prototype.RayCast=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Hk(_i,l,t_,o_,i_)},Ox.prototype.ComputeAABB=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);ot(_o,_i,l,t_)},Ox.prototype.ComputeMass=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Oq(o,_o,_i)},Ox.prototype.get_m_p=function(){return q(wh(this.e),u)},Ox.prototype.set_m_p=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);yd(x,o)},Ox.prototype.get_m_type=function(){return Ds(this.e)},Ox.prototype.set_m_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);nf(x,o)},Ox.prototype.get_m_radius=function(){return si(this.e)},Ox.prototype.set_m_radius=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bf(x,o)},Ox.prototype.__destroy__=function(){br(this.e)};function J(){this.e=Jm(),p(J)[this.e]=this}J.prototype=Object.create(D.prototype),J.prototype.g=J,J.k={},e.b2WeldJointDef=J,J.prototype.Initialize=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Et(_o,_i,l,t_)},J.prototype.get_localAnchorA=function(){return q(Lt(this.e),u)},J.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);oj(x,o)},J.prototype.get_localAnchorB=function(){return q(pp(this.e),u)},J.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);af(x,o)},J.prototype.get_referenceAngle=function(){return qs(this.e)},J.prototype.set_referenceAngle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ls(x,o)},J.prototype.get_frequencyHz=function(){return bh(this.e)},J.prototype.set_frequencyHz=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Wr(x,o)},J.prototype.get_dampingRatio=function(){return Fq(this.e)},J.prototype.set_dampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sj(x,o)},J.prototype.get_type=function(){return Xp(this.e)},J.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ns(x,o)},J.prototype.get_userData=function(){return ku(this.e)},J.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Yh(x,o)},J.prototype.get_bodyA=function(){return q(qv(this.e),v)},J.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Cf(x,o)},J.prototype.get_bodyB=function(){return q(bw(this.e),v)},J.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Tv(x,o)},J.prototype.get_collideConnected=function(){return jj(this.e)},J.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Kd(x,o)},J.prototype.__destroy__=function(){vp(this.e)};function Px(){c("cannot construct a b2Draw, no constructor in IDL")}Px.prototype=Object.create(j.prototype),Px.prototype.g=Px,Px.k={},e.b2Draw=Px,Px.prototype.SetFlags=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pe(x,o)},Px.prototype.GetFlags=function(){return xc(this.e)},Px.prototype.AppendFlags=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Au(x,o)},Px.prototype.ClearFlags=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Oi(x,o)},Px.prototype.__destroy__=function(){Qj(this.e)};function Qx(){this.e=kq(),p(Qx)[this.e]=this}Qx.prototype=Object.create(j.prototype),Qx.prototype.g=Qx,Qx.k={},e.b2MassData=Qx,Qx.prototype.get_mass=function(){return ww(this.e)},Qx.prototype.set_mass=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ad(x,o)},Qx.prototype.get_center=function(){return q(Nf(this.e),u)},Qx.prototype.set_center=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Kj(x,o)},Qx.prototype.get_I=function(){return os(this.e)},Qx.prototype.set_I=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);yt(x,o)},Qx.prototype.__destroy__=function(){zt(this.e)};function t(){c("cannot construct a b2Joint, no constructor in IDL")}t.prototype=Object.create(j.prototype),t.prototype.g=t,t.k={},e.b2Joint=t,t.prototype.GetType=function(){return Sw(this.e)},t.prototype.GetBodyA=function(){return q(Sf(this.e),v)},t.prototype.GetBodyB=function(){return q(yw(this.e),v)},t.prototype.GetAnchorA=function(){return q(En(this.e),u)},t.prototype.GetAnchorB=function(){return q(Uj(this.e),u)},t.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Bm(x,o),u)},t.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Bk(x,o)},t.prototype.GetNext=function(){return q(vt(this.e),t)},t.prototype.GetUserData=function(){return Gl(this.e)},t.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cx(x,o)},t.prototype.IsActive=function(){return Yu(this.e)},t.prototype.GetCollideConnected=function(){return Tf(this.e)},t.prototype.Dump=function(){Bw(this.e)};function Rx(){c("cannot construct a b2GearJoint, no constructor in IDL")}Rx.prototype=Object.create(t.prototype),Rx.prototype.g=Rx,Rx.k={},e.b2GearJoint=Rx,Rx.prototype.GetJoint1=function(){return q(Xd(this.e),t)},Rx.prototype.GetJoint2=function(){return q(av(this.e),t)},Rx.prototype.SetRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);eo(x,o)},Rx.prototype.GetRatio=function(){return jg(this.e)},Rx.prototype.GetType=function(){return hw(this.e)},Rx.prototype.GetBodyA=function(){return q(Qm(this.e),v)},Rx.prototype.GetBodyB=function(){return q($q(this.e),v)},Rx.prototype.GetAnchorA=function(){return q($d(this.e),u)},Rx.prototype.GetAnchorB=function(){return q(Mu(this.e),u)},Rx.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Se(x,o),u)},Rx.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Jd(x,o)},Rx.prototype.GetNext=function(){return q(zv(this.e),t)},Rx.prototype.GetUserData=function(){return ef(this.e)},Rx.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);om(x,o)},Rx.prototype.IsActive=function(){return fj(this.e)},Rx.prototype.GetCollideConnected=function(){return ue(this.e)},Rx.prototype.__destroy__=function(){gh(this.e)};function Fx(){c("cannot construct a b2RayCastCallback, no constructor in IDL")}Fx.prototype=Object.create(j.prototype),Fx.prototype.g=Fx,Fx.k={},e.b2RayCastCallback=Fx,Fx.prototype.__destroy__=function(){ii(this.e)};function K(){c("cannot construct a b2WeldJoint, no constructor in IDL")}K.prototype=Object.create(t.prototype),K.prototype.g=K,K.k={},e.b2WeldJoint=K,K.prototype.GetLocalAnchorA=function(){return q(Yl(this.e),u)},K.prototype.GetLocalAnchorB=function(){return q(Rn(this.e),u)},K.prototype.SetFrequency=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Th(x,o)},K.prototype.GetFrequency=function(){return Fl(this.e)},K.prototype.SetDampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Me(x,o)},K.prototype.GetDampingRatio=function(){return lt(this.e)},K.prototype.Dump=function(){lp(this.e)},K.prototype.GetType=function(){return Zo(this.e)},K.prototype.GetBodyA=function(){return q(og(this.e),v)},K.prototype.GetBodyB=function(){return q(Pj(this.e),v)},K.prototype.GetAnchorA=function(){return q($v(this.e),u)},K.prototype.GetAnchorB=function(){return q(Hr(this.e),u)},K.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Zs(x,o),u)},K.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Zc(x,o)},K.prototype.GetNext=function(){return q(Ir(this.e),t)},K.prototype.GetUserData=function(){return Ql(this.e)},K.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);aj(x,o)},K.prototype.IsActive=function(){return Tc(this.e)},K.prototype.GetCollideConnected=function(){return or(this.e)},K.prototype.__destroy__=function(){Kq(this.e)};function Sx(){this.e=Eu(),p(Sx)[this.e]=this}Sx.prototype=Object.create(j.prototype),Sx.prototype.g=Sx,Sx.k={},e.b2JointEdge=Sx,Sx.prototype.get_other=function(){return q(Nt(this.e),v)},Sx.prototype.set_other=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fe(x,o)},Sx.prototype.get_joint=function(){return q(Wv(this.e),t)},Sx.prototype.set_joint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Nc(x,o)},Sx.prototype.get_prev=function(){return q(Yc(this.e),Sx)},Sx.prototype.set_prev=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);jh(x,o)},Sx.prototype.get_next=function(){return q(Qo(this.e),Sx)},Sx.prototype.set_next=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ho(x,o)},Sx.prototype.__destroy__=function(){Lo(this.e)};function L(){this.e=Nd(),p(L)[this.e]=this}L.prototype=Object.create(D.prototype),L.prototype.g=L,L.k={},e.b2PulleyJointDef=L,L.prototype.Initialize=function(i_,_e,l_,ws,h_,s_,B_){var o_=this.e,i_=i_&&typeof i_=="object"?i_.e:r(i_),_e=_e&&typeof _e=="object"?_e.e:r(_e),l_=l_&&typeof l_=="object"?l_.e:r(l_),ws=ws&&typeof ws=="object"?ws.e:r(ws),h_=h_&&typeof h_=="object"?h_.e:r(h_),s_=s_&&typeof s_=="object"?s_.e:r(s_),B_=B_&&typeof B_=="object"?B_.e:r(B_);dw(o_,i_,_e,l_,ws,h_,s_,B_)},L.prototype.get_groundAnchorA=function(){return q(fi(this.e),u)},L.prototype.set_groundAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Yw(x,o)},L.prototype.get_groundAnchorB=function(){return q(Dn(this.e),u)},L.prototype.set_groundAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Js(x,o)},L.prototype.get_localAnchorA=function(){return q(td(this.e),u)},L.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ji(x,o)},L.prototype.get_localAnchorB=function(){return q(Dg(this.e),u)},L.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);nl(x,o)},L.prototype.get_lengthA=function(){return vm(this.e)},L.prototype.set_lengthA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);eh(x,o)},L.prototype.get_lengthB=function(){return $i(this.e)},L.prototype.set_lengthB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ev(x,o)},L.prototype.get_ratio=function(){return lf(this.e)},L.prototype.set_ratio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ih(x,o)},L.prototype.get_type=function(){return xm(this.e)},L.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sl(x,o)},L.prototype.get_userData=function(){return ul(this.e)},L.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);dn(x,o)},L.prototype.get_bodyA=function(){return q(rd(this.e),v)},L.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Rw(x,o)},L.prototype.get_bodyB=function(){return q(Lh(this.e),v)},L.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sg(x,o)},L.prototype.get_collideConnected=function(){return ax(this.e)},L.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Iu(x,o)},L.prototype.__destroy__=function(){Bj(this.e)};function Mx(){c("cannot construct a b2ContactListener, no constructor in IDL")}Mx.prototype=Object.create(j.prototype),Mx.prototype.g=Mx,Mx.k={},e.b2ContactListener=Mx,Mx.prototype.__destroy__=function(){hp(this.e)};function Tx(){this.e=Si(),p(Tx)[this.e]=this}Tx.prototype=Object.create(j.prototype),Tx.prototype.g=Tx,Tx.k={},e.b2ManifoldPoint=Tx,Tx.prototype.get_localPoint=function(){return q(Lf(this.e),u)},Tx.prototype.set_localPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);rt(x,o)},Tx.prototype.get_normalImpulse=function(){return zk(this.e)},Tx.prototype.set_normalImpulse=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Di(x,o)},Tx.prototype.get_tangentImpulse=function(){return Dq(this.e)},Tx.prototype.set_tangentImpulse=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vd(x,o)},Tx.prototype.get_id=function(){return q(Ig(this.e),Kx)},Tx.prototype.set_id=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pn(x,o)},Tx.prototype.__destroy__=function(){xr(this.e)};function Bx(){c("cannot construct a b2QueryCallback, no constructor in IDL")}Bx.prototype=Object.create(j.prototype),Bx.prototype.g=Bx,Bx.k={},e.b2QueryCallback=Bx,Bx.prototype.__destroy__=function(){kf(this.e)};function D(){this.e=xn(),p(D)[this.e]=this}D.prototype=Object.create(j.prototype),D.prototype.g=D,D.k={},e.b2JointDef=D,D.prototype.get_type=function(){return ou(this.e)},D.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zu(x,o)},D.prototype.get_userData=function(){return dq(this.e)},D.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Cq(x,o)},D.prototype.get_bodyA=function(){return q(Ur(this.e),v)},D.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fl(x,o)},D.prototype.get_bodyB=function(){return q(An(this.e),v)},D.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Er(x,o)},D.prototype.get_collideConnected=function(){return Vk(this.e)},D.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);al(x,o)},D.prototype.__destroy__=function(){Gf(this.e)};function Ux(V,x){V=V&&typeof V=="object"?V.e:r(V),x=x&&typeof x=="object"?x.e:r(x),this.e=V===d?Ai():x===d?_emscripten_bind_b2Transform_b2Transform_1(V):Ys(V,x),p(Ux)[this.e]=this}Ux.prototype=Object.create(j.prototype),Ux.prototype.g=Ux,Ux.k={},e.b2Transform=Ux,Ux.prototype.SetIdentity=function(){ir(this.e)},Ux.prototype.Set=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);ni(o,_o,_i)},Ux.prototype.get_p=function(){return q(uu(this.e),u)},Ux.prototype.set_p=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Yi(x,o)},Ux.prototype.get_q=function(){return q(Rd(this.e),Cx)},Ux.prototype.set_q=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Xe(x,o)},Ux.prototype.__destroy__=function(){$e(this.e)};function M(){this.e=jw(),p(M)[this.e]=this}M.prototype=Object.create(xx.prototype),M.prototype.g=M,M.k={},e.b2ChainShape=M,M.prototype.Clear=function(){ar(this.e)},M.prototype.CreateLoop=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);ow(o,_o,_i)},M.prototype.CreateChain=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Cd(o,_o,_i)},M.prototype.SetPrevVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ko(x,o)},M.prototype.SetNextVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ao(x,o)},M.prototype.GetChildEdge=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Ot(o,_o,_i)},M.prototype.GetType=function(){return Om(this.e)},M.prototype.GetChildCount=function(){return jq(this.e)},M.prototype.TestPoint=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return Ll(o,_o,_i)},M.prototype.RayCast=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return $s(_i,l,t_,o_,i_)},M.prototype.ComputeAABB=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Wc(_o,_i,l,t_)},M.prototype.ComputeMass=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);rw(o,_o,_i)},M.prototype.get_m_vertices=function(){return q(le(this.e),u)},M.prototype.set_m_vertices=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ke(x,o)},M.prototype.get_m_count=function(){return rc(this.e)},M.prototype.set_m_count=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Dl(x,o)},M.prototype.get_m_prevVertex=function(){return q(Ph(this.e),u)},M.prototype.set_m_prevVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cs(x,o)},M.prototype.get_m_nextVertex=function(){return q(Zf(this.e),u)},M.prototype.set_m_nextVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zh(x,o)},M.prototype.get_m_hasPrevVertex=function(){return zq(this.e)},M.prototype.set_m_hasPrevVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Eg(x,o)},M.prototype.get_m_hasNextVertex=function(){return zo(this.e)},M.prototype.set_m_hasNextVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);As(x,o)},M.prototype.get_m_type=function(){return ek(this.e)},M.prototype.set_m_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ug(x,o)},M.prototype.get_m_radius=function(){return dt(this.e)},M.prototype.set_m_radius=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ft(x,o)},M.prototype.__destroy__=function(){nm(this.e)};function Vx(V,x,o){V=V&&typeof V=="object"?V.e:r(V),x=x&&typeof x=="object"?x.e:r(x),o=o&&typeof o=="object"?o.e:r(o),this.e=V===d?Ct():x===d?_emscripten_bind_b2Color_b2Color_1(V):o===d?_emscripten_bind_b2Color_b2Color_2(V,x):Bt(V,x,o),p(Vx)[this.e]=this}Vx.prototype=Object.create(j.prototype),Vx.prototype.g=Vx,Vx.k={},e.b2Color=Vx,Vx.prototype.Set=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Bv(_o,_i,l,t_)},Vx.prototype.get_r=function(){return Dd(this.e)},Vx.prototype.set_r=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ze(x,o)},Vx.prototype.get_g=function(){return xp(this.e)},Vx.prototype.set_g=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zc(x,o)},Vx.prototype.get_b=function(){return mt(this.e)},Vx.prototype.set_b=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Am(x,o)},Vx.prototype.__destroy__=function(){Xm(this.e)};function N(){c("cannot construct a b2RopeJoint, no constructor in IDL")}N.prototype=Object.create(t.prototype),N.prototype.g=N,N.k={},e.b2RopeJoint=N,N.prototype.GetLocalAnchorA=function(){return q(Pr(this.e),u)},N.prototype.GetLocalAnchorB=function(){return q(Aj(this.e),u)},N.prototype.SetMaxLength=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bx(x,o)},N.prototype.GetMaxLength=function(){return df(this.e)},N.prototype.GetLimitState=function(){return Uk(this.e)},N.prototype.GetType=function(){return ns(this.e)},N.prototype.GetBodyA=function(){return q(Fv(this.e),v)},N.prototype.GetBodyB=function(){return q(Bl(this.e),v)},N.prototype.GetAnchorA=function(){return q(vj(this.e),u)},N.prototype.GetAnchorB=function(){return q(qf(this.e),u)},N.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(pt(x,o),u)},N.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return fw(x,o)},N.prototype.GetNext=function(){return q(zp(this.e),t)},N.prototype.GetUserData=function(){return lk(this.e)},N.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ts(x,o)},N.prototype.IsActive=function(){return Nu(this.e)},N.prototype.GetCollideConnected=function(){return Ju(this.e)},N.prototype.__destroy__=function(){Cr(this.e)};function Wx(){c("cannot construct a b2RayCastInput, no constructor in IDL")}Wx.prototype=Object.create(j.prototype),Wx.prototype.g=Wx,Wx.k={},e.b2RayCastInput=Wx,Wx.prototype.get_p1=function(){return q(Lc(this.e),u)},Wx.prototype.set_p1=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);iv(x,o)},Wx.prototype.get_p2=function(){return q(Nl(this.e),u)},Wx.prototype.set_p2=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);lg(x,o)},Wx.prototype.get_maxFraction=function(){return Pm(this.e)},Wx.prototype.set_maxFraction=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ro(x,o)},Wx.prototype.__destroy__=function(){wf(this.e)};function O(){this.e=Fj(),p(O)[this.e]=this}O.prototype=Object.create(xx.prototype),O.prototype.g=O,O.k={},e.b2PolygonShape=O,O.prototype.Set=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);ch(o,_o,_i)},O.prototype.SetAsBox=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);o_===d?tv(_i,l,t_):i_===d?_emscripten_bind_b2PolygonShape_SetAsBox_3(_i,l,t_,o_):jn(_i,l,t_,o_,i_)},O.prototype.GetVertexCount=function(){return wq(this.e)},O.prototype.GetVertex=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Is(x,o),u)},O.prototype.GetType=function(){return bi(this.e)},O.prototype.GetChildCount=function(){return Bp(this.e)},O.prototype.TestPoint=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return Dj(o,_o,_i)},O.prototype.RayCast=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Cc(_i,l,t_,o_,i_)},O.prototype.ComputeAABB=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);hm(_o,_i,l,t_)},O.prototype.ComputeMass=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Xl(o,_o,_i)},O.prototype.get_m_centroid=function(){return q(mm(this.e),u)},O.prototype.set_m_centroid=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gn(x,o)},O.prototype.get_m_count=function(){return wd(this.e)},O.prototype.set_m_count=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Td(x,o)},O.prototype.get_m_type=function(){return Vp(this.e)},O.prototype.set_m_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);vv(x,o)},O.prototype.get_m_radius=function(){return kk(this.e)},O.prototype.set_m_radius=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);dx(x,o)},O.prototype.__destroy__=function(){Ye(this.e)};function P(){this.e=Hq(),p(P)[this.e]=this}P.prototype=Object.create(xx.prototype),P.prototype.g=P,P.k={},e.b2EdgeShape=P,P.prototype.Set=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Su(o,_o,_i)},P.prototype.GetType=function(){return vr(this.e)},P.prototype.GetChildCount=function(){return ld(this.e)},P.prototype.TestPoint=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return lm(o,_o,_i)},P.prototype.RayCast=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return lj(_i,l,t_,o_,i_)},P.prototype.ComputeAABB=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Kr(_o,_i,l,t_)},P.prototype.ComputeMass=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);vu(o,_o,_i)},P.prototype.get_m_vertex1=function(){return q($l(this.e),u)},P.prototype.set_m_vertex1=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bv(x,o)},P.prototype.get_m_vertex2=function(){return q(kn(this.e),u)},P.prototype.set_m_vertex2=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);kr(x,o)},P.prototype.get_m_vertex0=function(){return q(gj(this.e),u)},P.prototype.set_m_vertex0=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zi(x,o)},P.prototype.get_m_vertex3=function(){return q(gr(this.e),u)},P.prototype.set_m_vertex3=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ej(x,o)},P.prototype.get_m_hasVertex0=function(){return Em(this.e)},P.prototype.set_m_hasVertex0=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cf(x,o)},P.prototype.get_m_hasVertex3=function(){return tk(this.e)},P.prototype.set_m_hasVertex3=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Mc(x,o)},P.prototype.get_m_type=function(){return Wd(this.e)},P.prototype.set_m_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Cv(x,o)},P.prototype.get_m_radius=function(){return pw(this.e)},P.prototype.set_m_radius=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ts(x,o)},P.prototype.__destroy__=function(){uj(this.e)};function Xx(){this.e=jt(),p(Xx)[this.e]=this}Xx.prototype=Object.create(Yx.prototype),Xx.prototype.g=Xx,Xx.k={},e.JSContactFilter=Xx,Xx.prototype.ShouldCollide=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return Ak(o,_o,_i)},Xx.prototype.__destroy__=function(){jk(this.e)};function Q(){this.e=mn(),p(Q)[this.e]=this}Q.prototype=Object.create(D.prototype),Q.prototype.g=Q,Q.k={},e.b2RevoluteJointDef=Q,Q.prototype.Initialize=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Qu(_o,_i,l,t_)},Q.prototype.get_localAnchorA=function(){return q(ed(this.e),u)},Q.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fh(x,o)},Q.prototype.get_localAnchorB=function(){return q(hk(this.e),u)},Q.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sn(x,o)},Q.prototype.get_referenceAngle=function(){return ik(this.e)},Q.prototype.set_referenceAngle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fq(x,o)},Q.prototype.get_enableLimit=function(){return ri(this.e)},Q.prototype.set_enableLimit=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);up(x,o)},Q.prototype.get_lowerAngle=function(){return Hl(this.e)},Q.prototype.set_lowerAngle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ko(x,o)},Q.prototype.get_upperAngle=function(){return ve(this.e)},Q.prototype.set_upperAngle=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Lm(x,o)},Q.prototype.get_enableMotor=function(){return ep(this.e)},Q.prototype.set_enableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vi(x,o)},Q.prototype.get_motorSpeed=function(){return mg(this.e)},Q.prototype.set_motorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Dw(x,o)},Q.prototype.get_maxMotorTorque=function(){return Eq(this.e)},Q.prototype.set_maxMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sv(x,o)},Q.prototype.get_type=function(){return Mm(this.e)},Q.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ck(x,o)},Q.prototype.get_userData=function(){return Hn(this.e)},Q.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);dd(x,o)},Q.prototype.get_bodyA=function(){return q(du(this.e),v)},Q.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Rq(x,o)},Q.prototype.get_bodyB=function(){return q(qk(this.e),v)},Q.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vg(x,o)},Q.prototype.get_collideConnected=function(){return Ks(this.e)},Q.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);eg(x,o)},Q.prototype.__destroy__=function(){Hp(this.e)};function Zx(){this.e=su(),p(Zx)[this.e]=this}Zx.prototype=Object.create(Px.prototype),Zx.prototype.g=Zx,Zx.k={},e.JSDraw=Zx,Zx.prototype.DrawPolygon=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);fo(_o,_i,l,t_)},Zx.prototype.DrawSolidPolygon=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);vg(_o,_i,l,t_)},Zx.prototype.DrawCircle=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Sc(_o,_i,l,t_)},Zx.prototype.DrawSolidCircle=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Fc(_i,l,t_,o_,i_)},Zx.prototype.DrawSegment=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);id(_o,_i,l,t_)},Zx.prototype.DrawTransform=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);uo(x,o)},Zx.prototype.__destroy__=function(){yg(this.e)};function R(){c("cannot construct a b2WheelJoint, no constructor in IDL")}R.prototype=Object.create(t.prototype),R.prototype.g=R,R.k={},e.b2WheelJoint=R,R.prototype.GetLocalAnchorA=function(){return q(ug(this.e),u)},R.prototype.GetLocalAnchorB=function(){return q(Ff(this.e),u)},R.prototype.GetLocalAxisA=function(){return q(Dv(this.e),u)},R.prototype.GetJointTranslation=function(){return Rs(this.e)},R.prototype.GetJointSpeed=function(){return hg(this.e)},R.prototype.IsMotorEnabled=function(){return Vf(this.e)},R.prototype.EnableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);tg(x,o)},R.prototype.SetMotorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ie(x,o)},R.prototype.GetMotorSpeed=function(){return Zn(this.e)},R.prototype.SetMaxMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Hj(x,o)},R.prototype.GetMaxMotorTorque=function(){return Yd(this.e)},R.prototype.GetMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Ss(x,o)},R.prototype.SetSpringFrequencyHz=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xi(x,o)},R.prototype.GetSpringFrequencyHz=function(){return Iw(this.e)},R.prototype.SetSpringDampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Gp(x,o)},R.prototype.GetSpringDampingRatio=function(){return pc(this.e)},R.prototype.GetType=function(){return wv(this.e)},R.prototype.GetBodyA=function(){return q(to(this.e),v)},R.prototype.GetBodyB=function(){return q(Wm(this.e),v)},R.prototype.GetAnchorA=function(){return q(ds(this.e),u)},R.prototype.GetAnchorB=function(){return q(Ii(this.e),u)},R.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Pf(x,o),u)},R.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return ln(x,o)},R.prototype.GetNext=function(){return q(un(this.e),t)},R.prototype.GetUserData=function(){return oo(this.e)},R.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Rt(x,o)},R.prototype.IsActive=function(){return Vs(this.e)},R.prototype.GetCollideConnected=function(){return Fp(this.e)},R.prototype.__destroy__=function(){xw(this.e)};function S(){c("cannot construct a b2PulleyJoint, no constructor in IDL")}S.prototype=Object.create(t.prototype),S.prototype.g=S,S.k={},e.b2PulleyJoint=S,S.prototype.GetGroundAnchorA=function(){return q(Hd(this.e),u)},S.prototype.GetGroundAnchorB=function(){return q(Ng(this.e),u)},S.prototype.GetLengthA=function(){return vo(this.e)},S.prototype.GetLengthB=function(){return Lk(this.e)},S.prototype.GetRatio=function(){return Mo(this.e)},S.prototype.GetCurrentLengthA=function(){return xl(this.e)},S.prototype.GetCurrentLengthB=function(){return rj(this.e)},S.prototype.GetType=function(){return nj(this.e)},S.prototype.GetBodyA=function(){return q(Mq(this.e),v)},S.prototype.GetBodyB=function(){return q(Be(this.e),v)},S.prototype.GetAnchorA=function(){return q(kv(this.e),u)},S.prototype.GetAnchorB=function(){return q(Bh(this.e),u)},S.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Ep(x,o),u)},S.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return iu(x,o)},S.prototype.GetNext=function(){return q(dk(this.e),t)},S.prototype.GetUserData=function(){return em(this.e)},S.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qc(x,o)},S.prototype.IsActive=function(){return Wi(this.e)},S.prototype.GetCollideConnected=function(){return Ah(this.e)},S.prototype.__destroy__=function(){Go(this.e)};function T(){this.e=Yp(),p(T)[this.e]=this}T.prototype=Object.create(D.prototype),T.prototype.g=T,T.k={},e.b2MouseJointDef=T,T.prototype.get_target=function(){return q(bn(this.e),u)},T.prototype.set_target=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);he(x,o)},T.prototype.get_maxForce=function(){return Ip(this.e)},T.prototype.set_maxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sq(x,o)},T.prototype.get_frequencyHz=function(){return aq(this.e)},T.prototype.set_frequencyHz=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ct(x,o)},T.prototype.get_dampingRatio=function(){return Sg(this.e)},T.prototype.set_dampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fp(x,o)},T.prototype.get_type=function(){return Zw(this.e)},T.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Xc(x,o)},T.prototype.get_userData=function(){return nt(this.e)},T.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hd(x,o)},T.prototype.get_bodyA=function(){return q(il(this.e),v)},T.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);be(x,o)},T.prototype.get_bodyB=function(){return q(Zg(this.e),v)},T.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$h(x,o)},T.prototype.get_collideConnected=function(){return sf(this.e)},T.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);zw(x,o)},T.prototype.__destroy__=function(){zg(this.e)};function G(){c("cannot construct a b2Contact, no constructor in IDL")}G.prototype=Object.create(j.prototype),G.prototype.g=G,G.k={},e.b2Contact=G,G.prototype.GetManifold=function(){return q(Jt(this.e),Ix)},G.prototype.IsTouching=function(){return Oe(this.e)},G.prototype.SetEnabled=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$f(x,o)},G.prototype.IsEnabled=function(){return Tj(this.e)},G.prototype.GetNext=function(){return q(Ud(this.e),G)},G.prototype.GetFixtureA=function(){return q(jf(this.e),w)},G.prototype.GetChildIndexA=function(){return Yt(this.e)},G.prototype.GetFixtureB=function(){return q(qw(this.e),w)},G.prototype.GetChildIndexB=function(){return tr(this.e)},G.prototype.SetFriction=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Sr(x,o)},G.prototype.GetFriction=function(){return Hi(this.e)},G.prototype.ResetFriction=function(){jv(this.e)},G.prototype.SetRestitution=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);er(x,o)},G.prototype.GetRestitution=function(){return Fn(this.e)},G.prototype.ResetRestitution=function(){Qi(this.e)},G.prototype.SetTangentSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Lj(x,o)},G.prototype.GetTangentSpeed=function(){return Nn(this.e)};function xx(){c("cannot construct a b2Shape, no constructor in IDL")}xx.prototype=Object.create(j.prototype),xx.prototype.g=xx,xx.k={},e.b2Shape=xx,xx.prototype.GetType=function(){return ro(this.e)},xx.prototype.GetChildCount=function(){return Ft(this.e)},xx.prototype.TestPoint=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return $g(o,_o,_i)},xx.prototype.RayCast=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);return Gd(_i,l,t_,o_,i_)},xx.prototype.ComputeAABB=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);tc(_o,_i,l,t_)},xx.prototype.ComputeMass=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);ut(o,_o,_i)},xx.prototype.get_m_type=function(){return Pk(this.e)},xx.prototype.set_m_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qs(x,o)},xx.prototype.get_m_radius=function(){return Jr(this.e)},xx.prototype.set_m_radius=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ag(x,o)},xx.prototype.__destroy__=function(){zm(this.e)};function U(){this.e=fn(),p(U)[this.e]=this}U.prototype=Object.create(D.prototype),U.prototype.g=U,U.k={},e.b2DistanceJointDef=U,U.prototype.Initialize=function(l,t_,o_,i_){var _i=this.e,l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_),o_=o_&&typeof o_=="object"?o_.e:r(o_),i_=i_&&typeof i_=="object"?i_.e:r(i_);Kn(_i,l,t_,o_,i_)},U.prototype.get_localAnchorA=function(){return q(Jj(this.e),u)},U.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Nw(x,o)},U.prototype.get_localAnchorB=function(){return q(Pq(this.e),u)},U.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xk(x,o)},U.prototype.get_length=function(){return Ae(this.e)},U.prototype.set_length=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ji(x,o)},U.prototype.get_frequencyHz=function(){return wo(this.e)},U.prototype.set_frequencyHz=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gk(x,o)},U.prototype.get_dampingRatio=function(){return nk(this.e)},U.prototype.set_dampingRatio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Qg(x,o)},U.prototype.get_type=function(){return Ni(this.e)},U.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Jq(x,o)},U.prototype.get_userData=function(){return ad(this.e)},U.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);yj(x,o)},U.prototype.get_bodyA=function(){return q(Bf(this.e),v)},U.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ls(x,o)},U.prototype.get_bodyB=function(){return q(mv(this.e),v)},U.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);hq(x,o)},U.prototype.get_collideConnected=function(){return eq(this.e)},U.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gu(x,o)},U.prototype.__destroy__=function(){xu(this.e)};function v(){c("cannot construct a b2Body, no constructor in IDL")}v.prototype=Object.create(j.prototype),v.prototype.g=v,v.k={},e.b2Body=v,v.prototype.CreateFixture=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);return q(_i===d?cm(o,_o):dm(o,_o,_i),w)},v.prototype.DestroyFixture=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Un(x,o)},v.prototype.SetTransform=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);pf(o,_o,_i)},v.prototype.GetTransform=function(){return q($t(this.e),Ux)},v.prototype.GetPosition=function(){return q(Dh(this.e),u)},v.prototype.GetAngle=function(){return Ru(this.e)},v.prototype.GetWorldCenter=function(){return q(Yk(this.e),u)},v.prototype.GetLocalCenter=function(){return q(Xv(this.e),u)},v.prototype.SetLinearVelocity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sl(x,o)},v.prototype.GetLinearVelocity=function(){return q(et(this.e),u)},v.prototype.SetAngularVelocity=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ov(x,o)},v.prototype.GetAngularVelocity=function(){return Oj(this.e)},v.prototype.ApplyForce=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);St(_o,_i,l,t_)},v.prototype.ApplyForceToCenter=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);xf(o,_o,_i)},v.prototype.ApplyTorque=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);In(o,_o,_i)},v.prototype.ApplyLinearImpulse=function(_i,l,t_){var _o=this.e,_i=_i&&typeof _i=="object"?_i.e:r(_i),l=l&&typeof l=="object"?l.e:r(l),t_=t_&&typeof t_=="object"?t_.e:r(t_);Wl(_o,_i,l,t_)},v.prototype.ApplyAngularImpulse=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);we(o,_o,_i)},v.prototype.GetMass=function(){return Co(this.e)},v.prototype.GetInertia=function(){return ks(this.e)},v.prototype.GetMassData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Zh(x,o)},v.prototype.SetMassData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ke(x,o)},v.prototype.ResetMassData=function(){Xr(this.e)},v.prototype.GetWorldPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(yk(x,o),u)},v.prototype.GetWorldVector=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(ah(x,o),u)},v.prototype.GetLocalPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(lh(x,o),u)},v.prototype.GetLocalVector=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Rm(x,o),u)},v.prototype.GetLinearVelocityFromWorldPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(nr(x,o),u)},v.prototype.GetLinearVelocityFromLocalPoint=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Vq(x,o),u)},v.prototype.GetLinearDamping=function(){return Vr(this.e)},v.prototype.SetLinearDamping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vm(x,o)},v.prototype.GetAngularDamping=function(){return $n(this.e)},v.prototype.SetAngularDamping=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);cw(x,o)},v.prototype.GetGravityScale=function(){return Wg(this.e)},v.prototype.SetGravityScale=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);sm(x,o)},v.prototype.SetType=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Bo(x,o)},v.prototype.GetType=function(){return Gr(this.e)},v.prototype.SetBullet=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);jl(x,o)},v.prototype.IsBullet=function(){return Tl(this.e)},v.prototype.SetSleepingAllowed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Lg(x,o)},v.prototype.IsSleepingAllowed=function(){return rq(this.e)},v.prototype.SetAwake=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fv(x,o)},v.prototype.IsAwake=function(){return ee(this.e)},v.prototype.SetActive=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);fm(x,o)},v.prototype.IsActive=function(){return Pi(this.e)},v.prototype.SetFixedRotation=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vh(x,o)},v.prototype.IsFixedRotation=function(){return Fi(this.e)},v.prototype.GetFixtureList=function(){return q(dp(this.e),w)},v.prototype.GetJointList=function(){return q(Kw(this.e),Sx)},v.prototype.GetContactList=function(){return q(Ei(this.e),$x)},v.prototype.GetNext=function(){return q(Ev(this.e),v)},v.prototype.GetUserData=function(){return cl(this.e)},v.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pw(x,o)},v.prototype.GetWorld=function(){return q(cv(this.e),F)},v.prototype.Dump=function(){Wk(this.e)};function W(){c("cannot construct a b2FrictionJoint, no constructor in IDL")}W.prototype=Object.create(t.prototype),W.prototype.g=W,W.k={},e.b2FrictionJoint=W,W.prototype.GetLocalAnchorA=function(){return q(op(this.e),u)},W.prototype.GetLocalAnchorB=function(){return q(Li(this.e),u)},W.prototype.SetMaxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);lu(x,o)},W.prototype.GetMaxForce=function(){return Sd(this.e)},W.prototype.SetMaxTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$p(x,o)},W.prototype.GetMaxTorque=function(){return kj(this.e)},W.prototype.GetType=function(){return Pg(this.e)},W.prototype.GetBodyA=function(){return q(Lw(this.e),v)},W.prototype.GetBodyB=function(){return q(Af(this.e),v)},W.prototype.GetAnchorA=function(){return q(ms(this.e),u)},W.prototype.GetAnchorB=function(){return q(Kv(this.e),u)},W.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Iq(x,o),u)},W.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return km(x,o)},W.prototype.GetNext=function(){return q(fs(this.e),t)},W.prototype.GetUserData=function(){return Rr(this.e)},W.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);bq(x,o)},W.prototype.IsActive=function(){return yc(this.e)},W.prototype.GetCollideConnected=function(){return Rp(this.e)},W.prototype.__destroy__=function(){kp(this.e)};function ay(){c("cannot construct a b2DestructionListener, no constructor in IDL")}ay.prototype=Object.create(j.prototype),ay.prototype.g=ay,ay.k={},e.b2DestructionListener=ay,ay.prototype.__destroy__=function(){Uc(this.e)};function X(){this.e=zn(),p(X)[this.e]=this}X.prototype=Object.create(D.prototype),X.prototype.g=X,X.k={},e.b2GearJointDef=X,X.prototype.get_joint1=function(){return q(cj(this.e),t)},X.prototype.set_joint1=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);jr(x,o)},X.prototype.get_joint2=function(){return q(bg(this.e),t)},X.prototype.set_joint2=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ku(x,o)},X.prototype.get_ratio=function(){return Cp(this.e)},X.prototype.set_ratio=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Gj(x,o)},X.prototype.get_type=function(){return Nm(this.e)},X.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);gf(x,o)},X.prototype.get_userData=function(){return wi(this.e)},X.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);nw(x,o)},X.prototype.get_bodyA=function(){return q(fk(this.e),v)},X.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ui(x,o)},X.prototype.get_bodyB=function(){return q(Xg(this.e),v)},X.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ew(x,o)},X.prototype.get_collideConnected=function(){return gl(this.e)},X.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Pt(x,o)},X.prototype.__destroy__=function(){Qq(this.e)};function Y(){c("cannot construct a b2RevoluteJoint, no constructor in IDL")}Y.prototype=Object.create(t.prototype),Y.prototype.g=Y,Y.k={},e.b2RevoluteJoint=Y,Y.prototype.GetLocalAnchorA=function(){return q(Gc(this.e),u)},Y.prototype.GetLocalAnchorB=function(){return q(it(this.e),u)},Y.prototype.GetReferenceAngle=function(){return tl(this.e)},Y.prototype.GetJointAngle=function(){return hh(this.e)},Y.prototype.GetJointSpeed=function(){return Ef(this.e)},Y.prototype.IsLimitEnabled=function(){return Qv(this.e)},Y.prototype.EnableLimit=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ol(x,o)},Y.prototype.GetLowerLimit=function(){return Xk(this.e)},Y.prototype.GetUpperLimit=function(){return oe(this.e)},Y.prototype.SetLimits=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);Ms(o,_o,_i)},Y.prototype.IsMotorEnabled=function(){return ge(this.e)},Y.prototype.EnableMotor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Jp(x,o)},Y.prototype.SetMotorSpeed=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xo(x,o)},Y.prototype.GetMotorSpeed=function(){return Tg(this.e)},Y.prototype.SetMaxMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);kw(x,o)},Y.prototype.GetMaxMotorTorque=function(){return vk(this.e)},Y.prototype.GetMotorTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Jc(x,o)},Y.prototype.GetType=function(){return Tn(this.e)},Y.prototype.GetBodyA=function(){return q(Xj(this.e),v)},Y.prototype.GetBodyB=function(){return q(ol(this.e),v)},Y.prototype.GetAnchorA=function(){return q(bs(this.e),u)},Y.prototype.GetAnchorB=function(){return q(ov(this.e),u)},Y.prototype.GetReactionForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return q(Hu(x,o),u)},Y.prototype.GetReactionTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);return Nh(x,o)},Y.prototype.GetNext=function(){return q(pv(this.e),t)},Y.prototype.GetUserData=function(){return ti(this.e)},Y.prototype.SetUserData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Uv(x,o)},Y.prototype.IsActive=function(){return yv(this.e)},Y.prototype.GetCollideConnected=function(){return ru(this.e)},Y.prototype.__destroy__=function(){Md(this.e)};function Yx(){c("cannot construct a b2ContactFilter, no constructor in IDL")}Yx.prototype=Object.create(j.prototype),Yx.prototype.g=Yx,Yx.k={},e.b2ContactFilter=Yx,Yx.prototype.__destroy__=function(){Cg(this.e)};function $x(){this.e=Fs(),p($x)[this.e]=this}$x.prototype=Object.create(j.prototype),$x.prototype.g=$x,$x.k={},e.b2ContactEdge=$x,$x.prototype.get_other=function(){return q(zj(this.e),v)},$x.prototype.set_other=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qj(x,o)},$x.prototype.get_contact=function(){return q(Gn(this.e),G)},$x.prototype.set_contact=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qi(x,o)},$x.prototype.get_prev=function(){return q(Fh(this.e),$x)},$x.prototype.set_prev=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);$j(x,o)},$x.prototype.get_next=function(){return q(lr(this.e),$x)},$x.prototype.set_next=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);qc(x,o)},$x.prototype.__destroy__=function(){au(this.e)};function Z(){this.e=Dk(),p(Z)[this.e]=this}Z.prototype=Object.create(D.prototype),Z.prototype.g=Z,Z.k={},e.b2RopeJointDef=Z,Z.prototype.get_localAnchorA=function(){return q(pi(this.e),u)},Z.prototype.set_localAnchorA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Bc(x,o)},Z.prototype.get_localAnchorB=function(){return q(cd(this.e),u)},Z.prototype.set_localAnchorB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);lw(x,o)},Z.prototype.get_maxLength=function(){return hl(this.e)},Z.prototype.set_maxLength=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Kl(x,o)},Z.prototype.get_type=function(){return Nq(this.e)},Z.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ql(x,o)},Z.prototype.get_userData=function(){return nh(this.e)},Z.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Xo(x,o)},Z.prototype.get_bodyA=function(){return q(mk(this.e),v)},Z.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);yu(x,o)},Z.prototype.get_bodyB=function(){return q(uw(this.e),v)},Z.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Fe(x,o)},Z.prototype.get_collideConnected=function(){return di(this.e)},Z.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xd(x,o)},Z.prototype.__destroy__=function(){Us(this.e)};function $(){this.e=yh(),p($)[this.e]=this}$.prototype=Object.create(D.prototype),$.prototype.g=$,$.k={},e.b2MotorJointDef=$,$.prototype.Initialize=function(_o,_i){var o=this.e,_o=_o&&typeof _o=="object"?_o.e:r(_o),_i=_i&&typeof _i=="object"?_i.e:r(_i);kd(o,_o,_i)},$.prototype.get_linearOffset=function(){return q(Gm(this.e),u)},$.prototype.set_linearOffset=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Oo(x,o)},$.prototype.get_angularOffset=function(){return Qt(this.e)},$.prototype.set_angularOffset=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);ph(x,o)},$.prototype.get_maxForce=function(){return $c(this.e)},$.prototype.set_maxForce=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);pg(x,o)},$.prototype.get_maxTorque=function(){return Uq(this.e)},$.prototype.set_maxTorque=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Uu(x,o)},$.prototype.get_correctionFactor=function(){return Av(this.e)},$.prototype.set_correctionFactor=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);xj(x,o)},$.prototype.get_type=function(){return Or(this.e)},$.prototype.set_type=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Kc(x,o)},$.prototype.get_userData=function(){return Bu(this.e)},$.prototype.set_userData=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Vd(x,o)},$.prototype.get_bodyA=function(){return q(Ew(this.e),v)},$.prototype.set_bodyA=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Ul(x,o)},$.prototype.get_bodyB=function(){return q(Fk(this.e),v)},$.prototype.set_bodyB=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);Xs(x,o)},$.prototype.get_collideConnected=function(){return ne(this.e)},$.prototype.set_collideConnected=function(o){var x=this.e,o=o&&typeof o=="object"?o.e:r(o);us(x,o)},$.prototype.__destroy__=function(){Os(this.e)},e.b2Shape.e_circle=Sk(),e.b2Shape.e_edge=uk(),e.b2Shape.e_polygon=Oc(),e.b2Shape.e_chain=Hh(),e.b2Shape.e_typeCount=of(),e.e_unknownJoint=Gv(),e.e_revoluteJoint=ce(),e.e_prismaticJoint=yr(),e.e_distanceJoint=Fo(),e.e_pulleyJoint=Yf(),e.e_mouseJoint=ae(),e.e_gearJoint=Gt(),e.e_wheelJoint=Zr(),e.e_weldJoint=$m(),e.e_frictionJoint=xe(),e.e_ropeJoint=rs(),e.e_motorJoint=Po(),e.e_inactiveLimit=dv(),e.e_atLowerLimit=On(),e.e_atUpperLimit=Xw(),e.e_equalLimits=Ci(),e.b2Manifold.e_circles=co(),e.b2Manifold.e_faceA=ok(),e.b2Manifold.e_faceB=pk(),e.b2_staticBody=Km(),e.b2_kinematicBody=Yq(),e.b2_dynamicBody=Sq(),e.b2Draw.e_shapeBit=Gi(),e.b2Draw.e_jointBit=qg(),e.b2Draw.e_aabbBit=Pu(),e.b2Draw.e_pairBit=jp(),e.b2Draw.e_centerOfMassBit=iw(),e.b2ContactFeature.e_vertex=Ih(),e.b2ContactFeature.e_face=tm(),this.Box2D=e}).call(c);module.exports=c.Box2D});var iF=fV((E6,oF)=>{(function(V,x){typeof E6=="object"&&typeof oF<"u"?x(E6):typeof define=="function"&&define.amd?define(["exports"],x):(V=V||self,x(V.box2d={}))})(E6,function(V){"use strict";function x(i2,..._n){if(!i2)throw new Error(..._n)}function o(i2,_n){return i2!==void 0?i2:_n}let _o=1e37,_i=1e-5,l=_i*_i,t_=3.14159265359,o_=2,i_=8,_e=.1,l_=2,ws=.008,h_=2/180*t_,s_=2*ws,B_=8,D_=32,y_=1,G_=.2,q_=8/180*t_,j_=2,_2=j_*j_,m2=.5*t_,y2=m2*m2,I2=.2,J2=.75,z2=-1,K2=2147483647,$2=.75,P_=1,E_=.25,Z_=.5,N_=2,s2=N_*N_,u2=256,p2=2.5,v_=.5,F_=.01,$_=2/180*t_;function C_(i2){return null}function W_(i2){}function t2(i2,..._n){}class l2{constructor(_n=0,r_=0,p_=0){this.major=0,this.minor=0,this.revision=0,this.major=_n,this.minor=r_,this.revision=p_}toString(){return this.major+"."+this.minor+"."+this.revision}}let D2=new l2(2,3,2),G2="master",E2="fbf51801d80fc389d43dc46524520e89043b6faf";function V2(i2){return parseInt(i2,10)}function F2(i2){return Math.abs(parseInt(i2,10))}function U2(i2,_n){let r_=new Array(i2);for(let p_=0;p_<i2;++p_)r_[p_]=_n(p_);return r_}function Na(i2){let _n=new Array(i2);for(let r_=0;r_<i2;++r_)_n[r_]=null;return _n}function g0(i2,_n=0){let r_=new Array(i2);for(let p_=0;p_<i2;++p_)r_[p_]=_n;return r_}let n0=t_/180,J0=180/t_,j0=2*t_,V0=Math.abs;function k0(i2,_n){return i2<_n?i2:_n}function F0(i2,_n){return i2>_n?i2:_n}function My(i2,_n,r_){return i2<_n?_n:i2>r_?r_:i2}function zP(i2,_n){let r_=i2[0];i2[0]=_n[0],_n[0]=r_}let KV=isFinite;function T2(i2){return i2*i2}function xB(i2){return 1/Math.sqrt(i2)}let dS=Math.sqrt,WP=Math.pow;function NP(i2){return i2*n0}function QV(i2){return i2*J0}let $V=Math.cos,OP=Math.sin,t4=Math.acos,NB=Math.asin,OB=Math.atan2;function e4(i2){return i2|=i2>>1&2147483647,i2|=i2>>2&1073741823,i2|=i2>>4&268435455,i2|=i2>>8&16777215,i2|=i2>>16&65535,i2+1}function o4(i2){return i2>0&&(i2&i2-1)===0}function UP(){return Math.random()*2-1}function i4(i2,_n){return(_n-i2)*Math.random()+i2}class a_{constructor(..._n){if(_n[0]instanceof Float32Array){if(_n[0].length!==2)throw new Error;this.data=_n[0]}else{let r_=typeof _n[0]=="number"?_n[0]:0,p_=typeof _n[1]=="number"?_n[1]:0;this.data=new Float32Array([r_,p_])}}get x(){return this.data[0]}set x(_n){this.data[0]=_n}get y(){return this.data[1]}set y(_n){this.data[1]=_n}Clone(){return new a_(this.x,this.y)}SetZero(){return this.x=0,this.y=0,this}Set(_n,r_){return this.x=_n,this.y=r_,this}Copy(_n){return this.x=_n.x,this.y=_n.y,this}SelfAdd(_n){return this.x+=_n.x,this.y+=_n.y,this}SelfAddXY(_n,r_){return this.x+=_n,this.y+=r_,this}SelfSub(_n){return this.x-=_n.x,this.y-=_n.y,this}SelfSubXY(_n,r_){return this.x-=_n,this.y-=r_,this}SelfMul(_n){return this.x*=_n,this.y*=_n,this}SelfMulAdd(_n,r_){return this.x+=_n*r_.x,this.y+=_n*r_.y,this}SelfMulSub(_n,r_){return this.x-=_n*r_.x,this.y-=_n*r_.y,this}Dot(_n){return this.x*_n.x+this.y*_n.y}Cross(_n){return this.x*_n.y-this.y*_n.x}Length(){let _n=this.x,r_=this.y;return Math.sqrt(_n*_n+r_*r_)}LengthSquared(){let _n=this.x,r_=this.y;return _n*_n+r_*r_}Normalize(){let _n=this.Length();if(_n>=_i){let r_=1/_n;this.x*=r_,this.y*=r_}return _n}SelfNormalize(){let _n=this.Length();if(_n>=_i){let r_=1/_n;this.x*=r_,this.y*=r_}return this}SelfRotate(_n){let r_=Math.cos(_n),p_=Math.sin(_n),b_=this.x;return this.x=r_*b_-p_*this.y,this.y=p_*b_+r_*this.y,this}SelfRotateCosSin(_n,r_){let p_=this.x;return this.x=_n*p_-r_*this.y,this.y=r_*p_+_n*this.y,this}IsValid(){return isFinite(this.x)&&isFinite(this.y)}SelfCrossVS(_n){let r_=this.x;return this.x=_n*this.y,this.y=-_n*r_,this}SelfCrossSV(_n){let r_=this.x;return this.x=-_n*this.y,this.y=_n*r_,this}SelfMinV(_n){return this.x=k0(this.x,_n.x),this.y=k0(this.y,_n.y),this}SelfMaxV(_n){return this.x=F0(this.x,_n.x),this.y=F0(this.y,_n.y),this}SelfAbs(){return this.x=V0(this.x),this.y=V0(this.y),this}SelfNeg(){return this.x=-this.x,this.y=-this.y,this}SelfSkew(){let _n=this.x;return this.x=-this.y,this.y=_n,this}static MakeArray(_n){return U2(_n,r_=>new a_)}static AbsV(_n,r_){return r_.x=V0(_n.x),r_.y=V0(_n.y),r_}static MinV(_n,r_,p_){return p_.x=k0(_n.x,r_.x),p_.y=k0(_n.y,r_.y),p_}static MaxV(_n,r_,p_){return p_.x=F0(_n.x,r_.x),p_.y=F0(_n.y,r_.y),p_}static ClampV(_n,r_,p_,b_){return b_.x=My(_n.x,r_.x,p_.x),b_.y=My(_n.y,r_.y,p_.y),b_}static RotateV(_n,r_,p_){let b_=_n.x,d_=_n.y,S_=Math.cos(r_),T_=Math.sin(r_);return p_.x=S_*b_-T_*d_,p_.y=T_*b_+S_*d_,p_}static DotVV(_n,r_){return _n.x*r_.x+_n.y*r_.y}static CrossVV(_n,r_){return _n.x*r_.y-_n.y*r_.x}static CrossVS(_n,r_,p_){let b_=_n.x;return p_.x=r_*_n.y,p_.y=-r_*b_,p_}static CrossVOne(_n,r_){let p_=_n.x;return r_.x=_n.y,r_.y=-p_,r_}static CrossSV(_n,r_,p_){let b_=r_.x;return p_.x=-_n*r_.y,p_.y=_n*b_,p_}static CrossOneV(_n,r_){let p_=_n.x;return r_.x=-_n.y,r_.y=p_,r_}static AddVV(_n,r_,p_){return p_.x=_n.x+r_.x,p_.y=_n.y+r_.y,p_}static SubVV(_n,r_,p_){return p_.x=_n.x-r_.x,p_.y=_n.y-r_.y,p_}static MulSV(_n,r_,p_){return p_.x=r_.x*_n,p_.y=r_.y*_n,p_}static MulVS(_n,r_,p_){return p_.x=_n.x*r_,p_.y=_n.y*r_,p_}static AddVMulSV(_n,r_,p_,b_){return b_.x=_n.x+r_*p_.x,b_.y=_n.y+r_*p_.y,b_}static SubVMulSV(_n,r_,p_,b_){return b_.x=_n.x-r_*p_.x,b_.y=_n.y-r_*p_.y,b_}static AddVCrossSV(_n,r_,p_,b_){let d_=p_.x;return b_.x=_n.x-r_*p_.y,b_.y=_n.y+r_*d_,b_}static MidVV(_n,r_,p_){return p_.x=(_n.x+r_.x)*.5,p_.y=(_n.y+r_.y)*.5,p_}static ExtVV(_n,r_,p_){return p_.x=(r_.x-_n.x)*.5,p_.y=(r_.y-_n.y)*.5,p_}static IsEqualToV(_n,r_){return _n.x===r_.x&&_n.y===r_.y}static DistanceVV(_n,r_){let p_=_n.x-r_.x,b_=_n.y-r_.y;return Math.sqrt(p_*p_+b_*b_)}static DistanceSquaredVV(_n,r_){let p_=_n.x-r_.x,b_=_n.y-r_.y;return p_*p_+b_*b_}static NegV(_n,r_){return r_.x=-_n.x,r_.y=-_n.y,r_}}a_.ZERO=new a_(0,0),a_.UNITX=new a_(1,0),a_.UNITY=new a_(0,1),a_.s_t0=new a_,a_.s_t1=new a_,a_.s_t2=new a_,a_.s_t3=new a_;let r4=new a_(0,0);class G1{constructor(..._n){if(_n[0]instanceof Float32Array){if(_n[0].length!==3)throw new Error;this.data=_n[0]}else{let r_=typeof _n[0]=="number"?_n[0]:0,p_=typeof _n[1]=="number"?_n[1]:0,b_=typeof _n[2]=="number"?_n[2]:0;this.data=new Float32Array([r_,p_,b_])}}get x(){return this.data[0]}set x(_n){this.data[0]=_n}get y(){return this.data[1]}set y(_n){this.data[1]=_n}get z(){return this.data[2]}set z(_n){this.data[2]=_n}Clone(){return new G1(this.x,this.y,this.z)}SetZero(){return this.x=0,this.y=0,this.z=0,this}SetXYZ(_n,r_,p_){return this.x=_n,this.y=r_,this.z=p_,this}Copy(_n){return this.x=_n.x,this.y=_n.y,this.z=_n.z,this}SelfNeg(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}SelfAdd(_n){return this.x+=_n.x,this.y+=_n.y,this.z+=_n.z,this}SelfAddXYZ(_n,r_,p_){return this.x+=_n,this.y+=r_,this.z+=p_,this}SelfSub(_n){return this.x-=_n.x,this.y-=_n.y,this.z-=_n.z,this}SelfSubXYZ(_n,r_,p_){return this.x-=_n,this.y-=r_,this.z-=p_,this}SelfMul(_n){return this.x*=_n,this.y*=_n,this.z*=_n,this}static DotV3V3(_n,r_){return _n.x*r_.x+_n.y*r_.y+_n.z*r_.z}static CrossV3V3(_n,r_,p_){let b_=_n.x,d_=_n.y,S_=_n.z,T_=r_.x,k_=r_.y,U_=r_.z;return p_.x=d_*U_-S_*k_,p_.y=S_*T_-b_*U_,p_.z=b_*k_-d_*T_,p_}}G1.ZERO=new G1(0,0,0),G1.s_t0=new G1;class g1{constructor(){this.data=new Float32Array([1,0,0,1]),this.ex=new a_(this.data.subarray(0,2)),this.ey=new a_(this.data.subarray(2,4))}Clone(){return new g1().Copy(this)}static FromVV(_n,r_){return new g1().SetVV(_n,r_)}static FromSSSS(_n,r_,p_,b_){return new g1().SetSSSS(_n,r_,p_,b_)}static FromAngle(_n){return new g1().SetAngle(_n)}SetSSSS(_n,r_,p_,b_){return this.ex.Set(_n,p_),this.ey.Set(r_,b_),this}SetVV(_n,r_){return this.ex.Copy(_n),this.ey.Copy(r_),this}SetAngle(_n){let r_=Math.cos(_n),p_=Math.sin(_n);return this.ex.Set(r_,p_),this.ey.Set(-p_,r_),this}Copy(_n){return this.ex.Copy(_n.ex),this.ey.Copy(_n.ey),this}SetIdentity(){return this.ex.Set(1,0),this.ey.Set(0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this}GetAngle(){return Math.atan2(this.ex.y,this.ex.x)}GetInverse(_n){let r_=this.ex.x,p_=this.ey.x,b_=this.ex.y,d_=this.ey.y,S_=r_*d_-p_*b_;return S_!==0&&(S_=1/S_),_n.ex.x=S_*d_,_n.ey.x=-S_*p_,_n.ex.y=-S_*b_,_n.ey.y=S_*r_,_n}Solve(_n,r_,p_){let b_=this.ex.x,d_=this.ey.x,S_=this.ex.y,T_=this.ey.y,k_=b_*T_-d_*S_;return k_!==0&&(k_=1/k_),p_.x=k_*(T_*_n-d_*r_),p_.y=k_*(b_*r_-S_*_n),p_}SelfAbs(){return this.ex.SelfAbs(),this.ey.SelfAbs(),this}SelfInv(){return this.GetInverse(this),this}SelfAddM(_n){return this.ex.SelfAdd(_n.ex),this.ey.SelfAdd(_n.ey),this}SelfSubM(_n){return this.ex.SelfSub(_n.ex),this.ey.SelfSub(_n.ey),this}static AbsM(_n,r_){let p_=_n.ex,b_=_n.ey;return r_.ex.x=V0(p_.x),r_.ex.y=V0(p_.y),r_.ey.x=V0(b_.x),r_.ey.y=V0(b_.y),r_}static MulMV(_n,r_,p_){let b_=_n.ex,d_=_n.ey,S_=r_.x,T_=r_.y;return p_.x=b_.x*S_+d_.x*T_,p_.y=b_.y*S_+d_.y*T_,p_}static MulTMV(_n,r_,p_){let b_=_n.ex,d_=_n.ey,S_=r_.x,T_=r_.y;return p_.x=b_.x*S_+b_.y*T_,p_.y=d_.x*S_+d_.y*T_,p_}static AddMM(_n,r_,p_){let b_=_n.ex,d_=_n.ey,S_=r_.ex,T_=r_.ey;return p_.ex.x=b_.x+S_.x,p_.ex.y=b_.y+S_.y,p_.ey.x=d_.x+T_.x,p_.ey.y=d_.y+T_.y,p_}static MulMM(_n,r_,p_){let b_=_n.ex.x,d_=_n.ex.y,S_=_n.ey.x,T_=_n.ey.y,k_=r_.ex.x,U_=r_.ex.y,X_=r_.ey.x,O_=r_.ey.y;return p_.ex.x=b_*k_+S_*U_,p_.ex.y=d_*k_+T_*U_,p_.ey.x=b_*X_+S_*O_,p_.ey.y=d_*X_+T_*O_,p_}static MulTMM(_n,r_,p_){let b_=_n.ex.x,d_=_n.ex.y,S_=_n.ey.x,T_=_n.ey.y,k_=r_.ex.x,U_=r_.ex.y,X_=r_.ey.x,O_=r_.ey.y;return p_.ex.x=b_*k_+d_*U_,p_.ex.y=S_*k_+T_*U_,p_.ey.x=b_*X_+d_*O_,p_.ey.y=S_*X_+T_*O_,p_}}g1.IDENTITY=new g1;class EA{constructor(){this.data=new Float32Array([1,0,0,0,1,0,0,0,1]),this.ex=new G1(this.data.subarray(0,3)),this.ey=new G1(this.data.subarray(3,6)),this.ez=new G1(this.data.subarray(6,9))}Clone(){return new EA().Copy(this)}SetVVV(_n,r_,p_){return this.ex.Copy(_n),this.ey.Copy(r_),this.ez.Copy(p_),this}Copy(_n){return this.ex.Copy(_n.ex),this.ey.Copy(_n.ey),this.ez.Copy(_n.ez),this}SetIdentity(){return this.ex.SetXYZ(1,0,0),this.ey.SetXYZ(0,1,0),this.ez.SetXYZ(0,0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this}SelfAddM(_n){return this.ex.SelfAdd(_n.ex),this.ey.SelfAdd(_n.ey),this.ez.SelfAdd(_n.ez),this}Solve33(_n,r_,p_,b_){let d_=this.ex.x,S_=this.ex.y,T_=this.ex.z,k_=this.ey.x,U_=this.ey.y,X_=this.ey.z,O_=this.ez.x,K_=this.ez.y,a2=this.ez.z,v2=d_*(U_*a2-X_*K_)+S_*(X_*O_-k_*a2)+T_*(k_*K_-U_*O_);return v2!==0&&(v2=1/v2),b_.x=v2*(_n*(U_*a2-X_*K_)+r_*(X_*O_-k_*a2)+p_*(k_*K_-U_*O_)),b_.y=v2*(d_*(r_*a2-p_*K_)+S_*(p_*O_-_n*a2)+T_*(_n*K_-r_*O_)),b_.z=v2*(d_*(U_*p_-X_*r_)+S_*(X_*_n-k_*p_)+T_*(k_*r_-U_*_n)),b_}Solve22(_n,r_,p_){let b_=this.ex.x,d_=this.ey.x,S_=this.ex.y,T_=this.ey.y,k_=b_*T_-d_*S_;return k_!==0&&(k_=1/k_),p_.x=k_*(T_*_n-d_*r_),p_.y=k_*(b_*r_-S_*_n),p_}GetInverse22(_n){let r_=this.ex.x,p_=this.ey.x,b_=this.ex.y,d_=this.ey.y,S_=r_*d_-p_*b_;S_!==0&&(S_=1/S_),_n.ex.x=S_*d_,_n.ey.x=-S_*p_,_n.ex.z=0,_n.ex.y=-S_*b_,_n.ey.y=S_*r_,_n.ey.z=0,_n.ez.x=0,_n.ez.y=0,_n.ez.z=0}GetSymInverse33(_n){let r_=G1.DotV3V3(this.ex,G1.CrossV3V3(this.ey,this.ez,G1.s_t0));r_!==0&&(r_=1/r_);let p_=this.ex.x,b_=this.ey.x,d_=this.ez.x,S_=this.ey.y,T_=this.ez.y,k_=this.ez.z;_n.ex.x=r_*(S_*k_-T_*T_),_n.ex.y=r_*(d_*T_-b_*k_),_n.ex.z=r_*(b_*T_-d_*S_),_n.ey.x=_n.ex.y,_n.ey.y=r_*(p_*k_-d_*d_),_n.ey.z=r_*(d_*b_-p_*T_),_n.ez.x=_n.ex.z,_n.ez.y=_n.ey.z,_n.ez.z=r_*(p_*S_-b_*b_)}static MulM33V3(_n,r_,p_){let b_=r_.x,d_=r_.y,S_=r_.z;return p_.x=_n.ex.x*b_+_n.ey.x*d_+_n.ez.x*S_,p_.y=_n.ex.y*b_+_n.ey.y*d_+_n.ez.y*S_,p_.z=_n.ex.z*b_+_n.ey.z*d_+_n.ez.z*S_,p_}static MulM33XYZ(_n,r_,p_,b_,d_){return d_.x=_n.ex.x*r_+_n.ey.x*p_+_n.ez.x*b_,d_.y=_n.ex.y*r_+_n.ey.y*p_+_n.ez.y*b_,d_.z=_n.ex.z*r_+_n.ey.z*p_+_n.ez.z*b_,d_}static MulM33V2(_n,r_,p_){let b_=r_.x,d_=r_.y;return p_.x=_n.ex.x*b_+_n.ey.x*d_,p_.y=_n.ex.y*b_+_n.ey.y*d_,p_}static MulM33XY(_n,r_,p_,b_){return b_.x=_n.ex.x*r_+_n.ey.x*p_,b_.y=_n.ex.y*r_+_n.ey.y*p_,b_}}EA.IDENTITY=new EA;class Z2{constructor(_n=0){this.s=0,this.c=1,_n&&(this.s=Math.sin(_n),this.c=Math.cos(_n))}Clone(){return new Z2().Copy(this)}Copy(_n){return this.s=_n.s,this.c=_n.c,this}SetAngle(_n){return this.s=Math.sin(_n),this.c=Math.cos(_n),this}SetIdentity(){return this.s=0,this.c=1,this}GetAngle(){return Math.atan2(this.s,this.c)}GetXAxis(_n){return _n.x=this.c,_n.y=this.s,_n}GetYAxis(_n){return _n.x=-this.s,_n.y=this.c,_n}static MulRR(_n,r_,p_){let b_=_n.c,d_=_n.s,S_=r_.c,T_=r_.s;return p_.s=d_*S_+b_*T_,p_.c=b_*S_-d_*T_,p_}static MulTRR(_n,r_,p_){let b_=_n.c,d_=_n.s,S_=r_.c,T_=r_.s;return p_.s=b_*T_-d_*S_,p_.c=b_*S_+d_*T_,p_}static MulRV(_n,r_,p_){let b_=_n.c,d_=_n.s,S_=r_.x,T_=r_.y;return p_.x=b_*S_-d_*T_,p_.y=d_*S_+b_*T_,p_}static MulTRV(_n,r_,p_){let b_=_n.c,d_=_n.s,S_=r_.x,T_=r_.y;return p_.x=b_*S_+d_*T_,p_.y=-d_*S_+b_*T_,p_}}Z2.IDENTITY=new Z2;class i0{constructor(){this.p=new a_,this.q=new Z2}Clone(){return new i0().Copy(this)}Copy(_n){return this.p.Copy(_n.p),this.q.Copy(_n.q),this}SetIdentity(){return this.p.SetZero(),this.q.SetIdentity(),this}SetPositionRotation(_n,r_){return this.p.Copy(_n),this.q.Copy(r_),this}SetPositionAngle(_n,r_){return this.p.Copy(_n),this.q.SetAngle(r_),this}SetPosition(_n){return this.p.Copy(_n),this}SetPositionXY(_n,r_){return this.p.Set(_n,r_),this}SetRotation(_n){return this.q.Copy(_n),this}SetRotationAngle(_n){return this.q.SetAngle(_n),this}GetPosition(){return this.p}GetRotation(){return this.q}GetRotationAngle(){return this.q.GetAngle()}GetAngle(){return this.q.GetAngle()}static MulXV(_n,r_,p_){let b_=_n.q.c,d_=_n.q.s,S_=r_.x,T_=r_.y;return p_.x=b_*S_-d_*T_+_n.p.x,p_.y=d_*S_+b_*T_+_n.p.y,p_}static MulTXV(_n,r_,p_){let b_=_n.q.c,d_=_n.q.s,S_=r_.x-_n.p.x,T_=r_.y-_n.p.y;return p_.x=b_*S_+d_*T_,p_.y=-d_*S_+b_*T_,p_}static MulXX(_n,r_,p_){return Z2.MulRR(_n.q,r_.q,p_.q),a_.AddVV(Z2.MulRV(_n.q,r_.p,p_.p),_n.p,p_.p),p_}static MulTXX(_n,r_,p_){return Z2.MulTRR(_n.q,r_.q,p_.q),Z2.MulTRV(_n.q,a_.SubVV(r_.p,_n.p,p_.p),p_.p),p_}}i0.IDENTITY=new i0;class BA{constructor(){this.localCenter=new a_,this.c0=new a_,this.c=new a_,this.a0=0,this.a=0,this.alpha0=0}Clone(){return new BA().Copy(this)}Copy(_n){return this.localCenter.Copy(_n.localCenter),this.c0.Copy(_n.c0),this.c.Copy(_n.c),this.a0=_n.a0,this.a=_n.a,this.alpha0=_n.alpha0,this}GetTransform(_n,r_){let p_=1-r_;_n.p.x=p_*this.c0.x+r_*this.c.x,_n.p.y=p_*this.c0.y+r_*this.c.y;let b_=p_*this.a0+r_*this.a;return _n.q.SetAngle(b_),_n.p.SelfSub(Z2.MulRV(_n.q,this.localCenter,a_.s_t0)),_n}Advance(_n){let r_=(_n-this.alpha0)/(1-this.alpha0),p_=1-r_;this.c0.x=p_*this.c0.x+r_*this.c.x,this.c0.y=p_*this.c0.y+r_*this.c.y,this.a0=p_*this.a0+r_*this.a,this.alpha0=_n}Normalize(){let _n=j0*Math.floor(this.a0/j0);this.a0-=_n,this.a-=_n}}class sy{constructor(..._n){if(_n[0]instanceof Float32Array){if(_n[0].length!==4)throw new Error;this.data=_n[0]}else{let r_=typeof _n[0]=="number"?_n[0]:.5,p_=typeof _n[1]=="number"?_n[1]:.5,b_=typeof _n[2]=="number"?_n[2]:.5,d_=typeof _n[3]=="number"?_n[3]:1;this.data=new Float32Array([r_,p_,b_,d_])}}get r(){return this.data[0]}set r(_n){this.data[0]=_n}get g(){return this.data[1]}set g(_n){this.data[1]=_n}get b(){return this.data[2]}set b(_n){this.data[2]=_n}get a(){return this.data[3]}set a(_n){this.data[3]=_n}Clone(){return new sy().Copy(this)}Copy(_n){return this.r=_n.r,this.g=_n.g,this.b=_n.b,this.a=_n.a,this}IsEqual(_n){return this.r===_n.r&&this.g===_n.g&&this.b===_n.b&&this.a===_n.a}IsZero(){return this.r===0&&this.g===0&&this.b===0&&this.a===0}Set(_n,r_,p_,b_=this.a){this.SetRGBA(_n,r_,p_,b_)}SetByteRGB(_n,r_,p_){return this.r=_n/255,this.g=r_/255,this.b=p_/255,this}SetByteRGBA(_n,r_,p_,b_){return this.r=_n/255,this.g=r_/255,this.b=p_/255,this.a=b_/255,this}SetRGB(_n,r_,p_){return this.r=_n,this.g=r_,this.b=p_,this}SetRGBA(_n,r_,p_,b_){return this.r=_n,this.g=r_,this.b=p_,this.a=b_,this}SelfAdd(_n){return this.r+=_n.r,this.g+=_n.g,this.b+=_n.b,this.a+=_n.a,this}Add(_n,r_){return r_.r=this.r+_n.r,r_.g=this.g+_n.g,r_.b=this.b+_n.b,r_.a=this.a+_n.a,r_}SelfSub(_n){return this.r-=_n.r,this.g-=_n.g,this.b-=_n.b,this.a-=_n.a,this}Sub(_n,r_){return r_.r=this.r-_n.r,r_.g=this.g-_n.g,r_.b=this.b-_n.b,r_.a=this.a-_n.a,r_}SelfMul(_n){return this.r*=_n,this.g*=_n,this.b*=_n,this.a*=_n,this}Mul(_n,r_){return r_.r=this.r*_n,r_.g=this.g*_n,r_.b=this.b*_n,r_.a=this.a*_n,r_}Mix(_n,r_){sy.MixColors(this,_n,r_)}static MixColors(_n,r_,p_){let b_=p_*(r_.r-_n.r),d_=p_*(r_.g-_n.g),S_=p_*(r_.b-_n.b),T_=p_*(r_.a-_n.a);_n.r+=b_,_n.g+=d_,_n.b+=S_,_n.a+=T_,r_.r-=b_,r_.g-=d_,r_.b-=S_,r_.a-=T_}MakeStyleString(_n=this.a){return sy.MakeStyleString(this.r,this.g,this.b,_n)}static MakeStyleString(_n,r_,p_,b_=1){return _n*=255,r_*=255,p_*=255,b_<1?`rgba(${_n},${r_},${p_},${b_})`:`rgb(${_n},${r_},${p_})`}}sy.ZERO=new sy(0,0,0,0),sy.RED=new sy(1,0,0),sy.GREEN=new sy(0,1,0),sy.BLUE=new sy(0,0,1),function(i2){i2[i2.e_none=0]="e_none",i2[i2.e_shapeBit=1]="e_shapeBit",i2[i2.e_jointBit=2]="e_jointBit",i2[i2.e_aabbBit=4]="e_aabbBit",i2[i2.e_pairBit=8]="e_pairBit",i2[i2.e_centerOfMassBit=16]="e_centerOfMassBit",i2[i2.e_particleBit=32]="e_particleBit",i2[i2.e_controllerBit=64]="e_controllerBit",i2[i2.e_all=63]="e_all"}(V.b2DrawFlags||(V.b2DrawFlags={}));class X2{constructor(){this.m_drawFlags=0}SetFlags(_n){this.m_drawFlags=_n}GetFlags(){return this.m_drawFlags}AppendFlags(_n){this.m_drawFlags|=_n}ClearFlags(_n){this.m_drawFlags&=~_n}}class QS{constructor(){this.m_start=Date.now()}Reset(){return this.m_start=Date.now(),this}GetMilliseconds(){return Date.now()-this.m_start}}class XP{constructor(){this.m_count=0,this.m_min_count=0,this.m_max_count=0}GetCount(){return this.m_count}GetMinCount(){return this.m_min_count}GetMaxCount(){return this.m_max_count}ResetCount(){let _n=this.m_count;return this.m_count=0,_n}ResetMinCount(){this.m_min_count=0}ResetMaxCount(){this.m_max_count=0}Increment(){this.m_count++,this.m_max_count<this.m_count&&(this.m_max_count=this.m_count)}Decrement(){this.m_count--,this.m_min_count>this.m_count&&(this.m_min_count=this.m_count)}}class R0{constructor(_n){this.m_stack=[],this.m_count=0,this.m_stack=U2(_n,r_=>null),this.m_count=0}Reset(){return this.m_count=0,this}Push(_n){this.m_stack[this.m_count]=_n,this.m_count++}Pop(){this.m_count--;let _n=this.m_stack[this.m_count];if(this.m_stack[this.m_count]=null,_n===null)throw new Error;return _n}GetCount(){return this.m_count}}class YP{}class UB{}class $S{constructor(){this.m_buffer=a_.MakeArray(2),this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0}Copy(_n){return _n.m_vertices===_n.m_buffer?(this.m_vertices=this.m_buffer,this.m_buffer[0].Copy(_n.m_buffer[0]),this.m_buffer[1].Copy(_n.m_buffer[1])):this.m_vertices=_n.m_vertices,this.m_count=_n.m_count,this.m_radius=_n.m_radius,this}Reset(){return this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0,this}SetShape(_n,r_){_n.SetupDistanceProxy(this,r_)}SetVerticesRadius(_n,r_,p_){this.m_vertices=_n,this.m_count=r_,this.m_radius=p_}GetSupport(_n){let r_=0,p_=a_.DotVV(this.m_vertices[0],_n);for(let b_=1;b_<this.m_count;++b_){let d_=a_.DotVV(this.m_vertices[b_],_n);d_>p_&&(r_=b_,p_=d_)}return r_}GetSupportVertex(_n){let r_=0,p_=a_.DotVV(this.m_vertices[0],_n);for(let b_=1;b_<this.m_count;++b_){let d_=a_.DotVV(this.m_vertices[b_],_n);d_>p_&&(r_=b_,p_=d_)}return this.m_vertices[r_]}GetVertexCount(){return this.m_count}GetVertex(_n){return this.m_vertices[_n]}}class fB{constructor(){this.metric=0,this.count=0,this.indexA=[0,0,0],this.indexB=[0,0,0]}Reset(){return this.metric=0,this.count=0,this}}class iS{constructor(){this.proxyA=new $S,this.proxyB=new $S,this.transformA=new i0,this.transformB=new i0,this.useRadii=!1}Reset(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this}}class WC{constructor(){this.pointA=new a_,this.pointB=new a_,this.distance=0,this.iterations=0}Reset(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this}}class HP{constructor(){this.proxyA=new $S,this.proxyB=new $S,this.transformA=new i0,this.transformB=new i0,this.translationB=new a_}}class ZP{constructor(){this.point=new a_,this.normal=new a_,this.lambda=0,this.iterations=0}}V.b2_gjkCalls=0,V.b2_gjkIters=0,V.b2_gjkMaxIters=0;function KP(){V.b2_gjkCalls=0,V.b2_gjkIters=0,V.b2_gjkMaxIters=0}class NC{constructor(){this.wA=new a_,this.wB=new a_,this.w=new a_,this.a=0,this.indexA=0,this.indexB=0}Copy(_n){return this.wA.Copy(_n.wA),this.wB.Copy(_n.wB),this.w.Copy(_n.w),this.a=_n.a,this.indexA=_n.indexA,this.indexB=_n.indexB,this}}class jA{constructor(){this.m_v1=new NC,this.m_v2=new NC,this.m_v3=new NC,this.m_vertices=[],this.m_count=0,this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3}ReadCache(_n,r_,p_,b_,d_){this.m_count=_n.count;let S_=this.m_vertices;for(let T_=0;T_<this.m_count;++T_){let k_=S_[T_];k_.indexA=_n.indexA[T_],k_.indexB=_n.indexB[T_];let U_=r_.GetVertex(k_.indexA),X_=b_.GetVertex(k_.indexB);i0.MulXV(p_,U_,k_.wA),i0.MulXV(d_,X_,k_.wB),a_.SubVV(k_.wB,k_.wA,k_.w),k_.a=0}if(this.m_count>1){let T_=_n.metric,k_=this.GetMetric();(k_<.5*T_||2*T_<k_||k_<_i)&&(this.m_count=0)}if(this.m_count===0){let T_=S_[0];T_.indexA=0,T_.indexB=0;let k_=r_.GetVertex(0),U_=b_.GetVertex(0);i0.MulXV(p_,k_,T_.wA),i0.MulXV(d_,U_,T_.wB),a_.SubVV(T_.wB,T_.wA,T_.w),T_.a=1,this.m_count=1}}WriteCache(_n){_n.metric=this.GetMetric(),_n.count=this.m_count;let r_=this.m_vertices;for(let p_=0;p_<this.m_count;++p_)_n.indexA[p_]=r_[p_].indexA,_n.indexB[p_]=r_[p_].indexB}GetSearchDirection(_n){switch(this.m_count){case 1:return a_.NegV(this.m_v1.w,_n);case 2:{let r_=a_.SubVV(this.m_v2.w,this.m_v1.w,_n);return a_.CrossVV(r_,a_.NegV(this.m_v1.w,a_.s_t0))>0?a_.CrossOneV(r_,_n):a_.CrossVOne(r_,_n)}default:return _n.SetZero()}}GetClosestPoint(_n){switch(this.m_count){case 0:return _n.SetZero();case 1:return _n.Copy(this.m_v1.w);case 2:return _n.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:return _n.SetZero();default:return _n.SetZero()}}GetWitnessPoints(_n,r_){switch(this.m_count){case 0:break;case 1:_n.Copy(this.m_v1.wA),r_.Copy(this.m_v1.wB);break;case 2:_n.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,_n.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,r_.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,r_.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:r_.x=_n.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,r_.y=_n.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:break}}GetMetric(){switch(this.m_count){case 0:return 0;case 1:return 0;case 2:return a_.DistanceVV(this.m_v1.w,this.m_v2.w);case 3:return a_.CrossVV(a_.SubVV(this.m_v2.w,this.m_v1.w,a_.s_t0),a_.SubVV(this.m_v3.w,this.m_v1.w,a_.s_t1));default:return 0}}Solve2(){let _n=this.m_v1.w,r_=this.m_v2.w,p_=a_.SubVV(r_,_n,jA.s_e12),b_=-a_.DotVV(_n,p_);if(b_<=0){this.m_v1.a=1,this.m_count=1;return}let d_=a_.DotVV(r_,p_);if(d_<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2);return}let S_=1/(d_+b_);this.m_v1.a=d_*S_,this.m_v2.a=b_*S_,this.m_count=2}Solve3(){let _n=this.m_v1.w,r_=this.m_v2.w,p_=this.m_v3.w,b_=a_.SubVV(r_,_n,jA.s_e12),d_=a_.DotVV(_n,b_),T_=a_.DotVV(r_,b_),k_=-d_,U_=a_.SubVV(p_,_n,jA.s_e13),X_=a_.DotVV(_n,U_),K_=a_.DotVV(p_,U_),a2=-X_,v2=a_.SubVV(p_,r_,jA.s_e23),M2=a_.DotVV(r_,v2),N2=a_.DotVV(p_,v2),W2=-M2,Q2=a_.CrossVV(b_,U_),ta=Q2*a_.CrossVV(r_,p_),o0=Q2*a_.CrossVV(p_,_n),l0=Q2*a_.CrossVV(_n,r_);if(k_<=0&&a2<=0){this.m_v1.a=1,this.m_count=1;return}if(T_>0&&k_>0&&l0<=0){let S0=1/(T_+k_);this.m_v1.a=T_*S0,this.m_v2.a=k_*S0,this.m_count=2;return}if(K_>0&&a2>0&&o0<=0){let S0=1/(K_+a2);this.m_v1.a=K_*S0,this.m_v3.a=a2*S0,this.m_count=2,this.m_v2.Copy(this.m_v3);return}if(T_<=0&&W2<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2);return}if(K_<=0&&N2<=0){this.m_v3.a=1,this.m_count=1,this.m_v1.Copy(this.m_v3);return}if(N2>0&&W2>0&&ta<=0){let S0=1/(N2+W2);this.m_v2.a=N2*S0,this.m_v3.a=W2*S0,this.m_count=2,this.m_v1.Copy(this.m_v3);return}let p0=1/(ta+o0+l0);this.m_v1.a=ta*p0,this.m_v2.a=o0*p0,this.m_v3.a=l0*p0,this.m_count=3}}jA.s_e12=new a_,jA.s_e13=new a_,jA.s_e23=new a_;let gB=new jA,XB=[0,0,0],YB=[0,0,0],vB=new a_,IJ=new a_,TJ=new a_,FJ=new a_,RJ=new a_;function n4(i2,_n,r_){++V.b2_gjkCalls;let p_=r_.proxyA,b_=r_.proxyB,d_=r_.transformA,S_=r_.transformB,T_=gB;T_.ReadCache(_n,p_,d_,b_,S_);let k_=T_.m_vertices,U_=20,X_=XB,O_=YB,K_=0,a2=0;for(;a2<U_;){K_=T_.m_count;for(let N2=0;N2<K_;++N2)X_[N2]=k_[N2].indexA,O_[N2]=k_[N2].indexB;switch(T_.m_count){case 1:break;case 2:T_.Solve2();break;case 3:T_.Solve3();break;default:break}if(T_.m_count===3)break;let v2=T_.GetSearchDirection(IJ);if(v2.LengthSquared()<l)break;let M2=k_[T_.m_count];M2.indexA=p_.GetSupport(Z2.MulTRV(d_.q,a_.NegV(v2,a_.s_t0),FJ)),i0.MulXV(d_,p_.GetVertex(M2.indexA),M2.wA),M2.indexB=b_.GetSupport(Z2.MulTRV(S_.q,v2,RJ)),i0.MulXV(S_,b_.GetVertex(M2.indexB),M2.wB),a_.SubVV(M2.wB,M2.wA,M2.w),++a2,++V.b2_gjkIters;let R2=!1;for(let N2=0;N2<K_;++N2)if(M2.indexA===X_[N2]&&M2.indexB===O_[N2]){R2=!0;break}if(R2)break;++T_.m_count}if(V.b2_gjkMaxIters=F0(V.b2_gjkMaxIters,a2),T_.GetWitnessPoints(i2.pointA,i2.pointB),i2.distance=a_.DistanceVV(i2.pointA,i2.pointB),i2.iterations=a2,T_.WriteCache(_n),r_.useRadii){let v2=p_.m_radius,M2=b_.m_radius;if(i2.distance>v2+M2&&i2.distance>_i){i2.distance-=v2+M2;let R2=a_.SubVV(i2.pointB,i2.pointA,TJ);R2.Normalize(),i2.pointA.SelfMulAdd(v2,R2),i2.pointB.SelfMulSub(M2,R2)}else{let R2=a_.MidVV(i2.pointA,i2.pointB,vB);i2.pointA.Copy(R2),i2.pointB.Copy(R2),i2.distance=0}}}let N6=new a_,O6=new jA,Q0=new a_,A0=new a_,LJ=new a_,U6=new a_,xb=new a_,kJ=new a_;function X6(i2,_n){i2.iterations=0,i2.lambda=1,i2.normal.SetZero(),i2.point.SetZero();let r_=_n.proxyA,p_=_n.proxyB,b_=F0(r_.m_radius,s_),d_=F0(p_.m_radius,s_),S_=b_+d_,T_=_n.transformA,k_=_n.transformB,U_=_n.translationB,X_=N6.Set(0,0),O_=0,K_=O6;K_.m_count=0;let a2=K_.m_vertices,v2=r_.GetSupport(Z2.MulTRV(T_.q,a_.NegV(U_,a_.s_t1),a_.s_t0)),M2=i0.MulXV(T_,r_.GetVertex(v2),Q0),R2=p_.GetSupport(Z2.MulTRV(k_.q,U_,a_.s_t0)),N2=i0.MulXV(k_,p_.GetVertex(R2),A0),W2=a_.SubVV(M2,N2,LJ),Q2=F0(s_,S_-s_),ta=.5*ws,o0=20,l0=0;for(;l0<o0&&V0(W2.Length()-Q2)>ta;){i2.iterations+=1,v2=r_.GetSupport(Z2.MulTRV(T_.q,a_.NegV(W2,a_.s_t1),a_.s_t0)),M2=i0.MulXV(T_,r_.GetVertex(v2),Q0),R2=p_.GetSupport(Z2.MulTRV(k_.q,W2,a_.s_t0)),N2=i0.MulXV(k_,p_.GetVertex(R2),A0);let h0=a_.SubVV(M2,N2,U6);W2.Normalize();let G0=a_.DotVV(W2,h0),E0=a_.DotVV(W2,U_);if(G0-Q2>O_*E0){if(E0<=0||(O_=(G0-Q2)/E0,O_>1))return!1;X_.Copy(W2).SelfNeg(),K_.m_count=0}let v0=a2[K_.m_count];switch(v0.indexA=R2,v0.wA.Copy(N2).SelfMulAdd(O_,U_),v0.indexB=v2,v0.wB.Copy(M2),v0.w.Copy(v0.wB).SelfSub(v0.wA),v0.a=1,K_.m_count+=1,K_.m_count){case 1:break;case 2:K_.Solve2();break;case 3:K_.Solve3();break;default:}if(K_.m_count===3)return!1;K_.GetClosestPoint(W2),++l0}let p0=xb,S0=kJ;return K_.GetWitnessPoints(p0,S0),W2.LengthSquared()>0&&(X_.Copy(W2).SelfNeg(),X_.Normalize()),i2.normal.Copy(X_),i2.lambda=O_,i2.iterations=l0,!0}(function(i2){i2[i2.e_vertex=0]="e_vertex",i2[i2.e_face=1]="e_face"})(V.b2ContactFeatureType||(V.b2ContactFeatureType={}));class Y6{constructor(){this._key=0,this._key_invalid=!1,this._indexA=0,this._indexB=0,this._typeA=0,this._typeB=0}get key(){return this._key_invalid&&(this._key_invalid=!1,this._key=this._indexA|this._indexB<<8|this._typeA<<16|this._typeB<<24),this._key}set key(_n){this._key=_n,this._key_invalid=!1,this._indexA=this._key&255,this._indexB=this._key>>8&255,this._typeA=this._key>>16&255,this._typeB=this._key>>24&255}get indexA(){return this._indexA}set indexA(_n){this._indexA=_n,this._key_invalid=!0}get indexB(){return this._indexB}set indexB(_n){this._indexB=_n,this._key_invalid=!0}get typeA(){return this._typeA}set typeA(_n){this._typeA=_n,this._key_invalid=!0}get typeB(){return this._typeB}set typeB(_n){this._typeB=_n,this._key_invalid=!0}}class AB{constructor(){this.cf=new Y6}Copy(_n){return this.key=_n.key,this}Clone(){return new AB().Copy(this)}get key(){return this.cf.key}set key(_n){this.cf.key=_n}}class QP{constructor(){this.localPoint=new a_,this.normalImpulse=0,this.tangentImpulse=0,this.id=new AB}static MakeArray(_n){return U2(_n,r_=>new QP)}Reset(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0}Copy(_n){return this.localPoint.Copy(_n.localPoint),this.normalImpulse=_n.normalImpulse,this.tangentImpulse=_n.tangentImpulse,this.id.Copy(_n.id),this}}(function(i2){i2[i2.e_unknown=-1]="e_unknown",i2[i2.e_circles=0]="e_circles",i2[i2.e_faceA=1]="e_faceA",i2[i2.e_faceB=2]="e_faceB"})(V.b2ManifoldType||(V.b2ManifoldType={}));class HB{constructor(){this.points=QP.MakeArray(o_),this.localNormal=new a_,this.localPoint=new a_,this.type=V.b2ManifoldType.e_unknown,this.pointCount=0}Reset(){for(let _n=0;_n<o_;++_n)this.points[_n].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=V.b2ManifoldType.e_unknown,this.pointCount=0}Copy(_n){this.pointCount=_n.pointCount;for(let r_=0;r_<o_;++r_)this.points[r_].Copy(_n.points[r_]);return this.localNormal.Copy(_n.localNormal),this.localPoint.Copy(_n.localPoint),this.type=_n.type,this}Clone(){return new HB().Copy(this)}}class Y1{constructor(){this.normal=new a_,this.points=a_.MakeArray(o_),this.separations=g0(o_)}Initialize(_n,r_,p_,b_,d_){if(_n.pointCount!==0)switch(_n.type){case V.b2ManifoldType.e_circles:{this.normal.Set(1,0);let S_=i0.MulXV(r_,_n.localPoint,Y1.Initialize_s_pointA),T_=i0.MulXV(b_,_n.points[0].localPoint,Y1.Initialize_s_pointB);a_.DistanceSquaredVV(S_,T_)>l&&a_.SubVV(T_,S_,this.normal).SelfNormalize();let k_=a_.AddVMulSV(S_,p_,this.normal,Y1.Initialize_s_cA),U_=a_.SubVMulSV(T_,d_,this.normal,Y1.Initialize_s_cB);a_.MidVV(k_,U_,this.points[0]),this.separations[0]=a_.DotVV(a_.SubVV(U_,k_,a_.s_t0),this.normal);break}case V.b2ManifoldType.e_faceA:{Z2.MulRV(r_.q,_n.localNormal,this.normal);let S_=i0.MulXV(r_,_n.localPoint,Y1.Initialize_s_planePoint);for(let T_=0;T_<_n.pointCount;++T_){let k_=i0.MulXV(b_,_n.points[T_].localPoint,Y1.Initialize_s_clipPoint),U_=p_-a_.DotVV(a_.SubVV(k_,S_,a_.s_t0),this.normal),X_=a_.AddVMulSV(k_,U_,this.normal,Y1.Initialize_s_cA),O_=a_.SubVMulSV(k_,d_,this.normal,Y1.Initialize_s_cB);a_.MidVV(X_,O_,this.points[T_]),this.separations[T_]=a_.DotVV(a_.SubVV(O_,X_,a_.s_t0),this.normal)}break}case V.b2ManifoldType.e_faceB:{Z2.MulRV(b_.q,_n.localNormal,this.normal);let S_=i0.MulXV(b_,_n.localPoint,Y1.Initialize_s_planePoint);for(let T_=0;T_<_n.pointCount;++T_){let k_=i0.MulXV(r_,_n.points[T_].localPoint,Y1.Initialize_s_clipPoint),U_=d_-a_.DotVV(a_.SubVV(k_,S_,a_.s_t0),this.normal),X_=a_.AddVMulSV(k_,U_,this.normal,Y1.Initialize_s_cB),O_=a_.SubVMulSV(k_,p_,this.normal,Y1.Initialize_s_cA);a_.MidVV(O_,X_,this.points[T_]),this.separations[T_]=a_.DotVV(a_.SubVV(O_,X_,a_.s_t0),this.normal)}this.normal.SelfNeg();break}}}}Y1.Initialize_s_pointA=new a_,Y1.Initialize_s_pointB=new a_,Y1.Initialize_s_cA=new a_,Y1.Initialize_s_cB=new a_,Y1.Initialize_s_planePoint=new a_,Y1.Initialize_s_clipPoint=new a_,function(i2){i2[i2.b2_nullState=0]="b2_nullState",i2[i2.b2_addState=1]="b2_addState",i2[i2.b2_persistState=2]="b2_persistState",i2[i2.b2_removeState=3]="b2_removeState"}(V.b2PointState||(V.b2PointState={}));function qJ(i2,_n,r_,p_){let b_;for(b_=0;b_<r_.pointCount;++b_){let S_=r_.points[b_].id.key;i2[b_]=V.b2PointState.b2_removeState;for(let T_=0,k_=p_.pointCount;T_<k_;++T_)if(p_.points[T_].id.key===S_){i2[b_]=V.b2PointState.b2_persistState;break}}for(;b_<o_;++b_)i2[b_]=V.b2PointState.b2_nullState;for(b_=0;b_<p_.pointCount;++b_){let S_=p_.points[b_].id.key;_n[b_]=V.b2PointState.b2_addState;for(let T_=0,k_=r_.pointCount;T_<k_;++T_)if(r_.points[T_].id.key===S_){_n[b_]=V.b2PointState.b2_persistState;break}}for(;b_<o_;++b_)_n[b_]=V.b2PointState.b2_nullState}class SC{constructor(){this.v=new a_,this.id=new AB}static MakeArray(_n){return U2(_n,r_=>new SC)}Copy(_n){return this.v.Copy(_n.v),this.id.Copy(_n.id),this}}class $P{constructor(){this.p1=new a_,this.p2=new a_,this.maxFraction=1}Copy(_n){return this.p1.Copy(_n.p1),this.p2.Copy(_n.p2),this.maxFraction=_n.maxFraction,this}}class s4{constructor(){this.normal=new a_,this.fraction=0}Copy(_n){return this.normal.Copy(_n.normal),this.fraction=_n.fraction,this}}class bA{constructor(){this.lowerBound=new a_,this.upperBound=new a_,this.m_cache_center=new a_,this.m_cache_extent=new a_}Copy(_n){return this.lowerBound.Copy(_n.lowerBound),this.upperBound.Copy(_n.upperBound),this}IsValid(){return!(!this.lowerBound.IsValid()||!this.upperBound.IsValid()||this.upperBound.x<this.lowerBound.x||this.upperBound.y<this.lowerBound.y)}GetCenter(){return a_.MidVV(this.lowerBound,this.upperBound,this.m_cache_center)}GetExtents(){return a_.ExtVV(this.lowerBound,this.upperBound,this.m_cache_extent)}GetPerimeter(){let _n=this.upperBound.x-this.lowerBound.x,r_=this.upperBound.y-this.lowerBound.y;return 2*(_n+r_)}Combine1(_n){return this.lowerBound.x=k0(this.lowerBound.x,_n.lowerBound.x),this.lowerBound.y=k0(this.lowerBound.y,_n.lowerBound.y),this.upperBound.x=F0(this.upperBound.x,_n.upperBound.x),this.upperBound.y=F0(this.upperBound.y,_n.upperBound.y),this}Combine2(_n,r_){return this.lowerBound.x=k0(_n.lowerBound.x,r_.lowerBound.x),this.lowerBound.y=k0(_n.lowerBound.y,r_.lowerBound.y),this.upperBound.x=F0(_n.upperBound.x,r_.upperBound.x),this.upperBound.y=F0(_n.upperBound.y,r_.upperBound.y),this}static Combine(_n,r_,p_){return p_.Combine2(_n,r_),p_}Contains(_n){return!(this.lowerBound.x<=_n.lowerBound.x||this.lowerBound.y<=_n.lowerBound.y||_n.upperBound.x<=this.upperBound.x||_n.upperBound.y<=this.upperBound.y)}RayCast(_n,r_){let p_=-_o,b_=_o,d_=r_.p1.x,S_=r_.p1.y,T_=r_.p2.x-r_.p1.x,k_=r_.p2.y-r_.p1.y,U_=V0(T_),X_=V0(k_),O_=_n.normal;if(U_<_i){if(d_<this.lowerBound.x||this.upperBound.x<d_)return!1}else{let K_=1/T_,a2=(this.lowerBound.x-d_)*K_,v2=(this.upperBound.x-d_)*K_,M2=-1;if(a2>v2){let R2=a2;a2=v2,v2=R2,M2=1}if(a2>p_&&(O_.x=M2,O_.y=0,p_=a2),b_=k0(b_,v2),p_>b_)return!1}if(X_<_i){if(S_<this.lowerBound.y||this.upperBound.y<S_)return!1}else{let K_=1/k_,a2=(this.lowerBound.y-S_)*K_,v2=(this.upperBound.y-S_)*K_,M2=-1;if(a2>v2){let R2=a2;a2=v2,v2=R2,M2=1}if(a2>p_&&(O_.x=0,O_.y=M2,p_=a2),b_=k0(b_,v2),p_>b_)return!1}return p_<0||r_.maxFraction<p_?!1:(_n.fraction=p_,!0)}TestContain(_n){return!(_n.x<this.lowerBound.x||this.upperBound.x<_n.x||_n.y<this.lowerBound.y||this.upperBound.y<_n.y)}TestOverlap(_n){return!(this.upperBound.x<_n.lowerBound.x||this.upperBound.y<_n.lowerBound.y||_n.upperBound.x<this.lowerBound.x||_n.upperBound.y<this.lowerBound.y)}}function _4(i2,_n){return!(i2.upperBound.x<_n.lowerBound.x||i2.upperBound.y<_n.lowerBound.y||_n.upperBound.x<i2.lowerBound.x||_n.upperBound.y<i2.lowerBound.y)}function ZB(i2,_n,r_,p_,b_){let d_=0,S_=_n[0],T_=_n[1],k_=a_.DotVV(r_,S_.v)-p_,U_=a_.DotVV(r_,T_.v)-p_;if(k_<=0&&i2[d_++].Copy(S_),U_<=0&&i2[d_++].Copy(T_),k_*U_<0){let X_=k_/(k_-U_),O_=i2[d_].v;O_.x=S_.v.x+X_*(T_.v.x-S_.v.x),O_.y=S_.v.y+X_*(T_.v.y-S_.v.y);let K_=i2[d_].id;K_.cf.indexA=b_,K_.cf.indexB=S_.id.cf.indexB,K_.cf.typeA=V.b2ContactFeatureType.e_vertex,K_.cf.typeB=V.b2ContactFeatureType.e_face,++d_}return d_}let H6=new iS,Z6=new fB,K6=new WC;function a4(i2,_n,r_,p_,b_,d_){let S_=H6.Reset();S_.proxyA.SetShape(i2,_n),S_.proxyB.SetShape(r_,p_),S_.transformA.Copy(b_),S_.transformB.Copy(d_),S_.useRadii=!0;let T_=Z6.Reset();T_.count=0;let k_=K6.Reset();return n4(k_,T_,S_),k_.distance<10*_i}function Q1(i2){if(i2===null)throw new Error;return i2}class pM{constructor(_n=0){this.m_id=0,this.aabb=new bA,this._userData=null,this.parent=null,this.child1=null,this.child2=null,this.height=0,this.m_id=_n}get userData(){if(this._userData===null)throw new Error;return this._userData}set userData(_n){if(this._userData!==null)throw new Error;this._userData=_n}Reset(){this._userData=null}IsLeaf(){return this.child1===null}}class o1{constructor(){this.m_root=null,this.m_freeList=null,this.m_path=0,this.m_insertionCount=0,this.m_stack=new R0(256)}Query(_n,r_){let p_=this.m_stack.Reset();for(p_.Push(this.m_root);p_.GetCount()>0;){let b_=p_.Pop();if(b_!==null&&b_.aabb.TestOverlap(_n))if(b_.IsLeaf()){if(!r_(b_))return}else p_.Push(b_.child1),p_.Push(b_.child2)}}QueryPoint(_n,r_){let p_=this.m_stack.Reset();for(p_.Push(this.m_root);p_.GetCount()>0;){let b_=p_.Pop();if(b_!==null&&b_.aabb.TestContain(_n))if(b_.IsLeaf()){if(!r_(b_))return}else p_.Push(b_.child1),p_.Push(b_.child2)}}RayCast(_n,r_){let p_=_n.p1,b_=_n.p2,d_=a_.SubVV(b_,p_,o1.s_r);d_.Normalize();let S_=a_.CrossOneV(d_,o1.s_v),T_=a_.AbsV(S_,o1.s_abs_v),k_=_n.maxFraction,U_=o1.s_segmentAABB,X_=p_.x+k_*(b_.x-p_.x),O_=p_.y+k_*(b_.y-p_.y);U_.lowerBound.x=k0(p_.x,X_),U_.lowerBound.y=k0(p_.y,O_),U_.upperBound.x=F0(p_.x,X_),U_.upperBound.y=F0(p_.y,O_);let K_=this.m_stack.Reset();for(K_.Push(this.m_root);K_.GetCount()>0;){let a2=K_.Pop();if(a2===null||!_4(a2.aabb,U_))continue;let v2=a2.aabb.GetCenter(),M2=a2.aabb.GetExtents();if(!(V0(a_.DotVV(S_,a_.SubVV(p_,v2,a_.s_t0)))-a_.DotVV(T_,M2)>0))if(a2.IsLeaf()){let N2=o1.s_subInput;N2.p1.Copy(_n.p1),N2.p2.Copy(_n.p2),N2.maxFraction=k_;let W2=r_(N2,a2);if(W2===0)return;W2>0&&(k_=W2,X_=p_.x+k_*(b_.x-p_.x),O_=p_.y+k_*(b_.y-p_.y),U_.lowerBound.x=k0(p_.x,X_),U_.lowerBound.y=k0(p_.y,O_),U_.upperBound.x=F0(p_.x,X_),U_.upperBound.y=F0(p_.y,O_))}else K_.Push(a2.child1),K_.Push(a2.child2)}}AllocateNode(){if(this.m_freeList!==null){let _n=this.m_freeList;return this.m_freeList=_n.parent,_n.parent=null,_n.child1=null,_n.child2=null,_n.height=0,_n}return new pM(o1.s_node_id++)}FreeNode(_n){_n.parent=this.m_freeList,_n.child1=null,_n.child2=null,_n.height=-1,_n.Reset(),this.m_freeList=_n}CreateProxy(_n,r_){let p_=this.AllocateNode(),b_=_e,d_=_e;return p_.aabb.lowerBound.x=_n.lowerBound.x-b_,p_.aabb.lowerBound.y=_n.lowerBound.y-d_,p_.aabb.upperBound.x=_n.upperBound.x+b_,p_.aabb.upperBound.y=_n.upperBound.y+d_,p_.userData=r_,p_.height=0,this.InsertLeaf(p_),p_}DestroyProxy(_n){this.RemoveLeaf(_n),this.FreeNode(_n)}MoveProxy(_n,r_,p_){if(_n.aabb.Contains(r_))return!1;this.RemoveLeaf(_n);let b_=_e,d_=_e;_n.aabb.lowerBound.x=r_.lowerBound.x-b_,_n.aabb.lowerBound.y=r_.lowerBound.y-d_,_n.aabb.upperBound.x=r_.upperBound.x+b_,_n.aabb.upperBound.y=r_.upperBound.y+d_;let S_=l_*p_.x,T_=l_*p_.y;return S_<0?_n.aabb.lowerBound.x+=S_:_n.aabb.upperBound.x+=S_,T_<0?_n.aabb.lowerBound.y+=T_:_n.aabb.upperBound.y+=T_,this.InsertLeaf(_n),!0}InsertLeaf(_n){if(++this.m_insertionCount,this.m_root===null){this.m_root=_n,this.m_root.parent=null;return}let r_=_n.aabb,p_=this.m_root;for(;!p_.IsLeaf();){let T_=Q1(p_.child1),k_=Q1(p_.child2),U_=p_.aabb.GetPerimeter(),X_=o1.s_combinedAABB;X_.Combine2(p_.aabb,r_);let O_=X_.GetPerimeter(),K_=2*O_,a2=2*(O_-U_),v2,M2=o1.s_aabb,R2,N2;T_.IsLeaf()?(M2.Combine2(r_,T_.aabb),v2=M2.GetPerimeter()+a2):(M2.Combine2(r_,T_.aabb),R2=T_.aabb.GetPerimeter(),N2=M2.GetPerimeter(),v2=N2-R2+a2);let W2;if(k_.IsLeaf()?(M2.Combine2(r_,k_.aabb),W2=M2.GetPerimeter()+a2):(M2.Combine2(r_,k_.aabb),R2=k_.aabb.GetPerimeter(),N2=M2.GetPerimeter(),W2=N2-R2+a2),K_<v2&&K_<W2)break;v2<W2?p_=T_:p_=k_}let b_=p_.parent,d_=this.AllocateNode();d_.parent=b_,d_.aabb.Combine2(r_,p_.aabb),d_.height=p_.height+1,b_!==null?(b_.child1===p_?b_.child1=d_:b_.child2=d_,d_.child1=p_,d_.child2=_n,p_.parent=d_,_n.parent=d_):(d_.child1=p_,d_.child2=_n,p_.parent=d_,_n.parent=d_,this.m_root=d_);let S_=_n.parent;for(;S_!==null;){S_=this.Balance(S_);let T_=Q1(S_.child1),k_=Q1(S_.child2);S_.height=1+F0(T_.height,k_.height),S_.aabb.Combine2(T_.aabb,k_.aabb),S_=S_.parent}}RemoveLeaf(_n){if(_n===this.m_root){this.m_root=null;return}let r_=Q1(_n.parent),p_=r_&&r_.parent,b_=Q1(r_.child1===_n?r_.child2:r_.child1);if(p_!==null){p_.child1===r_?p_.child1=b_:p_.child2=b_,b_.parent=p_,this.FreeNode(r_);let d_=p_;for(;d_!==null;){d_=this.Balance(d_);let S_=Q1(d_.child1),T_=Q1(d_.child2);d_.aabb.Combine2(S_.aabb,T_.aabb),d_.height=1+F0(S_.height,T_.height),d_=d_.parent}}else this.m_root=b_,b_.parent=null,this.FreeNode(r_)}Balance(_n){if(_n.IsLeaf()||_n.height<2)return _n;let r_=Q1(_n.child1),p_=Q1(_n.child2),b_=p_.height-r_.height;if(b_>1){let d_=Q1(p_.child1),S_=Q1(p_.child2);return p_.child1=_n,p_.parent=_n.parent,_n.parent=p_,p_.parent!==null?p_.parent.child1===_n?p_.parent.child1=p_:p_.parent.child2=p_:this.m_root=p_,d_.height>S_.height?(p_.child2=d_,_n.child2=S_,S_.parent=_n,_n.aabb.Combine2(r_.aabb,S_.aabb),p_.aabb.Combine2(_n.aabb,d_.aabb),_n.height=1+F0(r_.height,S_.height),p_.height=1+F0(_n.height,d_.height)):(p_.child2=S_,_n.child2=d_,d_.parent=_n,_n.aabb.Combine2(r_.aabb,d_.aabb),p_.aabb.Combine2(_n.aabb,S_.aabb),_n.height=1+F0(r_.height,d_.height),p_.height=1+F0(_n.height,S_.height)),p_}if(b_<-1){let d_=Q1(r_.child1),S_=Q1(r_.child2);return r_.child1=_n,r_.parent=_n.parent,_n.parent=r_,r_.parent!==null?r_.parent.child1===_n?r_.parent.child1=r_:r_.parent.child2=r_:this.m_root=r_,d_.height>S_.height?(r_.child2=d_,_n.child1=S_,S_.parent=_n,_n.aabb.Combine2(p_.aabb,S_.aabb),r_.aabb.Combine2(_n.aabb,d_.aabb),_n.height=1+F0(p_.height,S_.height),r_.height=1+F0(_n.height,d_.height)):(r_.child2=S_,_n.child1=d_,d_.parent=_n,_n.aabb.Combine2(p_.aabb,d_.aabb),r_.aabb.Combine2(_n.aabb,S_.aabb),_n.height=1+F0(p_.height,d_.height),r_.height=1+F0(_n.height,S_.height)),r_}return _n}GetHeight(){return this.m_root===null?0:this.m_root.height}static GetAreaNode(_n){if(_n===null||_n.IsLeaf())return 0;let r_=_n.aabb.GetPerimeter();return r_+=o1.GetAreaNode(_n.child1),r_+=o1.GetAreaNode(_n.child2),r_}GetAreaRatio(){if(this.m_root===null)return 0;let r_=this.m_root.aabb.GetPerimeter();return o1.GetAreaNode(this.m_root)/r_}static ComputeHeightNode(_n){if(_n===null||_n.IsLeaf())return 0;let r_=o1.ComputeHeightNode(_n.child1),p_=o1.ComputeHeightNode(_n.child2);return 1+F0(r_,p_)}ComputeHeight(){return o1.ComputeHeightNode(this.m_root)}ValidateStructure(_n){if(_n===null||(this.m_root,_n.IsLeaf()))return;let r_=Q1(_n.child1),p_=Q1(_n.child2);this.ValidateStructure(r_),this.ValidateStructure(p_)}ValidateMetrics(_n){if(_n===null||_n.IsLeaf())return;let r_=Q1(_n.child1),p_=Q1(_n.child2);o1.s_aabb.Combine2(r_.aabb,p_.aabb),this.ValidateMetrics(r_),this.ValidateMetrics(p_)}Validate(){}static GetMaxBalanceNode(_n,r_){if(_n===null||_n.height<=1)return r_;let p_=Q1(_n.child1),b_=Q1(_n.child2),d_=V0(b_.height-p_.height);return F0(r_,d_)}GetMaxBalance(){return o1.GetMaxBalanceNode(this.m_root,0)}RebuildBottomUp(){this.Validate()}static ShiftOriginNode(_n,r_){if(_n===null||_n.height<=1)return;let p_=_n.child1,b_=_n.child2;o1.ShiftOriginNode(p_,r_),o1.ShiftOriginNode(b_,r_),_n.aabb.lowerBound.SelfSub(r_),_n.aabb.upperBound.SelfSub(r_)}ShiftOrigin(_n){o1.ShiftOriginNode(this.m_root,_n)}}o1.s_r=new a_,o1.s_v=new a_,o1.s_abs_v=new a_,o1.s_segmentAABB=new bA,o1.s_subInput=new $P,o1.s_combinedAABB=new bA,o1.s_aabb=new bA,o1.s_node_id=0;function Q6(i2,_n,r_){let p_=i2[_n];i2[_n]=i2[r_],i2[r_]=p_}function $6(i2,_n){return i2<_n}function t8(i2,_n=0,r_=i2.length-_n,p_=$6){let b_=_n,d_=[],S_=0;for(;;){for(;b_+1<r_;r_++){let T_=i2[b_+Math.floor(Math.random()*(r_-b_))];d_[S_++]=r_;for(let k_=b_-1;;){for(;p_(i2[++k_],T_););for(;p_(T_,i2[--r_]););if(k_>=r_)break;Q6(i2,k_,r_)}}if(S_===0)break;b_=r_,r_=d_[--S_]}return i2}class cM{constructor(_n,r_){this.proxyA=_n,this.proxyB=r_}}class lM{constructor(){this.m_tree=new o1,this.m_proxyCount=0,this.m_moveCount=0,this.m_moveBuffer=[],this.m_pairCount=0,this.m_pairBuffer=[]}CreateProxy(_n,r_){let p_=this.m_tree.CreateProxy(_n,r_);return++this.m_proxyCount,this.BufferMove(p_),p_}DestroyProxy(_n){this.UnBufferMove(_n),--this.m_proxyCount,this.m_tree.DestroyProxy(_n)}MoveProxy(_n,r_,p_){this.m_tree.MoveProxy(_n,r_,p_)&&this.BufferMove(_n)}TouchProxy(_n){this.BufferMove(_n)}GetProxyCount(){return this.m_proxyCount}UpdatePairs(_n){this.m_pairCount=0;for(let p_=0;p_<this.m_moveCount;++p_){let b_=this.m_moveBuffer[p_];if(b_===null)continue;let d_=b_.aabb;this.m_tree.Query(d_,S_=>{if(S_.m_id===b_.m_id)return!0;let T_,k_;if(S_.m_id<b_.m_id?(T_=S_,k_=b_):(T_=b_,k_=S_),this.m_pairCount===this.m_pairBuffer.length)this.m_pairBuffer[this.m_pairCount]=new cM(T_,k_);else{let U_=this.m_pairBuffer[this.m_pairCount];U_.proxyA=T_,U_.proxyB=k_}return++this.m_pairCount,!0})}this.m_moveCount=0,t8(this.m_pairBuffer,0,this.m_pairCount,mM);let r_=0;for(;r_<this.m_pairCount;){let p_=this.m_pairBuffer[r_],b_=p_.proxyA.userData,d_=p_.proxyB.userData;for(_n(b_,d_),++r_;r_<this.m_pairCount;){let S_=this.m_pairBuffer[r_];if(S_.proxyA.m_id!==p_.proxyA.m_id||S_.proxyB.m_id!==p_.proxyB.m_id)break;++r_}}}Query(_n,r_){this.m_tree.Query(_n,r_)}QueryPoint(_n,r_){this.m_tree.QueryPoint(_n,r_)}RayCast(_n,r_){this.m_tree.RayCast(_n,r_)}GetTreeHeight(){return this.m_tree.GetHeight()}GetTreeBalance(){return this.m_tree.GetMaxBalance()}GetTreeQuality(){return this.m_tree.GetAreaRatio()}ShiftOrigin(_n){this.m_tree.ShiftOrigin(_n)}BufferMove(_n){this.m_moveBuffer[this.m_moveCount]=_n,++this.m_moveCount}UnBufferMove(_n){let r_=this.m_moveBuffer.indexOf(_n);this.m_moveBuffer[r_]=null}}function mM(i2,_n){return i2.proxyA.m_id<_n.proxyA.m_id?!0:i2.proxyA.m_id===_n.proxyA.m_id?i2.proxyB.m_id<_n.proxyB.m_id:!1}V.b2_toiTime=0,V.b2_toiMaxTime=0,V.b2_toiCalls=0,V.b2_toiIters=0,V.b2_toiMaxIters=0,V.b2_toiRootIters=0,V.b2_toiMaxRootIters=0;function e8(){V.b2_toiTime=0,V.b2_toiMaxTime=0,V.b2_toiCalls=0,V.b2_toiIters=0,V.b2_toiMaxIters=0,V.b2_toiRootIters=0,V.b2_toiMaxRootIters=0}let _w=new i0,tV=new i0,tC=new a_,eC=new a_,SB=new a_,bM=new a_,uM=new a_;class p4{constructor(){this.proxyA=new $S,this.proxyB=new $S,this.sweepA=new BA,this.sweepB=new BA,this.tMax=0}}(function(i2){i2[i2.e_unknown=0]="e_unknown",i2[i2.e_failed=1]="e_failed",i2[i2.e_overlapped=2]="e_overlapped",i2[i2.e_touching=3]="e_touching",i2[i2.e_separated=4]="e_separated"})(V.b2TOIOutputState||(V.b2TOIOutputState={}));class c4{constructor(){this.state=V.b2TOIOutputState.e_unknown,this.t=0}}(function(i2){i2[i2.e_unknown=-1]="e_unknown",i2[i2.e_points=0]="e_points",i2[i2.e_faceA=1]="e_faceA",i2[i2.e_faceB=2]="e_faceB"})(V.b2SeparationFunctionType||(V.b2SeparationFunctionType={}));class hM{constructor(){this.m_sweepA=new BA,this.m_sweepB=new BA,this.m_type=V.b2SeparationFunctionType.e_unknown,this.m_localPoint=new a_,this.m_axis=new a_}Initialize(_n,r_,p_,b_,d_,S_){this.m_proxyA=r_,this.m_proxyB=b_;let T_=_n.count;this.m_sweepA.Copy(p_),this.m_sweepB.Copy(d_);let k_=_w,U_=tV;if(this.m_sweepA.GetTransform(k_,S_),this.m_sweepB.GetTransform(U_,S_),T_===1){this.m_type=V.b2SeparationFunctionType.e_points;let X_=this.m_proxyA.GetVertex(_n.indexA[0]),O_=this.m_proxyB.GetVertex(_n.indexB[0]),K_=i0.MulXV(k_,X_,tC),a2=i0.MulXV(U_,O_,eC);a_.SubVV(a2,K_,this.m_axis);let v2=this.m_axis.Normalize();return this.m_localPoint.SetZero(),v2}else if(_n.indexA[0]===_n.indexA[1]){this.m_type=V.b2SeparationFunctionType.e_faceB;let X_=this.m_proxyB.GetVertex(_n.indexB[0]),O_=this.m_proxyB.GetVertex(_n.indexB[1]);a_.CrossVOne(a_.SubVV(O_,X_,a_.s_t0),this.m_axis).SelfNormalize();let K_=Z2.MulRV(U_.q,this.m_axis,SB);a_.MidVV(X_,O_,this.m_localPoint);let a2=i0.MulXV(U_,this.m_localPoint,eC),v2=this.m_proxyA.GetVertex(_n.indexA[0]),M2=i0.MulXV(k_,v2,tC),R2=a_.DotVV(a_.SubVV(M2,a2,a_.s_t0),K_);return R2<0&&(this.m_axis.SelfNeg(),R2=-R2),R2}else{this.m_type=V.b2SeparationFunctionType.e_faceA;let X_=this.m_proxyA.GetVertex(_n.indexA[0]),O_=this.m_proxyA.GetVertex(_n.indexA[1]);a_.CrossVOne(a_.SubVV(O_,X_,a_.s_t0),this.m_axis).SelfNormalize();let K_=Z2.MulRV(k_.q,this.m_axis,SB);a_.MidVV(X_,O_,this.m_localPoint);let a2=i0.MulXV(k_,this.m_localPoint,tC),v2=this.m_proxyB.GetVertex(_n.indexB[0]),M2=i0.MulXV(U_,v2,eC),R2=a_.DotVV(a_.SubVV(M2,a2,a_.s_t0),K_);return R2<0&&(this.m_axis.SelfNeg(),R2=-R2),R2}}FindMinSeparation(_n,r_,p_){let b_=_w,d_=tV;switch(this.m_sweepA.GetTransform(b_,p_),this.m_sweepB.GetTransform(d_,p_),this.m_type){case V.b2SeparationFunctionType.e_points:{let S_=Z2.MulTRV(b_.q,this.m_axis,bM),T_=Z2.MulTRV(d_.q,a_.NegV(this.m_axis,a_.s_t0),uM);_n[0]=this.m_proxyA.GetSupport(S_),r_[0]=this.m_proxyB.GetSupport(T_);let k_=this.m_proxyA.GetVertex(_n[0]),U_=this.m_proxyB.GetVertex(r_[0]),X_=i0.MulXV(b_,k_,tC),O_=i0.MulXV(d_,U_,eC);return a_.DotVV(a_.SubVV(O_,X_,a_.s_t0),this.m_axis)}case V.b2SeparationFunctionType.e_faceA:{let S_=Z2.MulRV(b_.q,this.m_axis,SB),T_=i0.MulXV(b_,this.m_localPoint,tC),k_=Z2.MulTRV(d_.q,a_.NegV(S_,a_.s_t0),uM);_n[0]=-1,r_[0]=this.m_proxyB.GetSupport(k_);let U_=this.m_proxyB.GetVertex(r_[0]),X_=i0.MulXV(d_,U_,eC);return a_.DotVV(a_.SubVV(X_,T_,a_.s_t0),S_)}case V.b2SeparationFunctionType.e_faceB:{let S_=Z2.MulRV(d_.q,this.m_axis,SB),T_=i0.MulXV(d_,this.m_localPoint,eC),k_=Z2.MulTRV(b_.q,a_.NegV(S_,a_.s_t0),bM);r_[0]=-1,_n[0]=this.m_proxyA.GetSupport(k_);let U_=this.m_proxyA.GetVertex(_n[0]),X_=i0.MulXV(b_,U_,tC);return a_.DotVV(a_.SubVV(X_,T_,a_.s_t0),S_)}default:return _n[0]=-1,r_[0]=-1,0}}Evaluate(_n,r_,p_){let b_=_w,d_=tV;switch(this.m_sweepA.GetTransform(b_,p_),this.m_sweepB.GetTransform(d_,p_),this.m_type){case V.b2SeparationFunctionType.e_points:{let S_=this.m_proxyA.GetVertex(_n),T_=this.m_proxyB.GetVertex(r_),k_=i0.MulXV(b_,S_,tC),U_=i0.MulXV(d_,T_,eC);return a_.DotVV(a_.SubVV(U_,k_,a_.s_t0),this.m_axis)}case V.b2SeparationFunctionType.e_faceA:{let S_=Z2.MulRV(b_.q,this.m_axis,SB),T_=i0.MulXV(b_,this.m_localPoint,tC),k_=this.m_proxyB.GetVertex(r_),U_=i0.MulXV(d_,k_,eC);return a_.DotVV(a_.SubVV(U_,T_,a_.s_t0),S_)}case V.b2SeparationFunctionType.e_faceB:{let S_=Z2.MulRV(d_.q,this.m_axis,SB),T_=i0.MulXV(d_,this.m_localPoint,eC),k_=this.m_proxyA.GetVertex(_n),U_=i0.MulXV(b_,k_,tC);return a_.DotVV(a_.SubVV(U_,T_,a_.s_t0),S_)}default:return 0}}}let o8=new QS,i8=new fB,r8=new iS,n8=new WC,s8=new hM,_8=[0],a8=[0],p8=new BA,c8=new BA;function l4(i2,_n){let r_=o8.Reset();++V.b2_toiCalls,i2.state=V.b2TOIOutputState.e_unknown,i2.t=_n.tMax;let p_=_n.proxyA,b_=_n.proxyB,d_=F0(i_,F0(p_.m_count,b_.m_count)),S_=p8.Copy(_n.sweepA),T_=c8.Copy(_n.sweepB);S_.Normalize(),T_.Normalize();let k_=_n.tMax,U_=p_.m_radius+b_.m_radius,X_=F0(ws,U_-3*ws),O_=.25*ws,K_=0,a2=20,v2=0,M2=i8;M2.count=0;let R2=r8;for(R2.proxyA.Copy(_n.proxyA),R2.proxyB.Copy(_n.proxyB),R2.useRadii=!1;;){let W2=_w,Q2=tV;S_.GetTransform(W2,K_),T_.GetTransform(Q2,K_),R2.transformA.Copy(W2),R2.transformB.Copy(Q2);let ta=n8;if(n4(ta,M2,R2),ta.distance<=0){i2.state=V.b2TOIOutputState.e_overlapped,i2.t=0;break}if(ta.distance<X_+O_){i2.state=V.b2TOIOutputState.e_touching,i2.t=K_;break}let o0=s8;o0.Initialize(M2,p_,S_,b_,T_,K_);let l0=!1,p0=k_,S0=0;for(;;){let h0=_8,G0=a8,E0=o0.FindMinSeparation(h0,G0,p0);if(E0>X_+O_){i2.state=V.b2TOIOutputState.e_separated,i2.t=k_,l0=!0;break}if(E0>X_-O_){K_=p0;break}let v0=o0.Evaluate(h0[0],G0[0],K_);if(v0<X_-O_){i2.state=V.b2TOIOutputState.e_failed,i2.t=K_,l0=!0;break}if(v0<=X_+O_){i2.state=V.b2TOIOutputState.e_touching,i2.t=K_,l0=!0;break}let m0=0,W0=K_,z0=p0;for(;;){let Py=0;m0&1?Py=W0+(X_-v0)*(z0-W0)/(E0-v0):Py=.5*(W0+z0),++m0,++V.b2_toiRootIters;let n1=o0.Evaluate(h0[0],G0[0],Py);if(V0(n1-X_)<O_){p0=Py;break}if(n1>X_?(W0=Py,v0=n1):(z0=Py,E0=n1),m0===50)break}if(V.b2_toiMaxRootIters=F0(V.b2_toiMaxRootIters,m0),++S0,S0===d_)break}if(++v2,++V.b2_toiIters,l0)break;if(v2===a2){i2.state=V.b2TOIOutputState.e_failed,i2.t=K_;break}}V.b2_toiMaxIters=F0(V.b2_toiMaxIters,v2);let N2=r_.GetMilliseconds();V.b2_toiMaxTime=F0(V.b2_toiMaxTime,N2),V.b2_toiTime+=N2}let l8=new a_,m8=new a_;function dM(i2,_n,r_,p_,b_){i2.pointCount=0;let d_=i0.MulXV(r_,_n.m_p,l8),S_=i0.MulXV(b_,p_.m_p,m8),T_=a_.DistanceSquaredVV(d_,S_),k_=_n.m_radius+p_.m_radius;T_>k_*k_||(i2.type=V.b2ManifoldType.e_circles,i2.localPoint.Copy(_n.m_p),i2.localNormal.SetZero(),i2.pointCount=1,i2.points[0].localPoint.Copy(p_.m_p),i2.points[0].id.key=0)}let b8=new a_,u8=new a_,h8=new a_;function yM(i2,_n,r_,p_,b_){i2.pointCount=0;let d_=i0.MulXV(b_,p_.m_p,b8),S_=i0.MulTXV(r_,d_,u8),T_=0,k_=-_o,U_=_n.m_radius+p_.m_radius,X_=_n.m_count,O_=_n.m_vertices,K_=_n.m_normals;for(let Q2=0;Q2<X_;++Q2){let ta=a_.DotVV(K_[Q2],a_.SubVV(S_,O_[Q2],a_.s_t0));if(ta>U_)return;ta>k_&&(k_=ta,T_=Q2)}let a2=T_,v2=(a2+1)%X_,M2=O_[a2],R2=O_[v2];if(k_<_i){i2.pointCount=1,i2.type=V.b2ManifoldType.e_faceA,i2.localNormal.Copy(K_[T_]),a_.MidVV(M2,R2,i2.localPoint),i2.points[0].localPoint.Copy(p_.m_p),i2.points[0].id.key=0;return}let N2=a_.DotVV(a_.SubVV(S_,M2,a_.s_t0),a_.SubVV(R2,M2,a_.s_t1)),W2=a_.DotVV(a_.SubVV(S_,R2,a_.s_t0),a_.SubVV(M2,R2,a_.s_t1));if(N2<=0){if(a_.DistanceSquaredVV(S_,M2)>U_*U_)return;i2.pointCount=1,i2.type=V.b2ManifoldType.e_faceA,a_.SubVV(S_,M2,i2.localNormal).SelfNormalize(),i2.localPoint.Copy(M2),i2.points[0].localPoint.Copy(p_.m_p),i2.points[0].id.key=0}else if(W2<=0){if(a_.DistanceSquaredVV(S_,R2)>U_*U_)return;i2.pointCount=1,i2.type=V.b2ManifoldType.e_faceA,a_.SubVV(S_,R2,i2.localNormal).SelfNormalize(),i2.localPoint.Copy(R2),i2.points[0].localPoint.Copy(p_.m_p),i2.points[0].id.key=0}else{let Q2=a_.MidVV(M2,R2,h8);if(a_.DotVV(a_.SubVV(S_,Q2,a_.s_t1),K_[a2])>U_)return;i2.pointCount=1,i2.type=V.b2ManifoldType.e_faceA,i2.localNormal.Copy(K_[a2]).SelfNormalize(),i2.localPoint.Copy(Q2),i2.points[0].localPoint.Copy(p_.m_p),i2.points[0].id.key=0}}let d8=new a_,y8=new a_,x8=new a_,f8=new a_;function eV(i2,_n,r_,p_,b_){let d_=i2.m_vertices,S_=i2.m_normals,T_=p_.m_count,k_=p_.m_vertices,U_=Z2.MulRV(_n.q,S_[r_],d8),X_=Z2.MulTRV(b_.q,U_,y8),O_=0,K_=_o;for(let R2=0;R2<T_;++R2){let N2=a_.DotVV(k_[R2],X_);N2<K_&&(K_=N2,O_=R2)}let a2=i0.MulXV(_n,d_[r_],x8),v2=i0.MulXV(b_,k_[O_],f8);return a_.DotVV(a_.SubVV(v2,a2,a_.s_t0),U_)}let g8=new a_,v8=new a_;function xM(i2,_n,r_,p_,b_){let d_=_n.m_count,S_=_n.m_normals,T_=a_.SubVV(i0.MulXV(b_,p_.m_centroid,a_.s_t0),i0.MulXV(r_,_n.m_centroid,a_.s_t1),g8),k_=Z2.MulTRV(r_.q,T_,v8),U_=0,X_=-_o;for(let Q2=0;Q2<d_;++Q2){let ta=a_.DotVV(S_[Q2],k_);ta>X_&&(X_=ta,U_=Q2)}let O_=eV(_n,r_,U_,p_,b_),K_=(U_+d_-1)%d_,a2=eV(_n,r_,K_,p_,b_),v2=(U_+1)%d_,M2=eV(_n,r_,v2,p_,b_),R2=0,N2=0,W2=0;if(a2>O_&&a2>M2)W2=-1,R2=K_,N2=a2;else if(M2>O_)W2=1,R2=v2,N2=M2;else return i2[0]=U_,O_;for(;W2===-1?U_=(R2+d_-1)%d_:U_=(R2+1)%d_,O_=eV(_n,r_,U_,p_,b_),O_>N2;)R2=U_,N2=O_;return i2[0]=R2,N2}let A8=new a_;function S8(i2,_n,r_,p_,b_,d_){let S_=_n.m_normals,T_=b_.m_count,k_=b_.m_vertices,U_=b_.m_normals,X_=Z2.MulTRV(d_.q,Z2.MulRV(r_.q,S_[p_],a_.s_t0),A8),O_=0,K_=_o;for(let Q2=0;Q2<T_;++Q2){let ta=a_.DotVV(X_,U_[Q2]);ta<K_&&(K_=ta,O_=Q2)}let a2=O_,v2=(a2+1)%T_,M2=i2[0];i0.MulXV(d_,k_[a2],M2.v);let R2=M2.id.cf;R2.indexA=p_,R2.indexB=a2,R2.typeA=V.b2ContactFeatureType.e_face,R2.typeB=V.b2ContactFeatureType.e_vertex;let N2=i2[1];i0.MulXV(d_,k_[v2],N2.v);let W2=N2.id.cf;W2.indexA=p_,W2.indexB=v2,W2.typeA=V.b2ContactFeatureType.e_face,W2.typeB=V.b2ContactFeatureType.e_vertex}let C8=SC.MakeArray(2),B8=SC.MakeArray(2),P8=SC.MakeArray(2),w8=[0],V8=[0],M8=new a_,D8=new a_,G8=new a_,J8=new a_,I8=new a_,T8=new a_,F8=new a_,R8=new a_;function fM(i2,_n,r_,p_,b_){i2.pointCount=0;let d_=_n.m_radius+p_.m_radius,S_=w8;S_[0]=0;let T_=xM(S_,_n,r_,p_,b_);if(T_>d_)return;let k_=V8;k_[0]=0;let U_=xM(k_,p_,b_,_n,r_);if(U_>d_)return;let X_,O_,K_,a2,v2=0,M2=0;U_>.98*T_+.001?(X_=p_,O_=_n,K_=b_,a2=r_,v2=k_[0],i2.type=V.b2ManifoldType.e_faceB,M2=1):(X_=_n,O_=p_,K_=r_,a2=b_,v2=S_[0],i2.type=V.b2ManifoldType.e_faceA,M2=0);let W2=C8;S8(W2,X_,K_,v2,O_,a2);let Q2=X_.m_count,ta=X_.m_vertices,o0=v2,l0=(v2+1)%Q2,p0=ta[o0],S0=ta[l0],h0=a_.SubVV(S0,p0,M8);h0.Normalize();let G0=a_.CrossVOne(h0,D8),E0=a_.MidVV(p0,S0,G8),v0=Z2.MulRV(K_.q,h0,I8),m0=a_.CrossVOne(v0,J8),W0=i0.MulXV(K_,p0,F8),z0=i0.MulXV(K_,S0,R8),Py=a_.DotVV(m0,W0),n1=-a_.DotVV(v0,W0)+d_,h1=a_.DotVV(v0,z0)+d_,hA=B8,dA=P8,yA,BB=a_.NegV(v0,T8);if(yA=ZB(hA,W2,BB,n1,o0),yA<2||(yA=ZB(dA,hA,v0,h1,l0),yA<2))return;i2.localNormal.Copy(G0),i2.localPoint.Copy(E0);let jS=0;for(let PB=0;PB<o_;++PB){let WA=dA[PB];if(a_.DotVV(m0,WA.v)-Py<=d_){let $1=i2.points[jS];if(i0.MulTXV(a2,WA.v,$1.localPoint),$1.id.Copy(WA.id),M2){let wS=$1.id.cf;$1.id.cf.indexA=wS.indexB,$1.id.cf.indexB=wS.indexA,$1.id.cf.typeA=wS.typeB,$1.id.cf.typeB=wS.typeA}++jS}}i2.pointCount=jS}let L8=new a_,k8=new a_,m4=new a_,q8=new a_,E8=new a_,j8=new a_,z8=new a_,W8=new AB;function b4(i2,_n,r_,p_,b_){i2.pointCount=0;let d_=i0.MulTXV(r_,i0.MulXV(b_,p_.m_p,a_.s_t0),L8),S_=_n.m_vertex1,T_=_n.m_vertex2,k_=a_.SubVV(T_,S_,k8),U_=a_.DotVV(k_,a_.SubVV(T_,d_,a_.s_t0)),X_=a_.DotVV(k_,a_.SubVV(d_,S_,a_.s_t0)),O_=_n.m_radius+p_.m_radius,K_=W8;if(K_.cf.indexB=0,K_.cf.typeB=V.b2ContactFeatureType.e_vertex,X_<=0){let W2=S_,Q2=a_.SubVV(d_,W2,m4);if(a_.DotVV(Q2,Q2)>O_*O_)return;if(_n.m_hasVertex0){let o0=_n.m_vertex0,l0=S_,p0=a_.SubVV(l0,o0,q8);if(a_.DotVV(p0,a_.SubVV(l0,d_,a_.s_t0))>0)return}K_.cf.indexA=0,K_.cf.typeA=V.b2ContactFeatureType.e_vertex,i2.pointCount=1,i2.type=V.b2ManifoldType.e_circles,i2.localNormal.SetZero(),i2.localPoint.Copy(W2),i2.points[0].id.Copy(K_),i2.points[0].localPoint.Copy(p_.m_p);return}if(U_<=0){let W2=T_,Q2=a_.SubVV(d_,W2,m4);if(a_.DotVV(Q2,Q2)>O_*O_)return;if(_n.m_hasVertex3){let o0=_n.m_vertex3,l0=T_,p0=a_.SubVV(o0,l0,E8);if(a_.DotVV(p0,a_.SubVV(d_,l0,a_.s_t0))>0)return}K_.cf.indexA=1,K_.cf.typeA=V.b2ContactFeatureType.e_vertex,i2.pointCount=1,i2.type=V.b2ManifoldType.e_circles,i2.localNormal.SetZero(),i2.localPoint.Copy(W2),i2.points[0].id.Copy(K_),i2.points[0].localPoint.Copy(p_.m_p);return}let a2=a_.DotVV(k_,k_),v2=j8;v2.x=1/a2*(U_*S_.x+X_*T_.x),v2.y=1/a2*(U_*S_.y+X_*T_.y);let M2=a_.SubVV(d_,v2,m4);if(a_.DotVV(M2,M2)>O_*O_)return;let N2=z8.Set(-k_.y,k_.x);a_.DotVV(N2,a_.SubVV(d_,S_,a_.s_t0))<0&&N2.Set(-N2.x,-N2.y),N2.Normalize(),K_.cf.indexA=0,K_.cf.typeA=V.b2ContactFeatureType.e_face,i2.pointCount=1,i2.type=V.b2ManifoldType.e_faceA,i2.localNormal.Copy(N2),i2.localPoint.Copy(S_),i2.points[0].id.Copy(K_),i2.points[0].localPoint.Copy(p_.m_p)}var rS;(function(i2){i2[i2.e_unknown=0]="e_unknown",i2[i2.e_edgeA=1]="e_edgeA",i2[i2.e_edgeB=2]="e_edgeB"})(rS||(rS={}));class gM{constructor(){this.type=rS.e_unknown,this.index=0,this.separation=0}}class N8{constructor(){this.vertices=[],this.normals=[],this.count=0}}class O8{constructor(){this.i1=0,this.i2=0,this.v1=new a_,this.v2=new a_,this.normal=new a_,this.sideNormal1=new a_,this.sideOffset1=0,this.sideNormal2=new a_,this.sideOffset2=0}}var oV;(function(i2){i2[i2.e_isolated=0]="e_isolated",i2[i2.e_concave=1]="e_concave",i2[i2.e_convex=2]="e_convex"})(oV||(oV={}));class J1{constructor(){this.m_polygonB=new N8,this.m_xf=new i0,this.m_centroidB=new a_,this.m_v0=new a_,this.m_v1=new a_,this.m_v2=new a_,this.m_v3=new a_,this.m_normal0=new a_,this.m_normal1=new a_,this.m_normal2=new a_,this.m_normal=new a_,this.m_type1=oV.e_isolated,this.m_type2=oV.e_isolated,this.m_lowerLimit=new a_,this.m_upperLimit=new a_,this.m_radius=0,this.m_front=!1}Collide(_n,r_,p_,b_,d_){i0.MulTXX(p_,d_,this.m_xf),i0.MulXV(this.m_xf,b_.m_centroid,this.m_centroidB),this.m_v0.Copy(r_.m_vertex0),this.m_v1.Copy(r_.m_vertex1),this.m_v2.Copy(r_.m_vertex2),this.m_v3.Copy(r_.m_vertex3);let S_=r_.m_hasVertex0,T_=r_.m_hasVertex3,k_=a_.SubVV(this.m_v2,this.m_v1,J1.s_edge1);k_.Normalize(),this.m_normal1.Set(k_.y,-k_.x);let U_=a_.DotVV(this.m_normal1,a_.SubVV(this.m_centroidB,this.m_v1,a_.s_t0)),X_=0,O_=0,K_=!1,a2=!1;if(S_){let h0=a_.SubVV(this.m_v1,this.m_v0,J1.s_edge0);h0.Normalize(),this.m_normal0.Set(h0.y,-h0.x),K_=a_.CrossVV(h0,k_)>=0,X_=a_.DotVV(this.m_normal0,a_.SubVV(this.m_centroidB,this.m_v0,a_.s_t0))}if(T_){let h0=a_.SubVV(this.m_v3,this.m_v2,J1.s_edge2);h0.Normalize(),this.m_normal2.Set(h0.y,-h0.x),a2=a_.CrossVV(k_,h0)>0,O_=a_.DotVV(this.m_normal2,a_.SubVV(this.m_centroidB,this.m_v2,a_.s_t0))}S_&&T_?K_&&a2?(this.m_front=X_>=0||U_>=0||O_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):K_?(this.m_front=X_>=0||U_>=0&&O_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):a2?(this.m_front=O_>=0||X_>=0&&U_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):(this.m_front=X_>=0&&U_>=0&&O_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):S_?K_?(this.m_front=X_>=0||U_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):(this.m_front=X_>=0&&U_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):T_?a2?(this.m_front=U_>=0||O_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=U_>=0&&O_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=U_>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1))),this.m_polygonB.count=b_.m_count;for(let h0=0;h0<b_.m_count;++h0)this.m_polygonB.vertices.length<=h0&&this.m_polygonB.vertices.push(new a_),this.m_polygonB.normals.length<=h0&&this.m_polygonB.normals.push(new a_),i0.MulXV(this.m_xf,b_.m_vertices[h0],this.m_polygonB.vertices[h0]),Z2.MulRV(this.m_xf.q,b_.m_normals[h0],this.m_polygonB.normals[h0]);this.m_radius=b_.m_radius+r_.m_radius,_n.pointCount=0;let v2=this.ComputeEdgeSeparation(J1.s_edgeAxis);if(v2.type===rS.e_unknown||v2.separation>this.m_radius)return;let M2=this.ComputePolygonSeparation(J1.s_polygonAxis);if(M2.type!==rS.e_unknown&&M2.separation>this.m_radius)return;let R2=.98,N2=.001,W2;M2.type===rS.e_unknown?W2=v2:M2.separation>R2*v2.separation+N2?W2=M2:W2=v2;let Q2=J1.s_ie,ta=J1.s_rf;if(W2.type===rS.e_edgeA){_n.type=V.b2ManifoldType.e_faceA;let h0=0,G0=a_.DotVV(this.m_normal,this.m_polygonB.normals[0]);for(let z0=1;z0<this.m_polygonB.count;++z0){let Py=a_.DotVV(this.m_normal,this.m_polygonB.normals[z0]);Py<G0&&(G0=Py,h0=z0)}let E0=h0,v0=(E0+1)%this.m_polygonB.count,m0=Q2[0];m0.v.Copy(this.m_polygonB.vertices[E0]),m0.id.cf.indexA=0,m0.id.cf.indexB=E0,m0.id.cf.typeA=V.b2ContactFeatureType.e_face,m0.id.cf.typeB=V.b2ContactFeatureType.e_vertex;let W0=Q2[1];W0.v.Copy(this.m_polygonB.vertices[v0]),W0.id.cf.indexA=0,W0.id.cf.indexB=v0,W0.id.cf.typeA=V.b2ContactFeatureType.e_face,W0.id.cf.typeB=V.b2ContactFeatureType.e_vertex,this.m_front?(ta.i1=0,ta.i2=1,ta.v1.Copy(this.m_v1),ta.v2.Copy(this.m_v2),ta.normal.Copy(this.m_normal1)):(ta.i1=1,ta.i2=0,ta.v1.Copy(this.m_v2),ta.v2.Copy(this.m_v1),ta.normal.Copy(this.m_normal1).SelfNeg())}else{_n.type=V.b2ManifoldType.e_faceB;let h0=Q2[0];h0.v.Copy(this.m_v1),h0.id.cf.indexA=0,h0.id.cf.indexB=W2.index,h0.id.cf.typeA=V.b2ContactFeatureType.e_vertex,h0.id.cf.typeB=V.b2ContactFeatureType.e_face;let G0=Q2[1];G0.v.Copy(this.m_v2),G0.id.cf.indexA=0,G0.id.cf.indexB=W2.index,G0.id.cf.typeA=V.b2ContactFeatureType.e_vertex,G0.id.cf.typeB=V.b2ContactFeatureType.e_face,ta.i1=W2.index,ta.i2=(ta.i1+1)%this.m_polygonB.count,ta.v1.Copy(this.m_polygonB.vertices[ta.i1]),ta.v2.Copy(this.m_polygonB.vertices[ta.i2]),ta.normal.Copy(this.m_polygonB.normals[ta.i1])}ta.sideNormal1.Set(ta.normal.y,-ta.normal.x),ta.sideNormal2.Copy(ta.sideNormal1).SelfNeg(),ta.sideOffset1=a_.DotVV(ta.sideNormal1,ta.v1),ta.sideOffset2=a_.DotVV(ta.sideNormal2,ta.v2);let o0=J1.s_clipPoints1,l0=J1.s_clipPoints2,p0=0;if(p0=ZB(o0,Q2,ta.sideNormal1,ta.sideOffset1,ta.i1),p0<o_||(p0=ZB(l0,o0,ta.sideNormal2,ta.sideOffset2,ta.i2),p0<o_))return;W2.type===rS.e_edgeA?(_n.localNormal.Copy(ta.normal),_n.localPoint.Copy(ta.v1)):(_n.localNormal.Copy(b_.m_normals[ta.i1]),_n.localPoint.Copy(b_.m_vertices[ta.i1]));let S0=0;for(let h0=0;h0<o_;++h0){let G0;if(G0=a_.DotVV(ta.normal,a_.SubVV(l0[h0].v,ta.v1,a_.s_t0)),G0<=this.m_radius){let E0=_n.points[S0];W2.type===rS.e_edgeA?(i0.MulTXV(this.m_xf,l0[h0].v,E0.localPoint),E0.id.Copy(l0[h0].id)):(E0.localPoint.Copy(l0[h0].v),E0.id.cf.typeA=l0[h0].id.cf.typeB,E0.id.cf.typeB=l0[h0].id.cf.typeA,E0.id.cf.indexA=l0[h0].id.cf.indexB,E0.id.cf.indexB=l0[h0].id.cf.indexA),++S0}}_n.pointCount=S0}ComputeEdgeSeparation(_n){let r_=_n;r_.type=rS.e_edgeA,r_.index=this.m_front?0:1,r_.separation=_o;for(let p_=0;p_<this.m_polygonB.count;++p_){let b_=a_.DotVV(this.m_normal,a_.SubVV(this.m_polygonB.vertices[p_],this.m_v1,a_.s_t0));b_<r_.separation&&(r_.separation=b_)}return r_}ComputePolygonSeparation(_n){let r_=_n;r_.type=rS.e_unknown,r_.index=-1,r_.separation=-_o;let p_=J1.s_perp.Set(-this.m_normal.y,this.m_normal.x);for(let b_=0;b_<this.m_polygonB.count;++b_){let d_=a_.NegV(this.m_polygonB.normals[b_],J1.s_n),S_=a_.DotVV(d_,a_.SubVV(this.m_polygonB.vertices[b_],this.m_v1,a_.s_t0)),T_=a_.DotVV(d_,a_.SubVV(this.m_polygonB.vertices[b_],this.m_v2,a_.s_t0)),k_=k0(S_,T_);if(k_>this.m_radius)return r_.type=rS.e_edgeB,r_.index=b_,r_.separation=k_,r_;if(a_.DotVV(d_,p_)>=0){if(a_.DotVV(a_.SubVV(d_,this.m_upperLimit,a_.s_t0),this.m_normal)<-h_)continue}else if(a_.DotVV(a_.SubVV(d_,this.m_lowerLimit,a_.s_t0),this.m_normal)<-h_)continue;k_>r_.separation&&(r_.type=rS.e_edgeB,r_.index=b_,r_.separation=k_)}return r_}}J1.s_edge1=new a_,J1.s_edge0=new a_,J1.s_edge2=new a_,J1.s_ie=SC.MakeArray(2),J1.s_rf=new O8,J1.s_clipPoints1=SC.MakeArray(2),J1.s_clipPoints2=SC.MakeArray(2),J1.s_edgeAxis=new gM,J1.s_polygonAxis=new gM,J1.s_n=new a_,J1.s_perp=new a_;let U8=new J1;function u4(i2,_n,r_,p_,b_){U8.Collide(i2,_n,r_,p_,b_)}class iV{constructor(){this.mass=0,this.center=new a_(0,0),this.I=0}}(function(i2){i2[i2.e_unknown=-1]="e_unknown",i2[i2.e_circleShape=0]="e_circleShape",i2[i2.e_edgeShape=1]="e_edgeShape",i2[i2.e_polygonShape=2]="e_polygonShape",i2[i2.e_chainShape=3]="e_chainShape",i2[i2.e_shapeTypeCount=4]="e_shapeTypeCount"})(V.b2ShapeType||(V.b2ShapeType={}));class OC{constructor(_n,r_){this.m_type=V.b2ShapeType.e_unknown,this.m_radius=0,this.m_type=_n,this.m_radius=r_}Copy(_n){return this.m_radius=_n.m_radius,this}GetType(){return this.m_type}}class PA extends OC{constructor(_n=0){super(V.b2ShapeType.e_circleShape,_n),this.m_p=new a_}Set(_n,r_=this.m_radius){return this.m_p.Copy(_n),this.m_radius=r_,this}Clone(){return new PA().Copy(this)}Copy(_n){return super.Copy(_n),this.m_p.Copy(_n.m_p),this}GetChildCount(){return 1}TestPoint(_n,r_){let p_=i0.MulXV(_n,this.m_p,PA.TestPoint_s_center),b_=a_.SubVV(r_,p_,PA.TestPoint_s_d);return a_.DotVV(b_,b_)<=T2(this.m_radius)}ComputeDistance(_n,r_,p_,b_){let d_=i0.MulXV(_n,this.m_p,PA.ComputeDistance_s_center);return a_.SubVV(r_,d_,p_),p_.Normalize()-this.m_radius}RayCast(_n,r_,p_,b_){let d_=i0.MulXV(p_,this.m_p,PA.RayCast_s_position),S_=a_.SubVV(r_.p1,d_,PA.RayCast_s_s),T_=a_.DotVV(S_,S_)-T2(this.m_radius),k_=a_.SubVV(r_.p2,r_.p1,PA.RayCast_s_r),U_=a_.DotVV(S_,k_),X_=a_.DotVV(k_,k_),O_=U_*U_-X_*T_;if(O_<0||X_<_i)return!1;let K_=-(U_+dS(O_));return 0<=K_&&K_<=r_.maxFraction*X_?(K_/=X_,_n.fraction=K_,a_.AddVMulSV(S_,K_,k_,_n.normal).SelfNormalize(),!0):!1}ComputeAABB(_n,r_,p_){let b_=i0.MulXV(r_,this.m_p,PA.ComputeAABB_s_p);_n.lowerBound.Set(b_.x-this.m_radius,b_.y-this.m_radius),_n.upperBound.Set(b_.x+this.m_radius,b_.y+this.m_radius)}ComputeMass(_n,r_){let p_=T2(this.m_radius);_n.mass=r_*t_*p_,_n.center.Copy(this.m_p),_n.I=_n.mass*(.5*p_+a_.DotVV(this.m_p,this.m_p))}SetupDistanceProxy(_n,r_){_n.m_vertices=_n.m_buffer,_n.m_vertices[0].Copy(this.m_p),_n.m_count=1,_n.m_radius=this.m_radius}ComputeSubmergedArea(_n,r_,p_,b_){let d_=i0.MulXV(p_,this.m_p,new a_),S_=-(a_.DotVV(_n,d_)-r_);if(S_<-this.m_radius+_i)return 0;if(S_>this.m_radius)return b_.Copy(d_),t_*this.m_radius*this.m_radius;let T_=this.m_radius*this.m_radius,k_=S_*S_,U_=T_*(NB(S_/this.m_radius)+t_/2)+S_*dS(T_-k_),X_=-2/3*WP(T_-k_,1.5)/U_;return b_.x=d_.x+_n.x*X_,b_.y=d_.y+_n.y*X_,U_}Dump(_n){_n(`    const shape: b2CircleShape = new b2CircleShape();
`),_n(`    shape.m_radius = %.15f;
`,this.m_radius),_n(`    shape.m_p.Set(%.15f, %.15f);
`,this.m_p.x,this.m_p.y)}}PA.TestPoint_s_center=new a_,PA.TestPoint_s_d=new a_,PA.ComputeDistance_s_center=new a_,PA.RayCast_s_position=new a_,PA.RayCast_s_s=new a_,PA.RayCast_s_r=new a_,PA.ComputeAABB_s_p=new a_;class N0 extends OC{constructor(){super(V.b2ShapeType.e_polygonShape,s_),this.m_centroid=new a_(0,0),this.m_vertices=[],this.m_normals=[],this.m_count=0}Clone(){return new N0().Copy(this)}Copy(_n){super.Copy(_n),this.m_centroid.Copy(_n.m_centroid),this.m_count=_n.m_count,this.m_vertices=a_.MakeArray(this.m_count),this.m_normals=a_.MakeArray(this.m_count);for(let r_=0;r_<this.m_count;++r_)this.m_vertices[r_].Copy(_n.m_vertices[r_]),this.m_normals[r_].Copy(_n.m_normals[r_]);return this}GetChildCount(){return 1}Set(..._n){if(typeof _n[0][0]=="number"){let r_=_n[0];if(r_.length%2!==0)throw new Error;return this._Set(p_=>({x:r_[p_*2],y:r_[p_*2+1]}),r_.length/2)}else{let r_=_n[0],p_=_n[1]||r_.length;return this._Set(b_=>r_[b_],p_)}}_Set(_n,r_){if(r_<3)return this.SetAsBox(1,1);let p_=r_,b_=[];for(let X_=0;X_<p_;++X_){let O_=_n(X_),K_=!0;for(let a2=0;a2<b_.length;++a2)if(a_.DistanceSquaredVV(O_,b_[a2])<.5*ws*(.5*ws)){K_=!1;break}K_&&b_.push(O_)}if(p_=b_.length,p_<3)return this.SetAsBox(1,1);let d_=0,S_=b_[0].x;for(let X_=1;X_<p_;++X_){let O_=b_[X_].x;(O_>S_||O_===S_&&b_[X_].y<b_[d_].y)&&(d_=X_,S_=O_)}let T_=[],k_=0,U_=d_;for(;;){T_[k_]=U_;let X_=0;for(let O_=1;O_<p_;++O_){if(X_===U_){X_=O_;continue}let K_=a_.SubVV(b_[X_],b_[T_[k_]],N0.Set_s_r),a2=a_.SubVV(b_[O_],b_[T_[k_]],N0.Set_s_v),v2=a_.CrossVV(K_,a2);v2<0&&(X_=O_),v2===0&&a2.LengthSquared()>K_.LengthSquared()&&(X_=O_)}if(++k_,U_=X_,X_===d_)break}this.m_count=k_,this.m_vertices=a_.MakeArray(this.m_count),this.m_normals=a_.MakeArray(this.m_count);for(let X_=0;X_<k_;++X_)this.m_vertices[X_].Copy(b_[T_[X_]]);for(let X_=0;X_<k_;++X_){let O_=this.m_vertices[X_],K_=this.m_vertices[(X_+1)%k_],a2=a_.SubVV(K_,O_,a_.s_t0);a_.CrossVOne(a2,this.m_normals[X_]).SelfNormalize()}return N0.ComputeCentroid(this.m_vertices,k_,this.m_centroid),this}SetAsBox(_n,r_,p_,b_=0){if(this.m_count=4,this.m_vertices=a_.MakeArray(this.m_count),this.m_normals=a_.MakeArray(this.m_count),this.m_vertices[0].Set(-_n,-r_),this.m_vertices[1].Set(_n,-r_),this.m_vertices[2].Set(_n,r_),this.m_vertices[3].Set(-_n,r_),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero(),p_){this.m_centroid.Copy(p_);let d_=new i0;d_.SetPosition(p_),d_.SetRotationAngle(b_);for(let S_=0;S_<this.m_count;++S_)i0.MulXV(d_,this.m_vertices[S_],this.m_vertices[S_]),Z2.MulRV(d_.q,this.m_normals[S_],this.m_normals[S_])}return this}TestPoint(_n,r_){let p_=i0.MulTXV(_n,r_,N0.TestPoint_s_pLocal);for(let b_=0;b_<this.m_count;++b_)if(a_.DotVV(this.m_normals[b_],a_.SubVV(p_,this.m_vertices[b_],a_.s_t0))>0)return!1;return!0}ComputeDistance(_n,r_,p_,b_){let d_=i0.MulTXV(_n,r_,N0.ComputeDistance_s_pLocal),S_=-_o,T_=N0.ComputeDistance_s_normalForMaxDistance.Copy(d_);for(let k_=0;k_<this.m_count;++k_){let U_=a_.DotVV(this.m_normals[k_],a_.SubVV(d_,this.m_vertices[k_],a_.s_t0));U_>S_&&(S_=U_,T_.Copy(this.m_normals[k_]))}if(S_>0){let k_=N0.ComputeDistance_s_minDistance.Copy(T_),U_=S_*S_;for(let X_=0;X_<this.m_count;++X_){let O_=a_.SubVV(d_,this.m_vertices[X_],N0.ComputeDistance_s_distance),K_=O_.LengthSquared();U_>K_&&(k_.Copy(O_),U_=K_)}return Z2.MulRV(_n.q,k_,p_),p_.Normalize(),Math.sqrt(U_)}else return Z2.MulRV(_n.q,T_,p_),S_}RayCast(_n,r_,p_,b_){let d_=i0.MulTXV(p_,r_.p1,N0.RayCast_s_p1),S_=i0.MulTXV(p_,r_.p2,N0.RayCast_s_p2),T_=a_.SubVV(S_,d_,N0.RayCast_s_d),k_=0,U_=r_.maxFraction,X_=-1;for(let O_=0;O_<this.m_count;++O_){let K_=a_.DotVV(this.m_normals[O_],a_.SubVV(this.m_vertices[O_],d_,a_.s_t0)),a2=a_.DotVV(this.m_normals[O_],T_);if(a2===0){if(K_<0)return!1}else a2<0&&K_<k_*a2?(k_=K_/a2,X_=O_):a2>0&&K_<U_*a2&&(U_=K_/a2);if(U_<k_)return!1}return X_>=0?(_n.fraction=k_,Z2.MulRV(p_.q,this.m_normals[X_],_n.normal),!0):!1}ComputeAABB(_n,r_,p_){let b_=i0.MulXV(r_,this.m_vertices[0],_n.lowerBound),d_=_n.upperBound.Copy(b_);for(let T_=0;T_<this.m_count;++T_){let k_=i0.MulXV(r_,this.m_vertices[T_],N0.ComputeAABB_s_v);a_.MinV(k_,b_,b_),a_.MaxV(k_,d_,d_)}let S_=this.m_radius;b_.SelfSubXY(S_,S_),d_.SelfAddXY(S_,S_)}ComputeMass(_n,r_){let p_=N0.ComputeMass_s_center.SetZero(),b_=0,d_=0,S_=N0.ComputeMass_s_s.SetZero();for(let k_=0;k_<this.m_count;++k_)S_.SelfAdd(this.m_vertices[k_]);S_.SelfMul(1/this.m_count);let T_=1/3;for(let k_=0;k_<this.m_count;++k_){let U_=a_.SubVV(this.m_vertices[k_],S_,N0.ComputeMass_s_e1),X_=a_.SubVV(this.m_vertices[(k_+1)%this.m_count],S_,N0.ComputeMass_s_e2),O_=a_.CrossVV(U_,X_),K_=.5*O_;b_+=K_,p_.SelfAdd(a_.MulSV(K_*T_,a_.AddVV(U_,X_,a_.s_t0),a_.s_t1));let a2=U_.x,v2=U_.y,M2=X_.x,R2=X_.y,N2=a2*a2+M2*a2+M2*M2,W2=v2*v2+R2*v2+R2*R2;d_+=.25*T_*O_*(N2+W2)}_n.mass=r_*b_,p_.SelfMul(1/b_),a_.AddVV(p_,S_,_n.center),_n.I=r_*d_,_n.I+=_n.mass*(a_.DotVV(_n.center,_n.center)-a_.DotVV(p_,p_))}Validate(){for(let _n=0;_n<this.m_count;++_n){let r_=_n,p_=(_n+1)%this.m_count,b_=this.m_vertices[r_],d_=a_.SubVV(this.m_vertices[p_],b_,N0.Validate_s_e);for(let S_=0;S_<this.m_count;++S_){if(S_===r_||S_===p_)continue;let T_=a_.SubVV(this.m_vertices[S_],b_,N0.Validate_s_v);if(a_.CrossVV(d_,T_)<0)return!1}}return!0}SetupDistanceProxy(_n,r_){_n.m_vertices=this.m_vertices,_n.m_count=this.m_count,_n.m_radius=this.m_radius}ComputeSubmergedArea(_n,r_,p_,b_){let d_=Z2.MulTRV(p_.q,_n,N0.ComputeSubmergedArea_s_normalL),S_=r_-a_.DotVV(_n,p_.p),T_=[],k_=0,U_=-1,X_=-1,O_=!1;for(let p0=0;p0<this.m_count;++p0){T_[p0]=a_.DotVV(d_,this.m_vertices[p0])-S_;let S0=T_[p0]<-_i;p0>0&&(S0?O_||(U_=p0-1,k_++):O_&&(X_=p0-1,k_++)),O_=S0}switch(k_){case 0:if(O_){let p0=N0.ComputeSubmergedArea_s_md;return this.ComputeMass(p0,1),i0.MulXV(p_,p0.center,b_),p0.mass}else return 0;case 1:U_===-1?U_=this.m_count-1:X_=this.m_count-1;break}let K_=(U_+1)%this.m_count,a2=(X_+1)%this.m_count,v2=(0-T_[U_])/(T_[K_]-T_[U_]),M2=(0-T_[X_])/(T_[a2]-T_[X_]),R2=N0.ComputeSubmergedArea_s_intoVec.Set(this.m_vertices[U_].x*(1-v2)+this.m_vertices[K_].x*v2,this.m_vertices[U_].y*(1-v2)+this.m_vertices[K_].y*v2),N2=N0.ComputeSubmergedArea_s_outoVec.Set(this.m_vertices[X_].x*(1-M2)+this.m_vertices[a2].x*M2,this.m_vertices[X_].y*(1-M2)+this.m_vertices[a2].y*M2),W2=0,Q2=N0.ComputeSubmergedArea_s_center.SetZero(),ta=this.m_vertices[K_],o0,l0=K_;for(;l0!==a2;){l0=(l0+1)%this.m_count,l0===a2?o0=N2:o0=this.m_vertices[l0];let p0=.5*((ta.x-R2.x)*(o0.y-R2.y)-(ta.y-R2.y)*(o0.x-R2.x));W2+=p0,Q2.x+=p0*(R2.x+ta.x+o0.x)/3,Q2.y+=p0*(R2.y+ta.y+o0.y)/3,ta=o0}return Q2.SelfMul(1/W2),i0.MulXV(p_,Q2,b_),W2}Dump(_n){_n(`    const shape: b2PolygonShape = new b2PolygonShape();
`),_n(`    const vs: b2Vec2[] = [];
`);for(let r_=0;r_<this.m_count;++r_)_n(`    vs[%d] = new b2Vec2(%.15f, %.15f);
`,r_,this.m_vertices[r_].x,this.m_vertices[r_].y);_n(`    shape.Set(vs, %d);
`,this.m_count)}static ComputeCentroid(_n,r_,p_){let b_=p_;b_.SetZero();let d_=0,S_=N0.ComputeCentroid_s_pRef.SetZero(),T_=1/3;for(let k_=0;k_<r_;++k_){let U_=S_,X_=_n[k_],O_=_n[(k_+1)%r_],K_=a_.SubVV(X_,U_,N0.ComputeCentroid_s_e1),a2=a_.SubVV(O_,U_,N0.ComputeCentroid_s_e2),M2=.5*a_.CrossVV(K_,a2);d_+=M2,b_.x+=M2*T_*(U_.x+X_.x+O_.x),b_.y+=M2*T_*(U_.y+X_.y+O_.y)}return b_.SelfMul(1/d_),b_}}N0.Set_s_r=new a_,N0.Set_s_v=new a_,N0.TestPoint_s_pLocal=new a_,N0.ComputeDistance_s_pLocal=new a_,N0.ComputeDistance_s_normalForMaxDistance=new a_,N0.ComputeDistance_s_minDistance=new a_,N0.ComputeDistance_s_distance=new a_,N0.RayCast_s_p1=new a_,N0.RayCast_s_p2=new a_,N0.RayCast_s_d=new a_,N0.ComputeAABB_s_v=new a_,N0.ComputeMass_s_center=new a_,N0.ComputeMass_s_s=new a_,N0.ComputeMass_s_e1=new a_,N0.ComputeMass_s_e2=new a_,N0.Validate_s_e=new a_,N0.Validate_s_v=new a_,N0.ComputeSubmergedArea_s_normalL=new a_,N0.ComputeSubmergedArea_s_md=new iV,N0.ComputeSubmergedArea_s_intoVec=new a_,N0.ComputeSubmergedArea_s_outoVec=new a_,N0.ComputeSubmergedArea_s_center=new a_,N0.ComputeCentroid_s_pRef=new a_,N0.ComputeCentroid_s_e1=new a_,N0.ComputeCentroid_s_e2=new a_;class Qy extends OC{constructor(){super(V.b2ShapeType.e_edgeShape,s_),this.m_vertex1=new a_,this.m_vertex2=new a_,this.m_vertex0=new a_,this.m_vertex3=new a_,this.m_hasVertex0=!1,this.m_hasVertex3=!1}Set(_n,r_){return this.m_vertex1.Copy(_n),this.m_vertex2.Copy(r_),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this}Clone(){return new Qy().Copy(this)}Copy(_n){return super.Copy(_n),this.m_vertex1.Copy(_n.m_vertex1),this.m_vertex2.Copy(_n.m_vertex2),this.m_vertex0.Copy(_n.m_vertex0),this.m_vertex3.Copy(_n.m_vertex3),this.m_hasVertex0=_n.m_hasVertex0,this.m_hasVertex3=_n.m_hasVertex3,this}GetChildCount(){return 1}TestPoint(_n,r_){return!1}ComputeDistance(_n,r_,p_,b_){let d_=i0.MulXV(_n,this.m_vertex1,Qy.ComputeDistance_s_v1),S_=i0.MulXV(_n,this.m_vertex2,Qy.ComputeDistance_s_v2),T_=a_.SubVV(r_,d_,Qy.ComputeDistance_s_d),k_=a_.SubVV(S_,d_,Qy.ComputeDistance_s_s),U_=a_.DotVV(T_,k_);if(U_>0){let X_=a_.DotVV(k_,k_);U_>X_?a_.SubVV(r_,S_,T_):T_.SelfMulSub(U_/X_,k_)}return p_.Copy(T_),p_.Normalize()}RayCast(_n,r_,p_,b_){let d_=i0.MulTXV(p_,r_.p1,Qy.RayCast_s_p1),S_=i0.MulTXV(p_,r_.p2,Qy.RayCast_s_p2),T_=a_.SubVV(S_,d_,Qy.RayCast_s_d),k_=this.m_vertex1,U_=this.m_vertex2,X_=a_.SubVV(U_,k_,Qy.RayCast_s_e),O_=_n.normal.Set(X_.y,-X_.x).SelfNormalize(),K_=a_.DotVV(O_,a_.SubVV(k_,d_,a_.s_t0)),a2=a_.DotVV(O_,T_);if(a2===0)return!1;let v2=K_/a2;if(v2<0||r_.maxFraction<v2)return!1;let M2=a_.AddVMulSV(d_,v2,T_,Qy.RayCast_s_q),R2=a_.SubVV(U_,k_,Qy.RayCast_s_r),N2=a_.DotVV(R2,R2);if(N2===0)return!1;let W2=a_.DotVV(a_.SubVV(M2,k_,a_.s_t0),R2)/N2;return W2<0||1<W2?!1:(_n.fraction=v2,Z2.MulRV(p_.q,_n.normal,_n.normal),K_>0&&_n.normal.SelfNeg(),!0)}ComputeAABB(_n,r_,p_){let b_=i0.MulXV(r_,this.m_vertex1,Qy.ComputeAABB_s_v1),d_=i0.MulXV(r_,this.m_vertex2,Qy.ComputeAABB_s_v2);a_.MinV(b_,d_,_n.lowerBound),a_.MaxV(b_,d_,_n.upperBound);let S_=this.m_radius;_n.lowerBound.SelfSubXY(S_,S_),_n.upperBound.SelfAddXY(S_,S_)}ComputeMass(_n,r_){_n.mass=0,a_.MidVV(this.m_vertex1,this.m_vertex2,_n.center),_n.I=0}SetupDistanceProxy(_n,r_){_n.m_vertices=_n.m_buffer,_n.m_vertices[0].Copy(this.m_vertex1),_n.m_vertices[1].Copy(this.m_vertex2),_n.m_count=2,_n.m_radius=this.m_radius}ComputeSubmergedArea(_n,r_,p_,b_){return b_.SetZero(),0}Dump(_n){_n(`    const shape: b2EdgeShape = new b2EdgeShape();
`),_n(`    shape.m_radius = %.15f;
`,this.m_radius),_n(`    shape.m_vertex0.Set(%.15f, %.15f);
`,this.m_vertex0.x,this.m_vertex0.y),_n(`    shape.m_vertex1.Set(%.15f, %.15f);
`,this.m_vertex1.x,this.m_vertex1.y),_n(`    shape.m_vertex2.Set(%.15f, %.15f);
`,this.m_vertex2.x,this.m_vertex2.y),_n(`    shape.m_vertex3.Set(%.15f, %.15f);
`,this.m_vertex3.x,this.m_vertex3.y),_n(`    shape.m_hasVertex0 = %s;
`,this.m_hasVertex0),_n(`    shape.m_hasVertex3 = %s;
`,this.m_hasVertex3)}}Qy.ComputeDistance_s_v1=new a_,Qy.ComputeDistance_s_v2=new a_,Qy.ComputeDistance_s_d=new a_,Qy.ComputeDistance_s_s=new a_,Qy.RayCast_s_p1=new a_,Qy.RayCast_s_p2=new a_,Qy.RayCast_s_d=new a_,Qy.RayCast_s_e=new a_,Qy.RayCast_s_q=new a_,Qy.RayCast_s_r=new a_,Qy.ComputeAABB_s_v1=new a_,Qy.ComputeAABB_s_v2=new a_;class PS extends OC{constructor(){super(V.b2ShapeType.e_chainShape,s_),this.m_vertices=[],this.m_count=0,this.m_prevVertex=new a_,this.m_nextVertex=new a_,this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1}CreateLoop(..._n){if(typeof _n[0][0]=="number"){let r_=_n[0];if(r_.length%2!==0)throw new Error;return this._CreateLoop(p_=>({x:r_[p_*2],y:r_[p_*2+1]}),r_.length/2)}else{let r_=_n[0],p_=_n[1]||r_.length;return this._CreateLoop(b_=>r_[b_],p_)}}_CreateLoop(_n,r_){if(r_<3)return this;this.m_count=r_+1,this.m_vertices=a_.MakeArray(this.m_count);for(let p_=0;p_<r_;++p_)this.m_vertices[p_].Copy(_n(p_));return this.m_vertices[r_].Copy(this.m_vertices[0]),this.m_prevVertex.Copy(this.m_vertices[this.m_count-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this}CreateChain(..._n){if(typeof _n[0][0]=="number"){let r_=_n[0];if(r_.length%2!==0)throw new Error;return this._CreateChain(p_=>({x:r_[p_*2],y:r_[p_*2+1]}),r_.length/2)}else{let r_=_n[0],p_=_n[1]||r_.length;return this._CreateChain(b_=>r_[b_],p_)}}_CreateChain(_n,r_){this.m_count=r_,this.m_vertices=a_.MakeArray(r_);for(let p_=0;p_<r_;++p_)this.m_vertices[p_].Copy(_n(p_));return this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_prevVertex.SetZero(),this.m_nextVertex.SetZero(),this}SetPrevVertex(_n){return this.m_prevVertex.Copy(_n),this.m_hasPrevVertex=!0,this}SetNextVertex(_n){return this.m_nextVertex.Copy(_n),this.m_hasNextVertex=!0,this}Clone(){return new PS().Copy(this)}Copy(_n){return super.Copy(_n),this._CreateChain(r_=>_n.m_vertices[r_],_n.m_count),this.m_prevVertex.Copy(_n.m_prevVertex),this.m_nextVertex.Copy(_n.m_nextVertex),this.m_hasPrevVertex=_n.m_hasPrevVertex,this.m_hasNextVertex=_n.m_hasNextVertex,this}GetChildCount(){return this.m_count-1}GetChildEdge(_n,r_){_n.m_radius=this.m_radius,_n.m_vertex1.Copy(this.m_vertices[r_]),_n.m_vertex2.Copy(this.m_vertices[r_+1]),r_>0?(_n.m_vertex0.Copy(this.m_vertices[r_-1]),_n.m_hasVertex0=!0):(_n.m_vertex0.Copy(this.m_prevVertex),_n.m_hasVertex0=this.m_hasPrevVertex),r_<this.m_count-2?(_n.m_vertex3.Copy(this.m_vertices[r_+2]),_n.m_hasVertex3=!0):(_n.m_vertex3.Copy(this.m_nextVertex),_n.m_hasVertex3=this.m_hasNextVertex)}TestPoint(_n,r_){return!1}ComputeDistance(_n,r_,p_,b_){let d_=PS.ComputeDistance_s_edgeShape;return this.GetChildEdge(d_,b_),d_.ComputeDistance(_n,r_,p_,0)}RayCast(_n,r_,p_,b_){let d_=PS.RayCast_s_edgeShape;return d_.m_vertex1.Copy(this.m_vertices[b_]),d_.m_vertex2.Copy(this.m_vertices[(b_+1)%this.m_count]),d_.RayCast(_n,r_,p_,0)}ComputeAABB(_n,r_,p_){let b_=this.m_vertices[p_],d_=this.m_vertices[(p_+1)%this.m_count],S_=i0.MulXV(r_,b_,PS.ComputeAABB_s_v1),T_=i0.MulXV(r_,d_,PS.ComputeAABB_s_v2);a_.MinV(S_,T_,_n.lowerBound),a_.MaxV(S_,T_,_n.upperBound)}ComputeMass(_n,r_){_n.mass=0,_n.center.SetZero(),_n.I=0}SetupDistanceProxy(_n,r_){_n.m_vertices=_n.m_buffer,_n.m_vertices[0].Copy(this.m_vertices[r_]),r_+1<this.m_count?_n.m_vertices[1].Copy(this.m_vertices[r_+1]):_n.m_vertices[1].Copy(this.m_vertices[0]),_n.m_count=2,_n.m_radius=this.m_radius}ComputeSubmergedArea(_n,r_,p_,b_){return b_.SetZero(),0}Dump(_n){_n(`    const shape: b2ChainShape = new b2ChainShape();
`),_n(`    const vs: b2Vec2[] = [];
`);for(let r_=0;r_<this.m_count;++r_)_n(`    vs[%d] = new bVec2(%.15f, %.15f);
`,r_,this.m_vertices[r_].x,this.m_vertices[r_].y);_n(`    shape.CreateChain(vs, %d);
`,this.m_count),_n(`    shape.m_prevVertex.Set(%.15f, %.15f);
`,this.m_prevVertex.x,this.m_prevVertex.y),_n(`    shape.m_nextVertex.Set(%.15f, %.15f);
`,this.m_nextVertex.x,this.m_nextVertex.y),_n(`    shape.m_hasPrevVertex = %s;
`,this.m_hasPrevVertex?"true":"false"),_n(`    shape.m_hasNextVertex = %s;
`,this.m_hasNextVertex?"true":"false")}}PS.ComputeDistance_s_edgeShape=new Qy,PS.RayCast_s_edgeShape=new Qy,PS.ComputeAABB_s_v1=new a_,PS.ComputeAABB_s_v2=new a_;class CC{constructor(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0}Clone(){return new CC().Copy(this)}Copy(_n){return this.categoryBits=_n.categoryBits,this.maskBits=_n.maskBits,this.groupIndex=_n.groupIndex||0,this}}CC.DEFAULT=new CC;class vM{constructor(){this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.isSensor=!1,this.filter=new CC}}class UC{constructor(_n,r_){this.aabb=new bA,this.childIndex=0,this.fixture=_n,this.childIndex=r_,this.fixture.m_shape.ComputeAABB(this.aabb,this.fixture.m_body.GetTransform(),r_),this.treeNode=this.fixture.m_body.m_world.m_contactManager.m_broadPhase.CreateProxy(this.aabb,this)}Reset(){this.fixture.m_body.m_world.m_contactManager.m_broadPhase.DestroyProxy(this.treeNode)}Touch(){this.fixture.m_body.m_world.m_contactManager.m_broadPhase.TouchProxy(this.treeNode)}Synchronize(_n,r_,p_){if(_n===r_)this.fixture.m_shape.ComputeAABB(this.aabb,_n,this.childIndex),this.fixture.m_body.m_world.m_contactManager.m_broadPhase.MoveProxy(this.treeNode,this.aabb,p_);else{let b_=UC.Synchronize_s_aabb1,d_=UC.Synchronize_s_aabb2;this.fixture.m_shape.ComputeAABB(b_,_n,this.childIndex),this.fixture.m_shape.ComputeAABB(d_,r_,this.childIndex),this.aabb.Combine2(b_,d_),this.fixture.m_body.m_world.m_contactManager.m_broadPhase.MoveProxy(this.treeNode,this.aabb,p_)}}}UC.Synchronize_s_aabb1=new bA,UC.Synchronize_s_aabb2=new bA;class AM{constructor(_n,r_){this.m_density=0,this.m_next=null,this.m_friction=0,this.m_restitution=0,this.m_proxies=[],this.m_filter=new CC,this.m_isSensor=!1,this.m_userData=null,this.m_body=_n,this.m_shape=r_.shape.Clone(),this.m_userData=o(r_.userData,null),this.m_friction=o(r_.friction,.2),this.m_restitution=o(r_.restitution,0),this.m_filter.Copy(o(r_.filter,CC.DEFAULT)),this.m_isSensor=o(r_.isSensor,!1),this.m_density=o(r_.density,0)}get m_proxyCount(){return this.m_proxies.length}Reset(){}GetType(){return this.m_shape.GetType()}GetShape(){return this.m_shape}SetSensor(_n){_n!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=_n)}IsSensor(){return this.m_isSensor}SetFilterData(_n){this.m_filter.Copy(_n),this.Refilter()}GetFilterData(){return this.m_filter}Refilter(){let _n=this.m_body.GetContactList();for(;_n;){let r_=_n.contact,p_=r_.GetFixtureA(),b_=r_.GetFixtureB();(p_===this||b_===this)&&r_.FlagForFiltering(),_n=_n.next}this.TouchProxies()}GetBody(){return this.m_body}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(_n){this.m_userData=_n}TestPoint(_n){return this.m_shape.TestPoint(this.m_body.GetTransform(),_n)}ComputeDistance(_n,r_,p_){return this.m_shape.ComputeDistance(this.m_body.GetTransform(),_n,r_,p_)}RayCast(_n,r_,p_){return this.m_shape.RayCast(_n,r_,this.m_body.GetTransform(),p_)}GetMassData(_n=new iV){return this.m_shape.ComputeMass(_n,this.m_density),_n}SetDensity(_n){this.m_density=_n}GetDensity(){return this.m_density}GetFriction(){return this.m_friction}SetFriction(_n){this.m_friction=_n}GetRestitution(){return this.m_restitution}SetRestitution(_n){this.m_restitution=_n}GetAABB(_n){return this.m_proxies[_n].aabb}Dump(_n,r_){_n(`    const fd: b2FixtureDef = new b2FixtureDef();
`),_n(`    fd.friction = %.15f;
`,this.m_friction),_n(`    fd.restitution = %.15f;
`,this.m_restitution),_n(`    fd.density = %.15f;
`,this.m_density),_n(`    fd.isSensor = %s;
`,this.m_isSensor?"true":"false"),_n(`    fd.filter.categoryBits = %d;
`,this.m_filter.categoryBits),_n(`    fd.filter.maskBits = %d;
`,this.m_filter.maskBits),_n(`    fd.filter.groupIndex = %d;
`,this.m_filter.groupIndex),this.m_shape.Dump(_n),_n(`
`),_n(`    fd.shape = shape;
`),_n(`
`),_n(`    bodies[%d].CreateFixture(fd);
`,r_)}CreateProxies(){if(this.m_proxies.length!==0)throw new Error;for(let _n=0;_n<this.m_shape.GetChildCount();++_n)this.m_proxies[_n]=new UC(this,_n)}DestroyProxies(){for(let _n of this.m_proxies)_n.Reset();this.m_proxies.length=0}TouchProxies(){for(let _n of this.m_proxies)_n.Touch()}SynchronizeProxies(_n,r_,p_){for(let b_ of this.m_proxies)b_.Synchronize(_n,r_,p_)}}(function(i2){i2[i2.b2_unknown=-1]="b2_unknown",i2[i2.b2_staticBody=0]="b2_staticBody",i2[i2.b2_kinematicBody=1]="b2_kinematicBody",i2[i2.b2_dynamicBody=2]="b2_dynamicBody"})(V.b2BodyType||(V.b2BodyType={}));class X8{constructor(){this.type=V.b2BodyType.b2_staticBody,this.position=new a_(0,0),this.angle=0,this.linearVelocity=new a_(0,0),this.angularVelocity=0,this.linearDamping=0,this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.active=!0,this.userData=null,this.gravityScale=1}}class wA{constructor(_n,r_){this.m_type=V.b2BodyType.b2_staticBody,this.m_islandFlag=!1,this.m_awakeFlag=!1,this.m_autoSleepFlag=!1,this.m_bulletFlag=!1,this.m_fixedRotationFlag=!1,this.m_activeFlag=!1,this.m_toiFlag=!1,this.m_islandIndex=0,this.m_xf=new i0,this.m_xf0=new i0,this.m_sweep=new BA,this.m_linearVelocity=new a_,this.m_angularVelocity=0,this.m_force=new a_,this.m_torque=0,this.m_prev=null,this.m_next=null,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_jointList=null,this.m_contactList=null,this.m_mass=1,this.m_invMass=1,this.m_I=0,this.m_invI=0,this.m_linearDamping=0,this.m_angularDamping=0,this.m_gravityScale=1,this.m_sleepTime=0,this.m_userData=null,this.m_controllerList=null,this.m_controllerCount=0,this.m_bulletFlag=o(_n.bullet,!1),this.m_fixedRotationFlag=o(_n.fixedRotation,!1),this.m_autoSleepFlag=o(_n.allowSleep,!0),this.m_awakeFlag=o(_n.awake,!0),this.m_activeFlag=o(_n.active,!0),this.m_world=r_,this.m_xf.p.Copy(o(_n.position,a_.ZERO)),this.m_xf.q.SetAngle(o(_n.angle,0)),this.m_xf0.Copy(this.m_xf),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a=this.m_xf.q.GetAngle(),this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(o(_n.linearVelocity,a_.ZERO)),this.m_angularVelocity=o(_n.angularVelocity,0),this.m_linearDamping=o(_n.linearDamping,0),this.m_angularDamping=o(_n.angularDamping,0),this.m_gravityScale=o(_n.gravityScale,1),this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=o(_n.type,V.b2BodyType.b2_staticBody),_n.type===V.b2BodyType.b2_dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_userData=_n.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_controllerList=null,this.m_controllerCount=0}CreateFixture(_n,r_=0){return _n instanceof OC?this.CreateFixtureShapeDensity(_n,r_):this.CreateFixtureDef(_n)}CreateFixtureDef(_n){if(this.m_world.IsLocked())throw new Error;let r_=new AM(this,_n);return this.m_activeFlag&&r_.CreateProxies(),r_.m_next=this.m_fixtureList,this.m_fixtureList=r_,++this.m_fixtureCount,r_.m_density>0&&this.ResetMassData(),this.m_world.m_newFixture=!0,r_}CreateFixtureShapeDensity(_n,r_=0){let p_=wA.CreateFixtureShapeDensity_s_def;return p_.shape=_n,p_.density=r_,this.CreateFixtureDef(p_)}DestroyFixture(_n){if(this.m_world.IsLocked())throw new Error;let r_=this.m_fixtureList,p_=null;for(;r_!==null;){if(r_===_n){p_?p_.m_next=_n.m_next:this.m_fixtureList=_n.m_next;break}p_=r_,r_=r_.m_next}let b_=this.m_contactList;for(;b_;){let d_=b_.contact;b_=b_.next;let S_=d_.GetFixtureA(),T_=d_.GetFixtureB();(_n===S_||_n===T_)&&this.m_world.m_contactManager.Destroy(d_)}this.m_activeFlag&&_n.DestroyProxies(),_n.m_next=null,_n.Reset(),--this.m_fixtureCount,this.ResetMassData()}SetTransformVec(_n,r_){this.SetTransformXY(_n.x,_n.y,r_)}SetTransformXY(_n,r_,p_){if(this.m_world.IsLocked())throw new Error;this.m_xf.q.SetAngle(p_),this.m_xf.p.Set(_n,r_),this.m_xf0.Copy(this.m_xf),i0.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=p_,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=p_;for(let b_=this.m_fixtureList;b_;b_=b_.m_next)b_.SynchronizeProxies(this.m_xf,this.m_xf,a_.ZERO);this.m_world.m_contactManager.FindNewContacts()}SetTransform(_n){this.SetTransformVec(_n.p,_n.GetAngle())}GetTransform(){return this.m_xf}GetPosition(){return this.m_xf.p}SetPosition(_n){this.SetTransformVec(_n,this.GetAngle())}SetPositionXY(_n,r_){this.SetTransformXY(_n,r_,this.GetAngle())}GetAngle(){return this.m_sweep.a}SetAngle(_n){this.SetTransformVec(this.GetPosition(),_n)}GetWorldCenter(){return this.m_sweep.c}GetLocalCenter(){return this.m_sweep.localCenter}SetLinearVelocity(_n){this.m_type!==V.b2BodyType.b2_staticBody&&(a_.DotVV(_n,_n)>0&&this.SetAwake(!0),this.m_linearVelocity.Copy(_n))}GetLinearVelocity(){return this.m_linearVelocity}SetAngularVelocity(_n){this.m_type!==V.b2BodyType.b2_staticBody&&(_n*_n>0&&this.SetAwake(!0),this.m_angularVelocity=_n)}GetAngularVelocity(){return this.m_angularVelocity}GetDefinition(_n){return _n.type=this.GetType(),_n.allowSleep=this.m_autoSleepFlag,_n.angle=this.GetAngle(),_n.angularDamping=this.m_angularDamping,_n.gravityScale=this.m_gravityScale,_n.angularVelocity=this.m_angularVelocity,_n.fixedRotation=this.m_fixedRotationFlag,_n.bullet=this.m_bulletFlag,_n.awake=this.m_awakeFlag,_n.linearDamping=this.m_linearDamping,_n.linearVelocity.Copy(this.GetLinearVelocity()),_n.position.Copy(this.GetPosition()),_n.userData=this.GetUserData(),_n}ApplyForce(_n,r_,p_=!0){this.m_type===V.b2BodyType.b2_dynamicBody&&(p_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=_n.x,this.m_force.y+=_n.y,this.m_torque+=(r_.x-this.m_sweep.c.x)*_n.y-(r_.y-this.m_sweep.c.y)*_n.x))}ApplyForceToCenter(_n,r_=!0){this.m_type===V.b2BodyType.b2_dynamicBody&&(r_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=_n.x,this.m_force.y+=_n.y))}ApplyTorque(_n,r_=!0){this.m_type===V.b2BodyType.b2_dynamicBody&&(r_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_torque+=_n))}ApplyLinearImpulse(_n,r_,p_=!0){this.m_type===V.b2BodyType.b2_dynamicBody&&(p_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*_n.x,this.m_linearVelocity.y+=this.m_invMass*_n.y,this.m_angularVelocity+=this.m_invI*((r_.x-this.m_sweep.c.x)*_n.y-(r_.y-this.m_sweep.c.y)*_n.x)))}ApplyLinearImpulseToCenter(_n,r_=!0){this.m_type===V.b2BodyType.b2_dynamicBody&&(r_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*_n.x,this.m_linearVelocity.y+=this.m_invMass*_n.y))}ApplyAngularImpulse(_n,r_=!0){this.m_type===V.b2BodyType.b2_dynamicBody&&(r_&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*_n))}GetMass(){return this.m_mass}GetInertia(){return this.m_I+this.m_mass*a_.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter)}GetMassData(_n){return _n.mass=this.m_mass,_n.I=this.m_I+this.m_mass*a_.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter),_n.center.Copy(this.m_sweep.localCenter),_n}SetMassData(_n){if(this.m_world.IsLocked())throw new Error;if(this.m_type!==V.b2BodyType.b2_dynamicBody)return;this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=_n.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,_n.I>0&&!this.m_fixedRotationFlag&&(this.m_I=_n.I-this.m_mass*a_.DotVV(_n.center,_n.center),this.m_invI=1/this.m_I);let r_=wA.SetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(_n.center),i0.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),a_.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,a_.SubVV(this.m_sweep.c,r_,a_.s_t0),this.m_linearVelocity)}ResetMassData(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===V.b2BodyType.b2_staticBody||this.m_type===V.b2BodyType.b2_kinematicBody){this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;return}let _n=wA.ResetMassData_s_localCenter.SetZero();for(let p_=this.m_fixtureList;p_;p_=p_.m_next){if(p_.m_density===0)continue;let b_=p_.GetMassData(wA.ResetMassData_s_massData);this.m_mass+=b_.mass,_n.x+=b_.center.x*b_.mass,_n.y+=b_.center.y*b_.mass,this.m_I+=b_.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,_n.x*=this.m_invMass,_n.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&!this.m_fixedRotationFlag?(this.m_I-=this.m_mass*a_.DotVV(_n,_n),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);let r_=wA.ResetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(_n),i0.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),a_.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,a_.SubVV(this.m_sweep.c,r_,a_.s_t0),this.m_linearVelocity)}GetWorldPoint(_n,r_){return i0.MulXV(this.m_xf,_n,r_)}GetWorldVector(_n,r_){return Z2.MulRV(this.m_xf.q,_n,r_)}GetLocalPoint(_n,r_){return i0.MulTXV(this.m_xf,_n,r_)}GetLocalVector(_n,r_){return Z2.MulTRV(this.m_xf.q,_n,r_)}GetLinearVelocityFromWorldPoint(_n,r_){return a_.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,a_.SubVV(_n,this.m_sweep.c,a_.s_t0),r_)}GetLinearVelocityFromLocalPoint(_n,r_){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(_n,r_),r_)}GetLinearDamping(){return this.m_linearDamping}SetLinearDamping(_n){this.m_linearDamping=_n}GetAngularDamping(){return this.m_angularDamping}SetAngularDamping(_n){this.m_angularDamping=_n}GetGravityScale(){return this.m_gravityScale}SetGravityScale(_n){this.m_gravityScale=_n}SetType(_n){if(this.m_world.IsLocked())throw new Error;if(this.m_type===_n)return;this.m_type=_n,this.ResetMassData(),this.m_type===V.b2BodyType.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;let r_=this.m_contactList;for(;r_;){let p_=r_;r_=r_.next,this.m_world.m_contactManager.Destroy(p_.contact)}this.m_contactList=null;for(let p_=this.m_fixtureList;p_;p_=p_.m_next)p_.TouchProxies()}GetType(){return this.m_type}SetBullet(_n){this.m_bulletFlag=_n}IsBullet(){return this.m_bulletFlag}SetSleepingAllowed(_n){this.m_autoSleepFlag=_n,_n||this.SetAwake(!0)}IsSleepingAllowed(){return this.m_autoSleepFlag}SetAwake(_n){_n?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)}IsAwake(){return this.m_awakeFlag}SetActive(_n){if(this.m_world.IsLocked())throw new Error;if(_n!==this.IsActive())if(this.m_activeFlag=_n,_n)for(let r_=this.m_fixtureList;r_;r_=r_.m_next)r_.CreateProxies();else{for(let p_=this.m_fixtureList;p_;p_=p_.m_next)p_.DestroyProxies();let r_=this.m_contactList;for(;r_;){let p_=r_;r_=r_.next,this.m_world.m_contactManager.Destroy(p_.contact)}this.m_contactList=null}}IsActive(){return this.m_activeFlag}SetFixedRotation(_n){this.m_fixedRotationFlag!==_n&&(this.m_fixedRotationFlag=_n,this.m_angularVelocity=0,this.ResetMassData())}IsFixedRotation(){return this.m_fixedRotationFlag}GetFixtureList(){return this.m_fixtureList}GetJointList(){return this.m_jointList}GetContactList(){return this.m_contactList}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(_n){this.m_userData=_n}GetWorld(){return this.m_world}Dump(_n){let r_=this.m_islandIndex;_n(`{
`),_n(`  const bd: b2BodyDef = new b2BodyDef();
`);let p_="";switch(this.m_type){case V.b2BodyType.b2_staticBody:p_="b2BodyType.b2_staticBody";break;case V.b2BodyType.b2_kinematicBody:p_="b2BodyType.b2_kinematicBody";break;case V.b2BodyType.b2_dynamicBody:p_="b2BodyType.b2_dynamicBody";break;default:break}_n(`  bd.type = %s;
`,p_),_n(`  bd.position.Set(%.15f, %.15f);
`,this.m_xf.p.x,this.m_xf.p.y),_n(`  bd.angle = %.15f;
`,this.m_sweep.a),_n(`  bd.linearVelocity.Set(%.15f, %.15f);
`,this.m_linearVelocity.x,this.m_linearVelocity.y),_n(`  bd.angularVelocity = %.15f;
`,this.m_angularVelocity),_n(`  bd.linearDamping = %.15f;
`,this.m_linearDamping),_n(`  bd.angularDamping = %.15f;
`,this.m_angularDamping),_n(`  bd.allowSleep = %s;
`,this.m_autoSleepFlag?"true":"false"),_n(`  bd.awake = %s;
`,this.m_awakeFlag?"true":"false"),_n(`  bd.fixedRotation = %s;
`,this.m_fixedRotationFlag?"true":"false"),_n(`  bd.bullet = %s;
`,this.m_bulletFlag?"true":"false"),_n(`  bd.active = %s;
`,this.m_activeFlag?"true":"false"),_n(`  bd.gravityScale = %.15f;
`,this.m_gravityScale),_n(`
`),_n(`  bodies[%d] = this.m_world.CreateBody(bd);
`,this.m_islandIndex),_n(`
`);for(let b_=this.m_fixtureList;b_;b_=b_.m_next)_n(`  {
`),b_.Dump(_n,r_),_n(`  }
`);_n(`}
`)}SynchronizeFixtures(){let _n=wA.SynchronizeFixtures_s_xf1;_n.q.SetAngle(this.m_sweep.a0),Z2.MulRV(_n.q,this.m_sweep.localCenter,_n.p),a_.SubVV(this.m_sweep.c0,_n.p,_n.p);let r_=a_.SubVV(this.m_sweep.c,this.m_sweep.c0,wA.SynchronizeFixtures_s_displacement);for(let p_=this.m_fixtureList;p_;p_=p_.m_next)p_.SynchronizeProxies(_n,this.m_xf,r_)}SynchronizeTransform(){this.m_xf.q.SetAngle(this.m_sweep.a),Z2.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),a_.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}ShouldCollide(_n){return this.m_type===V.b2BodyType.b2_staticBody&&_n.m_type===V.b2BodyType.b2_staticBody?!1:this.ShouldCollideConnected(_n)}ShouldCollideConnected(_n){for(let r_=this.m_jointList;r_;r_=r_.next)if(r_.other===_n&&!r_.joint.m_collideConnected)return!1;return!0}Advance(_n){this.m_sweep.Advance(_n),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.SetAngle(this.m_sweep.a),Z2.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),a_.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}GetControllerList(){return this.m_controllerList}GetControllerCount(){return this.m_controllerCount}}wA.CreateFixtureShapeDensity_s_def=new vM,wA.SetMassData_s_oldCenter=new a_,wA.ResetMassData_s_localCenter=new a_,wA.ResetMassData_s_oldCenter=new a_,wA.ResetMassData_s_massData=new iV,wA.SynchronizeFixtures_s_xf1=new i0,wA.SynchronizeFixtures_s_displacement=new a_,function(i2){i2[i2.e_unknownJoint=0]="e_unknownJoint",i2[i2.e_revoluteJoint=1]="e_revoluteJoint",i2[i2.e_prismaticJoint=2]="e_prismaticJoint",i2[i2.e_distanceJoint=3]="e_distanceJoint",i2[i2.e_pulleyJoint=4]="e_pulleyJoint",i2[i2.e_mouseJoint=5]="e_mouseJoint",i2[i2.e_gearJoint=6]="e_gearJoint",i2[i2.e_wheelJoint=7]="e_wheelJoint",i2[i2.e_weldJoint=8]="e_weldJoint",i2[i2.e_frictionJoint=9]="e_frictionJoint",i2[i2.e_ropeJoint=10]="e_ropeJoint",i2[i2.e_motorJoint=11]="e_motorJoint",i2[i2.e_areaJoint=12]="e_areaJoint"}(V.b2JointType||(V.b2JointType={})),function(i2){i2[i2.e_inactiveLimit=0]="e_inactiveLimit",i2[i2.e_atLowerLimit=1]="e_atLowerLimit",i2[i2.e_atUpperLimit=2]="e_atUpperLimit",i2[i2.e_equalLimits=3]="e_equalLimits"}(V.b2LimitState||(V.b2LimitState={}));class Y8{constructor(){this.linear=new a_,this.angularA=0,this.angularB=0}SetZero(){return this.linear.SetZero(),this.angularA=0,this.angularB=0,this}Set(_n,r_,p_){return this.linear.Copy(_n),this.angularA=r_,this.angularB=p_,this}}class h4{constructor(_n){this._other=null,this.prev=null,this.next=null,this.joint=_n}get other(){if(this._other===null)throw new Error;return this._other}set other(_n){if(this._other!==null)throw new Error;this._other=_n}Reset(){this._other=null,this.prev=null,this.next=null}}class nS{constructor(_n){this.type=V.b2JointType.e_unknownJoint,this.userData=null,this.collideConnected=!1,this.type=_n}}class sS{constructor(_n){this.m_type=V.b2JointType.e_unknownJoint,this.m_prev=null,this.m_next=null,this.m_edgeA=new h4(this),this.m_edgeB=new h4(this),this.m_index=0,this.m_islandFlag=!1,this.m_collideConnected=!1,this.m_userData=null,this.m_type=_n.type,this.m_edgeA.other=_n.bodyB,this.m_edgeB.other=_n.bodyA,this.m_bodyA=_n.bodyA,this.m_bodyB=_n.bodyB,this.m_collideConnected=o(_n.collideConnected,!1),this.m_userData=o(_n.userData,null)}GetType(){return this.m_type}GetBodyA(){return this.m_bodyA}GetBodyB(){return this.m_bodyB}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(_n){this.m_userData=_n}IsActive(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()}GetCollideConnected(){return this.m_collideConnected}Dump(_n){_n(`// Dump is not supported for this joint type.
`)}ShiftOrigin(_n){}}class SM extends nS{constructor(){super(V.b2JointType.e_distanceJoint),this.localAnchorA=new a_,this.localAnchorB=new a_,this.length=1,this.frequencyHz=0,this.dampingRatio=0}Initialize(_n,r_,p_,b_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(b_,this.localAnchorB),this.length=a_.DistanceVV(p_,b_),this.frequencyHz=0,this.dampingRatio=0}}class _S extends sS{constructor(_n){super(_n),this.m_frequencyHz=0,this.m_dampingRatio=0,this.m_bias=0,this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_gamma=0,this.m_impulse=0,this.m_length=0,this.m_indexA=0,this.m_indexB=0,this.m_u=new a_,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=0,this.m_qA=new Z2,this.m_qB=new Z2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_frequencyHz=o(_n.frequencyHz,0),this.m_dampingRatio=o(_n.dampingRatio,0),this.m_localAnchorA.Copy(_n.localAnchorA),this.m_localAnchorB.Copy(_n.localAnchorB),this.m_length=_n.length}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*this.m_impulse*this.m_u.x,r_.y=_n*this.m_impulse*this.m_u.y,r_}GetReactionTorque(_n){return 0}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetLength(_n){this.m_length=_n}Length(){return this.m_length}SetFrequency(_n){this.m_frequencyHz=_n}GetFrequency(){return this.m_frequencyHz}SetDampingRatio(_n){this.m_dampingRatio=_n}GetDampingRatio(){return this.m_dampingRatio}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2DistanceJointDef = new b2DistanceJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.length = %.15f;
`,this.m_length),_n(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),_n(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.velocities[this.m_indexA].v,d_=_n.velocities[this.m_indexA].w,S_=_n.positions[this.m_indexB].c,T_=_n.positions[this.m_indexB].a,k_=_n.velocities[this.m_indexB].v,U_=_n.velocities[this.m_indexB].w,X_=this.m_qA.SetAngle(p_),O_=this.m_qB.SetAngle(T_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),Z2.MulRV(X_,this.m_lalcA,this.m_rA),a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),Z2.MulRV(O_,this.m_lalcB,this.m_rB),this.m_u.x=S_.x+this.m_rB.x-r_.x-this.m_rA.x,this.m_u.y=S_.y+this.m_rB.y-r_.y-this.m_rA.y;let K_=this.m_u.Length();K_>ws?this.m_u.SelfMul(1/K_):this.m_u.SetZero();let a2=a_.CrossVV(this.m_rA,this.m_u),v2=a_.CrossVV(this.m_rB,this.m_u),M2=this.m_invMassA+this.m_invIA*a2*a2+this.m_invMassB+this.m_invIB*v2*v2;if(this.m_mass=M2!==0?1/M2:0,this.m_frequencyHz>0){let R2=K_-this.m_length,N2=2*t_*this.m_frequencyHz,W2=2*this.m_mass*this.m_dampingRatio*N2,Q2=this.m_mass*N2*N2,ta=_n.step.dt;this.m_gamma=ta*(W2+ta*Q2),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=R2*ta*Q2*this.m_gamma,M2+=this.m_gamma,this.m_mass=M2!==0?1/M2:0}else this.m_gamma=0,this.m_bias=0;if(_n.step.warmStarting){this.m_impulse*=_n.step.dtRatio;let R2=a_.MulSV(this.m_impulse,this.m_u,_S.InitVelocityConstraints_s_P);b_.SelfMulSub(this.m_invMassA,R2),d_-=this.m_invIA*a_.CrossVV(this.m_rA,R2),k_.SelfMulAdd(this.m_invMassB,R2),U_+=this.m_invIB*a_.CrossVV(this.m_rB,R2)}else this.m_impulse=0;_n.velocities[this.m_indexA].w=d_,_n.velocities[this.m_indexB].w=U_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,S_=a_.AddVCrossSV(r_,p_,this.m_rA,_S.SolveVelocityConstraints_s_vpA),T_=a_.AddVCrossSV(b_,d_,this.m_rB,_S.SolveVelocityConstraints_s_vpB),k_=a_.DotVV(this.m_u,a_.SubVV(T_,S_,a_.s_t0)),U_=-this.m_mass*(k_+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=U_;let X_=a_.MulSV(U_,this.m_u,_S.SolveVelocityConstraints_s_P);r_.SelfMulSub(this.m_invMassA,X_),p_-=this.m_invIA*a_.CrossVV(this.m_rA,X_),b_.SelfMulAdd(this.m_invMassB,X_),d_+=this.m_invIB*a_.CrossVV(this.m_rB,X_),_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){if(this.m_frequencyHz>0)return!0;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,S_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_),k_=Z2.MulRV(S_,this.m_lalcA,this.m_rA),U_=Z2.MulRV(T_,this.m_lalcB,this.m_rB),X_=this.m_u;X_.x=b_.x+U_.x-r_.x-k_.x,X_.y=b_.y+U_.y-r_.y-k_.y;let K_=this.m_u.Normalize()-this.m_length;K_=My(K_,-G_,G_);let a2=-this.m_mass*K_,v2=a_.MulSV(a2,X_,_S.SolvePositionConstraints_s_P);return r_.SelfMulSub(this.m_invMassA,v2),p_-=this.m_invIA*a_.CrossVV(k_,v2),b_.SelfMulAdd(this.m_invMassB,v2),d_+=this.m_invIB*a_.CrossVV(U_,v2),_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,V0(K_)<ws}}_S.InitVelocityConstraints_s_P=new a_,_S.SolveVelocityConstraints_s_vpA=new a_,_S.SolveVelocityConstraints_s_vpB=new a_,_S.SolveVelocityConstraints_s_P=new a_,_S.SolvePositionConstraints_s_P=new a_;class H8 extends nS{constructor(){super(V.b2JointType.e_areaJoint),this.bodies=[],this.frequencyHz=0,this.dampingRatio=0}AddBody(_n){this.bodies.push(_n),this.bodies.length===1?this.bodyA=_n:this.bodies.length===2&&(this.bodyB=_n)}}class CM extends sS{constructor(_n){super(_n),this.m_frequencyHz=0,this.m_dampingRatio=0,this.m_impulse=0,this.m_targetArea=0,this.m_delta=new a_,this.m_bodies=_n.bodies,this.m_frequencyHz=o(_n.frequencyHz,0),this.m_dampingRatio=o(_n.dampingRatio,0),this.m_targetLengths=g0(_n.bodies.length),this.m_normals=a_.MakeArray(_n.bodies.length),this.m_joints=[],this.m_deltas=a_.MakeArray(_n.bodies.length);let r_=new SM;r_.frequencyHz=this.m_frequencyHz,r_.dampingRatio=this.m_dampingRatio,this.m_targetArea=0;for(let p_=0;p_<this.m_bodies.length;++p_){let b_=this.m_bodies[p_],d_=this.m_bodies[(p_+1)%this.m_bodies.length],S_=b_.GetWorldCenter(),T_=d_.GetWorldCenter();this.m_targetLengths[p_]=a_.DistanceVV(S_,T_),this.m_targetArea+=a_.CrossVV(S_,T_),r_.Initialize(b_,d_,S_,T_),this.m_joints[p_]=b_.GetWorld().CreateJoint(r_)}this.m_targetArea*=.5}GetAnchorA(_n){return _n}GetAnchorB(_n){return _n}GetReactionForce(_n,r_){return r_}GetReactionTorque(_n){return 0}SetFrequency(_n){this.m_frequencyHz=_n;for(let r_=0;r_<this.m_joints.length;++r_)this.m_joints[r_].SetFrequency(_n)}GetFrequency(){return this.m_frequencyHz}SetDampingRatio(_n){this.m_dampingRatio=_n;for(let r_=0;r_<this.m_joints.length;++r_)this.m_joints[r_].SetDampingRatio(_n)}GetDampingRatio(){return this.m_dampingRatio}Dump(_n){_n(`Area joint dumping is not supported.
`)}InitVelocityConstraints(_n){for(let r_=0;r_<this.m_bodies.length;++r_){let p_=this.m_bodies[(r_+this.m_bodies.length-1)%this.m_bodies.length],b_=this.m_bodies[(r_+1)%this.m_bodies.length],d_=_n.positions[p_.m_islandIndex].c,S_=_n.positions[b_.m_islandIndex].c,T_=this.m_deltas[r_];a_.SubVV(S_,d_,T_)}if(_n.step.warmStarting){this.m_impulse*=_n.step.dtRatio;for(let r_=0;r_<this.m_bodies.length;++r_){let p_=this.m_bodies[r_],b_=_n.velocities[p_.m_islandIndex].v,d_=this.m_deltas[r_];b_.x+=p_.m_invMass*d_.y*.5*this.m_impulse,b_.y+=p_.m_invMass*-d_.x*.5*this.m_impulse}}else this.m_impulse=0}SolveVelocityConstraints(_n){let r_=0,p_=0;for(let d_=0;d_<this.m_bodies.length;++d_){let S_=this.m_bodies[d_],T_=_n.velocities[S_.m_islandIndex].v,k_=this.m_deltas[d_];r_+=k_.LengthSquared()/S_.GetMass(),p_+=a_.CrossVV(T_,k_)}let b_=-2*p_/r_;this.m_impulse+=b_;for(let d_=0;d_<this.m_bodies.length;++d_){let S_=this.m_bodies[d_],T_=_n.velocities[S_.m_islandIndex].v,k_=this.m_deltas[d_];T_.x+=S_.m_invMass*k_.y*.5*b_,T_.y+=S_.m_invMass*-k_.x*.5*b_}}SolvePositionConstraints(_n){let r_=0,p_=0;for(let T_=0;T_<this.m_bodies.length;++T_){let k_=this.m_bodies[T_],U_=this.m_bodies[(T_+1)%this.m_bodies.length],X_=_n.positions[k_.m_islandIndex].c,O_=_n.positions[U_.m_islandIndex].c,K_=a_.SubVV(O_,X_,this.m_delta),a2=K_.Length();a2<_i&&(a2=1),this.m_normals[T_].x=K_.y/a2,this.m_normals[T_].y=-K_.x/a2,r_+=a2,p_+=a_.CrossVV(X_,O_)}p_*=.5;let d_=.5*(this.m_targetArea-p_)/r_,S_=!0;for(let T_=0;T_<this.m_bodies.length;++T_){let k_=this.m_bodies[T_],U_=_n.positions[k_.m_islandIndex].c,X_=(T_+1)%this.m_bodies.length,O_=a_.AddVV(this.m_normals[T_],this.m_normals[X_],this.m_delta);O_.SelfMul(d_);let K_=O_.LengthSquared();K_>T2(G_)&&O_.SelfMul(G_/dS(K_)),K_>T2(ws)&&(S_=!1),U_.x+=O_.x,U_.y+=O_.y}return S_}}class Z8 extends nS{constructor(){super(V.b2JointType.e_frictionJoint),this.localAnchorA=new a_,this.localAnchorB=new a_,this.maxForce=0,this.maxTorque=0}Initialize(_n,r_,p_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(p_,this.localAnchorB)}}class oC extends sS{constructor(_n){super(_n),this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_linearImpulse=new a_,this.m_angularImpulse=0,this.m_maxForce=0,this.m_maxTorque=0,this.m_indexA=0,this.m_indexB=0,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_linearMass=new g1,this.m_angularMass=0,this.m_qA=new Z2,this.m_qB=new Z2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_K=new g1,this.m_localAnchorA.Copy(_n.localAnchorA),this.m_localAnchorB.Copy(_n.localAnchorB),this.m_linearImpulse.SetZero(),this.m_maxForce=o(_n.maxForce,0),this.m_maxTorque=o(_n.maxTorque,0),this.m_linearMass.SetZero()}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].a,p_=_n.velocities[this.m_indexA].v,b_=_n.velocities[this.m_indexA].w,d_=_n.positions[this.m_indexB].a,S_=_n.velocities[this.m_indexB].v,T_=_n.velocities[this.m_indexB].w,k_=this.m_qA.SetAngle(r_),U_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let X_=Z2.MulRV(k_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let O_=Z2.MulRV(U_,this.m_lalcB,this.m_rB),K_=this.m_invMassA,a2=this.m_invMassB,v2=this.m_invIA,M2=this.m_invIB,R2=this.m_K;if(R2.ex.x=K_+a2+v2*X_.y*X_.y+M2*O_.y*O_.y,R2.ex.y=-v2*X_.x*X_.y-M2*O_.x*O_.y,R2.ey.x=R2.ex.y,R2.ey.y=K_+a2+v2*X_.x*X_.x+M2*O_.x*O_.x,R2.GetInverse(this.m_linearMass),this.m_angularMass=v2+M2,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),_n.step.warmStarting){this.m_linearImpulse.SelfMul(_n.step.dtRatio),this.m_angularImpulse*=_n.step.dtRatio;let N2=this.m_linearImpulse;p_.SelfMulSub(K_,N2),b_-=v2*(a_.CrossVV(this.m_rA,N2)+this.m_angularImpulse),S_.SelfMulAdd(a2,N2),T_+=M2*(a_.CrossVV(this.m_rB,N2)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;_n.velocities[this.m_indexA].w=b_,_n.velocities[this.m_indexB].w=T_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,S_=this.m_invMassA,T_=this.m_invMassB,k_=this.m_invIA,U_=this.m_invIB,X_=_n.step.dt;{let O_=d_-p_,K_=-this.m_angularMass*O_,a2=this.m_angularImpulse,v2=X_*this.m_maxTorque;this.m_angularImpulse=My(this.m_angularImpulse+K_,-v2,v2),K_=this.m_angularImpulse-a2,p_-=k_*K_,d_+=U_*K_}{let O_=a_.SubVV(a_.AddVCrossSV(b_,d_,this.m_rB,a_.s_t0),a_.AddVCrossSV(r_,p_,this.m_rA,a_.s_t1),oC.SolveVelocityConstraints_s_Cdot_v2),K_=g1.MulMV(this.m_linearMass,O_,oC.SolveVelocityConstraints_s_impulseV).SelfNeg(),a2=oC.SolveVelocityConstraints_s_oldImpulseV.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(K_);let v2=X_*this.m_maxForce;this.m_linearImpulse.LengthSquared()>v2*v2&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(v2)),a_.SubVV(this.m_linearImpulse,a2,K_),r_.SelfMulSub(S_,K_),p_-=k_*a_.CrossVV(this.m_rA,K_),b_.SelfMulAdd(T_,K_),d_+=U_*a_.CrossVV(this.m_rB,K_)}_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){return!0}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*this.m_linearImpulse.x,r_.y=_n*this.m_linearImpulse.y,r_}GetReactionTorque(_n){return _n*this.m_angularImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetMaxForce(_n){this.m_maxForce=_n}GetMaxForce(){return this.m_maxForce}SetMaxTorque(_n){this.m_maxTorque=_n}GetMaxTorque(){return this.m_maxTorque}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2FrictionJointDef = new b2FrictionJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.maxForce = %.15f;
`,this.m_maxForce),_n(`  jd.maxTorque = %.15f;
`,this.m_maxTorque),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}oC.SolveVelocityConstraints_s_Cdot_v2=new a_,oC.SolveVelocityConstraints_s_impulseV=new a_,oC.SolveVelocityConstraints_s_oldImpulseV=new a_;class K8 extends nS{constructor(){super(V.b2JointType.e_gearJoint),this.ratio=1}}class P1 extends sS{constructor(_n){super(_n),this.m_typeA=V.b2JointType.e_unknownJoint,this.m_typeB=V.b2JointType.e_unknownJoint,this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_localAnchorC=new a_,this.m_localAnchorD=new a_,this.m_localAxisC=new a_,this.m_localAxisD=new a_,this.m_referenceAngleA=0,this.m_referenceAngleB=0,this.m_constant=0,this.m_ratio=0,this.m_impulse=0,this.m_indexA=0,this.m_indexB=0,this.m_indexC=0,this.m_indexD=0,this.m_lcA=new a_,this.m_lcB=new a_,this.m_lcC=new a_,this.m_lcD=new a_,this.m_mA=0,this.m_mB=0,this.m_mC=0,this.m_mD=0,this.m_iA=0,this.m_iB=0,this.m_iC=0,this.m_iD=0,this.m_JvAC=new a_,this.m_JvBD=new a_,this.m_JwA=0,this.m_JwB=0,this.m_JwC=0,this.m_JwD=0,this.m_mass=0,this.m_qA=new Z2,this.m_qB=new Z2,this.m_qC=new Z2,this.m_qD=new Z2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_lalcC=new a_,this.m_lalcD=new a_,this.m_joint1=_n.joint1,this.m_joint2=_n.joint2,this.m_typeA=this.m_joint1.GetType(),this.m_typeB=this.m_joint2.GetType();let r_,p_;this.m_bodyC=this.m_joint1.GetBodyA(),this.m_bodyA=this.m_joint1.GetBodyB();let b_=this.m_bodyA.m_xf,d_=this.m_bodyA.m_sweep.a,S_=this.m_bodyC.m_xf,T_=this.m_bodyC.m_sweep.a;if(this.m_typeA===V.b2JointType.e_revoluteJoint){let K_=_n.joint1;this.m_localAnchorC.Copy(K_.m_localAnchorA),this.m_localAnchorA.Copy(K_.m_localAnchorB),this.m_referenceAngleA=K_.m_referenceAngle,this.m_localAxisC.SetZero(),r_=d_-T_-this.m_referenceAngleA}else{let K_=_n.joint1;this.m_localAnchorC.Copy(K_.m_localAnchorA),this.m_localAnchorA.Copy(K_.m_localAnchorB),this.m_referenceAngleA=K_.m_referenceAngle,this.m_localAxisC.Copy(K_.m_localXAxisA);let a2=this.m_localAnchorC,v2=Z2.MulTRV(S_.q,a_.AddVV(Z2.MulRV(b_.q,this.m_localAnchorA,a_.s_t0),a_.SubVV(b_.p,S_.p,a_.s_t1),a_.s_t0),a_.s_t0);r_=a_.DotVV(a_.SubVV(v2,a2,a_.s_t0),this.m_localAxisC)}this.m_bodyD=this.m_joint2.GetBodyA(),this.m_bodyB=this.m_joint2.GetBodyB();let k_=this.m_bodyB.m_xf,U_=this.m_bodyB.m_sweep.a,X_=this.m_bodyD.m_xf,O_=this.m_bodyD.m_sweep.a;if(this.m_typeB===V.b2JointType.e_revoluteJoint){let K_=_n.joint2;this.m_localAnchorD.Copy(K_.m_localAnchorA),this.m_localAnchorB.Copy(K_.m_localAnchorB),this.m_referenceAngleB=K_.m_referenceAngle,this.m_localAxisD.SetZero(),p_=U_-O_-this.m_referenceAngleB}else{let K_=_n.joint2;this.m_localAnchorD.Copy(K_.m_localAnchorA),this.m_localAnchorB.Copy(K_.m_localAnchorB),this.m_referenceAngleB=K_.m_referenceAngle,this.m_localAxisD.Copy(K_.m_localXAxisA);let a2=this.m_localAnchorD,v2=Z2.MulTRV(X_.q,a_.AddVV(Z2.MulRV(k_.q,this.m_localAnchorB,a_.s_t0),a_.SubVV(k_.p,X_.p,a_.s_t1),a_.s_t0),a_.s_t0);p_=a_.DotVV(a_.SubVV(v2,a2,a_.s_t0),this.m_localAxisD)}this.m_ratio=o(_n.ratio,1),this.m_constant=r_+this.m_ratio*p_,this.m_impulse=0}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;let r_=_n.positions[this.m_indexA].a,p_=_n.velocities[this.m_indexA].v,b_=_n.velocities[this.m_indexA].w,d_=_n.positions[this.m_indexB].a,S_=_n.velocities[this.m_indexB].v,T_=_n.velocities[this.m_indexB].w,k_=_n.positions[this.m_indexC].a,U_=_n.velocities[this.m_indexC].v,X_=_n.velocities[this.m_indexC].w,O_=_n.positions[this.m_indexD].a,K_=_n.velocities[this.m_indexD].v,a2=_n.velocities[this.m_indexD].w,v2=this.m_qA.SetAngle(r_),M2=this.m_qB.SetAngle(d_),R2=this.m_qC.SetAngle(k_),N2=this.m_qD.SetAngle(O_);if(this.m_mass=0,this.m_typeA===V.b2JointType.e_revoluteJoint)this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{let W2=Z2.MulRV(R2,this.m_localAxisC,P1.InitVelocityConstraints_s_u);a_.SubVV(this.m_localAnchorC,this.m_lcC,this.m_lalcC);let Q2=Z2.MulRV(R2,this.m_lalcC,P1.InitVelocityConstraints_s_rC);a_.SubVV(this.m_localAnchorA,this.m_lcA,this.m_lalcA);let ta=Z2.MulRV(v2,this.m_lalcA,P1.InitVelocityConstraints_s_rA);this.m_JvAC.Copy(W2),this.m_JwC=a_.CrossVV(Q2,W2),this.m_JwA=a_.CrossVV(ta,W2),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_typeB===V.b2JointType.e_revoluteJoint)this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{let W2=Z2.MulRV(N2,this.m_localAxisD,P1.InitVelocityConstraints_s_u);a_.SubVV(this.m_localAnchorD,this.m_lcD,this.m_lalcD);let Q2=Z2.MulRV(N2,this.m_lalcD,P1.InitVelocityConstraints_s_rD);a_.SubVV(this.m_localAnchorB,this.m_lcB,this.m_lalcB);let ta=Z2.MulRV(M2,this.m_lalcB,P1.InitVelocityConstraints_s_rB);a_.MulSV(this.m_ratio,W2,this.m_JvBD),this.m_JwD=this.m_ratio*a_.CrossVV(Q2,W2),this.m_JwB=this.m_ratio*a_.CrossVV(ta,W2),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,_n.step.warmStarting?(p_.SelfMulAdd(this.m_mA*this.m_impulse,this.m_JvAC),b_+=this.m_iA*this.m_impulse*this.m_JwA,S_.SelfMulAdd(this.m_mB*this.m_impulse,this.m_JvBD),T_+=this.m_iB*this.m_impulse*this.m_JwB,U_.SelfMulSub(this.m_mC*this.m_impulse,this.m_JvAC),X_-=this.m_iC*this.m_impulse*this.m_JwC,K_.SelfMulSub(this.m_mD*this.m_impulse,this.m_JvBD),a2-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,_n.velocities[this.m_indexA].w=b_,_n.velocities[this.m_indexB].w=T_,_n.velocities[this.m_indexC].w=X_,_n.velocities[this.m_indexD].w=a2}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,S_=_n.velocities[this.m_indexC].v,T_=_n.velocities[this.m_indexC].w,k_=_n.velocities[this.m_indexD].v,U_=_n.velocities[this.m_indexD].w,X_=a_.DotVV(this.m_JvAC,a_.SubVV(r_,S_,a_.s_t0))+a_.DotVV(this.m_JvBD,a_.SubVV(b_,k_,a_.s_t0));X_+=this.m_JwA*p_-this.m_JwC*T_+(this.m_JwB*d_-this.m_JwD*U_);let O_=-this.m_mass*X_;this.m_impulse+=O_,r_.SelfMulAdd(this.m_mA*O_,this.m_JvAC),p_+=this.m_iA*O_*this.m_JwA,b_.SelfMulAdd(this.m_mB*O_,this.m_JvBD),d_+=this.m_iB*O_*this.m_JwB,S_.SelfMulSub(this.m_mC*O_,this.m_JvAC),T_-=this.m_iC*O_*this.m_JwC,k_.SelfMulSub(this.m_mD*O_,this.m_JvBD),U_-=this.m_iD*O_*this.m_JwD,_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_,_n.velocities[this.m_indexC].w=T_,_n.velocities[this.m_indexD].w=U_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,S_=_n.positions[this.m_indexC].c,T_=_n.positions[this.m_indexC].a,k_=_n.positions[this.m_indexD].c,U_=_n.positions[this.m_indexD].a,X_=this.m_qA.SetAngle(p_),O_=this.m_qB.SetAngle(d_),K_=this.m_qC.SetAngle(T_),a2=this.m_qD.SetAngle(U_),v2=0,M2,R2,N2=this.m_JvAC,W2=this.m_JvBD,Q2,ta,o0,l0,p0=0;if(this.m_typeA===V.b2JointType.e_revoluteJoint)N2.SetZero(),Q2=1,o0=1,p0+=this.m_iA+this.m_iC,M2=p_-T_-this.m_referenceAngleA;else{let G0=Z2.MulRV(K_,this.m_localAxisC,P1.SolvePositionConstraints_s_u),E0=Z2.MulRV(K_,this.m_lalcC,P1.SolvePositionConstraints_s_rC),v0=Z2.MulRV(X_,this.m_lalcA,P1.SolvePositionConstraints_s_rA);N2.Copy(G0),o0=a_.CrossVV(E0,G0),Q2=a_.CrossVV(v0,G0),p0+=this.m_mC+this.m_mA+this.m_iC*o0*o0+this.m_iA*Q2*Q2;let m0=this.m_lalcC,W0=Z2.MulTRV(K_,a_.AddVV(v0,a_.SubVV(r_,S_,a_.s_t0),a_.s_t0),a_.s_t0);M2=a_.DotVV(a_.SubVV(W0,m0,a_.s_t0),this.m_localAxisC)}if(this.m_typeB===V.b2JointType.e_revoluteJoint)W2.SetZero(),ta=this.m_ratio,l0=this.m_ratio,p0+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),R2=d_-U_-this.m_referenceAngleB;else{let G0=Z2.MulRV(a2,this.m_localAxisD,P1.SolvePositionConstraints_s_u),E0=Z2.MulRV(a2,this.m_lalcD,P1.SolvePositionConstraints_s_rD),v0=Z2.MulRV(O_,this.m_lalcB,P1.SolvePositionConstraints_s_rB);a_.MulSV(this.m_ratio,G0,W2),l0=this.m_ratio*a_.CrossVV(E0,G0),ta=this.m_ratio*a_.CrossVV(v0,G0),p0+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*l0*l0+this.m_iB*ta*ta;let m0=this.m_lalcD,W0=Z2.MulTRV(a2,a_.AddVV(v0,a_.SubVV(b_,k_,a_.s_t0),a_.s_t0),a_.s_t0);R2=a_.DotVV(a_.SubVV(W0,m0,a_.s_t0),this.m_localAxisD)}let S0=M2+this.m_ratio*R2-this.m_constant,h0=0;return p0>0&&(h0=-S0/p0),r_.SelfMulAdd(this.m_mA*h0,N2),p_+=this.m_iA*h0*Q2,b_.SelfMulAdd(this.m_mB*h0,W2),d_+=this.m_iB*h0*ta,S_.SelfMulSub(this.m_mC*h0,N2),T_-=this.m_iC*h0*o0,k_.SelfMulSub(this.m_mD*h0,W2),U_-=this.m_iD*h0*l0,_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,_n.positions[this.m_indexC].a=T_,_n.positions[this.m_indexD].a=U_,v2<ws}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return a_.MulSV(_n*this.m_impulse,this.m_JvAC,r_)}GetReactionTorque(_n){return _n*this.m_impulse*this.m_JwA}GetJoint1(){return this.m_joint1}GetJoint2(){return this.m_joint2}GetRatio(){return this.m_ratio}SetRatio(_n){this.m_ratio=_n}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex,b_=this.m_joint1.m_index,d_=this.m_joint2.m_index;_n(`  const jd: b2GearJointDef = new b2GearJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.joint1 = joints[%d];
`,b_),_n(`  jd.joint2 = joints[%d];
`,d_),_n(`  jd.ratio = %.15f;
`,this.m_ratio),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}P1.InitVelocityConstraints_s_u=new a_,P1.InitVelocityConstraints_s_rA=new a_,P1.InitVelocityConstraints_s_rB=new a_,P1.InitVelocityConstraints_s_rC=new a_,P1.InitVelocityConstraints_s_rD=new a_,P1.SolvePositionConstraints_s_u=new a_,P1.SolvePositionConstraints_s_rA=new a_,P1.SolvePositionConstraints_s_rB=new a_,P1.SolvePositionConstraints_s_rC=new a_,P1.SolvePositionConstraints_s_rD=new a_;class Q8 extends nS{constructor(){super(V.b2JointType.e_motorJoint),this.linearOffset=new a_(0,0),this.angularOffset=0,this.maxForce=1,this.maxTorque=1,this.correctionFactor=.3}Initialize(_n,r_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(this.bodyB.GetPosition(),this.linearOffset);let p_=this.bodyA.GetAngle(),b_=this.bodyB.GetAngle();this.angularOffset=b_-p_}}class iC extends sS{constructor(_n){super(_n),this.m_linearOffset=new a_,this.m_angularOffset=0,this.m_linearImpulse=new a_,this.m_angularImpulse=0,this.m_maxForce=0,this.m_maxTorque=0,this.m_correctionFactor=.3,this.m_indexA=0,this.m_indexB=0,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_linearError=new a_,this.m_angularError=0,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_linearMass=new g1,this.m_angularMass=0,this.m_qA=new Z2,this.m_qB=new Z2,this.m_K=new g1,this.m_linearOffset.Copy(o(_n.linearOffset,a_.ZERO)),this.m_linearImpulse.SetZero(),this.m_maxForce=o(_n.maxForce,0),this.m_maxTorque=o(_n.maxTorque,0),this.m_correctionFactor=o(_n.correctionFactor,.3)}GetAnchorA(_n){let r_=this.m_bodyA.GetPosition();return _n.x=r_.x,_n.y=r_.y,_n}GetAnchorB(_n){let r_=this.m_bodyB.GetPosition();return _n.x=r_.x,_n.y=r_.y,_n}GetReactionForce(_n,r_){return a_.MulSV(_n,this.m_linearImpulse,r_)}GetReactionTorque(_n){return _n*this.m_angularImpulse}SetLinearOffset(_n){a_.IsEqualToV(_n,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(_n))}GetLinearOffset(){return this.m_linearOffset}SetAngularOffset(_n){_n!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=_n)}GetAngularOffset(){return this.m_angularOffset}SetMaxForce(_n){this.m_maxForce=_n}GetMaxForce(){return this.m_maxForce}SetMaxTorque(_n){this.m_maxTorque=_n}GetMaxTorque(){return this.m_maxTorque}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.velocities[this.m_indexA].v,d_=_n.velocities[this.m_indexA].w,S_=_n.positions[this.m_indexB].c,T_=_n.positions[this.m_indexB].a,k_=_n.velocities[this.m_indexB].v,U_=_n.velocities[this.m_indexB].w,X_=this.m_qA.SetAngle(p_),O_=this.m_qB.SetAngle(T_),K_=Z2.MulRV(X_,a_.SubVV(this.m_linearOffset,this.m_localCenterA,a_.s_t0),this.m_rA),a2=Z2.MulRV(O_,a_.NegV(this.m_localCenterB,a_.s_t0),this.m_rB),v2=this.m_invMassA,M2=this.m_invMassB,R2=this.m_invIA,N2=this.m_invIB,W2=this.m_K;if(W2.ex.x=v2+M2+R2*K_.y*K_.y+N2*a2.y*a2.y,W2.ex.y=-R2*K_.x*K_.y-N2*a2.x*a2.y,W2.ey.x=W2.ex.y,W2.ey.y=v2+M2+R2*K_.x*K_.x+N2*a2.x*a2.x,W2.GetInverse(this.m_linearMass),this.m_angularMass=R2+N2,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),a_.SubVV(a_.AddVV(S_,a2,a_.s_t0),a_.AddVV(r_,K_,a_.s_t1),this.m_linearError),this.m_angularError=T_-p_-this.m_angularOffset,_n.step.warmStarting){this.m_linearImpulse.SelfMul(_n.step.dtRatio),this.m_angularImpulse*=_n.step.dtRatio;let Q2=this.m_linearImpulse;b_.SelfMulSub(v2,Q2),d_-=R2*(a_.CrossVV(K_,Q2)+this.m_angularImpulse),k_.SelfMulAdd(M2,Q2),U_+=N2*(a_.CrossVV(a2,Q2)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;_n.velocities[this.m_indexA].w=d_,_n.velocities[this.m_indexB].w=U_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,S_=this.m_invMassA,T_=this.m_invMassB,k_=this.m_invIA,U_=this.m_invIB,X_=_n.step.dt,O_=_n.step.inv_dt;{let K_=d_-p_+O_*this.m_correctionFactor*this.m_angularError,a2=-this.m_angularMass*K_,v2=this.m_angularImpulse,M2=X_*this.m_maxTorque;this.m_angularImpulse=My(this.m_angularImpulse+a2,-M2,M2),a2=this.m_angularImpulse-v2,p_-=k_*a2,d_+=U_*a2}{let K_=this.m_rA,a2=this.m_rB,v2=a_.AddVV(a_.SubVV(a_.AddVV(b_,a_.CrossSV(d_,a2,a_.s_t0),a_.s_t0),a_.AddVV(r_,a_.CrossSV(p_,K_,a_.s_t1),a_.s_t1),a_.s_t2),a_.MulSV(O_*this.m_correctionFactor,this.m_linearError,a_.s_t3),iC.SolveVelocityConstraints_s_Cdot_v2),M2=g1.MulMV(this.m_linearMass,v2,iC.SolveVelocityConstraints_s_impulse_v2).SelfNeg(),R2=iC.SolveVelocityConstraints_s_oldImpulse_v2.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(M2);let N2=X_*this.m_maxForce;this.m_linearImpulse.LengthSquared()>N2*N2&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(N2)),a_.SubVV(this.m_linearImpulse,R2,M2),r_.SelfMulSub(S_,M2),p_-=k_*a_.CrossVV(K_,M2),b_.SelfMulAdd(T_,M2),d_+=U_*a_.CrossVV(a2,M2)}_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){return!0}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2MotorJointDef = new b2MotorJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.linearOffset.Set(%.15f, %.15f);
`,this.m_linearOffset.x,this.m_linearOffset.y),_n(`  jd.angularOffset = %.15f;
`,this.m_angularOffset),_n(`  jd.maxForce = %.15f;
`,this.m_maxForce),_n(`  jd.maxTorque = %.15f;
`,this.m_maxTorque),_n(`  jd.correctionFactor = %.15f;
`,this.m_correctionFactor),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}iC.SolveVelocityConstraints_s_Cdot_v2=new a_,iC.SolveVelocityConstraints_s_impulse_v2=new a_,iC.SolveVelocityConstraints_s_oldImpulse_v2=new a_;class $8 extends nS{constructor(){super(V.b2JointType.e_mouseJoint),this.target=new a_,this.maxForce=0,this.frequencyHz=5,this.dampingRatio=.7}}class rC extends sS{constructor(_n){super(_n),this.m_localAnchorB=new a_,this.m_targetA=new a_,this.m_frequencyHz=0,this.m_dampingRatio=0,this.m_beta=0,this.m_impulse=new a_,this.m_maxForce=0,this.m_gamma=0,this.m_indexA=0,this.m_indexB=0,this.m_rB=new a_,this.m_localCenterB=new a_,this.m_invMassB=0,this.m_invIB=0,this.m_mass=new g1,this.m_C=new a_,this.m_qB=new Z2,this.m_lalcB=new a_,this.m_K=new g1,this.m_targetA.Copy(o(_n.target,a_.ZERO)),i0.MulTXV(this.m_bodyB.GetTransform(),this.m_targetA,this.m_localAnchorB),this.m_maxForce=o(_n.maxForce,0),this.m_impulse.SetZero(),this.m_frequencyHz=o(_n.frequencyHz,0),this.m_dampingRatio=o(_n.dampingRatio,0),this.m_beta=0,this.m_gamma=0}SetTarget(_n){this.m_bodyB.IsAwake()||this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(_n)}GetTarget(){return this.m_targetA}SetMaxForce(_n){this.m_maxForce=_n}GetMaxForce(){return this.m_maxForce}SetFrequency(_n){this.m_frequencyHz=_n}GetFrequency(){return this.m_frequencyHz}SetDampingRatio(_n){this.m_dampingRatio=_n}GetDampingRatio(){return this.m_dampingRatio}InitVelocityConstraints(_n){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexB].c,p_=_n.positions[this.m_indexB].a,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,S_=this.m_qB.SetAngle(p_),T_=this.m_bodyB.GetMass(),k_=2*t_*this.m_frequencyHz,U_=2*T_*this.m_dampingRatio*k_,X_=T_*(k_*k_),O_=_n.step.dt;this.m_gamma=O_*(U_+O_*X_),this.m_gamma!==0&&(this.m_gamma=1/this.m_gamma),this.m_beta=O_*X_*this.m_gamma,a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),Z2.MulRV(S_,this.m_lalcB,this.m_rB);let K_=this.m_K;K_.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,K_.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,K_.ey.x=K_.ex.y,K_.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,K_.GetInverse(this.m_mass),this.m_C.x=r_.x+this.m_rB.x-this.m_targetA.x,this.m_C.y=r_.y+this.m_rB.y-this.m_targetA.y,this.m_C.SelfMul(this.m_beta),d_*=.98,_n.step.warmStarting?(this.m_impulse.SelfMul(_n.step.dtRatio),b_.x+=this.m_invMassB*this.m_impulse.x,b_.y+=this.m_invMassB*this.m_impulse.y,d_+=this.m_invIB*a_.CrossVV(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),_n.velocities[this.m_indexB].w=d_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexB].v,p_=_n.velocities[this.m_indexB].w,b_=a_.AddVCrossSV(r_,p_,this.m_rB,rC.SolveVelocityConstraints_s_Cdot),d_=g1.MulMV(this.m_mass,a_.AddVV(b_,a_.AddVV(this.m_C,a_.MulSV(this.m_gamma,this.m_impulse,a_.s_t0),a_.s_t0),a_.s_t0).SelfNeg(),rC.SolveVelocityConstraints_s_impulse),S_=rC.SolveVelocityConstraints_s_oldImpulse.Copy(this.m_impulse);this.m_impulse.SelfAdd(d_);let T_=_n.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>T_*T_&&this.m_impulse.SelfMul(T_/this.m_impulse.Length()),a_.SubVV(this.m_impulse,S_,d_),r_.SelfMulAdd(this.m_invMassB,d_),p_+=this.m_invIB*a_.CrossVV(this.m_rB,d_),_n.velocities[this.m_indexB].w=p_}SolvePositionConstraints(_n){return!0}GetAnchorA(_n){return _n.x=this.m_targetA.x,_n.y=this.m_targetA.y,_n}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return a_.MulSV(_n,this.m_impulse,r_)}GetReactionTorque(_n){return 0}Dump(_n){_n(`Mouse joint dumping is not supported.
`)}ShiftOrigin(_n){this.m_targetA.SelfSub(_n)}}rC.SolveVelocityConstraints_s_Cdot=new a_,rC.SolveVelocityConstraints_s_impulse=new a_,rC.SolveVelocityConstraints_s_oldImpulse=new a_;class tG extends nS{constructor(){super(V.b2JointType.e_prismaticJoint),this.localAnchorA=new a_,this.localAnchorB=new a_,this.localAxisA=new a_(1,0),this.referenceAngle=0,this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorForce=0,this.motorSpeed=0}Initialize(_n,r_,p_,b_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(p_,this.localAnchorB),this.bodyA.GetLocalVector(b_,this.localAxisA),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}class Ey extends sS{constructor(_n){super(_n),this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_localXAxisA=new a_,this.m_localYAxisA=new a_,this.m_referenceAngle=0,this.m_impulse=new G1(0,0,0),this.m_motorImpulse=0,this.m_lowerTranslation=0,this.m_upperTranslation=0,this.m_maxMotorForce=0,this.m_motorSpeed=0,this.m_enableLimit=!1,this.m_enableMotor=!1,this.m_limitState=V.b2LimitState.e_inactiveLimit,this.m_indexA=0,this.m_indexB=0,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_axis=new a_(0,0),this.m_perp=new a_(0,0),this.m_s1=0,this.m_s2=0,this.m_a1=0,this.m_a2=0,this.m_K=new EA,this.m_K3=new EA,this.m_K2=new g1,this.m_motorMass=0,this.m_qA=new Z2,this.m_qB=new Z2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_rA=new a_,this.m_rB=new a_,this.m_localAnchorA.Copy(o(_n.localAnchorA,a_.ZERO)),this.m_localAnchorB.Copy(o(_n.localAnchorB,a_.ZERO)),this.m_localXAxisA.Copy(o(_n.localAxisA,new a_(1,0))).SelfNormalize(),a_.CrossOneV(this.m_localXAxisA,this.m_localYAxisA),this.m_referenceAngle=o(_n.referenceAngle,0),this.m_lowerTranslation=o(_n.lowerTranslation,0),this.m_upperTranslation=o(_n.upperTranslation,0),this.m_maxMotorForce=o(_n.maxMotorForce,0),this.m_motorSpeed=o(_n.motorSpeed,0),this.m_enableLimit=o(_n.enableLimit,!1),this.m_enableMotor=o(_n.enableMotor,!1)}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.velocities[this.m_indexA].v,d_=_n.velocities[this.m_indexA].w,S_=_n.positions[this.m_indexB].c,T_=_n.positions[this.m_indexB].a,k_=_n.velocities[this.m_indexB].v,U_=_n.velocities[this.m_indexB].w,X_=this.m_qA.SetAngle(p_),O_=this.m_qB.SetAngle(T_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let K_=Z2.MulRV(X_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let a2=Z2.MulRV(O_,this.m_lalcB,this.m_rB),v2=a_.AddVV(a_.SubVV(S_,r_,a_.s_t0),a_.SubVV(a2,K_,a_.s_t1),Ey.InitVelocityConstraints_s_d),M2=this.m_invMassA,R2=this.m_invMassB,N2=this.m_invIA,W2=this.m_invIB;if(Z2.MulRV(X_,this.m_localXAxisA,this.m_axis),this.m_a1=a_.CrossVV(a_.AddVV(v2,K_,a_.s_t0),this.m_axis),this.m_a2=a_.CrossVV(a2,this.m_axis),this.m_motorMass=M2+R2+N2*this.m_a1*this.m_a1+W2*this.m_a2*this.m_a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),Z2.MulRV(X_,this.m_localYAxisA,this.m_perp),this.m_s1=a_.CrossVV(a_.AddVV(v2,K_,a_.s_t0),this.m_perp),this.m_s2=a_.CrossVV(a2,this.m_perp),this.m_K.ex.x=M2+R2+N2*this.m_s1*this.m_s1+W2*this.m_s2*this.m_s2,this.m_K.ex.y=N2*this.m_s1+W2*this.m_s2,this.m_K.ex.z=N2*this.m_s1*this.m_a1+W2*this.m_s2*this.m_a2,this.m_K.ey.x=this.m_K.ex.y,this.m_K.ey.y=N2+W2,this.m_K.ey.y===0&&(this.m_K.ey.y=1),this.m_K.ey.z=N2*this.m_a1+W2*this.m_a2,this.m_K.ez.x=this.m_K.ex.z,this.m_K.ez.y=this.m_K.ey.z,this.m_K.ez.z=M2+R2+N2*this.m_a1*this.m_a1+W2*this.m_a2*this.m_a2,this.m_enableLimit){let Q2=a_.DotVV(this.m_axis,v2);V0(this.m_upperTranslation-this.m_lowerTranslation)<2*ws?this.m_limitState=V.b2LimitState.e_equalLimits:Q2<=this.m_lowerTranslation?this.m_limitState!==V.b2LimitState.e_atLowerLimit&&(this.m_limitState=V.b2LimitState.e_atLowerLimit,this.m_impulse.z=0):Q2>=this.m_upperTranslation?this.m_limitState!==V.b2LimitState.e_atUpperLimit&&(this.m_limitState=V.b2LimitState.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=V.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=V.b2LimitState.e_inactiveLimit,this.m_impulse.z=0;if(this.m_enableMotor||(this.m_motorImpulse=0),_n.step.warmStarting){this.m_impulse.SelfMul(_n.step.dtRatio),this.m_motorImpulse*=_n.step.dtRatio;let Q2=a_.AddVV(a_.MulSV(this.m_impulse.x,this.m_perp,a_.s_t0),a_.MulSV(this.m_motorImpulse+this.m_impulse.z,this.m_axis,a_.s_t1),Ey.InitVelocityConstraints_s_P),ta=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,o0=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;b_.SelfMulSub(M2,Q2),d_-=N2*ta,k_.SelfMulAdd(R2,Q2),U_+=W2*o0}else this.m_impulse.SetZero(),this.m_motorImpulse=0;_n.velocities[this.m_indexA].w=d_,_n.velocities[this.m_indexB].w=U_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,S_=this.m_invMassA,T_=this.m_invMassB,k_=this.m_invIA,U_=this.m_invIB;if(this.m_enableMotor&&this.m_limitState!==V.b2LimitState.e_equalLimits){let K_=a_.DotVV(this.m_axis,a_.SubVV(b_,r_,a_.s_t0))+this.m_a2*d_-this.m_a1*p_,a2=this.m_motorMass*(this.m_motorSpeed-K_),v2=this.m_motorImpulse,M2=_n.step.dt*this.m_maxMotorForce;this.m_motorImpulse=My(this.m_motorImpulse+a2,-M2,M2),a2=this.m_motorImpulse-v2;let R2=a_.MulSV(a2,this.m_axis,Ey.SolveVelocityConstraints_s_P),N2=a2*this.m_a1,W2=a2*this.m_a2;r_.SelfMulSub(S_,R2),p_-=k_*N2,b_.SelfMulAdd(T_,R2),d_+=U_*W2}let X_=a_.DotVV(this.m_perp,a_.SubVV(b_,r_,a_.s_t0))+this.m_s2*d_-this.m_s1*p_,O_=d_-p_;if(this.m_enableLimit&&this.m_limitState!==V.b2LimitState.e_inactiveLimit){let K_=a_.DotVV(this.m_axis,a_.SubVV(b_,r_,a_.s_t0))+this.m_a2*d_-this.m_a1*p_,a2=Ey.SolveVelocityConstraints_s_f1.Copy(this.m_impulse),v2=this.m_K.Solve33(-X_,-O_,-K_,Ey.SolveVelocityConstraints_s_df3);this.m_impulse.SelfAdd(v2),this.m_limitState===V.b2LimitState.e_atLowerLimit?this.m_impulse.z=F0(this.m_impulse.z,0):this.m_limitState===V.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=k0(this.m_impulse.z,0));let M2=-X_-(this.m_impulse.z-a2.z)*this.m_K.ez.x,R2=-O_-(this.m_impulse.z-a2.z)*this.m_K.ez.y,N2=this.m_K.Solve22(M2,R2,Ey.SolveVelocityConstraints_s_f2r);N2.x+=a2.x,N2.y+=a2.y,this.m_impulse.x=N2.x,this.m_impulse.y=N2.y,v2.x=this.m_impulse.x-a2.x,v2.y=this.m_impulse.y-a2.y,v2.z=this.m_impulse.z-a2.z;let W2=a_.AddVV(a_.MulSV(v2.x,this.m_perp,a_.s_t0),a_.MulSV(v2.z,this.m_axis,a_.s_t1),Ey.SolveVelocityConstraints_s_P),Q2=v2.x*this.m_s1+v2.y+v2.z*this.m_a1,ta=v2.x*this.m_s2+v2.y+v2.z*this.m_a2;r_.SelfMulSub(S_,W2),p_-=k_*Q2,b_.SelfMulAdd(T_,W2),d_+=U_*ta}else{let K_=this.m_K.Solve22(-X_,-O_,Ey.SolveVelocityConstraints_s_df2);this.m_impulse.x+=K_.x,this.m_impulse.y+=K_.y;let a2=a_.MulSV(K_.x,this.m_perp,Ey.SolveVelocityConstraints_s_P),v2=K_.x*this.m_s1+K_.y,M2=K_.x*this.m_s2+K_.y;r_.SelfMulSub(S_,a2),p_-=k_*v2,b_.SelfMulAdd(T_,a2),d_+=U_*M2}_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,S_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_),k_=this.m_invMassA,U_=this.m_invMassB,X_=this.m_invIA,O_=this.m_invIB,K_=Z2.MulRV(S_,this.m_lalcA,this.m_rA),a2=Z2.MulRV(T_,this.m_lalcB,this.m_rB),v2=a_.SubVV(a_.AddVV(b_,a2,a_.s_t0),a_.AddVV(r_,K_,a_.s_t1),Ey.SolvePositionConstraints_s_d),M2=Z2.MulRV(S_,this.m_localXAxisA,this.m_axis),R2=a_.CrossVV(a_.AddVV(v2,K_,a_.s_t0),M2),N2=a_.CrossVV(a2,M2),W2=Z2.MulRV(S_,this.m_localYAxisA,this.m_perp),Q2=a_.CrossVV(a_.AddVV(v2,K_,a_.s_t0),W2),ta=a_.CrossVV(a2,W2),o0=Ey.SolvePositionConstraints_s_impulse,l0=a_.DotVV(W2,v2),p0=d_-p_-this.m_referenceAngle,S0=V0(l0),h0=V0(p0),G0=!1,E0=0;if(this.m_enableLimit){let z0=a_.DotVV(M2,v2);V0(this.m_upperTranslation-this.m_lowerTranslation)<2*ws?(E0=My(z0,-G_,G_),S0=F0(S0,V0(z0)),G0=!0):z0<=this.m_lowerTranslation?(E0=My(z0-this.m_lowerTranslation+ws,-G_,0),S0=F0(S0,this.m_lowerTranslation-z0),G0=!0):z0>=this.m_upperTranslation&&(E0=My(z0-this.m_upperTranslation-ws,0,G_),S0=F0(S0,z0-this.m_upperTranslation),G0=!0)}if(G0){let z0=k_+U_+X_*Q2*Q2+O_*ta*ta,Py=X_*Q2+O_*ta,n1=X_*Q2*R2+O_*ta*N2,h1=X_+O_;h1===0&&(h1=1);let hA=X_*R2+O_*N2,dA=k_+U_+X_*R2*R2+O_*N2*N2,yA=this.m_K3;yA.ex.SetXYZ(z0,Py,n1),yA.ey.SetXYZ(Py,h1,hA),yA.ez.SetXYZ(n1,hA,dA),o0=yA.Solve33(-l0,-p0,-E0,o0)}else{let z0=k_+U_+X_*Q2*Q2+O_*ta*ta,Py=X_*Q2+O_*ta,n1=X_+O_;n1===0&&(n1=1);let h1=this.m_K2;h1.ex.Set(z0,Py),h1.ey.Set(Py,n1);let hA=h1.Solve(-l0,-p0,Ey.SolvePositionConstraints_s_impulse1);o0.x=hA.x,o0.y=hA.y,o0.z=0}let v0=a_.AddVV(a_.MulSV(o0.x,W2,a_.s_t0),a_.MulSV(o0.z,M2,a_.s_t1),Ey.SolvePositionConstraints_s_P),m0=o0.x*Q2+o0.y+o0.z*R2,W0=o0.x*ta+o0.y+o0.z*N2;return r_.SelfMulSub(k_,v0),p_-=X_*m0,b_.SelfMulAdd(U_,v0),d_+=O_*W0,_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,S0<=ws&&h0<=h_}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),r_.y=_n*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y),r_}GetReactionTorque(_n){return _n*this.m_impulse.y}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetReferenceAngle(){return this.m_referenceAngle}GetJointTranslation(){let _n=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,Ey.GetJointTranslation_s_pA),r_=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,Ey.GetJointTranslation_s_pB),p_=a_.SubVV(r_,_n,Ey.GetJointTranslation_s_d),b_=this.m_bodyA.GetWorldVector(this.m_localXAxisA,Ey.GetJointTranslation_s_axis);return a_.DotVV(p_,b_)}GetJointSpeed(){let _n=this.m_bodyA,r_=this.m_bodyB;a_.SubVV(this.m_localAnchorA,_n.m_sweep.localCenter,this.m_lalcA);let p_=Z2.MulRV(_n.m_xf.q,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,r_.m_sweep.localCenter,this.m_lalcB);let b_=Z2.MulRV(r_.m_xf.q,this.m_lalcB,this.m_rB),d_=a_.AddVV(_n.m_sweep.c,p_,a_.s_t0),S_=a_.AddVV(r_.m_sweep.c,b_,a_.s_t1),T_=a_.SubVV(S_,d_,a_.s_t2),k_=_n.GetWorldVector(this.m_localXAxisA,this.m_axis),U_=_n.m_linearVelocity,X_=r_.m_linearVelocity,O_=_n.m_angularVelocity,K_=r_.m_angularVelocity;return a_.DotVV(T_,a_.CrossSV(O_,k_,a_.s_t0))+a_.DotVV(k_,a_.SubVV(a_.AddVCrossSV(X_,K_,b_,a_.s_t0),a_.AddVCrossSV(U_,O_,p_,a_.s_t1),a_.s_t0))}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(_n){_n!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=_n,this.m_impulse.z=0)}GetLowerLimit(){return this.m_lowerTranslation}GetUpperLimit(){return this.m_upperTranslation}SetLimits(_n,r_){(_n!==this.m_lowerTranslation||r_!==this.m_upperTranslation)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=_n,this.m_upperTranslation=r_,this.m_impulse.z=0)}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(_n){_n!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=_n)}SetMotorSpeed(_n){_n!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=_n)}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorForce(_n){_n!==this.m_maxMotorForce&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=_n)}GetMaxMotorForce(){return this.m_maxMotorForce}GetMotorForce(_n){return _n*this.m_motorImpulse}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2PrismaticJointDef = new b2PrismaticJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.localAxisA.Set(%.15f, %.15f);
`,this.m_localXAxisA.x,this.m_localXAxisA.y),_n(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),_n(`  jd.enableLimit = %s;
`,this.m_enableLimit?"true":"false"),_n(`  jd.lowerTranslation = %.15f;
`,this.m_lowerTranslation),_n(`  jd.upperTranslation = %.15f;
`,this.m_upperTranslation),_n(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),_n(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),_n(`  jd.maxMotorForce = %.15f;
`,this.m_maxMotorForce),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}Ey.InitVelocityConstraints_s_d=new a_,Ey.InitVelocityConstraints_s_P=new a_,Ey.SolveVelocityConstraints_s_P=new a_,Ey.SolveVelocityConstraints_s_f2r=new a_,Ey.SolveVelocityConstraints_s_f1=new G1,Ey.SolveVelocityConstraints_s_df3=new G1,Ey.SolveVelocityConstraints_s_df2=new a_,Ey.SolvePositionConstraints_s_d=new a_,Ey.SolvePositionConstraints_s_impulse=new G1,Ey.SolvePositionConstraints_s_impulse1=new a_,Ey.SolvePositionConstraints_s_P=new a_,Ey.GetJointTranslation_s_pA=new a_,Ey.GetJointTranslation_s_pB=new a_,Ey.GetJointTranslation_s_d=new a_,Ey.GetJointTranslation_s_axis=new a_;let eG=2;class oG extends nS{constructor(){super(V.b2JointType.e_pulleyJoint),this.groundAnchorA=new a_(-1,1),this.groundAnchorB=new a_(1,1),this.localAnchorA=new a_(-1,0),this.localAnchorB=new a_(1,0),this.lengthA=0,this.lengthB=0,this.ratio=1,this.collideConnected=!0}Initialize(_n,r_,p_,b_,d_,S_,T_){this.bodyA=_n,this.bodyB=r_,this.groundAnchorA.Copy(p_),this.groundAnchorB.Copy(b_),this.bodyA.GetLocalPoint(d_,this.localAnchorA),this.bodyB.GetLocalPoint(S_,this.localAnchorB),this.lengthA=a_.DistanceVV(d_,p_),this.lengthB=a_.DistanceVV(S_,b_),this.ratio=T_}}class L1 extends sS{constructor(_n){super(_n),this.m_groundAnchorA=new a_,this.m_groundAnchorB=new a_,this.m_lengthA=0,this.m_lengthB=0,this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_constant=0,this.m_ratio=0,this.m_impulse=0,this.m_indexA=0,this.m_indexB=0,this.m_uA=new a_,this.m_uB=new a_,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=0,this.m_qA=new Z2,this.m_qB=new Z2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_groundAnchorA.Copy(o(_n.groundAnchorA,new a_(-1,1))),this.m_groundAnchorB.Copy(o(_n.groundAnchorB,new a_(1,0))),this.m_localAnchorA.Copy(o(_n.localAnchorA,new a_(-1,0))),this.m_localAnchorB.Copy(o(_n.localAnchorB,new a_(1,0))),this.m_lengthA=o(_n.lengthA,0),this.m_lengthB=o(_n.lengthB,0),this.m_ratio=o(_n.ratio,1),this.m_constant=o(_n.lengthA,0)+this.m_ratio*o(_n.lengthB,0),this.m_impulse=0}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.velocities[this.m_indexA].v,d_=_n.velocities[this.m_indexA].w,S_=_n.positions[this.m_indexB].c,T_=_n.positions[this.m_indexB].a,k_=_n.velocities[this.m_indexB].v,U_=_n.velocities[this.m_indexB].w,X_=this.m_qA.SetAngle(p_),O_=this.m_qB.SetAngle(T_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),Z2.MulRV(X_,this.m_lalcA,this.m_rA),a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),Z2.MulRV(O_,this.m_lalcB,this.m_rB),this.m_uA.Copy(r_).SelfAdd(this.m_rA).SelfSub(this.m_groundAnchorA),this.m_uB.Copy(S_).SelfAdd(this.m_rB).SelfSub(this.m_groundAnchorB);let K_=this.m_uA.Length(),a2=this.m_uB.Length();K_>10*ws?this.m_uA.SelfMul(1/K_):this.m_uA.SetZero(),a2>10*ws?this.m_uB.SelfMul(1/a2):this.m_uB.SetZero();let v2=a_.CrossVV(this.m_rA,this.m_uA),M2=a_.CrossVV(this.m_rB,this.m_uB),R2=this.m_invMassA+this.m_invIA*v2*v2,N2=this.m_invMassB+this.m_invIB*M2*M2;if(this.m_mass=R2+this.m_ratio*this.m_ratio*N2,this.m_mass>0&&(this.m_mass=1/this.m_mass),_n.step.warmStarting){this.m_impulse*=_n.step.dtRatio;let W2=a_.MulSV(-this.m_impulse,this.m_uA,L1.InitVelocityConstraints_s_PA),Q2=a_.MulSV(-this.m_ratio*this.m_impulse,this.m_uB,L1.InitVelocityConstraints_s_PB);b_.SelfMulAdd(this.m_invMassA,W2),d_+=this.m_invIA*a_.CrossVV(this.m_rA,W2),k_.SelfMulAdd(this.m_invMassB,Q2),U_+=this.m_invIB*a_.CrossVV(this.m_rB,Q2)}else this.m_impulse=0;_n.velocities[this.m_indexA].w=d_,_n.velocities[this.m_indexB].w=U_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,S_=a_.AddVCrossSV(r_,p_,this.m_rA,L1.SolveVelocityConstraints_s_vpA),T_=a_.AddVCrossSV(b_,d_,this.m_rB,L1.SolveVelocityConstraints_s_vpB),k_=-a_.DotVV(this.m_uA,S_)-this.m_ratio*a_.DotVV(this.m_uB,T_),U_=-this.m_mass*k_;this.m_impulse+=U_;let X_=a_.MulSV(-U_,this.m_uA,L1.SolveVelocityConstraints_s_PA),O_=a_.MulSV(-this.m_ratio*U_,this.m_uB,L1.SolveVelocityConstraints_s_PB);r_.SelfMulAdd(this.m_invMassA,X_),p_+=this.m_invIA*a_.CrossVV(this.m_rA,X_),b_.SelfMulAdd(this.m_invMassB,O_),d_+=this.m_invIB*a_.CrossVV(this.m_rB,O_),_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,S_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let k_=Z2.MulRV(S_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let U_=Z2.MulRV(T_,this.m_lalcB,this.m_rB),X_=this.m_uA.Copy(r_).SelfAdd(k_).SelfSub(this.m_groundAnchorA),O_=this.m_uB.Copy(b_).SelfAdd(U_).SelfSub(this.m_groundAnchorB),K_=X_.Length(),a2=O_.Length();K_>10*ws?X_.SelfMul(1/K_):X_.SetZero(),a2>10*ws?O_.SelfMul(1/a2):O_.SetZero();let v2=a_.CrossVV(k_,X_),M2=a_.CrossVV(U_,O_),R2=this.m_invMassA+this.m_invIA*v2*v2,N2=this.m_invMassB+this.m_invIB*M2*M2,W2=R2+this.m_ratio*this.m_ratio*N2;W2>0&&(W2=1/W2);let Q2=this.m_constant-K_-this.m_ratio*a2,ta=V0(Q2),o0=-W2*Q2,l0=a_.MulSV(-o0,X_,L1.SolvePositionConstraints_s_PA),p0=a_.MulSV(-this.m_ratio*o0,O_,L1.SolvePositionConstraints_s_PB);return r_.SelfMulAdd(this.m_invMassA,l0),p_+=this.m_invIA*a_.CrossVV(k_,l0),b_.SelfMulAdd(this.m_invMassB,p0),d_+=this.m_invIB*a_.CrossVV(U_,p0),_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,ta<ws}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*this.m_impulse*this.m_uB.x,r_.y=_n*this.m_impulse*this.m_uB.y,r_}GetReactionTorque(_n){return 0}GetGroundAnchorA(){return this.m_groundAnchorA}GetGroundAnchorB(){return this.m_groundAnchorB}GetLengthA(){return this.m_lengthA}GetLengthB(){return this.m_lengthB}GetRatio(){return this.m_ratio}GetCurrentLengthA(){let _n=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,L1.GetCurrentLengthA_s_p),r_=this.m_groundAnchorA;return a_.DistanceVV(_n,r_)}GetCurrentLengthB(){let _n=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,L1.GetCurrentLengthB_s_p),r_=this.m_groundAnchorB;return a_.DistanceVV(_n,r_)}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2PulleyJointDef = new b2PulleyJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.groundAnchorA.Set(%.15f, %.15f);
`,this.m_groundAnchorA.x,this.m_groundAnchorA.y),_n(`  jd.groundAnchorB.Set(%.15f, %.15f);
`,this.m_groundAnchorB.x,this.m_groundAnchorB.y),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.lengthA = %.15f;
`,this.m_lengthA),_n(`  jd.lengthB = %.15f;
`,this.m_lengthB),_n(`  jd.ratio = %.15f;
`,this.m_ratio),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}ShiftOrigin(_n){this.m_groundAnchorA.SelfSub(_n),this.m_groundAnchorB.SelfSub(_n)}}L1.InitVelocityConstraints_s_PA=new a_,L1.InitVelocityConstraints_s_PB=new a_,L1.SolveVelocityConstraints_s_vpA=new a_,L1.SolveVelocityConstraints_s_vpB=new a_,L1.SolveVelocityConstraints_s_PA=new a_,L1.SolveVelocityConstraints_s_PB=new a_,L1.SolvePositionConstraints_s_PA=new a_,L1.SolvePositionConstraints_s_PB=new a_,L1.GetCurrentLengthA_s_p=new a_,L1.GetCurrentLengthB_s_p=new a_;class iG extends nS{constructor(){super(V.b2JointType.e_revoluteJoint),this.localAnchorA=new a_(0,0),this.localAnchorB=new a_(0,0),this.referenceAngle=0,this.enableLimit=!1,this.lowerAngle=0,this.upperAngle=0,this.enableMotor=!1,this.motorSpeed=0,this.maxMotorTorque=0}Initialize(_n,r_,p_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(p_,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}class z1 extends sS{constructor(_n){super(_n),this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_impulse=new G1,this.m_motorImpulse=0,this.m_enableMotor=!1,this.m_maxMotorTorque=0,this.m_motorSpeed=0,this.m_enableLimit=!1,this.m_referenceAngle=0,this.m_lowerAngle=0,this.m_upperAngle=0,this.m_indexA=0,this.m_indexB=0,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=new EA,this.m_motorMass=0,this.m_limitState=V.b2LimitState.e_inactiveLimit,this.m_qA=new Z2,this.m_qB=new Z2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_K=new g1,this.m_localAnchorA.Copy(o(_n.localAnchorA,a_.ZERO)),this.m_localAnchorB.Copy(o(_n.localAnchorB,a_.ZERO)),this.m_referenceAngle=o(_n.referenceAngle,0),this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerAngle=o(_n.lowerAngle,0),this.m_upperAngle=o(_n.upperAngle,0),this.m_maxMotorTorque=o(_n.maxMotorTorque,0),this.m_motorSpeed=o(_n.motorSpeed,0),this.m_enableLimit=o(_n.enableLimit,!1),this.m_enableMotor=o(_n.enableMotor,!1),this.m_limitState=V.b2LimitState.e_inactiveLimit}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].a,p_=_n.velocities[this.m_indexA].v,b_=_n.velocities[this.m_indexA].w,d_=_n.positions[this.m_indexB].a,S_=_n.velocities[this.m_indexB].v,T_=_n.velocities[this.m_indexB].w,k_=this.m_qA.SetAngle(r_),U_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),Z2.MulRV(k_,this.m_lalcA,this.m_rA),a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),Z2.MulRV(U_,this.m_lalcB,this.m_rB);let X_=this.m_invMassA,O_=this.m_invMassB,K_=this.m_invIA,a2=this.m_invIB,v2=K_+a2===0;if(this.m_mass.ex.x=X_+O_+this.m_rA.y*this.m_rA.y*K_+this.m_rB.y*this.m_rB.y*a2,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*K_-this.m_rB.y*this.m_rB.x*a2,this.m_mass.ez.x=-this.m_rA.y*K_-this.m_rB.y*a2,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=X_+O_+this.m_rA.x*this.m_rA.x*K_+this.m_rB.x*this.m_rB.x*a2,this.m_mass.ez.y=this.m_rA.x*K_+this.m_rB.x*a2,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=K_+a2,this.m_motorMass=K_+a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),(!this.m_enableMotor||v2)&&(this.m_motorImpulse=0),this.m_enableLimit&&!v2){let M2=d_-r_-this.m_referenceAngle;V0(this.m_upperAngle-this.m_lowerAngle)<2*h_?this.m_limitState=V.b2LimitState.e_equalLimits:M2<=this.m_lowerAngle?(this.m_limitState!==V.b2LimitState.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=V.b2LimitState.e_atLowerLimit):M2>=this.m_upperAngle?(this.m_limitState!==V.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=V.b2LimitState.e_atUpperLimit):(this.m_limitState=V.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=V.b2LimitState.e_inactiveLimit;if(_n.step.warmStarting){this.m_impulse.SelfMul(_n.step.dtRatio),this.m_motorImpulse*=_n.step.dtRatio;let M2=z1.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y);p_.SelfMulSub(X_,M2),b_-=K_*(a_.CrossVV(this.m_rA,M2)+this.m_motorImpulse+this.m_impulse.z),S_.SelfMulAdd(O_,M2),T_+=a2*(a_.CrossVV(this.m_rB,M2)+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.SetZero(),this.m_motorImpulse=0;_n.velocities[this.m_indexA].w=b_,_n.velocities[this.m_indexB].w=T_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,S_=this.m_invMassA,T_=this.m_invMassB,k_=this.m_invIA,U_=this.m_invIB,X_=k_+U_===0;if(this.m_enableMotor&&this.m_limitState!==V.b2LimitState.e_equalLimits&&!X_){let O_=d_-p_-this.m_motorSpeed,K_=-this.m_motorMass*O_,a2=this.m_motorImpulse,v2=_n.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=My(this.m_motorImpulse+K_,-v2,v2),K_=this.m_motorImpulse-a2,p_-=k_*K_,d_+=U_*K_}if(this.m_enableLimit&&this.m_limitState!==V.b2LimitState.e_inactiveLimit&&!X_){let O_=a_.SubVV(a_.AddVCrossSV(b_,d_,this.m_rB,a_.s_t0),a_.AddVCrossSV(r_,p_,this.m_rA,a_.s_t1),z1.SolveVelocityConstraints_s_Cdot1),K_=d_-p_,a2=this.m_mass.Solve33(O_.x,O_.y,K_,z1.SolveVelocityConstraints_s_impulse_v3).SelfNeg();if(this.m_limitState===V.b2LimitState.e_equalLimits)this.m_impulse.SelfAdd(a2);else if(this.m_limitState===V.b2LimitState.e_atLowerLimit)if(this.m_impulse.z+a2.z<0){let R2=-O_.x+this.m_impulse.z*this.m_mass.ez.x,N2=-O_.y+this.m_impulse.z*this.m_mass.ez.y,W2=this.m_mass.Solve22(R2,N2,z1.SolveVelocityConstraints_s_reduced_v2);a2.x=W2.x,a2.y=W2.y,a2.z=-this.m_impulse.z,this.m_impulse.x+=W2.x,this.m_impulse.y+=W2.y,this.m_impulse.z=0}else this.m_impulse.SelfAdd(a2);else if(this.m_limitState===V.b2LimitState.e_atUpperLimit)if(this.m_impulse.z+a2.z>0){let R2=-O_.x+this.m_impulse.z*this.m_mass.ez.x,N2=-O_.y+this.m_impulse.z*this.m_mass.ez.y,W2=this.m_mass.Solve22(R2,N2,z1.SolveVelocityConstraints_s_reduced_v2);a2.x=W2.x,a2.y=W2.y,a2.z=-this.m_impulse.z,this.m_impulse.x+=W2.x,this.m_impulse.y+=W2.y,this.m_impulse.z=0}else this.m_impulse.SelfAdd(a2);let v2=z1.SolveVelocityConstraints_s_P.Set(a2.x,a2.y);r_.SelfMulSub(S_,v2),p_-=k_*(a_.CrossVV(this.m_rA,v2)+a2.z),b_.SelfMulAdd(T_,v2),d_+=U_*(a_.CrossVV(this.m_rB,v2)+a2.z)}else{let O_=a_.SubVV(a_.AddVCrossSV(b_,d_,this.m_rB,a_.s_t0),a_.AddVCrossSV(r_,p_,this.m_rA,a_.s_t1),z1.SolveVelocityConstraints_s_Cdot_v2),K_=this.m_mass.Solve22(-O_.x,-O_.y,z1.SolveVelocityConstraints_s_impulse_v2);this.m_impulse.x+=K_.x,this.m_impulse.y+=K_.y,r_.SelfMulSub(S_,K_),p_-=k_*a_.CrossVV(this.m_rA,K_),b_.SelfMulAdd(T_,K_),d_+=U_*a_.CrossVV(this.m_rB,K_)}_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,S_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_),k_=0,U_=0,X_=this.m_invIA+this.m_invIB===0;if(this.m_enableLimit&&this.m_limitState!==V.b2LimitState.e_inactiveLimit&&!X_){let O_=d_-p_-this.m_referenceAngle,K_=0;if(this.m_limitState===V.b2LimitState.e_equalLimits){let a2=My(O_-this.m_lowerAngle,-q_,q_);K_=-this.m_motorMass*a2,k_=V0(a2)}else if(this.m_limitState===V.b2LimitState.e_atLowerLimit){let a2=O_-this.m_lowerAngle;k_=-a2,a2=My(a2+h_,-q_,0),K_=-this.m_motorMass*a2}else if(this.m_limitState===V.b2LimitState.e_atUpperLimit){let a2=O_-this.m_upperAngle;k_=a2,a2=My(a2-h_,0,q_),K_=-this.m_motorMass*a2}p_-=this.m_invIA*K_,d_+=this.m_invIB*K_}{S_.SetAngle(p_),T_.SetAngle(d_),a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let O_=Z2.MulRV(S_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let K_=Z2.MulRV(T_,this.m_lalcB,this.m_rB),a2=a_.SubVV(a_.AddVV(b_,K_,a_.s_t0),a_.AddVV(r_,O_,a_.s_t1),z1.SolvePositionConstraints_s_C_v2);U_=a2.Length();let v2=this.m_invMassA,M2=this.m_invMassB,R2=this.m_invIA,N2=this.m_invIB,W2=this.m_K;W2.ex.x=v2+M2+R2*O_.y*O_.y+N2*K_.y*K_.y,W2.ex.y=-R2*O_.x*O_.y-N2*K_.x*K_.y,W2.ey.x=W2.ex.y,W2.ey.y=v2+M2+R2*O_.x*O_.x+N2*K_.x*K_.x;let Q2=W2.Solve(a2.x,a2.y,z1.SolvePositionConstraints_s_impulse).SelfNeg();r_.SelfMulSub(v2,Q2),p_-=R2*a_.CrossVV(O_,Q2),b_.SelfMulAdd(M2,Q2),d_+=N2*a_.CrossVV(K_,Q2)}return _n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,U_<=ws&&k_<=h_}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*this.m_impulse.x,r_.y=_n*this.m_impulse.y,r_}GetReactionTorque(_n){return _n*this.m_impulse.z}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}GetJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle}GetJointSpeed(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(_n){_n!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=_n)}GetMotorTorque(_n){return _n*this.m_motorImpulse}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorTorque(_n){_n!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=_n)}GetMaxMotorTorque(){return this.m_maxMotorTorque}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(_n){_n!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=_n,this.m_impulse.z=0)}GetLowerLimit(){return this.m_lowerAngle}GetUpperLimit(){return this.m_upperAngle}SetLimits(_n,r_){(_n!==this.m_lowerAngle||r_!==this.m_upperAngle)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=_n,this.m_upperAngle=r_)}SetMotorSpeed(_n){_n!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=_n)}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2RevoluteJointDef = new b2RevoluteJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),_n(`  jd.enableLimit = %s;
`,this.m_enableLimit?"true":"false"),_n(`  jd.lowerAngle = %.15f;
`,this.m_lowerAngle),_n(`  jd.upperAngle = %.15f;
`,this.m_upperAngle),_n(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),_n(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),_n(`  jd.maxMotorTorque = %.15f;
`,this.m_maxMotorTorque),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}z1.InitVelocityConstraints_s_P=new a_,z1.SolveVelocityConstraints_s_P=new a_,z1.SolveVelocityConstraints_s_Cdot_v2=new a_,z1.SolveVelocityConstraints_s_Cdot1=new a_,z1.SolveVelocityConstraints_s_impulse_v3=new G1,z1.SolveVelocityConstraints_s_reduced_v2=new a_,z1.SolveVelocityConstraints_s_impulse_v2=new a_,z1.SolvePositionConstraints_s_C_v2=new a_,z1.SolvePositionConstraints_s_impulse=new a_;class rG extends nS{constructor(){super(V.b2JointType.e_ropeJoint),this.localAnchorA=new a_(-1,0),this.localAnchorB=new a_(1,0),this.maxLength=0}}class aS extends sS{constructor(_n){super(_n),this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_maxLength=0,this.m_length=0,this.m_impulse=0,this.m_indexA=0,this.m_indexB=0,this.m_u=new a_,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=0,this.m_state=V.b2LimitState.e_inactiveLimit,this.m_qA=new Z2,this.m_qB=new Z2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_localAnchorA.Copy(o(_n.localAnchorA,new a_(-1,0))),this.m_localAnchorB.Copy(o(_n.localAnchorB,new a_(1,0))),this.m_maxLength=o(_n.maxLength,0)}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.velocities[this.m_indexA].v,d_=_n.velocities[this.m_indexA].w,S_=_n.positions[this.m_indexB].c,T_=_n.positions[this.m_indexB].a,k_=_n.velocities[this.m_indexB].v,U_=_n.velocities[this.m_indexB].w,X_=this.m_qA.SetAngle(p_),O_=this.m_qB.SetAngle(T_);if(a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),Z2.MulRV(X_,this.m_lalcA,this.m_rA),a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),Z2.MulRV(O_,this.m_lalcB,this.m_rB),this.m_u.Copy(S_).SelfAdd(this.m_rB).SelfSub(r_).SelfSub(this.m_rA),this.m_length=this.m_u.Length(),this.m_length-this.m_maxLength>0?this.m_state=V.b2LimitState.e_atUpperLimit:this.m_state=V.b2LimitState.e_inactiveLimit,this.m_length>ws)this.m_u.SelfMul(1/this.m_length);else{this.m_u.SetZero(),this.m_mass=0,this.m_impulse=0;return}let a2=a_.CrossVV(this.m_rA,this.m_u),v2=a_.CrossVV(this.m_rB,this.m_u),M2=this.m_invMassA+this.m_invIA*a2*a2+this.m_invMassB+this.m_invIB*v2*v2;if(this.m_mass=M2!==0?1/M2:0,_n.step.warmStarting){this.m_impulse*=_n.step.dtRatio;let R2=a_.MulSV(this.m_impulse,this.m_u,aS.InitVelocityConstraints_s_P);b_.SelfMulSub(this.m_invMassA,R2),d_-=this.m_invIA*a_.CrossVV(this.m_rA,R2),k_.SelfMulAdd(this.m_invMassB,R2),U_+=this.m_invIB*a_.CrossVV(this.m_rB,R2)}else this.m_impulse=0;_n.velocities[this.m_indexA].w=d_,_n.velocities[this.m_indexB].w=U_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,S_=a_.AddVCrossSV(r_,p_,this.m_rA,aS.SolveVelocityConstraints_s_vpA),T_=a_.AddVCrossSV(b_,d_,this.m_rB,aS.SolveVelocityConstraints_s_vpB),k_=this.m_length-this.m_maxLength,U_=a_.DotVV(this.m_u,a_.SubVV(T_,S_,a_.s_t0));k_<0&&(U_+=_n.step.inv_dt*k_);let X_=-this.m_mass*U_,O_=this.m_impulse;this.m_impulse=k0(0,this.m_impulse+X_),X_=this.m_impulse-O_;let K_=a_.MulSV(X_,this.m_u,aS.SolveVelocityConstraints_s_P);r_.SelfMulSub(this.m_invMassA,K_),p_-=this.m_invIA*a_.CrossVV(this.m_rA,K_),b_.SelfMulAdd(this.m_invMassB,K_),d_+=this.m_invIB*a_.CrossVV(this.m_rB,K_),_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,S_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let k_=Z2.MulRV(S_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let U_=Z2.MulRV(T_,this.m_lalcB,this.m_rB),X_=this.m_u.Copy(b_).SelfAdd(U_).SelfSub(r_).SelfSub(k_),O_=X_.Normalize(),K_=O_-this.m_maxLength;K_=My(K_,0,G_);let a2=-this.m_mass*K_,v2=a_.MulSV(a2,X_,aS.SolvePositionConstraints_s_P);return r_.SelfMulSub(this.m_invMassA,v2),p_-=this.m_invIA*a_.CrossVV(k_,v2),b_.SelfMulAdd(this.m_invMassB,v2),d_+=this.m_invIB*a_.CrossVV(U_,v2),_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,O_-this.m_maxLength<ws}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return a_.MulSV(_n*this.m_impulse,this.m_u,r_)}GetReactionTorque(_n){return 0}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetMaxLength(_n){this.m_maxLength=_n}GetMaxLength(){return this.m_maxLength}GetLimitState(){return this.m_state}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2RopeJointDef = new b2RopeJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.maxLength = %.15f;
`,this.m_maxLength),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}aS.InitVelocityConstraints_s_P=new a_,aS.SolveVelocityConstraints_s_vpA=new a_,aS.SolveVelocityConstraints_s_vpB=new a_,aS.SolveVelocityConstraints_s_P=new a_,aS.SolvePositionConstraints_s_P=new a_;class nG extends nS{constructor(){super(V.b2JointType.e_weldJoint),this.localAnchorA=new a_,this.localAnchorB=new a_,this.referenceAngle=0,this.frequencyHz=0,this.dampingRatio=0}Initialize(_n,r_,p_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(p_,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}class W1 extends sS{constructor(_n){super(_n),this.m_frequencyHz=0,this.m_dampingRatio=0,this.m_bias=0,this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_referenceAngle=0,this.m_gamma=0,this.m_impulse=new G1(0,0,0),this.m_indexA=0,this.m_indexB=0,this.m_rA=new a_,this.m_rB=new a_,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_mass=new EA,this.m_qA=new Z2,this.m_qB=new Z2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_K=new EA,this.m_frequencyHz=o(_n.frequencyHz,0),this.m_dampingRatio=o(_n.dampingRatio,0),this.m_localAnchorA.Copy(o(_n.localAnchorA,a_.ZERO)),this.m_localAnchorB.Copy(o(_n.localAnchorB,a_.ZERO)),this.m_referenceAngle=o(_n.referenceAngle,0),this.m_impulse.SetZero()}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=_n.positions[this.m_indexA].a,p_=_n.velocities[this.m_indexA].v,b_=_n.velocities[this.m_indexA].w,d_=_n.positions[this.m_indexB].a,S_=_n.velocities[this.m_indexB].v,T_=_n.velocities[this.m_indexB].w,k_=this.m_qA.SetAngle(r_),U_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),Z2.MulRV(k_,this.m_lalcA,this.m_rA),a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),Z2.MulRV(U_,this.m_lalcB,this.m_rB);let X_=this.m_invMassA,O_=this.m_invMassB,K_=this.m_invIA,a2=this.m_invIB,v2=this.m_K;if(v2.ex.x=X_+O_+this.m_rA.y*this.m_rA.y*K_+this.m_rB.y*this.m_rB.y*a2,v2.ey.x=-this.m_rA.y*this.m_rA.x*K_-this.m_rB.y*this.m_rB.x*a2,v2.ez.x=-this.m_rA.y*K_-this.m_rB.y*a2,v2.ex.y=v2.ey.x,v2.ey.y=X_+O_+this.m_rA.x*this.m_rA.x*K_+this.m_rB.x*this.m_rB.x*a2,v2.ez.y=this.m_rA.x*K_+this.m_rB.x*a2,v2.ex.z=v2.ez.x,v2.ey.z=v2.ez.y,v2.ez.z=K_+a2,this.m_frequencyHz>0){v2.GetInverse22(this.m_mass);let M2=K_+a2,R2=M2>0?1/M2:0,N2=d_-r_-this.m_referenceAngle,W2=2*t_*this.m_frequencyHz,Q2=2*R2*this.m_dampingRatio*W2,ta=R2*W2*W2,o0=_n.step.dt;this.m_gamma=o0*(Q2+o0*ta),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=N2*o0*ta*this.m_gamma,M2+=this.m_gamma,this.m_mass.ez.z=M2!==0?1/M2:0}else v2.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0;if(_n.step.warmStarting){this.m_impulse.SelfMul(_n.step.dtRatio);let M2=W1.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y);p_.SelfMulSub(X_,M2),b_-=K_*(a_.CrossVV(this.m_rA,M2)+this.m_impulse.z),S_.SelfMulAdd(O_,M2),T_+=a2*(a_.CrossVV(this.m_rB,M2)+this.m_impulse.z)}else this.m_impulse.SetZero();_n.velocities[this.m_indexA].w=b_,_n.velocities[this.m_indexB].w=T_}SolveVelocityConstraints(_n){let r_=_n.velocities[this.m_indexA].v,p_=_n.velocities[this.m_indexA].w,b_=_n.velocities[this.m_indexB].v,d_=_n.velocities[this.m_indexB].w,S_=this.m_invMassA,T_=this.m_invMassB,k_=this.m_invIA,U_=this.m_invIB;if(this.m_frequencyHz>0){let X_=d_-p_,O_=-this.m_mass.ez.z*(X_+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=O_,p_-=k_*O_,d_+=U_*O_;let K_=a_.SubVV(a_.AddVCrossSV(b_,d_,this.m_rB,a_.s_t0),a_.AddVCrossSV(r_,p_,this.m_rA,a_.s_t1),W1.SolveVelocityConstraints_s_Cdot1),a2=EA.MulM33XY(this.m_mass,K_.x,K_.y,W1.SolveVelocityConstraints_s_impulse1).SelfNeg();this.m_impulse.x+=a2.x,this.m_impulse.y+=a2.y;let v2=a2;r_.SelfMulSub(S_,v2),p_-=k_*a_.CrossVV(this.m_rA,v2),b_.SelfMulAdd(T_,v2),d_+=U_*a_.CrossVV(this.m_rB,v2)}else{let X_=a_.SubVV(a_.AddVCrossSV(b_,d_,this.m_rB,a_.s_t0),a_.AddVCrossSV(r_,p_,this.m_rA,a_.s_t1),W1.SolveVelocityConstraints_s_Cdot1),O_=d_-p_,K_=EA.MulM33XYZ(this.m_mass,X_.x,X_.y,O_,W1.SolveVelocityConstraints_s_impulse).SelfNeg();this.m_impulse.SelfAdd(K_);let a2=W1.SolveVelocityConstraints_s_P.Set(K_.x,K_.y);r_.SelfMulSub(S_,a2),p_-=k_*(a_.CrossVV(this.m_rA,a2)+K_.z),b_.SelfMulAdd(T_,a2),d_+=U_*(a_.CrossVV(this.m_rB,a2)+K_.z)}_n.velocities[this.m_indexA].w=p_,_n.velocities[this.m_indexB].w=d_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,S_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_),k_=this.m_invMassA,U_=this.m_invMassB,X_=this.m_invIA,O_=this.m_invIB;a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let K_=Z2.MulRV(S_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let a2=Z2.MulRV(T_,this.m_lalcB,this.m_rB),v2,M2,R2=this.m_K;if(R2.ex.x=k_+U_+K_.y*K_.y*X_+a2.y*a2.y*O_,R2.ey.x=-K_.y*K_.x*X_-a2.y*a2.x*O_,R2.ez.x=-K_.y*X_-a2.y*O_,R2.ex.y=R2.ey.x,R2.ey.y=k_+U_+K_.x*K_.x*X_+a2.x*a2.x*O_,R2.ez.y=K_.x*X_+a2.x*O_,R2.ex.z=R2.ez.x,R2.ey.z=R2.ez.y,R2.ez.z=X_+O_,this.m_frequencyHz>0){let N2=a_.SubVV(a_.AddVV(b_,a2,a_.s_t0),a_.AddVV(r_,K_,a_.s_t1),W1.SolvePositionConstraints_s_C1);v2=N2.Length(),M2=0;let W2=R2.Solve22(N2.x,N2.y,W1.SolvePositionConstraints_s_P).SelfNeg();r_.SelfMulSub(k_,W2),p_-=X_*a_.CrossVV(K_,W2),b_.SelfMulAdd(U_,W2),d_+=O_*a_.CrossVV(a2,W2)}else{let N2=a_.SubVV(a_.AddVV(b_,a2,a_.s_t0),a_.AddVV(r_,K_,a_.s_t1),W1.SolvePositionConstraints_s_C1),W2=d_-p_-this.m_referenceAngle;v2=N2.Length(),M2=V0(W2);let Q2=R2.Solve33(N2.x,N2.y,W2,W1.SolvePositionConstraints_s_impulse).SelfNeg(),ta=W1.SolvePositionConstraints_s_P.Set(Q2.x,Q2.y);r_.SelfMulSub(k_,ta),p_-=X_*(a_.CrossVV(this.m_rA,ta)+Q2.z),b_.SelfMulAdd(U_,ta),d_+=O_*(a_.CrossVV(this.m_rB,ta)+Q2.z)}return _n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,v2<=ws&&M2<=h_}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*this.m_impulse.x,r_.y=_n*this.m_impulse.y,r_}GetReactionTorque(_n){return _n*this.m_impulse.z}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}SetFrequency(_n){this.m_frequencyHz=_n}GetFrequency(){return this.m_frequencyHz}SetDampingRatio(_n){this.m_dampingRatio=_n}GetDampingRatio(){return this.m_dampingRatio}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2WeldJointDef = new b2WeldJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),_n(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),_n(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}W1.InitVelocityConstraints_s_P=new a_,W1.SolveVelocityConstraints_s_Cdot1=new a_,W1.SolveVelocityConstraints_s_impulse1=new a_,W1.SolveVelocityConstraints_s_impulse=new G1,W1.SolveVelocityConstraints_s_P=new a_,W1.SolvePositionConstraints_s_C1=new a_,W1.SolvePositionConstraints_s_P=new a_,W1.SolvePositionConstraints_s_impulse=new G1;class sG extends nS{constructor(){super(V.b2JointType.e_wheelJoint),this.localAnchorA=new a_(0,0),this.localAnchorB=new a_(0,0),this.localAxisA=new a_(1,0),this.enableMotor=!1,this.maxMotorTorque=0,this.motorSpeed=0,this.frequencyHz=2,this.dampingRatio=.7}Initialize(_n,r_,p_,b_){this.bodyA=_n,this.bodyB=r_,this.bodyA.GetLocalPoint(p_,this.localAnchorA),this.bodyB.GetLocalPoint(p_,this.localAnchorB),this.bodyA.GetLocalVector(b_,this.localAxisA)}}class XA extends sS{constructor(_n){super(_n),this.m_frequencyHz=0,this.m_dampingRatio=0,this.m_localAnchorA=new a_,this.m_localAnchorB=new a_,this.m_localXAxisA=new a_,this.m_localYAxisA=new a_,this.m_impulse=0,this.m_motorImpulse=0,this.m_springImpulse=0,this.m_maxMotorTorque=0,this.m_motorSpeed=0,this.m_enableMotor=!1,this.m_indexA=0,this.m_indexB=0,this.m_localCenterA=new a_,this.m_localCenterB=new a_,this.m_invMassA=0,this.m_invMassB=0,this.m_invIA=0,this.m_invIB=0,this.m_ax=new a_,this.m_ay=new a_,this.m_sAx=0,this.m_sBx=0,this.m_sAy=0,this.m_sBy=0,this.m_mass=0,this.m_motorMass=0,this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_qA=new Z2,this.m_qB=new Z2,this.m_lalcA=new a_,this.m_lalcB=new a_,this.m_rA=new a_,this.m_rB=new a_,this.m_frequencyHz=o(_n.frequencyHz,2),this.m_dampingRatio=o(_n.dampingRatio,.7),this.m_localAnchorA.Copy(o(_n.localAnchorA,a_.ZERO)),this.m_localAnchorB.Copy(o(_n.localAnchorB,a_.ZERO)),this.m_localXAxisA.Copy(o(_n.localAxisA,a_.UNITX)),a_.CrossOneV(this.m_localXAxisA,this.m_localYAxisA),this.m_maxMotorTorque=o(_n.maxMotorTorque,0),this.m_motorSpeed=o(_n.motorSpeed,0),this.m_enableMotor=o(_n.enableMotor,!1),this.m_ax.SetZero(),this.m_ay.SetZero()}GetMotorSpeed(){return this.m_motorSpeed}GetMaxMotorTorque(){return this.m_maxMotorTorque}SetSpringFrequencyHz(_n){this.m_frequencyHz=_n}GetSpringFrequencyHz(){return this.m_frequencyHz}SetSpringDampingRatio(_n){this.m_dampingRatio=_n}GetSpringDampingRatio(){return this.m_dampingRatio}InitVelocityConstraints(_n){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let r_=this.m_invMassA,p_=this.m_invMassB,b_=this.m_invIA,d_=this.m_invIB,S_=_n.positions[this.m_indexA].c,T_=_n.positions[this.m_indexA].a,k_=_n.velocities[this.m_indexA].v,U_=_n.velocities[this.m_indexA].w,X_=_n.positions[this.m_indexB].c,O_=_n.positions[this.m_indexB].a,K_=_n.velocities[this.m_indexB].v,a2=_n.velocities[this.m_indexB].w,v2=this.m_qA.SetAngle(T_),M2=this.m_qB.SetAngle(O_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let R2=Z2.MulRV(v2,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let N2=Z2.MulRV(M2,this.m_lalcB,this.m_rB),W2=a_.SubVV(a_.AddVV(X_,N2,a_.s_t0),a_.AddVV(S_,R2,a_.s_t1),XA.InitVelocityConstraints_s_d);if(Z2.MulRV(v2,this.m_localYAxisA,this.m_ay),this.m_sAy=a_.CrossVV(a_.AddVV(W2,R2,a_.s_t0),this.m_ay),this.m_sBy=a_.CrossVV(N2,this.m_ay),this.m_mass=r_+p_+b_*this.m_sAy*this.m_sAy+d_*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_frequencyHz>0){Z2.MulRV(v2,this.m_localXAxisA,this.m_ax),this.m_sAx=a_.CrossVV(a_.AddVV(W2,R2,a_.s_t0),this.m_ax),this.m_sBx=a_.CrossVV(N2,this.m_ax);let Q2=r_+p_+b_*this.m_sAx*this.m_sAx+d_*this.m_sBx*this.m_sBx;if(Q2>0){this.m_springMass=1/Q2;let ta=a_.DotVV(W2,this.m_ax),o0=2*t_*this.m_frequencyHz,l0=2*this.m_springMass*this.m_dampingRatio*o0,p0=this.m_springMass*o0*o0,S0=_n.step.dt;this.m_gamma=S0*(l0+S0*p0),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=ta*S0*p0*this.m_gamma,this.m_springMass=Q2+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}}else this.m_springImpulse=0;if(this.m_enableMotor?(this.m_motorMass=b_+d_,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),_n.step.warmStarting){this.m_impulse*=_n.step.dtRatio,this.m_springImpulse*=_n.step.dtRatio,this.m_motorImpulse*=_n.step.dtRatio;let Q2=a_.AddVV(a_.MulSV(this.m_impulse,this.m_ay,a_.s_t0),a_.MulSV(this.m_springImpulse,this.m_ax,a_.s_t1),XA.InitVelocityConstraints_s_P),ta=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,o0=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse;k_.SelfMulSub(this.m_invMassA,Q2),U_-=this.m_invIA*ta,K_.SelfMulAdd(this.m_invMassB,Q2),a2+=this.m_invIB*o0}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0;_n.velocities[this.m_indexA].w=U_,_n.velocities[this.m_indexB].w=a2}SolveVelocityConstraints(_n){let r_=this.m_invMassA,p_=this.m_invMassB,b_=this.m_invIA,d_=this.m_invIB,S_=_n.velocities[this.m_indexA].v,T_=_n.velocities[this.m_indexA].w,k_=_n.velocities[this.m_indexB].v,U_=_n.velocities[this.m_indexB].w;{let X_=a_.DotVV(this.m_ax,a_.SubVV(k_,S_,a_.s_t0))+this.m_sBx*U_-this.m_sAx*T_,O_=-this.m_springMass*(X_+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=O_;let K_=a_.MulSV(O_,this.m_ax,XA.SolveVelocityConstraints_s_P),a2=O_*this.m_sAx,v2=O_*this.m_sBx;S_.SelfMulSub(r_,K_),T_-=b_*a2,k_.SelfMulAdd(p_,K_),U_+=d_*v2}{let X_=U_-T_-this.m_motorSpeed,O_=-this.m_motorMass*X_,K_=this.m_motorImpulse,a2=_n.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=My(this.m_motorImpulse+O_,-a2,a2),O_=this.m_motorImpulse-K_,T_-=b_*O_,U_+=d_*O_}{let X_=a_.DotVV(this.m_ay,a_.SubVV(k_,S_,a_.s_t0))+this.m_sBy*U_-this.m_sAy*T_,O_=-this.m_mass*X_;this.m_impulse+=O_;let K_=a_.MulSV(O_,this.m_ay,XA.SolveVelocityConstraints_s_P),a2=O_*this.m_sAy,v2=O_*this.m_sBy;S_.SelfMulSub(r_,K_),T_-=b_*a2,k_.SelfMulAdd(p_,K_),U_+=d_*v2}_n.velocities[this.m_indexA].w=T_,_n.velocities[this.m_indexB].w=U_}SolvePositionConstraints(_n){let r_=_n.positions[this.m_indexA].c,p_=_n.positions[this.m_indexA].a,b_=_n.positions[this.m_indexB].c,d_=_n.positions[this.m_indexB].a,S_=this.m_qA.SetAngle(p_),T_=this.m_qB.SetAngle(d_);a_.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);let k_=Z2.MulRV(S_,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);let U_=Z2.MulRV(T_,this.m_lalcB,this.m_rB),X_=a_.AddVV(a_.SubVV(b_,r_,a_.s_t0),a_.SubVV(U_,k_,a_.s_t1),XA.SolvePositionConstraints_s_d),O_=Z2.MulRV(S_,this.m_localYAxisA,this.m_ay),K_=a_.CrossVV(a_.AddVV(X_,k_,a_.s_t0),O_),a2=a_.CrossVV(U_,O_),v2=a_.DotVV(X_,this.m_ay),M2=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,R2;M2!==0?R2=-v2/M2:R2=0;let N2=a_.MulSV(R2,O_,XA.SolvePositionConstraints_s_P),W2=R2*K_,Q2=R2*a2;return r_.SelfMulSub(this.m_invMassA,N2),p_-=this.m_invIA*W2,b_.SelfMulAdd(this.m_invMassB,N2),d_+=this.m_invIB*Q2,_n.positions[this.m_indexA].a=p_,_n.positions[this.m_indexB].a=d_,V0(v2)<=ws}GetDefinition(_n){return _n}GetAnchorA(_n){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,_n)}GetAnchorB(_n){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_n)}GetReactionForce(_n,r_){return r_.x=_n*(this.m_impulse*this.m_ay.x+this.m_springImpulse*this.m_ax.x),r_.y=_n*(this.m_impulse*this.m_ay.y+this.m_springImpulse*this.m_ax.y),r_}GetReactionTorque(_n){return _n*this.m_motorImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetJointTranslation(){return this.GetPrismaticJointTranslation()}GetJointLinearSpeed(){return this.GetPrismaticJointSpeed()}GetJointAngle(){return this.GetRevoluteJointAngle()}GetJointAngularSpeed(){return this.GetRevoluteJointSpeed()}GetPrismaticJointTranslation(){let _n=this.m_bodyA,r_=this.m_bodyB,p_=_n.GetWorldPoint(this.m_localAnchorA,new a_),b_=r_.GetWorldPoint(this.m_localAnchorB,new a_),d_=a_.SubVV(b_,p_,new a_),S_=_n.GetWorldVector(this.m_localXAxisA,new a_);return a_.DotVV(d_,S_)}GetPrismaticJointSpeed(){let _n=this.m_bodyA,r_=this.m_bodyB;a_.SubVV(this.m_localAnchorA,_n.m_sweep.localCenter,this.m_lalcA);let p_=Z2.MulRV(_n.m_xf.q,this.m_lalcA,this.m_rA);a_.SubVV(this.m_localAnchorB,r_.m_sweep.localCenter,this.m_lalcB);let b_=Z2.MulRV(r_.m_xf.q,this.m_lalcB,this.m_rB),d_=a_.AddVV(_n.m_sweep.c,p_,a_.s_t0),S_=a_.AddVV(r_.m_sweep.c,b_,a_.s_t1),T_=a_.SubVV(S_,d_,a_.s_t2),k_=_n.GetWorldVector(this.m_localXAxisA,new a_),U_=_n.m_linearVelocity,X_=r_.m_linearVelocity,O_=_n.m_angularVelocity,K_=r_.m_angularVelocity;return a_.DotVV(T_,a_.CrossSV(O_,k_,a_.s_t0))+a_.DotVV(k_,a_.SubVV(a_.AddVCrossSV(X_,K_,b_,a_.s_t0),a_.AddVCrossSV(U_,O_,p_,a_.s_t1),a_.s_t0))}GetRevoluteJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a}GetRevoluteJointSpeed(){let _n=this.m_bodyA.m_angularVelocity;return this.m_bodyB.m_angularVelocity-_n}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(_n){_n!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=_n)}SetMotorSpeed(_n){_n!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=_n)}SetMaxMotorTorque(_n){_n!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=_n)}GetMotorTorque(_n){return _n*this.m_motorImpulse}Dump(_n){let r_=this.m_bodyA.m_islandIndex,p_=this.m_bodyB.m_islandIndex;_n(`  const jd: b2WheelJointDef = new b2WheelJointDef();
`),_n(`  jd.bodyA = bodies[%d];
`,r_),_n(`  jd.bodyB = bodies[%d];
`,p_),_n(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),_n(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),_n(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),_n(`  jd.localAxisA.Set(%.15f, %.15f);
`,this.m_localXAxisA.x,this.m_localXAxisA.y),_n(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),_n(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),_n(`  jd.maxMotorTorque = %.15f;
`,this.m_maxMotorTorque),_n(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),_n(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),_n(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}}XA.InitVelocityConstraints_s_d=new a_,XA.InitVelocityConstraints_s_P=new a_,XA.SolveVelocityConstraints_s_P=new a_,XA.SolvePositionConstraints_s_d=new a_,XA.SolvePositionConstraints_s_P=new a_;function d4(i2,_n){return dS(i2*_n)}function y4(i2,_n){return i2>_n?i2:_n}class x4{constructor(_n){this._other=null,this.prev=null,this.next=null,this.contact=_n}get other(){if(this._other===null)throw new Error;return this._other}set other(_n){if(this._other!==null)throw new Error;this._other=_n}Reset(){this._other=null,this.prev=null,this.next=null}}class pS{constructor(){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_prev=null,this.m_next=null,this.m_nodeA=new x4(this),this.m_nodeB=new x4(this),this.m_indexA=0,this.m_indexB=0,this.m_manifold=new HB,this.m_toiCount=0,this.m_toi=0,this.m_friction=0,this.m_restitution=0,this.m_tangentSpeed=0,this.m_oldManifold=new HB}GetManifold(){return this.m_manifold}GetWorldManifold(_n){let r_=this.m_fixtureA.GetBody(),p_=this.m_fixtureB.GetBody(),b_=this.GetShapeA(),d_=this.GetShapeB();_n.Initialize(this.m_manifold,r_.GetTransform(),b_.m_radius,p_.GetTransform(),d_.m_radius)}IsTouching(){return this.m_touchingFlag}SetEnabled(_n){this.m_enabledFlag=_n}IsEnabled(){return this.m_enabledFlag}GetNext(){return this.m_next}GetFixtureA(){return this.m_fixtureA}GetChildIndexA(){return this.m_indexA}GetShapeA(){return this.m_fixtureA.GetShape()}GetFixtureB(){return this.m_fixtureB}GetChildIndexB(){return this.m_indexB}GetShapeB(){return this.m_fixtureB.GetShape()}FlagForFiltering(){this.m_filterFlag=!0}SetFriction(_n){this.m_friction=_n}GetFriction(){return this.m_friction}ResetFriction(){this.m_friction=d4(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)}SetRestitution(_n){this.m_restitution=_n}GetRestitution(){return this.m_restitution}ResetRestitution(){this.m_restitution=y4(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}SetTangentSpeed(_n){this.m_tangentSpeed=_n}GetTangentSpeed(){return this.m_tangentSpeed}Reset(_n,r_,p_,b_){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!0,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_fixtureA=_n,this.m_fixtureB=p_,this.m_indexA=r_,this.m_indexB=b_,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.Reset(),this.m_nodeB.Reset(),this.m_toiCount=0,this.m_friction=d4(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=y4(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}Update(_n){let r_=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=r_,this.m_enabledFlag=!0;let p_=!1,b_=this.m_touchingFlag,d_=this.m_fixtureA.IsSensor(),S_=this.m_fixtureB.IsSensor(),T_=d_||S_,k_=this.m_fixtureA.GetBody(),U_=this.m_fixtureB.GetBody(),X_=k_.GetTransform(),O_=U_.GetTransform();if(T_){let K_=this.GetShapeA(),a2=this.GetShapeB();p_=a4(K_,this.m_indexA,a2,this.m_indexB,X_,O_),this.m_manifold.pointCount=0}else{this.Evaluate(this.m_manifold,X_,O_),p_=this.m_manifold.pointCount>0;for(let K_=0;K_<this.m_manifold.pointCount;++K_){let a2=this.m_manifold.points[K_];a2.normalImpulse=0,a2.tangentImpulse=0;let v2=a2.id;for(let M2=0;M2<this.m_oldManifold.pointCount;++M2){let R2=this.m_oldManifold.points[M2];if(R2.id.key===v2.key){a2.normalImpulse=R2.normalImpulse,a2.tangentImpulse=R2.tangentImpulse;break}}}p_!==b_&&(k_.SetAwake(!0),U_.SetAwake(!0))}this.m_touchingFlag=p_,!b_&&p_&&_n&&_n.BeginContact(this),b_&&!p_&&_n&&_n.EndContact(this),!T_&&p_&&_n&&_n.PreSolve(this,this.m_oldManifold)}ComputeTOI(_n,r_){let p_=pS.ComputeTOI_s_input;p_.proxyA.SetShape(this.GetShapeA(),this.m_indexA),p_.proxyB.SetShape(this.GetShapeB(),this.m_indexB),p_.sweepA.Copy(_n),p_.sweepB.Copy(r_),p_.tMax=ws;let b_=pS.ComputeTOI_s_output;return l4(b_,p_),b_.t}}pS.ComputeTOI_s_input=new p4,pS.ComputeTOI_s_output=new c4;class KB extends pS{static Create(){return new KB}static Destroy(_n){}Evaluate(_n,r_,p_){dM(_n,this.GetShapeA(),r_,this.GetShapeB(),p_)}}class QB extends pS{static Create(){return new QB}static Destroy(_n){}Evaluate(_n,r_,p_){fM(_n,this.GetShapeA(),r_,this.GetShapeB(),p_)}}class $B extends pS{static Create(){return new $B}static Destroy(_n){}Evaluate(_n,r_,p_){yM(_n,this.GetShapeA(),r_,this.GetShapeB(),p_)}}class tP extends pS{static Create(){return new tP}static Destroy(_n){}Evaluate(_n,r_,p_){b4(_n,this.GetShapeA(),r_,this.GetShapeB(),p_)}}class eP extends pS{static Create(){return new eP}static Destroy(_n){}Evaluate(_n,r_,p_){u4(_n,this.GetShapeA(),r_,this.GetShapeB(),p_)}}class XC extends pS{static Create(){return new XC}static Destroy(_n){}Evaluate(_n,r_,p_){let b_=XC.Evaluate_s_edge;this.GetShapeA().GetChildEdge(b_,this.m_indexA),b4(_n,b_,r_,this.GetShapeB(),p_)}}XC.Evaluate_s_edge=new Qy;class YC extends pS{static Create(){return new YC}static Destroy(_n){}Evaluate(_n,r_,p_){let b_=YC.Evaluate_s_edge;this.GetShapeA().GetChildEdge(b_,this.m_indexA),u4(_n,b_,r_,this.GetShapeB(),p_)}}YC.Evaluate_s_edge=new Qy;class BM{constructor(){this.pool=[],this.createFcn=null,this.destroyFcn=null,this.primary=!1}}class PM{constructor(){this.m_registers=[],this.InitializeRegisters()}AddType(_n,r_,p_,b_){let d_=[];function S_(){return d_.pop()||_n()}function T_(k_){d_.push(k_)}this.m_registers[p_][b_].pool=d_,this.m_registers[p_][b_].createFcn=S_,this.m_registers[p_][b_].destroyFcn=T_,this.m_registers[p_][b_].primary=!0,p_!==b_&&(this.m_registers[b_][p_].pool=d_,this.m_registers[b_][p_].createFcn=S_,this.m_registers[b_][p_].destroyFcn=T_,this.m_registers[b_][p_].primary=!1)}InitializeRegisters(){for(let _n=0;_n<V.b2ShapeType.e_shapeTypeCount;_n++){this.m_registers[_n]=[];for(let r_=0;r_<V.b2ShapeType.e_shapeTypeCount;r_++)this.m_registers[_n][r_]=new BM}this.AddType(KB.Create,KB.Destroy,V.b2ShapeType.e_circleShape,V.b2ShapeType.e_circleShape),this.AddType($B.Create,$B.Destroy,V.b2ShapeType.e_polygonShape,V.b2ShapeType.e_circleShape),this.AddType(QB.Create,QB.Destroy,V.b2ShapeType.e_polygonShape,V.b2ShapeType.e_polygonShape),this.AddType(tP.Create,tP.Destroy,V.b2ShapeType.e_edgeShape,V.b2ShapeType.e_circleShape),this.AddType(eP.Create,eP.Destroy,V.b2ShapeType.e_edgeShape,V.b2ShapeType.e_polygonShape),this.AddType(XC.Create,XC.Destroy,V.b2ShapeType.e_chainShape,V.b2ShapeType.e_circleShape),this.AddType(YC.Create,YC.Destroy,V.b2ShapeType.e_chainShape,V.b2ShapeType.e_polygonShape)}Create(_n,r_,p_,b_){let d_=_n.GetType(),S_=p_.GetType(),T_=this.m_registers[d_][S_];if(T_.createFcn){let k_=T_.createFcn();return T_.primary?k_.Reset(_n,r_,p_,b_):k_.Reset(p_,b_,_n,r_),k_}else return null}Destroy(_n){let r_=_n.m_fixtureA.GetType(),p_=_n.m_fixtureB.GetType(),b_=this.m_registers[r_][p_];b_.destroyFcn&&b_.destroyFcn(_n)}}class _G{SayGoodbyeJoint(_n){}SayGoodbyeFixture(_n){}SayGoodbyeParticleGroup(_n){}SayGoodbyeParticle(_n,r_){}}class rV{ShouldCollide(_n,r_){let p_=_n.GetBody(),b_=r_.GetBody();if(b_.GetType()===V.b2BodyType.b2_staticBody&&p_.GetType()===V.b2BodyType.b2_staticBody||!b_.ShouldCollideConnected(p_))return!1;let d_=_n.GetFilterData(),S_=r_.GetFilterData();return d_.groupIndex===S_.groupIndex&&d_.groupIndex!==0?d_.groupIndex>0:(d_.maskBits&S_.categoryBits)!==0&&(d_.categoryBits&S_.maskBits)!==0}ShouldCollideFixtureParticle(_n,r_,p_){return!0}ShouldCollideParticleParticle(_n,r_,p_){return!0}}rV.b2_defaultFilter=new rV;class wM{constructor(){this.normalImpulses=g0(o_),this.tangentImpulses=g0(o_),this.count=0}}class nV{BeginContact(_n){}EndContact(_n){}BeginContactFixtureParticle(_n,r_){}EndContactFixtureParticle(_n,r_){}BeginContactParticleParticle(_n,r_){}EndContactParticleParticle(_n,r_){}PreSolve(_n,r_){}PostSolve(_n,r_){}}nV.b2_defaultListener=new nV;class ES{ReportFixture(_n){return!0}ReportParticle(_n,r_){return!1}ShouldQueryParticleSystem(_n){return!0}}class VM{ReportFixture(_n,r_,p_,b_){return b_}ReportParticle(_n,r_,p_,b_,d_){return 0}ShouldQueryParticleSystem(_n){return!0}}class MM{constructor(){this.m_broadPhase=new lM,this.m_contactList=null,this.m_contactCount=0,this.m_contactFilter=rV.b2_defaultFilter,this.m_contactListener=nV.b2_defaultListener,this.m_contactFactory=new PM}AddPair(_n,r_){let p_=_n.fixture,b_=r_.fixture,d_=_n.childIndex,S_=r_.childIndex,T_=p_.GetBody(),k_=b_.GetBody();if(T_===k_)return;let U_=k_.GetContactList();for(;U_;){if(U_.other===T_){let O_=U_.contact.GetFixtureA(),K_=U_.contact.GetFixtureB(),a2=U_.contact.GetChildIndexA(),v2=U_.contact.GetChildIndexB();if(O_===p_&&K_===b_&&a2===d_&&v2===S_||O_===b_&&K_===p_&&a2===S_&&v2===d_)return}U_=U_.next}if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(p_,b_))return;let X_=this.m_contactFactory.Create(p_,d_,b_,S_);X_!==null&&(p_=X_.GetFixtureA(),b_=X_.GetFixtureB(),d_=X_.GetChildIndexA(),S_=X_.GetChildIndexB(),T_=p_.m_body,k_=b_.m_body,X_.m_prev=null,X_.m_next=this.m_contactList,this.m_contactList!==null&&(this.m_contactList.m_prev=X_),this.m_contactList=X_,X_.m_nodeA.other=k_,X_.m_nodeA.prev=null,X_.m_nodeA.next=T_.m_contactList,T_.m_contactList!==null&&(T_.m_contactList.prev=X_.m_nodeA),T_.m_contactList=X_.m_nodeA,X_.m_nodeB.other=T_,X_.m_nodeB.prev=null,X_.m_nodeB.next=k_.m_contactList,k_.m_contactList!==null&&(k_.m_contactList.prev=X_.m_nodeB),k_.m_contactList=X_.m_nodeB,!p_.IsSensor()&&!b_.IsSensor()&&(T_.SetAwake(!0),k_.SetAwake(!0)),++this.m_contactCount)}FindNewContacts(){this.m_broadPhase.UpdatePairs((_n,r_)=>{this.AddPair(_n,r_)})}Destroy(_n){let r_=_n.GetFixtureA(),p_=_n.GetFixtureB(),b_=r_.GetBody(),d_=p_.GetBody();this.m_contactListener&&_n.IsTouching()&&this.m_contactListener.EndContact(_n),_n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),_n===this.m_contactList&&(this.m_contactList=_n.m_next),_n.m_nodeA.prev&&(_n.m_nodeA.prev.next=_n.m_nodeA.next),_n.m_nodeA.next&&(_n.m_nodeA.next.prev=_n.m_nodeA.prev),_n.m_nodeA===b_.m_contactList&&(b_.m_contactList=_n.m_nodeA.next),_n.m_nodeB.prev&&(_n.m_nodeB.prev.next=_n.m_nodeB.next),_n.m_nodeB.next&&(_n.m_nodeB.next.prev=_n.m_nodeB.prev),_n.m_nodeB===d_.m_contactList&&(d_.m_contactList=_n.m_nodeB.next),_n.m_manifold.pointCount>0&&!r_.IsSensor()&&!p_.IsSensor()&&(r_.GetBody().SetAwake(!0),p_.GetBody().SetAwake(!0)),this.m_contactFactory.Destroy(_n),--this.m_contactCount}Collide(){let _n=this.m_contactList;for(;_n;){let r_=_n.GetFixtureA(),p_=_n.GetFixtureB(),b_=_n.GetChildIndexA(),d_=_n.GetChildIndexB(),S_=r_.GetBody(),T_=p_.GetBody();if(_n.m_filterFlag){if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(r_,p_)){let a2=_n;_n=a2.m_next,this.Destroy(a2);continue}_n.m_filterFlag=!1}let k_=S_.IsAwake()&&S_.m_type!==V.b2BodyType.b2_staticBody,U_=T_.IsAwake()&&T_.m_type!==V.b2BodyType.b2_staticBody;if(!k_&&!U_){_n=_n.m_next;continue}let X_=r_.m_proxies[b_].treeNode,O_=p_.m_proxies[d_].treeNode;if(!_4(X_.aabb,O_.aabb)){let a2=_n;_n=a2.m_next,this.Destroy(a2);continue}_n.Update(this.m_contactListener),_n=_n.m_next}}}class f4{constructor(){this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0}Reset(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this}}class HC{constructor(){this.dt=0,this.inv_dt=0,this.dtRatio=0,this.velocityIterations=0,this.positionIterations=0,this.particleIterations=0,this.warmStarting=!1}Copy(_n){return this.dt=_n.dt,this.inv_dt=_n.inv_dt,this.dtRatio=_n.dtRatio,this.positionIterations=_n.positionIterations,this.velocityIterations=_n.velocityIterations,this.particleIterations=_n.particleIterations,this.warmStarting=_n.warmStarting,this}}class oP{constructor(){this.c=new a_,this.a=0}static MakeArray(_n){return U2(_n,r_=>new oP)}}class iP{constructor(){this.v=new a_,this.w=0}static MakeArray(_n){return U2(_n,r_=>new iP)}}class DM{constructor(){this.step=new HC}}let g4=!1;class sV{constructor(){this.rA=new a_,this.rB=new a_,this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0}static MakeArray(_n){return U2(_n,r_=>new sV)}}class rP{constructor(){this.points=sV.MakeArray(o_),this.normal=new a_,this.tangent=new a_,this.normalMass=new g1,this.K=new g1,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.invIA=0,this.invIB=0,this.friction=0,this.restitution=0,this.tangentSpeed=0,this.pointCount=0,this.contactIndex=0}static MakeArray(_n){return U2(_n,r_=>new rP)}}class nP{constructor(){this.localPoints=a_.MakeArray(o_),this.localNormal=new a_,this.localPoint=new a_,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.localCenterA=new a_,this.localCenterB=new a_,this.invIA=0,this.invIB=0,this.type=V.b2ManifoldType.e_unknown,this.radiusA=0,this.radiusB=0,this.pointCount=0}static MakeArray(_n){return U2(_n,r_=>new nP)}}class GM{constructor(){this.step=new HC,this.count=0}}class yS{constructor(){this.normal=new a_,this.point=new a_,this.separation=0}Initialize(_n,r_,p_,b_){let d_=yS.Initialize_s_pointA,S_=yS.Initialize_s_pointB,T_=yS.Initialize_s_planePoint,k_=yS.Initialize_s_clipPoint;switch(_n.type){case V.b2ManifoldType.e_circles:{i0.MulXV(r_,_n.localPoint,d_),i0.MulXV(p_,_n.localPoints[0],S_),a_.SubVV(S_,d_,this.normal).SelfNormalize(),a_.MidVV(d_,S_,this.point),this.separation=a_.DotVV(a_.SubVV(S_,d_,a_.s_t0),this.normal)-_n.radiusA-_n.radiusB;break}case V.b2ManifoldType.e_faceA:{Z2.MulRV(r_.q,_n.localNormal,this.normal),i0.MulXV(r_,_n.localPoint,T_),i0.MulXV(p_,_n.localPoints[b_],k_),this.separation=a_.DotVV(a_.SubVV(k_,T_,a_.s_t0),this.normal)-_n.radiusA-_n.radiusB,this.point.Copy(k_);break}case V.b2ManifoldType.e_faceB:{Z2.MulRV(p_.q,_n.localNormal,this.normal),i0.MulXV(p_,_n.localPoint,T_),i0.MulXV(r_,_n.localPoints[b_],k_),this.separation=a_.DotVV(a_.SubVV(k_,T_,a_.s_t0),this.normal)-_n.radiusA-_n.radiusB,this.point.Copy(k_),this.normal.SelfNeg();break}}}}yS.Initialize_s_pointA=new a_,yS.Initialize_s_pointB=new a_,yS.Initialize_s_planePoint=new a_,yS.Initialize_s_clipPoint=new a_;class q0{constructor(){this.m_step=new HC,this.m_positionConstraints=nP.MakeArray(1024),this.m_velocityConstraints=rP.MakeArray(1024),this.m_count=0}Initialize(_n){if(this.m_step.Copy(_n.step),this.m_count=_n.count,this.m_positionConstraints.length<this.m_count){let r_=F0(this.m_positionConstraints.length*2,this.m_count);for(;this.m_positionConstraints.length<r_;)this.m_positionConstraints[this.m_positionConstraints.length]=new nP}if(this.m_velocityConstraints.length<this.m_count){let r_=F0(this.m_velocityConstraints.length*2,this.m_count);for(;this.m_velocityConstraints.length<r_;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new rP}this.m_positions=_n.positions,this.m_velocities=_n.velocities,this.m_contacts=_n.contacts;for(let r_=0;r_<this.m_count;++r_){let p_=this.m_contacts[r_],b_=p_.m_fixtureA,d_=p_.m_fixtureB,S_=b_.GetShape(),T_=d_.GetShape(),k_=S_.m_radius,U_=T_.m_radius,X_=b_.GetBody(),O_=d_.GetBody(),K_=p_.GetManifold(),a2=K_.pointCount,v2=this.m_velocityConstraints[r_];v2.friction=p_.m_friction,v2.restitution=p_.m_restitution,v2.tangentSpeed=p_.m_tangentSpeed,v2.indexA=X_.m_islandIndex,v2.indexB=O_.m_islandIndex,v2.invMassA=X_.m_invMass,v2.invMassB=O_.m_invMass,v2.invIA=X_.m_invI,v2.invIB=O_.m_invI,v2.contactIndex=r_,v2.pointCount=a2,v2.K.SetZero(),v2.normalMass.SetZero();let M2=this.m_positionConstraints[r_];M2.indexA=X_.m_islandIndex,M2.indexB=O_.m_islandIndex,M2.invMassA=X_.m_invMass,M2.invMassB=O_.m_invMass,M2.localCenterA.Copy(X_.m_sweep.localCenter),M2.localCenterB.Copy(O_.m_sweep.localCenter),M2.invIA=X_.m_invI,M2.invIB=O_.m_invI,M2.localNormal.Copy(K_.localNormal),M2.localPoint.Copy(K_.localPoint),M2.pointCount=a2,M2.radiusA=k_,M2.radiusB=U_,M2.type=K_.type;for(let R2=0;R2<a2;++R2){let N2=K_.points[R2],W2=v2.points[R2];this.m_step.warmStarting?(W2.normalImpulse=this.m_step.dtRatio*N2.normalImpulse,W2.tangentImpulse=this.m_step.dtRatio*N2.tangentImpulse):(W2.normalImpulse=0,W2.tangentImpulse=0),W2.rA.SetZero(),W2.rB.SetZero(),W2.normalMass=0,W2.tangentMass=0,W2.velocityBias=0,M2.localPoints[R2].Copy(N2.localPoint)}}return this}InitializeVelocityConstraints(){let _n=q0.InitializeVelocityConstraints_s_xfA,r_=q0.InitializeVelocityConstraints_s_xfB,p_=q0.InitializeVelocityConstraints_s_worldManifold,b_=1e3;for(let d_=0;d_<this.m_count;++d_){let S_=this.m_velocityConstraints[d_],T_=this.m_positionConstraints[d_],k_=T_.radiusA,U_=T_.radiusB,X_=this.m_contacts[S_.contactIndex].GetManifold(),O_=S_.indexA,K_=S_.indexB,a2=S_.invMassA,v2=S_.invMassB,M2=S_.invIA,R2=S_.invIB,N2=T_.localCenterA,W2=T_.localCenterB,Q2=this.m_positions[O_].c,ta=this.m_positions[O_].a,o0=this.m_velocities[O_].v,l0=this.m_velocities[O_].w,p0=this.m_positions[K_].c,S0=this.m_positions[K_].a,h0=this.m_velocities[K_].v,G0=this.m_velocities[K_].w;_n.q.SetAngle(ta),r_.q.SetAngle(S0),a_.SubVV(Q2,Z2.MulRV(_n.q,N2,a_.s_t0),_n.p),a_.SubVV(p0,Z2.MulRV(r_.q,W2,a_.s_t0),r_.p),p_.Initialize(X_,_n,k_,r_,U_),S_.normal.Copy(p_.normal),a_.CrossVOne(S_.normal,S_.tangent);let E0=S_.pointCount;for(let v0=0;v0<E0;++v0){let m0=S_.points[v0];a_.SubVV(p_.points[v0],Q2,m0.rA),a_.SubVV(p_.points[v0],p0,m0.rB);let W0=a_.CrossVV(m0.rA,S_.normal),z0=a_.CrossVV(m0.rB,S_.normal),Py=a2+v2+M2*W0*W0+R2*z0*z0;m0.normalMass=Py>0?1/Py:0;let n1=S_.tangent,h1=a_.CrossVV(m0.rA,n1),hA=a_.CrossVV(m0.rB,n1),dA=a2+v2+M2*h1*h1+R2*hA*hA;m0.tangentMass=dA>0?1/dA:0,m0.velocityBias=0;let yA=a_.DotVV(S_.normal,a_.SubVV(a_.AddVCrossSV(h0,G0,m0.rB,a_.s_t0),a_.AddVCrossSV(o0,l0,m0.rA,a_.s_t1),a_.s_t0));yA<-y_&&(m0.velocityBias+=-S_.restitution*yA)}if(S_.pointCount===2&&g4){let v0=S_.points[0],m0=S_.points[1],W0=a_.CrossVV(v0.rA,S_.normal),z0=a_.CrossVV(v0.rB,S_.normal),Py=a_.CrossVV(m0.rA,S_.normal),n1=a_.CrossVV(m0.rB,S_.normal),h1=a2+v2+M2*W0*W0+R2*z0*z0,hA=a2+v2+M2*Py*Py+R2*n1*n1,dA=a2+v2+M2*W0*Py+R2*z0*n1;h1*h1<b_*(h1*hA-dA*dA)?(S_.K.ex.Set(h1,dA),S_.K.ey.Set(dA,hA),S_.K.GetInverse(S_.normalMass)):S_.pointCount=1}}}WarmStart(){let _n=q0.WarmStart_s_P;for(let r_=0;r_<this.m_count;++r_){let p_=this.m_velocityConstraints[r_],b_=p_.indexA,d_=p_.indexB,S_=p_.invMassA,T_=p_.invIA,k_=p_.invMassB,U_=p_.invIB,X_=p_.pointCount,O_=this.m_velocities[b_].v,K_=this.m_velocities[b_].w,a2=this.m_velocities[d_].v,v2=this.m_velocities[d_].w,M2=p_.normal,R2=p_.tangent;for(let N2=0;N2<X_;++N2){let W2=p_.points[N2];a_.AddVV(a_.MulSV(W2.normalImpulse,M2,a_.s_t0),a_.MulSV(W2.tangentImpulse,R2,a_.s_t1),_n),K_-=T_*a_.CrossVV(W2.rA,_n),O_.SelfMulSub(S_,_n),v2+=U_*a_.CrossVV(W2.rB,_n),a2.SelfMulAdd(k_,_n)}this.m_velocities[b_].w=K_,this.m_velocities[d_].w=v2}}SolveVelocityConstraints(){let _n=q0.SolveVelocityConstraints_s_dv,r_=q0.SolveVelocityConstraints_s_dv1,p_=q0.SolveVelocityConstraints_s_dv2,b_=q0.SolveVelocityConstraints_s_P,d_=q0.SolveVelocityConstraints_s_a,S_=q0.SolveVelocityConstraints_s_b,T_=q0.SolveVelocityConstraints_s_x,k_=q0.SolveVelocityConstraints_s_d,U_=q0.SolveVelocityConstraints_s_P1,X_=q0.SolveVelocityConstraints_s_P2,O_=q0.SolveVelocityConstraints_s_P1P2;for(let K_=0;K_<this.m_count;++K_){let a2=this.m_velocityConstraints[K_],v2=a2.indexA,M2=a2.indexB,R2=a2.invMassA,N2=a2.invIA,W2=a2.invMassB,Q2=a2.invIB,ta=a2.pointCount,o0=this.m_velocities[v2].v,l0=this.m_velocities[v2].w,p0=this.m_velocities[M2].v,S0=this.m_velocities[M2].w,h0=a2.normal,G0=a2.tangent,E0=a2.friction;for(let v0=0;v0<ta;++v0){let m0=a2.points[v0];a_.SubVV(a_.AddVCrossSV(p0,S0,m0.rB,a_.s_t0),a_.AddVCrossSV(o0,l0,m0.rA,a_.s_t1),_n);let W0=a_.DotVV(_n,G0)-a2.tangentSpeed,z0=m0.tangentMass*-W0,Py=E0*m0.normalImpulse,n1=My(m0.tangentImpulse+z0,-Py,Py);z0=n1-m0.tangentImpulse,m0.tangentImpulse=n1,a_.MulSV(z0,G0,b_),o0.SelfMulSub(R2,b_),l0-=N2*a_.CrossVV(m0.rA,b_),p0.SelfMulAdd(W2,b_),S0+=Q2*a_.CrossVV(m0.rB,b_)}if(a2.pointCount===1||g4===!1)for(let v0=0;v0<ta;++v0){let m0=a2.points[v0];a_.SubVV(a_.AddVCrossSV(p0,S0,m0.rB,a_.s_t0),a_.AddVCrossSV(o0,l0,m0.rA,a_.s_t1),_n);let W0=a_.DotVV(_n,h0),z0=-m0.normalMass*(W0-m0.velocityBias),Py=F0(m0.normalImpulse+z0,0);z0=Py-m0.normalImpulse,m0.normalImpulse=Py,a_.MulSV(z0,h0,b_),o0.SelfMulSub(R2,b_),l0-=N2*a_.CrossVV(m0.rA,b_),p0.SelfMulAdd(W2,b_),S0+=Q2*a_.CrossVV(m0.rB,b_)}else{let v0=a2.points[0],m0=a2.points[1];d_.Set(v0.normalImpulse,m0.normalImpulse),a_.SubVV(a_.AddVCrossSV(p0,S0,v0.rB,a_.s_t0),a_.AddVCrossSV(o0,l0,v0.rA,a_.s_t1),r_),a_.SubVV(a_.AddVCrossSV(p0,S0,m0.rB,a_.s_t0),a_.AddVCrossSV(o0,l0,m0.rA,a_.s_t1),p_);let W0=a_.DotVV(r_,h0),z0=a_.DotVV(p_,h0);for(S_.x=W0-v0.velocityBias,S_.y=z0-m0.velocityBias,S_.SelfSub(g1.MulMV(a2.K,d_,a_.s_t0));;){if(g1.MulMV(a2.normalMass,S_,T_).SelfNeg(),T_.x>=0&&T_.y>=0){a_.SubVV(T_,d_,k_),a_.MulSV(k_.x,h0,U_),a_.MulSV(k_.y,h0,X_),a_.AddVV(U_,X_,O_),o0.SelfMulSub(R2,O_),l0-=N2*(a_.CrossVV(v0.rA,U_)+a_.CrossVV(m0.rA,X_)),p0.SelfMulAdd(W2,O_),S0+=Q2*(a_.CrossVV(v0.rB,U_)+a_.CrossVV(m0.rB,X_)),v0.normalImpulse=T_.x,m0.normalImpulse=T_.y;break}if(T_.x=-v0.normalMass*S_.x,T_.y=0,W0=0,z0=a2.K.ex.y*T_.x+S_.y,T_.x>=0&&z0>=0){a_.SubVV(T_,d_,k_),a_.MulSV(k_.x,h0,U_),a_.MulSV(k_.y,h0,X_),a_.AddVV(U_,X_,O_),o0.SelfMulSub(R2,O_),l0-=N2*(a_.CrossVV(v0.rA,U_)+a_.CrossVV(m0.rA,X_)),p0.SelfMulAdd(W2,O_),S0+=Q2*(a_.CrossVV(v0.rB,U_)+a_.CrossVV(m0.rB,X_)),v0.normalImpulse=T_.x,m0.normalImpulse=T_.y;break}if(T_.x=0,T_.y=-m0.normalMass*S_.y,W0=a2.K.ey.x*T_.y+S_.x,z0=0,T_.y>=0&&W0>=0){a_.SubVV(T_,d_,k_),a_.MulSV(k_.x,h0,U_),a_.MulSV(k_.y,h0,X_),a_.AddVV(U_,X_,O_),o0.SelfMulSub(R2,O_),l0-=N2*(a_.CrossVV(v0.rA,U_)+a_.CrossVV(m0.rA,X_)),p0.SelfMulAdd(W2,O_),S0+=Q2*(a_.CrossVV(v0.rB,U_)+a_.CrossVV(m0.rB,X_)),v0.normalImpulse=T_.x,m0.normalImpulse=T_.y;break}if(T_.x=0,T_.y=0,W0=S_.x,z0=S_.y,W0>=0&&z0>=0){a_.SubVV(T_,d_,k_),a_.MulSV(k_.x,h0,U_),a_.MulSV(k_.y,h0,X_),a_.AddVV(U_,X_,O_),o0.SelfMulSub(R2,O_),l0-=N2*(a_.CrossVV(v0.rA,U_)+a_.CrossVV(m0.rA,X_)),p0.SelfMulAdd(W2,O_),S0+=Q2*(a_.CrossVV(v0.rB,U_)+a_.CrossVV(m0.rB,X_)),v0.normalImpulse=T_.x,m0.normalImpulse=T_.y;break}break}}this.m_velocities[v2].w=l0,this.m_velocities[M2].w=S0}}StoreImpulses(){for(let _n=0;_n<this.m_count;++_n){let r_=this.m_velocityConstraints[_n],p_=this.m_contacts[r_.contactIndex].GetManifold();for(let b_=0;b_<r_.pointCount;++b_)p_.points[b_].normalImpulse=r_.points[b_].normalImpulse,p_.points[b_].tangentImpulse=r_.points[b_].tangentImpulse}}SolvePositionConstraints(){let _n=q0.SolvePositionConstraints_s_xfA,r_=q0.SolvePositionConstraints_s_xfB,p_=q0.SolvePositionConstraints_s_psm,b_=q0.SolvePositionConstraints_s_rA,d_=q0.SolvePositionConstraints_s_rB,S_=q0.SolvePositionConstraints_s_P,T_=0;for(let k_=0;k_<this.m_count;++k_){let U_=this.m_positionConstraints[k_],X_=U_.indexA,O_=U_.indexB,K_=U_.localCenterA,a2=U_.invMassA,v2=U_.invIA,M2=U_.localCenterB,R2=U_.invMassB,N2=U_.invIB,W2=U_.pointCount,Q2=this.m_positions[X_].c,ta=this.m_positions[X_].a,o0=this.m_positions[O_].c,l0=this.m_positions[O_].a;for(let p0=0;p0<W2;++p0){_n.q.SetAngle(ta),r_.q.SetAngle(l0),a_.SubVV(Q2,Z2.MulRV(_n.q,K_,a_.s_t0),_n.p),a_.SubVV(o0,Z2.MulRV(r_.q,M2,a_.s_t0),r_.p),p_.Initialize(U_,_n,r_,p0);let S0=p_.normal,h0=p_.point,G0=p_.separation;a_.SubVV(h0,Q2,b_),a_.SubVV(h0,o0,d_),T_=k0(T_,G0);let E0=My(I2*(G0+ws),-G_,0),v0=a_.CrossVV(b_,S0),m0=a_.CrossVV(d_,S0),W0=a2+R2+v2*v0*v0+N2*m0*m0,z0=W0>0?-E0/W0:0;a_.MulSV(z0,S0,S_),Q2.SelfMulSub(a2,S_),ta-=v2*a_.CrossVV(b_,S_),o0.SelfMulAdd(R2,S_),l0+=N2*a_.CrossVV(d_,S_)}this.m_positions[X_].a=ta,this.m_positions[O_].a=l0}return T_>-3*ws}SolveTOIPositionConstraints(_n,r_){let p_=q0.SolveTOIPositionConstraints_s_xfA,b_=q0.SolveTOIPositionConstraints_s_xfB,d_=q0.SolveTOIPositionConstraints_s_psm,S_=q0.SolveTOIPositionConstraints_s_rA,T_=q0.SolveTOIPositionConstraints_s_rB,k_=q0.SolveTOIPositionConstraints_s_P,U_=0;for(let X_=0;X_<this.m_count;++X_){let O_=this.m_positionConstraints[X_],K_=O_.indexA,a2=O_.indexB,v2=O_.localCenterA,M2=O_.localCenterB,R2=O_.pointCount,N2=0,W2=0;(K_===_n||K_===r_)&&(N2=O_.invMassA,W2=O_.invIA);let Q2=0,ta=0;(a2===_n||a2===r_)&&(Q2=O_.invMassB,ta=O_.invIB);let o0=this.m_positions[K_].c,l0=this.m_positions[K_].a,p0=this.m_positions[a2].c,S0=this.m_positions[a2].a;for(let h0=0;h0<R2;++h0){p_.q.SetAngle(l0),b_.q.SetAngle(S0),a_.SubVV(o0,Z2.MulRV(p_.q,v2,a_.s_t0),p_.p),a_.SubVV(p0,Z2.MulRV(b_.q,M2,a_.s_t0),b_.p),d_.Initialize(O_,p_,b_,h0);let G0=d_.normal,E0=d_.point,v0=d_.separation;a_.SubVV(E0,o0,S_),a_.SubVV(E0,p0,T_),U_=k0(U_,v0);let m0=My(J2*(v0+ws),-G_,0),W0=a_.CrossVV(S_,G0),z0=a_.CrossVV(T_,G0),Py=N2+Q2+W2*W0*W0+ta*z0*z0,n1=Py>0?-m0/Py:0;a_.MulSV(n1,G0,k_),o0.SelfMulSub(N2,k_),l0-=W2*a_.CrossVV(S_,k_),p0.SelfMulAdd(Q2,k_),S0+=ta*a_.CrossVV(T_,k_)}this.m_positions[K_].a=l0,this.m_positions[a2].a=S0}return U_>=-1.5*ws}}q0.InitializeVelocityConstraints_s_xfA=new i0,q0.InitializeVelocityConstraints_s_xfB=new i0,q0.InitializeVelocityConstraints_s_worldManifold=new Y1,q0.WarmStart_s_P=new a_,q0.SolveVelocityConstraints_s_dv=new a_,q0.SolveVelocityConstraints_s_dv1=new a_,q0.SolveVelocityConstraints_s_dv2=new a_,q0.SolveVelocityConstraints_s_P=new a_,q0.SolveVelocityConstraints_s_a=new a_,q0.SolveVelocityConstraints_s_b=new a_,q0.SolveVelocityConstraints_s_x=new a_,q0.SolveVelocityConstraints_s_d=new a_,q0.SolveVelocityConstraints_s_P1=new a_,q0.SolveVelocityConstraints_s_P2=new a_,q0.SolveVelocityConstraints_s_P1P2=new a_,q0.SolvePositionConstraints_s_xfA=new i0,q0.SolvePositionConstraints_s_xfB=new i0,q0.SolvePositionConstraints_s_psm=new yS,q0.SolvePositionConstraints_s_rA=new a_,q0.SolvePositionConstraints_s_rB=new a_,q0.SolvePositionConstraints_s_P=new a_,q0.SolveTOIPositionConstraints_s_xfA=new i0,q0.SolveTOIPositionConstraints_s_xfB=new i0,q0.SolveTOIPositionConstraints_s_psm=new yS,q0.SolveTOIPositionConstraints_s_rA=new a_,q0.SolveTOIPositionConstraints_s_rB=new a_,q0.SolveTOIPositionConstraints_s_P=new a_;class uA{constructor(){this.m_bodies=[],this.m_contacts=[],this.m_joints=[],this.m_positions=oP.MakeArray(1024),this.m_velocities=iP.MakeArray(1024),this.m_bodyCount=0,this.m_jointCount=0,this.m_contactCount=0,this.m_bodyCapacity=0,this.m_contactCapacity=0,this.m_jointCapacity=0}Initialize(_n,r_,p_,b_){if(this.m_bodyCapacity=_n,this.m_contactCapacity=r_,this.m_jointCapacity=p_,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_listener=b_,this.m_positions.length<_n){let d_=F0(this.m_positions.length*2,_n);for(;this.m_positions.length<d_;)this.m_positions[this.m_positions.length]=new oP}if(this.m_velocities.length<_n){let d_=F0(this.m_velocities.length*2,_n);for(;this.m_velocities.length<d_;)this.m_velocities[this.m_velocities.length]=new iP}}Clear(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0}AddBody(_n){_n.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=_n}AddContact(_n){this.m_contacts[this.m_contactCount++]=_n}AddJoint(_n){this.m_joints[this.m_jointCount++]=_n}Solve(_n,r_,p_,b_){let d_=uA.s_timer.Reset(),S_=r_.dt;for(let O_=0;O_<this.m_bodyCount;++O_){let K_=this.m_bodies[O_];this.m_positions[O_].c.Copy(K_.m_sweep.c);let a2=K_.m_sweep.a,v2=this.m_velocities[O_].v.Copy(K_.m_linearVelocity),M2=K_.m_angularVelocity;K_.m_sweep.c0.Copy(K_.m_sweep.c),K_.m_sweep.a0=K_.m_sweep.a,K_.m_type===V.b2BodyType.b2_dynamicBody&&(v2.x+=S_*(K_.m_gravityScale*p_.x+K_.m_invMass*K_.m_force.x),v2.y+=S_*(K_.m_gravityScale*p_.y+K_.m_invMass*K_.m_force.y),M2+=S_*K_.m_invI*K_.m_torque,v2.SelfMul(1/(1+S_*K_.m_linearDamping)),M2*=1/(1+S_*K_.m_angularDamping)),this.m_positions[O_].a=a2,this.m_velocities[O_].w=M2}d_.Reset();let T_=uA.s_solverData;T_.step.Copy(r_),T_.positions=this.m_positions,T_.velocities=this.m_velocities;let k_=uA.s_contactSolverDef;k_.step.Copy(r_),k_.contacts=this.m_contacts,k_.count=this.m_contactCount,k_.positions=this.m_positions,k_.velocities=this.m_velocities;let U_=uA.s_contactSolver.Initialize(k_);U_.InitializeVelocityConstraints(),r_.warmStarting&&U_.WarmStart();for(let O_=0;O_<this.m_jointCount;++O_)this.m_joints[O_].InitVelocityConstraints(T_);_n.solveInit=d_.GetMilliseconds(),d_.Reset();for(let O_=0;O_<r_.velocityIterations;++O_){for(let K_=0;K_<this.m_jointCount;++K_)this.m_joints[K_].SolveVelocityConstraints(T_);U_.SolveVelocityConstraints()}U_.StoreImpulses(),_n.solveVelocity=d_.GetMilliseconds();for(let O_=0;O_<this.m_bodyCount;++O_){let K_=this.m_positions[O_].c,a2=this.m_positions[O_].a,v2=this.m_velocities[O_].v,M2=this.m_velocities[O_].w,R2=a_.MulSV(S_,v2,uA.s_translation);if(a_.DotVV(R2,R2)>_2){let W2=j_/R2.Length();v2.SelfMul(W2)}let N2=S_*M2;if(N2*N2>y2){let W2=m2/V0(N2);M2*=W2}K_.x+=S_*v2.x,K_.y+=S_*v2.y,a2+=S_*M2,this.m_positions[O_].a=a2,this.m_velocities[O_].w=M2}d_.Reset();let X_=!1;for(let O_=0;O_<r_.positionIterations;++O_){let K_=U_.SolvePositionConstraints(),a2=!0;for(let v2=0;v2<this.m_jointCount;++v2){let M2=this.m_joints[v2].SolvePositionConstraints(T_);a2=a2&&M2}if(K_&&a2){X_=!0;break}}for(let O_=0;O_<this.m_bodyCount;++O_){let K_=this.m_bodies[O_];K_.m_sweep.c.Copy(this.m_positions[O_].c),K_.m_sweep.a=this.m_positions[O_].a,K_.m_linearVelocity.Copy(this.m_velocities[O_].v),K_.m_angularVelocity=this.m_velocities[O_].w,K_.SynchronizeTransform()}if(_n.solvePosition=d_.GetMilliseconds(),this.Report(U_.m_velocityConstraints),b_){let O_=_o,K_=F_*F_,a2=$_*$_;for(let v2=0;v2<this.m_bodyCount;++v2){let M2=this.m_bodies[v2];M2.GetType()!==V.b2BodyType.b2_staticBody&&(!M2.m_autoSleepFlag||M2.m_angularVelocity*M2.m_angularVelocity>a2||a_.DotVV(M2.m_linearVelocity,M2.m_linearVelocity)>K_?(M2.m_sleepTime=0,O_=0):(M2.m_sleepTime+=S_,O_=k0(O_,M2.m_sleepTime)))}if(O_>=v_&&X_)for(let v2=0;v2<this.m_bodyCount;++v2)this.m_bodies[v2].SetAwake(!1)}}SolveTOI(_n,r_,p_){for(let T_=0;T_<this.m_bodyCount;++T_){let k_=this.m_bodies[T_];this.m_positions[T_].c.Copy(k_.m_sweep.c),this.m_positions[T_].a=k_.m_sweep.a,this.m_velocities[T_].v.Copy(k_.m_linearVelocity),this.m_velocities[T_].w=k_.m_angularVelocity}let b_=uA.s_contactSolverDef;b_.contacts=this.m_contacts,b_.count=this.m_contactCount,b_.step.Copy(_n),b_.positions=this.m_positions,b_.velocities=this.m_velocities;let d_=uA.s_contactSolver.Initialize(b_);for(let T_=0;T_<_n.positionIterations&&!d_.SolveTOIPositionConstraints(r_,p_);++T_);this.m_bodies[r_].m_sweep.c0.Copy(this.m_positions[r_].c),this.m_bodies[r_].m_sweep.a0=this.m_positions[r_].a,this.m_bodies[p_].m_sweep.c0.Copy(this.m_positions[p_].c),this.m_bodies[p_].m_sweep.a0=this.m_positions[p_].a,d_.InitializeVelocityConstraints();for(let T_=0;T_<_n.velocityIterations;++T_)d_.SolveVelocityConstraints();let S_=_n.dt;for(let T_=0;T_<this.m_bodyCount;++T_){let k_=this.m_positions[T_].c,U_=this.m_positions[T_].a,X_=this.m_velocities[T_].v,O_=this.m_velocities[T_].w,K_=a_.MulSV(S_,X_,uA.s_translation);if(a_.DotVV(K_,K_)>_2){let M2=j_/K_.Length();X_.SelfMul(M2)}let a2=S_*O_;if(a2*a2>y2){let M2=m2/V0(a2);O_*=M2}k_.SelfMulAdd(S_,X_),U_+=S_*O_,this.m_positions[T_].a=U_,this.m_velocities[T_].w=O_;let v2=this.m_bodies[T_];v2.m_sweep.c.Copy(k_),v2.m_sweep.a=U_,v2.m_linearVelocity.Copy(X_),v2.m_angularVelocity=O_,v2.SynchronizeTransform()}this.Report(d_.m_velocityConstraints)}Report(_n){if(this.m_listener!==null)for(let r_=0;r_<this.m_contactCount;++r_){let p_=this.m_contacts[r_];if(!p_)continue;let b_=_n[r_],d_=uA.s_impulse;d_.count=b_.pointCount;for(let S_=0;S_<b_.pointCount;++S_)d_.normalImpulses[S_]=b_.points[S_].normalImpulse,d_.tangentImpulses[S_]=b_.points[S_].tangentImpulse;this.m_listener.PostSolve(p_,d_)}}}uA.s_timer=new QS,uA.s_solverData=new DM,uA.s_contactSolverDef=new GM,uA.s_contactSolver=new q0,uA.s_translation=new a_,uA.s_impulse=new wM,function(i2){i2[i2.b2_waterParticle=0]="b2_waterParticle",i2[i2.b2_zombieParticle=2]="b2_zombieParticle",i2[i2.b2_wallParticle=4]="b2_wallParticle",i2[i2.b2_springParticle=8]="b2_springParticle",i2[i2.b2_elasticParticle=16]="b2_elasticParticle",i2[i2.b2_viscousParticle=32]="b2_viscousParticle",i2[i2.b2_powderParticle=64]="b2_powderParticle",i2[i2.b2_tensileParticle=128]="b2_tensileParticle",i2[i2.b2_colorMixingParticle=256]="b2_colorMixingParticle",i2[i2.b2_destructionListenerParticle=512]="b2_destructionListenerParticle",i2[i2.b2_barrierParticle=1024]="b2_barrierParticle",i2[i2.b2_staticPressureParticle=2048]="b2_staticPressureParticle",i2[i2.b2_reactiveParticle=4096]="b2_reactiveParticle",i2[i2.b2_repulsiveParticle=8192]="b2_repulsiveParticle",i2[i2.b2_fixtureContactListenerParticle=16384]="b2_fixtureContactListenerParticle",i2[i2.b2_particleContactListenerParticle=32768]="b2_particleContactListenerParticle",i2[i2.b2_fixtureContactFilterParticle=65536]="b2_fixtureContactFilterParticle",i2[i2.b2_particleContactFilterParticle=131072]="b2_particleContactFilterParticle"}(V.b2ParticleFlag||(V.b2ParticleFlag={}));class v4{constructor(){this.flags=0,this.position=new a_,this.velocity=new a_,this.color=new sy(0,0,0,0),this.lifetime=0,this.userData=null,this.group=null}}function JM(i2,_n,r_){let d_=Math.ceil(Math.sqrt(i2/(.01*_n))*r_);return My(d_,1,8)}class IM{constructor(){this.m_index=z2}GetIndex(){return this.m_index}SetIndex(_n){this.m_index=_n}}(function(i2){i2[i2.b2_solidParticleGroup=1]="b2_solidParticleGroup",i2[i2.b2_rigidParticleGroup=2]="b2_rigidParticleGroup",i2[i2.b2_particleGroupCanBeEmpty=4]="b2_particleGroupCanBeEmpty",i2[i2.b2_particleGroupWillBeDestroyed=8]="b2_particleGroupWillBeDestroyed",i2[i2.b2_particleGroupNeedsUpdateDepth=16]="b2_particleGroupNeedsUpdateDepth",i2[i2.b2_particleGroupInternalMask=24]="b2_particleGroupInternalMask"})(V.b2ParticleGroupFlag||(V.b2ParticleGroupFlag={}));class TM{constructor(){this.flags=0,this.groupFlags=0,this.position=new a_,this.angle=0,this.linearVelocity=new a_,this.angularVelocity=0,this.color=new sy,this.strength=1,this.shapeCount=0,this.stride=0,this.particleCount=0,this.lifetime=0,this.userData=null,this.group=null}}class sP{constructor(_n){this.m_firstIndex=0,this.m_lastIndex=0,this.m_groupFlags=0,this.m_strength=1,this.m_prev=null,this.m_next=null,this.m_timestamp=-1,this.m_mass=0,this.m_inertia=0,this.m_center=new a_,this.m_linearVelocity=new a_,this.m_angularVelocity=0,this.m_transform=new i0,this.m_userData=null,this.m_system=_n}GetNext(){return this.m_next}GetParticleSystem(){return this.m_system}GetParticleCount(){return this.m_lastIndex-this.m_firstIndex}GetBufferIndex(){return this.m_firstIndex}ContainsParticle(_n){return this.m_firstIndex<=_n&&_n<this.m_lastIndex}GetAllParticleFlags(){if(!this.m_system.m_flagsBuffer.data)throw new Error;let _n=0;for(let r_=this.m_firstIndex;r_<this.m_lastIndex;r_++)_n|=this.m_system.m_flagsBuffer.data[r_];return _n}GetGroupFlags(){return this.m_groupFlags}SetGroupFlags(_n){_n|=this.m_groupFlags&V.b2ParticleGroupFlag.b2_particleGroupInternalMask,this.m_system.SetGroupFlags(this,_n)}GetMass(){return this.UpdateStatistics(),this.m_mass}GetInertia(){return this.UpdateStatistics(),this.m_inertia}GetCenter(){return this.UpdateStatistics(),this.m_center}GetLinearVelocity(){return this.UpdateStatistics(),this.m_linearVelocity}GetAngularVelocity(){return this.UpdateStatistics(),this.m_angularVelocity}GetTransform(){return this.m_transform}GetPosition(){return this.m_transform.p}GetAngle(){return this.m_transform.q.GetAngle()}GetLinearVelocityFromWorldPoint(_n,r_){let p_=sP.GetLinearVelocityFromWorldPoint_s_t0;return this.UpdateStatistics(),a_.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,a_.SubVV(_n,this.m_center,p_),r_)}GetUserData(){return this.m_userData}SetUserData(_n){this.m_userData=_n}ApplyForce(_n){this.m_system.ApplyForce(this.m_firstIndex,this.m_lastIndex,_n)}ApplyLinearImpulse(_n){this.m_system.ApplyLinearImpulse(this.m_firstIndex,this.m_lastIndex,_n)}DestroyParticles(_n){if(this.m_system.m_world.IsLocked())throw new Error;for(let r_=this.m_firstIndex;r_<this.m_lastIndex;r_++)this.m_system.DestroyParticle(r_,_n)}UpdateStatistics(){if(!this.m_system.m_positionBuffer.data)throw new Error;if(!this.m_system.m_velocityBuffer.data)throw new Error;let _n=new a_,r_=new a_;if(this.m_timestamp!==this.m_system.m_timestamp){let p_=this.m_system.GetParticleMass();this.m_mass=p_*(this.m_lastIndex-this.m_firstIndex),this.m_center.SetZero(),this.m_linearVelocity.SetZero();for(let b_=this.m_firstIndex;b_<this.m_lastIndex;b_++)this.m_center.SelfMulAdd(p_,this.m_system.m_positionBuffer.data[b_]),this.m_linearVelocity.SelfMulAdd(p_,this.m_system.m_velocityBuffer.data[b_]);if(this.m_mass>0){let b_=1/this.m_mass;this.m_center.SelfMul(b_),this.m_linearVelocity.SelfMul(b_)}this.m_inertia=0,this.m_angularVelocity=0;for(let b_=this.m_firstIndex;b_<this.m_lastIndex;b_++)a_.SubVV(this.m_system.m_positionBuffer.data[b_],this.m_center,_n),a_.SubVV(this.m_system.m_velocityBuffer.data[b_],this.m_linearVelocity,r_),this.m_inertia+=p_*a_.DotVV(_n,_n),this.m_angularVelocity+=p_*a_.CrossVV(_n,r_);this.m_inertia>0&&(this.m_angularVelocity*=1/this.m_inertia),this.m_timestamp=this.m_system.m_timestamp}}}sP.GetLinearVelocityFromWorldPoint_s_t0=new a_;class aG{constructor(_n){this.m_front=0,this.m_back=0,this.m_capacity=0,this.m_buffer=U2(_n,r_=>null),this.m_capacity=_n}Push(_n){if(this.m_back>=this.m_capacity){for(let r_=this.m_front;r_<this.m_back;r_++)this.m_buffer[r_-this.m_front]=this.m_buffer[r_];this.m_back-=this.m_front,this.m_front=0,this.m_back>=this.m_capacity&&(this.m_capacity>0?(this.m_buffer.concat(U2(this.m_capacity,r_=>null)),this.m_capacity*=2):(this.m_buffer.concat(U2(1,r_=>null)),this.m_capacity=1))}this.m_buffer[this.m_back]=_n,this.m_back++}Pop(){this.m_buffer[this.m_front]=null,this.m_front++}Empty(){return this.m_front===this.m_back}Front(){let _n=this.m_buffer[this.m_front];if(!_n)throw new Error;return _n}}class pG{constructor(_n){this.m_generatorCapacity=0,this.m_generatorCount=0,this.m_countX=0,this.m_countY=0,this.m_diagram=[],this.m_generatorBuffer=U2(_n,r_=>new cG),this.m_generatorCapacity=_n}AddGenerator(_n,r_,p_){let b_=this.m_generatorBuffer[this.m_generatorCount++];b_.center.Copy(_n),b_.tag=r_,b_.necessary=p_}Generate(_n,r_){let p_=1/_n,b_=new a_(+_o,+_o),d_=new a_(-_o,-_o),S_=0;for(let k_=0;k_<this.m_generatorCount;k_++){let U_=this.m_generatorBuffer[k_];U_.necessary&&(a_.MinV(b_,U_.center,b_),a_.MaxV(d_,U_.center,d_),++S_)}if(S_===0){this.m_countX=0,this.m_countY=0;return}b_.x-=r_,b_.y-=r_,d_.x+=r_,d_.y+=r_,this.m_countX=1+Math.floor(p_*(d_.x-b_.x)),this.m_countY=1+Math.floor(p_*(d_.y-b_.y)),this.m_diagram=[];let T_=new aG(4*this.m_countX*this.m_countY);for(let k_=0;k_<this.m_generatorCount;k_++){let U_=this.m_generatorBuffer[k_];U_.center.SelfSub(b_).SelfMul(p_);let X_=Math.floor(U_.center.x),O_=Math.floor(U_.center.y);X_>=0&&O_>=0&&X_<this.m_countX&&O_<this.m_countY&&T_.Push(new cS(X_,O_,X_+O_*this.m_countX,U_))}for(;!T_.Empty();){let k_=T_.Front(),U_=k_.m_x,X_=k_.m_y,O_=k_.m_i,K_=k_.m_generator;T_.Pop(),this.m_diagram[O_]||(this.m_diagram[O_]=K_,U_>0&&T_.Push(new cS(U_-1,X_,O_-1,K_)),X_>0&&T_.Push(new cS(U_,X_-1,O_-this.m_countX,K_)),U_<this.m_countX-1&&T_.Push(new cS(U_+1,X_,O_+1,K_)),X_<this.m_countY-1&&T_.Push(new cS(U_,X_+1,O_+this.m_countX,K_)))}for(let k_=0;k_<this.m_countY;k_++)for(let U_=0;U_<this.m_countX-1;U_++){let X_=U_+k_*this.m_countX,O_=this.m_diagram[X_],K_=this.m_diagram[X_+1];O_!==K_&&(T_.Push(new cS(U_,k_,X_,K_)),T_.Push(new cS(U_+1,k_,X_+1,O_)))}for(let k_=0;k_<this.m_countY-1;k_++)for(let U_=0;U_<this.m_countX;U_++){let X_=U_+k_*this.m_countX,O_=this.m_diagram[X_],K_=this.m_diagram[X_+this.m_countX];O_!==K_&&(T_.Push(new cS(U_,k_,X_,K_)),T_.Push(new cS(U_,k_+1,X_+this.m_countX,O_)))}for(;!T_.Empty();){let k_=T_.Front(),U_=k_.m_x,X_=k_.m_y,O_=k_.m_i,K_=k_.m_generator;T_.Pop();let a2=this.m_diagram[O_],v2=K_;if(a2!==v2){let M2=a2.center.x-U_,R2=a2.center.y-X_,N2=v2.center.x-U_,W2=v2.center.y-X_,Q2=M2*M2+R2*R2,ta=N2*N2+W2*W2;Q2>ta&&(this.m_diagram[O_]=v2,U_>0&&T_.Push(new cS(U_-1,X_,O_-1,v2)),X_>0&&T_.Push(new cS(U_,X_-1,O_-this.m_countX,v2)),U_<this.m_countX-1&&T_.Push(new cS(U_+1,X_,O_+1,v2)),X_<this.m_countY-1&&T_.Push(new cS(U_,X_+1,O_+this.m_countX,v2)))}}}GetNodes(_n){for(let r_=0;r_<this.m_countY-1;r_++)for(let p_=0;p_<this.m_countX-1;p_++){let b_=p_+r_*this.m_countX,d_=this.m_diagram[b_],S_=this.m_diagram[b_+1],T_=this.m_diagram[b_+this.m_countX],k_=this.m_diagram[b_+1+this.m_countX];S_!==T_&&(d_!==S_&&d_!==T_&&(d_.necessary||S_.necessary||T_.necessary)&&_n(d_.tag,S_.tag,T_.tag),k_!==S_&&k_!==T_&&(d_.necessary||S_.necessary||T_.necessary)&&_n(S_.tag,k_.tag,T_.tag))}}}class cG{constructor(){this.center=new a_,this.tag=0,this.necessary=!1}}class cS{constructor(_n,r_,p_,b_){this.m_x=_n,this.m_y=r_,this.m_i=p_,this.m_generator=b_}}function _V(i2,_n,r_){let p_=i2[_n];i2[_n]=i2[r_],i2[r_]=p_}function FM(i2,_n){return i2<_n}function aV(i2,_n=0,r_=i2.length-_n,p_=FM){let b_=_n,d_=[],S_=0;for(;;){for(;b_+1<r_;r_++){let T_=i2[b_+Math.floor(Math.random()*(r_-b_))];d_[S_++]=r_;for(let k_=b_-1;;){for(;p_(i2[++k_],T_););for(;p_(T_,i2[--r_]););if(k_>=r_)break;_V(i2,k_,r_)}}if(S_===0)break;b_=r_,r_=d_[--S_]}return i2}function RM(i2,_n=0,r_=i2.length-_n,p_=FM){return aV(i2,_n,r_,p_)}function LM(i2,_n,r_=i2.length){let p_=0;for(let b_=0;b_<r_;++b_)if(!_n(i2[b_])){if(b_===p_){++p_;continue}_V(i2,p_++,b_)}return p_}function kM(i2,_n,r_,p_,b_){let d_=r_-_n;for(;d_>0;){let S_=Math.floor(d_/2),T_=_n+S_;b_(i2[T_],p_)?(_n=++T_,d_-=S_+1):d_=S_}return _n}function qM(i2,_n,r_,p_,b_){let d_=r_-_n;for(;d_>0;){let S_=Math.floor(d_/2),T_=_n+S_;b_(p_,i2[T_])?d_=S_:(_n=++T_,d_-=S_+1)}return _n}function YA(i2,_n,r_,p_){let b_=r_;for(;_n!==b_;)_V(i2,_n++,b_++),b_===p_?b_=r_:_n===r_&&(r_=b_)}function lG(i2,_n,r_,p_){if(_n===r_)return r_;let b_=_n;for(;++_n!==r_;)p_(i2[b_],i2[_n])||_V(i2,++b_,_n);return++b_}class ZC{constructor(_n){this.data=[],this.count=0,this.capacity=0,this.allocator=_n}Append(){return this.count>=this.capacity&&this.Grow(),this.count++}Reserve(_n){if(!(this.capacity>=_n)){for(let r_=this.capacity;r_<_n;++r_)this.data[r_]=this.allocator();this.capacity=_n}}Grow(){let _n=this.capacity?2*this.capacity:u2;this.Reserve(_n)}Free(){this.data.length!==0&&(this.data=[],this.capacity=0,this.count=0)}Shorten(_n){}Data(){return this.data}GetCount(){return this.count}SetCount(_n){this.count=_n}GetCapacity(){return this.capacity}RemoveIf(_n){this.count=LM(this.data,_n,this.count)}Unique(_n){this.count=lG(this.data,0,this.count,_n)}}class A4 extends ES{constructor(_n){super(),this.m_system=_n}ShouldQueryParticleSystem(_n){return!1}ReportFixture(_n){if(_n.IsSensor())return!0;let p_=_n.GetShape().GetChildCount();for(let b_=0;b_<p_;b_++){let d_=_n.GetAABB(b_),S_=this.m_system.GetInsideBoundsEnumerator(d_),T_;for(;(T_=S_.GetNext())>=0;)this.ReportFixtureAndParticle(_n,b_,T_)}return!0}ReportParticle(_n,r_){return!1}ReportFixtureAndParticle(_n,r_,p_){}}class EM{constructor(){this.indexA=0,this.indexB=0,this.weight=0,this.normal=new a_,this.flags=0}SetIndices(_n,r_){this.indexA=_n,this.indexB=r_}SetWeight(_n){this.weight=_n}SetNormal(_n){this.normal.Copy(_n)}SetFlags(_n){this.flags=_n}GetIndexA(){return this.indexA}GetIndexB(){return this.indexB}GetWeight(){return this.weight}GetNormal(){return this.normal}GetFlags(){return this.flags}IsEqual(_n){return this.indexA===_n.indexA&&this.indexB===_n.indexB&&this.flags===_n.flags&&this.weight===_n.weight&&this.normal.x===_n.normal.x&&this.normal.y===_n.normal.y}IsNotEqual(_n){return!this.IsEqual(_n)}ApproximatelyEqual(_n){return this.indexA===_n.indexA&&this.indexB===_n.indexB&&this.flags===_n.flags&&V0(this.weight-_n.weight)<.01&&a_.DistanceSquaredVV(this.normal,_n.normal)<1e-4}}class jM{constructor(){this.index=0,this.weight=0,this.normal=new a_,this.mass=0}}class zM{constructor(){this.indexA=0,this.indexB=0,this.flags=0,this.strength=0,this.distance=0}}class WM{constructor(){this.indexA=0,this.indexB=0,this.indexC=0,this.flags=0,this.strength=0,this.pa=new a_(0,0),this.pb=new a_(0,0),this.pc=new a_(0,0),this.ka=0,this.kb=0,this.kc=0,this.s=0}}class pV{constructor(){this.strictContactCheck=!1,this.density=1,this.gravityScale=1,this.radius=1,this.maxCount=0,this.pressureStrength=.005,this.dampingStrength=1,this.elasticStrength=.25,this.springStrength=.25,this.viscousStrength=.25,this.surfaceTensionPressureStrength=.2,this.surfaceTensionNormalStrength=.2,this.repulsiveStrength=1,this.powderStrength=.5,this.ejectionStrength=.5,this.staticPressureStrength=.2,this.staticPressureRelaxation=.2,this.staticPressureIterations=8,this.colorMixingStrength=.5,this.destroyByAge=!0,this.lifetimeGranularity=1/60}Copy(_n){return this.strictContactCheck=_n.strictContactCheck,this.density=_n.density,this.gravityScale=_n.gravityScale,this.radius=_n.radius,this.maxCount=_n.maxCount,this.pressureStrength=_n.pressureStrength,this.dampingStrength=_n.dampingStrength,this.elasticStrength=_n.elasticStrength,this.springStrength=_n.springStrength,this.viscousStrength=_n.viscousStrength,this.surfaceTensionPressureStrength=_n.surfaceTensionPressureStrength,this.surfaceTensionNormalStrength=_n.surfaceTensionNormalStrength,this.repulsiveStrength=_n.repulsiveStrength,this.powderStrength=_n.powderStrength,this.ejectionStrength=_n.ejectionStrength,this.staticPressureStrength=_n.staticPressureStrength,this.staticPressureRelaxation=_n.staticPressureRelaxation,this.staticPressureIterations=_n.staticPressureIterations,this.colorMixingStrength=_n.colorMixingStrength,this.destroyByAge=_n.destroyByAge,this.lifetimeGranularity=_n.lifetimeGranularity,this}Clone(){return new pV().Copy(this)}}class H2{constructor(_n,r_){this.m_paused=!1,this.m_timestamp=0,this.m_allParticleFlags=0,this.m_needsUpdateAllParticleFlags=!1,this.m_allGroupFlags=0,this.m_needsUpdateAllGroupFlags=!1,this.m_hasForce=!1,this.m_iterationIndex=0,this.m_inverseDensity=0,this.m_particleDiameter=0,this.m_inverseDiameter=0,this.m_squaredDiameter=0,this.m_count=0,this.m_internalAllocatedCapacity=0,this.m_handleIndexBuffer=new xS,this.m_flagsBuffer=new xS,this.m_positionBuffer=new xS,this.m_velocityBuffer=new xS,this.m_forceBuffer=[],this.m_weightBuffer=[],this.m_staticPressureBuffer=[],this.m_accumulationBuffer=[],this.m_accumulation2Buffer=[],this.m_depthBuffer=[],this.m_colorBuffer=new xS,this.m_groupBuffer=[],this.m_userDataBuffer=new xS,this.m_stuckThreshold=0,this.m_lastBodyContactStepBuffer=new xS,this.m_bodyContactCountBuffer=new xS,this.m_consecutiveContactStepsBuffer=new xS,this.m_stuckParticleBuffer=new ZC(()=>0),this.m_proxyBuffer=new ZC(()=>new KC),this.m_contactBuffer=new ZC(()=>new EM),this.m_bodyContactBuffer=new ZC(()=>new jM),this.m_pairBuffer=new ZC(()=>new zM),this.m_triadBuffer=new ZC(()=>new WM),this.m_expirationTimeBuffer=new xS,this.m_indexByExpirationTimeBuffer=new xS,this.m_timeElapsed=0,this.m_expirationTimeBufferRequiresSorting=!1,this.m_groupCount=0,this.m_groupList=null,this.m_def=new pV,this.m_prev=null,this.m_next=null,this.UpdateBodyContacts_callback=null,this.SolveCollision_callback=null,this.SetStrictContactCheck(_n.strictContactCheck),this.SetDensity(_n.density),this.SetGravityScale(_n.gravityScale),this.SetRadius(_n.radius),this.SetMaxParticleCount(_n.maxCount),this.m_def=_n.Clone(),this.m_world=r_,this.SetDestructionByAge(this.m_def.destroyByAge)}static computeTag(_n,r_){return(r_+H2.yOffset>>>0<<H2.yShift)+(H2.xScale*_n+H2.xOffset>>>0)>>>0}static computeRelativeTag(_n,r_,p_){return _n+(p_<<H2.yShift)+(r_<<H2.xShift)>>>0}Drop(){for(;this.m_groupList;)this.DestroyParticleGroup(this.m_groupList);this.FreeUserOverridableBuffer(this.m_handleIndexBuffer),this.FreeUserOverridableBuffer(this.m_flagsBuffer),this.FreeUserOverridableBuffer(this.m_lastBodyContactStepBuffer),this.FreeUserOverridableBuffer(this.m_bodyContactCountBuffer),this.FreeUserOverridableBuffer(this.m_consecutiveContactStepsBuffer),this.FreeUserOverridableBuffer(this.m_positionBuffer),this.FreeUserOverridableBuffer(this.m_velocityBuffer),this.FreeUserOverridableBuffer(this.m_colorBuffer),this.FreeUserOverridableBuffer(this.m_userDataBuffer),this.FreeUserOverridableBuffer(this.m_expirationTimeBuffer),this.FreeUserOverridableBuffer(this.m_indexByExpirationTimeBuffer),this.FreeBuffer(this.m_forceBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_weightBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_staticPressureBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulationBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulation2Buffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_depthBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_groupBuffer,this.m_internalAllocatedCapacity)}CreateParticle(_n){if(this.m_world.IsLocked())throw new Error;if(this.m_count>=this.m_internalAllocatedCapacity){let k_=this.m_count?2*this.m_count:u2;this.ReallocateInternalAllocatedBuffers(k_)}if(this.m_count>=this.m_internalAllocatedCapacity)if(this.m_def.destroyByAge)this.DestroyOldestParticle(0,!1),this.SolveZombie();else return z2;let r_=this.m_count++;this.m_flagsBuffer.data[r_]=0,this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[r_]=0),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[r_]=0),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[r_]=0),this.m_positionBuffer.data[r_]=(this.m_positionBuffer.data[r_]||new a_).Copy(o(_n.position,a_.ZERO)),this.m_velocityBuffer.data[r_]=(this.m_velocityBuffer.data[r_]||new a_).Copy(o(_n.velocity,a_.ZERO)),this.m_weightBuffer[r_]=0,this.m_forceBuffer[r_]=(this.m_forceBuffer[r_]||new a_).SetZero(),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[r_]=0),this.m_depthBuffer&&(this.m_depthBuffer[r_]=0);let p_=new sy().Copy(o(_n.color,sy.ZERO));(this.m_colorBuffer.data||!p_.IsZero())&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data[r_]=(this.m_colorBuffer.data[r_]||new sy).Copy(p_)),(this.m_userDataBuffer.data||_n.userData)&&(this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data[r_]=_n.userData),this.m_handleIndexBuffer.data&&(this.m_handleIndexBuffer.data[r_]=null);let b_=this.m_proxyBuffer.data[this.m_proxyBuffer.Append()],d_=o(_n.lifetime,0),S_=d_>0;(this.m_expirationTimeBuffer.data||S_)&&(this.SetParticleLifetime(r_,S_?d_:this.ExpirationTimeToLifetime(-this.GetQuantizedTimeElapsed())),this.m_indexByExpirationTimeBuffer.data[r_]=r_),b_.index=r_;let T_=o(_n.group,null);return this.m_groupBuffer[r_]=T_,T_&&(T_.m_firstIndex<T_.m_lastIndex?(this.RotateBuffer(T_.m_firstIndex,T_.m_lastIndex,r_),T_.m_lastIndex=r_+1):(T_.m_firstIndex=r_,T_.m_lastIndex=r_+1)),this.SetParticleFlags(r_,o(_n.flags,0)),r_}GetParticleHandleFromIndex(_n){this.m_handleIndexBuffer.data=this.RequestBuffer(this.m_handleIndexBuffer.data);let r_=this.m_handleIndexBuffer.data[_n];return r_||(r_=new IM,r_.SetIndex(_n),this.m_handleIndexBuffer.data[_n]=r_,r_)}DestroyParticle(_n,r_=!1){let p_=V.b2ParticleFlag.b2_zombieParticle;r_&&(p_|=V.b2ParticleFlag.b2_destructionListenerParticle),this.SetParticleFlags(_n,this.m_flagsBuffer.data[_n]|p_)}DestroyOldestParticle(_n,r_=!1){let p_=this.GetParticleCount(),b_=this.m_indexByExpirationTimeBuffer.data[p_-(_n+1)],d_=this.m_indexByExpirationTimeBuffer.data[_n];this.DestroyParticle(this.m_expirationTimeBuffer.data[b_]>0?b_:d_,r_)}DestroyParticlesInShape(_n,r_,p_=!1){let b_=H2.DestroyParticlesInShape_s_aabb;if(this.m_world.IsLocked())throw new Error;let d_=new YM(this,_n,r_,p_),S_=b_;return _n.ComputeAABB(S_,r_,0),this.m_world.QueryAABB(d_,S_),d_.Destroyed()}CreateParticleGroup(_n){let r_=H2.CreateParticleGroup_s_transform;if(this.m_world.IsLocked())throw new Error;let p_=r_;p_.SetPositionAngle(o(_n.position,a_.ZERO),o(_n.angle,0));let b_=this.m_count;if(_n.shape&&this.CreateParticlesWithShapeForGroup(_n.shape,_n,p_),_n.shapes&&this.CreateParticlesWithShapesForGroup(_n.shapes,o(_n.shapeCount,_n.shapes.length),_n,p_),_n.positionData){let k_=o(_n.particleCount,_n.positionData.length);for(let U_=0;U_<k_;U_++){let X_=_n.positionData[U_];this.CreateParticleForGroup(_n,p_,X_)}}let d_=this.m_count,S_=new sP(this);S_.m_firstIndex=b_,S_.m_lastIndex=d_,S_.m_strength=o(_n.strength,1),S_.m_userData=_n.userData,S_.m_transform.Copy(p_),S_.m_prev=null,S_.m_next=this.m_groupList,this.m_groupList&&(this.m_groupList.m_prev=S_),this.m_groupList=S_,++this.m_groupCount;for(let k_=b_;k_<d_;k_++)this.m_groupBuffer[k_]=S_;this.SetGroupFlags(S_,o(_n.groupFlags,0));let T_=new cV;return this.UpdateContacts(!0),this.UpdatePairsAndTriads(b_,d_,T_),_n.group&&(this.JoinParticleGroups(_n.group,S_),S_=_n.group),S_}JoinParticleGroups(_n,r_){if(this.m_world.IsLocked())throw new Error;this.RotateBuffer(r_.m_firstIndex,r_.m_lastIndex,this.m_count),this.RotateBuffer(_n.m_firstIndex,_n.m_lastIndex,r_.m_firstIndex);let p_=new HM(r_.m_firstIndex);this.UpdateContacts(!0),this.UpdatePairsAndTriads(_n.m_firstIndex,r_.m_lastIndex,p_);for(let d_=r_.m_firstIndex;d_<r_.m_lastIndex;d_++)this.m_groupBuffer[d_]=_n;let b_=_n.m_groupFlags|r_.m_groupFlags;this.SetGroupFlags(_n,b_),_n.m_lastIndex=r_.m_lastIndex,r_.m_firstIndex=r_.m_lastIndex,this.DestroyParticleGroup(r_)}SplitParticleGroup(_n){this.UpdateContacts(!0);let r_=_n.GetParticleCount(),p_=U2(r_,d_=>new OM);H2.InitializeParticleLists(_n,p_),this.MergeParticleListsInContact(_n,p_);let b_=H2.FindLongestParticleList(_n,p_);this.MergeZombieParticleListNodes(_n,p_,b_),this.CreateParticleGroupsFromParticleList(_n,p_,b_),this.UpdatePairsAndTriadsWithParticleList(_n,p_)}GetParticleGroupList(){return this.m_groupList}GetParticleGroupCount(){return this.m_groupCount}GetParticleCount(){return this.m_count}GetMaxParticleCount(){return this.m_def.maxCount}SetMaxParticleCount(_n){this.m_def.maxCount=_n}GetAllParticleFlags(){return this.m_allParticleFlags}GetAllGroupFlags(){return this.m_allGroupFlags}SetPaused(_n){this.m_paused=_n}GetPaused(){return this.m_paused}SetDensity(_n){this.m_def.density=_n,this.m_inverseDensity=1/this.m_def.density}GetDensity(){return this.m_def.density}SetGravityScale(_n){this.m_def.gravityScale=_n}GetGravityScale(){return this.m_def.gravityScale}SetDamping(_n){this.m_def.dampingStrength=_n}GetDamping(){return this.m_def.dampingStrength}SetStaticPressureIterations(_n){this.m_def.staticPressureIterations=_n}GetStaticPressureIterations(){return this.m_def.staticPressureIterations}SetRadius(_n){this.m_particleDiameter=2*_n,this.m_squaredDiameter=this.m_particleDiameter*this.m_particleDiameter,this.m_inverseDiameter=1/this.m_particleDiameter}GetRadius(){return this.m_particleDiameter/2}GetPositionBuffer(){return this.m_positionBuffer.data}GetVelocityBuffer(){return this.m_velocityBuffer.data}GetColorBuffer(){return this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data}GetGroupBuffer(){return this.m_groupBuffer}GetWeightBuffer(){return this.m_weightBuffer}GetUserDataBuffer(){return this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data}GetFlagsBuffer(){return this.m_flagsBuffer.data}SetParticleFlags(_n,r_){this.m_flagsBuffer.data[_n]&~r_&&(this.m_needsUpdateAllParticleFlags=!0),~this.m_allParticleFlags&r_&&(r_&V.b2ParticleFlag.b2_tensileParticle&&(this.m_accumulation2Buffer=this.RequestBuffer(this.m_accumulation2Buffer)),r_&V.b2ParticleFlag.b2_colorMixingParticle&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data)),this.m_allParticleFlags|=r_),this.m_flagsBuffer.data[_n]=r_}GetParticleFlags(_n){return this.m_flagsBuffer.data[_n]}SetFlagsBuffer(_n){this.SetUserOverridableBuffer(this.m_flagsBuffer,_n)}SetPositionBuffer(_n){if(_n instanceof Float32Array){if(_n.length%2!==0)throw new Error;let r_=_n.length/2,p_=new Array(r_);for(let b_=0;b_<r_;++b_)p_[b_]=new a_(_n.subarray(b_*2,b_*2+2));_n=p_}this.SetUserOverridableBuffer(this.m_positionBuffer,_n)}SetVelocityBuffer(_n){if(_n instanceof Float32Array){if(_n.length%2!==0)throw new Error;let r_=_n.length/2,p_=new Array(r_);for(let b_=0;b_<r_;++b_)p_[b_]=new a_(_n.subarray(b_*2,b_*2+2));_n=p_}this.SetUserOverridableBuffer(this.m_velocityBuffer,_n)}SetColorBuffer(_n){if(_n instanceof Float32Array){if(_n.length%4!==0)throw new Error;let r_=_n.length/4,p_=new Array(r_);for(let b_=0;b_<r_;++b_)p_[b_]=new sy(_n.subarray(b_*4,b_*4+4));_n=p_}this.SetUserOverridableBuffer(this.m_colorBuffer,_n)}SetUserDataBuffer(_n){this.SetUserOverridableBuffer(this.m_userDataBuffer,_n)}GetContacts(){return this.m_contactBuffer.data}GetContactCount(){return this.m_contactBuffer.count}GetBodyContacts(){return this.m_bodyContactBuffer.data}GetBodyContactCount(){return this.m_bodyContactBuffer.count}GetPairs(){return this.m_pairBuffer.data}GetPairCount(){return this.m_pairBuffer.count}GetTriads(){return this.m_triadBuffer.data}GetTriadCount(){return this.m_triadBuffer.count}SetStuckThreshold(_n){this.m_stuckThreshold=_n,_n>0&&(this.m_lastBodyContactStepBuffer.data=this.RequestBuffer(this.m_lastBodyContactStepBuffer.data),this.m_bodyContactCountBuffer.data=this.RequestBuffer(this.m_bodyContactCountBuffer.data),this.m_consecutiveContactStepsBuffer.data=this.RequestBuffer(this.m_consecutiveContactStepsBuffer.data))}GetStuckCandidates(){return this.m_stuckParticleBuffer.Data()}GetStuckCandidateCount(){return this.m_stuckParticleBuffer.GetCount()}ComputeCollisionEnergy(){let _n=H2.ComputeCollisionEnergy_s_v,r_=this.m_velocityBuffer.data,p_=0;for(let b_=0;b_<this.m_contactBuffer.count;b_++){let d_=this.m_contactBuffer.data[b_],S_=d_.indexA,T_=d_.indexB,k_=d_.normal,U_=a_.SubVV(r_[T_],r_[S_],_n),X_=a_.DotVV(U_,k_);X_<0&&(p_+=X_*X_)}return .5*this.GetParticleMass()*p_}SetStrictContactCheck(_n){this.m_def.strictContactCheck=_n}GetStrictContactCheck(){return this.m_def.strictContactCheck}SetParticleLifetime(_n,r_){let p_=this.m_indexByExpirationTimeBuffer.data===null;if(this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),p_){let S_=this.GetParticleCount();for(let T_=0;T_<S_;++T_)this.m_indexByExpirationTimeBuffer.data[T_]=T_}let b_=r_/this.m_def.lifetimeGranularity,d_=b_>0?this.GetQuantizedTimeElapsed()+b_:b_;d_!==this.m_expirationTimeBuffer.data[_n]&&(this.m_expirationTimeBuffer.data[_n]=d_,this.m_expirationTimeBufferRequiresSorting=!0)}GetParticleLifetime(_n){return this.ExpirationTimeToLifetime(this.GetExpirationTimeBuffer()[_n])}SetDestructionByAge(_n){_n&&this.GetExpirationTimeBuffer(),this.m_def.destroyByAge=_n}GetDestructionByAge(){return this.m_def.destroyByAge}GetExpirationTimeBuffer(){return this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_expirationTimeBuffer.data}ExpirationTimeToLifetime(_n){return(_n>0?_n-this.GetQuantizedTimeElapsed():_n)*this.m_def.lifetimeGranularity}GetIndexByExpirationTimeBuffer(){return this.GetParticleCount()?this.SetParticleLifetime(0,this.GetParticleLifetime(0)):this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data}ParticleApplyLinearImpulse(_n,r_){this.ApplyLinearImpulse(_n,_n+1,r_)}ApplyLinearImpulse(_n,r_,p_){let b_=this.m_velocityBuffer.data,S_=(r_-_n)*this.GetParticleMass(),T_=new a_().Copy(p_).SelfMul(1/S_);for(let k_=_n;k_<r_;k_++)b_[k_].SelfAdd(T_)}static IsSignificantForce(_n){return _n.x!==0||_n.y!==0}ParticleApplyForce(_n,r_){H2.IsSignificantForce(r_)&&this.ForceCanBeApplied(this.m_flagsBuffer.data[_n])&&(this.PrepareForceBuffer(),this.m_forceBuffer[_n].SelfAdd(r_))}ApplyForce(_n,r_,p_){let b_=new a_().Copy(p_).SelfMul(1/(r_-_n));if(H2.IsSignificantForce(b_)){this.PrepareForceBuffer();for(let d_=_n;d_<r_;d_++)this.m_forceBuffer[d_].SelfAdd(b_)}}GetNext(){return this.m_next}QueryAABB(_n,r_){if(this.m_proxyBuffer.count===0)return;let p_=0,b_=this.m_proxyBuffer.count,d_=kM(this.m_proxyBuffer.data,p_,b_,H2.computeTag(this.m_inverseDiameter*r_.lowerBound.x,this.m_inverseDiameter*r_.lowerBound.y),KC.CompareProxyTag),S_=qM(this.m_proxyBuffer.data,d_,b_,H2.computeTag(this.m_inverseDiameter*r_.upperBound.x,this.m_inverseDiameter*r_.upperBound.y),KC.CompareTagProxy),T_=this.m_positionBuffer.data;for(let k_=d_;k_<S_;++k_){let X_=this.m_proxyBuffer.data[k_].index,O_=T_[X_];if(r_.lowerBound.x<O_.x&&O_.x<r_.upperBound.x&&r_.lowerBound.y<O_.y&&O_.y<r_.upperBound.y&&!_n.ReportParticle(this,X_))break}}QueryShapeAABB(_n,r_,p_,b_=0){let S_=H2.QueryShapeAABB_s_aabb;r_.ComputeAABB(S_,p_,b_),this.QueryAABB(_n,S_)}QueryPointAABB(_n,r_,p_=ws){let d_=H2.QueryPointAABB_s_aabb;d_.lowerBound.Set(r_.x-p_,r_.y-p_),d_.upperBound.Set(r_.x+p_,r_.y+p_),this.QueryAABB(_n,d_)}RayCast(_n,r_,p_){let b_=H2.RayCast_s_aabb,d_=H2.RayCast_s_p,S_=H2.RayCast_s_v,T_=H2.RayCast_s_n,k_=H2.RayCast_s_point;if(this.m_proxyBuffer.count===0)return;let U_=this.m_positionBuffer.data,X_=b_;a_.MinV(r_,p_,X_.lowerBound),a_.MaxV(r_,p_,X_.upperBound);let O_=1,K_=a_.SubVV(p_,r_,S_),a2=a_.DotVV(K_,K_),v2=this.GetInsideBoundsEnumerator(X_),M2;for(;(M2=v2.GetNext())>=0;){let R2=a_.SubVV(r_,U_[M2],d_),N2=a_.DotVV(R2,K_),W2=a_.DotVV(R2,R2),Q2=N2*N2-a2*(W2-this.m_squaredDiameter);if(Q2>=0){let ta=dS(Q2),o0=(-N2-ta)/a2;if(o0>O_||o0<0&&(o0=(-N2+ta)/a2,o0<0||o0>O_))continue;let l0=a_.AddVMulSV(R2,o0,K_,T_);l0.Normalize();let p0=_n.ReportParticle(this,M2,a_.AddVMulSV(r_,o0,K_,k_),l0,o0);if(O_=k0(O_,p0),O_<=0)break}}}ComputeAABB(_n){let r_=this.GetParticleCount();_n.lowerBound.x=+_o,_n.lowerBound.y=+_o,_n.upperBound.x=-_o,_n.upperBound.y=-_o;let p_=this.m_positionBuffer.data;for(let b_=0;b_<r_;b_++){let d_=p_[b_];a_.MinV(_n.lowerBound,d_,_n.lowerBound),a_.MaxV(_n.upperBound,d_,_n.upperBound)}_n.lowerBound.x-=this.m_particleDiameter,_n.lowerBound.y-=this.m_particleDiameter,_n.upperBound.x+=this.m_particleDiameter,_n.upperBound.y+=this.m_particleDiameter}FreeBuffer(_n,r_){_n!==null&&(_n.length=0)}FreeUserOverridableBuffer(_n){_n.userSuppliedCapacity===0&&this.FreeBuffer(_n.data,this.m_internalAllocatedCapacity)}ReallocateBuffer3(_n,r_,p_){if(p_<=r_)throw new Error;let b_=_n?_n.slice():[];return b_.length=p_,b_}ReallocateBuffer5(_n,r_,p_,b_,d_){if(b_<=p_)throw new Error;if(!(!r_||b_<=r_))throw new Error;return(!d_||_n)&&!r_&&(_n=this.ReallocateBuffer3(_n,p_,b_)),_n}ReallocateBuffer4(_n,r_,p_,b_){return this.ReallocateBuffer5(_n.data,_n.userSuppliedCapacity,r_,p_,b_)}RequestBuffer(_n){return _n||(this.m_internalAllocatedCapacity===0&&this.ReallocateInternalAllocatedBuffers(u2),_n=[],_n.length=this.m_internalAllocatedCapacity),_n}ReallocateHandleBuffers(_n){this.m_handleIndexBuffer.data=this.ReallocateBuffer4(this.m_handleIndexBuffer,this.m_internalAllocatedCapacity,_n,!0)}ReallocateInternalAllocatedBuffers(_n){function r_(p_,b_){return b_&&p_>b_?b_:p_}if(_n=r_(_n,this.m_def.maxCount),_n=r_(_n,this.m_flagsBuffer.userSuppliedCapacity),_n=r_(_n,this.m_positionBuffer.userSuppliedCapacity),_n=r_(_n,this.m_velocityBuffer.userSuppliedCapacity),_n=r_(_n,this.m_colorBuffer.userSuppliedCapacity),_n=r_(_n,this.m_userDataBuffer.userSuppliedCapacity),this.m_internalAllocatedCapacity<_n){this.ReallocateHandleBuffers(_n),this.m_flagsBuffer.data=this.ReallocateBuffer4(this.m_flagsBuffer,this.m_internalAllocatedCapacity,_n,!1);let p_=this.m_stuckThreshold>0;this.m_lastBodyContactStepBuffer.data=this.ReallocateBuffer4(this.m_lastBodyContactStepBuffer,this.m_internalAllocatedCapacity,_n,p_),this.m_bodyContactCountBuffer.data=this.ReallocateBuffer4(this.m_bodyContactCountBuffer,this.m_internalAllocatedCapacity,_n,p_),this.m_consecutiveContactStepsBuffer.data=this.ReallocateBuffer4(this.m_consecutiveContactStepsBuffer,this.m_internalAllocatedCapacity,_n,p_),this.m_positionBuffer.data=this.ReallocateBuffer4(this.m_positionBuffer,this.m_internalAllocatedCapacity,_n,!1),this.m_velocityBuffer.data=this.ReallocateBuffer4(this.m_velocityBuffer,this.m_internalAllocatedCapacity,_n,!1),this.m_forceBuffer=this.ReallocateBuffer5(this.m_forceBuffer,0,this.m_internalAllocatedCapacity,_n,!1),this.m_weightBuffer=this.ReallocateBuffer5(this.m_weightBuffer,0,this.m_internalAllocatedCapacity,_n,!1),this.m_staticPressureBuffer=this.ReallocateBuffer5(this.m_staticPressureBuffer,0,this.m_internalAllocatedCapacity,_n,!0),this.m_accumulationBuffer=this.ReallocateBuffer5(this.m_accumulationBuffer,0,this.m_internalAllocatedCapacity,_n,!1),this.m_accumulation2Buffer=this.ReallocateBuffer5(this.m_accumulation2Buffer,0,this.m_internalAllocatedCapacity,_n,!0),this.m_depthBuffer=this.ReallocateBuffer5(this.m_depthBuffer,0,this.m_internalAllocatedCapacity,_n,!0),this.m_colorBuffer.data=this.ReallocateBuffer4(this.m_colorBuffer,this.m_internalAllocatedCapacity,_n,!0),this.m_groupBuffer=this.ReallocateBuffer5(this.m_groupBuffer,0,this.m_internalAllocatedCapacity,_n,!1),this.m_userDataBuffer.data=this.ReallocateBuffer4(this.m_userDataBuffer,this.m_internalAllocatedCapacity,_n,!0),this.m_expirationTimeBuffer.data=this.ReallocateBuffer4(this.m_expirationTimeBuffer,this.m_internalAllocatedCapacity,_n,!0),this.m_indexByExpirationTimeBuffer.data=this.ReallocateBuffer4(this.m_indexByExpirationTimeBuffer,this.m_internalAllocatedCapacity,_n,!1),this.m_internalAllocatedCapacity=_n}}CreateParticleForGroup(_n,r_,p_){let b_=new v4;b_.flags=o(_n.flags,0),i0.MulXV(r_,p_,b_.position),a_.AddVV(o(_n.linearVelocity,a_.ZERO),a_.CrossSV(o(_n.angularVelocity,0),a_.SubVV(b_.position,o(_n.position,a_.ZERO),a_.s_t0),a_.s_t0),b_.velocity),b_.color.Copy(o(_n.color,sy.ZERO)),b_.lifetime=o(_n.lifetime,0),b_.userData=_n.userData,this.CreateParticle(b_)}CreateParticlesStrokeShapeForGroup(_n,r_,p_){let b_=H2.CreateParticlesStrokeShapeForGroup_s_edge,d_=H2.CreateParticlesStrokeShapeForGroup_s_d,S_=H2.CreateParticlesStrokeShapeForGroup_s_p,T_=o(r_.stride,0);T_===0&&(T_=this.GetParticleStride());let k_=0,U_=_n.GetChildCount();for(let X_=0;X_<U_;X_++){let O_=null;_n.GetType()===V.b2ShapeType.e_edgeShape?O_=_n:(O_=b_,_n.GetChildEdge(O_,X_));let K_=a_.SubVV(O_.m_vertex2,O_.m_vertex1,d_),a2=K_.Length();for(;k_<a2;){let v2=a_.AddVMulSV(O_.m_vertex1,k_/a2,K_,S_);this.CreateParticleForGroup(r_,p_,v2),k_+=T_}k_-=a2}}CreateParticlesFillShapeForGroup(_n,r_,p_){let b_=H2.CreateParticlesFillShapeForGroup_s_aabb,d_=H2.CreateParticlesFillShapeForGroup_s_p,S_=o(r_.stride,0);S_===0&&(S_=this.GetParticleStride());let T_=i0.IDENTITY,k_=b_;_n.ComputeAABB(k_,T_,0);for(let U_=Math.floor(k_.lowerBound.y/S_)*S_;U_<k_.upperBound.y;U_+=S_)for(let X_=Math.floor(k_.lowerBound.x/S_)*S_;X_<k_.upperBound.x;X_+=S_){let O_=d_.Set(X_,U_);_n.TestPoint(T_,O_)&&this.CreateParticleForGroup(r_,p_,O_)}}CreateParticlesWithShapeForGroup(_n,r_,p_){switch(_n.GetType()){case V.b2ShapeType.e_edgeShape:case V.b2ShapeType.e_chainShape:this.CreateParticlesStrokeShapeForGroup(_n,r_,p_);break;case V.b2ShapeType.e_polygonShape:case V.b2ShapeType.e_circleShape:this.CreateParticlesFillShapeForGroup(_n,r_,p_);break;default:break}}CreateParticlesWithShapesForGroup(_n,r_,p_,b_){let d_=new ZM(_n,r_);this.CreateParticlesFillShapeForGroup(d_,p_,b_)}CloneParticle(_n,r_){let p_=new v4;p_.flags=this.m_flagsBuffer.data[_n],p_.position.Copy(this.m_positionBuffer.data[_n]),p_.velocity.Copy(this.m_velocityBuffer.data[_n]),this.m_colorBuffer.data&&p_.color.Copy(this.m_colorBuffer.data[_n]),this.m_userDataBuffer.data&&(p_.userData=this.m_userDataBuffer.data[_n]),p_.group=r_;let b_=this.CreateParticle(p_);if(this.m_handleIndexBuffer.data){let d_=this.m_handleIndexBuffer.data[_n];d_&&d_.SetIndex(b_),this.m_handleIndexBuffer.data[b_]=d_,this.m_handleIndexBuffer.data[_n]=null}return this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[b_]=this.m_lastBodyContactStepBuffer.data[_n]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[b_]=this.m_bodyContactCountBuffer.data[_n]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[b_]=this.m_consecutiveContactStepsBuffer.data[_n]),this.m_hasForce&&this.m_forceBuffer[b_].Copy(this.m_forceBuffer[_n]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[b_]=this.m_staticPressureBuffer[_n]),this.m_depthBuffer&&(this.m_depthBuffer[b_]=this.m_depthBuffer[_n]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[b_]=this.m_expirationTimeBuffer.data[_n]),b_}DestroyParticlesInGroup(_n,r_=!1){for(let p_=_n.m_firstIndex;p_<_n.m_lastIndex;p_++)this.DestroyParticle(p_,r_)}DestroyParticleGroup(_n){this.m_world.m_destructionListener&&this.m_world.m_destructionListener.SayGoodbyeParticleGroup(_n),this.SetGroupFlags(_n,0);for(let r_=_n.m_firstIndex;r_<_n.m_lastIndex;r_++)this.m_groupBuffer[r_]=null;_n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),_n===this.m_groupList&&(this.m_groupList=_n.m_next),--this.m_groupCount}static ParticleCanBeConnected(_n,r_){return(_n&(V.b2ParticleFlag.b2_wallParticle|V.b2ParticleFlag.b2_springParticle|V.b2ParticleFlag.b2_elasticParticle))!==0||r_!==null&&(r_.GetGroupFlags()&V.b2ParticleGroupFlag.b2_rigidParticleGroup)!==0}UpdatePairsAndTriads(_n,r_,p_){let b_=H2.UpdatePairsAndTriads_s_dab,d_=H2.UpdatePairsAndTriads_s_dbc,S_=H2.UpdatePairsAndTriads_s_dca,T_=this.m_positionBuffer.data,k_=0;for(let U_=_n;U_<r_;U_++)k_|=this.m_flagsBuffer.data[U_];if(k_&H2.k_pairFlags)for(let U_=0;U_<this.m_contactBuffer.count;U_++){let X_=this.m_contactBuffer.data[U_],O_=X_.indexA,K_=X_.indexB,a2=this.m_flagsBuffer.data[O_],v2=this.m_flagsBuffer.data[K_],M2=this.m_groupBuffer[O_],R2=this.m_groupBuffer[K_];if(O_>=_n&&O_<r_&&K_>=_n&&K_<r_&&!((a2|v2)&V.b2ParticleFlag.b2_zombieParticle)&&(a2|v2)&H2.k_pairFlags&&(p_.IsNecessary(O_)||p_.IsNecessary(K_))&&H2.ParticleCanBeConnected(a2,M2)&&H2.ParticleCanBeConnected(v2,R2)&&p_.ShouldCreatePair(O_,K_)){let N2=this.m_pairBuffer.data[this.m_pairBuffer.Append()];N2.indexA=O_,N2.indexB=K_,N2.flags=X_.flags,N2.strength=k0(M2?M2.m_strength:1,R2?R2.m_strength:1),N2.distance=a_.DistanceVV(T_[O_],T_[K_])}RM(this.m_pairBuffer.data,0,this.m_pairBuffer.count,H2.ComparePairIndices),this.m_pairBuffer.Unique(H2.MatchPairIndices)}if(k_&H2.k_triadFlags){let U_=new pG(r_-_n);for(let a2=_n;a2<r_;a2++){let v2=this.m_flagsBuffer.data[a2],M2=this.m_groupBuffer[a2];!(v2&V.b2ParticleFlag.b2_zombieParticle)&&H2.ParticleCanBeConnected(v2,M2)&&U_.AddGenerator(T_[a2],a2,p_.IsNecessary(a2))}let X_=this.GetParticleStride();U_.Generate(X_/2,X_*2);let O_=this,K_=(a2,v2,M2)=>{let R2=O_.m_flagsBuffer.data[a2],N2=O_.m_flagsBuffer.data[v2],W2=O_.m_flagsBuffer.data[M2];if((R2|N2|W2)&H2.k_triadFlags&&p_.ShouldCreateTriad(a2,v2,M2)){let Q2=T_[a2],ta=T_[v2],o0=T_[M2],l0=a_.SubVV(Q2,ta,b_),p0=a_.SubVV(ta,o0,d_),S0=a_.SubVV(o0,Q2,S_),h0=s2*O_.m_squaredDiameter;if(a_.DotVV(l0,l0)>h0||a_.DotVV(p0,p0)>h0||a_.DotVV(S0,S0)>h0)return;let G0=O_.m_groupBuffer[a2],E0=O_.m_groupBuffer[v2],v0=O_.m_groupBuffer[M2],m0=O_.m_triadBuffer.data[O_.m_triadBuffer.Append()];m0.indexA=a2,m0.indexB=v2,m0.indexC=M2,m0.flags=R2|N2|W2,m0.strength=k0(k0(G0?G0.m_strength:1,E0?E0.m_strength:1),v0?v0.m_strength:1);let W0=(Q2.x+ta.x+o0.x)/3,z0=(Q2.y+ta.y+o0.y)/3;m0.pa.x=Q2.x-W0,m0.pa.y=Q2.y-z0,m0.pb.x=ta.x-W0,m0.pb.y=ta.y-z0,m0.pc.x=o0.x-W0,m0.pc.y=o0.y-z0,m0.ka=-a_.DotVV(S0,l0),m0.kb=-a_.DotVV(l0,p0),m0.kc=-a_.DotVV(p0,S0),m0.s=a_.CrossVV(Q2,ta)+a_.CrossVV(ta,o0)+a_.CrossVV(o0,Q2)}};U_.GetNodes(K_),RM(this.m_triadBuffer.data,0,this.m_triadBuffer.count,H2.CompareTriadIndices),this.m_triadBuffer.Unique(H2.MatchTriadIndices)}}UpdatePairsAndTriadsWithReactiveParticles(){let _n=new KM(this.m_flagsBuffer);this.UpdatePairsAndTriads(0,this.m_count,_n);for(let r_=0;r_<this.m_count;r_++)this.m_flagsBuffer.data[r_]&=~V.b2ParticleFlag.b2_reactiveParticle;this.m_allParticleFlags&=~V.b2ParticleFlag.b2_reactiveParticle}static ComparePairIndices(_n,r_){let p_=_n.indexA-r_.indexA;return p_!==0?p_<0:_n.indexB<r_.indexB}static MatchPairIndices(_n,r_){return _n.indexA===r_.indexA&&_n.indexB===r_.indexB}static CompareTriadIndices(_n,r_){let p_=_n.indexA-r_.indexA;if(p_!==0)return p_<0;let b_=_n.indexB-r_.indexB;return b_!==0?b_<0:_n.indexC<r_.indexC}static MatchTriadIndices(_n,r_){return _n.indexA===r_.indexA&&_n.indexB===r_.indexB&&_n.indexC===r_.indexC}static InitializeParticleLists(_n,r_){let p_=_n.GetBufferIndex(),b_=_n.GetParticleCount();for(let d_=0;d_<b_;d_++){let S_=r_[d_];S_.list=S_,S_.next=null,S_.count=1,S_.index=d_+p_}}MergeParticleListsInContact(_n,r_){let p_=_n.GetBufferIndex();for(let b_=0;b_<this.m_contactBuffer.count;b_++){let d_=this.m_contactBuffer.data[b_],S_=d_.indexA,T_=d_.indexB;if(!_n.ContainsParticle(S_)||!_n.ContainsParticle(T_))continue;let k_=r_[S_-p_].list,U_=r_[T_-p_].list;if(k_!==U_){if(k_.count<U_.count){let X_=k_;k_=U_,U_=X_}H2.MergeParticleLists(k_,U_)}}}static MergeParticleLists(_n,r_){for(let p_=r_;;){p_.list=_n;let b_=p_.next;if(b_)p_=b_;else{p_.next=_n.next;break}}_n.next=r_,_n.count+=r_.count,r_.count=0}static FindLongestParticleList(_n,r_){let p_=_n.GetParticleCount(),b_=r_[0];for(let d_=0;d_<p_;d_++){let S_=r_[d_];b_.count<S_.count&&(b_=S_)}return b_}MergeZombieParticleListNodes(_n,r_,p_){let b_=_n.GetParticleCount();for(let d_=0;d_<b_;d_++){let S_=r_[d_];S_!==p_&&this.m_flagsBuffer.data[S_.index]&V.b2ParticleFlag.b2_zombieParticle&&H2.MergeParticleListAndNode(p_,S_)}}static MergeParticleListAndNode(_n,r_){r_.list=_n,r_.next=_n.next,_n.next=r_,_n.count++,r_.count=0}CreateParticleGroupsFromParticleList(_n,r_,p_){let b_=_n.GetParticleCount(),d_=new TM;d_.groupFlags=_n.GetGroupFlags(),d_.userData=_n.GetUserData();for(let S_=0;S_<b_;S_++){let T_=r_[S_];if(!T_.count||T_===p_)continue;let k_=this.CreateParticleGroup(d_);for(let U_=T_;U_;U_=U_.next){let X_=U_.index,O_=this.CloneParticle(X_,k_);this.m_flagsBuffer.data[X_]|=V.b2ParticleFlag.b2_zombieParticle,U_.index=O_}}}UpdatePairsAndTriadsWithParticleList(_n,r_){let p_=_n.GetBufferIndex();for(let b_=0;b_<this.m_pairBuffer.count;b_++){let d_=this.m_pairBuffer.data[b_],S_=d_.indexA,T_=d_.indexB;_n.ContainsParticle(S_)&&(d_.indexA=r_[S_-p_].index),_n.ContainsParticle(T_)&&(d_.indexB=r_[T_-p_].index)}for(let b_=0;b_<this.m_triadBuffer.count;b_++){let d_=this.m_triadBuffer.data[b_],S_=d_.indexA,T_=d_.indexB,k_=d_.indexC;_n.ContainsParticle(S_)&&(d_.indexA=r_[S_-p_].index),_n.ContainsParticle(T_)&&(d_.indexB=r_[T_-p_].index),_n.ContainsParticle(k_)&&(d_.indexC=r_[k_-p_].index)}}ComputeDepth(){let _n=[],r_=0;for(let S_=0;S_<this.m_contactBuffer.count;S_++){let T_=this.m_contactBuffer.data[S_],k_=T_.indexA,U_=T_.indexB,X_=this.m_groupBuffer[k_],O_=this.m_groupBuffer[U_];X_&&X_===O_&&X_.m_groupFlags&V.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&(_n[r_++]=T_)}let p_=[],b_=0;for(let S_=this.m_groupList;S_;S_=S_.GetNext())if(S_.m_groupFlags&V.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth){p_[b_++]=S_,this.SetGroupFlags(S_,S_.m_groupFlags&~V.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth);for(let T_=S_.m_firstIndex;T_<S_.m_lastIndex;T_++)this.m_accumulationBuffer[T_]=0}for(let S_=0;S_<r_;S_++){let T_=_n[S_],k_=T_.indexA,U_=T_.indexB,X_=T_.weight;this.m_accumulationBuffer[k_]+=X_,this.m_accumulationBuffer[U_]+=X_}for(let S_=0;S_<b_;S_++){let T_=p_[S_];for(let k_=T_.m_firstIndex;k_<T_.m_lastIndex;k_++){let U_=this.m_accumulationBuffer[k_];this.m_depthBuffer[k_]=U_<.8?0:_o}}let d_=dS(this.m_count)>>0;for(let S_=0;S_<d_;S_++){let T_=!1;for(let k_=0;k_<r_;k_++){let U_=_n[k_],X_=U_.indexA,O_=U_.indexB,K_=1-U_.weight,a2=this.m_depthBuffer[X_],v2=this.m_depthBuffer[O_],M2=v2+K_,R2=a2+K_;a2>M2&&(this.m_depthBuffer[X_]=M2,T_=!0),v2>R2&&(this.m_depthBuffer[O_]=R2,T_=!0)}if(!T_)break}for(let S_=0;S_<b_;S_++){let T_=p_[S_];for(let k_=T_.m_firstIndex;k_<T_.m_lastIndex;k_++)this.m_depthBuffer[k_]<_o?this.m_depthBuffer[k_]*=this.m_particleDiameter:this.m_depthBuffer[k_]=0}}GetInsideBoundsEnumerator(_n){let r_=H2.computeTag(this.m_inverseDiameter*_n.lowerBound.x-1,this.m_inverseDiameter*_n.lowerBound.y-1),p_=H2.computeTag(this.m_inverseDiameter*_n.upperBound.x+1,this.m_inverseDiameter*_n.upperBound.y+1),b_=0,d_=this.m_proxyBuffer.count,S_=kM(this.m_proxyBuffer.data,b_,d_,r_,KC.CompareProxyTag),T_=qM(this.m_proxyBuffer.data,b_,d_,p_,KC.CompareTagProxy);return new NM(this,r_,p_,S_,T_)}UpdateAllParticleFlags(){this.m_allParticleFlags=0;for(let _n=0;_n<this.m_count;_n++)this.m_allParticleFlags|=this.m_flagsBuffer.data[_n];this.m_needsUpdateAllParticleFlags=!1}UpdateAllGroupFlags(){this.m_allGroupFlags=0;for(let _n=this.m_groupList;_n;_n=_n.GetNext())this.m_allGroupFlags|=_n.m_groupFlags;this.m_needsUpdateAllGroupFlags=!1}AddContact(_n,r_,p_){let b_=this.m_flagsBuffer.data,d_=this.m_positionBuffer.data,S_=a_.SubVV(d_[r_],d_[_n],H2.AddContact_s_d),T_=a_.DotVV(S_,S_);if(0<T_&&T_<this.m_squaredDiameter){let k_=xB(T_),U_=this.m_contactBuffer.data[this.m_contactBuffer.Append()];U_.indexA=_n,U_.indexB=r_,U_.flags=b_[_n]|b_[r_],U_.weight=1-T_*k_*this.m_inverseDiameter,U_.normal.x=k_*S_.x,U_.normal.y=k_*S_.y}}FindContacts_Reference(_n){let p_=this.m_proxyBuffer.count;this.m_contactBuffer.count=0;for(let b_=0,d_=0;b_<p_;b_++){let S_=H2.computeRelativeTag(this.m_proxyBuffer.data[b_].tag,1,0);for(let U_=b_+1;U_<p_&&!(S_<this.m_proxyBuffer.data[U_].tag);U_++)this.AddContact(this.m_proxyBuffer.data[b_].index,this.m_proxyBuffer.data[U_].index,this.m_contactBuffer);let T_=H2.computeRelativeTag(this.m_proxyBuffer.data[b_].tag,-1,1);for(;d_<p_&&!(T_<=this.m_proxyBuffer.data[d_].tag);d_++);let k_=H2.computeRelativeTag(this.m_proxyBuffer.data[b_].tag,1,1);for(let U_=d_;U_<p_&&!(k_<this.m_proxyBuffer.data[U_].tag);U_++)this.AddContact(this.m_proxyBuffer.data[b_].index,this.m_proxyBuffer.data[U_].index,this.m_contactBuffer)}}FindContacts(_n){this.FindContacts_Reference(_n)}UpdateProxies_Reference(_n){let r_=this.m_positionBuffer.data,p_=this.m_inverseDiameter;for(let b_=0;b_<this.m_proxyBuffer.count;++b_){let d_=this.m_proxyBuffer.data[b_],S_=d_.index,T_=r_[S_];d_.tag=H2.computeTag(p_*T_.x,p_*T_.y)}}UpdateProxies(_n){this.UpdateProxies_Reference(_n)}SortProxies(_n){aV(this.m_proxyBuffer.data,0,this.m_proxyBuffer.count,KC.CompareProxyProxy)}FilterContacts(_n){let r_=this.GetParticleContactFilter();if(r_===null)return;let p_=this,b_=d_=>(d_.flags&V.b2ParticleFlag.b2_particleContactFilterParticle)!==0&&!r_.ShouldCollideParticleParticle(p_,d_.indexA,d_.indexB);this.m_contactBuffer.RemoveIf(b_)}NotifyContactListenerPreContact(_n){if(this.GetParticleContactListener()!==null)throw _n.Initialize(this.m_contactBuffer,this.m_flagsBuffer),new Error}NotifyContactListenerPostContact(_n){let r_=this.GetParticleContactListener();if(r_!==null){for(let p_=0;p_<this.m_contactBuffer.count;++p_){let b_=this.m_contactBuffer.data[p_];r_.BeginContactParticleParticle(this,b_)}throw new Error}}static b2ParticleContactIsZombie(_n){return(_n.flags&V.b2ParticleFlag.b2_zombieParticle)===V.b2ParticleFlag.b2_zombieParticle}UpdateContacts(_n){this.UpdateProxies(this.m_proxyBuffer),this.SortProxies(this.m_proxyBuffer);let r_=new XM;this.NotifyContactListenerPreContact(r_),this.FindContacts(this.m_contactBuffer),this.FilterContacts(this.m_contactBuffer),this.NotifyContactListenerPostContact(r_),_n&&this.m_contactBuffer.RemoveIf(H2.b2ParticleContactIsZombie)}NotifyBodyContactListenerPreContact(_n){if(this.GetFixtureContactListener()!==null)throw _n.Initialize(this.m_bodyContactBuffer,this.m_flagsBuffer),new Error}NotifyBodyContactListenerPostContact(_n){let r_=this.GetFixtureContactListener();if(r_!==null){for(let p_=0;p_<this.m_bodyContactBuffer.count;p_++){let b_=this.m_bodyContactBuffer.data[p_];r_.BeginContactFixtureParticle(this,b_)}throw new Error}}UpdateBodyContacts(){let _n=H2.UpdateBodyContacts_s_aabb,r_=new UM;if(this.NotifyBodyContactListenerPreContact(r_),this.m_stuckThreshold>0){let d_=this.GetParticleCount();for(let S_=0;S_<d_;S_++)this.m_bodyContactCountBuffer.data[S_]=0,this.m_timestamp>this.m_lastBodyContactStepBuffer.data[S_]+1&&(this.m_consecutiveContactStepsBuffer.data[S_]=0)}this.m_bodyContactBuffer.SetCount(0),this.m_stuckParticleBuffer.SetCount(0);let p_=_n;this.ComputeAABB(p_),this.UpdateBodyContacts_callback===null&&(this.UpdateBodyContacts_callback=new QC(this));let b_=this.UpdateBodyContacts_callback;b_.m_contactFilter=this.GetFixtureContactFilter(),this.m_world.QueryAABB(b_,p_),this.m_def.strictContactCheck&&this.RemoveSpuriousBodyContacts(),this.NotifyBodyContactListenerPostContact(r_)}Solve(_n){let r_=H2.Solve_s_subStep;if(this.m_count!==0&&(this.m_expirationTimeBuffer.data&&this.SolveLifetimes(_n),this.m_allParticleFlags&V.b2ParticleFlag.b2_zombieParticle&&this.SolveZombie(),this.m_needsUpdateAllParticleFlags&&this.UpdateAllParticleFlags(),this.m_needsUpdateAllGroupFlags&&this.UpdateAllGroupFlags(),!this.m_paused))for(this.m_iterationIndex=0;this.m_iterationIndex<_n.particleIterations;this.m_iterationIndex++){++this.m_timestamp;let p_=r_.Copy(_n);p_.dt/=_n.particleIterations,p_.inv_dt*=_n.particleIterations,this.UpdateContacts(!1),this.UpdateBodyContacts(),this.ComputeWeight(),this.m_allGroupFlags&V.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&this.ComputeDepth(),this.m_allParticleFlags&V.b2ParticleFlag.b2_reactiveParticle&&this.UpdatePairsAndTriadsWithReactiveParticles(),this.m_hasForce&&this.SolveForce(p_),this.m_allParticleFlags&V.b2ParticleFlag.b2_viscousParticle&&this.SolveViscous(),this.m_allParticleFlags&V.b2ParticleFlag.b2_repulsiveParticle&&this.SolveRepulsive(p_),this.m_allParticleFlags&V.b2ParticleFlag.b2_powderParticle&&this.SolvePowder(p_),this.m_allParticleFlags&V.b2ParticleFlag.b2_tensileParticle&&this.SolveTensile(p_),this.m_allGroupFlags&V.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SolveSolid(p_),this.m_allParticleFlags&V.b2ParticleFlag.b2_colorMixingParticle&&this.SolveColorMixing(),this.SolveGravity(p_),this.m_allParticleFlags&V.b2ParticleFlag.b2_staticPressureParticle&&this.SolveStaticPressure(p_),this.SolvePressure(p_),this.SolveDamping(p_),this.m_allParticleFlags&H2.k_extraDampingFlags&&this.SolveExtraDamping(),this.m_allParticleFlags&V.b2ParticleFlag.b2_elasticParticle&&this.SolveElastic(p_),this.m_allParticleFlags&V.b2ParticleFlag.b2_springParticle&&this.SolveSpring(p_),this.LimitVelocity(p_),this.m_allGroupFlags&V.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigidDamping(),this.m_allParticleFlags&V.b2ParticleFlag.b2_barrierParticle&&this.SolveBarrier(p_),this.SolveCollision(p_),this.m_allGroupFlags&V.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigid(p_),this.m_allParticleFlags&V.b2ParticleFlag.b2_wallParticle&&this.SolveWall();for(let b_=0;b_<this.m_count;b_++)this.m_positionBuffer.data[b_].SelfMulAdd(p_.dt,this.m_velocityBuffer.data[b_])}}SolveCollision(_n){let r_=H2.SolveCollision_s_aabb,p_=this.m_positionBuffer.data,b_=this.m_velocityBuffer.data,d_=r_;d_.lowerBound.x=+_o,d_.lowerBound.y=+_o,d_.upperBound.x=-_o,d_.upperBound.y=-_o;for(let T_=0;T_<this.m_count;T_++){let k_=b_[T_],U_=p_[T_],X_=U_.x+_n.dt*k_.x,O_=U_.y+_n.dt*k_.y;d_.lowerBound.x=k0(d_.lowerBound.x,k0(U_.x,X_)),d_.lowerBound.y=k0(d_.lowerBound.y,k0(U_.y,O_)),d_.upperBound.x=F0(d_.upperBound.x,F0(U_.x,X_)),d_.upperBound.y=F0(d_.upperBound.y,F0(U_.y,O_))}this.SolveCollision_callback===null&&(this.SolveCollision_callback=new zA(this,_n));let S_=this.SolveCollision_callback;S_.m_step=_n,this.m_world.QueryAABB(S_,d_)}LimitVelocity(_n){let r_=this.m_velocityBuffer.data,p_=this.GetCriticalVelocitySquared(_n);for(let b_=0;b_<this.m_count;b_++){let d_=r_[b_],S_=a_.DotVV(d_,d_);S_>p_&&d_.SelfMul(dS(p_/S_))}}SolveGravity(_n){let r_=H2.SolveGravity_s_gravity,p_=this.m_velocityBuffer.data,b_=a_.MulSV(_n.dt*this.m_def.gravityScale,this.m_world.GetGravity(),r_);for(let d_=0;d_<this.m_count;d_++)p_[d_].SelfAdd(b_)}SolveBarrier(_n){let r_=H2.SolveBarrier_s_aabb,p_=H2.SolveBarrier_s_va,b_=H2.SolveBarrier_s_vb,d_=H2.SolveBarrier_s_pba,S_=H2.SolveBarrier_s_vba,T_=H2.SolveBarrier_s_vc,k_=H2.SolveBarrier_s_pca,U_=H2.SolveBarrier_s_vca,X_=H2.SolveBarrier_s_qba,O_=H2.SolveBarrier_s_qca,K_=H2.SolveBarrier_s_dv,a2=H2.SolveBarrier_s_f,v2=this.m_positionBuffer.data,M2=this.m_velocityBuffer.data;for(let W2=0;W2<this.m_count;W2++)(this.m_flagsBuffer.data[W2]&H2.k_barrierWallFlags)!==0&&M2[W2].SetZero();let R2=p2*_n.dt,N2=this.GetParticleMass();for(let W2=0;W2<this.m_pairBuffer.count;W2++){let Q2=this.m_pairBuffer.data[W2];if(Q2.flags&V.b2ParticleFlag.b2_barrierParticle){let ta=Q2.indexA,o0=Q2.indexB,l0=v2[ta],p0=v2[o0],S0=r_;a_.MinV(l0,p0,S0.lowerBound),a_.MaxV(l0,p0,S0.upperBound);let h0=this.m_groupBuffer[ta],G0=this.m_groupBuffer[o0],E0=this.GetLinearVelocity(h0,ta,l0,p_),v0=this.GetLinearVelocity(G0,o0,p0,b_),m0=a_.SubVV(p0,l0,d_),W0=a_.SubVV(v0,E0,S_),z0=this.GetInsideBoundsEnumerator(S0),Py;for(;(Py=z0.GetNext())>=0;){let n1=v2[Py],h1=this.m_groupBuffer[Py];if(h0!==h1&&G0!==h1){let hA=this.GetLinearVelocity(h1,Py,n1,T_),dA=a_.SubVV(n1,l0,k_),yA=a_.SubVV(hA,E0,U_),BB=a_.CrossVV(W0,yA),jS=a_.CrossVV(m0,yA)-a_.CrossVV(dA,W0),PB=a_.CrossVV(m0,dA),WA,IA,$1=X_,wS=O_;if(BB===0){if(jS===0||(IA=-PB/jS,!(IA>=0&&IA<R2))||(a_.AddVMulSV(m0,IA,W0,$1),a_.AddVMulSV(dA,IA,yA,wS),WA=a_.DotVV($1,wS)/a_.DotVV($1,$1),!(WA>=0&&WA<=1)))continue}else{let aP=jS*jS-4*PB*BB;if(aP<0)continue;let pP=dS(aP),uV=(-jS-pP)/(2*BB),hV=(-jS+pP)/(2*BB);if(uV>hV){let yG=uV;uV=hV,hV=yG}if(IA=uV,a_.AddVMulSV(m0,IA,W0,$1),a_.AddVMulSV(dA,IA,yA,wS),WA=a_.DotVV($1,wS)/a_.DotVV($1,$1),!(IA>=0&&IA<R2&&WA>=0&&WA<=1)&&(IA=hV,!(IA>=0&&IA<R2)||(a_.AddVMulSV(m0,IA,W0,$1),a_.AddVMulSV(dA,IA,yA,wS),WA=a_.DotVV($1,wS)/a_.DotVV($1,$1),!(WA>=0&&WA<=1))))continue}let bV=K_;bV.x=E0.x+WA*W0.x-hA.x,bV.y=E0.y+WA*W0.y-hA.y;let C4=a_.MulSV(N2,bV,a2);if(h1&&this.IsRigidGroup(h1)){let aP=h1.GetMass(),pP=h1.GetInertia();aP>0&&h1.m_linearVelocity.SelfMulAdd(1/aP,C4),pP>0&&(h1.m_angularVelocity+=a_.CrossVV(a_.SubVV(n1,h1.GetCenter(),a_.s_t0),C4)/pP)}else M2[Py].SelfAdd(bV);this.ParticleApplyForce(Py,C4.SelfMul(-_n.inv_dt))}}}}}SolveStaticPressure(_n){this.m_staticPressureBuffer=this.RequestBuffer(this.m_staticPressureBuffer);let r_=this.GetCriticalPressure(_n),p_=this.m_def.staticPressureStrength*r_,b_=E_*r_,d_=this.m_def.staticPressureRelaxation;for(let S_=0;S_<this.m_def.staticPressureIterations;S_++){for(let T_=0;T_<this.m_count;T_++)this.m_accumulationBuffer[T_]=0;for(let T_=0;T_<this.m_contactBuffer.count;T_++){let k_=this.m_contactBuffer.data[T_];if(k_.flags&V.b2ParticleFlag.b2_staticPressureParticle){let U_=k_.indexA,X_=k_.indexB,O_=k_.weight;this.m_accumulationBuffer[U_]+=O_*this.m_staticPressureBuffer[X_],this.m_accumulationBuffer[X_]+=O_*this.m_staticPressureBuffer[U_]}}for(let T_=0;T_<this.m_count;T_++){let k_=this.m_weightBuffer[T_];if(this.m_flagsBuffer.data[T_]&V.b2ParticleFlag.b2_staticPressureParticle){let X_=(this.m_accumulationBuffer[T_]+p_*(k_-P_))/(k_+d_);this.m_staticPressureBuffer[T_]=My(X_,0,b_)}else this.m_staticPressureBuffer[T_]=0}}}ComputeWeight(){for(let _n=0;_n<this.m_count;_n++)this.m_weightBuffer[_n]=0;for(let _n=0;_n<this.m_bodyContactBuffer.count;_n++){let r_=this.m_bodyContactBuffer.data[_n],p_=r_.index,b_=r_.weight;this.m_weightBuffer[p_]+=b_}for(let _n=0;_n<this.m_contactBuffer.count;_n++){let r_=this.m_contactBuffer.data[_n],p_=r_.indexA,b_=r_.indexB,d_=r_.weight;this.m_weightBuffer[p_]+=d_,this.m_weightBuffer[b_]+=d_}}SolvePressure(_n){let r_=H2.SolvePressure_s_f,p_=this.m_positionBuffer.data,b_=this.m_velocityBuffer.data,d_=this.GetCriticalPressure(_n),S_=this.m_def.pressureStrength*d_,T_=E_*d_;for(let X_=0;X_<this.m_count;X_++){let O_=this.m_weightBuffer[X_],K_=S_*F0(0,O_-P_);this.m_accumulationBuffer[X_]=k0(K_,T_)}if(this.m_allParticleFlags&H2.k_noPressureFlags)for(let X_=0;X_<this.m_count;X_++)this.m_flagsBuffer.data[X_]&H2.k_noPressureFlags&&(this.m_accumulationBuffer[X_]=0);if(this.m_allParticleFlags&V.b2ParticleFlag.b2_staticPressureParticle)for(let X_=0;X_<this.m_count;X_++)this.m_flagsBuffer.data[X_]&V.b2ParticleFlag.b2_staticPressureParticle&&(this.m_accumulationBuffer[X_]+=this.m_staticPressureBuffer[X_]);let k_=_n.dt/(this.m_def.density*this.m_particleDiameter),U_=this.GetParticleInvMass();for(let X_=0;X_<this.m_bodyContactBuffer.count;X_++){let O_=this.m_bodyContactBuffer.data[X_],K_=O_.index,a2=O_.body,v2=O_.weight,M2=O_.mass,R2=O_.normal,N2=p_[K_],W2=this.m_accumulationBuffer[K_]+S_*v2,Q2=a_.MulSV(k_*v2*M2*W2,R2,r_);b_[K_].SelfMulSub(U_,Q2),a2.ApplyLinearImpulse(Q2,N2,!0)}for(let X_=0;X_<this.m_contactBuffer.count;X_++){let O_=this.m_contactBuffer.data[X_],K_=O_.indexA,a2=O_.indexB,v2=O_.weight,M2=O_.normal,R2=this.m_accumulationBuffer[K_]+this.m_accumulationBuffer[a2],N2=a_.MulSV(k_*v2*R2,M2,r_);b_[K_].SelfSub(N2),b_[a2].SelfAdd(N2)}}SolveDamping(_n){let r_=H2.SolveDamping_s_v,p_=H2.SolveDamping_s_f,b_=this.m_positionBuffer.data,d_=this.m_velocityBuffer.data,S_=this.m_def.dampingStrength,T_=1/this.GetCriticalVelocity(_n),k_=this.GetParticleInvMass();for(let U_=0;U_<this.m_bodyContactBuffer.count;U_++){let X_=this.m_bodyContactBuffer.data[U_],O_=X_.index,K_=X_.body,a2=X_.weight,v2=X_.mass,M2=X_.normal,R2=b_[O_],N2=a_.SubVV(K_.GetLinearVelocityFromWorldPoint(R2,a_.s_t0),d_[O_],r_),W2=a_.DotVV(N2,M2);if(W2<0){let Q2=F0(S_*a2,k0(-T_*W2,.5)),ta=a_.MulSV(Q2*v2*W2,M2,p_);d_[O_].SelfMulAdd(k_,ta),K_.ApplyLinearImpulse(ta.SelfNeg(),R2,!0)}}for(let U_=0;U_<this.m_contactBuffer.count;U_++){let X_=this.m_contactBuffer.data[U_],O_=X_.indexA,K_=X_.indexB,a2=X_.weight,v2=X_.normal,M2=a_.SubVV(d_[K_],d_[O_],r_),R2=a_.DotVV(M2,v2);if(R2<0){let N2=F0(S_*a2,k0(-T_*R2,.5)),W2=a_.MulSV(N2*R2,v2,p_);d_[O_].SelfAdd(W2),d_[K_].SelfSub(W2)}}}SolveRigidDamping(){let _n=H2.SolveRigidDamping_s_t0,r_=H2.SolveRigidDamping_s_t1,p_=H2.SolveRigidDamping_s_p,b_=H2.SolveRigidDamping_s_v,d_=[0],S_=[0],T_=[0],k_=[0],U_=[0],X_=[0],O_=this.m_positionBuffer.data,K_=this.m_def.dampingStrength;for(let a2=0;a2<this.m_bodyContactBuffer.count;a2++){let v2=this.m_bodyContactBuffer.data[a2],M2=v2.index,R2=this.m_groupBuffer[M2];if(R2&&this.IsRigidGroup(R2)){let N2=v2.body,W2=v2.normal,Q2=v2.weight,ta=O_[M2],o0=a_.SubVV(N2.GetLinearVelocityFromWorldPoint(ta,_n),R2.GetLinearVelocityFromWorldPoint(ta,r_),b_),l0=a_.DotVV(o0,W2);if(l0<0){this.InitDampingParameterWithRigidGroupOrParticle(d_,S_,T_,!0,R2,M2,ta,W2),this.InitDampingParameter(k_,U_,X_,N2.GetMass(),N2.GetInertia()-N2.GetMass()*N2.GetLocalCenter().LengthSquared(),N2.GetWorldCenter(),ta,W2);let p0=K_*k0(Q2,1)*this.ComputeDampingImpulse(d_[0],S_[0],T_[0],k_[0],U_[0],X_[0],l0);this.ApplyDamping(d_[0],S_[0],T_[0],!0,R2,M2,p0,W2),N2.ApplyLinearImpulse(a_.MulSV(-p0,W2,a_.s_t0),ta,!0)}}}for(let a2=0;a2<this.m_contactBuffer.count;a2++){let v2=this.m_contactBuffer.data[a2],M2=v2.indexA,R2=v2.indexB,N2=v2.normal,W2=v2.weight,Q2=this.m_groupBuffer[M2],ta=this.m_groupBuffer[R2],o0=this.IsRigidGroup(Q2),l0=this.IsRigidGroup(ta);if(Q2!==ta&&(o0||l0)){let p0=a_.MidVV(O_[M2],O_[R2],p_),S0=a_.SubVV(this.GetLinearVelocity(ta,R2,p0,_n),this.GetLinearVelocity(Q2,M2,p0,r_),b_),h0=a_.DotVV(S0,N2);if(h0<0){this.InitDampingParameterWithRigidGroupOrParticle(d_,S_,T_,o0,Q2,M2,p0,N2),this.InitDampingParameterWithRigidGroupOrParticle(k_,U_,X_,l0,ta,R2,p0,N2);let G0=K_*W2*this.ComputeDampingImpulse(d_[0],S_[0],T_[0],k_[0],U_[0],X_[0],h0);this.ApplyDamping(d_[0],S_[0],T_[0],o0,Q2,M2,G0,N2),this.ApplyDamping(k_[0],U_[0],X_[0],l0,ta,R2,-G0,N2)}}}}SolveExtraDamping(){let _n=H2.SolveExtraDamping_s_v,r_=H2.SolveExtraDamping_s_f,p_=this.m_velocityBuffer.data,b_=this.m_positionBuffer.data,d_=this.GetParticleInvMass();for(let S_=0;S_<this.m_bodyContactBuffer.count;S_++){let T_=this.m_bodyContactBuffer.data[S_],k_=T_.index;if(this.m_flagsBuffer.data[k_]&H2.k_extraDampingFlags){let U_=T_.body,X_=T_.mass,O_=T_.normal,K_=b_[k_],a2=a_.SubVV(U_.GetLinearVelocityFromWorldPoint(K_,a_.s_t0),p_[k_],_n),v2=a_.DotVV(a2,O_);if(v2<0){let M2=a_.MulSV(.5*X_*v2,O_,r_);p_[k_].SelfMulAdd(d_,M2),U_.ApplyLinearImpulse(M2.SelfNeg(),K_,!0)}}}}SolveWall(){let _n=this.m_velocityBuffer.data;for(let r_=0;r_<this.m_count;r_++)this.m_flagsBuffer.data[r_]&V.b2ParticleFlag.b2_wallParticle&&_n[r_].SetZero()}SolveRigid(_n){let r_=H2.SolveRigid_s_position,p_=H2.SolveRigid_s_rotation,b_=H2.SolveRigid_s_transform,d_=H2.SolveRigid_s_velocityTransform,S_=this.m_positionBuffer.data,T_=this.m_velocityBuffer.data;for(let k_=this.m_groupList;k_;k_=k_.GetNext())if(k_.m_groupFlags&V.b2ParticleGroupFlag.b2_rigidParticleGroup){k_.UpdateStatistics();let U_=p_;U_.SetAngle(_n.dt*k_.m_angularVelocity);let X_=a_.AddVV(k_.m_center,a_.SubVV(a_.MulSV(_n.dt,k_.m_linearVelocity,a_.s_t0),Z2.MulRV(U_,k_.m_center,a_.s_t1),a_.s_t0),r_),O_=b_;O_.SetPositionRotation(X_,U_),i0.MulXX(O_,k_.m_transform,k_.m_transform);let K_=d_;K_.p.x=_n.inv_dt*O_.p.x,K_.p.y=_n.inv_dt*O_.p.y,K_.q.s=_n.inv_dt*O_.q.s,K_.q.c=_n.inv_dt*(O_.q.c-1);for(let a2=k_.m_firstIndex;a2<k_.m_lastIndex;a2++)i0.MulXV(K_,S_[a2],T_[a2])}}SolveElastic(_n){let r_=H2.SolveElastic_s_pa,p_=H2.SolveElastic_s_pb,b_=H2.SolveElastic_s_pc,d_=H2.SolveElastic_s_r,S_=H2.SolveElastic_s_t0,T_=this.m_positionBuffer.data,k_=this.m_velocityBuffer.data,U_=_n.inv_dt*this.m_def.elasticStrength;for(let X_=0;X_<this.m_triadBuffer.count;X_++){let O_=this.m_triadBuffer.data[X_];if(O_.flags&V.b2ParticleFlag.b2_elasticParticle){let K_=O_.indexA,a2=O_.indexB,v2=O_.indexC,M2=O_.pa,R2=O_.pb,N2=O_.pc,W2=r_.Copy(T_[K_]),Q2=p_.Copy(T_[a2]),ta=b_.Copy(T_[v2]),o0=k_[K_],l0=k_[a2],p0=k_[v2];W2.SelfMulAdd(_n.dt,o0),Q2.SelfMulAdd(_n.dt,l0),ta.SelfMulAdd(_n.dt,p0);let S0=(W2.x+Q2.x+ta.x)/3,h0=(W2.y+Q2.y+ta.y)/3;W2.x-=S0,W2.y-=h0,Q2.x-=S0,Q2.y-=h0,ta.x-=S0,ta.y-=h0;let G0=d_;G0.s=a_.CrossVV(M2,W2)+a_.CrossVV(R2,Q2)+a_.CrossVV(N2,ta),G0.c=a_.DotVV(M2,W2)+a_.DotVV(R2,Q2)+a_.DotVV(N2,ta);let E0=G0.s*G0.s+G0.c*G0.c,v0=xB(E0);isFinite(v0)||(v0=198177537e11),G0.s*=v0,G0.c*=v0;let m0=U_*O_.strength;Z2.MulRV(G0,M2,S_),a_.SubVV(S_,W2,S_),a_.MulSV(m0,S_,S_),o0.SelfAdd(S_),Z2.MulRV(G0,R2,S_),a_.SubVV(S_,Q2,S_),a_.MulSV(m0,S_,S_),l0.SelfAdd(S_),Z2.MulRV(G0,N2,S_),a_.SubVV(S_,ta,S_),a_.MulSV(m0,S_,S_),p0.SelfAdd(S_)}}}SolveSpring(_n){let r_=H2.SolveSpring_s_pa,p_=H2.SolveSpring_s_pb,b_=H2.SolveSpring_s_d,d_=H2.SolveSpring_s_f,S_=this.m_positionBuffer.data,T_=this.m_velocityBuffer.data,k_=_n.inv_dt*this.m_def.springStrength;for(let U_=0;U_<this.m_pairBuffer.count;U_++){let X_=this.m_pairBuffer.data[U_];if(X_.flags&V.b2ParticleFlag.b2_springParticle){let O_=X_.indexA,K_=X_.indexB,a2=r_.Copy(S_[O_]),v2=p_.Copy(S_[K_]),M2=T_[O_],R2=T_[K_];a2.SelfMulAdd(_n.dt,M2),v2.SelfMulAdd(_n.dt,R2);let N2=a_.SubVV(v2,a2,b_),W2=X_.distance,Q2=N2.Length(),ta=k_*X_.strength,o0=a_.MulSV(ta*(W2-Q2)/Q2,N2,d_);M2.SelfSub(o0),R2.SelfAdd(o0)}}}SolveTensile(_n){let r_=H2.SolveTensile_s_weightedNormal,p_=H2.SolveTensile_s_s,b_=H2.SolveTensile_s_f,d_=this.m_velocityBuffer.data;for(let X_=0;X_<this.m_count;X_++)this.m_accumulation2Buffer[X_]=new a_,this.m_accumulation2Buffer[X_].SetZero();for(let X_=0;X_<this.m_contactBuffer.count;X_++){let O_=this.m_contactBuffer.data[X_];if(O_.flags&V.b2ParticleFlag.b2_tensileParticle){let K_=O_.indexA,a2=O_.indexB,v2=O_.weight,M2=O_.normal,R2=a_.MulSV((1-v2)*v2,M2,r_);this.m_accumulation2Buffer[K_].SelfSub(R2),this.m_accumulation2Buffer[a2].SelfAdd(R2)}}let S_=this.GetCriticalVelocity(_n),T_=this.m_def.surfaceTensionPressureStrength*S_,k_=this.m_def.surfaceTensionNormalStrength*S_,U_=Z_*S_;for(let X_=0;X_<this.m_contactBuffer.count;X_++){let O_=this.m_contactBuffer.data[X_];if(O_.flags&V.b2ParticleFlag.b2_tensileParticle){let K_=O_.indexA,a2=O_.indexB,v2=O_.weight,M2=O_.normal,R2=this.m_weightBuffer[K_]+this.m_weightBuffer[a2],N2=a_.SubVV(this.m_accumulation2Buffer[a2],this.m_accumulation2Buffer[K_],p_),W2=k0(T_*(R2-2)+k_*a_.DotVV(N2,M2),U_)*v2,Q2=a_.MulSV(W2,M2,b_);d_[K_].SelfSub(Q2),d_[a2].SelfAdd(Q2)}}}SolveViscous(){let _n=H2.SolveViscous_s_v,r_=H2.SolveViscous_s_f,p_=this.m_positionBuffer.data,b_=this.m_velocityBuffer.data,d_=this.m_def.viscousStrength,S_=this.GetParticleInvMass();for(let T_=0;T_<this.m_bodyContactBuffer.count;T_++){let k_=this.m_bodyContactBuffer.data[T_],U_=k_.index;if(this.m_flagsBuffer.data[U_]&V.b2ParticleFlag.b2_viscousParticle){let X_=k_.body,O_=k_.weight,K_=k_.mass,a2=p_[U_],v2=a_.SubVV(X_.GetLinearVelocityFromWorldPoint(a2,a_.s_t0),b_[U_],_n),M2=a_.MulSV(d_*K_*O_,v2,r_);b_[U_].SelfMulAdd(S_,M2),X_.ApplyLinearImpulse(M2.SelfNeg(),a2,!0)}}for(let T_=0;T_<this.m_contactBuffer.count;T_++){let k_=this.m_contactBuffer.data[T_];if(k_.flags&V.b2ParticleFlag.b2_viscousParticle){let U_=k_.indexA,X_=k_.indexB,O_=k_.weight,K_=a_.SubVV(b_[X_],b_[U_],_n),a2=a_.MulSV(d_*O_,K_,r_);b_[U_].SelfAdd(a2),b_[X_].SelfSub(a2)}}}SolveRepulsive(_n){let r_=H2.SolveRepulsive_s_f,p_=this.m_velocityBuffer.data,b_=this.m_def.repulsiveStrength*this.GetCriticalVelocity(_n);for(let d_=0;d_<this.m_contactBuffer.count;d_++){let S_=this.m_contactBuffer.data[d_];if(S_.flags&V.b2ParticleFlag.b2_repulsiveParticle){let T_=S_.indexA,k_=S_.indexB;if(this.m_groupBuffer[T_]!==this.m_groupBuffer[k_]){let U_=S_.weight,X_=S_.normal,O_=a_.MulSV(b_*U_,X_,r_);p_[T_].SelfSub(O_),p_[k_].SelfAdd(O_)}}}}SolvePowder(_n){let r_=H2.SolvePowder_s_f,p_=this.m_positionBuffer.data,b_=this.m_velocityBuffer.data,d_=this.m_def.powderStrength*this.GetCriticalVelocity(_n),S_=1-$2,T_=this.GetParticleInvMass();for(let k_=0;k_<this.m_bodyContactBuffer.count;k_++){let U_=this.m_bodyContactBuffer.data[k_],X_=U_.index;if(this.m_flagsBuffer.data[X_]&V.b2ParticleFlag.b2_powderParticle){let O_=U_.weight;if(O_>S_){let K_=U_.body,a2=U_.mass,v2=p_[X_],M2=U_.normal,R2=a_.MulSV(d_*a2*(O_-S_),M2,r_);b_[X_].SelfMulSub(T_,R2),K_.ApplyLinearImpulse(R2,v2,!0)}}}for(let k_=0;k_<this.m_contactBuffer.count;k_++){let U_=this.m_contactBuffer.data[k_];if(U_.flags&V.b2ParticleFlag.b2_powderParticle){let X_=U_.weight;if(X_>S_){let O_=U_.indexA,K_=U_.indexB,a2=U_.normal,v2=a_.MulSV(d_*(X_-S_),a2,r_);b_[O_].SelfSub(v2),b_[K_].SelfAdd(v2)}}}}SolveSolid(_n){let r_=H2.SolveSolid_s_f,p_=this.m_velocityBuffer.data;this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer);let b_=_n.inv_dt*this.m_def.ejectionStrength;for(let d_=0;d_<this.m_contactBuffer.count;d_++){let S_=this.m_contactBuffer.data[d_],T_=S_.indexA,k_=S_.indexB;if(this.m_groupBuffer[T_]!==this.m_groupBuffer[k_]){let U_=S_.weight,X_=S_.normal,O_=this.m_depthBuffer[T_]+this.m_depthBuffer[k_],K_=a_.MulSV(b_*O_*U_,X_,r_);p_[T_].SelfSub(K_),p_[k_].SelfAdd(K_)}}}SolveForce(_n){let r_=this.m_velocityBuffer.data,p_=_n.dt*this.GetParticleInvMass();for(let b_=0;b_<this.m_count;b_++)r_[b_].SelfMulAdd(p_,this.m_forceBuffer[b_]);this.m_hasForce=!1}SolveColorMixing(){let _n=.5*this.m_def.colorMixingStrength;if(_n)for(let r_=0;r_<this.m_contactBuffer.count;r_++){let p_=this.m_contactBuffer.data[r_],b_=p_.indexA,d_=p_.indexB;if(this.m_flagsBuffer.data[b_]&this.m_flagsBuffer.data[d_]&V.b2ParticleFlag.b2_colorMixingParticle){let S_=this.m_colorBuffer.data[b_],T_=this.m_colorBuffer.data[d_];sy.MixColors(S_,T_,_n)}}}SolveZombie(){let _n=0,r_=[];for(let d_=0;d_<this.m_count;d_++)r_[d_]=z2;let p_=0;for(let d_=0;d_<this.m_count;d_++){let S_=this.m_flagsBuffer.data[d_];if(S_&V.b2ParticleFlag.b2_zombieParticle){let T_=this.m_world.m_destructionListener;if(S_&V.b2ParticleFlag.b2_destructionListenerParticle&&T_&&T_.SayGoodbyeParticle(this,d_),this.m_handleIndexBuffer.data){let k_=this.m_handleIndexBuffer.data[d_];k_&&(k_.SetIndex(z2),this.m_handleIndexBuffer.data[d_]=null)}r_[d_]=z2}else{if(r_[d_]=_n,d_!==_n){if(this.m_handleIndexBuffer.data){let T_=this.m_handleIndexBuffer.data[d_];T_&&T_.SetIndex(_n),this.m_handleIndexBuffer.data[_n]=T_}this.m_flagsBuffer.data[_n]=this.m_flagsBuffer.data[d_],this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[_n]=this.m_lastBodyContactStepBuffer.data[d_]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[_n]=this.m_bodyContactCountBuffer.data[d_]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[_n]=this.m_consecutiveContactStepsBuffer.data[d_]),this.m_positionBuffer.data[_n].Copy(this.m_positionBuffer.data[d_]),this.m_velocityBuffer.data[_n].Copy(this.m_velocityBuffer.data[d_]),this.m_groupBuffer[_n]=this.m_groupBuffer[d_],this.m_hasForce&&this.m_forceBuffer[_n].Copy(this.m_forceBuffer[d_]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[_n]=this.m_staticPressureBuffer[d_]),this.m_depthBuffer&&(this.m_depthBuffer[_n]=this.m_depthBuffer[d_]),this.m_colorBuffer.data&&this.m_colorBuffer.data[_n].Copy(this.m_colorBuffer.data[d_]),this.m_userDataBuffer.data&&(this.m_userDataBuffer.data[_n]=this.m_userDataBuffer.data[d_]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[_n]=this.m_expirationTimeBuffer.data[d_])}_n++,p_|=S_}}let b_={IsProxyInvalid:d_=>d_.index<0,IsContactInvalid:d_=>d_.indexA<0||d_.indexB<0,IsBodyContactInvalid:d_=>d_.index<0,IsPairInvalid:d_=>d_.indexA<0||d_.indexB<0,IsTriadInvalid:d_=>d_.indexA<0||d_.indexB<0||d_.indexC<0};for(let d_=0;d_<this.m_proxyBuffer.count;d_++){let S_=this.m_proxyBuffer.data[d_];S_.index=r_[S_.index]}this.m_proxyBuffer.RemoveIf(b_.IsProxyInvalid);for(let d_=0;d_<this.m_contactBuffer.count;d_++){let S_=this.m_contactBuffer.data[d_];S_.indexA=r_[S_.indexA],S_.indexB=r_[S_.indexB]}this.m_contactBuffer.RemoveIf(b_.IsContactInvalid);for(let d_=0;d_<this.m_bodyContactBuffer.count;d_++){let S_=this.m_bodyContactBuffer.data[d_];S_.index=r_[S_.index]}this.m_bodyContactBuffer.RemoveIf(b_.IsBodyContactInvalid);for(let d_=0;d_<this.m_pairBuffer.count;d_++){let S_=this.m_pairBuffer.data[d_];S_.indexA=r_[S_.indexA],S_.indexB=r_[S_.indexB]}this.m_pairBuffer.RemoveIf(b_.IsPairInvalid);for(let d_=0;d_<this.m_triadBuffer.count;d_++){let S_=this.m_triadBuffer.data[d_];S_.indexA=r_[S_.indexA],S_.indexB=r_[S_.indexB],S_.indexC=r_[S_.indexC]}if(this.m_triadBuffer.RemoveIf(b_.IsTriadInvalid),this.m_indexByExpirationTimeBuffer.data){let d_=0;for(let S_=0;S_<this.m_count;S_++){let T_=r_[this.m_indexByExpirationTimeBuffer.data[S_]];T_!==z2&&(this.m_indexByExpirationTimeBuffer.data[d_++]=T_)}}for(let d_=this.m_groupList;d_;d_=d_.GetNext()){let S_=_n,T_=0,k_=!1;for(let U_=d_.m_firstIndex;U_<d_.m_lastIndex;U_++){let X_=r_[U_];X_>=0?(S_=k0(S_,X_),T_=F0(T_,X_+1)):k_=!0}S_<T_?(d_.m_firstIndex=S_,d_.m_lastIndex=T_,k_&&d_.m_groupFlags&V.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SetGroupFlags(d_,d_.m_groupFlags|V.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth)):(d_.m_firstIndex=0,d_.m_lastIndex=0,d_.m_groupFlags&V.b2ParticleGroupFlag.b2_particleGroupCanBeEmpty||this.SetGroupFlags(d_,d_.m_groupFlags|V.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed))}this.m_count=_n,this.m_allParticleFlags=p_,this.m_needsUpdateAllParticleFlags=!1;for(let d_=this.m_groupList;d_;){let S_=d_.GetNext();d_.m_groupFlags&V.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed&&this.DestroyParticleGroup(d_),d_=S_}}SolveLifetimes(_n){this.m_timeElapsed=this.LifetimeToExpirationTime(_n.dt);let r_=this.GetQuantizedTimeElapsed(),p_=this.m_expirationTimeBuffer.data,b_=this.m_indexByExpirationTimeBuffer.data,d_=this.GetParticleCount();this.m_expirationTimeBufferRequiresSorting&&(aV(b_,0,d_,(T_,k_)=>{let U_=p_[T_],X_=p_[k_],O_=U_<=0,K_=X_<=0;return O_===K_?U_>X_:O_}),this.m_expirationTimeBufferRequiresSorting=!1);for(let S_=d_-1;S_>=0;--S_){let T_=b_[S_],k_=p_[T_];if(r_<k_||k_<=0)break;this.DestroyParticle(T_)}}RotateBuffer(_n,r_,p_){if(_n===r_||r_===p_)return;function b_(d_){return d_<_n?d_:d_<r_?d_+p_-r_:d_<p_?d_+_n-r_:d_}if(YA(this.m_flagsBuffer.data,_n,r_,p_),this.m_lastBodyContactStepBuffer.data&&YA(this.m_lastBodyContactStepBuffer.data,_n,r_,p_),this.m_bodyContactCountBuffer.data&&YA(this.m_bodyContactCountBuffer.data,_n,r_,p_),this.m_consecutiveContactStepsBuffer.data&&YA(this.m_consecutiveContactStepsBuffer.data,_n,r_,p_),YA(this.m_positionBuffer.data,_n,r_,p_),YA(this.m_velocityBuffer.data,_n,r_,p_),YA(this.m_groupBuffer,_n,r_,p_),this.m_hasForce&&YA(this.m_forceBuffer,_n,r_,p_),this.m_staticPressureBuffer&&YA(this.m_staticPressureBuffer,_n,r_,p_),this.m_depthBuffer&&YA(this.m_depthBuffer,_n,r_,p_),this.m_colorBuffer.data&&YA(this.m_colorBuffer.data,_n,r_,p_),this.m_userDataBuffer.data&&YA(this.m_userDataBuffer.data,_n,r_,p_),this.m_handleIndexBuffer.data){YA(this.m_handleIndexBuffer.data,_n,r_,p_);for(let d_=_n;d_<p_;++d_){let S_=this.m_handleIndexBuffer.data[d_];S_&&S_.SetIndex(b_(S_.GetIndex()))}}if(this.m_expirationTimeBuffer.data){YA(this.m_expirationTimeBuffer.data,_n,r_,p_);let d_=this.GetParticleCount(),S_=this.m_indexByExpirationTimeBuffer.data;for(let T_=0;T_<d_;++T_)S_[T_]=b_(S_[T_])}for(let d_=0;d_<this.m_proxyBuffer.count;d_++){let S_=this.m_proxyBuffer.data[d_];S_.index=b_(S_.index)}for(let d_=0;d_<this.m_contactBuffer.count;d_++){let S_=this.m_contactBuffer.data[d_];S_.indexA=b_(S_.indexA),S_.indexB=b_(S_.indexB)}for(let d_=0;d_<this.m_bodyContactBuffer.count;d_++){let S_=this.m_bodyContactBuffer.data[d_];S_.index=b_(S_.index)}for(let d_=0;d_<this.m_pairBuffer.count;d_++){let S_=this.m_pairBuffer.data[d_];S_.indexA=b_(S_.indexA),S_.indexB=b_(S_.indexB)}for(let d_=0;d_<this.m_triadBuffer.count;d_++){let S_=this.m_triadBuffer.data[d_];S_.indexA=b_(S_.indexA),S_.indexB=b_(S_.indexB),S_.indexC=b_(S_.indexC)}for(let d_=this.m_groupList;d_;d_=d_.GetNext())d_.m_firstIndex=b_(d_.m_firstIndex),d_.m_lastIndex=b_(d_.m_lastIndex-1)+1}GetCriticalVelocity(_n){return this.m_particleDiameter*_n.inv_dt}GetCriticalVelocitySquared(_n){let r_=this.GetCriticalVelocity(_n);return r_*r_}GetCriticalPressure(_n){return this.m_def.density*this.GetCriticalVelocitySquared(_n)}GetParticleStride(){return $2*this.m_particleDiameter}GetParticleMass(){let _n=this.GetParticleStride();return this.m_def.density*_n*_n}GetParticleInvMass(){let _n=this.m_inverseDiameter*(1/$2);return this.m_inverseDensity*_n*_n}GetFixtureContactFilter(){return this.m_allParticleFlags&V.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null}GetParticleContactFilter(){return this.m_allParticleFlags&V.b2ParticleFlag.b2_particleContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null}GetFixtureContactListener(){return this.m_allParticleFlags&V.b2ParticleFlag.b2_fixtureContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null}GetParticleContactListener(){return this.m_allParticleFlags&V.b2ParticleFlag.b2_particleContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null}SetUserOverridableBuffer(_n,r_){_n.data=r_,_n.userSuppliedCapacity=r_.length}SetGroupFlags(_n,r_){let p_=_n.m_groupFlags;(p_^r_)&V.b2ParticleGroupFlag.b2_solidParticleGroup&&(r_|=V.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth),p_&~r_&&(this.m_needsUpdateAllGroupFlags=!0),~this.m_allGroupFlags&r_&&(r_&V.b2ParticleGroupFlag.b2_solidParticleGroup&&(this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer)),this.m_allGroupFlags|=r_),_n.m_groupFlags=r_}static BodyContactCompare(_n,r_){return _n.index===r_.index?_n.weight>r_.weight:_n.index<r_.index}RemoveSpuriousBodyContacts(){aV(this.m_bodyContactBuffer.data,0,this.m_bodyContactBuffer.count,H2.BodyContactCompare);let _n=H2.RemoveSpuriousBodyContacts_s_n,r_=H2.RemoveSpuriousBodyContacts_s_pos,p_=H2.RemoveSpuriousBodyContacts_s_normal,b_=3,d_=this,S_=-1,T_=0,k_=U_=>{if(U_.index!==S_&&(T_=0,S_=U_.index),T_++>b_)return!0;let X_=_n.Copy(U_.normal);X_.SelfMul(d_.m_particleDiameter*(1-U_.weight));let O_=a_.AddVV(d_.m_positionBuffer.data[U_.index],X_,r_);if(!U_.fixture.TestPoint(O_)){let K_=U_.fixture.GetShape().GetChildCount();for(let a2=0;a2<K_;a2++){let v2=p_;if(U_.fixture.ComputeDistance(O_,v2,a2)<ws)return!1}return!0}return!1};this.m_bodyContactBuffer.count=LM(this.m_bodyContactBuffer.data,k_,this.m_bodyContactBuffer.count)}DetectStuckParticle(_n){this.m_stuckThreshold<=0||(++this.m_bodyContactCountBuffer.data[_n],this.m_bodyContactCountBuffer.data[_n]===2&&(++this.m_consecutiveContactStepsBuffer.data[_n],this.m_consecutiveContactStepsBuffer.data[_n]>this.m_stuckThreshold&&(this.m_stuckParticleBuffer.data[this.m_stuckParticleBuffer.Append()]=_n)),this.m_lastBodyContactStepBuffer.data[_n]=this.m_timestamp)}ValidateParticleIndex(_n){return _n>=0&&_n<this.GetParticleCount()&&_n!==z2}GetQuantizedTimeElapsed(){return Math.floor(this.m_timeElapsed/4294967296)}LifetimeToExpirationTime(_n){return this.m_timeElapsed+Math.floor(_n/this.m_def.lifetimeGranularity*4294967296)}ForceCanBeApplied(_n){return!(_n&V.b2ParticleFlag.b2_wallParticle)}PrepareForceBuffer(){if(!this.m_hasForce){for(let _n=0;_n<this.m_count;_n++)this.m_forceBuffer[_n].SetZero();this.m_hasForce=!0}}IsRigidGroup(_n){return _n!==null&&(_n.m_groupFlags&V.b2ParticleGroupFlag.b2_rigidParticleGroup)!==0}GetLinearVelocity(_n,r_,p_,b_){return _n&&this.IsRigidGroup(_n)?_n.GetLinearVelocityFromWorldPoint(p_,b_):b_.Copy(this.m_velocityBuffer.data[r_])}InitDampingParameter(_n,r_,p_,b_,d_,S_,T_,k_){_n[0]=b_>0?1/b_:0,r_[0]=d_>0?1/d_:0,p_[0]=a_.CrossVV(a_.SubVV(T_,S_,a_.s_t0),k_)}InitDampingParameterWithRigidGroupOrParticle(_n,r_,p_,b_,d_,S_,T_,k_){if(d_&&b_)this.InitDampingParameter(_n,r_,p_,d_.GetMass(),d_.GetInertia(),d_.GetCenter(),T_,k_);else{let U_=this.m_flagsBuffer.data[S_];this.InitDampingParameter(_n,r_,p_,U_&V.b2ParticleFlag.b2_wallParticle?0:this.GetParticleMass(),0,T_,T_,k_)}}ComputeDampingImpulse(_n,r_,p_,b_,d_,S_,T_){let k_=_n+r_*p_*p_+b_+d_*S_*S_;return k_>0?T_/k_:0}ApplyDamping(_n,r_,p_,b_,d_,S_,T_,k_){d_&&b_?(d_.m_linearVelocity.SelfMulAdd(T_*_n,k_),d_.m_angularVelocity+=T_*p_*r_):this.m_velocityBuffer.data[S_].SelfMulAdd(T_*_n,k_)}}H2.xTruncBits=12,H2.yTruncBits=12,H2.tagBits=8*4,H2.yOffset=1<<H2.yTruncBits-1,H2.yShift=H2.tagBits-H2.yTruncBits,H2.xShift=H2.tagBits-H2.yTruncBits-H2.xTruncBits,H2.xScale=1<<H2.xShift,H2.xOffset=H2.xScale*(1<<H2.xTruncBits-1),H2.yMask=(1<<H2.yTruncBits)-1<<H2.yShift,H2.xMask=~H2.yMask,H2.DestroyParticlesInShape_s_aabb=new bA,H2.CreateParticleGroup_s_transform=new i0,H2.ComputeCollisionEnergy_s_v=new a_,H2.QueryShapeAABB_s_aabb=new bA,H2.QueryPointAABB_s_aabb=new bA,H2.RayCast_s_aabb=new bA,H2.RayCast_s_p=new a_,H2.RayCast_s_v=new a_,H2.RayCast_s_n=new a_,H2.RayCast_s_point=new a_,H2.k_pairFlags=V.b2ParticleFlag.b2_springParticle,H2.k_triadFlags=V.b2ParticleFlag.b2_elasticParticle,H2.k_noPressureFlags=V.b2ParticleFlag.b2_powderParticle|V.b2ParticleFlag.b2_tensileParticle,H2.k_extraDampingFlags=V.b2ParticleFlag.b2_staticPressureParticle,H2.k_barrierWallFlags=V.b2ParticleFlag.b2_barrierParticle|V.b2ParticleFlag.b2_wallParticle,H2.CreateParticlesStrokeShapeForGroup_s_edge=new Qy,H2.CreateParticlesStrokeShapeForGroup_s_d=new a_,H2.CreateParticlesStrokeShapeForGroup_s_p=new a_,H2.CreateParticlesFillShapeForGroup_s_aabb=new bA,H2.CreateParticlesFillShapeForGroup_s_p=new a_,H2.UpdatePairsAndTriads_s_dab=new a_,H2.UpdatePairsAndTriads_s_dbc=new a_,H2.UpdatePairsAndTriads_s_dca=new a_,H2.AddContact_s_d=new a_,H2.UpdateBodyContacts_s_aabb=new bA,H2.Solve_s_subStep=new HC,H2.SolveCollision_s_aabb=new bA,H2.SolveGravity_s_gravity=new a_,H2.SolveBarrier_s_aabb=new bA,H2.SolveBarrier_s_va=new a_,H2.SolveBarrier_s_vb=new a_,H2.SolveBarrier_s_pba=new a_,H2.SolveBarrier_s_vba=new a_,H2.SolveBarrier_s_vc=new a_,H2.SolveBarrier_s_pca=new a_,H2.SolveBarrier_s_vca=new a_,H2.SolveBarrier_s_qba=new a_,H2.SolveBarrier_s_qca=new a_,H2.SolveBarrier_s_dv=new a_,H2.SolveBarrier_s_f=new a_,H2.SolvePressure_s_f=new a_,H2.SolveDamping_s_v=new a_,H2.SolveDamping_s_f=new a_,H2.SolveRigidDamping_s_t0=new a_,H2.SolveRigidDamping_s_t1=new a_,H2.SolveRigidDamping_s_p=new a_,H2.SolveRigidDamping_s_v=new a_,H2.SolveExtraDamping_s_v=new a_,H2.SolveExtraDamping_s_f=new a_,H2.SolveRigid_s_position=new a_,H2.SolveRigid_s_rotation=new Z2,H2.SolveRigid_s_transform=new i0,H2.SolveRigid_s_velocityTransform=new i0,H2.SolveElastic_s_pa=new a_,H2.SolveElastic_s_pb=new a_,H2.SolveElastic_s_pc=new a_,H2.SolveElastic_s_r=new Z2,H2.SolveElastic_s_t0=new a_,H2.SolveSpring_s_pa=new a_,H2.SolveSpring_s_pb=new a_,H2.SolveSpring_s_d=new a_,H2.SolveSpring_s_f=new a_,H2.SolveTensile_s_weightedNormal=new a_,H2.SolveTensile_s_s=new a_,H2.SolveTensile_s_f=new a_,H2.SolveViscous_s_v=new a_,H2.SolveViscous_s_f=new a_,H2.SolveRepulsive_s_f=new a_,H2.SolvePowder_s_f=new a_,H2.SolveSolid_s_f=new a_,H2.RemoveSpuriousBodyContacts_s_n=new a_,H2.RemoveSpuriousBodyContacts_s_pos=new a_,H2.RemoveSpuriousBodyContacts_s_normal=new a_;class xS{constructor(){this._data=null,this.userSuppliedCapacity=0}get data(){return this._data}set data(_n){this._data=_n}}class KC{constructor(){this.index=z2,this.tag=0}static CompareProxyProxy(_n,r_){return _n.tag<r_.tag}static CompareTagProxy(_n,r_){return _n<r_.tag}static CompareProxyTag(_n,r_){return _n.tag<r_}}class NM{constructor(_n,r_,p_,b_,d_){this.m_system=_n,this.m_xLower=(r_&H2.xMask)>>>0,this.m_xUpper=(p_&H2.xMask)>>>0,this.m_yLower=(r_&H2.yMask)>>>0,this.m_yUpper=(p_&H2.yMask)>>>0,this.m_first=b_,this.m_last=d_}GetNext(){for(;this.m_first<this.m_last;){let _n=(this.m_system.m_proxyBuffer.data[this.m_first].tag&H2.xMask)>>>0;if(_n>=this.m_xLower&&_n<=this.m_xUpper)return this.m_system.m_proxyBuffer.data[this.m_first++].index;this.m_first++}return z2}}class OM{constructor(){this.next=null,this.count=0,this.index=0}}class S4{Allocate(_n,r_){return r_}Clear(){}GetCount(){return 0}Invalidate(_n){}GetValidBuffer(){return[]}GetBuffer(){return[]}SetCount(_n){}}class mG{constructor(_n,r_){this.second=z2,this.first=_n,this.second=r_}}class UM extends S4{Initialize(_n,r_){}Find(_n){return z2}}class bG{constructor(_n,r_){this.first=z2,this.second=z2,this.first=_n,this.second=r_}}class XM extends S4{Initialize(_n,r_){}Find(_n){return z2}}class cV{IsNecessary(_n){return!0}ShouldCreatePair(_n,r_){return!0}ShouldCreateTriad(_n,r_,p_){return!0}}class YM extends ES{constructor(_n,r_,p_,b_){super(),this.m_callDestructionListener=!1,this.m_destroyed=0,this.m_system=_n,this.m_shape=r_,this.m_xf=p_,this.m_callDestructionListener=b_,this.m_destroyed=0}ReportFixture(_n){return!1}ReportParticle(_n,r_){return _n!==this.m_system?!1:(this.m_shape.TestPoint(this.m_xf,this.m_system.m_positionBuffer.data[r_])&&(this.m_system.DestroyParticle(r_,this.m_callDestructionListener),this.m_destroyed++),!0)}Destroyed(){return this.m_destroyed}}class HM extends cV{constructor(_n){super(),this.m_threshold=0,this.m_threshold=_n}ShouldCreatePair(_n,r_){return _n<this.m_threshold&&this.m_threshold<=r_||r_<this.m_threshold&&this.m_threshold<=_n}ShouldCreateTriad(_n,r_,p_){return(_n<this.m_threshold||r_<this.m_threshold||p_<this.m_threshold)&&(this.m_threshold<=_n||this.m_threshold<=r_||this.m_threshold<=p_)}}class ZM extends OC{constructor(_n,r_=_n.length){super(V.b2ShapeType.e_unknown,0),this.m_shapeCount=0,this.m_shapes=_n,this.m_shapeCount=r_}Clone(){throw new Error}GetChildCount(){return 1}TestPoint(_n,r_){for(let p_=0;p_<this.m_shapeCount;p_++)if(this.m_shapes[p_].TestPoint(_n,r_))return!0;return!1}ComputeDistance(_n,r_,p_,b_){return 0}RayCast(_n,r_,p_,b_){return!1}ComputeAABB(_n,r_,p_){let b_=new bA;_n.lowerBound.x=+_o,_n.lowerBound.y=+_o,_n.upperBound.x=-_o,_n.upperBound.y=-_o;for(let d_=0;d_<this.m_shapeCount;d_++){let S_=this.m_shapes[d_].GetChildCount();for(let T_=0;T_<S_;T_++){let k_=b_;this.m_shapes[d_].ComputeAABB(k_,r_,T_),_n.Combine1(k_)}}}ComputeMass(_n,r_){}SetupDistanceProxy(_n,r_){}ComputeSubmergedArea(_n,r_,p_,b_){return 0}Dump(_n){}}class KM extends cV{constructor(_n){super(),this.m_flagsBuffer=_n}IsNecessary(_n){return(this.m_flagsBuffer.data[_n]&V.b2ParticleFlag.b2_reactiveParticle)!==0}}class QC extends A4{constructor(_n,r_=null){super(_n),this.m_contactFilter=null,this.m_contactFilter=r_}ShouldCollideFixtureParticle(_n,r_,p_){return this.m_contactFilter&&this.m_system.GetFlagsBuffer()[p_]&V.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_contactFilter.ShouldCollideFixtureParticle(_n,this.m_system,p_):!0}ReportFixtureAndParticle(_n,r_,p_){let b_=QC.ReportFixtureAndParticle_s_n,d_=QC.ReportFixtureAndParticle_s_rp,S_=this.m_system.m_positionBuffer.data[p_],T_=b_,k_=_n.ComputeDistance(S_,T_,r_);if(k_<this.m_system.m_particleDiameter&&this.ShouldCollideFixtureParticle(_n,this.m_system,p_)){let U_=_n.GetBody(),X_=U_.GetWorldCenter(),O_=U_.GetMass(),K_=U_.GetInertia()-O_*U_.GetLocalCenter().LengthSquared(),a2=O_>0?1/O_:0,v2=K_>0?1/K_:0,M2=this.m_system.m_flagsBuffer.data[p_]&V.b2ParticleFlag.b2_wallParticle?0:this.m_system.GetParticleInvMass(),R2=a_.SubVV(S_,X_,d_),N2=a_.CrossVV(R2,T_),W2=M2+a2+v2*N2*N2,Q2=this.m_system.m_bodyContactBuffer.data[this.m_system.m_bodyContactBuffer.Append()];Q2.index=p_,Q2.body=U_,Q2.fixture=_n,Q2.weight=1-k_*this.m_system.m_inverseDiameter,Q2.normal.Copy(T_.SelfNeg()),Q2.mass=W2>0?1/W2:0,this.m_system.DetectStuckParticle(p_)}}}QC.ReportFixtureAndParticle_s_n=new a_,QC.ReportFixtureAndParticle_s_rp=new a_;class zA extends A4{constructor(_n,r_){super(_n),this.m_step=r_}ReportFixtureAndParticle(_n,r_,p_){let b_=zA.ReportFixtureAndParticle_s_p1,d_=zA.ReportFixtureAndParticle_s_output,S_=zA.ReportFixtureAndParticle_s_input,T_=zA.ReportFixtureAndParticle_s_p,k_=zA.ReportFixtureAndParticle_s_v,U_=zA.ReportFixtureAndParticle_s_f,X_=_n.GetBody(),O_=this.m_system.m_positionBuffer.data[p_],K_=this.m_system.m_velocityBuffer.data[p_],a2=d_,v2=S_;if(this.m_system.m_iterationIndex===0){let M2=i0.MulTXV(X_.m_xf0,O_,b_);_n.GetShape().GetType()===V.b2ShapeType.e_circleShape&&(M2.SelfSub(X_.GetLocalCenter()),Z2.MulRV(X_.m_xf0.q,M2,M2),Z2.MulTRV(X_.m_xf.q,M2,M2),M2.SelfAdd(X_.GetLocalCenter())),i0.MulXV(X_.m_xf,M2,v2.p1)}else v2.p1.Copy(O_);if(a_.AddVMulSV(O_,this.m_step.dt,K_,v2.p2),v2.maxFraction=1,_n.RayCast(a2,v2,r_)){let M2=a2.normal,R2=T_;R2.x=(1-a2.fraction)*v2.p1.x+a2.fraction*v2.p2.x+ws*M2.x,R2.y=(1-a2.fraction)*v2.p1.y+a2.fraction*v2.p2.y+ws*M2.y;let N2=k_;N2.x=this.m_step.inv_dt*(R2.x-O_.x),N2.y=this.m_step.inv_dt*(R2.y-O_.y),this.m_system.m_velocityBuffer.data[p_].Copy(N2);let W2=U_;W2.x=this.m_step.inv_dt*this.m_system.GetParticleMass()*(K_.x-N2.x),W2.y=this.m_step.inv_dt*this.m_system.GetParticleMass()*(K_.y-N2.y),this.m_system.ParticleApplyForce(p_,W2)}}ReportParticle(_n,r_){return!1}}zA.ReportFixtureAndParticle_s_p1=new a_,zA.ReportFixtureAndParticle_s_output=new s4,zA.ReportFixtureAndParticle_s_input=new $P,zA.ReportFixtureAndParticle_s_p=new a_,zA.ReportFixtureAndParticle_s_v=new a_,zA.ReportFixtureAndParticle_s_f=new a_;class $0{constructor(_n){this.m_newFixture=!1,this.m_locked=!1,this.m_clearForces=!0,this.m_contactManager=new MM,this.m_bodyList=null,this.m_jointList=null,this.m_particleSystemList=null,this.m_bodyCount=0,this.m_jointCount=0,this.m_gravity=new a_,this.m_allowSleep=!0,this.m_destructionListener=null,this.m_debugDraw=null,this.m_inv_dt0=0,this.m_warmStarting=!0,this.m_continuousPhysics=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new f4,this.m_island=new uA,this.s_stack=[],this.m_controllerList=null,this.m_controllerCount=0,this.m_gravity.Copy(_n)}SetDestructionListener(_n){this.m_destructionListener=_n}SetContactFilter(_n){this.m_contactManager.m_contactFilter=_n}SetContactListener(_n){this.m_contactManager.m_contactListener=_n}SetDebugDraw(_n){this.m_debugDraw=_n}CreateBody(_n={}){if(this.IsLocked())throw new Error;let r_=new wA(_n,this);return r_.m_prev=null,r_.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=r_),this.m_bodyList=r_,++this.m_bodyCount,r_}DestroyBody(_n){if(this.IsLocked())throw new Error;let r_=_n.m_jointList;for(;r_;){let S_=r_;r_=r_.next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(S_.joint),this.DestroyJoint(S_.joint),_n.m_jointList=r_}_n.m_jointList=null;let p_=_n.m_controllerList;for(;p_;){let S_=p_;p_=p_.nextController,S_.controller.RemoveBody(_n)}let b_=_n.m_contactList;for(;b_;){let S_=b_;b_=b_.next,this.m_contactManager.Destroy(S_.contact)}_n.m_contactList=null;let d_=_n.m_fixtureList;for(;d_;){let S_=d_;d_=d_.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(S_),S_.DestroyProxies(),S_.Reset(),_n.m_fixtureList=d_,_n.m_fixtureCount-=1}_n.m_fixtureList=null,_n.m_fixtureCount=0,_n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),_n===this.m_bodyList&&(this.m_bodyList=_n.m_next),--this.m_bodyCount}static _Joint_Create(_n){switch(_n.type){case V.b2JointType.e_distanceJoint:return new _S(_n);case V.b2JointType.e_mouseJoint:return new rC(_n);case V.b2JointType.e_prismaticJoint:return new Ey(_n);case V.b2JointType.e_revoluteJoint:return new z1(_n);case V.b2JointType.e_pulleyJoint:return new L1(_n);case V.b2JointType.e_gearJoint:return new P1(_n);case V.b2JointType.e_wheelJoint:return new XA(_n);case V.b2JointType.e_weldJoint:return new W1(_n);case V.b2JointType.e_frictionJoint:return new oC(_n);case V.b2JointType.e_ropeJoint:return new aS(_n);case V.b2JointType.e_motorJoint:return new iC(_n);case V.b2JointType.e_areaJoint:return new CM(_n)}throw new Error}static _Joint_Destroy(_n){}CreateJoint(_n){if(this.IsLocked())throw new Error;let r_=$0._Joint_Create(_n);r_.m_prev=null,r_.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=r_),this.m_jointList=r_,++this.m_jointCount,r_.m_edgeA.prev=null,r_.m_edgeA.next=r_.m_bodyA.m_jointList,r_.m_bodyA.m_jointList&&(r_.m_bodyA.m_jointList.prev=r_.m_edgeA),r_.m_bodyA.m_jointList=r_.m_edgeA,r_.m_edgeB.prev=null,r_.m_edgeB.next=r_.m_bodyB.m_jointList,r_.m_bodyB.m_jointList&&(r_.m_bodyB.m_jointList.prev=r_.m_edgeB),r_.m_bodyB.m_jointList=r_.m_edgeB;let p_=r_.m_bodyA,b_=r_.m_bodyB;if(!r_.m_collideConnected){let S_=b_.GetContactList();for(;S_;)S_.other===p_&&S_.contact.FlagForFiltering(),S_=S_.next}return r_}DestroyJoint(_n){if(this.IsLocked())throw new Error;_n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),_n===this.m_jointList&&(this.m_jointList=_n.m_next);let r_=_n.m_bodyA,p_=_n.m_bodyB,b_=_n.m_collideConnected;if(r_.SetAwake(!0),p_.SetAwake(!0),_n.m_edgeA.prev&&(_n.m_edgeA.prev.next=_n.m_edgeA.next),_n.m_edgeA.next&&(_n.m_edgeA.next.prev=_n.m_edgeA.prev),_n.m_edgeA===r_.m_jointList&&(r_.m_jointList=_n.m_edgeA.next),_n.m_edgeA.Reset(),_n.m_edgeB.prev&&(_n.m_edgeB.prev.next=_n.m_edgeB.next),_n.m_edgeB.next&&(_n.m_edgeB.next.prev=_n.m_edgeB.prev),_n.m_edgeB===p_.m_jointList&&(p_.m_jointList=_n.m_edgeB.next),_n.m_edgeB.Reset(),$0._Joint_Destroy(_n),--this.m_jointCount,!b_){let d_=p_.GetContactList();for(;d_;)d_.other===r_&&d_.contact.FlagForFiltering(),d_=d_.next}}CreateParticleSystem(_n){if(this.IsLocked())throw new Error;let r_=new H2(_n,this);return r_.m_prev=null,r_.m_next=this.m_particleSystemList,this.m_particleSystemList&&(this.m_particleSystemList.m_prev=r_),this.m_particleSystemList=r_,r_}DestroyParticleSystem(_n){if(this.IsLocked())throw new Error;_n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),_n===this.m_particleSystemList&&(this.m_particleSystemList=_n.m_next)}CalculateReasonableParticleIterations(_n){if(this.m_particleSystemList===null)return 1;function r_(p_){let b_=_o;for(let d_=p_.GetParticleSystemList();d_!==null;d_=d_.m_next)b_=k0(b_,d_.GetRadius());return b_}return JM(this.m_gravity.Length(),r_(this),_n)}Step(_n,r_,p_,b_=this.CalculateReasonableParticleIterations(_n)){let d_=$0.Step_s_stepTimer.Reset();this.m_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_newFixture=!1),this.m_locked=!0;let S_=$0.Step_s_step;S_.dt=_n,S_.velocityIterations=r_,S_.positionIterations=p_,S_.particleIterations=b_,_n>0?S_.inv_dt=1/_n:S_.inv_dt=0,S_.dtRatio=this.m_inv_dt0*_n,S_.warmStarting=this.m_warmStarting;let T_=$0.Step_s_timer.Reset();if(this.m_contactManager.Collide(),this.m_profile.collide=T_.GetMilliseconds(),this.m_stepComplete&&S_.dt>0){let k_=$0.Step_s_timer.Reset();for(let U_=this.m_particleSystemList;U_;U_=U_.m_next)U_.Solve(S_);this.Solve(S_),this.m_profile.solve=k_.GetMilliseconds()}if(this.m_continuousPhysics&&S_.dt>0){let k_=$0.Step_s_timer.Reset();this.SolveTOI(S_),this.m_profile.solveTOI=k_.GetMilliseconds()}S_.dt>0&&(this.m_inv_dt0=S_.inv_dt),this.m_clearForces&&this.ClearForces(),this.m_locked=!1,this.m_profile.step=d_.GetMilliseconds()}ClearForces(){for(let _n=this.m_bodyList;_n;_n=_n.m_next)_n.m_force.SetZero(),_n.m_torque=0}DrawParticleSystem(_n){if(this.m_debugDraw===null)return;let r_=_n.GetParticleCount();if(r_){let p_=_n.GetRadius(),b_=_n.GetPositionBuffer();if(_n.m_colorBuffer.data){let d_=_n.GetColorBuffer();this.m_debugDraw.DrawParticles(b_,p_,d_,r_)}else this.m_debugDraw.DrawParticles(b_,p_,null,r_)}}DrawDebugData(){if(this.m_debugDraw===null)return;let _n=this.m_debugDraw.GetFlags(),r_=$0.DrawDebugData_s_color.SetRGB(0,0,0);if(_n&V.b2DrawFlags.e_shapeBit)for(let p_=this.m_bodyList;p_;p_=p_.m_next){let b_=p_.m_xf;this.m_debugDraw.PushTransform(b_);for(let d_=p_.GetFixtureList();d_;d_=d_.m_next)p_.IsActive()?p_.GetType()===V.b2BodyType.b2_staticBody?(r_.SetRGB(.5,.9,.5),this.DrawShape(d_,r_)):p_.GetType()===V.b2BodyType.b2_kinematicBody?(r_.SetRGB(.5,.5,.9),this.DrawShape(d_,r_)):p_.IsAwake()?(r_.SetRGB(.9,.7,.7),this.DrawShape(d_,r_)):(r_.SetRGB(.6,.6,.6),this.DrawShape(d_,r_)):(r_.SetRGB(.5,.5,.3),this.DrawShape(d_,r_));this.m_debugDraw.PopTransform(b_)}if(_n&V.b2DrawFlags.e_particleBit)for(let p_=this.m_particleSystemList;p_;p_=p_.m_next)this.DrawParticleSystem(p_);if(_n&V.b2DrawFlags.e_jointBit)for(let p_=this.m_jointList;p_;p_=p_.m_next)this.DrawJoint(p_);if(_n&V.b2DrawFlags.e_aabbBit){r_.SetRGB(.9,.3,.9);let p_=$0.DrawDebugData_s_vs;for(let b_=this.m_bodyList;b_;b_=b_.m_next)if(b_.IsActive())for(let d_=b_.GetFixtureList();d_;d_=d_.m_next)for(let S_=0;S_<d_.m_proxyCount;++S_){let k_=d_.m_proxies[S_].treeNode.aabb;p_[0].Set(k_.lowerBound.x,k_.lowerBound.y),p_[1].Set(k_.upperBound.x,k_.lowerBound.y),p_[2].Set(k_.upperBound.x,k_.upperBound.y),p_[3].Set(k_.lowerBound.x,k_.upperBound.y),this.m_debugDraw.DrawPolygon(p_,4,r_)}}if(_n&V.b2DrawFlags.e_centerOfMassBit)for(let p_=this.m_bodyList;p_;p_=p_.m_next){let b_=$0.DrawDebugData_s_xf;b_.q.Copy(p_.m_xf.q),b_.p.Copy(p_.GetWorldCenter()),this.m_debugDraw.DrawTransform(b_)}if(_n&V.b2DrawFlags.e_controllerBit)for(let p_=this.m_controllerList;p_;p_=p_.m_next)p_.Draw(this.m_debugDraw)}QueryAABB(..._n){_n[0]instanceof ES?this._QueryAABB(_n[0],_n[1]):this._QueryAABB(null,_n[0],_n[1])}_QueryAABB(_n,r_,p_){if(this.m_contactManager.m_broadPhase.Query(r_,b_=>{let S_=b_.userData.fixture;return _n?_n.ReportFixture(S_):p_?p_(S_):!0}),_n instanceof ES)for(let b_=this.m_particleSystemList;b_;b_=b_.m_next)_n.ShouldQueryParticleSystem(b_)&&b_.QueryAABB(_n,r_)}QueryAllAABB(_n,r_=[]){return this.QueryAABB(_n,p_=>(r_.push(p_),!0)),r_}QueryPointAABB(..._n){_n[0]instanceof ES?this._QueryPointAABB(_n[0],_n[1]):this._QueryPointAABB(null,_n[0],_n[1])}_QueryPointAABB(_n,r_,p_){if(this.m_contactManager.m_broadPhase.QueryPoint(r_,b_=>{let S_=b_.userData.fixture;return _n?_n.ReportFixture(S_):p_?p_(S_):!0}),_n instanceof ES)for(let b_=this.m_particleSystemList;b_;b_=b_.m_next)_n.ShouldQueryParticleSystem(b_)&&b_.QueryPointAABB(_n,r_)}QueryAllPointAABB(_n,r_=[]){return this.QueryPointAABB(_n,p_=>(r_.push(p_),!0)),r_}QueryFixtureShape(..._n){_n[0]instanceof ES?this._QueryFixtureShape(_n[0],_n[1],_n[2],_n[3]):this._QueryFixtureShape(null,_n[0],_n[1],_n[2],_n[3])}_QueryFixtureShape(_n,r_,p_,b_,d_){let S_=$0.QueryFixtureShape_s_aabb;if(r_.ComputeAABB(S_,b_,p_),this.m_contactManager.m_broadPhase.Query(S_,T_=>{let k_=T_.userData,U_=k_.fixture;if(a4(r_,p_,U_.GetShape(),k_.childIndex,b_,U_.GetBody().GetTransform())){if(_n)return _n.ReportFixture(U_);if(d_)return d_(U_)}return!0}),_n instanceof ES)for(let T_=this.m_particleSystemList;T_;T_=T_.m_next)_n.ShouldQueryParticleSystem(T_)&&T_.QueryAABB(_n,S_)}QueryAllFixtureShape(_n,r_,p_,b_=[]){return this.QueryFixtureShape(_n,r_,p_,d_=>(b_.push(d_),!0)),b_}QueryFixturePoint(..._n){_n[0]instanceof ES?this._QueryFixturePoint(_n[0],_n[1]):this._QueryFixturePoint(null,_n[0],_n[1])}_QueryFixturePoint(_n,r_,p_){if(this.m_contactManager.m_broadPhase.QueryPoint(r_,b_=>{let S_=b_.userData.fixture;if(S_.TestPoint(r_)){if(_n)return _n.ReportFixture(S_);if(p_)return p_(S_)}return!0}),_n)for(let b_=this.m_particleSystemList;b_;b_=b_.m_next)_n.ShouldQueryParticleSystem(b_)&&b_.QueryPointAABB(_n,r_)}QueryAllFixturePoint(_n,r_=[]){return this.QueryFixturePoint(_n,p_=>(r_.push(p_),!0)),r_}RayCast(..._n){_n[0]instanceof VM?this._RayCast(_n[0],_n[1],_n[2]):this._RayCast(null,_n[0],_n[1],_n[2])}_RayCast(_n,r_,p_,b_){let d_=$0.RayCast_s_input;if(d_.maxFraction=1,d_.p1.Copy(r_),d_.p2.Copy(p_),this.m_contactManager.m_broadPhase.RayCast(d_,(S_,T_)=>{let k_=T_.userData,U_=k_.fixture,X_=k_.childIndex,O_=$0.RayCast_s_output;if(U_.RayCast(O_,S_,X_)){let a2=O_.fraction,v2=$0.RayCast_s_point;if(v2.Set((1-a2)*r_.x+a2*p_.x,(1-a2)*r_.y+a2*p_.y),_n)return _n.ReportFixture(U_,v2,O_.normal,a2);if(b_)return b_(U_,v2,O_.normal,a2)}return S_.maxFraction}),_n)for(let S_=this.m_particleSystemList;S_;S_=S_.m_next)_n.ShouldQueryParticleSystem(S_)&&S_.RayCast(_n,r_,p_)}RayCastOne(_n,r_){let p_=null,b_=1;return this.RayCast(_n,r_,(d_,S_,T_,k_)=>(k_<b_&&(b_=k_,p_=d_),b_)),p_}RayCastAll(_n,r_,p_=[]){return this.RayCast(_n,r_,(b_,d_,S_,T_)=>(p_.push(b_),1)),p_}GetBodyList(){return this.m_bodyList}GetJointList(){return this.m_jointList}GetParticleSystemList(){return this.m_particleSystemList}GetContactList(){return this.m_contactManager.m_contactList}SetAllowSleeping(_n){if(_n!==this.m_allowSleep&&(this.m_allowSleep=_n,!this.m_allowSleep))for(let r_=this.m_bodyList;r_;r_=r_.m_next)r_.SetAwake(!0)}GetAllowSleeping(){return this.m_allowSleep}SetWarmStarting(_n){this.m_warmStarting=_n}GetWarmStarting(){return this.m_warmStarting}SetContinuousPhysics(_n){this.m_continuousPhysics=_n}GetContinuousPhysics(){return this.m_continuousPhysics}SetSubStepping(_n){this.m_subStepping=_n}GetSubStepping(){return this.m_subStepping}GetProxyCount(){return this.m_contactManager.m_broadPhase.GetProxyCount()}GetBodyCount(){return this.m_bodyCount}GetJointCount(){return this.m_jointCount}GetContactCount(){return this.m_contactManager.m_contactCount}GetTreeHeight(){return this.m_contactManager.m_broadPhase.GetTreeHeight()}GetTreeBalance(){return this.m_contactManager.m_broadPhase.GetTreeBalance()}GetTreeQuality(){return this.m_contactManager.m_broadPhase.GetTreeQuality()}SetGravity(_n,r_=!0){if(!a_.IsEqualToV(this.m_gravity,_n)&&(this.m_gravity.Copy(_n),r_))for(let p_=this.m_bodyList;p_;p_=p_.m_next)p_.SetAwake(!0)}GetGravity(){return this.m_gravity}IsLocked(){return this.m_locked}SetAutoClearForces(_n){this.m_clearForces=_n}GetAutoClearForces(){return this.m_clearForces}ShiftOrigin(_n){if(this.IsLocked())throw new Error;for(let r_=this.m_bodyList;r_;r_=r_.m_next)r_.m_xf.p.SelfSub(_n),r_.m_sweep.c0.SelfSub(_n),r_.m_sweep.c.SelfSub(_n);for(let r_=this.m_jointList;r_;r_=r_.m_next)r_.ShiftOrigin(_n);this.m_contactManager.m_broadPhase.ShiftOrigin(_n)}GetContactManager(){return this.m_contactManager}GetProfile(){return this.m_profile}Dump(_n){if(this.m_locked)return;_n(`const g: b2Vec2 = new b2Vec2(%.15f, %.15f);
`,this.m_gravity.x,this.m_gravity.y),_n(`this.m_world.SetGravity(g);
`),_n(`const bodies: b2Body[] = [];
`),_n(`const joints: b2Joint[] = [];
`);let r_=0;for(let p_=this.m_bodyList;p_;p_=p_.m_next)p_.m_islandIndex=r_,p_.Dump(_n),++r_;r_=0;for(let p_=this.m_jointList;p_;p_=p_.m_next)p_.m_index=r_,++r_;for(let p_=this.m_jointList;p_;p_=p_.m_next)p_.m_type!==V.b2JointType.e_gearJoint&&(_n(`{
`),p_.Dump(_n),_n(`}
`));for(let p_=this.m_jointList;p_;p_=p_.m_next)p_.m_type===V.b2JointType.e_gearJoint&&(_n(`{
`),p_.Dump(_n),_n(`}
`))}DrawJoint(_n){if(this.m_debugDraw===null)return;let r_=_n.GetBodyA(),p_=_n.GetBodyB(),b_=r_.m_xf,d_=p_.m_xf,S_=b_.p,T_=d_.p,k_=_n.GetAnchorA($0.DrawJoint_s_p1),U_=_n.GetAnchorB($0.DrawJoint_s_p2),X_=$0.DrawJoint_s_color.SetRGB(.5,.8,.8);switch(_n.m_type){case V.b2JointType.e_distanceJoint:this.m_debugDraw.DrawSegment(k_,U_,X_);break;case V.b2JointType.e_pulleyJoint:{let O_=_n,K_=O_.GetGroundAnchorA(),a2=O_.GetGroundAnchorB();this.m_debugDraw.DrawSegment(K_,k_,X_),this.m_debugDraw.DrawSegment(a2,U_,X_),this.m_debugDraw.DrawSegment(K_,a2,X_);break}case V.b2JointType.e_mouseJoint:{let O_=$0.DrawJoint_s_c;O_.Set(0,1,0),this.m_debugDraw.DrawPoint(k_,4,O_),this.m_debugDraw.DrawPoint(U_,4,O_),O_.Set(.8,.8,.8),this.m_debugDraw.DrawSegment(k_,U_,O_);break}default:this.m_debugDraw.DrawSegment(S_,k_,X_),this.m_debugDraw.DrawSegment(k_,U_,X_),this.m_debugDraw.DrawSegment(T_,U_,X_)}}DrawShape(_n,r_){if(this.m_debugDraw===null)return;let p_=_n.GetShape();switch(p_.m_type){case V.b2ShapeType.e_circleShape:{let b_=p_,d_=b_.m_p,S_=b_.m_radius,T_=a_.UNITX;this.m_debugDraw.DrawSolidCircle(d_,S_,T_,r_);break}case V.b2ShapeType.e_edgeShape:{let b_=p_,d_=b_.m_vertex1,S_=b_.m_vertex2;this.m_debugDraw.DrawSegment(d_,S_,r_);break}case V.b2ShapeType.e_chainShape:{let b_=p_,d_=b_.m_count,S_=b_.m_vertices,T_=$0.DrawShape_s_ghostColor.SetRGBA(.75*r_.r,.75*r_.g,.75*r_.b,r_.a),k_=S_[0];if(this.m_debugDraw.DrawPoint(k_,4,r_),b_.m_hasPrevVertex){let U_=b_.m_prevVertex;this.m_debugDraw.DrawSegment(U_,k_,T_),this.m_debugDraw.DrawCircle(U_,.1,T_)}for(let U_=1;U_<d_;++U_){let X_=S_[U_];this.m_debugDraw.DrawSegment(k_,X_,r_),this.m_debugDraw.DrawPoint(X_,4,r_),k_=X_}if(b_.m_hasNextVertex){let U_=b_.m_nextVertex;this.m_debugDraw.DrawSegment(U_,k_,T_),this.m_debugDraw.DrawCircle(U_,.1,T_)}break}case V.b2ShapeType.e_polygonShape:{let b_=p_,d_=b_.m_count,S_=b_.m_vertices;this.m_debugDraw.DrawSolidPolygon(S_,d_,r_);break}}}Solve(_n){for(let d_=this.m_bodyList;d_;d_=d_.m_next)d_.m_xf0.Copy(d_.m_xf);for(let d_=this.m_controllerList;d_;d_=d_.m_next)d_.Step(_n);this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;let r_=this.m_island;r_.Initialize(this.m_bodyCount,this.m_contactManager.m_contactCount,this.m_jointCount,this.m_contactManager.m_contactListener);for(let d_=this.m_bodyList;d_;d_=d_.m_next)d_.m_islandFlag=!1;for(let d_=this.m_contactManager.m_contactList;d_;d_=d_.m_next)d_.m_islandFlag=!1;for(let d_=this.m_jointList;d_;d_=d_.m_next)d_.m_islandFlag=!1;let p_=this.s_stack;for(let d_=this.m_bodyList;d_;d_=d_.m_next){if(d_.m_islandFlag||!d_.IsAwake()||!d_.IsActive()||d_.GetType()===V.b2BodyType.b2_staticBody)continue;r_.Clear();let S_=0;for(p_[S_++]=d_,d_.m_islandFlag=!0;S_>0;){let k_=p_[--S_];if(!k_)throw new Error;if(r_.AddBody(k_),k_.m_awakeFlag=!0,k_.GetType()!==V.b2BodyType.b2_staticBody){for(let U_=k_.m_contactList;U_;U_=U_.next){let X_=U_.contact;if(X_.m_islandFlag||!X_.IsEnabled()||!X_.IsTouching())continue;let O_=X_.m_fixtureA.m_isSensor,K_=X_.m_fixtureB.m_isSensor;if(O_||K_)continue;r_.AddContact(X_),X_.m_islandFlag=!0;let a2=U_.other;a2.m_islandFlag||(p_[S_++]=a2,a2.m_islandFlag=!0)}for(let U_=k_.m_jointList;U_;U_=U_.next){if(U_.joint.m_islandFlag)continue;let X_=U_.other;X_.IsActive()&&(r_.AddJoint(U_.joint),U_.joint.m_islandFlag=!0,!X_.m_islandFlag&&(p_[S_++]=X_,X_.m_islandFlag=!0))}}}let T_=new f4;r_.Solve(T_,_n,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=T_.solveInit,this.m_profile.solveVelocity+=T_.solveVelocity,this.m_profile.solvePosition+=T_.solvePosition;for(let k_=0;k_<r_.m_bodyCount;++k_){let U_=r_.m_bodies[k_];U_.GetType()===V.b2BodyType.b2_staticBody&&(U_.m_islandFlag=!1)}}for(let d_=0;d_<p_.length&&p_[d_];++d_)p_[d_]=null;let b_=new QS;for(let d_=this.m_bodyList;d_;d_=d_.m_next)d_.m_islandFlag&&d_.GetType()!==V.b2BodyType.b2_staticBody&&d_.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=b_.GetMilliseconds()}SolveTOI(_n){let r_=this.m_island;if(r_.Initialize(2*D_,D_,0,this.m_contactManager.m_contactListener),this.m_stepComplete){for(let p_=this.m_bodyList;p_;p_=p_.m_next)p_.m_islandFlag=!1,p_.m_sweep.alpha0=0;for(let p_=this.m_contactManager.m_contactList;p_;p_=p_.m_next)p_.m_toiFlag=!1,p_.m_islandFlag=!1,p_.m_toiCount=0,p_.m_toi=1}for(;;){let p_=null,b_=1;for(let K_=this.m_contactManager.m_contactList;K_;K_=K_.m_next){if(!K_.IsEnabled()||K_.m_toiCount>B_)continue;let a2=1;if(K_.m_toiFlag)a2=K_.m_toi;else{let v2=K_.GetFixtureA(),M2=K_.GetFixtureB();if(v2.IsSensor()||M2.IsSensor())continue;let R2=v2.GetBody(),N2=M2.GetBody(),W2=R2.m_type,Q2=N2.m_type,ta=R2.IsAwake()&&W2!==V.b2BodyType.b2_staticBody,o0=N2.IsAwake()&&Q2!==V.b2BodyType.b2_staticBody;if(!ta&&!o0)continue;let l0=R2.IsBullet()||W2!==V.b2BodyType.b2_dynamicBody,p0=N2.IsBullet()||Q2!==V.b2BodyType.b2_dynamicBody;if(!l0&&!p0)continue;let S0=R2.m_sweep.alpha0;R2.m_sweep.alpha0<N2.m_sweep.alpha0?(S0=N2.m_sweep.alpha0,R2.m_sweep.Advance(S0)):N2.m_sweep.alpha0<R2.m_sweep.alpha0&&(S0=R2.m_sweep.alpha0,N2.m_sweep.Advance(S0));let h0=K_.GetChildIndexA(),G0=K_.GetChildIndexB(),E0=$0.SolveTOI_s_toi_input;E0.proxyA.SetShape(v2.GetShape(),h0),E0.proxyB.SetShape(M2.GetShape(),G0),E0.sweepA.Copy(R2.m_sweep),E0.sweepB.Copy(N2.m_sweep),E0.tMax=1;let v0=$0.SolveTOI_s_toi_output;l4(v0,E0);let m0=v0.t;v0.state===V.b2TOIOutputState.e_touching?a2=k0(S0+(1-S0)*m0,1):a2=1,K_.m_toi=a2,K_.m_toiFlag=!0}a2<b_&&(p_=K_,b_=a2)}if(p_===null||1-10*_i<b_){this.m_stepComplete=!0;break}let d_=p_.GetFixtureA(),S_=p_.GetFixtureB(),T_=d_.GetBody(),k_=S_.GetBody(),U_=$0.SolveTOI_s_backup1.Copy(T_.m_sweep),X_=$0.SolveTOI_s_backup2.Copy(k_.m_sweep);if(T_.Advance(b_),k_.Advance(b_),p_.Update(this.m_contactManager.m_contactListener),p_.m_toiFlag=!1,++p_.m_toiCount,!p_.IsEnabled()||!p_.IsTouching()){p_.SetEnabled(!1),T_.m_sweep.Copy(U_),k_.m_sweep.Copy(X_),T_.SynchronizeTransform(),k_.SynchronizeTransform();continue}T_.SetAwake(!0),k_.SetAwake(!0),r_.Clear(),r_.AddBody(T_),r_.AddBody(k_),r_.AddContact(p_),T_.m_islandFlag=!0,k_.m_islandFlag=!0,p_.m_islandFlag=!0;for(let K_=0;K_<2;++K_){let a2=K_===0?T_:k_;if(a2.m_type===V.b2BodyType.b2_dynamicBody)for(let v2=a2.m_contactList;v2&&!(r_.m_bodyCount===r_.m_bodyCapacity||r_.m_contactCount===r_.m_contactCapacity);v2=v2.next){let M2=v2.contact;if(M2.m_islandFlag)continue;let R2=v2.other;if(R2.m_type===V.b2BodyType.b2_dynamicBody&&!a2.IsBullet()&&!R2.IsBullet())continue;let N2=M2.m_fixtureA.m_isSensor,W2=M2.m_fixtureB.m_isSensor;if(N2||W2)continue;let Q2=$0.SolveTOI_s_backup.Copy(R2.m_sweep);if(R2.m_islandFlag||R2.Advance(b_),M2.Update(this.m_contactManager.m_contactListener),!M2.IsEnabled()){R2.m_sweep.Copy(Q2),R2.SynchronizeTransform();continue}if(!M2.IsTouching()){R2.m_sweep.Copy(Q2),R2.SynchronizeTransform();continue}M2.m_islandFlag=!0,r_.AddContact(M2),!R2.m_islandFlag&&(R2.m_islandFlag=!0,R2.m_type!==V.b2BodyType.b2_staticBody&&R2.SetAwake(!0),r_.AddBody(R2))}}let O_=$0.SolveTOI_s_subStep;O_.dt=(1-b_)*_n.dt,O_.inv_dt=1/O_.dt,O_.dtRatio=1,O_.positionIterations=20,O_.velocityIterations=_n.velocityIterations,O_.particleIterations=_n.particleIterations,O_.warmStarting=!1,r_.SolveTOI(O_,T_.m_islandIndex,k_.m_islandIndex);for(let K_=0;K_<r_.m_bodyCount;++K_){let a2=r_.m_bodies[K_];if(a2.m_islandFlag=!1,a2.m_type===V.b2BodyType.b2_dynamicBody){a2.SynchronizeFixtures();for(let v2=a2.m_contactList;v2;v2=v2.next)v2.contact.m_toiFlag=!1,v2.contact.m_islandFlag=!1}}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}}AddController(_n){return _n.m_next=this.m_controllerList,_n.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=_n),this.m_controllerList=_n,++this.m_controllerCount,_n}RemoveController(_n){return _n.m_prev&&(_n.m_prev.m_next=_n.m_next),_n.m_next&&(_n.m_next.m_prev=_n.m_prev),this.m_controllerList===_n&&(this.m_controllerList=_n.m_next),--this.m_controllerCount,_n.m_prev=null,_n.m_next=null,_n}}$0.Step_s_step=new HC,$0.Step_s_stepTimer=new QS,$0.Step_s_timer=new QS,$0.DrawDebugData_s_color=new sy(0,0,0),$0.DrawDebugData_s_vs=a_.MakeArray(4),$0.DrawDebugData_s_xf=new i0,$0.QueryFixtureShape_s_aabb=new bA,$0.RayCast_s_input=new $P,$0.RayCast_s_output=new s4,$0.RayCast_s_point=new a_,$0.DrawJoint_s_p1=new a_,$0.DrawJoint_s_p2=new a_,$0.DrawJoint_s_color=new sy(.5,.8,.8),$0.DrawJoint_s_c=new sy,$0.DrawShape_s_ghostColor=new sy,$0.SolveTOI_s_subStep=new HC,$0.SolveTOI_s_backup=new BA,$0.SolveTOI_s_backup1=new BA,$0.SolveTOI_s_backup2=new BA,$0.SolveTOI_s_toi_input=new p4,$0.SolveTOI_s_toi_output=new c4;class QM{constructor(_n,r_){this.prevBody=null,this.nextBody=null,this.prevController=null,this.nextController=null,this.controller=_n,this.body=r_}}class CB{constructor(){this.m_bodyList=null,this.m_bodyCount=0,this.m_prev=null,this.m_next=null}GetNext(){return this.m_next}GetPrev(){return this.m_prev}GetBodyList(){return this.m_bodyList}AddBody(_n){let r_=new QM(this,_n);r_.nextBody=this.m_bodyList,r_.prevBody=null,this.m_bodyList&&(this.m_bodyList.prevBody=r_),this.m_bodyList=r_,++this.m_bodyCount,r_.nextController=_n.m_controllerList,r_.prevController=null,_n.m_controllerList&&(_n.m_controllerList.prevController=r_),_n.m_controllerList=r_,++_n.m_controllerCount}RemoveBody(_n){if(this.m_bodyCount<=0)throw new Error;let r_=this.m_bodyList;for(;r_&&r_.body!==_n;)r_=r_.nextBody;if(r_===null)throw new Error;r_.prevBody&&(r_.prevBody.nextBody=r_.nextBody),r_.nextBody&&(r_.nextBody.prevBody=r_.prevBody),this.m_bodyList===r_&&(this.m_bodyList=r_.nextBody),--this.m_bodyCount,r_.nextController&&(r_.nextController.prevController=r_.prevController),r_.prevController&&(r_.prevController.nextController=r_.nextController),_n.m_controllerList===r_&&(_n.m_controllerList=r_.nextController),--_n.m_controllerCount}Clear(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body);this.m_bodyCount=0}}class uG extends CB{constructor(){super(...arguments),this.normal=new a_(0,1),this.offset=0,this.density=0,this.velocity=new a_(0,0),this.linearDrag=0,this.angularDrag=0,this.useDensity=!1,this.useWorldGravity=!0,this.gravity=new a_(0,0)}Step(_n){if(this.m_bodyList){this.useWorldGravity&&this.gravity.Copy(this.m_bodyList.body.GetWorld().GetGravity());for(let r_=this.m_bodyList;r_;r_=r_.nextBody){let p_=r_.body;if(!p_.IsAwake())continue;let b_=new a_,d_=new a_,S_=0,T_=0;for(let X_=p_.GetFixtureList();X_;X_=X_.m_next){let O_=new a_,K_=X_.GetShape().ComputeSubmergedArea(this.normal,this.offset,p_.GetTransform(),O_);S_+=K_,b_.x+=K_*O_.x,b_.y+=K_*O_.y;let a2=0;this.useDensity?a2=X_.GetDensity():a2=1,T_+=K_*a2,d_.x+=K_*O_.x*a2,d_.y+=K_*O_.y*a2}if(b_.x/=S_,b_.y/=S_,d_.x/=T_,d_.y/=T_,S_<_i)continue;let k_=this.gravity.Clone().SelfNeg();k_.SelfMul(this.density*S_),p_.ApplyForce(k_,d_);let U_=p_.GetLinearVelocityFromWorldPoint(b_,new a_);U_.SelfSub(this.velocity),U_.SelfMul(-this.linearDrag*S_),p_.ApplyForce(U_,b_),p_.ApplyTorque(-p_.GetInertia()/p_.GetMass()*S_*p_.GetAngularVelocity()*this.angularDrag)}}}Draw(_n){let p_=new a_,b_=new a_;p_.x=this.normal.x*this.offset+this.normal.y*100,p_.y=this.normal.y*this.offset-this.normal.x*100,b_.x=this.normal.x*this.offset-this.normal.y*100,b_.y=this.normal.y*this.offset+this.normal.x*100;let d_=new sy(0,0,.8);_n.DrawSegment(p_,b_,d_)}}class lV extends CB{constructor(){super(...arguments),this.A=new a_(0,0)}Step(_n){let r_=a_.MulSV(_n.dt,this.A,lV.Step_s_dtA);for(let p_=this.m_bodyList;p_;p_=p_.nextBody){let b_=p_.body;b_.IsAwake()&&b_.SetLinearVelocity(a_.AddVV(b_.GetLinearVelocity(),r_,a_.s_t0))}}Draw(_n){}}lV.Step_s_dtA=new a_;class hG extends CB{constructor(){super(...arguments),this.F=new a_(0,0)}Step(_n){for(let r_=this.m_bodyList;r_;r_=r_.nextBody){let p_=r_.body;p_.IsAwake()&&p_.ApplyForce(this.F,p_.GetWorldCenter())}}Draw(_n){}}class _P extends CB{constructor(){super(...arguments),this.G=1,this.invSqr=!0}Step(_n){if(this.invSqr)for(let r_=this.m_bodyList;r_;r_=r_.nextBody){let p_=r_.body,b_=p_.GetWorldCenter(),d_=p_.GetMass();for(let S_=this.m_bodyList;S_&&S_!==r_;S_=S_.nextBody){let T_=S_.body,k_=T_.GetWorldCenter(),U_=T_.GetMass(),X_=k_.x-b_.x,O_=k_.y-b_.y,K_=X_*X_+O_*O_;if(K_<_i)continue;let a2=_P.Step_s_f.Set(X_,O_);a2.SelfMul(this.G/K_/dS(K_)*d_*U_),p_.IsAwake()&&p_.ApplyForce(a2,b_),T_.IsAwake()&&T_.ApplyForce(a2.SelfMul(-1),k_)}}else for(let r_=this.m_bodyList;r_;r_=r_.nextBody){let p_=r_.body,b_=p_.GetWorldCenter(),d_=p_.GetMass();for(let S_=this.m_bodyList;S_&&S_!==r_;S_=S_.nextBody){let T_=S_.body,k_=T_.GetWorldCenter(),U_=T_.GetMass(),X_=k_.x-b_.x,O_=k_.y-b_.y,K_=X_*X_+O_*O_;if(K_<_i)continue;let a2=_P.Step_s_f.Set(X_,O_);a2.SelfMul(this.G/K_*d_*U_),p_.IsAwake()&&p_.ApplyForce(a2,b_),T_.IsAwake()&&T_.ApplyForce(a2.SelfMul(-1),k_)}}}Draw(_n){}}_P.Step_s_f=new a_;class mV extends CB{constructor(){super(...arguments),this.T=new g1,this.maxTimestep=0}Step(_n){let r_=_n.dt;if(!(r_<=_i)){r_>this.maxTimestep&&this.maxTimestep>0&&(r_=this.maxTimestep);for(let p_=this.m_bodyList;p_;p_=p_.nextBody){let b_=p_.body;if(!b_.IsAwake())continue;let d_=b_.GetWorldVector(g1.MulMV(this.T,b_.GetLocalVector(b_.GetLinearVelocity(),a_.s_t0),a_.s_t1),mV.Step_s_damping);b_.SetLinearVelocity(a_.AddVV(b_.GetLinearVelocity(),a_.MulSV(r_,d_,a_.s_t0),a_.s_t1))}}}Draw(_n){}SetAxisAligned(_n,r_){this.T.ex.x=-_n,this.T.ex.y=0,this.T.ey.x=0,this.T.ey.y=-r_,_n>0||r_>0?this.maxTimestep=1/F0(_n,r_):this.maxTimestep=0}}mV.Step_s_damping=new a_;class dG{constructor(){this.vertices=[],this.count=0,this.masses=[],this.gravity=new a_(0,0),this.damping=.1,this.k2=.9,this.k3=.1}}class JA{constructor(){this.m_count=0,this.m_ps=[],this.m_p0s=[],this.m_vs=[],this.m_ims=[],this.m_Ls=[],this.m_as=[],this.m_gravity=new a_,this.m_damping=0,this.m_k2=1,this.m_k3=.1}GetVertexCount(){return this.m_count}GetVertices(){return this.m_ps}Initialize(_n){this.m_count=_n.count,this.m_ps=a_.MakeArray(this.m_count),this.m_p0s=a_.MakeArray(this.m_count),this.m_vs=a_.MakeArray(this.m_count),this.m_ims=g0(this.m_count);for(let b_=0;b_<this.m_count;++b_){this.m_ps[b_].Copy(_n.vertices[b_]),this.m_p0s[b_].Copy(_n.vertices[b_]),this.m_vs[b_].SetZero();let d_=_n.masses[b_];d_>0?this.m_ims[b_]=1/d_:this.m_ims[b_]=0}let r_=this.m_count-1,p_=this.m_count-2;this.m_Ls=g0(r_),this.m_as=g0(p_);for(let b_=0;b_<r_;++b_){let d_=this.m_ps[b_],S_=this.m_ps[b_+1];this.m_Ls[b_]=a_.DistanceVV(d_,S_)}for(let b_=0;b_<p_;++b_){let d_=this.m_ps[b_],S_=this.m_ps[b_+1],T_=this.m_ps[b_+2],k_=a_.SubVV(S_,d_,a_.s_t0),U_=a_.SubVV(T_,S_,a_.s_t1),X_=a_.CrossVV(k_,U_),O_=a_.DotVV(k_,U_);this.m_as[b_]=OB(X_,O_)}this.m_gravity.Copy(_n.gravity),this.m_damping=_n.damping,this.m_k2=_n.k2,this.m_k3=_n.k3}Step(_n,r_){if(_n===0)return;let p_=Math.exp(-_n*this.m_damping);for(let d_=0;d_<this.m_count;++d_)this.m_p0s[d_].Copy(this.m_ps[d_]),this.m_ims[d_]>0&&this.m_vs[d_].SelfMulAdd(_n,this.m_gravity),this.m_vs[d_].SelfMul(p_),this.m_ps[d_].SelfMulAdd(_n,this.m_vs[d_]);for(let d_=0;d_<r_;++d_)this.SolveC2(),this.SolveC3(),this.SolveC2();let b_=1/_n;for(let d_=0;d_<this.m_count;++d_)a_.MulSV(b_,a_.SubVV(this.m_ps[d_],this.m_p0s[d_],a_.s_t0),this.m_vs[d_])}SolveC2(){let _n=this.m_count-1;for(let r_=0;r_<_n;++r_){let p_=this.m_ps[r_],b_=this.m_ps[r_+1],d_=a_.SubVV(b_,p_,JA.s_d),S_=d_.Normalize(),T_=this.m_ims[r_],k_=this.m_ims[r_+1];if(T_+k_===0)continue;let U_=T_/(T_+k_),X_=k_/(T_+k_);p_.SelfMulSub(this.m_k2*U_*(this.m_Ls[r_]-S_),d_),b_.SelfMulAdd(this.m_k2*X_*(this.m_Ls[r_]-S_),d_)}}SetAngle(_n){let r_=this.m_count-2;for(let p_=0;p_<r_;++p_)this.m_as[p_]=_n}SolveC3(){let _n=this.m_count-2;for(let r_=0;r_<_n;++r_){let p_=this.m_ps[r_],b_=this.m_ps[r_+1],d_=this.m_ps[r_+2],S_=this.m_ims[r_],T_=this.m_ims[r_+1],k_=this.m_ims[r_+2],U_=a_.SubVV(b_,p_,JA.s_d1),X_=a_.SubVV(d_,b_,JA.s_d2),O_=U_.LengthSquared(),K_=X_.LengthSquared();if(O_*K_===0)continue;let a2=a_.CrossVV(U_,X_),v2=a_.DotVV(U_,X_),M2=OB(a2,v2),R2=a_.MulSV(-1/O_,U_.SelfSkew(),JA.s_Jd1),N2=a_.MulSV(1/K_,X_.SelfSkew(),JA.s_Jd2),W2=a_.NegV(R2,JA.s_J1),Q2=a_.SubVV(R2,N2,JA.s_J2),ta=N2,o0=S_*a_.DotVV(W2,W2)+T_*a_.DotVV(Q2,Q2)+k_*a_.DotVV(ta,ta);if(o0===0)continue;o0=1/o0;let l0=M2-this.m_as[r_];for(;l0>t_;)M2-=2*t_,l0=M2-this.m_as[r_];for(;l0<-t_;)M2+=2*t_,l0=M2-this.m_as[r_];let p0=-this.m_k3*o0*l0;p_.SelfMulAdd(S_*p0,W2),b_.SelfMulAdd(T_*p0,Q2),d_.SelfMulAdd(k_*p0,ta)}}Draw(_n){let r_=new sy(.4,.5,.7);for(let p_=0;p_<this.m_count-1;++p_)_n.DrawSegment(this.m_ps[p_],this.m_ps[p_+1],r_)}}JA.s_d=new a_,JA.s_d1=new a_,JA.s_d2=new a_,JA.s_Jd1=new a_,JA.s_Jd2=new a_,JA.s_J1=new a_,JA.s_J2=new a_,V.b2AABB=bA,V.b2Abs=V0,V.b2Acos=t4,V.b2Alloc=C_,V.b2AreaJoint=CM,V.b2AreaJointDef=H8,V.b2Asin=NB,V.b2Assert=x,V.b2Atan2=OB,V.b2BlockAllocator=YP,V.b2Body=wA,V.b2BodyDef=X8,V.b2BroadPhase=lM,V.b2BuoyancyController=uG,V.b2CalculateParticleIterations=JM,V.b2ChainAndCircleContact=XC,V.b2ChainAndPolygonContact=YC,V.b2ChainShape=PS,V.b2CircleContact=KB,V.b2CircleShape=PA,V.b2Clamp=My,V.b2ClipSegmentToLine=ZB,V.b2ClipVertex=SC,V.b2CollideCircles=dM,V.b2CollideEdgeAndCircle=b4,V.b2CollideEdgeAndPolygon=u4,V.b2CollidePolygonAndCircle=yM,V.b2CollidePolygons=fM,V.b2Color=sy,V.b2ConstantAccelController=lV,V.b2ConstantForceController=hG,V.b2Contact=pS,V.b2ContactEdge=x4,V.b2ContactFactory=PM,V.b2ContactFeature=Y6,V.b2ContactFilter=rV,V.b2ContactID=AB,V.b2ContactImpulse=wM,V.b2ContactListener=nV,V.b2ContactManager=MM,V.b2ContactPositionConstraint=nP,V.b2ContactRegister=BM,V.b2ContactSolver=q0,V.b2ContactSolverDef=GM,V.b2ContactVelocityConstraint=rP,V.b2Controller=CB,V.b2ControllerEdge=QM,V.b2Cos=$V,V.b2Counter=XP,V.b2DegToRad=NP,V.b2DestructionListener=_G,V.b2Distance=n4,V.b2DistanceInput=iS,V.b2DistanceJoint=_S,V.b2DistanceJointDef=SM,V.b2DistanceOutput=WC,V.b2DistanceProxy=$S,V.b2Draw=X2,V.b2DynamicTree=o1,V.b2EdgeAndCircleContact=tP,V.b2EdgeAndPolygonContact=eP,V.b2EdgeShape=Qy,V.b2Filter=CC,V.b2Fixture=AM,V.b2FixtureDef=vM,V.b2FixtureParticleQueryCallback=A4,V.b2FixtureProxy=UC,V.b2Free=W_,V.b2FrictionJoint=oC,V.b2FrictionJointDef=Z8,V.b2GearJoint=P1,V.b2GearJointDef=K8,V.b2GetPointStates=qJ,V.b2GravityController=_P,V.b2GrowableBuffer=ZC,V.b2GrowableStack=R0,V.b2InvSqrt=xB,V.b2IsPowerOfTwo=o4,V.b2IsValid=KV,V.b2Island=uA,V.b2Jacobian=Y8,V.b2Joint=sS,V.b2JointDef=nS,V.b2JointEdge=h4,V.b2Log=t2,V.b2MakeArray=U2,V.b2MakeNullArray=Na,V.b2MakeNumberArray=g0,V.b2Manifold=HB,V.b2ManifoldPoint=QP,V.b2MassData=iV,V.b2Mat22=g1,V.b2Mat33=EA,V.b2Max=F0,V.b2Maybe=o,V.b2Min=k0,V.b2MixFriction=d4,V.b2MixRestitution=y4,V.b2MotorJoint=iC,V.b2MotorJointDef=Q8,V.b2MouseJoint=rC,V.b2MouseJointDef=$8,V.b2NextPowerOfTwo=e4,V.b2Pair=cM,V.b2PairLessThan=mM,V.b2ParseInt=V2,V.b2ParseUInt=F2,V.b2ParticleBodyContact=jM,V.b2ParticleContact=EM,V.b2ParticleDef=v4,V.b2ParticleGroup=sP,V.b2ParticleGroupDef=TM,V.b2ParticleHandle=IM,V.b2ParticlePair=zM,V.b2ParticlePairSet=XM,V.b2ParticleSystem=H2,V.b2ParticleSystemDef=pV,V.b2ParticleSystem_CompositeShape=ZM,V.b2ParticleSystem_ConnectionFilter=cV,V.b2ParticleSystem_DestroyParticlesInShapeCallback=YM,V.b2ParticleSystem_FixedSetAllocator=S4,V.b2ParticleSystem_FixtureParticle=mG,V.b2ParticleSystem_FixtureParticleSet=UM,V.b2ParticleSystem_InsideBoundsEnumerator=NM,V.b2ParticleSystem_JoinParticleGroupsFilter=HM,V.b2ParticleSystem_ParticleListNode=OM,V.b2ParticleSystem_ParticlePair=bG,V.b2ParticleSystem_Proxy=KC,V.b2ParticleSystem_ReactiveFilter=KM,V.b2ParticleSystem_SolveCollisionCallback=zA,V.b2ParticleSystem_UpdateBodyContactsCallback=QC,V.b2ParticleSystem_UserOverridableBuffer=xS,V.b2ParticleTriad=WM,V.b2PolygonAndCircleContact=$B,V.b2PolygonContact=QB,V.b2PolygonShape=N0,V.b2Position=oP,V.b2PositionSolverManifold=yS,V.b2Pow=WP,V.b2PrismaticJoint=Ey,V.b2PrismaticJointDef=tG,V.b2Profile=f4,V.b2PulleyJoint=L1,V.b2PulleyJointDef=oG,V.b2QueryCallback=ES,V.b2RadToDeg=QV,V.b2Random=UP,V.b2RandomRange=i4,V.b2RayCastCallback=VM,V.b2RayCastInput=$P,V.b2RayCastOutput=s4,V.b2RevoluteJoint=z1,V.b2RevoluteJointDef=iG,V.b2Rope=JA,V.b2RopeDef=dG,V.b2RopeJoint=aS,V.b2RopeJointDef=rG,V.b2Rot=Z2,V.b2SeparationFunction=hM,V.b2Shape=OC,V.b2ShapeCast=X6,V.b2ShapeCastInput=HP,V.b2ShapeCastOutput=ZP,V.b2Simplex=jA,V.b2SimplexCache=fB,V.b2SimplexVertex=NC,V.b2Sin=OP,V.b2SolverData=DM,V.b2Sq=T2,V.b2Sqrt=dS,V.b2StackAllocator=UB,V.b2Swap=zP,V.b2Sweep=BA,V.b2TOIInput=p4,V.b2TOIOutput=c4,V.b2TensorDampingController=mV,V.b2TestOverlapAABB=_4,V.b2TestOverlapShape=a4,V.b2TimeOfImpact=l4,V.b2TimeStep=HC,V.b2Timer=QS,V.b2Transform=i0,V.b2TreeNode=pM,V.b2Vec2=a_,V.b2Vec2_zero=r4,V.b2Vec3=G1,V.b2Velocity=iP,V.b2VelocityConstraintPoint=sV,V.b2Version=l2,V.b2WeldJoint=W1,V.b2WeldJointDef=nG,V.b2WheelJoint=XA,V.b2WheelJointDef=sG,V.b2World=$0,V.b2WorldManifold=Y1,V.b2_180_over_pi=J0,V.b2_aabbExtension=_e,V.b2_aabbMultiplier=l_,V.b2_angularSleepTolerance=$_,V.b2_angularSlop=h_,V.b2_barrierCollisionTime=p2,V.b2_baumgarte=I2,V.b2_branch=G2,V.b2_commit=E2,V.b2_epsilon=_i,V.b2_epsilon_sq=l,V.b2_gjk_reset=KP,V.b2_invalidParticleIndex=z2,V.b2_linearSleepTolerance=F_,V.b2_linearSlop=ws,V.b2_maxAngularCorrection=q_,V.b2_maxFloat=_o,V.b2_maxLinearCorrection=G_,V.b2_maxManifoldPoints=o_,V.b2_maxParticleForce=Z_,V.b2_maxParticleIndex=K2,V.b2_maxParticlePressure=E_,V.b2_maxPolygonVertices=i_,V.b2_maxRotation=m2,V.b2_maxRotationSquared=y2,V.b2_maxSubSteps=B_,V.b2_maxTOIContacts=D_,V.b2_maxTranslation=j_,V.b2_maxTranslationSquared=_2,V.b2_maxTriadDistance=N_,V.b2_maxTriadDistanceSquared=s2,V.b2_minParticleSystemBufferCapacity=u2,V.b2_minParticleWeight=P_,V.b2_minPulleyLength=eG,V.b2_particleStride=$2,V.b2_pi=t_,V.b2_pi_over_180=n0,V.b2_polygonRadius=s_,V.b2_timeToSleep=v_,V.b2_toiBaumgarte=J2,V.b2_toi_reset=e8,V.b2_two_pi=j0,V.b2_velocityThreshold=y_,V.b2_version=D2,V.g_blockSolve=g4,Object.defineProperty(V,"__esModule",{value:!0})})});var rF=fV((exports,module)=>{"use strict";var COMPILED=!0,goog=goog||{};goog.global=exports;goog.isDef=function(V){return V!==void 0};goog.exportPath_=function(V,x,o){V=V.split("."),o=o||goog.global,V[0]in o||!o.execScript||o.execScript("var "+V[0]);for(var _o;V.length&&(_o=V.shift());)!V.length&&goog.isDef(x)?o[_o]=x:o=o[_o]?o[_o]:o[_o]={}};goog.define=function(V,x){var o=x;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,V)?o=goog.global.CLOSURE_UNCOMPILED_DEFINES[V]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,V)&&(o=goog.global.CLOSURE_DEFINES[V])),goog.exportPath_(V,o)};goog.DEBUG=!1;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.provide=function(V){if(!COMPILED&&goog.isProvided_(V))throw Error('Namespace "'+V+'" already declared.');goog.constructNamespace_(V)};goog.constructNamespace_=function(V,x){if(!COMPILED){delete goog.implicitNamespaces_[V];for(var o=V;(o=o.substring(0,o.lastIndexOf(".")))&&!goog.getObjectByName(o);)goog.implicitNamespaces_[o]=!0}goog.exportPath_(V,x)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(V){if(!goog.isString(V)||!V||V.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+V+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=V,!COMPILED){if(goog.isProvided_(V))throw Error('Namespace "'+V+'" already declared.');delete goog.implicitNamespaces_[V]}};goog.module.get=function(V){return goog.module.getInternal_(V)};goog.module.getInternal_=function(V){if(!COMPILED)return goog.isProvided_(V)?V in goog.loadedModules_?goog.loadedModules_[V]:goog.getObjectByName(V):null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null};goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};goog.setTestOnly=function(V){if(goog.DISALLOW_TEST_ONLY_CODE)throw V=V||"",Error("Importing test-only code into non-debug environment"+(V?": "+V:"."))};goog.forwardDeclare=function(V){};COMPILED||(goog.isProvided_=function(V){return V in goog.loadedModules_||!goog.implicitNamespaces_[V]&&goog.isDefAndNotNull(goog.getObjectByName(V))},goog.implicitNamespaces_={"goog.module":!0});goog.getObjectByName=function(V,x){for(var o=V.split("."),_o=x||goog.global,_i;_i=o.shift();)if(goog.isDefAndNotNull(_o[_i]))_o=_o[_i];else return null;return _o};goog.globalize=function(V,x){var o=x||goog.global,_o;for(_o in V)o[_o]=V[_o]};goog.addDependency=function(V,x,o,_o){if(goog.DEPENDENCIES_ENABLED){var _i;V=V.replace(/\\/g,"/");for(var l=goog.dependencies_,t_=0;_i=x[t_];t_++)l.nameToPath[_i]=V,l.pathIsModule[V]=!!_o;for(_o=0;x=o[_o];_o++)V in l.requires||(l.requires[V]={}),l.requires[V][x]=!0}};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(V){goog.global.console&&goog.global.console.error(V)};goog.require=function(V){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(V),goog.isProvided_(V))return goog.isInModuleLoader_()?goog.module.getInternal_(V):null;if(goog.ENABLE_DEBUG_LOADER){var x=goog.getPathFromDeps_(V);if(x)return goog.included_[x]=!0,goog.writeScripts_(),null}throw V="goog.require could not find: "+V,goog.logToConsole_(V),Error(V)}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(V,x){return V};goog.abstractMethod=function(){throw Error("unimplemented abstract method")};goog.addSingletonGetter=function(V){V.getInstance=function(){return V.instance_?V.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=V),V.instance_=new V)}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var V=goog.global.document;return typeof V<"u"&&"write"in V},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var V=goog.global.document.getElementsByTagName("script"),x=V.length-1;0<=x;--x){var o=V[x].src,_o=o.lastIndexOf("?"),_o=_o==-1?o.length:_o;if(o.substr(_o-7,7)=="base.js"){goog.basePath=o.substr(0,_o-7);break}}},goog.importScript_=function(V,x){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(V,x)&&(goog.dependencies_.written[V]=!0)},goog.IS_OLD_IE_=!goog.global.atob&&goog.global.document&&goog.global.document.all,goog.importModule_=function(V){goog.importScript_("",'goog.retrieveAndExecModule_("'+V+'");')&&(goog.dependencies_.written[V]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(V,x){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(x+`
//# sourceURL=`+V+`
`)+");":'goog.loadModule(function(exports) {"use strict";'+x+`
;return exports});
//# sourceURL=`+V+`
`},goog.loadQueuedModules_=function(){var V=goog.queuedModules_.length;if(0<V){var x=goog.queuedModules_;goog.queuedModules_=[];for(var o=0;o<V;o++)goog.maybeProcessDeferredPath_(x[o])}},goog.maybeProcessDeferredDep_=function(V){goog.isDeferredModule_(V)&&goog.allDepsAreAvailable_(V)&&(V=goog.getPathFromDeps_(V),goog.maybeProcessDeferredPath_(goog.basePath+V))},goog.isDeferredModule_=function(V){return(V=goog.getPathFromDeps_(V))&&goog.dependencies_.pathIsModule[V]?goog.basePath+V in goog.dependencies_.deferred:!1},goog.allDepsAreAvailable_=function(V){if((V=goog.getPathFromDeps_(V))&&V in goog.dependencies_.requires){for(var x in goog.dependencies_.requires[V])if(!goog.isProvided_(x)&&!goog.isDeferredModule_(x))return!1}return!0},goog.maybeProcessDeferredPath_=function(V){if(V in goog.dependencies_.deferred){var x=goog.dependencies_.deferred[V];delete goog.dependencies_.deferred[V],goog.globalEval(x)}},goog.loadModule=function(V){var x=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1};var o;if(goog.isFunction(V))o=V.call(goog.global,{});else if(goog.isString(V))o=goog.loadModuleFromSource_.call(goog.global,V);else throw Error("Invalid module definition");var _o=goog.moduleLoaderState_.moduleName;if(!goog.isString(_o)||!_o)throw Error('Invalid module name "'+_o+'"');if(goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(_o,o):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(o),goog.loadedModules_[_o]=o,goog.moduleLoaderState_.declareTestMethods)for(var _i in o)(_i.indexOf("test",0)===0||_i=="tearDown"||_i=="setUp"||_i=="setUpPage"||_i=="tearDownPage")&&(goog.global[_i]=o[_i])}finally{goog.moduleLoaderState_=x}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.writeScriptTag_=function(V,x){if(goog.inHtmlDocument_()){var o=goog.global.document;if(o.readyState=="complete"){if(/\bdeps.js$/.test(V))return!1;throw Error('Cannot write "'+V+'" after document load')}var _o=goog.IS_OLD_IE_;return x===void 0?_o?(_o=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",o.write('<script type="text/javascript" src="'+V+'"'+_o+"><\/script>")):o.write('<script type="text/javascript" src="'+V+'"><\/script>'):o.write('<script type="text/javascript">'+x+"<\/script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(V,x){return V.readyState=="complete"&&goog.lastNonModuleScriptIndex_==x&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(){function V(o_){if(!(o_ in _o.written)){if(!(o_ in _o.visited)&&(_o.visited[o_]=!0,o_ in _o.requires)){for(var i_ in _o.requires[o_])if(!goog.isProvided_(i_))if(i_ in _o.nameToPath)V(_o.nameToPath[i_]);else throw Error("Undefined nameToPath for "+i_)}o_ in o||(o[o_]=!0,x.push(o_))}}var x=[],o={},_o=goog.dependencies_,_i;for(_i in goog.included_)_o.written[_i]||V(_i);for(var l=0;l<x.length;l++)_i=x[l],goog.dependencies_.written[_i]=!0;var t_=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,l=0;l<x.length;l++)if(_i=x[l])_o.pathIsModule[_i]?goog.importModule_(goog.basePath+_i):goog.importScript_(goog.basePath+_i);else throw goog.moduleLoaderState_=t_,Error("Undefined script input");goog.moduleLoaderState_=t_},goog.getPathFromDeps_=function(V){return V in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[V]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));goog.normalizePath_=function(V){V=V.split("/");for(var x=0;x<V.length;)V[x]=="."?V.splice(x,1):x&&V[x]==".."&&V[x-1]&&V[x-1]!=".."?V.splice(--x,2):x++;return V.join("/")};goog.retrieveAndExecModule_=function(V){if(!COMPILED){var x=V;V=goog.normalizePath_(V);var o=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,_o=null,_i=new goog.global.XMLHttpRequest;if(_i.onload=function(){_o=this.responseText},_i.open("get",V,!1),_i.send(),_o=_i.responseText,_o!=null)_i=goog.wrapModule_(V,_o),goog.IS_OLD_IE_?(goog.dependencies_.deferred[x]=_i,goog.queuedModules_.push(x)):o(V,_i);else throw Error("load of "+V+"failed")}};goog.typeOf=function(V){var x=typeof V;if(x=="object")if(V){if(V instanceof Array)return"array";if(V instanceof Object)return x;var o=Object.prototype.toString.call(V);if(o=="[object Window]")return"object";if(o=="[object Array]"||typeof V.length=="number"&&typeof V.splice<"u"&&typeof V.propertyIsEnumerable<"u"&&!V.propertyIsEnumerable("splice"))return"array";if(o=="[object Function]"||typeof V.call<"u"&&typeof V.propertyIsEnumerable<"u"&&!V.propertyIsEnumerable("call"))return"function"}else return"null";else if(x=="function"&&typeof V.call>"u")return"object";return x};goog.isNull=function(V){return V===null};goog.isDefAndNotNull=function(V){return V!=null};goog.isArray=function(V){return goog.typeOf(V)=="array"};goog.isArrayLike=function(V){var x=goog.typeOf(V);return x=="array"||x=="object"&&typeof V.length=="number"};goog.isDateLike=function(V){return goog.isObject(V)&&typeof V.getFullYear=="function"};goog.isString=function(V){return typeof V=="string"};goog.isBoolean=function(V){return typeof V=="boolean"};goog.isNumber=function(V){return typeof V=="number"};goog.isFunction=function(V){return goog.typeOf(V)=="function"};goog.isObject=function(V){var x=typeof V;return x=="object"&&V!=null||x=="function"};goog.getUid=function(V){return V[goog.UID_PROPERTY_]||(V[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(V){return!!V[goog.UID_PROPERTY_]};goog.removeUid=function(V){"removeAttribute"in V&&V.removeAttribute(goog.UID_PROPERTY_);try{delete V[goog.UID_PROPERTY_]}catch{}};goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(V){var x=goog.typeOf(V);if(x=="object"||x=="array"){if(V.clone)return V.clone();var x=x=="array"?[]:{},o;for(o in V)x[o]=goog.cloneObject(V[o]);return x}return V};goog.bindNative_=function(V,x,o){return V.call.apply(V.bind,arguments)};goog.bindJs_=function(V,x,o){if(!V)throw Error();if(2<arguments.length){var _o=Array.prototype.slice.call(arguments,2);return function(){var _i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_i,_o),V.apply(x,_i)}}return function(){return V.apply(x,arguments)}};goog.bind=function(V,x,o){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)};goog.partial=function(V,x){var o=Array.prototype.slice.call(arguments,1);return function(){var _o=o.slice();return _o.push.apply(_o,arguments),V.apply(this,_o)}};goog.mixin=function(V,x){for(var o in x)V[o]=x[o]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};goog.globalEval=function(V){if(goog.global.execScript)goog.global.execScript(V,"JavaScript");else if(goog.global.eval)if(goog.evalWorksForGlobals_==null&&(goog.global.eval("var _et_ = 1;"),typeof goog.global._et_<"u"?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(V);else{var x=goog.global.document,o=x.createElement("script");o.type="text/javascript",o.defer=!1,o.appendChild(x.createTextNode(V)),x.body.appendChild(o),x.body.removeChild(o)}else throw Error("goog.globalEval not available")};goog.evalWorksForGlobals_=null;goog.getCssName=function(V,x){var o=function(_i){return goog.cssNameMapping_[_i]||_i},_o=function(_i){_i=_i.split("-");for(var l=[],t_=0;t_<_i.length;t_++)l.push(o(_i[t_]));return l.join("-")},_o=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?o:_o:function(_i){return _i};return x?V+"-"+_o(x):_o(V)};goog.setCssNameMapping=function(V,x){goog.cssNameMapping_=V,goog.cssNameMappingStyle_=x};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(V,x){return x&&(V=V.replace(/\{\$([^}]+)}/g,function(o,_o){return _o in x?x[_o]:o})),V};goog.getMsgWithFallback=function(V,x){return V};goog.exportSymbol=function(V,x,o){goog.exportPath_(V,x,o)};goog.exportProperty=function(V,x,o){V[x]=o};goog.inherits=function(V,x){function o(){}o.prototype=x.prototype,V.superClass_=x.prototype,V.prototype=new o,V.prototype.constructor=V,V.base=function(_o,_i,l){for(var t_=Array(arguments.length-2),o_=2;o_<arguments.length;o_++)t_[o_-2]=arguments[o_];return x.prototype[_i].apply(_o,t_)}};goog.base=function(V,x,o){var _o=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!_o)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(_o.superClass_){for(var _i=Array(arguments.length-1),l=1;l<arguments.length;l++)_i[l-1]=arguments[l];return _o.superClass_.constructor.apply(V,_i)}for(_i=Array(arguments.length-2),l=2;l<arguments.length;l++)_i[l-2]=arguments[l];for(var l=!1,t_=V.constructor;t_;t_=t_.superClass_&&t_.superClass_.constructor)if(t_.prototype[x]===_o)l=!0;else if(l)return t_.prototype[x].apply(V,_i);if(V[x]===_o)return V.constructor.prototype[x].apply(V,_i);throw Error("goog.base called from a method of one name to a method of a different name")};goog.scope=function(V){V.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);goog.defineClass=function(V,x){var o=x.constructor,_o=x.statics;return o&&o!=Object.prototype.constructor||(o=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),o=goog.defineClass.createSealingConstructor_(o,V),V&&goog.inherits(o,V),delete x.constructor,delete x.statics,goog.defineClass.applyProperties_(o.prototype,x),_o!=null&&(_o instanceof Function?_o(o):goog.defineClass.applyProperties_(o,_o)),o};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;goog.defineClass.createSealingConstructor_=function(V,x){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(x&&x.prototype&&x.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return V;var o=function(){var _o=V.apply(this,arguments)||this;return _o[goog.UID_PROPERTY_]=_o[goog.UID_PROPERTY_],this.constructor===o&&Object.seal(_o),_o};return o}return V};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.defineClass.applyProperties_=function(V,x){for(var o in x)Object.prototype.hasOwnProperty.call(x,o)&&(V[o]=x[o]);for(var _o=0;_o<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;_o++)o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[_o],Object.prototype.hasOwnProperty.call(x,o)&&(V[o]=x[o])};goog.tagUnsealableClass=function(V){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(V.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";var box2d={b2Settings:{}};Object.defineProperty||(Object.defineProperty=function(V,x,o){Object.__defineGetter__&&("get"in o?V.__defineGetter__(x,o.get):"value"in o&&V.__defineGetter__(x,o.value)),Object.__defineSetter__&&("set"in o?V.__defineSetter__(x,o.set):"value"in o&&V.__defineSetter__(x,o.value))});box2d.DEBUG=!1;goog.exportSymbol("box2d.DEBUG",box2d.DEBUG);box2d.ENABLE_ASSERTS=box2d.DEBUG;goog.exportSymbol("box2d.ENABLE_ASSERTS",box2d.ENABLE_ASSERTS);box2d.b2Assert=function(V,x,o){if(box2d.DEBUG&&!V)debugger};goog.exportSymbol("box2d.b2Assert",box2d.b2Assert);box2d.b2_maxFloat=1e37;goog.exportSymbol("box2d.b2_maxFloat",box2d.b2_maxFloat);box2d.b2_epsilon=1e-5;goog.exportSymbol("box2d.b2_epsilon",box2d.b2_epsilon);box2d.b2_epsilon_sq=box2d.b2_epsilon*box2d.b2_epsilon;goog.exportSymbol("box2d.b2_epsilon_sq",box2d.b2_epsilon_sq);box2d.b2_pi=Math.PI;goog.exportSymbol("box2d.b2_pi",box2d.b2_pi);box2d.b2_maxManifoldPoints=2;goog.exportSymbol("box2d.b2_maxManifoldPoints",box2d.b2_maxManifoldPoints);box2d.b2_maxPolygonVertices=8;goog.exportSymbol("box2d.b2_maxPolygonVertices",box2d.b2_maxPolygonVertices);box2d.b2_aabbExtension=.1;goog.exportSymbol("box2d.b2_aabbExtension",box2d.b2_aabbExtension);box2d.b2_aabbMultiplier=2;goog.exportSymbol("box2d.b2_aabbMultiplier",box2d.b2_aabbMultiplier);box2d.b2_linearSlop=.008;goog.exportSymbol("box2d.b2_linearSlop",box2d.b2_linearSlop);box2d.b2_angularSlop=2/180*box2d.b2_pi;goog.exportSymbol("box2d.b2_angularSlop",box2d.b2_angularSlop);box2d.b2_polygonRadius=2*box2d.b2_linearSlop;goog.exportSymbol("box2d.b2_polygonRadius",box2d.b2_polygonRadius);box2d.b2_maxSubSteps=8;goog.exportSymbol("box2d.b2_maxSubSteps",box2d.b2_maxSubSteps);box2d.b2_maxTOIContacts=32;goog.exportSymbol("box2d.b2_maxTOIContacts",box2d.b2_maxTOIContacts);box2d.b2_velocityThreshold=1;goog.exportSymbol("box2d.b2_velocityThreshold",box2d.b2_velocityThreshold);box2d.b2_maxLinearCorrection=.2;goog.exportSymbol("box2d.b2_maxLinearCorrection",box2d.b2_maxLinearCorrection);box2d.b2_maxAngularCorrection=8/180*box2d.b2_pi;goog.exportSymbol("box2d.b2_maxAngularCorrection",box2d.b2_maxAngularCorrection);box2d.b2_maxTranslation=2;goog.exportSymbol("box2d.b2_maxTranslation",box2d.b2_maxTranslation);box2d.b2_maxTranslationSquared=box2d.b2_maxTranslation*box2d.b2_maxTranslation;goog.exportSymbol("box2d.b2_maxTranslationSquared",box2d.b2_maxTranslationSquared);box2d.b2_maxRotation=.5*box2d.b2_pi;goog.exportSymbol("box2d.b2_maxRotation",box2d.b2_maxRotation);box2d.b2_maxRotationSquared=box2d.b2_maxRotation*box2d.b2_maxRotation;goog.exportSymbol("box2d.b2_maxRotationSquared",box2d.b2_maxRotationSquared);box2d.b2_baumgarte=.2;goog.exportSymbol("box2d.b2_baumgarte",box2d.b2_baumgarte);box2d.b2_toiBaumgarte=.75;goog.exportSymbol("box2d.b2_toiBaumgarte",box2d.b2_toiBaumgarte);box2d.b2_invalidParticleIndex=-1;goog.exportSymbol("box2d.b2_invalidParticleIndex",box2d.b2_invalidParticleIndex);box2d.b2_maxParticleIndex=2147483647;goog.exportSymbol("box2d.b2_maxParticleIndex",box2d.b2_maxParticleIndex);box2d.b2_particleStride=.75;goog.exportSymbol("box2d.b2_particleStride",box2d.b2_particleStride);box2d.b2_minParticleWeight=1;goog.exportSymbol("box2d.b2_minParticleWeight",box2d.b2_minParticleWeight);box2d.b2_maxParticlePressure=.25;goog.exportSymbol("box2d.b2_maxParticlePressure",box2d.b2_maxParticlePressure);box2d.b2_maxParticleForce=.5;goog.exportSymbol("box2d.b2_maxParticleForce",box2d.b2_maxParticleForce);box2d.b2_maxTriadDistance=2;goog.exportSymbol("box2d.b2_maxTriadDistance",box2d.b2_maxTriadDistance);box2d.b2_maxTriadDistanceSquared=box2d.b2_maxTriadDistance*box2d.b2_maxTriadDistance;goog.exportSymbol("box2d.b2_maxTriadDistanceSquared",box2d.b2_maxTriadDistanceSquared);box2d.b2_minParticleSystemBufferCapacity=256;goog.exportSymbol("box2d.b2_minParticleSystemBufferCapacity",box2d.b2_minParticleSystemBufferCapacity);box2d.b2_barrierCollisionTime=2.5;goog.exportSymbol("box2d.b2_barrierCollisionTime",box2d.b2_barrierCollisionTime);box2d.b2_timeToSleep=.5;goog.exportSymbol("box2d.b2_timeToSleep",box2d.b2_timeToSleep);box2d.b2_linearSleepTolerance=.01;goog.exportSymbol("box2d.b2_linearSleepTolerance",box2d.b2_linearSleepTolerance);box2d.b2_angularSleepTolerance=2/180*box2d.b2_pi;goog.exportSymbol("box2d.b2_angularSleepTolerance",box2d.b2_angularSleepTolerance);box2d.b2Alloc=function(V){return null};goog.exportSymbol("box2d.b2Alloc",box2d.b2Alloc);box2d.b2Free=function(V){};goog.exportSymbol("box2d.b2Free",box2d.b2Free);box2d.b2Log=function(V){goog.global.console.log.apply(null,arguments)};goog.exportSymbol("box2d.b2Log",box2d.b2Log);box2d.b2Version=function(V,x,o){this.major=V||0,this.minor=x||0,this.revision=o||0};goog.exportSymbol("box2d.b2Version",box2d.b2Version);box2d.b2Version.prototype.major=0;goog.exportProperty(box2d.b2Version.prototype,"major",box2d.b2Version.prototype.major);box2d.b2Version.prototype.minor=0;goog.exportProperty(box2d.b2Version.prototype,"minor",box2d.b2Version.prototype.minor);box2d.b2Version.prototype.revision=0;goog.exportProperty(box2d.b2Version.prototype,"revision",box2d.b2Version.prototype.revision);box2d.b2Version.prototype.toString=function(){return this.major+"."+this.minor+"."+this.revision};goog.exportProperty(box2d.b2Version.prototype,"toString",box2d.b2Version.prototype.toString);box2d.b2_version=new box2d.b2Version(2,3,2);goog.exportSymbol("box2d.b2_version",box2d.b2_version);box2d.b2_changelist=313;goog.exportSymbol("box2d.b2_changelist",box2d.b2_changelist);box2d.b2ParseInt=function(V){return parseInt(V,10)};goog.exportSymbol("box2d.b2ParseInt",box2d.b2ParseInt);box2d.b2ParseUInt=function(V){return box2d.b2Abs(parseInt(V,10))};goog.exportSymbol("box2d.b2ParseUInt",box2d.b2ParseUInt);box2d.b2MakeArray=function(V,x){V=typeof V=="number"?V:0;var o=[];if(typeof x=="function")for(var _o=0;_o<V;++_o)o.push(x(_o));else for(_o=0;_o<V;++_o)o.push(null);return o};goog.exportSymbol("box2d.b2MakeArray",box2d.b2MakeArray);box2d.b2MakeNumberArray=function(V){return box2d.b2MakeArray(V,function(x){return 0})};goog.exportSymbol("box2d.b2MakeNumberArray",box2d.b2MakeNumberArray);box2d.b2ControllerEdge=function(){};goog.exportSymbol("box2d.b2ControllerEdge",box2d.b2ControllerEdge);box2d.b2ControllerEdge.prototype.controller=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"controller",box2d.b2ControllerEdge.prototype.controller);box2d.b2ControllerEdge.prototype.body=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"body",box2d.b2ControllerEdge.prototype.body);box2d.b2ControllerEdge.prototype.prevBody=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"prevBody",box2d.b2ControllerEdge.prototype.prevBody);box2d.b2ControllerEdge.prototype.nextBody=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"nextBody",box2d.b2ControllerEdge.prototype.nextBody);box2d.b2ControllerEdge.prototype.prevController=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"prevController",box2d.b2ControllerEdge.prototype.prevController);box2d.b2ControllerEdge.prototype.nextController=null;goog.exportProperty(box2d.b2ControllerEdge.prototype,"nextController",box2d.b2ControllerEdge.prototype.nextController);box2d.b2Controller=function(){};goog.exportSymbol("box2d.b2Controller",box2d.b2Controller);box2d.b2Controller.prototype.m_world=null;goog.exportProperty(box2d.b2Controller.prototype,"m_world",box2d.b2Controller.prototype.m_world);box2d.b2Controller.prototype.m_bodyList=null;goog.exportProperty(box2d.b2Controller.prototype,"m_bodyList",box2d.b2Controller.prototype.m_bodyList);box2d.b2Controller.prototype.m_bodyCount=0;goog.exportProperty(box2d.b2Controller.prototype,"m_bodyCount",box2d.b2Controller.prototype.m_bodyCount);box2d.b2Controller.prototype.m_prev=null;goog.exportProperty(box2d.b2Controller.prototype,"m_prev",box2d.b2Controller.prototype.m_prev);box2d.b2Controller.prototype.m_next=null;goog.exportProperty(box2d.b2Controller.prototype,"m_next",box2d.b2Controller.prototype.m_next);box2d.b2Controller.prototype.Step=function(V){};goog.exportProperty(box2d.b2Controller.prototype,"Step",box2d.b2Controller.prototype.Step);box2d.b2Controller.prototype.Draw=function(V){};goog.exportProperty(box2d.b2Controller.prototype,"Draw",box2d.b2Controller.prototype.Draw);box2d.b2Controller.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2Controller.prototype,"GetNext",box2d.b2Controller.prototype.GetNext);box2d.b2Controller.prototype.GetPrev=function(){return this.m_prev};goog.exportProperty(box2d.b2Controller.prototype,"GetPrev",box2d.b2Controller.prototype.GetPrev);box2d.b2Controller.prototype.GetWorld=function(){return this.m_world};goog.exportProperty(box2d.b2Controller.prototype,"GetWorld",box2d.b2Controller.prototype.GetWorld);box2d.b2Controller.prototype.GetBodyList=function(){return this.m_bodyList};goog.exportProperty(box2d.b2Controller.prototype,"GetBodyList",box2d.b2Controller.prototype.GetBodyList);box2d.b2Controller.prototype.AddBody=function(V){var x=new box2d.b2ControllerEdge;x.body=V,x.controller=this,x.nextBody=this.m_bodyList,x.prevBody=null,this.m_bodyList&&(this.m_bodyList.prevBody=x),this.m_bodyList=x,++this.m_bodyCount,x.nextController=V.m_controllerList,x.prevController=null,V.m_controllerList&&(V.m_controllerList.prevController=x),V.m_controllerList=x,++V.m_controllerCount};goog.exportProperty(box2d.b2Controller.prototype,"AddBody",box2d.b2Controller.prototype.AddBody);box2d.b2Controller.prototype.RemoveBody=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_bodyCount);for(var x=this.m_bodyList;x&&x.body!==V;)x=x.nextBody;box2d.ENABLE_ASSERTS&&box2d.b2Assert(x!==null),x.prevBody&&(x.prevBody.nextBody=x.nextBody),x.nextBody&&(x.nextBody.prevBody=x.prevBody),this.m_bodyList===x&&(this.m_bodyList=x.nextBody),--this.m_bodyCount,x.nextController&&(x.nextController.prevController=x.prevController),x.prevController&&(x.prevController.nextController=x.nextController),V.m_controllerList===x&&(V.m_controllerList=x.nextController),--V.m_controllerCount};goog.exportProperty(box2d.b2Controller.prototype,"RemoveBody",box2d.b2Controller.prototype.RemoveBody);box2d.b2Controller.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body);this.m_bodyCount=0};goog.exportProperty(box2d.b2Controller.prototype,"Clear",box2d.b2Controller.prototype.Clear);box2d.b2Color=function(V,x,o,_o){this.r=V,this.g=x,this.b=o,this.a=typeof _o=="number"?_o:1};goog.exportSymbol("box2d.b2Color",box2d.b2Color);box2d.b2Color.prototype.r=.5;goog.exportProperty(box2d.b2Color.prototype,"r",box2d.b2Color.prototype.r);box2d.b2Color.prototype.g=.5;goog.exportProperty(box2d.b2Color.prototype,"g",box2d.b2Color.prototype.g);box2d.b2Color.prototype.b=.5;goog.exportProperty(box2d.b2Color.prototype,"b",box2d.b2Color.prototype.b);box2d.b2Color.prototype.a=1;goog.exportProperty(box2d.b2Color.prototype,"a",box2d.b2Color.prototype.a);box2d.b2Color.prototype.SetRGB=function(V,x,o){return this.r=V,this.g=x,this.b=o,this};goog.exportProperty(box2d.b2Color.prototype,"SetRGB",box2d.b2Color.prototype.SetRGB);box2d.b2Color.prototype.MakeStyleString=function(V){var x=Math.round(Math.max(0,Math.min(255,255*this.r))),o=Math.round(Math.max(0,Math.min(255,255*this.g))),_o=Math.round(Math.max(0,Math.min(255,255*this.b)));return V=typeof V>"u"?this.a:Math.max(0,Math.min(1,V)),box2d.b2Color.MakeStyleString(x,o,_o,V)};goog.exportProperty(box2d.b2Color.prototype,"MakeStyleString",box2d.b2Color.prototype.MakeStyleString);box2d.b2Color.MakeStyleString=function(V,x,o,_o){return 1>_o?"rgba("+V+","+x+","+o+","+_o+")":"rgb("+V+","+x+","+o+")"};goog.exportProperty(box2d.b2Color,"MakeStyleString",box2d.b2Color.MakeStyleString);box2d.b2Color.RED=new box2d.b2Color(1,0,0);goog.exportProperty(box2d.b2Color,"RED",box2d.b2Color.RED);box2d.b2Color.GREEN=new box2d.b2Color(0,1,0);goog.exportProperty(box2d.b2Color,"GREEN",box2d.b2Color.GREEN);box2d.b2Color.BLUE=new box2d.b2Color(0,0,1);goog.exportProperty(box2d.b2Color,"BLUE",box2d.b2Color.BLUE);box2d.b2DrawFlags={e_none:0,e_shapeBit:1,e_jointBit:2,e_aabbBit:4,e_pairBit:8,e_centerOfMassBit:16,e_controllerBit:32,e_particleBit:64,e_all:65535};goog.exportSymbol("box2d.b2DrawFlags",box2d.b2DrawFlags);goog.exportProperty(box2d.b2DrawFlags,"e_none",box2d.b2DrawFlags.e_none);goog.exportProperty(box2d.b2DrawFlags,"e_shapeBit",box2d.b2DrawFlags.e_shapeBit);goog.exportProperty(box2d.b2DrawFlags,"e_jointBit",box2d.b2DrawFlags.e_jointBit);goog.exportProperty(box2d.b2DrawFlags,"e_aabbBit",box2d.b2DrawFlags.e_aabbBit);goog.exportProperty(box2d.b2DrawFlags,"e_pairBit",box2d.b2DrawFlags.e_pairBit);goog.exportProperty(box2d.b2DrawFlags,"e_centerOfMassBit",box2d.b2DrawFlags.e_centerOfMassBit);goog.exportProperty(box2d.b2DrawFlags,"e_controllerBit",box2d.b2DrawFlags.e_controllerBit);goog.exportProperty(box2d.b2DrawFlags,"e_particleBit",box2d.b2DrawFlags.e_particleBit);goog.exportProperty(box2d.b2DrawFlags,"e_all",box2d.b2DrawFlags.e_all);box2d.b2Draw=function(){};goog.exportSymbol("box2d.b2Draw",box2d.b2Draw);box2d.b2Draw.prototype.m_drawFlags=box2d.b2DrawFlags.e_none;goog.exportProperty(box2d.b2Draw.prototype,"m_drawFlags",box2d.b2Draw.prototype.m_drawFlags);box2d.b2Draw.prototype.SetFlags=function(V){this.m_drawFlags=V};goog.exportProperty(box2d.b2Draw.prototype,"SetFlags",box2d.b2Draw.prototype.SetFlags);box2d.b2Draw.prototype.GetFlags=function(){return this.m_drawFlags};goog.exportProperty(box2d.b2Draw.prototype,"GetFlags",box2d.b2Draw.prototype.GetFlags);box2d.b2Draw.prototype.AppendFlags=function(V){this.m_drawFlags|=V};goog.exportProperty(box2d.b2Draw.prototype,"AppendFlags",box2d.b2Draw.prototype.AppendFlags);box2d.b2Draw.prototype.ClearFlags=function(V){this.m_drawFlags&=~V};goog.exportProperty(box2d.b2Draw.prototype,"ClearFlags",box2d.b2Draw.prototype.ClearFlags);box2d.b2Draw.prototype.PushTransform=function(V){};goog.exportProperty(box2d.b2Draw.prototype,"PushTransform",box2d.b2Draw.prototype.PushTransform);box2d.b2Draw.prototype.PopTransform=function(V){};goog.exportProperty(box2d.b2Draw.prototype,"PopTransform",box2d.b2Draw.prototype.PopTransform);box2d.b2Draw.prototype.DrawPolygon=function(V,x,o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawPolygon",box2d.b2Draw.prototype.DrawPolygon);box2d.b2Draw.prototype.DrawSolidPolygon=function(V,x,o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawSolidPolygon",box2d.b2Draw.prototype.DrawSolidPolygon);box2d.b2Draw.prototype.DrawCircle=function(V,x,o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawCircle",box2d.b2Draw.prototype.DrawCircle);box2d.b2Draw.prototype.DrawSolidCircle=function(V,x,o,_o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawSolidCircle",box2d.b2Draw.prototype.DrawSolidCircle);box2d.b2Draw.prototype.DrawParticles=function(V,x,o,_o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawParticles",box2d.b2Draw.prototype.DrawParticles);box2d.b2Draw.prototype.DrawSegment=function(V,x,o){};goog.exportProperty(box2d.b2Draw.prototype,"DrawSegment",box2d.b2Draw.prototype.DrawSegment);box2d.b2Draw.prototype.DrawTransform=function(V){};goog.exportProperty(box2d.b2Draw.prototype,"DrawTransform",box2d.b2Draw.prototype.DrawTransform);box2d.b2GrowableStack=function(V){this.m_stack=Array(V)};goog.exportSymbol("box2d.b2GrowableStack",box2d.b2GrowableStack);box2d.b2GrowableStack.prototype.m_stack=null;goog.exportProperty(box2d.b2GrowableStack.prototype,"m_stack",box2d.b2GrowableStack.prototype.m_stack);box2d.b2GrowableStack.prototype.m_count=0;goog.exportProperty(box2d.b2GrowableStack.prototype,"m_count",box2d.b2GrowableStack.prototype.m_count);box2d.b2GrowableStack.prototype.Reset=function(){return this.m_count=0,this};goog.exportProperty(box2d.b2GrowableStack.prototype,"Reset",box2d.b2GrowableStack.prototype.Reset);box2d.b2GrowableStack.prototype.Push=function(V){this.m_stack[this.m_count]=V,++this.m_count};goog.exportProperty(box2d.b2GrowableStack.prototype,"Push",box2d.b2GrowableStack.prototype.Push);box2d.b2GrowableStack.prototype.Pop=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_count),--this.m_count;var V=this.m_stack[this.m_count];return this.m_stack[this.m_count]=null,V};goog.exportProperty(box2d.b2GrowableStack.prototype,"Pop",box2d.b2GrowableStack.prototype.Pop);box2d.b2GrowableStack.prototype.GetCount=function(){return this.m_count};goog.exportProperty(box2d.b2GrowableStack.prototype,"GetCount",box2d.b2GrowableStack.prototype.GetCount);box2d.b2Math={};box2d.b2_pi_over_180=box2d.b2_pi/180;goog.exportSymbol("box2d.b2_pi_over_180",box2d.b2_pi_over_180);box2d.b2_180_over_pi=180/box2d.b2_pi;goog.exportSymbol("box2d.b2_180_over_pi",box2d.b2_180_over_pi);box2d.b2_two_pi=2*box2d.b2_pi;goog.exportSymbol("box2d.b2_two_pi",box2d.b2_two_pi);box2d.b2Abs=Math.abs;goog.exportSymbol("box2d.b2Abs",box2d.b2Abs);box2d.b2Min=Math.min;goog.exportSymbol("box2d.b2Min",box2d.b2Min);box2d.b2Max=Math.max;goog.exportSymbol("box2d.b2Max",box2d.b2Max);box2d.b2Clamp=function(V,x,o){return Math.min(Math.max(V,x),o)};goog.exportSymbol("box2d.b2Clamp",box2d.b2Clamp);box2d.b2Wrap=function(V,x,o){return x<o?V<x?o-(x-V)%(o-x):x+(V-x)%(o-x):x===o?x:V};goog.exportSymbol("box2d.b2Wrap",box2d.b2Wrap);box2d.b2WrapAngle=function(V){return 0>V?(V-box2d.b2_pi)%box2d.b2_two_pi+box2d.b2_pi:(V+box2d.b2_pi)%box2d.b2_two_pi-box2d.b2_pi};goog.exportSymbol("box2d.b2WrapAngle",box2d.b2WrapAngle);box2d.b2Swap=function(V,x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1);var o=V[0];V[0]=x[0],x[0]=o};goog.exportSymbol("box2d.b2Swap",box2d.b2Swap);box2d.b2IsValid=function(V){return isFinite(V)};goog.exportSymbol("box2d.b2IsValid",box2d.b2IsValid);box2d.b2Sq=function(V){return V*V};goog.exportSymbol("box2d.b2Sq",box2d.b2Sq);box2d.b2InvSqrt=function(V){return 1/Math.sqrt(V)};goog.exportSymbol("box2d.b2InvSqrt",box2d.b2InvSqrt);box2d.b2Sqrt=function(V){return Math.sqrt(V)};goog.exportSymbol("box2d.b2Sqrt",box2d.b2Sqrt);box2d.b2Pow=function(V,x){return Math.pow(V,x)};goog.exportSymbol("box2d.b2Pow",box2d.b2Pow);box2d.b2DegToRad=function(V){return V*box2d.b2_pi_over_180};goog.exportSymbol("box2d.b2DegToRad",box2d.b2DegToRad);box2d.b2RadToDeg=function(V){return V*box2d.b2_180_over_pi};goog.exportSymbol("box2d.b2RadToDeg",box2d.b2RadToDeg);box2d.b2Cos=function(V){return Math.cos(V)};goog.exportSymbol("box2d.b2Cos",box2d.b2Cos);box2d.b2Sin=function(V){return Math.sin(V)};goog.exportSymbol("box2d.b2Sin",box2d.b2Sin);box2d.b2Acos=function(V){return Math.acos(V)};goog.exportSymbol("box2d.b2Acos",box2d.b2Acos);box2d.b2Asin=function(V){return Math.asin(V)};goog.exportSymbol("box2d.b2Asin",box2d.b2Asin);box2d.b2Atan2=function(V,x){return Math.atan2(V,x)};goog.exportSymbol("box2d.b2Atan2",box2d.b2Atan2);box2d.b2NextPowerOfTwo=function(V){return V|=V>>1&2147483647,V|=V>>2&1073741823,V|=V>>4&268435455,V|=V>>8&16777215,(V|V>>16&65535)+1};goog.exportSymbol("box2d.b2NextPowerOfTwo",box2d.b2NextPowerOfTwo);box2d.b2IsPowerOfTwo=function(V){return 0<V&&(V&V-1)===0};goog.exportSymbol("box2d.b2IsPowerOfTwo",box2d.b2IsPowerOfTwo);box2d.b2Random=function(){return 2*Math.random()-1};goog.exportSymbol("box2d.b2Random",box2d.b2Random);box2d.b2RandomRange=function(V,x){return(x-V)*Math.random()+V};goog.exportSymbol("box2d.b2RandomRange",box2d.b2RandomRange);box2d.b2Vec2=function(V,x){this.x=V||0,this.y=x||0};goog.exportSymbol("box2d.b2Vec2",box2d.b2Vec2);box2d.b2Vec2.prototype.x=0;goog.exportProperty(box2d.b2Vec2.prototype,"x",box2d.b2Vec2.prototype.x);box2d.b2Vec2.prototype.y=0;goog.exportProperty(box2d.b2Vec2.prototype,"y",box2d.b2Vec2.prototype.y);box2d.b2Vec2_zero=new box2d.b2Vec2;goog.exportSymbol("box2d.b2Vec2_zero",box2d.b2Vec2_zero);box2d.b2Vec2.ZERO=new box2d.b2Vec2;goog.exportProperty(box2d.b2Vec2,"ZERO",box2d.b2Vec2.ZERO);box2d.b2Vec2.UNITX=new box2d.b2Vec2(1,0);goog.exportProperty(box2d.b2Vec2,"UNITX",box2d.b2Vec2.UNITX);box2d.b2Vec2.UNITY=new box2d.b2Vec2(0,1);goog.exportProperty(box2d.b2Vec2,"UNITY",box2d.b2Vec2.UNITY);box2d.b2Vec2.s_t0=new box2d.b2Vec2;goog.exportProperty(box2d.b2Vec2,"s_t0",box2d.b2Vec2.s_t0);box2d.b2Vec2.s_t1=new box2d.b2Vec2;goog.exportProperty(box2d.b2Vec2,"s_t1",box2d.b2Vec2.s_t1);box2d.b2Vec2.s_t2=new box2d.b2Vec2;goog.exportProperty(box2d.b2Vec2,"s_t2",box2d.b2Vec2.s_t2);box2d.b2Vec2.s_t3=new box2d.b2Vec2;goog.exportProperty(box2d.b2Vec2,"s_t3",box2d.b2Vec2.s_t3);box2d.b2Vec2.MakeArray=function(V){return box2d.b2MakeArray(V,function(x){return new box2d.b2Vec2})};goog.exportProperty(box2d.b2Vec2,"MakeArray",box2d.b2Vec2.MakeArray);box2d.b2Vec2.prototype.Clone=function(){return new box2d.b2Vec2(this.x,this.y)};goog.exportProperty(box2d.b2Vec2.prototype,"Clone",box2d.b2Vec2.prototype.Clone);box2d.b2Vec2.prototype.SetZero=function(){return this.y=this.x=0,this};goog.exportProperty(box2d.b2Vec2.prototype,"SetZero",box2d.b2Vec2.prototype.SetZero);box2d.b2Vec2.prototype.Set=function(V,x){return this.x=V,this.y=x,this};goog.exportProperty(box2d.b2Vec2.prototype,"Set",box2d.b2Vec2.prototype.Set);box2d.b2Vec2.prototype.Copy=function(V){return this.x=V.x,this.y=V.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"Copy",box2d.b2Vec2.prototype.Copy);box2d.b2Vec2.prototype.SelfAdd=function(V){return this.x+=V.x,this.y+=V.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfAdd",box2d.b2Vec2.prototype.SelfAdd);box2d.b2Vec2.prototype.SelfAddXY=function(V,x){return this.x+=V,this.y+=x,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfAddXY",box2d.b2Vec2.prototype.SelfAddXY);box2d.b2Vec2.prototype.SelfSub=function(V){return this.x-=V.x,this.y-=V.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfSub",box2d.b2Vec2.prototype.SelfSub);box2d.b2Vec2.prototype.SelfSubXY=function(V,x){return this.x-=V,this.y-=x,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfSubXY",box2d.b2Vec2.prototype.SelfSubXY);box2d.b2Vec2.prototype.SelfMul=function(V){return this.x*=V,this.y*=V,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfMul",box2d.b2Vec2.prototype.SelfMul);box2d.b2Vec2.prototype.SelfMulAdd=function(V,x){return this.x+=V*x.x,this.y+=V*x.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfMulAdd",box2d.b2Vec2.prototype.SelfMulAdd);box2d.b2Vec2.prototype.SelfMulSub=function(V,x){return this.x-=V*x.x,this.y-=V*x.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfMulSub",box2d.b2Vec2.prototype.SelfMulSub);box2d.b2Vec2.prototype.Dot=function(V){return this.x*V.x+this.y*V.y};goog.exportProperty(box2d.b2Vec2.prototype,"Dot",box2d.b2Vec2.prototype.Dot);box2d.b2Vec2.prototype.Cross=function(V){return this.x*V.y-this.y*V.x};goog.exportProperty(box2d.b2Vec2.prototype,"Cross",box2d.b2Vec2.prototype.Cross);box2d.b2Vec2.prototype.Length=function(){var V=this.x,x=this.y;return Math.sqrt(V*V+x*x)};goog.exportProperty(box2d.b2Vec2.prototype,"Length",box2d.b2Vec2.prototype.Length);box2d.b2Vec2.prototype.LengthSquared=function(){var V=this.x,x=this.y;return V*V+x*x};goog.exportProperty(box2d.b2Vec2.prototype,"LengthSquared",box2d.b2Vec2.prototype.LengthSquared);box2d.b2Vec2.prototype.Normalize=function(){var V=this.Length();if(V>=box2d.b2_epsilon){var x=1/V;this.x*=x,this.y*=x}return V};goog.exportProperty(box2d.b2Vec2.prototype,"Normalize",box2d.b2Vec2.prototype.Normalize);box2d.b2Vec2.prototype.SelfNormalize=function(){return this.Normalize(),this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfNormalize",box2d.b2Vec2.prototype.SelfNormalize);box2d.b2Vec2.prototype.SelfRotate=function(V,x){var o=this.x,_o=this.y;return this.x=V*o-x*_o,this.y=x*o+V*_o,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfRotate",box2d.b2Vec2.prototype.SelfRotate);box2d.b2Vec2.prototype.SelfRotateAngle=function(V){return this.SelfRotate(Math.cos(V),Math.sin(V))};goog.exportProperty(box2d.b2Vec2.prototype,"SelfRotateAngle",box2d.b2Vec2.prototype.SelfRotateAngle);box2d.b2Vec2.prototype.IsValid=function(){return isFinite(this.x)&&isFinite(this.y)};goog.exportProperty(box2d.b2Vec2.prototype,"IsValid",box2d.b2Vec2.prototype.IsValid);box2d.b2Vec2.prototype.SelfMin=function(V){return this.x=Math.min(this.x,V.x),this.y=Math.min(this.y,V.y),this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfMin",box2d.b2Vec2.prototype.SelfMin);box2d.b2Vec2.prototype.SelfMax=function(V){return this.x=Math.max(this.x,V.x),this.y=Math.max(this.y,V.y),this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfMax",box2d.b2Vec2.prototype.SelfMax);box2d.b2Vec2.prototype.SelfAbs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfAbs",box2d.b2Vec2.prototype.SelfAbs);box2d.b2Vec2.prototype.SelfNeg=function(){return this.x=-this.x,this.y=-this.y,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfNeg",box2d.b2Vec2.prototype.SelfNeg);box2d.b2Vec2.prototype.SelfSkew=function(){var V=this.x;return this.x=-this.y,this.y=V,this};goog.exportProperty(box2d.b2Vec2.prototype,"SelfSkew",box2d.b2Vec2.prototype.SelfSkew);box2d.b2Abs_V2=function(V,x){return x.x=Math.abs(V.x),x.y=Math.abs(V.y),x};goog.exportSymbol("box2d.b2Abs_V2",box2d.b2Abs_V2);box2d.b2Min_V2_V2=function(V,x,o){return o.x=Math.min(V.x,x.x),o.y=Math.min(V.y,x.y),o};goog.exportSymbol("box2d.b2Min_V2_V2",box2d.b2Min_V2_V2);box2d.b2Max_V2_V2=function(V,x,o){return o.x=Math.max(V.x,x.x),o.y=Math.max(V.y,x.y),o};goog.exportSymbol("box2d.b2Max_V2_V2",box2d.b2Max_V2_V2);box2d.b2Clamp_V2_V2_V2=function(V,x,o,_o){return _o.x=Math.min(Math.max(V.x,x.x),o.x),_o.y=Math.min(Math.max(V.y,x.y),o.y),_o};goog.exportSymbol("box2d.b2Clamp_V2_V2_V2",box2d.b2Clamp_V2_V2_V2);box2d.b2Dot_V2_V2=function(V,x){return V.x*x.x+V.y*x.y};goog.exportSymbol("box2d.b2Dot_V2_V2",box2d.b2Dot_V2_V2);box2d.b2Cross_V2_V2=function(V,x){return V.x*x.y-V.y*x.x};goog.exportSymbol("box2d.b2Cross_V2_V2",box2d.b2Cross_V2_V2);box2d.b2Cross_V2_S=function(V,x,o){var _o=V.x;return o.x=x*V.y,o.y=-x*_o,o};goog.exportSymbol("box2d.b2Cross_V2_S",box2d.b2Cross_V2_S);box2d.b2Cross_S_V2=function(V,x,o){var _o=x.x;return o.x=-V*x.y,o.y=V*_o,o};goog.exportSymbol("box2d.b2Cross_S_V2",box2d.b2Cross_S_V2);box2d.b2Add_V2_V2=function(V,x,o){return o.x=V.x+x.x,o.y=V.y+x.y,o};goog.exportSymbol("box2d.b2Add_V2_V2",box2d.b2Add_V2_V2);box2d.b2Sub_V2_V2=function(V,x,o){return o.x=V.x-x.x,o.y=V.y-x.y,o};goog.exportSymbol("box2d.b2Sub_V2_V2",box2d.b2Sub_V2_V2);box2d.b2Add_V2_S=function(V,x,o){return o.x=V.x+x,o.y=V.y+x,o};goog.exportSymbol("box2d.b2Add_V2_S",box2d.b2Add_V2_S);box2d.b2Sub_V2_S=function(V,x,o){return o.x=V.x-x,o.y=V.y-x,o};goog.exportSymbol("box2d.b2Sub_V2_S",box2d.b2Sub_V2_S);box2d.b2Mul_S_V2=function(V,x,o){return o.x=x.x*V,o.y=x.y*V,o};goog.exportSymbol("box2d.b2Mul_S_V2",box2d.b2Mul_S_V2);box2d.b2Mul_V2_S=function(V,x,o){return o.x=V.x*x,o.y=V.y*x,o};goog.exportSymbol("box2d.b2Mul_V2_S",box2d.b2Mul_V2_S);box2d.b2Div_V2_S=function(V,x,o){return o.x=V.x/x,o.y=V.y/x,o};goog.exportSymbol("box2d.b2Div_V2_S",box2d.b2Div_V2_S);box2d.b2AddMul_V2_S_V2=function(V,x,o,_o){return _o.x=V.x+x*o.x,_o.y=V.y+x*o.y,_o};goog.exportSymbol("box2d.b2AddMul_V2_S_V2",box2d.b2AddMul_V2_S_V2);box2d.b2SubMul_V2_S_V2=function(V,x,o,_o){return _o.x=V.x-x*o.x,_o.y=V.y-x*o.y,_o};goog.exportSymbol("box2d.b2SubMul_V2_S_V2",box2d.b2SubMul_V2_S_V2);box2d.b2AddCross_V2_S_V2=function(V,x,o,_o){var _i=o.x;return _o.x=V.x-x*o.y,_o.y=V.y+x*_i,_o};goog.exportSymbol("box2d.b2AddCross_V2_S_V2",box2d.b2AddCross_V2_S_V2);box2d.b2Mid_V2_V2=function(V,x,o){return o.x=.5*(V.x+x.x),o.y=.5*(V.y+x.y),o};goog.exportSymbol("box2d.b2Mid_V2_V2",box2d.b2Mid_V2_V2);box2d.b2Ext_V2_V2=function(V,x,o){return o.x=.5*(x.x-V.x),o.y=.5*(x.y-V.y),o};goog.exportSymbol("box2d.b2Ext_V2_V2",box2d.b2Ext_V2_V2);box2d.b2Distance=function(V,x){var o=V.x-x.x,_o=V.y-x.y;return Math.sqrt(o*o+_o*_o)};goog.exportSymbol("box2d.b2Distance",box2d.b2Distance);box2d.b2DistanceSquared=function(V,x){var o=V.x-x.x,_o=V.y-x.y;return o*o+_o*_o};goog.exportSymbol("box2d.b2DistanceSquared",box2d.b2DistanceSquared);box2d.b2Vec3=function(V,x,o){this.x=V||0,this.y=x||0,this.z=o||0};goog.exportSymbol("box2d.b2Vec3",box2d.b2Vec3);box2d.b2Vec3.prototype.x=0;goog.exportProperty(box2d.b2Vec3.prototype,"x",box2d.b2Vec3.prototype.x);box2d.b2Vec3.prototype.y=0;goog.exportProperty(box2d.b2Vec3.prototype,"y",box2d.b2Vec3.prototype.y);box2d.b2Vec3.prototype.z=0;goog.exportProperty(box2d.b2Vec3.prototype,"z",box2d.b2Vec3.prototype.z);box2d.b2Vec3.ZERO=new box2d.b2Vec3;goog.exportProperty(box2d.b2Vec3,"ZERO",box2d.b2Vec3.ZERO);box2d.b2Vec3.s_t0=new box2d.b2Vec3;goog.exportProperty(box2d.b2Vec3,"s_t0",box2d.b2Vec3.s_t0);box2d.b2Vec3.prototype.Clone=function(){return new box2d.b2Vec3(this.x,this.y,this.z)};goog.exportProperty(box2d.b2Vec3.prototype,"Clone",box2d.b2Vec3.prototype.Clone);box2d.b2Vec3.prototype.SetZero=function(){return this.z=this.y=this.x=0,this};goog.exportProperty(box2d.b2Vec3.prototype,"SetZero",box2d.b2Vec3.prototype.SetZero);box2d.b2Vec3.prototype.Set=function(V,x,o){return this.x=V,this.y=x,this.z=o,this};goog.exportProperty(box2d.b2Vec3.prototype,"Set",box2d.b2Vec3.prototype.Set);box2d.b2Vec3.prototype.Copy=function(V){return this.x=V.x,this.y=V.y,this.z=V.z,this};goog.exportProperty(box2d.b2Vec3.prototype,"Copy",box2d.b2Vec3.prototype.Copy);box2d.b2Vec3.prototype.SelfNeg=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfNeg",box2d.b2Vec3.prototype.SelfNeg);box2d.b2Vec3.prototype.SelfAdd=function(V){return this.x+=V.x,this.y+=V.y,this.z+=V.z,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfAdd",box2d.b2Vec3.prototype.SelfAdd);box2d.b2Vec3.prototype.SelfAddV2=function(V,x){return this.x+=V.x,this.y+=V.y,this.z+=x,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfAddV2",box2d.b2Vec3.prototype.SelfAddV2);box2d.b2Vec3.prototype.SelfAddXYZ=function(V,x,o){return this.x+=V,this.y+=x,this.z+=o,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfAddXYZ",box2d.b2Vec3.prototype.SelfAddXYZ);box2d.b2Vec3.prototype.SelfSub=function(V){return this.x-=V.x,this.y-=V.y,this.z-=V.z,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfSub",box2d.b2Vec3.prototype.SelfSub);box2d.b2Vec3.prototype.SelfSubV2=function(V,x){return this.x-=V.x,this.y-=V.y,this.z-=x,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfSubV2",box2d.b2Vec3.prototype.SelfSubV2);box2d.b2Vec3.prototype.SelfSubXYZ=function(V,x,o){return this.x-=V,this.y-=x,this.z-=o,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfSubXYZ",box2d.b2Vec3.prototype.SelfSubXYZ);box2d.b2Vec3.prototype.SelfMul=function(V){return this.x*=V.x,this.y*=V.y,this.z*=V.z,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfMul",box2d.b2Vec3.prototype.SelfMul);box2d.b2Vec3.prototype.SelfMulV2=function(V,x){return this.x*=V.x,this.y*=V.y,this.z*=x,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfMulV2",box2d.b2Vec3.prototype.SelfMulV2);box2d.b2Vec3.prototype.SelfMulXYZ=function(V,x,o){return this.x*=V,this.y*=x,this.z*=o,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfMulXYZ",box2d.b2Vec3.prototype.SelfMulXYZ);box2d.b2Vec3.prototype.SelfMulScalar=function(V){return this.x*=V,this.y*=V,this.z*=V,this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfMulScalar",box2d.b2Vec3.prototype.SelfMulScalar);box2d.b2Vec3.prototype.Length=function(){var V=this.x,x=this.y,o=this.z;return Math.sqrt(V*V+x*x+o*o)};goog.exportProperty(box2d.b2Vec3.prototype,"Length",box2d.b2Vec3.prototype.Length);box2d.b2Vec3.prototype.LengthSquared=function(){var V=this.x,x=this.y,o=this.z;return V*V+x*x+o*o};goog.exportProperty(box2d.b2Vec3.prototype,"LengthSquared",box2d.b2Vec3.prototype.LengthSquared);box2d.b2Vec3.prototype.Normalize=function(){var V=this.Length();if(V>=box2d.b2_epsilon){var x=1/V;this.x*=x,this.y*=x,this.z*=x}return V};goog.exportProperty(box2d.b2Vec3.prototype,"Normalize",box2d.b2Vec3.prototype.Normalize);box2d.b2Vec3.prototype.SelfNormalize=function(){return this.Normalize(),this};goog.exportProperty(box2d.b2Vec3.prototype,"SelfNormalize",box2d.b2Vec3.prototype.SelfNormalize);box2d.b2Add_V3_V3=function(V,x,o){return o.x=V.x+x.x,o.y=V.y+x.y,o.z=V.z+x.z,o};goog.exportSymbol("box2d.b2Add_V3_V3",box2d.b2Add_V3_V3);box2d.b2Sub_V3_V3=function(V,x,o){return o.x=V.x+x.x,o.y=V.y+x.y,o.z=V.z+x.z,o};goog.exportSymbol("box2d.b2Sub_V3_V3",box2d.b2Sub_V3_V3);box2d.b2Dot_V3_V3=function(V,x){return V.x*x.x+V.y*x.y+V.z*x.z};goog.exportSymbol("box2d.b2Dot_V3_V3",box2d.b2Dot_V3_V3);box2d.b2Cross_V3_V3=function(V,x,o){var _o=V.x,_i=V.y;V=V.z;var l=x.x,t_=x.y;return x=x.z,o.x=_i*x-V*t_,o.y=V*l-_o*x,o.z=_o*t_-_i*l,o};goog.exportSymbol("box2d.b2Cross_V3_V3",box2d.b2Cross_V3_V3);box2d.b2Vec4=function(V,x,o,_o){this.x=V||0,this.y=x||0,this.z=o||0,this.w=_o||0};goog.exportSymbol("box2d.b2Vec4",box2d.b2Vec4);box2d.b2Vec4.prototype.x=0;goog.exportProperty(box2d.b2Vec4.prototype,"x",box2d.b2Vec4.prototype.x);box2d.b2Vec4.prototype.y=0;goog.exportProperty(box2d.b2Vec4.prototype,"y",box2d.b2Vec4.prototype.y);box2d.b2Vec4.prototype.z=0;goog.exportProperty(box2d.b2Vec4.prototype,"z",box2d.b2Vec4.prototype.z);box2d.b2Vec4.prototype.w=0;goog.exportProperty(box2d.b2Vec4.prototype,"w",box2d.b2Vec4.prototype.w);box2d.b2Vec4.ZERO=new box2d.b2Vec4(0,0,0,0);goog.exportProperty(box2d.b2Vec4,"ZERO",box2d.b2Vec4.ZERO);box2d.b2Vec4.s_t0=new box2d.b2Vec4;goog.exportProperty(box2d.b2Vec4,"s_t0",box2d.b2Vec4.s_t0);box2d.b2Vec4.prototype.Clone=function(){return new box2d.b2Vec4(this.x,this.y,this.z,this.w)};goog.exportProperty(box2d.b2Vec4.prototype,"Clone",box2d.b2Vec4.prototype.Clone);box2d.b2Vec4.prototype.SetZero=function(){return this.w=this.z=this.y=this.x=0,this};goog.exportProperty(box2d.b2Vec4.prototype,"SetZero",box2d.b2Vec4.prototype.SetZero);box2d.b2Vec4.prototype.Set=function(V,x,o,_o){return this.x=V,this.y=x,this.z=o,this.w=_o,this};goog.exportProperty(box2d.b2Vec4.prototype,"Set",box2d.b2Vec4.prototype.Set);box2d.b2Vec4.prototype.Copy=function(V){return this.x=V.x,this.y=V.y,this.z=V.z,this.w=V.w,this};goog.exportProperty(box2d.b2Vec4.prototype,"Copy",box2d.b2Vec4.prototype.Copy);box2d.b2Mat22=function(){this.ex=new box2d.b2Vec2(1,0),this.ey=new box2d.b2Vec2(0,1)};goog.exportSymbol("box2d.b2Mat22",box2d.b2Mat22);box2d.b2Mat22.prototype.ex=null;goog.exportProperty(box2d.b2Mat22.prototype,"ex",box2d.b2Mat22.prototype.ex);box2d.b2Mat22.prototype.ey=null;goog.exportProperty(box2d.b2Mat22.prototype,"ey",box2d.b2Mat22.prototype.ey);box2d.b2Mat22.IDENTITY=new box2d.b2Mat22;goog.exportProperty(box2d.b2Mat22,"IDENTITY",box2d.b2Mat22.IDENTITY);box2d.b2Mat22.prototype.Clone=function(){return new box2d.b2Mat22().Copy(this)};goog.exportProperty(box2d.b2Mat22.prototype,"Clone",box2d.b2Mat22.prototype.Clone);box2d.b2Mat22.prototype.SetAngle=function(V){var x=Math.cos(V);return V=Math.sin(V),this.ex.Set(x,V),this.ey.Set(-V,x),this};goog.exportProperty(box2d.b2Mat22.prototype,"SetAngle",box2d.b2Mat22.prototype.SetAngle);box2d.b2Mat22.prototype.Copy=function(V){return this.ex.Copy(V.ex),this.ey.Copy(V.ey),this};goog.exportProperty(box2d.b2Mat22.prototype,"Copy",box2d.b2Mat22.prototype.Copy);box2d.b2Mat22.prototype.SetIdentity=function(){return this.ex.Set(1,0),this.ey.Set(0,1),this};goog.exportProperty(box2d.b2Mat22.prototype,"SetIdentity",box2d.b2Mat22.prototype.SetIdentity);box2d.b2Mat22.prototype.SetZero=function(){return this.ex.SetZero(),this.ey.SetZero(),this};goog.exportProperty(box2d.b2Mat22.prototype,"SetZero",box2d.b2Mat22.prototype.SetZero);box2d.b2Mat22.prototype.GetAngle=function(){return Math.atan2(this.ex.y,this.ex.x)};goog.exportProperty(box2d.b2Mat22.prototype,"GetAngle",box2d.b2Mat22.prototype.GetAngle);box2d.b2Mat22.prototype.GetInverse=function(V){var x=this.ex.x,o=this.ey.x,_o=this.ex.y,_i=this.ey.y,l=x*_i-o*_o;return l!==0&&(l=1/l),V.ex.x=l*_i,V.ey.x=-l*o,V.ex.y=-l*_o,V.ey.y=l*x,V};goog.exportProperty(box2d.b2Mat22.prototype,"GetInverse",box2d.b2Mat22.prototype.GetInverse);box2d.b2Mat22.prototype.Solve=function(V,x,o){var _o=this.ex.x,_i=this.ey.x,l=this.ex.y,t_=this.ey.y,o_=_o*t_-_i*l;return o_!==0&&(o_=1/o_),o.x=o_*(t_*V-_i*x),o.y=o_*(_o*x-l*V),o};goog.exportProperty(box2d.b2Mat22.prototype,"Solve",box2d.b2Mat22.prototype.Solve);box2d.b2Mat22.prototype.SelfAbs=function(){return this.ex.SelfAbs(),this.ey.SelfAbs(),this};goog.exportProperty(box2d.b2Mat22.prototype,"SelfAbs",box2d.b2Mat22.prototype.SelfAbs);box2d.b2Mat22.prototype.SelfInv=function(){return this.GetInverse(this)};goog.exportProperty(box2d.b2Mat22.prototype,"SelfInv",box2d.b2Mat22.prototype.SelfInv);box2d.b2Mat22.prototype.SelfAdd=function(V){return this.ex.SelfAdd(V.ex),this.ey.SelfAdd(V.ey),this};goog.exportProperty(box2d.b2Mat22.prototype,"SelfAdd",box2d.b2Mat22.prototype.SelfAdd);box2d.b2Mat22.prototype.SelfSub=function(V){return this.ex.SelfSub(V.ex),this.ey.SelfSub(V.ey),this};goog.exportProperty(box2d.b2Mat22.prototype,"SelfSub",box2d.b2Mat22.prototype.SelfSub);box2d.b2Abs_M22=function(V,x){var o=V.ex,_o=V.ey;return x.ex.x=box2d.b2Abs(o.x),x.ex.y=box2d.b2Abs(o.y),x.ey.x=box2d.b2Abs(_o.x),x.ey.y=box2d.b2Abs(_o.y),x};goog.exportSymbol("box2d.b2Abs_M22",box2d.b2Abs_M22);box2d.b2Mul_M22_V2=function(V,x,o){var _o=V.ex;V=V.ey;var _i=x.x;return x=x.y,o.x=_o.x*_i+V.x*x,o.y=_o.y*_i+V.y*x,o};goog.exportSymbol("box2d.b2Mul_M22_V2",box2d.b2Mul_M22_V2);box2d.b2MulT_M22_V2=function(V,x,o){var _o=V.ex;V=V.ey;var _i=x.x;return x=x.y,o.x=_o.x*_i+_o.y*x,o.y=V.x*_i+V.y*x,o};goog.exportSymbol("box2d.b2MulT_M22_V2",box2d.b2MulT_M22_V2);box2d.b2Add_M22_M22=function(V,x,o){var _o=V.ex;V=V.ey;var _i=x.ex;return x=x.ey,o.ex.x=_o.x+_i.x,o.ex.y=_o.y+_i.y,o.ey.x=V.x+x.x,o.ey.y=V.y+x.y,o};goog.exportSymbol("box2d.b2Add_M22_M22",box2d.b2Add_M22_M22);box2d.b2Mul_M22_M22=function(V,x,o){var _o=V.ex.x,_i=V.ex.y,l=V.ey.x;V=V.ey.y;var t_=x.ex.x,o_=x.ex.y,i_=x.ey.x;return x=x.ey.y,o.ex.x=_o*t_+l*o_,o.ex.y=_i*t_+V*o_,o.ey.x=_o*i_+l*x,o.ey.y=_i*i_+V*x,o};goog.exportSymbol("box2d.b2Mul_M22_M22",box2d.b2Mul_M22_M22);box2d.b2MulT_M22_M22=function(V,x,o){var _o=V.ex.x,_i=V.ex.y,l=V.ey.x;V=V.ey.y;var t_=x.ex.x,o_=x.ex.y,i_=x.ey.x;return x=x.ey.y,o.ex.x=_o*t_+_i*o_,o.ex.y=l*t_+V*o_,o.ey.x=_o*i_+_i*x,o.ey.y=l*i_+V*x,o};goog.exportSymbol("box2d.b2MulT_M22_M22",box2d.b2MulT_M22_M22);box2d.b2Mat33=function(){this.ex=new box2d.b2Vec3(1,0,0),this.ey=new box2d.b2Vec3(0,1,0),this.ez=new box2d.b2Vec3(0,0,1)};goog.exportSymbol("box2d.b2Mat33",box2d.b2Mat33);box2d.b2Mat33.prototype.ex=null;goog.exportProperty(box2d.b2Mat33.prototype,"ex",box2d.b2Mat33.prototype.ex);box2d.b2Mat33.prototype.ey=null;goog.exportProperty(box2d.b2Mat33.prototype,"ey",box2d.b2Mat33.prototype.ey);box2d.b2Mat33.prototype.ez=null;goog.exportProperty(box2d.b2Mat33.prototype,"ez",box2d.b2Mat33.prototype.ez);box2d.b2Mat33.IDENTITY=new box2d.b2Mat33;goog.exportProperty(box2d.b2Mat33,"IDENTITY",box2d.b2Mat33.IDENTITY);box2d.b2Mat33.prototype.Clone=function(){return new box2d.b2Mat33().Copy(this)};goog.exportProperty(box2d.b2Mat33.prototype,"Clone",box2d.b2Mat33.prototype.Clone);box2d.b2Mat33.prototype.Copy=function(V){return this.ex.Copy(V.ex),this.ey.Copy(V.ey),this.ez.Copy(V.ez),this};goog.exportProperty(box2d.b2Mat33.prototype,"Copy",box2d.b2Mat33.prototype.Copy);box2d.b2Mat33.prototype.SetIdentity=function(){return this.ex.Set(1,0,0),this.ey.Set(0,1,0),this.ez.Set(0,0,1),this};goog.exportProperty(box2d.b2Mat33.prototype,"SetIdentity",box2d.b2Mat33.prototype.SetIdentity);box2d.b2Mat33.prototype.SetZero=function(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this};goog.exportProperty(box2d.b2Mat33.prototype,"SetZero",box2d.b2Mat33.prototype.SetZero);box2d.b2Mat33.prototype.SelfAdd=function(V){return this.ex.SelfAdd(V.ex),this.ey.SelfAdd(V.ey),this.ez.SelfAdd(V.ez),this};goog.exportProperty(box2d.b2Mat33.prototype,"SelfAdd",box2d.b2Mat33.prototype.SelfAdd);box2d.b2Mat33.prototype.Solve33=function(V,x,o,_o){var _i=this.ex.x,l=this.ex.y,t_=this.ex.z,o_=this.ey.x,i_=this.ey.y,_e=this.ey.z,l_=this.ez.x,ws=this.ez.y,h_=this.ez.z,s_=_i*(i_*h_-_e*ws)+l*(_e*l_-o_*h_)+t_*(o_*ws-i_*l_);return s_!==0&&(s_=1/s_),_o.x=s_*(V*(i_*h_-_e*ws)+x*(_e*l_-o_*h_)+o*(o_*ws-i_*l_)),_o.y=s_*(_i*(x*h_-o*ws)+l*(o*l_-V*h_)+t_*(V*ws-x*l_)),_o.z=s_*(_i*(i_*o-_e*x)+l*(_e*V-o_*o)+t_*(o_*x-i_*V)),_o};goog.exportProperty(box2d.b2Mat33.prototype,"Solve33",box2d.b2Mat33.prototype.Solve33);box2d.b2Mat33.prototype.Solve22=function(V,x,o){var _o=this.ex.x,_i=this.ey.x,l=this.ex.y,t_=this.ey.y,o_=_o*t_-_i*l;return o_!==0&&(o_=1/o_),o.x=o_*(t_*V-_i*x),o.y=o_*(_o*x-l*V),o};goog.exportProperty(box2d.b2Mat33.prototype,"Solve22",box2d.b2Mat33.prototype.Solve22);box2d.b2Mat33.prototype.GetInverse22=function(V){var x=this.ex.x,o=this.ey.x,_o=this.ex.y,_i=this.ey.y,l=x*_i-o*_o;l!==0&&(l=1/l),V.ex.x=l*_i,V.ey.x=-l*o,V.ex.z=0,V.ex.y=-l*_o,V.ey.y=l*x,V.ey.z=0,V.ez.x=0,V.ez.y=0,V.ez.z=0};goog.exportProperty(box2d.b2Mat33.prototype,"GetInverse22",box2d.b2Mat33.prototype.GetInverse22);box2d.b2Mat33.prototype.GetSymInverse33=function(V){var x=box2d.b2Dot_V3_V3(this.ex,box2d.b2Cross_V3_V3(this.ey,this.ez,box2d.b2Vec3.s_t0));x!==0&&(x=1/x);var o=this.ex.x,_o=this.ey.x,_i=this.ez.x,l=this.ey.y,t_=this.ez.y,o_=this.ez.z;V.ex.x=x*(l*o_-t_*t_),V.ex.y=x*(_i*t_-_o*o_),V.ex.z=x*(_o*t_-_i*l),V.ey.x=V.ex.y,V.ey.y=x*(o*o_-_i*_i),V.ey.z=x*(_i*_o-o*t_),V.ez.x=V.ex.z,V.ez.y=V.ey.z,V.ez.z=x*(o*l-_o*_o)};goog.exportProperty(box2d.b2Mat33.prototype,"GetSymInverse33",box2d.b2Mat33.prototype.GetSymInverse33);box2d.b2Mul_M33_V3=function(V,x,o){var _o=x.x,_i=x.y;return x=x.z,o.x=V.ex.x*_o+V.ey.x*_i+V.ez.x*x,o.y=V.ex.y*_o+V.ey.y*_i+V.ez.y*x,o.z=V.ex.z*_o+V.ey.z*_i+V.ez.z*x,o};goog.exportSymbol("box2d.b2Mul_M33_V3",box2d.b2Mul_M33_V3);box2d.b2Mul_M33_X_Y_Z=function(V,x,o,_o,_i){return _i.x=V.ex.x*x+V.ey.x*o+V.ez.x*_o,_i.y=V.ex.y*x+V.ey.y*o+V.ez.y*_o,_i.z=V.ex.z*x+V.ey.z*o+V.ez.z*_o,_i};goog.exportSymbol("box2d.b2Mul_M33_X_Y_Z",box2d.b2Mul_M33_X_Y_Z);box2d.b2Mul22_M33_V2=function(V,x,o){var _o=x.x;return x=x.y,o.x=V.ex.x*_o+V.ey.x*x,o.y=V.ex.y*_o+V.ey.y*x,o};goog.exportSymbol("box2d.b2Mul22_M33_V2",box2d.b2Mul22_M33_V2);box2d.b2Mul_M33_X_Y=function(V,x,o,_o){return _o.x=V.ex.x*x+V.ey.x*o,_o.y=V.ex.y*x+V.ey.y*o,_o};goog.exportSymbol("box2d.b2Mul_M33_X_Y",box2d.b2Mul_M33_X_Y);box2d.b2Rot=function(V){V&&(this.angle=V,this.s=Math.sin(V),this.c=Math.cos(V))};goog.exportSymbol("box2d.b2Rot",box2d.b2Rot);box2d.b2Rot.prototype.angle=0;goog.exportProperty(box2d.b2Rot.prototype,"angle",box2d.b2Rot.prototype.angle);box2d.b2Rot.prototype.s=0;goog.exportProperty(box2d.b2Rot.prototype,"s",box2d.b2Rot.prototype.s);box2d.b2Rot.prototype.c=1;goog.exportProperty(box2d.b2Rot.prototype,"c",box2d.b2Rot.prototype.c);box2d.b2Rot.IDENTITY=new box2d.b2Rot;goog.exportProperty(box2d.b2Rot,"IDENTITY",box2d.b2Rot.IDENTITY);box2d.b2Rot.prototype.Clone=function(){return new box2d.b2Rot().Copy(this)};goog.exportProperty(box2d.b2Rot.prototype,"Clone",box2d.b2Rot.prototype.Clone);box2d.b2Rot.prototype.Copy=function(V){return this.angle=V.angle,this.s=V.s,this.c=V.c,this};goog.exportProperty(box2d.b2Rot.prototype,"Copy",box2d.b2Rot.prototype.Copy);box2d.b2Rot.prototype.Set=function(V){return Math.abs(this.angle-V)>=box2d.b2_epsilon&&(this.angle=V,this.s=Math.sin(V),this.c=Math.cos(V)),this};goog.exportProperty(box2d.b2Rot.prototype,"Set",box2d.b2Rot.prototype.Set);box2d.b2Rot.prototype.SetAngle=box2d.b2Rot.prototype.Set;goog.exportProperty(box2d.b2Rot.prototype,"SetAngle",box2d.b2Rot.prototype.SetAngle);box2d.b2Rot.prototype.SetIdentity=function(){return this.s=this.angle=0,this.c=1,this};goog.exportProperty(box2d.b2Rot.prototype,"SetIdentity",box2d.b2Rot.prototype.SetIdentity);box2d.b2Rot.prototype.GetAngle=function(){return this.angle};goog.exportProperty(box2d.b2Rot.prototype,"GetAngle",box2d.b2Rot.prototype.GetAngle);box2d.b2Rot.prototype.GetXAxis=function(V){return V.x=this.c,V.y=this.s,V};goog.exportProperty(box2d.b2Rot.prototype,"GetXAxis",box2d.b2Rot.prototype.GetXAxis);box2d.b2Rot.prototype.GetYAxis=function(V){return V.x=-this.s,V.y=this.c,V};goog.exportProperty(box2d.b2Rot.prototype,"GetYAxis",box2d.b2Rot.prototype.GetYAxis);box2d.b2Mul_R_R=function(V,x,o){var _o=V.c,_i=V.s,l=x.c,t_=x.s;return o.s=_i*l+_o*t_,o.c=_o*l-_i*t_,o.angle=box2d.b2WrapAngle(V.angle+x.angle),o};goog.exportSymbol("box2d.b2Mul_R_R",box2d.b2Mul_R_R);box2d.b2MulT_R_R=function(V,x,o){var _o=V.c,_i=V.s,l=x.c,t_=x.s;return o.s=_o*t_-_i*l,o.c=_o*l+_i*t_,o.angle=box2d.b2WrapAngle(V.angle-x.angle),o};goog.exportSymbol("box2d.b2MulT_R_R",box2d.b2MulT_R_R);box2d.b2Mul_R_V2=function(V,x,o){var _o=V.c;V=V.s;var _i=x.x;return x=x.y,o.x=_o*_i-V*x,o.y=V*_i+_o*x,o};goog.exportSymbol("box2d.b2Mul_R_V2",box2d.b2Mul_R_V2);box2d.b2MulT_R_V2=function(V,x,o){var _o=V.c;V=V.s;var _i=x.x;return x=x.y,o.x=_o*_i+V*x,o.y=-V*_i+_o*x,o};goog.exportSymbol("box2d.b2MulT_R_V2",box2d.b2MulT_R_V2);box2d.b2Transform=function(){this.p=new box2d.b2Vec2,this.q=new box2d.b2Rot};goog.exportSymbol("box2d.b2Transform",box2d.b2Transform);box2d.b2Transform.prototype.p=null;goog.exportProperty(box2d.b2Transform.prototype,"p",box2d.b2Transform.prototype.p);box2d.b2Transform.prototype.q=null;goog.exportProperty(box2d.b2Transform.prototype,"q",box2d.b2Transform.prototype.q);box2d.b2Transform.IDENTITY=new box2d.b2Transform;goog.exportProperty(box2d.b2Transform,"IDENTITY",box2d.b2Transform.IDENTITY);box2d.b2Transform.prototype.Clone=function(){return new box2d.b2Transform().Copy(this)};goog.exportProperty(box2d.b2Transform.prototype,"Clone",box2d.b2Transform.prototype.Clone);box2d.b2Transform.prototype.Copy=function(V){return this.p.Copy(V.p),this.q.Copy(V.q),this};goog.exportProperty(box2d.b2Transform.prototype,"Copy",box2d.b2Transform.prototype.Copy);box2d.b2Transform.prototype.SetIdentity=function(){return this.p.SetZero(),this.q.SetIdentity(),this};goog.exportProperty(box2d.b2Transform.prototype,"SetIdentity",box2d.b2Transform.prototype.SetIdentity);box2d.b2Transform.prototype.Set=function(V,x){return this.SetPositionRotationAngle(V,x)};box2d.b2Transform.prototype.SetPositionRotation=function(V,x){return this.p.Copy(V),this.q.Copy(x),this};goog.exportProperty(box2d.b2Transform.prototype,"SetPositionRotation",box2d.b2Transform.prototype.SetPositionRotation);box2d.b2Transform.prototype.SetPositionRotationAngle=function(V,x){return this.p.Copy(V),this.q.SetAngle(x),this};goog.exportProperty(box2d.b2Transform.prototype,"SetPositionRotationAngle",box2d.b2Transform.prototype.SetPositionRotationAngle);box2d.b2Transform.prototype.SetPosition=function(V){return this.p.Copy(V),this};goog.exportProperty(box2d.b2Transform.prototype,"SetPosition",box2d.b2Transform.prototype.SetPosition);box2d.b2Transform.prototype.SetPositionXY=function(V,x){return this.p.Set(V,x),this};goog.exportProperty(box2d.b2Transform.prototype,"SetPositionXY",box2d.b2Transform.prototype.SetPositionXY);box2d.b2Transform.prototype.SetRotation=function(V){return this.q.Copy(V),this};goog.exportProperty(box2d.b2Transform.prototype,"SetRotation",box2d.b2Transform.prototype.SetRotation);box2d.b2Transform.prototype.SetRotationAngle=function(V){return this.q.SetAngle(V),this};goog.exportProperty(box2d.b2Transform.prototype,"SetRotationAngle",box2d.b2Transform.prototype.SetRotationAngle);box2d.b2Transform.prototype.GetPosition=function(){return this.p};goog.exportProperty(box2d.b2Transform.prototype,"GetPosition",box2d.b2Transform.prototype.GetPosition);box2d.b2Transform.prototype.GetRotation=function(){return this.q};goog.exportProperty(box2d.b2Transform.prototype,"GetRotation",box2d.b2Transform.prototype.GetRotation);box2d.b2Transform.prototype.GetRotationAngle=function(){return this.q.GetAngle()};goog.exportProperty(box2d.b2Transform.prototype,"GetRotationAngle",box2d.b2Transform.prototype.GetRotationAngle);box2d.b2Transform.prototype.GetAngle=function(){return this.q.GetAngle()};goog.exportProperty(box2d.b2Transform.prototype,"GetAngle",box2d.b2Transform.prototype.GetAngle);box2d.b2Mul_X_V2=function(V,x,o){var _o=V.q.c,_i=V.q.s,l=x.x;return x=x.y,o.x=_o*l-_i*x+V.p.x,o.y=_i*l+_o*x+V.p.y,o};goog.exportSymbol("box2d.b2Mul_X_V2",box2d.b2Mul_X_V2);box2d.b2MulT_X_V2=function(V,x,o){var _o=V.q.c,_i=V.q.s,l=x.x-V.p.x;return V=x.y-V.p.y,o.x=_o*l+_i*V,o.y=-_i*l+_o*V,o};goog.exportSymbol("box2d.b2MulT_X_V2",box2d.b2MulT_X_V2);box2d.b2Mul_X_X=function(V,x,o){return box2d.b2Mul_R_R(V.q,x.q,o.q),box2d.b2Add_V2_V2(box2d.b2Mul_R_V2(V.q,x.p,o.p),V.p,o.p),o};goog.exportSymbol("box2d.b2Mul_X_X",box2d.b2Mul_X_X);box2d.b2MulT_X_X=function(V,x,o){return box2d.b2MulT_R_R(V.q,x.q,o.q),box2d.b2MulT_R_V2(V.q,box2d.b2Sub_V2_V2(x.p,V.p,o.p),o.p),o};goog.exportSymbol("box2d.b2MulT_X_X",box2d.b2MulT_X_X);box2d.b2Sweep=function(){this.localCenter=new box2d.b2Vec2,this.c0=new box2d.b2Vec2,this.c=new box2d.b2Vec2};goog.exportSymbol("box2d.b2Sweep",box2d.b2Sweep);box2d.b2Sweep.prototype.localCenter=null;goog.exportProperty(box2d.b2Sweep.prototype,"localCenter",box2d.b2Sweep.prototype.localCenter);box2d.b2Sweep.prototype.c0=null;goog.exportProperty(box2d.b2Sweep.prototype,"c0",box2d.b2Sweep.prototype.c0);box2d.b2Sweep.prototype.c=null;goog.exportProperty(box2d.b2Sweep.prototype,"c",box2d.b2Sweep.prototype.c);box2d.b2Sweep.prototype.a0=0;goog.exportProperty(box2d.b2Sweep.prototype,"a0",box2d.b2Sweep.prototype.a0);box2d.b2Sweep.prototype.a=0;goog.exportProperty(box2d.b2Sweep.prototype,"a",box2d.b2Sweep.prototype.a);box2d.b2Sweep.prototype.alpha0=0;goog.exportProperty(box2d.b2Sweep.prototype,"alpha0",box2d.b2Sweep.prototype.alpha0);box2d.b2Sweep.prototype.Clone=function(){return new box2d.b2Sweep().Copy(this)};goog.exportProperty(box2d.b2Sweep.prototype,"Clone",box2d.b2Sweep.prototype.Clone);box2d.b2Sweep.prototype.Copy=function(V){return this.localCenter.Copy(V.localCenter),this.c0.Copy(V.c0),this.c.Copy(V.c),this.a0=V.a0,this.a=V.a,this.alpha0=V.alpha0,this};goog.exportProperty(box2d.b2Sweep.prototype,"Copy",box2d.b2Sweep.prototype.Copy);box2d.b2Sweep.prototype.GetTransform=function(V,x){var o=1-x;return V.p.x=o*this.c0.x+x*this.c.x,V.p.y=o*this.c0.y+x*this.c.y,V.q.SetAngle(o*this.a0+x*this.a),V.p.SelfSub(box2d.b2Mul_R_V2(V.q,this.localCenter,box2d.b2Vec2.s_t0)),V};goog.exportProperty(box2d.b2Sweep.prototype,"GetTransform",box2d.b2Sweep.prototype.GetTransform);box2d.b2Sweep.prototype.Advance=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(1>this.alpha0);var x=(V-this.alpha0)/(1-this.alpha0);this.c0.x+=x*(this.c.x-this.c0.x),this.c0.y+=x*(this.c.y-this.c0.y),this.a0+=x*(this.a-this.a0),this.alpha0=V};goog.exportProperty(box2d.b2Sweep.prototype,"Advance",box2d.b2Sweep.prototype.Advance);box2d.b2Sweep.prototype.Normalize=function(){this.a0=box2d.b2WrapAngle(this.a0),this.a=box2d.b2WrapAngle(this.a)};goog.exportProperty(box2d.b2Sweep.prototype,"Normalize",box2d.b2Sweep.prototype.Normalize);box2d.b2Dot=function(V,x){if(V instanceof box2d.b2Vec2&&x instanceof box2d.b2Vec2)return box2d.b2Dot_V2_V2(V,x);if(V instanceof box2d.b2Vec3&&x instanceof box2d.b2Vec3)return box2d.b2Dot_V3_V3(V,x);throw Error()};goog.exportSymbol("box2d.b2Dot",box2d.b2Dot);box2d.b2Cross=function(V,x,o){if(V instanceof box2d.b2Vec2&&x instanceof box2d.b2Vec2)return box2d.b2Cross_V2_V2(V,x);if(V instanceof box2d.b2Vec2&&typeof x=="number"&&o instanceof box2d.b2Vec2)return box2d.b2Cross_V2_S(V,x,o);if(typeof V=="number"&&x instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Cross_S_V2(V,x,o);if(V instanceof box2d.b2Vec3&&x instanceof box2d.b2Vec3&&o instanceof box2d.b2Vec3)return box2d.b2Cross_V3_V3(V,x,o);throw Error()};goog.exportSymbol("box2d.b2Cross",box2d.b2Cross);box2d.b2Add=function(V,x,o){if(V instanceof box2d.b2Vec2&&x instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Add_V2_V2(V,x,o);if(V instanceof box2d.b2Vec3&&x instanceof box2d.b2Vec3&&o instanceof box2d.b2Vec3)return box2d.b2Add_V3_V3(V,x,o);throw Error()};goog.exportSymbol("box2d.b2Add",box2d.b2Add);box2d.b2Sub=function(V,x,o){if(V instanceof box2d.b2Vec2&&x instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Sub_V2_V2(V,x,o);if(V instanceof box2d.b2Vec3&&x instanceof box2d.b2Vec3&&o instanceof box2d.b2Vec3)return box2d.b2Sub_V3_V3(V,x,o);throw Error()};goog.exportSymbol("box2d.b2Sub",box2d.b2Sub);box2d.b2Mul=function(V,x,o){if(V instanceof box2d.b2Mat22&&x instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Mul_M22_V2(V,x,o);if(V instanceof box2d.b2Mat22&&x instanceof box2d.b2Mat22&&o instanceof box2d.b2Mat22)return box2d.b2Mul_M22_M22(V,x,o);if(V instanceof box2d.b2Mat33&&x instanceof box2d.b2Vec3&&o instanceof box2d.b2Vec3)return box2d.b2Mul_M33_V3(V,x,o);if(V instanceof box2d.b2Rot&&x instanceof box2d.b2Rot&&o instanceof box2d.b2Rot)return box2d.b2Mul_R_R(V,x,o);if(V instanceof box2d.b2Rot&&x instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Mul_R_V2(V,x,o);if(V instanceof box2d.b2Transform&&x instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2Mul_X_V2(V,x,o);if(V instanceof box2d.b2Transform&&x instanceof box2d.b2Transform&&o instanceof box2d.b2Transform)return box2d.b2Mul_X_X(V,x,o);throw Error()};goog.exportSymbol("box2d.b2Mul",box2d.b2Mul);box2d.b2Mul22=function(V,x,o){if(V instanceof box2d.b2Mat33&&x instanceof box2d.b2Vec2)return box2d.b2Mul22_M33_V2(V,x,o);throw Error()};goog.exportSymbol("box2d.b2Mul22",box2d.b2Mul22);box2d.b2MulT=function(V,x,o){if(V instanceof box2d.b2Mat22&&x instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2MulT_M22_V2(V,x,o);if(V instanceof box2d.b2Mat22&&x instanceof box2d.b2Mat22&&o instanceof box2d.b2Mat22)return box2d.b2MulT_M22_M22(V,x,o);if(V instanceof box2d.b2Rot&&x instanceof box2d.b2Rot&&o instanceof box2d.b2Rot)return box2d.b2MulT_R_R(V,x,o);if(V instanceof box2d.b2Rot&&x instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2MulT_R_V2(V,x,o);if(V instanceof box2d.b2Transform&&x instanceof box2d.b2Vec2&&o instanceof box2d.b2Vec2)return box2d.b2MulT_X_V2(V,x,o);if(V instanceof box2d.b2Transform&&x instanceof box2d.b2Transform&&o instanceof box2d.b2Transform)return box2d.b2MulT_X_X(V,x,o);throw Error()};goog.exportSymbol("box2d.b2MulT",box2d.b2MulT);box2d.b2ConstantAccelController=function(){box2d.b2Controller.call(this),this.A=new box2d.b2Vec2(0,0)};goog.inherits(box2d.b2ConstantAccelController,box2d.b2Controller);goog.exportSymbol("box2d.b2ConstantAccelController",box2d.b2ConstantAccelController);box2d.b2ConstantAccelController.prototype.A=null;goog.exportProperty(box2d.b2ConstantAccelController.prototype,"A",box2d.b2ConstantAccelController.prototype.A);box2d.b2ConstantAccelController.prototype.Step=function(V){V=box2d.b2Mul_S_V2(V.dt,this.A,box2d.b2ConstantAccelController.prototype.Step.s_dtA);for(var x=this.m_bodyList;x;x=x.nextBody){var o=x.body;o.IsAwake()&&o.SetLinearVelocity(box2d.b2Add_V2_V2(o.GetLinearVelocity(),V,box2d.b2Vec2.s_t0))}};goog.exportProperty(box2d.b2ConstantAccelController.prototype,"Step",box2d.b2ConstantAccelController.prototype.Step);box2d.b2ConstantAccelController.prototype.Step.s_dtA=new box2d.b2Vec2;box2d.b2ConstantForceController=function(){box2d.b2Controller.call(this),this.F=new box2d.b2Vec2(0,0)};goog.inherits(box2d.b2ConstantForceController,box2d.b2Controller);goog.exportSymbol("box2d.b2ConstantForceController",box2d.b2ConstantForceController);box2d.b2ConstantAccelController.prototype.F=null;goog.exportProperty(box2d.b2ConstantAccelController.prototype,"F",box2d.b2ConstantAccelController.prototype.F);box2d.b2ConstantForceController.prototype.Step=function(V){for(V=this.m_bodyList;V;V=V.nextBody){var x=V.body;x.IsAwake()&&x.ApplyForce(this.F,x.GetWorldCenter())}};goog.exportProperty(box2d.b2ConstantForceController.prototype,"Step",box2d.b2ConstantForceController.prototype.Step);box2d.b2GravityController=function(){box2d.b2Controller.call(this)};goog.inherits(box2d.b2GravityController,box2d.b2Controller);goog.exportSymbol("box2d.b2GravityController",box2d.b2GravityController);box2d.b2GravityController.prototype.G=1;goog.exportProperty(box2d.b2GravityController.prototype,"G",box2d.b2GravityController.prototype.G);box2d.b2GravityController.prototype.invSqr=!0;goog.exportProperty(box2d.b2GravityController.prototype,"invSqr",box2d.b2GravityController.prototype.invSqr);box2d.b2GravityController.prototype.Step=function(V){if(this.invSqr)for(V=this.m_bodyList;V;V=V.nextBody)for(var x=V.body,o=x.GetWorldCenter(),_o=x.GetMass(),_i=this.m_bodyList;_i!==V;_i=_i.nextBody){var l=_i.body,t_=l.GetWorldCenter(),o_=l.GetMass(),i_=t_.x-o.x,_e=t_.y-o.y,l_=i_*i_+_e*_e;l_<box2d.b2_epsilon||(i_=box2d.b2GravityController.prototype.Step.s_f.Set(i_,_e),i_.SelfMul(this.G/l_/box2d.b2Sqrt(l_)*_o*o_),x.IsAwake()&&x.ApplyForce(i_,o),l.IsAwake()&&l.ApplyForce(i_.SelfMul(-1),t_))}else for(V=this.m_bodyList;V;V=V.nextBody)for(x=V.body,o=x.GetWorldCenter(),_o=x.GetMass(),_i=this.m_bodyList;_i!==V;_i=_i.nextBody)l=_i.body,t_=l.GetWorldCenter(),o_=l.GetMass(),i_=t_.x-o.x,_e=t_.y-o.y,l_=i_*i_+_e*_e,l_<box2d.b2_epsilon||(i_=box2d.b2GravityController.prototype.Step.s_f.Set(i_,_e),i_.SelfMul(this.G/l_*_o*o_),x.IsAwake()&&x.ApplyForce(i_,o),l.IsAwake()&&l.ApplyForce(i_.SelfMul(-1),t_))};goog.exportProperty(box2d.b2GravityController.prototype,"Step",box2d.b2GravityController.prototype.Step);box2d.b2GravityController.prototype.Step.s_f=new box2d.b2Vec2;box2d.b2TensorDampingController=function(){box2d.b2Controller.call(this),this.T=new box2d.b2Mat22,this.maxTimestep=0};goog.inherits(box2d.b2TensorDampingController,box2d.b2Controller);goog.exportSymbol("box2d.b2TensorDampingController",box2d.b2TensorDampingController);box2d.b2TensorDampingController.prototype.T=new box2d.b2Mat22;goog.exportProperty(box2d.b2TensorDampingController.prototype,"T",box2d.b2TensorDampingController.prototype.T);box2d.b2TensorDampingController.prototype.maxTimestep=0;goog.exportProperty(box2d.b2TensorDampingController.prototype,"maxTimestep",box2d.b2TensorDampingController.prototype.maxTimestep);box2d.b2TensorDampingController.prototype.Step=function(V){if(V=V.dt,!(V<=box2d.b2_epsilon)){V>this.maxTimestep&&0<this.maxTimestep&&(V=this.maxTimestep);for(var x=this.m_bodyList;x;x=x.nextBody){var o=x.body;if(o.IsAwake()){var _o=o.GetWorldVector(box2d.b2Mul_M22_V2(this.T,o.GetLocalVector(o.GetLinearVelocity(),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t1),box2d.b2TensorDampingController.prototype.Step.s_damping);o.SetLinearVelocity(box2d.b2Add_V2_V2(o.GetLinearVelocity(),box2d.b2Mul_S_V2(V,_o,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t1))}}}};box2d.b2TensorDampingController.prototype.Step.s_damping=new box2d.b2Vec2;box2d.b2TensorDampingController.prototype.SetAxisAligned=function(V,x){this.T.ex.x=-V,this.T.ex.y=0,this.T.ey.x=0,this.T.ey.y=-x,this.maxTimestep=0<V||0<x?1/box2d.b2Max(V,x):0};box2d.b2DistanceProxy=function(){this.m_buffer=box2d.b2Vec2.MakeArray(2)};goog.exportSymbol("box2d.b2DistanceProxy",box2d.b2DistanceProxy);box2d.b2DistanceProxy.prototype.m_buffer=null;goog.exportProperty(box2d.b2DistanceProxy.prototype,"m_buffer",box2d.b2DistanceProxy.prototype.m_buffer);box2d.b2DistanceProxy.prototype.m_vertices=null;goog.exportProperty(box2d.b2DistanceProxy.prototype,"m_vertices",box2d.b2DistanceProxy.prototype.m_vertices);box2d.b2DistanceProxy.prototype.m_count=0;goog.exportProperty(box2d.b2DistanceProxy.prototype,"m_count",box2d.b2DistanceProxy.prototype.m_count);box2d.b2DistanceProxy.prototype.m_radius=0;goog.exportProperty(box2d.b2DistanceProxy.prototype,"m_radius",box2d.b2DistanceProxy.prototype.m_radius);box2d.b2DistanceProxy.prototype.Reset=function(){return this.m_vertices=null,this.m_radius=this.m_count=0,this};goog.exportProperty(box2d.b2DistanceProxy.prototype,"Reset",box2d.b2DistanceProxy.prototype.Reset);box2d.b2DistanceProxy.prototype.SetShape=function(V,x){V.SetupDistanceProxy(this,x)};goog.exportProperty(box2d.b2DistanceProxy.prototype,"SetShape",box2d.b2DistanceProxy.prototype.SetShape);box2d.b2DistanceProxy.prototype.GetSupport=function(V){for(var x=0,o=box2d.b2Dot_V2_V2(this.m_vertices[0],V),_o=1;_o<this.m_count;++_o){var _i=box2d.b2Dot_V2_V2(this.m_vertices[_o],V);_i>o&&(x=_o,o=_i)}return x};goog.exportProperty(box2d.b2DistanceProxy.prototype,"GetSupport",box2d.b2DistanceProxy.prototype.GetSupport);box2d.b2DistanceProxy.prototype.GetSupportVertex=function(V,x){for(var o=0,_o=box2d.b2Dot_V2_V2(this.m_vertices[0],V),_i=1;_i<this.m_count;++_i){var l=box2d.b2Dot_V2_V2(this.m_vertices[_i],V);l>_o&&(o=_i,_o=l)}return x.Copy(this.m_vertices[o])};goog.exportProperty(box2d.b2DistanceProxy.prototype,"GetSupportVertex",box2d.b2DistanceProxy.prototype.GetSupportVertex);box2d.b2DistanceProxy.prototype.GetVertexCount=function(){return this.m_count};goog.exportProperty(box2d.b2DistanceProxy.prototype,"GetVertexCount",box2d.b2DistanceProxy.prototype.GetVertexCount);box2d.b2DistanceProxy.prototype.GetVertex=function(V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=V&&V<this.m_count),this.m_vertices[V]};goog.exportProperty(box2d.b2DistanceProxy.prototype,"GetVertex",box2d.b2DistanceProxy.prototype.GetVertex);box2d.b2SimplexCache=function(){this.indexA=box2d.b2MakeNumberArray(3),this.indexB=box2d.b2MakeNumberArray(3)};goog.exportSymbol("box2d.b2SimplexCache",box2d.b2SimplexCache);box2d.b2SimplexCache.prototype.metric=0;goog.exportProperty(box2d.b2SimplexCache.prototype,"metric",box2d.b2SimplexCache.prototype.metric);box2d.b2SimplexCache.prototype.count=0;goog.exportProperty(box2d.b2SimplexCache.prototype,"count",box2d.b2SimplexCache.prototype.count);box2d.b2SimplexCache.prototype.indexA=null;goog.exportProperty(box2d.b2SimplexCache.prototype,"indexA",box2d.b2SimplexCache.prototype.indexA);box2d.b2SimplexCache.prototype.indexB=null;goog.exportProperty(box2d.b2SimplexCache.prototype,"indexB",box2d.b2SimplexCache.prototype.indexB);box2d.b2SimplexCache.prototype.Reset=function(){return this.count=this.metric=0,this};goog.exportProperty(box2d.b2SimplexCache.prototype,"Reset",box2d.b2SimplexCache.prototype.Reset);box2d.b2DistanceInput=function(){this.proxyA=new box2d.b2DistanceProxy,this.proxyB=new box2d.b2DistanceProxy,this.transformA=new box2d.b2Transform,this.transformB=new box2d.b2Transform};goog.exportSymbol("box2d.b2DistanceInput",box2d.b2DistanceInput);box2d.b2DistanceInput.prototype.proxyA=null;goog.exportProperty(box2d.b2DistanceInput.prototype,"proxyA",box2d.b2DistanceInput.prototype.proxyA);box2d.b2DistanceInput.prototype.proxyB=null;goog.exportProperty(box2d.b2DistanceInput.prototype,"proxyB",box2d.b2DistanceInput.prototype.proxyB);box2d.b2DistanceInput.prototype.transformA=null;goog.exportProperty(box2d.b2DistanceInput.prototype,"transformA",box2d.b2DistanceInput.prototype.transformA);box2d.b2DistanceInput.prototype.transformB=null;goog.exportProperty(box2d.b2DistanceInput.prototype,"transformB",box2d.b2DistanceInput.prototype.transformB);box2d.b2DistanceInput.prototype.useRadii=!1;goog.exportProperty(box2d.b2DistanceInput.prototype,"useRadii",box2d.b2DistanceInput.prototype.useRadii);box2d.b2DistanceInput.prototype.Reset=function(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this};goog.exportProperty(box2d.b2DistanceInput.prototype,"Reset",box2d.b2DistanceInput.prototype.Reset);box2d.b2DistanceOutput=function(){this.pointA=new box2d.b2Vec2,this.pointB=new box2d.b2Vec2};goog.exportSymbol("box2d.b2DistanceOutput",box2d.b2DistanceOutput);box2d.b2DistanceOutput.prototype.pointA=null;goog.exportProperty(box2d.b2DistanceOutput.prototype,"pointA",box2d.b2DistanceOutput.prototype.pointA);box2d.b2DistanceOutput.prototype.pointB=null;goog.exportProperty(box2d.b2DistanceOutput.prototype,"pointB",box2d.b2DistanceOutput.prototype.pointB);box2d.b2DistanceOutput.prototype.distance=0;goog.exportProperty(box2d.b2DistanceOutput.prototype,"distance",box2d.b2DistanceOutput.prototype.distance);box2d.b2DistanceOutput.prototype.iterations=0;goog.exportProperty(box2d.b2DistanceOutput.prototype,"iterations",box2d.b2DistanceOutput.prototype.iterations);box2d.b2DistanceOutput.prototype.Reset=function(){return this.pointA.SetZero(),this.pointB.SetZero(),this.iterations=this.distance=0,this};goog.exportProperty(box2d.b2DistanceOutput.prototype,"Reset",box2d.b2DistanceOutput.prototype.Reset);box2d.b2_gjkCalls=0;goog.exportSymbol("box2d.b2_gjkCalls",box2d.b2_gjkCalls);box2d.b2_gjkIters=0;goog.exportSymbol("box2d.b2_gjkIters",box2d.b2_gjkIters);box2d.b2_gjkMaxIters=0;goog.exportSymbol("box2d.b2_gjkMaxIters",box2d.b2_gjkMaxIters);box2d.b2SimplexVertex=function(){this.wA=new box2d.b2Vec2,this.wB=new box2d.b2Vec2,this.w=new box2d.b2Vec2};goog.exportSymbol("box2d.b2SimplexVertex",box2d.b2SimplexVertex);box2d.b2SimplexVertex.prototype.wA=null;goog.exportProperty(box2d.b2SimplexVertex.prototype,"wA",box2d.b2SimplexVertex.prototype.wA);box2d.b2SimplexVertex.prototype.wB=null;goog.exportProperty(box2d.b2SimplexVertex.prototype,"wB",box2d.b2SimplexVertex.prototype.wB);box2d.b2SimplexVertex.prototype.w=null;goog.exportProperty(box2d.b2SimplexVertex.prototype,"w",box2d.b2SimplexVertex.prototype.w);box2d.b2SimplexVertex.prototype.a=0;goog.exportProperty(box2d.b2SimplexVertex.prototype,"a",box2d.b2SimplexVertex.prototype.a);box2d.b2SimplexVertex.prototype.indexA=0;goog.exportProperty(box2d.b2SimplexVertex.prototype,"indexA",box2d.b2SimplexVertex.prototype.indexA);box2d.b2SimplexVertex.prototype.indexB=0;goog.exportProperty(box2d.b2SimplexVertex.prototype,"indexB",box2d.b2SimplexVertex.prototype.indexB);box2d.b2SimplexVertex.prototype.Copy=function(V){return this.wA.Copy(V.wA),this.wB.Copy(V.wB),this.w.Copy(V.w),this.a=V.a,this.indexA=V.indexA,this.indexB=V.indexB,this};goog.exportProperty(box2d.b2SimplexVertex.prototype,"Copy",box2d.b2SimplexVertex.prototype.Copy);box2d.b2Simplex=function(){this.m_v1=new box2d.b2SimplexVertex,this.m_v2=new box2d.b2SimplexVertex,this.m_v3=new box2d.b2SimplexVertex,this.m_vertices=Array(3),this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3};goog.exportSymbol("box2d.b2Simplex",box2d.b2Simplex);box2d.b2Simplex.prototype.m_v1=null;goog.exportProperty(box2d.b2Simplex.prototype,"m_v1",box2d.b2Simplex.prototype.m_v1);box2d.b2Simplex.prototype.m_v2=null;goog.exportProperty(box2d.b2Simplex.prototype,"m_v2",box2d.b2Simplex.prototype.m_v2);box2d.b2Simplex.prototype.m_v3=null;goog.exportProperty(box2d.b2Simplex.prototype,"m_v3",box2d.b2Simplex.prototype.m_v3);box2d.b2Simplex.prototype.m_vertices=null;goog.exportProperty(box2d.b2Simplex.prototype,"m_vertices",box2d.b2Simplex.prototype.m_vertices);box2d.b2Simplex.prototype.m_count=0;goog.exportProperty(box2d.b2Simplex.prototype,"m_count",box2d.b2Simplex.prototype.m_count);box2d.b2Simplex.prototype.ReadCache=function(V,x,o,_o,_i){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=V.count&&3>=V.count),this.m_count=V.count;for(var l=this.m_vertices,t_=0;t_<this.m_count;++t_){var o_=l[t_];o_.indexA=V.indexA[t_],o_.indexB=V.indexB[t_];var i_=x.GetVertex(o_.indexA),_e=_o.GetVertex(o_.indexB);box2d.b2Mul_X_V2(o,i_,o_.wA),box2d.b2Mul_X_V2(_i,_e,o_.wB),box2d.b2Sub_V2_V2(o_.wB,o_.wA,o_.w),o_.a=0}1<this.m_count&&(V=V.metric,t_=this.GetMetric(),t_<.5*V||2*V<t_||t_<box2d.b2_epsilon)&&(this.m_count=0),this.m_count===0&&(o_=l[0],o_.indexA=0,o_.indexB=0,i_=x.GetVertex(0),_e=_o.GetVertex(0),box2d.b2Mul_X_V2(o,i_,o_.wA),box2d.b2Mul_X_V2(_i,_e,o_.wB),box2d.b2Sub_V2_V2(o_.wB,o_.wA,o_.w),this.m_count=o_.a=1)};goog.exportProperty(box2d.b2Simplex.prototype,"ReadCache",box2d.b2Simplex.prototype.ReadCache);box2d.b2Simplex.prototype.WriteCache=function(V){V.metric=this.GetMetric(),V.count=this.m_count;for(var x=this.m_vertices,o=0;o<this.m_count;++o)V.indexA[o]=x[o].indexA,V.indexB[o]=x[o].indexB};goog.exportProperty(box2d.b2Simplex.prototype,"WriteCache",box2d.b2Simplex.prototype.WriteCache);box2d.b2Simplex.prototype.GetSearchDirection=function(V){switch(this.m_count){case 1:return V.Copy(this.m_v1.w).SelfNeg();case 2:var x=box2d.b2Sub_V2_V2(this.m_v2.w,this.m_v1.w,V);return 0<box2d.b2Cross_V2_V2(x,box2d.b2Vec2.s_t0.Copy(this.m_v1.w).SelfNeg())?box2d.b2Cross_S_V2(1,x,V):box2d.b2Cross_V2_S(x,1,V);default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),V.SetZero()}};goog.exportProperty(box2d.b2Simplex.prototype,"GetSearchDirection",box2d.b2Simplex.prototype.GetSearchDirection);box2d.b2Simplex.prototype.GetClosestPoint=function(V){switch(this.m_count){case 0:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),V.SetZero();case 1:return V.Copy(this.m_v1.w);case 2:return V.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:return V.SetZero();default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),V.SetZero()}};goog.exportProperty(box2d.b2Simplex.prototype,"GetClosestPoint",box2d.b2Simplex.prototype.GetClosestPoint);box2d.b2Simplex.prototype.GetWitnessPoints=function(V,x){switch(this.m_count){case 0:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1);break;case 1:V.Copy(this.m_v1.wA),x.Copy(this.m_v1.wB);break;case 2:V.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,V.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,x.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,x.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:x.x=V.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,x.y=V.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}};goog.exportProperty(box2d.b2Simplex.prototype,"GetWitnessPoints",box2d.b2Simplex.prototype.GetWitnessPoints);box2d.b2Simplex.prototype.GetMetric=function(){switch(this.m_count){case 0:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),0;case 1:return 0;case 2:return box2d.b2Distance(this.m_v1.w,this.m_v2.w);case 3:return box2d.b2Cross_V2_V2(box2d.b2Sub_V2_V2(this.m_v2.w,this.m_v1.w,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(this.m_v3.w,this.m_v1.w,box2d.b2Vec2.s_t1));default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),0}};goog.exportProperty(box2d.b2Simplex.prototype,"GetMetric",box2d.b2Simplex.prototype.GetMetric);box2d.b2Simplex.prototype.Solve2=function(){var o=this.m_v1.w,V=this.m_v2.w,x=box2d.b2Sub_V2_V2(V,o,box2d.b2Simplex.s_e12),o=-box2d.b2Dot_V2_V2(o,x);0>=o?this.m_count=this.m_v1.a=1:(V=box2d.b2Dot_V2_V2(V,x),0>=V?(this.m_count=this.m_v2.a=1,this.m_v1.Copy(this.m_v2)):(x=1/(V+o),this.m_v1.a=V*x,this.m_v2.a=o*x,this.m_count=2))};goog.exportProperty(box2d.b2Simplex.prototype,"Solve2",box2d.b2Simplex.prototype.Solve2);box2d.b2Simplex.prototype.Solve3=function(){var l_=this.m_v1.w,V=this.m_v2.w,_e=this.m_v3.w,i_=box2d.b2Sub_V2_V2(V,l_,box2d.b2Simplex.s_e12),o=box2d.b2Dot_V2_V2(l_,i_),x=box2d.b2Dot_V2_V2(V,i_),o=-o,o_=box2d.b2Sub_V2_V2(_e,l_,box2d.b2Simplex.s_e13),_i=box2d.b2Dot_V2_V2(l_,o_),_o=box2d.b2Dot_V2_V2(_e,o_),_i=-_i,l=box2d.b2Sub_V2_V2(_e,V,box2d.b2Simplex.s_e23),t_=box2d.b2Dot_V2_V2(V,l),l=box2d.b2Dot_V2_V2(_e,l),t_=-t_,o_=box2d.b2Cross_V2_V2(i_,o_),i_=o_*box2d.b2Cross_V2_V2(V,_e),_e=o_*box2d.b2Cross_V2_V2(_e,l_),l_=o_*box2d.b2Cross_V2_V2(l_,V);0>=o&&0>=_i?this.m_count=this.m_v1.a=1:0<x&&0<o&&0>=l_?(_o=1/(x+o),this.m_v1.a=x*_o,this.m_v2.a=o*_o,this.m_count=2):0<_o&&0<_i&&0>=_e?(x=1/(_o+_i),this.m_v1.a=_o*x,this.m_v3.a=_i*x,this.m_count=2,this.m_v2.Copy(this.m_v3)):0>=x&&0>=t_?(this.m_count=this.m_v2.a=1,this.m_v1.Copy(this.m_v2)):0>=_o&&0>=l?(this.m_count=this.m_v3.a=1,this.m_v1.Copy(this.m_v3)):0<l&&0<t_&&0>=i_?(x=1/(l+t_),this.m_v2.a=l*x,this.m_v3.a=t_*x,this.m_count=2,this.m_v1.Copy(this.m_v3)):(x=1/(i_+_e+l_),this.m_v1.a=i_*x,this.m_v2.a=_e*x,this.m_v3.a=l_*x,this.m_count=3)};goog.exportProperty(box2d.b2Simplex.prototype,"Solve3",box2d.b2Simplex.prototype.Solve3);box2d.b2Simplex.s_e12=new box2d.b2Vec2;box2d.b2Simplex.s_e13=new box2d.b2Vec2;box2d.b2Simplex.s_e23=new box2d.b2Vec2;box2d.b2ShapeDistance=function(V,x,o){++box2d.b2_gjkCalls;var _o=o.proxyA,_i=o.proxyB,l=o.transformA,t_=o.transformB,o_=box2d.b2Distance.s_simplex;o_.ReadCache(x,_o,l,_i,t_);for(var i_=o_.m_vertices,_e=box2d.b2Distance.s_saveA,l_=box2d.b2Distance.s_saveB,ws=0,h_=0;20>h_;){for(var ws=o_.m_count,s_=0;s_<ws;++s_)_e[s_]=i_[s_].indexA,l_[s_]=i_[s_].indexB;switch(o_.m_count){case 1:break;case 2:o_.Solve2();break;case 3:o_.Solve3();break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}if(o_.m_count===3)break;var B_=o_.GetClosestPoint(box2d.b2Distance.s_p);if(B_.LengthSquared(),s_=o_.GetSearchDirection(box2d.b2Distance.s_d),s_.LengthSquared()<box2d.b2_epsilon_sq)break;B_=i_[o_.m_count],B_.indexA=_o.GetSupport(box2d.b2MulT_R_V2(l.q,box2d.b2Vec2.s_t0.Copy(s_).SelfNeg(),box2d.b2Distance.s_supportA)),box2d.b2Mul_X_V2(l,_o.GetVertex(B_.indexA),B_.wA),B_.indexB=_i.GetSupport(box2d.b2MulT_R_V2(t_.q,s_,box2d.b2Distance.s_supportB)),box2d.b2Mul_X_V2(t_,_i.GetVertex(B_.indexB),B_.wB),box2d.b2Sub_V2_V2(B_.wB,B_.wA,B_.w),++h_,++box2d.b2_gjkIters;for(var D_=!1,s_=0;s_<ws;++s_)if(B_.indexA===_e[s_]&&B_.indexB===l_[s_]){D_=!0;break}if(D_)break;++o_.m_count}box2d.b2_gjkMaxIters=box2d.b2Max(box2d.b2_gjkMaxIters,h_),o_.GetWitnessPoints(V.pointA,V.pointB),V.distance=box2d.b2Distance(V.pointA,V.pointB),V.iterations=h_,o_.WriteCache(x),o.useRadii&&(x=_o.m_radius,_i=_i.m_radius,V.distance>x+_i&&V.distance>box2d.b2_epsilon?(V.distance-=x+_i,o=box2d.b2Sub_V2_V2(V.pointB,V.pointA,box2d.b2Distance.s_normal),o.Normalize(),V.pointA.SelfMulAdd(x,o),V.pointB.SelfMulSub(_i,o)):(B_=box2d.b2Mid_V2_V2(V.pointA,V.pointB,box2d.b2Distance.s_p),V.pointA.Copy(B_),V.pointB.Copy(B_),V.distance=0))};goog.exportSymbol("box2d.b2ShapeDistance",box2d.b2ShapeDistance);box2d.b2Distance.s_simplex=new box2d.b2Simplex;box2d.b2Distance.s_saveA=box2d.b2MakeNumberArray(3);box2d.b2Distance.s_saveB=box2d.b2MakeNumberArray(3);box2d.b2Distance.s_p=new box2d.b2Vec2;box2d.b2Distance.s_d=new box2d.b2Vec2;box2d.b2Distance.s_normal=new box2d.b2Vec2;box2d.b2Distance.s_supportA=new box2d.b2Vec2;box2d.b2Distance.s_supportB=new box2d.b2Vec2;box2d.b2Collision={};box2d.b2ContactFeatureType={e_vertex:0,e_face:1};goog.exportSymbol("box2d.b2ContactFeatureType",box2d.b2ContactFeatureType);goog.exportProperty(box2d.b2ContactFeatureType,"e_vertex",box2d.b2ContactFeatureType.e_vertex);goog.exportProperty(box2d.b2ContactFeatureType,"e_face",box2d.b2ContactFeatureType.e_face);box2d.b2ContactFeature=function(V){this._id=V};goog.exportSymbol("box2d.b2ContactFeature",box2d.b2ContactFeature);box2d.b2ContactFeature.prototype._id=null;goog.exportProperty(box2d.b2ContactFeature.prototype,"_id",box2d.b2ContactFeature.prototype._id);box2d.b2ContactFeature.prototype._indexA=0;goog.exportProperty(box2d.b2ContactFeature.prototype,"_indexA",box2d.b2ContactFeature.prototype._indexA);box2d.b2ContactFeature.prototype._indexB=0;goog.exportProperty(box2d.b2ContactFeature.prototype,"_indexB",box2d.b2ContactFeature.prototype._indexB);box2d.b2ContactFeature.prototype._typeA=0;goog.exportProperty(box2d.b2ContactFeature.prototype,"_typeA",box2d.b2ContactFeature.prototype._typeA);box2d.b2ContactFeature.prototype._typeB=0;goog.exportProperty(box2d.b2ContactFeature.prototype,"_typeB",box2d.b2ContactFeature.prototype._typeB);Object.defineProperty(box2d.b2ContactFeature.prototype,"indexA",{enumerable:!1,configurable:!0,get:function(){return this._indexA},set:function(V){this._indexA=V,this._id._key=this._id._key&4294967040|this._indexA&255}});Object.defineProperty(box2d.b2ContactFeature.prototype,"indexB",{enumerable:!1,configurable:!0,get:function(){return this._indexB},set:function(V){this._indexB=V,this._id._key=this._id._key&4294902015|this._indexB<<8&65280}});Object.defineProperty(box2d.b2ContactFeature.prototype,"typeA",{enumerable:!1,configurable:!0,get:function(){return this._typeA},set:function(V){this._typeA=V,this._id._key=this._id._key&4278255615|this._typeA<<16&16711680}});Object.defineProperty(box2d.b2ContactFeature.prototype,"typeB",{enumerable:!1,configurable:!0,get:function(){return this._typeB},set:function(V){this._typeB=V,this._id._key=this._id._key&16777215|this._typeB<<24&4278190080}});box2d.b2ContactID=function(){this.cf=new box2d.b2ContactFeature(this)};goog.exportSymbol("box2d.b2ContactID",box2d.b2ContactID);box2d.b2ContactID.prototype.cf=null;goog.exportProperty(box2d.b2ContactID.prototype,"cf",box2d.b2ContactID.prototype.cf);box2d.b2ContactID.prototype.key=0;goog.exportProperty(box2d.b2ContactID.prototype,"key",box2d.b2ContactID.prototype.key);box2d.b2ContactID.prototype.Copy=function(V){return this.key=V.key,this};goog.exportProperty(box2d.b2ContactID.prototype,"Copy",box2d.b2ContactID.prototype.Copy);box2d.b2ContactID.prototype.Clone=function(){return new box2d.b2ContactID().Copy(this)};goog.exportProperty(box2d.b2ContactID.prototype,"Clone",box2d.b2ContactID.prototype.Clone);Object.defineProperty(box2d.b2ContactID.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this._key},set:function(V){this._key=V,this.cf._indexA=this._key&255,this.cf._indexB=this._key>>8&255,this.cf._typeA=this._key>>16&255,this.cf._typeB=this._key>>24&255}});box2d.b2ManifoldPoint=function(){this.localPoint=new box2d.b2Vec2,this.id=new box2d.b2ContactID};goog.exportSymbol("box2d.b2ManifoldPoint",box2d.b2ManifoldPoint);box2d.b2ManifoldPoint.prototype.localPoint=null;goog.exportProperty(box2d.b2ManifoldPoint.prototype,"localPoint",box2d.b2ManifoldPoint.prototype.localPoint);box2d.b2ManifoldPoint.prototype.normalImpulse=0;goog.exportProperty(box2d.b2ManifoldPoint.prototype,"normalImpulse",box2d.b2ManifoldPoint.prototype.normalImpulse);box2d.b2ManifoldPoint.prototype.tangentImpulse=0;goog.exportProperty(box2d.b2ManifoldPoint.prototype,"tangentImpulse",box2d.b2ManifoldPoint.prototype.tangentImpulse);box2d.b2ManifoldPoint.prototype.id=null;goog.exportProperty(box2d.b2ManifoldPoint.prototype,"id",box2d.b2ManifoldPoint.prototype.id);box2d.b2ManifoldPoint.MakeArray=function(V){return box2d.b2MakeArray(V,function(x){return new box2d.b2ManifoldPoint})};goog.exportProperty(box2d.b2ManifoldPoint,"MakeArray",box2d.b2ManifoldPoint.MakeArray);box2d.b2ManifoldPoint.prototype.Reset=function(){this.localPoint.SetZero(),this.tangentImpulse=this.normalImpulse=0,this.id.key=0};goog.exportProperty(box2d.b2ManifoldPoint.prototype,"Reset",box2d.b2ManifoldPoint.prototype.Reset);box2d.b2ManifoldPoint.prototype.Copy=function(V){return this.localPoint.Copy(V.localPoint),this.normalImpulse=V.normalImpulse,this.tangentImpulse=V.tangentImpulse,this.id.Copy(V.id),this};goog.exportProperty(box2d.b2ManifoldPoint.prototype,"Copy",box2d.b2ManifoldPoint.prototype.Copy);box2d.b2ManifoldType={e_unknown:-1,e_circles:0,e_faceA:1,e_faceB:2};goog.exportSymbol("box2d.b2ManifoldType",box2d.b2ManifoldType);goog.exportProperty(box2d.b2ManifoldType,"e_unknown",box2d.b2ManifoldType.e_unknown);goog.exportProperty(box2d.b2ManifoldType,"e_circles",box2d.b2ManifoldType.e_circles);goog.exportProperty(box2d.b2ManifoldType,"e_faceA",box2d.b2ManifoldType.e_faceA);goog.exportProperty(box2d.b2ManifoldType,"e_faceB",box2d.b2ManifoldType.e_faceB);box2d.b2Manifold=function(){this.points=box2d.b2ManifoldPoint.MakeArray(box2d.b2_maxManifoldPoints),this.localNormal=new box2d.b2Vec2,this.localPoint=new box2d.b2Vec2,this.type=box2d.b2ManifoldType.e_unknown,this.pointCount=0};goog.exportSymbol("box2d.b2Manifold",box2d.b2Manifold);box2d.b2Manifold.prototype.points=null;goog.exportProperty(box2d.b2Manifold.prototype,"points",box2d.b2Manifold.prototype.points);box2d.b2Manifold.prototype.localNormal=null;goog.exportProperty(box2d.b2Manifold.prototype,"localNormal",box2d.b2Manifold.prototype.localNormal);box2d.b2Manifold.prototype.localPoint=null;goog.exportProperty(box2d.b2Manifold.prototype,"localPoint",box2d.b2Manifold.prototype.localPoint);box2d.b2Manifold.prototype.type=box2d.b2ManifoldType.e_unknown;goog.exportProperty(box2d.b2Manifold.prototype,"type",box2d.b2Manifold.prototype.type);box2d.b2Manifold.prototype.pointCount=0;goog.exportProperty(box2d.b2Manifold.prototype,"pointCount",box2d.b2Manifold.prototype.pointCount);box2d.b2Manifold.prototype.Reset=function(){for(var V=0,x=box2d.b2_maxManifoldPoints;V<x;++V)this.points[V].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=box2d.b2ManifoldType.e_unknown,this.pointCount=0};goog.exportProperty(box2d.b2Manifold.prototype,"Reset",box2d.b2Manifold.prototype.Reset);box2d.b2Manifold.prototype.Copy=function(V){this.pointCount=V.pointCount;for(var x=0,o=box2d.b2_maxManifoldPoints;x<o;++x)this.points[x].Copy(V.points[x]);return this.localNormal.Copy(V.localNormal),this.localPoint.Copy(V.localPoint),this.type=V.type,this};goog.exportProperty(box2d.b2Manifold.prototype,"Copy",box2d.b2Manifold.prototype.Copy);box2d.b2Manifold.prototype.Clone=function(){return new box2d.b2Manifold().Copy(this)};goog.exportProperty(box2d.b2Manifold.prototype,"Clone",box2d.b2Manifold.prototype.Clone);box2d.b2WorldManifold=function(){this.normal=new box2d.b2Vec2,this.points=box2d.b2Vec2.MakeArray(box2d.b2_maxManifoldPoints),this.separations=box2d.b2MakeNumberArray(box2d.b2_maxManifoldPoints)};goog.exportSymbol("box2d.b2WorldManifold",box2d.b2WorldManifold);box2d.b2WorldManifold.prototype.normal=null;goog.exportProperty(box2d.b2WorldManifold.prototype,"normal",box2d.b2WorldManifold.prototype.normal);box2d.b2WorldManifold.prototype.points=null;goog.exportProperty(box2d.b2WorldManifold.prototype,"points",box2d.b2WorldManifold.prototype.points);box2d.b2WorldManifold.prototype.separations=null;goog.exportProperty(box2d.b2WorldManifold.prototype,"separations",box2d.b2WorldManifold.prototype.separations);box2d.b2WorldManifold.prototype.Initialize=function(V,x,o,_o,_i){if(V.pointCount!==0)switch(V.type){case box2d.b2ManifoldType.e_circles:this.normal.Set(1,0),x=box2d.b2Mul_X_V2(x,V.localPoint,box2d.b2WorldManifold.prototype.Initialize.s_pointA),V=box2d.b2Mul_X_V2(_o,V.points[0].localPoint,box2d.b2WorldManifold.prototype.Initialize.s_pointB),box2d.b2DistanceSquared(x,V)>box2d.b2_epsilon_sq&&box2d.b2Sub_V2_V2(V,x,this.normal).SelfNormalize();var l=box2d.b2AddMul_V2_S_V2(x,o,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cA),t_=box2d.b2SubMul_V2_S_V2(V,_i,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cB);box2d.b2Mid_V2_V2(l,t_,this.points[0]),this.separations[0]=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(t_,l,box2d.b2Vec2.s_t0),this.normal);break;case box2d.b2ManifoldType.e_faceA:box2d.b2Mul_R_V2(x.q,V.localNormal,this.normal);for(var o_=box2d.b2Mul_X_V2(x,V.localPoint,box2d.b2WorldManifold.prototype.Initialize.s_planePoint),i_=0,_e=V.pointCount;i_<_e;++i_){var l_=box2d.b2Mul_X_V2(_o,V.points[i_].localPoint,box2d.b2WorldManifold.prototype.Initialize.s_clipPoint),l=o-box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(l_,o_,box2d.b2Vec2.s_t0),this.normal),l=box2d.b2AddMul_V2_S_V2(l_,l,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cA),t_=box2d.b2SubMul_V2_S_V2(l_,_i,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cB);box2d.b2Mid_V2_V2(l,t_,this.points[i_]),this.separations[i_]=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(t_,l,box2d.b2Vec2.s_t0),this.normal)}break;case box2d.b2ManifoldType.e_faceB:for(box2d.b2Mul_R_V2(_o.q,V.localNormal,this.normal),o_=box2d.b2Mul_X_V2(_o,V.localPoint,box2d.b2WorldManifold.prototype.Initialize.s_planePoint),i_=0,_e=V.pointCount;i_<_e;++i_)l_=box2d.b2Mul_X_V2(x,V.points[i_].localPoint,box2d.b2WorldManifold.prototype.Initialize.s_clipPoint),l=_i-box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(l_,o_,box2d.b2Vec2.s_t0),this.normal),t_=box2d.b2AddMul_V2_S_V2(l_,l,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cB),l=box2d.b2SubMul_V2_S_V2(l_,o,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cA),box2d.b2Mid_V2_V2(l,t_,this.points[i_]),this.separations[i_]=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(l,t_,box2d.b2Vec2.s_t0),this.normal);this.normal.SelfNeg()}};goog.exportProperty(box2d.b2WorldManifold.prototype,"Initialize",box2d.b2WorldManifold.prototype.Initialize);box2d.b2WorldManifold.prototype.Initialize.s_pointA=new box2d.b2Vec2;box2d.b2WorldManifold.prototype.Initialize.s_pointB=new box2d.b2Vec2;box2d.b2WorldManifold.prototype.Initialize.s_cA=new box2d.b2Vec2;box2d.b2WorldManifold.prototype.Initialize.s_cB=new box2d.b2Vec2;box2d.b2WorldManifold.prototype.Initialize.s_planePoint=new box2d.b2Vec2;box2d.b2WorldManifold.prototype.Initialize.s_clipPoint=new box2d.b2Vec2;box2d.b2PointState={b2_nullState:0,b2_addState:1,b2_persistState:2,b2_removeState:3};goog.exportSymbol("box2d.b2PointState",box2d.b2PointState);goog.exportProperty(box2d.b2PointState,"b2_nullState   ",box2d.b2PointState.b2_nullState);goog.exportProperty(box2d.b2PointState,"b2_addState    ",box2d.b2PointState.b2_addState);goog.exportProperty(box2d.b2PointState,"b2_persistState",box2d.b2PointState.b2_persistState);goog.exportProperty(box2d.b2PointState,"b2_removeState ",box2d.b2PointState.b2_removeState);box2d.b2GetPointStates=function(V,x,o,_o){for(var _i=0,l=o.pointCount;_i<l;++_i){var t_=o.points[_i].id,t_=t_.key;V[_i]=box2d.b2PointState.b2_removeState;for(var o_=0,i_=_o.pointCount;o_<i_;++o_)if(_o.points[o_].id.key===t_){V[_i]=box2d.b2PointState.b2_persistState;break}}for(l=box2d.b2_maxManifoldPoints;_i<l;++_i)V[_i]=box2d.b2PointState.b2_nullState;for(_i=0,l=_o.pointCount;_i<l;++_i)for(t_=_o.points[_i].id,t_=t_.key,x[_i]=box2d.b2PointState.b2_addState,o_=0,i_=o.pointCount;o_<i_;++o_)if(o.points[o_].id.key===t_){x[_i]=box2d.b2PointState.b2_persistState;break}for(l=box2d.b2_maxManifoldPoints;_i<l;++_i)x[_i]=box2d.b2PointState.b2_nullState};goog.exportSymbol("box2d.b2GetPointStates",box2d.b2GetPointStates);box2d.b2ClipVertex=function(){this.v=new box2d.b2Vec2,this.id=new box2d.b2ContactID};goog.exportSymbol("box2d.b2ClipVertex",box2d.b2ClipVertex);box2d.b2ClipVertex.prototype.v=null;goog.exportProperty(box2d.b2ClipVertex.prototype,"v",box2d.b2ClipVertex.prototype.v);box2d.b2ClipVertex.prototype.id=null;goog.exportProperty(box2d.b2ClipVertex.prototype,"id",box2d.b2ClipVertex.prototype.id);box2d.b2ClipVertex.MakeArray=function(V){return box2d.b2MakeArray(V,function(x){return new box2d.b2ClipVertex})};goog.exportProperty(box2d.b2ClipVertex,"MakeArray",box2d.b2ClipVertex.MakeArray);box2d.b2ClipVertex.prototype.Copy=function(V){return this.v.Copy(V.v),this.id.Copy(V.id),this};goog.exportProperty(box2d.b2ClipVertex.prototype,"Copy",box2d.b2ClipVertex.prototype.Copy);box2d.b2RayCastInput=function(){this.p1=new box2d.b2Vec2,this.p2=new box2d.b2Vec2,this.maxFraction=1};goog.exportSymbol("box2d.b2RayCastInput",box2d.b2RayCastInput);box2d.b2RayCastInput.prototype.p1=null;goog.exportProperty(box2d.b2RayCastInput.prototype,"p1",box2d.b2RayCastInput.prototype.p1);box2d.b2RayCastInput.prototype.p2=null;goog.exportProperty(box2d.b2RayCastInput.prototype,"p2",box2d.b2RayCastInput.prototype.p2);box2d.b2RayCastInput.prototype.maxFraction=1;goog.exportProperty(box2d.b2RayCastInput.prototype,"maxFraction",box2d.b2RayCastInput.prototype.maxFraction);box2d.b2RayCastInput.prototype.Copy=function(V){return this.p1.Copy(V.p1),this.p2.Copy(V.p2),this.maxFraction=V.maxFraction,this};goog.exportProperty(box2d.b2RayCastInput.prototype,"Copy",box2d.b2RayCastInput.prototype.Copy);box2d.b2RayCastOutput=function(){this.normal=new box2d.b2Vec2,this.fraction=0};goog.exportSymbol("box2d.b2RayCastOutput",box2d.b2RayCastOutput);box2d.b2RayCastOutput.prototype.normal=null;goog.exportProperty(box2d.b2RayCastOutput.prototype,"normal",box2d.b2RayCastOutput.prototype.normal);box2d.b2RayCastOutput.prototype.fraction=0;goog.exportProperty(box2d.b2RayCastOutput.prototype,"fraction",box2d.b2RayCastOutput.prototype.fraction);box2d.b2RayCastOutput.prototype.Copy=function(V){return this.normal.Copy(V.normal),this.fraction=V.fraction,this};goog.exportProperty(box2d.b2RayCastOutput.prototype,"Copy",box2d.b2RayCastOutput.prototype.Copy);box2d.b2AABB=function(){this.lowerBound=new box2d.b2Vec2,this.upperBound=new box2d.b2Vec2,this.m_out_center=new box2d.b2Vec2,this.m_out_extent=new box2d.b2Vec2};goog.exportSymbol("box2d.b2AABB",box2d.b2AABB);box2d.b2AABB.prototype.lowerBound=null;goog.exportProperty(box2d.b2AABB.prototype,"lowerBound",box2d.b2AABB.prototype.lowerBound);box2d.b2AABB.prototype.upperBound=null;goog.exportProperty(box2d.b2AABB.prototype,"upperBound",box2d.b2AABB.prototype.upperBound);box2d.b2AABB.prototype.m_out_center=null;goog.exportProperty(box2d.b2AABB.prototype,"m_out_center",box2d.b2AABB.prototype.m_out_center);box2d.b2AABB.prototype.m_out_extent=null;goog.exportProperty(box2d.b2AABB.prototype,"m_out_extent",box2d.b2AABB.prototype.m_out_extent);box2d.b2AABB.prototype.Clone=function(){return new box2d.b2AABB().Copy(this)};goog.exportProperty(box2d.b2AABB.prototype,"Clone",box2d.b2AABB.prototype.Clone);box2d.b2AABB.prototype.Copy=function(V){return this.lowerBound.Copy(V.lowerBound),this.upperBound.Copy(V.upperBound),this};goog.exportProperty(box2d.b2AABB.prototype,"Copy",box2d.b2AABB.prototype.Copy);box2d.b2AABB.prototype.IsValid=function(){var V=this.upperBound.y-this.lowerBound.y;return V=(V=0<=this.upperBound.x-this.lowerBound.x&&0<=V)&&this.lowerBound.IsValid()&&this.upperBound.IsValid()};goog.exportProperty(box2d.b2AABB.prototype,"IsValid",box2d.b2AABB.prototype.IsValid);box2d.b2AABB.prototype.GetCenter=function(){return box2d.b2Mid_V2_V2(this.lowerBound,this.upperBound,this.m_out_center)};goog.exportProperty(box2d.b2AABB.prototype,"GetCenter",box2d.b2AABB.prototype.GetCenter);box2d.b2AABB.prototype.GetExtents=function(){return box2d.b2Ext_V2_V2(this.lowerBound,this.upperBound,this.m_out_extent)};goog.exportProperty(box2d.b2AABB.prototype,"GetExtents",box2d.b2AABB.prototype.GetExtents);box2d.b2AABB.prototype.GetPerimeter=function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))};goog.exportProperty(box2d.b2AABB.prototype,"GetPerimeter",box2d.b2AABB.prototype.GetPerimeter);box2d.b2AABB.prototype.Combine=function(V,x){switch(arguments.length){case 1:return this.Combine1(V);case 2:return this.Combine2(V,x||new box2d.b2AABB);default:throw Error()}};box2d.b2AABB.prototype.Combine1=function(V){return this.lowerBound.x=box2d.b2Min(this.lowerBound.x,V.lowerBound.x),this.lowerBound.y=box2d.b2Min(this.lowerBound.y,V.lowerBound.y),this.upperBound.x=box2d.b2Max(this.upperBound.x,V.upperBound.x),this.upperBound.y=box2d.b2Max(this.upperBound.y,V.upperBound.y),this};goog.exportProperty(box2d.b2AABB.prototype,"Combine1",box2d.b2AABB.prototype.Combine1);box2d.b2AABB.prototype.Combine2=function(V,x){return this.lowerBound.x=box2d.b2Min(V.lowerBound.x,x.lowerBound.x),this.lowerBound.y=box2d.b2Min(V.lowerBound.y,x.lowerBound.y),this.upperBound.x=box2d.b2Max(V.upperBound.x,x.upperBound.x),this.upperBound.y=box2d.b2Max(V.upperBound.y,x.upperBound.y),this};goog.exportProperty(box2d.b2AABB.prototype,"Combine2",box2d.b2AABB.prototype.Combine2);box2d.b2AABB.Combine=function(V,x,o){return o.Combine2(V,x),o};goog.exportProperty(box2d.b2AABB,"Combine",box2d.b2AABB.Combine);box2d.b2AABB.prototype.Contains=function(V){var x;return x=(x=(x=(x=this.lowerBound.x<=V.lowerBound.x)&&this.lowerBound.y<=V.lowerBound.y)&&V.upperBound.x<=this.upperBound.x)&&V.upperBound.y<=this.upperBound.y};goog.exportProperty(box2d.b2AABB.prototype,"Contains",box2d.b2AABB.prototype.Contains);box2d.b2AABB.prototype.RayCast=function(V,x){var o=-box2d.b2_maxFloat,_o=box2d.b2_maxFloat,_i=x.p1.x,l=x.p1.y,t_=x.p2.x-x.p1.x,o_=x.p2.y-x.p1.y,i_=box2d.b2Abs(t_),_e=box2d.b2Abs(o_),l_=V.normal;if(i_<box2d.b2_epsilon){if(_i<this.lowerBound.x||this.upperBound.x<_i)return!1}else if(i_=1/t_,t_=(this.lowerBound.x-_i)*i_,_i=(this.upperBound.x-_i)*i_,i_=-1,t_>_i&&(i_=t_,t_=_i,_i=i_,i_=1),t_>o&&(l_.x=i_,l_.y=0,o=t_),_o=box2d.b2Min(_o,_i),o>_o)return!1;if(_e<box2d.b2_epsilon){if(l<this.lowerBound.y||this.upperBound.y<l)return!1}else if(i_=1/o_,t_=(this.lowerBound.y-l)*i_,_i=(this.upperBound.y-l)*i_,i_=-1,t_>_i&&(i_=t_,t_=_i,_i=i_,i_=1),t_>o&&(l_.x=0,l_.y=i_,o=t_),_o=box2d.b2Min(_o,_i),o>_o)return!1;return 0>o||x.maxFraction<o?!1:(V.fraction=o,!0)};goog.exportProperty(box2d.b2AABB.prototype,"RayCast",box2d.b2AABB.prototype.RayCast);box2d.b2AABB.prototype.TestOverlap=function(V){var x=V.lowerBound.y-this.upperBound.y,o=this.lowerBound.y-V.upperBound.y;return!(0<V.lowerBound.x-this.upperBound.x||0<x||0<this.lowerBound.x-V.upperBound.x||0<o)};goog.exportProperty(box2d.b2AABB.prototype,"TestOverlap",box2d.b2AABB.prototype.TestOverlap);box2d.b2TestOverlapAABB=function(V,x){var o=x.lowerBound.y-V.upperBound.y,_o=V.lowerBound.y-x.upperBound.y;return!(0<x.lowerBound.x-V.upperBound.x||0<o||0<V.lowerBound.x-x.upperBound.x||0<_o)};goog.exportSymbol("box2d.b2TestOverlapAABB",box2d.b2TestOverlapAABB);box2d.b2ClipSegmentToLine=function(V,x,o,_o,_i){var l=0,t_=x[0];x=x[1];var o_=box2d.b2Dot_V2_V2(o,t_.v)-_o;return o=box2d.b2Dot_V2_V2(o,x.v)-_o,0>=o_&&V[l++].Copy(t_),0>=o&&V[l++].Copy(x),0>o_*o&&(o=o_/(o_-o),_o=V[l].v,_o.x=t_.v.x+o*(x.v.x-t_.v.x),_o.y=t_.v.y+o*(x.v.y-t_.v.y),V=V[l].id,V.cf.indexA=_i,V.cf.indexB=t_.id.cf.indexB,V.cf.typeA=box2d.b2ContactFeatureType.e_vertex,V.cf.typeB=box2d.b2ContactFeatureType.e_face,++l),l};goog.exportSymbol("box2d.b2ClipSegmentToLine",box2d.b2ClipSegmentToLine);box2d.b2TestOverlapShape=function(V,x,o,_o,_i,l){var t_=box2d.b2TestOverlapShape.s_input.Reset();return t_.proxyA.SetShape(V,x),t_.proxyB.SetShape(o,_o),t_.transformA.Copy(_i),t_.transformB.Copy(l),t_.useRadii=!0,V=box2d.b2TestOverlapShape.s_simplexCache.Reset(),V.count=0,x=box2d.b2TestOverlapShape.s_output.Reset(),box2d.b2ShapeDistance(x,V,t_),x.distance<10*box2d.b2_epsilon};goog.exportSymbol("box2d.b2TestOverlapShape",box2d.b2TestOverlapShape);box2d.b2TestOverlapShape.s_input=new box2d.b2DistanceInput;box2d.b2TestOverlapShape.s_simplexCache=new box2d.b2SimplexCache;box2d.b2TestOverlapShape.s_output=new box2d.b2DistanceOutput;box2d.b2CollideCircle={};box2d.b2CollideCircles=function(V,x,o,_o,_i){V.pointCount=0,o=box2d.b2Mul_X_V2(o,x.m_p,box2d.b2CollideCircles.s_pA),_i=box2d.b2Mul_X_V2(_i,_o.m_p,box2d.b2CollideCircles.s_pB),_i=box2d.b2DistanceSquared(o,_i),o=x.m_radius+_o.m_radius,_i>o*o||(V.type=box2d.b2ManifoldType.e_circles,V.localPoint.Copy(x.m_p),V.localNormal.SetZero(),V.pointCount=1,V.points[0].localPoint.Copy(_o.m_p),V.points[0].id.key=0)};goog.exportSymbol("box2d.b2CollideCircles",box2d.b2CollideCircles);box2d.b2CollideCircles.s_pA=new box2d.b2Vec2;box2d.b2CollideCircles.s_pB=new box2d.b2Vec2;box2d.b2CollidePolygonAndCircle=function(V,x,o,_o,_i){V.pointCount=0,_i=box2d.b2Mul_X_V2(_i,_o.m_p,box2d.b2CollidePolygonAndCircle.s_c),o=box2d.b2MulT_X_V2(o,_i,box2d.b2CollidePolygonAndCircle.s_cLocal);var l=0,t_=-box2d.b2_maxFloat;_i=x.m_radius+_o.m_radius;var o_=x.m_count,i_=x.m_vertices;x=x.m_normals;for(var _e=0;_e<o_;++_e){var l_=box2d.b2Dot_V2_V2(x[_e],box2d.b2Sub_V2_V2(o,i_[_e],box2d.b2Vec2.s_t0));if(l_>_i)return;l_>t_&&(t_=l_,l=_e)}_e=l,l_=i_[_e],o_=i_[(_e+1)%o_],t_<box2d.b2_epsilon?(V.pointCount=1,V.type=box2d.b2ManifoldType.e_faceA,V.localNormal.Copy(x[l]),box2d.b2Mid_V2_V2(l_,o_,V.localPoint),V.points[0].localPoint.Copy(_o.m_p),V.points[0].id.key=0):(t_=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o,l_,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(o_,l_,box2d.b2Vec2.s_t1)),l=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o,o_,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(l_,o_,box2d.b2Vec2.s_t1)),0>=t_?box2d.b2DistanceSquared(o,l_)>_i*_i||(V.pointCount=1,V.type=box2d.b2ManifoldType.e_faceA,box2d.b2Sub_V2_V2(o,l_,V.localNormal).SelfNormalize(),V.localPoint.Copy(l_),V.points[0].localPoint.Copy(_o.m_p),V.points[0].id.key=0):0>=l?box2d.b2DistanceSquared(o,o_)>_i*_i||(V.pointCount=1,V.type=box2d.b2ManifoldType.e_faceA,box2d.b2Sub_V2_V2(o,o_,V.localNormal).SelfNormalize(),V.localPoint.Copy(o_),V.points[0].localPoint.Copy(_o.m_p),V.points[0].id.key=0):(l=box2d.b2Mid_V2_V2(l_,o_,box2d.b2CollidePolygonAndCircle.s_faceCenter),t_=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o,l,box2d.b2Vec2.s_t1),x[_e]),t_>_i||(V.pointCount=1,V.type=box2d.b2ManifoldType.e_faceA,V.localNormal.Copy(x[_e]).SelfNormalize(),V.localPoint.Copy(l),V.points[0].localPoint.Copy(_o.m_p),V.points[0].id.key=0)))};goog.exportSymbol("box2d.b2CollidePolygonAndCircle",box2d.b2CollidePolygonAndCircle);box2d.b2CollidePolygonAndCircle.s_c=new box2d.b2Vec2;box2d.b2CollidePolygonAndCircle.s_cLocal=new box2d.b2Vec2;box2d.b2CollidePolygonAndCircle.s_faceCenter=new box2d.b2Vec2;box2d.b2CollideEdge={};box2d.b2CollideEdgeAndCircle=function(V,x,o,_o,_i){V.pointCount=0,o=box2d.b2MulT_X_V2(o,box2d.b2Mul_X_V2(_i,_o.m_p,box2d.b2Vec2.s_t0),box2d.b2CollideEdgeAndCircle.s_Q);var l=x.m_vertex1,t_=x.m_vertex2,o_=box2d.b2Sub_V2_V2(t_,l,box2d.b2CollideEdgeAndCircle.s_e),i_=box2d.b2Dot_V2_V2(o_,box2d.b2Sub_V2_V2(t_,o,box2d.b2Vec2.s_t0)),_e=box2d.b2Dot_V2_V2(o_,box2d.b2Sub_V2_V2(o,l,box2d.b2Vec2.s_t0)),l_=x.m_radius+_o.m_radius;if(_i=box2d.b2CollideEdgeAndCircle.s_id,_i.cf.indexB=0,_i.cf.typeB=box2d.b2ContactFeatureType.e_vertex,0>=_e){var ws=l,i_=box2d.b2Sub_V2_V2(o,ws,box2d.b2CollideEdgeAndCircle.s_d),i_=box2d.b2Dot_V2_V2(i_,i_);if(!(i_>l_*l_)){if(x.m_hasVertex0&&(x=box2d.b2Sub_V2_V2(l,x.m_vertex0,box2d.b2CollideEdgeAndCircle.s_e1),0<box2d.b2Dot_V2_V2(x,box2d.b2Sub_V2_V2(l,o,box2d.b2Vec2.s_t0))))return;_i.cf.indexA=0,_i.cf.typeA=box2d.b2ContactFeatureType.e_vertex,V.pointCount=1,V.type=box2d.b2ManifoldType.e_circles,V.localNormal.SetZero(),V.localPoint.Copy(ws),V.points[0].id.Copy(_i),V.points[0].localPoint.Copy(_o.m_p)}}else if(0>=i_){if(ws=t_,i_=box2d.b2Sub_V2_V2(o,ws,box2d.b2CollideEdgeAndCircle.s_d),i_=box2d.b2Dot_V2_V2(i_,i_),!(i_>l_*l_)){if(x.m_hasVertex3&&(l=box2d.b2Sub_V2_V2(x.m_vertex3,t_,box2d.b2CollideEdgeAndCircle.s_e2),0<box2d.b2Dot_V2_V2(l,box2d.b2Sub_V2_V2(o,t_,box2d.b2Vec2.s_t0))))return;_i.cf.indexA=1,_i.cf.typeA=box2d.b2ContactFeatureType.e_vertex,V.pointCount=1,V.type=box2d.b2ManifoldType.e_circles,V.localNormal.SetZero(),V.localPoint.Copy(ws),V.points[0].id.Copy(_i),V.points[0].localPoint.Copy(_o.m_p)}}else x=box2d.b2Dot_V2_V2(o_,o_),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<x),ws=box2d.b2CollideEdgeAndCircle.s_P,ws.x=1/x*(i_*l.x+_e*t_.x),ws.y=1/x*(i_*l.y+_e*t_.y),i_=box2d.b2Sub_V2_V2(o,ws,box2d.b2CollideEdgeAndCircle.s_d),i_=box2d.b2Dot_V2_V2(i_,i_),i_>l_*l_||(ws=box2d.b2CollideEdgeAndCircle.s_n.Set(-o_.y,o_.x),0>box2d.b2Dot_V2_V2(ws,box2d.b2Sub_V2_V2(o,l,box2d.b2Vec2.s_t0))&&ws.Set(-ws.x,-ws.y),ws.Normalize(),_i.cf.indexA=0,_i.cf.typeA=box2d.b2ContactFeatureType.e_face,V.pointCount=1,V.type=box2d.b2ManifoldType.e_faceA,V.localNormal.Copy(ws),V.localPoint.Copy(l),V.points[0].id.Copy(_i),V.points[0].localPoint.Copy(_o.m_p))};goog.exportSymbol("box2d.b2CollideEdgeAndCircle",box2d.b2CollideEdgeAndCircle);box2d.b2CollideEdgeAndCircle.s_Q=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_e=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_d=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_e1=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_e2=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_P=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_n=new box2d.b2Vec2;box2d.b2CollideEdgeAndCircle.s_id=new box2d.b2ContactID;box2d.b2EPAxisType={e_unknown:0,e_edgeA:1,e_edgeB:2};goog.exportSymbol("box2d.b2EPAxisType",box2d.b2EPAxisType);goog.exportProperty(box2d.b2EPAxisType,"e_unknown",box2d.b2EPAxisType.e_unknown);goog.exportProperty(box2d.b2EPAxisType,"e_edgeA",box2d.b2EPAxisType.e_edgeA);goog.exportProperty(box2d.b2EPAxisType,"e_edgeB",box2d.b2EPAxisType.e_edgeB);box2d.b2EPAxis=function(){};goog.exportSymbol("box2d.b2EPAxis",box2d.b2EPAxis);box2d.b2EPAxis.prototype.type=box2d.b2EPAxisType.e_unknown;goog.exportProperty(box2d.b2EPAxis.prototype,"type",box2d.b2EPAxis.prototype.type);box2d.b2EPAxis.prototype.index=0;goog.exportProperty(box2d.b2EPAxis.prototype,"index",box2d.b2EPAxis.prototype.index);box2d.b2EPAxis.prototype.separation=0;goog.exportProperty(box2d.b2EPAxis.prototype,"separation",box2d.b2EPAxis.prototype.separation);box2d.b2TempPolygon=function(){this.vertices=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices),this.normals=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices),this.count=0};goog.exportSymbol("box2d.b2TempPolygon",box2d.b2TempPolygon);box2d.b2TempPolygon.prototype.vertices=null;goog.exportProperty(box2d.b2TempPolygon.prototype,"vertices",box2d.b2TempPolygon.prototype.vertices);box2d.b2TempPolygon.prototype.normals=null;goog.exportProperty(box2d.b2TempPolygon.prototype,"normals",box2d.b2TempPolygon.prototype.normals);box2d.b2TempPolygon.prototype.count=0;goog.exportProperty(box2d.b2TempPolygon.prototype,"count",box2d.b2TempPolygon.prototype.count);box2d.b2ReferenceFace=function(){this.i2=this.i1=0,this.v1=new box2d.b2Vec2,this.v2=new box2d.b2Vec2,this.normal=new box2d.b2Vec2,this.sideNormal1=new box2d.b2Vec2,this.sideOffset1=0,this.sideNormal2=new box2d.b2Vec2,this.sideOffset2=0};goog.exportSymbol("box2d.b2ReferenceFace",box2d.b2ReferenceFace);box2d.b2ReferenceFace.prototype.i1=0;goog.exportProperty(box2d.b2ReferenceFace.prototype,"i1",box2d.b2ReferenceFace.prototype.i1);box2d.b2ReferenceFace.prototype.i2=0;goog.exportProperty(box2d.b2ReferenceFace.prototype,"i2",box2d.b2ReferenceFace.prototype.i2);box2d.b2ReferenceFace.prototype.v1=null;goog.exportProperty(box2d.b2ReferenceFace.prototype,"v1",box2d.b2ReferenceFace.prototype.v1);box2d.b2ReferenceFace.prototype.v2=null;goog.exportProperty(box2d.b2ReferenceFace.prototype,"v2",box2d.b2ReferenceFace.prototype.v2);box2d.b2ReferenceFace.prototype.normal=null;goog.exportProperty(box2d.b2ReferenceFace.prototype,"normal",box2d.b2ReferenceFace.prototype.normal);box2d.b2ReferenceFace.prototype.sideNormal1=null;goog.exportProperty(box2d.b2ReferenceFace.prototype,"sideNormal1",box2d.b2ReferenceFace.prototype.sideNormal1);box2d.b2ReferenceFace.prototype.sideOffset1=0;goog.exportProperty(box2d.b2ReferenceFace.prototype,"sideOffset1",box2d.b2ReferenceFace.prototype.sideOffset1);box2d.b2ReferenceFace.prototype.sideNormal2=null;goog.exportProperty(box2d.b2ReferenceFace.prototype,"sideNormal2",box2d.b2ReferenceFace.prototype.sideNormal2);box2d.b2ReferenceFace.prototype.sideOffset2=0;goog.exportProperty(box2d.b2ReferenceFace.prototype,"sideOffset2",box2d.b2ReferenceFace.prototype.sideOffset2);box2d.b2EPColliderVertexType={e_isolated:0,e_concave:1,e_convex:2};goog.exportSymbol("box2d.b2EPColliderVertexType",box2d.b2EPColliderVertexType);goog.exportProperty(box2d.b2EPColliderVertexType,"e_isolated",box2d.b2EPColliderVertexType.e_isolated);goog.exportProperty(box2d.b2EPColliderVertexType,"e_concave",box2d.b2EPColliderVertexType.e_concave);goog.exportProperty(box2d.b2EPColliderVertexType,"e_convex",box2d.b2EPColliderVertexType.e_convex);box2d.b2EPCollider=function(){this.m_polygonB=new box2d.b2TempPolygon,this.m_xf=new box2d.b2Transform,this.m_centroidB=new box2d.b2Vec2,this.m_v0=new box2d.b2Vec2,this.m_v1=new box2d.b2Vec2,this.m_v2=new box2d.b2Vec2,this.m_v3=new box2d.b2Vec2,this.m_normal0=new box2d.b2Vec2,this.m_normal1=new box2d.b2Vec2,this.m_normal2=new box2d.b2Vec2,this.m_normal=new box2d.b2Vec2,this.m_type2=this.m_type1=box2d.b2EPColliderVertexType.e_isolated,this.m_lowerLimit=new box2d.b2Vec2,this.m_upperLimit=new box2d.b2Vec2,this.m_radius=0,this.m_front=!1};goog.exportSymbol("box2d.b2EPCollider",box2d.b2EPCollider);box2d.b2EPCollider.prototype.m_polygonB=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_polygonB",box2d.b2EPCollider.prototype.m_polygonB);box2d.b2EPCollider.prototype.m_xf=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_xf",box2d.b2EPCollider.prototype.m_xf);box2d.b2EPCollider.prototype.m_centroidB=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_centroidB",box2d.b2EPCollider.prototype.m_centroidB);box2d.b2EPCollider.prototype.m_v0=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_v0",box2d.b2EPCollider.prototype.m_v0);box2d.b2EPCollider.prototype.m_v1=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_v1",box2d.b2EPCollider.prototype.m_v1);box2d.b2EPCollider.prototype.m_v2=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_v2",box2d.b2EPCollider.prototype.m_v2);box2d.b2EPCollider.prototype.m_v3=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_v3",box2d.b2EPCollider.prototype.m_v3);box2d.b2EPCollider.prototype.m_normal0=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_normal0",box2d.b2EPCollider.prototype.m_normal0);box2d.b2EPCollider.prototype.m_normal1=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_normal1",box2d.b2EPCollider.prototype.m_normal1);box2d.b2EPCollider.prototype.m_normal2=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_normal2",box2d.b2EPCollider.prototype.m_normal2);box2d.b2EPCollider.prototype.m_normal=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_normal",box2d.b2EPCollider.prototype.m_normal);box2d.b2EPCollider.prototype.m_type1=box2d.b2EPColliderVertexType.e_isolated;goog.exportProperty(box2d.b2EPCollider.prototype,"m_type1",box2d.b2EPCollider.prototype.m_type1);box2d.b2EPCollider.prototype.m_type2=box2d.b2EPColliderVertexType.e_isolated;goog.exportProperty(box2d.b2EPCollider.prototype,"m_type2",box2d.b2EPCollider.prototype.m_type2);box2d.b2EPCollider.prototype.m_lowerLimit=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_lowerLimit",box2d.b2EPCollider.prototype.m_lowerLimit);box2d.b2EPCollider.prototype.m_upperLimit=null;goog.exportProperty(box2d.b2EPCollider.prototype,"m_upperLimit",box2d.b2EPCollider.prototype.m_upperLimit);box2d.b2EPCollider.prototype.m_radius=0;goog.exportProperty(box2d.b2EPCollider.prototype,"m_radius",box2d.b2EPCollider.prototype.m_radius);box2d.b2EPCollider.prototype.m_front=!1;goog.exportProperty(box2d.b2EPCollider.prototype,"m_front",box2d.b2EPCollider.prototype.m_front);box2d.b2EPCollider.prototype.Collide=function(V,x,o,_o,_i){box2d.b2MulT_X_X(o,_i,this.m_xf),box2d.b2Mul_X_V2(this.m_xf,_o.m_centroid,this.m_centroidB),this.m_v0.Copy(x.m_vertex0),this.m_v1.Copy(x.m_vertex1),this.m_v2.Copy(x.m_vertex2),this.m_v3.Copy(x.m_vertex3),o=x.m_hasVertex0,x=x.m_hasVertex3,_i=box2d.b2Sub_V2_V2(this.m_v2,this.m_v1,box2d.b2EPCollider.s_edge1),_i.Normalize(),this.m_normal1.Set(_i.y,-_i.x);var l=box2d.b2Dot_V2_V2(this.m_normal1,box2d.b2Sub_V2_V2(this.m_centroidB,this.m_v1,box2d.b2Vec2.s_t0)),t_=0,o_=0,i_=!1,_e=!1;for(o&&(t_=box2d.b2Sub_V2_V2(this.m_v1,this.m_v0,box2d.b2EPCollider.s_edge0),t_.Normalize(),this.m_normal0.Set(t_.y,-t_.x),i_=0<=box2d.b2Cross_V2_V2(t_,_i),t_=box2d.b2Dot_V2_V2(this.m_normal0,box2d.b2Sub_V2_V2(this.m_centroidB,this.m_v0,box2d.b2Vec2.s_t0))),x&&(o_=box2d.b2Sub_V2_V2(this.m_v3,this.m_v2,box2d.b2EPCollider.s_edge2),o_.Normalize(),this.m_normal2.Set(o_.y,-o_.x),_e=0<box2d.b2Cross_V2_V2(_i,o_),o_=box2d.b2Dot_V2_V2(this.m_normal2,box2d.b2Sub_V2_V2(this.m_centroidB,this.m_v2,box2d.b2Vec2.s_t0))),o&&x?i_&&_e?(this.m_front=0<=t_||0<=l||0<=o_)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):i_?(this.m_front=0<=t_||0<=l&&0<=o_)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):_e?(this.m_front=0<=o_||0<=t_&&0<=l)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg()):(this.m_front=0<=t_&&0<=l&&0<=o_)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg()):o?i_?((this.m_front=0<=t_||0<=l)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1)),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_front=0<=t_&&0<=l)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal0).SelfNeg()):x?_e?(this.m_front=0<=l||0<=o_)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1)):((this.m_front=0<=l&&0<=o_)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg()),this.m_upperLimit.Copy(this.m_normal1)):(this.m_front=0<=l)?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)),this.m_polygonB.count=_o.m_count,l=0,t_=_o.m_count;l<t_;++l)box2d.b2Mul_X_V2(this.m_xf,_o.m_vertices[l],this.m_polygonB.vertices[l]),box2d.b2Mul_R_V2(this.m_xf.q,_o.m_normals[l],this.m_polygonB.normals[l]);if(this.m_radius=2*box2d.b2_polygonRadius,V.pointCount=0,o=this.ComputeEdgeSeparation(box2d.b2EPCollider.s_edgeAxis),!(o.type===box2d.b2EPAxisType.e_unknown||o.separation>this.m_radius||(x=this.ComputePolygonSeparation(box2d.b2EPCollider.s_polygonAxis),x.type!==box2d.b2EPAxisType.e_unknown&&x.separation>this.m_radius))){if(o=x.type===box2d.b2EPAxisType.e_unknown?o:x.separation>.98*o.separation+.001?x:o,_i=box2d.b2EPCollider.s_ie,x=box2d.b2EPCollider.s_rf,o.type===box2d.b2EPAxisType.e_edgeA){for(V.type=box2d.b2ManifoldType.e_faceA,o_=0,i_=box2d.b2Dot_V2_V2(this.m_normal,this.m_polygonB.normals[0]),l=1,t_=this.m_polygonB.count;l<t_;++l)_e=box2d.b2Dot_V2_V2(this.m_normal,this.m_polygonB.normals[l]),_e<i_&&(i_=_e,o_=l);t_=o_,l=(t_+1)%this.m_polygonB.count,o_=_i[0],o_.v.Copy(this.m_polygonB.vertices[t_]),o_.id.cf.indexA=0,o_.id.cf.indexB=t_,o_.id.cf.typeA=box2d.b2ContactFeatureType.e_face,o_.id.cf.typeB=box2d.b2ContactFeatureType.e_vertex,t_=_i[1],t_.v.Copy(this.m_polygonB.vertices[l]),t_.id.cf.indexA=0,t_.id.cf.indexB=l,t_.id.cf.typeA=box2d.b2ContactFeatureType.e_face,t_.id.cf.typeB=box2d.b2ContactFeatureType.e_vertex,this.m_front?(x.i1=0,x.i2=1,x.v1.Copy(this.m_v1),x.v2.Copy(this.m_v2),x.normal.Copy(this.m_normal1)):(x.i1=1,x.i2=0,x.v1.Copy(this.m_v2),x.v2.Copy(this.m_v1),x.normal.Copy(this.m_normal1).SelfNeg())}else V.type=box2d.b2ManifoldType.e_faceB,o_=_i[0],o_.v.Copy(this.m_v1),o_.id.cf.indexA=0,o_.id.cf.indexB=o.index,o_.id.cf.typeA=box2d.b2ContactFeatureType.e_vertex,o_.id.cf.typeB=box2d.b2ContactFeatureType.e_face,t_=_i[1],t_.v.Copy(this.m_v2),t_.id.cf.indexA=0,t_.id.cf.indexB=o.index,t_.id.cf.typeA=box2d.b2ContactFeatureType.e_vertex,t_.id.cf.typeB=box2d.b2ContactFeatureType.e_face,x.i1=o.index,x.i2=(x.i1+1)%this.m_polygonB.count,x.v1.Copy(this.m_polygonB.vertices[x.i1]),x.v2.Copy(this.m_polygonB.vertices[x.i2]),x.normal.Copy(this.m_polygonB.normals[x.i1]);if(x.sideNormal1.Set(x.normal.y,-x.normal.x),x.sideNormal2.Copy(x.sideNormal1).SelfNeg(),x.sideOffset1=box2d.b2Dot_V2_V2(x.sideNormal1,x.v1),x.sideOffset2=box2d.b2Dot_V2_V2(x.sideNormal2,x.v2),l=box2d.b2EPCollider.s_clipPoints1,o_=box2d.b2EPCollider.s_clipPoints2,t_=0,t_=box2d.b2ClipSegmentToLine(l,_i,x.sideNormal1,x.sideOffset1,x.i1),!(t_<box2d.b2_maxManifoldPoints||(t_=box2d.b2ClipSegmentToLine(o_,l,x.sideNormal2,x.sideOffset2,x.i2),t_<box2d.b2_maxManifoldPoints))){for(o.type===box2d.b2EPAxisType.e_edgeA?(V.localNormal.Copy(x.normal),V.localPoint.Copy(x.v1)):(V.localNormal.Copy(_o.m_normals[x.i1]),V.localPoint.Copy(_o.m_vertices[x.i1])),l=_o=0,t_=box2d.b2_maxManifoldPoints;l<t_;++l)box2d.b2Dot_V2_V2(x.normal,box2d.b2Sub_V2_V2(o_[l].v,x.v1,box2d.b2Vec2.s_t0))<=this.m_radius&&(_i=V.points[_o],o.type===box2d.b2EPAxisType.e_edgeA?(box2d.b2MulT_X_V2(this.m_xf,o_[l].v,_i.localPoint),_i.id=o_[l].id):(_i.localPoint.Copy(o_[l].v),_i.id.cf.typeA=o_[l].id.cf.typeB,_i.id.cf.typeB=o_[l].id.cf.typeA,_i.id.cf.indexA=o_[l].id.cf.indexB,_i.id.cf.indexB=o_[l].id.cf.indexA),++_o);V.pointCount=_o}}};goog.exportProperty(box2d.b2EPCollider.prototype,"Collide",box2d.b2EPCollider.prototype.Collide);box2d.b2EPCollider.s_edge1=new box2d.b2Vec2;box2d.b2EPCollider.s_edge0=new box2d.b2Vec2;box2d.b2EPCollider.s_edge2=new box2d.b2Vec2;box2d.b2EPCollider.s_ie=box2d.b2ClipVertex.MakeArray(2);box2d.b2EPCollider.s_rf=new box2d.b2ReferenceFace;box2d.b2EPCollider.s_clipPoints1=box2d.b2ClipVertex.MakeArray(2);box2d.b2EPCollider.s_clipPoints2=box2d.b2ClipVertex.MakeArray(2);box2d.b2EPCollider.s_edgeAxis=new box2d.b2EPAxis;box2d.b2EPCollider.s_polygonAxis=new box2d.b2EPAxis;box2d.b2EPCollider.prototype.ComputeEdgeSeparation=function(V){V.type=box2d.b2EPAxisType.e_edgeA,V.index=this.m_front?0:1,V.separation=box2d.b2_maxFloat;for(var x=0,o=this.m_polygonB.count;x<o;++x){var _o=box2d.b2Dot_V2_V2(this.m_normal,box2d.b2Sub_V2_V2(this.m_polygonB.vertices[x],this.m_v1,box2d.b2Vec2.s_t0));_o<V.separation&&(V.separation=_o)}return V};goog.exportProperty(box2d.b2EPCollider.prototype,"ComputeEdgeSeparation",box2d.b2EPCollider.prototype.ComputeEdgeSeparation);box2d.b2EPCollider.prototype.ComputePolygonSeparation=function(V){V.type=box2d.b2EPAxisType.e_unknown,V.index=-1,V.separation=-box2d.b2_maxFloat;for(var x=box2d.b2EPCollider.s_perp.Set(-this.m_normal.y,this.m_normal.x),o=0,_o=this.m_polygonB.count;o<_o;++o){var _i=box2d.b2EPCollider.s_n.Copy(this.m_polygonB.normals[o]).SelfNeg(),t_=box2d.b2Dot_V2_V2(_i,box2d.b2Sub_V2_V2(this.m_polygonB.vertices[o],this.m_v1,box2d.b2Vec2.s_t0)),l=box2d.b2Dot_V2_V2(_i,box2d.b2Sub_V2_V2(this.m_polygonB.vertices[o],this.m_v2,box2d.b2Vec2.s_t0)),t_=box2d.b2Min(t_,l);if(t_>this.m_radius){V.type=box2d.b2EPAxisType.e_edgeB,V.index=o,V.separation=t_;break}if(0<=box2d.b2Dot_V2_V2(_i,x)){if(box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_i,this.m_upperLimit,box2d.b2Vec2.s_t0),this.m_normal)<-box2d.b2_angularSlop)continue}else if(box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_i,this.m_lowerLimit,box2d.b2Vec2.s_t0),this.m_normal)<-box2d.b2_angularSlop)continue;t_>V.separation&&(V.type=box2d.b2EPAxisType.e_edgeB,V.index=o,V.separation=t_)}return V};goog.exportProperty(box2d.b2EPCollider.prototype,"ComputePolygonSeparation",box2d.b2EPCollider.prototype.ComputePolygonSeparation);box2d.b2EPCollider.s_n=new box2d.b2Vec2;box2d.b2EPCollider.s_perp=new box2d.b2Vec2;box2d.b2CollideEdgeAndPolygon=function(V,x,o,_o,_i){box2d.b2CollideEdgeAndPolygon.s_collider.Collide(V,x,o,_o,_i)};goog.exportSymbol("box2d.b2CollideEdgeAndPolygon",box2d.b2CollideEdgeAndPolygon);box2d.b2CollideEdgeAndPolygon.s_collider=new box2d.b2EPCollider;box2d.b2CollidePolygon={};box2d.b2FindMaxSeparation=function(V,x,o,_o,_i){var l=x.m_count,t_=_o.m_count,o_=x.m_normals;x=x.m_vertices,_o=_o.m_vertices,o=box2d.b2MulT_X_X(_i,o,box2d.b2FindMaxSeparation.s_xf),_i=0;for(var i_=-box2d.b2_maxFloat,_e=0;_e<l;++_e){for(var l_=box2d.b2Mul_R_V2(o.q,o_[_e],box2d.b2FindMaxSeparation.s_n),ws=box2d.b2Mul_X_V2(o,x[_e],box2d.b2FindMaxSeparation.s_v1),h_=box2d.b2_maxFloat,s_=0;s_<t_;++s_){var B_=box2d.b2Dot_V2_V2(l_,box2d.b2Sub_V2_V2(_o[s_],ws,box2d.b2Vec2.s_t0));B_<h_&&(h_=B_)}h_>i_&&(i_=h_,_i=_e)}return V[0]=_i,i_};goog.exportSymbol("box2d.b2FindMaxSeparation",box2d.b2FindMaxSeparation);box2d.b2FindMaxSeparation.s_xf=new box2d.b2Transform;box2d.b2FindMaxSeparation.s_n=new box2d.b2Vec2;box2d.b2FindMaxSeparation.s_v1=new box2d.b2Vec2;box2d.b2FindIncidentEdge=function(V,x,o,_o,_i,l){var t_=x.m_count,o_=x.m_normals,i_=_i.m_count;x=_i.m_vertices,_i=_i.m_normals,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=_o&&_o<t_),o=box2d.b2MulT_R_V2(l.q,box2d.b2Mul_R_V2(o.q,o_[_o],box2d.b2Vec2.s_t0),box2d.b2FindIncidentEdge.s_normal1);for(var t_=0,o_=box2d.b2_maxFloat,_e=0;_e<i_;++_e){var l_=box2d.b2Dot_V2_V2(o,_i[_e]);l_<o_&&(o_=l_,t_=_e)}_i=t_,i_=(_i+1)%i_,o=V[0],box2d.b2Mul_X_V2(l,x[_i],o.v),o=o.id.cf,o.indexA=_o,o.indexB=_i,o.typeA=box2d.b2ContactFeatureType.e_face,o.typeB=box2d.b2ContactFeatureType.e_vertex,V=V[1],box2d.b2Mul_X_V2(l,x[i_],V.v),l=V.id.cf,l.indexA=_o,l.indexB=i_,l.typeA=box2d.b2ContactFeatureType.e_face,l.typeB=box2d.b2ContactFeatureType.e_vertex};goog.exportSymbol("box2d.b2FindIncidentEdge",box2d.b2FindIncidentEdge);box2d.b2FindIncidentEdge.s_normal1=new box2d.b2Vec2;box2d.b2CollidePolygons=function(V,x,o,_o,_i){V.pointCount=0;var l=x.m_radius+_o.m_radius,t_=box2d.b2CollidePolygons.s_edgeA;t_[0]=0;var o_=box2d.b2FindMaxSeparation(t_,x,o,_o,_i);if(!(o_>l)){var i_=box2d.b2CollidePolygons.s_edgeB;i_[0]=0;var _e=box2d.b2FindMaxSeparation(i_,_o,_i,x,o);if(!(_e>l)){var ws=0,l_=0;_e>.98*o_+.001?(o_=_o,_o=x,x=_i,ws=i_[0],V.type=box2d.b2ManifoldType.e_faceB,l_=1):(o_=x,x=o,o=_i,ws=t_[0],V.type=box2d.b2ManifoldType.e_faceA,l_=0),t_=box2d.b2CollidePolygons.s_incidentEdge,box2d.b2FindIncidentEdge(t_,o_,x,ws,_o,o),_i=o_.m_vertices;var i_=ws,o_=(ws+1)%o_.m_count,D_=_i[i_],h_=_i[o_],ws=box2d.b2Sub_V2_V2(h_,D_,box2d.b2CollidePolygons.s_localTangent);ws.Normalize(),_i=box2d.b2Cross_V2_S(ws,1,box2d.b2CollidePolygons.s_localNormal),_o=box2d.b2Mid_V2_V2(D_,h_,box2d.b2CollidePolygons.s_planePoint);var _e=box2d.b2Mul_R_V2(x.q,ws,box2d.b2CollidePolygons.s_tangent),ws=box2d.b2Cross_V2_S(_e,1,box2d.b2CollidePolygons.s_normal),D_=box2d.b2Mul_X_V2(x,D_,box2d.b2CollidePolygons.s_v11),s_=box2d.b2Mul_X_V2(x,h_,box2d.b2CollidePolygons.s_v12);x=box2d.b2Dot_V2_V2(ws,D_);var h_=-box2d.b2Dot_V2_V2(_e,D_)+l,s_=box2d.b2Dot_V2_V2(_e,s_)+l,B_=box2d.b2CollidePolygons.s_clipPoints1,D_=box2d.b2CollidePolygons.s_clipPoints2,y_=box2d.b2CollidePolygons.s_ntangent.Copy(_e).SelfNeg(),t_=box2d.b2ClipSegmentToLine(B_,t_,y_,h_,i_);if(!(2>t_||(t_=box2d.b2ClipSegmentToLine(D_,B_,_e,s_,o_),2>t_))){for(V.localNormal.Copy(_i),V.localPoint.Copy(_o),i_=t_=0;i_<box2d.b2_maxManifoldPoints;++i_)_i=D_[i_],box2d.b2Dot_V2_V2(ws,_i.v)-x<=l&&(o_=V.points[t_],box2d.b2MulT_X_V2(o,_i.v,o_.localPoint),o_.id.Copy(_i.id),l_&&(_i=o_.id.cf,o_.id.cf.indexA=_i.indexB,o_.id.cf.indexB=_i.indexA,o_.id.cf.typeA=_i.typeB,o_.id.cf.typeB=_i.typeA),++t_);V.pointCount=t_}}}};goog.exportSymbol("box2d.b2CollidePolygons",box2d.b2CollidePolygons);box2d.b2CollidePolygons.s_incidentEdge=box2d.b2ClipVertex.MakeArray(2);box2d.b2CollidePolygons.s_clipPoints1=box2d.b2ClipVertex.MakeArray(2);box2d.b2CollidePolygons.s_clipPoints2=box2d.b2ClipVertex.MakeArray(2);box2d.b2CollidePolygons.s_edgeA=box2d.b2MakeNumberArray(1);box2d.b2CollidePolygons.s_edgeB=box2d.b2MakeNumberArray(1);box2d.b2CollidePolygons.s_localTangent=new box2d.b2Vec2;box2d.b2CollidePolygons.s_localNormal=new box2d.b2Vec2;box2d.b2CollidePolygons.s_planePoint=new box2d.b2Vec2;box2d.b2CollidePolygons.s_normal=new box2d.b2Vec2;box2d.b2CollidePolygons.s_tangent=new box2d.b2Vec2;box2d.b2CollidePolygons.s_ntangent=new box2d.b2Vec2;box2d.b2CollidePolygons.s_v11=new box2d.b2Vec2;box2d.b2CollidePolygons.s_v12=new box2d.b2Vec2;box2d.b2TreeNode=function(V){this.m_id=V||0,this.aabb=new box2d.b2AABB};goog.exportSymbol("box2d.b2TreeNode",box2d.b2TreeNode);box2d.b2TreeNode.prototype.m_id=0;goog.exportProperty(box2d.b2TreeNode.prototype,"m_id",box2d.b2TreeNode.prototype.m_id);box2d.b2TreeNode.prototype.aabb=null;goog.exportProperty(box2d.b2TreeNode.prototype,"aabb",box2d.b2TreeNode.prototype.aabb);box2d.b2TreeNode.prototype.userData=null;goog.exportProperty(box2d.b2TreeNode.prototype,"userData",box2d.b2TreeNode.prototype.userData);box2d.b2TreeNode.prototype.parent=null;goog.exportProperty(box2d.b2TreeNode.prototype,"parent",box2d.b2TreeNode.prototype.parent);box2d.b2TreeNode.prototype.child1=null;goog.exportProperty(box2d.b2TreeNode.prototype,"child1",box2d.b2TreeNode.prototype.child1);box2d.b2TreeNode.prototype.child2=null;goog.exportProperty(box2d.b2TreeNode.prototype,"child2",box2d.b2TreeNode.prototype.child2);box2d.b2TreeNode.prototype.height=0;goog.exportProperty(box2d.b2TreeNode.prototype,"height",box2d.b2TreeNode.prototype.height);box2d.b2TreeNode.prototype.IsLeaf=function(){return this.child1===null};goog.exportProperty(box2d.b2TreeNode.prototype,"IsLeaf",box2d.b2TreeNode.prototype.IsLeaf);box2d.b2DynamicTree=function(){};goog.exportSymbol("box2d.b2DynamicTree",box2d.b2DynamicTree);box2d.b2DynamicTree.prototype.m_root=null;goog.exportProperty(box2d.b2DynamicTree.prototype,"m_root",box2d.b2DynamicTree.prototype.m_root);box2d.b2DynamicTree.prototype.m_freeList=null;goog.exportProperty(box2d.b2DynamicTree.prototype,"m_freeList",box2d.b2DynamicTree.prototype.m_freeList);box2d.b2DynamicTree.prototype.m_path=0;goog.exportProperty(box2d.b2DynamicTree.prototype,"m_path",box2d.b2DynamicTree.prototype.m_path);box2d.b2DynamicTree.prototype.m_insertionCount=0;goog.exportProperty(box2d.b2DynamicTree.prototype,"m_insertionCount",box2d.b2DynamicTree.prototype.m_insertionCount);box2d.b2DynamicTree.s_stack=new box2d.b2GrowableStack(256);box2d.b2DynamicTree.s_r=new box2d.b2Vec2;box2d.b2DynamicTree.s_v=new box2d.b2Vec2;box2d.b2DynamicTree.s_abs_v=new box2d.b2Vec2;box2d.b2DynamicTree.s_segmentAABB=new box2d.b2AABB;box2d.b2DynamicTree.s_subInput=new box2d.b2RayCastInput;box2d.b2DynamicTree.s_combinedAABB=new box2d.b2AABB;box2d.b2DynamicTree.s_aabb=new box2d.b2AABB;box2d.b2DynamicTree.prototype.GetUserData=function(V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(V!==null),V.userData};goog.exportProperty(box2d.b2DynamicTree.prototype,"GetUserData",box2d.b2DynamicTree.prototype.GetUserData);box2d.b2DynamicTree.prototype.GetFatAABB=function(V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(V!==null),V.aabb};goog.exportProperty(box2d.b2DynamicTree.prototype,"GetFatAABB",box2d.b2DynamicTree.prototype.GetFatAABB);box2d.b2DynamicTree.prototype.Query=function(V,x){if(this.m_root!==null){var o=box2d.b2DynamicTree.s_stack.Reset();for(o.Push(this.m_root);0<o.GetCount();){var _o=o.Pop();if(_o!==null&&_o.aabb.TestOverlap(x))if(_o.IsLeaf()){if(!V(_o))break}else o.Push(_o.child1),o.Push(_o.child2)}}};goog.exportProperty(box2d.b2DynamicTree.prototype,"Query",box2d.b2DynamicTree.prototype.Query);box2d.b2DynamicTree.prototype.RayCast=function(V,x){if(this.m_root!==null){var o=x.p1,_o=x.p2,_i=box2d.b2Sub_V2_V2(_o,o,box2d.b2DynamicTree.s_r);box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<_i.LengthSquared()),_i.Normalize();var _i=box2d.b2Cross_S_V2(1,_i,box2d.b2DynamicTree.s_v),l=box2d.b2Abs_V2(_i,box2d.b2DynamicTree.s_abs_v),t_=x.maxFraction,o_=box2d.b2DynamicTree.s_segmentAABB,i_=o.x+t_*(_o.x-o.x),_e=o.y+t_*(_o.y-o.y);o_.lowerBound.x=box2d.b2Min(o.x,i_),o_.lowerBound.y=box2d.b2Min(o.y,_e),o_.upperBound.x=box2d.b2Max(o.x,i_),o_.upperBound.y=box2d.b2Max(o.y,_e);var l_=box2d.b2DynamicTree.s_stack.Reset();for(l_.Push(this.m_root);0<l_.GetCount();)if(i_=l_.Pop(),i_!==null&&box2d.b2TestOverlapAABB(i_.aabb,o_)){var _e=i_.aabb.GetCenter(),ws=i_.aabb.GetExtents();if(!(0<box2d.b2Abs(box2d.b2Dot_V2_V2(_i,box2d.b2Sub_V2_V2(o,_e,box2d.b2Vec2.s_t0)))-box2d.b2Dot_V2_V2(l,ws)))if(i_.IsLeaf()){if(_e=box2d.b2DynamicTree.s_subInput,_e.p1.Copy(x.p1),_e.p2.Copy(x.p2),_e.maxFraction=t_,i_=V(_e,i_),i_===0)break;0<i_&&(t_=i_,i_=o.x+t_*(_o.x-o.x),_e=o.y+t_*(_o.y-o.y),o_.lowerBound.x=box2d.b2Min(o.x,i_),o_.lowerBound.y=box2d.b2Min(o.y,_e),o_.upperBound.x=box2d.b2Max(o.x,i_),o_.upperBound.y=box2d.b2Max(o.y,_e))}else l_.Push(i_.child1),l_.Push(i_.child2)}}};goog.exportProperty(box2d.b2DynamicTree.prototype,"RayCast",box2d.b2DynamicTree.prototype.RayCast);box2d.b2DynamicTree.prototype.AllocateNode=function(){if(this.m_freeList){var V=this.m_freeList;return this.m_freeList=V.parent,V.parent=null,V.child1=null,V.child2=null,V.height=0,V.userData=null,V}return new box2d.b2TreeNode(box2d.b2DynamicTree.prototype.s_node_id++)};goog.exportProperty(box2d.b2DynamicTree.prototype,"AllocateNode",box2d.b2DynamicTree.prototype.AllocateNode);box2d.b2DynamicTree.prototype.s_node_id=0;box2d.b2DynamicTree.prototype.FreeNode=function(V){V.parent=this.m_freeList,V.height=-1,this.m_freeList=V};goog.exportProperty(box2d.b2DynamicTree.prototype,"FreeNode",box2d.b2DynamicTree.prototype.FreeNode);box2d.b2DynamicTree.prototype.CreateProxy=function(V,x){var o=this.AllocateNode(),_o=box2d.b2_aabbExtension,_i=box2d.b2_aabbExtension;return o.aabb.lowerBound.x=V.lowerBound.x-_o,o.aabb.lowerBound.y=V.lowerBound.y-_i,o.aabb.upperBound.x=V.upperBound.x+_o,o.aabb.upperBound.y=V.upperBound.y+_i,o.userData=x,o.height=0,this.InsertLeaf(o),o};goog.exportProperty(box2d.b2DynamicTree.prototype,"CreateProxy",box2d.b2DynamicTree.prototype.CreateProxy);box2d.b2DynamicTree.prototype.DestroyProxy=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.IsLeaf()),this.RemoveLeaf(V),this.FreeNode(V)};goog.exportProperty(box2d.b2DynamicTree.prototype,"DestroyProxy",box2d.b2DynamicTree.prototype.DestroyProxy);box2d.b2DynamicTree.prototype.MoveProxy=function(V,x,o){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.IsLeaf()),V.aabb.Contains(x))return!1;this.RemoveLeaf(V);var _o=box2d.b2_aabbExtension+box2d.b2_aabbMultiplier*(0<o.x?o.x:-o.x);return o=box2d.b2_aabbExtension+box2d.b2_aabbMultiplier*(0<o.y?o.y:-o.y),V.aabb.lowerBound.x=x.lowerBound.x-_o,V.aabb.lowerBound.y=x.lowerBound.y-o,V.aabb.upperBound.x=x.upperBound.x+_o,V.aabb.upperBound.y=x.upperBound.y+o,this.InsertLeaf(V),!0};goog.exportProperty(box2d.b2DynamicTree.prototype,"MoveProxy",box2d.b2DynamicTree.prototype.MoveProxy);box2d.b2DynamicTree.prototype.InsertLeaf=function(V){if(++this.m_insertionCount,this.m_root===null)this.m_root=V,this.m_root.parent=null;else{var x=V.aabb;x.GetCenter();for(var o=this.m_root,_o,_i;!o.IsLeaf();){_o=o.child1,_i=o.child2;var l=o.aabb.GetPerimeter(),t_=box2d.b2DynamicTree.s_combinedAABB;t_.Combine2(o.aabb,x);var o_=t_.GetPerimeter(),t_=2*o_,o_=2*(o_-l),i_=box2d.b2DynamicTree.s_aabb,_e,l_;if(_o.IsLeaf()?(i_.Combine2(x,_o.aabb),l=i_.GetPerimeter()+o_):(i_.Combine2(x,_o.aabb),_e=_o.aabb.GetPerimeter(),l_=i_.GetPerimeter(),l=l_-_e+o_),_i.IsLeaf()?(i_.Combine2(x,_i.aabb),o_=i_.GetPerimeter()+o_):(i_.Combine2(x,_i.aabb),_e=_i.aabb.GetPerimeter(),l_=i_.GetPerimeter(),o_=l_-_e+o_),t_<l&&t_<o_)break;o=l<o_?_o:_i}for(_o=o.parent,_i=this.AllocateNode(),_i.parent=_o,_i.userData=null,_i.aabb.Combine2(x,o.aabb),_i.height=o.height+1,_o?(_o.child1===o?_o.child1=_i:_o.child2=_i,_i.child1=o,_i.child2=V,o.parent=_i,V.parent=_i):(_i.child1=o,_i.child2=V,o.parent=_i,this.m_root=V.parent=_i),o=V.parent;o!==null;)o=this.Balance(o),_o=o.child1,_i=o.child2,box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o!==null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_i!==null),o.height=1+box2d.b2Max(_o.height,_i.height),o.aabb.Combine2(_o.aabb,_i.aabb),o=o.parent}};goog.exportProperty(box2d.b2DynamicTree.prototype,"InsertLeaf",box2d.b2DynamicTree.prototype.InsertLeaf);box2d.b2DynamicTree.prototype.RemoveLeaf=function(V){if(V===this.m_root)this.m_root=null;else{var x=V.parent,o=x.parent;if(V=x.child1===V?x.child2:x.child1,o)for(o.child1===x?o.child1=V:o.child2=V,V.parent=o,this.FreeNode(x),x=o;x;)x=this.Balance(x),o=x.child1,V=x.child2,x.aabb.Combine2(o.aabb,V.aabb),x.height=1+box2d.b2Max(o.height,V.height),x=x.parent;else this.m_root=V,V.parent=null,this.FreeNode(x)}};goog.exportProperty(box2d.b2DynamicTree.prototype,"RemoveLeaf",box2d.b2DynamicTree.prototype.RemoveLeaf);box2d.b2DynamicTree.prototype.Balance=function(V){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(V!==null),V.IsLeaf()||2>V.height)return V;var x=V.child1,o=V.child2,_o=o.height-x.height;if(1<_o){var _o=o.child1,_i=o.child2;return o.child1=V,o.parent=V.parent,V.parent=o,o.parent!==null?o.parent.child1===V?o.parent.child1=o:(box2d.ENABLE_ASSERTS&&box2d.b2Assert(o.parent.child2===V),o.parent.child2=o):this.m_root=o,_o.height>_i.height?(o.child2=_o,V.child2=_i,_i.parent=V,V.aabb.Combine2(x.aabb,_i.aabb),o.aabb.Combine2(V.aabb,_o.aabb),V.height=1+box2d.b2Max(x.height,_i.height),o.height=1+box2d.b2Max(V.height,_o.height)):(o.child2=_i,V.child2=_o,_o.parent=V,V.aabb.Combine2(x.aabb,_o.aabb),o.aabb.Combine2(V.aabb,_i.aabb),V.height=1+box2d.b2Max(x.height,_o.height),o.height=1+box2d.b2Max(V.height,_i.height)),o}return-1>_o?(_o=x.child1,_i=x.child2,x.child1=V,x.parent=V.parent,V.parent=x,x.parent!==null?x.parent.child1===V?x.parent.child1=x:(box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.parent.child2===V),x.parent.child2=x):this.m_root=x,_o.height>_i.height?(x.child2=_o,V.child1=_i,_i.parent=V,V.aabb.Combine2(o.aabb,_i.aabb),x.aabb.Combine2(V.aabb,_o.aabb),V.height=1+box2d.b2Max(o.height,_i.height),x.height=1+box2d.b2Max(V.height,_o.height)):(x.child2=_i,V.child1=_o,_o.parent=V,V.aabb.Combine2(o.aabb,_o.aabb),x.aabb.Combine2(V.aabb,_i.aabb),V.height=1+box2d.b2Max(o.height,_o.height),x.height=1+box2d.b2Max(V.height,_i.height)),x):V};goog.exportProperty(box2d.b2DynamicTree.prototype,"Balance",box2d.b2DynamicTree.prototype.Balance);box2d.b2DynamicTree.prototype.GetHeight=function(){return this.m_root===null?0:this.m_root.height};goog.exportProperty(box2d.b2DynamicTree.prototype,"GetHeight",box2d.b2DynamicTree.prototype.GetHeight);box2d.b2DynamicTree.prototype.GetAreaRatio=function(){if(this.m_root===null)return 0;var V=this.m_root.aabb.GetPerimeter(),x=function(o){if(o===null||o.IsLeaf())return 0;var _o=o.aabb.GetPerimeter(),_o=_o+x(o.child1);return _o+=x(o.child2)};return x(this.m_root)/V};goog.exportProperty(box2d.b2DynamicTree.prototype,"GetAreaRatio",box2d.b2DynamicTree.prototype.GetAreaRatio);box2d.b2DynamicTree.prototype.ComputeHeightNode=function(V){if(V.IsLeaf())return 0;var x=this.ComputeHeightNode(V.child1);return V=this.ComputeHeightNode(V.child2),1+box2d.b2Max(x,V)};goog.exportProperty(box2d.b2DynamicTree.prototype,"ComputeHeightNode",box2d.b2DynamicTree.prototype.ComputeHeightNode);box2d.b2DynamicTree.prototype.ComputeHeight=function(){return this.ComputeHeightNode(this.m_root)};goog.exportProperty(box2d.b2DynamicTree.prototype,"ComputeHeight",box2d.b2DynamicTree.prototype.ComputeHeight);box2d.b2DynamicTree.prototype.ValidateStructure=function(V){if(V!==null){V===this.m_root&&box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.parent===null);var x=V.child1,o=V.child2;V.IsLeaf()?(box2d.ENABLE_ASSERTS&&box2d.b2Assert(x===null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(o===null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.height===0)):(box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.parent===V),box2d.ENABLE_ASSERTS&&box2d.b2Assert(o.parent===V),this.ValidateStructure(x),this.ValidateStructure(o))}};goog.exportProperty(box2d.b2DynamicTree.prototype,"ValidateStructure",box2d.b2DynamicTree.prototype.ValidateStructure);box2d.b2DynamicTree.prototype.ValidateMetrics=function(V){if(V!==null){var x=V.child1,o=V.child2;if(V.IsLeaf())box2d.ENABLE_ASSERTS&&box2d.b2Assert(x===null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(o===null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.height===0);else{var _o;_o=1+box2d.b2Max(x.height,o.height),box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.height===_o),_o=box2d.b2DynamicTree.s_aabb,_o.Combine2(x.aabb,o.aabb),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o.lowerBound===V.aabb.lowerBound),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o.upperBound===V.aabb.upperBound),this.ValidateMetrics(x),this.ValidateMetrics(o)}}};goog.exportProperty(box2d.b2DynamicTree.prototype,"ValidateMetrics",box2d.b2DynamicTree.prototype.ValidateMetrics);box2d.b2DynamicTree.prototype.Validate=function(){this.ValidateStructure(this.m_root),this.ValidateMetrics(this.m_root);for(var V=0,x=this.m_freeList;x!==null;)x=x.parent,++V;box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.GetHeight()===this.ComputeHeight())};goog.exportProperty(box2d.b2DynamicTree.prototype,"Validate",box2d.b2DynamicTree.prototype.Validate);box2d.b2DynamicTree.prototype.GetMaxBalance=function(){var V;return V=this.m_root,V===null||1>=V.height?V=0:(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!V.IsLeaf()),V=box2d.b2Abs(V.child2.height-V.child1.height),V=box2d.b2Max(0,V)),V};goog.exportProperty(box2d.b2DynamicTree.prototype,"GetMaxBalance",box2d.b2DynamicTree.prototype.GetMaxBalance);box2d.b2DynamicTree.prototype.RebuildBottomUp=function(){this.Validate()};goog.exportProperty(box2d.b2DynamicTree.prototype,"RebuildBottomUp",box2d.b2DynamicTree.prototype.RebuildBottomUp);box2d.b2DynamicTree.prototype.ShiftOrigin=function(V){var x=function(o,_o){if(o!==null&&!(1>=o.height)){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!o.IsLeaf());var _i=o.child2;x(o.child1,_o),x(_i,_o),o.aabb.lowerBound.SelfSub(_o),o.aabb.upperBound.SelfSub(_o)}};x(this.m_root,V)};goog.exportProperty(box2d.b2DynamicTree.prototype,"ShiftOrigin",box2d.b2DynamicTree.prototype.ShiftOrigin);box2d.b2Pair=function(){};goog.exportSymbol("box2d.b2Pair",box2d.b2Pair);box2d.b2Pair.prototype.proxyA=null;goog.exportProperty(box2d.b2Pair.prototype,"proxyA",box2d.b2Pair.prototype.proxyA);box2d.b2Pair.prototype.proxyB=null;goog.exportProperty(box2d.b2Pair.prototype,"proxyB",box2d.b2Pair.prototype.proxyB);box2d.b2BroadPhase=function(){this.m_tree=new box2d.b2DynamicTree,this.m_moveBuffer=[],this.m_pairBuffer=[]};goog.exportSymbol("box2d.b2BroadPhase",box2d.b2BroadPhase);box2d.b2BroadPhase.prototype.m_tree=null;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_tree",box2d.b2BroadPhase.prototype.m_tree);box2d.b2BroadPhase.prototype.m_proxyCount=0;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_proxyCount",box2d.b2BroadPhase.prototype.m_proxyCount);box2d.b2BroadPhase.prototype.m_moveCount=0;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_moveCount",box2d.b2BroadPhase.prototype.m_moveCount);box2d.b2BroadPhase.prototype.m_moveBuffer=null;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_moveBuffer",box2d.b2BroadPhase.prototype.m_moveBuffer);box2d.b2BroadPhase.prototype.m_pairCount=0;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_pairCount",box2d.b2BroadPhase.prototype.m_pairCount);box2d.b2BroadPhase.prototype.m_pairBuffer=null;goog.exportProperty(box2d.b2BroadPhase.prototype,"m_pairBuffer",box2d.b2BroadPhase.prototype.m_pairBuffer);box2d.b2BroadPhase.prototype.CreateProxy=function(V,x){var o=this.m_tree.CreateProxy(V,x);return++this.m_proxyCount,this.BufferMove(o),o};goog.exportProperty(box2d.b2BroadPhase.prototype,"CreateProxy",box2d.b2BroadPhase.prototype.CreateProxy);box2d.b2BroadPhase.prototype.DestroyProxy=function(V){this.UnBufferMove(V),--this.m_proxyCount,this.m_tree.DestroyProxy(V)};goog.exportProperty(box2d.b2BroadPhase.prototype,"DestroyProxy",box2d.b2BroadPhase.prototype.DestroyProxy);box2d.b2BroadPhase.prototype.MoveProxy=function(V,x,o){this.m_tree.MoveProxy(V,x,o)&&this.BufferMove(V)};goog.exportProperty(box2d.b2BroadPhase.prototype,"MoveProxy",box2d.b2BroadPhase.prototype.MoveProxy);box2d.b2BroadPhase.prototype.TouchProxy=function(V){this.BufferMove(V)};goog.exportProperty(box2d.b2BroadPhase.prototype,"TouchProxy",box2d.b2BroadPhase.prototype.TouchProxy);box2d.b2BroadPhase.prototype.GetFatAABB=function(V){return this.m_tree.GetFatAABB(V)};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetFatAABB",box2d.b2BroadPhase.prototype.GetFatAABB);box2d.b2BroadPhase.prototype.GetUserData=function(V){return this.m_tree.GetUserData(V)};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetUserData",box2d.b2BroadPhase.prototype.GetUserData);box2d.b2BroadPhase.prototype.TestOverlap=function(V,x){var o=this.m_tree.GetFatAABB(V),_o=this.m_tree.GetFatAABB(x);return box2d.b2TestOverlapAABB(o,_o)};goog.exportProperty(box2d.b2BroadPhase.prototype,"TestOverlap",box2d.b2BroadPhase.prototype.TestOverlap);box2d.b2BroadPhase.prototype.GetProxyCount=function(){return this.m_proxyCount};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetProxyCount",box2d.b2BroadPhase.prototype.GetProxyCount);box2d.b2BroadPhase.prototype.GetTreeHeight=function(){return this.m_tree.GetHeight()};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetTreeHeight",box2d.b2BroadPhase.prototype.GetTreeHeight);box2d.b2BroadPhase.prototype.GetTreeBalance=function(){return this.m_tree.GetMaxBalance()};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetTreeBalance",box2d.b2BroadPhase.prototype.GetTreeBalance);box2d.b2BroadPhase.prototype.GetTreeQuality=function(){return this.m_tree.GetAreaRatio()};goog.exportProperty(box2d.b2BroadPhase.prototype,"GetTreeQuality",box2d.b2BroadPhase.prototype.GetTreeQuality);box2d.b2BroadPhase.prototype.ShiftOrigin=function(V){this.m_tree.ShiftOrigin(V)};goog.exportProperty(box2d.b2BroadPhase.prototype,"ShiftOrigin",box2d.b2BroadPhase.prototype.ShiftOrigin);box2d.b2BroadPhase.prototype.UpdatePairs=function(V){for(var x=this.m_pairCount=0;x<this.m_moveCount;++x){var o=this.m_moveBuffer[x];if(o!==null){var _o=this,_i=this.m_tree.GetFatAABB(o);this.m_tree.Query(function(o_){if(o_.m_id===o.m_id)return!0;_o.m_pairCount===_o.m_pairBuffer.length&&(_o.m_pairBuffer[_o.m_pairCount]=new box2d.b2Pair);var i_=_o.m_pairBuffer[_o.m_pairCount];return o_.m_id<o.m_id?(i_.proxyA=o_,i_.proxyB=o):(i_.proxyA=o,i_.proxyB=o_),++_o.m_pairCount,!0},_i)}}for(this.m_moveCount=0,this.m_pairBuffer.length=this.m_pairCount,this.m_pairBuffer.sort(box2d.b2PairLessThan),x=0;x<this.m_pairCount;){var _i=this.m_pairBuffer[x],l=this.m_tree.GetUserData(_i.proxyA),t_=this.m_tree.GetUserData(_i.proxyB);for(V.AddPair(l,t_),++x;x<this.m_pairCount&&(l=this.m_pairBuffer[x],!(l.proxyA.m_id!==_i.proxyA.m_id||l.proxyB.m_id!==_i.proxyB.m_id));)++x}};goog.exportProperty(box2d.b2BroadPhase.prototype,"UpdatePairs",box2d.b2BroadPhase.prototype.UpdatePairs);box2d.b2BroadPhase.prototype.Query=function(V,x){this.m_tree.Query(V,x)};goog.exportProperty(box2d.b2BroadPhase.prototype,"Query",box2d.b2BroadPhase.prototype.Query);box2d.b2BroadPhase.prototype.RayCast=function(V,x){this.m_tree.RayCast(V,x)};goog.exportProperty(box2d.b2BroadPhase.prototype,"RayCast",box2d.b2BroadPhase.prototype.RayCast);box2d.b2BroadPhase.prototype.BufferMove=function(V){this.m_moveBuffer[this.m_moveCount]=V,++this.m_moveCount};goog.exportProperty(box2d.b2BroadPhase.prototype,"BufferMove",box2d.b2BroadPhase.prototype.BufferMove);box2d.b2BroadPhase.prototype.UnBufferMove=function(V){V=this.m_moveBuffer.indexOf(V),this.m_moveBuffer[V]=null};goog.exportProperty(box2d.b2BroadPhase.prototype,"UnBufferMove",box2d.b2BroadPhase.prototype.UnBufferMove);box2d.b2PairLessThan=function(V,x){return V.proxyA.m_id===x.proxyA.m_id?V.proxyB.m_id-x.proxyB.m_id:V.proxyA.m_id-x.proxyA.m_id};box2d.b2MassData=function(){this.center=new box2d.b2Vec2(0,0)};goog.exportSymbol("box2d.b2MassData",box2d.b2MassData);box2d.b2MassData.prototype.mass=0;goog.exportProperty(box2d.b2MassData.prototype,"mass",box2d.b2MassData.prototype.mass);box2d.b2MassData.prototype.center=null;goog.exportProperty(box2d.b2MassData.prototype,"center",box2d.b2MassData.prototype.center);box2d.b2MassData.prototype.I=0;goog.exportProperty(box2d.b2MassData.prototype,"I",box2d.b2MassData.prototype.I);box2d.b2ShapeType={e_unknown:-1,e_circleShape:0,e_edgeShape:1,e_polygonShape:2,e_chainShape:3,e_shapeTypeCount:4};goog.exportSymbol("box2d.b2ShapeType",box2d.b2ShapeType);goog.exportProperty(box2d.b2ShapeType,"e_unknown",box2d.b2ShapeType.e_unknown);goog.exportProperty(box2d.b2ShapeType,"e_circleShape",box2d.b2ShapeType.e_circleShape);goog.exportProperty(box2d.b2ShapeType,"e_edgeShape",box2d.b2ShapeType.e_edgeShape);goog.exportProperty(box2d.b2ShapeType,"e_polygonShape",box2d.b2ShapeType.e_polygonShape);goog.exportProperty(box2d.b2ShapeType,"e_chainShape",box2d.b2ShapeType.e_chainShape);goog.exportProperty(box2d.b2ShapeType,"e_shapeTypeCount",box2d.b2ShapeType.e_shapeTypeCount);box2d.b2Shape=function(V,x){this.m_type=V,this.m_radius=x};goog.exportSymbol("box2d.b2Shape",box2d.b2Shape);box2d.b2Shape.prototype.m_type=box2d.b2ShapeType.e_unknown;goog.exportProperty(box2d.b2Shape.prototype,"m_type",box2d.b2Shape.prototype.m_type);box2d.b2Shape.prototype.m_radius=0;goog.exportProperty(box2d.b2Shape.prototype,"m_radius",box2d.b2Shape.prototype.m_radius);box2d.b2Shape.prototype.Clone=function(){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),null};goog.exportProperty(box2d.b2Shape.prototype,"Clone",box2d.b2Shape.prototype.Clone);box2d.b2Shape.prototype.Copy=function(V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_type===V.m_type),this.m_radius=V.m_radius,this};goog.exportProperty(box2d.b2Shape.prototype,"Copy",box2d.b2Shape.prototype.Copy);box2d.b2Shape.prototype.GetType=function(){return this.m_type};goog.exportProperty(box2d.b2Shape.prototype,"GetType",box2d.b2Shape.prototype.GetType);box2d.b2Shape.prototype.GetChildCount=function(){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),0};goog.exportProperty(box2d.b2Shape.prototype,"GetChildCount",box2d.b2Shape.prototype.GetChildCount);box2d.b2Shape.prototype.TestPoint=function(V,x){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),!1};goog.exportProperty(box2d.b2Shape.prototype,"TestPoint",box2d.b2Shape.prototype.TestPoint);box2d.b2Shape.prototype.ComputeDistance=function(V,x,o,_o){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),0};goog.exportProperty(box2d.b2Shape.prototype,"ComputeDistance",box2d.b2Shape.prototype.ComputeDistance);box2d.b2Shape.prototype.RayCast=function(V,x,o,_o){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),!1};goog.exportProperty(box2d.b2Shape.prototype,"RayCast",box2d.b2Shape.prototype.RayCast);box2d.b2Shape.prototype.ComputeAABB=function(V,x,o){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")};goog.exportProperty(box2d.b2Shape.prototype,"ComputeAABB",box2d.b2Shape.prototype.ComputeAABB);box2d.b2Shape.prototype.ComputeMass=function(V,x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")};goog.exportProperty(box2d.b2Shape.prototype,"ComputeMass",box2d.b2Shape.prototype.ComputeMass);box2d.b2Shape.prototype.SetupDistanceProxy=function(V,x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")};box2d.b2Shape.prototype.ComputeSubmergedArea=function(V,x,o,_o){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),0};goog.exportProperty(box2d.b2Shape.prototype,"ComputeSubmergedArea",box2d.b2Shape.prototype.ComputeSubmergedArea);box2d.b2Shape.prototype.Dump=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")};goog.exportProperty(box2d.b2Shape.prototype,"Dump",box2d.b2Shape.prototype.Dump);box2d.b2CircleShape=function(V){box2d.b2Shape.call(this,box2d.b2ShapeType.e_circleShape,V||0),this.m_p=new box2d.b2Vec2};goog.inherits(box2d.b2CircleShape,box2d.b2Shape);goog.exportSymbol("box2d.b2CircleShape",box2d.b2CircleShape);box2d.b2CircleShape.prototype.m_p=null;goog.exportProperty(box2d.b2CircleShape.prototype,"m_p",box2d.b2CircleShape.prototype.m_p);box2d.b2CircleShape.prototype.Clone=function(){return new box2d.b2CircleShape().Copy(this)};goog.exportProperty(box2d.b2CircleShape.prototype,"Clone",box2d.b2CircleShape.prototype.Clone);box2d.b2CircleShape.prototype.Copy=function(V){return box2d.b2Shape.prototype.Copy.call(this,V),box2d.ENABLE_ASSERTS&&box2d.b2Assert(V instanceof box2d.b2CircleShape),this.m_p.Copy(V.m_p),this};goog.exportProperty(box2d.b2CircleShape.prototype,"Copy",box2d.b2CircleShape.prototype.Copy);box2d.b2CircleShape.prototype.GetChildCount=function(){return 1};goog.exportProperty(box2d.b2CircleShape.prototype,"GetChildCount",box2d.b2CircleShape.prototype.GetChildCount);box2d.b2CircleShape.prototype.TestPoint=function(V,x){var o=box2d.b2Mul_X_V2(V,this.m_p,box2d.b2CircleShape.prototype.TestPoint.s_center),o=box2d.b2Sub_V2_V2(x,o,box2d.b2CircleShape.prototype.TestPoint.s_d);return box2d.b2Dot_V2_V2(o,o)<=box2d.b2Sq(this.m_radius)};goog.exportProperty(box2d.b2CircleShape.prototype,"TestPoint",box2d.b2CircleShape.prototype.TestPoint);box2d.b2CircleShape.prototype.TestPoint.s_center=new box2d.b2Vec2;box2d.b2CircleShape.prototype.TestPoint.s_d=new box2d.b2Vec2;box2d.b2CircleShape.prototype.ComputeDistance=function(V,x,o,_o){return V=box2d.b2Mul_X_V2(V,this.m_p,box2d.b2CircleShape.prototype.ComputeDistance.s_center),box2d.b2Sub_V2_V2(x,V,o),o.Normalize()-this.m_radius};goog.exportProperty(box2d.b2CircleShape.prototype,"ComputeDistance",box2d.b2CircleShape.prototype.ComputeDistance);box2d.b2CircleShape.prototype.ComputeDistance.s_center=new box2d.b2Vec2;box2d.b2CircleShape.prototype.RayCast=function(V,x,o,_o){o=box2d.b2Mul_X_V2(o,this.m_p,box2d.b2CircleShape.prototype.RayCast.s_position),o=box2d.b2Sub_V2_V2(x.p1,o,box2d.b2CircleShape.prototype.RayCast.s_s);var t_=box2d.b2Dot_V2_V2(o,o)-box2d.b2Sq(this.m_radius);_o=box2d.b2Sub_V2_V2(x.p2,x.p1,box2d.b2CircleShape.prototype.RayCast.s_r);var _i=box2d.b2Dot_V2_V2(o,_o),l=box2d.b2Dot_V2_V2(_o,_o),t_=_i*_i-l*t_;return 0>t_||l<box2d.b2_epsilon?!1:(_i=-(_i+box2d.b2Sqrt(t_)),0<=_i&&_i<=x.maxFraction*l?(_i/=l,V.fraction=_i,box2d.b2AddMul_V2_S_V2(o,_i,_o,V.normal).SelfNormalize(),!0):!1)};goog.exportProperty(box2d.b2CircleShape.prototype,"RayCast",box2d.b2CircleShape.prototype.RayCast);box2d.b2CircleShape.prototype.RayCast.s_position=new box2d.b2Vec2;box2d.b2CircleShape.prototype.RayCast.s_s=new box2d.b2Vec2;box2d.b2CircleShape.prototype.RayCast.s_r=new box2d.b2Vec2;box2d.b2CircleShape.prototype.ComputeAABB=function(V,x,o){x=box2d.b2Mul_X_V2(x,this.m_p,box2d.b2CircleShape.prototype.ComputeAABB.s_p),V.lowerBound.Set(x.x-this.m_radius,x.y-this.m_radius),V.upperBound.Set(x.x+this.m_radius,x.y+this.m_radius)};goog.exportProperty(box2d.b2CircleShape.prototype,"ComputeAABB",box2d.b2CircleShape.prototype.ComputeAABB);box2d.b2CircleShape.prototype.ComputeAABB.s_p=new box2d.b2Vec2;box2d.b2CircleShape.prototype.ComputeMass=function(V,x){var o=box2d.b2Sq(this.m_radius);V.mass=x*box2d.b2_pi*o,V.center.Copy(this.m_p),V.I=V.mass*(.5*o+box2d.b2Dot_V2_V2(this.m_p,this.m_p))};goog.exportProperty(box2d.b2CircleShape.prototype,"ComputeMass",box2d.b2CircleShape.prototype.ComputeMass);box2d.b2CircleShape.prototype.SetupDistanceProxy=function(V,x){V.m_vertices=V.m_buffer,V.m_vertices[0].Copy(this.m_p),V.m_count=1,V.m_radius=this.m_radius};box2d.b2CircleShape.prototype.ComputeSubmergedArea=function(V,x,o,_o){o=box2d.b2Mul_X_V2(o,this.m_p,new box2d.b2Vec2);var l=-(box2d.b2Dot_V2_V2(V,o)-x);if(l<-this.m_radius+box2d.b2_epsilon)return 0;if(l>this.m_radius)return _o.Copy(o),box2d.b2_pi*this.m_radius*this.m_radius;x=this.m_radius*this.m_radius;var _i=l*l,l=x*(box2d.b2Asin(l/this.m_radius)+box2d.b2_pi/2)+l*box2d.b2Sqrt(x-_i);return x=-2/3*box2d.b2Pow(x-_i,1.5)/l,_o.x=o.x+V.x*x,_o.y=o.y+V.y*x,l};goog.exportProperty(box2d.b2CircleShape.prototype,"ComputeSubmergedArea",box2d.b2CircleShape.prototype.ComputeSubmergedArea);box2d.b2CircleShape.prototype.Dump=function(){box2d.b2Log(`    /*box2d.b2CircleShape*/ var shape = new box2d.b2CircleShape();
`),box2d.b2Log(`    shape.m_radius = %.15f;
`,this.m_radius),box2d.b2Log(`    shape.m_p.Set(%.15f, %.15f);
`,this.m_p.x,this.m_p.y)};goog.exportProperty(box2d.b2CircleShape.prototype,"Dump",box2d.b2CircleShape.prototype.Dump);box2d.b2EdgeShape=function(){box2d.b2Shape.call(this,box2d.b2ShapeType.e_edgeShape,box2d.b2_polygonRadius),this.m_vertex1=new box2d.b2Vec2,this.m_vertex2=new box2d.b2Vec2,this.m_vertex0=new box2d.b2Vec2,this.m_vertex3=new box2d.b2Vec2};goog.inherits(box2d.b2EdgeShape,box2d.b2Shape);goog.exportSymbol("box2d.b2EdgeShape",box2d.b2EdgeShape);box2d.b2EdgeShape.prototype.m_vertex1=null;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_vertex1",box2d.b2EdgeShape.prototype.m_vertex1);box2d.b2EdgeShape.prototype.m_vertex2=null;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_vertex2",box2d.b2EdgeShape.prototype.m_vertex2);box2d.b2EdgeShape.prototype.m_vertex0=null;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_vertex0",box2d.b2EdgeShape.prototype.m_vertex0);box2d.b2EdgeShape.prototype.m_vertex3=null;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_vertex3",box2d.b2EdgeShape.prototype.m_vertex3);box2d.b2EdgeShape.prototype.m_hasVertex0=!1;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_hasVertex0",box2d.b2EdgeShape.prototype.m_hasVertex0);box2d.b2EdgeShape.prototype.m_hasVertex3=!1;goog.exportProperty(box2d.b2EdgeShape.prototype,"m_hasVertex3",box2d.b2EdgeShape.prototype.m_hasVertex3);box2d.b2EdgeShape.prototype.Set=function(V,x){return this.m_vertex1.Copy(V),this.m_vertex2.Copy(x),this.m_hasVertex3=this.m_hasVertex0=!1,this};goog.exportProperty(box2d.b2EdgeShape.prototype,"Set",box2d.b2EdgeShape.prototype.Set);box2d.b2EdgeShape.prototype.SetAsEdge=box2d.b2EdgeShape.prototype.Set;box2d.b2EdgeShape.prototype.Clone=function(){return new box2d.b2EdgeShape().Copy(this)};goog.exportProperty(box2d.b2EdgeShape.prototype,"Clone",box2d.b2EdgeShape.prototype.Clone);box2d.b2EdgeShape.prototype.Copy=function(V){return box2d.b2Shape.prototype.Copy.call(this,V),box2d.ENABLE_ASSERTS&&box2d.b2Assert(V instanceof box2d.b2EdgeShape),this.m_vertex1.Copy(V.m_vertex1),this.m_vertex2.Copy(V.m_vertex2),this.m_vertex0.Copy(V.m_vertex0),this.m_vertex3.Copy(V.m_vertex3),this.m_hasVertex0=V.m_hasVertex0,this.m_hasVertex3=V.m_hasVertex3,this};goog.exportProperty(box2d.b2EdgeShape.prototype,"Copy",box2d.b2EdgeShape.prototype.Copy);box2d.b2EdgeShape.prototype.GetChildCount=function(){return 1};goog.exportProperty(box2d.b2EdgeShape.prototype,"GetChildCount",box2d.b2EdgeShape.prototype.GetChildCount);box2d.b2EdgeShape.prototype.TestPoint=function(V,x){return!1};goog.exportProperty(box2d.b2EdgeShape.prototype,"TestPoint",box2d.b2EdgeShape.prototype.TestPoint);box2d.b2EdgeShape.prototype.ComputeDistance=function(V,x,o,_o){var _i=box2d.b2Mul_X_V2(V,this.m_vertex1,box2d.b2EdgeShape.prototype.ComputeDistance.s_v1);V=box2d.b2Mul_X_V2(V,this.m_vertex2,box2d.b2EdgeShape.prototype.ComputeDistance.s_v2),_o=box2d.b2Sub_V2_V2(x,_i,box2d.b2EdgeShape.prototype.ComputeDistance.s_d);var _i=box2d.b2Sub_V2_V2(V,_i,box2d.b2EdgeShape.prototype.ComputeDistance.s_s),l=box2d.b2Dot_V2_V2(_o,_i);if(0<l){var t_=box2d.b2Dot_V2_V2(_i,_i);l>t_?box2d.b2Sub_V2_V2(x,V,_o):_o.SelfMulSub(l/t_,_i)}return o.Copy(_o),o.Normalize()};goog.exportProperty(box2d.b2EdgeShape.prototype,"ComputeDistance",box2d.b2EdgeShape.prototype.ComputeDistance);box2d.b2EdgeShape.prototype.ComputeDistance.s_v1=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeDistance.s_v2=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeDistance.s_d=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeDistance.s_s=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast=function(V,x,o,_o){var _i=box2d.b2MulT_X_V2(o,x.p1,box2d.b2EdgeShape.prototype.RayCast.s_p1);_o=box2d.b2MulT_X_V2(o,x.p2,box2d.b2EdgeShape.prototype.RayCast.s_p2);var l=box2d.b2Sub_V2_V2(_o,_i,box2d.b2EdgeShape.prototype.RayCast.s_d);_o=this.m_vertex1;var t_=this.m_vertex2,o_=box2d.b2Sub_V2_V2(t_,_o,box2d.b2EdgeShape.prototype.RayCast.s_e),i_=V.normal.Set(o_.y,-o_.x).SelfNormalize(),o_=box2d.b2Dot_V2_V2(i_,box2d.b2Sub_V2_V2(_o,_i,box2d.b2Vec2.s_t0)),i_=box2d.b2Dot_V2_V2(i_,l);return i_===0||(i_=o_/i_,0>i_||x.maxFraction<i_)||(x=box2d.b2AddMul_V2_S_V2(_i,i_,l,box2d.b2EdgeShape.prototype.RayCast.s_q),_i=box2d.b2Sub_V2_V2(t_,_o,box2d.b2EdgeShape.prototype.RayCast.s_r),t_=box2d.b2Dot_V2_V2(_i,_i),t_===0)||(_o=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(x,_o,box2d.b2Vec2.s_t0),_i)/t_,0>_o||1<_o)?!1:(V.fraction=i_,box2d.b2Mul_R_V2(o.q,V.normal,V.normal),0<o_&&V.normal.SelfNeg(),!0)};goog.exportProperty(box2d.b2EdgeShape.prototype,"RayCast",box2d.b2EdgeShape.prototype.RayCast);box2d.b2EdgeShape.prototype.RayCast.s_p1=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast.s_p2=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast.s_d=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast.s_e=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast.s_q=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.RayCast.s_r=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeAABB=function(V,x,o){o=box2d.b2Mul_X_V2(x,this.m_vertex1,box2d.b2EdgeShape.prototype.ComputeAABB.s_v1),x=box2d.b2Mul_X_V2(x,this.m_vertex2,box2d.b2EdgeShape.prototype.ComputeAABB.s_v2),box2d.b2Min_V2_V2(o,x,V.lowerBound),box2d.b2Max_V2_V2(o,x,V.upperBound),x=this.m_radius,V.lowerBound.SelfSubXY(x,x),V.upperBound.SelfAddXY(x,x)};goog.exportProperty(box2d.b2EdgeShape.prototype,"ComputeAABB",box2d.b2EdgeShape.prototype.ComputeAABB);box2d.b2EdgeShape.prototype.ComputeAABB.s_v1=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeAABB.s_v2=new box2d.b2Vec2;box2d.b2EdgeShape.prototype.ComputeMass=function(V,x){V.mass=0,box2d.b2Mid_V2_V2(this.m_vertex1,this.m_vertex2,V.center),V.I=0};goog.exportProperty(box2d.b2EdgeShape.prototype,"ComputeMass",box2d.b2EdgeShape.prototype.ComputeMass);box2d.b2EdgeShape.prototype.SetupDistanceProxy=function(V,x){V.m_vertices=V.m_buffer,V.m_vertices[0].Copy(this.m_vertex1),V.m_vertices[1].Copy(this.m_vertex2),V.m_count=2,V.m_radius=this.m_radius};box2d.b2EdgeShape.prototype.ComputeSubmergedArea=function(V,x,o,_o){return _o.SetZero(),0};goog.exportProperty(box2d.b2EdgeShape.prototype,"ComputeSubmergedArea",box2d.b2EdgeShape.prototype.ComputeSubmergedArea);box2d.b2EdgeShape.prototype.Dump=function(){box2d.b2Log(`    /*box2d.b2EdgeShape*/ var shape = new box2d.b2EdgeShape();
`),box2d.b2Log(`    shape.m_radius = %.15f;
`,this.m_radius),box2d.b2Log(`    shape.m_vertex0.Set(%.15f, %.15f);
`,this.m_vertex0.x,this.m_vertex0.y),box2d.b2Log(`    shape.m_vertex1.Set(%.15f, %.15f);
`,this.m_vertex1.x,this.m_vertex1.y),box2d.b2Log(`    shape.m_vertex2.Set(%.15f, %.15f);
`,this.m_vertex2.x,this.m_vertex2.y),box2d.b2Log(`    shape.m_vertex3.Set(%.15f, %.15f);
`,this.m_vertex3.x,this.m_vertex3.y),box2d.b2Log(`    shape.m_hasVertex0 = %s;
`,this.m_hasVertex0),box2d.b2Log(`    shape.m_hasVertex3 = %s;
`,this.m_hasVertex3)};goog.exportProperty(box2d.b2EdgeShape.prototype,"Dump",box2d.b2EdgeShape.prototype.Dump);box2d.b2ChainShape=function(){box2d.b2Shape.call(this,box2d.b2ShapeType.e_chainShape,box2d.b2_polygonRadius),this.m_prevVertex=new box2d.b2Vec2,this.m_nextVertex=new box2d.b2Vec2};goog.inherits(box2d.b2ChainShape,box2d.b2Shape);goog.exportSymbol("box2d.b2ChainShape",box2d.b2ChainShape);box2d.b2ChainShape.prototype.m_vertices=null;goog.exportProperty(box2d.b2ChainShape.prototype,"m_vertices",box2d.b2ChainShape.prototype.m_vertices);box2d.b2ChainShape.prototype.m_count=0;goog.exportProperty(box2d.b2ChainShape.prototype,"m_count",box2d.b2ChainShape.prototype.m_count);box2d.b2ChainShape.prototype.m_prevVertex=null;goog.exportProperty(box2d.b2ChainShape.prototype,"m_prevVertex",box2d.b2ChainShape.prototype.m_prevVertex);box2d.b2ChainShape.prototype.m_nextVertex=null;goog.exportProperty(box2d.b2ChainShape.prototype,"m_nextVertex",box2d.b2ChainShape.prototype.m_nextVertex);box2d.b2ChainShape.prototype.m_hasPrevVertex=!1;goog.exportProperty(box2d.b2ChainShape.prototype,"m_hasPrevVertex",box2d.b2ChainShape.prototype.m_hasPrevVertex);box2d.b2ChainShape.prototype.m_hasNextVertex=!1;goog.exportProperty(box2d.b2ChainShape.prototype,"m_hasNextVertex",box2d.b2ChainShape.prototype.m_hasNextVertex);box2d.b2ChainShape.prototype.Clear=function(){this.m_vertices=null,this.m_count=0};goog.exportProperty(box2d.b2ChainShape.prototype,"Clear",box2d.b2ChainShape.prototype.Clear);box2d.b2ChainShape.prototype.CreateLoop=function(V,x){if(x=x||V.length,box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_vertices===null&&this.m_count===0),box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=x),box2d.ENABLE_ASSERTS)for(var o=1;o<x;++o)box2d.b2Assert(box2d.b2DistanceSquared(V[o-1],V[o])>box2d.b2_linearSlop*box2d.b2_linearSlop);for(this.m_count=x+1,this.m_vertices=box2d.b2Vec2.MakeArray(this.m_count),o=0;o<x;++o)this.m_vertices[o].Copy(V[o]);return this.m_vertices[x].Copy(this.m_vertices[0]),this.m_prevVertex.Copy(this.m_vertices[this.m_count-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this.m_hasNextVertex=this.m_hasPrevVertex=!0,this};goog.exportProperty(box2d.b2ChainShape.prototype,"CreateLoop",box2d.b2ChainShape.prototype.CreateLoop);box2d.b2ChainShape.prototype.CreateChain=function(V,x){if(x=x||V.length,box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_vertices===null&&this.m_count===0),box2d.ENABLE_ASSERTS&&box2d.b2Assert(2<=x),box2d.ENABLE_ASSERTS)for(var o=1;o<x;++o)box2d.b2Assert(box2d.b2DistanceSquared(V[o-1],V[o])>box2d.b2_linearSlop*box2d.b2_linearSlop);for(this.m_count=x,this.m_vertices=box2d.b2Vec2.MakeArray(x),o=0;o<x;++o)this.m_vertices[o].Copy(V[o]);return this.m_hasNextVertex=this.m_hasPrevVertex=!1,this.m_prevVertex.SetZero(),this.m_nextVertex.SetZero(),this};goog.exportProperty(box2d.b2ChainShape.prototype,"CreateChain",box2d.b2ChainShape.prototype.CreateChain);box2d.b2ChainShape.prototype.SetPrevVertex=function(V){return this.m_prevVertex.Copy(V),this.m_hasPrevVertex=!0,this};goog.exportProperty(box2d.b2ChainShape.prototype,"SetPrevVertex",box2d.b2ChainShape.prototype.SetPrevVertex);box2d.b2ChainShape.prototype.SetNextVertex=function(V){return this.m_nextVertex.Copy(V),this.m_hasNextVertex=!0,this};goog.exportProperty(box2d.b2ChainShape.prototype,"SetNextVertex",box2d.b2ChainShape.prototype.SetNextVertex);box2d.b2ChainShape.prototype.Clone=function(){return new box2d.b2ChainShape().Copy(this)};goog.exportProperty(box2d.b2ChainShape.prototype,"Clone",box2d.b2ChainShape.prototype.Clone);box2d.b2ChainShape.prototype.Copy=function(V){return box2d.b2Shape.prototype.Copy.call(this,V),box2d.ENABLE_ASSERTS&&box2d.b2Assert(V instanceof box2d.b2ChainShape),this.CreateChain(V.m_vertices,V.m_count),this.m_prevVertex.Copy(V.m_prevVertex),this.m_nextVertex.Copy(V.m_nextVertex),this.m_hasPrevVertex=V.m_hasPrevVertex,this.m_hasNextVertex=V.m_hasNextVertex,this};goog.exportProperty(box2d.b2ChainShape.prototype,"Copy",box2d.b2ChainShape.prototype.Copy);box2d.b2ChainShape.prototype.GetChildCount=function(){return this.m_count-1};goog.exportProperty(box2d.b2ChainShape.prototype,"GetChildCount",box2d.b2ChainShape.prototype.GetChildCount);box2d.b2ChainShape.prototype.GetChildEdge=function(V,x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=x&&x<this.m_count-1),V.m_type=box2d.b2ShapeType.e_edgeShape,V.m_radius=this.m_radius,V.m_vertex1.Copy(this.m_vertices[x]),V.m_vertex2.Copy(this.m_vertices[x+1]),0<x?(V.m_vertex0.Copy(this.m_vertices[x-1]),V.m_hasVertex0=!0):(V.m_vertex0.Copy(this.m_prevVertex),V.m_hasVertex0=this.m_hasPrevVertex),x<this.m_count-2?(V.m_vertex3.Copy(this.m_vertices[x+2]),V.m_hasVertex3=!0):(V.m_vertex3.Copy(this.m_nextVertex),V.m_hasVertex3=this.m_hasNextVertex)};goog.exportProperty(box2d.b2ChainShape.prototype,"GetChildEdge",box2d.b2ChainShape.prototype.GetChildEdge);box2d.b2ChainShape.prototype.TestPoint=function(V,x){return!1};goog.exportProperty(box2d.b2ChainShape.prototype,"TestPoint",box2d.b2ChainShape.prototype.TestPoint);box2d.b2ChainShape.prototype.ComputeDistance=function(V,x,o,_o){var _i=box2d.b2ChainShape.prototype.ComputeDistance.s_edgeShape;return this.GetChildEdge(_i,_o),_i.ComputeDistance(V,x,o,0)};goog.exportProperty(box2d.b2ChainShape.prototype,"ComputeDistance",box2d.b2ChainShape.prototype.ComputeDistance);box2d.b2ChainShape.prototype.ComputeDistance.s_edgeShape=new box2d.b2EdgeShape;box2d.b2ChainShape.prototype.RayCast=function(V,x,o,_o){box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o<this.m_count);var _i=box2d.b2ChainShape.prototype.RayCast.s_edgeShape;return _i.m_vertex1.Copy(this.m_vertices[_o]),_i.m_vertex2.Copy(this.m_vertices[(_o+1)%this.m_count]),_i.RayCast(V,x,o,0)};goog.exportProperty(box2d.b2ChainShape.prototype,"RayCast",box2d.b2ChainShape.prototype.RayCast);box2d.b2ChainShape.prototype.RayCast.s_edgeShape=new box2d.b2EdgeShape;box2d.b2ChainShape.prototype.ComputeAABB=function(V,x,o){box2d.ENABLE_ASSERTS&&box2d.b2Assert(o<this.m_count);var _o=this.m_vertices[(o+1)%this.m_count];o=box2d.b2Mul_X_V2(x,this.m_vertices[o],box2d.b2ChainShape.prototype.ComputeAABB.s_v1),x=box2d.b2Mul_X_V2(x,_o,box2d.b2ChainShape.prototype.ComputeAABB.s_v2),box2d.b2Min_V2_V2(o,x,V.lowerBound),box2d.b2Max_V2_V2(o,x,V.upperBound)};goog.exportProperty(box2d.b2ChainShape.prototype,"ComputeAABB",box2d.b2ChainShape.prototype.ComputeAABB);box2d.b2ChainShape.prototype.ComputeAABB.s_v1=new box2d.b2Vec2;goog.exportProperty(box2d.b2ChainShape.prototype.ComputeAABB,"s_v1",box2d.b2ChainShape.prototype.ComputeAABB.s_v1);box2d.b2ChainShape.prototype.ComputeAABB.s_v2=new box2d.b2Vec2;goog.exportProperty(box2d.b2ChainShape.prototype.ComputeAABB,"s_v2",box2d.b2ChainShape.prototype.ComputeAABB.s_v2);box2d.b2ChainShape.prototype.ComputeMass=function(V,x){V.mass=0,V.center.SetZero(),V.I=0};goog.exportProperty(box2d.b2ChainShape.prototype,"ComputeMass",box2d.b2ChainShape.prototype.ComputeMass);box2d.b2ChainShape.prototype.SetupDistanceProxy=function(V,x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=x&&x<this.m_count),V.m_buffer[0].Copy(this.m_vertices[x]),x+1<this.m_count?V.m_buffer[1].Copy(this.m_vertices[x+1]):V.m_buffer[1].Copy(this.m_vertices[0]),V.m_vertices=V.m_buffer,V.m_count=2,V.m_radius=this.m_radius};box2d.b2ChainShape.prototype.ComputeSubmergedArea=function(V,x,o,_o){return _o.SetZero(),0};goog.exportProperty(box2d.b2ChainShape.prototype,"ComputeSubmergedArea",box2d.b2ChainShape.prototype.ComputeSubmergedArea);box2d.b2ChainShape.prototype.Dump=function(){box2d.b2Log(`    /*box2d.b2ChainShape*/ var shape = new box2d.b2ChainShape();
`),box2d.b2Log(`    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);
`,box2d.b2_maxPolygonVertices);for(var V=0;V<this.m_count;++V)box2d.b2Log(`    vs[%d].Set(%.15f, %.15f);
`,V,this.m_vertices[V].x,this.m_vertices[V].y);box2d.b2Log(`    shape.CreateChain(vs, %d);
`,this.m_count),box2d.b2Log(`    shape.m_prevVertex.Set(%.15f, %.15f);
`,this.m_prevVertex.x,this.m_prevVertex.y),box2d.b2Log(`    shape.m_nextVertex.Set(%.15f, %.15f);
`,this.m_nextVertex.x,this.m_nextVertex.y),box2d.b2Log(`    shape.m_hasPrevVertex = %s;
`,this.m_hasPrevVertex?"true":"false"),box2d.b2Log(`    shape.m_hasNextVertex = %s;
`,this.m_hasNextVertex?"true":"false")};goog.exportProperty(box2d.b2ChainShape.prototype,"Dump",box2d.b2ChainShape.prototype.Dump);box2d.b2PolygonShape=function(){box2d.b2Shape.call(this,box2d.b2ShapeType.e_polygonShape,box2d.b2_polygonRadius),this.m_centroid=new box2d.b2Vec2(0,0),this.m_vertices=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices),this.m_normals=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices)};goog.inherits(box2d.b2PolygonShape,box2d.b2Shape);goog.exportSymbol("box2d.b2PolygonShape",box2d.b2PolygonShape);box2d.b2PolygonShape.prototype.m_centroid=null;goog.exportProperty(box2d.b2PolygonShape.prototype,"m_centroid",box2d.b2PolygonShape.prototype.m_centroid);box2d.b2PolygonShape.prototype.m_vertices=null;goog.exportProperty(box2d.b2PolygonShape.prototype,"m_vertices",box2d.b2PolygonShape.prototype.m_vertices);box2d.b2PolygonShape.prototype.m_normals=null;goog.exportProperty(box2d.b2PolygonShape.prototype,"m_normals",box2d.b2PolygonShape.prototype.m_normals);box2d.b2PolygonShape.prototype.m_count=0;goog.exportProperty(box2d.b2PolygonShape.prototype,"m_count",box2d.b2PolygonShape.prototype.m_count);box2d.b2PolygonShape.prototype.Clone=function(){return new box2d.b2PolygonShape().Copy(this)};goog.exportProperty(box2d.b2PolygonShape.prototype,"Clone",box2d.b2PolygonShape.prototype.Clone);box2d.b2PolygonShape.prototype.Copy=function(V){box2d.b2Shape.prototype.Copy.call(this,V),box2d.ENABLE_ASSERTS&&box2d.b2Assert(V instanceof box2d.b2PolygonShape),this.m_centroid.Copy(V.m_centroid),this.m_count=V.m_count;for(var x=0,o=this.m_count;x<o;++x)this.m_vertices[x].Copy(V.m_vertices[x]),this.m_normals[x].Copy(V.m_normals[x]);return this};goog.exportProperty(box2d.b2PolygonShape.prototype,"Copy",box2d.b2PolygonShape.prototype.Copy);box2d.b2PolygonShape.prototype.SetAsBox=function(V,x,o,_o){if(this.m_count=4,this.m_vertices[0].Set(-V,-x),this.m_vertices[1].Set(V,-x),this.m_vertices[2].Set(V,x),this.m_vertices[3].Set(-V,x),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero(),o instanceof box2d.b2Vec2)for(_o=typeof _o=="number"?_o:0,this.m_centroid.Copy(o),V=new box2d.b2Transform,V.SetPosition(o),V.SetRotationAngle(_o),o=0,_o=this.m_count;o<_o;++o)box2d.b2Mul_X_V2(V,this.m_vertices[o],this.m_vertices[o]),box2d.b2Mul_R_V2(V.q,this.m_normals[o],this.m_normals[o]);return this};goog.exportProperty(box2d.b2PolygonShape.prototype,"SetAsBox",box2d.b2PolygonShape.prototype.SetAsBox);box2d.b2PolygonShape.prototype.Set=function(V,x,o){if(x=typeof x=="number"?x:V.length,o=typeof o=="number"?o:0,box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=x&&x<=box2d.b2_maxPolygonVertices),3>x)return this.SetAsBox(1,1);x=box2d.b2Min(x,box2d.b2_maxPolygonVertices);for(var _o=box2d.b2PolygonShape.prototype.Set.s_ps,_i=0,l=0;l<x;++l){for(var t_=V[o+l],o_=!0,i_=0;i_<_i;++i_)if(box2d.b2DistanceSquared(t_,_o[i_])<.25*box2d.b2_linearSlop*box2d.b2_linearSlop){o_=!1;break}o_&&_o[_i++].Copy(t_)}if(x=_i,3>x)return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),this.SetAsBox(1,1);for(V=0,t_=_o[0].x,l=1;l<x;++l)i_=_o[l].x,(i_>t_||i_===t_&&_o[l].y<_o[V].y)&&(V=l,t_=i_);for(_i=box2d.b2PolygonShape.prototype.Set.s_hull,o=0,l=V;;){for(_i[o]=l,o_=0,i_=1;i_<x;++i_)if(o_===l)o_=i_;else{var _e=box2d.b2Sub_V2_V2(_o[o_],_o[_i[o]],box2d.b2PolygonShape.prototype.Set.s_r),t_=box2d.b2Sub_V2_V2(_o[i_],_o[_i[o]],box2d.b2PolygonShape.prototype.Set.s_v),l_=box2d.b2Cross_V2_V2(_e,t_);0>l_&&(o_=i_),l_===0&&t_.LengthSquared()>_e.LengthSquared()&&(o_=i_)}if(++o,l=o_,o_===V)break}if(3>o)return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),this.SetAsBox(1,1);for(this.m_count=o,l=0;l<o;++l)this.m_vertices[l].Copy(_o[_i[l]]);for(l=0,x=o;l<x;++l)_o=box2d.b2Sub_V2_V2(this.m_vertices[(l+1)%x],this.m_vertices[l],box2d.b2Vec2.s_t0),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o.LengthSquared()>box2d.b2_epsilon_sq),box2d.b2Cross_V2_S(_o,1,this.m_normals[l]).SelfNormalize();return box2d.b2PolygonShape.ComputeCentroid(this.m_vertices,o,this.m_centroid),this};goog.exportProperty(box2d.b2PolygonShape.prototype,"Set",box2d.b2PolygonShape.prototype.Set);box2d.b2PolygonShape.prototype.Set.s_ps=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices);box2d.b2PolygonShape.prototype.Set.s_hull=box2d.b2MakeNumberArray(box2d.b2_maxPolygonVertices);box2d.b2PolygonShape.prototype.Set.s_r=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.Set.s_v=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.GetChildCount=function(){return 1};goog.exportProperty(box2d.b2PolygonShape.prototype,"GetChildCount",box2d.b2PolygonShape.prototype.GetChildCount);box2d.b2PolygonShape.prototype.TestPoint=function(V,x){for(var o=box2d.b2MulT_X_V2(V,x,box2d.b2PolygonShape.prototype.TestPoint.s_pLocal),_o=0,_i=this.m_count;_o<_i;++_o)if(0<box2d.b2Dot_V2_V2(this.m_normals[_o],box2d.b2Sub_V2_V2(o,this.m_vertices[_o],box2d.b2Vec2.s_t0)))return!1;return!0};goog.exportProperty(box2d.b2PolygonShape.prototype,"TestPoint",box2d.b2PolygonShape.prototype.TestPoint);box2d.b2PolygonShape.prototype.TestPoint.s_pLocal=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeDistance=function(V,x,o,_o){x=box2d.b2MulT_X_V2(V,x,box2d.b2PolygonShape.prototype.ComputeDistance.s_pLocal);var _i=-box2d.b2_maxFloat,l=box2d.b2PolygonShape.prototype.ComputeDistance.s_normalForMaxDistance.Copy(x);for(_o=0;_o<this.m_count;++_o){var t_=box2d.b2Dot_V2_V2(this.m_normals[_o],box2d.b2Sub_V2_V2(x,this.m_vertices[_o],box2d.b2Vec2.s_t0));t_>_i&&(_i=t_,l.Copy(this.m_normals[_o]))}if(0<_i){for(l=box2d.b2PolygonShape.prototype.ComputeDistance.s_minDistance.Copy(l),_i*=_i,_o=0;_o<this.m_count;++_o){var t_=box2d.b2Sub_V2_V2(x,this.m_vertices[_o],box2d.b2PolygonShape.prototype.ComputeDistance.s_distance),o_=t_.LengthSquared();_i>o_&&(l.Copy(t_),_i=o_)}return box2d.b2Mul_R_V2(V.q,l,o),o.Normalize(),Math.sqrt(_i)}return box2d.b2Mul_R_V2(V.q,l,o),_i};goog.exportProperty(box2d.b2PolygonShape.prototype,"ComputeDistance",box2d.b2PolygonShape.prototype.ComputeDistance);box2d.b2PolygonShape.prototype.ComputeDistance.s_pLocal=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeDistance.s_normalForMaxDistance=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeDistance.s_minDistance=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeDistance.s_distance=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.RayCast=function(V,x,o,_o){_o=box2d.b2MulT_X_V2(o,x.p1,box2d.b2PolygonShape.prototype.RayCast.s_p1);for(var _i=box2d.b2MulT_X_V2(o,x.p2,box2d.b2PolygonShape.prototype.RayCast.s_p2),_i=box2d.b2Sub_V2_V2(_i,_o,box2d.b2PolygonShape.prototype.RayCast.s_d),l=0,t_=x.maxFraction,o_=-1,i_=0,_e=this.m_count;i_<_e;++i_){var l_=box2d.b2Dot_V2_V2(this.m_normals[i_],box2d.b2Sub_V2_V2(this.m_vertices[i_],_o,box2d.b2Vec2.s_t0)),ws=box2d.b2Dot_V2_V2(this.m_normals[i_],_i);if(ws===0){if(0>l_)return!1}else 0>ws&&l_<l*ws?(l=l_/ws,o_=i_):0<ws&&l_<t_*ws&&(t_=l_/ws);if(t_<l)return!1}return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=l&&l<=x.maxFraction),0<=o_?(V.fraction=l,box2d.b2Mul_R_V2(o.q,this.m_normals[o_],V.normal),!0):!1};goog.exportProperty(box2d.b2PolygonShape.prototype,"RayCast",box2d.b2PolygonShape.prototype.RayCast);box2d.b2PolygonShape.prototype.RayCast.s_p1=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.RayCast.s_p2=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.RayCast.s_d=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeAABB=function(V,x,o){o=box2d.b2Mul_X_V2(x,this.m_vertices[0],V.lowerBound),V=V.upperBound.Copy(o);for(var _o=0,_i=this.m_count;_o<_i;++_o){var l=box2d.b2Mul_X_V2(x,this.m_vertices[_o],box2d.b2PolygonShape.prototype.ComputeAABB.s_v);box2d.b2Min_V2_V2(l,o,o),box2d.b2Max_V2_V2(l,V,V)}x=this.m_radius,o.SelfSubXY(x,x),V.SelfAddXY(x,x)};goog.exportProperty(box2d.b2PolygonShape.prototype,"ComputeAABB",box2d.b2PolygonShape.prototype.ComputeAABB);box2d.b2PolygonShape.prototype.ComputeAABB.s_v=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeMass=function(V,x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=this.m_count);for(var o=box2d.b2PolygonShape.prototype.ComputeMass.s_center.SetZero(),_o=0,_i=0,l=box2d.b2PolygonShape.prototype.ComputeMass.s_s.SetZero(),t_=0,o_=this.m_count;t_<o_;++t_)l.SelfAdd(this.m_vertices[t_]);l.SelfMul(1/this.m_count);for(var i_=1/3,t_=0,o_=this.m_count;t_<o_;++t_){var ws=box2d.b2Sub_V2_V2(this.m_vertices[t_],l,box2d.b2PolygonShape.prototype.ComputeMass.s_e1),s_=box2d.b2Sub_V2_V2(this.m_vertices[(t_+1)%o_],l,box2d.b2PolygonShape.prototype.ComputeMass.s_e2),_e=box2d.b2Cross_V2_V2(ws,s_),l_=.5*_e,_o=_o+l_;o.SelfAdd(box2d.b2Mul_S_V2(l_*i_,box2d.b2Add_V2_V2(ws,s_,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t1));var l_=ws.x,ws=ws.y,h_=s_.x,s_=s_.y,_i=_i+.25*i_*_e*(l_*l_+h_*l_+h_*h_+(ws*ws+s_*ws+s_*s_))}V.mass=x*_o,box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o>box2d.b2_epsilon),o.SelfMul(1/_o),box2d.b2Add_V2_V2(o,l,V.center),V.I=x*_i,V.I+=V.mass*(box2d.b2Dot_V2_V2(V.center,V.center)-box2d.b2Dot_V2_V2(o,o))};goog.exportProperty(box2d.b2PolygonShape.prototype,"ComputeMass",box2d.b2PolygonShape.prototype.ComputeMass);box2d.b2PolygonShape.prototype.ComputeMass.s_center=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeMass.s_s=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeMass.s_e1=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeMass.s_e2=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.Validate=function(){for(var V=0;V<this.m_count;++V)for(var x=V,o=(V+1)%this.m_count,_o=this.m_vertices[x],_i=box2d.b2Sub_V2_V2(this.m_vertices[o],_o,box2d.b2PolygonShape.prototype.Validate.s_e),l=0;l<this.m_count;++l)if(l!==x&&l!==o){var t_=box2d.b2Sub_V2_V2(this.m_vertices[l],_o,box2d.b2PolygonShape.prototype.Validate.s_v);if(0>box2d.b2Cross_V2_V2(_i,t_))return!1}return!0};goog.exportProperty(box2d.b2PolygonShape.prototype,"Validate",box2d.b2PolygonShape.prototype.Validate);box2d.b2PolygonShape.prototype.Validate.s_e=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.Validate.s_v=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.SetupDistanceProxy=function(V,x){V.m_vertices=this.m_vertices,V.m_count=this.m_count,V.m_radius=this.m_radius};box2d.b2PolygonShape.prototype.ComputeSubmergedArea=function(V,x,o,_o){var _i=box2d.b2MulT_R_V2(o.q,V,box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_normalL),l=x-box2d.b2Dot_V2_V2(V,o.p),t_=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_depths,o_=0,i_=-1;x=-1;var _e=!1;V=0;for(var l_=this.m_count;V<l_;++V){t_[V]=box2d.b2Dot_V2_V2(_i,this.m_vertices[V])-l;var ws=t_[V]<-box2d.b2_epsilon;0<V&&(ws?_e||(i_=V-1,o_++):_e&&(x=V-1,o_++)),_e=ws}switch(o_){case 0:return _e?(V=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_md,this.ComputeMass(V,1),box2d.b2Mul_X_V2(o,V.center,_o),V.mass):0;case 1:i_===-1?i_=this.m_count-1:x=this.m_count-1}for(V=(i_+1)%this.m_count,_i=(x+1)%this.m_count,l=(0-t_[i_])/(t_[V]-t_[i_]),t_=(0-t_[x])/(t_[_i]-t_[x]),i_=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_intoVec.Set(this.m_vertices[i_].x*(1-l)+this.m_vertices[V].x*l,this.m_vertices[i_].y*(1-l)+this.m_vertices[V].y*l),x=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_outoVec.Set(this.m_vertices[x].x*(1-t_)+this.m_vertices[_i].x*t_,this.m_vertices[x].y*(1-t_)+this.m_vertices[_i].y*t_),t_=0,l=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_center.SetZero(),o_=this.m_vertices[V],_e=null;V!==_i;)V=(V+1)%this.m_count,_e=V===_i?x:this.m_vertices[V],l_=.5*((o_.x-i_.x)*(_e.y-i_.y)-(o_.y-i_.y)*(_e.x-i_.x)),t_+=l_,l.x+=l_*(i_.x+o_.x+_e.x)/3,l.y+=l_*(i_.y+o_.y+_e.y)/3,o_=_e;return l.SelfMul(1/t_),box2d.b2Mul_X_V2(o,l,_o),t_};goog.exportProperty(box2d.b2PolygonShape.prototype,"ComputeSubmergedArea",box2d.b2PolygonShape.prototype.ComputeSubmergedArea);box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_normalL=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_depths=box2d.b2MakeNumberArray(box2d.b2_maxPolygonVertices);box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_md=new box2d.b2MassData;box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_intoVec=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_outoVec=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_center=new box2d.b2Vec2;box2d.b2PolygonShape.prototype.Dump=function(){box2d.b2Log(`    /*box2d.b2PolygonShape*/ var shape = new box2d.b2PolygonShape();
`),box2d.b2Log(`    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);
`,box2d.b2_maxPolygonVertices);for(var V=0;V<this.m_count;++V)box2d.b2Log(`    vs[%d].Set(%.15f, %.15f);
`,V,this.m_vertices[V].x,this.m_vertices[V].y);box2d.b2Log(`    shape.Set(vs, %d);
`,this.m_count)};goog.exportProperty(box2d.b2PolygonShape.prototype,"Dump",box2d.b2PolygonShape.prototype.Dump);box2d.b2PolygonShape.ComputeCentroid=function(V,x,o){box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=x),o.SetZero();for(var _o=0,_i=box2d.b2PolygonShape.ComputeCentroid.s_pRef.SetZero(),l=1/3,t_=0;t_<x;++t_){var o_=_i,i_=V[t_],_e=V[(t_+1)%x],ws=box2d.b2Sub_V2_V2(i_,o_,box2d.b2PolygonShape.ComputeCentroid.s_e1),l_=box2d.b2Sub_V2_V2(_e,o_,box2d.b2PolygonShape.ComputeCentroid.s_e2),ws=.5*box2d.b2Cross_V2_V2(ws,l_),_o=_o+ws;o.x+=ws*l*(o_.x+i_.x+_e.x),o.y+=ws*l*(o_.y+i_.y+_e.y)}return box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o>box2d.b2_epsilon),o.SelfMul(1/_o),o};goog.exportProperty(box2d.b2PolygonShape,"ComputeCentroid",box2d.b2PolygonShape.ComputeCentroid);box2d.b2PolygonShape.ComputeCentroid.s_pRef=new box2d.b2Vec2;box2d.b2PolygonShape.ComputeCentroid.s_e1=new box2d.b2Vec2;box2d.b2PolygonShape.ComputeCentroid.s_e2=new box2d.b2Vec2;box2d.b2Timer=function(){this.m_start=new Date().getTime()};goog.exportSymbol("box2d.b2Timer",box2d.b2Timer);box2d.b2Timer.prototype.m_start=0;goog.exportProperty(box2d.b2Timer.prototype,"m_start",box2d.b2Timer.prototype.m_start);box2d.b2Timer.prototype.Reset=function(){return this.m_start=new Date().getTime(),this};goog.exportProperty(box2d.b2Timer.prototype,"Reset",box2d.b2Timer.prototype.Reset);box2d.b2Timer.prototype.GetMilliseconds=function(){return new Date().getTime()-this.m_start};goog.exportProperty(box2d.b2Timer.prototype,"GetMilliseconds",box2d.b2Timer.prototype.GetMilliseconds);box2d.b2Counter=function(){};goog.exportSymbol("box2d.b2Counter",box2d.b2Counter);box2d.b2Counter.prototype.m_count=0;goog.exportProperty(box2d.b2Counter.prototype,"m_count",box2d.b2Counter.prototype.m_count);box2d.b2Counter.prototype.m_min_count=0;goog.exportProperty(box2d.b2Counter.prototype,"m_min_count",box2d.b2Counter.prototype.m_min_count);box2d.b2Counter.prototype.m_max_count=0;goog.exportProperty(box2d.b2Counter.prototype,"m_max_count",box2d.b2Counter.prototype.m_max_count);box2d.b2Counter.prototype.GetCount=function(){return this.m_count};goog.exportProperty(box2d.b2Counter.prototype,"GetCount",box2d.b2Counter.prototype.GetCount);box2d.b2Counter.prototype.GetMinCount=function(){return this.m_min_count};goog.exportProperty(box2d.b2Counter.prototype,"GetMinCount",box2d.b2Counter.prototype.GetMinCount);box2d.b2Counter.prototype.GetMaxCount=function(){return this.m_max_count};goog.exportProperty(box2d.b2Counter.prototype,"GetMaxCount",box2d.b2Counter.prototype.GetMaxCount);box2d.b2Counter.prototype.ResetCount=function(){var V=this.m_count;return this.m_count=0,V};goog.exportProperty(box2d.b2Counter.prototype,"ResetCount",box2d.b2Counter.prototype.ResetCount);box2d.b2Counter.prototype.ResetMinCount=function(){this.m_min_count=0};goog.exportProperty(box2d.b2Counter.prototype,"ResetMinCount",box2d.b2Counter.prototype.ResetMinCount);box2d.b2Counter.prototype.ResetMaxCount=function(){this.m_max_count=0};goog.exportProperty(box2d.b2Counter.prototype,"ResetMaxCount",box2d.b2Counter.prototype.ResetMaxCount);box2d.b2Counter.prototype.Increment=function(){this.m_count++,this.m_max_count<this.m_count&&(this.m_max_count=this.m_count)};goog.exportProperty(box2d.b2Counter.prototype,"Increment",box2d.b2Counter.prototype.Increment);box2d.b2Counter.prototype.Decrement=function(){this.m_count--,this.m_min_count>this.m_count&&(this.m_min_count=this.m_count)};goog.exportProperty(box2d.b2Counter.prototype,"Decrement",box2d.b2Counter.prototype.Decrement);box2d.b2_toiTime=0;goog.exportSymbol("box2d.b2_toiTime",box2d.b2_toiTime);box2d.b2_toiMaxTime=0;goog.exportSymbol("box2d.b2_toiMaxTime",box2d.b2_toiMaxTime);box2d.b2_toiCalls=0;goog.exportSymbol("box2d.b2_toiCalls",box2d.b2_toiCalls);box2d.b2_toiIters=0;goog.exportSymbol("box2d.b2_toiIters",box2d.b2_toiIters);box2d.b2_toiMaxIters=0;goog.exportSymbol("box2d.b2_toiMaxIters",box2d.b2_toiMaxIters);box2d.b2_toiRootIters=0;goog.exportSymbol("box2d.b2_toiRootIters",box2d.b2_toiRootIters);box2d.b2_toiMaxRootIters=0;goog.exportSymbol("box2d.b2_toiMaxRootIters",box2d.b2_toiMaxRootIters);box2d.b2TOIInput=function(){this.proxyA=new box2d.b2DistanceProxy,this.proxyB=new box2d.b2DistanceProxy,this.sweepA=new box2d.b2Sweep,this.sweepB=new box2d.b2Sweep};goog.exportSymbol("box2d.b2TOIInput",box2d.b2TOIInput);box2d.b2TOIInput.prototype.proxyA=null;goog.exportProperty(box2d.b2TOIInput.prototype,"proxyA",box2d.b2TOIInput.prototype.proxyA);box2d.b2TOIInput.prototype.proxyB=null;goog.exportProperty(box2d.b2TOIInput.prototype,"proxyB",box2d.b2TOIInput.prototype.proxyB);box2d.b2TOIInput.prototype.sweepA=null;goog.exportProperty(box2d.b2TOIInput.prototype,"sweepA",box2d.b2TOIInput.prototype.sweepA);box2d.b2TOIInput.prototype.sweepB=null;goog.exportProperty(box2d.b2TOIInput.prototype,"sweepB",box2d.b2TOIInput.prototype.sweepB);box2d.b2TOIInput.prototype.tMax=0;goog.exportProperty(box2d.b2TOIInput.prototype,"tMax",box2d.b2TOIInput.prototype.tMax);box2d.b2TOIOutputState={e_unknown:0,e_failed:1,e_overlapped:2,e_touching:3,e_separated:4};goog.exportSymbol("box2d.b2TOIOutputState",box2d.b2TOIOutputState);goog.exportProperty(box2d.b2TOIOutputState,"e_unknown",box2d.b2TOIOutputState.e_unknown);goog.exportProperty(box2d.b2TOIOutputState,"e_failed",box2d.b2TOIOutputState.e_failed);goog.exportProperty(box2d.b2TOIOutputState,"e_overlapped",box2d.b2TOIOutputState.e_overlapped);goog.exportProperty(box2d.b2TOIOutputState,"e_touching",box2d.b2TOIOutputState.e_touching);goog.exportProperty(box2d.b2TOIOutputState,"e_separated",box2d.b2TOIOutputState.e_separated);box2d.b2TOIOutput=function(){};goog.exportSymbol("box2d.b2TOIOutput",box2d.b2TOIOutput);box2d.b2TOIOutput.prototype.state=box2d.b2TOIOutputState.e_unknown;goog.exportProperty(box2d.b2TOIOutput.prototype,"state",box2d.b2TOIOutput.prototype.state);box2d.b2TOIOutput.prototype.t=0;goog.exportProperty(box2d.b2TOIOutput.prototype,"t",box2d.b2TOIOutput.prototype.t);box2d.b2SeparationFunctionType={e_unknown:-1,e_points:0,e_faceA:1,e_faceB:2};goog.exportSymbol("box2d.b2SeparationFunctionType",box2d.b2SeparationFunctionType);goog.exportProperty(box2d.b2SeparationFunctionType,"e_unknown",box2d.b2SeparationFunctionType.e_unknown);goog.exportProperty(box2d.b2SeparationFunctionType,"e_points",box2d.b2SeparationFunctionType.e_points);goog.exportProperty(box2d.b2SeparationFunctionType,"e_faceA",box2d.b2SeparationFunctionType.e_faceA);goog.exportProperty(box2d.b2SeparationFunctionType,"e_faceB",box2d.b2SeparationFunctionType.e_faceB);box2d.b2SeparationFunction=function(){this.m_sweepA=new box2d.b2Sweep,this.m_sweepB=new box2d.b2Sweep,this.m_localPoint=new box2d.b2Vec2,this.m_axis=new box2d.b2Vec2};goog.exportSymbol("box2d.b2SeparationFunction",box2d.b2SeparationFunction);box2d.b2SeparationFunction.prototype.m_proxyA=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_proxyA",box2d.b2SeparationFunction.prototype.m_proxyA);box2d.b2SeparationFunction.prototype.m_proxyB=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_proxyB",box2d.b2SeparationFunction.prototype.m_proxyB);box2d.b2SeparationFunction.prototype.m_sweepA=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_sweepA",box2d.b2SeparationFunction.prototype.m_sweepA);box2d.b2SeparationFunction.prototype.m_sweepB=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_sweepB",box2d.b2SeparationFunction.prototype.m_sweepB);box2d.b2SeparationFunction.prototype.m_type=box2d.b2SeparationFunctionType.e_unknown;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_type",box2d.b2SeparationFunction.prototype.m_type);box2d.b2SeparationFunction.prototype.m_localPoint=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_localPoint",box2d.b2SeparationFunction.prototype.m_localPoint);box2d.b2SeparationFunction.prototype.m_axis=null;goog.exportProperty(box2d.b2SeparationFunction.prototype,"m_axis",box2d.b2SeparationFunction.prototype.m_axis);box2d.b2SeparationFunction.prototype.Initialize=function(V,x,o,_o,_i,l){return this.m_proxyA=x,this.m_proxyB=_o,x=V.count,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<x&&3>x),this.m_sweepA.Copy(o),this.m_sweepB.Copy(_i),o=box2d.b2TimeOfImpact.s_xfA,_i=box2d.b2TimeOfImpact.s_xfB,this.m_sweepA.GetTransform(o,l),this.m_sweepB.GetTransform(_i,l),x===1?(this.m_type=box2d.b2SeparationFunctionType.e_points,x=this.m_proxyA.GetVertex(V.indexA[0]),V=this.m_proxyB.GetVertex(V.indexB[0]),o=box2d.b2Mul_X_V2(o,x,box2d.b2TimeOfImpact.s_pointA),_i=box2d.b2Mul_X_V2(_i,V,box2d.b2TimeOfImpact.s_pointB),box2d.b2Sub_V2_V2(_i,o,this.m_axis),V=this.m_axis.Normalize(),this.m_localPoint.SetZero()):(V.indexA[0]===V.indexA[1]?(this.m_type=box2d.b2SeparationFunctionType.e_faceB,x=this.m_proxyB.GetVertex(V.indexB[0]),_o=this.m_proxyB.GetVertex(V.indexB[1]),box2d.b2Cross_V2_S(box2d.b2Sub_V2_V2(_o,x,box2d.b2Vec2.s_t0),1,this.m_axis).SelfNormalize(),l=box2d.b2Mul_R_V2(_i.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),box2d.b2Mid_V2_V2(x,_o,this.m_localPoint),_i=box2d.b2Mul_X_V2(_i,this.m_localPoint,box2d.b2TimeOfImpact.s_pointB),x=this.m_proxyA.GetVertex(V.indexA[0]),o=box2d.b2Mul_X_V2(o,x,box2d.b2TimeOfImpact.s_pointA),V=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o,_i,box2d.b2Vec2.s_t0),l)):(this.m_type=box2d.b2SeparationFunctionType.e_faceA,x=this.m_proxyA.GetVertex(V.indexA[0]),_o=this.m_proxyA.GetVertex(V.indexA[1]),box2d.b2Cross_V2_S(box2d.b2Sub_V2_V2(_o,x,box2d.b2Vec2.s_t0),1,this.m_axis).SelfNormalize(),l=box2d.b2Mul_R_V2(o.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),box2d.b2Mid_V2_V2(x,_o,this.m_localPoint),o=box2d.b2Mul_X_V2(o,this.m_localPoint,box2d.b2TimeOfImpact.s_pointA),V=this.m_proxyB.GetVertex(V.indexB[0]),_i=box2d.b2Mul_X_V2(_i,V,box2d.b2TimeOfImpact.s_pointB),V=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_i,o,box2d.b2Vec2.s_t0),l)),0>V&&(this.m_axis.SelfNeg(),V=-V)),V};goog.exportProperty(box2d.b2SeparationFunction.prototype,"Initialize",box2d.b2SeparationFunction.prototype.Initialize);box2d.b2SeparationFunction.prototype.FindMinSeparation=function(V,x,o){var _o=box2d.b2TimeOfImpact.s_xfA,_i=box2d.b2TimeOfImpact.s_xfB;switch(this.m_sweepA.GetTransform(_o,o),this.m_sweepB.GetTransform(_i,o),this.m_type){case box2d.b2SeparationFunctionType.e_points:var l=box2d.b2MulT_R_V2(_o.q,this.m_axis,box2d.b2TimeOfImpact.s_axisA),t_=box2d.b2MulT_R_V2(_i.q,box2d.b2Vec2.s_t0.Copy(this.m_axis).SelfNeg(),box2d.b2TimeOfImpact.s_axisB);return V[0]=this.m_proxyA.GetSupport(l),x[0]=this.m_proxyB.GetSupport(t_),V=this.m_proxyA.GetVertex(V[0]),x=this.m_proxyB.GetVertex(x[0]),_o=box2d.b2Mul_X_V2(_o,V,box2d.b2TimeOfImpact.s_pointA),_i=box2d.b2Mul_X_V2(_i,x,box2d.b2TimeOfImpact.s_pointB),x=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_i,_o,box2d.b2Vec2.s_t0),this.m_axis);case box2d.b2SeparationFunctionType.e_faceA:return o=box2d.b2Mul_R_V2(_o.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),_o=box2d.b2Mul_X_V2(_o,this.m_localPoint,box2d.b2TimeOfImpact.s_pointA),t_=box2d.b2MulT_R_V2(_i.q,box2d.b2Vec2.s_t0.Copy(o).SelfNeg(),box2d.b2TimeOfImpact.s_axisB),V[0]=-1,x[0]=this.m_proxyB.GetSupport(t_),x=this.m_proxyB.GetVertex(x[0]),_i=box2d.b2Mul_X_V2(_i,x,box2d.b2TimeOfImpact.s_pointB),x=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_i,_o,box2d.b2Vec2.s_t0),o);case box2d.b2SeparationFunctionType.e_faceB:return o=box2d.b2Mul_R_V2(_i.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),_i=box2d.b2Mul_X_V2(_i,this.m_localPoint,box2d.b2TimeOfImpact.s_pointB),l=box2d.b2MulT_R_V2(_o.q,box2d.b2Vec2.s_t0.Copy(o).SelfNeg(),box2d.b2TimeOfImpact.s_axisA),x[0]=-1,V[0]=this.m_proxyA.GetSupport(l),V=this.m_proxyA.GetVertex(V[0]),_o=box2d.b2Mul_X_V2(_o,V,box2d.b2TimeOfImpact.s_pointA),x=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_o,_i,box2d.b2Vec2.s_t0),o);default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),V[0]=-1,x[0]=-1,0}};goog.exportProperty(box2d.b2SeparationFunction.prototype,"FindMinSeparation",box2d.b2SeparationFunction.prototype.FindMinSeparation);box2d.b2SeparationFunction.prototype.Evaluate=function(V,x,o){var _o=box2d.b2TimeOfImpact.s_xfA,_i=box2d.b2TimeOfImpact.s_xfB;switch(this.m_sweepA.GetTransform(_o,o),this.m_sweepB.GetTransform(_i,o),this.m_type){case box2d.b2SeparationFunctionType.e_points:return V=this.m_proxyA.GetVertex(V),x=this.m_proxyB.GetVertex(x),_o=box2d.b2Mul_X_V2(_o,V,box2d.b2TimeOfImpact.s_pointA),_i=box2d.b2Mul_X_V2(_i,x,box2d.b2TimeOfImpact.s_pointB),_o=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_i,_o,box2d.b2Vec2.s_t0),this.m_axis);case box2d.b2SeparationFunctionType.e_faceA:return o=box2d.b2Mul_R_V2(_o.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),_o=box2d.b2Mul_X_V2(_o,this.m_localPoint,box2d.b2TimeOfImpact.s_pointA),x=this.m_proxyB.GetVertex(x),_i=box2d.b2Mul_X_V2(_i,x,box2d.b2TimeOfImpact.s_pointB),_o=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_i,_o,box2d.b2Vec2.s_t0),o);case box2d.b2SeparationFunctionType.e_faceB:return o=box2d.b2Mul_R_V2(_i.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),_i=box2d.b2Mul_X_V2(_i,this.m_localPoint,box2d.b2TimeOfImpact.s_pointB),V=this.m_proxyA.GetVertex(V),_o=box2d.b2Mul_X_V2(_o,V,box2d.b2TimeOfImpact.s_pointA),_o=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(_o,_i,box2d.b2Vec2.s_t0),o);default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),0}};goog.exportProperty(box2d.b2SeparationFunction.prototype,"Evaluate",box2d.b2SeparationFunction.prototype.Evaluate);box2d.b2TimeOfImpact=function(V,x){var o=box2d.b2TimeOfImpact.s_timer.Reset();++box2d.b2_toiCalls,V.state=box2d.b2TOIOutputState.e_unknown,V.t=x.tMax;var _o=x.proxyA,_i=x.proxyB,l=box2d.b2TimeOfImpact.s_sweepA.Copy(x.sweepA),t_=box2d.b2TimeOfImpact.s_sweepB.Copy(x.sweepB);l.Normalize(),t_.Normalize();var o_=x.tMax,i_=box2d.b2Max(box2d.b2_linearSlop,_o.m_radius+_i.m_radius-3*box2d.b2_linearSlop),_e=.25*box2d.b2_linearSlop;box2d.ENABLE_ASSERTS&&box2d.b2Assert(i_>_e);var l_=0,ws=0,h_=box2d.b2TimeOfImpact.s_cache;h_.count=0;var s_=box2d.b2TimeOfImpact.s_distanceInput;for(s_.proxyA=x.proxyA,s_.proxyB=x.proxyB,s_.useRadii=!1;;){var B_=box2d.b2TimeOfImpact.s_xfA,D_=box2d.b2TimeOfImpact.s_xfB;if(l.GetTransform(B_,l_),t_.GetTransform(D_,l_),s_.transformA.Copy(B_),s_.transformB.Copy(D_),B_=box2d.b2TimeOfImpact.s_distanceOutput,box2d.b2ShapeDistance(B_,h_,s_),0>=B_.distance){V.state=box2d.b2TOIOutputState.e_overlapped,V.t=0;break}if(B_.distance<i_+_e){V.state=box2d.b2TOIOutputState.e_touching,V.t=l_;break}B_=box2d.b2TimeOfImpact.s_fcn,B_.Initialize(h_,_o,l,_i,t_,l_);for(var D_=!1,y_=o_,G_=0;;){var q_=box2d.b2TimeOfImpact.s_indexA,j_=box2d.b2TimeOfImpact.s_indexB,_2=B_.FindMinSeparation(q_,j_,y_);if(_2>i_+_e){V.state=box2d.b2TOIOutputState.e_separated,V.t=o_,D_=!0;break}if(_2>i_-_e){l_=y_;break}var m2=B_.Evaluate(q_[0],j_[0],l_);if(m2<i_-_e){V.state=box2d.b2TOIOutputState.e_failed,V.t=l_,D_=!0;break}if(m2<=i_+_e){V.state=box2d.b2TOIOutputState.e_touching,V.t=l_,D_=!0;break}for(var y2=0,I2=l_,J2=y_;;){var z2=0,z2=y2&1?I2+(i_-m2)*(J2-I2)/(_2-m2):.5*(I2+J2);++y2,++box2d.b2_toiRootIters;var K2=B_.Evaluate(q_[0],j_[0],z2);if(box2d.b2Abs(K2-i_)<_e){y_=z2;break}if(K2>i_?(I2=z2,m2=K2):(J2=z2,_2=K2),y2===50)break}if(box2d.b2_toiMaxRootIters=box2d.b2Max(box2d.b2_toiMaxRootIters,y2),++G_,G_===box2d.b2_maxPolygonVertices)break}if(++ws,++box2d.b2_toiIters,D_)break;if(ws===20){V.state=box2d.b2TOIOutputState.e_failed,V.t=l_;break}}box2d.b2_toiMaxIters=box2d.b2Max(box2d.b2_toiMaxIters,ws),o=o.GetMilliseconds(),box2d.b2_toiMaxTime=box2d.b2Max(box2d.b2_toiMaxTime,o),box2d.b2_toiTime+=o};goog.exportSymbol("box2d.b2TimeOfImpact",box2d.b2TimeOfImpact);box2d.b2TimeOfImpact.s_timer=new box2d.b2Timer;box2d.b2TimeOfImpact.s_cache=new box2d.b2SimplexCache;box2d.b2TimeOfImpact.s_distanceInput=new box2d.b2DistanceInput;box2d.b2TimeOfImpact.s_distanceOutput=new box2d.b2DistanceOutput;box2d.b2TimeOfImpact.s_xfA=new box2d.b2Transform;box2d.b2TimeOfImpact.s_xfB=new box2d.b2Transform;box2d.b2TimeOfImpact.s_indexA=box2d.b2MakeNumberArray(1);box2d.b2TimeOfImpact.s_indexB=box2d.b2MakeNumberArray(1);box2d.b2TimeOfImpact.s_fcn=new box2d.b2SeparationFunction;box2d.b2TimeOfImpact.s_sweepA=new box2d.b2Sweep;box2d.b2TimeOfImpact.s_sweepB=new box2d.b2Sweep;box2d.b2TimeOfImpact.s_pointA=new box2d.b2Vec2;box2d.b2TimeOfImpact.s_pointB=new box2d.b2Vec2;box2d.b2TimeOfImpact.s_normal=new box2d.b2Vec2;box2d.b2TimeOfImpact.s_axisA=new box2d.b2Vec2;box2d.b2TimeOfImpact.s_axisB=new box2d.b2Vec2;box2d.b2Filter=function(){};goog.exportSymbol("box2d.b2Filter",box2d.b2Filter);box2d.b2Filter.prototype.categoryBits=1;goog.exportProperty(box2d.b2Filter.prototype,"categoryBits",box2d.b2Filter.prototype.categoryBits);box2d.b2Filter.prototype.maskBits=65535;goog.exportProperty(box2d.b2Filter.prototype,"maskBits",box2d.b2Filter.prototype.maskBits);box2d.b2Filter.prototype.groupIndex=0;goog.exportProperty(box2d.b2Filter.prototype,"groupIndex",box2d.b2Filter.prototype.groupIndex);box2d.b2Filter.prototype.Clone=function(){return new box2d.b2Filter().Copy(this)};goog.exportProperty(box2d.b2Filter.prototype,"Clone",box2d.b2Filter.prototype.Clone);box2d.b2Filter.prototype.Copy=function(V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(this!==V),this.categoryBits=V.categoryBits,this.maskBits=V.maskBits,this.groupIndex=V.groupIndex,this};goog.exportProperty(box2d.b2Filter.prototype,"Copy",box2d.b2Filter.prototype.Copy);box2d.b2FixtureDef=function(){this.filter=new box2d.b2Filter};goog.exportSymbol("box2d.b2FixtureDef",box2d.b2FixtureDef);box2d.b2FixtureDef.prototype.shape=null;goog.exportProperty(box2d.b2FixtureDef.prototype,"shape",box2d.b2FixtureDef.prototype.shape);box2d.b2FixtureDef.prototype.userData=null;goog.exportProperty(box2d.b2FixtureDef.prototype,"userData",box2d.b2FixtureDef.prototype.userData);box2d.b2FixtureDef.prototype.friction=.2;goog.exportProperty(box2d.b2FixtureDef.prototype,"friction",box2d.b2FixtureDef.prototype.friction);box2d.b2FixtureDef.prototype.restitution=0;goog.exportProperty(box2d.b2FixtureDef.prototype,"restitution",box2d.b2FixtureDef.prototype.restitution);box2d.b2FixtureDef.prototype.density=0;goog.exportProperty(box2d.b2FixtureDef.prototype,"density",box2d.b2FixtureDef.prototype.density);box2d.b2FixtureDef.prototype.isSensor=!1;goog.exportProperty(box2d.b2FixtureDef.prototype,"isSensor",box2d.b2FixtureDef.prototype.isSensor);box2d.b2FixtureDef.prototype.filter=null;goog.exportProperty(box2d.b2FixtureDef.prototype,"filter",box2d.b2FixtureDef.prototype.filter);box2d.b2FixtureProxy=function(){this.aabb=new box2d.b2AABB};goog.exportSymbol("box2d.b2FixtureProxy",box2d.b2FixtureProxy);box2d.b2FixtureProxy.prototype.aabb=null;goog.exportProperty(box2d.b2FixtureProxy.prototype,"aabb",box2d.b2FixtureProxy.prototype.aabb);box2d.b2FixtureProxy.prototype.fixture=null;goog.exportProperty(box2d.b2FixtureProxy.prototype,"fixture",box2d.b2FixtureProxy.prototype.fixture);box2d.b2FixtureProxy.prototype.childIndex=0;goog.exportProperty(box2d.b2FixtureProxy.prototype,"childIndex",box2d.b2FixtureProxy.prototype.childIndex);box2d.b2FixtureProxy.prototype.proxy=null;goog.exportProperty(box2d.b2FixtureProxy.prototype,"proxy",box2d.b2FixtureProxy.prototype.proxy);box2d.b2FixtureProxy.MakeArray=function(V){return box2d.b2MakeArray(V,function(x){return new box2d.b2FixtureProxy})};goog.exportProperty(box2d.b2FixtureProxy,"MakeArray",box2d.b2FixtureProxy.MakeArray);box2d.b2Fixture=function(){this.m_proxyCount=0,this.m_filter=new box2d.b2Filter};goog.exportSymbol("box2d.b2Fixture",box2d.b2Fixture);box2d.b2Fixture.prototype.m_density=0;goog.exportProperty(box2d.b2Fixture.prototype,"m_density",box2d.b2Fixture.prototype.m_density);box2d.b2Fixture.prototype.m_next=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_next",box2d.b2Fixture.prototype.m_next);box2d.b2Fixture.prototype.m_body=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_body",box2d.b2Fixture.prototype.m_body);box2d.b2Fixture.prototype.m_shape=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_shape",box2d.b2Fixture.prototype.m_shape);box2d.b2Fixture.prototype.m_friction=0;goog.exportProperty(box2d.b2Fixture.prototype,"m_friction",box2d.b2Fixture.prototype.m_friction);box2d.b2Fixture.prototype.m_restitution=0;goog.exportProperty(box2d.b2Fixture.prototype,"m_restitution",box2d.b2Fixture.prototype.m_restitution);box2d.b2Fixture.prototype.m_proxies=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_proxies",box2d.b2Fixture.prototype.m_proxies);box2d.b2Fixture.prototype.m_proxyCount=0;goog.exportProperty(box2d.b2Fixture.prototype,"m_proxyCount",box2d.b2Fixture.prototype.m_proxyCount);box2d.b2Fixture.prototype.m_filter=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_filter",box2d.b2Fixture.prototype.m_filter);box2d.b2Fixture.prototype.m_isSensor=!1;goog.exportProperty(box2d.b2Fixture.prototype,"m_isSensor",box2d.b2Fixture.prototype.m_isSensor);box2d.b2Fixture.prototype.m_userData=null;goog.exportProperty(box2d.b2Fixture.prototype,"m_userData",box2d.b2Fixture.prototype.m_userData);box2d.b2Fixture.prototype.GetType=function(){return this.m_shape.GetType()};goog.exportProperty(box2d.b2Fixture.prototype,"GetType",box2d.b2Fixture.prototype.GetType);box2d.b2Fixture.prototype.GetShape=function(){return this.m_shape};goog.exportProperty(box2d.b2Fixture.prototype,"GetShape",box2d.b2Fixture.prototype.GetShape);box2d.b2Fixture.prototype.IsSensor=function(){return this.m_isSensor};goog.exportProperty(box2d.b2Fixture.prototype,"IsSensor",box2d.b2Fixture.prototype.IsSensor);box2d.b2Fixture.prototype.GetFilterData=function(V){return V=V||new box2d.b2Filter,V.Copy(this.m_filter)};goog.exportProperty(box2d.b2Fixture.prototype,"GetFilterData",box2d.b2Fixture.prototype.GetFilterData);box2d.b2Fixture.prototype.GetUserData=function(){return this.m_userData};goog.exportProperty(box2d.b2Fixture.prototype,"GetUserData",box2d.b2Fixture.prototype.GetUserData);box2d.b2Fixture.prototype.SetUserData=function(V){this.m_userData=V};goog.exportProperty(box2d.b2Fixture.prototype,"SetUserData",box2d.b2Fixture.prototype.SetUserData);box2d.b2Fixture.prototype.GetBody=function(){return this.m_body};goog.exportProperty(box2d.b2Fixture.prototype,"GetBody",box2d.b2Fixture.prototype.GetBody);box2d.b2Fixture.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2Fixture.prototype,"GetNext",box2d.b2Fixture.prototype.GetNext);box2d.b2Fixture.prototype.SetDensity=function(V){this.m_density=V};goog.exportProperty(box2d.b2Fixture.prototype,"SetDensity",box2d.b2Fixture.prototype.SetDensity);box2d.b2Fixture.prototype.GetDensity=function(){return this.m_density};goog.exportProperty(box2d.b2Fixture.prototype,"GetDensity",box2d.b2Fixture.prototype.GetDensity);box2d.b2Fixture.prototype.GetFriction=function(){return this.m_friction};goog.exportProperty(box2d.b2Fixture.prototype,"GetFriction",box2d.b2Fixture.prototype.GetFriction);box2d.b2Fixture.prototype.SetFriction=function(V){this.m_friction=V};goog.exportProperty(box2d.b2Fixture.prototype,"SetFriction",box2d.b2Fixture.prototype.SetFriction);box2d.b2Fixture.prototype.GetRestitution=function(){return this.m_restitution};goog.exportProperty(box2d.b2Fixture.prototype,"GetRestitution",box2d.b2Fixture.prototype.GetRestitution);box2d.b2Fixture.prototype.SetRestitution=function(V){this.m_restitution=V};goog.exportProperty(box2d.b2Fixture.prototype,"SetRestitution",box2d.b2Fixture.prototype.SetRestitution);box2d.b2Fixture.prototype.TestPoint=function(V){return this.m_shape.TestPoint(this.m_body.GetTransform(),V)};goog.exportProperty(box2d.b2Fixture.prototype,"TestPoint",box2d.b2Fixture.prototype.TestPoint);box2d.b2Fixture.prototype.ComputeDistance=function(V,x,o){return this.m_shape.ComputeDistance(this.m_body.GetTransform(),V,x,o)};goog.exportProperty(box2d.b2Fixture.prototype,"ComputeDistance",box2d.b2Fixture.prototype.ComputeDistance);box2d.b2Fixture.prototype.RayCast=function(V,x,o){return this.m_shape.RayCast(V,x,this.m_body.GetTransform(),o)};goog.exportProperty(box2d.b2Fixture.prototype,"RayCast",box2d.b2Fixture.prototype.RayCast);box2d.b2Fixture.prototype.GetMassData=function(V){return V=V||new box2d.b2MassData,this.m_shape.ComputeMass(V,this.m_density),V};goog.exportProperty(box2d.b2Fixture.prototype,"GetMassData",box2d.b2Fixture.prototype.GetMassData);box2d.b2Fixture.prototype.GetAABB=function(V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=V&&V<this.m_proxyCount),this.m_proxies[V].aabb};goog.exportProperty(box2d.b2Fixture.prototype,"GetAABB",box2d.b2Fixture.prototype.GetAABB);box2d.b2Fixture.prototype.Create=function(V,x){this.m_userData=x.userData,this.m_friction=x.friction,this.m_restitution=x.restitution,this.m_body=V,this.m_next=null,this.m_filter.Copy(x.filter),this.m_isSensor=x.isSensor,this.m_shape=x.shape.Clone(),this.m_proxies=box2d.b2FixtureProxy.MakeArray(this.m_shape.GetChildCount()),this.m_proxyCount=0,this.m_density=x.density};goog.exportProperty(box2d.b2Fixture.prototype,"Create",box2d.b2Fixture.prototype.Create);box2d.b2Fixture.prototype.Destroy=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_proxyCount===0),this.m_shape=null};goog.exportProperty(box2d.b2Fixture.prototype,"Destroy",box2d.b2Fixture.prototype.Destroy);box2d.b2Fixture.prototype.CreateProxies=function(V,x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_proxyCount===0),this.m_proxyCount=this.m_shape.GetChildCount();for(var o=0;o<this.m_proxyCount;++o){var _o=this.m_proxies[o];this.m_shape.ComputeAABB(_o.aabb,x,o),_o.proxy=V.CreateProxy(_o.aabb,_o),_o.fixture=this,_o.childIndex=o}};goog.exportProperty(box2d.b2Fixture.prototype,"CreateProxies",box2d.b2Fixture.prototype.CreateProxies);box2d.b2Fixture.prototype.DestroyProxies=function(V){for(var x=0;x<this.m_proxyCount;++x){var o=this.m_proxies[x];V.DestroyProxy(o.proxy),o.proxy=null}this.m_proxyCount=0};goog.exportProperty(box2d.b2Fixture.prototype,"DestroyProxies",box2d.b2Fixture.prototype.DestroyProxies);box2d.b2Fixture.prototype.Synchronize=function(V,x,o){if(this.m_proxyCount!==0)for(var _o=0;_o<this.m_proxyCount;++_o){var _i=this.m_proxies[_o],l=box2d.b2Fixture.prototype.Synchronize.s_aabb1,t_=box2d.b2Fixture.prototype.Synchronize.s_aabb2;this.m_shape.ComputeAABB(l,x,_o),this.m_shape.ComputeAABB(t_,o,_o),_i.aabb.Combine2(l,t_),l=box2d.b2Sub_V2_V2(o.p,x.p,box2d.b2Fixture.prototype.Synchronize.s_displacement),V.MoveProxy(_i.proxy,_i.aabb,l)}};goog.exportProperty(box2d.b2Fixture.prototype,"Synchronize",box2d.b2Fixture.prototype.Synchronize);box2d.b2Fixture.prototype.Synchronize.s_aabb1=new box2d.b2AABB;box2d.b2Fixture.prototype.Synchronize.s_aabb2=new box2d.b2AABB;box2d.b2Fixture.prototype.Synchronize.s_displacement=new box2d.b2Vec2;box2d.b2Fixture.prototype.SetFilterData=function(V){this.m_filter.Copy(V),this.Refilter()};goog.exportProperty(box2d.b2Fixture.prototype,"SetFilterData",box2d.b2Fixture.prototype.SetFilterData);box2d.b2Fixture.prototype.Refilter=function(){if(this.m_body!==null){for(var V=this.m_body.GetContactList();V;){var x=V.contact,o=x.GetFixtureA(),_o=x.GetFixtureB();o!==this&&_o!==this||x.FlagForFiltering(),V=V.next}if(V=this.m_body.GetWorld(),V!==null)for(V=V.m_contactManager.m_broadPhase,x=0;x<this.m_proxyCount;++x)V.TouchProxy(this.m_proxies[x].proxy)}};goog.exportProperty(box2d.b2Fixture.prototype,"Refilter",box2d.b2Fixture.prototype.Refilter);box2d.b2Fixture.prototype.SetSensor=function(V){V!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=V)};goog.exportProperty(box2d.b2Fixture.prototype,"SetSensor",box2d.b2Fixture.prototype.SetSensor);box2d.b2Fixture.prototype.Dump=function(V){box2d.DEBUG&&(box2d.b2Log(`    /*box2d.b2FixtureDef*/ var fd = new box2d.b2FixtureDef();
`),box2d.b2Log(`    fd.friction = %.15f;
`,this.m_friction),box2d.b2Log(`    fd.restitution = %.15f;
`,this.m_restitution),box2d.b2Log(`    fd.density = %.15f;
`,this.m_density),box2d.b2Log(`    fd.isSensor = %s;
`,this.m_isSensor?"true":"false"),box2d.b2Log(`    fd.filter.categoryBits = %d;
`,this.m_filter.categoryBits),box2d.b2Log(`    fd.filter.maskBits = %d;
`,this.m_filter.maskBits),box2d.b2Log(`    fd.filter.groupIndex = %d;
`,this.m_filter.groupIndex),this.m_shape.Dump(),box2d.b2Log(`
`),box2d.b2Log(`    fd.shape = shape;
`),box2d.b2Log(`
`),box2d.b2Log(`    bodies[%d].CreateFixture(fd);
`,V))};goog.exportProperty(box2d.b2Fixture.prototype,"Dump",box2d.b2Fixture.prototype.Dump);box2d.b2BodyType={b2_unknown:-1,b2_staticBody:0,b2_kinematicBody:1,b2_dynamicBody:2,b2_bulletBody:3};goog.exportSymbol("box2d.b2BodyType",box2d.b2BodyType);goog.exportProperty(box2d.b2BodyType,"b2_unknown",box2d.b2BodyType.b2_unknown);goog.exportProperty(box2d.b2BodyType,"b2_staticBody",box2d.b2BodyType.b2_staticBody);goog.exportProperty(box2d.b2BodyType,"b2_kinematicBody",box2d.b2BodyType.b2_kinematicBody);goog.exportProperty(box2d.b2BodyType,"b2_dynamicBody",box2d.b2BodyType.b2_dynamicBody);goog.exportProperty(box2d.b2BodyType,"b2_bulletBody",box2d.b2BodyType.b2_bulletBody);box2d.b2BodyDef=function(){this.position=new box2d.b2Vec2(0,0),this.linearVelocity=new box2d.b2Vec2(0,0)};goog.exportSymbol("box2d.b2BodyDef",box2d.b2BodyDef);box2d.b2BodyDef.prototype.type=box2d.b2BodyType.b2_staticBody;goog.exportProperty(box2d.b2BodyDef.prototype,"type",box2d.b2BodyDef.prototype.type);box2d.b2BodyDef.prototype.position=null;goog.exportProperty(box2d.b2BodyDef.prototype,"position",box2d.b2BodyDef.prototype.position);box2d.b2BodyDef.prototype.angle=0;goog.exportProperty(box2d.b2BodyDef.prototype,"angle",box2d.b2BodyDef.prototype.angle);box2d.b2BodyDef.prototype.linearVelocity=null;goog.exportProperty(box2d.b2BodyDef.prototype,"linearVelocity",box2d.b2BodyDef.prototype.linearVelocity);box2d.b2BodyDef.prototype.angularVelocity=0;goog.exportProperty(box2d.b2BodyDef.prototype,"angularVelocity",box2d.b2BodyDef.prototype.angularVelocity);box2d.b2BodyDef.prototype.linearDamping=0;goog.exportProperty(box2d.b2BodyDef.prototype,"linearDamping",box2d.b2BodyDef.prototype.linearDamping);box2d.b2BodyDef.prototype.angularDamping=0;goog.exportProperty(box2d.b2BodyDef.prototype,"angularDamping",box2d.b2BodyDef.prototype.angularDamping);box2d.b2BodyDef.prototype.allowSleep=!0;goog.exportProperty(box2d.b2BodyDef.prototype,"allowSleep",box2d.b2BodyDef.prototype.allowSleep);box2d.b2BodyDef.prototype.awake=!0;goog.exportProperty(box2d.b2BodyDef.prototype,"awake",box2d.b2BodyDef.prototype.awake);box2d.b2BodyDef.prototype.fixedRotation=!1;goog.exportProperty(box2d.b2BodyDef.prototype,"fixedRotation",box2d.b2BodyDef.prototype.fixedRotation);box2d.b2BodyDef.prototype.bullet=!1;goog.exportProperty(box2d.b2BodyDef.prototype,"bullet",box2d.b2BodyDef.prototype.bullet);box2d.b2BodyDef.prototype.active=!0;goog.exportProperty(box2d.b2BodyDef.prototype,"active",box2d.b2BodyDef.prototype.active);box2d.b2BodyDef.prototype.userData=null;goog.exportProperty(box2d.b2BodyDef.prototype,"userData",box2d.b2BodyDef.prototype.userData);box2d.b2BodyDef.prototype.gravityScale=1;goog.exportProperty(box2d.b2BodyDef.prototype,"gravityScale",box2d.b2BodyDef.prototype.gravityScale);box2d.b2Body=function(V,x){this.m_xf=new box2d.b2Transform,this.m_out_xf=new box2d.b2Transform,this.m_xf0=new box2d.b2Transform,this.m_sweep=new box2d.b2Sweep,this.m_out_sweep=new box2d.b2Sweep,this.m_linearVelocity=new box2d.b2Vec2,this.m_out_linearVelocity=new box2d.b2Vec2,this.m_force=new box2d.b2Vec2,box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.position.IsValid()),box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.linearVelocity.IsValid()),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V.angle)),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V.angularVelocity)),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V.gravityScale)&&0<=V.gravityScale),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V.angularDamping)&&0<=V.angularDamping),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V.linearDamping)&&0<=V.linearDamping),V.bullet&&(this.m_flag_bulletFlag=!0),V.fixedRotation&&(this.m_flag_fixedRotationFlag=!0),V.allowSleep&&(this.m_flag_autoSleepFlag=!0),V.awake&&(this.m_flag_awakeFlag=!0),V.active&&(this.m_flag_activeFlag=!0),this.m_world=x,this.m_xf.p.Copy(V.position),this.m_xf.q.SetAngle(V.angle),this.m_xf0.Copy(this.m_xf),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=V.angle,this.m_sweep.a=V.angle,this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(V.linearVelocity),this.m_angularVelocity=V.angularVelocity,this.m_linearDamping=V.linearDamping,this.m_angularDamping=V.angularDamping,this.m_gravityScale=V.gravityScale,this.m_force.SetZero(),this.m_sleepTime=this.m_torque=0,this.m_type=V.type,this.m_invMass=V.type===box2d.b2BodyType.b2_dynamicBody?this.m_mass=1:this.m_mass=0,this.m_invI=this.m_I=0,this.m_userData=V.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_controllerList=null,this.m_controllerCount=0};goog.exportSymbol("box2d.b2Body",box2d.b2Body);box2d.b2Body.prototype.m_flag_islandFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_islandFlag",box2d.b2Body.prototype.m_flag_islandFlag);box2d.b2Body.prototype.m_flag_awakeFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_awakeFlag",box2d.b2Body.prototype.m_flag_awakeFlag);box2d.b2Body.prototype.m_flag_autoSleepFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_autoSleepFlag",box2d.b2Body.prototype.m_flag_autoSleepFlag);box2d.b2Body.prototype.m_flag_bulletFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_bulletFlag",box2d.b2Body.prototype.m_flag_bulletFlag);box2d.b2Body.prototype.m_flag_fixedRotationFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_fixedRotationFlag",box2d.b2Body.prototype.m_flag_fixedRotationFlag);box2d.b2Body.prototype.m_flag_activeFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_activeFlag",box2d.b2Body.prototype.m_flag_activeFlag);box2d.b2Body.prototype.m_flag_toiFlag=!1;goog.exportProperty(box2d.b2Body.prototype,"m_flag_toiFlag",box2d.b2Body.prototype.m_flag_toiFlag);box2d.b2Body.prototype.m_islandIndex=0;goog.exportProperty(box2d.b2Body.prototype,"m_islandIndex",box2d.b2Body.prototype.m_islandIndex);box2d.b2Body.prototype.m_world=null;goog.exportProperty(box2d.b2Body.prototype,"m_world",box2d.b2Body.prototype.m_world);box2d.b2Body.prototype.m_xf=null;goog.exportProperty(box2d.b2Body.prototype,"m_xf",box2d.b2Body.prototype.m_xf);box2d.b2Body.prototype.m_out_xf=null;goog.exportProperty(box2d.b2Body.prototype,"m_out_xf",box2d.b2Body.prototype.m_out_xf);box2d.b2Body.prototype.m_xf0=null;goog.exportProperty(box2d.b2Body.prototype,"m_xf0",box2d.b2Body.prototype.m_xf0);box2d.b2Body.prototype.m_sweep=null;goog.exportProperty(box2d.b2Body.prototype,"m_sweep",box2d.b2Body.prototype.m_sweep);box2d.b2Body.prototype.m_out_sweep=null;goog.exportProperty(box2d.b2Body.prototype,"m_out_sweep",box2d.b2Body.prototype.m_out_sweep);box2d.b2Body.prototype.m_jointList=null;goog.exportProperty(box2d.b2Body.prototype,"m_jointList",box2d.b2Body.prototype.m_jointList);box2d.b2Body.prototype.m_contactList=null;goog.exportProperty(box2d.b2Body.prototype,"m_contactList",box2d.b2Body.prototype.m_contactList);box2d.b2Body.prototype.m_prev=null;goog.exportProperty(box2d.b2Body.prototype,"m_prev",box2d.b2Body.prototype.m_prev);box2d.b2Body.prototype.m_next=null;goog.exportProperty(box2d.b2Body.prototype,"m_next",box2d.b2Body.prototype.m_next);box2d.b2Body.prototype.m_linearVelocity=null;goog.exportProperty(box2d.b2Body.prototype,"m_linearVelocity",box2d.b2Body.prototype.m_linearVelocity);box2d.b2Body.prototype.m_out_linearVelocity=null;goog.exportProperty(box2d.b2Body.prototype,"m_out_linearVelocity",box2d.b2Body.prototype.m_out_linearVelocity);box2d.b2Body.prototype.m_angularVelocity=0;goog.exportProperty(box2d.b2Body.prototype,"m_angularVelocity",box2d.b2Body.prototype.m_angularVelocity);box2d.b2Body.prototype.m_linearDamping=0;goog.exportProperty(box2d.b2Body.prototype,"m_linearDamping",box2d.b2Body.prototype.m_linearDamping);box2d.b2Body.prototype.m_angularDamping=0;goog.exportProperty(box2d.b2Body.prototype,"m_angularDamping",box2d.b2Body.prototype.m_angularDamping);box2d.b2Body.prototype.m_gravityScale=1;goog.exportProperty(box2d.b2Body.prototype,"m_gravityScale",box2d.b2Body.prototype.m_gravityScale);box2d.b2Body.prototype.m_force=null;goog.exportProperty(box2d.b2Body.prototype,"m_force",box2d.b2Body.prototype.m_force);box2d.b2Body.prototype.m_torque=0;goog.exportProperty(box2d.b2Body.prototype,"m_torque",box2d.b2Body.prototype.m_torque);box2d.b2Body.prototype.m_sleepTime=0;goog.exportProperty(box2d.b2Body.prototype,"m_sleepTime",box2d.b2Body.prototype.m_sleepTime);box2d.b2Body.prototype.m_type=box2d.b2BodyType.b2_staticBody;goog.exportProperty(box2d.b2Body.prototype,"m_type",box2d.b2Body.prototype.m_type);box2d.b2Body.prototype.m_mass=1;goog.exportProperty(box2d.b2Body.prototype,"m_mass",box2d.b2Body.prototype.m_mass);box2d.b2Body.prototype.m_invMass=1;goog.exportProperty(box2d.b2Body.prototype,"m_invMass",box2d.b2Body.prototype.m_invMass);box2d.b2Body.prototype.m_I=0;goog.exportProperty(box2d.b2Body.prototype,"m_I",box2d.b2Body.prototype.m_I);box2d.b2Body.prototype.m_invI=0;goog.exportProperty(box2d.b2Body.prototype,"m_invI",box2d.b2Body.prototype.m_invI);box2d.b2Body.prototype.m_userData=null;goog.exportProperty(box2d.b2Body.prototype,"m_userData",box2d.b2Body.prototype.m_userData);box2d.b2Body.prototype.m_fixtureList=null;goog.exportProperty(box2d.b2Body.prototype,"m_fixtureList",box2d.b2Body.prototype.m_fixtureList);box2d.b2Body.prototype.m_fixtureCount=0;goog.exportProperty(box2d.b2Body.prototype,"m_fixtureCount",box2d.b2Body.prototype.m_fixtureCount);box2d.b2Body.prototype.m_controllerList=null;goog.exportProperty(box2d.b2Body.prototype,"m_controllerList",box2d.b2Body.prototype.m_controllerList);box2d.b2Body.prototype.m_controllerCount=0;goog.exportProperty(box2d.b2Body.prototype,"m_controllerCount",box2d.b2Body.prototype.m_controllerCount);box2d.b2Body.prototype.CreateFixture=function(V,x){if(V instanceof box2d.b2FixtureDef)return this.CreateFixture_Def(V);if(V instanceof box2d.b2Shape&&typeof x=="number")return this.CreateFixture_Shape_Density(V,x);throw Error()};goog.exportProperty(box2d.b2Body.prototype,"CreateFixture",box2d.b2Body.prototype.CreateFixture);box2d.b2Body.prototype.CreateFixture_Def=function(V){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),this.m_world.IsLocked())return null;var x=new box2d.b2Fixture;return x.Create(this,V),this.m_flag_activeFlag&&x.CreateProxies(this.m_world.m_contactManager.m_broadPhase,this.m_xf),x.m_next=this.m_fixtureList,this.m_fixtureList=x,++this.m_fixtureCount,x.m_body=this,0<x.m_density&&this.ResetMassData(),this.m_world.m_flag_newFixture=!0,x};goog.exportProperty(box2d.b2Body.prototype,"CreateFixture_Def",box2d.b2Body.prototype.CreateFixture_Def);box2d.b2Body.prototype.CreateFixture_Shape_Density=function(V,x){var o=box2d.b2Body.prototype.CreateFixture_Shape_Density.s_def;return o.shape=V,o.density=typeof x=="number"?x:0,this.CreateFixture_Def(o)};goog.exportProperty(box2d.b2Body.prototype,"CreateFixture_Shape_Density",box2d.b2Body.prototype.CreateFixture_Shape_Density);box2d.b2Body.prototype.CreateFixture_Shape_Density.s_def=new box2d.b2FixtureDef;box2d.b2Body.prototype.DestroyFixture=function(V){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),!this.m_world.IsLocked()){box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.m_body===this),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_fixtureCount);for(var x=this.m_fixtureList,o=null,_o=!1;x!==null;){if(x===V){o?o.m_next=V.m_next:this.m_fixtureList=V.m_next,_o=!0;break}o=x,x=x.m_next}for(box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o),x=this.m_contactList;x;){var o=x.contact,x=x.next,_o=o.GetFixtureA(),_i=o.GetFixtureB();V!==_o&&V!==_i||this.m_world.m_contactManager.Destroy(o)}this.m_flag_activeFlag&&V.DestroyProxies(this.m_world.m_contactManager.m_broadPhase),V.Destroy(),V.m_body=null,V.m_next=null,--this.m_fixtureCount,this.ResetMassData()}};goog.exportProperty(box2d.b2Body.prototype,"DestroyFixture",box2d.b2Body.prototype.DestroyFixture);box2d.b2Body.prototype.SetTransform=function(V,x,o){if(V instanceof box2d.b2Vec2&&typeof x=="number")this.SetTransform_X_Y_A(V.x,V.y,x);else if(V instanceof box2d.b2Transform)this.SetTransform_X_Y_A(V.p.x,V.p.y,V.GetAngle());else if(typeof V=="number"&&typeof x=="number"&&typeof o=="number")this.SetTransform_X_Y_A(V,x,o);else throw Error()};goog.exportProperty(box2d.b2Body.prototype,"SetTransform",box2d.b2Body.prototype.SetTransform);box2d.b2Body.prototype.SetTransform_V2_A=function(V,x){this.SetTransform_X_Y_A(V.x,V.y,x)};goog.exportProperty(box2d.b2Body.prototype,"SetTransform_V2_A",box2d.b2Body.prototype.SetTransform_V2_A);box2d.b2Body.prototype.SetTransform_X_Y_A=function(V,x,o){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),!this.m_world.IsLocked()&&(this.m_xf.p.x!==V||this.m_xf.p.y!==x||this.m_xf.q.GetAngle()!==o))for(this.m_xf.q.SetAngle(o),this.m_xf.p.Set(V,x),this.m_xf0.Copy(this.m_xf),box2d.b2Mul_X_V2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=o,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=o,V=this.m_world.m_contactManager.m_broadPhase,x=this.m_fixtureList;x;x=x.m_next)x.Synchronize(V,this.m_xf,this.m_xf)};goog.exportProperty(box2d.b2Body.prototype,"SetTransform_X_Y_A",box2d.b2Body.prototype.SetTransform_X_Y_A);box2d.b2Body.prototype.SetTransform_X=function(V){this.SetTransform_X_Y_A(V.p.x,V.p.y,V.GetAngle())};goog.exportProperty(box2d.b2Body.prototype,"SetTransform_X",box2d.b2Body.prototype.SetTransform_X);box2d.b2Body.prototype.GetTransform=function(V){return V=V||this.m_out_xf,V.Copy(this.m_xf)};goog.exportProperty(box2d.b2Body.prototype,"GetTransform",box2d.b2Body.prototype.GetTransform);box2d.b2Body.prototype.GetPosition=function(V){return V=V||this.m_out_xf.p,V.Copy(this.m_xf.p)};goog.exportProperty(box2d.b2Body.prototype,"GetPosition",box2d.b2Body.prototype.GetPosition);box2d.b2Body.prototype.SetPosition=function(V){this.SetTransform_V2_A(V,this.GetAngle())};goog.exportProperty(box2d.b2Body.prototype,"SetPosition",box2d.b2Body.prototype.SetPosition);box2d.b2Body.prototype.SetPositionXY=function(V,x){this.SetTransform_X_Y_A(V,x,this.GetAngle())};goog.exportProperty(box2d.b2Body.prototype,"SetPositionXY",box2d.b2Body.prototype.SetPositionXY);box2d.b2Body.prototype.GetRotation=function(V){return V=V||this.m_out_xf.q,V.Copy(this.m_xf.q)};goog.exportProperty(box2d.b2Body.prototype,"GetRotation",box2d.b2Body.prototype.GetRotation);box2d.b2Body.prototype.SetRotation=function(V){this.SetTransform_V2_A(this.GetPosition(),V.GetAngle())};goog.exportProperty(box2d.b2Body.prototype,"SetRotation",box2d.b2Body.prototype.SetRotation);box2d.b2Body.prototype.GetAngle=function(){return this.m_sweep.a};goog.exportProperty(box2d.b2Body.prototype,"GetAngle",box2d.b2Body.prototype.GetAngle);box2d.b2Body.prototype.SetAngle=function(V){this.SetTransform_V2_A(this.GetPosition(),V)};goog.exportProperty(box2d.b2Body.prototype,"SetAngle",box2d.b2Body.prototype.SetAngle);box2d.b2Body.prototype.GetWorldCenter=function(V){return V=V||this.m_out_sweep.c,V.Copy(this.m_sweep.c)};goog.exportProperty(box2d.b2Body.prototype,"GetWorldCenter",box2d.b2Body.prototype.GetWorldCenter);box2d.b2Body.prototype.GetLocalCenter=function(V){return V=V||this.m_out_sweep.localCenter,V.Copy(this.m_sweep.localCenter)};goog.exportProperty(box2d.b2Body.prototype,"GetLocalCenter",box2d.b2Body.prototype.GetLocalCenter);box2d.b2Body.prototype.SetLinearVelocity=function(V){this.m_type!==box2d.b2BodyType.b2_staticBody&&(0<box2d.b2Dot_V2_V2(V,V)&&this.SetAwake(!0),this.m_linearVelocity.Copy(V))};goog.exportProperty(box2d.b2Body.prototype,"SetLinearVelocity",box2d.b2Body.prototype.SetLinearVelocity);box2d.b2Body.prototype.GetLinearVelocity=function(V){return V=V||this.m_out_linearVelocity,V.Copy(this.m_linearVelocity)};goog.exportProperty(box2d.b2Body.prototype,"GetLinearVelocity",box2d.b2Body.prototype.GetLinearVelocity);box2d.b2Body.prototype.SetAngularVelocity=function(V){this.m_type!==box2d.b2BodyType.b2_staticBody&&(0<V*V&&this.SetAwake(!0),this.m_angularVelocity=V)};goog.exportProperty(box2d.b2Body.prototype,"SetAngularVelocity",box2d.b2Body.prototype.SetAngularVelocity);box2d.b2Body.prototype.GetAngularVelocity=function(){return this.m_angularVelocity};goog.exportProperty(box2d.b2Body.prototype,"GetAngularVelocity",box2d.b2Body.prototype.GetAngularVelocity);box2d.b2Body.prototype.GetDefinition=function(V){return V.type=this.GetType(),V.allowSleep=this.m_flag_autoSleepFlag,V.angle=this.GetAngle(),V.angularDamping=this.m_angularDamping,V.gravityScale=this.m_gravityScale,V.angularVelocity=this.m_angularVelocity,V.fixedRotation=this.m_flag_fixedRotationFlag,V.bullet=this.m_flag_bulletFlag,V.awake=this.m_flag_awakeFlag,V.linearDamping=this.m_linearDamping,V.linearVelocity.Copy(this.GetLinearVelocity()),V.position.Copy(this.GetPosition()),V.userData=this.GetUserData(),V};goog.exportProperty(box2d.b2Body.prototype,"GetDefinition",box2d.b2Body.prototype.GetDefinition);box2d.b2Body.prototype.ApplyForce=function(V,x,o){this.m_type===box2d.b2BodyType.b2_dynamicBody&&(!this.m_flag_awakeFlag&&this.SetAwake(!0),this.m_flag_awakeFlag&&(this.m_force.x+=V.x,this.m_force.y+=V.y,this.m_torque+=(x.x-this.m_sweep.c.x)*V.y-(x.y-this.m_sweep.c.y)*V.x))};goog.exportProperty(box2d.b2Body.prototype,"ApplyForce",box2d.b2Body.prototype.ApplyForce);box2d.b2Body.prototype.ApplyForceToCenter=function(V,x){this.m_type===box2d.b2BodyType.b2_dynamicBody&&((typeof x!="boolean"||x)&&!this.m_flag_awakeFlag&&this.SetAwake(!0),this.m_flag_awakeFlag&&(this.m_force.x+=V.x,this.m_force.y+=V.y))};goog.exportProperty(box2d.b2Body.prototype,"ApplyForceToCenter",box2d.b2Body.prototype.ApplyForceToCenter);box2d.b2Body.prototype.ApplyTorque=function(V,x){this.m_type===box2d.b2BodyType.b2_dynamicBody&&((typeof x!="boolean"||x)&&!this.m_flag_awakeFlag&&this.SetAwake(!0),this.m_flag_awakeFlag&&(this.m_torque+=V))};goog.exportProperty(box2d.b2Body.prototype,"ApplyTorque",box2d.b2Body.prototype.ApplyTorque);box2d.b2Body.prototype.ApplyLinearImpulse=function(V,x,o){this.m_type===box2d.b2BodyType.b2_dynamicBody&&((typeof o!="boolean"||o)&&!this.m_flag_awakeFlag&&this.SetAwake(!0),this.m_flag_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*V.x,this.m_linearVelocity.y+=this.m_invMass*V.y,this.m_angularVelocity+=this.m_invI*((x.x-this.m_sweep.c.x)*V.y-(x.y-this.m_sweep.c.y)*V.x)))};goog.exportProperty(box2d.b2Body.prototype,"ApplyLinearImpulse",box2d.b2Body.prototype.ApplyLinearImpulse);box2d.b2Body.prototype.ApplyAngularImpulse=function(V,x){this.m_type===box2d.b2BodyType.b2_dynamicBody&&((typeof x!="boolean"||x)&&!this.m_flag_awakeFlag&&this.SetAwake(!0),this.m_flag_awakeFlag&&(this.m_angularVelocity+=this.m_invI*V))};goog.exportProperty(box2d.b2Body.prototype,"ApplyAngularImpulse",box2d.b2Body.prototype.ApplyAngularImpulse);box2d.b2Body.prototype.GetMass=function(){return this.m_mass};goog.exportProperty(box2d.b2Body.prototype,"GetMass",box2d.b2Body.prototype.GetMass);box2d.b2Body.prototype.GetInertia=function(){return this.m_I+this.m_mass*box2d.b2Dot_V2_V2(this.m_sweep.localCenter,this.m_sweep.localCenter)};goog.exportProperty(box2d.b2Body.prototype,"GetInertia",box2d.b2Body.prototype.GetInertia);box2d.b2Body.prototype.GetMassData=function(V){return V.mass=this.m_mass,V.I=this.m_I+this.m_mass*box2d.b2Dot_V2_V2(this.m_sweep.localCenter,this.m_sweep.localCenter),V.center.Copy(this.m_sweep.localCenter),V};goog.exportProperty(box2d.b2Body.prototype,"GetMassData",box2d.b2Body.prototype.GetMassData);box2d.b2Body.prototype.SetMassData=function(V){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),!this.m_world.IsLocked()&&this.m_type===box2d.b2BodyType.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0,this.m_mass=V.mass,0>=this.m_mass&&(this.m_mass=1),this.m_invMass=1/this.m_mass,0<V.I&&!this.m_flag_fixedRotationFlag&&(this.m_I=V.I-this.m_mass*box2d.b2Dot_V2_V2(V.center,V.center),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_I),this.m_invI=1/this.m_I);var x=box2d.b2Body.prototype.SetMassData.s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(V.center),box2d.b2Mul_X_V2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),box2d.b2AddCross_V2_S_V2(this.m_linearVelocity,this.m_angularVelocity,box2d.b2Sub_V2_V2(this.m_sweep.c,x,box2d.b2Vec2.s_t0),this.m_linearVelocity)}};goog.exportProperty(box2d.b2Body.prototype,"SetMassData",box2d.b2Body.prototype.SetMassData);box2d.b2Body.prototype.SetMassData.s_oldCenter=new box2d.b2Vec2;box2d.b2Body.prototype.ResetMassData=function(){if(this.m_invI=this.m_I=this.m_invMass=this.m_mass=0,this.m_sweep.localCenter.SetZero(),this.m_type===box2d.b2BodyType.b2_staticBody||this.m_type===box2d.b2BodyType.b2_kinematicBody)this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;else{box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_type===box2d.b2BodyType.b2_dynamicBody);for(var V=box2d.b2Body.prototype.ResetMassData.s_localCenter.SetZero(),x=this.m_fixtureList;x;x=x.m_next)if(x.m_density!==0){var o=x.GetMassData(box2d.b2Body.prototype.ResetMassData.s_massData);this.m_mass+=o.mass,V.x+=o.center.x*o.mass,V.y+=o.center.y*o.mass,this.m_I+=o.I}0<this.m_mass?(this.m_invMass=1/this.m_mass,V.x*=this.m_invMass,V.y*=this.m_invMass):this.m_invMass=this.m_mass=1,0<this.m_I&&!this.m_flag_fixedRotationFlag?(this.m_I-=this.m_mass*box2d.b2Dot_V2_V2(V,V),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0,x=box2d.b2Body.prototype.ResetMassData.s_oldCenter.Copy(this.m_sweep.c),this.m_sweep.localCenter.Copy(V),box2d.b2Mul_X_V2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),box2d.b2AddCross_V2_S_V2(this.m_linearVelocity,this.m_angularVelocity,box2d.b2Sub_V2_V2(this.m_sweep.c,x,box2d.b2Vec2.s_t0),this.m_linearVelocity)}};goog.exportProperty(box2d.b2Body.prototype,"ResetMassData",box2d.b2Body.prototype.ResetMassData);box2d.b2Body.prototype.ResetMassData.s_localCenter=new box2d.b2Vec2;box2d.b2Body.prototype.ResetMassData.s_oldCenter=new box2d.b2Vec2;box2d.b2Body.prototype.ResetMassData.s_massData=new box2d.b2MassData;box2d.b2Body.prototype.GetWorldPoint=function(V,x){return box2d.b2Mul_X_V2(this.m_xf,V,x)};goog.exportProperty(box2d.b2Body.prototype,"GetWorldPoint",box2d.b2Body.prototype.GetWorldPoint);box2d.b2Body.prototype.GetWorldVector=function(V,x){return box2d.b2Mul_R_V2(this.m_xf.q,V,x)};goog.exportProperty(box2d.b2Body.prototype,"GetWorldVector",box2d.b2Body.prototype.GetWorldVector);box2d.b2Body.prototype.GetLocalPoint=function(V,x){return box2d.b2MulT_X_V2(this.m_xf,V,x)};goog.exportProperty(box2d.b2Body.prototype,"GetLocalPoint",box2d.b2Body.prototype.GetLocalPoint);box2d.b2Body.prototype.GetLocalVector=function(V,x){return box2d.b2MulT_R_V2(this.m_xf.q,V,x)};goog.exportProperty(box2d.b2Body.prototype,"GetLocalVector",box2d.b2Body.prototype.GetLocalVector);box2d.b2Body.prototype.GetLinearVelocityFromWorldPoint=function(V,x){return box2d.b2AddCross_V2_S_V2(this.m_linearVelocity,this.m_angularVelocity,box2d.b2Sub_V2_V2(V,this.m_sweep.c,box2d.b2Vec2.s_t0),x)};goog.exportProperty(box2d.b2Body.prototype,"GetLinearVelocityFromWorldPoint",box2d.b2Body.prototype.GetLinearVelocityFromWorldPoint);box2d.b2Body.prototype.GetLinearVelocityFromLocalPoint=function(V,x){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(V,x),x)};goog.exportProperty(box2d.b2Body.prototype,"GetLinearVelocityFromLocalPoint",box2d.b2Body.prototype.GetLinearVelocityFromLocalPoint);box2d.b2Body.prototype.GetLinearDamping=function(){return this.m_linearDamping};goog.exportProperty(box2d.b2Body.prototype,"GetLinearDamping",box2d.b2Body.prototype.GetLinearDamping);box2d.b2Body.prototype.SetLinearDamping=function(V){this.m_linearDamping=V};goog.exportProperty(box2d.b2Body.prototype,"SetLinearDamping",box2d.b2Body.prototype.SetLinearDamping);box2d.b2Body.prototype.GetAngularDamping=function(){return this.m_angularDamping};goog.exportProperty(box2d.b2Body.prototype,"GetAngularDamping",box2d.b2Body.prototype.GetAngularDamping);box2d.b2Body.prototype.SetAngularDamping=function(V){this.m_angularDamping=V};goog.exportProperty(box2d.b2Body.prototype,"SetAngularDamping",box2d.b2Body.prototype.SetAngularDamping);box2d.b2Body.prototype.GetGravityScale=function(){return this.m_gravityScale};goog.exportProperty(box2d.b2Body.prototype,"GetGravityScale",box2d.b2Body.prototype.GetGravityScale);box2d.b2Body.prototype.SetGravityScale=function(V){this.m_gravityScale=V};goog.exportProperty(box2d.b2Body.prototype,"SetGravityScale",box2d.b2Body.prototype.SetGravityScale);box2d.b2Body.prototype.SetType=function(V){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),!this.m_world.IsLocked()&&this.m_type!==V){for(this.m_type=V,this.ResetMassData(),this.m_type===box2d.b2BodyType.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0,V=this.m_contactList;V;){var x=V;V=V.next,this.m_world.m_contactManager.Destroy(x.contact)}for(this.m_contactList=null,V=this.m_world.m_contactManager.m_broadPhase,x=this.m_fixtureList;x;x=x.m_next)for(var o=x.m_proxyCount,_o=0;_o<o;++_o)V.TouchProxy(x.m_proxies[_o].proxy)}};goog.exportProperty(box2d.b2Body.prototype,"SetType",box2d.b2Body.prototype.SetType);box2d.b2Body.prototype.GetType=function(){return this.m_type};goog.exportProperty(box2d.b2Body.prototype,"GetType",box2d.b2Body.prototype.GetType);box2d.b2Body.prototype.SetBullet=function(V){this.m_flag_bulletFlag=V};goog.exportProperty(box2d.b2Body.prototype,"SetBullet",box2d.b2Body.prototype.SetBullet);box2d.b2Body.prototype.IsBullet=function(){return this.m_flag_bulletFlag};goog.exportProperty(box2d.b2Body.prototype,"IsBullet",box2d.b2Body.prototype.IsBullet);box2d.b2Body.prototype.SetSleepingAllowed=function(V){V?this.m_flag_autoSleepFlag=!0:(this.m_flag_autoSleepFlag=!1,this.SetAwake(!0))};goog.exportProperty(box2d.b2Body.prototype,"SetSleepingAllowed",box2d.b2Body.prototype.SetSleepingAllowed);box2d.b2Body.prototype.IsSleepingAllowed=function(){return this.m_flag_autoSleepFlag};goog.exportProperty(box2d.b2Body.prototype,"IsSleepingAllowed",box2d.b2Body.prototype.IsSleepingAllowed);box2d.b2Body.prototype.SetAwake=function(V){V?this.m_flag_awakeFlag||(this.m_flag_awakeFlag=!0,this.m_sleepTime=0):(this.m_flag_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)};goog.exportProperty(box2d.b2Body.prototype,"SetAwake",box2d.b2Body.prototype.SetAwake);box2d.b2Body.prototype.IsAwake=function(){return this.m_flag_awakeFlag};goog.exportProperty(box2d.b2Body.prototype,"IsAwake",box2d.b2Body.prototype.IsAwake);box2d.b2Body.prototype.SetActive=function(V){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.m_world.IsLocked()),V!==this.IsActive())if(V){this.m_flag_activeFlag=!0,V=this.m_world.m_contactManager.m_broadPhase;for(var x=this.m_fixtureList;x;x=x.m_next)x.CreateProxies(V,this.m_xf)}else{for(this.m_flag_activeFlag=!1,V=this.m_world.m_contactManager.m_broadPhase,x=this.m_fixtureList;x;x=x.m_next)x.DestroyProxies(V);for(V=this.m_contactList;V;)x=V,V=V.next,this.m_world.m_contactManager.Destroy(x.contact);this.m_contactList=null}};goog.exportProperty(box2d.b2Body.prototype,"SetActive",box2d.b2Body.prototype.SetActive);box2d.b2Body.prototype.IsActive=function(){return this.m_flag_activeFlag};goog.exportProperty(box2d.b2Body.prototype,"IsActive",box2d.b2Body.prototype.IsActive);box2d.b2Body.prototype.SetFixedRotation=function(V){this.m_flag_fixedRotationFlag!==V&&(this.m_flag_fixedRotationFlag=V,this.m_angularVelocity=0,this.ResetMassData())};goog.exportProperty(box2d.b2Body.prototype,"SetFixedRotation",box2d.b2Body.prototype.SetFixedRotation);box2d.b2Body.prototype.IsFixedRotation=function(){return this.m_flag_fixedRotationFlag};goog.exportProperty(box2d.b2Body.prototype,"IsFixedRotation",box2d.b2Body.prototype.IsFixedRotation);box2d.b2Body.prototype.GetFixtureList=function(){return this.m_fixtureList};goog.exportProperty(box2d.b2Body.prototype,"GetFixtureList",box2d.b2Body.prototype.GetFixtureList);box2d.b2Body.prototype.GetJointList=function(){return this.m_jointList};goog.exportProperty(box2d.b2Body.prototype,"GetJointList",box2d.b2Body.prototype.GetJointList);box2d.b2Body.prototype.GetContactList=function(){return this.m_contactList};goog.exportProperty(box2d.b2Body.prototype,"GetContactList",box2d.b2Body.prototype.GetContactList);box2d.b2Body.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2Body.prototype,"GetNext",box2d.b2Body.prototype.GetNext);box2d.b2Body.prototype.GetUserData=function(){return this.m_userData};goog.exportProperty(box2d.b2Body.prototype,"GetUserData",box2d.b2Body.prototype.GetUserData);box2d.b2Body.prototype.SetUserData=function(V){this.m_userData=V};goog.exportProperty(box2d.b2Body.prototype,"SetUserData",box2d.b2Body.prototype.SetUserData);box2d.b2Body.prototype.GetWorld=function(){return this.m_world};goog.exportProperty(box2d.b2Body.prototype,"GetWorld",box2d.b2Body.prototype.GetWorld);box2d.b2Body.prototype.SynchronizeFixtures=function(){var V=box2d.b2Body.prototype.SynchronizeFixtures.s_xf1;V.q.SetAngle(this.m_sweep.a0),box2d.b2Mul_R_V2(V.q,this.m_sweep.localCenter,V.p),box2d.b2Sub_V2_V2(this.m_sweep.c0,V.p,V.p);for(var x=this.m_world.m_contactManager.m_broadPhase,o=this.m_fixtureList;o;o=o.m_next)o.Synchronize(x,V,this.m_xf)};goog.exportProperty(box2d.b2Body.prototype,"SynchronizeFixtures",box2d.b2Body.prototype.SynchronizeFixtures);box2d.b2Body.prototype.SynchronizeFixtures.s_xf1=new box2d.b2Transform;box2d.b2Body.prototype.SynchronizeTransform=function(){this.m_xf.q.SetAngle(this.m_sweep.a),box2d.b2Mul_R_V2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),box2d.b2Sub_V2_V2(this.m_sweep.c,this.m_xf.p,this.m_xf.p)};goog.exportProperty(box2d.b2Body.prototype,"SynchronizeTransform",box2d.b2Body.prototype.SynchronizeTransform);box2d.b2Body.prototype.ShouldCollide=function(V){if(this.m_type!==box2d.b2BodyType.b2_dynamicBody&&V.m_type!==box2d.b2BodyType.b2_dynamicBody)return!1;for(var x=this.m_jointList;x;x=x.next)if(x.other===V&&!x.joint.m_collideConnected)return!1;return!0};goog.exportProperty(box2d.b2Body.prototype,"ShouldCollide",box2d.b2Body.prototype.ShouldCollide);box2d.b2Body.prototype.Advance=function(V){this.m_sweep.Advance(V),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.SetAngle(this.m_sweep.a),box2d.b2Mul_R_V2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),box2d.b2Sub_V2_V2(this.m_sweep.c,this.m_xf.p,this.m_xf.p)};goog.exportProperty(box2d.b2Body.prototype,"Advance",box2d.b2Body.prototype.Advance);box2d.b2Body.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_islandIndex;box2d.b2Log(`{
`),box2d.b2Log(`  /*box2d.b2BodyDef*/ var bd = new box2d.b2BodyDef();
`);var x="";switch(this.m_type){case box2d.b2BodyType.b2_staticBody:x="box2d.b2BodyType.b2_staticBody";break;case box2d.b2BodyType.b2_kinematicBody:x="box2d.b2BodyType.b2_kinematicBody";break;case box2d.b2BodyType.b2_dynamicBody:x="box2d.b2BodyType.b2_dynamicBody";break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}for(box2d.b2Log(`  bd.type = %s;
`,x),box2d.b2Log(`  bd.position.Set(%.15f, %.15f);
`,this.m_xf.p.x,this.m_xf.p.y),box2d.b2Log(`  bd.angle = %.15f;
`,this.m_sweep.a),box2d.b2Log(`  bd.linearVelocity.Set(%.15f, %.15f);
`,this.m_linearVelocity.x,this.m_linearVelocity.y),box2d.b2Log(`  bd.angularVelocity = %.15f;
`,this.m_angularVelocity),box2d.b2Log(`  bd.linearDamping = %.15f;
`,this.m_linearDamping),box2d.b2Log(`  bd.angularDamping = %.15f;
`,this.m_angularDamping),box2d.b2Log(`  bd.allowSleep = %s;
`,this.m_flag_autoSleepFlag?"true":"false"),box2d.b2Log(`  bd.awake = %s;
`,this.m_flag_awakeFlag?"true":"false"),box2d.b2Log(`  bd.fixedRotation = %s;
`,this.m_flag_fixedRotationFlag?"true":"false"),box2d.b2Log(`  bd.bullet = %s;
`,this.m_flag_bulletFlag?"true":"false"),box2d.b2Log(`  bd.active = %s;
`,this.m_flag_activeFlag?"true":"false"),box2d.b2Log(`  bd.gravityScale = %.15f;
`,this.m_gravityScale),box2d.b2Log(`
`),box2d.b2Log(`  bodies[%d] = this.m_world.CreateBody(bd);
`,this.m_islandIndex),box2d.b2Log(`
`),x=this.m_fixtureList;x;x=x.m_next)box2d.b2Log(`  {
`),x.Dump(V),box2d.b2Log(`  }
`);box2d.b2Log(`}
`)}};goog.exportProperty(box2d.b2Body.prototype,"Dump",box2d.b2Body.prototype.Dump);box2d.b2Body.prototype.GetControllerList=function(){return this.m_controllerList};goog.exportProperty(box2d.b2Body.prototype,"GetControllerList",box2d.b2Body.prototype.GetControllerList);box2d.b2Body.prototype.GetControllerCount=function(){return this.m_controllerCount};goog.exportProperty(box2d.b2Body.prototype,"GetControllerCount",box2d.b2Body.prototype.GetControllerCount);box2d.b2Profile=function(){};goog.exportSymbol("box2d.b2Profile",box2d.b2Profile);box2d.b2Profile.prototype.step=0;goog.exportProperty(box2d.b2Profile.prototype,"step",box2d.b2Profile.prototype.step);box2d.b2Profile.prototype.collide=0;goog.exportProperty(box2d.b2Profile.prototype,"collide",box2d.b2Profile.prototype.collide);box2d.b2Profile.prototype.solve=0;goog.exportProperty(box2d.b2Profile.prototype,"solve",box2d.b2Profile.prototype.solve);box2d.b2Profile.prototype.solveInit=0;goog.exportProperty(box2d.b2Profile.prototype,"solveInit",box2d.b2Profile.prototype.solveInit);box2d.b2Profile.prototype.solveVelocity=0;goog.exportProperty(box2d.b2Profile.prototype,"solveVelocity",box2d.b2Profile.prototype.solveVelocity);box2d.b2Profile.prototype.solvePosition=0;goog.exportProperty(box2d.b2Profile.prototype,"solvePosition",box2d.b2Profile.prototype.solvePosition);box2d.b2Profile.prototype.broadphase=0;goog.exportProperty(box2d.b2Profile.prototype,"broadphase",box2d.b2Profile.prototype.broadphase);box2d.b2Profile.prototype.solveTOI=0;goog.exportProperty(box2d.b2Profile.prototype,"solveTOI",box2d.b2Profile.prototype.solveTOI);box2d.b2Profile.prototype.Reset=function(){return this.solveTOI=this.broadphase=this.solvePosition=this.solveVelocity=this.solveInit=this.solve=this.collide=this.step=0,this};goog.exportProperty(box2d.b2Profile.prototype,"Reset",box2d.b2Profile.prototype.Reset);box2d.b2TimeStep=function(){};goog.exportSymbol("box2d.b2TimeStep",box2d.b2TimeStep);box2d.b2TimeStep.prototype.dt=0;goog.exportProperty(box2d.b2TimeStep.prototype,"dt",box2d.b2TimeStep.prototype.dt);box2d.b2TimeStep.prototype.inv_dt=0;goog.exportProperty(box2d.b2TimeStep.prototype,"inv_dt",box2d.b2TimeStep.prototype.inv_dt);box2d.b2TimeStep.prototype.dtRatio=0;goog.exportProperty(box2d.b2TimeStep.prototype,"dtRatio",box2d.b2TimeStep.prototype.dtRatio);box2d.b2TimeStep.prototype.velocityIterations=0;goog.exportProperty(box2d.b2TimeStep.prototype,"velocityIterations",box2d.b2TimeStep.prototype.velocityIterations);box2d.b2TimeStep.prototype.positionIterations=0;goog.exportProperty(box2d.b2TimeStep.prototype,"positionIterations",box2d.b2TimeStep.prototype.positionIterations);box2d.b2TimeStep.prototype.particleIterations=0;goog.exportProperty(box2d.b2TimeStep.prototype,"particleIterations",box2d.b2TimeStep.prototype.particleIterations);box2d.b2TimeStep.prototype.warmStarting=!1;goog.exportProperty(box2d.b2TimeStep.prototype,"warmStarting",box2d.b2TimeStep.prototype.warmStarting);box2d.b2TimeStep.prototype.Copy=function(V){return this.dt=V.dt,this.inv_dt=V.inv_dt,this.dtRatio=V.dtRatio,this.positionIterations=V.positionIterations,this.velocityIterations=V.velocityIterations,this.particleIterations=V.particleIterations,this.warmStarting=V.warmStarting,this};goog.exportProperty(box2d.b2TimeStep.prototype,"Copy",box2d.b2TimeStep.prototype.Copy);box2d.b2Position=function(){this.c=new box2d.b2Vec2};goog.exportSymbol("box2d.b2Position",box2d.b2Position);box2d.b2Position.prototype.c=null;goog.exportProperty(box2d.b2Position.prototype,"c",box2d.b2Position.prototype.c);box2d.b2Position.prototype.a=0;goog.exportProperty(box2d.b2Position.prototype,"a",box2d.b2Position.prototype.a);box2d.b2Position.MakeArray=function(V){return box2d.b2MakeArray(V,function(x){return new box2d.b2Position})};goog.exportProperty(box2d.b2Position,"MakeArray",box2d.b2Position.MakeArray);box2d.b2Velocity=function(){this.v=new box2d.b2Vec2};goog.exportSymbol("box2d.b2Velocity",box2d.b2Velocity);box2d.b2Velocity.prototype.v=null;goog.exportProperty(box2d.b2Velocity.prototype,"v",box2d.b2Velocity.prototype.v);box2d.b2Velocity.prototype.w=0;goog.exportProperty(box2d.b2Velocity.prototype,"w",box2d.b2Velocity.prototype.w);box2d.b2Velocity.MakeArray=function(V){return box2d.b2MakeArray(V,function(x){return new box2d.b2Velocity})};goog.exportProperty(box2d.b2Velocity,"MakeArray",box2d.b2Velocity.MakeArray);box2d.b2SolverData=function(){this.step=new box2d.b2TimeStep};goog.exportSymbol("box2d.b2SolverData",box2d.b2SolverData);box2d.b2SolverData.prototype.step=null;goog.exportProperty(box2d.b2SolverData.prototype,"step",box2d.b2SolverData.prototype.step);box2d.b2SolverData.prototype.positions=null;goog.exportProperty(box2d.b2SolverData.prototype,"positions",box2d.b2SolverData.prototype.positions);box2d.b2SolverData.prototype.velocities=null;goog.exportProperty(box2d.b2SolverData.prototype,"velocities",box2d.b2SolverData.prototype.velocities);box2d.b2WorldCallbacks={};box2d.b2DestructionListener=function(){};goog.exportSymbol("box2d.b2DestructionListener",box2d.b2DestructionListener);box2d.b2DestructionListener.prototype.SayGoodbyeJoint=function(V){};goog.exportProperty(box2d.b2DestructionListener.prototype,"SayGoodbyeJoint",box2d.b2DestructionListener.prototype.SayGoodbyeJoint);box2d.b2DestructionListener.prototype.SayGoodbyeFixture=function(V){};goog.exportProperty(box2d.b2DestructionListener.prototype,"SayGoodbyeFixture",box2d.b2DestructionListener.prototype.SayGoodbyeFixture);box2d.b2DestructionListener.prototype.SayGoodbyeParticleGroup=function(V){};box2d.b2DestructionListener.prototype.SayGoodbyeParticle=function(V,x){};box2d.b2ContactFilter=function(){};goog.exportSymbol("box2d.b2ContactFilter",box2d.b2ContactFilter);box2d.b2ContactFilter.prototype.ShouldCollide=function(V,x){var o=V.GetFilterData(),_o=x.GetFilterData();return o.groupIndex===_o.groupIndex&&o.groupIndex!==0?0<o.groupIndex:(o.maskBits&_o.categoryBits)!==0&&(o.categoryBits&_o.maskBits)!==0};goog.exportProperty(box2d.b2ContactFilter.prototype,"ShouldCollide",box2d.b2ContactFilter.prototype.ShouldCollide);box2d.b2ContactFilter.prototype.ShouldCollideFixtureParticle=function(V,x,o){return!0};goog.exportProperty(box2d.b2ContactFilter.prototype,"ShouldCollideFixtureParticle",box2d.b2ContactFilter.prototype.ShouldCollideFixtureParticle);box2d.b2ContactFilter.prototype.ShouldCollideParticleParticle=function(V,x,o){return!0};goog.exportProperty(box2d.b2ContactFilter.prototype,"ShouldCollideParticleParticle",box2d.b2ContactFilter.prototype.ShouldCollideParticleParticle);box2d.b2ContactFilter.b2_defaultFilter=new box2d.b2ContactFilter;box2d.b2ContactImpulse=function(){this.normalImpulses=box2d.b2MakeNumberArray(box2d.b2_maxManifoldPoints),this.tangentImpulses=box2d.b2MakeNumberArray(box2d.b2_maxManifoldPoints)};goog.exportSymbol("box2d.b2ContactImpulse",box2d.b2ContactImpulse);box2d.b2ContactImpulse.prototype.normalImpulses=null;goog.exportProperty(box2d.b2ContactImpulse.prototype,"normalImpulses",box2d.b2ContactImpulse.prototype.normalImpulses);box2d.b2ContactImpulse.prototype.tangentImpulses=null;goog.exportProperty(box2d.b2ContactImpulse.prototype,"tangentImpulses",box2d.b2ContactImpulse.prototype.tangentImpulses);box2d.b2ContactImpulse.prototype.count=0;goog.exportProperty(box2d.b2ContactImpulse.prototype,"count",box2d.b2ContactImpulse.prototype.count);box2d.b2ContactListener=function(){};goog.exportSymbol("box2d.b2ContactListener",box2d.b2ContactListener);box2d.b2ContactListener.prototype.BeginContact=function(V){};goog.exportProperty(box2d.b2ContactListener.prototype,"BeginContact",box2d.b2ContactListener.prototype.BeginContact);box2d.b2ContactListener.prototype.EndContact=function(V){};goog.exportProperty(box2d.b2ContactListener.prototype,"EndContact",box2d.b2ContactListener.prototype.EndContact);box2d.b2ContactListener.prototype.BeginContactFixtureParticle=function(V,x){};goog.exportProperty(box2d.b2ContactListener.prototype,"BeginContactFixtureParticle",box2d.b2ContactListener.prototype.BeginContactFixtureParticle);box2d.b2ContactListener.prototype.EndContactFixtureParticle=function(V,x,o){};goog.exportProperty(box2d.b2ContactListener.prototype,"EndContactFixtureParticle",box2d.b2ContactListener.prototype.EndContactFixtureParticle);box2d.b2ContactListener.prototype.BeginContactParticleParticle=function(V,x){};goog.exportProperty(box2d.b2ContactListener.prototype,"BeginContactParticleParticle",box2d.b2ContactListener.prototype.BeginContactParticleParticle);box2d.b2ContactListener.prototype.EndContactParticleParticle=function(V,x,o){};goog.exportProperty(box2d.b2ContactListener.prototype,"EndContactParticleParticle",box2d.b2ContactListener.prototype.EndContactParticleParticle);box2d.b2ContactListener.prototype.PreSolve=function(V,x){};goog.exportProperty(box2d.b2ContactListener.prototype,"PreSolve",box2d.b2ContactListener.prototype.PreSolve);box2d.b2ContactListener.prototype.PostSolve=function(V,x){};goog.exportProperty(box2d.b2ContactListener.prototype,"PostSolve",box2d.b2ContactListener.prototype.PostSolve);box2d.b2ContactListener.b2_defaultListener=new box2d.b2ContactListener;goog.exportProperty(box2d.b2ContactListener,"b2_defaultListener",box2d.b2ContactListener.b2_defaultListener);box2d.b2QueryCallback=function(){};goog.exportSymbol("box2d.b2QueryCallback",box2d.b2QueryCallback);box2d.b2QueryCallback.prototype.ReportFixture=function(V){return!0};goog.exportProperty(box2d.b2QueryCallback.prototype,"ReportFixture",box2d.b2QueryCallback.prototype.ReportFixture);box2d.b2QueryCallback.prototype.ReportParticle=function(V,x){return!1};goog.exportProperty(box2d.b2QueryCallback.prototype,"ReportParticle",box2d.b2QueryCallback.prototype.ReportParticle);box2d.b2QueryCallback.prototype.ShouldQueryParticleSystem=function(V){return!0};goog.exportProperty(box2d.b2QueryCallback.prototype,"ShouldQueryParticleSystem",box2d.b2QueryCallback.prototype.ShouldQueryParticleSystem);box2d.b2RayCastCallback=function(){};goog.exportSymbol("box2d.b2RayCastCallback",box2d.b2RayCastCallback);box2d.b2RayCastCallback.prototype.ReportFixture=function(V,x,o,_o){return _o};goog.exportProperty(box2d.b2RayCastCallback.prototype,"ReportFixture",box2d.b2RayCastCallback.prototype.ReportFixture);box2d.b2RayCastCallback.prototype.ReportParticle=function(V,x,o,_o,_i){return 0};goog.exportProperty(box2d.b2RayCastCallback.prototype,"ReportParticle",box2d.b2RayCastCallback.prototype.ReportParticle);box2d.b2RayCastCallback.prototype.ShouldQueryParticleSystem=function(V){return!0};goog.exportProperty(box2d.b2RayCastCallback.prototype,"ShouldQueryParticleSystem",box2d.b2RayCastCallback.prototype.ShouldQueryParticleSystem);box2d.b2BuoyancyController=function(){box2d.b2Controller.call(this),this.normal=new box2d.b2Vec2(0,1),this.velocity=new box2d.b2Vec2(0,0),this.gravity=new box2d.b2Vec2(0,0)};goog.inherits(box2d.b2BuoyancyController,box2d.b2Controller);goog.exportSymbol("box2d.b2BuoyancyController",box2d.b2BuoyancyController);box2d.b2BuoyancyController.prototype.normal=null;goog.exportProperty(box2d.b2BuoyancyController.prototype,"normal",box2d.b2BuoyancyController.prototype.normal);box2d.b2BuoyancyController.prototype.offset=0;goog.exportProperty(box2d.b2BuoyancyController.prototype,"offset",box2d.b2BuoyancyController.prototype.offset);box2d.b2BuoyancyController.prototype.density=0;goog.exportProperty(box2d.b2BuoyancyController.prototype,"density",box2d.b2BuoyancyController.prototype.density);box2d.b2BuoyancyController.prototype.velocity=null;goog.exportProperty(box2d.b2BuoyancyController.prototype,"velocity",box2d.b2BuoyancyController.prototype.velocity);box2d.b2BuoyancyController.prototype.linearDrag=0;goog.exportProperty(box2d.b2BuoyancyController.prototype,"linearDrag",box2d.b2BuoyancyController.prototype.linearDrag);box2d.b2BuoyancyController.prototype.angularDrag=0;goog.exportProperty(box2d.b2BuoyancyController.prototype,"angularDrag",box2d.b2BuoyancyController.prototype.angularDrag);box2d.b2BuoyancyController.prototype.useDensity=!1;goog.exportProperty(box2d.b2BuoyancyController.prototype,"useDensity",box2d.b2BuoyancyController.prototype.useDensity);box2d.b2BuoyancyController.prototype.useWorldGravity=!0;goog.exportProperty(box2d.b2BuoyancyController.prototype,"useWorldGravity",box2d.b2BuoyancyController.prototype.useWorldGravity);box2d.b2BuoyancyController.prototype.gravity=null;goog.exportProperty(box2d.b2BuoyancyController.prototype,"gravity",box2d.b2BuoyancyController.prototype.gravity);box2d.b2BuoyancyController.prototype.Step=function(V){if(this.m_bodyList)for(this.useWorldGravity&&this.gravity.Copy(this.GetWorld().GetGravity()),V=this.m_bodyList;V;V=V.nextBody){var x=V.body;if(x.IsAwake()){for(var o=new box2d.b2Vec2,_o=new box2d.b2Vec2,_i=0,l=0,t_=x.GetFixtureList();t_;t_=t_.m_next){var o_=new box2d.b2Vec2,i_=t_.GetShape().ComputeSubmergedArea(this.normal,this.offset,x.GetTransform(),o_),_i=_i+i_;o.x+=i_*o_.x,o.y+=i_*o_.y;var _e=0,_e=this.useDensity?t_.GetDensity():1,l=l+i_*_e;_o.x+=i_*o_.x*_e,_o.y+=i_*o_.y*_e}o.x/=_i,o.y/=_i,_o.x/=l,_o.y/=l,_i<box2d.b2_epsilon||(l=this.gravity.Clone().SelfNeg(),l.SelfMul(this.density*_i),x.ApplyForce(l,_o),_o=x.GetLinearVelocityFromWorldPoint(o,new box2d.b2Vec2),_o.SelfSub(this.velocity),_o.SelfMul(-this.linearDrag*_i),x.ApplyForce(_o,o),x.ApplyTorque(-x.GetInertia()/x.GetMass()*_i*x.GetAngularVelocity()*this.angularDrag))}}};goog.exportProperty(box2d.b2BuoyancyController.prototype,"Step",box2d.b2BuoyancyController.prototype.Step);box2d.b2BuoyancyController.prototype.Draw=function(V){var x=new box2d.b2Vec2,o=new box2d.b2Vec2;x.x=this.normal.x*this.offset+100*this.normal.y,x.y=this.normal.y*this.offset-100*this.normal.x,o.x=this.normal.x*this.offset-100*this.normal.y,o.y=this.normal.y*this.offset+100*this.normal.x;var _o=new box2d.b2Color(0,0,.8);V.DrawSegment(x,o,_o)};goog.exportProperty(box2d.b2BuoyancyController.prototype,"Draw",box2d.b2BuoyancyController.prototype.Draw);box2d.b2MixFriction=function(V,x){return box2d.b2Sqrt(V*x)};goog.exportSymbol("box2d.b2MixFriction",box2d.b2MixFriction);box2d.b2MixRestitution=function(V,x){return V>x?V:x};goog.exportSymbol("box2d.b2MixRestitution",box2d.b2MixRestitution);box2d.b2ContactEdge=function(){};goog.exportSymbol("box2d.b2ContactEdge",box2d.b2ContactEdge);box2d.b2ContactEdge.prototype.other=null;goog.exportProperty(box2d.b2ContactEdge.prototype,"other",box2d.b2ContactEdge.prototype.other);box2d.b2ContactEdge.prototype.contact=null;goog.exportProperty(box2d.b2ContactEdge.prototype,"contact",box2d.b2ContactEdge.prototype.contact);box2d.b2ContactEdge.prototype.prev=null;goog.exportProperty(box2d.b2ContactEdge.prototype,"prev",box2d.b2ContactEdge.prototype.prev);box2d.b2ContactEdge.prototype.next=null;goog.exportProperty(box2d.b2ContactEdge.prototype,"next",box2d.b2ContactEdge.prototype.next);box2d.b2Contact=function(){this.m_nodeA=new box2d.b2ContactEdge,this.m_nodeB=new box2d.b2ContactEdge,this.m_manifold=new box2d.b2Manifold,this.m_oldManifold=new box2d.b2Manifold};goog.exportSymbol("box2d.b2Contact",box2d.b2Contact);box2d.b2Contact.prototype.m_flag_islandFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_islandFlag",box2d.b2Contact.prototype.m_flag_islandFlag);box2d.b2Contact.prototype.m_flag_touchingFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_touchingFlag",box2d.b2Contact.prototype.m_flag_touchingFlag);box2d.b2Contact.prototype.m_flag_enabledFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_enabledFlag",box2d.b2Contact.prototype.m_flag_enabledFlag);box2d.b2Contact.prototype.m_flag_filterFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_filterFlag",box2d.b2Contact.prototype.m_flag_filterFlag);box2d.b2Contact.prototype.m_flag_bulletHitFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_bulletHitFlag",box2d.b2Contact.prototype.m_flag_bulletHitFlag);box2d.b2Contact.prototype.m_flag_toiFlag=!1;goog.exportProperty(box2d.b2Contact.prototype,"m_flag_toiFlag",box2d.b2Contact.prototype.m_flag_toiFlag);box2d.b2Contact.prototype.m_prev=null;goog.exportProperty(box2d.b2Contact.prototype,"m_prev",box2d.b2Contact.prototype.m_prev);box2d.b2Contact.prototype.m_next=null;goog.exportProperty(box2d.b2Contact.prototype,"m_next",box2d.b2Contact.prototype.m_next);box2d.b2Contact.prototype.m_nodeA=null;goog.exportProperty(box2d.b2Contact.prototype,"m_nodeA",box2d.b2Contact.prototype.m_nodeA);box2d.b2Contact.prototype.m_nodeB=null;goog.exportProperty(box2d.b2Contact.prototype,"m_nodeB",box2d.b2Contact.prototype.m_nodeB);box2d.b2Contact.prototype.m_fixtureA=null;goog.exportProperty(box2d.b2Contact.prototype,"m_fixtureA",box2d.b2Contact.prototype.m_fixtureA);box2d.b2Contact.prototype.m_fixtureB=null;goog.exportProperty(box2d.b2Contact.prototype,"m_fixtureB",box2d.b2Contact.prototype.m_fixtureB);box2d.b2Contact.prototype.m_indexA=0;goog.exportProperty(box2d.b2Contact.prototype,"m_indexA",box2d.b2Contact.prototype.m_indexA);box2d.b2Contact.prototype.m_indexB=0;goog.exportProperty(box2d.b2Contact.prototype,"m_indexB",box2d.b2Contact.prototype.m_indexB);box2d.b2Contact.prototype.m_manifold=null;goog.exportProperty(box2d.b2Contact.prototype,"m_manifold",box2d.b2Contact.prototype.m_manifold);box2d.b2Contact.prototype.m_toiCount=0;goog.exportProperty(box2d.b2Contact.prototype,"m_toiCount",box2d.b2Contact.prototype.m_toiCount);box2d.b2Contact.prototype.m_toi=0;goog.exportProperty(box2d.b2Contact.prototype,"m_toi",box2d.b2Contact.prototype.m_toi);box2d.b2Contact.prototype.m_friction=0;goog.exportProperty(box2d.b2Contact.prototype,"m_friction",box2d.b2Contact.prototype.m_friction);box2d.b2Contact.prototype.m_restitution=0;goog.exportProperty(box2d.b2Contact.prototype,"m_restitution",box2d.b2Contact.prototype.m_restitution);box2d.b2Contact.prototype.m_tangentSpeed=0;goog.exportProperty(box2d.b2Contact.prototype,"m_tangentSpeed",box2d.b2Contact.prototype.m_tangentSpeed);box2d.b2Contact.prototype.m_oldManifold=null;goog.exportProperty(box2d.b2Contact.prototype,"m_oldManifold",box2d.b2Contact.prototype.m_oldManifold);box2d.b2Contact.prototype.GetManifold=function(){return this.m_manifold};goog.exportProperty(box2d.b2Contact.prototype,"GetManifold",box2d.b2Contact.prototype.GetManifold);box2d.b2Contact.prototype.GetWorldManifold=function(V){var x=this.m_fixtureA.GetBody(),o=this.m_fixtureB.GetBody(),_o=this.m_fixtureA.GetShape(),_i=this.m_fixtureB.GetShape();V.Initialize(this.m_manifold,x.GetTransform(),_o.m_radius,o.GetTransform(),_i.m_radius)};goog.exportProperty(box2d.b2Contact.prototype,"GetWorldManifold",box2d.b2Contact.prototype.GetWorldManifold);box2d.b2Contact.prototype.IsTouching=function(){return this.m_flag_touchingFlag};goog.exportProperty(box2d.b2Contact.prototype,"IsTouching",box2d.b2Contact.prototype.IsTouching);box2d.b2Contact.prototype.SetEnabled=function(V){this.m_flag_enabledFlag=V};goog.exportProperty(box2d.b2Contact.prototype,"SetEnabled",box2d.b2Contact.prototype.SetEnabled);box2d.b2Contact.prototype.IsEnabled=function(){return this.m_flag_enabledFlag};goog.exportProperty(box2d.b2Contact.prototype,"IsEnabled",box2d.b2Contact.prototype.IsEnabled);box2d.b2Contact.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2Contact.prototype,"GetNext",box2d.b2Contact.prototype.GetNext);box2d.b2Contact.prototype.GetFixtureA=function(){return this.m_fixtureA};goog.exportProperty(box2d.b2Contact.prototype,"GetFixtureA",box2d.b2Contact.prototype.GetFixtureA);box2d.b2Contact.prototype.GetChildIndexA=function(){return this.m_indexA};goog.exportProperty(box2d.b2Contact.prototype,"GetChildIndexA",box2d.b2Contact.prototype.GetChildIndexA);box2d.b2Contact.prototype.GetFixtureB=function(){return this.m_fixtureB};goog.exportProperty(box2d.b2Contact.prototype,"GetFixtureB",box2d.b2Contact.prototype.GetFixtureB);box2d.b2Contact.prototype.GetChildIndexB=function(){return this.m_indexB};goog.exportProperty(box2d.b2Contact.prototype,"GetChildIndexB",box2d.b2Contact.prototype.GetChildIndexB);box2d.b2Contact.prototype.Evaluate=function(V,x,o){};goog.exportProperty(box2d.b2Contact.prototype,"Evaluate",box2d.b2Contact.prototype.Evaluate);box2d.b2Contact.prototype.FlagForFiltering=function(){this.m_flag_filterFlag=!0};goog.exportProperty(box2d.b2Contact.prototype,"FlagForFiltering",box2d.b2Contact.prototype.FlagForFiltering);box2d.b2Contact.prototype.SetFriction=function(V){this.m_friction=V};goog.exportProperty(box2d.b2Contact.prototype,"SetFriction",box2d.b2Contact.prototype.SetFriction);box2d.b2Contact.prototype.GetFriction=function(){return this.m_friction};goog.exportProperty(box2d.b2Contact.prototype,"GetFriction",box2d.b2Contact.prototype.GetFriction);box2d.b2Contact.prototype.ResetFriction=function(){this.m_friction=box2d.b2MixFriction(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)};goog.exportProperty(box2d.b2Contact.prototype,"ResetFriction",box2d.b2Contact.prototype.ResetFriction);box2d.b2Contact.prototype.SetRestitution=function(V){this.m_restitution=V};goog.exportProperty(box2d.b2Contact.prototype,"SetRestitution",box2d.b2Contact.prototype.SetRestitution);box2d.b2Contact.prototype.GetRestitution=function(){return this.m_restitution};goog.exportProperty(box2d.b2Contact.prototype,"GetRestitution",box2d.b2Contact.prototype.GetRestitution);box2d.b2Contact.prototype.ResetRestitution=function(){this.m_restitution=box2d.b2MixRestitution(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)};goog.exportProperty(box2d.b2Contact.prototype,"ResetRestitution",box2d.b2Contact.prototype.ResetRestitution);box2d.b2Contact.prototype.SetTangentSpeed=function(V){this.m_tangentSpeed=V};goog.exportProperty(box2d.b2Contact.prototype,"SetTangentSpeed",box2d.b2Contact.prototype.SetTangentSpeed);box2d.b2Contact.prototype.GetTangentSpeed=function(){return this.m_tangentSpeed};goog.exportProperty(box2d.b2Contact.prototype,"GetTangentSpeed",box2d.b2Contact.prototype.GetTangentSpeed);box2d.b2Contact.prototype.Reset=function(V,x,o,_o){this.m_flag_enabledFlag=!0,this.m_fixtureA=V,this.m_fixtureB=o,this.m_indexA=x,this.m_indexB=_o,this.m_manifold.pointCount=0,this.m_next=this.m_prev=null,this.m_nodeA.contact=null,this.m_nodeA.prev=null,this.m_nodeA.next=null,this.m_nodeA.other=null,this.m_nodeB.contact=null,this.m_nodeB.prev=null,this.m_nodeB.next=null,this.m_nodeB.other=null,this.m_toiCount=0,this.m_friction=box2d.b2MixFriction(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=box2d.b2MixRestitution(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)};goog.exportProperty(box2d.b2Contact.prototype,"Reset",box2d.b2Contact.prototype.Reset);box2d.b2Contact.prototype.Update=function(V){var x=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=x,this.m_flag_enabledFlag=!0;var l=!1,x=this.m_flag_touchingFlag,o=this.m_fixtureA.IsSensor(),_o=this.m_fixtureB.IsSensor(),o=o||_o,_o=this.m_fixtureA.GetBody(),_i=this.m_fixtureB.GetBody(),l=_o.GetTransform(),t_=_i.GetTransform();if(o)_o=this.m_fixtureA.GetShape(),_i=this.m_fixtureB.GetShape(),l=box2d.b2TestOverlapShape(_o,this.m_indexA,_i,this.m_indexB,l,t_),this.m_manifold.pointCount=0;else{for(this.Evaluate(this.m_manifold,l,t_),l=0<this.m_manifold.pointCount,t_=0;t_<this.m_manifold.pointCount;++t_){var o_=this.m_manifold.points[t_];o_.normalImpulse=0,o_.tangentImpulse=0;for(var i_=o_.id,_e=0;_e<this.m_oldManifold.pointCount;++_e){var l_=this.m_oldManifold.points[_e];if(l_.id.key===i_.key){o_.normalImpulse=l_.normalImpulse,o_.tangentImpulse=l_.tangentImpulse;break}}}l!==x&&(_o.SetAwake(!0),_i.SetAwake(!0))}this.m_flag_touchingFlag=l,!x&&l&&V&&V.BeginContact(this),x&&!l&&V&&V.EndContact(this),!o&&l&&V&&V.PreSolve(this,this.m_oldManifold)};goog.exportProperty(box2d.b2Contact.prototype,"Update",box2d.b2Contact.prototype.Update);box2d.b2Contact.prototype.ComputeTOI=function(V,x){var o=box2d.b2Contact.prototype.ComputeTOI.s_input;o.proxyA.SetShape(this.m_fixtureA.GetShape(),this.m_indexA),o.proxyB.SetShape(this.m_fixtureB.GetShape(),this.m_indexB),o.sweepA.Copy(V),o.sweepB.Copy(x),o.tMax=box2d.b2_linearSlop;var _o=box2d.b2Contact.prototype.ComputeTOI.s_output;return box2d.b2TimeOfImpact(_o,o),_o.t};goog.exportProperty(box2d.b2Contact.prototype,"ComputeTOI",box2d.b2Contact.prototype.ComputeTOI);box2d.b2Contact.prototype.ComputeTOI.s_input=new box2d.b2TOIInput;box2d.b2Contact.prototype.ComputeTOI.s_output=new box2d.b2TOIOutput;box2d.b2ChainAndCircleContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2ChainAndCircleContact,box2d.b2Contact);goog.exportSymbol("box2d.b2ChainAndCircleContact",box2d.b2ChainAndCircleContact);box2d.b2ChainAndCircleContact.Create=function(V){return new box2d.b2ChainAndCircleContact};goog.exportProperty(box2d.b2ChainAndCircleContact,"Create",box2d.b2ChainAndCircleContact.Create);box2d.b2ChainAndCircleContact.Destroy=function(V,x){};goog.exportProperty(box2d.b2ChainAndCircleContact,"Destroy",box2d.b2ChainAndCircleContact.Destroy);box2d.b2ChainAndCircleContact.prototype.Evaluate=function(V,x,o){var _o=this.m_fixtureA.GetShape(),_i=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2ChainShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_i instanceof box2d.b2CircleShape);var l=box2d.b2ChainAndCircleContact.prototype.Evaluate.s_edge;(_o instanceof box2d.b2ChainShape?_o:null).GetChildEdge(l,this.m_indexA),box2d.b2CollideEdgeAndCircle(V,l,x,_i instanceof box2d.b2CircleShape?_i:null,o)};goog.exportProperty(box2d.b2ChainAndCircleContact.prototype,"Evaluate",box2d.b2ChainAndCircleContact.prototype.Evaluate);box2d.b2ChainAndCircleContact.prototype.Evaluate.s_edge=new box2d.b2EdgeShape;box2d.b2ChainAndPolygonContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2ChainAndPolygonContact,box2d.b2Contact);goog.exportSymbol("box2d.b2ChainAndPolygonContact",box2d.b2ChainAndPolygonContact);box2d.b2ChainAndPolygonContact.Create=function(V){return new box2d.b2ChainAndPolygonContact};goog.exportProperty(box2d.b2ChainAndPolygonContact,"Create",box2d.b2ChainAndPolygonContact.Create);box2d.b2ChainAndPolygonContact.Destroy=function(V,x){};goog.exportProperty(box2d.b2ChainAndPolygonContact,"Destroy",box2d.b2ChainAndPolygonContact.Destroy);box2d.b2ChainAndPolygonContact.prototype.Evaluate=function(V,x,o){var _o=this.m_fixtureA.GetShape(),_i=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2ChainShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_i instanceof box2d.b2PolygonShape);var l=box2d.b2ChainAndPolygonContact.prototype.Evaluate.s_edge;(_o instanceof box2d.b2ChainShape?_o:null).GetChildEdge(l,this.m_indexA),box2d.b2CollideEdgeAndPolygon(V,l,x,_i instanceof box2d.b2PolygonShape?_i:null,o)};goog.exportProperty(box2d.b2ChainAndPolygonContact.prototype,"Evaluate",box2d.b2ChainAndPolygonContact.prototype.Evaluate);box2d.b2ChainAndPolygonContact.prototype.Evaluate.s_edge=new box2d.b2EdgeShape;box2d.b2CircleContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2CircleContact,box2d.b2Contact);goog.exportSymbol("box2d.b2CircleContact",box2d.b2CircleContact);box2d.b2CircleContact.Create=function(V){return new box2d.b2CircleContact};goog.exportProperty(box2d.b2CircleContact,"Create",box2d.b2CircleContact.Create);box2d.b2CircleContact.Destroy=function(V,x){};goog.exportProperty(box2d.b2CircleContact,"Destroy",box2d.b2CircleContact.Destroy);box2d.b2CircleContact.prototype.Evaluate=function(V,x,o){var _o=this.m_fixtureA.GetShape(),_i=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2CircleShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_i instanceof box2d.b2CircleShape),box2d.b2CollideCircles(V,_o instanceof box2d.b2CircleShape?_o:null,x,_i instanceof box2d.b2CircleShape?_i:null,o)};goog.exportProperty(box2d.b2CircleContact.prototype,"Evaluate",box2d.b2CircleContact.prototype.Evaluate);box2d.b2ContactRegister=function(){};goog.exportSymbol("box2d.b2ContactRegister",box2d.b2ContactRegister);box2d.b2ContactRegister.prototype.createFcn=null;box2d.b2ContactRegister.prototype.destroyFcn=null;box2d.b2ContactRegister.prototype.primary=!1;box2d.b2ContactFactory=function(V){this.m_allocator=V,this.InitializeRegisters()};goog.exportSymbol("box2d.b2ContactFactory",box2d.b2ContactFactory);box2d.b2ContactFactory.prototype.m_allocator=null;box2d.b2ContactFactory.prototype.AddType=function(V,x,o,_o){var _i=box2d.b2MakeArray(256,function(t_){return V()});x=function(t_){return 0<_i.length?_i.pop():V(t_)};var l=function(t_,o_){_i.push(t_)};this.m_registers[o][_o].pool=_i,this.m_registers[o][_o].createFcn=x,this.m_registers[o][_o].destroyFcn=l,this.m_registers[o][_o].primary=!0,o!==_o&&(this.m_registers[_o][o].pool=_i,this.m_registers[_o][o].createFcn=x,this.m_registers[_o][o].destroyFcn=l,this.m_registers[_o][o].primary=!1)};goog.exportProperty(box2d.b2ContactFactory.prototype,"AddType",box2d.b2ContactFactory.prototype.AddType);box2d.b2ContactFactory.prototype.InitializeRegisters=function(){this.m_registers=Array(box2d.b2ShapeType.e_shapeTypeCount);for(var V=0;V<box2d.b2ShapeType.e_shapeTypeCount;V++){this.m_registers[V]=Array(box2d.b2ShapeType.e_shapeTypeCount);for(var x=0;x<box2d.b2ShapeType.e_shapeTypeCount;x++)this.m_registers[V][x]=new box2d.b2ContactRegister}this.AddType(box2d.b2CircleContact.Create,box2d.b2CircleContact.Destroy,box2d.b2ShapeType.e_circleShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2PolygonAndCircleContact.Create,box2d.b2PolygonAndCircleContact.Destroy,box2d.b2ShapeType.e_polygonShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2PolygonContact.Create,box2d.b2PolygonContact.Destroy,box2d.b2ShapeType.e_polygonShape,box2d.b2ShapeType.e_polygonShape),this.AddType(box2d.b2EdgeAndCircleContact.Create,box2d.b2EdgeAndCircleContact.Destroy,box2d.b2ShapeType.e_edgeShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2EdgeAndPolygonContact.Create,box2d.b2EdgeAndPolygonContact.Destroy,box2d.b2ShapeType.e_edgeShape,box2d.b2ShapeType.e_polygonShape),this.AddType(box2d.b2ChainAndCircleContact.Create,box2d.b2ChainAndCircleContact.Destroy,box2d.b2ShapeType.e_chainShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2ChainAndPolygonContact.Create,box2d.b2ChainAndPolygonContact.Destroy,box2d.b2ShapeType.e_chainShape,box2d.b2ShapeType.e_polygonShape)};goog.exportProperty(box2d.b2ContactFactory.prototype,"InitializeRegisters",box2d.b2ContactFactory.prototype.InitializeRegisters);box2d.b2ContactFactory.prototype.Create=function(V,x,o,_o){var _i=V.GetType(),l=o.GetType();return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=_i&&_i<box2d.b2ShapeType.e_shapeTypeCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=l&&l<box2d.b2ShapeType.e_shapeTypeCount),_i=this.m_registers[_i][l],l=_i.createFcn,l!==null?(_i.primary?(_i=l(this.m_allocator),_i.Reset(V,x,o,_o)):(_i=l(this.m_allocator),_i.Reset(o,_o,V,x)),_i):null};goog.exportProperty(box2d.b2ContactFactory.prototype,"Create",box2d.b2ContactFactory.prototype.Create);box2d.b2ContactFactory.prototype.Destroy=function(V){var x=V.m_fixtureA,o=V.m_fixtureB;0<V.m_manifold.pointCount&&!x.IsSensor()&&!o.IsSensor()&&(x.GetBody().SetAwake(!0),o.GetBody().SetAwake(!0)),x=x.GetType(),o=o.GetType(),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=x&&o<box2d.b2ShapeType.e_shapeTypeCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=x&&o<box2d.b2ShapeType.e_shapeTypeCount),o=this.m_registers[x][o].destroyFcn,o(V,this.m_allocator)};goog.exportProperty(box2d.b2ContactFactory.prototype,"Destroy",box2d.b2ContactFactory.prototype.Destroy);box2d.b2ContactManager=function(){this.m_broadPhase=new box2d.b2BroadPhase,this.m_contactFactory=new box2d.b2ContactFactory(this.m_allocator)};box2d.b2ContactManager.prototype.m_broadPhase=null;goog.exportSymbol("box2d.b2ContactManager.prototype.m_broadPhase",box2d.b2ContactManager.prototype.m_broadPhase);box2d.b2ContactManager.prototype.m_contactList=null;goog.exportSymbol("box2d.b2ContactManager.prototype.m_contactList",box2d.b2ContactManager.prototype.m_contactList);box2d.b2ContactManager.prototype.m_contactCount=0;goog.exportSymbol("box2d.b2ContactManager.prototype.m_contactCount",box2d.b2ContactManager.prototype.m_contactCount);box2d.b2ContactManager.prototype.m_contactFilter=box2d.b2ContactFilter.b2_defaultFilter;goog.exportSymbol("box2d.b2ContactManager.prototype.m_contactFilter",box2d.b2ContactManager.prototype.m_contactFilter);box2d.b2ContactManager.prototype.m_contactListener=box2d.b2ContactListener.b2_defaultListener;goog.exportSymbol("box2d.b2ContactManager.prototype.m_contactListener",box2d.b2ContactManager.prototype.m_contactListener);box2d.b2ContactManager.prototype.m_allocator=null;goog.exportSymbol("box2d.b2ContactManager.prototype.m_allocator",box2d.b2ContactManager.prototype.m_allocator);box2d.b2ContactManager.prototype.m_contactFactory=null;goog.exportSymbol("box2d.b2ContactManager.prototype.m_contactFactory",box2d.b2ContactManager.prototype.m_contactFactory);box2d.b2ContactManager.prototype.Destroy=function(V){var x=V.GetFixtureA(),o=V.GetFixtureB(),x=x.GetBody(),o=o.GetBody();this.m_contactListener&&V.IsTouching()&&this.m_contactListener.EndContact(V),V.m_prev&&(V.m_prev.m_next=V.m_next),V.m_next&&(V.m_next.m_prev=V.m_prev),V===this.m_contactList&&(this.m_contactList=V.m_next),V.m_nodeA.prev&&(V.m_nodeA.prev.next=V.m_nodeA.next),V.m_nodeA.next&&(V.m_nodeA.next.prev=V.m_nodeA.prev),V.m_nodeA===x.m_contactList&&(x.m_contactList=V.m_nodeA.next),V.m_nodeB.prev&&(V.m_nodeB.prev.next=V.m_nodeB.next),V.m_nodeB.next&&(V.m_nodeB.next.prev=V.m_nodeB.prev),V.m_nodeB===o.m_contactList&&(o.m_contactList=V.m_nodeB.next),this.m_contactFactory.Destroy(V),--this.m_contactCount};goog.exportSymbol("box2d.b2ContactManager.prototype.Destroy",box2d.b2ContactManager.prototype.Destroy);box2d.b2ContactManager.prototype.Collide=function(){for(var V=this.m_contactList;V;){var x=V.GetFixtureA(),o=V.GetFixtureB(),_o=V.GetChildIndexA(),_i=V.GetChildIndexB(),l=x.GetBody(),t_=o.GetBody();if(V.m_flag_filterFlag){if(!t_.ShouldCollide(l)){x=V,V=x.m_next,this.Destroy(x);continue}if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(x,o)){x=V,V=x.m_next,this.Destroy(x);continue}V.m_flag_filterFlag=!1}l=l.IsAwake()&&l.m_type!==box2d.b2BodyType.b2_staticBody,t_=t_.IsAwake()&&t_.m_type!==box2d.b2BodyType.b2_staticBody,l||t_?this.m_broadPhase.TestOverlap(x.m_proxies[_o].proxy,o.m_proxies[_i].proxy)?(V.Update(this.m_contactListener),V=V.m_next):(x=V,V=x.m_next,this.Destroy(x)):V=V.m_next}};goog.exportSymbol("box2d.b2ContactManager.prototype.Collide",box2d.b2ContactManager.prototype.Collide);box2d.b2ContactManager.prototype.FindNewContacts=function(){this.m_broadPhase.UpdatePairs(this)};goog.exportSymbol("box2d.b2ContactManager.prototype.FindNewContacts",box2d.b2ContactManager.prototype.FindNewContacts);box2d.b2ContactManager.prototype.AddPair=function(V,x){box2d.ENABLE_ASSERTS&&box2d.b2Assert(V instanceof box2d.b2FixtureProxy),box2d.ENABLE_ASSERTS&&box2d.b2Assert(x instanceof box2d.b2FixtureProxy);var o=V.fixture,_o=x.fixture,_i=V.childIndex,l=x.childIndex,t_=o.GetBody(),o_=_o.GetBody();if(t_!==o_){for(var i_=o_.GetContactList();i_;){if(i_.other===t_){var _e=i_.contact.GetFixtureA(),l_=i_.contact.GetFixtureB(),ws=i_.contact.GetChildIndexA(),h_=i_.contact.GetChildIndexB();if(_e===o&&l_===_o&&ws===_i&&h_===l||_e===_o&&l_===o&&ws===l&&h_===_i)return}i_=i_.next}!o_.ShouldCollide(t_)||this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(o,_o)||(_i=this.m_contactFactory.Create(o,_i,_o,l),_i!==null&&(o=_i.GetFixtureA(),_o=_i.GetFixtureB(),t_=o.m_body,o_=_o.m_body,_i.m_prev=null,_i.m_next=this.m_contactList,this.m_contactList!==null&&(this.m_contactList.m_prev=_i),this.m_contactList=_i,_i.m_nodeA.contact=_i,_i.m_nodeA.other=o_,_i.m_nodeA.prev=null,_i.m_nodeA.next=t_.m_contactList,t_.m_contactList!==null&&(t_.m_contactList.prev=_i.m_nodeA),t_.m_contactList=_i.m_nodeA,_i.m_nodeB.contact=_i,_i.m_nodeB.other=t_,_i.m_nodeB.prev=null,_i.m_nodeB.next=o_.m_contactList,o_.m_contactList!==null&&(o_.m_contactList.prev=_i.m_nodeB),o_.m_contactList=_i.m_nodeB,o.IsSensor()||_o.IsSensor()||(t_.SetAwake(!0),o_.SetAwake(!0)),++this.m_contactCount))}};goog.exportSymbol("box2d.b2ContactManager.prototype.AddPair",box2d.b2ContactManager.prototype.AddPair);box2d.b2EdgeAndCircleContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2EdgeAndCircleContact,box2d.b2Contact);goog.exportSymbol("box2d.b2EdgeAndCircleContact",box2d.b2EdgeAndCircleContact);box2d.b2EdgeAndCircleContact.Create=function(V){return new box2d.b2EdgeAndCircleContact};goog.exportProperty(box2d.b2EdgeAndCircleContact,"Create",box2d.b2EdgeAndCircleContact.Create);box2d.b2EdgeAndCircleContact.Destroy=function(V,x){};goog.exportProperty(box2d.b2EdgeAndCircleContact,"Destroy",box2d.b2EdgeAndCircleContact.Destroy);box2d.b2EdgeAndCircleContact.prototype.Evaluate=function(V,x,o){var _o=this.m_fixtureA.GetShape(),_i=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2EdgeShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_i instanceof box2d.b2CircleShape),box2d.b2CollideEdgeAndCircle(V,_o instanceof box2d.b2EdgeShape?_o:null,x,_i instanceof box2d.b2CircleShape?_i:null,o)};goog.exportProperty(box2d.b2EdgeAndCircleContact.prototype,"Evaluate",box2d.b2EdgeAndCircleContact.prototype.Evaluate);box2d.b2EdgeAndPolygonContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2EdgeAndPolygonContact,box2d.b2Contact);goog.exportSymbol("box2d.b2EdgeAndPolygonContact",box2d.b2EdgeAndPolygonContact);box2d.b2EdgeAndPolygonContact.Create=function(V){return new box2d.b2EdgeAndPolygonContact};goog.exportProperty(box2d.b2EdgeAndPolygonContact,"Create",box2d.b2EdgeAndPolygonContact.Create);box2d.b2EdgeAndPolygonContact.Destroy=function(V,x){};goog.exportProperty(box2d.b2EdgeAndPolygonContact,"Destroy",box2d.b2EdgeAndPolygonContact.Destroy);box2d.b2EdgeAndPolygonContact.prototype.Evaluate=function(V,x,o){var _o=this.m_fixtureA.GetShape(),_i=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2EdgeShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_i instanceof box2d.b2PolygonShape),box2d.b2CollideEdgeAndPolygon(V,_o instanceof box2d.b2EdgeShape?_o:null,x,_i instanceof box2d.b2PolygonShape?_i:null,o)};goog.exportProperty(box2d.b2EdgeAndPolygonContact.prototype,"Evaluate",box2d.b2EdgeAndPolygonContact.prototype.Evaluate);box2d.b2PolygonAndCircleContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2PolygonAndCircleContact,box2d.b2Contact);goog.exportSymbol("box2d.b2PolygonAndCircleContact",box2d.b2PolygonAndCircleContact);box2d.b2PolygonAndCircleContact.Create=function(V){return new box2d.b2PolygonAndCircleContact};goog.exportProperty(box2d.b2PolygonAndCircleContact,"Create",box2d.b2PolygonAndCircleContact.Create);box2d.b2PolygonAndCircleContact.Destroy=function(V,x){};goog.exportProperty(box2d.b2PolygonAndCircleContact,"Destroy",box2d.b2PolygonAndCircleContact.Destroy);box2d.b2PolygonAndCircleContact.prototype.Evaluate=function(V,x,o){var _o=this.m_fixtureA.GetShape(),_i=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2PolygonShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_i instanceof box2d.b2CircleShape),box2d.b2CollidePolygonAndCircle(V,_o instanceof box2d.b2PolygonShape?_o:null,x,_i instanceof box2d.b2CircleShape?_i:null,o)};goog.exportProperty(box2d.b2PolygonAndCircleContact.prototype,"Evaluate",box2d.b2PolygonAndCircleContact.prototype.Evaluate);box2d.b2PolygonContact=function(){box2d.b2Contact.call(this)};goog.inherits(box2d.b2PolygonContact,box2d.b2Contact);goog.exportSymbol("box2d.b2PolygonContact",box2d.b2PolygonContact);box2d.b2PolygonContact.Create=function(V){return new box2d.b2PolygonContact};goog.exportProperty(box2d.b2PolygonContact,"Create",box2d.b2PolygonContact.Create);box2d.b2PolygonContact.Destroy=function(V,x){};goog.exportProperty(box2d.b2PolygonContact,"Destroy",box2d.b2PolygonContact.Destroy);box2d.b2PolygonContact.prototype.Evaluate=function(V,x,o){var _o=this.m_fixtureA.GetShape(),_i=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(_o instanceof box2d.b2PolygonShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_i instanceof box2d.b2PolygonShape),box2d.b2CollidePolygons(V,_o instanceof box2d.b2PolygonShape?_o:null,x,_i instanceof box2d.b2PolygonShape?_i:null,o)};goog.exportProperty(box2d.b2PolygonContact.prototype,"Evaluate",box2d.b2PolygonContact.prototype.Evaluate);box2d.g_blockSolve=!0;box2d.b2VelocityConstraintPoint=function(){this.rA=new box2d.b2Vec2,this.rB=new box2d.b2Vec2};goog.exportSymbol("box2d.b2VelocityConstraintPoint",box2d.b2VelocityConstraintPoint);box2d.b2VelocityConstraintPoint.prototype.rA=null;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"rA",box2d.b2VelocityConstraintPoint.prototype.rA);box2d.b2VelocityConstraintPoint.prototype.rB=null;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"rB",box2d.b2VelocityConstraintPoint.prototype.rB);box2d.b2VelocityConstraintPoint.prototype.normalImpulse=0;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"normalImpulse",box2d.b2VelocityConstraintPoint.prototype.normalImpulse);box2d.b2VelocityConstraintPoint.prototype.tangentImpulse=0;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"tangentImpulse",box2d.b2VelocityConstraintPoint.prototype.tangentImpulse);box2d.b2VelocityConstraintPoint.prototype.normalMass=0;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"normalMass",box2d.b2VelocityConstraintPoint.prototype.normalMass);box2d.b2VelocityConstraintPoint.prototype.tangentMass=0;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"tangentMass",box2d.b2VelocityConstraintPoint.prototype.tangentMass);box2d.b2VelocityConstraintPoint.prototype.velocityBias=0;goog.exportProperty(box2d.b2VelocityConstraintPoint.prototype,"velocityBias",box2d.b2VelocityConstraintPoint.prototype.velocityBias);box2d.b2VelocityConstraintPoint.MakeArray=function(V){return box2d.b2MakeArray(V,function(x){return new box2d.b2VelocityConstraintPoint})};goog.exportProperty(box2d.b2VelocityConstraintPoint,"MakeArray",box2d.b2VelocityConstraintPoint.MakeArray);box2d.b2ContactVelocityConstraint=function(){this.points=box2d.b2VelocityConstraintPoint.MakeArray(box2d.b2_maxManifoldPoints),this.normal=new box2d.b2Vec2,this.tangent=new box2d.b2Vec2,this.normalMass=new box2d.b2Mat22,this.K=new box2d.b2Mat22};goog.exportSymbol("box2d.b2ContactVelocityConstraint",box2d.b2ContactVelocityConstraint);box2d.b2ContactVelocityConstraint.prototype.points=null;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"points",box2d.b2ContactVelocityConstraint.prototype.points);box2d.b2ContactVelocityConstraint.prototype.normal=null;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"normal",box2d.b2ContactVelocityConstraint.prototype.normal);box2d.b2ContactVelocityConstraint.prototype.tangent=null;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"tangent",box2d.b2ContactVelocityConstraint.prototype.tangent);box2d.b2ContactVelocityConstraint.prototype.normalMass=null;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"normalMass",box2d.b2ContactVelocityConstraint.prototype.normalMass);box2d.b2ContactVelocityConstraint.prototype.K=null;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"K",box2d.b2ContactVelocityConstraint.prototype.K);box2d.b2ContactVelocityConstraint.prototype.indexA=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"indexA",box2d.b2ContactVelocityConstraint.prototype.indexA);box2d.b2ContactVelocityConstraint.prototype.indexB=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"indexB",box2d.b2ContactVelocityConstraint.prototype.indexB);box2d.b2ContactVelocityConstraint.prototype.invMassA=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"invMassA",box2d.b2ContactVelocityConstraint.prototype.invMassA);box2d.b2ContactVelocityConstraint.prototype.invMassB=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"invMassB",box2d.b2ContactVelocityConstraint.prototype.invMassB);box2d.b2ContactVelocityConstraint.prototype.invIA=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"invIA",box2d.b2ContactVelocityConstraint.prototype.invIA);box2d.b2ContactVelocityConstraint.prototype.invIB=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"invIB",box2d.b2ContactVelocityConstraint.prototype.invIB);box2d.b2ContactVelocityConstraint.prototype.friction=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"friction",box2d.b2ContactVelocityConstraint.prototype.friction);box2d.b2ContactVelocityConstraint.prototype.restitution=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"restitution",box2d.b2ContactVelocityConstraint.prototype.restitution);box2d.b2ContactVelocityConstraint.prototype.tangentSpeed=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"tangentSpeed",box2d.b2ContactVelocityConstraint.prototype.tangentSpeed);box2d.b2ContactVelocityConstraint.prototype.pointCount=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"pointCount",box2d.b2ContactVelocityConstraint.prototype.pointCount);box2d.b2ContactVelocityConstraint.prototype.contactIndex=0;goog.exportProperty(box2d.b2ContactVelocityConstraint.prototype,"contactIndex",box2d.b2ContactVelocityConstraint.prototype.contactIndex);box2d.b2ContactVelocityConstraint.MakeArray=function(V){return box2d.b2MakeArray(V,function(x){return new box2d.b2ContactVelocityConstraint})};goog.exportProperty(box2d.b2ContactVelocityConstraint,"MakeArray",box2d.b2ContactVelocityConstraint.MakeArray);box2d.b2ContactPositionConstraint=function(){this.localPoints=box2d.b2Vec2.MakeArray(box2d.b2_maxManifoldPoints),this.localNormal=new box2d.b2Vec2,this.localPoint=new box2d.b2Vec2,this.localCenterA=new box2d.b2Vec2,this.localCenterB=new box2d.b2Vec2};goog.exportSymbol("box2d.b2ContactPositionConstraint",box2d.b2ContactPositionConstraint);box2d.b2ContactPositionConstraint.prototype.localPoints=null;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"localPoints",box2d.b2ContactPositionConstraint.prototype.localPoints);box2d.b2ContactPositionConstraint.prototype.localNormal=null;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"localNormal",box2d.b2ContactPositionConstraint.prototype.localNormal);box2d.b2ContactPositionConstraint.prototype.localPoint=null;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"localPoint",box2d.b2ContactPositionConstraint.prototype.localPoint);box2d.b2ContactPositionConstraint.prototype.indexA=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"indexA",box2d.b2ContactPositionConstraint.prototype.indexA);box2d.b2ContactPositionConstraint.prototype.indexB=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"indexB",box2d.b2ContactPositionConstraint.prototype.indexB);box2d.b2ContactPositionConstraint.prototype.invMassA=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"invMassA",box2d.b2ContactPositionConstraint.prototype.invMassA);box2d.b2ContactPositionConstraint.prototype.invMassB=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"invMassB",box2d.b2ContactPositionConstraint.prototype.invMassB);box2d.b2ContactPositionConstraint.prototype.localCenterA=null;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"localCenterA",box2d.b2ContactPositionConstraint.prototype.localCenterA);box2d.b2ContactPositionConstraint.prototype.localCenterB=null;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"localCenterB",box2d.b2ContactPositionConstraint.prototype.localCenterB);box2d.b2ContactPositionConstraint.prototype.invIA=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"invIA",box2d.b2ContactPositionConstraint.prototype.invIA);box2d.b2ContactPositionConstraint.prototype.invIB=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"invIB",box2d.b2ContactPositionConstraint.prototype.invIB);box2d.b2ContactPositionConstraint.prototype.type=box2d.b2ManifoldType.e_unknown;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"type",box2d.b2ContactPositionConstraint.prototype.type);box2d.b2ContactPositionConstraint.prototype.radiusA=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"radiusA",box2d.b2ContactPositionConstraint.prototype.radiusA);box2d.b2ContactPositionConstraint.prototype.radiusB=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"radiusB",box2d.b2ContactPositionConstraint.prototype.radiusB);box2d.b2ContactPositionConstraint.prototype.pointCount=0;goog.exportProperty(box2d.b2ContactPositionConstraint.prototype,"pointCount",box2d.b2ContactPositionConstraint.prototype.pointCount);box2d.b2ContactPositionConstraint.MakeArray=function(V){return box2d.b2MakeArray(V,function(x){return new box2d.b2ContactPositionConstraint})};goog.exportProperty(box2d.b2ContactPositionConstraint,"MakeArray",box2d.b2ContactPositionConstraint.MakeArray);box2d.b2ContactSolverDef=function(){this.step=new box2d.b2TimeStep};goog.exportSymbol("box2d.b2ContactSolverDef",box2d.b2ContactSolverDef);box2d.b2ContactSolverDef.prototype.step=null;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"step",box2d.b2ContactSolverDef.prototype.step);box2d.b2ContactSolverDef.prototype.contacts=null;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"contacts",box2d.b2ContactSolverDef.prototype.contacts);box2d.b2ContactSolverDef.prototype.count=0;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"count",box2d.b2ContactSolverDef.prototype.count);box2d.b2ContactSolverDef.prototype.positions=null;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"positions",box2d.b2ContactSolverDef.prototype.positions);box2d.b2ContactSolverDef.prototype.velocities=null;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"velocities",box2d.b2ContactSolverDef.prototype.velocities);box2d.b2ContactSolverDef.prototype.allocator=null;goog.exportProperty(box2d.b2ContactSolverDef.prototype,"allocator",box2d.b2ContactSolverDef.prototype.allocator);box2d.b2ContactSolver=function(){this.m_step=new box2d.b2TimeStep,this.m_positionConstraints=box2d.b2ContactPositionConstraint.MakeArray(1024),this.m_velocityConstraints=box2d.b2ContactVelocityConstraint.MakeArray(1024)};goog.exportSymbol("box2d.b2ContactSolver",box2d.b2ContactSolver);box2d.b2ContactSolver.prototype.m_step=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_step",box2d.b2ContactSolver.prototype.m_step);box2d.b2ContactSolver.prototype.m_positions=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_positions",box2d.b2ContactSolver.prototype.m_positions);box2d.b2ContactSolver.prototype.m_velocities=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_velocities",box2d.b2ContactSolver.prototype.m_velocities);box2d.b2ContactSolver.prototype.m_allocator=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_allocator",box2d.b2ContactSolver.prototype.m_allocator);box2d.b2ContactSolver.prototype.m_positionConstraints=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_positionConstraints",box2d.b2ContactSolver.prototype.m_positionConstraints);box2d.b2ContactSolver.prototype.m_velocityConstraints=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_velocityConstraints",box2d.b2ContactSolver.prototype.m_velocityConstraints);box2d.b2ContactSolver.prototype.m_contacts=null;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_contacts",box2d.b2ContactSolver.prototype.m_contacts);box2d.b2ContactSolver.prototype.m_count=0;goog.exportProperty(box2d.b2ContactSolver.prototype,"m_count",box2d.b2ContactSolver.prototype.m_count);box2d.b2ContactSolver.prototype.Initialize=function(V){if(this.m_step.Copy(V.step),this.m_allocator=V.allocator,this.m_count=V.count,this.m_positionConstraints.length<this.m_count){var x=box2d.b2Max(2*this.m_positionConstraints.length,this.m_count);for(box2d.DEBUG&&window.console.log("box2d.b2ContactSolver.m_positionConstraints: "+x);this.m_positionConstraints.length<x;)this.m_positionConstraints[this.m_positionConstraints.length]=new box2d.b2ContactPositionConstraint}if(this.m_velocityConstraints.length<this.m_count)for(x=box2d.b2Max(2*this.m_velocityConstraints.length,this.m_count),box2d.DEBUG&&window.console.log("box2d.b2ContactSolver.m_velocityConstraints: "+x);this.m_velocityConstraints.length<x;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new box2d.b2ContactVelocityConstraint;this.m_positions=V.positions,this.m_velocities=V.velocities,this.m_contacts=V.contacts;var o,_o,_i,l,t_,o_,i_,_e;for(V=0,x=this.m_count;V<x;++V)for(_i=this.m_contacts[V],l=_i.m_fixtureA,t_=_i.m_fixtureB,o=l.GetShape(),_o=t_.GetShape(),o=o.m_radius,_o=_o.m_radius,o_=l.GetBody(),i_=t_.GetBody(),t_=_i.GetManifold(),_e=t_.pointCount,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<_e),l=this.m_velocityConstraints[V],l.friction=_i.m_friction,l.restitution=_i.m_restitution,l.tangentSpeed=_i.m_tangentSpeed,l.indexA=o_.m_islandIndex,l.indexB=i_.m_islandIndex,l.invMassA=o_.m_invMass,l.invMassB=i_.m_invMass,l.invIA=o_.m_invI,l.invIB=i_.m_invI,l.contactIndex=V,l.pointCount=_e,l.K.SetZero(),l.normalMass.SetZero(),_i=this.m_positionConstraints[V],_i.indexA=o_.m_islandIndex,_i.indexB=i_.m_islandIndex,_i.invMassA=o_.m_invMass,_i.invMassB=i_.m_invMass,_i.localCenterA.Copy(o_.m_sweep.localCenter),_i.localCenterB.Copy(i_.m_sweep.localCenter),_i.invIA=o_.m_invI,_i.invIB=i_.m_invI,_i.localNormal.Copy(t_.localNormal),_i.localPoint.Copy(t_.localPoint),_i.pointCount=_e,_i.radiusA=o,_i.radiusB=_o,_i.type=t_.type,o=0,_o=_e;o<_o;++o)o_=t_.points[o],_e=l.points[o],this.m_step.warmStarting?(_e.normalImpulse=this.m_step.dtRatio*o_.normalImpulse,_e.tangentImpulse=this.m_step.dtRatio*o_.tangentImpulse):(_e.normalImpulse=0,_e.tangentImpulse=0),_e.rA.SetZero(),_e.rB.SetZero(),_e.normalMass=0,_e.tangentMass=0,_e.velocityBias=0,_i.localPoints[o].Copy(o_.localPoint);return this};goog.exportProperty(box2d.b2ContactSolver.prototype,"Initialize",box2d.b2ContactSolver.prototype.Initialize);box2d.b2ContactSolver.prototype.InitializeVelocityConstraints=function(){var V,x,o,_o,_i,l,t_,o_,i_,_e,l_,ws,h_,s_,B_,D_,y_,G_,q_,j_,_2=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfA,m2=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfB,y2=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_worldManifold;for(V=0,x=this.m_count;V<x;++V){for(_i=this.m_velocityConstraints[V],l=this.m_positionConstraints[V],o=l.radiusA,_o=l.radiusB,t_=this.m_contacts[_i.contactIndex].GetManifold(),o_=_i.indexA,i_=_i.indexB,_e=_i.invMassA,l_=_i.invMassB,ws=_i.invIA,h_=_i.invIB,s_=l.localCenterA,B_=l.localCenterB,l=this.m_positions[o_].c,D_=this.m_positions[o_].a,y_=this.m_velocities[o_].v,o_=this.m_velocities[o_].w,G_=this.m_positions[i_].c,q_=this.m_positions[i_].a,j_=this.m_velocities[i_].v,i_=this.m_velocities[i_].w,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<t_.pointCount),_2.q.SetAngle(D_),m2.q.SetAngle(q_),box2d.b2Sub_V2_V2(l,box2d.b2Mul_R_V2(_2.q,s_,box2d.b2Vec2.s_t0),_2.p),box2d.b2Sub_V2_V2(G_,box2d.b2Mul_R_V2(m2.q,B_,box2d.b2Vec2.s_t0),m2.p),y2.Initialize(t_,_2,o,m2,_o),_i.normal.Copy(y2.normal),box2d.b2Cross_V2_S(_i.normal,1,_i.tangent),_o=_i.pointCount,o=0;o<_o;++o)t_=_i.points[o],box2d.b2Sub_V2_V2(y2.points[o],l,t_.rA),box2d.b2Sub_V2_V2(y2.points[o],G_,t_.rB),s_=box2d.b2Cross_V2_V2(t_.rA,_i.normal),B_=box2d.b2Cross_V2_V2(t_.rB,_i.normal),s_=_e+l_+ws*s_*s_+h_*B_*B_,t_.normalMass=0<s_?1/s_:0,B_=_i.tangent,s_=box2d.b2Cross_V2_V2(t_.rA,B_),B_=box2d.b2Cross_V2_V2(t_.rB,B_),s_=_e+l_+ws*s_*s_+h_*B_*B_,t_.tangentMass=0<s_?1/s_:0,t_.velocityBias=0,s_=box2d.b2Dot_V2_V2(_i.normal,box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(j_,i_,t_.rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(y_,o_,t_.rA,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0)),s_<-box2d.b2_velocityThreshold&&(t_.velocityBias+=-_i.restitution*s_);_i.pointCount===2&&box2d.g_blockSolve&&(y_=_i.points[0],G_=_i.points[1],l=box2d.b2Cross_V2_V2(y_.rA,_i.normal),y_=box2d.b2Cross_V2_V2(y_.rB,_i.normal),o_=box2d.b2Cross_V2_V2(G_.rA,_i.normal),i_=box2d.b2Cross_V2_V2(G_.rB,_i.normal),G_=_e+l_+ws*l*l+h_*y_*y_,j_=_e+l_+ws*o_*o_+h_*i_*i_,_e=_e+l_+ws*l*o_+h_*y_*i_,G_*G_<1e3*(G_*j_-_e*_e)?(_i.K.ex.Set(G_,_e),_i.K.ey.Set(_e,j_),_i.K.GetInverse(_i.normalMass)):_i.pointCount=1)}};goog.exportProperty(box2d.b2ContactSolver.prototype,"InitializeVelocityConstraints",box2d.b2ContactSolver.prototype.InitializeVelocityConstraints);box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfA=new box2d.b2Transform;box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfB=new box2d.b2Transform;box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_worldManifold=new box2d.b2WorldManifold;box2d.b2ContactSolver.prototype.WarmStart=function(){var V,x,o,_o,_i,l,t_,o_,i_,_e,l_,ws,h_,s_,B_,D_,y_,G_,q_=box2d.b2ContactSolver.prototype.WarmStart.s_P;for(V=0,x=this.m_count;V<x;++V){for(_i=this.m_velocityConstraints[V],l=_i.indexA,t_=_i.indexB,o_=_i.invMassA,i_=_i.invIA,_e=_i.invMassB,l_=_i.invIB,_o=_i.pointCount,ws=this.m_velocities[l].v,h_=this.m_velocities[l].w,s_=this.m_velocities[t_].v,B_=this.m_velocities[t_].w,D_=_i.normal,y_=_i.tangent,o=0;o<_o;++o)G_=_i.points[o],box2d.b2Add_V2_V2(box2d.b2Mul_S_V2(G_.normalImpulse,D_,box2d.b2Vec2.s_t0),box2d.b2Mul_S_V2(G_.tangentImpulse,y_,box2d.b2Vec2.s_t1),q_),h_-=i_*box2d.b2Cross_V2_V2(G_.rA,q_),ws.SelfMulSub(o_,q_),B_+=l_*box2d.b2Cross_V2_V2(G_.rB,q_),s_.SelfMulAdd(_e,q_);this.m_velocities[l].w=h_,this.m_velocities[t_].w=B_}};goog.exportProperty(box2d.b2ContactSolver.prototype,"WarmStart",box2d.b2ContactSolver.prototype.WarmStart);box2d.b2ContactSolver.prototype.WarmStart.s_P=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints=function(){var V,x,o,_o,_i,l,t_,o_,i_,_e,l_,ws,h_,s_,B_,D_,y_,G_,q_,j_,_2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv,m2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv1,y2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv2,I2,J2,z2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P,K2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_a,$2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_b,P_=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_x,E_=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_d,Z_=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1,N_=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P2,s2=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1P2;for(V=0,x=this.m_count;V<x;++V){for(_i=this.m_velocityConstraints[V],l=_i.indexA,t_=_i.indexB,o_=_i.invMassA,i_=_i.invIA,_e=_i.invMassB,l_=_i.invIB,ws=_i.pointCount,h_=this.m_velocities[l].v,s_=this.m_velocities[l].w,B_=this.m_velocities[t_].v,D_=this.m_velocities[t_].w,y_=_i.normal,G_=_i.tangent,q_=_i.friction,box2d.ENABLE_ASSERTS&&box2d.b2Assert(ws===1||ws===2),o=0,_o=ws;o<_o;++o)j_=_i.points[o],box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(B_,D_,j_.rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(h_,s_,j_.rA,box2d.b2Vec2.s_t1),_2),I2=box2d.b2Dot_V2_V2(_2,G_)-_i.tangentSpeed,I2=j_.tangentMass*-I2,J2=q_*j_.normalImpulse,J2=box2d.b2Clamp(j_.tangentImpulse+I2,-J2,J2),I2=J2-j_.tangentImpulse,j_.tangentImpulse=J2,box2d.b2Mul_S_V2(I2,G_,z2),h_.SelfMulSub(o_,z2),s_-=i_*box2d.b2Cross_V2_V2(j_.rA,z2),B_.SelfMulAdd(_e,z2),D_+=l_*box2d.b2Cross_V2_V2(j_.rB,z2);if(_i.pointCount!==1&&box2d.g_blockSolve)for(ws=_i.points[0],j_=_i.points[1],K2.Set(ws.normalImpulse,j_.normalImpulse),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=K2.x&&0<=K2.y),box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(B_,D_,ws.rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(h_,s_,ws.rA,box2d.b2Vec2.s_t1),m2),box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(B_,D_,j_.rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(h_,s_,j_.rA,box2d.b2Vec2.s_t1),y2),o=box2d.b2Dot_V2_V2(m2,y_),_o=box2d.b2Dot_V2_V2(y2,y_),$2.x=o-ws.velocityBias,$2.y=_o-j_.velocityBias,$2.SelfSub(box2d.b2Mul_M22_V2(_i.K,K2,box2d.b2Vec2.s_t0));;){if(box2d.b2Mul_M22_V2(_i.normalMass,$2,P_).SelfNeg(),0<=P_.x&&0<=P_.y){box2d.b2Sub_V2_V2(P_,K2,E_),box2d.b2Mul_S_V2(E_.x,y_,Z_),box2d.b2Mul_S_V2(E_.y,y_,N_),box2d.b2Add_V2_V2(Z_,N_,s2),h_.SelfMulSub(o_,s2),s_-=i_*(box2d.b2Cross_V2_V2(ws.rA,Z_)+box2d.b2Cross_V2_V2(j_.rA,N_)),B_.SelfMulAdd(_e,s2),D_+=l_*(box2d.b2Cross_V2_V2(ws.rB,Z_)+box2d.b2Cross_V2_V2(j_.rB,N_)),ws.normalImpulse=P_.x,j_.normalImpulse=P_.y;break}if(P_.x=-ws.normalMass*$2.x,P_.y=0,_o=_i.K.ex.y*P_.x+$2.y,0<=P_.x&&0<=_o){box2d.b2Sub_V2_V2(P_,K2,E_),box2d.b2Mul_S_V2(E_.x,y_,Z_),box2d.b2Mul_S_V2(E_.y,y_,N_),box2d.b2Add_V2_V2(Z_,N_,s2),h_.SelfMulSub(o_,s2),s_-=i_*(box2d.b2Cross_V2_V2(ws.rA,Z_)+box2d.b2Cross_V2_V2(j_.rA,N_)),B_.SelfMulAdd(_e,s2),D_+=l_*(box2d.b2Cross_V2_V2(ws.rB,Z_)+box2d.b2Cross_V2_V2(j_.rB,N_)),ws.normalImpulse=P_.x,j_.normalImpulse=P_.y;break}if(P_.x=0,P_.y=-j_.normalMass*$2.y,o=_i.K.ey.x*P_.y+$2.x,0<=P_.y&&0<=o){box2d.b2Sub_V2_V2(P_,K2,E_),box2d.b2Mul_S_V2(E_.x,y_,Z_),box2d.b2Mul_S_V2(E_.y,y_,N_),box2d.b2Add_V2_V2(Z_,N_,s2),h_.SelfMulSub(o_,s2),s_-=i_*(box2d.b2Cross_V2_V2(ws.rA,Z_)+box2d.b2Cross_V2_V2(j_.rA,N_)),B_.SelfMulAdd(_e,s2),D_+=l_*(box2d.b2Cross_V2_V2(ws.rB,Z_)+box2d.b2Cross_V2_V2(j_.rB,N_)),ws.normalImpulse=P_.x,j_.normalImpulse=P_.y;break}if(P_.x=0,P_.y=0,o=$2.x,_o=$2.y,0<=o&&0<=_o){box2d.b2Sub_V2_V2(P_,K2,E_),box2d.b2Mul_S_V2(E_.x,y_,Z_),box2d.b2Mul_S_V2(E_.y,y_,N_),box2d.b2Add_V2_V2(Z_,N_,s2),h_.SelfMulSub(o_,s2),s_-=i_*(box2d.b2Cross_V2_V2(ws.rA,Z_)+box2d.b2Cross_V2_V2(j_.rA,N_)),B_.SelfMulAdd(_e,s2),D_+=l_*(box2d.b2Cross_V2_V2(ws.rB,Z_)+box2d.b2Cross_V2_V2(j_.rB,N_)),ws.normalImpulse=P_.x,j_.normalImpulse=P_.y;break}break}else for(o=0;o<ws;++o)j_=_i.points[o],box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(B_,D_,j_.rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(h_,s_,j_.rA,box2d.b2Vec2.s_t1),_2),_o=box2d.b2Dot_V2_V2(_2,y_),I2=-j_.normalMass*(_o-j_.velocityBias),J2=box2d.b2Max(j_.normalImpulse+I2,0),I2=J2-j_.normalImpulse,j_.normalImpulse=J2,box2d.b2Mul_S_V2(I2,y_,z2),h_.SelfMulSub(o_,z2),s_-=i_*box2d.b2Cross_V2_V2(j_.rA,z2),B_.SelfMulAdd(_e,z2),D_+=l_*box2d.b2Cross_V2_V2(j_.rB,z2);this.m_velocities[l].w=s_,this.m_velocities[t_].w=D_}};goog.exportProperty(box2d.b2ContactSolver.prototype,"SolveVelocityConstraints",box2d.b2ContactSolver.prototype.SolveVelocityConstraints);box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv1=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv2=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_a=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_b=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_x=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_d=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P2=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1P2=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.StoreImpulses=function(){var V,x,o,_o,_i,l;for(V=0,x=this.m_count;V<x;++V)for(_i=this.m_velocityConstraints[V],l=this.m_contacts[_i.contactIndex].GetManifold(),o=0,_o=_i.pointCount;o<_o;++o)l.points[o].normalImpulse=_i.points[o].normalImpulse,l.points[o].tangentImpulse=_i.points[o].tangentImpulse};goog.exportProperty(box2d.b2ContactSolver.prototype,"StoreImpulses",box2d.b2ContactSolver.prototype.StoreImpulses);box2d.b2PositionSolverManifold=function(){this.normal=new box2d.b2Vec2,this.point=new box2d.b2Vec2};goog.exportSymbol("box2d.b2PositionSolverManifold",box2d.b2PositionSolverManifold);box2d.b2PositionSolverManifold.prototype.normal=null;goog.exportProperty(box2d.b2PositionSolverManifold.prototype,"normal",box2d.b2PositionSolverManifold.prototype.normal);box2d.b2PositionSolverManifold.prototype.point=null;goog.exportProperty(box2d.b2PositionSolverManifold.prototype,"point",box2d.b2PositionSolverManifold.prototype.point);box2d.b2PositionSolverManifold.prototype.separation=0;goog.exportProperty(box2d.b2PositionSolverManifold.prototype,"separation",box2d.b2PositionSolverManifold.prototype.separation);box2d.b2PositionSolverManifold.prototype.Initialize=function(V,x,o,_o){var _i=box2d.b2PositionSolverManifold.prototype.Initialize.s_pointA,l=box2d.b2PositionSolverManifold.prototype.Initialize.s_pointB,t_=box2d.b2PositionSolverManifold.prototype.Initialize.s_planePoint,o_=box2d.b2PositionSolverManifold.prototype.Initialize.s_clipPoint;switch(box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<V.pointCount),V.type){case box2d.b2ManifoldType.e_circles:box2d.b2Mul_X_V2(x,V.localPoint,_i),box2d.b2Mul_X_V2(o,V.localPoints[0],l),box2d.b2Sub_V2_V2(l,_i,this.normal).SelfNormalize(),box2d.b2Mid_V2_V2(_i,l,this.point),this.separation=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(l,_i,box2d.b2Vec2.s_t0),this.normal)-V.radiusA-V.radiusB;break;case box2d.b2ManifoldType.e_faceA:box2d.b2Mul_R_V2(x.q,V.localNormal,this.normal),box2d.b2Mul_X_V2(x,V.localPoint,t_),box2d.b2Mul_X_V2(o,V.localPoints[_o],o_),this.separation=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o_,t_,box2d.b2Vec2.s_t0),this.normal)-V.radiusA-V.radiusB,this.point.Copy(o_);break;case box2d.b2ManifoldType.e_faceB:box2d.b2Mul_R_V2(o.q,V.localNormal,this.normal),box2d.b2Mul_X_V2(o,V.localPoint,t_),box2d.b2Mul_X_V2(x,V.localPoints[_o],o_),this.separation=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o_,t_,box2d.b2Vec2.s_t0),this.normal)-V.radiusA-V.radiusB,this.point.Copy(o_),this.normal.SelfNeg()}};goog.exportProperty(box2d.b2PositionSolverManifold.prototype,"Initialize",box2d.b2PositionSolverManifold.prototype.Initialize);box2d.b2PositionSolverManifold.prototype.Initialize.s_pointA=new box2d.b2Vec2;box2d.b2PositionSolverManifold.prototype.Initialize.s_pointB=new box2d.b2Vec2;box2d.b2PositionSolverManifold.prototype.Initialize.s_planePoint=new box2d.b2Vec2;box2d.b2PositionSolverManifold.prototype.Initialize.s_clipPoint=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolvePositionConstraints=function(){var V,x,o,_o,_i,l,t_,o_,i_,_e,l_,ws,h_,s_,B_,D_,y_,G_=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfA,q_=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfB,j_=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_psm,_2,m2,y2,I2=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rA,J2=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rB,z2,K2=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_P,$2=0;for(V=0,x=this.m_count;V<x;++V){for(_i=this.m_positionConstraints[V],l=_i.indexA,t_=_i.indexB,o_=_i.localCenterA,i_=_i.invMassA,_e=_i.invIA,l_=_i.localCenterB,ws=_i.invMassB,h_=_i.invIB,_o=_i.pointCount,s_=this.m_positions[l].c,B_=this.m_positions[l].a,D_=this.m_positions[t_].c,y_=this.m_positions[t_].a,o=0;o<_o;++o)G_.q.SetAngle(B_),q_.q.SetAngle(y_),box2d.b2Sub_V2_V2(s_,box2d.b2Mul_R_V2(G_.q,o_,box2d.b2Vec2.s_t0),G_.p),box2d.b2Sub_V2_V2(D_,box2d.b2Mul_R_V2(q_.q,l_,box2d.b2Vec2.s_t0),q_.p),j_.Initialize(_i,G_,q_,o),_2=j_.normal,m2=j_.point,y2=j_.separation,box2d.b2Sub_V2_V2(m2,s_,I2),box2d.b2Sub_V2_V2(m2,D_,J2),$2=box2d.b2Min($2,y2),m2=box2d.b2Clamp(box2d.b2_baumgarte*(y2+box2d.b2_linearSlop),-box2d.b2_maxLinearCorrection,0),y2=box2d.b2Cross_V2_V2(I2,_2),z2=box2d.b2Cross_V2_V2(J2,_2),y2=i_+ws+_e*y2*y2+h_*z2*z2,m2=0<y2?-m2/y2:0,box2d.b2Mul_S_V2(m2,_2,K2),s_.SelfMulSub(i_,K2),B_-=_e*box2d.b2Cross_V2_V2(I2,K2),D_.SelfMulAdd(ws,K2),y_+=h_*box2d.b2Cross_V2_V2(J2,K2);this.m_positions[l].a=B_,this.m_positions[t_].a=y_}return $2>-3*box2d.b2_linearSlop};goog.exportProperty(box2d.b2ContactSolver.prototype,"SolvePositionConstraints",box2d.b2ContactSolver.prototype.SolvePositionConstraints);box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfA=new box2d.b2Transform;box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfB=new box2d.b2Transform;box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_psm=new box2d.b2PositionSolverManifold;box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rA=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rB=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints=function(V,x){var o,_o,_i,l,t_,o_,i_,_e,l_,ws,h_,s_,B_,D_,y_,G_,q_,j_=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfA,_2=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfB,m2=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_psm,y2,I2,J2,z2=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rA,K2=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rB,$2,P_=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_P,E_=0;for(o=0,_o=this.m_count;o<_o;++o){for(t_=this.m_positionConstraints[o],o_=t_.indexA,i_=t_.indexB,_e=t_.localCenterA,l_=t_.localCenterB,l=t_.pointCount,h_=ws=0,(o_===V||o_===x)&&(ws=t_.invMassA,h_=t_.invIA),B_=s_=0,(i_===V||i_===x)&&(s_=t_.invMassB,B_=t_.invIB),D_=this.m_positions[o_].c,y_=this.m_positions[o_].a,G_=this.m_positions[i_].c,q_=this.m_positions[i_].a,_i=0;_i<l;++_i)j_.q.SetAngle(y_),_2.q.SetAngle(q_),box2d.b2Sub_V2_V2(D_,box2d.b2Mul_R_V2(j_.q,_e,box2d.b2Vec2.s_t0),j_.p),box2d.b2Sub_V2_V2(G_,box2d.b2Mul_R_V2(_2.q,l_,box2d.b2Vec2.s_t0),_2.p),m2.Initialize(t_,j_,_2,_i),y2=m2.normal,I2=m2.point,J2=m2.separation,box2d.b2Sub_V2_V2(I2,D_,z2),box2d.b2Sub_V2_V2(I2,G_,K2),E_=box2d.b2Min(E_,J2),I2=box2d.b2Clamp(box2d.b2_toiBaumgarte*(J2+box2d.b2_linearSlop),-box2d.b2_maxLinearCorrection,0),J2=box2d.b2Cross_V2_V2(z2,y2),$2=box2d.b2Cross_V2_V2(K2,y2),J2=ws+s_+h_*J2*J2+B_*$2*$2,I2=0<J2?-I2/J2:0,box2d.b2Mul_S_V2(I2,y2,P_),D_.SelfMulSub(ws,P_),y_-=h_*box2d.b2Cross_V2_V2(z2,P_),G_.SelfMulAdd(s_,P_),q_+=B_*box2d.b2Cross_V2_V2(K2,P_);this.m_positions[o_].a=y_,this.m_positions[i_].a=q_}return E_>=-1.5*box2d.b2_linearSlop};goog.exportProperty(box2d.b2ContactSolver.prototype,"SolveTOIPositionConstraints",box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints);box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfA=new box2d.b2Transform;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfB=new box2d.b2Transform;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_psm=new box2d.b2PositionSolverManifold;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rA=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rB=new box2d.b2Vec2;box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_P=new box2d.b2Vec2;box2d.b2Island=function(){this.m_bodies=Array(1024),this.m_contacts=Array(1024),this.m_joints=Array(1024),this.m_positions=box2d.b2Position.MakeArray(1024),this.m_velocities=box2d.b2Velocity.MakeArray(1024)};goog.exportSymbol("box2d.b2Island",box2d.b2Island);box2d.b2Island.prototype.m_allocator=null;goog.exportProperty(box2d.b2Island.prototype,"m_allocator",box2d.b2Island.prototype.m_allocator);box2d.b2Island.prototype.m_listener=null;goog.exportProperty(box2d.b2Island.prototype,"m_listener",box2d.b2Island.prototype.m_listener);box2d.b2Island.prototype.m_bodies=null;goog.exportProperty(box2d.b2Island.prototype,"m_bodies",box2d.b2Island.prototype.m_bodies);box2d.b2Island.prototype.m_contacts=null;goog.exportProperty(box2d.b2Island.prototype,"m_contacts",box2d.b2Island.prototype.m_contacts);box2d.b2Island.prototype.m_joints=null;goog.exportProperty(box2d.b2Island.prototype,"m_joints",box2d.b2Island.prototype.m_joints);box2d.b2Island.prototype.m_positions=null;goog.exportProperty(box2d.b2Island.prototype,"m_positions",box2d.b2Island.prototype.m_positions);box2d.b2Island.prototype.m_velocities=null;goog.exportProperty(box2d.b2Island.prototype,"m_velocities",box2d.b2Island.prototype.m_velocities);box2d.b2Island.prototype.m_bodyCount=0;goog.exportProperty(box2d.b2Island.prototype,"m_bodyCount",box2d.b2Island.prototype.m_bodyCount);box2d.b2Island.prototype.m_jointCount=0;goog.exportProperty(box2d.b2Island.prototype,"m_jointCount",box2d.b2Island.prototype.m_jointCount);box2d.b2Island.prototype.m_contactCount=0;goog.exportProperty(box2d.b2Island.prototype,"m_contactCount",box2d.b2Island.prototype.m_contactCount);box2d.b2Island.prototype.m_bodyCapacity=0;goog.exportProperty(box2d.b2Island.prototype,"m_bodyCapacity",box2d.b2Island.prototype.m_bodyCapacity);box2d.b2Island.prototype.m_contactCapacity=0;goog.exportProperty(box2d.b2Island.prototype,"m_contactCapacity",box2d.b2Island.prototype.m_contactCapacity);box2d.b2Island.prototype.m_jointCapacity=0;goog.exportProperty(box2d.b2Island.prototype,"m_jointCapacity",box2d.b2Island.prototype.m_jointCapacity);box2d.b2Island.prototype.Initialize=function(V,x,o,_o,_i){for(this.m_bodyCapacity=V,this.m_contactCapacity=x,this.m_jointCapacity=o,this.m_jointCount=this.m_contactCount=this.m_bodyCount=0,this.m_allocator=_o,this.m_listener=_i;this.m_bodies.length<V;)this.m_bodies[this.m_bodies.length]=null;for(;this.m_contacts.length<x;)this.m_contacts[this.m_contacts.length]=null;for(;this.m_joints.length<o;)this.m_joints[this.m_joints.length]=null;if(this.m_positions.length<V)for(x=box2d.b2Max(2*this.m_positions.length,V),box2d.DEBUG&&window.console.log("box2d.b2Island.m_positions: "+x);this.m_positions.length<x;)this.m_positions[this.m_positions.length]=new box2d.b2Position;if(this.m_velocities.length<V)for(x=box2d.b2Max(2*this.m_velocities.length,V),box2d.DEBUG&&window.console.log("box2d.b2Island.m_velocities: "+x);this.m_velocities.length<x;)this.m_velocities[this.m_velocities.length]=new box2d.b2Velocity};goog.exportProperty(box2d.b2Island.prototype,"Initialize",box2d.b2Island.prototype.Initialize);box2d.b2Island.prototype.Clear=function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0};goog.exportProperty(box2d.b2Island.prototype,"Clear",box2d.b2Island.prototype.Clear);box2d.b2Island.prototype.AddBody=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_bodyCount<this.m_bodyCapacity),V.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=V};goog.exportProperty(box2d.b2Island.prototype,"AddBody",box2d.b2Island.prototype.AddBody);box2d.b2Island.prototype.AddContact=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_contactCount<this.m_contactCapacity),this.m_contacts[this.m_contactCount++]=V};goog.exportProperty(box2d.b2Island.prototype,"AddContact",box2d.b2Island.prototype.AddContact);box2d.b2Island.prototype.AddJoint=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_jointCount<this.m_jointCapacity),this.m_joints[this.m_jointCount++]=V};goog.exportProperty(box2d.b2Island.prototype,"AddJoint",box2d.b2Island.prototype.AddJoint);box2d.b2Island.prototype.Solve=function(V,x,o,_o){for(var _i=box2d.b2Island.s_timer.Reset(),l=x.dt,t_=0;t_<this.m_bodyCount;++t_){var o_=this.m_bodies[t_],i_=this.m_positions[t_].c.Copy(o_.m_sweep.c),_e=o_.m_sweep.a,l_=this.m_velocities[t_].v.Copy(o_.m_linearVelocity),ws=o_.m_angularVelocity;o_.m_sweep.c0.Copy(o_.m_sweep.c),o_.m_sweep.a0=o_.m_sweep.a,o_.m_type===box2d.b2BodyType.b2_dynamicBody&&(l_.x+=l*(o_.m_gravityScale*o.x+o_.m_invMass*o_.m_force.x),l_.y+=l*(o_.m_gravityScale*o.y+o_.m_invMass*o_.m_force.y),ws+=l*o_.m_invI*o_.m_torque,l_.SelfMul(1/(1+l*o_.m_linearDamping)),ws*=1/(1+l*o_.m_angularDamping)),this.m_positions[t_].a=_e,this.m_velocities[t_].w=ws}for(_i.Reset(),o_=box2d.b2Island.s_solverData,o_.step.Copy(x),o_.positions=this.m_positions,o_.velocities=this.m_velocities,t_=box2d.b2Island.s_contactSolverDef,t_.step.Copy(x),t_.contacts=this.m_contacts,t_.count=this.m_contactCount,t_.positions=this.m_positions,t_.velocities=this.m_velocities,t_.allocator=this.m_allocator,o=box2d.b2Island.s_contactSolver.Initialize(t_),o.InitializeVelocityConstraints(),x.warmStarting&&o.WarmStart(),t_=0;t_<this.m_jointCount;++t_)this.m_joints[t_].InitVelocityConstraints(o_);for(V.solveInit=_i.GetMilliseconds(),_i.Reset(),t_=0;t_<x.velocityIterations;++t_){for(_e=0;_e<this.m_jointCount;++_e)this.m_joints[_e].SolveVelocityConstraints(o_);o.SolveVelocityConstraints()}for(o.StoreImpulses(),V.solveVelocity=_i.GetMilliseconds(),t_=0;t_<this.m_bodyCount;++t_){var i_=this.m_positions[t_].c,_e=this.m_positions[t_].a,l_=this.m_velocities[t_].v,ws=this.m_velocities[t_].w,h_=box2d.b2Mul_S_V2(l,l_,box2d.b2Island.s_translation);box2d.b2Dot_V2_V2(h_,h_)>box2d.b2_maxTranslationSquared&&(h_=box2d.b2_maxTranslation/h_.Length(),l_.SelfMul(h_)),h_=l*ws,h_*h_>box2d.b2_maxRotationSquared&&(h_=box2d.b2_maxRotation/box2d.b2Abs(h_),ws*=h_),i_.x+=l*l_.x,i_.y+=l*l_.y,_e+=l*ws,this.m_positions[t_].a=_e,this.m_velocities[t_].w=ws}for(_i.Reset(),i_=!1,t_=0;t_<x.positionIterations;++t_){for(l_=o.SolvePositionConstraints(),ws=!0,_e=0;_e<this.m_jointCount;++_e)h_=this.m_joints[_e].SolvePositionConstraints(o_),ws=ws&&h_;if(l_&&ws){i_=!0;break}}for(t_=0;t_<this.m_bodyCount;++t_)x=this.m_bodies[t_],x.m_sweep.c.Copy(this.m_positions[t_].c),x.m_sweep.a=this.m_positions[t_].a,x.m_linearVelocity.Copy(this.m_velocities[t_].v),x.m_angularVelocity=this.m_velocities[t_].w,x.SynchronizeTransform();if(V.solvePosition=_i.GetMilliseconds(),this.Report(o.m_velocityConstraints),_o){for(V=box2d.b2_maxFloat,_o=box2d.b2_linearSleepTolerance*box2d.b2_linearSleepTolerance,_i=box2d.b2_angularSleepTolerance*box2d.b2_angularSleepTolerance,t_=0;t_<this.m_bodyCount;++t_)o_=this.m_bodies[t_],o_.GetType()!==box2d.b2BodyType.b2_staticBody&&(!o_.m_flag_autoSleepFlag||o_.m_angularVelocity*o_.m_angularVelocity>_i||box2d.b2Dot_V2_V2(o_.m_linearVelocity,o_.m_linearVelocity)>_o?V=o_.m_sleepTime=0:(o_.m_sleepTime+=l,V=box2d.b2Min(V,o_.m_sleepTime)));if(V>=box2d.b2_timeToSleep&&i_)for(t_=0;t_<this.m_bodyCount;++t_)o_=this.m_bodies[t_],o_.SetAwake(!1)}};goog.exportProperty(box2d.b2Island.prototype,"Solve",box2d.b2Island.prototype.Solve);box2d.b2Island.prototype.SolveTOI=function(V,x,o){box2d.ENABLE_ASSERTS&&box2d.b2Assert(x<this.m_bodyCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(o<this.m_bodyCount);for(var _o=0;_o<this.m_bodyCount;++_o){var _i=this.m_bodies[_o];this.m_positions[_o].c.Copy(_i.m_sweep.c),this.m_positions[_o].a=_i.m_sweep.a,this.m_velocities[_o].v.Copy(_i.m_linearVelocity),this.m_velocities[_o].w=_i.m_angularVelocity}for(_o=box2d.b2Island.s_contactSolverDef,_o.contacts=this.m_contacts,_o.count=this.m_contactCount,_o.allocator=this.m_allocator,_o.step.Copy(V),_o.positions=this.m_positions,_o.velocities=this.m_velocities,_i=box2d.b2Island.s_contactSolver.Initialize(_o),_o=0;_o<V.positionIterations&&!_i.SolveTOIPositionConstraints(x,o);++_o);for(this.m_bodies[x].m_sweep.c0.Copy(this.m_positions[x].c),this.m_bodies[x].m_sweep.a0=this.m_positions[x].a,this.m_bodies[o].m_sweep.c0.Copy(this.m_positions[o].c),this.m_bodies[o].m_sweep.a0=this.m_positions[o].a,_i.InitializeVelocityConstraints(),_o=0;_o<V.velocityIterations;++_o)_i.SolveVelocityConstraints();for(V=V.dt,_o=0;_o<this.m_bodyCount;++_o){x=this.m_positions[_o].c,o=this.m_positions[_o].a;var l=this.m_velocities[_o].v,t_=this.m_velocities[_o].w,o_=box2d.b2Mul_S_V2(V,l,box2d.b2Island.s_translation);box2d.b2Dot_V2_V2(o_,o_)>box2d.b2_maxTranslationSquared&&(o_=box2d.b2_maxTranslation/o_.Length(),l.SelfMul(o_)),o_=V*t_,o_*o_>box2d.b2_maxRotationSquared&&(o_=box2d.b2_maxRotation/box2d.b2Abs(o_),t_*=o_),x.SelfMulAdd(V,l),o+=V*t_,this.m_positions[_o].a=o,this.m_velocities[_o].w=t_,o_=this.m_bodies[_o],o_.m_sweep.c.Copy(x),o_.m_sweep.a=o,o_.m_linearVelocity.Copy(l),o_.m_angularVelocity=t_,o_.SynchronizeTransform()}this.Report(_i.m_velocityConstraints)};goog.exportProperty(box2d.b2Island.prototype,"SolveTOI",box2d.b2Island.prototype.SolveTOI);box2d.b2Island.prototype.Report=function(V){if(this.m_listener!==null)for(var x=0;x<this.m_contactCount;++x){var o=this.m_contacts[x];if(o){var _o=V[x],_i=box2d.b2Island.s_impulse;_i.count=_o.pointCount;for(var l=0;l<_o.pointCount;++l)_i.normalImpulses[l]=_o.points[l].normalImpulse,_i.tangentImpulses[l]=_o.points[l].tangentImpulse;this.m_listener.PostSolve(o,_i)}}};goog.exportProperty(box2d.b2Island.prototype,"Report",box2d.b2Island.prototype.Report);box2d.b2Island.s_timer=new box2d.b2Timer;box2d.b2Island.s_solverData=new box2d.b2SolverData;box2d.b2Island.s_contactSolverDef=new box2d.b2ContactSolverDef;box2d.b2Island.s_contactSolver=new box2d.b2ContactSolver;box2d.b2Island.s_translation=new box2d.b2Vec2;box2d.b2Island.s_impulse=new box2d.b2ContactImpulse;box2d.b2JointType={e_unknownJoint:0,e_revoluteJoint:1,e_prismaticJoint:2,e_distanceJoint:3,e_pulleyJoint:4,e_mouseJoint:5,e_gearJoint:6,e_wheelJoint:7,e_weldJoint:8,e_frictionJoint:9,e_ropeJoint:10,e_motorJoint:11,e_areaJoint:12};goog.exportSymbol("box2d.b2JointType",box2d.b2JointType);goog.exportProperty(box2d.b2JointType,"e_unknownJoint",box2d.b2JointType.e_unknownJoint);goog.exportProperty(box2d.b2JointType,"e_revoluteJoint",box2d.b2JointType.e_revoluteJoint);goog.exportProperty(box2d.b2JointType,"e_prismaticJoint",box2d.b2JointType.e_prismaticJoint);goog.exportProperty(box2d.b2JointType,"e_distanceJoint",box2d.b2JointType.e_distanceJoint);goog.exportProperty(box2d.b2JointType,"e_pulleyJoint",box2d.b2JointType.e_pulleyJoint);goog.exportProperty(box2d.b2JointType,"e_mouseJoint",box2d.b2JointType.e_mouseJoint);goog.exportProperty(box2d.b2JointType,"e_gearJoint",box2d.b2JointType.e_gearJoint);goog.exportProperty(box2d.b2JointType,"e_wheelJoint",box2d.b2JointType.e_wheelJoint);goog.exportProperty(box2d.b2JointType,"e_weldJoint",box2d.b2JointType.e_weldJoint);goog.exportProperty(box2d.b2JointType,"e_frictionJoint",box2d.b2JointType.e_frictionJoint);goog.exportProperty(box2d.b2JointType,"e_ropeJoint",box2d.b2JointType.e_ropeJoint);goog.exportProperty(box2d.b2JointType,"e_motorJoint",box2d.b2JointType.e_motorJoint);goog.exportProperty(box2d.b2JointType,"e_areaJoint",box2d.b2JointType.e_areaJoint);box2d.b2LimitState={e_inactiveLimit:0,e_atLowerLimit:1,e_atUpperLimit:2,e_equalLimits:3};goog.exportSymbol("box2d.b2LimitState",box2d.b2LimitState);goog.exportProperty(box2d.b2LimitState,"e_inactiveLimit",box2d.b2LimitState.e_inactiveLimit);goog.exportProperty(box2d.b2LimitState,"e_atLowerLimit",box2d.b2LimitState.e_atLowerLimit);goog.exportProperty(box2d.b2LimitState,"e_atUpperLimit",box2d.b2LimitState.e_atUpperLimit);goog.exportProperty(box2d.b2LimitState,"e_equalLimits",box2d.b2LimitState.e_equalLimits);box2d.b2Jacobian=function(){this.linear=new box2d.b2Vec2};goog.exportSymbol("box2d.b2Jacobian",box2d.b2Jacobian);box2d.b2Jacobian.prototype.linear=null;goog.exportProperty(box2d.b2Jacobian.prototype,"linear",box2d.b2Jacobian.prototype.linear);box2d.b2Jacobian.prototype.angularA=0;goog.exportProperty(box2d.b2Jacobian.prototype,"angularA",box2d.b2Jacobian.prototype.angularA);box2d.b2Jacobian.prototype.angularB=0;goog.exportProperty(box2d.b2Jacobian.prototype,"angularB",box2d.b2Jacobian.prototype.angularB);box2d.b2Jacobian.prototype.SetZero=function(){return this.linear.SetZero(),this.angularB=this.angularA=0,this};goog.exportProperty(box2d.b2Jacobian.prototype,"SetZero",box2d.b2Jacobian.prototype.SetZero);box2d.b2Jacobian.prototype.Set=function(V,x,o){return this.linear.Copy(V),this.angularA=x,this.angularB=o,this};goog.exportProperty(box2d.b2Jacobian.prototype,"Set",box2d.b2Jacobian.prototype.Set);box2d.b2JointEdge=function(){};goog.exportSymbol("box2d.b2JointEdge",box2d.b2JointEdge);box2d.b2JointEdge.prototype.other=null;goog.exportProperty(box2d.b2JointEdge.prototype,"other",box2d.b2JointEdge.prototype.other);box2d.b2JointEdge.prototype.joint=null;goog.exportProperty(box2d.b2JointEdge.prototype,"joint",box2d.b2JointEdge.prototype.joint);box2d.b2JointEdge.prototype.prev=null;goog.exportProperty(box2d.b2JointEdge.prototype,"prev",box2d.b2JointEdge.prototype.prev);box2d.b2JointEdge.prototype.next=null;goog.exportProperty(box2d.b2JointEdge.prototype,"next",box2d.b2JointEdge.prototype.next);box2d.b2JointDef=function(V){this.type=V};goog.exportSymbol("box2d.b2JointDef",box2d.b2JointDef);box2d.b2JointDef.prototype.type=box2d.b2JointType.e_unknownJoint;goog.exportProperty(box2d.b2JointDef.prototype,"type",box2d.b2JointDef.prototype.type);box2d.b2JointDef.prototype.userData=null;goog.exportProperty(box2d.b2JointDef.prototype,"userData",box2d.b2JointDef.prototype.userData);box2d.b2JointDef.prototype.bodyA=null;goog.exportProperty(box2d.b2JointDef.prototype,"bodyA",box2d.b2JointDef.prototype.bodyA);box2d.b2JointDef.prototype.bodyB=null;goog.exportProperty(box2d.b2JointDef.prototype,"bodyB",box2d.b2JointDef.prototype.bodyB);box2d.b2JointDef.prototype.collideConnected=!1;goog.exportProperty(box2d.b2JointDef.prototype,"collideConnected",box2d.b2JointDef.prototype.collideConnected);box2d.b2Joint=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.bodyA!==V.bodyB),this.m_type=V.type,this.m_edgeA=new box2d.b2JointEdge,this.m_edgeB=new box2d.b2JointEdge,this.m_bodyA=V.bodyA,this.m_bodyB=V.bodyB,this.m_collideConnected=V.collideConnected,this.m_userData=V.userData};goog.exportSymbol("box2d.b2Joint",box2d.b2Joint);box2d.b2Joint.prototype.m_type=box2d.b2JointType.e_unknownJoint;goog.exportProperty(box2d.b2Joint.prototype,"m_type",box2d.b2Joint.prototype.m_type);box2d.b2Joint.prototype.m_prev=null;goog.exportProperty(box2d.b2Joint.prototype,"m_prev",box2d.b2Joint.prototype.m_prev);box2d.b2Joint.prototype.m_next=null;goog.exportProperty(box2d.b2Joint.prototype,"m_next",box2d.b2Joint.prototype.m_next);box2d.b2Joint.prototype.m_edgeA=null;goog.exportProperty(box2d.b2Joint.prototype,"m_edgeA",box2d.b2Joint.prototype.m_edgeA);box2d.b2Joint.prototype.m_edgeB=null;goog.exportProperty(box2d.b2Joint.prototype,"m_edgeB",box2d.b2Joint.prototype.m_edgeB);box2d.b2Joint.prototype.m_bodyA=null;goog.exportProperty(box2d.b2Joint.prototype,"m_bodyA",box2d.b2Joint.prototype.m_bodyA);box2d.b2Joint.prototype.m_bodyB=null;goog.exportProperty(box2d.b2Joint.prototype,"m_bodyB",box2d.b2Joint.prototype.m_bodyB);box2d.b2Joint.prototype.m_index=0;goog.exportProperty(box2d.b2Joint.prototype,"m_index",box2d.b2Joint.prototype.m_index);box2d.b2Joint.prototype.m_islandFlag=!1;goog.exportProperty(box2d.b2Joint.prototype,"m_islandFlag",box2d.b2Joint.prototype.m_islandFlag);box2d.b2Joint.prototype.m_collideConnected=!1;goog.exportProperty(box2d.b2Joint.prototype,"m_collideConnected",box2d.b2Joint.prototype.m_collideConnected);box2d.b2Joint.prototype.m_userData=null;goog.exportProperty(box2d.b2Joint.prototype,"m_userData",box2d.b2Joint.prototype.m_userData);box2d.b2Joint.prototype.GetAnchorA=function(V){return V.SetZero()};goog.exportProperty(box2d.b2Joint.prototype,"GetAnchorA",box2d.b2Joint.prototype.GetAnchorA);box2d.b2Joint.prototype.GetAnchorB=function(V){return V.SetZero()};goog.exportProperty(box2d.b2Joint.prototype,"GetAnchorB",box2d.b2Joint.prototype.GetAnchorB);box2d.b2Joint.prototype.GetReactionForce=function(V,x){return x.SetZero()};goog.exportProperty(box2d.b2Joint.prototype,"GetReactionForce",box2d.b2Joint.prototype.GetReactionForce);box2d.b2Joint.prototype.GetReactionTorque=function(V){return 0};goog.exportProperty(box2d.b2Joint.prototype,"GetReactionTorque",box2d.b2Joint.prototype.GetReactionTorque);box2d.b2Joint.prototype.InitVelocityConstraints=function(V){};goog.exportProperty(box2d.b2Joint.prototype,"InitVelocityConstraints",box2d.b2Joint.prototype.InitVelocityConstraints);box2d.b2Joint.prototype.SolveVelocityConstraints=function(V){};goog.exportProperty(box2d.b2Joint.prototype,"SolveVelocityConstraints",box2d.b2Joint.prototype.SolveVelocityConstraints);box2d.b2Joint.prototype.SolvePositionConstraints=function(V){return!1};goog.exportProperty(box2d.b2Joint.prototype,"SolvePositionConstraints",box2d.b2Joint.prototype.SolvePositionConstraints);box2d.b2Joint.prototype.GetType=function(){return this.m_type};goog.exportProperty(box2d.b2Joint.prototype,"GetType",box2d.b2Joint.prototype.GetType);box2d.b2Joint.prototype.GetBodyA=function(){return this.m_bodyA};goog.exportProperty(box2d.b2Joint.prototype,"GetBodyA",box2d.b2Joint.prototype.GetBodyA);box2d.b2Joint.prototype.GetBodyB=function(){return this.m_bodyB};goog.exportProperty(box2d.b2Joint.prototype,"GetBodyB",box2d.b2Joint.prototype.GetBodyB);box2d.b2Joint.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2Joint.prototype,"GetNext",box2d.b2Joint.prototype.GetNext);box2d.b2Joint.prototype.GetUserData=function(){return this.m_userData};goog.exportProperty(box2d.b2Joint.prototype,"GetUserData",box2d.b2Joint.prototype.GetUserData);box2d.b2Joint.prototype.SetUserData=function(V){this.m_userData=V};goog.exportProperty(box2d.b2Joint.prototype,"SetUserData",box2d.b2Joint.prototype.SetUserData);box2d.b2Joint.prototype.GetCollideConnected=function(){return this.m_collideConnected};goog.exportProperty(box2d.b2Joint.prototype,"GetCollideConnected",box2d.b2Joint.prototype.GetCollideConnected);box2d.b2Joint.prototype.Dump=function(){box2d.DEBUG&&box2d.b2Log(`// Dump is not supported for this joint type.
`)};goog.exportProperty(box2d.b2Joint.prototype,"Dump",box2d.b2Joint.prototype.Dump);box2d.b2Joint.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()};goog.exportProperty(box2d.b2Joint.prototype,"IsActive",box2d.b2Joint.prototype.IsActive);box2d.b2Joint.prototype.ShiftOrigin=function(V){};goog.exportProperty(box2d.b2Joint.prototype,"ShiftOrigin",box2d.b2Joint.prototype.ShiftOrigin);box2d.b2AreaJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_areaJoint),this.bodies=[]};goog.inherits(box2d.b2AreaJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2AreaJointDef",box2d.b2AreaJointDef);box2d.b2AreaJointDef.prototype.world=null;goog.exportProperty(box2d.b2AreaJointDef.prototype,"world",box2d.b2AreaJointDef.prototype.world);box2d.b2AreaJointDef.prototype.bodies=null;goog.exportProperty(box2d.b2AreaJointDef.prototype,"bodies",box2d.b2AreaJointDef.prototype.bodies);box2d.b2AreaJointDef.prototype.frequencyHz=0;goog.exportProperty(box2d.b2AreaJointDef.prototype,"frequencyHz",box2d.b2AreaJointDef.prototype.frequencyHz);box2d.b2AreaJointDef.prototype.dampingRatio=0;goog.exportProperty(box2d.b2AreaJointDef.prototype,"dampingRatio",box2d.b2AreaJointDef.prototype.dampingRatio);box2d.b2AreaJointDef.prototype.AddBody=function(V){this.bodies.push(V),this.bodies.length===1?this.bodyA=V:this.bodies.length===2&&(this.bodyB=V)};goog.exportProperty(box2d.b2AreaJointDef.prototype,"AddBody",box2d.b2AreaJointDef.prototype.AddBody);box2d.b2AreaJoint=function(V){box2d.b2Joint.call(this,V),box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=V.bodies.length,"You cannot create an area joint with less than three bodies."),this.m_bodies=V.bodies,this.m_frequencyHz=V.frequencyHz,this.m_dampingRatio=V.dampingRatio,this.m_targetLengths=box2d.b2MakeNumberArray(V.bodies.length),this.m_normals=box2d.b2Vec2.MakeArray(V.bodies.length),this.m_joints=Array(V.bodies.length),this.m_deltas=box2d.b2Vec2.MakeArray(V.bodies.length),this.m_delta=new box2d.b2Vec2;var x=new box2d.b2DistanceJointDef;x.frequencyHz=V.frequencyHz,x.dampingRatio=V.dampingRatio;for(var o=this.m_targetArea=0,_o=this.m_bodies.length;o<_o;++o){var _i=this.m_bodies[o],l=this.m_bodies[(o+1)%_o],t_=_i.GetWorldCenter(),o_=l.GetWorldCenter();this.m_targetLengths[o]=box2d.b2Distance(t_,o_),this.m_targetArea+=box2d.b2Cross_V2_V2(t_,o_),x.Initialize(_i,l,t_,o_),this.m_joints[o]=V.world.CreateJoint(x)}this.m_targetArea*=.5};goog.inherits(box2d.b2AreaJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2AreaJoint",box2d.b2AreaJoint);box2d.b2AreaJoint.prototype.m_bodies=null;goog.exportProperty(box2d.b2AreaJoint.prototype,"m_bodies",box2d.b2AreaJoint.prototype.m_bodies);box2d.b2AreaJoint.prototype.m_frequencyHz=0;goog.exportProperty(box2d.b2AreaJoint.prototype,"m_frequencyHz",box2d.b2AreaJoint.prototype.m_frequencyHz);box2d.b2AreaJoint.prototype.m_dampingRatio=0;goog.exportProperty(box2d.b2AreaJoint.prototype,"m_dampingRatio",box2d.b2AreaJoint.prototype.m_dampingRatio);box2d.b2AreaJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2AreaJoint.prototype,"m_impulse",box2d.b2AreaJoint.prototype.m_impulse);box2d.b2AreaJoint.prototype.m_targetLengths=null;box2d.b2AreaJoint.prototype.m_targetArea=0;box2d.b2AreaJoint.prototype.m_normals=null;box2d.b2AreaJoint.prototype.m_joints=null;box2d.b2AreaJoint.prototype.m_deltas=null;box2d.b2AreaJoint.prototype.m_delta=null;box2d.b2AreaJoint.prototype.GetAnchorA=function(V){return V.SetZero()};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetAnchorA",box2d.b2AreaJoint.prototype.GetAnchorA);box2d.b2AreaJoint.prototype.GetAnchorB=function(V){return V.SetZero()};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetAnchorB",box2d.b2AreaJoint.prototype.GetAnchorB);box2d.b2AreaJoint.prototype.GetReactionForce=function(V,x){return x.SetZero()};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetReactionForce",box2d.b2AreaJoint.prototype.GetReactionForce);box2d.b2AreaJoint.prototype.GetReactionTorque=function(V){return 0};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetReactionTorque",box2d.b2AreaJoint.prototype.GetReactionTorque);box2d.b2AreaJoint.prototype.SetFrequency=function(V){this.m_frequencyHz=V;for(var x=0,o=this.m_joints.length;x<o;++x)this.m_joints[x].SetFrequency(V)};goog.exportProperty(box2d.b2AreaJoint.prototype,"SetFrequency",box2d.b2AreaJoint.prototype.SetFrequency);box2d.b2AreaJoint.prototype.GetFrequency=function(){return this.m_frequencyHz};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetFrequency",box2d.b2AreaJoint.prototype.GetFrequency);box2d.b2AreaJoint.prototype.SetDampingRatio=function(V){this.m_dampingRatio=V;for(var x=0,o=this.m_joints.length;x<o;++x)this.m_joints[x].SetDampingRatio(V)};goog.exportProperty(box2d.b2AreaJoint.prototype,"SetDampingRatio",box2d.b2AreaJoint.prototype.SetDampingRatio);box2d.b2AreaJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio};goog.exportProperty(box2d.b2AreaJoint.prototype,"GetDampingRatio",box2d.b2AreaJoint.prototype.GetDampingRatio);box2d.b2AreaJoint.prototype.Dump=function(){box2d.DEBUG&&box2d.b2Log(`Area joint dumping is not supported.
`)};goog.exportProperty(box2d.b2AreaJoint.prototype,"Dump",box2d.b2AreaJoint.prototype.Dump);box2d.b2AreaJoint.prototype.InitVelocityConstraints=function(V){for(var x=0,o=this.m_bodies.length;x<o;++x){var _o=this.m_deltas[x];box2d.b2Sub_V2_V2(V.positions[this.m_bodies[(x+1)%o].m_islandIndex].c,V.positions[this.m_bodies[(x+o-1)%o].m_islandIndex].c,_o)}if(V.step.warmStarting)for(this.m_impulse*=V.step.dtRatio,x=0,o=this.m_bodies.length;x<o;++x){var _i=this.m_bodies[x],l=V.velocities[_i.m_islandIndex].v,_o=this.m_deltas[x];l.x+=_i.m_invMass*_o.y*.5*this.m_impulse,l.y+=_i.m_invMass*-_o.x*.5*this.m_impulse}else this.m_impulse=0};goog.exportProperty(box2d.b2AreaJoint.prototype,"InitVelocityConstraints",box2d.b2AreaJoint.prototype.InitVelocityConstraints);box2d.b2AreaJoint.prototype.SolveVelocityConstraints=function(V){for(var t_=0,o_=0,x=0,o=this.m_bodies.length;x<o;++x)var _o=this.m_bodies[x],_i=V.velocities[_o.m_islandIndex].v,l=this.m_deltas[x],t_=t_+l.LengthSquared()/_o.GetMass(),o_=o_+box2d.b2Cross_V2_V2(_i,l);for(t_=-2*o_/t_,this.m_impulse+=t_,x=0,o=this.m_bodies.length;x<o;++x)_o=this.m_bodies[x],_i=V.velocities[_o.m_islandIndex].v,l=this.m_deltas[x],_i.x+=_o.m_invMass*l.y*.5*t_,_i.y+=_o.m_invMass*-l.x*.5*t_};goog.exportProperty(box2d.b2AreaJoint.prototype,"SolveVelocityConstraints",box2d.b2AreaJoint.prototype.SolveVelocityConstraints);box2d.b2AreaJoint.prototype.SolvePositionConstraints=function(V){for(var x=0,o=0,_o=0,_i=this.m_bodies.length;_o<_i;++_o){var l=this.m_bodies[_o],l=V.positions[l.m_islandIndex].c,t_=V.positions[this.m_bodies[(_o+1)%_i].m_islandIndex].c,o_=box2d.b2Sub_V2_V2(t_,l,this.m_delta),i_=o_.Length();i_<box2d.b2_epsilon&&(i_=1),this.m_normals[_o].x=o_.y/i_,this.m_normals[_o].y=-o_.x/i_,x+=i_,o+=box2d.b2Cross_V2_V2(l,t_)}for(x=.5*(this.m_targetArea-.5*o)/x,o=!0,_o=0,_i=this.m_bodies.length;_o<_i;++_o)l=this.m_bodies[_o],l=V.positions[l.m_islandIndex].c,o_=box2d.b2Add_V2_V2(this.m_normals[_o],this.m_normals[(_o+1)%_i],this.m_delta),o_.SelfMul(x),t_=o_.LengthSquared(),t_>box2d.b2Sq(box2d.b2_maxLinearCorrection)&&o_.SelfMul(box2d.b2_maxLinearCorrection/box2d.b2Sqrt(t_)),t_>box2d.b2Sq(box2d.b2_linearSlop)&&(o=!1),l.x+=o_.x,l.y+=o_.y;return o};goog.exportProperty(box2d.b2AreaJoint.prototype,"SolvePositionConstraints",box2d.b2AreaJoint.prototype.SolvePositionConstraints);box2d.b2DistanceJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_distanceJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2};goog.inherits(box2d.b2DistanceJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2DistanceJointDef",box2d.b2DistanceJointDef);box2d.b2DistanceJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2DistanceJointDef.prototype,"localAnchorA",box2d.b2DistanceJointDef.prototype.localAnchorA);box2d.b2DistanceJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2DistanceJointDef.prototype,"localAnchorB",box2d.b2DistanceJointDef.prototype.localAnchorB);box2d.b2DistanceJointDef.prototype.length=1;goog.exportProperty(box2d.b2DistanceJointDef.prototype,"length",box2d.b2DistanceJointDef.prototype.length);box2d.b2DistanceJointDef.prototype.frequencyHz=0;goog.exportProperty(box2d.b2DistanceJointDef.prototype,"frequencyHz",box2d.b2DistanceJointDef.prototype.frequencyHz);box2d.b2DistanceJointDef.prototype.dampingRatio=0;goog.exportProperty(box2d.b2DistanceJointDef.prototype,"dampingRatio",box2d.b2DistanceJointDef.prototype.dampingRatio);box2d.b2DistanceJointDef.prototype.Initialize=function(V,x,o,_o){this.bodyA=V,this.bodyB=x,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(_o,this.localAnchorB),this.length=box2d.b2Distance(o,_o),this.dampingRatio=this.frequencyHz=0};goog.exportProperty(box2d.b2DistanceJointDef.prototype,"Initialize",box2d.b2DistanceJointDef.prototype.Initialize);box2d.b2DistanceJoint=function(V){box2d.b2Joint.call(this,V),this.m_u=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_frequencyHz=V.frequencyHz,this.m_dampingRatio=V.dampingRatio,this.m_localAnchorA=V.localAnchorA.Clone(),this.m_localAnchorB=V.localAnchorB.Clone(),this.m_length=V.length};goog.inherits(box2d.b2DistanceJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2DistanceJoint",box2d.b2DistanceJoint);box2d.b2DistanceJoint.prototype.m_frequencyHz=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_frequencyHz",box2d.b2DistanceJoint.prototype.m_frequencyHz);box2d.b2DistanceJoint.prototype.m_dampingRatio=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_dampingRatio",box2d.b2DistanceJoint.prototype.m_dampingRatio);box2d.b2DistanceJoint.prototype.m_bias=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_bias",box2d.b2DistanceJoint.prototype.m_bias);box2d.b2DistanceJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_localAnchorA",box2d.b2DistanceJoint.prototype.m_localAnchorA);box2d.b2DistanceJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_localAnchorB",box2d.b2DistanceJoint.prototype.m_localAnchorB);box2d.b2DistanceJoint.prototype.m_gamma=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_gamma",box2d.b2DistanceJoint.prototype.m_gamma);box2d.b2DistanceJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_impulse",box2d.b2DistanceJoint.prototype.m_impulse);box2d.b2DistanceJoint.prototype.m_length=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_length",box2d.b2DistanceJoint.prototype.m_length);box2d.b2DistanceJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_indexA",box2d.b2DistanceJoint.prototype.m_indexA);box2d.b2DistanceJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_indexB",box2d.b2DistanceJoint.prototype.m_indexB);box2d.b2DistanceJoint.prototype.m_u=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_u",box2d.b2DistanceJoint.prototype.m_u);box2d.b2DistanceJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_rA",box2d.b2DistanceJoint.prototype.m_rA);box2d.b2DistanceJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_rB",box2d.b2DistanceJoint.prototype.m_rB);box2d.b2DistanceJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_localCenterA",box2d.b2DistanceJoint.prototype.m_localCenterA);box2d.b2DistanceJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_localCenterB",box2d.b2DistanceJoint.prototype.m_localCenterB);box2d.b2DistanceJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_invMassA",box2d.b2DistanceJoint.prototype.m_invMassA);box2d.b2DistanceJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_invMassB",box2d.b2DistanceJoint.prototype.m_invMassB);box2d.b2DistanceJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_invIA",box2d.b2DistanceJoint.prototype.m_invIA);box2d.b2DistanceJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_invIB",box2d.b2DistanceJoint.prototype.m_invIB);box2d.b2DistanceJoint.prototype.m_mass=0;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_mass",box2d.b2DistanceJoint.prototype.m_mass);box2d.b2DistanceJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_qA",box2d.b2DistanceJoint.prototype.m_qA);box2d.b2DistanceJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_qB",box2d.b2DistanceJoint.prototype.m_qB);box2d.b2DistanceJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_lalcA",box2d.b2DistanceJoint.prototype.m_lalcA);box2d.b2DistanceJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2DistanceJoint.prototype,"m_lalcB",box2d.b2DistanceJoint.prototype.m_lalcB);box2d.b2DistanceJoint.prototype.GetAnchorA=function(V){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,V)};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetAnchorA",box2d.b2DistanceJoint.prototype.GetAnchorA);box2d.b2DistanceJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,V)};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetAnchorB",box2d.b2DistanceJoint.prototype.GetAnchorB);box2d.b2DistanceJoint.prototype.GetReactionForce=function(V,x){return x.Set(V*this.m_impulse*this.m_u.x,V*this.m_impulse*this.m_u.y)};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetReactionForce",box2d.b2DistanceJoint.prototype.GetReactionForce);box2d.b2DistanceJoint.prototype.GetReactionTorque=function(V){return 0};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetReactionTorque",box2d.b2DistanceJoint.prototype.GetReactionTorque);box2d.b2DistanceJoint.prototype.GetLocalAnchorA=function(V){return V.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetLocalAnchorA",box2d.b2DistanceJoint.prototype.GetLocalAnchorA);box2d.b2DistanceJoint.prototype.GetLocalAnchorB=function(V){return V.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetLocalAnchorB",box2d.b2DistanceJoint.prototype.GetLocalAnchorB);box2d.b2DistanceJoint.prototype.SetLength=function(V){this.m_length=V};goog.exportProperty(box2d.b2DistanceJoint.prototype,"SetLength",box2d.b2DistanceJoint.prototype.SetLength);box2d.b2DistanceJoint.prototype.GetLength=function(){return this.m_length};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetLength",box2d.b2DistanceJoint.prototype.GetLength);box2d.b2DistanceJoint.prototype.SetFrequency=function(V){this.m_frequencyHz=V};goog.exportProperty(box2d.b2DistanceJoint.prototype,"SetFrequency",box2d.b2DistanceJoint.prototype.SetFrequency);box2d.b2DistanceJoint.prototype.GetFrequency=function(){return this.m_frequencyHz};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetFrequency",box2d.b2DistanceJoint.prototype.GetFrequency);box2d.b2DistanceJoint.prototype.SetDampingRatio=function(V){this.m_dampingRatio=V};goog.exportProperty(box2d.b2DistanceJoint.prototype,"SetDampingRatio",box2d.b2DistanceJoint.prototype.SetDampingRatio);box2d.b2DistanceJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio};goog.exportProperty(box2d.b2DistanceJoint.prototype,"GetDampingRatio",box2d.b2DistanceJoint.prototype.GetDampingRatio);box2d.b2DistanceJoint.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_bodyA.m_islandIndex,x=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2DistanceJointDef*/ var jd = new box2d.b2DistanceJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,V),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,x),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.length = %.15f;
`,this.m_length),box2d.b2Log(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),box2d.b2Log(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2DistanceJoint.prototype,"Dump",box2d.b2DistanceJoint.prototype.Dump);box2d.b2DistanceJoint.prototype.InitVelocityConstraints=function(V){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var x=V.positions[this.m_indexA].c,o=V.velocities[this.m_indexA].v,_o=V.velocities[this.m_indexA].w,_i=V.positions[this.m_indexB].c,i_=V.positions[this.m_indexB].a,l=V.velocities[this.m_indexB].v,t_=V.velocities[this.m_indexB].w,o_=this.m_qA.SetAngle(V.positions[this.m_indexA].a),i_=this.m_qB.SetAngle(i_);if(box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(i_,this.m_lalcB,this.m_rB),this.m_u.x=_i.x+this.m_rB.x-x.x-this.m_rA.x,this.m_u.y=_i.y+this.m_rB.y-x.y-this.m_rA.y,_i=this.m_u.Length(),_i>box2d.b2_linearSlop?this.m_u.SelfMul(1/_i):this.m_u.SetZero(),x=box2d.b2Cross_V2_V2(this.m_rA,this.m_u),o_=box2d.b2Cross_V2_V2(this.m_rB,this.m_u),x=this.m_invMassA+this.m_invIA*x*x+this.m_invMassB+this.m_invIB*o_*o_,this.m_mass=x!==0?1/x:0,0<this.m_frequencyHz){var _i=_i-this.m_length,o_=2*box2d.b2_pi*this.m_frequencyHz,i_=this.m_mass*o_*o_,_e=V.step.dt;this.m_gamma=_e*(2*this.m_mass*this.m_dampingRatio*o_+_e*i_),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=_i*_e*i_*this.m_gamma,x+=this.m_gamma,this.m_mass=x!==0?1/x:0}else this.m_bias=this.m_gamma=0;V.step.warmStarting?(this.m_impulse*=V.step.dtRatio,x=box2d.b2Mul_S_V2(this.m_impulse,this.m_u,box2d.b2DistanceJoint.prototype.InitVelocityConstraints.s_P),o.SelfMulSub(this.m_invMassA,x),_o-=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,x),l.SelfMulAdd(this.m_invMassB,x),t_+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,x)):this.m_impulse=0,V.velocities[this.m_indexA].w=_o,V.velocities[this.m_indexB].w=t_};goog.exportProperty(box2d.b2DistanceJoint.prototype,"InitVelocityConstraints",box2d.b2DistanceJoint.prototype.InitVelocityConstraints);box2d.b2DistanceJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2DistanceJoint.prototype.SolveVelocityConstraints=function(V){var x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,t_=box2d.b2AddCross_V2_S_V2(x,o,this.m_rA,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpA),l=box2d.b2AddCross_V2_S_V2(_o,_i,this.m_rB,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpB),t_=box2d.b2Dot_V2_V2(this.m_u,box2d.b2Sub_V2_V2(l,t_,box2d.b2Vec2.s_t0)),t_=-this.m_mass*(t_+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=t_,t_=box2d.b2Mul_S_V2(t_,this.m_u,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_P),x.SelfMulSub(this.m_invMassA,t_),o-=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,t_),_o.SelfMulAdd(this.m_invMassB,t_),_i+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,t_),V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i};goog.exportProperty(box2d.b2DistanceJoint.prototype,"SolveVelocityConstraints",box2d.b2DistanceJoint.prototype.SolveVelocityConstraints);box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d.b2Vec2;box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d.b2Vec2;box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2DistanceJoint.prototype.SolvePositionConstraints=function(V){if(0<this.m_frequencyHz)return!0;var x=V.positions[this.m_indexA].c,o=V.positions[this.m_indexA].a,_o=V.positions[this.m_indexB].c,_i=V.positions[this.m_indexB].a;this.m_qA.SetAngle(o),this.m_qB.SetAngle(_i);var l=box2d.b2Mul_R_V2(this.m_qA,this.m_lalcA,this.m_rA),t_=box2d.b2Mul_R_V2(this.m_qB,this.m_lalcB,this.m_rB),i_=this.m_u;i_.x=_o.x+t_.x-x.x-l.x,i_.y=_o.y+t_.y-x.y-l.y;var o_=this.m_u.Normalize()-this.m_length,o_=box2d.b2Clamp(o_,-box2d.b2_maxLinearCorrection,box2d.b2_maxLinearCorrection),i_=box2d.b2Mul_S_V2(-this.m_mass*o_,i_,box2d.b2DistanceJoint.prototype.SolvePositionConstraints.s_P);return x.SelfMulSub(this.m_invMassA,i_),o-=this.m_invIA*box2d.b2Cross_V2_V2(l,i_),_o.SelfMulAdd(this.m_invMassB,i_),_i+=this.m_invIB*box2d.b2Cross_V2_V2(t_,i_),V.positions[this.m_indexA].a=o,V.positions[this.m_indexB].a=_i,box2d.b2Abs(o_)<box2d.b2_linearSlop};goog.exportProperty(box2d.b2DistanceJoint.prototype,"SolvePositionConstraints",box2d.b2DistanceJoint.prototype.SolvePositionConstraints);box2d.b2DistanceJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2FrictionJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_frictionJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2};goog.inherits(box2d.b2FrictionJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2FrictionJointDef",box2d.b2FrictionJointDef);box2d.b2FrictionJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2FrictionJointDef.prototype,"localAnchorA",box2d.b2FrictionJointDef.prototype.localAnchorA);box2d.b2FrictionJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2FrictionJointDef.prototype,"localAnchorB",box2d.b2FrictionJointDef.prototype.localAnchorB);box2d.b2FrictionJointDef.prototype.maxForce=0;goog.exportProperty(box2d.b2FrictionJointDef.prototype,"maxForce",box2d.b2FrictionJointDef.prototype.maxForce);box2d.b2FrictionJointDef.prototype.maxTorque=0;goog.exportProperty(box2d.b2FrictionJointDef.prototype,"maxTorque",box2d.b2FrictionJointDef.prototype.maxTorque);box2d.b2FrictionJointDef.prototype.Initialize=function(V,x,o){this.bodyA=V,this.bodyB=x,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB)};goog.exportProperty(box2d.b2FrictionJointDef.prototype,"Initialize",box2d.b2FrictionJointDef.prototype.Initialize);box2d.b2FrictionJoint=function(V){box2d.b2Joint.call(this,V),this.m_localAnchorA=V.localAnchorA.Clone(),this.m_localAnchorB=V.localAnchorB.Clone(),this.m_linearImpulse=new box2d.b2Vec2().SetZero(),this.m_maxForce=V.maxForce,this.m_maxTorque=V.maxTorque,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_linearMass=new box2d.b2Mat22().SetZero(),this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat22};goog.inherits(box2d.b2FrictionJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2FrictionJoint",box2d.b2FrictionJoint);box2d.b2FrictionJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_localAnchorA",box2d.b2FrictionJoint.prototype.m_localAnchorA);box2d.b2FrictionJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_localAnchorB",box2d.b2FrictionJoint.prototype.m_localAnchorB);box2d.b2FrictionJoint.prototype.m_linearImpulse=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_linearImpulse",box2d.b2FrictionJoint.prototype.m_linearImpulse);box2d.b2FrictionJoint.prototype.m_angularImpulse=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_angularImpulse",box2d.b2FrictionJoint.prototype.m_angularImpulse);box2d.b2FrictionJoint.prototype.m_maxForce=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_maxForce",box2d.b2FrictionJoint.prototype.m_maxForce);box2d.b2FrictionJoint.prototype.m_maxTorque=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_maxTorque",box2d.b2FrictionJoint.prototype.m_maxTorque);box2d.b2FrictionJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_indexA",box2d.b2FrictionJoint.prototype.m_indexA);box2d.b2FrictionJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_indexB",box2d.b2FrictionJoint.prototype.m_indexB);box2d.b2FrictionJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_rA",box2d.b2FrictionJoint.prototype.m_rA);box2d.b2FrictionJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_rB",box2d.b2FrictionJoint.prototype.m_rB);box2d.b2FrictionJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_localCenterA",box2d.b2FrictionJoint.prototype.m_localCenterA);box2d.b2FrictionJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_localCenterB",box2d.b2FrictionJoint.prototype.m_localCenterB);box2d.b2FrictionJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_invMassA",box2d.b2FrictionJoint.prototype.m_invMassA);box2d.b2FrictionJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_invMassB",box2d.b2FrictionJoint.prototype.m_invMassB);box2d.b2FrictionJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_invIA",box2d.b2FrictionJoint.prototype.m_invIA);box2d.b2FrictionJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_invIB",box2d.b2FrictionJoint.prototype.m_invIB);box2d.b2FrictionJoint.prototype.m_linearMass=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_linearMass",box2d.b2FrictionJoint.prototype.m_linearMass);box2d.b2FrictionJoint.prototype.m_angularMass=0;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_angularMass",box2d.b2FrictionJoint.prototype.m_angularMass);box2d.b2FrictionJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_qA",box2d.b2FrictionJoint.prototype.m_qA);box2d.b2FrictionJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_qB",box2d.b2FrictionJoint.prototype.m_qB);box2d.b2FrictionJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_lalcA",box2d.b2FrictionJoint.prototype.m_lalcA);box2d.b2FrictionJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_lalcB",box2d.b2FrictionJoint.prototype.m_lalcB);box2d.b2FrictionJoint.prototype.m_K=null;goog.exportProperty(box2d.b2FrictionJoint.prototype,"m_K",box2d.b2FrictionJoint.prototype.m_K);box2d.b2FrictionJoint.prototype.InitVelocityConstraints=function(V){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,o_=V.positions[this.m_indexB].a,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,l=this.m_qA.SetAngle(V.positions[this.m_indexA].a),o_=this.m_qB.SetAngle(o_);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),l=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var t_=box2d.b2Mul_R_V2(o_,this.m_lalcB,this.m_rB),o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB,ws=this.m_K;ws.ex.x=o_+i_+_e*l.y*l.y+l_*t_.y*t_.y,ws.ex.y=-_e*l.x*l.y-l_*t_.x*t_.y,ws.ey.x=ws.ex.y,ws.ey.y=o_+i_+_e*l.x*l.x+l_*t_.x*t_.x,ws.GetInverse(this.m_linearMass),this.m_angularMass=_e+l_,0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass),V.step.warmStarting?(this.m_linearImpulse.SelfMul(V.step.dtRatio),this.m_angularImpulse*=V.step.dtRatio,l=this.m_linearImpulse,x.SelfMulSub(o_,l),o-=_e*(box2d.b2Cross_V2_V2(this.m_rA,l)+this.m_angularImpulse),_o.SelfMulAdd(i_,l),_i+=l_*(box2d.b2Cross_V2_V2(this.m_rB,l)+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0),V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i};goog.exportProperty(box2d.b2FrictionJoint.prototype,"InitVelocityConstraints",box2d.b2FrictionJoint.prototype.InitVelocityConstraints);box2d.b2FrictionJoint.prototype.SolveVelocityConstraints=function(V){var x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,l=this.m_invMassA,t_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB,_e=V.step.dt,l_,ws=-this.m_angularMass*(_i-o),h_=this.m_angularImpulse;l_=_e*this.m_maxTorque,this.m_angularImpulse=box2d.b2Clamp(this.m_angularImpulse+ws,-l_,l_),ws=this.m_angularImpulse-h_,o-=o_*ws,_i+=i_*ws,l_=box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(_o,_i,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(x,o,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_Cdot),ws=box2d.b2Mul_M22_V2(this.m_linearMass,l_,box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_impulseV).SelfNeg(),h_=box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_oldImpulseV.Copy(this.m_linearImpulse),this.m_linearImpulse.SelfAdd(ws),l_=_e*this.m_maxForce,this.m_linearImpulse.LengthSquared()>l_*l_&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(l_)),box2d.b2Sub_V2_V2(this.m_linearImpulse,h_,ws),x.SelfMulSub(l,ws),o-=o_*box2d.b2Cross_V2_V2(this.m_rA,ws),_o.SelfMulAdd(t_,ws),_i+=i_*box2d.b2Cross_V2_V2(this.m_rB,ws),V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i};goog.exportProperty(box2d.b2FrictionJoint.prototype,"SolveVelocityConstraints",box2d.b2FrictionJoint.prototype.SolveVelocityConstraints);box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2;box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_impulseV=new box2d.b2Vec2;box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_oldImpulseV=new box2d.b2Vec2;box2d.b2FrictionJoint.prototype.SolvePositionConstraints=function(V){return!0};goog.exportProperty(box2d.b2FrictionJoint.prototype,"SolvePositionConstraints",box2d.b2FrictionJoint.prototype.SolvePositionConstraints);box2d.b2FrictionJoint.prototype.GetAnchorA=function(V){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,V)};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetAnchorA",box2d.b2FrictionJoint.prototype.GetAnchorA);box2d.b2FrictionJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,V)};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetAnchorB",box2d.b2FrictionJoint.prototype.GetAnchorB);box2d.b2FrictionJoint.prototype.GetReactionForce=function(V,x){return x.Set(V*this.m_linearImpulse.x,V*this.m_linearImpulse.y)};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetReactionForce",box2d.b2FrictionJoint.prototype.GetReactionForce);box2d.b2FrictionJoint.prototype.GetReactionTorque=function(V){return V*this.m_angularImpulse};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetReactionTorque",box2d.b2FrictionJoint.prototype.GetReactionTorque);box2d.b2FrictionJoint.prototype.GetLocalAnchorA=function(V){return V.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetLocalAnchorA",box2d.b2FrictionJoint.prototype.GetLocalAnchorA);box2d.b2FrictionJoint.prototype.GetLocalAnchorB=function(V){return V.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetLocalAnchorB",box2d.b2FrictionJoint.prototype.GetLocalAnchorB);box2d.b2FrictionJoint.prototype.SetMaxForce=function(V){this.m_maxForce=V};goog.exportProperty(box2d.b2FrictionJoint.prototype,"SetMaxForce",box2d.b2FrictionJoint.prototype.SetMaxForce);box2d.b2FrictionJoint.prototype.GetMaxForce=function(){return this.m_maxForce};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetMaxForce",box2d.b2FrictionJoint.prototype.GetMaxForce);box2d.b2FrictionJoint.prototype.SetMaxTorque=function(V){this.m_maxTorque=V};goog.exportProperty(box2d.b2FrictionJoint.prototype,"SetMaxTorque",box2d.b2FrictionJoint.prototype.SetMaxTorque);box2d.b2FrictionJoint.prototype.GetMaxTorque=function(){return this.m_maxTorque};goog.exportProperty(box2d.b2FrictionJoint.prototype,"GetMaxTorque",box2d.b2FrictionJoint.prototype.GetMaxTorque);box2d.b2FrictionJoint.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_bodyA.m_islandIndex,x=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2FrictionJointDef*/ var jd = new box2d.b2FrictionJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,V),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,x),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.maxForce = %.15f;
`,this.m_maxForce),box2d.b2Log(`  jd.maxTorque = %.15f;
`,this.m_maxTorque),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2FrictionJoint.prototype,"Dump",box2d.b2FrictionJoint.prototype.Dump);box2d.b2JointFactory={};box2d.b2JointFactory.Create=function(V,x){var o=null;switch(V.type){case box2d.b2JointType.e_distanceJoint:o=new box2d.b2DistanceJoint(V instanceof box2d.b2DistanceJointDef?V:null);break;case box2d.b2JointType.e_mouseJoint:o=new box2d.b2MouseJoint(V instanceof box2d.b2MouseJointDef?V:null);break;case box2d.b2JointType.e_prismaticJoint:o=new box2d.b2PrismaticJoint(V instanceof box2d.b2PrismaticJointDef?V:null);break;case box2d.b2JointType.e_revoluteJoint:o=new box2d.b2RevoluteJoint(V instanceof box2d.b2RevoluteJointDef?V:null);break;case box2d.b2JointType.e_pulleyJoint:o=new box2d.b2PulleyJoint(V instanceof box2d.b2PulleyJointDef?V:null);break;case box2d.b2JointType.e_gearJoint:o=new box2d.b2GearJoint(V instanceof box2d.b2GearJointDef?V:null);break;case box2d.b2JointType.e_wheelJoint:o=new box2d.b2WheelJoint(V instanceof box2d.b2WheelJointDef?V:null);break;case box2d.b2JointType.e_weldJoint:o=new box2d.b2WeldJoint(V instanceof box2d.b2WeldJointDef?V:null);break;case box2d.b2JointType.e_frictionJoint:o=new box2d.b2FrictionJoint(V instanceof box2d.b2FrictionJointDef?V:null);break;case box2d.b2JointType.e_ropeJoint:o=new box2d.b2RopeJoint(V instanceof box2d.b2RopeJointDef?V:null);break;case box2d.b2JointType.e_motorJoint:o=new box2d.b2MotorJoint(V instanceof box2d.b2MotorJointDef?V:null);break;case box2d.b2JointType.e_areaJoint:o=new box2d.b2AreaJoint(V instanceof box2d.b2AreaJointDef?V:null);break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}return o};goog.exportSymbol("box2d.b2JointFactory.Create",box2d.b2JointFactory.Create);box2d.b2JointFactory.Destroy=function(V,x){};goog.exportSymbol("box2d.b2JointFactory.Destroy",box2d.b2JointFactory.Destroy);box2d.b2World=function(V){this.m_flag_clearForces=!0,this.m_contactManager=new box2d.b2ContactManager,this.m_gravity=V.Clone(),this.m_out_gravity=new box2d.b2Vec2,this.m_allowSleep=!0,this.m_debugDraw=this.m_destructionListener=null,this.m_continuousPhysics=this.m_warmStarting=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new box2d.b2Profile,this.m_island=new box2d.b2Island,this.s_stack=[]};goog.exportSymbol("box2d.b2World",box2d.b2World);box2d.b2World.prototype.m_flag_newFixture=!1;goog.exportProperty(box2d.b2World.prototype,"m_flag_newFixture",box2d.b2World.prototype.m_flag_newFixture);box2d.b2World.prototype.m_flag_locked=!1;goog.exportProperty(box2d.b2World.prototype,"m_flag_locked",box2d.b2World.prototype.m_flag_locked);box2d.b2World.prototype.m_flag_clearForces=!1;goog.exportProperty(box2d.b2World.prototype,"m_flag_clearForces",box2d.b2World.prototype.m_flag_clearForces);box2d.b2World.prototype.m_contactManager=null;goog.exportProperty(box2d.b2World.prototype,"m_contactManager",box2d.b2World.prototype.m_contactManager);box2d.b2World.prototype.m_bodyList=null;goog.exportProperty(box2d.b2World.prototype,"m_bodyList",box2d.b2World.prototype.m_bodyList);box2d.b2World.prototype.m_jointList=null;goog.exportProperty(box2d.b2World.prototype,"m_jointList",box2d.b2World.prototype.m_jointList);box2d.b2World.prototype.m_particleSystemList=null;goog.exportProperty(box2d.b2World.prototype,"m_particleSystemList",box2d.b2World.prototype.m_particleSystemList);box2d.b2World.prototype.m_bodyCount=0;goog.exportProperty(box2d.b2World.prototype,"m_bodyCount",box2d.b2World.prototype.m_bodyCount);box2d.b2World.prototype.m_jointCount=0;goog.exportProperty(box2d.b2World.prototype,"m_jointCount",box2d.b2World.prototype.m_jointCount);box2d.b2World.prototype.m_gravity=null;goog.exportProperty(box2d.b2World.prototype,"m_gravity",box2d.b2World.prototype.m_gravity);box2d.b2World.prototype.m_out_gravity=null;goog.exportProperty(box2d.b2World.prototype,"m_out_gravity",box2d.b2World.prototype.m_out_gravity);box2d.b2World.prototype.m_allowSleep=!0;goog.exportProperty(box2d.b2World.prototype,"m_allowSleep",box2d.b2World.prototype.m_allowSleep);box2d.b2World.prototype.m_destructionListener=null;goog.exportProperty(box2d.b2World.prototype,"m_destructionListener",box2d.b2World.prototype.m_destructionListener);box2d.b2World.prototype.m_debugDraw=null;goog.exportProperty(box2d.b2World.prototype,"m_debugDraw",box2d.b2World.prototype.m_debugDraw);box2d.b2World.prototype.m_inv_dt0=0;goog.exportProperty(box2d.b2World.prototype,"m_inv_dt0",box2d.b2World.prototype.m_inv_dt0);box2d.b2World.prototype.m_warmStarting=!0;goog.exportProperty(box2d.b2World.prototype,"m_warmStarting",box2d.b2World.prototype.m_warmStarting);box2d.b2World.prototype.m_continuousPhysics=!0;goog.exportProperty(box2d.b2World.prototype,"m_continuousPhysics",box2d.b2World.prototype.m_continuousPhysics);box2d.b2World.prototype.m_subStepping=!1;goog.exportProperty(box2d.b2World.prototype,"m_subStepping",box2d.b2World.prototype.m_subStepping);box2d.b2World.prototype.m_stepComplete=!0;goog.exportProperty(box2d.b2World.prototype,"m_stepComplete",box2d.b2World.prototype.m_stepComplete);box2d.b2World.prototype.m_profile=null;goog.exportProperty(box2d.b2World.prototype,"m_profile",box2d.b2World.prototype.m_profile);box2d.b2World.prototype.m_island=null;goog.exportProperty(box2d.b2World.prototype,"m_island",box2d.b2World.prototype.m_island);box2d.b2World.prototype.s_stack=null;goog.exportProperty(box2d.b2World.prototype,"s_stack",box2d.b2World.prototype.s_stack);box2d.b2World.prototype.m_controllerList=null;goog.exportProperty(box2d.b2World.prototype,"m_controllerList",box2d.b2World.prototype.m_controllerList);box2d.b2World.prototype.m_controllerCount=0;goog.exportProperty(box2d.b2World.prototype,"m_controllerCount",box2d.b2World.prototype.m_controllerCount);box2d.b2World.prototype.SetAllowSleeping=function(V){if(V!==this.m_allowSleep&&(this.m_allowSleep=V,!this.m_allowSleep))for(V=this.m_bodyList;V;V=V.m_next)V.SetAwake(!0)};goog.exportProperty(box2d.b2World.prototype,"SetAllowSleeping",box2d.b2World.prototype.SetAllowSleeping);box2d.b2World.prototype.GetAllowSleeping=function(){return this.m_allowSleep};goog.exportProperty(box2d.b2World.prototype,"GetAllowSleeping",box2d.b2World.prototype.GetAllowSleeping);box2d.b2World.prototype.SetWarmStarting=function(V){this.m_warmStarting=V};goog.exportProperty(box2d.b2World.prototype,"SetWarmStarting",box2d.b2World.prototype.SetWarmStarting);box2d.b2World.prototype.GetWarmStarting=function(){return this.m_warmStarting};goog.exportProperty(box2d.b2World.prototype,"GetWarmStarting",box2d.b2World.prototype.GetWarmStarting);box2d.b2World.prototype.SetContinuousPhysics=function(V){this.m_continuousPhysics=V};goog.exportProperty(box2d.b2World.prototype,"SetContinuousPhysics",box2d.b2World.prototype.SetContinuousPhysics);box2d.b2World.prototype.GetContinuousPhysics=function(){return this.m_continuousPhysics};goog.exportProperty(box2d.b2World.prototype,"GetContinuousPhysics",box2d.b2World.prototype.GetContinuousPhysics);box2d.b2World.prototype.SetSubStepping=function(V){this.m_subStepping=V};goog.exportProperty(box2d.b2World.prototype,"SetSubStepping",box2d.b2World.prototype.SetSubStepping);box2d.b2World.prototype.GetSubStepping=function(){return this.m_subStepping};goog.exportProperty(box2d.b2World.prototype,"GetSubStepping",box2d.b2World.prototype.GetSubStepping);box2d.b2World.prototype.GetBodyList=function(){return this.m_bodyList};goog.exportProperty(box2d.b2World.prototype,"GetBodyList",box2d.b2World.prototype.GetBodyList);box2d.b2World.prototype.GetJointList=function(){return this.m_jointList};goog.exportProperty(box2d.b2World.prototype,"GetJointList",box2d.b2World.prototype.GetJointList);box2d.b2World.prototype.GetParticleSystemList=function(){return this.m_particleSystemList};goog.exportProperty(box2d.b2World.prototype,"GetParticleSystemList",box2d.b2World.prototype.GetParticleSystemList);box2d.b2World.prototype.GetContactList=function(){return this.m_contactManager.m_contactList};goog.exportProperty(box2d.b2World.prototype,"GetContactList",box2d.b2World.prototype.GetContactList);box2d.b2World.prototype.GetBodyCount=function(){return this.m_bodyCount};goog.exportProperty(box2d.b2World.prototype,"GetBodyCount",box2d.b2World.prototype.GetBodyCount);box2d.b2World.prototype.GetJointCount=function(){return this.m_jointCount};goog.exportProperty(box2d.b2World.prototype,"GetJointCount",box2d.b2World.prototype.GetJointCount);box2d.b2World.prototype.GetContactCount=function(){return this.m_contactManager.m_contactCount};goog.exportProperty(box2d.b2World.prototype,"GetContactCount",box2d.b2World.prototype.GetContactCount);box2d.b2World.prototype.SetGravity=function(V,x){if(x=x||!0,(this.m_gravity.x!==V.x||this.m_gravity.y!==V.y)&&(this.m_gravity.Copy(V),x))for(var o=this.m_bodyList;o;o=o.m_next)o.SetAwake(!0)};goog.exportProperty(box2d.b2World.prototype,"SetGravity",box2d.b2World.prototype.SetGravity);box2d.b2World.prototype.GetGravity=function(V){return V=V||this.m_out_gravity,V.Copy(this.m_gravity)};goog.exportProperty(box2d.b2World.prototype,"GetGravity",box2d.b2World.prototype.GetGravity);box2d.b2World.prototype.IsLocked=function(){return this.m_flag_locked};goog.exportProperty(box2d.b2World.prototype,"IsLocked",box2d.b2World.prototype.IsLocked);box2d.b2World.prototype.SetAutoClearForces=function(V){this.m_flag_clearForces=V};goog.exportProperty(box2d.b2World.prototype,"SetAutoClearForces",box2d.b2World.prototype.SetAutoClearForces);box2d.b2World.prototype.GetAutoClearForces=function(){return this.m_flag_clearForces};goog.exportProperty(box2d.b2World.prototype,"GetAutoClearForces",box2d.b2World.prototype.GetAutoClearForces);box2d.b2World.prototype.GetContactManager=function(){return this.m_contactManager};goog.exportProperty(box2d.b2World.prototype,"GetContactManager",box2d.b2World.prototype.GetContactManager);box2d.b2World.prototype.GetProfile=function(){return this.m_profile};goog.exportProperty(box2d.b2World.prototype,"GetProfile",box2d.b2World.prototype.GetProfile);box2d.b2World.prototype.SetDestructionListener=function(V){this.m_destructionListener=V};goog.exportProperty(box2d.b2World.prototype,"SetDestructionListener",box2d.b2World.prototype.SetDestructionListener);box2d.b2World.prototype.SetContactFilter=function(V){this.m_contactManager.m_contactFilter=V};goog.exportProperty(box2d.b2World.prototype,"SetContactFilter",box2d.b2World.prototype.SetContactFilter);box2d.b2World.prototype.SetContactListener=function(V){this.m_contactManager.m_contactListener=V};goog.exportProperty(box2d.b2World.prototype,"SetContactListener",box2d.b2World.prototype.SetContactListener);box2d.b2World.prototype.SetDebugDraw=function(V){this.m_debugDraw=V};goog.exportProperty(box2d.b2World.prototype,"SetDebugDraw",box2d.b2World.prototype.SetDebugDraw);box2d.b2World.prototype.CreateBody=function(V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),this.IsLocked()?null:(V=new box2d.b2Body(V,this),V.m_prev=null,(V.m_next=this.m_bodyList)&&(this.m_bodyList.m_prev=V),this.m_bodyList=V,++this.m_bodyCount,V)};goog.exportProperty(box2d.b2World.prototype,"CreateBody",box2d.b2World.prototype.CreateBody);box2d.b2World.prototype.DestroyBody=function(V){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_bodyCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),!this.IsLocked()){for(var x=V.m_jointList;x;){var o=x,x=x.next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(o.joint),this.DestroyJoint(o.joint),V.m_jointList=x}for(V.m_jointList=null,x=V.m_controllerList;x;)o=x,x=x.nextController,o.controller.RemoveBody(V);for(x=V.m_contactList;x;)o=x,x=x.next,this.m_contactManager.Destroy(o.contact);for(V.m_contactList=null,x=V.m_fixtureList;x;)o=x,x=x.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(o),o.DestroyProxies(this.m_contactManager.m_broadPhase),o.Destroy(),V.m_fixtureList=x,--V.m_fixtureCount;V.m_fixtureList=null,V.m_fixtureCount=0,V.m_prev&&(V.m_prev.m_next=V.m_next),V.m_next&&(V.m_next.m_prev=V.m_prev),V===this.m_bodyList&&(this.m_bodyList=V.m_next),--this.m_bodyCount}};goog.exportProperty(box2d.b2World.prototype,"DestroyBody",box2d.b2World.prototype.DestroyBody);box2d.b2World.prototype.CreateJoint=function(V){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),this.IsLocked())return null;var x=box2d.b2JointFactory.Create(V,null);x.m_prev=null,(x.m_next=this.m_jointList)&&(this.m_jointList.m_prev=x),this.m_jointList=x,++this.m_jointCount,x.m_edgeA.joint=x,x.m_edgeA.other=x.m_bodyB,x.m_edgeA.prev=null,(x.m_edgeA.next=x.m_bodyA.m_jointList)&&(x.m_bodyA.m_jointList.prev=x.m_edgeA),x.m_bodyA.m_jointList=x.m_edgeA,x.m_edgeB.joint=x,x.m_edgeB.other=x.m_bodyA,x.m_edgeB.prev=null,(x.m_edgeB.next=x.m_bodyB.m_jointList)&&(x.m_bodyB.m_jointList.prev=x.m_edgeB),x.m_bodyB.m_jointList=x.m_edgeB;var o=V.bodyA,_o=V.bodyB;if(!V.collideConnected)for(V=_o.GetContactList();V;)V.other===o&&V.contact.FlagForFiltering(),V=V.next;return x};goog.exportProperty(box2d.b2World.prototype,"CreateJoint",box2d.b2World.prototype.CreateJoint);box2d.b2World.prototype.DestroyJoint=function(V){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),!this.IsLocked()){var x=V.m_collideConnected;V.m_prev&&(V.m_prev.m_next=V.m_next),V.m_next&&(V.m_next.m_prev=V.m_prev),V===this.m_jointList&&(this.m_jointList=V.m_next);var o=V.m_bodyA,_o=V.m_bodyB;if(o.SetAwake(!0),_o.SetAwake(!0),V.m_edgeA.prev&&(V.m_edgeA.prev.next=V.m_edgeA.next),V.m_edgeA.next&&(V.m_edgeA.next.prev=V.m_edgeA.prev),V.m_edgeA===o.m_jointList&&(o.m_jointList=V.m_edgeA.next),V.m_edgeA.prev=null,V.m_edgeA.next=null,V.m_edgeB.prev&&(V.m_edgeB.prev.next=V.m_edgeB.next),V.m_edgeB.next&&(V.m_edgeB.next.prev=V.m_edgeB.prev),V.m_edgeB===_o.m_jointList&&(_o.m_jointList=V.m_edgeB.next),V.m_edgeB.prev=null,V.m_edgeB.next=null,box2d.b2JointFactory.Destroy(V,null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_jointCount),--this.m_jointCount,!x)for(V=_o.GetContactList();V;)V.other===o&&V.contact.FlagForFiltering(),V=V.next}};goog.exportProperty(box2d.b2World.prototype,"DestroyJoint",box2d.b2World.prototype.DestroyJoint);box2d.b2World.prototype.CreateParticleSystem=function(V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),this.IsLocked()?null:(V=new box2d.b2ParticleSystem(V,this),V.m_prev=null,(V.m_next=this.m_particleSystemList)&&(this.m_particleSystemList.m_prev=V),this.m_particleSystemList=V)};goog.exportProperty(box2d.b2World.prototype,"CreateParticleSystem",box2d.b2World.prototype.CreateParticleSystem);box2d.b2World.prototype.DestroyParticleSystem=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),this.IsLocked()||(V.m_prev&&(V.m_prev.m_next=V.m_next),V.m_next&&(V.m_next.m_prev=V.m_prev),V===this.m_particleSystemList&&(this.m_particleSystemList=V.m_next))};goog.exportProperty(box2d.b2World.prototype,"DestroyParticleSystem",box2d.b2World.prototype.DestroyParticleSystem);box2d.b2World.prototype.Solve=function(V){for(var x=this.m_bodyList;x;x=x.m_next)x.m_xf0.Copy(x.m_xf);for(var o=this.m_controllerList;o;o=o.m_next)o.Step(V);for(this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0,o=this.m_island,o.Initialize(this.m_bodyCount,this.m_contactManager.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener),x=this.m_bodyList;x;x=x.m_next)x.m_flag_islandFlag=!1;for(var _o=this.m_contactManager.m_contactList;_o;_o=_o.m_next)_o.m_flag_islandFlag=!1;for(_o=this.m_jointList;_o;_o=_o.m_next)_o.m_islandFlag=!1;for(var _o=this.m_bodyCount,_i=this.s_stack,l=this.m_bodyList;l;l=l.m_next)if(!l.m_flag_islandFlag&&l.IsAwake()&&l.IsActive()&&l.GetType()!==box2d.b2BodyType.b2_staticBody){o.Clear();var t_=0;for(_i[t_++]=l,l.m_flag_islandFlag=!0;0<t_;)if(x=_i[--t_],box2d.ENABLE_ASSERTS&&box2d.b2Assert(x.IsActive()),o.AddBody(x),x.SetAwake(!0),x.GetType()!==box2d.b2BodyType.b2_staticBody){for(var o_=x.m_contactList;o_;o_=o_.next){var i_=o_.contact;if(!i_.m_flag_islandFlag&&i_.IsEnabled()&&i_.IsTouching()){var _e=i_.m_fixtureB.m_isSensor;i_.m_fixtureA.m_isSensor||_e||(o.AddContact(i_),i_.m_flag_islandFlag=!0,i_=o_.other,i_.m_flag_islandFlag||(box2d.ENABLE_ASSERTS&&box2d.b2Assert(t_<_o),_i[t_++]=i_,i_.m_flag_islandFlag=!0))}}for(x=x.m_jointList;x;x=x.next)x.joint.m_islandFlag||(i_=x.other,i_.IsActive()&&(o.AddJoint(x.joint),x.joint.m_islandFlag=!0,i_.m_flag_islandFlag||(box2d.ENABLE_ASSERTS&&box2d.b2Assert(t_<_o),_i[t_++]=i_,i_.m_flag_islandFlag=!0)))}for(x=new box2d.b2Profile,o.Solve(x,V,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=x.solveInit,this.m_profile.solveVelocity+=x.solveVelocity,this.m_profile.solvePosition+=x.solvePosition,t_=0;t_<o.m_bodyCount;++t_)x=o.m_bodies[t_],x.GetType()===box2d.b2BodyType.b2_staticBody&&(x.m_flag_islandFlag=!1)}for(t_=0;t_<_i.length&&_i[t_];++t_)_i[t_]=null;for(V=new box2d.b2Timer,x=this.m_bodyList;x;x=x.m_next)x.m_flag_islandFlag&&x.GetType()!==box2d.b2BodyType.b2_staticBody&&x.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=V.GetMilliseconds()};goog.exportProperty(box2d.b2World.prototype,"Solve",box2d.b2World.prototype.Solve);box2d.b2World.prototype.SolveTOI=function(V){var x=this.m_island;if(x.Initialize(2*box2d.b2_maxTOIContacts,box2d.b2_maxTOIContacts,0,null,this.m_contactManager.m_contactListener),this.m_stepComplete){for(var o=this.m_bodyList;o;o=o.m_next)o.m_flag_islandFlag=!1,o.m_sweep.alpha0=0;for(var _o=this.m_contactManager.m_contactList;_o;_o=_o.m_next)_o.m_flag_toiFlag=_o.m_flag_islandFlag=!1,_o.m_toiCount=0,_o.m_toi=1}for(;;){for(var _i=null,o=1,_o=this.m_contactManager.m_contactList;_o;_o=_o.m_next)if(_o.IsEnabled()&&!(_o.m_toiCount>box2d.b2_maxSubSteps)){var l=1;if(_o.m_flag_toiFlag)l=_o.m_toi;else{var t_=_o.GetFixtureA(),o_=_o.GetFixtureB();if(t_.IsSensor()||o_.IsSensor())continue;var l=t_.GetBody(),i_=o_.GetBody(),_e=l.m_type,l_=i_.m_type;box2d.ENABLE_ASSERTS&&box2d.b2Assert(_e===box2d.b2BodyType.b2_dynamicBody||l_===box2d.b2BodyType.b2_dynamicBody);var ws=l.IsAwake()&&_e!==box2d.b2BodyType.b2_staticBody,h_=i_.IsAwake()&&l_!==box2d.b2BodyType.b2_staticBody;if(!ws&&!h_||(_e=l.IsBullet()||_e!==box2d.b2BodyType.b2_dynamicBody,l_=i_.IsBullet()||l_!==box2d.b2BodyType.b2_dynamicBody,!_e&&!l_))continue;l_=l.m_sweep.alpha0,l.m_sweep.alpha0<i_.m_sweep.alpha0?(l_=i_.m_sweep.alpha0,l.m_sweep.Advance(l_)):i_.m_sweep.alpha0<l.m_sweep.alpha0&&(l_=l.m_sweep.alpha0,i_.m_sweep.Advance(l_)),box2d.ENABLE_ASSERTS&&box2d.b2Assert(1>l_),ws=_o.GetChildIndexA(),h_=_o.GetChildIndexB(),_e=box2d.b2World.prototype.SolveTOI.s_toi_input,_e.proxyA.SetShape(t_.GetShape(),ws),_e.proxyB.SetShape(o_.GetShape(),h_),_e.sweepA.Copy(l.m_sweep),_e.sweepB.Copy(i_.m_sweep),_e.tMax=1,l=box2d.b2World.prototype.SolveTOI.s_toi_output,box2d.b2TimeOfImpact(l,_e),i_=l.t,l=l.state===box2d.b2TOIOutputState.e_touching?box2d.b2Min(l_+(1-l_)*i_,1):1,_o.m_toi=l,_o.m_flag_toiFlag=!0}l<o&&(_i=_o,o=l)}if(_i===null||1-10*box2d.b2_epsilon<o){this.m_stepComplete=!0;break}if(t_=_i.GetFixtureA(),o_=_i.GetFixtureB(),l=t_.GetBody(),i_=o_.GetBody(),_o=box2d.b2World.prototype.SolveTOI.s_backup1.Copy(l.m_sweep),t_=box2d.b2World.prototype.SolveTOI.s_backup2.Copy(i_.m_sweep),l.Advance(o),i_.Advance(o),_i.Update(this.m_contactManager.m_contactListener),_i.m_flag_toiFlag=!1,++_i.m_toiCount,_i.IsEnabled()&&_i.IsTouching()){for(l.SetAwake(!0),i_.SetAwake(!0),x.Clear(),x.AddBody(l),x.AddBody(i_),x.AddContact(_i),l.m_flag_islandFlag=!0,i_.m_flag_islandFlag=!0,_i.m_flag_islandFlag=!0,_i=0;2>_i;++_i)if(_o=_i===0?l:i_,_o.m_type===box2d.b2BodyType.b2_dynamicBody)for(t_=_o.m_contactList;t_&&x.m_bodyCount!==x.m_bodyCapacity&&x.m_contactCount!==x.m_contactCapacity;t_=t_.next)o_=t_.contact,!o_.m_flag_islandFlag&&(l_=t_.other,l_.m_type!==box2d.b2BodyType.b2_dynamicBody||_o.IsBullet()||l_.IsBullet())&&(_e=o_.m_fixtureB.m_isSensor,o_.m_fixtureA.m_isSensor||_e||(_e=box2d.b2World.prototype.SolveTOI.s_backup.Copy(l_.m_sweep),l_.m_flag_islandFlag||l_.Advance(o),o_.Update(this.m_contactManager.m_contactListener),o_.IsEnabled()&&o_.IsTouching()?(o_.m_flag_islandFlag=!0,x.AddContact(o_),l_.m_flag_islandFlag||(l_.m_flag_islandFlag=!0,l_.m_type!==box2d.b2BodyType.b2_staticBody&&l_.SetAwake(!0),x.AddBody(l_))):(l_.m_sweep.Copy(_e),l_.SynchronizeTransform())));for(_i=box2d.b2World.prototype.SolveTOI.s_subStep,_i.dt=(1-o)*V.dt,_i.inv_dt=1/_i.dt,_i.dtRatio=1,_i.positionIterations=20,_i.velocityIterations=V.velocityIterations,_i.particleIterations=V.particleIterations,_i.warmStarting=!1,x.SolveTOI(_i,l.m_islandIndex,i_.m_islandIndex),_i=0;_i<x.m_bodyCount;++_i)if(_o=x.m_bodies[_i],_o.m_flag_islandFlag=!1,_o.m_type===box2d.b2BodyType.b2_dynamicBody)for(_o.SynchronizeFixtures(),t_=_o.m_contactList;t_;t_=t_.next)t_.contact.m_flag_toiFlag=t_.contact.m_flag_islandFlag=!1;if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}else _i.SetEnabled(!1),l.m_sweep.Copy(_o),i_.m_sweep.Copy(t_),l.SynchronizeTransform(),i_.SynchronizeTransform()}};goog.exportProperty(box2d.b2World.prototype,"SolveTOI",box2d.b2World.prototype.SolveTOI);box2d.b2World.prototype.SolveTOI.s_subStep=new box2d.b2TimeStep;box2d.b2World.prototype.SolveTOI.s_backup=new box2d.b2Sweep;box2d.b2World.prototype.SolveTOI.s_backup1=new box2d.b2Sweep;box2d.b2World.prototype.SolveTOI.s_backup2=new box2d.b2Sweep;box2d.b2World.prototype.SolveTOI.s_toi_input=new box2d.b2TOIInput;box2d.b2World.prototype.SolveTOI.s_toi_output=new box2d.b2TOIOutput;box2d.b2World.prototype.Step=function(V,x,o,_o){_o=_o||this.CalculateReasonableParticleIterations(V);var _i=new box2d.b2Timer;this.m_flag_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flag_newFixture=!1),this.m_flag_locked=!0;var l=box2d.b2World.prototype.Step.s_step;if(l.dt=V,l.velocityIterations=x,l.positionIterations=o,l.particleIterations=_o,l.inv_dt=0<V?1/V:0,l.dtRatio=this.m_inv_dt0*V,l.warmStarting=this.m_warmStarting,V=new box2d.b2Timer,this.m_contactManager.Collide(),this.m_profile.collide=V.GetMilliseconds(),this.m_stepComplete&&0<l.dt){for(V=new box2d.b2Timer,x=this.m_particleSystemList;x;x=x.m_next)x.Solve(l);this.Solve(l),this.m_profile.solve=V.GetMilliseconds()}this.m_continuousPhysics&&0<l.dt&&(V=new box2d.b2Timer,this.SolveTOI(l),this.m_profile.solveTOI=V.GetMilliseconds()),0<l.dt&&(this.m_inv_dt0=l.inv_dt),this.m_flag_clearForces&&this.ClearForces(),this.m_flag_locked=!1,this.m_profile.step=_i.GetMilliseconds()};goog.exportProperty(box2d.b2World.prototype,"Step",box2d.b2World.prototype.Step);box2d.b2World.prototype.Step.s_step=new box2d.b2TimeStep;box2d.b2World.prototype.ClearForces=function(){for(var V=this.m_bodyList;V;V=V.m_next)V.m_force.SetZero(),V.m_torque=0};goog.exportProperty(box2d.b2World.prototype,"ClearForces",box2d.b2World.prototype.ClearForces);box2d.b2World.prototype.QueryAABB=function(V,x){var o=this.m_contactManager.m_broadPhase;if(o.Query(function(_i){return _i=o.GetUserData(_i),box2d.ENABLE_ASSERTS&&box2d.b2Assert(_i instanceof box2d.b2FixtureProxy),_i=_i.fixture,V instanceof box2d.b2QueryCallback?V.ReportFixture(_i):V(_i)},x),V instanceof box2d.b2QueryCallback)for(var _o=this.m_particleSystemList;_o;_o=_o.m_next)V.ShouldQueryParticleSystem(_o)&&_o.QueryAABB(V,x)};goog.exportProperty(box2d.b2World.prototype,"QueryAABB",box2d.b2World.prototype.QueryAABB);box2d.b2World.prototype.QueryShape=function(V,x,o,_o){var _i=this.m_contactManager.m_broadPhase,l=box2d.b2World.prototype.QueryShape.s_aabb;if(x.ComputeAABB(l,o,_o||0),_i.Query(function(t_){return t_=_i.GetUserData(t_),box2d.ENABLE_ASSERTS&&box2d.b2Assert(t_ instanceof box2d.b2FixtureProxy),t_=t_.fixture,box2d.b2TestOverlapShape(x,0,t_.GetShape(),0,o,t_.GetBody().GetTransform())?V instanceof box2d.b2QueryCallback?V.ReportFixture(t_):V(t_):!0},l),V instanceof box2d.b2QueryCallback)for(_o=this.m_particleSystemList;_o;_o=_o.m_next)V.ShouldQueryParticleSystem(_o)&&_o.QueryAABB(V,l)};goog.exportProperty(box2d.b2World.prototype,"QueryShape",box2d.b2World.prototype.QueryShape);box2d.b2World.prototype.QueryShape.s_aabb=new box2d.b2AABB;box2d.b2World.prototype.QueryPoint=function(V,x,o){var _o=this.m_contactManager.m_broadPhase;o=typeof o=="number"?o:box2d.b2_linearSlop;var _i=box2d.b2World.prototype.QueryPoint.s_aabb;if(_i.lowerBound.Set(x.x-o,x.y-o),_i.upperBound.Set(x.x+o,x.y+o),_o.Query(function(l){return l=_o.GetUserData(l),box2d.ENABLE_ASSERTS&&box2d.b2Assert(l instanceof box2d.b2FixtureProxy),l=l.fixture,l.TestPoint(x)?V instanceof box2d.b2QueryCallback?V.ReportFixture(l):V(l):!0},_i),V instanceof box2d.b2QueryCallback)for(o=this.m_particleSystemList;o;o=o.m_next)V.ShouldQueryParticleSystem(o)&&o.QueryAABB(V,_i)};goog.exportProperty(box2d.b2World.prototype,"QueryPoint",box2d.b2World.prototype.QueryPoint);box2d.b2World.prototype.QueryPoint.s_aabb=new box2d.b2AABB;box2d.b2World.prototype.RayCast=function(V,x,o){var _o=this.m_contactManager.m_broadPhase,_i=box2d.b2World.prototype.RayCast.s_input;if(_i.maxFraction=1,_i.p1.Copy(x),_i.p2.Copy(o),_o.RayCast(function(l,t_){var o_=_o.GetUserData(t_);box2d.ENABLE_ASSERTS&&box2d.b2Assert(o_ instanceof box2d.b2FixtureProxy);var i_=o_.fixture,_e=box2d.b2World.prototype.RayCast.s_output;if(i_.RayCast(_e,l,o_.childIndex)){var o_=_e.fraction,l_=box2d.b2World.prototype.RayCast.s_point;return l_.Set((1-o_)*x.x+o_*o.x,(1-o_)*x.y+o_*o.y),V instanceof box2d.b2RayCastCallback?V.ReportFixture(i_,l_,_e.normal,o_):V(i_,l_,_e.normal,o_)}return l.maxFraction},_i),V instanceof box2d.b2RayCastCallback)for(_i=this.m_particleSystemList;_i;_i=_i.m_next)V.ShouldQueryParticleSystem(_i)&&_i.RayCast(V,x,o)};goog.exportProperty(box2d.b2World.prototype,"RayCast",box2d.b2World.prototype.RayCast);box2d.b2World.prototype.RayCast.s_input=new box2d.b2RayCastInput;box2d.b2World.prototype.RayCast.s_output=new box2d.b2RayCastOutput;box2d.b2World.prototype.RayCast.s_point=new box2d.b2Vec2;box2d.b2World.prototype.RayCastOne=function(V,x){var o=null,_o=1;return this.RayCast(function(_i,l,t_,o_){return o_<_o&&(_o=o_,o=_i),_o},V,x),o};goog.exportProperty(box2d.b2World.prototype,"RayCastOne",box2d.b2World.prototype.RayCastOne);box2d.b2World.prototype.RayCastAll=function(V,x,o){return o.length=0,this.RayCast(function(_o,_i,l,t_){return o.push(_o),1},V,x),o};goog.exportProperty(box2d.b2World.prototype,"RayCastAll",box2d.b2World.prototype.RayCastAll);box2d.b2World.prototype.DrawShape=function(V,x){var o=V.GetShape();switch(o.m_type){case box2d.b2ShapeType.e_circleShape:o=o instanceof box2d.b2CircleShape?o:null,this.m_debugDraw.DrawSolidCircle(o.m_p,o.m_radius,box2d.b2Vec2.UNITX,x);break;case box2d.b2ShapeType.e_edgeShape:var _i=o instanceof box2d.b2EdgeShape?o:null,o=_i.m_vertex1,_o=_i.m_vertex2;this.m_debugDraw.DrawSegment(o,_o,x);break;case box2d.b2ShapeType.e_chainShape:var o=o instanceof box2d.b2ChainShape?o:null,_i=o.m_count,l=o.m_vertices,o=l[0];this.m_debugDraw.DrawCircle(o,.05,x);for(var t_=1;t_<_i;++t_)_o=l[t_],this.m_debugDraw.DrawSegment(o,_o,x),this.m_debugDraw.DrawCircle(_o,.05,x),o=_o;break;case box2d.b2ShapeType.e_polygonShape:_i=o instanceof box2d.b2PolygonShape?o:null,o=_i.m_count,l=_i.m_vertices,this.m_debugDraw.DrawSolidPolygon(l,o,x)}};goog.exportProperty(box2d.b2World.prototype,"DrawShape",box2d.b2World.prototype.DrawShape);box2d.b2World.prototype.DrawJoint=function(V){var _i=V.GetBodyA(),_o=V.GetBodyB(),x=_i.m_xf.p,o=_o.m_xf.p,_o=V.GetAnchorA(box2d.b2World.prototype.DrawJoint.s_p1),_i=V.GetAnchorB(box2d.b2World.prototype.DrawJoint.s_p2),l=box2d.b2World.prototype.DrawJoint.s_color.SetRGB(.5,.8,.8);switch(V.m_type){case box2d.b2JointType.e_distanceJoint:this.m_debugDraw.DrawSegment(_o,_i,l);break;case box2d.b2JointType.e_pulleyJoint:x=V instanceof box2d.b2PulleyJoint?V:null,V=x.GetGroundAnchorA(box2d.b2World.prototype.DrawJoint.s_s1),x=x.GetGroundAnchorB(box2d.b2World.prototype.DrawJoint.s_s2),this.m_debugDraw.DrawSegment(V,_o,l),this.m_debugDraw.DrawSegment(x,_i,l),this.m_debugDraw.DrawSegment(V,x,l);break;case box2d.b2JointType.e_mouseJoint:this.m_debugDraw.DrawSegment(_o,_i,l);break;default:this.m_debugDraw.DrawSegment(x,_o,l),this.m_debugDraw.DrawSegment(_o,_i,l),this.m_debugDraw.DrawSegment(o,_i,l)}};goog.exportProperty(box2d.b2World.prototype,"DrawJoint",box2d.b2World.prototype.DrawJoint);box2d.b2World.prototype.DrawJoint.s_p1=new box2d.b2Vec2;box2d.b2World.prototype.DrawJoint.s_p2=new box2d.b2Vec2;box2d.b2World.prototype.DrawJoint.s_color=new box2d.b2Color(.5,.8,.8);box2d.b2World.prototype.DrawJoint.s_s1=new box2d.b2Vec2;box2d.b2World.prototype.DrawJoint.s_s2=new box2d.b2Vec2;box2d.b2World.prototype.DrawParticleSystem=function(V){var x=V.GetParticleCount();if(x){var o=V.GetRadius(),_o=V.GetPositionBuffer();V.m_colorBuffer.data?(V=V.GetColorBuffer(),this.m_debugDraw.DrawParticles(_o,o,V,x)):this.m_debugDraw.DrawParticles(_o,o,null,x)}};goog.exportProperty(box2d.b2World.prototype,"DrawParticleSystem",box2d.b2World.prototype.DrawParticleSystem);box2d.b2World.prototype.DrawDebugData=function(){if(this.m_debugDraw!==null){var V=this.m_debugDraw.GetFlags(),x=box2d.b2World.prototype.DrawDebugData.s_color.SetRGB(0,0,0);if(V&box2d.b2DrawFlags.e_shapeBit)for(var o=this.m_bodyList;o;o=o.m_next){var _o=o.m_xf;this.m_debugDraw.PushTransform(_o);for(var _i=o.GetFixtureList();_i;_i=_i.m_next)o.IsActive()?o.GetType()===box2d.b2BodyType.b2_staticBody?x.SetRGB(.5,.9,.5):o.GetType()===box2d.b2BodyType.b2_kinematicBody?x.SetRGB(.5,.5,.9):o.IsAwake()?x.SetRGB(.9,.7,.7):x.SetRGB(.6,.6,.6):x.SetRGB(.5,.5,.3),this.DrawShape(_i,x);this.m_debugDraw.PopTransform(_o)}if(V&box2d.b2DrawFlags.e_particleBit)for(o=this.m_particleSystemList;o;o=o.m_next)this.DrawParticleSystem(o);if(V&box2d.b2DrawFlags.e_jointBit)for(o=this.m_jointList;o;o=o.m_next)this.DrawJoint(o);if(V&box2d.b2DrawFlags.e_aabbBit){x.SetRGB(.9,.3,.9);for(var _o=this.m_contactManager.m_broadPhase,l=box2d.b2World.prototype.DrawDebugData.s_vs,o=this.m_bodyList;o;o=o.m_next)if(o.IsActive())for(_i=o.GetFixtureList();_i;_i=_i.m_next)for(var t_=0;t_<_i.m_proxyCount;++t_){var o_=_o.GetFatAABB(_i.m_proxies[t_].proxy);l[0].Set(o_.lowerBound.x,o_.lowerBound.y),l[1].Set(o_.upperBound.x,o_.lowerBound.y),l[2].Set(o_.upperBound.x,o_.upperBound.y),l[3].Set(o_.lowerBound.x,o_.upperBound.y),this.m_debugDraw.DrawPolygon(l,4,x)}}if(V&box2d.b2DrawFlags.e_centerOfMassBit)for(o=this.m_bodyList;o;o=o.m_next)_o=box2d.b2World.prototype.DrawDebugData.s_xf,_o.q.Copy(o.m_xf.q),_o.p.Copy(o.GetWorldCenter()),this.m_debugDraw.DrawTransform(_o);if(V&box2d.b2DrawFlags.e_controllerBit)for(V=this.m_controllerList;V;V=V.m_next)V.Draw(this.m_debugDraw)}};goog.exportProperty(box2d.b2World.prototype,"DrawDebugData",box2d.b2World.prototype.DrawDebugData);box2d.b2World.prototype.DrawDebugData.s_color=new box2d.b2Color(0,0,0);box2d.b2World.prototype.DrawDebugData.s_vs=box2d.b2Vec2.MakeArray(4);box2d.b2World.prototype.DrawDebugData.s_xf=new box2d.b2Transform;box2d.b2World.prototype.SetBroadPhase=function(V){var x=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=V;for(var o=this.m_bodyList;o;o=o.m_next)for(var _o=o.m_fixtureList;_o;_o=_o.m_next)_o.m_proxy=V.CreateProxy(x.GetFatAABB(_o.m_proxy),_o)};goog.exportProperty(box2d.b2World.prototype,"SetBroadPhase",box2d.b2World.prototype.SetBroadPhase);box2d.b2World.prototype.CalculateReasonableParticleIterations=function(V){return this.m_particleSystemList===null?1:box2d.b2CalculateParticleIterations(this.m_gravity.Length(),function(x){var o=box2d.b2_maxFloat;for(x=x.GetParticleSystemList();x!==null;x=x.m_next)o=box2d.b2Min(o,x.GetRadius());return o}(this),V)};goog.exportProperty(box2d.b2World.prototype,"CalculateReasonableParticleIterations",box2d.b2World.prototype.CalculateReasonableParticleIterations);box2d.b2World.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()};goog.exportProperty(box2d.b2World.prototype,"GetProxyCount",box2d.b2World.prototype.GetProxyCount);box2d.b2World.prototype.GetTreeHeight=function(){return this.m_contactManager.m_broadPhase.GetTreeHeight()};goog.exportProperty(box2d.b2World.prototype,"GetTreeHeight",box2d.b2World.prototype.GetTreeHeight);box2d.b2World.prototype.GetTreeBalance=function(){return this.m_contactManager.m_broadPhase.GetTreeBalance()};goog.exportProperty(box2d.b2World.prototype,"GetTreeBalance",box2d.b2World.prototype.GetTreeBalance);box2d.b2World.prototype.GetTreeQuality=function(){return this.m_contactManager.m_broadPhase.GetTreeQuality()};goog.exportProperty(box2d.b2World.prototype,"GetTreeQuality",box2d.b2World.prototype.GetTreeQuality);box2d.b2World.prototype.ShiftOrigin=function(V){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!this.IsLocked()),!this.IsLocked()){for(var x=this.m_bodyList;x;x=x.m_next)x.m_xf.p.SelfSub(V),x.m_sweep.c0.SelfSub(V),x.m_sweep.c.SelfSub(V);for(x=this.m_jointList;x;x=x.m_next)x.ShiftOrigin(V);this.m_contactManager.m_broadPhase.ShiftOrigin(V)}};goog.exportProperty(box2d.b2World.prototype,"ShiftOrigin",box2d.b2World.prototype.ShiftOrigin);box2d.b2World.prototype.Dump=function(){if(box2d.DEBUG&&!this.m_flag_locked){box2d.b2Log(`/** @type {box2d.b2Vec2} */ var g = new box2d.b2Vec2(%.15f, %.15f);
`,this.m_gravity.x,this.m_gravity.y),box2d.b2Log(`this.m_world.SetGravity(g);
`),box2d.b2Log(`/** @type {Array.<box2d.b2Body>} */ var bodies = new Array(%d);
`,this.m_bodyCount),box2d.b2Log(`/** @type {Array.<box2d.b2Joint>} */ var joints = new Array(%d);
`,this.m_jointCount);for(var V=0,x=this.m_bodyList;x;x=x.m_next)x.m_islandIndex=V,x.Dump(),++V;for(V=0,x=this.m_jointList;x;x=x.m_next)x.m_index=V,++V;for(x=this.m_jointList;x;x=x.m_next)x.m_type!==box2d.b2JointType.e_gearJoint&&(box2d.b2Log(`{
`),x.Dump(),box2d.b2Log(`}
`));for(x=this.m_jointList;x;x=x.m_next)x.m_type===box2d.b2JointType.e_gearJoint&&(box2d.b2Log(`{
`),x.Dump(),box2d.b2Log(`}
`))}};goog.exportProperty(box2d.b2World.prototype,"Dump",box2d.b2World.prototype.Dump);box2d.b2World.prototype.AddController=function(V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.m_world===null,"Controller can only be a member of one world"),V.m_world=this,V.m_next=this.m_controllerList,V.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=V),this.m_controllerList=V,++this.m_controllerCount,V};goog.exportProperty(box2d.b2World.prototype,"AddController",box2d.b2World.prototype.AddController);box2d.b2World.prototype.RemoveController=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.m_world===this,"Controller is not a member of this world"),V.m_prev&&(V.m_prev.m_next=V.m_next),V.m_next&&(V.m_next.m_prev=V.m_prev),this.m_controllerList===V&&(this.m_controllerList=V.m_next),--this.m_controllerCount,V.m_prev=null,V.m_next=null,V.m_world=null};goog.exportProperty(box2d.b2World.prototype,"RemoveController",box2d.b2World.prototype.RemoveController);box2d.b2MotorJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_motorJoint),this.linearOffset=new box2d.b2Vec2(0,0)};goog.inherits(box2d.b2MotorJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2MotorJointDef",box2d.b2MotorJointDef);box2d.b2MotorJointDef.prototype.linearOffset=null;goog.exportProperty(box2d.b2MotorJointDef.prototype,"linearOffset",box2d.b2MotorJointDef.prototype.linearOffset);box2d.b2MotorJointDef.prototype.angularOffset=0;goog.exportProperty(box2d.b2MotorJointDef.prototype,"angularOffset",box2d.b2MotorJointDef.prototype.angularOffset);box2d.b2MotorJointDef.prototype.maxForce=1;goog.exportProperty(box2d.b2MotorJointDef.prototype,"maxForce",box2d.b2MotorJointDef.prototype.maxForce);box2d.b2MotorJointDef.prototype.maxTorque=1;goog.exportProperty(box2d.b2MotorJointDef.prototype,"maxTorque",box2d.b2MotorJointDef.prototype.maxTorque);box2d.b2MotorJointDef.prototype.correctionFactor=.3;goog.exportProperty(box2d.b2MotorJointDef.prototype,"correctionFactor",box2d.b2MotorJointDef.prototype.correctionFactor);box2d.b2MotorJointDef.prototype.Initialize=function(V,x){this.bodyA=V,this.bodyB=x,this.bodyA.GetLocalPoint(this.bodyB.GetPosition(),this.linearOffset);var o=this.bodyA.GetAngle();this.angularOffset=this.bodyB.GetAngle()-o};goog.exportProperty(box2d.b2MotorJointDef.prototype,"Initialize",box2d.b2MotorJointDef.prototype.Initialize);box2d.b2MotorJoint=function(V){box2d.b2Joint.call(this,V),this.m_linearOffset=V.linearOffset.Clone(),this.m_linearImpulse=new box2d.b2Vec2(0,0),this.m_maxForce=V.maxForce,this.m_maxTorque=V.maxTorque,this.m_correctionFactor=V.correctionFactor,this.m_rA=new box2d.b2Vec2(0,0),this.m_rB=new box2d.b2Vec2(0,0),this.m_localCenterA=new box2d.b2Vec2(0,0),this.m_localCenterB=new box2d.b2Vec2(0,0),this.m_linearError=new box2d.b2Vec2(0,0),this.m_linearMass=new box2d.b2Mat22,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_K=new box2d.b2Mat22};goog.inherits(box2d.b2MotorJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2MotorJoint",box2d.b2MotorJoint);box2d.b2MotorJoint.prototype.m_linearOffset=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_linearOffset",box2d.b2MotorJoint.prototype.m_linearOffset);box2d.b2MotorJoint.prototype.m_angularOffset=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_angularOffset",box2d.b2MotorJoint.prototype.m_angularOffset);box2d.b2MotorJoint.prototype.m_linearImpulse=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_linearImpulse",box2d.b2MotorJoint.prototype.m_linearImpulse);box2d.b2MotorJoint.prototype.m_angularImpulse=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_angularImpulse",box2d.b2MotorJoint.prototype.m_angularImpulse);box2d.b2MotorJoint.prototype.m_maxForce=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_maxForce",box2d.b2MotorJoint.prototype.m_maxForce);box2d.b2MotorJoint.prototype.m_maxTorque=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_maxTorque",box2d.b2MotorJoint.prototype.m_maxTorque);box2d.b2MotorJoint.prototype.m_correctionFactor=.3;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_correctionFactor",box2d.b2MotorJoint.prototype.m_correctionFactor);box2d.b2MotorJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_indexA",box2d.b2MotorJoint.prototype.m_indexA);box2d.b2MotorJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_indexB",box2d.b2MotorJoint.prototype.m_indexB);box2d.b2MotorJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_rA",box2d.b2MotorJoint.prototype.m_rA);box2d.b2MotorJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_rB",box2d.b2MotorJoint.prototype.m_rB);box2d.b2MotorJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_localCenterA",box2d.b2MotorJoint.prototype.m_localCenterA);box2d.b2MotorJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_localCenterB",box2d.b2MotorJoint.prototype.m_localCenterB);box2d.b2MotorJoint.prototype.m_linearError=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_linearError",box2d.b2MotorJoint.prototype.m_linearError);box2d.b2MotorJoint.prototype.m_angularError=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_angularError",box2d.b2MotorJoint.prototype.m_angularError);box2d.b2MotorJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_invMassA",box2d.b2MotorJoint.prototype.m_invMassA);box2d.b2MotorJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_invMassB",box2d.b2MotorJoint.prototype.m_invMassB);box2d.b2MotorJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_invIA",box2d.b2MotorJoint.prototype.m_invIA);box2d.b2MotorJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_invIB",box2d.b2MotorJoint.prototype.m_invIB);box2d.b2MotorJoint.prototype.m_linearMass=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_linearMass",box2d.b2MotorJoint.prototype.m_linearMass);box2d.b2MotorJoint.prototype.m_angularMass=0;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_angularMass",box2d.b2MotorJoint.prototype.m_angularMass);box2d.b2MotorJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_qA",box2d.b2MotorJoint.prototype.m_qA);box2d.b2MotorJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_qB",box2d.b2MotorJoint.prototype.m_qB);box2d.b2MotorJoint.prototype.m_K=null;goog.exportProperty(box2d.b2MotorJoint.prototype,"m_K",box2d.b2MotorJoint.prototype.m_K);box2d.b2MotorJoint.prototype.GetAnchorA=function(V){return this.m_bodyA.GetPosition(V)};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetAnchorA",box2d.b2MotorJoint.prototype.GetAnchorA);box2d.b2MotorJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetPosition(V)};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetAnchorB",box2d.b2MotorJoint.prototype.GetAnchorB);box2d.b2MotorJoint.prototype.GetReactionForce=function(V,x){return box2d.b2Mul_S_V2(V,this.m_linearImpulse,x)};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetReactionForce",box2d.b2MotorJoint.prototype.GetReactionForce);box2d.b2MotorJoint.prototype.GetReactionTorque=function(V){return V*this.m_angularImpulse};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetReactionTorque",box2d.b2MotorJoint.prototype.GetReactionTorque);box2d.b2MotorJoint.prototype.SetCorrectionFactor=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V)&&0<=V&&1>=V),this._correctionFactor=V};box2d.b2MotorJoint.prototype.GetCorrectionFactor=function(){return this.m_correctionFactor};box2d.b2MotorJoint.prototype.SetLinearOffset=function(V){(V.x!=this.m_linearOffset.x||V.y!=this.m_linearOffset.y)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(V))};goog.exportProperty(box2d.b2MotorJoint.prototype,"SetLinearOffset",box2d.b2MotorJoint.prototype.SetLinearOffset);box2d.b2MotorJoint.prototype.GetLinearOffset=function(V){return V.Copy(this.m_linearOffset)};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetLinearOffset",box2d.b2MotorJoint.prototype.GetLinearOffset);box2d.b2MotorJoint.prototype.SetAngularOffset=function(V){V!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=V)};goog.exportProperty(box2d.b2MotorJoint.prototype,"SetAngularOffset",box2d.b2MotorJoint.prototype.SetAngularOffset);box2d.b2MotorJoint.prototype.GetAngularOffset=function(){return this.m_angularOffset};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetAngularOffset",box2d.b2MotorJoint.prototype.GetAngularOffset);box2d.b2MotorJoint.prototype.SetMaxForce=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V)&&0<=V),this.m_maxForce=V};goog.exportProperty(box2d.b2MotorJoint.prototype,"SetMaxForce",box2d.b2MotorJoint.prototype.SetMaxForce);box2d.b2MotorJoint.prototype.GetMaxForce=function(){return this.m_maxForce};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetMaxForce",box2d.b2MotorJoint.prototype.GetMaxForce);box2d.b2MotorJoint.prototype.SetMaxTorque=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V)&&0<=V),this.m_maxTorque=V};goog.exportProperty(box2d.b2MotorJoint.prototype,"SetMaxTorque",box2d.b2MotorJoint.prototype.SetMaxTorque);box2d.b2MotorJoint.prototype.GetMaxTorque=function(){return this.m_maxTorque};goog.exportProperty(box2d.b2MotorJoint.prototype,"GetMaxTorque",box2d.b2MotorJoint.prototype.GetMaxTorque);box2d.b2MotorJoint.prototype.InitVelocityConstraints=function(V){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var x=V.positions[this.m_indexA].c,o=V.positions[this.m_indexA].a,_o=V.velocities[this.m_indexA].v,_i=V.velocities[this.m_indexA].w,l=V.positions[this.m_indexB].c,t_=V.positions[this.m_indexB].a,o_=V.velocities[this.m_indexB].v,i_=V.velocities[this.m_indexB].w,_e=this.m_qA.SetAngle(o),ws=this.m_qB.SetAngle(t_),l_=box2d.b2Mul_R_V2(_e,box2d.b2Vec2.s_t0.Copy(this.m_localCenterA).SelfNeg(),this.m_rA),ws=box2d.b2Mul_R_V2(ws,box2d.b2Vec2.s_t0.Copy(this.m_localCenterB).SelfNeg(),this.m_rB),h_=this.m_invMassA,s_=this.m_invMassB,B_=this.m_invIA,D_=this.m_invIB,y_=this.m_K;y_.ex.x=h_+s_+B_*l_.y*l_.y+D_*ws.y*ws.y,y_.ex.y=-B_*l_.x*l_.y-D_*ws.x*ws.y,y_.ey.x=y_.ex.y,y_.ey.y=h_+s_+B_*l_.x*l_.x+D_*ws.x*ws.x,y_.GetInverse(this.m_linearMass),this.m_angularMass=B_+D_,0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass),box2d.b2Sub_V2_V2(box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(l,ws,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(x,l_,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t2),box2d.b2Mul_R_V2(_e,this.m_linearOffset,box2d.b2Vec2.s_t3),this.m_linearError),this.m_angularError=t_-o-this.m_angularOffset,V.step.warmStarting?(this.m_linearImpulse.SelfMul(V.step.dtRatio),this.m_angularImpulse*=V.step.dtRatio,x=this.m_linearImpulse,_o.SelfMulSub(h_,x),_i-=B_*(box2d.b2Cross_V2_V2(l_,x)+this.m_angularImpulse),o_.SelfMulAdd(s_,x),i_+=D_*(box2d.b2Cross_V2_V2(ws,x)+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0),V.velocities[this.m_indexA].w=_i,V.velocities[this.m_indexB].w=i_};goog.exportProperty(box2d.b2MotorJoint.prototype,"InitVelocityConstraints",box2d.b2MotorJoint.prototype.InitVelocityConstraints);box2d.b2MotorJoint.prototype.SolveVelocityConstraints=function(V){var x=V.velocities[this.m_indexA].v,l_=V.velocities[this.m_indexA].w,o=V.velocities[this.m_indexB].v,ws=V.velocities[this.m_indexB].w,_o=this.m_invMassA,_i=this.m_invMassB,l=this.m_invIA,t_=this.m_invIB,o_=V.step.dt,i_=V.step.inv_dt,B_=ws-l_+i_*this.m_correctionFactor*this.m_angularError,B_=-this.m_angularMass*B_,D_=this.m_angularImpulse,_e=o_*this.m_maxTorque;this.m_angularImpulse=box2d.b2Clamp(this.m_angularImpulse+B_,-_e,_e);var B_=this.m_angularImpulse-D_,l_=l_-l*B_,ws=ws+t_*B_,h_=this.m_rA,s_=this.m_rB,B_=box2d.b2Add_V2_V2(box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(o,box2d.b2Cross_S_V2(ws,s_,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(x,box2d.b2Cross_S_V2(l_,h_,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t2),box2d.b2Mul_S_V2(i_*this.m_correctionFactor,this.m_linearError,box2d.b2Vec2.s_t3),box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_Cdot),B_=box2d.b2Mul_M22_V2(this.m_linearMass,B_,box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_impulse).SelfNeg(),D_=box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_oldImpulse.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(B_),_e=o_*this.m_maxForce,this.m_linearImpulse.LengthSquared()>_e*_e&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(_e)),box2d.b2Sub_V2_V2(this.m_linearImpulse,D_,B_),x.SelfMulSub(_o,B_),l_-=l*box2d.b2Cross_V2_V2(h_,B_),o.SelfMulAdd(_i,B_),ws+=t_*box2d.b2Cross_V2_V2(s_,B_),V.velocities[this.m_indexA].w=l_,V.velocities[this.m_indexB].w=ws};goog.exportProperty(box2d.b2MotorJoint.prototype,"SolveVelocityConstraints",box2d.b2MotorJoint.prototype.SolveVelocityConstraints);box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2;box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d.b2Vec2;box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_oldImpulse=new box2d.b2Vec2;box2d.b2MotorJoint.prototype.SolvePositionConstraints=function(V){return!0};goog.exportProperty(box2d.b2MotorJoint.prototype,"SolvePositionConstraints",box2d.b2MotorJoint.prototype.SolvePositionConstraints);box2d.b2MotorJoint.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_bodyA.m_islandIndex,x=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2MotorJointDef*/ var jd = new box2d.b2MotorJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,V),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,x),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.linearOffset.Set(%.15f, %.15f);
`,this.m_linearOffset.x,this.m_linearOffset.y),box2d.b2Log(`  jd.angularOffset = %.15f;
`,this.m_angularOffset),box2d.b2Log(`  jd.maxForce = %.15f;
`,this.m_maxForce),box2d.b2Log(`  jd.maxTorque = %.15f;
`,this.m_maxTorque),box2d.b2Log(`  jd.correctionFactor = %.15f;
`,this.m_correctionFactor),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2MotorJoint.prototype,"Dump",box2d.b2MotorJoint.prototype.Dump);box2d.b2MouseJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_mouseJoint),this.target=new box2d.b2Vec2};goog.inherits(box2d.b2MouseJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2MouseJointDef",box2d.b2MouseJointDef);box2d.b2MouseJointDef.prototype.target=null;goog.exportProperty(box2d.b2MouseJointDef.prototype,"target",box2d.b2MouseJointDef.prototype.target);box2d.b2MouseJointDef.prototype.maxForce=0;goog.exportProperty(box2d.b2MouseJointDef.prototype,"maxForce",box2d.b2MouseJointDef.prototype.maxForce);box2d.b2MouseJointDef.prototype.frequencyHz=5;goog.exportProperty(box2d.b2MouseJointDef.prototype,"frequencyHz",box2d.b2MouseJointDef.prototype.frequencyHz);box2d.b2MouseJointDef.prototype.dampingRatio=.7;goog.exportProperty(box2d.b2MouseJointDef.prototype,"dampingRatio",box2d.b2MouseJointDef.prototype.dampingRatio);box2d.b2MouseJoint=function(V){box2d.b2Joint.call(this,V),this.m_localAnchorB=new box2d.b2Vec2,this.m_targetA=new box2d.b2Vec2,this.m_impulse=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_mass=new box2d.b2Mat22,this.m_C=new box2d.b2Vec2,this.m_qB=new box2d.b2Rot,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat22,box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.target.IsValid()),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V.maxForce)&&0<=V.maxForce),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V.frequencyHz)&&0<=V.frequencyHz),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V.dampingRatio)&&0<=V.dampingRatio),this.m_targetA.Copy(V.target),box2d.b2MulT_X_V2(this.m_bodyB.GetTransform(),this.m_targetA,this.m_localAnchorB),this.m_maxForce=V.maxForce,this.m_impulse.SetZero(),this.m_frequencyHz=V.frequencyHz,this.m_dampingRatio=V.dampingRatio,this.m_gamma=this.m_beta=0};goog.inherits(box2d.b2MouseJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2MouseJoint",box2d.b2MouseJoint);box2d.b2MouseJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_localAnchorB",box2d.b2MouseJoint.prototype.m_localAnchorB);box2d.b2MouseJoint.prototype.m_targetA=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_targetA",box2d.b2MouseJoint.prototype.m_targetA);box2d.b2MouseJoint.prototype.m_frequencyHz=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_frequencyHz",box2d.b2MouseJoint.prototype.m_frequencyHz);box2d.b2MouseJoint.prototype.m_dampingRatio=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_dampingRatio",box2d.b2MouseJoint.prototype.m_dampingRatio);box2d.b2MouseJoint.prototype.m_beta=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_beta",box2d.b2MouseJoint.prototype.m_beta);box2d.b2MouseJoint.prototype.m_impulse=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_impulse",box2d.b2MouseJoint.prototype.m_impulse);box2d.b2MouseJoint.prototype.m_maxForce=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_maxForce",box2d.b2MouseJoint.prototype.m_maxForce);box2d.b2MouseJoint.prototype.m_gamma=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_gamma",box2d.b2MouseJoint.prototype.m_gamma);box2d.b2MouseJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_indexA",box2d.b2MouseJoint.prototype.m_indexA);box2d.b2MouseJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_indexB",box2d.b2MouseJoint.prototype.m_indexB);box2d.b2MouseJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_rB",box2d.b2MouseJoint.prototype.m_rB);box2d.b2MouseJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_localCenterB",box2d.b2MouseJoint.prototype.m_localCenterB);box2d.b2MouseJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_invMassB",box2d.b2MouseJoint.prototype.m_invMassB);box2d.b2MouseJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_invIB",box2d.b2MouseJoint.prototype.m_invIB);box2d.b2MouseJoint.prototype.m_mass=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_mass",box2d.b2MouseJoint.prototype.m_mass);box2d.b2MouseJoint.prototype.m_C=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_C",box2d.b2MouseJoint.prototype.m_C);box2d.b2MouseJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_qB",box2d.b2MouseJoint.prototype.m_qB);box2d.b2MouseJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_lalcB",box2d.b2MouseJoint.prototype.m_lalcB);box2d.b2MouseJoint.prototype.m_K=null;goog.exportProperty(box2d.b2MouseJoint.prototype,"m_K",box2d.b2MouseJoint.prototype.m_K);box2d.b2MouseJoint.prototype.SetTarget=function(V){this.m_bodyB.IsAwake()||this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(V)};goog.exportProperty(box2d.b2MouseJoint.prototype,"SetTarget",box2d.b2MouseJoint.prototype.SetTarget);box2d.b2MouseJoint.prototype.GetTarget=function(V){return V.Copy(this.m_targetA)};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetTarget",box2d.b2MouseJoint.prototype.GetTarget);box2d.b2MouseJoint.prototype.SetMaxForce=function(V){this.m_maxForce=V};goog.exportProperty(box2d.b2MouseJoint.prototype,"SetMaxForce",box2d.b2MouseJoint.prototype.SetMaxForce);box2d.b2MouseJoint.prototype.GetMaxForce=function(){return this.m_maxForce};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetMaxForce",box2d.b2MouseJoint.prototype.GetMaxForce);box2d.b2MouseJoint.prototype.SetFrequency=function(V){this.m_frequencyHz=V};goog.exportProperty(box2d.b2MouseJoint.prototype,"SetFrequency",box2d.b2MouseJoint.prototype.SetFrequency);box2d.b2MouseJoint.prototype.GetFrequency=function(){return this.m_frequencyHz};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetFrequency",box2d.b2MouseJoint.prototype.GetFrequency);box2d.b2MouseJoint.prototype.SetDampingRatio=function(V){this.m_dampingRatio=V};goog.exportProperty(box2d.b2MouseJoint.prototype,"SetDampingRatio",box2d.b2MouseJoint.prototype.SetDampingRatio);box2d.b2MouseJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetDampingRatio",box2d.b2MouseJoint.prototype.GetDampingRatio);box2d.b2MouseJoint.prototype.InitVelocityConstraints=function(V){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var x=V.positions[this.m_indexB].c,o=V.velocities[this.m_indexB].v,_o=V.velocities[this.m_indexB].w,_i=this.m_qB.SetAngle(V.positions[this.m_indexB].a),t_=this.m_bodyB.GetMass(),o_=2*box2d.b2_pi*this.m_frequencyHz,l=2*t_*this.m_dampingRatio*o_,t_=t_*o_*o_,o_=V.step.dt;box2d.ENABLE_ASSERTS&&box2d.b2Assert(l+o_*t_>box2d.b2_epsilon),this.m_gamma=o_*(l+o_*t_),this.m_gamma!==0&&(this.m_gamma=1/this.m_gamma),this.m_beta=o_*t_*this.m_gamma,box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(_i,this.m_lalcB,this.m_rB),_i=this.m_K,_i.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,_i.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,_i.ey.x=_i.ex.y,_i.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,_i.GetInverse(this.m_mass),this.m_C.x=x.x+this.m_rB.x-this.m_targetA.x,this.m_C.y=x.y+this.m_rB.y-this.m_targetA.y,this.m_C.SelfMul(this.m_beta),_o*=.98,V.step.warmStarting?(this.m_impulse.SelfMul(V.step.dtRatio),o.x+=this.m_invMassB*this.m_impulse.x,o.y+=this.m_invMassB*this.m_impulse.y,_o+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),V.velocities[this.m_indexB].w=_o};goog.exportProperty(box2d.b2MouseJoint.prototype,"InitVelocityConstraints",box2d.b2MouseJoint.prototype.InitVelocityConstraints);box2d.b2MouseJoint.prototype.SolveVelocityConstraints=function(V){var x=V.velocities[this.m_indexB].v,o=V.velocities[this.m_indexB].w,_o=box2d.b2AddCross_V2_S_V2(x,o,this.m_rB,box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_Cdot),_o=box2d.b2Mul_M22_V2(this.m_mass,box2d.b2Add_V2_V2(_o,box2d.b2Add_V2_V2(this.m_C,box2d.b2Mul_S_V2(this.m_gamma,this.m_impulse,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0).SelfNeg(),box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_impulse),_i=box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_oldImpulse.Copy(this.m_impulse);this.m_impulse.SelfAdd(_o);var l=V.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>l*l&&this.m_impulse.SelfMul(l/this.m_impulse.Length()),box2d.b2Sub_V2_V2(this.m_impulse,_i,_o),x.SelfMulAdd(this.m_invMassB,_o),o+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,_o),V.velocities[this.m_indexB].w=o};goog.exportProperty(box2d.b2MouseJoint.prototype,"SolveVelocityConstraints",box2d.b2MouseJoint.prototype.SolveVelocityConstraints);box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2;box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d.b2Vec2;box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_oldImpulse=new box2d.b2Vec2;box2d.b2MouseJoint.prototype.SolvePositionConstraints=function(V){return!0};goog.exportProperty(box2d.b2MouseJoint.prototype,"SolvePositionConstraints",box2d.b2MouseJoint.prototype.SolvePositionConstraints);box2d.b2MouseJoint.prototype.GetAnchorA=function(V){return V.Copy(this.m_targetA)};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetAnchorA",box2d.b2MouseJoint.prototype.GetAnchorA);box2d.b2MouseJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,V)};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetAnchorB",box2d.b2MouseJoint.prototype.GetAnchorB);box2d.b2MouseJoint.prototype.GetReactionForce=function(V,x){return box2d.b2Mul_S_V2(V,this.m_impulse,x)};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetReactionForce",box2d.b2MouseJoint.prototype.GetReactionForce);box2d.b2MouseJoint.prototype.GetReactionTorque=function(V){return 0};goog.exportProperty(box2d.b2MouseJoint.prototype,"GetReactionTorque",box2d.b2MouseJoint.prototype.GetReactionTorque);box2d.b2MouseJoint.prototype.Dump=function(){box2d.DEBUG&&box2d.b2Log(`Mouse joint dumping is not supported.
`)};goog.exportProperty(box2d.b2MouseJoint.prototype,"Dump",box2d.b2MouseJoint.prototype.Dump);box2d.b2MouseJoint.prototype.ShiftOrigin=function(V){this.m_targetA.SelfSub(V)};goog.exportProperty(box2d.b2MouseJoint.prototype,"ShiftOrigin",box2d.b2MouseJoint.prototype.ShiftOrigin);box2d.b2PrismaticJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_prismaticJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2,this.localAxisA=new box2d.b2Vec2(1,0)};goog.inherits(box2d.b2PrismaticJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2PrismaticJointDef",box2d.b2PrismaticJointDef);box2d.b2PrismaticJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"localAnchorA",box2d.b2PrismaticJointDef.prototype.localAnchorA);box2d.b2PrismaticJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"localAnchorB",box2d.b2PrismaticJointDef.prototype.localAnchorB);box2d.b2PrismaticJointDef.prototype.localAxisA=null;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"localAxisA",box2d.b2PrismaticJointDef.prototype.localAxisA);box2d.b2PrismaticJointDef.prototype.referenceAngle=0;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"referenceAngle",box2d.b2PrismaticJointDef.prototype.referenceAngle);box2d.b2PrismaticJointDef.prototype.enableLimit=!1;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"enableLimit",box2d.b2PrismaticJointDef.prototype.enableLimit);box2d.b2PrismaticJointDef.prototype.lowerTranslation=0;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"lowerTranslation",box2d.b2PrismaticJointDef.prototype.lowerTranslation);box2d.b2PrismaticJointDef.prototype.upperTranslation=0;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"upperTranslation",box2d.b2PrismaticJointDef.prototype.upperTranslation);box2d.b2PrismaticJointDef.prototype.enableMotor=!1;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"enableMotor",box2d.b2PrismaticJointDef.prototype.enableMotor);box2d.b2PrismaticJointDef.prototype.maxMotorForce=0;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"maxMotorForce",box2d.b2PrismaticJointDef.prototype.maxMotorForce);box2d.b2PrismaticJointDef.prototype.motorSpeed=0;goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"motorSpeed",box2d.b2PrismaticJointDef.prototype.motorSpeed);box2d.b2PrismaticJointDef.prototype.Initialize=function(V,x,o,_o){this.bodyA=V,this.bodyB=x,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB),this.bodyA.GetLocalVector(_o,this.localAxisA),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};goog.exportProperty(box2d.b2PrismaticJointDef.prototype,"Initialize",box2d.b2PrismaticJointDef.prototype.Initialize);box2d.b2PrismaticJoint=function(V){box2d.b2Joint.call(this,V),this.m_localAnchorA=V.localAnchorA.Clone(),this.m_localAnchorB=V.localAnchorB.Clone(),this.m_localXAxisA=V.localAxisA.Clone().SelfNormalize(),this.m_localYAxisA=box2d.b2Cross_S_V2(1,this.m_localXAxisA,new box2d.b2Vec2),this.m_referenceAngle=V.referenceAngle,this.m_impulse=new box2d.b2Vec3(0,0,0),this.m_lowerTranslation=V.lowerTranslation,this.m_upperTranslation=V.upperTranslation,this.m_maxMotorForce=V.maxMotorForce,this.m_motorSpeed=V.motorSpeed,this.m_enableLimit=V.enableLimit,this.m_enableMotor=V.enableMotor,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_axis=new box2d.b2Vec2(0,0),this.m_perp=new box2d.b2Vec2(0,0),this.m_K=new box2d.b2Mat33,this.m_K3=new box2d.b2Mat33,this.m_K2=new box2d.b2Mat22,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2};goog.inherits(box2d.b2PrismaticJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2PrismaticJoint",box2d.b2PrismaticJoint);box2d.b2PrismaticJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localAnchorA",box2d.b2PrismaticJoint.prototype.m_localAnchorA);box2d.b2PrismaticJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localAnchorB",box2d.b2PrismaticJoint.prototype.m_localAnchorB);box2d.b2PrismaticJoint.prototype.m_localXAxisA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localXAxisA",box2d.b2PrismaticJoint.prototype.m_localXAxisA);box2d.b2PrismaticJoint.prototype.m_localYAxisA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localYAxisA",box2d.b2PrismaticJoint.prototype.m_localYAxisA);box2d.b2PrismaticJoint.prototype.m_referenceAngle=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_referenceAngle",box2d.b2PrismaticJoint.prototype.m_referenceAngle);box2d.b2PrismaticJoint.prototype.m_impulse=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_impulse",box2d.b2PrismaticJoint.prototype.m_impulse);box2d.b2PrismaticJoint.prototype.m_motorImpulse=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_motorImpulse",box2d.b2PrismaticJoint.prototype.m_motorImpulse);box2d.b2PrismaticJoint.prototype.m_lowerTranslation=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_lowerTranslation",box2d.b2PrismaticJoint.prototype.m_lowerTranslation);box2d.b2PrismaticJoint.prototype.m_upperTranslation=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_upperTranslation",box2d.b2PrismaticJoint.prototype.m_upperTranslation);box2d.b2PrismaticJoint.prototype.m_maxMotorForce=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_maxMotorForce",box2d.b2PrismaticJoint.prototype.m_maxMotorForce);box2d.b2PrismaticJoint.prototype.m_motorSpeed=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_motorSpeed",box2d.b2PrismaticJoint.prototype.m_motorSpeed);box2d.b2PrismaticJoint.prototype.m_enableLimit=!1;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_enableLimit",box2d.b2PrismaticJoint.prototype.m_enableLimit);box2d.b2PrismaticJoint.prototype.m_enableMotor=!1;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_enableMotor",box2d.b2PrismaticJoint.prototype.m_enableMotor);box2d.b2PrismaticJoint.prototype.m_limitState=box2d.b2LimitState.e_inactiveLimit;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_limitState",box2d.b2PrismaticJoint.prototype.m_limitState);box2d.b2PrismaticJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_indexA",box2d.b2PrismaticJoint.prototype.m_indexA);box2d.b2PrismaticJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_indexB",box2d.b2PrismaticJoint.prototype.m_indexB);box2d.b2PrismaticJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localCenterA",box2d.b2PrismaticJoint.prototype.m_localCenterA);box2d.b2PrismaticJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_localCenterB",box2d.b2PrismaticJoint.prototype.m_localCenterB);box2d.b2PrismaticJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_invMassA",box2d.b2PrismaticJoint.prototype.m_invMassA);box2d.b2PrismaticJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_invMassB",box2d.b2PrismaticJoint.prototype.m_invMassB);box2d.b2PrismaticJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_invIA",box2d.b2PrismaticJoint.prototype.m_invIA);box2d.b2PrismaticJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_invIB",box2d.b2PrismaticJoint.prototype.m_invIB);box2d.b2PrismaticJoint.prototype.m_axis=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_axis",box2d.b2PrismaticJoint.prototype.m_axis);box2d.b2PrismaticJoint.prototype.m_perp=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_perp",box2d.b2PrismaticJoint.prototype.m_perp);box2d.b2PrismaticJoint.prototype.m_s1=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_s1",box2d.b2PrismaticJoint.prototype.m_s1);box2d.b2PrismaticJoint.prototype.m_s2=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_s2",box2d.b2PrismaticJoint.prototype.m_s2);box2d.b2PrismaticJoint.prototype.m_a1=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_a1",box2d.b2PrismaticJoint.prototype.m_a1);box2d.b2PrismaticJoint.prototype.m_a2=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_a2",box2d.b2PrismaticJoint.prototype.m_a2);box2d.b2PrismaticJoint.prototype.m_K=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_K",box2d.b2PrismaticJoint.prototype.m_K);box2d.b2PrismaticJoint.prototype.m_K3=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_K3",box2d.b2PrismaticJoint.prototype.m_K3);box2d.b2PrismaticJoint.prototype.m_K2=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_K2",box2d.b2PrismaticJoint.prototype.m_K2);box2d.b2PrismaticJoint.prototype.m_motorMass=0;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_motorMass",box2d.b2PrismaticJoint.prototype.m_motorMass);box2d.b2PrismaticJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_qA",box2d.b2PrismaticJoint.prototype.m_qA);box2d.b2PrismaticJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_qB",box2d.b2PrismaticJoint.prototype.m_qB);box2d.b2PrismaticJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_lalcA",box2d.b2PrismaticJoint.prototype.m_lalcA);box2d.b2PrismaticJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_lalcB",box2d.b2PrismaticJoint.prototype.m_lalcB);box2d.b2PrismaticJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_rA",box2d.b2PrismaticJoint.prototype.m_rA);box2d.b2PrismaticJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2PrismaticJoint.prototype,"m_rB",box2d.b2PrismaticJoint.prototype.m_rB);box2d.b2PrismaticJoint.prototype.InitVelocityConstraints=function(V){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _e=V.positions[this.m_indexA].c,x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,l_=V.positions[this.m_indexB].c,ws=V.positions[this.m_indexB].a,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,l=this.m_qA.SetAngle(V.positions[this.m_indexA].a),ws=this.m_qB.SetAngle(ws);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var t_=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA);box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var o_=box2d.b2Mul_R_V2(ws,this.m_lalcB,this.m_rB),i_=box2d.b2Add_V2_V2(box2d.b2Sub_V2_V2(l_,_e,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(o_,t_,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_d),_e=this.m_invMassA,l_=this.m_invMassB,ws=this.m_invIA,h_=this.m_invIB;box2d.b2Mul_R_V2(l,this.m_localXAxisA,this.m_axis),this.m_a1=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(i_,t_,box2d.b2Vec2.s_t0),this.m_axis),this.m_a2=box2d.b2Cross_V2_V2(o_,this.m_axis),this.m_motorMass=_e+l_+ws*this.m_a1*this.m_a1+h_*this.m_a2*this.m_a2,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass),box2d.b2Mul_R_V2(l,this.m_localYAxisA,this.m_perp),this.m_s1=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(i_,t_,box2d.b2Vec2.s_t0),this.m_perp),this.m_s2=box2d.b2Cross_V2_V2(o_,this.m_perp),this.m_K.ex.x=_e+l_+ws*this.m_s1*this.m_s1+h_*this.m_s2*this.m_s2,this.m_K.ex.y=ws*this.m_s1+h_*this.m_s2,this.m_K.ex.z=ws*this.m_s1*this.m_a1+h_*this.m_s2*this.m_a2,this.m_K.ey.x=this.m_K.ex.y,this.m_K.ey.y=ws+h_,this.m_K.ey.y===0&&(this.m_K.ey.y=1),this.m_K.ey.z=ws*this.m_a1+h_*this.m_a2,this.m_K.ez.x=this.m_K.ex.z,this.m_K.ez.y=this.m_K.ey.z,this.m_K.ez.z=_e+l_+ws*this.m_a1*this.m_a1+h_*this.m_a2*this.m_a2,this.m_enableLimit?(l=box2d.b2Dot_V2_V2(this.m_axis,i_),box2d.b2Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*box2d.b2_linearSlop?this.m_limitState=box2d.b2LimitState.e_equalLimits:l<=this.m_lowerTranslation?this.m_limitState!==box2d.b2LimitState.e_atLowerLimit&&(this.m_limitState=box2d.b2LimitState.e_atLowerLimit,this.m_impulse.z=0):l>=this.m_upperTranslation?this.m_limitState!==box2d.b2LimitState.e_atUpperLimit&&(this.m_limitState=box2d.b2LimitState.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=box2d.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)):(this.m_limitState=box2d.b2LimitState.e_inactiveLimit,this.m_impulse.z=0),this.m_enableMotor||(this.m_motorImpulse=0),V.step.warmStarting?(this.m_impulse.SelfMulScalar(V.step.dtRatio),this.m_motorImpulse*=V.step.dtRatio,l=box2d.b2Add_V2_V2(box2d.b2Mul_S_V2(this.m_impulse.x,this.m_perp,box2d.b2Vec2.s_t0),box2d.b2Mul_S_V2(this.m_motorImpulse+this.m_impulse.z,this.m_axis,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_P),t_=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,o_=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,x.SelfMulSub(_e,l),o-=ws*t_,_o.SelfMulAdd(l_,l),_i+=h_*o_):(this.m_impulse.SetZero(),this.m_motorImpulse=0),V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"InitVelocityConstraints",box2d.b2PrismaticJoint.prototype.InitVelocityConstraints);box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_d=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints=function(V){var x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,l=this.m_invMassA,t_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB;if(this.m_enableMotor&&this.m_limitState!==box2d.b2LimitState.e_equalLimits){var _e=box2d.b2Dot_V2_V2(this.m_axis,box2d.b2Sub_V2_V2(_o,x,box2d.b2Vec2.s_t0))+this.m_a2*_i-this.m_a1*o,_e=this.m_motorMass*(this.m_motorSpeed-_e),l_=this.m_motorImpulse,ws=V.step.dt*this.m_maxMotorForce;this.m_motorImpulse=box2d.b2Clamp(this.m_motorImpulse+_e,-ws,ws),_e=this.m_motorImpulse-l_,l_=box2d.b2Mul_S_V2(_e,this.m_axis,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),ws=_e*this.m_a1,_e*=this.m_a2,x.SelfMulSub(l,l_),o-=o_*ws,_o.SelfMulAdd(t_,l_),_i+=i_*_e}var ws=box2d.b2Dot_V2_V2(this.m_perp,box2d.b2Sub_V2_V2(_o,x,box2d.b2Vec2.s_t0))+this.m_s2*_i-this.m_s1*o,h_=_i-o;this.m_enableLimit&&this.m_limitState!==box2d.b2LimitState.e_inactiveLimit?(_e=box2d.b2Dot_V2_V2(this.m_axis,box2d.b2Sub_V2_V2(_o,x,box2d.b2Vec2.s_t0))+this.m_a2*_i-this.m_a1*o,l_=box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f1.Copy(this.m_impulse),_e=this.m_K.Solve33(-ws,-h_,-_e,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df3),this.m_impulse.SelfAdd(_e),this.m_limitState===box2d.b2LimitState.e_atLowerLimit?this.m_impulse.z=box2d.b2Max(this.m_impulse.z,0):this.m_limitState===box2d.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=box2d.b2Min(this.m_impulse.z,0)),ws=this.m_K.Solve22(-ws-(this.m_impulse.z-l_.z)*this.m_K.ez.x,-h_-(this.m_impulse.z-l_.z)*this.m_K.ez.y,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f2r),ws.x+=l_.x,ws.y+=l_.y,this.m_impulse.x=ws.x,this.m_impulse.y=ws.y,_e.x=this.m_impulse.x-l_.x,_e.y=this.m_impulse.y-l_.y,_e.z=this.m_impulse.z-l_.z,l_=box2d.b2Add_V2_V2(box2d.b2Mul_S_V2(_e.x,this.m_perp,box2d.b2Vec2.s_t0),box2d.b2Mul_S_V2(_e.z,this.m_axis,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),ws=_e.x*this.m_s1+_e.y+_e.z*this.m_a1,_e=_e.x*this.m_s2+_e.y+_e.z*this.m_a2):(_e=this.m_K.Solve22(-ws,-h_,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df2),this.m_impulse.x+=_e.x,this.m_impulse.y+=_e.y,l_=box2d.b2Mul_S_V2(_e.x,this.m_perp,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),ws=_e.x*this.m_s1+_e.y,_e=_e.x*this.m_s2+_e.y),x.SelfMulSub(l,l_),o-=o_*ws,_o.SelfMulAdd(t_,l_),V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i+i_*_e};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"SolveVelocityConstraints",box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints);box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f2r=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f1=new box2d.b2Vec3;box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df3=new box2d.b2Vec3;box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df2=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolvePositionConstraints=function(V){var x=V.positions[this.m_indexA].c,o=V.positions[this.m_indexA].a,_o=V.positions[this.m_indexB].c,_i=V.positions[this.m_indexB].a,s_=this.m_qA.SetAngle(o),h_=this.m_qB.SetAngle(_i),l=this.m_invMassA,t_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB,j_=box2d.b2Mul_R_V2(s_,this.m_lalcA,this.m_rA),_2=box2d.b2Mul_R_V2(h_,this.m_lalcB,this.m_rB),_e=box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(_o,_2,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(x,j_,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_d),l_=box2d.b2Mul_R_V2(s_,this.m_localXAxisA,this.m_axis),ws=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(_e,j_,box2d.b2Vec2.s_t0),l_),h_=box2d.b2Cross_V2_V2(_2,l_),s_=box2d.b2Mul_R_V2(s_,this.m_localYAxisA,this.m_perp),B_=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(_e,j_,box2d.b2Vec2.s_t0),s_),D_=box2d.b2Cross_V2_V2(_2,s_),y_=box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse,G_=box2d.b2Dot_V2_V2(s_,_e),q_=_i-o-this.m_referenceAngle,j_=box2d.b2Abs(G_),_2=box2d.b2Abs(q_),m2=!1,y2=0;if(this.m_enableLimit&&(_e=box2d.b2Dot_V2_V2(l_,_e),box2d.b2Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*box2d.b2_linearSlop?(y2=box2d.b2Clamp(_e,-box2d.b2_maxLinearCorrection,box2d.b2_maxLinearCorrection),j_=box2d.b2Max(j_,box2d.b2Abs(_e)),m2=!0):_e<=this.m_lowerTranslation?(y2=box2d.b2Clamp(_e-this.m_lowerTranslation+box2d.b2_linearSlop,-box2d.b2_maxLinearCorrection,0),j_=box2d.b2Max(j_,this.m_lowerTranslation-_e),m2=!0):_e>=this.m_upperTranslation&&(y2=box2d.b2Clamp(_e-this.m_upperTranslation-box2d.b2_linearSlop,0,box2d.b2_maxLinearCorrection),j_=box2d.b2Max(j_,_e-this.m_upperTranslation),m2=!0)),m2){var _e=o_*B_+i_*D_,I2=o_*B_*ws+i_*D_*h_,m2=o_+i_;m2===0&&(m2=1);var J2=o_*ws+i_*h_,z2=l+t_+o_*ws*ws+i_*h_*h_,K2=this.m_K3;K2.ex.Set(l+t_+o_*B_*B_+i_*D_*D_,_e,I2),K2.ey.Set(_e,m2,J2),K2.ez.Set(I2,J2,z2),y_=K2.Solve33(-G_,-q_,-y2,y_)}else _e=o_*B_+i_*D_,m2=o_+i_,m2===0&&(m2=1),y2=this.m_K2,y2.ex.Set(l+t_+o_*B_*B_+i_*D_*D_,_e),y2.ey.Set(_e,m2),G_=y2.Solve(-G_,-q_,box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse1),y_.x=G_.x,y_.y=G_.y,y_.z=0;return l_=box2d.b2Add_V2_V2(box2d.b2Mul_S_V2(y_.x,s_,box2d.b2Vec2.s_t0),box2d.b2Mul_S_V2(y_.z,l_,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_P),ws=y_.x*B_+y_.y+y_.z*ws,h_=y_.x*D_+y_.y+y_.z*h_,x.SelfMulSub(l,l_),o-=o_*ws,_o.SelfMulAdd(t_,l_),V.positions[this.m_indexA].a=o,V.positions[this.m_indexB].a=_i+i_*h_,j_<=box2d.b2_linearSlop&&_2<=box2d.b2_angularSlop};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"SolvePositionConstraints",box2d.b2PrismaticJoint.prototype.SolvePositionConstraints);box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_d=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse=new box2d.b2Vec3;box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse1=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.GetAnchorA=function(V){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,V)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetAnchorA",box2d.b2PrismaticJoint.prototype.GetAnchorA);box2d.b2PrismaticJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,V)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetAnchorB",box2d.b2PrismaticJoint.prototype.GetAnchorB);box2d.b2PrismaticJoint.prototype.GetReactionForce=function(V,x){return x.Set(V*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),V*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetReactionForce",box2d.b2PrismaticJoint.prototype.GetReactionForce);box2d.b2PrismaticJoint.prototype.GetReactionTorque=function(V){return V*this.m_impulse.y};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetReactionTorque",box2d.b2PrismaticJoint.prototype.GetReactionTorque);box2d.b2PrismaticJoint.prototype.GetLocalAnchorA=function(V){return V.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetLocalAnchorA",box2d.b2PrismaticJoint.prototype.GetLocalAnchorA);box2d.b2PrismaticJoint.prototype.GetLocalAnchorB=function(V){return V.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetLocalAnchorB",box2d.b2PrismaticJoint.prototype.GetLocalAnchorB);box2d.b2PrismaticJoint.prototype.GetLocalAxisA=function(V){return V.Copy(this.m_localXAxisA)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetLocalAxisA",box2d.b2PrismaticJoint.prototype.GetLocalAxisA);box2d.b2PrismaticJoint.prototype.GetReferenceAngle=function(){return this.m_referenceAngle};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetReferenceAngle",box2d.b2PrismaticJoint.prototype.GetReferenceAngle);box2d.b2PrismaticJoint.prototype.GetJointTranslation=function(){var V=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pA),x=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pB),V=box2d.b2Sub_V2_V2(x,V,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_d),x=this.m_bodyA.GetWorldVector(this.m_localXAxisA,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_axis);return box2d.b2Dot_V2_V2(V,x)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetJointTranslation",box2d.b2PrismaticJoint.prototype.GetJointTranslation);box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pA=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pB=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_d=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_axis=new box2d.b2Vec2;box2d.b2PrismaticJoint.prototype.GetJointSpeed=function(){var t_=this.m_bodyA,o_=this.m_bodyB;box2d.b2Sub_V2_V2(this.m_localAnchorA,t_.m_sweep.localCenter,this.m_lalcA);var V=box2d.b2Mul_R_V2(t_.m_xf.q,this.m_lalcA,this.m_rA);box2d.b2Sub_V2_V2(this.m_localAnchorB,o_.m_sweep.localCenter,this.m_lalcB);var x=box2d.b2Mul_R_V2(o_.m_xf.q,this.m_lalcB,this.m_rB),o=box2d.b2Add_V2_V2(t_.m_sweep.c,V,box2d.b2Vec2.s_t0),_o=box2d.b2Add_V2_V2(o_.m_sweep.c,x,box2d.b2Vec2.s_t1),o=box2d.b2Sub_V2_V2(_o,o,box2d.b2Vec2.s_t2),_o=t_.GetWorldVector(this.m_localXAxisA,this.m_axis),_i=t_.m_linearVelocity,l=o_.m_linearVelocity,t_=t_.m_angularVelocity,o_=o_.m_angularVelocity;return box2d.b2Dot_V2_V2(o,box2d.b2Cross_S_V2(t_,_o,box2d.b2Vec2.s_t0))+box2d.b2Dot_V2_V2(_o,box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(l,o_,x,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(_i,t_,V,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0))};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetJointSpeed",box2d.b2PrismaticJoint.prototype.GetJointSpeed);box2d.b2PrismaticJoint.prototype.IsLimitEnabled=function(){return this.m_enableLimit};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"IsLimitEnabled",box2d.b2PrismaticJoint.prototype.IsLimitEnabled);box2d.b2PrismaticJoint.prototype.EnableLimit=function(V){V!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=V,this.m_impulse.z=0)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"EnableLimit",box2d.b2PrismaticJoint.prototype.EnableLimit);box2d.b2PrismaticJoint.prototype.GetLowerLimit=function(){return this.m_lowerTranslation};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetLowerLimit",box2d.b2PrismaticJoint.prototype.GetLowerLimit);box2d.b2PrismaticJoint.prototype.GetUpperLimit=function(){return this.m_upperTranslation};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetUpperLimit",box2d.b2PrismaticJoint.prototype.GetUpperLimit);box2d.b2PrismaticJoint.prototype.SetLimits=function(V,x){(V!==this.m_lowerTranslation||x!==this.m_upperTranslation)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=V,this.m_upperTranslation=x,this.m_impulse.z=0)};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"SetLimits",box2d.b2PrismaticJoint.prototype.SetLimits);box2d.b2PrismaticJoint.prototype.IsMotorEnabled=function(){return this.m_enableMotor};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"IsMotorEnabled",box2d.b2PrismaticJoint.prototype.IsMotorEnabled);box2d.b2PrismaticJoint.prototype.EnableMotor=function(V){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=V};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"EnableMotor",box2d.b2PrismaticJoint.prototype.EnableMotor);box2d.b2PrismaticJoint.prototype.SetMotorSpeed=function(V){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=V};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"SetMotorSpeed",box2d.b2PrismaticJoint.prototype.SetMotorSpeed);box2d.b2PrismaticJoint.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetMotorSpeed",box2d.b2PrismaticJoint.prototype.GetMotorSpeed);box2d.b2PrismaticJoint.prototype.SetMaxMotorForce=function(V){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=V};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"SetMaxMotorForce",box2d.b2PrismaticJoint.prototype.SetMaxMotorForce);box2d.b2PrismaticJoint.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetMaxMotorForce",box2d.b2PrismaticJoint.prototype.GetMaxMotorForce);box2d.b2PrismaticJoint.prototype.GetMotorForce=function(V){return V*this.m_motorImpulse};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"GetMotorForce",box2d.b2PrismaticJoint.prototype.GetMotorForce);box2d.b2PrismaticJoint.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_bodyA.m_islandIndex,x=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2PrismaticJointDef*/ var jd = new box2d.b2PrismaticJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,V),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,x),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.localAxisA.Set(%.15f, %.15f);
`,this.m_localXAxisA.x,this.m_localXAxisA.y),box2d.b2Log(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),box2d.b2Log(`  jd.enableLimit = %s;
`,this.m_enableLimit?"true":"false"),box2d.b2Log(`  jd.lowerTranslation = %.15f;
`,this.m_lowerTranslation),box2d.b2Log(`  jd.upperTranslation = %.15f;
`,this.m_upperTranslation),box2d.b2Log(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),box2d.b2Log(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),box2d.b2Log(`  jd.maxMotorForce = %.15f;
`,this.m_maxMotorForce),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2PrismaticJoint.prototype,"Dump",box2d.b2PrismaticJoint.prototype.Dump);box2d.b2_minPulleyLength=2;goog.exportSymbol("box2d.b2_minPulleyLength",box2d.b2_minPulleyLength);box2d.b2PulleyJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_pulleyJoint),this.collideConnected=!0,this.groundAnchorA=new box2d.b2Vec2(-1,1),this.groundAnchorB=new box2d.b2Vec2(1,1),this.localAnchorA=new box2d.b2Vec2(-1,0),this.localAnchorB=new box2d.b2Vec2(1,0)};goog.inherits(box2d.b2PulleyJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2PulleyJointDef",box2d.b2PulleyJointDef);box2d.b2PulleyJointDef.prototype.groundAnchorA=null;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"groundAnchorA",box2d.b2PulleyJointDef.prototype.groundAnchorA);box2d.b2PulleyJointDef.prototype.groundAnchorB=null;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"groundAnchorB",box2d.b2PulleyJointDef.prototype.groundAnchorB);box2d.b2PulleyJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"localAnchorA",box2d.b2PulleyJointDef.prototype.localAnchorA);box2d.b2PulleyJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"localAnchorB",box2d.b2PulleyJointDef.prototype.localAnchorB);box2d.b2PulleyJointDef.prototype.lengthA=0;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"lengthA",box2d.b2PulleyJointDef.prototype.lengthA);box2d.b2PulleyJointDef.prototype.lengthB=0;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"lengthB",box2d.b2PulleyJointDef.prototype.lengthB);box2d.b2PulleyJointDef.prototype.ratio=1;goog.exportProperty(box2d.b2PulleyJointDef.prototype,"ratio",box2d.b2PulleyJointDef.prototype.ratio);box2d.b2PulleyJointDef.prototype.Initialize=function(V,x,o,_o,_i,l,t_){this.bodyA=V,this.bodyB=x,this.groundAnchorA.Copy(o),this.groundAnchorB.Copy(_o),this.bodyA.GetLocalPoint(_i,this.localAnchorA),this.bodyB.GetLocalPoint(l,this.localAnchorB),this.lengthA=box2d.b2Distance(_i,o),this.lengthB=box2d.b2Distance(l,_o),this.ratio=t_,box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.ratio>box2d.b2_epsilon)};goog.exportProperty(box2d.b2PulleyJointDef.prototype,"Initialize",box2d.b2PulleyJointDef.prototype.Initialize);box2d.b2PulleyJoint=function(V){box2d.b2Joint.call(this,V),this.m_groundAnchorA=new box2d.b2Vec2,this.m_groundAnchorB=new box2d.b2Vec2,this.m_localAnchorA=new box2d.b2Vec2,this.m_localAnchorB=new box2d.b2Vec2,this.m_uA=new box2d.b2Vec2,this.m_uB=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_groundAnchorA.Copy(V.groundAnchorA),this.m_groundAnchorB.Copy(V.groundAnchorB),this.m_localAnchorA.Copy(V.localAnchorA),this.m_localAnchorB.Copy(V.localAnchorB),this.m_lengthA=V.lengthA,this.m_lengthB=V.lengthB,box2d.ENABLE_ASSERTS&&box2d.b2Assert(V.ratio!==0),this.m_ratio=V.ratio,this.m_constant=V.lengthA+this.m_ratio*V.lengthB,this.m_impulse=0};goog.inherits(box2d.b2PulleyJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2PulleyJoint",box2d.b2PulleyJoint);box2d.b2PulleyJoint.prototype.m_groundAnchorA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_groundAnchorA",box2d.b2PulleyJoint.prototype.m_groundAnchorA);box2d.b2PulleyJoint.prototype.m_groundAnchorB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_groundAnchorB",box2d.b2PulleyJoint.prototype.m_groundAnchorB);box2d.b2PulleyJoint.prototype.m_lengthA=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_lengthA",box2d.b2PulleyJoint.prototype.m_lengthA);box2d.b2PulleyJoint.prototype.m_lengthB=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_lengthB",box2d.b2PulleyJoint.prototype.m_lengthB);box2d.b2PulleyJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_localAnchorA",box2d.b2PulleyJoint.prototype.m_localAnchorA);box2d.b2PulleyJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_localAnchorB",box2d.b2PulleyJoint.prototype.m_localAnchorB);box2d.b2PulleyJoint.prototype.m_constant=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_constant",box2d.b2PulleyJoint.prototype.m_constant);box2d.b2PulleyJoint.prototype.m_ratio=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_ratio",box2d.b2PulleyJoint.prototype.m_ratio);box2d.b2PulleyJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_impulse",box2d.b2PulleyJoint.prototype.m_impulse);box2d.b2PulleyJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_indexA",box2d.b2PulleyJoint.prototype.m_indexA);box2d.b2PulleyJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_indexB",box2d.b2PulleyJoint.prototype.m_indexB);box2d.b2PulleyJoint.prototype.m_uA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_uA",box2d.b2PulleyJoint.prototype.m_uA);box2d.b2PulleyJoint.prototype.m_uB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_uB",box2d.b2PulleyJoint.prototype.m_uB);box2d.b2PulleyJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_rA",box2d.b2PulleyJoint.prototype.m_rA);box2d.b2PulleyJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_rB",box2d.b2PulleyJoint.prototype.m_rB);box2d.b2PulleyJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_localCenterA",box2d.b2PulleyJoint.prototype.m_localCenterA);box2d.b2PulleyJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_localCenterB",box2d.b2PulleyJoint.prototype.m_localCenterB);box2d.b2PulleyJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_invMassA",box2d.b2PulleyJoint.prototype.m_invMassA);box2d.b2PulleyJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_invMassB",box2d.b2PulleyJoint.prototype.m_invMassB);box2d.b2PulleyJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_invIA",box2d.b2PulleyJoint.prototype.m_invIA);box2d.b2PulleyJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_invIB",box2d.b2PulleyJoint.prototype.m_invIB);box2d.b2PulleyJoint.prototype.m_mass=0;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_mass",box2d.b2PulleyJoint.prototype.m_mass);box2d.b2PulleyJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_qA",box2d.b2PulleyJoint.prototype.m_qA);box2d.b2PulleyJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_qB",box2d.b2PulleyJoint.prototype.m_qB);box2d.b2PulleyJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_lalcA",box2d.b2PulleyJoint.prototype.m_lalcA);box2d.b2PulleyJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2PulleyJoint.prototype,"m_lalcB",box2d.b2PulleyJoint.prototype.m_lalcB);box2d.b2PulleyJoint.prototype.InitVelocityConstraints=function(V){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var x=V.positions[this.m_indexA].c,o=V.velocities[this.m_indexA].v,_o=V.velocities[this.m_indexA].w,_i=V.positions[this.m_indexB].c,i_=V.positions[this.m_indexB].a,l=V.velocities[this.m_indexB].v,t_=V.velocities[this.m_indexB].w,o_=this.m_qA.SetAngle(V.positions[this.m_indexA].a),i_=this.m_qB.SetAngle(i_);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(i_,this.m_lalcB,this.m_rB),this.m_uA.Copy(x).SelfAdd(this.m_rA).SelfSub(this.m_groundAnchorA),this.m_uB.Copy(_i).SelfAdd(this.m_rB).SelfSub(this.m_groundAnchorB),x=this.m_uA.Length(),_i=this.m_uB.Length(),x>10*box2d.b2_linearSlop?this.m_uA.SelfMul(1/x):this.m_uA.SetZero(),_i>10*box2d.b2_linearSlop?this.m_uB.SelfMul(1/_i):this.m_uB.SetZero(),x=box2d.b2Cross_V2_V2(this.m_rA,this.m_uA),_i=box2d.b2Cross_V2_V2(this.m_rB,this.m_uB),this.m_mass=this.m_invMassA+this.m_invIA*x*x+this.m_ratio*this.m_ratio*(this.m_invMassB+this.m_invIB*_i*_i),0<this.m_mass&&(this.m_mass=1/this.m_mass),V.step.warmStarting?(this.m_impulse*=V.step.dtRatio,x=box2d.b2Mul_S_V2(-this.m_impulse,this.m_uA,box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PA),_i=box2d.b2Mul_S_V2(-this.m_ratio*this.m_impulse,this.m_uB,box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PB),o.SelfMulAdd(this.m_invMassA,x),_o+=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,x),l.SelfMulAdd(this.m_invMassB,_i),t_+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,_i)):this.m_impulse=0,V.velocities[this.m_indexA].w=_o,V.velocities[this.m_indexB].w=t_};goog.exportProperty(box2d.b2PulleyJoint.prototype,"InitVelocityConstraints",box2d.b2PulleyJoint.prototype.InitVelocityConstraints);box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PA=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PB=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolveVelocityConstraints=function(V){var x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,l=box2d.b2AddCross_V2_S_V2(x,o,this.m_rA,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpA),t_=box2d.b2AddCross_V2_S_V2(_o,_i,this.m_rB,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpB),l=-box2d.b2Dot_V2_V2(this.m_uA,l)-this.m_ratio*box2d.b2Dot_V2_V2(this.m_uB,t_),t_=-this.m_mass*l;this.m_impulse+=t_,l=box2d.b2Mul_S_V2(-t_,this.m_uA,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PA),t_=box2d.b2Mul_S_V2(-this.m_ratio*t_,this.m_uB,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PB),x.SelfMulAdd(this.m_invMassA,l),o+=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,l),_o.SelfMulAdd(this.m_invMassB,t_),_i+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,t_),V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i};goog.exportProperty(box2d.b2PulleyJoint.prototype,"SolveVelocityConstraints",box2d.b2PulleyJoint.prototype.SolveVelocityConstraints);box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PA=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PB=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolvePositionConstraints=function(V){var x=V.positions[this.m_indexA].c,o=V.positions[this.m_indexA].a,_o=V.positions[this.m_indexB].c,_i=V.positions[this.m_indexB].a,l=this.m_qA.SetAngle(o),t_=this.m_qB.SetAngle(_i);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),l=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var t_=box2d.b2Mul_R_V2(t_,this.m_lalcB,this.m_rB),o_=this.m_uA.Copy(x).SelfAdd(l).SelfSub(this.m_groundAnchorA),i_=this.m_uB.Copy(_o).SelfAdd(t_).SelfSub(this.m_groundAnchorB),_e=o_.Length(),l_=i_.Length();_e>10*box2d.b2_linearSlop?o_.SelfMul(1/_e):o_.SetZero(),l_>10*box2d.b2_linearSlop?i_.SelfMul(1/l_):i_.SetZero();var h_=box2d.b2Cross_V2_V2(l,o_),ws=box2d.b2Cross_V2_V2(t_,i_),h_=this.m_invMassA+this.m_invIA*h_*h_+this.m_ratio*this.m_ratio*(this.m_invMassB+this.m_invIB*ws*ws);return 0<h_&&(h_=1/h_),l_=this.m_constant-_e-this.m_ratio*l_,_e=box2d.b2Abs(l_),l_*=-h_,o_=box2d.b2Mul_S_V2(-l_,o_,box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PA),i_=box2d.b2Mul_S_V2(-this.m_ratio*l_,i_,box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PB),x.SelfMulAdd(this.m_invMassA,o_),o+=this.m_invIA*box2d.b2Cross_V2_V2(l,o_),_o.SelfMulAdd(this.m_invMassB,i_),_i+=this.m_invIB*box2d.b2Cross_V2_V2(t_,i_),V.positions[this.m_indexA].a=o,V.positions[this.m_indexB].a=_i,_e<box2d.b2_linearSlop};goog.exportProperty(box2d.b2PulleyJoint.prototype,"SolvePositionConstraints",box2d.b2PulleyJoint.prototype.SolvePositionConstraints);box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PA=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PB=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.GetAnchorA=function(V){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,V)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetAnchorA",box2d.b2PulleyJoint.prototype.GetAnchorA);box2d.b2PulleyJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,V)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetAnchorB",box2d.b2PulleyJoint.prototype.GetAnchorB);box2d.b2PulleyJoint.prototype.GetReactionForce=function(V,x){return x.Set(V*this.m_impulse*this.m_uB.x,V*this.m_impulse*this.m_uB.y)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetReactionForce",box2d.b2PulleyJoint.prototype.GetReactionForce);box2d.b2PulleyJoint.prototype.GetReactionTorque=function(V){return 0};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetReactionTorque",box2d.b2PulleyJoint.prototype.GetReactionTorque);box2d.b2PulleyJoint.prototype.GetGroundAnchorA=function(V){return V.Copy(this.m_groundAnchorA)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetGroundAnchorA",box2d.b2PulleyJoint.prototype.GetGroundAnchorA);box2d.b2PulleyJoint.prototype.GetGroundAnchorB=function(V){return V.Copy(this.m_groundAnchorB)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetGroundAnchorB",box2d.b2PulleyJoint.prototype.GetGroundAnchorB);box2d.b2PulleyJoint.prototype.GetLengthA=function(){return this.m_lengthA};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetLengthA",box2d.b2PulleyJoint.prototype.GetLengthA);box2d.b2PulleyJoint.prototype.GetLengthB=function(){return this.m_lengthB};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetLengthB",box2d.b2PulleyJoint.prototype.GetLengthB);box2d.b2PulleyJoint.prototype.GetRatio=function(){return this.m_ratio};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetRatio",box2d.b2PulleyJoint.prototype.GetRatio);box2d.b2PulleyJoint.prototype.GetCurrentLengthA=function(){var V=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,box2d.b2PulleyJoint.prototype.GetCurrentLengthA.s_p);return box2d.b2Distance(V,this.m_groundAnchorA)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetCurrentLengthA",box2d.b2PulleyJoint.prototype.GetCurrentLengthA);box2d.b2PulleyJoint.prototype.GetCurrentLengthA.s_p=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.GetCurrentLengthB=function(){var V=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,box2d.b2PulleyJoint.prototype.GetCurrentLengthB.s_p);return box2d.b2Distance(V,this.m_groundAnchorB)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"GetCurrentLengthB",box2d.b2PulleyJoint.prototype.GetCurrentLengthB);box2d.b2PulleyJoint.prototype.GetCurrentLengthB.s_p=new box2d.b2Vec2;box2d.b2PulleyJoint.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_bodyA.m_islandIndex,x=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2PulleyJointDef*/ var jd = new box2d.b2PulleyJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,V),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,x),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.groundAnchorA.Set(%.15f, %.15f);
`,this.m_groundAnchorA.x,this.m_groundAnchorA.y),box2d.b2Log(`  jd.groundAnchorB.Set(%.15f, %.15f);
`,this.m_groundAnchorB.x,this.m_groundAnchorB.y),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.lengthA = %.15f;
`,this.m_lengthA),box2d.b2Log(`  jd.lengthB = %.15f;
`,this.m_lengthB),box2d.b2Log(`  jd.ratio = %.15f;
`,this.m_ratio),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2PulleyJoint.prototype,"Dump",box2d.b2PulleyJoint.prototype.Dump);box2d.b2PulleyJoint.prototype.ShiftOrigin=function(V){this.m_groundAnchorA.SelfSub(V),this.m_groundAnchorB.SelfSub(V)};goog.exportProperty(box2d.b2PulleyJoint.prototype,"ShiftOrigin",box2d.b2PulleyJoint.prototype.ShiftOrigin);box2d.b2RevoluteJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_revoluteJoint),this.localAnchorA=new box2d.b2Vec2(0,0),this.localAnchorB=new box2d.b2Vec2(0,0)};goog.inherits(box2d.b2RevoluteJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2RevoluteJointDef",box2d.b2RevoluteJointDef);box2d.b2RevoluteJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"localAnchorA",box2d.b2RevoluteJointDef.prototype.localAnchorA);box2d.b2RevoluteJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"localAnchorB",box2d.b2RevoluteJointDef.prototype.localAnchorB);box2d.b2RevoluteJointDef.prototype.referenceAngle=0;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"referenceAngle",box2d.b2RevoluteJointDef.prototype.referenceAngle);box2d.b2RevoluteJointDef.prototype.enableLimit=!1;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"enableLimit",box2d.b2RevoluteJointDef.prototype.enableLimit);box2d.b2RevoluteJointDef.prototype.lowerAngle=0;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"lowerAngle",box2d.b2RevoluteJointDef.prototype.lowerAngle);box2d.b2RevoluteJointDef.prototype.upperAngle=0;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"upperAngle",box2d.b2RevoluteJointDef.prototype.upperAngle);box2d.b2RevoluteJointDef.prototype.enableMotor=!1;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"enableMotor",box2d.b2RevoluteJointDef.prototype.enableMotor);box2d.b2RevoluteJointDef.prototype.motorSpeed=0;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"motorSpeed",box2d.b2RevoluteJointDef.prototype.motorSpeed);box2d.b2RevoluteJointDef.prototype.maxMotorTorque=0;goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"maxMotorTorque",box2d.b2RevoluteJointDef.prototype.maxMotorTorque);box2d.b2RevoluteJointDef.prototype.Initialize=function(V,x,o){this.bodyA=V,this.bodyB=x,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};goog.exportProperty(box2d.b2RevoluteJointDef.prototype,"Initialize",box2d.b2RevoluteJointDef.prototype.Initialize);box2d.b2RevoluteJoint=function(V){box2d.b2Joint.call(this,V),this.m_localAnchorA=new box2d.b2Vec2,this.m_localAnchorB=new box2d.b2Vec2,this.m_impulse=new box2d.b2Vec3,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_mass=new box2d.b2Mat33,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat22,this.m_localAnchorA.Copy(V.localAnchorA),this.m_localAnchorB.Copy(V.localAnchorB),this.m_referenceAngle=V.referenceAngle,this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerAngle=V.lowerAngle,this.m_upperAngle=V.upperAngle,this.m_maxMotorTorque=V.maxMotorTorque,this.m_motorSpeed=V.motorSpeed,this.m_enableLimit=V.enableLimit,this.m_enableMotor=V.enableMotor,this.m_limitState=box2d.b2LimitState.e_inactiveLimit};goog.inherits(box2d.b2RevoluteJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2RevoluteJoint",box2d.b2RevoluteJoint);box2d.b2RevoluteJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_localAnchorA",box2d.b2RevoluteJoint.prototype.m_localAnchorA);box2d.b2RevoluteJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_localAnchorB",box2d.b2RevoluteJoint.prototype.m_localAnchorB);box2d.b2RevoluteJoint.prototype.m_impulse=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_impulse",box2d.b2RevoluteJoint.prototype.m_impulse);box2d.b2RevoluteJoint.prototype.m_motorImpulse=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_motorImpulse",box2d.b2RevoluteJoint.prototype.m_motorImpulse);box2d.b2RevoluteJoint.prototype.m_enableMotor=!1;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_enableMotor",box2d.b2RevoluteJoint.prototype.m_enableMotor);box2d.b2RevoluteJoint.prototype.m_maxMotorTorque=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_maxMotorTorque",box2d.b2RevoluteJoint.prototype.m_maxMotorTorque);box2d.b2RevoluteJoint.prototype.m_motorSpeed=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_motorSpeed",box2d.b2RevoluteJoint.prototype.m_motorSpeed);box2d.b2RevoluteJoint.prototype.m_enableLimit=!1;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_enableLimit",box2d.b2RevoluteJoint.prototype.m_enableLimit);box2d.b2RevoluteJoint.prototype.m_referenceAngle=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_referenceAngle",box2d.b2RevoluteJoint.prototype.m_referenceAngle);box2d.b2RevoluteJoint.prototype.m_lowerAngle=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_lowerAngle",box2d.b2RevoluteJoint.prototype.m_lowerAngle);box2d.b2RevoluteJoint.prototype.m_upperAngle=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_upperAngle",box2d.b2RevoluteJoint.prototype.m_upperAngle);box2d.b2RevoluteJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_indexA",box2d.b2RevoluteJoint.prototype.m_indexA);box2d.b2RevoluteJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_indexB",box2d.b2RevoluteJoint.prototype.m_indexB);box2d.b2RevoluteJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_rA",box2d.b2RevoluteJoint.prototype.m_rA);box2d.b2RevoluteJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_rB",box2d.b2RevoluteJoint.prototype.m_rB);box2d.b2RevoluteJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_localCenterA",box2d.b2RevoluteJoint.prototype.m_localCenterA);box2d.b2RevoluteJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_localCenterB",box2d.b2RevoluteJoint.prototype.m_localCenterB);box2d.b2RevoluteJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_invMassA",box2d.b2RevoluteJoint.prototype.m_invMassA);box2d.b2RevoluteJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_invMassB",box2d.b2RevoluteJoint.prototype.m_invMassB);box2d.b2RevoluteJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_invIA",box2d.b2RevoluteJoint.prototype.m_invIA);box2d.b2RevoluteJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_invIB",box2d.b2RevoluteJoint.prototype.m_invIB);box2d.b2RevoluteJoint.prototype.m_mass=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_mass",box2d.b2RevoluteJoint.prototype.m_mass);box2d.b2RevoluteJoint.prototype.m_motorMass=0;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_motorMass",box2d.b2RevoluteJoint.prototype.m_motorMass);box2d.b2RevoluteJoint.prototype.m_limitState=box2d.b2LimitState.e_inactiveLimit;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_limitState",box2d.b2RevoluteJoint.prototype.m_limitState);box2d.b2RevoluteJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_qA",box2d.b2RevoluteJoint.prototype.m_qA);box2d.b2RevoluteJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_qB",box2d.b2RevoluteJoint.prototype.m_qB);box2d.b2RevoluteJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_lalcA",box2d.b2RevoluteJoint.prototype.m_lalcA);box2d.b2RevoluteJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_lalcB",box2d.b2RevoluteJoint.prototype.m_lalcB);box2d.b2RevoluteJoint.prototype.m_K=null;goog.exportProperty(box2d.b2RevoluteJoint.prototype,"m_K",box2d.b2RevoluteJoint.prototype.m_K);box2d.b2RevoluteJoint.prototype.InitVelocityConstraints=function(V){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var x=V.positions[this.m_indexA].a,o=V.velocities[this.m_indexA].v,_o=V.velocities[this.m_indexA].w,_i=V.positions[this.m_indexB].a,l=V.velocities[this.m_indexB].v,t_=V.velocities[this.m_indexB].w,o_=this.m_qA.SetAngle(x),i_=this.m_qB.SetAngle(_i);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(i_,this.m_lalcB,this.m_rB);var o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB,ws=_e+l_===0;this.m_mass.ex.x=o_+i_+this.m_rA.y*this.m_rA.y*_e+this.m_rB.y*this.m_rB.y*l_,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*_e-this.m_rB.y*this.m_rB.x*l_,this.m_mass.ez.x=-this.m_rA.y*_e-this.m_rB.y*l_,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=o_+i_+this.m_rA.x*this.m_rA.x*_e+this.m_rB.x*this.m_rB.x*l_,this.m_mass.ez.y=this.m_rA.x*_e+this.m_rB.x*l_,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=_e+l_,this.m_motorMass=_e+l_,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass),(!this.m_enableMotor||ws)&&(this.m_motorImpulse=0),this.m_enableLimit&&!ws?(x=_i-x-this.m_referenceAngle,box2d.b2Abs(this.m_upperAngle-this.m_lowerAngle)<2*box2d.b2_angularSlop?this.m_limitState=box2d.b2LimitState.e_equalLimits:x<=this.m_lowerAngle?(this.m_limitState!==box2d.b2LimitState.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=box2d.b2LimitState.e_atLowerLimit):x>=this.m_upperAngle?(this.m_limitState!==box2d.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=box2d.b2LimitState.e_atUpperLimit):(this.m_limitState=box2d.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)):this.m_limitState=box2d.b2LimitState.e_inactiveLimit,V.step.warmStarting?(this.m_impulse.SelfMulScalar(V.step.dtRatio),this.m_motorImpulse*=V.step.dtRatio,x=box2d.b2RevoluteJoint.prototype.InitVelocityConstraints.s_P.Set(this.m_impulse.x,this.m_impulse.y),o.SelfMulSub(o_,x),_o-=_e*(box2d.b2Cross_V2_V2(this.m_rA,x)+this.m_motorImpulse+this.m_impulse.z),l.SelfMulAdd(i_,x),t_+=l_*(box2d.b2Cross_V2_V2(this.m_rB,x)+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.SetZero(),this.m_motorImpulse=0),V.velocities[this.m_indexA].w=_o,V.velocities[this.m_indexB].w=t_};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"InitVelocityConstraints",box2d.b2RevoluteJoint.prototype.InitVelocityConstraints);box2d.b2RevoluteJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints=function(V){var x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,l=this.m_invMassA,t_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB,_e=o_+i_===0;if(this.m_enableMotor&&this.m_limitState!==box2d.b2LimitState.e_equalLimits&&!_e){var l_=_i-o-this.m_motorSpeed,l_=-this.m_motorMass*l_,ws=this.m_motorImpulse,h_=V.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=box2d.b2Clamp(this.m_motorImpulse+l_,-h_,h_),l_=this.m_motorImpulse-ws,o-=o_*l_,_i+=i_*l_}this.m_enableLimit&&this.m_limitState!==box2d.b2LimitState.e_inactiveLimit&&!_e?(_e=box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(_o,_i,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(x,o,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot1),l_=this.m_mass.Solve33(_e.x,_e.y,_i-o,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse3).SelfNeg(),this.m_limitState===box2d.b2LimitState.e_equalLimits?this.m_impulse.SelfAdd(l_):this.m_limitState===box2d.b2LimitState.e_atLowerLimit?(ws=this.m_impulse.z+l_.z,0>ws?(ws=-_e.x+this.m_impulse.z*this.m_mass.ez.x,_e=-_e.y+this.m_impulse.z*this.m_mass.ez.y,_e=this.m_mass.Solve22(ws,_e,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced),l_.x=_e.x,l_.y=_e.y,l_.z=-this.m_impulse.z,this.m_impulse.x+=_e.x,this.m_impulse.y+=_e.y,this.m_impulse.z=0):this.m_impulse.SelfAdd(l_)):this.m_limitState===box2d.b2LimitState.e_atUpperLimit&&(ws=this.m_impulse.z+l_.z,0<ws?(ws=-_e.x+this.m_impulse.z*this.m_mass.ez.x,_e=-_e.y+this.m_impulse.z*this.m_mass.ez.y,_e=this.m_mass.Solve22(ws,_e,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced),l_.x=_e.x,l_.y=_e.y,l_.z=-this.m_impulse.z,this.m_impulse.x+=_e.x,this.m_impulse.y+=_e.y,this.m_impulse.z=0):this.m_impulse.SelfAdd(l_)),_e=box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_P.Set(l_.x,l_.y),x.SelfMulSub(l,_e),o-=o_*(box2d.b2Cross_V2_V2(this.m_rA,_e)+l_.z),_o.SelfMulAdd(t_,_e),_i+=i_*(box2d.b2Cross_V2_V2(this.m_rB,_e)+l_.z)):(l_=box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(_o,_i,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(x,o,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot),l_=this.m_mass.Solve22(-l_.x,-l_.y,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse2),this.m_impulse.x+=l_.x,this.m_impulse.y+=l_.y,x.SelfMulSub(l,l_),o-=o_*box2d.b2Cross_V2_V2(this.m_rA,l_),_o.SelfMulAdd(t_,l_),_i+=i_*box2d.b2Cross_V2_V2(this.m_rB,l_)),V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"SolveVelocityConstraints",box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints);box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot1=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse3=new box2d.b2Vec3;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse2=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolvePositionConstraints=function(V){var x=V.positions[this.m_indexA].c,o=V.positions[this.m_indexA].a,_o=V.positions[this.m_indexB].c,_i=V.positions[this.m_indexB].a,l=this.m_qA.SetAngle(o),o_=this.m_qB.SetAngle(_i),t_=0,_e=0,_e=this.m_invIA+this.m_invIB===0;if(this.m_enableLimit&&this.m_limitState!==box2d.b2LimitState.e_inactiveLimit&&!_e){var i_=_i-o-this.m_referenceAngle,_e=0;this.m_limitState===box2d.b2LimitState.e_equalLimits?(i_=box2d.b2Clamp(i_-this.m_lowerAngle,-box2d.b2_maxAngularCorrection,box2d.b2_maxAngularCorrection),_e=-this.m_motorMass*i_,t_=box2d.b2Abs(i_)):this.m_limitState===box2d.b2LimitState.e_atLowerLimit?(i_-=this.m_lowerAngle,t_=-i_,i_=box2d.b2Clamp(i_+box2d.b2_angularSlop,-box2d.b2_maxAngularCorrection,0),_e=-this.m_motorMass*i_):this.m_limitState===box2d.b2LimitState.e_atUpperLimit&&(t_=i_-=this.m_upperAngle,i_=box2d.b2Clamp(i_-box2d.b2_angularSlop,0,box2d.b2_maxAngularCorrection),_e=-this.m_motorMass*i_),o-=this.m_invIA*_e,_i+=this.m_invIB*_e}l.SetAngle(o),o_.SetAngle(_i),box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),l=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var o_=box2d.b2Mul_R_V2(o_,this.m_lalcB,this.m_rB),i_=box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(_o,o_,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(x,l,box2d.b2Vec2.s_t1),box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_C),_e=i_.Length(),l_=this.m_invMassA,ws=this.m_invMassB,h_=this.m_invIA,s_=this.m_invIB,B_=this.m_K;return B_.ex.x=l_+ws+h_*l.y*l.y+s_*o_.y*o_.y,B_.ex.y=-h_*l.x*l.y-s_*o_.x*o_.y,B_.ey.x=B_.ex.y,B_.ey.y=l_+ws+h_*l.x*l.x+s_*o_.x*o_.x,i_=B_.Solve(i_.x,i_.y,box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_impulse).SelfNeg(),x.SelfMulSub(l_,i_),o-=h_*box2d.b2Cross_V2_V2(l,i_),_o.SelfMulAdd(ws,i_),_i+=s_*box2d.b2Cross_V2_V2(o_,i_),V.positions[this.m_indexA].a=o,V.positions[this.m_indexB].a=_i,_e<=box2d.b2_linearSlop&&t_<=box2d.b2_angularSlop};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"SolvePositionConstraints",box2d.b2RevoluteJoint.prototype.SolvePositionConstraints);box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_C=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_impulse=new box2d.b2Vec2;box2d.b2RevoluteJoint.prototype.GetAnchorA=function(V){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,V)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetAnchorA",box2d.b2RevoluteJoint.prototype.GetAnchorA);box2d.b2RevoluteJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,V)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetAnchorB",box2d.b2RevoluteJoint.prototype.GetAnchorB);box2d.b2RevoluteJoint.prototype.GetReactionForce=function(V,x){return x.Set(V*this.m_impulse.x,V*this.m_impulse.y)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetReactionForce",box2d.b2RevoluteJoint.prototype.GetReactionForce);box2d.b2RevoluteJoint.prototype.GetReactionTorque=function(V){return V*this.m_impulse.z};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetReactionTorque",box2d.b2RevoluteJoint.prototype.GetReactionTorque);box2d.b2RevoluteJoint.prototype.GetLocalAnchorA=function(V){return V.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetLocalAnchorA",box2d.b2RevoluteJoint.prototype.GetLocalAnchorA);box2d.b2RevoluteJoint.prototype.GetLocalAnchorB=function(V){return V.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetLocalAnchorB",box2d.b2RevoluteJoint.prototype.GetLocalAnchorB);box2d.b2RevoluteJoint.prototype.GetReferenceAngle=function(){return this.m_referenceAngle};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetReferenceAngle",box2d.b2RevoluteJoint.prototype.GetReferenceAngle);box2d.b2RevoluteJoint.prototype.GetJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetJointAngle",box2d.b2RevoluteJoint.prototype.GetJointAngle);box2d.b2RevoluteJoint.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetJointSpeed",box2d.b2RevoluteJoint.prototype.GetJointSpeed);box2d.b2RevoluteJoint.prototype.IsMotorEnabled=function(){return this.m_enableMotor};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"IsMotorEnabled",box2d.b2RevoluteJoint.prototype.IsMotorEnabled);box2d.b2RevoluteJoint.prototype.EnableMotor=function(V){this.m_enableMotor!==V&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=V)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"EnableMotor",box2d.b2RevoluteJoint.prototype.EnableMotor);box2d.b2RevoluteJoint.prototype.GetMotorTorque=function(V){return V*this.m_motorImpulse};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetMotorTorque",box2d.b2RevoluteJoint.prototype.GetMotorTorque);box2d.b2RevoluteJoint.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetMotorSpeed",box2d.b2RevoluteJoint.prototype.GetMotorSpeed);box2d.b2RevoluteJoint.prototype.SetMaxMotorTorque=function(V){this.m_maxMotorTorque=V};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"SetMaxMotorTorque",box2d.b2RevoluteJoint.prototype.SetMaxMotorTorque);box2d.b2RevoluteJoint.prototype.GetMaxMotorTorque=function(){return this.m_maxMotorTorque};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetMaxMotorTorque",box2d.b2RevoluteJoint.prototype.GetMaxMotorTorque);box2d.b2RevoluteJoint.prototype.IsLimitEnabled=function(){return this.m_enableLimit};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"IsLimitEnabled",box2d.b2RevoluteJoint.prototype.IsLimitEnabled);box2d.b2RevoluteJoint.prototype.EnableLimit=function(V){V!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=V,this.m_impulse.z=0)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"EnableLimit",box2d.b2RevoluteJoint.prototype.EnableLimit);box2d.b2RevoluteJoint.prototype.GetLowerLimit=function(){return this.m_lowerAngle};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetLowerLimit",box2d.b2RevoluteJoint.prototype.GetLowerLimit);box2d.b2RevoluteJoint.prototype.GetUpperLimit=function(){return this.m_upperAngle};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"GetUpperLimit",box2d.b2RevoluteJoint.prototype.GetUpperLimit);box2d.b2RevoluteJoint.prototype.SetLimits=function(V,x){(V!==this.m_lowerAngle||x!==this.m_upperAngle)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=V,this.m_upperAngle=x)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"SetLimits",box2d.b2RevoluteJoint.prototype.SetLimits);box2d.b2RevoluteJoint.prototype.SetMotorSpeed=function(V){this.m_motorSpeed!==V&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=V)};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"SetMotorSpeed",box2d.b2RevoluteJoint.prototype.SetMotorSpeed);box2d.b2RevoluteJoint.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_bodyA.m_islandIndex,x=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2RevoluteJointDef*/ var jd = new box2d.b2RevoluteJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,V),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,x),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),box2d.b2Log(`  jd.enableLimit = %s;
`,this.m_enableLimit?"true":"false"),box2d.b2Log(`  jd.lowerAngle = %.15f;
`,this.m_lowerAngle),box2d.b2Log(`  jd.upperAngle = %.15f;
`,this.m_upperAngle),box2d.b2Log(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),box2d.b2Log(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),box2d.b2Log(`  jd.maxMotorTorque = %.15f;
`,this.m_maxMotorTorque),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2RevoluteJoint.prototype,"Dump",box2d.b2RevoluteJoint.prototype.Dump);box2d.b2GearJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_gearJoint)};goog.inherits(box2d.b2GearJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2GearJointDef",box2d.b2GearJointDef);box2d.b2GearJointDef.prototype.joint1=null;goog.exportProperty(box2d.b2GearJointDef.prototype,"joint1",box2d.b2GearJointDef.prototype.joint1);box2d.b2GearJointDef.prototype.joint2=null;goog.exportProperty(box2d.b2GearJointDef.prototype,"joint2",box2d.b2GearJointDef.prototype.joint2);box2d.b2GearJointDef.prototype.ratio=1;goog.exportProperty(box2d.b2GearJointDef.prototype,"ratio",box2d.b2GearJointDef.prototype.ratio);box2d.b2GearJoint=function(V){box2d.b2Joint.call(this,V),this.m_joint1=V.joint1,this.m_joint2=V.joint2,this.m_localAnchorA=new box2d.b2Vec2,this.m_localAnchorB=new box2d.b2Vec2,this.m_localAnchorC=new box2d.b2Vec2,this.m_localAnchorD=new box2d.b2Vec2,this.m_localAxisC=new box2d.b2Vec2,this.m_localAxisD=new box2d.b2Vec2,this.m_lcA=new box2d.b2Vec2,this.m_lcB=new box2d.b2Vec2,this.m_lcC=new box2d.b2Vec2,this.m_lcD=new box2d.b2Vec2,this.m_JvAC=new box2d.b2Vec2,this.m_JvBD=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_qC=new box2d.b2Rot,this.m_qD=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_lalcC=new box2d.b2Vec2,this.m_lalcD=new box2d.b2Vec2,this.m_typeA=this.m_joint1.GetType(),this.m_typeB=this.m_joint2.GetType(),box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_typeA===box2d.b2JointType.e_revoluteJoint||this.m_typeA===box2d.b2JointType.e_prismaticJoint),box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_typeB===box2d.b2JointType.e_revoluteJoint||this.m_typeB===box2d.b2JointType.e_prismaticJoint);var x,o;this.m_bodyC=this.m_joint1.GetBodyA(),this.m_bodyA=this.m_joint1.GetBodyB(),x=this.m_bodyA.m_xf;var _i=this.m_bodyA.m_sweep.a;o=this.m_bodyC.m_xf;var _o=this.m_bodyC.m_sweep.a;this.m_typeA===box2d.b2JointType.e_revoluteJoint?(o=V.joint1,this.m_localAnchorC.Copy(o.m_localAnchorA),this.m_localAnchorA.Copy(o.m_localAnchorB),this.m_referenceAngleA=o.m_referenceAngle,this.m_localAxisC.SetZero(),x=_i-_o-this.m_referenceAngleA):(_o=V.joint1,this.m_localAnchorC.Copy(_o.m_localAnchorA),this.m_localAnchorA.Copy(_o.m_localAnchorB),this.m_referenceAngleA=_o.m_referenceAngle,this.m_localAxisC.Copy(_o.m_localXAxisA),_i=this.m_localAnchorC,x=box2d.b2MulT_R_V2(o.q,box2d.b2Add_V2_V2(box2d.b2Mul_R_V2(x.q,this.m_localAnchorA,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(x.p,o.p,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),x=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(x,_i,box2d.b2Vec2.s_t0),this.m_localAxisC)),this.m_bodyD=this.m_joint2.GetBodyA(),this.m_bodyB=this.m_joint2.GetBodyB(),o=this.m_bodyB.m_xf;var _o=this.m_bodyB.m_sweep.a,_i=this.m_bodyD.m_xf,l=this.m_bodyD.m_sweep.a;this.m_typeB===box2d.b2JointType.e_revoluteJoint?(o=V.joint2,this.m_localAnchorD.Copy(o.m_localAnchorA),this.m_localAnchorB.Copy(o.m_localAnchorB),this.m_referenceAngleB=o.m_referenceAngle,this.m_localAxisD.SetZero(),o=_o-l-this.m_referenceAngleB):(_o=V.joint2,this.m_localAnchorD.Copy(_o.m_localAnchorA),this.m_localAnchorB.Copy(_o.m_localAnchorB),this.m_referenceAngleB=_o.m_referenceAngle,this.m_localAxisD.Copy(_o.m_localXAxisA),_o=this.m_localAnchorD,o=box2d.b2MulT_R_V2(_i.q,box2d.b2Add_V2_V2(box2d.b2Mul_R_V2(o.q,this.m_localAnchorB,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(o.p,_i.p,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),o=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(o,_o,box2d.b2Vec2.s_t0),this.m_localAxisD)),this.m_ratio=V.ratio,this.m_constant=x+this.m_ratio*o,this.m_impulse=0};goog.inherits(box2d.b2GearJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2GearJoint",box2d.b2GearJoint);box2d.b2GearJoint.prototype.m_joint1=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_joint1",box2d.b2GearJoint.prototype.m_joint1);box2d.b2GearJoint.prototype.m_joint2=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_joint2",box2d.b2GearJoint.prototype.m_joint2);box2d.b2GearJoint.prototype.m_typeA=box2d.b2JointType.e_unknownJoint;goog.exportProperty(box2d.b2GearJoint.prototype,"m_typeA",box2d.b2GearJoint.prototype.m_typeA);box2d.b2GearJoint.prototype.m_typeB=box2d.b2JointType.e_unknownJoint;goog.exportProperty(box2d.b2GearJoint.prototype,"m_typeB",box2d.b2GearJoint.prototype.m_typeB);box2d.b2GearJoint.prototype.m_bodyC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_bodyC",box2d.b2GearJoint.prototype.m_bodyC);box2d.b2GearJoint.prototype.m_bodyD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_bodyD",box2d.b2GearJoint.prototype.m_bodyD);box2d.b2GearJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAnchorA",box2d.b2GearJoint.prototype.m_localAnchorA);box2d.b2GearJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAnchorB",box2d.b2GearJoint.prototype.m_localAnchorB);box2d.b2GearJoint.prototype.m_localAnchorC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAnchorC",box2d.b2GearJoint.prototype.m_localAnchorC);box2d.b2GearJoint.prototype.m_localAnchorD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAnchorD",box2d.b2GearJoint.prototype.m_localAnchorD);box2d.b2GearJoint.prototype.m_localAxisC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAxisC",box2d.b2GearJoint.prototype.m_localAxisC);box2d.b2GearJoint.prototype.m_localAxisD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_localAxisD",box2d.b2GearJoint.prototype.m_localAxisD);box2d.b2GearJoint.prototype.m_referenceAngleA=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_referenceAngleA",box2d.b2GearJoint.prototype.m_referenceAngleA);box2d.b2GearJoint.prototype.m_referenceAngleB=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_referenceAngleB",box2d.b2GearJoint.prototype.m_referenceAngleB);box2d.b2GearJoint.prototype.m_constant=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_constant",box2d.b2GearJoint.prototype.m_constant);box2d.b2GearJoint.prototype.m_ratio=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_ratio",box2d.b2GearJoint.prototype.m_ratio);box2d.b2GearJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_impulse",box2d.b2GearJoint.prototype.m_impulse);box2d.b2GearJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_indexA",box2d.b2GearJoint.prototype.m_indexA);box2d.b2GearJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_indexB",box2d.b2GearJoint.prototype.m_indexB);box2d.b2GearJoint.prototype.m_indexC=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_indexC",box2d.b2GearJoint.prototype.m_indexC);box2d.b2GearJoint.prototype.m_indexD=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_indexD",box2d.b2GearJoint.prototype.m_indexD);box2d.b2GearJoint.prototype.m_lcA=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lcA",box2d.b2GearJoint.prototype.m_lcA);box2d.b2GearJoint.prototype.m_lcB=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lcB",box2d.b2GearJoint.prototype.m_lcB);box2d.b2GearJoint.prototype.m_lcC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lcC",box2d.b2GearJoint.prototype.m_lcC);box2d.b2GearJoint.prototype.m_lcD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lcD",box2d.b2GearJoint.prototype.m_lcD);box2d.b2GearJoint.prototype.m_mA=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_mA",box2d.b2GearJoint.prototype.m_mA);box2d.b2GearJoint.prototype.m_mB=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_mB",box2d.b2GearJoint.prototype.m_mB);box2d.b2GearJoint.prototype.m_mC=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_mC",box2d.b2GearJoint.prototype.m_mC);box2d.b2GearJoint.prototype.m_mD=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_mD",box2d.b2GearJoint.prototype.m_mD);box2d.b2GearJoint.prototype.m_iA=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_iA",box2d.b2GearJoint.prototype.m_iA);box2d.b2GearJoint.prototype.m_iB=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_iB",box2d.b2GearJoint.prototype.m_iB);box2d.b2GearJoint.prototype.m_iC=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_iC",box2d.b2GearJoint.prototype.m_iC);box2d.b2GearJoint.prototype.m_iD=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_iD",box2d.b2GearJoint.prototype.m_iD);box2d.b2GearJoint.prototype.m_JvAC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JvAC",box2d.b2GearJoint.prototype.m_JvAC);box2d.b2GearJoint.prototype.m_JvBD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JvBD",box2d.b2GearJoint.prototype.m_JvBD);box2d.b2GearJoint.prototype.m_JwA=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JwA",box2d.b2GearJoint.prototype.m_JwA);box2d.b2GearJoint.prototype.m_JwB=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JwB",box2d.b2GearJoint.prototype.m_JwB);box2d.b2GearJoint.prototype.m_JwC=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JwC",box2d.b2GearJoint.prototype.m_JwC);box2d.b2GearJoint.prototype.m_JwD=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_JwD",box2d.b2GearJoint.prototype.m_JwD);box2d.b2GearJoint.prototype.m_mass=0;goog.exportProperty(box2d.b2GearJoint.prototype,"m_mass",box2d.b2GearJoint.prototype.m_mass);box2d.b2GearJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_qA",box2d.b2GearJoint.prototype.m_qA);box2d.b2GearJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_qB",box2d.b2GearJoint.prototype.m_qB);box2d.b2GearJoint.prototype.m_qC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_qC",box2d.b2GearJoint.prototype.m_qC);box2d.b2GearJoint.prototype.m_qD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_qD",box2d.b2GearJoint.prototype.m_qD);box2d.b2GearJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lalcA",box2d.b2GearJoint.prototype.m_lalcA);box2d.b2GearJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lalcB",box2d.b2GearJoint.prototype.m_lalcB);box2d.b2GearJoint.prototype.m_lalcC=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lalcC",box2d.b2GearJoint.prototype.m_lalcC);box2d.b2GearJoint.prototype.m_lalcD=null;goog.exportProperty(box2d.b2GearJoint.prototype,"m_lalcD",box2d.b2GearJoint.prototype.m_lalcD);box2d.b2GearJoint.prototype.InitVelocityConstraints=function(V){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,ws=V.positions[this.m_indexB].a,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,s_=V.positions[this.m_indexC].a,l=V.velocities[this.m_indexC].v,t_=V.velocities[this.m_indexC].w,o_=V.positions[this.m_indexD].a,i_=V.velocities[this.m_indexD].v,_e=V.velocities[this.m_indexD].w,l_=this.m_qA.SetAngle(V.positions[this.m_indexA].a),ws=this.m_qB.SetAngle(ws),h_=this.m_qC.SetAngle(s_),s_=this.m_qD.SetAngle(o_);this.m_mass=0,this.m_typeA===box2d.b2JointType.e_revoluteJoint?(this.m_JvAC.SetZero(),this.m_JwC=this.m_JwA=1,this.m_mass+=this.m_iA+this.m_iC):(o_=box2d.b2Mul_R_V2(h_,this.m_localAxisC,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u),box2d.b2Sub_V2_V2(this.m_localAnchorC,this.m_lcC,this.m_lalcC),h_=box2d.b2Mul_R_V2(h_,this.m_lalcC,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rC),box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_lcA,this.m_lalcA),l_=box2d.b2Mul_R_V2(l_,this.m_lalcA,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rA),this.m_JvAC.Copy(o_),this.m_JwC=box2d.b2Cross_V2_V2(h_,o_),this.m_JwA=box2d.b2Cross_V2_V2(l_,o_),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA),this.m_typeB===box2d.b2JointType.e_revoluteJoint?(this.m_JvBD.SetZero(),this.m_JwD=this.m_JwB=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD)):(o_=box2d.b2Mul_R_V2(s_,this.m_localAxisD,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u),box2d.b2Sub_V2_V2(this.m_localAnchorD,this.m_lcD,this.m_lalcD),l_=box2d.b2Mul_R_V2(s_,this.m_lalcD,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rD),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_lcB,this.m_lalcB),ws=box2d.b2Mul_R_V2(ws,this.m_lalcB,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rB),box2d.b2Mul_S_V2(this.m_ratio,o_,this.m_JvBD),this.m_JwD=this.m_ratio*box2d.b2Cross_V2_V2(l_,o_),this.m_JwB=this.m_ratio*box2d.b2Cross_V2_V2(ws,o_),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB),this.m_mass=0<this.m_mass?1/this.m_mass:0,V.step.warmStarting?(x.SelfMulAdd(this.m_mA*this.m_impulse,this.m_JvAC),o+=this.m_iA*this.m_impulse*this.m_JwA,_o.SelfMulAdd(this.m_mB*this.m_impulse,this.m_JvBD),_i+=this.m_iB*this.m_impulse*this.m_JwB,l.SelfMulSub(this.m_mC*this.m_impulse,this.m_JvAC),t_-=this.m_iC*this.m_impulse*this.m_JwC,i_.SelfMulSub(this.m_mD*this.m_impulse,this.m_JvBD),_e-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i,V.velocities[this.m_indexC].w=t_,V.velocities[this.m_indexD].w=_e};box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u=new box2d.b2Vec2;box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rA=new box2d.b2Vec2;box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rB=new box2d.b2Vec2;box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rC=new box2d.b2Vec2;box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rD=new box2d.b2Vec2;box2d.b2GearJoint.prototype.SolveVelocityConstraints=function(V){var x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,l=V.velocities[this.m_indexC].v,t_=V.velocities[this.m_indexC].w,o_=V.velocities[this.m_indexD].v,i_=V.velocities[this.m_indexD].w,_e=box2d.b2Dot_V2_V2(this.m_JvAC,box2d.b2Sub_V2_V2(x,l,box2d.b2Vec2.s_t0))+box2d.b2Dot_V2_V2(this.m_JvBD,box2d.b2Sub_V2_V2(_o,o_,box2d.b2Vec2.s_t0)),_e=_e+(this.m_JwA*o-this.m_JwC*t_+(this.m_JwB*_i-this.m_JwD*i_)),_e=-this.m_mass*_e;this.m_impulse+=_e,x.SelfMulAdd(this.m_mA*_e,this.m_JvAC),o+=this.m_iA*_e*this.m_JwA,_o.SelfMulAdd(this.m_mB*_e,this.m_JvBD),_i+=this.m_iB*_e*this.m_JwB,l.SelfMulSub(this.m_mC*_e,this.m_JvAC),t_-=this.m_iC*_e*this.m_JwC,o_.SelfMulSub(this.m_mD*_e,this.m_JvBD),i_-=this.m_iD*_e*this.m_JwD,V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i,V.velocities[this.m_indexC].w=t_,V.velocities[this.m_indexD].w=i_};box2d.b2GearJoint.prototype.SolvePositionConstraints=function(V){var x=V.positions[this.m_indexA].c,o=V.positions[this.m_indexA].a,_o=V.positions[this.m_indexB].c,_i=V.positions[this.m_indexB].a,l=V.positions[this.m_indexC].c,t_=V.positions[this.m_indexC].a,o_=V.positions[this.m_indexD].c,i_=V.positions[this.m_indexD].a,_e=this.m_qA.SetAngle(o),l_=this.m_qB.SetAngle(_i),ws=this.m_qC.SetAngle(t_),h_=this.m_qD.SetAngle(i_),s_=this.m_JvAC,B_=this.m_JvBD,D_,y_,G_=0;if(this.m_typeA===box2d.b2JointType.e_revoluteJoint)s_.SetZero(),_e=D_=1,G_+=this.m_iA+this.m_iC,ws=o-t_-this.m_referenceAngleA;else{y_=box2d.b2Mul_R_V2(ws,this.m_localAxisC,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u),D_=box2d.b2Mul_R_V2(ws,this.m_lalcC,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rC);var q_=box2d.b2Mul_R_V2(_e,this.m_lalcA,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rA);s_.Copy(y_),_e=box2d.b2Cross_V2_V2(D_,y_),D_=box2d.b2Cross_V2_V2(q_,y_),G_+=this.m_mC+this.m_mA+this.m_iC*_e*_e+this.m_iA*D_*D_,y_=this.m_lalcC,ws=box2d.b2MulT_R_V2(ws,box2d.b2Add_V2_V2(q_,box2d.b2Sub_V2_V2(x,l,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),ws=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(ws,y_,box2d.b2Vec2.s_t0),this.m_localAxisC)}if(this.m_typeB===box2d.b2JointType.e_revoluteJoint)B_.SetZero(),l_=y_=this.m_ratio,G_+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),h_=_i-i_-this.m_referenceAngleB;else{y_=box2d.b2Mul_R_V2(h_,this.m_localAxisD,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u);var j_=box2d.b2Mul_R_V2(h_,this.m_lalcD,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rD),q_=box2d.b2Mul_R_V2(l_,this.m_lalcB,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rB);box2d.b2Mul_S_V2(this.m_ratio,y_,B_),l_=this.m_ratio*box2d.b2Cross_V2_V2(j_,y_),y_=this.m_ratio*box2d.b2Cross_V2_V2(q_,y_),G_+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*l_*l_+this.m_iB*y_*y_,j_=this.m_lalcD,h_=box2d.b2MulT_R_V2(h_,box2d.b2Add_V2_V2(q_,box2d.b2Sub_V2_V2(_o,o_,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),h_=box2d.b2Dot_V2_V2(box2d.b2Sub_V2_V2(h_,j_,box2d.b2Vec2.s_t0),this.m_localAxisD)}return h_=ws+this.m_ratio*h_-this.m_constant,ws=0,0<G_&&(ws=-h_/G_),x.SelfMulAdd(this.m_mA*ws,s_),o+=this.m_iA*ws*D_,_o.SelfMulAdd(this.m_mB*ws,B_),_i+=this.m_iB*ws*y_,l.SelfMulSub(this.m_mC*ws,s_),t_-=this.m_iC*ws*_e,o_.SelfMulSub(this.m_mD*ws,B_),i_-=this.m_iD*ws*l_,V.positions[this.m_indexA].a=o,V.positions[this.m_indexB].a=_i,V.positions[this.m_indexC].a=t_,V.positions[this.m_indexD].a=i_,0<box2d.b2_linearSlop};goog.exportProperty(box2d.b2GearJoint.prototype,"SolvePositionConstraints",box2d.b2GearJoint.prototype.SolvePositionConstraints);box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u=new box2d.b2Vec2;box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rA=new box2d.b2Vec2;box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rB=new box2d.b2Vec2;box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rC=new box2d.b2Vec2;box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rD=new box2d.b2Vec2;box2d.b2GearJoint.prototype.GetAnchorA=function(V){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,V)};goog.exportProperty(box2d.b2GearJoint.prototype,"GetAnchorA",box2d.b2GearJoint.prototype.GetAnchorA);box2d.b2GearJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,V)};goog.exportProperty(box2d.b2GearJoint.prototype,"GetAnchorB",box2d.b2GearJoint.prototype.GetAnchorB);box2d.b2GearJoint.prototype.GetReactionForce=function(V,x){return box2d.b2Mul_S_V2(V*this.m_impulse,this.m_JvAC,x)};goog.exportProperty(box2d.b2GearJoint.prototype,"GetReactionForce",box2d.b2GearJoint.prototype.GetReactionForce);box2d.b2GearJoint.prototype.GetReactionTorque=function(V){return V*this.m_impulse*this.m_JwA};goog.exportProperty(box2d.b2GearJoint.prototype,"GetReactionTorque",box2d.b2GearJoint.prototype.GetReactionTorque);box2d.b2GearJoint.prototype.GetJoint1=function(){return this.m_joint1};goog.exportProperty(box2d.b2GearJoint.prototype,"GetJoint1",box2d.b2GearJoint.prototype.GetJoint1);box2d.b2GearJoint.prototype.GetJoint2=function(){return this.m_joint2};goog.exportProperty(box2d.b2GearJoint.prototype,"GetJoint2",box2d.b2GearJoint.prototype.GetJoint2);box2d.b2GearJoint.prototype.GetRatio=function(){return this.m_ratio};goog.exportProperty(box2d.b2GearJoint.prototype,"GetRatio",box2d.b2GearJoint.prototype.GetRatio);box2d.b2GearJoint.prototype.SetRatio=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(V)),this.m_ratio=V};goog.exportProperty(box2d.b2GearJoint.prototype,"SetRatio",box2d.b2GearJoint.prototype.SetRatio);box2d.b2GearJoint.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_bodyA.m_islandIndex,x=this.m_bodyB.m_islandIndex,o=this.m_joint1.m_index,_o=this.m_joint2.m_index;box2d.b2Log(`  /*box2d.b2GearJointDef*/ var jd = new box2d.b2GearJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,V),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,x),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.joint1 = joints[%d];
`,o),box2d.b2Log(`  jd.joint2 = joints[%d];
`,_o),box2d.b2Log(`  jd.ratio = %.15f;
`,this.m_ratio),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2GearJoint.prototype,"Dump",box2d.b2GearJoint.prototype.Dump);box2d.b2RopeJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_ropeJoint),this.localAnchorA=new box2d.b2Vec2(-1,0),this.localAnchorB=new box2d.b2Vec2(1,0)};goog.inherits(box2d.b2RopeJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2RopeJointDef",box2d.b2RopeJointDef);box2d.b2RopeJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2RopeJointDef.prototype,"localAnchorA",box2d.b2RopeJointDef.prototype.localAnchorA);box2d.b2RopeJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2RopeJointDef.prototype,"localAnchorB",box2d.b2RopeJointDef.prototype.localAnchorB);box2d.b2RopeJointDef.prototype.maxLength=0;goog.exportProperty(box2d.b2RopeJointDef.prototype,"maxLength",box2d.b2RopeJointDef.prototype.maxLength);box2d.b2RopeJoint=function(V){box2d.b2Joint.call(this,V),this.m_localAnchorA=V.localAnchorA.Clone(),this.m_localAnchorB=V.localAnchorB.Clone(),this.m_maxLength=V.maxLength,this.m_u=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2};goog.inherits(box2d.b2RopeJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2RopeJoint",box2d.b2RopeJoint);box2d.b2RopeJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_localAnchorA",box2d.b2RopeJoint.prototype.m_localAnchorA);box2d.b2RopeJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_localAnchorB",box2d.b2RopeJoint.prototype.m_localAnchorB);box2d.b2RopeJoint.prototype.m_maxLength=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_maxLength",box2d.b2RopeJoint.prototype.m_maxLength);box2d.b2RopeJoint.prototype.m_length=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_length",box2d.b2RopeJoint.prototype.m_length);box2d.b2RopeJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_impulse",box2d.b2RopeJoint.prototype.m_impulse);box2d.b2RopeJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_indexA",box2d.b2RopeJoint.prototype.m_indexA);box2d.b2RopeJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_indexB",box2d.b2RopeJoint.prototype.m_indexB);box2d.b2RopeJoint.prototype.m_u=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_u",box2d.b2RopeJoint.prototype.m_u);box2d.b2RopeJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_rA",box2d.b2RopeJoint.prototype.m_rA);box2d.b2RopeJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_rB",box2d.b2RopeJoint.prototype.m_rB);box2d.b2RopeJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_localCenterA",box2d.b2RopeJoint.prototype.m_localCenterA);box2d.b2RopeJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_localCenterB",box2d.b2RopeJoint.prototype.m_localCenterB);box2d.b2RopeJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_invMassA",box2d.b2RopeJoint.prototype.m_invMassA);box2d.b2RopeJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_invMassB",box2d.b2RopeJoint.prototype.m_invMassB);box2d.b2RopeJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_invIA",box2d.b2RopeJoint.prototype.m_invIA);box2d.b2RopeJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_invIB",box2d.b2RopeJoint.prototype.m_invIB);box2d.b2RopeJoint.prototype.m_mass=0;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_mass",box2d.b2RopeJoint.prototype.m_mass);box2d.b2RopeJoint.prototype.m_state=box2d.b2LimitState.e_inactiveLimit;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_state",box2d.b2RopeJoint.prototype.m_state);box2d.b2RopeJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_qA",box2d.b2RopeJoint.prototype.m_qA);box2d.b2RopeJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_qB",box2d.b2RopeJoint.prototype.m_qB);box2d.b2RopeJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_lalcA",box2d.b2RopeJoint.prototype.m_lalcA);box2d.b2RopeJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2RopeJoint.prototype,"m_lalcB",box2d.b2RopeJoint.prototype.m_lalcB);box2d.b2RopeJoint.prototype.InitVelocityConstraints=function(V){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var x=V.positions[this.m_indexA].c,o=V.velocities[this.m_indexA].v,_o=V.velocities[this.m_indexA].w,_i=V.positions[this.m_indexB].c,i_=V.positions[this.m_indexB].a,l=V.velocities[this.m_indexB].v,t_=V.velocities[this.m_indexB].w,o_=this.m_qA.SetAngle(V.positions[this.m_indexA].a),i_=this.m_qB.SetAngle(i_);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(i_,this.m_lalcB,this.m_rB),this.m_u.Copy(_i).SelfAdd(this.m_rB).SelfSub(x).SelfSub(this.m_rA),this.m_length=this.m_u.Length(),this.m_state=0<this.m_length-this.m_maxLength?box2d.b2LimitState.e_atUpperLimit:box2d.b2LimitState.e_inactiveLimit,this.m_length>box2d.b2_linearSlop?(this.m_u.SelfMul(1/this.m_length),x=box2d.b2Cross_V2_V2(this.m_rA,this.m_u),_i=box2d.b2Cross_V2_V2(this.m_rB,this.m_u),x=this.m_invMassA+this.m_invIA*x*x+this.m_invMassB+this.m_invIB*_i*_i,this.m_mass=x!==0?1/x:0,V.step.warmStarting?(this.m_impulse*=V.step.dtRatio,x=box2d.b2Mul_S_V2(this.m_impulse,this.m_u,box2d.b2RopeJoint.prototype.InitVelocityConstraints.s_P),o.SelfMulSub(this.m_invMassA,x),_o-=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,x),l.SelfMulAdd(this.m_invMassB,x),t_+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,x)):this.m_impulse=0,V.velocities[this.m_indexA].w=_o,V.velocities[this.m_indexB].w=t_):(this.m_u.SetZero(),this.m_impulse=this.m_mass=0)};goog.exportProperty(box2d.b2RopeJoint.prototype,"InitVelocityConstraints",box2d.b2RopeJoint.prototype.InitVelocityConstraints);box2d.b2RopeJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2RopeJoint.prototype.SolveVelocityConstraints=function(V){var x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,o_=box2d.b2AddCross_V2_S_V2(x,o,this.m_rA,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpA),l=box2d.b2AddCross_V2_S_V2(_o,_i,this.m_rB,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpB),t_=this.m_length-this.m_maxLength,o_=box2d.b2Dot_V2_V2(this.m_u,box2d.b2Sub_V2_V2(l,o_,box2d.b2Vec2.s_t0));0>t_&&(o_+=V.step.inv_dt*t_),t_=-this.m_mass*o_,o_=this.m_impulse,this.m_impulse=box2d.b2Min(0,this.m_impulse+t_),t_=this.m_impulse-o_,t_=box2d.b2Mul_S_V2(t_,this.m_u,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_P),x.SelfMulSub(this.m_invMassA,t_),o-=this.m_invIA*box2d.b2Cross_V2_V2(this.m_rA,t_),_o.SelfMulAdd(this.m_invMassB,t_),_i+=this.m_invIB*box2d.b2Cross_V2_V2(this.m_rB,t_),V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i};goog.exportProperty(box2d.b2RopeJoint.prototype,"SolveVelocityConstraints",box2d.b2RopeJoint.prototype.SolveVelocityConstraints);box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d.b2Vec2;box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d.b2Vec2;box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2RopeJoint.prototype.SolvePositionConstraints=function(V){var x=V.positions[this.m_indexA].c,o=V.positions[this.m_indexA].a,_o=V.positions[this.m_indexB].c,_i=V.positions[this.m_indexB].a,l=this.m_qA.SetAngle(o),t_=this.m_qB.SetAngle(_i);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),l=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var t_=box2d.b2Mul_R_V2(t_,this.m_lalcB,this.m_rB),_e=this.m_u.Copy(_o).SelfAdd(t_).SelfSub(x).SelfSub(l),o_=_e.Normalize(),i_=o_-this.m_maxLength,i_=box2d.b2Clamp(i_,0,box2d.b2_maxLinearCorrection),_e=box2d.b2Mul_S_V2(-this.m_mass*i_,_e,box2d.b2RopeJoint.prototype.SolvePositionConstraints.s_P);return x.SelfMulSub(this.m_invMassA,_e),o-=this.m_invIA*box2d.b2Cross_V2_V2(l,_e),_o.SelfMulAdd(this.m_invMassB,_e),_i+=this.m_invIB*box2d.b2Cross_V2_V2(t_,_e),V.positions[this.m_indexA].a=o,V.positions[this.m_indexB].a=_i,o_-this.m_maxLength<box2d.b2_linearSlop};goog.exportProperty(box2d.b2RopeJoint.prototype,"SolvePositionConstraints",box2d.b2RopeJoint.prototype.SolvePositionConstraints);box2d.b2RopeJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2RopeJoint.prototype.GetAnchorA=function(V){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,V)};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetAnchorA",box2d.b2RopeJoint.prototype.GetAnchorA);box2d.b2RopeJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,V)};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetAnchorB",box2d.b2RopeJoint.prototype.GetAnchorB);box2d.b2RopeJoint.prototype.GetReactionForce=function(V,x){return box2d.b2Mul_S_V2(V*this.m_impulse,this.m_u,x)};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetReactionForce",box2d.b2RopeJoint.prototype.GetReactionForce);box2d.b2RopeJoint.prototype.GetReactionTorque=function(V){return 0};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetReactionTorque",box2d.b2RopeJoint.prototype.GetReactionTorque);box2d.b2RopeJoint.prototype.GetLocalAnchorA=function(V){return V.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetLocalAnchorA",box2d.b2RopeJoint.prototype.GetLocalAnchorA);box2d.b2RopeJoint.prototype.GetLocalAnchorB=function(V){return V.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetLocalAnchorB",box2d.b2RopeJoint.prototype.GetLocalAnchorB);box2d.b2RopeJoint.prototype.SetMaxLength=function(V){this.m_maxLength=V};goog.exportProperty(box2d.b2RopeJoint.prototype,"SetMaxLength",box2d.b2RopeJoint.prototype.SetMaxLength);box2d.b2RopeJoint.prototype.GetMaxLength=function(){return this.m_maxLength};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetMaxLength",box2d.b2RopeJoint.prototype.GetMaxLength);box2d.b2RopeJoint.prototype.GetLimitState=function(){return this.m_state};goog.exportProperty(box2d.b2RopeJoint.prototype,"GetLimitState",box2d.b2RopeJoint.prototype.GetLimitState);box2d.b2RopeJoint.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_bodyA.m_islandIndex,x=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2RopeJointDef*/ var jd = new box2d.b2RopeJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,V),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,x),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.maxLength = %.15f;
`,this.m_maxLength),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2RopeJoint.prototype,"Dump",box2d.b2RopeJoint.prototype.Dump);box2d.b2WeldJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_weldJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2};goog.inherits(box2d.b2WeldJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2WeldJointDef",box2d.b2WeldJointDef);box2d.b2WeldJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2WeldJointDef.prototype,"localAnchorA",box2d.b2WeldJointDef.prototype.localAnchorA);box2d.b2WeldJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2WeldJointDef.prototype,"localAnchorB",box2d.b2WeldJointDef.prototype.localAnchorB);box2d.b2WeldJointDef.prototype.referenceAngle=0;goog.exportProperty(box2d.b2WeldJointDef.prototype,"referenceAngle",box2d.b2WeldJointDef.prototype.referenceAngle);box2d.b2WeldJointDef.prototype.frequencyHz=0;goog.exportProperty(box2d.b2WeldJointDef.prototype,"frequencyHz",box2d.b2WeldJointDef.prototype.frequencyHz);box2d.b2WeldJointDef.prototype.dampingRatio=0;goog.exportProperty(box2d.b2WeldJointDef.prototype,"dampingRatio",box2d.b2WeldJointDef.prototype.dampingRatio);box2d.b2WeldJointDef.prototype.Initialize=function(V,x,o){this.bodyA=V,this.bodyB=x,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};goog.exportProperty(box2d.b2WeldJointDef.prototype,"Initialize",box2d.b2WeldJointDef.prototype.Initialize);box2d.b2WeldJoint=function(V){box2d.b2Joint.call(this,V),this.m_frequencyHz=V.frequencyHz,this.m_dampingRatio=V.dampingRatio,this.m_localAnchorA=V.localAnchorA.Clone(),this.m_localAnchorB=V.localAnchorB.Clone(),this.m_referenceAngle=V.referenceAngle,this.m_impulse=new box2d.b2Vec3(0,0,0),this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_mass=new box2d.b2Mat33,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat33};goog.inherits(box2d.b2WeldJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2WeldJoint",box2d.b2WeldJoint);box2d.b2WeldJoint.prototype.m_frequencyHz=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_frequencyHz",box2d.b2WeldJoint.prototype.m_frequencyHz);box2d.b2WeldJoint.prototype.m_dampingRatio=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_dampingRatio",box2d.b2WeldJoint.prototype.m_dampingRatio);box2d.b2WeldJoint.prototype.m_bias=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_bias",box2d.b2WeldJoint.prototype.m_bias);box2d.b2WeldJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_localAnchorA",box2d.b2WeldJoint.prototype.m_localAnchorA);box2d.b2WeldJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_localAnchorB",box2d.b2WeldJoint.prototype.m_localAnchorB);box2d.b2WeldJoint.prototype.m_referenceAngle=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_referenceAngle",box2d.b2WeldJoint.prototype.m_referenceAngle);box2d.b2WeldJoint.prototype.m_gamma=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_gamma",box2d.b2WeldJoint.prototype.m_gamma);box2d.b2WeldJoint.prototype.m_impulse=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_impulse",box2d.b2WeldJoint.prototype.m_impulse);box2d.b2WeldJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_indexA",box2d.b2WeldJoint.prototype.m_indexA);box2d.b2WeldJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_indexB",box2d.b2WeldJoint.prototype.m_indexB);box2d.b2WeldJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_rA",box2d.b2WeldJoint.prototype.m_rA);box2d.b2WeldJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_rB",box2d.b2WeldJoint.prototype.m_rB);box2d.b2WeldJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_localCenterA",box2d.b2WeldJoint.prototype.m_localCenterA);box2d.b2WeldJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_localCenterB",box2d.b2WeldJoint.prototype.m_localCenterB);box2d.b2WeldJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_invMassA",box2d.b2WeldJoint.prototype.m_invMassA);box2d.b2WeldJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_invMassB",box2d.b2WeldJoint.prototype.m_invMassB);box2d.b2WeldJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_invIA",box2d.b2WeldJoint.prototype.m_invIA);box2d.b2WeldJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_invIB",box2d.b2WeldJoint.prototype.m_invIB);box2d.b2WeldJoint.prototype.m_mass=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_mass",box2d.b2WeldJoint.prototype.m_mass);box2d.b2WeldJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_qA",box2d.b2WeldJoint.prototype.m_qA);box2d.b2WeldJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_qB",box2d.b2WeldJoint.prototype.m_qB);box2d.b2WeldJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_lalcA",box2d.b2WeldJoint.prototype.m_lalcA);box2d.b2WeldJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_lalcB",box2d.b2WeldJoint.prototype.m_lalcB);box2d.b2WeldJoint.prototype.m_K=null;goog.exportProperty(box2d.b2WeldJoint.prototype,"m_K",box2d.b2WeldJoint.prototype.m_K);box2d.b2WeldJoint.prototype.InitVelocityConstraints=function(V){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var x=V.positions[this.m_indexA].a,o=V.velocities[this.m_indexA].v,_o=V.velocities[this.m_indexA].w,_i=V.positions[this.m_indexB].a,l=V.velocities[this.m_indexB].v,t_=V.velocities[this.m_indexB].w,o_=this.m_qA.SetAngle(x),i_=this.m_qB.SetAngle(_i);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2Mul_R_V2(i_,this.m_lalcB,this.m_rB);var o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB,ws=this.m_K;if(ws.ex.x=o_+i_+this.m_rA.y*this.m_rA.y*_e+this.m_rB.y*this.m_rB.y*l_,ws.ey.x=-this.m_rA.y*this.m_rA.x*_e-this.m_rB.y*this.m_rB.x*l_,ws.ez.x=-this.m_rA.y*_e-this.m_rB.y*l_,ws.ex.y=ws.ey.x,ws.ey.y=o_+i_+this.m_rA.x*this.m_rA.x*_e+this.m_rB.x*this.m_rB.x*l_,ws.ez.y=this.m_rA.x*_e+this.m_rB.x*l_,ws.ex.z=ws.ez.x,ws.ey.z=ws.ez.y,ws.ez.z=_e+l_,0<this.m_frequencyHz){ws.GetInverse22(this.m_mass);var ws=_e+l_,h_=0<ws?1/ws:0,x=_i-x-this.m_referenceAngle,_i=2*box2d.b2_pi*this.m_frequencyHz,s_=h_*_i*_i,B_=V.step.dt;this.m_gamma=B_*(2*h_*this.m_dampingRatio*_i+B_*s_),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=x*B_*s_*this.m_gamma,ws+=this.m_gamma,this.m_mass.ez.z=ws!==0?1/ws:0}else ws.ez.z===0?ws.GetInverse22(this.m_mass):ws.GetSymInverse33(this.m_mass),this.m_bias=this.m_gamma=0;V.step.warmStarting?(this.m_impulse.SelfMulScalar(V.step.dtRatio),ws=box2d.b2WeldJoint.prototype.InitVelocityConstraints.s_P.Set(this.m_impulse.x,this.m_impulse.y),o.SelfMulSub(o_,ws),_o-=_e*(box2d.b2Cross_V2_V2(this.m_rA,ws)+this.m_impulse.z),l.SelfMulAdd(i_,ws),t_+=l_*(box2d.b2Cross_V2_V2(this.m_rB,ws)+this.m_impulse.z)):this.m_impulse.SetZero(),V.velocities[this.m_indexA].w=_o,V.velocities[this.m_indexB].w=t_};box2d.b2WeldJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolveVelocityConstraints=function(V){var x=V.velocities[this.m_indexA].v,o=V.velocities[this.m_indexA].w,_o=V.velocities[this.m_indexB].v,_i=V.velocities[this.m_indexB].w,l=this.m_invMassA,t_=this.m_invMassB,o_=this.m_invIA,i_=this.m_invIB;if(0<this.m_frequencyHz){var _e=-this.m_mass.ez.z*(_i-o+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=_e,o-=o_*_e,_i+=i_*_e,_e=box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(_o,_i,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(x,o,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1),_e=box2d.b2Mul_M33_X_Y(this.m_mass,_e.x,_e.y,box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse1).SelfNeg(),this.m_impulse.x+=_e.x,this.m_impulse.y+=_e.y,x.SelfMulSub(l,_e),o-=o_*box2d.b2Cross_V2_V2(this.m_rA,_e),_o.SelfMulAdd(t_,_e),_i+=i_*box2d.b2Cross_V2_V2(this.m_rB,_e)}else{var _e=box2d.b2Sub_V2_V2(box2d.b2AddCross_V2_S_V2(_o,_i,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddCross_V2_S_V2(x,o,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1),l_=box2d.b2Mul_M33_X_Y_Z(this.m_mass,_e.x,_e.y,_i-o,box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse).SelfNeg();this.m_impulse.SelfAdd(l_),_e=box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_P.Set(l_.x,l_.y),x.SelfMulSub(l,_e),o-=o_*(box2d.b2Cross_V2_V2(this.m_rA,_e)+l_.z),_o.SelfMulAdd(t_,_e),_i+=i_*(box2d.b2Cross_V2_V2(this.m_rB,_e)+l_.z)}V.velocities[this.m_indexA].w=o,V.velocities[this.m_indexB].w=_i};goog.exportProperty(box2d.b2WeldJoint.prototype,"SolveVelocityConstraints",box2d.b2WeldJoint.prototype.SolveVelocityConstraints);box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse1=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d.b2Vec3;box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolvePositionConstraints=function(V){var x=V.positions[this.m_indexA].c,o=V.positions[this.m_indexA].a,_o=V.positions[this.m_indexB].c,_i=V.positions[this.m_indexB].a,l=this.m_qA.SetAngle(o),t_=this.m_qB.SetAngle(_i),o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB;box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var ws=box2d.b2Mul_R_V2(l,this.m_lalcA,this.m_rA);box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var h_=box2d.b2Mul_R_V2(t_,this.m_lalcB,this.m_rB),s_=this.m_K;if(s_.ex.x=o_+i_+ws.y*ws.y*_e+h_.y*h_.y*l_,s_.ey.x=-ws.y*ws.x*_e-h_.y*h_.x*l_,s_.ez.x=-ws.y*_e-h_.y*l_,s_.ex.y=s_.ey.x,s_.ey.y=o_+i_+ws.x*ws.x*_e+h_.x*h_.x*l_,s_.ez.y=ws.x*_e+h_.x*l_,s_.ex.z=s_.ez.x,s_.ey.z=s_.ez.y,s_.ez.z=_e+l_,0<this.m_frequencyHz){var B_=box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(_o,h_,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(x,ws,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1),t_=B_.Length(),l=0,s_=s_.Solve22(B_.x,B_.y,box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P).SelfNeg();x.SelfMulSub(o_,s_),o-=_e*box2d.b2Cross_V2_V2(ws,s_),_o.SelfMulAdd(i_,s_),_i+=l_*box2d.b2Cross_V2_V2(h_,s_)}else B_=box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(_o,h_,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(x,ws,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1),h_=_i-o-this.m_referenceAngle,t_=B_.Length(),l=box2d.b2Abs(h_),ws=box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse,0<s_.ez.z?s_.Solve33(B_.x,B_.y,h_,ws).SelfNeg():(s_=s_.Solve22(B_.x,B_.y,box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse2).SelfNeg(),ws.x=s_.x,ws.y=s_.y,ws.z=0),s_=box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P.Set(ws.x,ws.y),x.SelfMulSub(o_,s_),o-=_e*(box2d.b2Cross_V2_V2(this.m_rA,s_)+ws.z),_o.SelfMulAdd(i_,s_),_i+=l_*(box2d.b2Cross_V2_V2(this.m_rB,s_)+ws.z);return V.positions[this.m_indexA].a=o,V.positions[this.m_indexB].a=_i,t_<=box2d.b2_linearSlop&&l<=box2d.b2_angularSlop};goog.exportProperty(box2d.b2WeldJoint.prototype,"SolvePositionConstraints",box2d.b2WeldJoint.prototype.SolvePositionConstraints);box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse=new box2d.b2Vec3;box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse2=new box2d.b2Vec2;box2d.b2WeldJoint.prototype.GetAnchorA=function(V){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,V)};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetAnchorA",box2d.b2WeldJoint.prototype.GetAnchorA);box2d.b2WeldJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,V)};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetAnchorB",box2d.b2WeldJoint.prototype.GetAnchorB);box2d.b2WeldJoint.prototype.GetReactionForce=function(V,x){return x.Set(V*this.m_impulse.x,V*this.m_impulse.y)};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetReactionForce",box2d.b2WeldJoint.prototype.GetReactionForce);box2d.b2WeldJoint.prototype.GetReactionTorque=function(V){return V*this.m_impulse.z};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetReactionTorque",box2d.b2WeldJoint.prototype.GetReactionTorque);box2d.b2WeldJoint.prototype.GetLocalAnchorA=function(V){return V.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetLocalAnchorA",box2d.b2WeldJoint.prototype.GetLocalAnchorA);box2d.b2WeldJoint.prototype.GetLocalAnchorB=function(V){return V.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetLocalAnchorB",box2d.b2WeldJoint.prototype.GetLocalAnchorB);box2d.b2WeldJoint.prototype.GetReferenceAngle=function(){return this.m_referenceAngle};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetReferenceAngle",box2d.b2WeldJoint.prototype.GetReferenceAngle);box2d.b2WeldJoint.prototype.SetFrequency=function(V){this.m_frequencyHz=V};box2d.b2WeldJoint.prototype.GetFrequency=function(){return this.m_frequencyHz};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetFrequency",box2d.b2WeldJoint.prototype.GetFrequency);box2d.b2WeldJoint.prototype.SetDampingRatio=function(V){this.m_dampingRatio=V};box2d.b2WeldJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio};goog.exportProperty(box2d.b2WeldJoint.prototype,"GetDampingRatio",box2d.b2WeldJoint.prototype.GetDampingRatio);box2d.b2WeldJoint.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_bodyA.m_islandIndex,x=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2WeldJointDef*/ var jd = new box2d.b2WeldJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,V),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,x),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.referenceAngle = %.15f;
`,this.m_referenceAngle),box2d.b2Log(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),box2d.b2Log(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2WeldJoint.prototype,"Dump",box2d.b2WeldJoint.prototype.Dump);box2d.b2WheelJointDef=function(){box2d.b2JointDef.call(this,box2d.b2JointType.e_wheelJoint),this.localAnchorA=new box2d.b2Vec2(0,0),this.localAnchorB=new box2d.b2Vec2(0,0),this.localAxisA=new box2d.b2Vec2(1,0)};goog.inherits(box2d.b2WheelJointDef,box2d.b2JointDef);goog.exportSymbol("box2d.b2WheelJointDef",box2d.b2WheelJointDef);box2d.b2WheelJointDef.prototype.localAnchorA=null;goog.exportProperty(box2d.b2WheelJointDef.prototype,"localAnchorA",box2d.b2WheelJointDef.prototype.localAnchorA);box2d.b2WheelJointDef.prototype.localAnchorB=null;goog.exportProperty(box2d.b2WheelJointDef.prototype,"localAnchorB",box2d.b2WheelJointDef.prototype.localAnchorB);box2d.b2WheelJointDef.prototype.localAxisA=null;goog.exportProperty(box2d.b2WheelJointDef.prototype,"localAxisA",box2d.b2WheelJointDef.prototype.localAxisA);box2d.b2WheelJointDef.prototype.enableMotor=!1;goog.exportProperty(box2d.b2WheelJointDef.prototype,"enableMotor",box2d.b2WheelJointDef.prototype.enableMotor);box2d.b2WheelJointDef.prototype.maxMotorTorque=0;goog.exportProperty(box2d.b2WheelJointDef.prototype,"maxMotorTorque",box2d.b2WheelJointDef.prototype.maxMotorTorque);box2d.b2WheelJointDef.prototype.motorSpeed=0;goog.exportProperty(box2d.b2WheelJointDef.prototype,"motorSpeed",box2d.b2WheelJointDef.prototype.motorSpeed);box2d.b2WheelJointDef.prototype.frequencyHz=2;goog.exportProperty(box2d.b2WheelJointDef.prototype,"frequencyHz",box2d.b2WheelJointDef.prototype.frequencyHz);box2d.b2WheelJointDef.prototype.dampingRatio=.7;goog.exportProperty(box2d.b2WheelJointDef.prototype,"dampingRatio",box2d.b2WheelJointDef.prototype.dampingRatio);box2d.b2WheelJointDef.prototype.Initialize=function(V,x,o,_o){this.bodyA=V,this.bodyB=x,this.bodyA.GetLocalPoint(o,this.localAnchorA),this.bodyB.GetLocalPoint(o,this.localAnchorB),this.bodyA.GetLocalVector(_o,this.localAxisA)};goog.exportProperty(box2d.b2WheelJointDef.prototype,"Initialize",box2d.b2WheelJointDef.prototype.Initialize);box2d.b2WheelJoint=function(V){box2d.b2Joint.call(this,V),this.m_frequencyHz=V.frequencyHz,this.m_dampingRatio=V.dampingRatio,this.m_localAnchorA=V.localAnchorA.Clone(),this.m_localAnchorB=V.localAnchorB.Clone(),this.m_localXAxisA=V.localAxisA.Clone(),this.m_localYAxisA=box2d.b2Cross_S_V2(1,this.m_localXAxisA,new box2d.b2Vec2),this.m_maxMotorTorque=V.maxMotorTorque,this.m_motorSpeed=V.motorSpeed,this.m_enableMotor=V.enableMotor,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_ax=new box2d.b2Vec2,this.m_ay=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_ax.SetZero(),this.m_ay.SetZero()};goog.inherits(box2d.b2WheelJoint,box2d.b2Joint);goog.exportSymbol("box2d.b2WheelJoint",box2d.b2WheelJoint);box2d.b2WheelJoint.prototype.m_frequencyHz=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_frequencyHz",box2d.b2WheelJoint.prototype.m_frequencyHz);box2d.b2WheelJoint.prototype.m_dampingRatio=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_dampingRatio",box2d.b2WheelJoint.prototype.m_dampingRatio);box2d.b2WheelJoint.prototype.m_localAnchorA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localAnchorA",box2d.b2WheelJoint.prototype.m_localAnchorA);box2d.b2WheelJoint.prototype.m_localAnchorB=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localAnchorB",box2d.b2WheelJoint.prototype.m_localAnchorB);box2d.b2WheelJoint.prototype.m_localXAxisA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localXAxisA",box2d.b2WheelJoint.prototype.m_localXAxisA);box2d.b2WheelJoint.prototype.m_localYAxisA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localYAxisA",box2d.b2WheelJoint.prototype.m_localYAxisA);box2d.b2WheelJoint.prototype.m_impulse=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_impulse",box2d.b2WheelJoint.prototype.m_impulse);box2d.b2WheelJoint.prototype.m_motorImpulse=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_motorImpulse",box2d.b2WheelJoint.prototype.m_motorImpulse);box2d.b2WheelJoint.prototype.m_springImpulse=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_springImpulse",box2d.b2WheelJoint.prototype.m_springImpulse);box2d.b2WheelJoint.prototype.m_maxMotorTorque=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_maxMotorTorque",box2d.b2WheelJoint.prototype.m_maxMotorTorque);box2d.b2WheelJoint.prototype.m_motorSpeed=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_motorSpeed",box2d.b2WheelJoint.prototype.m_motorSpeed);box2d.b2WheelJoint.prototype.m_enableMotor=!1;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_enableMotor",box2d.b2WheelJoint.prototype.m_enableMotor);box2d.b2WheelJoint.prototype.m_indexA=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_indexA",box2d.b2WheelJoint.prototype.m_indexA);box2d.b2WheelJoint.prototype.m_indexB=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_indexB",box2d.b2WheelJoint.prototype.m_indexB);box2d.b2WheelJoint.prototype.m_localCenterA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localCenterA",box2d.b2WheelJoint.prototype.m_localCenterA);box2d.b2WheelJoint.prototype.m_localCenterB=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_localCenterB",box2d.b2WheelJoint.prototype.m_localCenterB);box2d.b2WheelJoint.prototype.m_invMassA=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_invMassA",box2d.b2WheelJoint.prototype.m_invMassA);box2d.b2WheelJoint.prototype.m_invMassB=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_invMassB",box2d.b2WheelJoint.prototype.m_invMassB);box2d.b2WheelJoint.prototype.m_invIA=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_invIA",box2d.b2WheelJoint.prototype.m_invIA);box2d.b2WheelJoint.prototype.m_invIB=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_invIB",box2d.b2WheelJoint.prototype.m_invIB);box2d.b2WheelJoint.prototype.m_ax=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_ax",box2d.b2WheelJoint.prototype.m_ax);box2d.b2WheelJoint.prototype.m_ay=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_ay",box2d.b2WheelJoint.prototype.m_ay);box2d.b2WheelJoint.prototype.m_sAx=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_sAx",box2d.b2WheelJoint.prototype.m_sAx);box2d.b2WheelJoint.prototype.m_sBx=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_sBx",box2d.b2WheelJoint.prototype.m_sBx);box2d.b2WheelJoint.prototype.m_sAy=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_sAy",box2d.b2WheelJoint.prototype.m_sAy);box2d.b2WheelJoint.prototype.m_sBy=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_sBy",box2d.b2WheelJoint.prototype.m_sBy);box2d.b2WheelJoint.prototype.m_mass=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_mass",box2d.b2WheelJoint.prototype.m_mass);box2d.b2WheelJoint.prototype.m_motorMass=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_motorMass",box2d.b2WheelJoint.prototype.m_motorMass);box2d.b2WheelJoint.prototype.m_springMass=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_springMass",box2d.b2WheelJoint.prototype.m_springMass);box2d.b2WheelJoint.prototype.m_bias=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_bias",box2d.b2WheelJoint.prototype.m_bias);box2d.b2WheelJoint.prototype.m_gamma=0;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_gamma",box2d.b2WheelJoint.prototype.m_gamma);box2d.b2WheelJoint.prototype.m_qA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_qA",box2d.b2WheelJoint.prototype.m_qA);box2d.b2WheelJoint.prototype.m_qB=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_qB",box2d.b2WheelJoint.prototype.m_qB);box2d.b2WheelJoint.prototype.m_lalcA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_lalcA",box2d.b2WheelJoint.prototype.m_lalcA);box2d.b2WheelJoint.prototype.m_lalcB=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_lalcB",box2d.b2WheelJoint.prototype.m_lalcB);box2d.b2WheelJoint.prototype.m_rA=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_rA",box2d.b2WheelJoint.prototype.m_rA);box2d.b2WheelJoint.prototype.m_rB=null;goog.exportProperty(box2d.b2WheelJoint.prototype,"m_rB",box2d.b2WheelJoint.prototype.m_rB);box2d.b2WheelJoint.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetMotorSpeed",box2d.b2WheelJoint.prototype.GetMotorSpeed);box2d.b2WheelJoint.prototype.GetMaxMotorTorque=function(){return this.m_maxMotorTorque};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetMaxMotorTorque",box2d.b2WheelJoint.prototype.GetMaxMotorTorque);box2d.b2WheelJoint.prototype.SetSpringFrequencyHz=function(V){this.m_frequencyHz=V};goog.exportProperty(box2d.b2WheelJoint.prototype,"SetSpringFrequencyHz",box2d.b2WheelJoint.prototype.SetSpringFrequencyHz);box2d.b2WheelJoint.prototype.GetSpringFrequencyHz=function(){return this.m_frequencyHz};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetSpringFrequencyHz",box2d.b2WheelJoint.prototype.GetSpringFrequencyHz);box2d.b2WheelJoint.prototype.SetSpringDampingRatio=function(V){this.m_dampingRatio=V};goog.exportProperty(box2d.b2WheelJoint.prototype,"SetSpringDampingRatio",box2d.b2WheelJoint.prototype.SetSpringDampingRatio);box2d.b2WheelJoint.prototype.GetSpringDampingRatio=function(){return this.m_dampingRatio};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetSpringDampingRatio",box2d.b2WheelJoint.prototype.GetSpringDampingRatio);box2d.b2WheelJoint.prototype.InitVelocityConstraints=function(V){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var x=this.m_invMassA,o=this.m_invMassB,_o=this.m_invIA,_i=this.m_invIB,l=V.positions[this.m_indexA].c,t_=V.velocities[this.m_indexA].v,o_=V.velocities[this.m_indexA].w,i_=V.positions[this.m_indexB].c,_e=V.positions[this.m_indexB].a,l_=V.velocities[this.m_indexB].v,ws=V.velocities[this.m_indexB].w,h_=this.m_qA.SetAngle(V.positions[this.m_indexA].a),s_=this.m_qB.SetAngle(_e);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),_e=box2d.b2Mul_R_V2(h_,this.m_lalcA,this.m_rA),box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),s_=box2d.b2Mul_R_V2(s_,this.m_lalcB,this.m_rB),l=box2d.b2Sub_V2_V2(box2d.b2Add_V2_V2(i_,s_,box2d.b2Vec2.s_t0),box2d.b2Add_V2_V2(l,_e,box2d.b2Vec2.s_t1),box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_d),box2d.b2Mul_R_V2(h_,this.m_localYAxisA,this.m_ay),this.m_sAy=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(l,_e,box2d.b2Vec2.s_t0),this.m_ay),this.m_sBy=box2d.b2Cross_V2_V2(s_,this.m_ay),this.m_mass=x+o+_o*this.m_sAy*this.m_sAy+_i*this.m_sBy*this.m_sBy,0<this.m_mass&&(this.m_mass=1/this.m_mass),this.m_gamma=this.m_bias=this.m_springMass=0,0<this.m_frequencyHz?(box2d.b2Mul_R_V2(h_,this.m_localXAxisA,this.m_ax),this.m_sAx=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(l,_e,box2d.b2Vec2.s_t0),this.m_ax),this.m_sBx=box2d.b2Cross_V2_V2(s_,this.m_ax),x=x+o+_o*this.m_sAx*this.m_sAx+_i*this.m_sBx*this.m_sBx,0<x&&(this.m_springMass=1/x,o=box2d.b2Dot_V2_V2(l,this.m_ax),h_=2*box2d.b2_pi*this.m_frequencyHz,l=this.m_springMass*h_*h_,i_=V.step.dt,this.m_gamma=i_*(2*this.m_springMass*this.m_dampingRatio*h_+i_*l),0<this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_bias=o*i_*l*this.m_gamma,this.m_springMass=x+this.m_gamma,0<this.m_springMass&&(this.m_springMass=1/this.m_springMass))):this.m_springImpulse=0,this.m_enableMotor?(this.m_motorMass=_o+_i,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass)):this.m_motorImpulse=this.m_motorMass=0,V.step.warmStarting?(this.m_impulse*=V.step.dtRatio,this.m_springImpulse*=V.step.dtRatio,this.m_motorImpulse*=V.step.dtRatio,_o=box2d.b2Add_V2_V2(box2d.b2Mul_S_V2(this.m_impulse,this.m_ay,box2d.b2Vec2.s_t0),box2d.b2Mul_S_V2(this.m_springImpulse,this.m_ax,box2d.b2Vec2.s_t1),box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_P),_i=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,x=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse,t_.SelfMulSub(this.m_invMassA,_o),o_-=this.m_invIA*_i,l_.SelfMulAdd(this.m_invMassB,_o),ws+=this.m_invIB*x):this.m_motorImpulse=this.m_springImpulse=this.m_impulse=0,V.velocities[this.m_indexA].w=o_,V.velocities[this.m_indexB].w=ws};goog.exportProperty(box2d.b2WheelJoint.prototype,"InitVelocityConstraints",box2d.b2WheelJoint.prototype.InitVelocityConstraints);box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_d=new box2d.b2Vec2;box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2WheelJoint.prototype.SolveVelocityConstraints=function(V){var x=this.m_invMassA,o=this.m_invMassB,_o=this.m_invIA,_i=this.m_invIB,l=V.velocities[this.m_indexA].v,t_=V.velocities[this.m_indexA].w,o_=V.velocities[this.m_indexB].v,i_=V.velocities[this.m_indexB].w,ws=box2d.b2Dot_V2_V2(this.m_ax,box2d.b2Sub_V2_V2(o_,l,box2d.b2Vec2.s_t0))+this.m_sBx*i_-this.m_sAx*t_,ws=-this.m_springMass*(ws+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=ws;var _e=box2d.b2Mul_S_V2(ws,this.m_ax,box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P),l_=ws*this.m_sAx,ws=ws*this.m_sBx;l.SelfMulSub(x,_e),t_-=_o*l_,o_.SelfMulAdd(o,_e),i_+=_i*ws,ws=i_-t_-this.m_motorSpeed,ws*=-this.m_motorMass,_e=this.m_motorImpulse,l_=V.step.dt*this.m_maxMotorTorque,this.m_motorImpulse=box2d.b2Clamp(this.m_motorImpulse+ws,-l_,l_),ws=this.m_motorImpulse-_e,t_-=_o*ws,i_+=_i*ws,ws=box2d.b2Dot_V2_V2(this.m_ay,box2d.b2Sub_V2_V2(o_,l,box2d.b2Vec2.s_t0))+this.m_sBy*i_-this.m_sAy*t_,ws*=-this.m_mass,this.m_impulse+=ws,_e=box2d.b2Mul_S_V2(ws,this.m_ay,box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P),l_=ws*this.m_sAy,ws*=this.m_sBy,l.SelfMulSub(x,_e),t_-=_o*l_,o_.SelfMulAdd(o,_e),V.velocities[this.m_indexA].w=t_,V.velocities[this.m_indexB].w=i_+_i*ws};goog.exportProperty(box2d.b2WheelJoint.prototype,"SolveVelocityConstraints",box2d.b2WheelJoint.prototype.SolveVelocityConstraints);box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2;box2d.b2WheelJoint.prototype.SolvePositionConstraints=function(V){var x=V.positions[this.m_indexA].c,o=V.positions[this.m_indexA].a,_o=V.positions[this.m_indexB].c,_i=V.positions[this.m_indexB].a,o_=this.m_qA.SetAngle(o),_e=this.m_qB.SetAngle(_i);box2d.b2Sub_V2_V2(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var i_=box2d.b2Mul_R_V2(o_,this.m_lalcA,this.m_rA);box2d.b2Sub_V2_V2(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var _e=box2d.b2Mul_R_V2(_e,this.m_lalcB,this.m_rB),l=box2d.b2Add_V2_V2(box2d.b2Sub_V2_V2(_o,x,box2d.b2Vec2.s_t0),box2d.b2Sub_V2_V2(_e,i_,box2d.b2Vec2.s_t1),box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_d),o_=box2d.b2Mul_R_V2(o_,this.m_localYAxisA,this.m_ay),i_=box2d.b2Cross_V2_V2(box2d.b2Add_V2_V2(l,i_,box2d.b2Vec2.s_t0),o_),_e=box2d.b2Cross_V2_V2(_e,o_),l=box2d.b2Dot_V2_V2(l,this.m_ay),t_=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,t_=t_!==0?-l/t_:0,o_=box2d.b2Mul_S_V2(t_,o_,box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_P),i_=t_*i_,_e=t_*_e;return x.SelfMulSub(this.m_invMassA,o_),o-=this.m_invIA*i_,_o.SelfMulAdd(this.m_invMassB,o_),_i+=this.m_invIB*_e,V.positions[this.m_indexA].a=o,V.positions[this.m_indexB].a=_i,box2d.b2Abs(l)<=box2d.b2_linearSlop};goog.exportProperty(box2d.b2WheelJoint.prototype,"SolvePositionConstraints",box2d.b2WheelJoint.prototype.SolvePositionConstraints);box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_d=new box2d.b2Vec2;box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2;box2d.b2WheelJoint.prototype.GetDefinition=function(V){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),V};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetDefinition",box2d.b2WheelJoint.prototype.GetDefinition);box2d.b2WheelJoint.prototype.GetAnchorA=function(V){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,V)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetAnchorA",box2d.b2WheelJoint.prototype.GetAnchorA);box2d.b2WheelJoint.prototype.GetAnchorB=function(V){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,V)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetAnchorB",box2d.b2WheelJoint.prototype.GetAnchorB);box2d.b2WheelJoint.prototype.GetReactionForce=function(V,x){return x.x=V*(this.m_impulse*this.m_ay.x+this.m_springImpulse*this.m_ax.x),x.y=V*(this.m_impulse*this.m_ay.y+this.m_springImpulse*this.m_ax.y),x};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetReactionForce",box2d.b2WheelJoint.prototype.GetReactionForce);box2d.b2WheelJoint.prototype.GetReactionTorque=function(V){return V*this.m_motorImpulse};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetReactionTorque",box2d.b2WheelJoint.prototype.GetReactionTorque);box2d.b2WheelJoint.prototype.GetLocalAnchorA=function(V){return V.Copy(this.m_localAnchorA)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetLocalAnchorA",box2d.b2WheelJoint.prototype.GetLocalAnchorA);box2d.b2WheelJoint.prototype.GetLocalAnchorB=function(V){return V.Copy(this.m_localAnchorB)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetLocalAnchorB",box2d.b2WheelJoint.prototype.GetLocalAnchorB);box2d.b2WheelJoint.prototype.GetLocalAxisA=function(V){return V.Copy(this.m_localXAxisA)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetLocalAxisA",box2d.b2WheelJoint.prototype.GetLocalAxisA);box2d.b2WheelJoint.prototype.GetJointTranslation=function(){var o=this.m_bodyA,V=this.m_bodyB,x=o.GetWorldPoint(this.m_localAnchorA,new box2d.b2Vec2),V=V.GetWorldPoint(this.m_localAnchorB,new box2d.b2Vec2),x=box2d.b2Sub_V2_V2(V,x,new box2d.b2Vec2),o=o.GetWorldVector(this.m_localXAxisA,new box2d.b2Vec2);return box2d.b2Dot_V2_V2(x,o)};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetJointTranslation",box2d.b2WheelJoint.prototype.GetJointTranslation);box2d.b2WheelJoint.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetJointSpeed",box2d.b2WheelJoint.prototype.GetJointSpeed);box2d.b2WheelJoint.prototype.IsMotorEnabled=function(){return this.m_enableMotor};goog.exportProperty(box2d.b2WheelJoint.prototype,"IsMotorEnabled",box2d.b2WheelJoint.prototype.IsMotorEnabled);box2d.b2WheelJoint.prototype.EnableMotor=function(V){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=V};goog.exportProperty(box2d.b2WheelJoint.prototype,"EnableMotor",box2d.b2WheelJoint.prototype.EnableMotor);box2d.b2WheelJoint.prototype.SetMotorSpeed=function(V){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=V};goog.exportProperty(box2d.b2WheelJoint.prototype,"SetMotorSpeed",box2d.b2WheelJoint.prototype.SetMotorSpeed);box2d.b2WheelJoint.prototype.SetMaxMotorTorque=function(V){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=V};goog.exportProperty(box2d.b2WheelJoint.prototype,"SetMaxMotorTorque",box2d.b2WheelJoint.prototype.SetMaxMotorTorque);box2d.b2WheelJoint.prototype.GetMotorTorque=function(V){return V*this.m_motorImpulse};goog.exportProperty(box2d.b2WheelJoint.prototype,"GetMotorTorque",box2d.b2WheelJoint.prototype.GetMotorTorque);box2d.b2WheelJoint.prototype.Dump=function(){if(box2d.DEBUG){var V=this.m_bodyA.m_islandIndex,x=this.m_bodyB.m_islandIndex;box2d.b2Log(`  /*box2d.b2WheelJointDef*/ var jd = new box2d.b2WheelJointDef();
`),box2d.b2Log(`  jd.bodyA = bodies[%d];
`,V),box2d.b2Log(`  jd.bodyB = bodies[%d];
`,x),box2d.b2Log(`  jd.collideConnected = %s;
`,this.m_collideConnected?"true":"false"),box2d.b2Log(`  jd.localAnchorA.Set(%.15f, %.15f);
`,this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log(`  jd.localAnchorB.Set(%.15f, %.15f);
`,this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log(`  jd.localAxisA.Set(%.15f, %.15f);
`,this.m_localXAxisA.x,this.m_localXAxisA.y),box2d.b2Log(`  jd.enableMotor = %s;
`,this.m_enableMotor?"true":"false"),box2d.b2Log(`  jd.motorSpeed = %.15f;
`,this.m_motorSpeed),box2d.b2Log(`  jd.maxMotorTorque = %.15f;
`,this.m_maxMotorTorque),box2d.b2Log(`  jd.frequencyHz = %.15f;
`,this.m_frequencyHz),box2d.b2Log(`  jd.dampingRatio = %.15f;
`,this.m_dampingRatio),box2d.b2Log(`  joints[%d] = this.m_world.CreateJoint(jd);
`,this.m_index)}};goog.exportProperty(box2d.b2WheelJoint.prototype,"Dump",box2d.b2WheelJoint.prototype.Dump);box2d.b2Particle={};box2d.b2ParticleFlag={b2_waterParticle:0,b2_zombieParticle:2,b2_wallParticle:4,b2_springParticle:8,b2_elasticParticle:16,b2_viscousParticle:32,b2_powderParticle:64,b2_tensileParticle:128,b2_colorMixingParticle:256,b2_destructionListenerParticle:512,b2_barrierParticle:1024,b2_staticPressureParticle:2048,b2_reactiveParticle:4096,b2_repulsiveParticle:8192,b2_fixtureContactListenerParticle:16384,b2_particleContactListenerParticle:32768,b2_fixtureContactFilterParticle:65536,b2_particleContactFilterParticle:131072};goog.exportSymbol("box2d.b2ParticleFlag",box2d.b2ParticleFlag);goog.exportProperty(box2d.b2ParticleFlag,"b2_waterParticle",box2d.b2ParticleFlag.b2_waterParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_zombieParticle",box2d.b2ParticleFlag.b2_zombieParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_wallParticle",box2d.b2ParticleFlag.b2_wallParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_springParticle",box2d.b2ParticleFlag.b2_springParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_elasticParticle",box2d.b2ParticleFlag.b2_elasticParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_viscousParticle",box2d.b2ParticleFlag.b2_viscousParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_powderParticle",box2d.b2ParticleFlag.b2_powderParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_tensileParticle",box2d.b2ParticleFlag.b2_tensileParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_colorMixingParticle",box2d.b2ParticleFlag.b2_colorMixingParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_destructionListenerParticle",box2d.b2ParticleFlag.b2_destructionListenerParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_barrierParticle",box2d.b2ParticleFlag.b2_barrierParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_staticPressureParticle",box2d.b2ParticleFlag.b2_staticPressureParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_reactiveParticle",box2d.b2ParticleFlag.b2_reactiveParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_repulsiveParticle",box2d.b2ParticleFlag.b2_repulsiveParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_fixtureContactListenerParticle",box2d.b2ParticleFlag.b2_fixtureContactListenerParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_particleContactListenerParticle",box2d.b2ParticleFlag.b2_particleContactListenerParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_fixtureContactFilterParticle",box2d.b2ParticleFlag.b2_fixtureContactFilterParticle);goog.exportProperty(box2d.b2ParticleFlag,"b2_particleContactFilterParticle",box2d.b2ParticleFlag.b2_particleContactFilterParticle);box2d.b2ParticleColor=function(V,x,o,_o){if(arguments.length!==0)if(V instanceof box2d.b2Color)this.r=0|255*V.r,this.g=0|255*V.g,this.b=0|255*V.b,this.a=0|255*V.a;else if(3<=arguments.length)this.r=0|V||0,this.g=0|x||0,this.b=0|o||0,this.a=0|_o||0;else throw Error()};goog.exportSymbol("box2d.b2ParticleColor",box2d.b2ParticleColor);box2d.b2ParticleColor.prototype.r=0;goog.exportProperty(box2d.b2ParticleColor.prototype,"r",box2d.b2ParticleColor.prototype.r);box2d.b2ParticleColor.prototype.g=0;goog.exportProperty(box2d.b2ParticleColor.prototype,"g",box2d.b2ParticleColor.prototype.g);box2d.b2ParticleColor.prototype.b=0;goog.exportProperty(box2d.b2ParticleColor.prototype,"b",box2d.b2ParticleColor.prototype.b);box2d.b2ParticleColor.prototype.a=0;goog.exportProperty(box2d.b2ParticleColor.prototype,"a",box2d.b2ParticleColor.prototype.a);box2d.b2ParticleColor.prototype.IsZero=function(){return this.r===0&&this.g===0&&this.b===0&&this.a===0};goog.exportProperty(box2d.b2ParticleColor.prototype,"IsZero",box2d.b2ParticleColor.prototype.IsZero);box2d.b2ParticleColor.prototype.GetColor=function(V){return V.r=this.r/255,V.g=this.g/255,V.b=this.b/255,V.a=this.a/255,V};goog.exportProperty(box2d.b2ParticleColor.prototype,"GetColor",box2d.b2ParticleColor.prototype.GetColor);box2d.b2ParticleColor.prototype.Set=function(V,x,o,_o){if(V instanceof box2d.b2Color)this.SetColor(V);else if(3<=arguments.length)this.SetRGBA(V||0,x||0,o||0,_o);else throw Error()};goog.exportProperty(box2d.b2ParticleColor.prototype,"Set",box2d.b2ParticleColor.prototype.Set);box2d.b2ParticleColor.prototype.SetRGBA=function(V,x,o,_o){this.r=V,this.g=x,this.b=o,this.a=typeof _o=="number"?_o:255};goog.exportProperty(box2d.b2ParticleColor.prototype,"SetRGBA",box2d.b2ParticleColor.prototype.SetRGBA);box2d.b2ParticleColor.prototype.SetColor=function(V){this.r=255*V.r,this.g=255*V.g,this.b=255*V.b,this.a=255*V.a};goog.exportProperty(box2d.b2ParticleColor.prototype,"SetColor",box2d.b2ParticleColor.prototype.SetColor);box2d.b2ParticleColor.prototype.Copy=function(V){return this.r=V.r,this.g=V.g,this.b=V.b,this.a=V.a,this};goog.exportProperty(box2d.b2ParticleColor.prototype,"Copy",box2d.b2ParticleColor.prototype.Copy);box2d.b2ParticleColor.prototype.Clone=function(){return new box2d.b2ParticleColor(this.r,this.g,this.b,this.a)};box2d.b2ParticleColor.prototype.SelfMul_0_1=function(V){return this.r*=V,this.g*=V,this.b*=V,this.a*=V,this};goog.exportProperty(box2d.b2ParticleColor.prototype,"SelfMul_0_1",box2d.b2ParticleColor.prototype.SelfMul_0_1);box2d.b2ParticleColor.prototype.SelfMul_0_255=function(V){return V+=1,this.r=this.r*V>>box2d.b2ParticleColor.k_bitsPerComponent,this.g=this.g*V>>box2d.b2ParticleColor.k_bitsPerComponent,this.b=this.b*V>>box2d.b2ParticleColor.k_bitsPerComponent,this.a=this.a*V>>box2d.b2ParticleColor.k_bitsPerComponent,this};goog.exportProperty(box2d.b2ParticleColor.prototype,"SelfMul_0_255",box2d.b2ParticleColor.prototype.SelfMul_0_255);box2d.b2ParticleColor.prototype.Mul_0_1=function(V,x){return x.Copy(this).SelfMul_0_1(V)};goog.exportProperty(box2d.b2ParticleColor.prototype,"Mul_0_1",box2d.b2ParticleColor.prototype.Mul_0_1);box2d.b2ParticleColor.prototype.Mul_0_255=function(V,x){return x.Copy(this).SelfMul_0_255(V)};goog.exportProperty(box2d.b2ParticleColor.prototype,"Mul_0_255",box2d.b2ParticleColor.prototype.Mul_0_255);box2d.b2ParticleColor.prototype.SelfAdd=function(V){return this.r+=V.r,this.g+=V.g,this.b+=V.b,this.a+=V.a,this};goog.exportProperty(box2d.b2ParticleColor.prototype,"SelfAdd",box2d.b2ParticleColor.prototype.SelfAdd);box2d.b2ParticleColor.prototype.Add=function(V,x){return x.r=this.r+V.r,x.g=this.g+V.g,x.b=this.b+V.b,x.a=this.a+V.a,x};goog.exportProperty(box2d.b2ParticleColor.prototype,"Add",box2d.b2ParticleColor.prototype.Add);box2d.b2ParticleColor.prototype.SelfSub=function(V){return this.r-=V.r,this.g-=V.g,this.b-=V.b,this.a-=V.a,this};goog.exportProperty(box2d.b2ParticleColor.prototype,"SelfSub",box2d.b2ParticleColor.prototype.SelfSub);box2d.b2ParticleColor.prototype.Sub=function(V,x){return x.r=this.r-V.r,x.g=this.g-V.g,x.b=this.b-V.b,x.a=this.a-V.a,x};goog.exportProperty(box2d.b2ParticleColor.prototype,"Sub",box2d.b2ParticleColor.prototype.Sub);box2d.b2ParticleColor.prototype.IsEqual=function(V){return this.r===V.r&&this.g===V.g&&this.b===V.b&&this.a===V.a};goog.exportProperty(box2d.b2ParticleColor.prototype,"IsEqual",box2d.b2ParticleColor.prototype.IsEqual);box2d.b2ParticleColor.prototype.Mix=function(V,x){box2d.b2ParticleColor.MixColors(this,V,x)};goog.exportProperty(box2d.b2ParticleColor.prototype,"Mix",box2d.b2ParticleColor.prototype.Mix);box2d.b2ParticleColor.MixColors=function(V,x,o){var _o=o*(x.r-V.r)>>box2d.b2ParticleColor.k_bitsPerComponent,_i=o*(x.g-V.g)>>box2d.b2ParticleColor.k_bitsPerComponent,l=o*(x.b-V.b)>>box2d.b2ParticleColor.k_bitsPerComponent;o=o*(x.a-V.a)>>box2d.b2ParticleColor.k_bitsPerComponent,V.r+=_o,V.g+=_i,V.b+=l,V.a+=o,x.r-=_o,x.g-=_i,x.b-=l,x.a-=o};goog.exportProperty(box2d.b2ParticleColor,"MixColors",box2d.b2ParticleColor.MixColors);box2d.B2PARTICLECOLOR_BITS_PER_COMPONENT=8;box2d.B2PARTICLECOLOR_MAX_VALUE=(1<<box2d.B2PARTICLECOLOR_BITS_PER_COMPONENT)-1;box2d.b2ParticleColor.k_maxValue=+box2d.B2PARTICLECOLOR_MAX_VALUE;goog.exportProperty(box2d.b2ParticleColor,"k_maxValue",box2d.b2ParticleColor.k_maxValue);box2d.b2ParticleColor.k_inverseMaxValue=1/+box2d.B2PARTICLECOLOR_MAX_VALUE;goog.exportProperty(box2d.b2ParticleColor,"k_inverseMaxValue",box2d.b2ParticleColor.k_inverseMaxValue);box2d.b2ParticleColor.k_bitsPerComponent=box2d.B2PARTICLECOLOR_BITS_PER_COMPONENT;goog.exportProperty(box2d.b2ParticleColor,"k_bitsPerComponent",box2d.b2ParticleColor.k_bitsPerComponent);box2d.b2ParticleColor_zero=new box2d.b2ParticleColor;box2d.b2ParticleDef=function(){this.position=box2d.b2Vec2_zero.Clone(),this.velocity=box2d.b2Vec2_zero.Clone(),this.color=box2d.b2ParticleColor_zero.Clone()};goog.exportSymbol("box2d.b2ParticleDef",box2d.b2ParticleDef);box2d.b2ParticleDef.prototype.flags=0;goog.exportProperty(box2d.b2ParticleDef.prototype,"flags",box2d.b2ParticleDef.prototype.flags);box2d.b2ParticleDef.prototype.position=null;goog.exportProperty(box2d.b2ParticleDef.prototype,"position",box2d.b2ParticleDef.prototype.position);box2d.b2ParticleDef.prototype.velocity=null;goog.exportProperty(box2d.b2ParticleDef.prototype,"velocity",box2d.b2ParticleDef.prototype.velocity);box2d.b2ParticleDef.prototype.color=null;goog.exportProperty(box2d.b2ParticleDef.prototype,"color",box2d.b2ParticleDef.prototype.color);box2d.b2ParticleDef.prototype.lifetime=0;goog.exportProperty(box2d.b2ParticleDef.prototype,"lifetime",box2d.b2ParticleDef.prototype.lifetime);box2d.b2ParticleDef.prototype.userData=null;goog.exportProperty(box2d.b2ParticleDef.prototype,"userData",box2d.b2ParticleDef.prototype.userData);box2d.b2ParticleDef.prototype.group=null;goog.exportProperty(box2d.b2ParticleDef.prototype,"group",box2d.b2ParticleDef.prototype.group);box2d.b2CalculateParticleIterations=function(V,x,o){return V=Math.ceil(Math.sqrt(V/(.01*x))*o),box2d.b2Clamp(V,1,8)};goog.exportSymbol("box2d.b2CalculateParticleIterations",box2d.b2CalculateParticleIterations);box2d.b2ParticleHandle=function(){};goog.exportSymbol("box2d.b2ParticleHandle",box2d.b2ParticleHandle);box2d.b2ParticleHandle.prototype.m_index=box2d.b2_invalidParticleIndex;box2d.b2ParticleHandle.prototype.GetIndex=function(){return this.m_index};goog.exportProperty(box2d.b2ParticleHandle.prototype,"GetIndex",box2d.b2ParticleHandle.prototype.GetIndex);box2d.b2ParticleHandle.prototype.SetIndex=function(V){this.m_index=V};box2d.b2ParticleGroupFlag={b2_solidParticleGroup:1,b2_rigidParticleGroup:2,b2_particleGroupCanBeEmpty:4,b2_particleGroupWillBeDestroyed:8,b2_particleGroupNeedsUpdateDepth:16};goog.exportSymbol("box2d.b2ParticleGroupFlag",box2d.b2ParticleGroupFlag);goog.exportProperty(box2d.b2ParticleGroupFlag,"b2_solidParticleGroup",box2d.b2ParticleGroupFlag.b2_solidParticleGroup);goog.exportProperty(box2d.b2ParticleGroupFlag,"b2_rigidParticleGroup",box2d.b2ParticleGroupFlag.b2_rigidParticleGroup);goog.exportProperty(box2d.b2ParticleGroupFlag,"b2_particleGroupCanBeEmpty",box2d.b2ParticleGroupFlag.b2_particleGroupCanBeEmpty);goog.exportProperty(box2d.b2ParticleGroupFlag,"b2_particleGroupWillBeDestroyed",box2d.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed);goog.exportProperty(box2d.b2ParticleGroupFlag,"b2_particleGroupNeedsUpdateDepth",box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth);box2d.b2ParticleGroupFlag.b2_particleGroupInternalMask=box2d.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed|box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth;box2d.b2ParticleGroupDef=function(){this.position=box2d.b2Vec2_zero.Clone(),this.linearVelocity=box2d.b2Vec2_zero.Clone(),this.color=box2d.b2ParticleColor_zero.Clone()};goog.exportSymbol("box2d.b2ParticleGroupDef",box2d.b2ParticleGroupDef);box2d.b2ParticleGroupDef.prototype.flags=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"flags",box2d.b2ParticleGroupDef.prototype.flags);box2d.b2ParticleGroupDef.prototype.groupFlags=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"groupFlags",box2d.b2ParticleGroupDef.prototype.groupFlags);box2d.b2ParticleGroupDef.prototype.position=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"position",box2d.b2ParticleGroupDef.prototype.position);box2d.b2ParticleGroupDef.prototype.angle=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"angle",box2d.b2ParticleGroupDef.prototype.angle);box2d.b2ParticleGroupDef.prototype.linearVelocity=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"linearVelocity",box2d.b2ParticleGroupDef.prototype.linearVelocity);box2d.b2ParticleGroupDef.prototype.angularVelocity=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"angularVelocity",box2d.b2ParticleGroupDef.prototype.angularVelocity);box2d.b2ParticleGroupDef.prototype.color=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"color",box2d.b2ParticleGroupDef.prototype.color);box2d.b2ParticleGroupDef.prototype.strength=1;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"strength",box2d.b2ParticleGroupDef.prototype.strength);box2d.b2ParticleGroupDef.prototype.shape=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"shape",box2d.b2ParticleGroupDef.prototype.shape);box2d.b2ParticleGroupDef.prototype.shapes=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"shapes",box2d.b2ParticleGroupDef.prototype.shapes);box2d.b2ParticleGroupDef.prototype.shapeCount=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"shapeCount",box2d.b2ParticleGroupDef.prototype.shapeCount);box2d.b2ParticleGroupDef.prototype.stride=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"stride",box2d.b2ParticleGroupDef.prototype.stride);box2d.b2ParticleGroupDef.prototype.particleCount=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"particleCount",box2d.b2ParticleGroupDef.prototype.particleCount);box2d.b2ParticleGroupDef.prototype.positionData=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"positionData",box2d.b2ParticleGroupDef.prototype.positionData);box2d.b2ParticleGroupDef.prototype.lifetime=0;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"lifetime",box2d.b2ParticleGroupDef.prototype.lifetime);box2d.b2ParticleGroupDef.prototype.userData=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"userData",box2d.b2ParticleGroupDef.prototype.userData);box2d.b2ParticleGroupDef.prototype.group=null;goog.exportProperty(box2d.b2ParticleGroupDef.prototype,"group",box2d.b2ParticleGroupDef.prototype.group);box2d.b2ParticleGroup=function(){this.m_center=new box2d.b2Vec2,this.m_linearVelocity=new box2d.b2Vec2,this.m_transform=new box2d.b2Transform,this.m_transform.SetIdentity()};goog.exportSymbol("box2d.b2ParticleGroup",box2d.b2ParticleGroup);box2d.b2ParticleGroup.prototype.m_system=null;box2d.b2ParticleGroup.prototype.m_firstIndex=0;box2d.b2ParticleGroup.prototype.m_lastIndex=0;box2d.b2ParticleGroup.prototype.m_groupFlags=0;box2d.b2ParticleGroup.prototype.m_strength=1;box2d.b2ParticleGroup.prototype.m_prev=null;box2d.b2ParticleGroup.prototype.m_next=null;box2d.b2ParticleGroup.prototype.m_timestamp=-1;box2d.b2ParticleGroup.prototype.m_mass=0;box2d.b2ParticleGroup.prototype.m_inertia=0;box2d.b2ParticleGroup.prototype.m_center=null;box2d.b2ParticleGroup.prototype.m_linearVelocity=null;box2d.b2ParticleGroup.prototype.m_angularVelocity=0;box2d.b2ParticleGroup.prototype.m_transform=null;box2d.b2ParticleGroup.prototype.m_userData=null;box2d.b2ParticleGroup.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetNext",box2d.b2ParticleGroup.prototype.GetNext);box2d.b2ParticleGroup.prototype.GetParticleSystem=function(){return this.m_system};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetParticleSystem",box2d.b2ParticleGroup.prototype.GetParticleSystem);box2d.b2ParticleGroup.prototype.GetParticleCount=function(){return this.m_lastIndex-this.m_firstIndex};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetParticleCount",box2d.b2ParticleGroup.prototype.GetParticleCount);box2d.b2ParticleGroup.prototype.GetBufferIndex=function(){return this.m_firstIndex};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetBufferIndex",box2d.b2ParticleGroup.prototype.GetBufferIndex);box2d.b2ParticleGroup.prototype.ContainsParticle=function(V){return this.m_firstIndex<=V&&V<this.m_lastIndex};box2d.b2ParticleGroup.prototype.GetAllParticleFlags=function(){for(var V=0,x=this.m_firstIndex;x<this.m_lastIndex;x++)V|=this.m_system.m_flagsBuffer.data[x];return V};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetAllParticleFlags",box2d.b2ParticleGroup.prototype.GetAllParticleFlags);box2d.b2ParticleGroup.prototype.GetGroupFlags=function(){return this.m_groupFlags};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetGroupFlags",box2d.b2ParticleGroup.prototype.GetGroupFlags);box2d.b2ParticleGroup.prototype.SetGroupFlags=function(V){box2d.b2Assert((V&box2d.b2ParticleGroupFlag.b2_particleGroupInternalMask)===0),V|=this.m_groupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupInternalMask,this.m_system.SetGroupFlags(this,V)};goog.exportProperty(box2d.b2ParticleGroup.prototype,"SetGroupFlags",box2d.b2ParticleGroup.prototype.SetGroupFlags);box2d.b2ParticleGroup.prototype.GetMass=function(){return this.UpdateStatistics(),this.m_mass};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetMass",box2d.b2ParticleGroup.prototype.GetMass);box2d.b2ParticleGroup.prototype.GetInertia=function(){return this.UpdateStatistics(),this.m_inertia};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetInertia",box2d.b2ParticleGroup.prototype.GetInertia);box2d.b2ParticleGroup.prototype.GetCenter=function(){return this.UpdateStatistics(),this.m_center};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetCenter",box2d.b2ParticleGroup.prototype.GetCenter);box2d.b2ParticleGroup.prototype.GetLinearVelocity=function(){return this.UpdateStatistics(),this.m_linearVelocity};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetLinearVelocity",box2d.b2ParticleGroup.prototype.GetLinearVelocity);box2d.b2ParticleGroup.prototype.GetAngularVelocity=function(){return this.UpdateStatistics(),this.m_angularVelocity};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetAngularVelocity",box2d.b2ParticleGroup.prototype.GetAngularVelocity);box2d.b2ParticleGroup.prototype.GetTransform=function(){return this.m_transform};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetTransform",box2d.b2ParticleGroup.prototype.GetTransform);box2d.b2ParticleGroup.prototype.GetPosition=function(){return this.m_transform.p};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetPosition",box2d.b2ParticleGroup.prototype.GetPosition);box2d.b2ParticleGroup.prototype.GetAngle=function(){return this.m_transform.q.GetAngle()};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetAngle",box2d.b2ParticleGroup.prototype.GetAngle);box2d.b2ParticleGroup.prototype.GetLinearVelocityFromWorldPoint=function(V,x){var o=box2d.b2ParticleGroup.prototype.GetLinearVelocityFromWorldPoint.s_t0;return this.UpdateStatistics(),box2d.b2AddCross_V2_S_V2(this.m_linearVelocity,this.m_angularVelocity,box2d.b2Sub_V2_V2(V,this.m_center,o),x)};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetLinearVelocityFromWorldPoint",box2d.b2ParticleGroup.prototype.GetLinearVelocityFromWorldPoint);box2d.b2ParticleGroup.prototype.GetLinearVelocityFromWorldPoint.s_t0=new box2d.b2Vec2;box2d.b2ParticleGroup.prototype.GetUserData=function(){return this.m_userData};goog.exportProperty(box2d.b2ParticleGroup.prototype,"GetUserData",box2d.b2ParticleGroup.prototype.GetUserData);box2d.b2ParticleGroup.prototype.SetUserData=function(V){this.m_userData=V};goog.exportProperty(box2d.b2ParticleGroup.prototype,"SetUserData",box2d.b2ParticleGroup.prototype.SetUserData);box2d.b2ParticleGroup.prototype.ApplyForce=function(V){this.m_system.ApplyForce(this.m_firstIndex,this.m_lastIndex,V)};goog.exportProperty(box2d.b2ParticleGroup.prototype,"ApplyForce",box2d.b2ParticleGroup.prototype.ApplyForce);box2d.b2ParticleGroup.prototype.ApplyLinearImpulse=function(V){this.m_system.ApplyLinearImpulse(this.m_firstIndex,this.m_lastIndex,V)};goog.exportProperty(box2d.b2ParticleGroup.prototype,"ApplyLinearImpulse",box2d.b2ParticleGroup.prototype.ApplyLinearImpulse);box2d.b2ParticleGroup.prototype.DestroyParticles=function(V){if(box2d.b2Assert(this.m_system.m_world.IsLocked()===!1),!this.m_system.m_world.IsLocked())for(var x=this.m_firstIndex;x<this.m_lastIndex;x++)this.m_system.DestroyParticle(x,V)};goog.exportProperty(box2d.b2ParticleGroup.prototype,"DestroyParticles",box2d.b2ParticleGroup.prototype.DestroyParticles);box2d.b2ParticleGroup.prototype.UpdateStatistics=function(){var V=new box2d.b2Vec2,x=new box2d.b2Vec2;if(this.m_timestamp!=this.m_system.m_timestamp){var o=this.m_system.GetParticleMass();this.m_mass=o*(this.m_lastIndex-this.m_firstIndex),this.m_center.SetZero(),this.m_linearVelocity.SetZero();for(var _o=this.m_firstIndex;_o<this.m_lastIndex;_o++)this.m_center.SelfMulAdd(o,this.m_system.m_positionBuffer.data[_o]),this.m_linearVelocity.SelfMulAdd(o,this.m_system.m_velocityBuffer.data[_o]);for(0<this.m_mass&&(_o=1/this.m_mass,this.m_center.SelfMul(_o),this.m_linearVelocity.SelfMul(_o)),this.m_angularVelocity=this.m_inertia=0,_o=this.m_firstIndex;_o<this.m_lastIndex;_o++)box2d.b2Sub_V2_V2(this.m_system.m_positionBuffer.data[_o],this.m_center,V),box2d.b2Sub_V2_V2(this.m_system.m_velocityBuffer.data[_o],this.m_linearVelocity,x),this.m_inertia+=o*box2d.b2Dot_V2_V2(V,V),this.m_angularVelocity+=o*box2d.b2Cross_V2_V2(V,x);0<this.m_inertia&&(this.m_angularVelocity*=1/this.m_inertia),this.m_timestamp=this.m_system.m_timestamp}};goog.exportProperty(box2d.b2ParticleGroup.prototype,"UpdateStatistics",box2d.b2ParticleGroup.prototype.UpdateStatistics);box2d.std_iter_swap=function(V,x,o){var _o=V[x];V[x]=V[o],V[o]=_o};box2d.std_sort=function(V,x,o,_o){typeof x!="number"&&(x=0),typeof o!="number"&&(o=V.length-x),typeof _o!="function"&&(_o=function(i_,_e){return i_<_e});for(var _i=[],l=0;;){for(;x+1<o;o++){var t_=V[x+Math.floor(Math.random()*(o-x))];_i[l++]=o;for(var o_=x-1;;){for(;_o(V[++o_],t_););for(;_o(t_,V[--o]););if(o_>=o)break;box2d.std_iter_swap(V,o_,o)}}if(l===0)break;x=o,o=_i[--l]}return V};box2d.std_stable_sort=function(V,x,o,_o){return box2d.std_sort(V,x,o,_o)};box2d.std_remove_if=function(V,x,o){typeof o!="number"&&(o=V.length);for(var _o=0,_i=0;_i<o;++_i)x(V[_i])||(_i===_o?++_o:box2d.std_iter_swap(V,_o++,_i));return _o};box2d.std_lower_bound=function(V,x,o,_o,_i){for(typeof _i!="function"&&(_i=function(o_,i_){return o_<i_}),o-=x;0<o;){var l=Math.floor(o/2),t_=x+l;_i(V[t_],_o)?(x=++t_,o-=l+1):o=l}return x};box2d.std_upper_bound=function(V,x,o,_o,_i){for(typeof _i!="function"&&(_i=function(o_,i_){return o_<i_}),o-=x;0<o;){var l=Math.floor(o/2),t_=x+l;_i(_o,V[t_])?o=l:(x=++t_,o-=l+1)}return x};box2d.std_rotate=function(V,x,o,_o){for(var _i=o;x!==_i;)box2d.std_iter_swap(V,x++,_i++),_i===_o?_i=o:x===o&&(o=_i)};box2d.std_unique=function(V,x,o,_o){if(x===o)return o;for(var _i=x;++x!==o;)_o(V[_i],V[x])||box2d.std_iter_swap(V,++_i,x);return++_i};box2d.b2GrowableBuffer=function(V){this.data=[],this.capacity=this.count=0,this.allocator=V};box2d.b2GrowableBuffer.prototype.data=null;box2d.b2GrowableBuffer.prototype.count=0;box2d.b2GrowableBuffer.prototype.capacity=0;box2d.b2GrowableBuffer.prototype.allocator=function(){return null};box2d.b2GrowableBuffer.prototype.Append=function(){return this.count>=this.capacity&&this.Grow(),this.count++};box2d.b2GrowableBuffer.prototype.Reserve=function(V){if(!(this.capacity>=V)){box2d.b2Assert(this.capacity===this.data.length);for(var x=this.capacity;x<V;++x)this.data[x]=this.allocator();this.capacity=V}};box2d.b2GrowableBuffer.prototype.Grow=function(){var V=this.capacity?2*this.capacity:box2d.b2_minParticleSystemBufferCapacity;box2d.b2Assert(V>this.capacity),this.Reserve(V)};box2d.b2GrowableBuffer.prototype.Free=function(){this.data.length!==0&&(this.data=[],this.count=this.capacity=0)};box2d.b2GrowableBuffer.prototype.Shorten=function(V){box2d.b2Assert(!1)};box2d.b2GrowableBuffer.prototype.Data=function(){return this.data};box2d.b2GrowableBuffer.prototype.GetCount=function(){return this.count};box2d.b2GrowableBuffer.prototype.SetCount=function(V){box2d.b2Assert(0<=V&&V<=this.capacity),this.count=V};box2d.b2GrowableBuffer.prototype.GetCapacity=function(){return this.capacity};box2d.b2GrowableBuffer.prototype.RemoveIf=function(V){for(var x=0,o=0;o<this.count;++o)V(this.data[o])||x++;this.count=box2d.std_remove_if(this.data,V,this.count),box2d.b2Assert(x===this.count)};box2d.b2GrowableBuffer.prototype.Unique=function(V){this.count=box2d.std_unique(this.data,0,this.count,V)};box2d.b2FixtureParticleQueryCallback=function(V){this.m_system=V};goog.inherits(box2d.b2FixtureParticleQueryCallback,box2d.b2QueryCallback);box2d.b2FixtureParticleQueryCallback.prototype.m_system=null;box2d.b2FixtureParticleQueryCallback.prototype.ShouldQueryParticleSystem=function(V){return!1};box2d.b2FixtureParticleQueryCallback.prototype.ReportFixture=function(V){if(V.IsSensor())return!0;for(var x=V.GetShape().GetChildCount(),o=0;o<x;o++)for(var _o=V.GetAABB(o),_o=this.m_system.GetInsideBoundsEnumerator(_o),_i;0<=(_i=_o.GetNext());)this.ReportFixtureAndParticle(V,o,_i);return!0};goog.exportSymbol("box2d.b2FixtureParticleQueryCallback.prototype.ReportFixture",box2d.b2FixtureParticleQueryCallback.prototype.ReportFixture);box2d.b2FixtureParticleQueryCallback.prototype.ReportParticle=function(V,x){return!1};goog.exportSymbol("box2d.b2FixtureParticleQueryCallback.prototype.ReportParticle",box2d.b2FixtureParticleQueryCallback.prototype.ReportParticle);box2d.b2FixtureParticleQueryCallback.prototype.ReportFixtureAndParticle=function(V,x,o){box2d.b2Assert(!1)};goog.exportSymbol("box2d.b2FixtureParticleQueryCallback.prototype.ReportFixtureAndParticle",box2d.b2FixtureParticleQueryCallback.prototype.ReportFixtureAndParticle);box2d.b2ParticleContact=function(){this.normal=new box2d.b2Vec2};goog.exportSymbol("box2d.b2ParticleContact",box2d.b2ParticleContact);box2d.b2ParticleContact.prototype.indexA=0;goog.exportProperty(box2d.b2ParticleContact.prototype,"indexA",box2d.b2ParticleContact.prototype.indexA);box2d.b2ParticleContact.prototype.indexB=0;goog.exportProperty(box2d.b2ParticleContact.prototype,"indexB",box2d.b2ParticleContact.prototype.indexB);box2d.b2ParticleContact.prototype.weight=0;goog.exportProperty(box2d.b2ParticleContact.prototype,"weight",box2d.b2ParticleContact.prototype.weight);box2d.b2ParticleContact.prototype.normal=null;goog.exportProperty(box2d.b2ParticleContact.prototype,"normal",box2d.b2ParticleContact.prototype.normal);box2d.b2ParticleContact.prototype.flags=0;goog.exportProperty(box2d.b2ParticleContact.prototype,"flags",box2d.b2ParticleContact.prototype.flags);box2d.b2ParticleContact.prototype.SetIndices=function(V,x){box2d.b2Assert(V<=box2d.b2_maxParticleIndex&&x<=box2d.b2_maxParticleIndex),this.indexA=V,this.indexB=x};goog.exportProperty(box2d.b2ParticleContact.prototype,"SetIndices",box2d.b2ParticleContact.prototype.SetIndices);box2d.b2ParticleContact.prototype.SetWeight=function(V){this.weight=V};goog.exportProperty(box2d.b2ParticleContact.prototype,"SetWeight",box2d.b2ParticleContact.prototype.SetWeight);box2d.b2ParticleContact.prototype.SetNormal=function(V){this.normal.Copy(V)};goog.exportProperty(box2d.b2ParticleContact.prototype,"SetNormal",box2d.b2ParticleContact.prototype.SetNormal);box2d.b2ParticleContact.prototype.SetFlags=function(V){this.flags=V};goog.exportProperty(box2d.b2ParticleContact.prototype,"SetFlags",box2d.b2ParticleContact.prototype.SetFlags);box2d.b2ParticleContact.prototype.GetIndexA=function(){return this.indexA};goog.exportProperty(box2d.b2ParticleContact.prototype,"GetIndexA",box2d.b2ParticleContact.prototype.GetIndexA);box2d.b2ParticleContact.prototype.GetIndexB=function(){return this.indexB};goog.exportProperty(box2d.b2ParticleContact.prototype,"GetIndexB",box2d.b2ParticleContact.prototype.GetIndexB);box2d.b2ParticleContact.prototype.GetWeight=function(){return this.weight};goog.exportProperty(box2d.b2ParticleContact.prototype,"GetWeight",box2d.b2ParticleContact.prototype.GetWeight);box2d.b2ParticleContact.prototype.GetNormal=function(){return this.normal};goog.exportProperty(box2d.b2ParticleContact.prototype,"GetNormal",box2d.b2ParticleContact.prototype.GetNormal);box2d.b2ParticleContact.prototype.GetFlags=function(){return this.flags};goog.exportProperty(box2d.b2ParticleContact.prototype,"GetFlags",box2d.b2ParticleContact.prototype.GetFlags);box2d.b2ParticleContact.prototype.IsEqual=function(V){return this.indexA===V.indexA&&this.indexB===V.indexB&&this.flags===V.flags&&this.weight===V.weight&&this.normal.x===V.normal.x&&this.normal.y===V.normal.y};goog.exportProperty(box2d.b2ParticleContact.prototype,"IsEqual",box2d.b2ParticleContact.prototype.IsEqual);box2d.b2ParticleContact.prototype.IsNotEqual=function(V){return!this.IsEqual(V)};goog.exportProperty(box2d.b2ParticleContact.prototype,"IsNotEqual",box2d.b2ParticleContact.prototype.IsNotEqual);box2d.b2ParticleContact.prototype.ApproximatelyEqual=function(V){return this.indexA===V.indexA&&this.indexB===V.indexB&&this.flags===V.flags&&.01>box2d.b2Abs(this.weight-V.weight)&&1e-4>box2d.b2DistanceSquared(this.normal,V.normal)};goog.exportProperty(box2d.b2ParticleContact.prototype,"ApproximatelyEqual",box2d.b2ParticleContact.prototype.ApproximatelyEqual);box2d.b2ParticleBodyContact=function(){this.normal=new box2d.b2Vec2};goog.exportSymbol("box2d.b2ParticleBodyContact",box2d.b2ParticleBodyContact);box2d.b2ParticleBodyContact.prototype.index=0;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"index",box2d.b2ParticleBodyContact.prototype.index);box2d.b2ParticleBodyContact.prototype.body=null;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"body",box2d.b2ParticleBodyContact.prototype.body);box2d.b2ParticleBodyContact.prototype.fixture=null;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"fixture",box2d.b2ParticleBodyContact.prototype.fixture);box2d.b2ParticleBodyContact.prototype.weight=0;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"weight",box2d.b2ParticleBodyContact.prototype.weight);box2d.b2ParticleBodyContact.prototype.normal=null;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"normal",box2d.b2ParticleBodyContact.prototype.normal);box2d.b2ParticleBodyContact.prototype.mass=0;goog.exportProperty(box2d.b2ParticleBodyContact.prototype,"mass",box2d.b2ParticleBodyContact.prototype.mass);box2d.b2ParticlePair=function(){};goog.exportSymbol("box2d.b2ParticlePair",box2d.b2ParticlePair);box2d.b2ParticlePair.prototype.indexA=0;goog.exportProperty(box2d.b2ParticlePair.prototype,"indexA",box2d.b2ParticlePair.prototype.indexA);box2d.b2ParticlePair.prototype.indexB=0;goog.exportProperty(box2d.b2ParticlePair.prototype,"indexB",box2d.b2ParticlePair.prototype.indexB);box2d.b2ParticlePair.prototype.flags=0;goog.exportProperty(box2d.b2ParticlePair.prototype,"flags",box2d.b2ParticlePair.prototype.flags);box2d.b2ParticlePair.prototype.strength=0;goog.exportProperty(box2d.b2ParticlePair.prototype,"strength",box2d.b2ParticlePair.prototype.strength);box2d.b2ParticlePair.prototype.distance=0;goog.exportProperty(box2d.b2ParticlePair.prototype,"distance",box2d.b2ParticlePair.prototype.distance);box2d.b2ParticleTriad=function(){this.pa=new box2d.b2Vec2(0,0),this.pb=new box2d.b2Vec2(0,0),this.pc=new box2d.b2Vec2(0,0)};goog.exportSymbol("box2d.b2ParticleTriad",box2d.b2ParticleTriad);box2d.b2ParticleTriad.prototype.indexA=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"indexA",box2d.b2ParticleTriad.prototype.indexA);box2d.b2ParticleTriad.prototype.indexB=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"indexB",box2d.b2ParticleTriad.prototype.indexB);box2d.b2ParticleTriad.prototype.indexC=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"indexC",box2d.b2ParticleTriad.prototype.indexC);box2d.b2ParticleTriad.prototype.flags=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"flags",box2d.b2ParticleTriad.prototype.flags);box2d.b2ParticleTriad.prototype.strength=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"strength",box2d.b2ParticleTriad.prototype.strength);box2d.b2ParticleTriad.prototype.pa=null;goog.exportProperty(box2d.b2ParticleTriad.prototype,"pa",box2d.b2ParticleTriad.prototype.pa);box2d.b2ParticleTriad.prototype.pb=null;goog.exportProperty(box2d.b2ParticleTriad.prototype,"pb",box2d.b2ParticleTriad.prototype.pb);box2d.b2ParticleTriad.prototype.pc=null;goog.exportProperty(box2d.b2ParticleTriad.prototype,"pc",box2d.b2ParticleTriad.prototype.pc);box2d.b2ParticleTriad.prototype.ka=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"ka",box2d.b2ParticleTriad.prototype.ka);box2d.b2ParticleTriad.prototype.kb=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"kb",box2d.b2ParticleTriad.prototype.kb);box2d.b2ParticleTriad.prototype.kc=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"kc",box2d.b2ParticleTriad.prototype.kc);box2d.b2ParticleTriad.prototype.s=0;goog.exportProperty(box2d.b2ParticleTriad.prototype,"s",box2d.b2ParticleTriad.prototype.s);box2d.b2ParticleSystemDef=function(){};goog.exportSymbol("box2d.b2ParticleSystemDef",box2d.b2ParticleSystemDef);box2d.b2ParticleSystemDef.prototype.strictContactCheck=!1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"strictContactCheck",box2d.b2ParticleSystemDef.prototype.strictContactCheck);box2d.b2ParticleSystemDef.prototype.density=1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"density",box2d.b2ParticleSystemDef.prototype.density);box2d.b2ParticleSystemDef.prototype.gravityScale=1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"gravityScale",box2d.b2ParticleSystemDef.prototype.gravityScale);box2d.b2ParticleSystemDef.prototype.radius=1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"radius",box2d.b2ParticleSystemDef.prototype.radius);box2d.b2ParticleSystemDef.prototype.maxCount=0;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"maxCount",box2d.b2ParticleSystemDef.prototype.maxCount);box2d.b2ParticleSystemDef.prototype.pressureStrength=.005;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"pressureStrength",box2d.b2ParticleSystemDef.prototype.pressureStrength);box2d.b2ParticleSystemDef.prototype.dampingStrength=1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"dampingStrength",box2d.b2ParticleSystemDef.prototype.dampingStrength);box2d.b2ParticleSystemDef.prototype.elasticStrength=.25;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"elasticStrength",box2d.b2ParticleSystemDef.prototype.elasticStrength);box2d.b2ParticleSystemDef.prototype.springStrength=.25;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"springStrength",box2d.b2ParticleSystemDef.prototype.springStrength);box2d.b2ParticleSystemDef.prototype.viscousStrength=.25;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"viscousStrength",box2d.b2ParticleSystemDef.prototype.viscousStrength);box2d.b2ParticleSystemDef.prototype.surfaceTensionPressureStrength=.2;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"surfaceTensionPressureStrength",box2d.b2ParticleSystemDef.prototype.surfaceTensionPressureStrength);box2d.b2ParticleSystemDef.prototype.surfaceTensionNormalStrength=.2;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"surfaceTensionNormalStrength",box2d.b2ParticleSystemDef.prototype.surfaceTensionNormalStrength);box2d.b2ParticleSystemDef.prototype.repulsiveStrength=1;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"repulsiveStrength",box2d.b2ParticleSystemDef.prototype.repulsiveStrength);box2d.b2ParticleSystemDef.prototype.powderStrength=.5;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"powderStrength",box2d.b2ParticleSystemDef.prototype.powderStrength);box2d.b2ParticleSystemDef.prototype.ejectionStrength=.5;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"ejectionStrength",box2d.b2ParticleSystemDef.prototype.ejectionStrength);box2d.b2ParticleSystemDef.prototype.staticPressureStrength=.2;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"staticPressureStrength",box2d.b2ParticleSystemDef.prototype.staticPressureStrength);box2d.b2ParticleSystemDef.prototype.staticPressureRelaxation=.2;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"staticPressureRelaxation",box2d.b2ParticleSystemDef.prototype.staticPressureRelaxation);box2d.b2ParticleSystemDef.prototype.staticPressureIterations=8;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"staticPressureIterations",box2d.b2ParticleSystemDef.prototype.staticPressureIterations);box2d.b2ParticleSystemDef.prototype.colorMixingStrength=.5;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"colorMixingStrength",box2d.b2ParticleSystemDef.prototype.colorMixingStrength);box2d.b2ParticleSystemDef.prototype.destroyByAge=!0;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"destroyByAge",box2d.b2ParticleSystemDef.prototype.destroyByAge);box2d.b2ParticleSystemDef.prototype.lifetimeGranularity=1/60;goog.exportProperty(box2d.b2ParticleSystemDef.prototype,"lifetimeGranularity",box2d.b2ParticleSystemDef.prototype.lifetimeGranularity);box2d.b2ParticleSystemDef.prototype.Copy=function(V){return this.strictContactCheck=V.strictContactCheck,this.density=V.density,this.gravityScale=V.gravityScale,this.radius=V.radius,this.maxCount=V.maxCount,this.pressureStrength=V.pressureStrength,this.dampingStrength=V.dampingStrength,this.elasticStrength=V.elasticStrength,this.springStrength=V.springStrength,this.viscousStrength=V.viscousStrength,this.surfaceTensionPressureStrength=V.surfaceTensionPressureStrength,this.surfaceTensionNormalStrength=V.surfaceTensionNormalStrength,this.repulsiveStrength=V.repulsiveStrength,this.powderStrength=V.powderStrength,this.ejectionStrength=V.ejectionStrength,this.staticPressureStrength=V.staticPressureStrength,this.staticPressureRelaxation=V.staticPressureRelaxation,this.staticPressureIterations=V.staticPressureIterations,this.colorMixingStrength=V.colorMixingStrength,this.destroyByAge=V.destroyByAge,this.lifetimeGranularity=V.lifetimeGranularity,this};box2d.b2ParticleSystemDef.prototype.Clone=function(){return new box2d.b2ParticleSystemDef().Copy(this)};box2d.b2ParticleSystem=function(V,x){this._ctor_(V,x)};goog.exportSymbol("box2d.b2ParticleSystem",box2d.b2ParticleSystem);box2d.b2ParticleSystem.prototype.m_paused=!1;box2d.b2ParticleSystem.prototype.m_timestamp=0;box2d.b2ParticleSystem.prototype.m_allParticleFlags=0;box2d.b2ParticleSystem.prototype.m_needsUpdateAllParticleFlags=!1;box2d.b2ParticleSystem.prototype.m_allGroupFlags=0;box2d.b2ParticleSystem.prototype.m_needsUpdateAllGroupFlags=!1;box2d.b2ParticleSystem.prototype.m_hasForce=!1;box2d.b2ParticleSystem.prototype.m_iterationIndex=0;box2d.b2ParticleSystem.prototype.m_inverseDensity=0;box2d.b2ParticleSystem.prototype.m_particleDiameter=0;box2d.b2ParticleSystem.prototype.m_inverseDiameter=0;box2d.b2ParticleSystem.prototype.m_squaredDiameter=0;box2d.b2ParticleSystem.prototype.m_count=0;box2d.b2ParticleSystem.prototype.m_internalAllocatedCapacity=0;box2d.b2ParticleSystem.prototype.m_handleAllocator=null;box2d.b2ParticleSystem.prototype.m_handleIndexBuffer=null;box2d.b2ParticleSystem.prototype.m_flagsBuffer=null;box2d.b2ParticleSystem.prototype.m_positionBuffer=null;box2d.b2ParticleSystem.prototype.m_velocityBuffer=null;box2d.b2ParticleSystem.prototype.m_forceBuffer=null;box2d.b2ParticleSystem.prototype.m_weightBuffer=null;box2d.b2ParticleSystem.prototype.m_staticPressureBuffer=null;box2d.b2ParticleSystem.prototype.m_accumulationBuffer=null;box2d.b2ParticleSystem.prototype.m_accumulation2Buffer=null;box2d.b2ParticleSystem.prototype.m_depthBuffer=null;box2d.b2ParticleSystem.prototype.m_colorBuffer=null;box2d.b2ParticleSystem.prototype.m_groupBuffer=null;box2d.b2ParticleSystem.prototype.m_userDataBuffer=null;box2d.b2ParticleSystem.prototype.m_stuckThreshold=0;box2d.b2ParticleSystem.prototype.m_lastBodyContactStepBuffer=null;box2d.b2ParticleSystem.prototype.m_bodyContactCountBuffer=null;box2d.b2ParticleSystem.prototype.m_consecutiveContactStepsBuffer=null;box2d.b2ParticleSystem.prototype.m_stuckParticleBuffer=null;box2d.b2ParticleSystem.prototype.m_proxyBuffer=null;box2d.b2ParticleSystem.prototype.m_contactBuffer=null;box2d.b2ParticleSystem.prototype.m_bodyContactBuffer=null;box2d.b2ParticleSystem.prototype.m_pairBuffer=null;box2d.b2ParticleSystem.prototype.m_triadBuffer=null;box2d.b2ParticleSystem.prototype.m_expirationTimeBuffer=null;box2d.b2ParticleSystem.prototype.m_indexByExpirationTimeBuffer=null;box2d.b2ParticleSystem.prototype.m_timeElapsed=0;box2d.b2ParticleSystem.prototype.m_expirationTimeBufferRequiresSorting=!1;box2d.b2ParticleSystem.prototype.m_groupCount=0;box2d.b2ParticleSystem.prototype.m_groupList=null;box2d.b2ParticleSystem.prototype.m_def=null;box2d.b2ParticleSystem.prototype.m_world=null;box2d.b2ParticleSystem.prototype.m_prev=null;box2d.b2ParticleSystem.prototype.m_next=null;box2d.b2ParticleSystem.xTruncBits=12;box2d.b2ParticleSystem.yTruncBits=12;box2d.b2ParticleSystem.tagBits=32;box2d.b2ParticleSystem.yOffset=1<<box2d.b2ParticleSystem.yTruncBits-1;box2d.b2ParticleSystem.yShift=box2d.b2ParticleSystem.tagBits-box2d.b2ParticleSystem.yTruncBits;box2d.b2ParticleSystem.xShift=box2d.b2ParticleSystem.tagBits-box2d.b2ParticleSystem.yTruncBits-box2d.b2ParticleSystem.xTruncBits;box2d.b2ParticleSystem.xScale=1<<box2d.b2ParticleSystem.xShift;box2d.b2ParticleSystem.xOffset=box2d.b2ParticleSystem.xScale*(1<<box2d.b2ParticleSystem.xTruncBits-1);box2d.b2ParticleSystem.yMask=(1<<box2d.b2ParticleSystem.yTruncBits)-1<<box2d.b2ParticleSystem.yShift;box2d.b2ParticleSystem.xMask=~box2d.b2ParticleSystem.yMask;box2d.b2ParticleSystem.computeTag=function(V,x){return(x+box2d.b2ParticleSystem.yOffset>>>0<<box2d.b2ParticleSystem.yShift)+(box2d.b2ParticleSystem.xScale*V+box2d.b2ParticleSystem.xOffset>>>0)>>>0};box2d.b2ParticleSystem.computeRelativeTag=function(V,x,o){return V+(o<<box2d.b2ParticleSystem.yShift)+(x<<box2d.b2ParticleSystem.xShift)>>>0};box2d.b2ParticleSystem.FixedSetAllocator=function(){};box2d.b2ParticleSystem.FixedSetAllocator.prototype.Invalidate=function(V){};box2d.b2ParticleSystem.FixtureParticle=function(V,x){this.first=V,this.second=x};box2d.b2ParticleSystem.FixtureParticle.prototype.first=null;box2d.b2ParticleSystem.FixtureParticle.prototype.second=box2d.b2_invalidParticleIndex;box2d.b2ParticleSystem.FixtureParticleSet=function(){};goog.inherits(box2d.b2ParticleSystem.FixtureParticleSet,box2d.b2ParticleSystem.FixedSetAllocator);box2d.b2ParticleSystem.FixtureParticleSet.prototype.Initialize=function(V,x){};box2d.b2ParticleSystem.FixtureParticleSet.prototype.Find=function(V){};box2d.b2ParticleSystem.ParticlePair=function(V,x){};box2d.b2ParticleSystem.ParticlePair.prototype.first=box2d.b2_invalidParticleIndex;box2d.b2ParticleSystem.ParticlePair.prototype.second=box2d.b2_invalidParticleIndex;box2d.b2ParticleSystem.b2ParticlePairSet=function(){};goog.inherits(box2d.b2ParticleSystem.b2ParticlePairSet,box2d.b2ParticleSystem.FixedSetAllocator);box2d.b2ParticleSystem.b2ParticlePairSet.prototype.Initialize=function(V,x){};box2d.b2ParticleSystem.b2ParticlePairSet.prototype.Find=function(V){};box2d.b2ParticleSystem.ConnectionFilter=function(){};box2d.b2ParticleSystem.ConnectionFilter.prototype.IsNecessary=function(V){return!0};box2d.b2ParticleSystem.ConnectionFilter.prototype.ShouldCreatePair=function(V,x){return!0};box2d.b2ParticleSystem.ConnectionFilter.prototype.ShouldCreateTriad=function(V,x,o){return!0};box2d.b2ParticleSystem.prototype._ctor_=function(V,x){this.m_handleIndexBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_flagsBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_positionBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_velocityBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_forceBuffer=[],this.m_weightBuffer=[],this.m_staticPressureBuffer=[],this.m_accumulationBuffer=[],this.m_accumulation2Buffer=[],this.m_depthBuffer=[],this.m_colorBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_groupBuffer=[],this.m_userDataBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_lastBodyContactStepBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_bodyContactCountBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_consecutiveContactStepsBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_stuckParticleBuffer=new box2d.b2GrowableBuffer(function(){return 0}),this.m_proxyBuffer=new box2d.b2GrowableBuffer(function(){return new box2d.b2ParticleSystem.Proxy}),this.m_contactBuffer=new box2d.b2GrowableBuffer(function(){return new box2d.b2ParticleContact}),this.m_bodyContactBuffer=new box2d.b2GrowableBuffer(function(){return new box2d.b2ParticleBodyContact}),this.m_pairBuffer=new box2d.b2GrowableBuffer(function(){return new box2d.b2ParticlePair}),this.m_triadBuffer=new box2d.b2GrowableBuffer(function(){return new box2d.b2ParticleTriad}),this.m_expirationTimeBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_indexByExpirationTimeBuffer=new box2d.b2ParticleSystem.UserOverridableBuffer,this.m_def=new box2d.b2ParticleSystemDef,box2d.b2Assert(V!==null),this.SetStrictContactCheck(V.strictContactCheck),this.SetDensity(V.density),this.SetGravityScale(V.gravityScale),this.SetRadius(V.radius),this.SetMaxParticleCount(V.maxCount),box2d.b2Assert(0<V.lifetimeGranularity),this.m_def=V.Clone(),this.m_world=x,this.SetDestructionByAge(this.m_def.destroyByAge)};box2d.b2ParticleSystem.prototype._dtor_=function(){for(;this.m_groupList;)this.DestroyParticleGroup(this.m_groupList);this.FreeUserOverridableBuffer(this.m_handleIndexBuffer),this.FreeUserOverridableBuffer(this.m_flagsBuffer),this.FreeUserOverridableBuffer(this.m_lastBodyContactStepBuffer),this.FreeUserOverridableBuffer(this.m_bodyContactCountBuffer),this.FreeUserOverridableBuffer(this.m_consecutiveContactStepsBuffer),this.FreeUserOverridableBuffer(this.m_positionBuffer),this.FreeUserOverridableBuffer(this.m_velocityBuffer),this.FreeUserOverridableBuffer(this.m_colorBuffer),this.FreeUserOverridableBuffer(this.m_userDataBuffer),this.FreeUserOverridableBuffer(this.m_expirationTimeBuffer),this.FreeUserOverridableBuffer(this.m_indexByExpirationTimeBuffer),this.FreeBuffer(this.m_forceBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_weightBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_staticPressureBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulationBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulation2Buffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_depthBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_groupBuffer,this.m_internalAllocatedCapacity)};box2d.b2ParticleSystem.prototype.Drop=function(){this._dtor_()};box2d.b2ParticleSystem.prototype.CreateParticle=function(V){if(box2d.b2Assert(this.m_world.IsLocked()===!1),this.m_world.IsLocked())return 0;if(this.m_count>=this.m_internalAllocatedCapacity&&this.ReallocateInternalAllocatedBuffers(this.m_count?2*this.m_count:box2d.b2_minParticleSystemBufferCapacity),this.m_count>=this.m_internalAllocatedCapacity)if(this.m_def.destroyByAge)this.DestroyOldestParticle(0,!1),this.SolveZombie();else return box2d.b2_invalidParticleIndex;var x=this.m_count++;this.m_flagsBuffer.data[x]=0,this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[x]=0),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[x]=0),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[x]=0),this.m_positionBuffer.data[x]=V.position.Clone(),this.m_velocityBuffer.data[x]=V.velocity.Clone(),this.m_weightBuffer[x]=0,this.m_forceBuffer[x]=box2d.b2Vec2_zero.Clone(),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[x]=0),this.m_depthBuffer&&(this.m_depthBuffer[x]=0),(this.m_colorBuffer.data||!V.color.IsZero())&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data[x]=V.color.Clone()),(this.m_userDataBuffer.data||V.userData)&&(this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data[x]=V.userData),this.m_handleIndexBuffer.data&&(this.m_handleIndexBuffer.data[x]=null);var o=this.m_proxyBuffer.data[this.m_proxyBuffer.Append()],_o=0<V.lifetime;return(this.m_expirationTimeBuffer.data||_o)&&(this.SetParticleLifetime(x,_o?V.lifetime:this.ExpirationTimeToLifetime(-this.GetQuantizedTimeElapsed())),this.m_indexByExpirationTimeBuffer.data[x]=x),o.index=x,o=V.group,(this.m_groupBuffer[x]=o)&&(o.m_firstIndex<o.m_lastIndex?(this.RotateBuffer(o.m_firstIndex,o.m_lastIndex,x),box2d.b2Assert(o.m_lastIndex===x)):o.m_firstIndex=x,o.m_lastIndex=x+1),this.SetParticleFlags(x,V.flags),x};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticle",box2d.b2ParticleSystem.prototype.CreateParticle);box2d.b2ParticleSystem.prototype.GetParticleHandleFromIndex=function(V){box2d.b2Assert(0<=V&&V<this.GetParticleCount()&&V!==box2d.b2_invalidParticleIndex),this.m_handleIndexBuffer.data=this.RequestBuffer(this.m_handleIndexBuffer.data);var x=this.m_handleIndexBuffer.data[V];return x||(x=new box2d.b2ParticleHandle,box2d.b2Assert(x!==null),x.SetIndex(V),this.m_handleIndexBuffer.data[V]=x)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleHandleFromIndex",box2d.b2ParticleSystem.prototype.GetParticleHandleFromIndex);box2d.b2ParticleSystem.prototype.DestroyParticle=function(V,x){var o=box2d.b2ParticleFlag.b2_zombieParticle;x&&(o|=box2d.b2ParticleFlag.b2_destructionListenerParticle),this.SetParticleFlags(V,this.m_flagsBuffer.data[V]|o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"DestroyParticle",box2d.b2ParticleSystem.prototype.DestroyParticle);box2d.b2ParticleSystem.prototype.DestroyOldestParticle=function(V,x){var o=this.GetParticleCount();box2d.b2Assert(0<=V&&V<o),box2d.b2Assert(this.m_indexByExpirationTimeBuffer.data!==null);var o=this.m_indexByExpirationTimeBuffer.data[o-(V+1)],_o=this.m_indexByExpirationTimeBuffer.data[V];this.DestroyParticle(0<this.m_expirationTimeBuffer.data[o]?o:_o,x)};box2d.b2ParticleSystem.DestroyParticlesInShapeCallback=function(V,x,o,_o){this.m_system=V,this.m_shape=x,this.m_xf=o,this.m_callDestructionListener=_o,this.m_destroyed=0};goog.inherits(box2d.b2ParticleSystem.DestroyParticlesInShapeCallback,box2d.b2QueryCallback);box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.m_system=null;box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.m_shape=null;box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.m_xf=null;box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.m_callDestructionListener=!1;box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.m_destroyed=0;box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.ReportFixture=function(V){return!1};box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.ReportParticle=function(V,x){return V!==this.m_system?!1:(box2d.b2Assert(0<=x&&x<this.m_system.m_count),this.m_shape.TestPoint(this.m_xf,this.m_system.m_positionBuffer.data[x])&&(this.m_system.DestroyParticle(x,this.m_callDestructionListener),this.m_destroyed++),!0)};box2d.b2ParticleSystem.DestroyParticlesInShapeCallback.prototype.Destroyed=function(){return this.m_destroyed};box2d.b2ParticleSystem.prototype.DestroyParticlesInShape=function(V,x,o){var _o=box2d.b2ParticleSystem.prototype.DestroyParticlesInShape.s_aabb;return box2d.b2Assert(this.m_world.IsLocked()===!1),this.m_world.IsLocked()?0:(o=new box2d.b2ParticleSystem.DestroyParticlesInShapeCallback(this,V,x,o),V.ComputeAABB(_o,x,0),this.m_world.QueryAABB(o,_o),o.Destroyed())};goog.exportProperty(box2d.b2ParticleSystem.prototype,"DestroyParticlesInShape",box2d.b2ParticleSystem.prototype.DestroyParticlesInShape);box2d.b2ParticleSystem.prototype.DestroyParticlesInShape.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.CreateParticleGroup=function(V){var x=box2d.b2ParticleSystem.prototype.CreateParticleGroup.s_transform;if(box2d.b2Assert(this.m_world.IsLocked()===!1),this.m_world.IsLocked())return null;x.Set(V.position,V.angle);var o=this.m_count;if(V.shape&&this.CreateParticlesWithShapeForGroup(V.shape,V,x),V.shapes&&this.CreateParticlesWithShapesForGroup(V.shapes,V.shapeCount,V,x),V.particleCount){box2d.b2Assert(V.positionData!==null);for(var _o=0;_o<V.particleCount;_o++)this.CreateParticleForGroup(V,x,V.positionData[_o])}var _i=this.m_count,l=new box2d.b2ParticleGroup;for(l.m_system=this,l.m_firstIndex=o,l.m_lastIndex=_i,l.m_strength=V.strength,l.m_userData=V.userData,l.m_transform.Copy(x),l.m_prev=null,(l.m_next=this.m_groupList)&&(this.m_groupList.m_prev=l),this.m_groupList=l,++this.m_groupCount,_o=o;_o<_i;_o++)this.m_groupBuffer[_o]=l;return this.SetGroupFlags(l,V.groupFlags),x=new box2d.b2ParticleSystem.ConnectionFilter,this.UpdateContacts(!0),this.UpdatePairsAndTriads(o,_i,x),V.group&&(this.JoinParticleGroups(V.group,l),l=V.group),l};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticleGroup",box2d.b2ParticleSystem.prototype.CreateParticleGroup);box2d.b2ParticleSystem.prototype.CreateParticleGroup.s_transform=new box2d.b2Transform;box2d.b2ParticleSystem.JoinParticleGroupsFilter=function(V){this.m_threshold=V};goog.inherits(box2d.b2ParticleSystem.JoinParticleGroupsFilter,box2d.b2ParticleSystem.ConnectionFilter);box2d.b2ParticleSystem.JoinParticleGroupsFilter.prototype.m_threshold=0;box2d.b2ParticleSystem.JoinParticleGroupsFilter.prototype.ShouldCreatePair=function(V,x){return V<this.m_threshold&&this.m_threshold<=x||x<this.m_threshold&&this.m_threshold<=V};box2d.b2ParticleSystem.JoinParticleGroupsFilter.prototype.ShouldCreateTriad=function(V,x,o){return(V<this.m_threshold||x<this.m_threshold||o<this.m_threshold)&&(this.m_threshold<=V||this.m_threshold<=x||this.m_threshold<=o)};box2d.b2ParticleSystem.prototype.JoinParticleGroups=function(V,x){if(box2d.b2Assert(this.m_world.IsLocked()===!1),!this.m_world.IsLocked()){box2d.b2Assert(V!==x),this.RotateBuffer(x.m_firstIndex,x.m_lastIndex,this.m_count),box2d.b2Assert(x.m_lastIndex===this.m_count),this.RotateBuffer(V.m_firstIndex,V.m_lastIndex,x.m_firstIndex),box2d.b2Assert(V.m_lastIndex===x.m_firstIndex);var o=new box2d.b2ParticleSystem.JoinParticleGroupsFilter(x.m_firstIndex);for(this.UpdateContacts(!0),this.UpdatePairsAndTriads(V.m_firstIndex,x.m_lastIndex,o),o=x.m_firstIndex;o<x.m_lastIndex;o++)this.m_groupBuffer[o]=V;this.SetGroupFlags(V,V.m_groupFlags|x.m_groupFlags),V.m_lastIndex=x.m_lastIndex,x.m_firstIndex=x.m_lastIndex,this.DestroyParticleGroup(x)}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"JoinParticleGroups",box2d.b2ParticleSystem.prototype.JoinParticleGroups);box2d.b2ParticleSystem.prototype.SplitParticleGroup=function(V){this.UpdateContacts(!0);var x=V.GetParticleCount(),x=box2d.b2MakeArray(x,function(_o){return new box2d.b2ParticleSystem.ParticleListNode});box2d.b2ParticleSystem.InitializeParticleLists(V,x),this.MergeParticleListsInContact(V,x);var o=box2d.b2ParticleSystem.FindLongestParticleList(V,x);this.MergeZombieParticleListNodes(V,x,o),this.CreateParticleGroupsFromParticleList(V,x,o),this.UpdatePairsAndTriadsWithParticleList(V,x)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SplitParticleGroup",box2d.b2ParticleSystem.prototype.SplitParticleGroup);box2d.b2ParticleSystem.prototype.GetParticleGroupList=function(){return this.m_groupList};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleGroupList",box2d.b2ParticleSystem.prototype.GetParticleGroupList);box2d.b2ParticleSystem.prototype.GetParticleGroupCount=function(){return this.m_groupCount};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleGroupCount",box2d.b2ParticleSystem.prototype.GetParticleGroupCount);box2d.b2ParticleSystem.prototype.GetParticleCount=function(){return this.m_count};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleCount",box2d.b2ParticleSystem.prototype.GetParticleCount);box2d.b2ParticleSystem.prototype.GetMaxParticleCount=function(){return this.m_def.maxCount};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetMaxParticleCount",box2d.b2ParticleSystem.prototype.GetMaxParticleCount);box2d.b2ParticleSystem.prototype.SetMaxParticleCount=function(V){box2d.b2Assert(this.m_count<=V),this.m_def.maxCount=V};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetMaxParticleCount",box2d.b2ParticleSystem.prototype.SetMaxParticleCount);box2d.b2ParticleSystem.prototype.GetAllParticleFlags=function(){return this.m_allParticleFlags};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetAllParticleFlags",box2d.b2ParticleSystem.prototype.GetAllParticleFlags);box2d.b2ParticleSystem.prototype.GetAllGroupFlags=function(){return this.m_allGroupFlags};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetAllGroupFlags",box2d.b2ParticleSystem.prototype.GetAllGroupFlags);box2d.b2ParticleSystem.prototype.SetPaused=function(V){this.m_paused=V};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetPaused",box2d.b2ParticleSystem.prototype.SetPaused);box2d.b2ParticleSystem.prototype.GetPaused=function(){return this.m_paused};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetPaused",box2d.b2ParticleSystem.prototype.GetPaused);box2d.b2ParticleSystem.prototype.SetDensity=function(V){this.m_def.density=V,this.m_inverseDensity=1/this.m_def.density};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetDensity",box2d.b2ParticleSystem.prototype.SetDensity);box2d.b2ParticleSystem.prototype.GetDensity=function(){return this.m_def.density};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetDensity",box2d.b2ParticleSystem.prototype.GetDensity);box2d.b2ParticleSystem.prototype.SetGravityScale=function(V){this.m_def.gravityScale=V};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetGravityScale",box2d.b2ParticleSystem.prototype.SetGravityScale);box2d.b2ParticleSystem.prototype.GetGravityScale=function(){return this.m_def.gravityScale};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetGravityScale",box2d.b2ParticleSystem.prototype.GetGravityScale);box2d.b2ParticleSystem.prototype.SetDamping=function(V){this.m_def.dampingStrength=V};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetDamping",box2d.b2ParticleSystem.prototype.SetDamping);box2d.b2ParticleSystem.prototype.GetDamping=function(){return this.m_def.dampingStrength};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetDamping",box2d.b2ParticleSystem.prototype.GetDamping);box2d.b2ParticleSystem.prototype.SetStaticPressureIterations=function(V){this.m_def.staticPressureIterations=V};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetStaticPressureIterations",box2d.b2ParticleSystem.prototype.SetStaticPressureIterations);box2d.b2ParticleSystem.prototype.GetStaticPressureIterations=function(){return this.m_def.staticPressureIterations};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetStaticPressureIterations",box2d.b2ParticleSystem.prototype.GetStaticPressureIterations);box2d.b2ParticleSystem.prototype.SetRadius=function(V){this.m_particleDiameter=2*V,this.m_squaredDiameter=this.m_particleDiameter*this.m_particleDiameter,this.m_inverseDiameter=1/this.m_particleDiameter};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetRadius",box2d.b2ParticleSystem.prototype.SetRadius);box2d.b2ParticleSystem.prototype.GetRadius=function(){return this.m_particleDiameter/2};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetRadius",box2d.b2ParticleSystem.prototype.GetRadius);box2d.b2ParticleSystem.prototype.GetPositionBuffer=function(){return this.m_positionBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetPositionBuffer",box2d.b2ParticleSystem.prototype.GetPositionBuffer);box2d.b2ParticleSystem.prototype.GetVelocityBuffer=function(){return this.m_velocityBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetVelocityBuffer",box2d.b2ParticleSystem.prototype.GetVelocityBuffer);box2d.b2ParticleSystem.prototype.GetColorBuffer=function(){return this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetColorBuffer",box2d.b2ParticleSystem.prototype.GetColorBuffer);box2d.b2ParticleSystem.prototype.GetGroupBuffer=function(){return this.m_groupBuffer};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetGroupBuffer",box2d.b2ParticleSystem.prototype.GetGroupBuffer);box2d.b2ParticleSystem.prototype.GetWeightBuffer=function(){return this.m_weightBuffer};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetWeightBuffer",box2d.b2ParticleSystem.prototype.GetWeightBuffer);box2d.b2ParticleSystem.prototype.GetUserDataBuffer=function(){return this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetUserDataBuffer",box2d.b2ParticleSystem.prototype.GetUserDataBuffer);box2d.b2ParticleSystem.prototype.GetFlagsBuffer=function(){return this.m_flagsBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetFlagsBuffer",box2d.b2ParticleSystem.prototype.GetFlagsBuffer);box2d.b2ParticleSystem.prototype.SetParticleFlags=function(V,x){this.m_flagsBuffer.data[V]&~x&&(this.m_needsUpdateAllParticleFlags=!0),~this.m_allParticleFlags&x&&(x&box2d.b2ParticleFlag.b2_tensileParticle&&(this.m_accumulation2Buffer=this.RequestBuffer(this.m_accumulation2Buffer)),x&box2d.b2ParticleFlag.b2_colorMixingParticle&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data)),this.m_allParticleFlags|=x),this.m_flagsBuffer.data[V]=x};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetParticleFlags",box2d.b2ParticleSystem.prototype.SetParticleFlags);box2d.b2ParticleSystem.prototype.GetParticleFlags=function(V){return this.m_flagsBuffer.data[V]};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleFlags",box2d.b2ParticleSystem.prototype.GetParticleFlags);box2d.b2ParticleSystem.prototype.SetFlagsBuffer=function(V,x){this.SetUserOverridableBuffer(this.m_flagsBuffer,V,x)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetFlagsBuffer",box2d.b2ParticleSystem.prototype.SetFlagsBuffer);box2d.b2ParticleSystem.prototype.SetPositionBuffer=function(V,x){this.SetUserOverridableBuffer(this.m_positionBuffer,V,x)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetPositionBuffer",box2d.b2ParticleSystem.prototype.SetPositionBuffer);box2d.b2ParticleSystem.prototype.SetVelocityBuffer=function(V,x){this.SetUserOverridableBuffer(this.m_velocityBuffer,V,x)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetVelocityBuffer",box2d.b2ParticleSystem.prototype.SetVelocityBuffer);box2d.b2ParticleSystem.prototype.SetColorBuffer=function(V,x){this.SetUserOverridableBuffer(this.m_colorBuffer,V,x)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetColorBuffer",box2d.b2ParticleSystem.prototype.SetColorBuffer);box2d.b2ParticleSystem.prototype.SetUserDataBuffer=function(V,x){this.SetUserOverridableBuffer(this.m_userDataBuffer,V,x)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetUserDataBuffer",box2d.b2ParticleSystem.prototype.SetUserDataBuffer);box2d.b2ParticleSystem.prototype.GetContacts=function(){return this.m_contactBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetContacts",box2d.b2ParticleSystem.prototype.GetContacts);box2d.b2ParticleSystem.prototype.GetContactCount=function(){return this.m_contactBuffer.count};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetContactCount",box2d.b2ParticleSystem.prototype.GetContactCount);box2d.b2ParticleSystem.prototype.GetBodyContacts=function(){return this.m_bodyContactBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetBodyContacts",box2d.b2ParticleSystem.prototype.GetBodyContacts);box2d.b2ParticleSystem.prototype.GetBodyContactCount=function(){return this.m_bodyContactBuffer.count};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetBodyContactCount",box2d.b2ParticleSystem.prototype.GetBodyContactCount);box2d.b2ParticleSystem.prototype.GetPairs=function(){return this.m_pairBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetPairs",box2d.b2ParticleSystem.prototype.GetPairs);box2d.b2ParticleSystem.prototype.GetPairCount=function(){return this.m_pairBuffer.count};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetPairCount",box2d.b2ParticleSystem.prototype.GetPairCount);box2d.b2ParticleSystem.prototype.GetTriads=function(){return this.m_triadBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetTriads",box2d.b2ParticleSystem.prototype.GetTriads);box2d.b2ParticleSystem.prototype.GetTriadCount=function(){return this.m_triadBuffer.count};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetTriadCount",box2d.b2ParticleSystem.prototype.GetTriadCount);box2d.b2ParticleSystem.prototype.SetStuckThreshold=function(V){this.m_stuckThreshold=V,0<V&&(this.m_lastBodyContactStepBuffer.data=this.RequestBuffer(this.m_lastBodyContactStepBuffer.data),this.m_bodyContactCountBuffer.data=this.RequestBuffer(this.m_bodyContactCountBuffer.data),this.m_consecutiveContactStepsBuffer.data=this.RequestBuffer(this.m_consecutiveContactStepsBuffer.data))};box2d.b2ParticleSystem.prototype.GetStuckCandidates=function(){return this.m_stuckParticleBuffer.Data()};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetStuckCandidates",box2d.b2ParticleSystem.prototype.GetStuckCandidates);box2d.b2ParticleSystem.prototype.GetStuckCandidateCount=function(){return this.m_stuckParticleBuffer.GetCount()};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetStuckCandidateCount",box2d.b2ParticleSystem.prototype.GetStuckCandidateCount);box2d.b2ParticleSystem.prototype.ComputeCollisionEnergy=function(){for(var V=box2d.b2ParticleSystem.prototype.ComputeCollisionEnergy.s_v,x=this.m_velocityBuffer.data,o=0,_o=0;_o<this.m_contactBuffer.count;_o++){var _i=this.m_contactBuffer.data[_o],l=_i.normal,_i=box2d.b2Sub_V2_V2(x[_i.indexB],x[_i.indexA],V),l=box2d.b2Dot_V2_V2(_i,l);0>l&&(o+=l*l)}return .5*this.GetParticleMass()*o};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ComputeCollisionEnergy",box2d.b2ParticleSystem.prototype.ComputeCollisionEnergy);box2d.b2ParticleSystem.prototype.ComputeCollisionEnergy.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SetStrictContactCheck=function(V){this.m_def.strictContactCheck=V};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetStrictContactCheck",box2d.b2ParticleSystem.prototype.SetStrictContactCheck);box2d.b2ParticleSystem.prototype.GetStrictContactCheck=function(){return this.m_def.strictContactCheck};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetStrictContactCheck",box2d.b2ParticleSystem.prototype.GetStrictContactCheck);box2d.b2ParticleSystem.prototype.SetParticleLifetime=function(V,x){box2d.b2Assert(this.ValidateParticleIndex(V));var o=this.m_indexByExpirationTimeBuffer.data===null;if(this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),o)for(var o=this.GetParticleCount(),_o=0;_o<o;++_o)this.m_indexByExpirationTimeBuffer.data[_o]=_o;o=x/this.m_def.lifetimeGranularity,o=0<o?this.GetQuantizedTimeElapsed()+o:o,o!==this.m_expirationTimeBuffer.data[V]&&(this.m_expirationTimeBuffer.data[V]=o,this.m_expirationTimeBufferRequiresSorting=!0)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetParticleLifetime",box2d.b2ParticleSystem.prototype.SetParticleLifetime);box2d.b2ParticleSystem.prototype.GetParticleLifetime=function(V){return box2d.b2Assert(this.ValidateParticleIndex(V)),this.ExpirationTimeToLifetime(this.GetExpirationTimeBuffer()[V])};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetParticleLifetime",box2d.b2ParticleSystem.prototype.GetParticleLifetime);box2d.b2ParticleSystem.prototype.SetDestructionByAge=function(V){V&&this.GetExpirationTimeBuffer(),this.m_def.destroyByAge=V};goog.exportProperty(box2d.b2ParticleSystem.prototype,"SetDestructionByAge",box2d.b2ParticleSystem.prototype.SetDestructionByAge);box2d.b2ParticleSystem.prototype.GetDestructionByAge=function(){return this.m_def.destroyByAge};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetDestructionByAge",box2d.b2ParticleSystem.prototype.GetDestructionByAge);box2d.b2ParticleSystem.prototype.GetExpirationTimeBuffer=function(){return this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_expirationTimeBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetExpirationTimeBuffer",box2d.b2ParticleSystem.prototype.GetExpirationTimeBuffer);box2d.b2ParticleSystem.prototype.ExpirationTimeToLifetime=function(V){return(0<V?V-this.GetQuantizedTimeElapsed():V)*this.m_def.lifetimeGranularity};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ExpirationTimeToLifetime",box2d.b2ParticleSystem.prototype.ExpirationTimeToLifetime);box2d.b2ParticleSystem.prototype.GetIndexByExpirationTimeBuffer=function(){return this.GetParticleCount()?this.SetParticleLifetime(0,this.GetParticleLifetime(0)):this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetIndexByExpirationTimeBuffer",box2d.b2ParticleSystem.prototype.GetIndexByExpirationTimeBuffer);box2d.b2ParticleSystem.prototype.ParticleApplyLinearImpulse=function(V,x){this.ApplyLinearImpulse(V,V+1,x)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ParticleApplyLinearImpulse",box2d.b2ParticleSystem.prototype.ParticleApplyLinearImpulse);box2d.b2ParticleSystem.prototype.ApplyLinearImpulse=function(V,x,o){var _o=this.m_velocityBuffer.data,_i=(x-V)*this.GetParticleMass();for(o=o.Clone().SelfMul(1/_i);V<x;V++)_o[V].SelfAdd(o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ApplyLinearImpulse",box2d.b2ParticleSystem.prototype.ApplyLinearImpulse);box2d.b2ParticleSystem.IsSignificantForce=function(V){return V.x!==0||V.y!==0};box2d.b2ParticleSystem.prototype.ParticleApplyForce=function(V,x){box2d.b2ParticleSystem.IsSignificantForce(x)&&this.ForceCanBeApplied(this.m_flagsBuffer.data[V])&&(this.PrepareForceBuffer(),this.m_forceBuffer[V].SelfAdd(x))};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ParticleApplyForce",box2d.b2ParticleSystem.prototype.ParticleApplyForce);box2d.b2ParticleSystem.prototype.ApplyForce=function(V,x,o){for(var _o=0,_i=V;_i<x;_i++)_o|=this.m_flagsBuffer.data[_i];if(box2d.b2Assert(this.ForceCanBeApplied(_o)),o=o.Clone().SelfMul(1/(x-V)),box2d.b2ParticleSystem.IsSignificantForce(o))for(this.PrepareForceBuffer(),_i=V;_i<x;_i++)this.m_forceBuffer[_i].SelfAdd(o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ApplyForce",box2d.b2ParticleSystem.prototype.ApplyForce);box2d.b2ParticleSystem.prototype.GetNext=function(){return this.m_next};goog.exportProperty(box2d.b2ParticleSystem.prototype,"GetNext",box2d.b2ParticleSystem.prototype.GetNext);box2d.b2ParticleSystem.prototype.QueryAABB=function(V,x){if(this.m_proxyBuffer.count!==0)for(var _o=this.m_proxyBuffer.count,o=box2d.std_lower_bound(this.m_proxyBuffer.data,0,_o,box2d.b2ParticleSystem.computeTag(this.m_inverseDiameter*x.lowerBound.x,this.m_inverseDiameter*x.lowerBound.y),box2d.b2ParticleSystem.Proxy.CompareProxyTag),_o=box2d.std_upper_bound(this.m_proxyBuffer.data,o,_o,box2d.b2ParticleSystem.computeTag(this.m_inverseDiameter*x.upperBound.x,this.m_inverseDiameter*x.upperBound.y),box2d.b2ParticleSystem.Proxy.CompareTagProxy),_i=this.m_positionBuffer.data;o<_o;++o){var l=this.m_proxyBuffer.data[o].index,t_=_i[l];if(x.lowerBound.x<t_.x&&t_.x<x.upperBound.x&&x.lowerBound.y<t_.y&&t_.y<x.upperBound.y&&!V.ReportParticle(this,l))break}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"QueryAABB",box2d.b2ParticleSystem.prototype.QueryAABB);box2d.b2ParticleSystem.prototype.QueryShapeAABB=function(V,x,o,_o){var _i=box2d.b2ParticleSystem.prototype.QueryShapeAABB.s_aabb;x.ComputeAABB(_i,o,_o||0),this.QueryAABB(V,_i)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"QueryShapeAABB",box2d.b2ParticleSystem.prototype.QueryShapeAABB);box2d.b2ParticleSystem.prototype.QueryShapeAABB.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.QueryPointAABB=function(V,x,o){var _o=box2d.b2ParticleSystem.prototype.QueryPointAABB.s_aabb;o=typeof o=="number"?o:box2d.b2_linearSlop,_o.lowerBound.Set(x.x-o,x.y-o),_o.upperBound.Set(x.x+o,x.y+o),this.QueryAABB(V,_o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"QueryPointAABB",box2d.b2ParticleSystem.prototype.QueryPointAABB);box2d.b2ParticleSystem.prototype.QueryPointAABB.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.RayCast=function(V,x,o){var _o=box2d.b2ParticleSystem.prototype.RayCast.s_aabb,_i=box2d.b2ParticleSystem.prototype.RayCast.s_p,l=box2d.b2ParticleSystem.prototype.RayCast.s_v,t_=box2d.b2ParticleSystem.prototype.RayCast.s_n,o_=box2d.b2ParticleSystem.prototype.RayCast.s_point;if(this.m_proxyBuffer.count!==0){var i_=this.m_positionBuffer.data;box2d.b2Min_V2_V2(x,o,_o.lowerBound),box2d.b2Max_V2_V2(x,o,_o.upperBound);var _e=1;o=box2d.b2Sub_V2_V2(o,x,l);for(var l=box2d.b2Dot_V2_V2(o,o),_o=this.GetInsideBoundsEnumerator(_o),l_;0<=(l_=_o.GetNext());){var ws=box2d.b2Sub_V2_V2(x,i_[l_],_i),h_=box2d.b2Dot_V2_V2(ws,o),s_=box2d.b2Dot_V2_V2(ws,ws),s_=h_*h_-l*(s_-this.m_squaredDiameter);if(0<=s_){var B_=box2d.b2Sqrt(s_),s_=(-h_-B_)/l;if(!(s_>_e)){if(0>s_&&(s_=(-h_+B_)/l,0>s_||s_>_e))continue;if(ws=box2d.b2AddMul_V2_S_V2(ws,s_,o,t_),ws.Normalize(),l_=V.ReportParticle(this,l_,box2d.b2AddMul_V2_S_V2(x,s_,o,o_),ws,s_),_e=box2d.b2Min(_e,l_),0>=_e)break}}}}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"RayCast",box2d.b2ParticleSystem.prototype.RayCast);box2d.b2ParticleSystem.prototype.RayCast.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.RayCast.s_p=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.RayCast.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.RayCast.s_n=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.RayCast.s_point=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.ComputeAABB=function(V){var x=this.GetParticleCount();box2d.b2Assert(V!==null),V.lowerBound.x=+box2d.b2_maxFloat,V.lowerBound.y=+box2d.b2_maxFloat,V.upperBound.x=-box2d.b2_maxFloat,V.upperBound.y=-box2d.b2_maxFloat;for(var o=this.m_positionBuffer.data,_o=0;_o<x;_o++){var _i=o[_o];box2d.b2Min_V2_V2(V.lowerBound,_i,V.lowerBound),box2d.b2Max_V2_V2(V.upperBound,_i,V.upperBound)}V.lowerBound.x-=this.m_particleDiameter,V.lowerBound.y-=this.m_particleDiameter,V.upperBound.x+=this.m_particleDiameter,V.upperBound.y+=this.m_particleDiameter};goog.exportProperty(box2d.b2ParticleSystem.prototype,"ComputeAABB",box2d.b2ParticleSystem.prototype.ComputeAABB);box2d.b2ParticleSystem.UserOverridableBuffer=function(){};box2d.b2ParticleSystem.UserOverridableBuffer.prototype.data=null;box2d.b2ParticleSystem.UserOverridableBuffer.prototype.userSuppliedCapacity=0;box2d.b2ParticleSystem.Proxy=function(){};box2d.b2ParticleSystem.Proxy.prototype.index=box2d.b2_invalidParticleIndex;box2d.b2ParticleSystem.Proxy.prototype.tag=0;box2d.b2ParticleSystem.Proxy.CompareProxyProxy=function(V,x){return V.tag<x.tag};box2d.b2ParticleSystem.Proxy.CompareTagProxy=function(V,x){return V<x.tag};box2d.b2ParticleSystem.Proxy.CompareProxyTag=function(V,x){return V.tag<x};box2d.b2ParticleSystem.InsideBoundsEnumerator=function(V,x,o,_o,_i){this.m_system=V,this.m_xLower=(x&box2d.b2ParticleSystem.xMask)>>>0,this.m_xUpper=(o&box2d.b2ParticleSystem.xMask)>>>0,this.m_yLower=(x&box2d.b2ParticleSystem.yMask)>>>0,this.m_yUpper=(o&box2d.b2ParticleSystem.yMask)>>>0,this.m_first=_o,this.m_last=_i,box2d.b2Assert(this.m_first<=this.m_last)};box2d.b2ParticleSystem.InsideBoundsEnumerator.prototype.GetNext=function(){for(;this.m_first<this.m_last;){var V=(this.m_system.m_proxyBuffer.data[this.m_first].tag&box2d.b2ParticleSystem.xMask)>>>0,x=(this.m_system.m_proxyBuffer.data[this.m_first].tag&box2d.b2ParticleSystem.yMask)>>>0;if(box2d.b2Assert(x>=this.m_yLower),box2d.b2Assert(x<=this.m_yUpper),V>=this.m_xLower&&V<=this.m_xUpper)return this.m_system.m_proxyBuffer.data[this.m_first++].index;this.m_first++}return box2d.b2_invalidParticleIndex};box2d.b2ParticleSystem.ParticleListNode=function(){};box2d.b2ParticleSystem.ParticleListNode.prototype.list=null;box2d.b2ParticleSystem.ParticleListNode.prototype.next=null;box2d.b2ParticleSystem.ParticleListNode.prototype.count=0;box2d.b2ParticleSystem.ParticleListNode.prototype.index=0;box2d.b2ParticleSystem.k_pairFlags=box2d.b2ParticleFlag.b2_springParticle;box2d.b2ParticleSystem.k_triadFlags=box2d.b2ParticleFlag.b2_elasticParticle;box2d.b2ParticleSystem.k_noPressureFlags=box2d.b2ParticleFlag.b2_powderParticle|box2d.b2ParticleFlag.b2_tensileParticle;box2d.b2ParticleSystem.k_extraDampingFlags=box2d.b2ParticleFlag.b2_staticPressureParticle;box2d.b2ParticleSystem.k_barrierWallFlags=box2d.b2ParticleFlag.b2_barrierParticle|box2d.b2ParticleFlag.b2_wallParticle;box2d.b2ParticleSystem.prototype.FreeBuffer=function(V,x){V!==null&&(V.length=0)};box2d.b2ParticleSystem.prototype.FreeUserOverridableBuffer=function(V){V.userSuppliedCapacity==0&&this.FreeBuffer(V.data,this.m_internalAllocatedCapacity)};box2d.b2ParticleSystem.prototype.ReallocateBuffer3=function(V,x,o){return box2d.b2Assert(o>x),V=V?V.slice():[],V.length=o,V};box2d.b2ParticleSystem.prototype.ReallocateBuffer5=function(V,x,o,_o,_i){return box2d.b2Assert(_o>o),box2d.b2Assert(!x||_o<=x),_i&&!V||x||(V=this.ReallocateBuffer3(V,o,_o)),V};box2d.b2ParticleSystem.prototype.ReallocateBuffer4=function(V,x,o,_o){return box2d.b2Assert(o>x),this.ReallocateBuffer5(V.data,V.userSuppliedCapacity,x,o,_o)};box2d.b2ParticleSystem.prototype.RequestBuffer=function(V){return V||(this.m_internalAllocatedCapacity===0&&this.ReallocateInternalAllocatedBuffers(box2d.b2_minParticleSystemBufferCapacity),V=[],V.length=this.m_internalAllocatedCapacity),V};box2d.b2ParticleSystem.prototype.ReallocateHandleBuffers=function(V){box2d.b2Assert(V>this.m_internalAllocatedCapacity),this.m_handleIndexBuffer.data=this.ReallocateBuffer4(this.m_handleIndexBuffer,this.m_internalAllocatedCapacity,V,!0)};box2d.b2ParticleSystem.prototype.ReallocateInternalAllocatedBuffers=function(V){function x(_o,_i){return _i&&_o>_i?_i:_o}if(V=x(V,this.m_def.maxCount),V=x(V,this.m_flagsBuffer.userSuppliedCapacity),V=x(V,this.m_positionBuffer.userSuppliedCapacity),V=x(V,this.m_velocityBuffer.userSuppliedCapacity),V=x(V,this.m_colorBuffer.userSuppliedCapacity),V=x(V,this.m_userDataBuffer.userSuppliedCapacity),this.m_internalAllocatedCapacity<V){this.ReallocateHandleBuffers(V),this.m_flagsBuffer.data=this.ReallocateBuffer4(this.m_flagsBuffer,this.m_internalAllocatedCapacity,V,!1);var o=0<this.m_stuckThreshold;this.m_lastBodyContactStepBuffer.data=this.ReallocateBuffer4(this.m_lastBodyContactStepBuffer,this.m_internalAllocatedCapacity,V,o),this.m_bodyContactCountBuffer.data=this.ReallocateBuffer4(this.m_bodyContactCountBuffer,this.m_internalAllocatedCapacity,V,o),this.m_consecutiveContactStepsBuffer.data=this.ReallocateBuffer4(this.m_consecutiveContactStepsBuffer,this.m_internalAllocatedCapacity,V,o),this.m_positionBuffer.data=this.ReallocateBuffer4(this.m_positionBuffer,this.m_internalAllocatedCapacity,V,!1),this.m_velocityBuffer.data=this.ReallocateBuffer4(this.m_velocityBuffer,this.m_internalAllocatedCapacity,V,!1),this.m_forceBuffer=this.ReallocateBuffer5(this.m_forceBuffer,0,this.m_internalAllocatedCapacity,V,!1),this.m_weightBuffer=this.ReallocateBuffer5(this.m_weightBuffer,0,this.m_internalAllocatedCapacity,V,!1),this.m_staticPressureBuffer=this.ReallocateBuffer5(this.m_staticPressureBuffer,0,this.m_internalAllocatedCapacity,V,!0),this.m_accumulationBuffer=this.ReallocateBuffer5(this.m_accumulationBuffer,0,this.m_internalAllocatedCapacity,V,!1),this.m_accumulation2Buffer=this.ReallocateBuffer5(this.m_accumulation2Buffer,0,this.m_internalAllocatedCapacity,V,!0),this.m_depthBuffer=this.ReallocateBuffer5(this.m_depthBuffer,0,this.m_internalAllocatedCapacity,V,!0),this.m_colorBuffer.data=this.ReallocateBuffer4(this.m_colorBuffer,this.m_internalAllocatedCapacity,V,!0),this.m_groupBuffer=this.ReallocateBuffer5(this.m_groupBuffer,0,this.m_internalAllocatedCapacity,V,!1),this.m_userDataBuffer.data=this.ReallocateBuffer4(this.m_userDataBuffer,this.m_internalAllocatedCapacity,V,!0),this.m_expirationTimeBuffer.data=this.ReallocateBuffer4(this.m_expirationTimeBuffer,this.m_internalAllocatedCapacity,V,!0),this.m_indexByExpirationTimeBuffer.data=this.ReallocateBuffer4(this.m_indexByExpirationTimeBuffer,this.m_internalAllocatedCapacity,V,!1),this.m_internalAllocatedCapacity=V}};box2d.b2ParticleSystem.prototype.CreateParticleForGroup=function(V,x,o){var _o=new box2d.b2ParticleDef;_o.flags=V.flags,box2d.b2Mul_X_V2(x,o,_o.position),box2d.b2Add_V2_V2(V.linearVelocity,box2d.b2Cross_S_V2(V.angularVelocity,box2d.b2Sub_V2_V2(_o.position,V.position,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),_o.velocity),_o.color.Copy(V.color),_o.lifetime=V.lifetime,_o.userData=V.userData,this.CreateParticle(_o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticleForGroup",box2d.b2ParticleSystem.prototype.CreateParticleForGroup);box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup=function(V,x,o){var _o=box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_edge,_i=box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_d,l=box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_p,t_=x.stride;t_===0&&(t_=this.GetParticleStride());for(var o_=0,i_=V.GetChildCount(),_e=0;_e<i_;_e++){var l_=null;V.GetType()===box2d.b2ShapeType.e_edgeShape?l_=V:(box2d.b2Assert(V.GetType()===box2d.b2ShapeType.e_chainShape),l_=_o,V.GetChildEdge(l_,_e));for(var ws=box2d.b2Sub_V2_V2(l_.m_vertex2,l_.m_vertex1,_i),h_=ws.Length();o_<h_;){var s_=box2d.b2AddMul_V2_S_V2(l_.m_vertex1,o_/h_,ws,l);this.CreateParticleForGroup(x,o,s_),o_+=t_}o_-=h_}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticlesStrokeShapeForGroup",box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup);box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_edge=new box2d.b2EdgeShape;box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_d=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.CreateParticlesStrokeShapeForGroup.s_p=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup=function(V,x,o){var _o=box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup.s_aabb,_i=box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup.s_p,l=x.stride;l===0&&(l=this.GetParticleStride());var t_=box2d.b2Transform.IDENTITY;box2d.b2Assert(V.GetChildCount()===1),V.ComputeAABB(_o,t_,0);for(var o_=Math.floor(_o.lowerBound.y/l)*l;o_<_o.upperBound.y;o_+=l)for(var i_=Math.floor(_o.lowerBound.x/l)*l;i_<_o.upperBound.x;i_+=l){var _e=_i.Set(i_,o_);V.TestPoint(t_,_e)&&this.CreateParticleForGroup(x,o,_e)}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticlesFillShapeForGroup",box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup);box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.CreateParticlesFillShapeForGroup.s_p=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.CreateParticlesWithShapeForGroup=function(V,x,o){switch(V.GetType()){case box2d.b2ShapeType.e_edgeShape:case box2d.b2ShapeType.e_chainShape:this.CreateParticlesStrokeShapeForGroup(V,x,o);break;case box2d.b2ShapeType.e_polygonShape:case box2d.b2ShapeType.e_circleShape:this.CreateParticlesFillShapeForGroup(V,x,o);break;default:box2d.b2Assert(!1)}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticlesWithShapeForGroup",box2d.b2ParticleSystem.prototype.CreateParticlesWithShapeForGroup);box2d.b2ParticleSystem.CompositeShape=function(V,x){this.m_shapes=V,this.m_shapeCount=x};goog.inherits(box2d.b2ParticleSystem.CompositeShape,box2d.b2Shape);box2d.b2ParticleSystem.CompositeShape.prototype.m_shapes=null;box2d.b2ParticleSystem.CompositeShape.prototype.m_shapeCount=0;box2d.b2ParticleSystem.CompositeShape.prototype.Clone=function(){return box2d.b2Assert(!1),null};box2d.b2ParticleSystem.CompositeShape.prototype.GetChildCount=function(){return 1};box2d.b2ParticleSystem.CompositeShape.prototype.TestPoint=function(V,x){for(var o=0;o<this.m_shapeCount;o++)if(this.m_shapes[o].TestPoint(V,x))return!0;return!1};goog.exportSymbol("box2d.b2ParticleSystem.CompositeShape.prototype.TestPoint",box2d.b2ParticleSystem.CompositeShape.prototype.TestPoint);box2d.b2ParticleSystem.CompositeShape.prototype.ComputeDistance=function(V,x,o,_o){box2d.b2Assert(!1)};goog.exportSymbol("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeDistance",box2d.b2ParticleSystem.CompositeShape.prototype.ComputeDistance);box2d.b2ParticleSystem.CompositeShape.prototype.RayCast=function(V,x,o,_o){return box2d.b2Assert(!1),!1};goog.exportSymbol("box2d.b2ParticleSystem.CompositeShape.prototype.RayCast",box2d.b2ParticleSystem.CompositeShape.prototype.RayCast);box2d.b2ParticleSystem.CompositeShape.prototype.ComputeAABB=function(V,x,o){var _o=new box2d.b2AABB;for(V.lowerBound.x=+box2d.b2_maxFloat,V.lowerBound.y=+box2d.b2_maxFloat,V.upperBound.x=-box2d.b2_maxFloat,V.upperBound.y=-box2d.b2_maxFloat,box2d.b2Assert(o===0),o=0;o<this.m_shapeCount;o++)for(var _i=this.m_shapes[o].GetChildCount(),l=0;l<_i;l++){var t_=_o;this.m_shapes[o].ComputeAABB(t_,x,l),V.Combine1(t_)}};goog.exportSymbol("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeAABB",box2d.b2ParticleSystem.CompositeShape.prototype.ComputeAABB);box2d.b2ParticleSystem.CompositeShape.prototype.ComputeMass=function(V,x){box2d.b2Assert(!1)};goog.exportSymbol("box2d.b2ParticleSystem.CompositeShape.prototype.ComputeMass",box2d.b2ParticleSystem.CompositeShape.prototype.ComputeMass);box2d.b2ParticleSystem.prototype.CreateParticlesWithShapesForGroup=function(V,x,o,_o){V=new box2d.b2ParticleSystem.CompositeShape(V,x),this.CreateParticlesFillShapeForGroup(V,o,_o)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CreateParticlesWithShapesForGroup",box2d.b2ParticleSystem.prototype.CreateParticlesWithShapesForGroup);box2d.b2ParticleSystem.prototype.CloneParticle=function(V,x){var o=new box2d.b2ParticleDef;if(o.flags=this.m_flagsBuffer.data[V],o.position.Copy(this.m_positionBuffer.data[V]),o.velocity.Copy(this.m_velocityBuffer.data[V]),this.m_colorBuffer.data&&o.color.Copy(this.m_colorBuffer.data[V]),this.m_userDataBuffer.data&&(o.userData=this.m_userDataBuffer.data[V]),o.group=x,o=this.CreateParticle(o),this.m_handleIndexBuffer.data){var _o=this.m_handleIndexBuffer.data[V];_o&&_o.SetIndex(o),this.m_handleIndexBuffer.data[o]=_o,this.m_handleIndexBuffer.data[V]=null}return this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[o]=this.m_lastBodyContactStepBuffer.data[V]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[o]=this.m_bodyContactCountBuffer.data[V]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[o]=this.m_consecutiveContactStepsBuffer.data[V]),this.m_hasForce&&(this.m_forceBuffer[o]=this.m_forceBuffer[V]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[o]=this.m_staticPressureBuffer[V]),this.m_depthBuffer&&(this.m_depthBuffer[o]=this.m_depthBuffer[V]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[o]=this.m_expirationTimeBuffer.data[V]),o};goog.exportProperty(box2d.b2ParticleSystem.prototype,"CloneParticle",box2d.b2ParticleSystem.prototype.CloneParticle);box2d.b2ParticleSystem.prototype.DestroyParticlesInGroup=function(V,x){for(var o=V.m_firstIndex;o<V.m_lastIndex;o++)this.DestroyParticle(o,x)};goog.exportProperty(box2d.b2ParticleSystem.prototype,"DestroyParticlesInGroup",box2d.b2ParticleSystem.prototype.DestroyParticlesInGroup);box2d.b2ParticleSystem.prototype.DestroyParticleGroup=function(V){box2d.b2Assert(0<this.m_groupCount),box2d.b2Assert(V!==null),this.m_world.m_destructionListener&&this.m_world.m_destructionListener.SayGoodbyeParticleGroup(V),this.SetGroupFlags(V,0);for(var x=V.m_firstIndex;x<V.m_lastIndex;x++)this.m_groupBuffer[x]=null;V.m_prev&&(V.m_prev.m_next=V.m_next),V.m_next&&(V.m_next.m_prev=V.m_prev),V===this.m_groupList&&(this.m_groupList=V.m_next),--this.m_groupCount};goog.exportProperty(box2d.b2ParticleSystem.prototype,"DestroyParticleGroup",box2d.b2ParticleSystem.prototype.DestroyParticleGroup);box2d.b2ParticleSystem.ParticleCanBeConnected=function(V,x){return(V&(box2d.b2ParticleFlag.b2_wallParticle|box2d.b2ParticleFlag.b2_springParticle|box2d.b2ParticleFlag.b2_elasticParticle))!==0||x!==null&&(x.GetGroupFlags()&box2d.b2ParticleGroupFlag.b2_rigidParticleGroup)!==0};box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads=function(V,x,o){var _o=box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dab,_i=box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dbc,l=box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dca,t_=this.m_positionBuffer.data;box2d.b2Assert(V<=x);for(var o_=0,i_=V;i_<x;i_++)o_|=this.m_flagsBuffer.data[i_];if(o_&box2d.b2ParticleSystem.k_pairFlags)for(i_=0;i_<this.m_contactBuffer.count;i_++){var _e=this.m_contactBuffer.data[i_],l_=_e.indexA,ws=_e.indexB,h_=this.m_flagsBuffer.data[l_],s_=this.m_flagsBuffer.data[ws],B_=this.m_groupBuffer[l_],D_=this.m_groupBuffer[ws];l_>=V&&l_<x&&ws>=V&&ws<x&&!((h_|s_)&box2d.b2ParticleFlag.b2_zombieParticle)&&(h_|s_)&box2d.b2ParticleSystem.k_pairFlags&&(o.IsNecessary(l_)||o.IsNecessary(ws))&&box2d.b2ParticleSystem.ParticleCanBeConnected(h_,B_)&&box2d.b2ParticleSystem.ParticleCanBeConnected(s_,D_)&&o.ShouldCreatePair(l_,ws)&&(h_=this.m_pairBuffer.data[this.m_pairBuffer.Append()],h_.indexA=l_,h_.indexB=ws,h_.flags=_e.flags,h_.strength=box2d.b2Min(B_?B_.m_strength:1,D_?D_.m_strength:1),h_.distance=box2d.b2Distance(t_[l_],t_[ws])),box2d.std_stable_sort(this.m_pairBuffer.data,0,this.m_pairBuffer.count,box2d.b2ParticleSystem.ComparePairIndices),this.m_pairBuffer.Unique(box2d.b2ParticleSystem.MatchPairIndices)}if(o_&box2d.b2ParticleSystem.k_triadFlags){for(o_=new box2d.b2VoronoiDiagram(x-V),_e=0,i_=V;i_<x;i_++)l_=this.m_flagsBuffer.data[i_],ws=this.m_groupBuffer[i_],l_&box2d.b2ParticleFlag.b2_zombieParticle||!box2d.b2ParticleSystem.ParticleCanBeConnected(l_,ws)||(o.IsNecessary(i_)&&++_e,o_.AddGenerator(t_[i_],i_,o.IsNecessary(i_)));if(_e===0)for(i_=V;i_<x;i_++)o.IsNecessary(i_);V=this.GetParticleStride(),o_.Generate(V/2,2*V);var y_=this;o_.GetNodes(function(G_,q_,j_){var _2=y_.m_flagsBuffer.data[G_],m2=y_.m_flagsBuffer.data[q_],y2=y_.m_flagsBuffer.data[j_];if((_2|m2|y2)&box2d.b2ParticleSystem.k_triadFlags&&o.ShouldCreateTriad(G_,q_,j_)){var I2=t_[G_],J2=t_[q_],z2=t_[j_],K2=box2d.b2Sub_V2_V2(I2,J2,_o),$2=box2d.b2Sub_V2_V2(J2,z2,_i),P_=box2d.b2Sub_V2_V2(z2,I2,l),E_=box2d.b2_maxTriadDistanceSquared*y_.m_squaredDiameter;if(!(box2d.b2Dot_V2_V2(K2,K2)>E_||box2d.b2Dot_V2_V2($2,$2)>E_||box2d.b2Dot_V2_V2(P_,P_)>E_)){var Z_=y_.m_groupBuffer[G_],N_=y_.m_groupBuffer[q_],s2=y_.m_groupBuffer[j_],E_=y_.m_triadBuffer.data[y_.m_triadBuffer.Append()];E_.indexA=G_,E_.indexB=q_,E_.indexC=j_,E_.flags=_2|m2|y2,E_.strength=box2d.b2Min(box2d.b2Min(Z_?Z_.m_strength:1,N_?N_.m_strength:1),s2?s2.m_strength:1),G_=(I2.x+J2.x+z2.x)/3,q_=(I2.y+J2.y+z2.y)/3,E_.pa.x=I2.x-G_,E_.pa.y=I2.y-q_,E_.pb.x=J2.x-G_,E_.pb.y=J2.y-q_,E_.pc.x=z2.x-G_,E_.pc.y=z2.y-q_,E_.ka=-box2d.b2Dot_V2_V2(P_,K2),E_.kb=-box2d.b2Dot_V2_V2(K2,$2),E_.kc=-box2d.b2Dot_V2_V2($2,P_),E_.s=box2d.b2Cross_V2_V2(I2,J2)+box2d.b2Cross_V2_V2(J2,z2)+box2d.b2Cross_V2_V2(z2,I2)}}}),box2d.std_stable_sort(this.m_triadBuffer.data,0,this.m_triadBuffer.count,box2d.b2ParticleSystem.CompareTriadIndices),this.m_triadBuffer.Unique(box2d.b2ParticleSystem.MatchTriadIndices)}};box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dab=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dbc=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.UpdatePairsAndTriads.s_dca=new box2d.b2Vec2;box2d.b2ParticleSystem.ReactiveFilter=function(V){this.m_flagsBuffer=V};goog.inherits(box2d.b2ParticleSystem.ReactiveFilter,box2d.b2ParticleSystem.ConnectionFilter);box2d.b2ParticleSystem.ReactiveFilter.prototype.m_flagsBuffer=null;box2d.b2ParticleSystem.ReactiveFilter.prototype.IsNecessary=function(V){return(this.m_flagsBuffer[V]&box2d.b2ParticleFlag.b2_reactiveParticle)!==0};box2d.b2ParticleSystem.prototype.UpdatePairsAndTriadsWithReactiveParticles=function(){var V=new box2d.b2ParticleSystem.ReactiveFilter(this.m_flagsBuffer);for(this.UpdatePairsAndTriads(0,this.m_count,V),V=0;V<this.m_count;V++)this.m_flagsBuffer.data[V]&=~box2d.b2ParticleFlag.b2_reactiveParticle;this.m_allParticleFlags&=~box2d.b2ParticleFlag.b2_reactiveParticle};box2d.b2ParticleSystem.ComparePairIndices=function(V,x){var o=V.indexA-x.indexA;return o!==0?0>o:V.indexB<x.indexB};box2d.b2ParticleSystem.MatchPairIndices=function(V,x){return V.indexA===x.indexA&&V.indexB===x.indexB};box2d.b2ParticleSystem.CompareTriadIndices=function(V,x){var o=V.indexA-x.indexA;return o!==0?0>o:(o=V.indexB-x.indexB,o!==0?0>o:V.indexC<x.indexC)};box2d.b2ParticleSystem.MatchTriadIndices=function(V,x){return V.indexA===x.indexA&&V.indexB===x.indexB&&V.indexC===x.indexC};box2d.b2ParticleSystem.InitializeParticleLists=function(V,x){for(var o=V.GetBufferIndex(),_o=V.GetParticleCount(),_i=0;_i<_o;_i++){var l=x[_i];l.list=l,l.next=null,l.count=1,l.index=_i+o}};box2d.b2ParticleSystem.prototype.MergeParticleListsInContact=function(V,x){for(var o=V.GetBufferIndex(),_o=0;_o<this.m_contactBuffer.count;_o++){var l=this.m_contactBuffer.data[_o],_i=l.indexA,l=l.indexB;if(V.ContainsParticle(_i)&&V.ContainsParticle(l)&&(_i=x[_i-o].list,l=x[l-o].list,_i!==l)){if(_i.count<l.count)var t_=_i,_i=l,l=t_;box2d.b2Assert(_i.count>=l.count),box2d.b2ParticleSystem.MergeParticleLists(_i,l)}}};box2d.b2ParticleSystem.MergeParticleLists=function(V,x){box2d.b2Assert(V!==x);for(var o=x;;){o.list=V;var _o=o.next;if(_o)o=_o;else{o.next=V.next;break}}V.next=x,V.count+=x.count,x.count=0};box2d.b2ParticleSystem.FindLongestParticleList=function(V,x){for(var o=V.GetParticleCount(),_o=x[0],_i=0;_i<o;_i++){var l=x[_i];_o.count<l.count&&(_o=l)}return _o};box2d.b2ParticleSystem.prototype.MergeZombieParticleListNodes=function(V,x,o){V=V.GetParticleCount();for(var _o=0;_o<V;_o++){var _i=x[_o];_i!==o&&this.m_flagsBuffer.data[_i.index]&box2d.b2ParticleFlag.b2_zombieParticle&&box2d.b2ParticleSystem.MergeParticleListAndNode(o,_i)}};box2d.b2ParticleSystem.MergeParticleListAndNode=function(V,x){box2d.b2Assert(x!==V),box2d.b2Assert(x.list===x),box2d.b2Assert(x.count===1),x.list=V,x.next=V.next,V.next=x,V.count++,x.count=0};box2d.b2ParticleSystem.prototype.CreateParticleGroupsFromParticleList=function(V,x,o){var _o=V.GetParticleCount(),_i=new box2d.b2ParticleGroupDef;for(_i.groupFlags=V.GetGroupFlags(),_i.userData=V.GetUserData(),V=0;V<_o;V++){var l=x[V];if(l.count&&l!==o){box2d.b2Assert(l.list===l);for(var t_=this.CreateParticleGroup(_i);l;l=l.next){var o_=l.index;box2d.b2Assert(!(this.m_flagsBuffer.data[o_]&box2d.b2ParticleFlag.b2_zombieParticle));var i_=this.CloneParticle(o_,t_);this.m_flagsBuffer.data[o_]|=box2d.b2ParticleFlag.b2_zombieParticle,l.index=i_}}}};box2d.b2ParticleSystem.prototype.UpdatePairsAndTriadsWithParticleList=function(V,x){for(var o=V.GetBufferIndex(),_o=0;_o<this.m_pairBuffer.count;_o++){var _i=this.m_pairBuffer.data[_o],l=_i.indexA,t_=_i.indexB;V.ContainsParticle(l)&&(_i.indexA=x[l-o].index),V.ContainsParticle(t_)&&(_i.indexB=x[t_-o].index)}for(_o=0;_o<this.m_triadBuffer.count;_o++){var _i=this.m_triadBuffer.data[_o],l=_i.indexA,t_=_i.indexB,o_=_i.indexC;V.ContainsParticle(l)&&(_i.indexA=x[l-o].index),V.ContainsParticle(t_)&&(_i.indexB=x[t_-o].index),V.ContainsParticle(o_)&&(_i.indexC=x[o_-o].index)}};box2d.b2ParticleSystem.prototype.ComputeDepth=function(){for(var V=[],x=0,o=0;o<this.m_contactBuffer.count;o++){var _o=this.m_contactBuffer.data[o],_i=_o.indexA,l=_o.indexB,t_=this.m_groupBuffer[_i],o_=this.m_groupBuffer[l];t_&&t_===o_&&t_.m_groupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&(V[x++]=_o)}for(t_=[],o_=0,o=this.m_groupList;o;o=o.GetNext())if(o.m_groupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth)for(t_[o_++]=o,this.SetGroupFlags(o,o.m_groupFlags&~box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth),l=o.m_firstIndex;l<o.m_lastIndex;l++)this.m_accumulationBuffer[l]=0;for(o=0;o<x;o++){var _o=V[o],_i=_o.indexA,l=_o.indexB,i_=_o.weight;this.m_accumulationBuffer[_i]+=i_,this.m_accumulationBuffer[l]+=i_}for(box2d.b2Assert(this.m_depthBuffer!==null),l=0;l<o_;l++)for(o=t_[l],l=o.m_firstIndex;l<o.m_lastIndex;l++)i_=this.m_accumulationBuffer[l],this.m_depthBuffer[l]=.8>i_?0:box2d.b2_maxFloat;for(var i_=box2d.b2Sqrt(this.m_count)>>0,_e=0;_e<i_;_e++){for(var l_=!1,o=0;o<x;o++){var _o=V[o],_i=_o.indexA,l=_o.indexB,s_=1-_o.weight,_o=this.m_depthBuffer[_i],ws=this.m_depthBuffer[l],h_=ws+s_,s_=_o+s_;_o>h_&&(this.m_depthBuffer[_i]=h_,l_=!0),ws>s_&&(this.m_depthBuffer[l]=s_,l_=!0)}if(!l_)break}for(l=0;l<o_;l++)for(o=t_[l],l=o.m_firstIndex;l<o.m_lastIndex;l++)this.m_depthBuffer[l]=this.m_depthBuffer[l]<box2d.b2_maxFloat?this.m_depthBuffer[l]*this.m_particleDiameter:0};box2d.b2ParticleSystem.prototype.GetInsideBoundsEnumerator=function(V){var x=box2d.b2ParticleSystem.computeTag(this.m_inverseDiameter*V.lowerBound.x-1,this.m_inverseDiameter*V.lowerBound.y-1);V=box2d.b2ParticleSystem.computeTag(this.m_inverseDiameter*V.upperBound.x+1,this.m_inverseDiameter*V.upperBound.y+1);var o=this.m_proxyBuffer.count,_o=box2d.std_lower_bound(this.m_proxyBuffer.data,0,o,x,box2d.b2ParticleSystem.Proxy.CompareProxyTag),_i=box2d.std_upper_bound(this.m_proxyBuffer.data,0,o,V,box2d.b2ParticleSystem.Proxy.CompareTagProxy);return box2d.b2Assert(0<=_o),box2d.b2Assert(_o<=_i),box2d.b2Assert(_i<=o),new box2d.b2ParticleSystem.InsideBoundsEnumerator(this,x,V,_o,_i)};box2d.b2ParticleSystem.prototype.UpdateAllParticleFlags=function(){for(var V=this.m_allParticleFlags=0;V<this.m_count;V++)this.m_allParticleFlags|=this.m_flagsBuffer.data[V];this.m_needsUpdateAllParticleFlags=!1};box2d.b2ParticleSystem.prototype.UpdateAllGroupFlags=function(){this.m_allGroupFlags=0;for(var V=this.m_groupList;V;V=V.GetNext())this.m_allGroupFlags|=V.m_groupFlags;this.m_needsUpdateAllGroupFlags=!1};box2d.b2ParticleSystem.prototype.AddContact=function(V,x,o){var _o=box2d.b2ParticleSystem.prototype.AddContact.s_d,_i=this.m_positionBuffer.data;if(box2d.b2Assert(o===this.m_contactBuffer),o=box2d.b2Sub_V2_V2(_i[x],_i[V],_o),_o=box2d.b2Dot_V2_V2(o,o),_o<this.m_squaredDiameter){_i=box2d.b2InvSqrt(_o),isFinite(_i)||(_i=198177537e11);var l=this.m_contactBuffer.data[this.m_contactBuffer.Append()];l.indexA=V,l.indexB=x,l.flags=this.m_flagsBuffer.data[V]|this.m_flagsBuffer.data[x],l.weight=1-_o*_i*this.m_inverseDiameter,box2d.b2Mul_S_V2(_i,o,l.normal)}};box2d.b2ParticleSystem.prototype.AddContact.s_d=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.FindContacts_Reference=function(V){box2d.b2Assert(V===this.m_contactBuffer),V=this.m_proxyBuffer.count;for(var x=this.m_contactBuffer.count=0,o=0;x<V;x++){for(var _o=box2d.b2ParticleSystem.computeRelativeTag(this.m_proxyBuffer.data[x].tag,1,0),_i=x+1;_i<V&&!(_o<this.m_proxyBuffer.data[_i].tag);_i++)this.AddContact(this.m_proxyBuffer.data[x].index,this.m_proxyBuffer.data[_i].index,this.m_contactBuffer);for(_i=box2d.b2ParticleSystem.computeRelativeTag(this.m_proxyBuffer.data[x].tag,-1,1);o<V&&!(_i<=this.m_proxyBuffer.data[o].tag);o++);for(_o=box2d.b2ParticleSystem.computeRelativeTag(this.m_proxyBuffer.data[x].tag,1,1),_i=o;_i<V&&!(_o<this.m_proxyBuffer.data[_i].tag);_i++)this.AddContact(this.m_proxyBuffer.data[x].index,this.m_proxyBuffer.data[_i].index,this.m_contactBuffer)}};box2d.b2ParticleSystem.prototype.FindContacts=function(V){this.FindContacts_Reference(V)};box2d.b2ParticleSystem.prototype.UpdateProxies_Reference=function(V){box2d.b2Assert(V===this.m_proxyBuffer),V=this.m_positionBuffer.data;for(var x=this.m_inverseDiameter,o=0;o<this.m_proxyBuffer.count;++o){var _o=this.m_proxyBuffer.data[o],_i=V[_o.index];_o.tag=box2d.b2ParticleSystem.computeTag(x*_i.x,x*_i.y)}};box2d.b2ParticleSystem.prototype.UpdateProxies=function(V){this.UpdateProxies_Reference(V)};box2d.b2ParticleSystem.prototype.SortProxies=function(V){box2d.b2Assert(V===this.m_proxyBuffer),box2d.std_sort(this.m_proxyBuffer.data,0,this.m_proxyBuffer.count,box2d.b2ParticleSystem.Proxy.CompareProxyProxy)};box2d.b2ParticleSystem.prototype.FilterContacts=function(V){var x=this.GetParticleContactFilter();if(x!==null){box2d.b2Assert(V===this.m_contactBuffer);var o=this;this.m_contactBuffer.RemoveIf(function(_o){return _o.flags&box2d.b2ParticleFlag.b2_particleContactFilterParticle&&!x.ShouldCollideParticleParticle(o,_o.indexA,_o.indexB)})}};box2d.b2ParticleSystem.prototype.NotifyContactListenerPreContact=function(V){if(this.GetParticleContactListener()!==null){debugger;V.Initialize(this.m_contactBuffer,this.m_flagsBuffer)}};box2d.b2ParticleSystem.prototype.NotifyContactListenerPostContact=function(V){if(V=this.GetParticleContactListener(),V!==null){debugger;for(var x=0;x<this.m_contactBuffer.count;++x)V.BeginContactParticleParticle(this,this.m_contactBuffer.data[x])}};box2d.b2ParticleSystem.b2ParticleContactIsZombie=function(V){return(V.flags&box2d.b2ParticleFlag.b2_zombieParticle)===box2d.b2ParticleFlag.b2_zombieParticle};box2d.b2ParticleSystem.prototype.UpdateContacts=function(V){this.UpdateProxies(this.m_proxyBuffer),this.SortProxies(this.m_proxyBuffer);var x=new box2d.b2ParticleSystem.b2ParticlePairSet;this.NotifyContactListenerPreContact(x),this.FindContacts(this.m_contactBuffer),this.FilterContacts(this.m_contactBuffer),this.NotifyContactListenerPostContact(x),V&&this.m_contactBuffer.RemoveIf(box2d.b2ParticleSystem.b2ParticleContactIsZombie)};box2d.b2ParticleSystem.prototype.NotifyBodyContactListenerPreContact=function(V){if(this.GetFixtureContactListener()!==null){debugger;V.Initialize(this.m_bodyContactBuffer,this.m_flagsBuffer)}};box2d.b2ParticleSystem.prototype.NotifyBodyContactListenerPostContact=function(V){if(V=this.GetFixtureContactListener(),V!==null){debugger;for(var x=0;x<this.m_bodyContactBuffer.count;x++){var o=this.m_bodyContactBuffer.data[x];box2d.b2Assert(o!==null),V.BeginContactFixtureParticle(this,o)}}};box2d.b2ParticleSystem.UpdateBodyContactsCallback=function(V,x){box2d.b2FixtureParticleQueryCallback.call(this,V),this.m_contactFilter=x};goog.inherits(box2d.b2ParticleSystem.UpdateBodyContactsCallback,box2d.b2FixtureParticleQueryCallback);box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ShouldCollideFixtureParticle=function(V,x,o){return this.m_contactFilter&&this.m_system.GetFlagsBuffer()[o]&box2d.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_contactFilter.ShouldCollideFixtureParticle(V,this.m_system,o):!0};goog.exportSymbol("box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ShouldCollideFixtureParticle",box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ShouldCollideFixtureParticle);box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle=function(V,x,o){var _o=box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle.s_rp,_i=this.m_system.m_positionBuffer.data[o],l=box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle.s_n;if(x=V.ComputeDistance(_i,l,x),x<this.m_system.m_particleDiameter&&this.ShouldCollideFixtureParticle(V,this.m_system,o)){var t_=V.GetBody(),o_=t_.GetWorldCenter(),i_=t_.GetMass(),_e=t_.GetInertia()-i_*t_.GetLocalCenter().LengthSquared(),i_=0<i_?1/i_:0,_e=0<_e?1/_e:0,l_=this.m_system.m_flagsBuffer.data[o]&box2d.b2ParticleFlag.b2_wallParticle?0:this.m_system.GetParticleInvMass(),_o=box2d.b2Sub_V2_V2(_i,o_,_o),_o=box2d.b2Cross_V2_V2(_o,l),_o=l_+i_+_e*_o*_o,_i=this.m_system.m_bodyContactBuffer.data[this.m_system.m_bodyContactBuffer.Append()];_i.index=o,_i.body=t_,_i.fixture=V,_i.weight=1-x*this.m_system.m_inverseDiameter,_i.normal.Copy(l.SelfNeg()),_i.mass=0<_o?1/_o:0,this.m_system.DetectStuckParticle(o)}};goog.exportSymbol("box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle",box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle);box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle.s_n=new box2d.b2Vec2;box2d.b2ParticleSystem.UpdateBodyContactsCallback.prototype.ReportFixtureAndParticle.s_rp=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.UpdateBodyContacts=function(){var V=box2d.b2ParticleSystem.prototype.UpdateBodyContacts.s_aabb,x=new box2d.b2ParticleSystem.FixtureParticleSet;if(this.NotifyBodyContactListenerPreContact(x),0<this.m_stuckThreshold)for(var o=this.GetParticleCount(),_o=0;_o<o;_o++)this.m_bodyContactCountBuffer.data[_o]=0,this.m_timestamp>this.m_lastBodyContactStepBuffer.data[_o]+1&&(this.m_consecutiveContactStepsBuffer.data[_o]=0);this.m_bodyContactBuffer.SetCount(0),this.m_stuckParticleBuffer.SetCount(0),this.ComputeAABB(V),o=new box2d.b2ParticleSystem.UpdateBodyContactsCallback(this,this.GetFixtureContactFilter()),this.m_world.QueryAABB(o,V),this.m_def.strictContactCheck&&this.RemoveSpuriousBodyContacts(),this.NotifyBodyContactListenerPostContact(x)};box2d.b2ParticleSystem.prototype.UpdateBodyContacts.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.Solve=function(V){var x=box2d.b2ParticleSystem.prototype.Solve.s_subStep;if(this.m_count!==0&&(this.m_expirationTimeBuffer.data&&this.SolveLifetimes(V),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_zombieParticle&&this.SolveZombie(),this.m_needsUpdateAllParticleFlags&&this.UpdateAllParticleFlags(),this.m_needsUpdateAllGroupFlags&&this.UpdateAllGroupFlags(),!this.m_paused))for(this.m_iterationIndex=0;this.m_iterationIndex<V.particleIterations;this.m_iterationIndex++){++this.m_timestamp;var o=x.Copy(V);o.dt/=V.particleIterations,o.inv_dt*=V.particleIterations,this.UpdateContacts(!1),this.UpdateBodyContacts(),this.ComputeWeight(),this.m_allGroupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&this.ComputeDepth(),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_reactiveParticle&&this.UpdatePairsAndTriadsWithReactiveParticles(),this.m_hasForce&&this.SolveForce(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_viscousParticle&&this.SolveViscous(),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_repulsiveParticle&&this.SolveRepulsive(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_powderParticle&&this.SolvePowder(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_tensileParticle&&this.SolveTensile(o),this.m_allGroupFlags&box2d.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SolveSolid(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_colorMixingParticle&&this.SolveColorMixing(),this.SolveGravity(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_staticPressureParticle&&this.SolveStaticPressure(o),this.SolvePressure(o),this.SolveDamping(o),this.m_allParticleFlags&box2d.b2ParticleSystem.k_extraDampingFlags&&this.SolveExtraDamping(),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_elasticParticle&&this.SolveElastic(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_springParticle&&this.SolveSpring(o),this.LimitVelocity(o),this.m_allGroupFlags&box2d.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigidDamping(),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_barrierParticle&&this.SolveBarrier(o),this.SolveCollision(o),this.m_allGroupFlags&box2d.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigid(o),this.m_allParticleFlags&box2d.b2ParticleFlag.b2_wallParticle&&this.SolveWall();for(var _o=0;_o<this.m_count;_o++)this.m_positionBuffer.data[_o].SelfMulAdd(o.dt,this.m_velocityBuffer.data[_o])}};goog.exportProperty(box2d.b2ParticleSystem.prototype,"Solve",box2d.b2ParticleSystem.prototype.Solve);box2d.b2ParticleSystem.prototype.Solve.s_subStep=new box2d.b2TimeStep;box2d.b2ParticleSystem.SolveCollisionCallback=function(V,x){box2d.b2FixtureParticleQueryCallback.call(this,V),this.m_step=x};goog.inherits(box2d.b2ParticleSystem.SolveCollisionCallback,box2d.b2FixtureParticleQueryCallback);box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle=function(V,x,o){var _o=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_p1,_i=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_output,l=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_input,t_=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_p,o_=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_v,i_=box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_f,_e=V.GetBody(),l_=this.m_system.m_positionBuffer.data[o],ws=this.m_system.m_velocityBuffer.data[o];this.m_system.m_iterationIndex===0?(_o=box2d.b2MulT_X_V2(_e.m_xf0,l_,_o),V.GetShape().GetType()===box2d.b2ShapeType.e_circleShape&&(_o.SelfSub(_e.GetLocalCenter()),box2d.b2Mul_R_V2(_e.m_xf0.q,_o,_o),box2d.b2MulT_R_V2(_e.m_xf.q,_o,_o),_o.SelfAdd(_e.GetLocalCenter())),box2d.b2Mul_X_V2(_e.m_xf,_o,l.p1)):l.p1.Copy(l_),box2d.b2AddMul_V2_S_V2(l_,this.m_step.dt,ws,l.p2),l.maxFraction=1,V.RayCast(_i,l,x)&&(V=_i.normal,t_.x=(1-_i.fraction)*l.p1.x+_i.fraction*l.p2.x+box2d.b2_linearSlop*V.x,t_.y=(1-_i.fraction)*l.p1.y+_i.fraction*l.p2.y+box2d.b2_linearSlop*V.y,o_.x=this.m_step.inv_dt*(t_.x-l_.x),o_.y=this.m_step.inv_dt*(t_.y-l_.y),this.m_system.m_velocityBuffer.data[o].Copy(o_),i_.x=this.m_step.inv_dt*this.m_system.GetParticleMass()*(ws.x-o_.x),i_.y=this.m_step.inv_dt*this.m_system.GetParticleMass()*(ws.y-o_.y),this.m_system.ParticleApplyForce(o,i_))};goog.exportSymbol("box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle",box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle);box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_p1=new box2d.b2Vec2;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_output=new box2d.b2RayCastOutput;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_input=new box2d.b2RayCastInput;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_p=new box2d.b2Vec2;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportFixtureAndParticle.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportParticle=function(V,x){return!1};goog.exportSymbol("box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportParticle",box2d.b2ParticleSystem.SolveCollisionCallback.prototype.ReportParticle);box2d.b2ParticleSystem.prototype.SolveCollision=function(V){var x=this.m_positionBuffer.data,o=this.m_velocityBuffer.data,_o=box2d.b2ParticleSystem.prototype.SolveCollision.s_aabb;_o.lowerBound.x=+box2d.b2_maxFloat,_o.lowerBound.y=+box2d.b2_maxFloat,_o.upperBound.x=-box2d.b2_maxFloat,_o.upperBound.y=-box2d.b2_maxFloat;for(var _i=0;_i<this.m_count;_i++){var o_=o[_i],l=x[_i],t_=l.x+V.dt*o_.x,o_=l.y+V.dt*o_.y;_o.lowerBound.x=box2d.b2Min(_o.lowerBound.x,box2d.b2Min(l.x,t_)),_o.lowerBound.y=box2d.b2Min(_o.lowerBound.y,box2d.b2Min(l.y,o_)),_o.upperBound.x=box2d.b2Max(_o.upperBound.x,box2d.b2Max(l.x,t_)),_o.upperBound.y=box2d.b2Max(_o.upperBound.y,box2d.b2Max(l.y,o_))}V=new box2d.b2ParticleSystem.SolveCollisionCallback(this,V),this.m_world.QueryAABB(V,_o)};box2d.b2ParticleSystem.prototype.SolveCollision.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.LimitVelocity=function(V){var x=this.m_velocityBuffer.data;V=this.GetCriticalVelocitySquared(V);for(var o=0;o<this.m_count;o++){var _o=x[o],_i=box2d.b2Dot_V2_V2(_o,_o);_i>V&&_o.SelfMul(box2d.b2Sqrt(V/_i))}};box2d.b2ParticleSystem.prototype.SolveGravity=function(V){var x=box2d.b2ParticleSystem.prototype.SolveGravity.s_gravity,o=this.m_velocityBuffer.data;for(V=box2d.b2Mul_S_V2(V.dt*this.m_def.gravityScale,this.m_world.GetGravity(),x),x=0;x<this.m_count;x++)o[x].SelfAdd(V)};box2d.b2ParticleSystem.prototype.SolveGravity.s_gravity=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier=function(V){for(var x=box2d.b2ParticleSystem.prototype.SolveBarrier.s_aabb,o=box2d.b2ParticleSystem.prototype.SolveBarrier.s_va,_o=box2d.b2ParticleSystem.prototype.SolveBarrier.s_vb,_i=box2d.b2ParticleSystem.prototype.SolveBarrier.s_pba,l=box2d.b2ParticleSystem.prototype.SolveBarrier.s_vba,t_=box2d.b2ParticleSystem.prototype.SolveBarrier.s_vc,o_=box2d.b2ParticleSystem.prototype.SolveBarrier.s_pca,i_=box2d.b2ParticleSystem.prototype.SolveBarrier.s_vca,_e=box2d.b2ParticleSystem.prototype.SolveBarrier.s_qba,l_=box2d.b2ParticleSystem.prototype.SolveBarrier.s_qca,ws=box2d.b2ParticleSystem.prototype.SolveBarrier.s_dv,h_=box2d.b2ParticleSystem.prototype.SolveBarrier.s_f,s_=this.m_positionBuffer.data,B_=this.m_velocityBuffer.data,D_=0;D_<this.m_count;D_++)(this.m_flagsBuffer.data[D_]&box2d.b2ParticleSystem.k_barrierWallFlags)!==0&&B_[D_].SetZero();for(var D_=box2d.b2_barrierCollisionTime*V.dt,y_=this.GetParticleMass(),G_=0;G_<this.m_pairBuffer.count;G_++){var q_=this.m_pairBuffer.data[G_];if(q_.flags&box2d.b2ParticleFlag.b2_barrierParticle){var j_=q_.indexA,_2=q_.indexB,q_=s_[j_],m2=s_[_2],y2=x;box2d.b2Min_V2_V2(q_,m2,y2.lowerBound),box2d.b2Max_V2_V2(q_,m2,y2.upperBound);for(var I2=this.m_groupBuffer[j_],J2=this.m_groupBuffer[_2],j_=this.GetLinearVelocity(I2,j_,q_,o),_2=this.GetLinearVelocity(J2,_2,m2,_o),m2=box2d.b2Sub_V2_V2(m2,q_,_i),_2=box2d.b2Sub_V2_V2(_2,j_,l),y2=this.GetInsideBoundsEnumerator(y2),z2;0<=(z2=y2.GetNext());){var K2=s_[z2],$2=this.m_groupBuffer[z2];if(I2!==$2&&J2!==$2){var P_=this.GetLinearVelocity($2,z2,K2,t_),E_=box2d.b2Sub_V2_V2(K2,q_,o_),Z_=box2d.b2Sub_V2_V2(P_,j_,i_),N_=box2d.b2Cross_V2_V2(_2,Z_),s2=box2d.b2Cross_V2_V2(m2,Z_)-box2d.b2Cross_V2_V2(E_,_2),u2=box2d.b2Cross_V2_V2(m2,E_),p2=_e,v_=l_;if(N_===0){if(s2===0||(u2=-u2/s2,!(0<=u2&&u2<D_))||(box2d.b2AddMul_V2_S_V2(m2,u2,_2,p2),box2d.b2AddMul_V2_S_V2(E_,u2,Z_,v_),s2=box2d.b2Dot_V2_V2(p2,v_)/box2d.b2Dot_V2_V2(p2,p2),!(0<=s2&&1>=s2)))continue}else{if(u2=s2*s2-4*u2*N_,0>u2)continue;var F_=box2d.b2Sqrt(u2),u2=(-s2-F_)/(2*N_),N_=(-s2+F_)/(2*N_);if(u2>N_&&(s2=u2,u2=N_,N_=s2),box2d.b2AddMul_V2_S_V2(m2,u2,_2,p2),box2d.b2AddMul_V2_S_V2(E_,u2,Z_,v_),s2=box2d.b2Dot_V2_V2(p2,v_)/box2d.b2Dot_V2_V2(p2,p2),!(0<=u2&&u2<D_&&0<=s2&&1>=s2)&&(u2=N_,!(0<=u2&&u2<D_)||(box2d.b2AddMul_V2_S_V2(m2,u2,_2,p2),box2d.b2AddMul_V2_S_V2(E_,u2,Z_,v_),s2=box2d.b2Dot_V2_V2(p2,v_)/box2d.b2Dot_V2_V2(p2,p2),!(0<=s2&&1>=s2))))continue}E_=ws,E_.x=j_.x+s2*_2.x-P_.x,E_.y=j_.y+s2*_2.y-P_.y,P_=box2d.b2Mul_S_V2(y_,E_,h_),this.IsRigidGroup($2)?(y_=$2.GetMass(),E_=$2.GetInertia(),0<y_&&$2.m_linearVelocity.SelfMulAdd(1/y_,P_),0<E_&&($2.m_angularVelocity+=box2d.b2Cross_V2_V2(box2d.b2Sub_V2_V2(K2,$2.GetCenter(),box2d.b2Vec2.s_t0),P_)/E_)):B_[z2].SelfAdd(E_),this.ParticleApplyForce(z2,P_.SelfMul(-V.inv_dt))}}}}};box2d.b2ParticleSystem.prototype.SolveBarrier.s_aabb=new box2d.b2AABB;box2d.b2ParticleSystem.prototype.SolveBarrier.s_va=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_vb=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_pba=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_vba=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_vc=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_pca=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_vca=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_qba=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_qca=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_dv=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveBarrier.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveStaticPressure=function(V){this.m_staticPressureBuffer=this.RequestBuffer(this.m_staticPressureBuffer);var x=this.GetCriticalPressure(V);V=this.m_def.staticPressureStrength*x;for(var x=box2d.b2_maxParticlePressure*x,o=this.m_def.staticPressureRelaxation,_o=0;_o<this.m_def.staticPressureIterations;_o++){for(var _i=0;_i<this.m_count;_i++)this.m_accumulationBuffer[_i]=0;for(_i=0;_i<this.m_contactBuffer.count;_i++){var l=this.m_contactBuffer.data[_i];if(l.flags&box2d.b2ParticleFlag.b2_staticPressureParticle){var t_=l.indexA,o_=l.indexB,l=l.weight;this.m_accumulationBuffer[t_]+=l*this.m_staticPressureBuffer[o_],this.m_accumulationBuffer[o_]+=l*this.m_staticPressureBuffer[t_]}}for(_i=0;_i<this.m_count;_i++)l=this.m_weightBuffer[_i],this.m_staticPressureBuffer[_i]=this.m_flagsBuffer.data[_i]&box2d.b2ParticleFlag.b2_staticPressureParticle?box2d.b2Clamp((this.m_accumulationBuffer[_i]+V*(l-box2d.b2_minParticleWeight))/(l+o),0,x):0}};box2d.b2ParticleSystem.prototype.ComputeWeight=function(){for(var V=0;V<this.m_count;V++)this.m_weightBuffer[V]=0;for(V=0;V<this.m_bodyContactBuffer.count;V++){var o=this.m_bodyContactBuffer.data[V],x=o.index,o=o.weight;this.m_weightBuffer[x]+=o}for(V=0;V<this.m_contactBuffer.count;V++){var o=this.m_contactBuffer.data[V],x=o.indexA,_o=o.indexB,o=o.weight;this.m_weightBuffer[x]+=o,this.m_weightBuffer[_o]+=o}};box2d.b2ParticleSystem.prototype.SolvePressure=function(V){for(var x=box2d.b2ParticleSystem.prototype.SolvePressure.s_f,o=this.m_positionBuffer.data,_o=this.m_velocityBuffer.data,_i=this.GetCriticalPressure(V),l=this.m_def.pressureStrength*_i,t_=box2d.b2_maxParticlePressure*_i,o_=0;o_<this.m_count;o_++){var _i=this.m_weightBuffer[o_],i_=l*box2d.b2Max(0,_i-box2d.b2_minParticleWeight);this.m_accumulationBuffer[o_]=box2d.b2Min(i_,t_)}if(this.m_allParticleFlags&box2d.b2ParticleSystem.k_noPressureFlags)for(o_=0;o_<this.m_count;o_++)this.m_flagsBuffer.data[o_]&box2d.b2ParticleSystem.k_noPressureFlags&&(this.m_accumulationBuffer[o_]=0);if(this.m_allParticleFlags&box2d.b2ParticleFlag.b2_staticPressureParticle)for(box2d.b2Assert(this.m_staticPressureBuffer!==null),o_=0;o_<this.m_count;o_++)this.m_flagsBuffer.data[o_]&box2d.b2ParticleFlag.b2_staticPressureParticle&&(this.m_accumulationBuffer[o_]+=this.m_staticPressureBuffer[o_]);for(V=V.dt/(this.m_def.density*this.m_particleDiameter),t_=this.GetParticleInvMass(),o_=0;o_<this.m_bodyContactBuffer.count;o_++){var i_=this.m_bodyContactBuffer.data[o_],_e=i_.index,l_=i_.body,_i=i_.weight,ws=i_.mass,h_=i_.normal,s_=o[_e],i_=this.m_accumulationBuffer[_e]+l*_i,_i=box2d.b2Mul_S_V2(V*_i*ws*i_,h_,x);_o[_e].SelfMulSub(t_,_i),l_.ApplyLinearImpulse(_i,s_,!0)}for(o_=0;o_<this.m_contactBuffer.count;o_++)i_=this.m_contactBuffer.data[o_],_e=i_.indexA,l_=i_.indexB,_i=i_.weight,h_=i_.normal,i_=this.m_accumulationBuffer[_e]+this.m_accumulationBuffer[l_],_i=box2d.b2Mul_S_V2(V*_i*i_,h_,x),_o[_e].SelfSub(_i),_o[l_].SelfAdd(_i)};box2d.b2ParticleSystem.prototype.SolvePressure.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveDamping=function(V){var x=box2d.b2ParticleSystem.prototype.SolveDamping.s_v,o=box2d.b2ParticleSystem.prototype.SolveDamping.s_f,_o=this.m_positionBuffer.data,_i=this.m_velocityBuffer.data,l=this.m_def.dampingStrength;V=1/this.GetCriticalVelocity(V);for(var t_=this.GetParticleInvMass(),o_=0;o_<this.m_bodyContactBuffer.count;o_++){var s_=this.m_bodyContactBuffer.data[o_],i_=s_.index,_e=s_.body,l_=s_.weight,ws=s_.mass,h_=s_.normal,s_=_o[i_],B_=box2d.b2Sub_V2_V2(_e.GetLinearVelocityFromWorldPoint(s_,box2d.b2Vec2.s_t0),_i[i_],x),B_=box2d.b2Dot_V2_V2(B_,h_);0>B_&&(l_=box2d.b2Max(l*l_,box2d.b2Min(-V*B_,.5)),ws=box2d.b2Mul_S_V2(l_*ws*B_,h_,o),_i[i_].SelfMulAdd(t_,ws),_e.ApplyLinearImpulse(ws.SelfNeg(),s_,!0))}for(o_=0;o_<this.m_contactBuffer.count;o_++)s_=this.m_contactBuffer.data[o_],i_=s_.indexA,_e=s_.indexB,l_=s_.weight,h_=s_.normal,B_=box2d.b2Sub_V2_V2(_i[_e],_i[i_],x),B_=box2d.b2Dot_V2_V2(B_,h_),0>B_&&(l_=box2d.b2Max(l*l_,box2d.b2Min(-V*B_,.5)),ws=box2d.b2Mul_S_V2(l_*B_,h_,o),_i[i_].SelfAdd(ws),_i[_e].SelfSub(ws))};box2d.b2ParticleSystem.prototype.SolveDamping.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveDamping.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRigidDamping=function(){for(var V=box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_t0,x=box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_t1,o=box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_p,_o=box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_v,_i=[0],l=[0],t_=[0],o_=[0],i_=[0],_e=[0],l_=this.m_positionBuffer.data,ws=this.m_def.dampingStrength,h_=0;h_<this.m_bodyContactBuffer.count;h_++){var s_=this.m_bodyContactBuffer.data[h_],B_=s_.index,D_=this.m_groupBuffer[B_];if(this.IsRigidGroup(D_)){var y_=s_.body,G_=s_.normal,q_=s_.weight,s_=l_[B_],j_=box2d.b2Sub_V2_V2(y_.GetLinearVelocityFromWorldPoint(s_,V),D_.GetLinearVelocityFromWorldPoint(s_,x),_o),j_=box2d.b2Dot_V2_V2(j_,G_);0>j_&&(this.InitDampingParameterWithRigidGroupOrParticle(_i,l,t_,!0,D_,B_,s_,G_),this.InitDampingParameter(o_,i_,_e,y_.GetMass(),y_.GetInertia()-y_.GetMass()*y_.GetLocalCenter().LengthSquared(),y_.GetWorldCenter(),s_,G_),q_=ws*box2d.b2Min(q_,1)*this.ComputeDampingImpulse(_i[0],l[0],t_[0],o_[0],i_[0],_e[0],j_),this.ApplyDamping(_i[0],l[0],t_[0],!0,D_,B_,q_,G_),y_.ApplyLinearImpulse(box2d.b2Mul_S_V2(-q_,G_,box2d.b2Vec2.s_t0),s_,!0))}}for(h_=0;h_<this.m_contactBuffer.count;h_++){var s_=this.m_contactBuffer.data[h_],B_=s_.indexA,y_=s_.indexB,G_=s_.normal,q_=s_.weight,D_=this.m_groupBuffer[B_],_2=this.m_groupBuffer[y_],m2=this.IsRigidGroup(D_),y2=this.IsRigidGroup(_2);D_!==_2&&(m2||y2)&&(s_=box2d.b2Mid_V2_V2(l_[B_],l_[y_],o),j_=box2d.b2Sub_V2_V2(this.GetLinearVelocity(_2,y_,s_,V),this.GetLinearVelocity(D_,B_,s_,x),_o),j_=box2d.b2Dot_V2_V2(j_,G_),0>j_&&(this.InitDampingParameterWithRigidGroupOrParticle(_i,l,t_,m2,D_,B_,s_,G_),this.InitDampingParameterWithRigidGroupOrParticle(o_,i_,_e,y2,_2,y_,s_,G_),q_=ws*q_*this.ComputeDampingImpulse(_i[0],l[0],t_[0],o_[0],i_[0],_e[0],j_),this.ApplyDamping(_i[0],l[0],t_[0],m2,D_,B_,q_,G_),this.ApplyDamping(o_[0],i_[0],_e[0],y2,_2,y_,-q_,G_)))}};box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_t0=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_t1=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_p=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRigidDamping.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveExtraDamping=function(){for(var V=box2d.b2ParticleSystem.prototype.SolveExtraDamping.s_v,x=box2d.b2ParticleSystem.prototype.SolveExtraDamping.s_f,o=this.m_velocityBuffer.data,_o=this.m_positionBuffer.data,_i=this.GetParticleInvMass(),l=0;l<this.m_bodyContactBuffer.count;l++){var t_=this.m_bodyContactBuffer.data[l],o_=t_.index;if(this.m_flagsBuffer.data[o_]&box2d.b2ParticleSystem.k_extraDampingFlags){var i_=t_.body,_e=t_.mass,l_=t_.normal,t_=_o[o_],ws=box2d.b2Sub_V2_V2(i_.GetLinearVelocityFromWorldPoint(t_,box2d.b2Vec2.s_t0),o[o_],V),ws=box2d.b2Dot_V2_V2(ws,l_);0>ws&&(_e=box2d.b2Mul_S_V2(.5*_e*ws,l_,x),o[o_].SelfMulAdd(_i,_e),i_.ApplyLinearImpulse(_e.SelfNeg(),t_,!0))}}};box2d.b2ParticleSystem.prototype.SolveExtraDamping.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveExtraDamping.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveWall=function(){for(var V=this.m_velocityBuffer.data,x=0;x<this.m_count;x++)this.m_flagsBuffer.data[x]&box2d.b2ParticleFlag.b2_wallParticle&&V[x].SetZero()};box2d.b2ParticleSystem.prototype.SolveRigid=function(V){for(var x=box2d.b2ParticleSystem.prototype.SolveRigid.s_position,o=box2d.b2ParticleSystem.prototype.SolveRigid.s_rotation,_o=box2d.b2ParticleSystem.prototype.SolveRigid.s_transform,_i=box2d.b2ParticleSystem.prototype.SolveRigid.s_velocityTransform,l=this.m_positionBuffer.data,t_=this.m_velocityBuffer.data,o_=this.m_groupList;o_;o_=o_.GetNext())if(o_.m_groupFlags&box2d.b2ParticleGroupFlag.b2_rigidParticleGroup){o_.UpdateStatistics();var i_=o;i_.SetAngle(V.dt*o_.m_angularVelocity);var _e=box2d.b2Add_V2_V2(o_.m_center,box2d.b2Sub_V2_V2(box2d.b2Mul_S_V2(V.dt,o_.m_linearVelocity,box2d.b2Vec2.s_t0),box2d.b2Mul_R_V2(i_,o_.m_center,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0),x),l_=_o;for(l_.SetPositionRotation(_e,i_),box2d.b2Mul_X_X(l_,o_.m_transform,o_.m_transform),i_=_i,i_.p.x=V.inv_dt*l_.p.x,i_.p.y=V.inv_dt*l_.p.y,i_.q.s=V.inv_dt*l_.q.s,i_.q.c=V.inv_dt*(l_.q.c-1),l_=o_.m_firstIndex;l_<o_.m_lastIndex;l_++)box2d.b2Mul_X_V2(i_,l[l_],t_[l_])}};box2d.b2ParticleSystem.prototype.SolveRigid.s_position=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRigid.s_rotation=new box2d.b2Rot;box2d.b2ParticleSystem.prototype.SolveRigid.s_transform=new box2d.b2Transform;box2d.b2ParticleSystem.prototype.SolveRigid.s_velocityTransform=new box2d.b2Transform;box2d.b2ParticleSystem.prototype.SolveElastic=function(V){for(var x=box2d.b2ParticleSystem.prototype.SolveElastic.s_pa,o=box2d.b2ParticleSystem.prototype.SolveElastic.s_pb,_o=box2d.b2ParticleSystem.prototype.SolveElastic.s_pc,_i=box2d.b2ParticleSystem.prototype.SolveElastic.s_r,l=box2d.b2ParticleSystem.prototype.SolveElastic.s_t0,t_=this.m_positionBuffer.data,o_=this.m_velocityBuffer.data,i_=V.inv_dt*this.m_def.elasticStrength,_e=0;_e<this.m_triadBuffer.count;_e++){var l_=this.m_triadBuffer.data[_e];if(l_.flags&box2d.b2ParticleFlag.b2_elasticParticle){var G_=l_.indexA,q_=l_.indexB,j_=l_.indexC,ws=l_.pa,h_=l_.pb,s_=l_.pc,B_=x.Copy(t_[G_]),D_=o.Copy(t_[q_]),y_=_o.Copy(t_[j_]),G_=o_[G_],q_=o_[q_],j_=o_[j_];B_.SelfMulAdd(V.dt,G_),D_.SelfMulAdd(V.dt,q_),y_.SelfMulAdd(V.dt,j_);var _2=(B_.x+D_.x+y_.x)/3,m2=(B_.y+D_.y+y_.y)/3;B_.x-=_2,B_.y-=m2,D_.x-=_2,D_.y-=m2,y_.x-=_2,y_.y-=m2,_2=_i,_2.s=box2d.b2Cross_V2_V2(ws,B_)+box2d.b2Cross_V2_V2(h_,D_)+box2d.b2Cross_V2_V2(s_,y_),_2.c=box2d.b2Dot_V2_V2(ws,B_)+box2d.b2Dot_V2_V2(h_,D_)+box2d.b2Dot_V2_V2(s_,y_),m2=box2d.b2InvSqrt(_2.s*_2.s+_2.c*_2.c),isFinite(m2)||(m2=198177537e11),_2.s*=m2,_2.c*=m2,_2.angle=Math.atan2(_2.s,_2.c),l_=i_*l_.strength,box2d.b2Mul_R_V2(_2,ws,l),box2d.b2Sub_V2_V2(l,B_,l),box2d.b2Mul_S_V2(l_,l,l),G_.SelfAdd(l),box2d.b2Mul_R_V2(_2,h_,l),box2d.b2Sub_V2_V2(l,D_,l),box2d.b2Mul_S_V2(l_,l,l),q_.SelfAdd(l),box2d.b2Mul_R_V2(_2,s_,l),box2d.b2Sub_V2_V2(l,y_,l),box2d.b2Mul_S_V2(l_,l,l),j_.SelfAdd(l)}}};box2d.b2ParticleSystem.prototype.SolveElastic.s_pa=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveElastic.s_pb=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveElastic.s_pc=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveElastic.s_r=new box2d.b2Rot;box2d.b2ParticleSystem.prototype.SolveElastic.s_t0=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveSpring=function(V){for(var x=box2d.b2ParticleSystem.prototype.SolveSpring.s_pa,o=box2d.b2ParticleSystem.prototype.SolveSpring.s_pb,_o=box2d.b2ParticleSystem.prototype.SolveSpring.s_d,_i=box2d.b2ParticleSystem.prototype.SolveSpring.s_f,l=this.m_positionBuffer.data,t_=this.m_velocityBuffer.data,o_=V.inv_dt*this.m_def.springStrength,i_=0;i_<this.m_pairBuffer.count;i_++){var _e=this.m_pairBuffer.data[i_];if(_e.flags&box2d.b2ParticleFlag.b2_springParticle){var l_=_e.indexA,ws=_e.indexB,h_=x.Copy(l[l_]),s_=o.Copy(l[ws]),l_=t_[l_],ws=t_[ws];h_.SelfMulAdd(V.dt,l_),s_.SelfMulAdd(V.dt,ws);var h_=box2d.b2Sub_V2_V2(s_,h_,_o),s_=_e.distance,B_=h_.Length(),_e=box2d.b2Mul_S_V2(o_*_e.strength*(s_-B_)/B_,h_,_i);l_.SelfSub(_e),ws.SelfAdd(_e)}}};box2d.b2ParticleSystem.prototype.SolveSpring.s_pa=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveSpring.s_pb=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveSpring.s_d=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveSpring.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveTensile=function(V){var x=box2d.b2ParticleSystem.prototype.SolveTensile.s_weightedNormal,o=box2d.b2ParticleSystem.prototype.SolveTensile.s_s,_o=box2d.b2ParticleSystem.prototype.SolveTensile.s_f,_i=this.m_velocityBuffer.data;box2d.b2Assert(this.m_accumulation2Buffer!==null);for(var l=0;l<this.m_count;l++)this.m_accumulation2Buffer[l]=box2d.b2Vec2_zero.Clone(),this.m_accumulation2Buffer[l].SetZero();for(l=0;l<this.m_contactBuffer.count;l++){var t_=this.m_contactBuffer.data[l];if(t_.flags&box2d.b2ParticleFlag.b2_tensileParticle){var o_=t_.indexA,i_=t_.indexB,_e=t_.weight,t_=t_.normal,_e=box2d.b2Mul_S_V2((1-_e)*_e,t_,x);this.m_accumulation2Buffer[o_].SelfSub(_e),this.m_accumulation2Buffer[i_].SelfAdd(_e)}}l=this.GetCriticalVelocity(V),V=this.m_def.surfaceTensionPressureStrength*l;for(var x=this.m_def.surfaceTensionNormalStrength*l,l_=box2d.b2_maxParticleForce*l,l=0;l<this.m_contactBuffer.count;l++)if(t_=this.m_contactBuffer.data[l],t_.flags&box2d.b2ParticleFlag.b2_tensileParticle){var o_=t_.indexA,i_=t_.indexB,_e=t_.weight,t_=t_.normal,ws=this.m_weightBuffer[o_]+this.m_weightBuffer[i_],h_=box2d.b2Sub_V2_V2(this.m_accumulation2Buffer[i_],this.m_accumulation2Buffer[o_],o),_e=box2d.b2Min(V*(ws-2)+x*box2d.b2Dot_V2_V2(h_,t_),l_)*_e,_e=box2d.b2Mul_S_V2(_e,t_,_o);_i[o_].SelfSub(_e),_i[i_].SelfAdd(_e)}};box2d.b2ParticleSystem.prototype.SolveTensile.s_weightedNormal=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveTensile.s_s=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveTensile.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveViscous=function(){for(var V=box2d.b2ParticleSystem.prototype.SolveViscous.s_v,x=box2d.b2ParticleSystem.prototype.SolveViscous.s_f,o=this.m_positionBuffer.data,_o=this.m_velocityBuffer.data,_i=this.m_def.viscousStrength,l=this.GetParticleInvMass(),t_=0;t_<this.m_bodyContactBuffer.count;t_++){var o_=this.m_bodyContactBuffer.data[t_],i_=o_.index;if(this.m_flagsBuffer.data[i_]&box2d.b2ParticleFlag.b2_viscousParticle){var _e=o_.body,h_=o_.weight,l_=o_.mass,o_=o[i_],ws=box2d.b2Sub_V2_V2(_e.GetLinearVelocityFromWorldPoint(o_,box2d.b2Vec2.s_t0),_o[i_],V),h_=box2d.b2Mul_S_V2(_i*l_*h_,ws,x);_o[i_].SelfMulAdd(l,h_),_e.ApplyLinearImpulse(h_.SelfNeg(),o_,!0)}}for(t_=0;t_<this.m_contactBuffer.count;t_++)o_=this.m_contactBuffer.data[t_],o_.flags&box2d.b2ParticleFlag.b2_viscousParticle&&(i_=o_.indexA,_e=o_.indexB,h_=o_.weight,ws=box2d.b2Sub_V2_V2(_o[_e],_o[i_],V),h_=box2d.b2Mul_S_V2(_i*h_,ws,x),_o[i_].SelfAdd(h_),_o[_e].SelfSub(h_))};box2d.b2ParticleSystem.prototype.SolveViscous.s_v=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveViscous.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveRepulsive=function(V){var x=box2d.b2ParticleSystem.prototype.SolveRepulsive.s_f,o=this.m_velocityBuffer.data;V=this.m_def.repulsiveStrength*this.GetCriticalVelocity(V);for(var _o=0;_o<this.m_contactBuffer.count;_o++){var _i=this.m_contactBuffer.data[_o];if(_i.flags&box2d.b2ParticleFlag.b2_repulsiveParticle){var l=_i.indexA,t_=_i.indexB;this.m_groupBuffer[l]!==this.m_groupBuffer[t_]&&(_i=box2d.b2Mul_S_V2(V*_i.weight,_i.normal,x),o[l].SelfSub(_i),o[t_].SelfAdd(_i))}}};box2d.b2ParticleSystem.prototype.SolveRepulsive.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolvePowder=function(V){var x=box2d.b2ParticleSystem.prototype.SolvePowder.s_f,o=this.m_positionBuffer.data,_o=this.m_velocityBuffer.data;V=this.m_def.powderStrength*this.GetCriticalVelocity(V);for(var _i=1-box2d.b2_particleStride,l=this.GetParticleInvMass(),t_=0;t_<this.m_bodyContactBuffer.count;t_++){var o_=this.m_bodyContactBuffer.data[t_],i_=o_.index;if(this.m_flagsBuffer.data[i_]&box2d.b2ParticleFlag.b2_powderParticle){var _e=o_.weight;if(_e>_i){var l_=o_.body,ws=o[i_],h_=o_.normal,o_=box2d.b2Mul_S_V2(V*o_.mass*(_e-_i),h_,x);_o[i_].SelfMulSub(l,o_),l_.ApplyLinearImpulse(o_,ws,!0)}}}for(t_=0;t_<this.m_contactBuffer.count;t_++)o_=this.m_contactBuffer.data[t_],o_.flags&box2d.b2ParticleFlag.b2_powderParticle&&(_e=o_.weight,_e>_i&&(i_=o_.indexA,l_=o_.indexB,h_=o_.normal,o_=box2d.b2Mul_S_V2(V*(_e-_i),h_,x),_o[i_].SelfSub(o_),_o[l_].SelfAdd(o_)))};box2d.b2ParticleSystem.prototype.SolvePowder.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveSolid=function(V){var x=box2d.b2ParticleSystem.prototype.SolveSolid.s_f,o=this.m_velocityBuffer.data;this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer),V=V.inv_dt*this.m_def.ejectionStrength;for(var _o=0;_o<this.m_contactBuffer.count;_o++){var _i=this.m_contactBuffer.data[_o],l=_i.indexA,t_=_i.indexB;this.m_groupBuffer[l]!==this.m_groupBuffer[t_]&&(_i=box2d.b2Mul_S_V2(V*(this.m_depthBuffer[l]+this.m_depthBuffer[t_])*_i.weight,_i.normal,x),o[l].SelfSub(_i),o[t_].SelfAdd(_i))}};box2d.b2ParticleSystem.prototype.SolveSolid.s_f=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.SolveForce=function(V){var x=this.m_velocityBuffer.data;V=V.dt*this.GetParticleInvMass();for(var o=0;o<this.m_count;o++)x[o].SelfMulAdd(V,this.m_forceBuffer[o]);this.m_hasForce=!1};box2d.b2ParticleSystem.prototype.SolveColorMixing=function(){box2d.b2Assert(this.m_colorBuffer.data!==null);var V=Math.floor(128*this.m_def.colorMixingStrength);if(V)for(var x=0;x<this.m_contactBuffer.count;x++){var _o=this.m_contactBuffer.data[x],o=_o.indexA,_o=_o.indexB;this.m_flagsBuffer.data[o]&this.m_flagsBuffer.data[_o]&box2d.b2ParticleFlag.b2_colorMixingParticle&&box2d.b2ParticleColor.MixColors(this.m_colorBuffer.data[o],this.m_colorBuffer.data[_o],V)}};box2d.b2ParticleSystem.prototype.SolveZombie=function(){for(var V=0,x=[],o=0;o<this.m_count;o++)x[o]=box2d.b2_invalidParticleIndex;box2d.b2Assert(x.length===this.m_count);for(var _o=0,o=0;o<this.m_count;o++){var _i=this.m_flagsBuffer.data[o];if(_i&box2d.b2ParticleFlag.b2_zombieParticle){var l=this.m_world.m_destructionListener;_i&box2d.b2ParticleFlag.b2_destructionListenerParticle&&l&&l.SayGoodbyeParticle(this,o),this.m_handleIndexBuffer.data&&(l=this.m_handleIndexBuffer.data[o])&&(l.SetIndex(box2d.b2_invalidParticleIndex),this.m_handleIndexBuffer.data[o]=null),x[o]=box2d.b2_invalidParticleIndex}else x[o]=V,o!==V&&(this.m_handleIndexBuffer.data&&((l=this.m_handleIndexBuffer.data[o])&&l.SetIndex(V),this.m_handleIndexBuffer.data[V]=l),this.m_flagsBuffer.data[V]=this.m_flagsBuffer.data[o],this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[V]=this.m_lastBodyContactStepBuffer.data[o]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[V]=this.m_bodyContactCountBuffer.data[o]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[V]=this.m_consecutiveContactStepsBuffer.data[o]),this.m_positionBuffer.data[V].Copy(this.m_positionBuffer.data[o]),this.m_velocityBuffer.data[V].Copy(this.m_velocityBuffer.data[o]),this.m_groupBuffer[V]=this.m_groupBuffer[o],this.m_hasForce&&this.m_forceBuffer[V].Copy(this.m_forceBuffer[o]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[V]=this.m_staticPressureBuffer[o]),this.m_depthBuffer&&(this.m_depthBuffer[V]=this.m_depthBuffer[o]),this.m_colorBuffer.data&&this.m_colorBuffer.data[V].Copy(this.m_colorBuffer.data[o]),this.m_userDataBuffer.data&&(this.m_userDataBuffer.data[V]=this.m_userDataBuffer.data[o]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[V]=this.m_expirationTimeBuffer.data[o])),V++,_o|=_i}for(o=0;o<this.m_proxyBuffer.count;o++)_i=this.m_proxyBuffer.data[o],_i.index=x[_i.index];for(this.m_proxyBuffer.RemoveIf(function(_e){return 0>_e.index}),o=0;o<this.m_contactBuffer.count;o++)_i=this.m_contactBuffer.data[o],_i.indexA=x[_i.indexA],_i.indexB=x[_i.indexB];for(this.m_contactBuffer.RemoveIf(function(_e){return 0>_e.indexA||0>_e.indexB}),o=0;o<this.m_bodyContactBuffer.count;o++)_i=this.m_bodyContactBuffer.data[o],_i.index=x[_i.index];for(this.m_bodyContactBuffer.RemoveIf(function(_e){return 0>_e.index}),o=0;o<this.m_pairBuffer.count;o++)_i=this.m_pairBuffer.data[o],_i.indexA=x[_i.indexA],_i.indexB=x[_i.indexB];for(this.m_pairBuffer.RemoveIf(function(_e){return 0>_e.indexA||0>_e.indexB}),o=0;o<this.m_triadBuffer.count;o++)_i=this.m_triadBuffer.data[o],_i.indexA=x[_i.indexA],_i.indexB=x[_i.indexB],_i.indexC=x[_i.indexC];if(this.m_triadBuffer.RemoveIf(function(_e){return 0>_e.indexA||0>_e.indexB||0>_e.indexC}),this.m_indexByExpirationTimeBuffer.data)for(_i=o=0;_i<this.m_count;_i++)l=x[this.m_indexByExpirationTimeBuffer.data[_i]],l!==box2d.b2_invalidParticleIndex&&(this.m_indexByExpirationTimeBuffer.data[o++]=l);for(_i=this.m_groupList;_i;_i=_i.GetNext()){for(var l=V,t_=0,o_=!1,o=_i.m_firstIndex;o<_i.m_lastIndex;o++){var i_=x[o];0<=i_?(l=box2d.b2Min(l,i_),t_=box2d.b2Max(t_,i_+1)):o_=!0}l<t_?(_i.m_firstIndex=l,_i.m_lastIndex=t_,o_&&_i.m_groupFlags&box2d.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SetGroupFlags(_i,_i.m_groupFlags|box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth)):(_i.m_firstIndex=0,_i.m_lastIndex=0,_i.m_groupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupCanBeEmpty||this.SetGroupFlags(_i,_i.m_groupFlags|box2d.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed))}for(this.m_count=V,this.m_allParticleFlags=_o,this.m_needsUpdateAllParticleFlags=!1,_i=this.m_groupList;_i;)V=_i.GetNext(),_i.m_groupFlags&box2d.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed&&this.DestroyParticleGroup(_i),_i=V};box2d.b2ParticleSystem.prototype.SolveLifetimes=function(V){box2d.b2Assert(this.m_expirationTimeBuffer.data!==null),box2d.b2Assert(this.m_indexByExpirationTimeBuffer.data!==null),this.m_timeElapsed=this.LifetimeToExpirationTime(V.dt),V=this.GetQuantizedTimeElapsed();var x=this.m_expirationTimeBuffer.data,o=this.m_indexByExpirationTimeBuffer.data,_o=this.GetParticleCount();for(this.m_expirationTimeBufferRequiresSorting&&(box2d.std_sort(o,0,_o,function(t_,o_){var i_=x[t_],_e=x[o_],l_=0>=i_;return l_===0>=_e?i_>_e:l_}),this.m_expirationTimeBufferRequiresSorting=!1),--_o;0<=_o;--_o){var _i=o[_o],l=x[_i];if(V<l||0>=l)break;this.DestroyParticle(_i)}};box2d.b2ParticleSystem.prototype.RotateBuffer=function(V,x,o){function _o(o_){return o_<V?o_:o_<x?o_+o-x:o_<o?o_+V-x:o_}if(V!==x&&x!==o){if(box2d.b2Assert(x>=V&&x<=o),box2d.std_rotate(this.m_flagsBuffer.data,V,x,o),this.m_lastBodyContactStepBuffer.data&&box2d.std_rotate(this.m_lastBodyContactStepBuffer.data,V,x,o),this.m_bodyContactCountBuffer.data&&box2d.std_rotate(this.m_bodyContactCountBuffer.data,V,x,o),this.m_consecutiveContactStepsBuffer.data&&box2d.std_rotate(this.m_consecutiveContactStepsBuffer.data,V,x,o),box2d.std_rotate(this.m_positionBuffer.data,V,x,o),box2d.std_rotate(this.m_velocityBuffer.data,V,x,o),box2d.std_rotate(this.m_groupBuffer,V,x,o),this.m_hasForce&&box2d.std_rotate(this.m_forceBuffer,V,x,o),this.m_staticPressureBuffer&&box2d.std_rotate(this.m_staticPressureBuffer,V,x,o),this.m_depthBuffer&&box2d.std_rotate(this.m_depthBuffer,V,x,o),this.m_colorBuffer.data&&box2d.std_rotate(this.m_colorBuffer.data,V,x,o),this.m_userDataBuffer.data&&box2d.std_rotate(this.m_userDataBuffer.data,V,x,o),this.m_handleIndexBuffer.data){box2d.std_rotate(this.m_handleIndexBuffer.data,V,x,o);for(var _i=V;_i<o;++_i){var l=this.m_handleIndexBuffer.data[_i];l&&l.SetIndex(_o(l.GetIndex()))}}if(this.m_expirationTimeBuffer.data){box2d.std_rotate(this.m_expirationTimeBuffer.data,V,x,o);for(var l=this.GetParticleCount(),t_=this.m_indexByExpirationTimeBuffer.data,_i=0;_i<l;++_i)t_[_i]=_o(t_[_i])}for(_i=0;_i<this.m_proxyBuffer.count;_i++)l=this.m_proxyBuffer.data[_i],l.index=_o(l.index);for(_i=0;_i<this.m_contactBuffer.count;_i++)l=this.m_contactBuffer.data[_i],l.indexA=_o(l.indexA),l.indexB=_o(l.indexB);for(_i=0;_i<this.m_bodyContactBuffer.count;_i++)l=this.m_bodyContactBuffer.data[_i],l.index=_o(l.index);for(_i=0;_i<this.m_pairBuffer.count;_i++)l=this.m_pairBuffer.data[_i],l.indexA=_o(l.indexA),l.indexB=_o(l.indexB);for(_i=0;_i<this.m_triadBuffer.count;_i++)l=this.m_triadBuffer.data[_i],l.indexA=_o(l.indexA),l.indexB=_o(l.indexB),l.indexC=_o(l.indexC);for(_i=this.m_groupList;_i;_i=_i.GetNext())_i.m_firstIndex=_o(_i.m_firstIndex),_i.m_lastIndex=_o(_i.m_lastIndex-1)+1}};box2d.b2ParticleSystem.prototype.GetCriticalVelocity=function(V){return this.m_particleDiameter*V.inv_dt};box2d.b2ParticleSystem.prototype.GetCriticalVelocitySquared=function(V){return V=this.GetCriticalVelocity(V),V*V};box2d.b2ParticleSystem.prototype.GetCriticalPressure=function(V){return this.m_def.density*this.GetCriticalVelocitySquared(V)};box2d.b2ParticleSystem.prototype.GetParticleStride=function(){return box2d.b2_particleStride*this.m_particleDiameter};box2d.b2ParticleSystem.prototype.GetParticleMass=function(){var V=this.GetParticleStride();return this.m_def.density*V*V};box2d.b2ParticleSystem.prototype.GetParticleInvMass=function(){var V=1/box2d.b2_particleStride*this.m_inverseDiameter;return this.m_inverseDensity*V*V};box2d.b2ParticleSystem.prototype.GetFixtureContactFilter=function(){return this.m_allParticleFlags&box2d.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null};box2d.b2ParticleSystem.prototype.GetParticleContactFilter=function(){return this.m_allParticleFlags&box2d.b2ParticleFlag.b2_particleContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null};box2d.b2ParticleSystem.prototype.GetFixtureContactListener=function(){return this.m_allParticleFlags&box2d.b2ParticleFlag.b2_fixtureContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null};box2d.b2ParticleSystem.prototype.GetParticleContactListener=function(){return this.m_allParticleFlags&box2d.b2ParticleFlag.b2_particleContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null};box2d.b2ParticleSystem.prototype.SetUserOverridableBuffer=function(V,x,o){box2d.b2Assert(x!==null&&0<o||x===null&&o===0),V.data=x,V.userSuppliedCapacity=o};box2d.b2ParticleSystem.prototype.SetGroupFlags=function(V,x){var o=V.m_groupFlags;(o^x)&box2d.b2ParticleGroupFlag.b2_solidParticleGroup&&(x|=box2d.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth),o&~x&&(this.m_needsUpdateAllGroupFlags=!0),~this.m_allGroupFlags&x&&(x&box2d.b2ParticleGroupFlag.b2_solidParticleGroup&&(this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer)),this.m_allGroupFlags|=x),V.m_groupFlags=x};box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts=function(){box2d.std_sort(this.m_bodyContactBuffer.data,0,this.m_bodyContactBuffer.count,box2d.b2ParticleSystem.BodyContactCompare);var V=box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_n,x=box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_pos,o=box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_normal,_o=this,_i=-1,l=0,t_=0;this.m_bodyContactBuffer.count=box2d.std_remove_if(this.m_bodyContactBuffer.data,function(o_){if(o_.index!==_i&&(l=0,_i=o_.index),3<l++)return++t_,!0;var i_=V.Copy(o_.normal);if(i_.SelfMul(_o.m_particleDiameter*(1-o_.weight)),i_=box2d.b2Add_V2_V2(_o.m_positionBuffer.data[o_.index],i_,x),!o_.fixture.TestPoint(i_)){for(var _e=o_.fixture.GetShape().GetChildCount(),l_=0;l_<_e;l_++)if(o_.fixture.ComputeDistance(i_,o,l_)<box2d.b2_linearSlop)return!1;return++t_,!0}return!1},this.m_bodyContactBuffer.count)};box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_n=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_pos=new box2d.b2Vec2;box2d.b2ParticleSystem.prototype.RemoveSpuriousBodyContacts.s_normal=new box2d.b2Vec2;box2d.b2ParticleSystem.BodyContactCompare=function(V,x){return V.index===x.index?V.weight>x.weight:V.index<x.index};box2d.b2ParticleSystem.prototype.DetectStuckParticle=function(V){0>=this.m_stuckThreshold||(++this.m_bodyContactCountBuffer.data[V],this.m_bodyContactCountBuffer.data[V]===2&&(++this.m_consecutiveContactStepsBuffer.data[V],this.m_consecutiveContactStepsBuffer.data[V]>this.m_stuckThreshold&&(this.m_stuckParticleBuffer.data[this.m_stuckParticleBuffer.Append()]=V)),this.m_lastBodyContactStepBuffer.data[V]=this.m_timestamp)};box2d.b2ParticleSystem.prototype.ValidateParticleIndex=function(V){return 0<=V&&V<this.GetParticleCount()&&V!==box2d.b2_invalidParticleIndex};box2d.b2ParticleSystem.prototype.GetQuantizedTimeElapsed=function(){return Math.floor(this.m_timeElapsed/4294967296)};box2d.b2ParticleSystem.prototype.LifetimeToExpirationTime=function(V){return this.m_timeElapsed+Math.floor(V/this.m_def.lifetimeGranularity*4294967296)};box2d.b2ParticleSystem.prototype.ForceCanBeApplied=function(V){return!(V&box2d.b2ParticleFlag.b2_wallParticle)};box2d.b2ParticleSystem.prototype.PrepareForceBuffer=function(){if(!this.m_hasForce){for(var V=0;V<this.m_count;V++)this.m_forceBuffer[V].SetZero();this.m_hasForce=!0}};box2d.b2ParticleSystem.prototype.IsRigidGroup=function(V){return V!==null&&(V.m_groupFlags&box2d.b2ParticleGroupFlag.b2_rigidParticleGroup)!==0};box2d.b2ParticleSystem.prototype.GetLinearVelocity=function(V,x,o,_o){return this.IsRigidGroup(V)?V.GetLinearVelocityFromWorldPoint(o,_o):_o.Copy(this.m_velocityBuffer.data[x])};box2d.b2ParticleSystem.prototype.InitDampingParameter=function(V,x,o,_o,_i,l,t_,o_){V[0]=0<_o?1/_o:0,x[0]=0<_i?1/_i:0,o[0]=box2d.b2Cross_V2_V2(box2d.b2Sub_V2_V2(t_,l,box2d.b2Vec2.s_t0),o_)};box2d.b2ParticleSystem.prototype.InitDampingParameterWithRigidGroupOrParticle=function(V,x,o,_o,_i,l,t_,o_){_o?this.InitDampingParameter(V,x,o,_i.GetMass(),_i.GetInertia(),_i.GetCenter(),t_,o_):this.InitDampingParameter(V,x,o,this.m_flagsBuffer.data[l]&box2d.b2ParticleFlag.b2_wallParticle?0:this.GetParticleMass(),0,t_,t_,o_)};box2d.b2ParticleSystem.prototype.ComputeDampingImpulse=function(V,x,o,_o,_i,l,t_){return V=V+x*o*o+_o+_i*l*l,0<V?t_/V:0};box2d.b2ParticleSystem.prototype.ApplyDamping=function(V,x,o,_o,_i,l,t_,o_){_o?(_i.m_linearVelocity.SelfMulAdd(t_*V,o_),_i.m_angularVelocity+=t_*o*x):this.m_velocityBuffer.data[l].SelfMulAdd(t_*V,o_)};box2d.b2StackQueue=function(V){this.m_buffer=box2d.b2MakeArray(V),this.m_end=V};box2d.b2StackQueue.prototype.m_buffer=null;box2d.b2StackQueue.prototype.m_front=0;box2d.b2StackQueue.prototype.m_back=0;box2d.b2StackQueue.prototype.m_capacity=0;box2d.b2StackQueue.prototype.Push=function(V){if(this.m_back>=this.m_capacity){for(var x=this.m_front;x<this.m_back;x++)this.m_buffer[x-this.m_front]=this.m_buffer[x];this.m_back-=this.m_front,this.m_front=0,this.m_back>=this.m_capacity&&(0<this.m_capacity?(this.m_buffer.concat(box2d.b2MakeArray(this.m_capacity)),this.m_capacity*=2):(this.m_buffer.concat(box2d.b2MakeArray(1)),this.m_capacity=1))}this.m_buffer[this.m_back]=V,this.m_back++};box2d.b2StackQueue.prototype.Pop=function(){box2d.b2Assert(this.m_front<this.m_back),this.m_buffer[this.m_front]=null,this.m_front++};box2d.b2StackQueue.prototype.Empty=function(){return box2d.b2Assert(this.m_front<=this.m_back),this.m_front===this.m_back};box2d.b2StackQueue.prototype.Front=function(){return this.m_buffer[this.m_front]};box2d.b2VoronoiDiagram=function(V){this.m_generatorBuffer=box2d.b2MakeArray(V,function(x){return new box2d.b2VoronoiDiagram.Generator}),this.m_generatorCapacity=V};goog.exportSymbol("box2d.b2VoronoiDiagram",box2d.b2VoronoiDiagram);box2d.b2VoronoiDiagram.prototype.m_generatorBuffer=null;goog.exportProperty(box2d.b2VoronoiDiagram.prototype,"m_generatorBuffer",box2d.b2VoronoiDiagram.prototype.m_generatorBuffer);box2d.b2VoronoiDiagram.prototype.m_generatorCapacity=0;box2d.b2VoronoiDiagram.prototype.m_generatorCount=0;box2d.b2VoronoiDiagram.prototype.m_countX=0;box2d.b2VoronoiDiagram.prototype.m_countY=0;box2d.b2VoronoiDiagram.prototype.m_diagram=null;box2d.b2VoronoiDiagram.Generator=function(){this.center=new box2d.b2Vec2};box2d.b2VoronoiDiagram.Generator.prototype.center=null;box2d.b2VoronoiDiagram.Generator.prototype.tag=0;box2d.b2VoronoiDiagram.b2VoronoiDiagramTask=function(V,x,o,_o){this.m_x=V,this.m_y=x,this.m_i=o,this.m_generator=_o};box2d.b2VoronoiDiagram.b2VoronoiDiagramTask.prototype.m_x=0;box2d.b2VoronoiDiagram.b2VoronoiDiagramTask.prototype.m_y=0;box2d.b2VoronoiDiagram.b2VoronoiDiagramTask.prototype.m_i=0;box2d.b2VoronoiDiagram.b2VoronoiDiagramTask.prototype.m_generator=null;box2d.b2VoronoiDiagram.prototype.AddGenerator=function(V,x,o){box2d.b2Assert(this.m_generatorCount<this.m_generatorCapacity);var _o=this.m_generatorBuffer[this.m_generatorCount++];_o.center.Copy(V),_o.tag=x,_o.necessary=o};goog.exportProperty(box2d.b2VoronoiDiagram.prototype,"AddGenerator",box2d.b2VoronoiDiagram.prototype.AddGenerator);box2d.b2VoronoiDiagram.prototype.Generate=function(V,x){box2d.b2Assert(this.m_diagram===null);for(var o=1/V,_o=new box2d.b2Vec2(+box2d.b2_maxFloat,+box2d.b2_maxFloat),_i=new box2d.b2Vec2(-box2d.b2_maxFloat,-box2d.b2_maxFloat),l=0,t_=0;t_<this.m_generatorCount;t_++){var o_=this.m_generatorBuffer[t_];o_.necessary&&(box2d.b2Min_V2_V2(_o,o_.center,_o),box2d.b2Max_V2_V2(_i,o_.center,_i),++l)}if(l===0)this.m_countY=this.m_countX=0;else{for(_o.x-=x,_o.y-=x,_i.x+=x,_i.y+=x,this.m_countX=1+Math.floor(o*(_i.x-_o.x)),this.m_countY=1+Math.floor(o*(_i.y-_o.y)),this.m_diagram=box2d.b2MakeArray(this.m_countX*this.m_countY),_i=new box2d.b2StackQueue(4*this.m_countX*this.m_countY),t_=0;t_<this.m_generatorCount;t_++){o_=this.m_generatorBuffer[t_],o_.center.SelfSub(_o).SelfMul(o);var l=Math.floor(o_.center.x),i_=Math.floor(o_.center.y);0<=l&&0<=i_&&l<this.m_countX&&i_<this.m_countY&&_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_,l+i_*this.m_countX,o_))}for(;!_i.Empty();)t_=_i.Front(),l=t_.m_x,i_=t_.m_y,o=t_.m_i,o_=t_.m_generator,_i.Pop(),this.m_diagram[o]||(this.m_diagram[o]=o_,0<l&&_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l-1,i_,o-1,o_)),0<i_&&_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_-1,o-this.m_countX,o_)),l<this.m_countX-1&&_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l+1,i_,o+1,o_)),i_<this.m_countY-1&&_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_+1,o+this.m_countX,o_)));for(i_=0;i_<this.m_countY;i_++)for(l=0;l<this.m_countX-1;l++)o=l+i_*this.m_countX,_o=this.m_diagram[o],t_=this.m_diagram[o+1],_o!==t_&&(_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_,o,t_)),_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l+1,i_,o+1,_o)));for(i_=0;i_<this.m_countY-1;i_++)for(l=0;l<this.m_countX;l++)o=l+i_*this.m_countX,_o=this.m_diagram[o],t_=this.m_diagram[o+this.m_countX],_o!==t_&&(_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_,o,t_)),_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_+1,o+this.m_countX,_o)));for(;!_i.Empty();)if(t_=_i.Front(),l=t_.m_x,i_=t_.m_y,o=t_.m_i,t_=t_.m_generator,_i.Pop(),_o=this.m_diagram[o],_o!==t_){var o_=_o.center.x-l,_o=_o.center.y-i_,_e=t_.center.x-l,l_=t_.center.y-i_;o_*o_+_o*_o>_e*_e+l_*l_&&(this.m_diagram[o]=t_,0<l&&_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l-1,i_,o-1,t_)),0<i_&&_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_-1,o-this.m_countX,t_)),l<this.m_countX-1&&_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l+1,i_,o+1,t_)),i_<this.m_countY-1&&_i.Push(new box2d.b2VoronoiDiagram.b2VoronoiDiagramTask(l,i_+1,o+this.m_countX,t_)))}}};goog.exportProperty(box2d.b2VoronoiDiagram.prototype,"Generate",box2d.b2VoronoiDiagram.prototype.Generate);box2d.b2VoronoiDiagram.prototype.GetNodes=function(V){for(var x=0;x<this.m_countY-1;x++)for(var o=0;o<this.m_countX-1;o++){var t_=o+x*this.m_countX,_o=this.m_diagram[t_],_i=this.m_diagram[t_+1],l=this.m_diagram[t_+this.m_countX],t_=this.m_diagram[t_+1+this.m_countX];_i!==l&&(_o!==_i&&_o!==l&&(_o.necessary||_i.necessary||l.necessary)&&V(_o.tag,_i.tag,l.tag),t_!==_i&&t_!==l&&(_o.necessary||_i.necessary||l.necessary)&&V(_i.tag,t_.tag,l.tag))}};goog.exportProperty(box2d.b2VoronoiDiagram.prototype,"GetNodes",box2d.b2VoronoiDiagram.prototype.GetNodes);box2d.b2RopeDef=function(){this.vertices=[],this.masses=[],this.gravity=new box2d.b2Vec2};goog.exportSymbol("box2d.b2RopeDef",box2d.b2RopeDef);box2d.b2RopeDef.prototype.vertices=null;box2d.b2RopeDef.prototype.count=0;box2d.b2RopeDef.prototype.masses=null;box2d.b2RopeDef.prototype.gravity=null;box2d.b2RopeDef.prototype.damping=.1;box2d.b2RopeDef.prototype.k2=.9;box2d.b2RopeDef.prototype.k3=.1;box2d.b2Rope=function(){this.m_gravity=new box2d.b2Vec2};goog.exportSymbol("box2d.b2Rope",box2d.b2Rope);box2d.b2Rope.prototype.m_count=0;box2d.b2Rope.prototype.m_ps=null;box2d.b2Rope.prototype.m_p0s=null;box2d.b2Rope.prototype.m_vs=null;box2d.b2Rope.prototype.m_ims=null;box2d.b2Rope.prototype.m_Ls=null;box2d.b2Rope.prototype.m_as=null;box2d.b2Rope.prototype.m_gravity=null;box2d.b2Rope.prototype.m_damping=0;box2d.b2Rope.prototype.m_k2=1;box2d.b2Rope.prototype.m_k3=.1;box2d.b2Rope.prototype.GetVertexCount=function(){return this.m_count};goog.exportProperty(box2d.b2Rope.prototype,"GetVertexCount",box2d.b2Rope.prototype.GetVertexCount);box2d.b2Rope.prototype.GetVertices=function(){return this.m_ps};goog.exportProperty(box2d.b2Rope.prototype,"GetVertices",box2d.b2Rope.prototype.GetVertices);box2d.b2Rope.prototype.Initialize=function(V){box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=V.count),this.m_count=V.count,this.m_ps=box2d.b2Vec2.MakeArray(this.m_count),this.m_p0s=box2d.b2Vec2.MakeArray(this.m_count),this.m_vs=box2d.b2Vec2.MakeArray(this.m_count),this.m_ims=box2d.b2MakeNumberArray(this.m_count);for(var x=0;x<this.m_count;++x){this.m_ps[x].Copy(V.vertices[x]),this.m_p0s[x].Copy(V.vertices[x]),this.m_vs[x].SetZero();var _o=V.masses[x];this.m_ims[x]=0<_o?1/_o:0}var o=this.m_count-1,_o=this.m_count-2;for(this.m_Ls=box2d.b2MakeNumberArray(o),this.m_as=box2d.b2MakeNumberArray(_o),x=0;x<o;++x){var _i=this.m_ps[x],l=this.m_ps[x+1];this.m_Ls[x]=box2d.b2Distance(_i,l)}for(x=0;x<_o;++x)_i=this.m_ps[x],l=this.m_ps[x+1],o=this.m_ps[x+2],_i=box2d.b2Sub_V2_V2(l,_i,box2d.b2Vec2.s_t0),o=box2d.b2Sub_V2_V2(o,l,box2d.b2Vec2.s_t1),l=box2d.b2Cross_V2_V2(_i,o),_i=box2d.b2Dot_V2_V2(_i,o),this.m_as[x]=box2d.b2Atan2(l,_i);this.m_gravity.Copy(V.gravity),this.m_damping=V.damping,this.m_k2=V.k2,this.m_k3=V.k3};goog.exportProperty(box2d.b2Rope.prototype,"Initialize",box2d.b2Rope.prototype.Initialize);box2d.b2Rope.prototype.Step=function(V,x){if(V!==0){for(var o=Math.exp(-V*this.m_damping),_o=0;_o<this.m_count;++_o)this.m_p0s[_o].Copy(this.m_ps[_o]),0<this.m_ims[_o]&&this.m_vs[_o].SelfMulAdd(V,this.m_gravity),this.m_vs[_o].SelfMul(o),this.m_ps[_o].SelfMulAdd(V,this.m_vs[_o]);for(_o=0;_o<x;++_o)this.SolveC2(),this.SolveC3(),this.SolveC2();for(o=1/V,_o=0;_o<this.m_count;++_o)box2d.b2Mul_S_V2(o,box2d.b2Sub_V2_V2(this.m_ps[_o],this.m_p0s[_o],box2d.b2Vec2.s_t0),this.m_vs[_o])}};goog.exportProperty(box2d.b2Rope.prototype,"Step",box2d.b2Rope.prototype.Step);box2d.b2Rope.prototype.SolveC2=function(){for(var V=this.m_count-1,x=0;x<V;++x){var o=this.m_ps[x],_o=this.m_ps[x+1],_i=box2d.b2Sub_V2_V2(_o,o,box2d.b2Rope.s_d),l=_i.Normalize(),t_=this.m_ims[x],o_=this.m_ims[x+1];if(t_+o_!==0){var i_=o_/(t_+o_);o.SelfMulSub(t_/(t_+o_)*this.m_k2*(this.m_Ls[x]-l),_i),_o.SelfMulAdd(this.m_k2*i_*(this.m_Ls[x]-l),_i)}}};goog.exportProperty(box2d.b2Rope.prototype,"SolveC2",box2d.b2Rope.prototype.SolveC2);box2d.b2Rope.s_d=new box2d.b2Vec2;box2d.b2Rope.prototype.SetAngle=function(V){for(var x=this.m_count-2,o=0;o<x;++o)this.m_as[o]=V};goog.exportProperty(box2d.b2Rope.prototype,"SetAngle",box2d.b2Rope.prototype.SetAngle);box2d.b2Rope.prototype.SolveC3=function(){for(var V=this.m_count-2,x=0;x<V;++x){var o=this.m_ps[x],_o=this.m_ps[x+1],_i=this.m_ps[x+2],l=this.m_ims[x],t_=this.m_ims[x+1],o_=this.m_ims[x+2],i_=box2d.b2Sub_V2_V2(_o,o,box2d.b2Rope.s_d1),_e=box2d.b2Sub_V2_V2(_i,_o,box2d.b2Rope.s_d2),l_=i_.LengthSquared(),ws=_e.LengthSquared();if(l_*ws!==0){var s_=box2d.b2Cross_V2_V2(i_,_e),h_=box2d.b2Dot_V2_V2(i_,_e),s_=box2d.b2Atan2(s_,h_),i_=box2d.b2Mul_S_V2(-1/l_,i_.SelfSkew(),box2d.b2Rope.s_Jd1),l_=box2d.b2Mul_S_V2(1/ws,_e.SelfSkew(),box2d.b2Rope.s_Jd2),_e=box2d.b2Rope.s_J1.Copy(i_).SelfNeg(),ws=box2d.b2Sub_V2_V2(i_,l_,box2d.b2Rope.s_J2),i_=l_,l_=l*box2d.b2Dot_V2_V2(_e,_e)+t_*box2d.b2Dot_V2_V2(ws,ws)+o_*box2d.b2Dot_V2_V2(i_,i_);if(l_!==0){for(l_=1/l_,h_=s_-this.m_as[x];h_>box2d.b2_pi;)s_-=2*box2d.b2_pi,h_=s_-this.m_as[x];for(;h_<-box2d.b2_pi;)s_+=2*box2d.b2_pi,h_=s_-this.m_as[x];s_=-this.m_k3*l_*h_,o.SelfMulAdd(l*s_,_e),_o.SelfMulAdd(t_*s_,ws),_i.SelfMulAdd(o_*s_,i_)}}}};goog.exportProperty(box2d.b2Rope.prototype,"SolveC3",box2d.b2Rope.prototype.SolveC3);box2d.b2Rope.s_d1=new box2d.b2Vec2;box2d.b2Rope.s_d2=new box2d.b2Vec2;box2d.b2Rope.s_Jd1=new box2d.b2Vec2;box2d.b2Rope.s_Jd2=new box2d.b2Vec2;box2d.b2Rope.s_J1=new box2d.b2Vec2;box2d.b2Rope.s_J2=new box2d.b2Vec2;box2d.b2Rope.prototype.Draw=function(V){for(var x=new box2d.b2Color(.4,.5,.7),o=0;o<this.m_count-1;++o)V.DrawSegment(this.m_ps[o],this.m_ps[o+1],x)};goog.exportProperty(box2d.b2Rope.prototype,"Draw",box2d.b2Rope.prototype.Draw)});var aF=fV(_F=>{"use strict";var Y_={};(function(V,x){function o(){}!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function(_o,_i,l){l.get instanceof Function&&_o.__defineGetter__(_i,l.get),l.set instanceof Function&&_o.__defineSetter__(_i,l.set)}),V.inherit=function(_o,_i){o.prototype=_i.prototype,_o.prototype=new o,_o.prototype.constructor=_o},V.generateCallback=function(_o,_i){return function(){_i.apply(_o,arguments)}},V.NVector=function(_o){_o===x&&(_o=0);for(var _i=Array(_o||0),l=0;l<_o;++l)_i[l]=0;return _i},V.is=function(_o,_i){return _o===null?!1:!!(_i instanceof Function&&_o instanceof _i||_o.constructor.__implements!=x&&_o.constructor.__implements[_i])},V.parseUInt=function(_o){return Math.abs(parseInt(_o))}})(Y_);var j1=Array,KS=Y_.NVector;typeof Y_>"u"&&(Y_={});typeof Y_.Collision>"u"&&(Y_.Collision={});typeof Y_.Collision.Shapes>"u"&&(Y_.Collision.Shapes={});typeof Y_.Common>"u"&&(Y_.Common={});typeof Y_.Common.Math>"u"&&(Y_.Common.Math={});typeof Y_.Dynamics>"u"&&(Y_.Dynamics={});typeof Y_.Dynamics.Contacts>"u"&&(Y_.Dynamics.Contacts={});typeof Y_.Dynamics.Controllers>"u"&&(Y_.Dynamics.Controllers={});typeof Y_.Dynamics.Joints>"u"&&(Y_.Dynamics.Joints={});(function(){function V(){V.b2AABB.apply(this,arguments)}function x(){x.b2Bound.apply(this,arguments)}function o(){o.b2BoundValues.apply(this,arguments),this.constructor===o&&this.b2BoundValues.apply(this,arguments)}function _o(){_o.b2Collision.apply(this,arguments)}function _i(){_i.b2ContactID.apply(this,arguments),this.constructor===_i&&this.b2ContactID.apply(this,arguments)}function l(){l.b2ContactPoint.apply(this,arguments)}function t_(){t_.b2Distance.apply(this,arguments)}function o_(){o_.b2DistanceInput.apply(this,arguments)}function i_(){i_.b2DistanceOutput.apply(this,arguments)}function _e(){_e.b2DistanceProxy.apply(this,arguments)}function l_(){l_.b2DynamicTree.apply(this,arguments),this.constructor===l_&&this.b2DynamicTree.apply(this,arguments)}function ws(){ws.b2DynamicTreeBroadPhase.apply(this,arguments)}function h_(){h_.b2DynamicTreeNode.apply(this,arguments)}function s_(){s_.b2DynamicTreePair.apply(this,arguments)}function B_(){B_.b2Manifold.apply(this,arguments),this.constructor===B_&&this.b2Manifold.apply(this,arguments)}function D_(){D_.b2ManifoldPoint.apply(this,arguments),this.constructor===D_&&this.b2ManifoldPoint.apply(this,arguments)}function y_(){y_.b2Point.apply(this,arguments)}function G_(){G_.b2RayCastInput.apply(this,arguments),this.constructor===G_&&this.b2RayCastInput.apply(this,arguments)}function q_(){q_.b2RayCastOutput.apply(this,arguments)}function j_(){j_.b2Segment.apply(this,arguments)}function _2(){_2.b2SeparationFunction.apply(this,arguments)}function m2(){m2.b2Simplex.apply(this,arguments),this.constructor===m2&&this.b2Simplex.apply(this,arguments)}function y2(){y2.b2SimplexCache.apply(this,arguments)}function I2(){I2.b2SimplexVertex.apply(this,arguments)}function J2(){J2.b2TimeOfImpact.apply(this,arguments)}function z2(){z2.b2TOIInput.apply(this,arguments)}function K2(){K2.b2WorldManifold.apply(this,arguments),this.constructor===K2&&this.b2WorldManifold.apply(this,arguments)}function $2(){$2.ClipVertex.apply(this,arguments)}function P_(){P_.Features.apply(this,arguments)}function E_(){E_.b2CircleShape.apply(this,arguments),this.constructor===E_&&this.b2CircleShape.apply(this,arguments)}function Z_(){Z_.b2EdgeChainDef.apply(this,arguments),this.constructor===Z_&&this.b2EdgeChainDef.apply(this,arguments)}function N_(){N_.b2EdgeShape.apply(this,arguments),this.constructor===N_&&this.b2EdgeShape.apply(this,arguments)}function s2(){s2.b2MassData.apply(this,arguments)}function u2(){u2.b2PolygonShape.apply(this,arguments),this.constructor===u2&&this.b2PolygonShape.apply(this,arguments)}function p2(){p2.b2Shape.apply(this,arguments),this.constructor===p2&&this.b2Shape.apply(this,arguments)}function v_(){v_.b2Color.apply(this,arguments),this.constructor===v_&&this.b2Color.apply(this,arguments)}function F_(){F_.b2Settings.apply(this,arguments)}function $_(){$_.b2Mat22.apply(this,arguments),this.constructor===$_&&this.b2Mat22.apply(this,arguments)}function C_(){C_.b2Mat33.apply(this,arguments),this.constructor===C_&&this.b2Mat33.apply(this,arguments)}function W_(){W_.b2Math.apply(this,arguments)}function t2(){t2.b2Sweep.apply(this,arguments)}function l2(){l2.b2Transform.apply(this,arguments),this.constructor===l2&&this.b2Transform.apply(this,arguments)}function D2(){D2.b2Vec2.apply(this,arguments),this.constructor===D2&&this.b2Vec2.apply(this,arguments)}function G2(){G2.b2Vec3.apply(this,arguments),this.constructor===G2&&this.b2Vec3.apply(this,arguments)}function E2(){E2.b2Body.apply(this,arguments),this.constructor===E2&&this.b2Body.apply(this,arguments)}function V2(){V2.b2BodyDef.apply(this,arguments),this.constructor===V2&&this.b2BodyDef.apply(this,arguments)}function F2(){F2.b2ContactFilter.apply(this,arguments)}function U2(){U2.b2ContactImpulse.apply(this,arguments)}function Na(){Na.b2ContactListener.apply(this,arguments)}function g0(){g0.b2ContactManager.apply(this,arguments),this.constructor===g0&&this.b2ContactManager.apply(this,arguments)}function n0(){n0.b2DebugDraw.apply(this,arguments),this.constructor===n0&&this.b2DebugDraw.apply(this,arguments)}function J0(){J0.b2DestructionListener.apply(this,arguments)}function j0(){j0.b2FilterData.apply(this,arguments)}function V0(){V0.b2Fixture.apply(this,arguments),this.constructor===V0&&this.b2Fixture.apply(this,arguments)}function k0(){k0.b2FixtureDef.apply(this,arguments),this.constructor===k0&&this.b2FixtureDef.apply(this,arguments)}function F0(){F0.b2Island.apply(this,arguments),this.constructor===F0&&this.b2Island.apply(this,arguments)}function My(){My.b2TimeStep.apply(this,arguments)}function zP(){zP.b2World.apply(this,arguments),this.constructor===zP&&this.b2World.apply(this,arguments)}function KV(){KV.b2CircleContact.apply(this,arguments)}function T2(){T2.b2Contact.apply(this,arguments),this.constructor===T2&&this.b2Contact.apply(this,arguments)}function xB(){xB.b2ContactConstraint.apply(this,arguments),this.constructor===xB&&this.b2ContactConstraint.apply(this,arguments)}function dS(){dS.b2ContactConstraintPoint.apply(this,arguments)}function WP(){WP.b2ContactEdge.apply(this,arguments)}function NP(){NP.b2ContactFactory.apply(this,arguments),this.constructor===NP&&this.b2ContactFactory.apply(this,arguments)}function QV(){QV.b2ContactRegister.apply(this,arguments)}function $V(){$V.b2ContactResult.apply(this,arguments)}function OP(){OP.b2ContactSolver.apply(this,arguments),this.constructor===OP&&this.b2ContactSolver.apply(this,arguments)}function t4(){t4.b2EdgeAndCircleContact.apply(this,arguments)}function NB(){NB.b2NullContact.apply(this,arguments),this.constructor===NB&&this.b2NullContact.apply(this,arguments)}function OB(){OB.b2PolyAndCircleContact.apply(this,arguments)}function e4(){e4.b2PolyAndEdgeContact.apply(this,arguments)}function o4(){o4.b2PolygonContact.apply(this,arguments)}function UP(){UP.b2PositionSolverManifold.apply(this,arguments),this.constructor===UP&&this.b2PositionSolverManifold.apply(this,arguments)}function i4(){i4.b2BuoyancyController.apply(this,arguments)}function a_(){a_.b2ConstantAccelController.apply(this,arguments)}function r4(){r4.b2ConstantForceController.apply(this,arguments)}function G1(){G1.b2Controller.apply(this,arguments)}function g1(){g1.b2ControllerEdge.apply(this,arguments)}function EA(){EA.b2GravityController.apply(this,arguments)}function Z2(){Z2.b2TensorDampingController.apply(this,arguments)}function i0(){i0.b2DistanceJoint.apply(this,arguments),this.constructor===i0&&this.b2DistanceJoint.apply(this,arguments)}function BA(){BA.b2DistanceJointDef.apply(this,arguments),this.constructor===BA&&this.b2DistanceJointDef.apply(this,arguments)}function sy(){sy.b2FrictionJoint.apply(this,arguments),this.constructor===sy&&this.b2FrictionJoint.apply(this,arguments)}function X2(){X2.b2FrictionJointDef.apply(this,arguments),this.constructor===X2&&this.b2FrictionJointDef.apply(this,arguments)}function QS(){QS.b2GearJoint.apply(this,arguments),this.constructor===QS&&this.b2GearJoint.apply(this,arguments)}function XP(){XP.b2GearJointDef.apply(this,arguments),this.constructor===XP&&this.b2GearJointDef.apply(this,arguments)}function R0(){R0.b2Jacobian.apply(this,arguments)}function YP(){YP.b2Joint.apply(this,arguments),this.constructor===YP&&this.b2Joint.apply(this,arguments)}function UB(){UB.b2JointDef.apply(this,arguments),this.constructor===UB&&this.b2JointDef.apply(this,arguments)}function $S(){$S.b2JointEdge.apply(this,arguments)}function fB(){fB.b2LineJoint.apply(this,arguments),this.constructor===fB&&this.b2LineJoint.apply(this,arguments)}function iS(){iS.b2LineJointDef.apply(this,arguments),this.constructor===iS&&this.b2LineJointDef.apply(this,arguments)}function WC(){WC.b2MouseJoint.apply(this,arguments),this.constructor===WC&&this.b2MouseJoint.apply(this,arguments)}function HP(){HP.b2MouseJointDef.apply(this,arguments),this.constructor===HP&&this.b2MouseJointDef.apply(this,arguments)}function ZP(){ZP.b2PrismaticJoint.apply(this,arguments),this.constructor===ZP&&this.b2PrismaticJoint.apply(this,arguments)}function KP(){KP.b2PrismaticJointDef.apply(this,arguments),this.constructor===KP&&this.b2PrismaticJointDef.apply(this,arguments)}function NC(){NC.b2PulleyJoint.apply(this,arguments),this.constructor===NC&&this.b2PulleyJoint.apply(this,arguments)}function jA(){jA.b2PulleyJointDef.apply(this,arguments),this.constructor===jA&&this.b2PulleyJointDef.apply(this,arguments)}function gB(){gB.b2RevoluteJoint.apply(this,arguments),this.constructor===gB&&this.b2RevoluteJoint.apply(this,arguments)}function XB(){XB.b2RevoluteJointDef.apply(this,arguments),this.constructor===XB&&this.b2RevoluteJointDef.apply(this,arguments)}function YB(){YB.b2WeldJoint.apply(this,arguments),this.constructor===YB&&this.b2WeldJoint.apply(this,arguments)}function vB(){vB.b2WeldJointDef.apply(this,arguments),this.constructor===vB&&this.b2WeldJointDef.apply(this,arguments)}Y_.Collision.IBroadPhase="Box2D.Collision.IBroadPhase",Y_.Collision.b2AABB=V,Y_.Collision.b2Bound=x,Y_.Collision.b2BoundValues=o,Y_.Collision.b2Collision=_o,Y_.Collision.b2ContactID=_i,Y_.Collision.b2ContactPoint=l,Y_.Collision.b2Distance=t_,Y_.Collision.b2DistanceInput=o_,Y_.Collision.b2DistanceOutput=i_,Y_.Collision.b2DistanceProxy=_e,Y_.Collision.b2DynamicTree=l_,Y_.Collision.b2DynamicTreeBroadPhase=ws,Y_.Collision.b2DynamicTreeNode=h_,Y_.Collision.b2DynamicTreePair=s_,Y_.Collision.b2Manifold=B_,Y_.Collision.b2ManifoldPoint=D_,Y_.Collision.b2Point=y_,Y_.Collision.b2RayCastInput=G_,Y_.Collision.b2RayCastOutput=q_,Y_.Collision.b2Segment=j_,Y_.Collision.b2SeparationFunction=_2,Y_.Collision.b2Simplex=m2,Y_.Collision.b2SimplexCache=y2,Y_.Collision.b2SimplexVertex=I2,Y_.Collision.b2TimeOfImpact=J2,Y_.Collision.b2TOIInput=z2,Y_.Collision.b2WorldManifold=K2,Y_.Collision.ClipVertex=$2,Y_.Collision.Features=P_,Y_.Collision.Shapes.b2CircleShape=E_,Y_.Collision.Shapes.b2EdgeChainDef=Z_,Y_.Collision.Shapes.b2EdgeShape=N_,Y_.Collision.Shapes.b2MassData=s2,Y_.Collision.Shapes.b2PolygonShape=u2,Y_.Collision.Shapes.b2Shape=p2,Y_.Common.b2internal="Box2D.Common.b2internal",Y_.Common.b2Color=v_,Y_.Common.b2Settings=F_,Y_.Common.Math.b2Mat22=$_,Y_.Common.Math.b2Mat33=C_,Y_.Common.Math.b2Math=W_,Y_.Common.Math.b2Sweep=t2,Y_.Common.Math.b2Transform=l2,Y_.Common.Math.b2Vec2=D2,Y_.Common.Math.b2Vec3=G2,Y_.Dynamics.b2Body=E2,Y_.Dynamics.b2BodyDef=V2,Y_.Dynamics.b2ContactFilter=F2,Y_.Dynamics.b2ContactImpulse=U2,Y_.Dynamics.b2ContactListener=Na,Y_.Dynamics.b2ContactManager=g0,Y_.Dynamics.b2DebugDraw=n0,Y_.Dynamics.b2DestructionListener=J0,Y_.Dynamics.b2FilterData=j0,Y_.Dynamics.b2Fixture=V0,Y_.Dynamics.b2FixtureDef=k0,Y_.Dynamics.b2Island=F0,Y_.Dynamics.b2TimeStep=My,Y_.Dynamics.b2World=zP,Y_.Dynamics.Contacts.b2CircleContact=KV,Y_.Dynamics.Contacts.b2Contact=T2,Y_.Dynamics.Contacts.b2ContactConstraint=xB,Y_.Dynamics.Contacts.b2ContactConstraintPoint=dS,Y_.Dynamics.Contacts.b2ContactEdge=WP,Y_.Dynamics.Contacts.b2ContactFactory=NP,Y_.Dynamics.Contacts.b2ContactRegister=QV,Y_.Dynamics.Contacts.b2ContactResult=$V,Y_.Dynamics.Contacts.b2ContactSolver=OP,Y_.Dynamics.Contacts.b2EdgeAndCircleContact=t4,Y_.Dynamics.Contacts.b2NullContact=NB,Y_.Dynamics.Contacts.b2PolyAndCircleContact=OB,Y_.Dynamics.Contacts.b2PolyAndEdgeContact=e4,Y_.Dynamics.Contacts.b2PolygonContact=o4,Y_.Dynamics.Contacts.b2PositionSolverManifold=UP,Y_.Dynamics.Controllers.b2BuoyancyController=i4,Y_.Dynamics.Controllers.b2ConstantAccelController=a_,Y_.Dynamics.Controllers.b2ConstantForceController=r4,Y_.Dynamics.Controllers.b2Controller=G1,Y_.Dynamics.Controllers.b2ControllerEdge=g1,Y_.Dynamics.Controllers.b2GravityController=EA,Y_.Dynamics.Controllers.b2TensorDampingController=Z2,Y_.Dynamics.Joints.b2DistanceJoint=i0,Y_.Dynamics.Joints.b2DistanceJointDef=BA,Y_.Dynamics.Joints.b2FrictionJoint=sy,Y_.Dynamics.Joints.b2FrictionJointDef=X2,Y_.Dynamics.Joints.b2GearJoint=QS,Y_.Dynamics.Joints.b2GearJointDef=XP,Y_.Dynamics.Joints.b2Jacobian=R0,Y_.Dynamics.Joints.b2Joint=YP,Y_.Dynamics.Joints.b2JointDef=UB,Y_.Dynamics.Joints.b2JointEdge=$S,Y_.Dynamics.Joints.b2LineJoint=fB,Y_.Dynamics.Joints.b2LineJointDef=iS,Y_.Dynamics.Joints.b2MouseJoint=WC,Y_.Dynamics.Joints.b2MouseJointDef=HP,Y_.Dynamics.Joints.b2PrismaticJoint=ZP,Y_.Dynamics.Joints.b2PrismaticJointDef=KP,Y_.Dynamics.Joints.b2PulleyJoint=NC,Y_.Dynamics.Joints.b2PulleyJointDef=jA,Y_.Dynamics.Joints.b2RevoluteJoint=gB,Y_.Dynamics.Joints.b2RevoluteJointDef=XB,Y_.Dynamics.Joints.b2WeldJoint=YB,Y_.Dynamics.Joints.b2WeldJointDef=vB})();Y_.postDefs=[];(function(){var V=Y_.Collision.Shapes.b2CircleShape,x=Y_.Collision.Shapes.b2PolygonShape,o=Y_.Collision.Shapes.b2Shape,_o=Y_.Common.b2Settings,_i=Y_.Common.Math.b2Math,l=Y_.Common.Math.b2Sweep,t_=Y_.Common.Math.b2Transform,o_=Y_.Common.Math.b2Vec2,i_=Y_.Collision.b2AABB,_e=Y_.Collision.b2Bound,l_=Y_.Collision.b2BoundValues,ws=Y_.Collision.b2Collision,h_=Y_.Collision.b2ContactID,s_=Y_.Collision.b2ContactPoint,B_=Y_.Collision.b2Distance,D_=Y_.Collision.b2DistanceInput,y_=Y_.Collision.b2DistanceOutput,G_=Y_.Collision.b2DistanceProxy,q_=Y_.Collision.b2DynamicTree,j_=Y_.Collision.b2DynamicTreeBroadPhase,_2=Y_.Collision.b2DynamicTreeNode,m2=Y_.Collision.b2DynamicTreePair,y2=Y_.Collision.b2Manifold,I2=Y_.Collision.b2ManifoldPoint,J2=Y_.Collision.b2Point,z2=Y_.Collision.b2RayCastInput,K2=Y_.Collision.b2RayCastOutput,$2=Y_.Collision.b2Segment,P_=Y_.Collision.b2SeparationFunction,E_=Y_.Collision.b2Simplex,Z_=Y_.Collision.b2SimplexCache,N_=Y_.Collision.b2SimplexVertex,s2=Y_.Collision.b2TimeOfImpact,u2=Y_.Collision.b2TOIInput,p2=Y_.Collision.b2WorldManifold,v_=Y_.Collision.ClipVertex,F_=Y_.Collision.Features,$_=Y_.Collision.IBroadPhase;i_.b2AABB=function(){this.lowerBound=new o_,this.upperBound=new o_},i_.prototype.IsValid=function(){var C_=this.upperBound.y-this.lowerBound.y;return C_=(C_=this.upperBound.x-this.lowerBound.x>=0&&C_>=0)&&this.lowerBound.IsValid()&&this.upperBound.IsValid()},i_.prototype.GetCenter=function(){return new o_((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},i_.prototype.GetExtents=function(){return new o_((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},i_.prototype.Contains=function(C_){var W_=!0;return W_=(W_=(W_=(W_=W_&&this.lowerBound.x<=C_.lowerBound.x)&&this.lowerBound.y<=C_.lowerBound.y)&&C_.upperBound.x<=this.upperBound.x)&&C_.upperBound.y<=this.upperBound.y},i_.prototype.RayCast=function(C_,W_){var t2=-Number.MAX_VALUE,l2=Number.MAX_VALUE,D2=W_.p1.x,G2=W_.p1.y,E2=W_.p2.x-W_.p1.x,V2=W_.p2.y-W_.p1.y,F2=Math.abs(V2),U2=C_.normal,Na=0,g0=0,n0=Na=0;if(n0=0,Math.abs(E2)<Number.MIN_VALUE){if(D2<this.lowerBound.x||this.upperBound.x<D2)return!1}else if(Na=1/E2,g0=(this.lowerBound.x-D2)*Na,Na=(this.upperBound.x-D2)*Na,n0=-1,g0>Na&&(n0=g0,g0=Na,Na=n0,n0=1),g0>t2&&(U2.x=n0,U2.y=0,t2=g0),l2=Math.min(l2,Na),t2>l2)return!1;if(F2<Number.MIN_VALUE){if(G2<this.lowerBound.y||this.upperBound.y<G2)return!1}else if(Na=1/V2,g0=(this.lowerBound.y-G2)*Na,Na=(this.upperBound.y-G2)*Na,n0=-1,g0>Na&&(n0=g0,g0=Na,Na=n0,n0=1),g0>t2&&(U2.y=n0,U2.x=0,t2=g0),l2=Math.min(l2,Na),t2>l2)return!1;return C_.fraction=t2,!0},i_.prototype.TestOverlap=function(C_){var W_=C_.lowerBound.y-this.upperBound.y,t2=this.lowerBound.y-C_.upperBound.y;return!(C_.lowerBound.x-this.upperBound.x>0||W_>0||this.lowerBound.x-C_.upperBound.x>0||t2>0)},i_.Combine=function(C_,W_){var t2=new i_;return t2.Combine(C_,W_),t2},i_.prototype.Combine=function(C_,W_){this.lowerBound.x=Math.min(C_.lowerBound.x,W_.lowerBound.x),this.lowerBound.y=Math.min(C_.lowerBound.y,W_.lowerBound.y),this.upperBound.x=Math.max(C_.upperBound.x,W_.upperBound.x),this.upperBound.y=Math.max(C_.upperBound.y,W_.upperBound.y)},_e.b2Bound=function(){},_e.prototype.IsLower=function(){return(this.value&1)==0},_e.prototype.IsUpper=function(){return(this.value&1)==1},_e.prototype.Swap=function(C_){var W_=this.value,t2=this.proxy,l2=this.stabbingCount;this.value=C_.value,this.proxy=C_.proxy,this.stabbingCount=C_.stabbingCount,C_.value=W_,C_.proxy=t2,C_.stabbingCount=l2},l_.b2BoundValues=function(){},l_.prototype.b2BoundValues=function(){this.lowerValues=new KS,this.lowerValues[0]=0,this.lowerValues[1]=0,this.upperValues=new KS,this.upperValues[0]=0,this.upperValues[1]=0},ws.b2Collision=function(){},ws.ClipSegmentToLine=function(C_,W_,t2,l2){l2===void 0&&(l2=0);var D2,G2=0;D2=W_[0];var E2=D2.v;D2=W_[1];var V2=D2.v,F2=t2.x*E2.x+t2.y*E2.y-l2;return D2=t2.x*V2.x+t2.y*V2.y-l2,F2<=0&&C_[G2++].Set(W_[0]),D2<=0&&C_[G2++].Set(W_[1]),F2*D2<0&&(t2=F2/(F2-D2),D2=C_[G2],D2=D2.v,D2.x=E2.x+t2*(V2.x-E2.x),D2.y=E2.y+t2*(V2.y-E2.y),D2=C_[G2],D2.id=(F2>0?W_[0]:W_[1]).id,++G2),G2},ws.EdgeSeparation=function(C_,W_,t2,l2,D2){t2===void 0&&(t2=0),parseInt(C_.m_vertexCount);var G2=C_.m_vertices;C_=C_.m_normals;var E2=parseInt(l2.m_vertexCount),V2=l2.m_vertices,F2,U2;F2=W_.R,U2=C_[t2],C_=F2.col1.x*U2.x+F2.col2.x*U2.y,l2=F2.col1.y*U2.x+F2.col2.y*U2.y,F2=D2.R;var Na=F2.col1.x*C_+F2.col1.y*l2;F2=F2.col2.x*C_+F2.col2.y*l2;for(var g0=0,n0=Number.MAX_VALUE,J0=0;J0<E2;++J0)U2=V2[J0],U2=U2.x*Na+U2.y*F2,U2<n0&&(n0=U2,g0=J0);return U2=G2[t2],F2=W_.R,t2=W_.position.x+(F2.col1.x*U2.x+F2.col2.x*U2.y),W_=W_.position.y+(F2.col1.y*U2.x+F2.col2.y*U2.y),U2=V2[g0],F2=D2.R,G2=D2.position.x+(F2.col1.x*U2.x+F2.col2.x*U2.y),D2=D2.position.y+(F2.col1.y*U2.x+F2.col2.y*U2.y),G2-=t2,D2-=W_,G2*C_+D2*l2},ws.FindMaxSeparation=function(C_,W_,t2,l2,D2){var G2=parseInt(W_.m_vertexCount),E2=W_.m_normals,V2,F2;F2=D2.R,V2=l2.m_centroid;var U2=D2.position.x+(F2.col1.x*V2.x+F2.col2.x*V2.y),Na=D2.position.y+(F2.col1.y*V2.x+F2.col2.y*V2.y);F2=t2.R,V2=W_.m_centroid,U2-=t2.position.x+(F2.col1.x*V2.x+F2.col2.x*V2.y),Na-=t2.position.y+(F2.col1.y*V2.x+F2.col2.y*V2.y),F2=U2*t2.R.col1.x+Na*t2.R.col1.y,Na=U2*t2.R.col2.x+Na*t2.R.col2.y,U2=0;for(var g0=-Number.MAX_VALUE,n0=0;n0<G2;++n0)V2=E2[n0],V2=V2.x*F2+V2.y*Na,V2>g0&&(g0=V2,U2=n0);E2=ws.EdgeSeparation(W_,t2,U2,l2,D2),V2=parseInt(U2-1>=0?U2-1:G2-1),F2=ws.EdgeSeparation(W_,t2,V2,l2,D2),Na=parseInt(U2+1<G2?U2+1:0),g0=ws.EdgeSeparation(W_,t2,Na,l2,D2);var J0=n0=0,j0=0;if(F2>E2&&F2>g0)j0=-1,n0=V2,J0=F2;else if(g0>E2)j0=1,n0=Na,J0=g0;else return C_[0]=U2,E2;for(;U2=j0==-1?n0-1>=0?n0-1:G2-1:n0+1<G2?n0+1:0,E2=ws.EdgeSeparation(W_,t2,U2,l2,D2),E2>J0;)n0=U2,J0=E2;return C_[0]=n0,J0},ws.FindIncidentEdge=function(C_,W_,t2,l2,D2,G2){l2===void 0&&(l2=0),parseInt(W_.m_vertexCount);var E2=W_.m_normals,V2=parseInt(D2.m_vertexCount);W_=D2.m_vertices,D2=D2.m_normals;var F2;F2=t2.R,t2=E2[l2],E2=F2.col1.x*t2.x+F2.col2.x*t2.y;var U2=F2.col1.y*t2.x+F2.col2.y*t2.y;F2=G2.R,t2=F2.col1.x*E2+F2.col1.y*U2,U2=F2.col2.x*E2+F2.col2.y*U2,E2=t2,F2=0;for(var Na=Number.MAX_VALUE,g0=0;g0<V2;++g0)t2=D2[g0],t2=E2*t2.x+U2*t2.y,t2<Na&&(Na=t2,F2=g0);D2=parseInt(F2),E2=parseInt(D2+1<V2?D2+1:0),V2=C_[0],t2=W_[D2],F2=G2.R,V2.v.x=G2.position.x+(F2.col1.x*t2.x+F2.col2.x*t2.y),V2.v.y=G2.position.y+(F2.col1.y*t2.x+F2.col2.y*t2.y),V2.id.features.referenceEdge=l2,V2.id.features.incidentEdge=D2,V2.id.features.incidentVertex=0,V2=C_[1],t2=W_[E2],F2=G2.R,V2.v.x=G2.position.x+(F2.col1.x*t2.x+F2.col2.x*t2.y),V2.v.y=G2.position.y+(F2.col1.y*t2.x+F2.col2.y*t2.y),V2.id.features.referenceEdge=l2,V2.id.features.incidentEdge=E2,V2.id.features.incidentVertex=1},ws.MakeClipPointVector=function(){var C_=new j1(2);return C_[0]=new v_,C_[1]=new v_,C_},ws.CollidePolygons=function(C_,W_,t2,l2,D2){var G2;C_.m_pointCount=0;var E2=W_.m_radius+l2.m_radius;G2=0,ws.s_edgeAO[0]=G2;var V2=ws.FindMaxSeparation(ws.s_edgeAO,W_,t2,l2,D2);if(G2=ws.s_edgeAO[0],!(V2>E2)){var F2=0;ws.s_edgeBO[0]=F2;var U2=ws.FindMaxSeparation(ws.s_edgeBO,l2,D2,W_,t2);if(F2=ws.s_edgeBO[0],!(U2>E2)){var Na=0,g0=0;U2>.98*V2+.001?(V2=l2,l2=W_,W_=D2,t2=t2,Na=F2,C_.m_type=y2.e_faceB,g0=1):(V2=W_,l2=l2,W_=t2,t2=D2,Na=G2,C_.m_type=y2.e_faceA,g0=0),G2=ws.s_incidentEdge,ws.FindIncidentEdge(G2,V2,W_,Na,l2,t2),F2=parseInt(V2.m_vertexCount),D2=V2.m_vertices,V2=D2[Na];var n0;n0=Na+1<F2?D2[parseInt(Na+1)]:D2[0],Na=ws.s_localTangent,Na.Set(n0.x-V2.x,n0.y-V2.y),Na.Normalize(),D2=ws.s_localNormal,D2.x=Na.y,D2.y=-Na.x,l2=ws.s_planePoint,l2.Set(.5*(V2.x+n0.x),.5*(V2.y+n0.y)),U2=ws.s_tangent,F2=W_.R,U2.x=F2.col1.x*Na.x+F2.col2.x*Na.y,U2.y=F2.col1.y*Na.x+F2.col2.y*Na.y;var J0=ws.s_tangent2;J0.x=-U2.x,J0.y=-U2.y,Na=ws.s_normal,Na.x=U2.y,Na.y=-U2.x;var j0=ws.s_v11,V0=ws.s_v12;if(j0.x=W_.position.x+(F2.col1.x*V2.x+F2.col2.x*V2.y),j0.y=W_.position.y+(F2.col1.y*V2.x+F2.col2.y*V2.y),V0.x=W_.position.x+(F2.col1.x*n0.x+F2.col2.x*n0.y),V0.y=W_.position.y+(F2.col1.y*n0.x+F2.col2.y*n0.y),W_=Na.x*j0.x+Na.y*j0.y,F2=U2.x*V0.x+U2.y*V0.y+E2,n0=ws.s_clipPoints1,V2=ws.s_clipPoints2,V0=0,V0=ws.ClipSegmentToLine(n0,G2,J0,-U2.x*j0.x-U2.y*j0.y+E2),!(V0<2)&&(V0=ws.ClipSegmentToLine(V2,n0,U2,F2),!(V0<2))){for(C_.m_localPlaneNormal.SetV(D2),C_.m_localPoint.SetV(l2),l2=D2=0;l2<_o.b2_maxManifoldPoints;++l2)G2=V2[l2],Na.x*G2.v.x+Na.y*G2.v.y-W_<=E2&&(U2=C_.m_points[D2],F2=t2.R,J0=G2.v.x-t2.position.x,j0=G2.v.y-t2.position.y,U2.m_localPoint.x=J0*F2.col1.x+j0*F2.col1.y,U2.m_localPoint.y=J0*F2.col2.x+j0*F2.col2.y,U2.m_id.Set(G2.id),U2.m_id.features.flip=g0,++D2);C_.m_pointCount=D2}}}},ws.CollideCircles=function(C_,W_,t2,l2,D2){C_.m_pointCount=0;var G2,E2;G2=t2.R,E2=W_.m_p;var V2=t2.position.x+(G2.col1.x*E2.x+G2.col2.x*E2.y);t2=t2.position.y+(G2.col1.y*E2.x+G2.col2.y*E2.y),G2=D2.R,E2=l2.m_p,V2=D2.position.x+(G2.col1.x*E2.x+G2.col2.x*E2.y)-V2,D2=D2.position.y+(G2.col1.y*E2.x+G2.col2.y*E2.y)-t2,G2=W_.m_radius+l2.m_radius,V2*V2+D2*D2>G2*G2||(C_.m_type=y2.e_circles,C_.m_localPoint.SetV(W_.m_p),C_.m_localPlaneNormal.SetZero(),C_.m_pointCount=1,C_.m_points[0].m_localPoint.SetV(l2.m_p),C_.m_points[0].m_id.key=0)},ws.CollidePolygonAndCircle=function(C_,W_,t2,l2,D2){var G2=C_.m_pointCount=0,E2=0,V2,F2;F2=D2.R,V2=l2.m_p;var U2=D2.position.y+(F2.col1.y*V2.x+F2.col2.y*V2.y);G2=D2.position.x+(F2.col1.x*V2.x+F2.col2.x*V2.y)-t2.position.x,E2=U2-t2.position.y,F2=t2.R,t2=G2*F2.col1.x+E2*F2.col1.y,F2=G2*F2.col2.x+E2*F2.col2.y;var Na=0;U2=-Number.MAX_VALUE,D2=W_.m_radius+l2.m_radius;var g0=parseInt(W_.m_vertexCount),n0=W_.m_vertices;W_=W_.m_normals;for(var J0=0;J0<g0;++J0){if(V2=n0[J0],G2=t2-V2.x,E2=F2-V2.y,V2=W_[J0],G2=V2.x*G2+V2.y*E2,G2>D2)return;G2>U2&&(U2=G2,Na=J0)}if(G2=parseInt(Na),E2=parseInt(G2+1<g0?G2+1:0),V2=n0[G2],n0=n0[E2],U2<Number.MIN_VALUE)C_.m_pointCount=1,C_.m_type=y2.e_faceA,C_.m_localPlaneNormal.SetV(W_[Na]),C_.m_localPoint.x=.5*(V2.x+n0.x),C_.m_localPoint.y=.5*(V2.y+n0.y);else if(U2=(t2-n0.x)*(V2.x-n0.x)+(F2-n0.y)*(V2.y-n0.y),(t2-V2.x)*(n0.x-V2.x)+(F2-V2.y)*(n0.y-V2.y)<=0){if((t2-V2.x)*(t2-V2.x)+(F2-V2.y)*(F2-V2.y)>D2*D2)return;C_.m_pointCount=1,C_.m_type=y2.e_faceA,C_.m_localPlaneNormal.x=t2-V2.x,C_.m_localPlaneNormal.y=F2-V2.y,C_.m_localPlaneNormal.Normalize(),C_.m_localPoint.SetV(V2)}else if(U2<=0){if((t2-n0.x)*(t2-n0.x)+(F2-n0.y)*(F2-n0.y)>D2*D2)return;C_.m_pointCount=1,C_.m_type=y2.e_faceA,C_.m_localPlaneNormal.x=t2-n0.x,C_.m_localPlaneNormal.y=F2-n0.y,C_.m_localPlaneNormal.Normalize(),C_.m_localPoint.SetV(n0)}else{if(Na=.5*(V2.x+n0.x),V2=.5*(V2.y+n0.y),U2=(t2-Na)*W_[G2].x+(F2-V2)*W_[G2].y,U2>D2)return;C_.m_pointCount=1,C_.m_type=y2.e_faceA,C_.m_localPlaneNormal.x=W_[G2].x,C_.m_localPlaneNormal.y=W_[G2].y,C_.m_localPlaneNormal.Normalize(),C_.m_localPoint.Set(Na,V2)}C_.m_points[0].m_localPoint.SetV(l2.m_p),C_.m_points[0].m_id.key=0},ws.TestOverlap=function(C_,W_){var t2=W_.lowerBound,l2=C_.upperBound,D2=t2.x-l2.x,G2=t2.y-l2.y;t2=C_.lowerBound,l2=W_.upperBound;var E2=t2.y-l2.y;return!(D2>0||G2>0||t2.x-l2.x>0||E2>0)},Y_.postDefs.push(function(){Y_.Collision.b2Collision.s_incidentEdge=ws.MakeClipPointVector(),Y_.Collision.b2Collision.s_clipPoints1=ws.MakeClipPointVector(),Y_.Collision.b2Collision.s_clipPoints2=ws.MakeClipPointVector(),Y_.Collision.b2Collision.s_edgeAO=new KS(1),Y_.Collision.b2Collision.s_edgeBO=new KS(1),Y_.Collision.b2Collision.s_localTangent=new o_,Y_.Collision.b2Collision.s_localNormal=new o_,Y_.Collision.b2Collision.s_planePoint=new o_,Y_.Collision.b2Collision.s_normal=new o_,Y_.Collision.b2Collision.s_tangent=new o_,Y_.Collision.b2Collision.s_tangent2=new o_,Y_.Collision.b2Collision.s_v11=new o_,Y_.Collision.b2Collision.s_v12=new o_,Y_.Collision.b2Collision.b2CollidePolyTempVec=new o_,Y_.Collision.b2Collision.b2_nullFeature=255}),h_.b2ContactID=function(){this.features=new F_},h_.prototype.b2ContactID=function(){this.features._m_id=this},h_.prototype.Set=function(C_){this.key=C_._key},h_.prototype.Copy=function(){var C_=new h_;return C_.key=this.key,C_},Object.defineProperty(h_.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this._key}}),Object.defineProperty(h_.prototype,"key",{enumerable:!1,configurable:!0,set:function(C_){C_===void 0&&(C_=0),this._key=C_,this.features._referenceEdge=this._key&255,this.features._incidentEdge=(this._key&65280)>>8&255,this.features._incidentVertex=(this._key&16711680)>>16&255,this.features._flip=(this._key&4278190080)>>24&255}}),s_.b2ContactPoint=function(){this.position=new o_,this.velocity=new o_,this.normal=new o_,this.id=new h_},B_.b2Distance=function(){},B_.Distance=function(C_,W_,t2){++B_.b2_gjkCalls;var l2=t2.proxyA,D2=t2.proxyB,G2=t2.transformA,E2=t2.transformB,V2=B_.s_simplex;V2.ReadCache(W_,l2,G2,D2,E2);var F2=V2.m_vertices,U2=B_.s_saveA,Na=B_.s_saveB,g0=0;V2.GetClosestPoint().LengthSquared();for(var n0=0,J0,j0=0;j0<20;){for(g0=V2.m_count,n0=0;n0<g0;n0++)U2[n0]=F2[n0].indexA,Na[n0]=F2[n0].indexB;switch(V2.m_count){case 1:break;case 2:V2.Solve2();break;case 3:V2.Solve3();break;default:_o.b2Assert(!1)}if(V2.m_count==3||(J0=V2.GetClosestPoint(),J0.LengthSquared(),n0=V2.GetSearchDirection(),n0.LengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE))break;J0=F2[V2.m_count],J0.indexA=l2.GetSupport(_i.MulTMV(G2.R,n0.GetNegative())),J0.wA=_i.MulX(G2,l2.GetVertex(J0.indexA)),J0.indexB=D2.GetSupport(_i.MulTMV(E2.R,n0)),J0.wB=_i.MulX(E2,D2.GetVertex(J0.indexB)),J0.w=_i.SubtractVV(J0.wB,J0.wA),++j0,++B_.b2_gjkIters;var V0=!1;for(n0=0;n0<g0;n0++)if(J0.indexA==U2[n0]&&J0.indexB==Na[n0]){V0=!0;break}if(V0)break;++V2.m_count}B_.b2_gjkMaxIters=_i.Max(B_.b2_gjkMaxIters,j0),V2.GetWitnessPoints(C_.pointA,C_.pointB),C_.distance=_i.SubtractVV(C_.pointA,C_.pointB).Length(),C_.iterations=j0,V2.WriteCache(W_),t2.useRadii&&(W_=l2.m_radius,D2=D2.m_radius,C_.distance>W_+D2&&C_.distance>Number.MIN_VALUE?(C_.distance-=W_+D2,t2=_i.SubtractVV(C_.pointB,C_.pointA),t2.Normalize(),C_.pointA.x+=W_*t2.x,C_.pointA.y+=W_*t2.y,C_.pointB.x-=D2*t2.x,C_.pointB.y-=D2*t2.y):(J0=new o_,J0.x=.5*(C_.pointA.x+C_.pointB.x),J0.y=.5*(C_.pointA.y+C_.pointB.y),C_.pointA.x=C_.pointB.x=J0.x,C_.pointA.y=C_.pointB.y=J0.y,C_.distance=0))},Y_.postDefs.push(function(){Y_.Collision.b2Distance.s_simplex=new E_,Y_.Collision.b2Distance.s_saveA=new KS(3),Y_.Collision.b2Distance.s_saveB=new KS(3)}),D_.b2DistanceInput=function(){},y_.b2DistanceOutput=function(){this.pointA=new o_,this.pointB=new o_},G_.b2DistanceProxy=function(){},G_.prototype.Set=function(C_){switch(C_.GetType()){case o.e_circleShape:C_=C_ instanceof V?C_:null,this.m_vertices=new j1(1,!0),this.m_vertices[0]=C_.m_p,this.m_count=1,this.m_radius=C_.m_radius;break;case o.e_polygonShape:C_=C_ instanceof x?C_:null,this.m_vertices=C_.m_vertices,this.m_count=C_.m_vertexCount,this.m_radius=C_.m_radius;break;default:_o.b2Assert(!1)}},G_.prototype.GetSupport=function(C_){for(var W_=0,t2=this.m_vertices[0].x*C_.x+this.m_vertices[0].y*C_.y,l2=1;l2<this.m_count;++l2){var D2=this.m_vertices[l2].x*C_.x+this.m_vertices[l2].y*C_.y;D2>t2&&(W_=l2,t2=D2)}return W_},G_.prototype.GetSupportVertex=function(C_){for(var W_=0,t2=this.m_vertices[0].x*C_.x+this.m_vertices[0].y*C_.y,l2=1;l2<this.m_count;++l2){var D2=this.m_vertices[l2].x*C_.x+this.m_vertices[l2].y*C_.y;D2>t2&&(W_=l2,t2=D2)}return this.m_vertices[W_]},G_.prototype.GetVertexCount=function(){return this.m_count},G_.prototype.GetVertex=function(C_){return C_===void 0&&(C_=0),_o.b2Assert(0<=C_&&C_<this.m_count),this.m_vertices[C_]},q_.b2DynamicTree=function(){},q_.prototype.b2DynamicTree=function(){this.m_freeList=this.m_root=null,this.m_insertionCount=this.m_path=0},q_.prototype.CreateProxy=function(C_,W_){var t2=this.AllocateNode(),l2=_o.b2_aabbExtension,D2=_o.b2_aabbExtension;return t2.aabb.lowerBound.x=C_.lowerBound.x-l2,t2.aabb.lowerBound.y=C_.lowerBound.y-D2,t2.aabb.upperBound.x=C_.upperBound.x+l2,t2.aabb.upperBound.y=C_.upperBound.y+D2,t2.userData=W_,this.InsertLeaf(t2),t2},q_.prototype.DestroyProxy=function(C_){this.RemoveLeaf(C_),this.FreeNode(C_)},q_.prototype.MoveProxy=function(C_,W_,t2){if(_o.b2Assert(C_.IsLeaf()),C_.aabb.Contains(W_))return!1;this.RemoveLeaf(C_);var l2=_o.b2_aabbExtension+_o.b2_aabbMultiplier*(t2.x>0?t2.x:-t2.x);return t2=_o.b2_aabbExtension+_o.b2_aabbMultiplier*(t2.y>0?t2.y:-t2.y),C_.aabb.lowerBound.x=W_.lowerBound.x-l2,C_.aabb.lowerBound.y=W_.lowerBound.y-t2,C_.aabb.upperBound.x=W_.upperBound.x+l2,C_.aabb.upperBound.y=W_.upperBound.y+t2,this.InsertLeaf(C_),!0},q_.prototype.Rebalance=function(C_){if(C_===void 0&&(C_=0),this.m_root!=null)for(var W_=0;W_<C_;W_++){for(var t2=this.m_root,l2=0;t2.IsLeaf()==!1;)t2=this.m_path>>l2&1?t2.child2:t2.child1,l2=l2+1&31;++this.m_path,this.RemoveLeaf(t2),this.InsertLeaf(t2)}},q_.prototype.GetFatAABB=function(C_){return C_.aabb},q_.prototype.GetUserData=function(C_){return C_.userData},q_.prototype.Query=function(C_,W_){if(this.m_root!=null){var t2=new j1,l2=0;for(t2[l2++]=this.m_root;l2>0;){var D2=t2[--l2];if(D2.aabb.TestOverlap(W_))if(D2.IsLeaf()){if(!C_(D2))break}else t2[l2++]=D2.child1,t2[l2++]=D2.child2}}},q_.prototype.RayCast=function(C_,W_){if(this.m_root!=null){var t2=W_.p1,l2=W_.p2,D2=_i.SubtractVV(t2,l2);D2.Normalize(),D2=_i.CrossFV(1,D2);var G2=_i.AbsV(D2),E2=W_.maxFraction,V2=new i_,F2=0,U2=0;F2=t2.x+E2*(l2.x-t2.x),U2=t2.y+E2*(l2.y-t2.y),V2.lowerBound.x=Math.min(t2.x,F2),V2.lowerBound.y=Math.min(t2.y,U2),V2.upperBound.x=Math.max(t2.x,F2),V2.upperBound.y=Math.max(t2.y,U2);var Na=new j1,g0=0;for(Na[g0++]=this.m_root;g0>0;)if(E2=Na[--g0],E2.aabb.TestOverlap(V2)!=!1&&(F2=E2.aabb.GetCenter(),U2=E2.aabb.GetExtents(),!(Math.abs(D2.x*(t2.x-F2.x)+D2.y*(t2.y-F2.y))-G2.x*U2.x-G2.y*U2.y>0)))if(E2.IsLeaf()){if(F2=new z2,F2.p1=W_.p1,F2.p2=W_.p2,F2.maxFraction=W_.maxFraction,E2=C_(F2,E2),E2==0)break;E2>0&&(F2=t2.x+E2*(l2.x-t2.x),U2=t2.y+E2*(l2.y-t2.y),V2.lowerBound.x=Math.min(t2.x,F2),V2.lowerBound.y=Math.min(t2.y,U2),V2.upperBound.x=Math.max(t2.x,F2),V2.upperBound.y=Math.max(t2.y,U2))}else Na[g0++]=E2.child1,Na[g0++]=E2.child2}},q_.prototype.AllocateNode=function(){if(this.m_freeList){var C_=this.m_freeList;return this.m_freeList=C_.parent,C_.parent=null,C_.child1=null,C_.child2=null,C_}return new _2},q_.prototype.FreeNode=function(C_){C_.parent=this.m_freeList,this.m_freeList=C_},q_.prototype.InsertLeaf=function(C_){if(++this.m_insertionCount,this.m_root==null)this.m_root=C_,this.m_root.parent=null;else{var W_=C_.aabb.GetCenter(),t2=this.m_root;if(t2.IsLeaf()==!1)do{var l2=t2.child1;t2=t2.child2,t2=Math.abs((l2.aabb.lowerBound.x+l2.aabb.upperBound.x)/2-W_.x)+Math.abs((l2.aabb.lowerBound.y+l2.aabb.upperBound.y)/2-W_.y)<Math.abs((t2.aabb.lowerBound.x+t2.aabb.upperBound.x)/2-W_.x)+Math.abs((t2.aabb.lowerBound.y+t2.aabb.upperBound.y)/2-W_.y)?l2:t2}while(t2.IsLeaf()==!1);if(W_=t2.parent,l2=this.AllocateNode(),l2.parent=W_,l2.userData=null,l2.aabb.Combine(C_.aabb,t2.aabb),W_){t2.parent.child1==t2?W_.child1=l2:W_.child2=l2,l2.child1=t2,l2.child2=C_,t2.parent=l2,C_.parent=l2;do{if(W_.aabb.Contains(l2.aabb))break;W_.aabb.Combine(W_.child1.aabb,W_.child2.aabb),l2=W_,W_=W_.parent}while(W_)}else l2.child1=t2,l2.child2=C_,t2.parent=l2,this.m_root=C_.parent=l2}},q_.prototype.RemoveLeaf=function(C_){if(C_==this.m_root)this.m_root=null;else{var W_=C_.parent,t2=W_.parent;if(C_=W_.child1==C_?W_.child2:W_.child1,t2)for(t2.child1==W_?t2.child1=C_:t2.child2=C_,C_.parent=t2,this.FreeNode(W_);t2&&(W_=t2.aabb,t2.aabb=i_.Combine(t2.child1.aabb,t2.child2.aabb),!W_.Contains(t2.aabb));)t2=t2.parent;else this.m_root=C_,C_.parent=null,this.FreeNode(W_)}},j_.b2DynamicTreeBroadPhase=function(){this.m_tree=new q_,this.m_moveBuffer=new j1,this.m_pairBuffer=new j1,this.m_pairCount=0},j_.prototype.CreateProxy=function(C_,W_){var t2=this.m_tree.CreateProxy(C_,W_);return++this.m_proxyCount,this.BufferMove(t2),t2},j_.prototype.DestroyProxy=function(C_){this.UnBufferMove(C_),--this.m_proxyCount,this.m_tree.DestroyProxy(C_)},j_.prototype.MoveProxy=function(C_,W_,t2){this.m_tree.MoveProxy(C_,W_,t2)&&this.BufferMove(C_)},j_.prototype.TestOverlap=function(C_,W_){var t2=this.m_tree.GetFatAABB(C_),l2=this.m_tree.GetFatAABB(W_);return t2.TestOverlap(l2)},j_.prototype.GetUserData=function(C_){return this.m_tree.GetUserData(C_)},j_.prototype.GetFatAABB=function(C_){return this.m_tree.GetFatAABB(C_)},j_.prototype.GetProxyCount=function(){return this.m_proxyCount},j_.prototype.UpdatePairs=function(C_){var W_=this,t2=W_.m_pairCount=0,l2;for(t2=0;t2<W_.m_moveBuffer.length;++t2){l2=W_.m_moveBuffer[t2];var D2=W_.m_tree.GetFatAABB(l2);W_.m_tree.Query(function(V2){if(V2==l2)return!0;W_.m_pairCount==W_.m_pairBuffer.length&&(W_.m_pairBuffer[W_.m_pairCount]=new m2);var F2=W_.m_pairBuffer[W_.m_pairCount];return F2.proxyA=V2<l2?V2:l2,F2.proxyB=V2>=l2?V2:l2,++W_.m_pairCount,!0},D2)}for(t2=W_.m_moveBuffer.length=0;t2<W_.m_pairCount;){D2=W_.m_pairBuffer[t2];var G2=W_.m_tree.GetUserData(D2.proxyA),E2=W_.m_tree.GetUserData(D2.proxyB);for(C_(G2,E2),++t2;t2<W_.m_pairCount&&(G2=W_.m_pairBuffer[t2],!(G2.proxyA!=D2.proxyA||G2.proxyB!=D2.proxyB));)++t2}},j_.prototype.Query=function(C_,W_){this.m_tree.Query(C_,W_)},j_.prototype.RayCast=function(C_,W_){this.m_tree.RayCast(C_,W_)},j_.prototype.Validate=function(){},j_.prototype.Rebalance=function(C_){C_===void 0&&(C_=0),this.m_tree.Rebalance(C_)},j_.prototype.BufferMove=function(C_){this.m_moveBuffer[this.m_moveBuffer.length]=C_},j_.prototype.UnBufferMove=function(C_){this.m_moveBuffer.splice(parseInt(this.m_moveBuffer.indexOf(C_)),1)},j_.prototype.ComparePairs=function(){return 0},j_.__implements={},j_.__implements[$_]=!0,_2.b2DynamicTreeNode=function(){this.aabb=new i_},_2.prototype.IsLeaf=function(){return this.child1==null},m2.b2DynamicTreePair=function(){},y2.b2Manifold=function(){this.m_pointCount=0},y2.prototype.b2Manifold=function(){this.m_points=new j1(_o.b2_maxManifoldPoints);for(var C_=0;C_<_o.b2_maxManifoldPoints;C_++)this.m_points[C_]=new I2;this.m_localPlaneNormal=new o_,this.m_localPoint=new o_},y2.prototype.Reset=function(){for(var C_=0;C_<_o.b2_maxManifoldPoints;C_++)(this.m_points[C_]instanceof I2?this.m_points[C_]:null).Reset();this.m_localPlaneNormal.SetZero(),this.m_localPoint.SetZero(),this.m_pointCount=this.m_type=0},y2.prototype.Set=function(C_){this.m_pointCount=C_.m_pointCount;for(var W_=0;W_<_o.b2_maxManifoldPoints;W_++)(this.m_points[W_]instanceof I2?this.m_points[W_]:null).Set(C_.m_points[W_]);this.m_localPlaneNormal.SetV(C_.m_localPlaneNormal),this.m_localPoint.SetV(C_.m_localPoint),this.m_type=C_.m_type},y2.prototype.Copy=function(){var C_=new y2;return C_.Set(this),C_},Y_.postDefs.push(function(){Y_.Collision.b2Manifold.e_circles=1,Y_.Collision.b2Manifold.e_faceA=2,Y_.Collision.b2Manifold.e_faceB=4}),I2.b2ManifoldPoint=function(){this.m_localPoint=new o_,this.m_id=new h_},I2.prototype.b2ManifoldPoint=function(){this.Reset()},I2.prototype.Reset=function(){this.m_localPoint.SetZero(),this.m_tangentImpulse=this.m_normalImpulse=0,this.m_id.key=0},I2.prototype.Set=function(C_){this.m_localPoint.SetV(C_.m_localPoint),this.m_normalImpulse=C_.m_normalImpulse,this.m_tangentImpulse=C_.m_tangentImpulse,this.m_id.Set(C_.m_id)},J2.b2Point=function(){this.p=new o_},J2.prototype.Support=function(){return this.p},J2.prototype.GetFirstVertex=function(){return this.p},z2.b2RayCastInput=function(){this.p1=new o_,this.p2=new o_},z2.prototype.b2RayCastInput=function(C_,W_,t2){C_===void 0&&(C_=null),W_===void 0&&(W_=null),t2===void 0&&(t2=1),C_&&this.p1.SetV(C_),W_&&this.p2.SetV(W_),this.maxFraction=t2},K2.b2RayCastOutput=function(){this.normal=new o_},$2.b2Segment=function(){this.p1=new o_,this.p2=new o_},$2.prototype.TestSegment=function(C_,W_,t2,l2){l2===void 0&&(l2=0);var D2=t2.p1,G2=t2.p2.x-D2.x,E2=t2.p2.y-D2.y;t2=this.p2.y-this.p1.y;var V2=-(this.p2.x-this.p1.x),F2=100*Number.MIN_VALUE,U2=-(G2*t2+E2*V2);if(U2>F2){var Na=D2.x-this.p1.x,g0=D2.y-this.p1.y;if(D2=Na*t2+g0*V2,0<=D2&&D2<=l2*U2&&(l2=-G2*g0+E2*Na,-F2*U2<=l2&&l2<=U2*(1+F2)))return D2/=U2,l2=Math.sqrt(t2*t2+V2*V2),t2/=l2,V2/=l2,C_[0]=D2,W_.Set(t2,V2),!0}return!1},$2.prototype.Extend=function(C_){this.ExtendForward(C_),this.ExtendBackward(C_)},$2.prototype.ExtendForward=function(C_){var W_=this.p2.x-this.p1.x,t2=this.p2.y-this.p1.y;C_=Math.min(W_>0?(C_.upperBound.x-this.p1.x)/W_:W_<0?(C_.lowerBound.x-this.p1.x)/W_:Number.POSITIVE_INFINITY,t2>0?(C_.upperBound.y-this.p1.y)/t2:t2<0?(C_.lowerBound.y-this.p1.y)/t2:Number.POSITIVE_INFINITY),this.p2.x=this.p1.x+W_*C_,this.p2.y=this.p1.y+t2*C_},$2.prototype.ExtendBackward=function(C_){var W_=-this.p2.x+this.p1.x,t2=-this.p2.y+this.p1.y;C_=Math.min(W_>0?(C_.upperBound.x-this.p2.x)/W_:W_<0?(C_.lowerBound.x-this.p2.x)/W_:Number.POSITIVE_INFINITY,t2>0?(C_.upperBound.y-this.p2.y)/t2:t2<0?(C_.lowerBound.y-this.p2.y)/t2:Number.POSITIVE_INFINITY),this.p1.x=this.p2.x+W_*C_,this.p1.y=this.p2.y+t2*C_},P_.b2SeparationFunction=function(){this.m_localPoint=new o_,this.m_axis=new o_},P_.prototype.Initialize=function(C_,W_,t2,l2,D2){this.m_proxyA=W_,this.m_proxyB=l2;var G2=parseInt(C_.count);_o.b2Assert(0<G2&&G2<3);var E2,V2,F2,U2,Na=U2=F2=l2=W_=0,g0=0;Na=0,G2==1?(this.m_type=P_.e_points,E2=this.m_proxyA.GetVertex(C_.indexA[0]),V2=this.m_proxyB.GetVertex(C_.indexB[0]),G2=E2,C_=t2.R,W_=t2.position.x+(C_.col1.x*G2.x+C_.col2.x*G2.y),l2=t2.position.y+(C_.col1.y*G2.x+C_.col2.y*G2.y),G2=V2,C_=D2.R,F2=D2.position.x+(C_.col1.x*G2.x+C_.col2.x*G2.y),U2=D2.position.y+(C_.col1.y*G2.x+C_.col2.y*G2.y),this.m_axis.x=F2-W_,this.m_axis.y=U2-l2,this.m_axis.Normalize()):(C_.indexB[0]==C_.indexB[1]?(this.m_type=P_.e_faceA,W_=this.m_proxyA.GetVertex(C_.indexA[0]),l2=this.m_proxyA.GetVertex(C_.indexA[1]),V2=this.m_proxyB.GetVertex(C_.indexB[0]),this.m_localPoint.x=.5*(W_.x+l2.x),this.m_localPoint.y=.5*(W_.y+l2.y),this.m_axis=_i.CrossVF(_i.SubtractVV(l2,W_),1),this.m_axis.Normalize(),G2=this.m_axis,C_=t2.R,Na=C_.col1.x*G2.x+C_.col2.x*G2.y,g0=C_.col1.y*G2.x+C_.col2.y*G2.y,G2=this.m_localPoint,C_=t2.R,W_=t2.position.x+(C_.col1.x*G2.x+C_.col2.x*G2.y),l2=t2.position.y+(C_.col1.y*G2.x+C_.col2.y*G2.y),G2=V2,C_=D2.R,F2=D2.position.x+(C_.col1.x*G2.x+C_.col2.x*G2.y),U2=D2.position.y+(C_.col1.y*G2.x+C_.col2.y*G2.y),Na=(F2-W_)*Na+(U2-l2)*g0):C_.indexA[0]==C_.indexA[0]?(this.m_type=P_.e_faceB,F2=this.m_proxyB.GetVertex(C_.indexB[0]),U2=this.m_proxyB.GetVertex(C_.indexB[1]),E2=this.m_proxyA.GetVertex(C_.indexA[0]),this.m_localPoint.x=.5*(F2.x+U2.x),this.m_localPoint.y=.5*(F2.y+U2.y),this.m_axis=_i.CrossVF(_i.SubtractVV(U2,F2),1),this.m_axis.Normalize(),G2=this.m_axis,C_=D2.R,Na=C_.col1.x*G2.x+C_.col2.x*G2.y,g0=C_.col1.y*G2.x+C_.col2.y*G2.y,G2=this.m_localPoint,C_=D2.R,F2=D2.position.x+(C_.col1.x*G2.x+C_.col2.x*G2.y),U2=D2.position.y+(C_.col1.y*G2.x+C_.col2.y*G2.y),G2=E2,C_=t2.R,W_=t2.position.x+(C_.col1.x*G2.x+C_.col2.x*G2.y),l2=t2.position.y+(C_.col1.y*G2.x+C_.col2.y*G2.y),Na=(W_-F2)*Na+(l2-U2)*g0):(W_=this.m_proxyA.GetVertex(C_.indexA[0]),l2=this.m_proxyA.GetVertex(C_.indexA[1]),F2=this.m_proxyB.GetVertex(C_.indexB[0]),U2=this.m_proxyB.GetVertex(C_.indexB[1]),_i.MulX(t2,E2),E2=_i.MulMV(t2.R,_i.SubtractVV(l2,W_)),_i.MulX(D2,V2),Na=_i.MulMV(D2.R,_i.SubtractVV(U2,F2)),D2=E2.x*E2.x+E2.y*E2.y,V2=Na.x*Na.x+Na.y*Na.y,C_=_i.SubtractVV(Na,E2),t2=E2.x*C_.x+E2.y*C_.y,C_=Na.x*C_.x+Na.y*C_.y,E2=E2.x*Na.x+E2.y*Na.y,g0=D2*V2-E2*E2,Na=0,g0!=0&&(Na=_i.Clamp((E2*C_-t2*V2)/g0,0,1)),(E2*Na+C_)/V2<0&&(Na=_i.Clamp((E2-t2)/D2,0,1)),E2=new o_,E2.x=W_.x+Na*(l2.x-W_.x),E2.y=W_.y+Na*(l2.y-W_.y),V2=new o_,V2.x=F2.x+Na*(U2.x-F2.x),V2.y=F2.y+Na*(U2.y-F2.y),Na==0||Na==1?(this.m_type=P_.e_faceB,this.m_axis=_i.CrossVF(_i.SubtractVV(U2,F2),1),this.m_axis.Normalize(),this.m_localPoint=V2):(this.m_type=P_.e_faceA,this.m_axis=_i.CrossVF(_i.SubtractVV(l2,W_),1),this.m_localPoint=E2)),Na<0&&this.m_axis.NegativeSelf())},P_.prototype.Evaluate=function(C_,W_){var t2,l2,D2=0;switch(this.m_type){case P_.e_points:return t2=_i.MulTMV(C_.R,this.m_axis),l2=_i.MulTMV(W_.R,this.m_axis.GetNegative()),t2=this.m_proxyA.GetSupportVertex(t2),l2=this.m_proxyB.GetSupportVertex(l2),t2=_i.MulX(C_,t2),l2=_i.MulX(W_,l2),D2=(l2.x-t2.x)*this.m_axis.x+(l2.y-t2.y)*this.m_axis.y;case P_.e_faceA:return D2=_i.MulMV(C_.R,this.m_axis),t2=_i.MulX(C_,this.m_localPoint),l2=_i.MulTMV(W_.R,D2.GetNegative()),l2=this.m_proxyB.GetSupportVertex(l2),l2=_i.MulX(W_,l2),D2=(l2.x-t2.x)*D2.x+(l2.y-t2.y)*D2.y;case P_.e_faceB:return D2=_i.MulMV(W_.R,this.m_axis),l2=_i.MulX(W_,this.m_localPoint),t2=_i.MulTMV(C_.R,D2.GetNegative()),t2=this.m_proxyA.GetSupportVertex(t2),t2=_i.MulX(C_,t2),D2=(t2.x-l2.x)*D2.x+(t2.y-l2.y)*D2.y;default:return _o.b2Assert(!1),0}},Y_.postDefs.push(function(){Y_.Collision.b2SeparationFunction.e_points=1,Y_.Collision.b2SeparationFunction.e_faceA=2,Y_.Collision.b2SeparationFunction.e_faceB=4}),E_.b2Simplex=function(){this.m_v1=new N_,this.m_v2=new N_,this.m_v3=new N_,this.m_vertices=new j1(3)},E_.prototype.b2Simplex=function(){this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3},E_.prototype.ReadCache=function(C_,W_,t2,l2,D2){_o.b2Assert(0<=C_.count&&C_.count<=3);var G2,E2;this.m_count=C_.count;for(var V2=this.m_vertices,F2=0;F2<this.m_count;F2++){var U2=V2[F2];U2.indexA=C_.indexA[F2],U2.indexB=C_.indexB[F2],G2=W_.GetVertex(U2.indexA),E2=l2.GetVertex(U2.indexB),U2.wA=_i.MulX(t2,G2),U2.wB=_i.MulX(D2,E2),U2.w=_i.SubtractVV(U2.wB,U2.wA),U2.a=0}this.m_count>1&&(C_=C_.metric,G2=this.GetMetric(),(G2<.5*C_||2*C_<G2||G2<Number.MIN_VALUE)&&(this.m_count=0)),this.m_count==0&&(U2=V2[0],U2.indexA=0,U2.indexB=0,G2=W_.GetVertex(0),E2=l2.GetVertex(0),U2.wA=_i.MulX(t2,G2),U2.wB=_i.MulX(D2,E2),U2.w=_i.SubtractVV(U2.wB,U2.wA),this.m_count=1)},E_.prototype.WriteCache=function(C_){C_.metric=this.GetMetric(),C_.count=Y_.parseUInt(this.m_count);for(var W_=this.m_vertices,t2=0;t2<this.m_count;t2++)C_.indexA[t2]=Y_.parseUInt(W_[t2].indexA),C_.indexB[t2]=Y_.parseUInt(W_[t2].indexB)},E_.prototype.GetSearchDirection=function(){switch(this.m_count){case 1:return this.m_v1.w.GetNegative();case 2:var C_=_i.SubtractVV(this.m_v2.w,this.m_v1.w);return _i.CrossVV(C_,this.m_v1.w.GetNegative())>0?_i.CrossFV(1,C_):_i.CrossVF(C_,1);default:return _o.b2Assert(!1),new o_}},E_.prototype.GetClosestPoint=function(){switch(this.m_count){case 0:return _o.b2Assert(!1),new o_;case 1:return this.m_v1.w;case 2:return new o_(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return _o.b2Assert(!1),new o_}},E_.prototype.GetWitnessPoints=function(C_,W_){switch(this.m_count){case 0:_o.b2Assert(!1);break;case 1:C_.SetV(this.m_v1.wA),W_.SetV(this.m_v1.wB);break;case 2:C_.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,C_.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,W_.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,W_.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:W_.x=C_.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,W_.y=C_.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:_o.b2Assert(!1)}},E_.prototype.GetMetric=function(){switch(this.m_count){case 0:return _o.b2Assert(!1),0;case 1:return 0;case 2:return _i.SubtractVV(this.m_v1.w,this.m_v2.w).Length();case 3:return _i.CrossVV(_i.SubtractVV(this.m_v2.w,this.m_v1.w),_i.SubtractVV(this.m_v3.w,this.m_v1.w));default:return _o.b2Assert(!1),0}},E_.prototype.Solve2=function(){var C_=this.m_v1.w,W_=this.m_v2.w,t2=_i.SubtractVV(W_,C_);C_=-(C_.x*t2.x+C_.y*t2.y),C_<=0?this.m_count=this.m_v1.a=1:(W_=W_.x*t2.x+W_.y*t2.y,W_<=0?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):(t2=1/(W_+C_),this.m_v1.a=W_*t2,this.m_v2.a=C_*t2,this.m_count=2))},E_.prototype.Solve3=function(){var C_=this.m_v1.w,W_=this.m_v2.w,t2=this.m_v3.w,l2=_i.SubtractVV(W_,C_),D2=_i.Dot(C_,l2),G2=_i.Dot(W_,l2);D2=-D2;var E2=_i.SubtractVV(t2,C_),V2=_i.Dot(C_,E2),F2=_i.Dot(t2,E2);V2=-V2;var U2=_i.SubtractVV(t2,W_),Na=_i.Dot(W_,U2);U2=_i.Dot(t2,U2),Na=-Na,E2=_i.CrossVV(l2,E2),l2=E2*_i.CrossVV(W_,t2),t2=E2*_i.CrossVV(t2,C_),C_=E2*_i.CrossVV(C_,W_),D2<=0&&V2<=0?this.m_count=this.m_v1.a=1:G2>0&&D2>0&&C_<=0?(F2=1/(G2+D2),this.m_v1.a=G2*F2,this.m_v2.a=D2*F2,this.m_count=2):F2>0&&V2>0&&t2<=0?(G2=1/(F2+V2),this.m_v1.a=F2*G2,this.m_v3.a=V2*G2,this.m_count=2,this.m_v2.Set(this.m_v3)):G2<=0&&Na<=0?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):F2<=0&&U2<=0?(this.m_count=this.m_v3.a=1,this.m_v1.Set(this.m_v3)):U2>0&&Na>0&&l2<=0?(G2=1/(U2+Na),this.m_v2.a=U2*G2,this.m_v3.a=Na*G2,this.m_count=2,this.m_v1.Set(this.m_v3)):(G2=1/(l2+t2+C_),this.m_v1.a=l2*G2,this.m_v2.a=t2*G2,this.m_v3.a=C_*G2,this.m_count=3)},Z_.b2SimplexCache=function(){this.indexA=new KS(3),this.indexB=new KS(3)},N_.b2SimplexVertex=function(){},N_.prototype.Set=function(C_){this.wA.SetV(C_.wA),this.wB.SetV(C_.wB),this.w.SetV(C_.w),this.a=C_.a,this.indexA=C_.indexA,this.indexB=C_.indexB},s2.b2TimeOfImpact=function(){},s2.TimeOfImpact=function(C_){++s2.b2_toiCalls;var W_=C_.proxyA,t2=C_.proxyB,l2=C_.sweepA,D2=C_.sweepB;_o.b2Assert(l2.t0==D2.t0),_o.b2Assert(1-l2.t0>Number.MIN_VALUE);var G2=W_.m_radius+t2.m_radius;C_=C_.tolerance;var E2=0,V2=0,F2=0;for(s2.s_cache.count=0,s2.s_distanceInput.useRadii=!1;;){if(l2.GetTransform(s2.s_xfA,E2),D2.GetTransform(s2.s_xfB,E2),s2.s_distanceInput.proxyA=W_,s2.s_distanceInput.proxyB=t2,s2.s_distanceInput.transformA=s2.s_xfA,s2.s_distanceInput.transformB=s2.s_xfB,B_.Distance(s2.s_distanceOutput,s2.s_cache,s2.s_distanceInput),s2.s_distanceOutput.distance<=0){E2=1;break}s2.s_fcn.Initialize(s2.s_cache,W_,s2.s_xfA,t2,s2.s_xfB);var U2=s2.s_fcn.Evaluate(s2.s_xfA,s2.s_xfB);if(U2<=0){E2=1;break}if(V2==0&&(F2=U2>G2?_i.Max(G2-C_,.75*G2):_i.Max(U2-C_,.02*G2)),U2-F2<.5*C_){if(V2==0){E2=1;break}break}var Na=E2,g0=E2,n0=1;U2=U2,l2.GetTransform(s2.s_xfA,n0),D2.GetTransform(s2.s_xfB,n0);var J0=s2.s_fcn.Evaluate(s2.s_xfA,s2.s_xfB);if(J0>=F2){E2=1;break}for(var j0=0;;){var V0=0;V0=j0&1?g0+(F2-U2)*(n0-g0)/(J0-U2):.5*(g0+n0),l2.GetTransform(s2.s_xfA,V0),D2.GetTransform(s2.s_xfB,V0);var k0=s2.s_fcn.Evaluate(s2.s_xfA,s2.s_xfB);if(_i.Abs(k0-F2)<.025*C_){Na=V0;break}if(k0>F2?(g0=V0,U2=k0):(n0=V0,J0=k0),++j0,++s2.b2_toiRootIters,j0==50)break}if(s2.b2_toiMaxRootIters=_i.Max(s2.b2_toiMaxRootIters,j0),Na<(1+100*Number.MIN_VALUE)*E2||(E2=Na,V2++,++s2.b2_toiIters,V2==1e3))break}return s2.b2_toiMaxIters=_i.Max(s2.b2_toiMaxIters,V2),E2},Y_.postDefs.push(function(){Y_.Collision.b2TimeOfImpact.b2_toiCalls=0,Y_.Collision.b2TimeOfImpact.b2_toiIters=0,Y_.Collision.b2TimeOfImpact.b2_toiMaxIters=0,Y_.Collision.b2TimeOfImpact.b2_toiRootIters=0,Y_.Collision.b2TimeOfImpact.b2_toiMaxRootIters=0,Y_.Collision.b2TimeOfImpact.s_cache=new Z_,Y_.Collision.b2TimeOfImpact.s_distanceInput=new D_,Y_.Collision.b2TimeOfImpact.s_xfA=new t_,Y_.Collision.b2TimeOfImpact.s_xfB=new t_,Y_.Collision.b2TimeOfImpact.s_fcn=new P_,Y_.Collision.b2TimeOfImpact.s_distanceOutput=new y_}),u2.b2TOIInput=function(){this.proxyA=new G_,this.proxyB=new G_,this.sweepA=new l,this.sweepB=new l},p2.b2WorldManifold=function(){this.m_normal=new o_},p2.prototype.b2WorldManifold=function(){this.m_points=new j1(_o.b2_maxManifoldPoints);for(var C_=0;C_<_o.b2_maxManifoldPoints;C_++)this.m_points[C_]=new o_},p2.prototype.Initialize=function(C_,W_,t2,l2,D2){if(t2===void 0&&(t2=0),D2===void 0&&(D2=0),C_.m_pointCount!=0){var G2=0,E2,V2,F2=0,U2=0,Na=0,g0=0,n0=0;switch(E2=0,C_.m_type){case y2.e_circles:V2=W_.R,E2=C_.m_localPoint,G2=W_.position.x+V2.col1.x*E2.x+V2.col2.x*E2.y,W_=W_.position.y+V2.col1.y*E2.x+V2.col2.y*E2.y,V2=l2.R,E2=C_.m_points[0].m_localPoint,C_=l2.position.x+V2.col1.x*E2.x+V2.col2.x*E2.y,l2=l2.position.y+V2.col1.y*E2.x+V2.col2.y*E2.y,E2=C_-G2,V2=l2-W_,F2=E2*E2+V2*V2,F2>Number.MIN_VALUE*Number.MIN_VALUE?(F2=Math.sqrt(F2),this.m_normal.x=E2/F2,this.m_normal.y=V2/F2):(this.m_normal.x=1,this.m_normal.y=0),E2=W_+t2*this.m_normal.y,l2=l2-D2*this.m_normal.y,this.m_points[0].x=.5*(G2+t2*this.m_normal.x+(C_-D2*this.m_normal.x)),this.m_points[0].y=.5*(E2+l2);break;case y2.e_faceA:for(V2=W_.R,E2=C_.m_localPlaneNormal,F2=V2.col1.x*E2.x+V2.col2.x*E2.y,U2=V2.col1.y*E2.x+V2.col2.y*E2.y,V2=W_.R,E2=C_.m_localPoint,Na=W_.position.x+V2.col1.x*E2.x+V2.col2.x*E2.y,g0=W_.position.y+V2.col1.y*E2.x+V2.col2.y*E2.y,this.m_normal.x=F2,this.m_normal.y=U2,G2=0;G2<C_.m_pointCount;G2++)V2=l2.R,E2=C_.m_points[G2].m_localPoint,n0=l2.position.x+V2.col1.x*E2.x+V2.col2.x*E2.y,E2=l2.position.y+V2.col1.y*E2.x+V2.col2.y*E2.y,this.m_points[G2].x=n0+.5*(t2-(n0-Na)*F2-(E2-g0)*U2-D2)*F2,this.m_points[G2].y=E2+.5*(t2-(n0-Na)*F2-(E2-g0)*U2-D2)*U2;break;case y2.e_faceB:for(V2=l2.R,E2=C_.m_localPlaneNormal,F2=V2.col1.x*E2.x+V2.col2.x*E2.y,U2=V2.col1.y*E2.x+V2.col2.y*E2.y,V2=l2.R,E2=C_.m_localPoint,Na=l2.position.x+V2.col1.x*E2.x+V2.col2.x*E2.y,g0=l2.position.y+V2.col1.y*E2.x+V2.col2.y*E2.y,this.m_normal.x=-F2,this.m_normal.y=-U2,G2=0;G2<C_.m_pointCount;G2++)V2=W_.R,E2=C_.m_points[G2].m_localPoint,n0=W_.position.x+V2.col1.x*E2.x+V2.col2.x*E2.y,E2=W_.position.y+V2.col1.y*E2.x+V2.col2.y*E2.y,this.m_points[G2].x=n0+.5*(D2-(n0-Na)*F2-(E2-g0)*U2-t2)*F2,this.m_points[G2].y=E2+.5*(D2-(n0-Na)*F2-(E2-g0)*U2-t2)*U2}}},v_.ClipVertex=function(){this.v=new o_,this.id=new h_},v_.prototype.Set=function(C_){this.v.SetV(C_.v),this.id.Set(C_.id)},F_.Features=function(){},Object.defineProperty(F_.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this._referenceEdge}}),Object.defineProperty(F_.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(C_){C_===void 0&&(C_=0),this._referenceEdge=C_,this._m_id._key=this._m_id._key&4294967040|this._referenceEdge&255}}),Object.defineProperty(F_.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this._incidentEdge}}),Object.defineProperty(F_.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function(C_){C_===void 0&&(C_=0),this._incidentEdge=C_,this._m_id._key=this._m_id._key&4294902015|this._incidentEdge<<8&65280}}),Object.defineProperty(F_.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this._incidentVertex}}),Object.defineProperty(F_.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(C_){C_===void 0&&(C_=0),this._incidentVertex=C_,this._m_id._key=this._m_id._key&4278255615|this._incidentVertex<<16&16711680}}),Object.defineProperty(F_.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this._flip}}),Object.defineProperty(F_.prototype,"flip",{enumerable:!1,configurable:!0,set:function(C_){C_===void 0&&(C_=0),this._flip=C_,this._m_id._key=this._m_id._key&16777215|this._flip<<24&4278190080}})})();(function(){var V=Y_.Common.b2Settings,x=Y_.Collision.Shapes.b2CircleShape,o=Y_.Collision.Shapes.b2EdgeChainDef,_o=Y_.Collision.Shapes.b2EdgeShape,_i=Y_.Collision.Shapes.b2MassData,l=Y_.Collision.Shapes.b2PolygonShape,t_=Y_.Collision.Shapes.b2Shape,o_=Y_.Common.Math.b2Mat22,i_=Y_.Common.Math.b2Math,_e=Y_.Common.Math.b2Transform,l_=Y_.Common.Math.b2Vec2,ws=Y_.Collision.b2Distance,h_=Y_.Collision.b2DistanceInput,s_=Y_.Collision.b2DistanceOutput,B_=Y_.Collision.b2DistanceProxy,D_=Y_.Collision.b2SimplexCache;Y_.inherit(x,Y_.Collision.Shapes.b2Shape),x.prototype.__super=Y_.Collision.Shapes.b2Shape.prototype,x.b2CircleShape=function(){Y_.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments),this.m_p=new l_},x.prototype.Copy=function(){var y_=new x;return y_.Set(this),y_},x.prototype.Set=function(y_){this.__super.Set.call(this,y_),Y_.is(y_,x)&&this.m_p.SetV((y_ instanceof x?y_:null).m_p)},x.prototype.TestPoint=function(y_,G_){var q_=y_.R,j_=y_.position.x+(q_.col1.x*this.m_p.x+q_.col2.x*this.m_p.y);return q_=y_.position.y+(q_.col1.y*this.m_p.x+q_.col2.y*this.m_p.y),j_=G_.x-j_,q_=G_.y-q_,j_*j_+q_*q_<=this.m_radius*this.m_radius},x.prototype.RayCast=function(y_,G_,q_){var j_=q_.R,_2=G_.p1.x-(q_.position.x+(j_.col1.x*this.m_p.x+j_.col2.x*this.m_p.y));q_=G_.p1.y-(q_.position.y+(j_.col1.y*this.m_p.x+j_.col2.y*this.m_p.y)),j_=G_.p2.x-G_.p1.x;var m2=G_.p2.y-G_.p1.y,y2=_2*j_+q_*m2,I2=j_*j_+m2*m2,J2=y2*y2-I2*(_2*_2+q_*q_-this.m_radius*this.m_radius);return J2<0||I2<Number.MIN_VALUE?!1:(y2=-(y2+Math.sqrt(J2)),0<=y2&&y2<=G_.maxFraction*I2?(y2/=I2,y_.fraction=y2,y_.normal.x=_2+y2*j_,y_.normal.y=q_+y2*m2,y_.normal.Normalize(),!0):!1)},x.prototype.ComputeAABB=function(y_,G_){var q_=G_.R,j_=G_.position.x+(q_.col1.x*this.m_p.x+q_.col2.x*this.m_p.y);q_=G_.position.y+(q_.col1.y*this.m_p.x+q_.col2.y*this.m_p.y),y_.lowerBound.Set(j_-this.m_radius,q_-this.m_radius),y_.upperBound.Set(j_+this.m_radius,q_+this.m_radius)},x.prototype.ComputeMass=function(y_,G_){G_===void 0&&(G_=0),y_.mass=G_*V.b2_pi*this.m_radius*this.m_radius,y_.center.SetV(this.m_p),y_.I=y_.mass*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))},x.prototype.ComputeSubmergedArea=function(y_,G_,q_,j_){G_===void 0&&(G_=0),q_=i_.MulX(q_,this.m_p);var _2=-(i_.Dot(y_,q_)-G_);if(_2<-this.m_radius+Number.MIN_VALUE)return 0;if(_2>this.m_radius)return j_.SetV(q_),Math.PI*this.m_radius*this.m_radius;G_=this.m_radius*this.m_radius;var m2=_2*_2;return _2=G_*(Math.asin(_2/this.m_radius)+Math.PI/2)+_2*Math.sqrt(G_-m2),G_=-2/3*Math.pow(G_-m2,1.5)/_2,j_.x=q_.x+y_.x*G_,j_.y=q_.y+y_.y*G_,_2},x.prototype.GetLocalPosition=function(){return this.m_p},x.prototype.SetLocalPosition=function(y_){this.m_p.SetV(y_)},x.prototype.GetRadius=function(){return this.m_radius},x.prototype.SetRadius=function(y_){y_===void 0&&(y_=0),this.m_radius=y_},x.prototype.b2CircleShape=function(y_){y_===void 0&&(y_=0),this.__super.b2Shape.call(this),this.m_type=t_.e_circleShape,this.m_radius=y_},o.b2EdgeChainDef=function(){},o.prototype.b2EdgeChainDef=function(){this.vertexCount=0,this.isALoop=!0,this.vertices=[]},Y_.inherit(_o,Y_.Collision.Shapes.b2Shape),_o.prototype.__super=Y_.Collision.Shapes.b2Shape.prototype,_o.b2EdgeShape=function(){Y_.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments),this.s_supportVec=new l_,this.m_v1=new l_,this.m_v2=new l_,this.m_coreV1=new l_,this.m_coreV2=new l_,this.m_normal=new l_,this.m_direction=new l_,this.m_cornerDir1=new l_,this.m_cornerDir2=new l_},_o.prototype.TestPoint=function(){return!1},_o.prototype.RayCast=function(y_,G_,q_){var j_,_2=G_.p2.x-G_.p1.x,m2=G_.p2.y-G_.p1.y;j_=q_.R;var y2=q_.position.x+(j_.col1.x*this.m_v1.x+j_.col2.x*this.m_v1.y),I2=q_.position.y+(j_.col1.y*this.m_v1.x+j_.col2.y*this.m_v1.y),J2=q_.position.y+(j_.col1.y*this.m_v2.x+j_.col2.y*this.m_v2.y)-I2;q_=-(q_.position.x+(j_.col1.x*this.m_v2.x+j_.col2.x*this.m_v2.y)-y2),j_=100*Number.MIN_VALUE;var z2=-(_2*J2+m2*q_);if(z2>j_){y2=G_.p1.x-y2;var K2=G_.p1.y-I2;if(I2=y2*J2+K2*q_,0<=I2&&I2<=G_.maxFraction*z2&&(G_=-_2*K2+m2*y2,-j_*z2<=G_&&G_<=z2*(1+j_)))return I2/=z2,y_.fraction=I2,G_=Math.sqrt(J2*J2+q_*q_),y_.normal.x=J2/G_,y_.normal.y=q_/G_,!0}return!1},_o.prototype.ComputeAABB=function(y_,G_){var q_=G_.R,j_=G_.position.x+(q_.col1.x*this.m_v1.x+q_.col2.x*this.m_v1.y),_2=G_.position.y+(q_.col1.y*this.m_v1.x+q_.col2.y*this.m_v1.y),m2=G_.position.x+(q_.col1.x*this.m_v2.x+q_.col2.x*this.m_v2.y);q_=G_.position.y+(q_.col1.y*this.m_v2.x+q_.col2.y*this.m_v2.y),j_<m2?(y_.lowerBound.x=j_,y_.upperBound.x=m2):(y_.lowerBound.x=m2,y_.upperBound.x=j_),_2<q_?(y_.lowerBound.y=_2,y_.upperBound.y=q_):(y_.lowerBound.y=q_,y_.upperBound.y=_2)},_o.prototype.ComputeMass=function(y_){y_.mass=0,y_.center.SetV(this.m_v1),y_.I=0},_o.prototype.ComputeSubmergedArea=function(y_,G_,q_,j_){G_===void 0&&(G_=0);var _2=new l_(y_.x*G_,y_.y*G_),m2=i_.MulX(q_,this.m_v1);q_=i_.MulX(q_,this.m_v2);var y2=i_.Dot(y_,m2)-G_;if(y_=i_.Dot(y_,q_)-G_,y2>0){if(y_>0)return 0;m2.x=-y_/(y2-y_)*m2.x+y2/(y2-y_)*q_.x,m2.y=-y_/(y2-y_)*m2.y+y2/(y2-y_)*q_.y}else y_>0&&(q_.x=-y_/(y2-y_)*m2.x+y2/(y2-y_)*q_.x,q_.y=-y_/(y2-y_)*m2.y+y2/(y2-y_)*q_.y);return j_.x=(_2.x+m2.x+q_.x)/3,j_.y=(_2.y+m2.y+q_.y)/3,.5*((m2.x-_2.x)*(q_.y-_2.y)-(m2.y-_2.y)*(q_.x-_2.x))},_o.prototype.GetLength=function(){return this.m_length},_o.prototype.GetVertex1=function(){return this.m_v1},_o.prototype.GetVertex2=function(){return this.m_v2},_o.prototype.GetCoreVertex1=function(){return this.m_coreV1},_o.prototype.GetCoreVertex2=function(){return this.m_coreV2},_o.prototype.GetNormalVector=function(){return this.m_normal},_o.prototype.GetDirectionVector=function(){return this.m_direction},_o.prototype.GetCorner1Vector=function(){return this.m_cornerDir1},_o.prototype.GetCorner2Vector=function(){return this.m_cornerDir2},_o.prototype.Corner1IsConvex=function(){return this.m_cornerConvex1},_o.prototype.Corner2IsConvex=function(){return this.m_cornerConvex2},_o.prototype.GetFirstVertex=function(y_){var G_=y_.R;return new l_(y_.position.x+(G_.col1.x*this.m_coreV1.x+G_.col2.x*this.m_coreV1.y),y_.position.y+(G_.col1.y*this.m_coreV1.x+G_.col2.y*this.m_coreV1.y))},_o.prototype.GetNextEdge=function(){return this.m_nextEdge},_o.prototype.GetPrevEdge=function(){return this.m_prevEdge},_o.prototype.Support=function(y_,G_,q_){G_===void 0&&(G_=0),q_===void 0&&(q_=0);var j_=y_.R,_2=y_.position.x+(j_.col1.x*this.m_coreV1.x+j_.col2.x*this.m_coreV1.y),m2=y_.position.y+(j_.col1.y*this.m_coreV1.x+j_.col2.y*this.m_coreV1.y),y2=y_.position.x+(j_.col1.x*this.m_coreV2.x+j_.col2.x*this.m_coreV2.y);return y_=y_.position.y+(j_.col1.y*this.m_coreV2.x+j_.col2.y*this.m_coreV2.y),_2*G_+m2*q_>y2*G_+y_*q_?(this.s_supportVec.x=_2,this.s_supportVec.y=m2):(this.s_supportVec.x=y2,this.s_supportVec.y=y_),this.s_supportVec},_o.prototype.b2EdgeShape=function(y_,G_){this.__super.b2Shape.call(this),this.m_type=t_.e_edgeShape,this.m_nextEdge=this.m_prevEdge=null,this.m_v1=y_,this.m_v2=G_,this.m_direction.Set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y),this.m_length=this.m_direction.Normalize(),this.m_normal.Set(this.m_direction.y,-this.m_direction.x),this.m_coreV1.Set(-V.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x,-V.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y),this.m_coreV2.Set(-V.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-V.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y),this.m_cornerDir1=this.m_normal,this.m_cornerDir2.Set(-this.m_normal.x,-this.m_normal.y)},_o.prototype.SetPrevEdge=function(y_,G_,q_,j_){this.m_prevEdge=y_,this.m_coreV1=G_,this.m_cornerDir1=q_,this.m_cornerConvex1=j_},_o.prototype.SetNextEdge=function(y_,G_,q_,j_){this.m_nextEdge=y_,this.m_coreV2=G_,this.m_cornerDir2=q_,this.m_cornerConvex2=j_},_i.b2MassData=function(){this.mass=0,this.center=new l_(0,0),this.I=0},Y_.inherit(l,Y_.Collision.Shapes.b2Shape),l.prototype.__super=Y_.Collision.Shapes.b2Shape.prototype,l.b2PolygonShape=function(){Y_.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments)},l.prototype.Copy=function(){var y_=new l;return y_.Set(this),y_},l.prototype.Set=function(y_){if(this.__super.Set.call(this,y_),Y_.is(y_,l)){y_=y_ instanceof l?y_:null,this.m_centroid.SetV(y_.m_centroid),this.m_vertexCount=y_.m_vertexCount,this.Reserve(this.m_vertexCount);for(var G_=0;G_<this.m_vertexCount;G_++)this.m_vertices[G_].SetV(y_.m_vertices[G_]),this.m_normals[G_].SetV(y_.m_normals[G_])}},l.prototype.SetAsArray=function(y_,G_){G_===void 0&&(G_=0);var q_=new j1,j_=0,_2;for(j_=0;j_<y_.length;++j_)_2=y_[j_],q_.push(_2);this.SetAsVector(q_,G_)},l.AsArray=function(y_,G_){G_===void 0&&(G_=0);var q_=new l;return q_.SetAsArray(y_,G_),q_},l.prototype.SetAsVector=function(y_,G_){G_===void 0&&(G_=0),G_==0&&(G_=y_.length),V.b2Assert(2<=G_),this.m_vertexCount=G_,this.Reserve(G_);var q_=0;for(q_=0;q_<this.m_vertexCount;q_++)this.m_vertices[q_].SetV(y_[q_]);for(q_=0;q_<this.m_vertexCount;++q_){var j_=parseInt(q_),_2=parseInt(q_+1<this.m_vertexCount?q_+1:0);j_=i_.SubtractVV(this.m_vertices[_2],this.m_vertices[j_]),V.b2Assert(j_.LengthSquared()>Number.MIN_VALUE),this.m_normals[q_].SetV(i_.CrossVF(j_,1)),this.m_normals[q_].Normalize()}this.m_centroid=l.ComputeCentroid(this.m_vertices,this.m_vertexCount)},l.AsVector=function(y_,G_){G_===void 0&&(G_=0);var q_=new l;return q_.SetAsVector(y_,G_),q_},l.prototype.SetAsBox=function(y_,G_){y_===void 0&&(y_=0),G_===void 0&&(G_=0),this.m_vertexCount=4,this.Reserve(4),this.m_vertices[0].Set(-y_,-G_),this.m_vertices[1].Set(y_,-G_),this.m_vertices[2].Set(y_,G_),this.m_vertices[3].Set(-y_,G_),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero()},l.AsBox=function(y_,G_){y_===void 0&&(y_=0),G_===void 0&&(G_=0);var q_=new l;return q_.SetAsBox(y_,G_),q_},l.prototype.SetAsOrientedBox=function(y_,G_,q_,j_){for(y_===void 0&&(y_=0),G_===void 0&&(G_=0),q_===void 0&&(q_=null),j_===void 0&&(j_=0),this.m_vertexCount=4,this.Reserve(4),this.m_vertices[0].Set(-y_,-G_),this.m_vertices[1].Set(y_,-G_),this.m_vertices[2].Set(y_,G_),this.m_vertices[3].Set(-y_,G_),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid=q_,y_=new _e,y_.position=q_,y_.R.Set(j_),q_=0;q_<this.m_vertexCount;++q_)this.m_vertices[q_]=i_.MulX(y_,this.m_vertices[q_]),this.m_normals[q_]=i_.MulMV(y_.R,this.m_normals[q_])},l.AsOrientedBox=function(y_,G_,q_,j_){y_===void 0&&(y_=0),G_===void 0&&(G_=0),q_===void 0&&(q_=null),j_===void 0&&(j_=0);var _2=new l;return _2.SetAsOrientedBox(y_,G_,q_,j_),_2},l.prototype.SetAsEdge=function(y_,G_){this.m_vertexCount=2,this.Reserve(2),this.m_vertices[0].SetV(y_),this.m_vertices[1].SetV(G_),this.m_centroid.x=.5*(y_.x+G_.x),this.m_centroid.y=.5*(y_.y+G_.y),this.m_normals[0]=i_.CrossVF(i_.SubtractVV(G_,y_),1),this.m_normals[0].Normalize(),this.m_normals[1].x=-this.m_normals[0].x,this.m_normals[1].y=-this.m_normals[0].y},l.AsEdge=function(y_,G_){var q_=new l;return q_.SetAsEdge(y_,G_),q_},l.prototype.TestPoint=function(y_,G_){var q_;q_=y_.R;for(var j_=G_.x-y_.position.x,_2=G_.y-y_.position.y,m2=j_*q_.col1.x+_2*q_.col1.y,y2=j_*q_.col2.x+_2*q_.col2.y,I2=0;I2<this.m_vertexCount;++I2)if(q_=this.m_vertices[I2],j_=m2-q_.x,_2=y2-q_.y,q_=this.m_normals[I2],q_.x*j_+q_.y*_2>0)return!1;return!0},l.prototype.RayCast=function(y_,G_,q_){var j_=0,_2=G_.maxFraction,m2=0,y2=0,I2,J2;m2=G_.p1.x-q_.position.x,y2=G_.p1.y-q_.position.y,I2=q_.R;var z2=m2*I2.col1.x+y2*I2.col1.y,K2=m2*I2.col2.x+y2*I2.col2.y;m2=G_.p2.x-q_.position.x,y2=G_.p2.y-q_.position.y,I2=q_.R,G_=m2*I2.col1.x+y2*I2.col1.y-z2,I2=m2*I2.col2.x+y2*I2.col2.y-K2;for(var $2=parseInt(-1),P_=0;P_<this.m_vertexCount;++P_){if(J2=this.m_vertices[P_],m2=J2.x-z2,y2=J2.y-K2,J2=this.m_normals[P_],m2=J2.x*m2+J2.y*y2,y2=J2.x*G_+J2.y*I2,y2==0){if(m2<0)return!1}else y2<0&&m2<j_*y2?(j_=m2/y2,$2=P_):y2>0&&m2<_2*y2&&(_2=m2/y2);if(_2<j_-Number.MIN_VALUE)return!1}return $2>=0?(y_.fraction=j_,I2=q_.R,J2=this.m_normals[$2],y_.normal.x=I2.col1.x*J2.x+I2.col2.x*J2.y,y_.normal.y=I2.col1.y*J2.x+I2.col2.y*J2.y,!0):!1},l.prototype.ComputeAABB=function(y_,G_){for(var q_=G_.R,j_=this.m_vertices[0],_2=G_.position.x+(q_.col1.x*j_.x+q_.col2.x*j_.y),m2=G_.position.y+(q_.col1.y*j_.x+q_.col2.y*j_.y),y2=_2,I2=m2,J2=1;J2<this.m_vertexCount;++J2){j_=this.m_vertices[J2];var z2=G_.position.x+(q_.col1.x*j_.x+q_.col2.x*j_.y);j_=G_.position.y+(q_.col1.y*j_.x+q_.col2.y*j_.y),_2=_2<z2?_2:z2,m2=m2<j_?m2:j_,y2=y2>z2?y2:z2,I2=I2>j_?I2:j_}y_.lowerBound.x=_2-this.m_radius,y_.lowerBound.y=m2-this.m_radius,y_.upperBound.x=y2+this.m_radius,y_.upperBound.y=I2+this.m_radius},l.prototype.ComputeMass=function(y_,G_){if(G_===void 0&&(G_=0),this.m_vertexCount==2)y_.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),y_.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),y_.mass=0,y_.I=0;else{for(var q_=0,j_=0,_2=0,m2=0,y2=1/3,I2=0;I2<this.m_vertexCount;++I2){var J2=this.m_vertices[I2],z2=I2+1<this.m_vertexCount?this.m_vertices[parseInt(I2+1)]:this.m_vertices[0],K2=J2.x-0,$2=J2.y-0,P_=z2.x-0,E_=z2.y-0,Z_=K2*E_-$2*P_,N_=.5*Z_;_2+=N_,q_+=N_*y2*(0+J2.x+z2.x),j_+=N_*y2*(0+J2.y+z2.y),J2=K2,$2=$2,P_=P_,E_=E_,m2+=Z_*(y2*(.25*(J2*J2+P_*J2+P_*P_)+(0*J2+0*P_))+0+(y2*(.25*($2*$2+E_*$2+E_*E_)+(0*$2+0*E_))+0))}y_.mass=G_*_2,q_*=1/_2,j_*=1/_2,y_.center.Set(q_,j_),y_.I=G_*m2}},l.prototype.ComputeSubmergedArea=function(y_,G_,q_,j_){G_===void 0&&(G_=0);var _2=i_.MulTMV(q_.R,y_),m2=G_-i_.Dot(y_,q_.position),y2=new KS,I2=0,J2=parseInt(-1);G_=parseInt(-1);var z2=!1;for(y_=y_=0;y_<this.m_vertexCount;++y_){y2[y_]=i_.Dot(_2,this.m_vertices[y_])-m2;var K2=y2[y_]<-Number.MIN_VALUE;y_>0&&(K2?z2||(J2=y_-1,I2++):z2&&(G_=y_-1,I2++)),z2=K2}switch(I2){case 0:return z2?(y_=new _i,this.ComputeMass(y_,1),j_.SetV(i_.MulX(q_,y_.center)),y_.mass):0;case 1:J2==-1?J2=this.m_vertexCount-1:G_=this.m_vertexCount-1}for(y_=parseInt((J2+1)%this.m_vertexCount),_2=parseInt((G_+1)%this.m_vertexCount),m2=(0-y2[J2])/(y2[y_]-y2[J2]),y2=(0-y2[G_])/(y2[_2]-y2[G_]),J2=new l_(this.m_vertices[J2].x*(1-m2)+this.m_vertices[y_].x*m2,this.m_vertices[J2].y*(1-m2)+this.m_vertices[y_].y*m2),G_=new l_(this.m_vertices[G_].x*(1-y2)+this.m_vertices[_2].x*y2,this.m_vertices[G_].y*(1-y2)+this.m_vertices[_2].y*y2),y2=0,m2=new l_,I2=this.m_vertices[y_],y_=y_;y_!=_2;)y_=(y_+1)%this.m_vertexCount,z2=y_==_2?G_:this.m_vertices[y_],K2=.5*((I2.x-J2.x)*(z2.y-J2.y)-(I2.y-J2.y)*(z2.x-J2.x)),y2+=K2,m2.x+=K2*(J2.x+I2.x+z2.x)/3,m2.y+=K2*(J2.y+I2.y+z2.y)/3,I2=z2;return m2.Multiply(1/y2),j_.SetV(i_.MulX(q_,m2)),y2},l.prototype.GetVertexCount=function(){return this.m_vertexCount},l.prototype.GetVertices=function(){return this.m_vertices},l.prototype.GetNormals=function(){return this.m_normals},l.prototype.GetSupport=function(y_){for(var G_=0,q_=this.m_vertices[0].x*y_.x+this.m_vertices[0].y*y_.y,j_=1;j_<this.m_vertexCount;++j_){var _2=this.m_vertices[j_].x*y_.x+this.m_vertices[j_].y*y_.y;_2>q_&&(G_=j_,q_=_2)}return G_},l.prototype.GetSupportVertex=function(y_){for(var G_=0,q_=this.m_vertices[0].x*y_.x+this.m_vertices[0].y*y_.y,j_=1;j_<this.m_vertexCount;++j_){var _2=this.m_vertices[j_].x*y_.x+this.m_vertices[j_].y*y_.y;_2>q_&&(G_=j_,q_=_2)}return this.m_vertices[G_]},l.prototype.Validate=function(){return!1},l.prototype.b2PolygonShape=function(){this.__super.b2Shape.call(this),this.m_type=t_.e_polygonShape,this.m_centroid=new l_,this.m_vertices=new j1,this.m_normals=new j1},l.prototype.Reserve=function(y_){y_===void 0&&(y_=0);for(var G_=parseInt(this.m_vertices.length);G_<y_;G_++)this.m_vertices[G_]=new l_,this.m_normals[G_]=new l_},l.ComputeCentroid=function(y_,G_){G_===void 0&&(G_=0);for(var q_=new l_,j_=0,_2=1/3,m2=0;m2<G_;++m2){var y2=y_[m2],I2=m2+1<G_?y_[parseInt(m2+1)]:y_[0],J2=.5*((y2.x-0)*(I2.y-0)-(y2.y-0)*(I2.x-0));j_+=J2,q_.x+=J2*_2*(0+y2.x+I2.x),q_.y+=J2*_2*(0+y2.y+I2.y)}return q_.x*=1/j_,q_.y*=1/j_,q_},l.ComputeOBB=function(y_,G_,q_){q_===void 0&&(q_=0);var j_=0,_2=new j1(q_+1);for(j_=0;j_<q_;++j_)_2[j_]=G_[j_];for(_2[q_]=_2[0],G_=Number.MAX_VALUE,j_=1;j_<=q_;++j_){var m2=_2[parseInt(j_-1)],y2=_2[j_].x-m2.x,I2=_2[j_].y-m2.y,J2=Math.sqrt(y2*y2+I2*I2);y2/=J2,I2/=J2;for(var z2=-I2,K2=y2,$2=J2=Number.MAX_VALUE,P_=-Number.MAX_VALUE,E_=-Number.MAX_VALUE,Z_=0;Z_<q_;++Z_){var N_=_2[Z_].x-m2.x,s2=_2[Z_].y-m2.y,u2=y2*N_+I2*s2;N_=z2*N_+K2*s2,u2<J2&&(J2=u2),N_<$2&&($2=N_),u2>P_&&(P_=u2),N_>E_&&(E_=N_)}Z_=(P_-J2)*(E_-$2),Z_<.95*G_&&(G_=Z_,y_.R.col1.x=y2,y_.R.col1.y=I2,y_.R.col2.x=z2,y_.R.col2.y=K2,y2=.5*(J2+P_),I2=.5*($2+E_),z2=y_.R,y_.center.x=m2.x+(z2.col1.x*y2+z2.col2.x*I2),y_.center.y=m2.y+(z2.col1.y*y2+z2.col2.y*I2),y_.extents.x=.5*(P_-J2),y_.extents.y=.5*(E_-$2))}},Y_.postDefs.push(function(){Y_.Collision.Shapes.b2PolygonShape.s_mat=new o_}),t_.b2Shape=function(){},t_.prototype.Copy=function(){return null},t_.prototype.Set=function(y_){this.m_radius=y_.m_radius},t_.prototype.GetType=function(){return this.m_type},t_.prototype.TestPoint=function(){return!1},t_.prototype.RayCast=function(){return!1},t_.prototype.ComputeAABB=function(){},t_.prototype.ComputeMass=function(){},t_.prototype.ComputeSubmergedArea=function(){return 0},t_.TestOverlap=function(y_,G_,q_,j_){var _2=new h_;return _2.proxyA=new B_,_2.proxyA.Set(y_),_2.proxyB=new B_,_2.proxyB.Set(q_),_2.transformA=G_,_2.transformB=j_,_2.useRadii=!0,y_=new D_,y_.count=0,G_=new s_,ws.Distance(G_,y_,_2),G_.distance<10*Number.MIN_VALUE},t_.prototype.b2Shape=function(){this.m_type=t_.e_unknownShape,this.m_radius=V.b2_linearSlop},Y_.postDefs.push(function(){Y_.Collision.Shapes.b2Shape.e_unknownShape=parseInt(-1),Y_.Collision.Shapes.b2Shape.e_circleShape=0,Y_.Collision.Shapes.b2Shape.e_polygonShape=1,Y_.Collision.Shapes.b2Shape.e_edgeShape=2,Y_.Collision.Shapes.b2Shape.e_shapeTypeCount=3,Y_.Collision.Shapes.b2Shape.e_hitCollide=1,Y_.Collision.Shapes.b2Shape.e_missCollide=0,Y_.Collision.Shapes.b2Shape.e_startsInsideCollide=parseInt(-1)})})();(function(){var V=Y_.Common.b2Color,x=Y_.Common.b2Settings,o=Y_.Common.Math.b2Math;V.b2Color=function(){this._b=this._g=this._r=0},V.prototype.b2Color=function(_o,_i,l){_o===void 0&&(_o=0),_i===void 0&&(_i=0),l===void 0&&(l=0),this._r=Y_.parseUInt(255*o.Clamp(_o,0,1)),this._g=Y_.parseUInt(255*o.Clamp(_i,0,1)),this._b=Y_.parseUInt(255*o.Clamp(l,0,1))},V.prototype.Set=function(_o,_i,l){_o===void 0&&(_o=0),_i===void 0&&(_i=0),l===void 0&&(l=0),this._r=Y_.parseUInt(255*o.Clamp(_o,0,1)),this._g=Y_.parseUInt(255*o.Clamp(_i,0,1)),this._b=Y_.parseUInt(255*o.Clamp(l,0,1))},Object.defineProperty(V.prototype,"r",{enumerable:!1,configurable:!0,set:function(_o){_o===void 0&&(_o=0),this._r=Y_.parseUInt(255*o.Clamp(_o,0,1))}}),Object.defineProperty(V.prototype,"g",{enumerable:!1,configurable:!0,set:function(_o){_o===void 0&&(_o=0),this._g=Y_.parseUInt(255*o.Clamp(_o,0,1))}}),Object.defineProperty(V.prototype,"b",{enumerable:!1,configurable:!0,set:function(_o){_o===void 0&&(_o=0),this._b=Y_.parseUInt(255*o.Clamp(_o,0,1))}}),Object.defineProperty(V.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this._r<<16|this._g<<8|this._b}}),x.b2Settings=function(){},x.b2MixFriction=function(_o,_i){return _o===void 0&&(_o=0),_i===void 0&&(_i=0),Math.sqrt(_o*_i)},x.b2MixRestitution=function(_o,_i){return _o===void 0&&(_o=0),_i===void 0&&(_i=0),_o>_i?_o:_i},x.b2Assert=function(_o){if(!_o)throw"Assertion Failed"},Y_.postDefs.push(function(){Y_.Common.b2Settings.VERSION="2.1alpha",Y_.Common.b2Settings.USHRT_MAX=65535,Y_.Common.b2Settings.b2_pi=Math.PI,Y_.Common.b2Settings.b2_maxManifoldPoints=2,Y_.Common.b2Settings.b2_aabbExtension=.1,Y_.Common.b2Settings.b2_aabbMultiplier=2,Y_.Common.b2Settings.b2_polygonRadius=2*x.b2_linearSlop,Y_.Common.b2Settings.b2_linearSlop=.005,Y_.Common.b2Settings.b2_angularSlop=2/180*x.b2_pi,Y_.Common.b2Settings.b2_toiSlop=8*x.b2_linearSlop,Y_.Common.b2Settings.b2_maxTOIContactsPerIsland=32,Y_.Common.b2Settings.b2_maxTOIJointsPerIsland=32,Y_.Common.b2Settings.b2_velocityThreshold=1,Y_.Common.b2Settings.b2_maxLinearCorrection=.2,Y_.Common.b2Settings.b2_maxAngularCorrection=8/180*x.b2_pi,Y_.Common.b2Settings.b2_maxTranslation=2,Y_.Common.b2Settings.b2_maxTranslationSquared=x.b2_maxTranslation*x.b2_maxTranslation,Y_.Common.b2Settings.b2_maxRotation=.5*x.b2_pi,Y_.Common.b2Settings.b2_maxRotationSquared=x.b2_maxRotation*x.b2_maxRotation,Y_.Common.b2Settings.b2_contactBaumgarte=.2,Y_.Common.b2Settings.b2_timeToSleep=.5,Y_.Common.b2Settings.b2_linearSleepTolerance=.01,Y_.Common.b2Settings.b2_angularSleepTolerance=2/180*x.b2_pi})})();(function(){var V=Y_.Common.Math.b2Mat22,x=Y_.Common.Math.b2Mat33,o=Y_.Common.Math.b2Math,_o=Y_.Common.Math.b2Sweep,_i=Y_.Common.Math.b2Transform,l=Y_.Common.Math.b2Vec2,t_=Y_.Common.Math.b2Vec3;V.b2Mat22=function(){this.col1=new l,this.col2=new l},V.prototype.b2Mat22=function(){this.SetIdentity()},V.FromAngle=function(o_){o_===void 0&&(o_=0);var i_=new V;return i_.Set(o_),i_},V.FromVV=function(o_,i_){var _e=new V;return _e.SetVV(o_,i_),_e},V.prototype.Set=function(o_){o_===void 0&&(o_=0);var i_=Math.cos(o_);o_=Math.sin(o_),this.col1.x=i_,this.col2.x=-o_,this.col1.y=o_,this.col2.y=i_},V.prototype.SetVV=function(o_,i_){this.col1.SetV(o_),this.col2.SetV(i_)},V.prototype.Copy=function(){var o_=new V;return o_.SetM(this),o_},V.prototype.SetM=function(o_){this.col1.SetV(o_.col1),this.col2.SetV(o_.col2)},V.prototype.AddM=function(o_){this.col1.x+=o_.col1.x,this.col1.y+=o_.col1.y,this.col2.x+=o_.col2.x,this.col2.y+=o_.col2.y},V.prototype.SetIdentity=function(){this.col1.x=1,this.col2.x=0,this.col1.y=0,this.col2.y=1},V.prototype.SetZero=function(){this.col1.x=0,this.col2.x=0,this.col1.y=0,this.col2.y=0},V.prototype.GetAngle=function(){return Math.atan2(this.col1.y,this.col1.x)},V.prototype.GetInverse=function(o_){var i_=this.col1.x,_e=this.col2.x,l_=this.col1.y,ws=this.col2.y,h_=i_*ws-_e*l_;return h_!=0&&(h_=1/h_),o_.col1.x=h_*ws,o_.col2.x=-h_*_e,o_.col1.y=-h_*l_,o_.col2.y=h_*i_,o_},V.prototype.Solve=function(o_,i_,_e){i_===void 0&&(i_=0),_e===void 0&&(_e=0);var l_=this.col1.x,ws=this.col2.x,h_=this.col1.y,s_=this.col2.y,B_=l_*s_-ws*h_;return B_!=0&&(B_=1/B_),o_.x=B_*(s_*i_-ws*_e),o_.y=B_*(l_*_e-h_*i_),o_},V.prototype.Abs=function(){this.col1.Abs(),this.col2.Abs()},x.b2Mat33=function(){this.col1=new t_,this.col2=new t_,this.col3=new t_},x.prototype.b2Mat33=function(o_,i_,_e){o_===void 0&&(o_=null),i_===void 0&&(i_=null),_e===void 0&&(_e=null),!o_&&!i_&&!_e?(this.col1.SetZero(),this.col2.SetZero(),this.col3.SetZero()):(this.col1.SetV(o_),this.col2.SetV(i_),this.col3.SetV(_e))},x.prototype.SetVVV=function(o_,i_,_e){this.col1.SetV(o_),this.col2.SetV(i_),this.col3.SetV(_e)},x.prototype.Copy=function(){return new x(this.col1,this.col2,this.col3)},x.prototype.SetM=function(o_){this.col1.SetV(o_.col1),this.col2.SetV(o_.col2),this.col3.SetV(o_.col3)},x.prototype.AddM=function(o_){this.col1.x+=o_.col1.x,this.col1.y+=o_.col1.y,this.col1.z+=o_.col1.z,this.col2.x+=o_.col2.x,this.col2.y+=o_.col2.y,this.col2.z+=o_.col2.z,this.col3.x+=o_.col3.x,this.col3.y+=o_.col3.y,this.col3.z+=o_.col3.z},x.prototype.SetIdentity=function(){this.col1.x=1,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=1,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=1},x.prototype.SetZero=function(){this.col1.x=0,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=0,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=0},x.prototype.Solve22=function(o_,i_,_e){i_===void 0&&(i_=0),_e===void 0&&(_e=0);var l_=this.col1.x,ws=this.col2.x,h_=this.col1.y,s_=this.col2.y,B_=l_*s_-ws*h_;return B_!=0&&(B_=1/B_),o_.x=B_*(s_*i_-ws*_e),o_.y=B_*(l_*_e-h_*i_),o_},x.prototype.Solve33=function(o_,i_,_e,l_){i_===void 0&&(i_=0),_e===void 0&&(_e=0),l_===void 0&&(l_=0);var ws=this.col1.x,h_=this.col1.y,s_=this.col1.z,B_=this.col2.x,D_=this.col2.y,y_=this.col2.z,G_=this.col3.x,q_=this.col3.y,j_=this.col3.z,_2=ws*(D_*j_-y_*q_)+h_*(y_*G_-B_*j_)+s_*(B_*q_-D_*G_);return _2!=0&&(_2=1/_2),o_.x=_2*(i_*(D_*j_-y_*q_)+_e*(y_*G_-B_*j_)+l_*(B_*q_-D_*G_)),o_.y=_2*(ws*(_e*j_-l_*q_)+h_*(l_*G_-i_*j_)+s_*(i_*q_-_e*G_)),o_.z=_2*(ws*(D_*l_-y_*_e)+h_*(y_*i_-B_*l_)+s_*(B_*_e-D_*i_)),o_},o.b2Math=function(){},o.IsValid=function(o_){return o_===void 0&&(o_=0),isFinite(o_)},o.Dot=function(o_,i_){return o_.x*i_.x+o_.y*i_.y},o.CrossVV=function(o_,i_){return o_.x*i_.y-o_.y*i_.x},o.CrossVF=function(o_,i_){return i_===void 0&&(i_=0),new l(i_*o_.y,-i_*o_.x)},o.CrossFV=function(o_,i_){return o_===void 0&&(o_=0),new l(-o_*i_.y,o_*i_.x)},o.MulMV=function(o_,i_){return new l(o_.col1.x*i_.x+o_.col2.x*i_.y,o_.col1.y*i_.x+o_.col2.y*i_.y)},o.MulTMV=function(o_,i_){return new l(o.Dot(i_,o_.col1),o.Dot(i_,o_.col2))},o.MulX=function(o_,i_){var _e=o.MulMV(o_.R,i_);return _e.x+=o_.position.x,_e.y+=o_.position.y,_e},o.MulXT=function(o_,i_){var _e=o.SubtractVV(i_,o_.position),l_=_e.x*o_.R.col1.x+_e.y*o_.R.col1.y;return _e.y=_e.x*o_.R.col2.x+_e.y*o_.R.col2.y,_e.x=l_,_e},o.AddVV=function(o_,i_){return new l(o_.x+i_.x,o_.y+i_.y)},o.SubtractVV=function(o_,i_){return new l(o_.x-i_.x,o_.y-i_.y)},o.Distance=function(o_,i_){var _e=o_.x-i_.x,l_=o_.y-i_.y;return Math.sqrt(_e*_e+l_*l_)},o.DistanceSquared=function(o_,i_){var _e=o_.x-i_.x,l_=o_.y-i_.y;return _e*_e+l_*l_},o.MulFV=function(o_,i_){return o_===void 0&&(o_=0),new l(o_*i_.x,o_*i_.y)},o.AddMM=function(o_,i_){return V.FromVV(o.AddVV(o_.col1,i_.col1),o.AddVV(o_.col2,i_.col2))},o.MulMM=function(o_,i_){return V.FromVV(o.MulMV(o_,i_.col1),o.MulMV(o_,i_.col2))},o.MulTMM=function(o_,i_){var _e=new l(o.Dot(o_.col1,i_.col1),o.Dot(o_.col2,i_.col1)),l_=new l(o.Dot(o_.col1,i_.col2),o.Dot(o_.col2,i_.col2));return V.FromVV(_e,l_)},o.Abs=function(o_){return o_===void 0&&(o_=0),o_>0?o_:-o_},o.AbsV=function(o_){return new l(o.Abs(o_.x),o.Abs(o_.y))},o.AbsM=function(o_){return V.FromVV(o.AbsV(o_.col1),o.AbsV(o_.col2))},o.Min=function(o_,i_){return o_===void 0&&(o_=0),i_===void 0&&(i_=0),o_<i_?o_:i_},o.MinV=function(o_,i_){return new l(o.Min(o_.x,i_.x),o.Min(o_.y,i_.y))},o.Max=function(o_,i_){return o_===void 0&&(o_=0),i_===void 0&&(i_=0),o_>i_?o_:i_},o.MaxV=function(o_,i_){return new l(o.Max(o_.x,i_.x),o.Max(o_.y,i_.y))},o.Clamp=function(o_,i_,_e){return o_===void 0&&(o_=0),i_===void 0&&(i_=0),_e===void 0&&(_e=0),o_<i_?i_:o_>_e?_e:o_},o.ClampV=function(o_,i_,_e){return o.MaxV(i_,o.MinV(o_,_e))},o.Swap=function(o_,i_){var _e=o_[0];o_[0]=i_[0],i_[0]=_e},o.Random=function(){return Math.random()*2-1},o.RandomRange=function(o_,i_){o_===void 0&&(o_=0),i_===void 0&&(i_=0);var _e=Math.random();return _e=(i_-o_)*_e+o_},o.NextPowerOfTwo=function(o_){return o_===void 0&&(o_=0),o_|=o_>>1&2147483647,o_|=o_>>2&1073741823,o_|=o_>>4&268435455,o_|=o_>>8&16777215,o_|=o_>>16&65535,o_+1},o.IsPowerOfTwo=function(o_){return o_===void 0&&(o_=0),o_>0&&(o_&o_-1)==0},Y_.postDefs.push(function(){Y_.Common.Math.b2Math.b2Vec2_zero=new l(0,0),Y_.Common.Math.b2Math.b2Mat22_identity=V.FromVV(new l(1,0),new l(0,1)),Y_.Common.Math.b2Math.b2Transform_identity=new _i(o.b2Vec2_zero,o.b2Mat22_identity)}),_o.b2Sweep=function(){this.localCenter=new l,this.c0=new l,this.c=new l},_o.prototype.Set=function(o_){this.localCenter.SetV(o_.localCenter),this.c0.SetV(o_.c0),this.c.SetV(o_.c),this.a0=o_.a0,this.a=o_.a,this.t0=o_.t0},_o.prototype.Copy=function(){var o_=new _o;return o_.localCenter.SetV(this.localCenter),o_.c0.SetV(this.c0),o_.c.SetV(this.c),o_.a0=this.a0,o_.a=this.a,o_.t0=this.t0,o_},_o.prototype.GetTransform=function(o_,i_){i_===void 0&&(i_=0),o_.position.x=(1-i_)*this.c0.x+i_*this.c.x,o_.position.y=(1-i_)*this.c0.y+i_*this.c.y,o_.R.Set((1-i_)*this.a0+i_*this.a);var _e=o_.R;o_.position.x-=_e.col1.x*this.localCenter.x+_e.col2.x*this.localCenter.y,o_.position.y-=_e.col1.y*this.localCenter.x+_e.col2.y*this.localCenter.y},_o.prototype.Advance=function(o_){if(o_===void 0&&(o_=0),this.t0<o_&&1-this.t0>Number.MIN_VALUE){var i_=(o_-this.t0)/(1-this.t0);this.c0.x=(1-i_)*this.c0.x+i_*this.c.x,this.c0.y=(1-i_)*this.c0.y+i_*this.c.y,this.a0=(1-i_)*this.a0+i_*this.a,this.t0=o_}},_i.b2Transform=function(){this.position=new l,this.R=new V},_i.prototype.b2Transform=function(o_,i_){o_===void 0&&(o_=null),i_===void 0&&(i_=null),o_&&(this.position.SetV(o_),this.R.SetM(i_))},_i.prototype.Initialize=function(o_,i_){this.position.SetV(o_),this.R.SetM(i_)},_i.prototype.SetIdentity=function(){this.position.SetZero(),this.R.SetIdentity()},_i.prototype.Set=function(o_){this.position.SetV(o_.position),this.R.SetM(o_.R)},_i.prototype.GetAngle=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)},l.b2Vec2=function(){},l.prototype.b2Vec2=function(o_,i_){o_===void 0&&(o_=0),i_===void 0&&(i_=0),this.x=o_,this.y=i_},l.prototype.SetZero=function(){this.y=this.x=0},l.prototype.Set=function(o_,i_){o_===void 0&&(o_=0),i_===void 0&&(i_=0),this.x=o_,this.y=i_},l.prototype.SetV=function(o_){this.x=o_.x,this.y=o_.y},l.prototype.GetNegative=function(){return new l(-this.x,-this.y)},l.prototype.NegativeSelf=function(){this.x=-this.x,this.y=-this.y},l.Make=function(o_,i_){return o_===void 0&&(o_=0),i_===void 0&&(i_=0),new l(o_,i_)},l.prototype.Copy=function(){return new l(this.x,this.y)},l.prototype.Add=function(o_){this.x+=o_.x,this.y+=o_.y},l.prototype.Subtract=function(o_){this.x-=o_.x,this.y-=o_.y},l.prototype.Multiply=function(o_){o_===void 0&&(o_=0),this.x*=o_,this.y*=o_},l.prototype.MulM=function(o_){var i_=this.x;this.x=o_.col1.x*i_+o_.col2.x*this.y,this.y=o_.col1.y*i_+o_.col2.y*this.y},l.prototype.MulTM=function(o_){var i_=o.Dot(this,o_.col1);this.y=o.Dot(this,o_.col2),this.x=i_},l.prototype.CrossVF=function(o_){o_===void 0&&(o_=0);var i_=this.x;this.x=o_*this.y,this.y=-o_*i_},l.prototype.CrossFV=function(o_){o_===void 0&&(o_=0);var i_=this.x;this.x=-o_*this.y,this.y=o_*i_},l.prototype.MinV=function(o_){this.x=this.x<o_.x?this.x:o_.x,this.y=this.y<o_.y?this.y:o_.y},l.prototype.MaxV=function(o_){this.x=this.x>o_.x?this.x:o_.x,this.y=this.y>o_.y?this.y:o_.y},l.prototype.Abs=function(){this.x<0&&(this.x=-this.x),this.y<0&&(this.y=-this.y)},l.prototype.Length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},l.prototype.LengthSquared=function(){return this.x*this.x+this.y*this.y},l.prototype.Normalize=function(){var o_=Math.sqrt(this.x*this.x+this.y*this.y);if(o_<Number.MIN_VALUE)return 0;var i_=1/o_;return this.x*=i_,this.y*=i_,o_},l.prototype.IsValid=function(){return o.IsValid(this.x)&&o.IsValid(this.y)},t_.b2Vec3=function(){},t_.prototype.b2Vec3=function(o_,i_,_e){o_===void 0&&(o_=0),i_===void 0&&(i_=0),_e===void 0&&(_e=0),this.x=o_,this.y=i_,this.z=_e},t_.prototype.SetZero=function(){this.x=this.y=this.z=0},t_.prototype.Set=function(o_,i_,_e){o_===void 0&&(o_=0),i_===void 0&&(i_=0),_e===void 0&&(_e=0),this.x=o_,this.y=i_,this.z=_e},t_.prototype.SetV=function(o_){this.x=o_.x,this.y=o_.y,this.z=o_.z},t_.prototype.GetNegative=function(){return new t_(-this.x,-this.y,-this.z)},t_.prototype.NegativeSelf=function(){this.x=-this.x,this.y=-this.y,this.z=-this.z},t_.prototype.Copy=function(){return new t_(this.x,this.y,this.z)},t_.prototype.Add=function(o_){this.x+=o_.x,this.y+=o_.y,this.z+=o_.z},t_.prototype.Subtract=function(o_){this.x-=o_.x,this.y-=o_.y,this.z-=o_.z},t_.prototype.Multiply=function(o_){o_===void 0&&(o_=0),this.x*=o_,this.y*=o_,this.z*=o_}})();(function(){var V=Y_.Common.Math.b2Math,x=Y_.Common.Math.b2Sweep,o=Y_.Common.Math.b2Transform,_o=Y_.Common.Math.b2Vec2,_i=Y_.Common.b2Color,l=Y_.Common.b2Settings,t_=Y_.Collision.b2AABB,o_=Y_.Collision.b2ContactPoint,i_=Y_.Collision.b2DynamicTreeBroadPhase,_e=Y_.Collision.b2RayCastInput,l_=Y_.Collision.b2RayCastOutput,ws=Y_.Collision.Shapes.b2CircleShape,h_=Y_.Collision.Shapes.b2EdgeShape,s_=Y_.Collision.Shapes.b2MassData,B_=Y_.Collision.Shapes.b2PolygonShape,D_=Y_.Collision.Shapes.b2Shape,y_=Y_.Dynamics.b2Body,G_=Y_.Dynamics.b2BodyDef,q_=Y_.Dynamics.b2ContactFilter,j_=Y_.Dynamics.b2ContactImpulse,_2=Y_.Dynamics.b2ContactListener,m2=Y_.Dynamics.b2ContactManager,y2=Y_.Dynamics.b2DebugDraw,I2=Y_.Dynamics.b2DestructionListener,J2=Y_.Dynamics.b2FilterData,z2=Y_.Dynamics.b2Fixture,K2=Y_.Dynamics.b2FixtureDef,$2=Y_.Dynamics.b2Island,P_=Y_.Dynamics.b2TimeStep,E_=Y_.Dynamics.b2World,Z_=Y_.Dynamics.Contacts.b2Contact,N_=Y_.Dynamics.Contacts.b2ContactFactory,s2=Y_.Dynamics.Contacts.b2ContactSolver,u2=Y_.Dynamics.Joints.b2Joint,p2=Y_.Dynamics.Joints.b2PulleyJoint;y_.b2Body=function(){this.m_xf=new o,this.m_sweep=new x,this.m_linearVelocity=new _o,this.m_force=new _o},y_.prototype.connectEdges=function(v_,F_,$_){$_===void 0&&($_=0);var C_=Math.atan2(F_.GetDirectionVector().y,F_.GetDirectionVector().x);$_=V.MulFV(Math.tan((C_-$_)*.5),F_.GetDirectionVector()),$_=V.SubtractVV($_,F_.GetNormalVector()),$_=V.MulFV(l.b2_toiSlop,$_),$_=V.AddVV($_,F_.GetVertex1());var W_=V.AddVV(v_.GetDirectionVector(),F_.GetDirectionVector());W_.Normalize();var t2=V.Dot(v_.GetDirectionVector(),F_.GetNormalVector())>0;return v_.SetNextEdge(F_,$_,W_,t2),F_.SetPrevEdge(v_,$_,W_,t2),C_},y_.prototype.CreateFixture=function(v_){if(this.m_world.IsLocked()==!0)return null;var F_=new z2;return F_.Create(this,this.m_xf,v_),this.m_flags&y_.e_activeFlag&&F_.CreateProxy(this.m_world.m_contactManager.m_broadPhase,this.m_xf),F_.m_next=this.m_fixtureList,this.m_fixtureList=F_,++this.m_fixtureCount,F_.m_body=this,F_.m_density>0&&this.ResetMassData(),this.m_world.m_flags|=E_.e_newFixture,F_},y_.prototype.CreateFixture2=function(v_,F_){F_===void 0&&(F_=0);var $_=new K2;return $_.shape=v_,$_.density=F_,this.CreateFixture($_)},y_.prototype.DestroyFixture=function(v_){if(this.m_world.IsLocked()!=!0){for(var F_=this.m_fixtureList,$_=null;F_!=null;){if(F_==v_){$_?$_.m_next=v_.m_next:this.m_fixtureList=v_.m_next;break}$_=F_,F_=F_.m_next}for(F_=this.m_contactList;F_;){$_=F_.contact,F_=F_.next;var C_=$_.GetFixtureA(),W_=$_.GetFixtureB();(v_==C_||v_==W_)&&this.m_world.m_contactManager.Destroy($_)}this.m_flags&y_.e_activeFlag&&v_.DestroyProxy(this.m_world.m_contactManager.m_broadPhase),v_.Destroy(),v_.m_body=null,v_.m_next=null,--this.m_fixtureCount,this.ResetMassData()}},y_.prototype.SetPositionAndAngle=function(v_,F_){F_===void 0&&(F_=0);var $_;if(this.m_world.IsLocked()!=!0){this.m_xf.R.Set(F_),this.m_xf.position.SetV(v_),$_=this.m_xf.R;var C_=this.m_sweep.localCenter;for(this.m_sweep.c.x=$_.col1.x*C_.x+$_.col2.x*C_.y,this.m_sweep.c.y=$_.col1.y*C_.x+$_.col2.y*C_.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.SetV(this.m_sweep.c),this.m_sweep.a0=this.m_sweep.a=F_,C_=this.m_world.m_contactManager.m_broadPhase,$_=this.m_fixtureList;$_;$_=$_.m_next)$_.Synchronize(C_,this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()}},y_.prototype.SetTransform=function(v_){this.SetPositionAndAngle(v_.position,v_.GetAngle())},y_.prototype.GetTransform=function(){return this.m_xf},y_.prototype.GetPosition=function(){return this.m_xf.position},y_.prototype.SetPosition=function(v_){this.SetPositionAndAngle(v_,this.GetAngle())},y_.prototype.GetAngle=function(){return this.m_sweep.a},y_.prototype.SetAngle=function(v_){v_===void 0&&(v_=0),this.SetPositionAndAngle(this.GetPosition(),v_)},y_.prototype.GetWorldCenter=function(){return this.m_sweep.c},y_.prototype.GetLocalCenter=function(){return this.m_sweep.localCenter},y_.prototype.SetLinearVelocity=function(v_){this.m_type!=y_.b2_staticBody&&this.m_linearVelocity.SetV(v_)},y_.prototype.GetLinearVelocity=function(){return this.m_linearVelocity},y_.prototype.SetAngularVelocity=function(v_){v_===void 0&&(v_=0),this.m_type!=y_.b2_staticBody&&(this.m_angularVelocity=v_)},y_.prototype.GetAngularVelocity=function(){return this.m_angularVelocity},y_.prototype.GetDefinition=function(){var v_=new G_;return v_.type=this.GetType(),v_.allowSleep=(this.m_flags&y_.e_allowSleepFlag)==y_.e_allowSleepFlag,v_.angle=this.GetAngle(),v_.angularDamping=this.m_angularDamping,v_.angularVelocity=this.m_angularVelocity,v_.fixedRotation=(this.m_flags&y_.e_fixedRotationFlag)==y_.e_fixedRotationFlag,v_.bullet=(this.m_flags&y_.e_bulletFlag)==y_.e_bulletFlag,v_.awake=(this.m_flags&y_.e_awakeFlag)==y_.e_awakeFlag,v_.linearDamping=this.m_linearDamping,v_.linearVelocity.SetV(this.GetLinearVelocity()),v_.position=this.GetPosition(),v_.userData=this.GetUserData(),v_},y_.prototype.ApplyForce=function(v_,F_){this.m_type==y_.b2_dynamicBody&&(this.IsAwake()==!1&&this.SetAwake(!0),this.m_force.x+=v_.x,this.m_force.y+=v_.y,this.m_torque+=(F_.x-this.m_sweep.c.x)*v_.y-(F_.y-this.m_sweep.c.y)*v_.x)},y_.prototype.ApplyTorque=function(v_){v_===void 0&&(v_=0),this.m_type==y_.b2_dynamicBody&&(this.IsAwake()==!1&&this.SetAwake(!0),this.m_torque+=v_)},y_.prototype.ApplyImpulse=function(v_,F_){this.m_type==y_.b2_dynamicBody&&(this.IsAwake()==!1&&this.SetAwake(!0),this.m_linearVelocity.x+=this.m_invMass*v_.x,this.m_linearVelocity.y+=this.m_invMass*v_.y,this.m_angularVelocity+=this.m_invI*((F_.x-this.m_sweep.c.x)*v_.y-(F_.y-this.m_sweep.c.y)*v_.x))},y_.prototype.Split=function(v_){for(var F_=this.GetLinearVelocity().Copy(),$_=this.GetAngularVelocity(),C_=this.GetWorldCenter(),W_=this.m_world.CreateBody(this.GetDefinition()),t2,l2=this.m_fixtureList;l2;)if(v_(l2)){var D2=l2.m_next;t2?t2.m_next=D2:this.m_fixtureList=D2,this.m_fixtureCount--,l2.m_next=W_.m_fixtureList,W_.m_fixtureList=l2,W_.m_fixtureCount++,l2.m_body=W_,l2=D2}else t2=l2,l2=l2.m_next;return this.ResetMassData(),W_.ResetMassData(),t2=this.GetWorldCenter(),v_=W_.GetWorldCenter(),t2=V.AddVV(F_,V.CrossFV($_,V.SubtractVV(t2,C_))),F_=V.AddVV(F_,V.CrossFV($_,V.SubtractVV(v_,C_))),this.SetLinearVelocity(t2),W_.SetLinearVelocity(F_),this.SetAngularVelocity($_),W_.SetAngularVelocity($_),this.SynchronizeFixtures(),W_.SynchronizeFixtures(),W_},y_.prototype.Merge=function(v_){var F_;for(F_=v_.m_fixtureList;F_;){var $_=F_.m_next;v_.m_fixtureCount--,F_.m_next=this.m_fixtureList,this.m_fixtureList=F_,this.m_fixtureCount++,F_.m_body=W_,F_=$_}C_.m_fixtureCount=0;var C_=this,W_=v_;C_.GetWorldCenter(),W_.GetWorldCenter(),C_.GetLinearVelocity().Copy(),W_.GetLinearVelocity().Copy(),C_.GetAngularVelocity(),W_.GetAngularVelocity(),C_.ResetMassData(),this.SynchronizeFixtures()},y_.prototype.GetMass=function(){return this.m_mass},y_.prototype.GetInertia=function(){return this.m_I},y_.prototype.GetMassData=function(v_){v_.mass=this.m_mass,v_.I=this.m_I,v_.center.SetV(this.m_sweep.localCenter)},y_.prototype.SetMassData=function(v_){if(l.b2Assert(this.m_world.IsLocked()==!1),this.m_world.IsLocked()!=!0&&this.m_type==y_.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0,this.m_mass=v_.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,v_.I>0&&(this.m_flags&y_.e_fixedRotationFlag)==0&&(this.m_I=v_.I-this.m_mass*(v_.center.x*v_.center.x+v_.center.y*v_.center.y),this.m_invI=1/this.m_I);var F_=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(v_.center),this.m_sweep.c0.SetV(V.MulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-F_.y),this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-F_.x)}},y_.prototype.ResetMassData=function(){if(this.m_invI=this.m_I=this.m_invMass=this.m_mass=0,this.m_sweep.localCenter.SetZero(),!(this.m_type==y_.b2_staticBody||this.m_type==y_.b2_kinematicBody)){for(var v_=_o.Make(0,0),F_=this.m_fixtureList;F_;F_=F_.m_next)if(F_.m_density!=0){var $_=F_.GetMassData();this.m_mass+=$_.mass,v_.x+=$_.center.x*$_.mass,v_.y+=$_.center.y*$_.mass,this.m_I+=$_.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,v_.x*=this.m_invMass,v_.y*=this.m_invMass):this.m_invMass=this.m_mass=1,this.m_I>0&&(this.m_flags&y_.e_fixedRotationFlag)==0?(this.m_I-=this.m_mass*(v_.x*v_.x+v_.y*v_.y),this.m_I*=this.m_inertiaScale,l.b2Assert(this.m_I>0),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0,F_=this.m_sweep.c.Copy(),this.m_sweep.localCenter.SetV(v_),this.m_sweep.c0.SetV(V.MulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-F_.y),this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-F_.x)}},y_.prototype.GetWorldPoint=function(v_){var F_=this.m_xf.R;return v_=new _o(F_.col1.x*v_.x+F_.col2.x*v_.y,F_.col1.y*v_.x+F_.col2.y*v_.y),v_.x+=this.m_xf.position.x,v_.y+=this.m_xf.position.y,v_},y_.prototype.GetWorldVector=function(v_){return V.MulMV(this.m_xf.R,v_)},y_.prototype.GetLocalPoint=function(v_){return V.MulXT(this.m_xf,v_)},y_.prototype.GetLocalVector=function(v_){return V.MulTMV(this.m_xf.R,v_)},y_.prototype.GetLinearVelocityFromWorldPoint=function(v_){return new _o(this.m_linearVelocity.x-this.m_angularVelocity*(v_.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(v_.x-this.m_sweep.c.x))},y_.prototype.GetLinearVelocityFromLocalPoint=function(v_){var F_=this.m_xf.R;return v_=new _o(F_.col1.x*v_.x+F_.col2.x*v_.y,F_.col1.y*v_.x+F_.col2.y*v_.y),v_.x+=this.m_xf.position.x,v_.y+=this.m_xf.position.y,new _o(this.m_linearVelocity.x-this.m_angularVelocity*(v_.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(v_.x-this.m_sweep.c.x))},y_.prototype.GetLinearDamping=function(){return this.m_linearDamping},y_.prototype.SetLinearDamping=function(v_){v_===void 0&&(v_=0),this.m_linearDamping=v_},y_.prototype.GetAngularDamping=function(){return this.m_angularDamping},y_.prototype.SetAngularDamping=function(v_){v_===void 0&&(v_=0),this.m_angularDamping=v_},y_.prototype.SetType=function(v_){if(v_===void 0&&(v_=0),this.m_type!=v_)for(this.m_type=v_,this.ResetMassData(),this.m_type==y_.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0,v_=this.m_contactList;v_;v_=v_.next)v_.contact.FlagForFiltering()},y_.prototype.GetType=function(){return this.m_type},y_.prototype.SetBullet=function(v_){v_?this.m_flags|=y_.e_bulletFlag:this.m_flags&=~y_.e_bulletFlag},y_.prototype.IsBullet=function(){return(this.m_flags&y_.e_bulletFlag)==y_.e_bulletFlag},y_.prototype.SetSleepingAllowed=function(v_){v_?this.m_flags|=y_.e_allowSleepFlag:(this.m_flags&=~y_.e_allowSleepFlag,this.SetAwake(!0))},y_.prototype.SetAwake=function(v_){v_?(this.m_flags|=y_.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~y_.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)},y_.prototype.IsAwake=function(){return(this.m_flags&y_.e_awakeFlag)==y_.e_awakeFlag},y_.prototype.SetFixedRotation=function(v_){v_?this.m_flags|=y_.e_fixedRotationFlag:this.m_flags&=~y_.e_fixedRotationFlag,this.ResetMassData()},y_.prototype.IsFixedRotation=function(){return(this.m_flags&y_.e_fixedRotationFlag)==y_.e_fixedRotationFlag},y_.prototype.SetActive=function(v_){if(v_!=this.IsActive()){var F_;if(v_)for(this.m_flags|=y_.e_activeFlag,v_=this.m_world.m_contactManager.m_broadPhase,F_=this.m_fixtureList;F_;F_=F_.m_next)F_.CreateProxy(v_,this.m_xf);else{for(this.m_flags&=~y_.e_activeFlag,v_=this.m_world.m_contactManager.m_broadPhase,F_=this.m_fixtureList;F_;F_=F_.m_next)F_.DestroyProxy(v_);for(v_=this.m_contactList;v_;)F_=v_,v_=v_.next,this.m_world.m_contactManager.Destroy(F_.contact);this.m_contactList=null}}},y_.prototype.IsActive=function(){return(this.m_flags&y_.e_activeFlag)==y_.e_activeFlag},y_.prototype.IsSleepingAllowed=function(){return(this.m_flags&y_.e_allowSleepFlag)==y_.e_allowSleepFlag},y_.prototype.GetFixtureList=function(){return this.m_fixtureList},y_.prototype.GetJointList=function(){return this.m_jointList},y_.prototype.GetControllerList=function(){return this.m_controllerList},y_.prototype.GetContactList=function(){return this.m_contactList},y_.prototype.GetNext=function(){return this.m_next},y_.prototype.GetUserData=function(){return this.m_userData},y_.prototype.SetUserData=function(v_){this.m_userData=v_},y_.prototype.GetWorld=function(){return this.m_world},y_.prototype.b2Body=function(v_,F_){this.m_flags=0,v_.bullet&&(this.m_flags|=y_.e_bulletFlag),v_.fixedRotation&&(this.m_flags|=y_.e_fixedRotationFlag),v_.allowSleep&&(this.m_flags|=y_.e_allowSleepFlag),v_.awake&&(this.m_flags|=y_.e_awakeFlag),v_.active&&(this.m_flags|=y_.e_activeFlag),this.m_world=F_,this.m_xf.position.SetV(v_.position),this.m_xf.R.Set(v_.angle),this.m_sweep.localCenter.SetZero(),this.m_sweep.t0=1,this.m_sweep.a0=this.m_sweep.a=v_.angle;var $_=this.m_xf.R,C_=this.m_sweep.localCenter;this.m_sweep.c.x=$_.col1.x*C_.x+$_.col2.x*C_.y,this.m_sweep.c.y=$_.col1.y*C_.x+$_.col2.y*C_.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.SetV(this.m_sweep.c),this.m_contactList=this.m_controllerList=this.m_jointList=null,this.m_controllerCount=0,this.m_next=this.m_prev=null,this.m_linearVelocity.SetV(v_.linearVelocity),this.m_angularVelocity=v_.angularVelocity,this.m_linearDamping=v_.linearDamping,this.m_angularDamping=v_.angularDamping,this.m_force.Set(0,0),this.m_sleepTime=this.m_torque=0,this.m_type=v_.type,this.m_type==y_.b2_dynamicBody?this.m_invMass=this.m_mass=1:this.m_invMass=this.m_mass=0,this.m_invI=this.m_I=0,this.m_inertiaScale=v_.inertiaScale,this.m_userData=v_.userData,this.m_fixtureList=null,this.m_fixtureCount=0},y_.prototype.SynchronizeFixtures=function(){var v_=y_.s_xf1;v_.R.Set(this.m_sweep.a0);var F_=v_.R,$_=this.m_sweep.localCenter;for(v_.position.x=this.m_sweep.c0.x-(F_.col1.x*$_.x+F_.col2.x*$_.y),v_.position.y=this.m_sweep.c0.y-(F_.col1.y*$_.x+F_.col2.y*$_.y),$_=this.m_world.m_contactManager.m_broadPhase,F_=this.m_fixtureList;F_;F_=F_.m_next)F_.Synchronize($_,v_,this.m_xf)},y_.prototype.SynchronizeTransform=function(){this.m_xf.R.Set(this.m_sweep.a);var v_=this.m_xf.R,F_=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(v_.col1.x*F_.x+v_.col2.x*F_.y),this.m_xf.position.y=this.m_sweep.c.y-(v_.col1.y*F_.x+v_.col2.y*F_.y)},y_.prototype.ShouldCollide=function(v_){if(this.m_type!=y_.b2_dynamicBody&&v_.m_type!=y_.b2_dynamicBody)return!1;for(var F_=this.m_jointList;F_;F_=F_.next)if(F_.other==v_&&F_.joint.m_collideConnected==!1)return!1;return!0},y_.prototype.Advance=function(v_){v_===void 0&&(v_=0),this.m_sweep.Advance(v_),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.SynchronizeTransform()},Y_.postDefs.push(function(){Y_.Dynamics.b2Body.s_xf1=new o,Y_.Dynamics.b2Body.e_islandFlag=1,Y_.Dynamics.b2Body.e_awakeFlag=2,Y_.Dynamics.b2Body.e_allowSleepFlag=4,Y_.Dynamics.b2Body.e_bulletFlag=8,Y_.Dynamics.b2Body.e_fixedRotationFlag=16,Y_.Dynamics.b2Body.e_activeFlag=32,Y_.Dynamics.b2Body.b2_staticBody=0,Y_.Dynamics.b2Body.b2_kinematicBody=1,Y_.Dynamics.b2Body.b2_dynamicBody=2}),G_.b2BodyDef=function(){this.position=new _o,this.linearVelocity=new _o},G_.prototype.b2BodyDef=function(){this.userData=null,this.position.Set(0,0),this.angle=0,this.linearVelocity.Set(0,0),this.angularDamping=this.linearDamping=this.angularVelocity=0,this.awake=this.allowSleep=!0,this.bullet=this.fixedRotation=!1,this.type=y_.b2_staticBody,this.active=!0,this.inertiaScale=1},q_.b2ContactFilter=function(){},q_.prototype.ShouldCollide=function(v_,F_){var $_=v_.GetFilterData(),C_=F_.GetFilterData();return $_.groupIndex==C_.groupIndex&&$_.groupIndex!=0?$_.groupIndex>0:($_.maskBits&C_.categoryBits)!=0&&($_.categoryBits&C_.maskBits)!=0},q_.prototype.RayCollide=function(v_,F_){return v_?this.ShouldCollide(v_ instanceof z2?v_:null,F_):!0},Y_.postDefs.push(function(){Y_.Dynamics.b2ContactFilter.b2_defaultFilter=new q_}),j_.b2ContactImpulse=function(){this.normalImpulses=new KS(l.b2_maxManifoldPoints),this.tangentImpulses=new KS(l.b2_maxManifoldPoints)},_2.b2ContactListener=function(){},_2.prototype.BeginContact=function(){},_2.prototype.EndContact=function(){},_2.prototype.PreSolve=function(){},_2.prototype.PostSolve=function(){},Y_.postDefs.push(function(){Y_.Dynamics.b2ContactListener.b2_defaultListener=new _2}),m2.b2ContactManager=function(){},m2.prototype.b2ContactManager=function(){this.m_world=null,this.m_contactCount=0,this.m_contactFilter=q_.b2_defaultFilter,this.m_contactListener=_2.b2_defaultListener,this.m_contactFactory=new N_(this.m_allocator),this.m_broadPhase=new i_},m2.prototype.AddPair=function(v_,F_){var $_=v_ instanceof z2?v_:null,C_=F_ instanceof z2?F_:null,W_=$_.GetBody(),t2=C_.GetBody();if(W_!=t2){for(var l2=t2.GetContactList();l2;){if(l2.other==W_){var D2=l2.contact.GetFixtureA(),G2=l2.contact.GetFixtureB();if(D2==$_&&G2==C_||D2==C_&&G2==$_)return}l2=l2.next}t2.ShouldCollide(W_)!=!1&&this.m_contactFilter.ShouldCollide($_,C_)!=!1&&(l2=this.m_contactFactory.Create($_,C_),$_=l2.GetFixtureA(),C_=l2.GetFixtureB(),W_=$_.m_body,t2=C_.m_body,l2.m_prev=null,l2.m_next=this.m_world.m_contactList,this.m_world.m_contactList!=null&&(this.m_world.m_contactList.m_prev=l2),this.m_world.m_contactList=l2,l2.m_nodeA.contact=l2,l2.m_nodeA.other=t2,l2.m_nodeA.prev=null,l2.m_nodeA.next=W_.m_contactList,W_.m_contactList!=null&&(W_.m_contactList.prev=l2.m_nodeA),W_.m_contactList=l2.m_nodeA,l2.m_nodeB.contact=l2,l2.m_nodeB.other=W_,l2.m_nodeB.prev=null,l2.m_nodeB.next=t2.m_contactList,t2.m_contactList!=null&&(t2.m_contactList.prev=l2.m_nodeB),t2.m_contactList=l2.m_nodeB,++this.m_world.m_contactCount)}},m2.prototype.FindNewContacts=function(){this.m_broadPhase.UpdatePairs(Y_.generateCallback(this,this.AddPair))},m2.prototype.Destroy=function(v_){var F_=v_.GetFixtureA(),$_=v_.GetFixtureB();F_=F_.GetBody(),$_=$_.GetBody(),v_.IsTouching()&&this.m_contactListener.EndContact(v_),v_.m_prev&&(v_.m_prev.m_next=v_.m_next),v_.m_next&&(v_.m_next.m_prev=v_.m_prev),v_==this.m_world.m_contactList&&(this.m_world.m_contactList=v_.m_next),v_.m_nodeA.prev&&(v_.m_nodeA.prev.next=v_.m_nodeA.next),v_.m_nodeA.next&&(v_.m_nodeA.next.prev=v_.m_nodeA.prev),v_.m_nodeA==F_.m_contactList&&(F_.m_contactList=v_.m_nodeA.next),v_.m_nodeB.prev&&(v_.m_nodeB.prev.next=v_.m_nodeB.next),v_.m_nodeB.next&&(v_.m_nodeB.next.prev=v_.m_nodeB.prev),v_.m_nodeB==$_.m_contactList&&($_.m_contactList=v_.m_nodeB.next),this.m_contactFactory.Destroy(v_),--this.m_contactCount},m2.prototype.Collide=function(){for(var v_=this.m_world.m_contactList;v_;){var F_=v_.GetFixtureA(),$_=v_.GetFixtureB(),C_=F_.GetBody(),W_=$_.GetBody();if(C_.IsAwake()==!1&&W_.IsAwake()==!1)v_=v_.GetNext();else{if(v_.m_flags&Z_.e_filterFlag){if(W_.ShouldCollide(C_)==!1){F_=v_,v_=F_.GetNext(),this.Destroy(F_);continue}if(this.m_contactFilter.ShouldCollide(F_,$_)==!1){F_=v_,v_=F_.GetNext(),this.Destroy(F_);continue}v_.m_flags&=~Z_.e_filterFlag}this.m_broadPhase.TestOverlap(F_.m_proxy,$_.m_proxy)==!1?(F_=v_,v_=F_.GetNext(),this.Destroy(F_)):(v_.Update(this.m_contactListener),v_=v_.GetNext())}}},Y_.postDefs.push(function(){Y_.Dynamics.b2ContactManager.s_evalCP=new o_}),y2.b2DebugDraw=function(){},y2.prototype.b2DebugDraw=function(){},y2.prototype.SetFlags=function(){},y2.prototype.GetFlags=function(){},y2.prototype.AppendFlags=function(){},y2.prototype.ClearFlags=function(){},y2.prototype.SetSprite=function(){},y2.prototype.GetSprite=function(){},y2.prototype.SetDrawScale=function(){},y2.prototype.GetDrawScale=function(){},y2.prototype.SetLineThickness=function(){},y2.prototype.GetLineThickness=function(){},y2.prototype.SetAlpha=function(){},y2.prototype.GetAlpha=function(){},y2.prototype.SetFillAlpha=function(){},y2.prototype.GetFillAlpha=function(){},y2.prototype.SetXFormScale=function(){},y2.prototype.GetXFormScale=function(){},y2.prototype.DrawPolygon=function(){},y2.prototype.DrawSolidPolygon=function(){},y2.prototype.DrawCircle=function(){},y2.prototype.DrawSolidCircle=function(){},y2.prototype.DrawSegment=function(){},y2.prototype.DrawTransform=function(){},Y_.postDefs.push(function(){Y_.Dynamics.b2DebugDraw.e_shapeBit=1,Y_.Dynamics.b2DebugDraw.e_jointBit=2,Y_.Dynamics.b2DebugDraw.e_aabbBit=4,Y_.Dynamics.b2DebugDraw.e_pairBit=8,Y_.Dynamics.b2DebugDraw.e_centerOfMassBit=16,Y_.Dynamics.b2DebugDraw.e_controllerBit=32}),I2.b2DestructionListener=function(){},I2.prototype.SayGoodbyeJoint=function(){},I2.prototype.SayGoodbyeFixture=function(){},J2.b2FilterData=function(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0},J2.prototype.Copy=function(){var v_=new J2;return v_.categoryBits=this.categoryBits,v_.maskBits=this.maskBits,v_.groupIndex=this.groupIndex,v_},z2.b2Fixture=function(){this.m_filter=new J2},z2.prototype.GetType=function(){return this.m_shape.GetType()},z2.prototype.GetShape=function(){return this.m_shape},z2.prototype.SetSensor=function(v_){if(this.m_isSensor!=v_&&(this.m_isSensor=v_,this.m_body!=null))for(v_=this.m_body.GetContactList();v_;){var F_=v_.contact,$_=F_.GetFixtureA(),C_=F_.GetFixtureB();($_==this||C_==this)&&F_.SetSensor($_.IsSensor()||C_.IsSensor()),v_=v_.next}},z2.prototype.IsSensor=function(){return this.m_isSensor},z2.prototype.SetFilterData=function(v_){if(this.m_filter=v_.Copy(),!this.m_body)for(v_=this.m_body.GetContactList();v_;){var F_=v_.contact,$_=F_.GetFixtureA(),C_=F_.GetFixtureB();($_==this||C_==this)&&F_.FlagForFiltering(),v_=v_.next}},z2.prototype.GetFilterData=function(){return this.m_filter.Copy()},z2.prototype.GetBody=function(){return this.m_body},z2.prototype.GetNext=function(){return this.m_next},z2.prototype.GetUserData=function(){return this.m_userData},z2.prototype.SetUserData=function(v_){this.m_userData=v_},z2.prototype.TestPoint=function(v_){return this.m_shape.TestPoint(this.m_body.GetTransform(),v_)},z2.prototype.RayCast=function(v_,F_){return this.m_shape.RayCast(v_,F_,this.m_body.GetTransform())},z2.prototype.GetMassData=function(v_){return v_===void 0&&(v_=null),v_==null&&(v_=new s_),this.m_shape.ComputeMass(v_,this.m_density),v_},z2.prototype.SetDensity=function(v_){v_===void 0&&(v_=0),this.m_density=v_},z2.prototype.GetDensity=function(){return this.m_density},z2.prototype.GetFriction=function(){return this.m_friction},z2.prototype.SetFriction=function(v_){v_===void 0&&(v_=0),this.m_friction=v_},z2.prototype.GetRestitution=function(){return this.m_restitution},z2.prototype.SetRestitution=function(v_){v_===void 0&&(v_=0),this.m_restitution=v_},z2.prototype.GetAABB=function(){return this.m_aabb},z2.prototype.b2Fixture=function(){this.m_aabb=new t_,this.m_shape=this.m_next=this.m_body=this.m_userData=null,this.m_restitution=this.m_friction=this.m_density=0},z2.prototype.Create=function(v_,F_,$_){this.m_userData=$_.userData,this.m_friction=$_.friction,this.m_restitution=$_.restitution,this.m_body=v_,this.m_next=null,this.m_filter=$_.filter.Copy(),this.m_isSensor=$_.isSensor,this.m_shape=$_.shape.Copy(),this.m_density=$_.density},z2.prototype.Destroy=function(){this.m_shape=null},z2.prototype.CreateProxy=function(v_,F_){this.m_shape.ComputeAABB(this.m_aabb,F_),this.m_proxy=v_.CreateProxy(this.m_aabb,this)},z2.prototype.DestroyProxy=function(v_){this.m_proxy!=null&&(v_.DestroyProxy(this.m_proxy),this.m_proxy=null)},z2.prototype.Synchronize=function(v_,F_,$_){if(this.m_proxy){var C_=new t_,W_=new t_;this.m_shape.ComputeAABB(C_,F_),this.m_shape.ComputeAABB(W_,$_),this.m_aabb.Combine(C_,W_),F_=V.SubtractVV($_.position,F_.position),v_.MoveProxy(this.m_proxy,this.m_aabb,F_)}},K2.b2FixtureDef=function(){this.filter=new J2},K2.prototype.b2FixtureDef=function(){this.userData=this.shape=null,this.friction=.2,this.density=this.restitution=0,this.filter.categoryBits=1,this.filter.maskBits=65535,this.filter.groupIndex=0,this.isSensor=!1},$2.b2Island=function(){},$2.prototype.b2Island=function(){this.m_bodies=new j1,this.m_contacts=new j1,this.m_joints=new j1},$2.prototype.Initialize=function(v_,F_,$_,C_,W_,t2){v_===void 0&&(v_=0),F_===void 0&&(F_=0),$_===void 0&&($_=0);var l2=0;for(this.m_bodyCapacity=v_,this.m_contactCapacity=F_,this.m_jointCapacity=$_,this.m_jointCount=this.m_contactCount=this.m_bodyCount=0,this.m_allocator=C_,this.m_listener=W_,this.m_contactSolver=t2,l2=this.m_bodies.length;l2<v_;l2++)this.m_bodies[l2]=null;for(l2=this.m_contacts.length;l2<F_;l2++)this.m_contacts[l2]=null;for(l2=this.m_joints.length;l2<$_;l2++)this.m_joints[l2]=null},$2.prototype.Clear=function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0},$2.prototype.Solve=function(v_,F_,$_){var C_=0,W_=0,t2;for(C_=0;C_<this.m_bodyCount;++C_)W_=this.m_bodies[C_],W_.GetType()==y_.b2_dynamicBody&&(W_.m_linearVelocity.x+=v_.dt*(F_.x+W_.m_invMass*W_.m_force.x),W_.m_linearVelocity.y+=v_.dt*(F_.y+W_.m_invMass*W_.m_force.y),W_.m_angularVelocity+=v_.dt*W_.m_invI*W_.m_torque,W_.m_linearVelocity.Multiply(V.Clamp(1-v_.dt*W_.m_linearDamping,0,1)),W_.m_angularVelocity*=V.Clamp(1-v_.dt*W_.m_angularDamping,0,1));for(this.m_contactSolver.Initialize(v_,this.m_contacts,this.m_contactCount,this.m_allocator),F_=this.m_contactSolver,F_.InitVelocityConstraints(v_),C_=0;C_<this.m_jointCount;++C_)t2=this.m_joints[C_],t2.InitVelocityConstraints(v_);for(C_=0;C_<v_.velocityIterations;++C_){for(W_=0;W_<this.m_jointCount;++W_)t2=this.m_joints[W_],t2.SolveVelocityConstraints(v_);F_.SolveVelocityConstraints()}for(C_=0;C_<this.m_jointCount;++C_)t2=this.m_joints[C_],t2.FinalizeVelocityConstraints();for(F_.FinalizeVelocityConstraints(),C_=0;C_<this.m_bodyCount;++C_)if(W_=this.m_bodies[C_],W_.GetType()!=y_.b2_staticBody){var l2=v_.dt*W_.m_linearVelocity.x,D2=v_.dt*W_.m_linearVelocity.y;l2*l2+D2*D2>l.b2_maxTranslationSquared&&(W_.m_linearVelocity.Normalize(),W_.m_linearVelocity.x*=l.b2_maxTranslation*v_.inv_dt,W_.m_linearVelocity.y*=l.b2_maxTranslation*v_.inv_dt),l2=v_.dt*W_.m_angularVelocity,l2*l2>l.b2_maxRotationSquared&&(W_.m_angularVelocity=W_.m_angularVelocity<0?-l.b2_maxRotation*v_.inv_dt:l.b2_maxRotation*v_.inv_dt),W_.m_sweep.c0.SetV(W_.m_sweep.c),W_.m_sweep.a0=W_.m_sweep.a,W_.m_sweep.c.x+=v_.dt*W_.m_linearVelocity.x,W_.m_sweep.c.y+=v_.dt*W_.m_linearVelocity.y,W_.m_sweep.a+=v_.dt*W_.m_angularVelocity,W_.SynchronizeTransform()}for(C_=0;C_<v_.positionIterations;++C_){for(l2=F_.SolvePositionConstraints(l.b2_contactBaumgarte),D2=!0,W_=0;W_<this.m_jointCount;++W_)t2=this.m_joints[W_],t2=t2.SolvePositionConstraints(l.b2_contactBaumgarte),D2=D2&&t2;if(l2&&D2)break}if(this.Report(F_.m_constraints),$_){for($_=Number.MAX_VALUE,F_=l.b2_linearSleepTolerance*l.b2_linearSleepTolerance,l2=l.b2_angularSleepTolerance*l.b2_angularSleepTolerance,C_=0;C_<this.m_bodyCount;++C_)W_=this.m_bodies[C_],W_.GetType()!=y_.b2_staticBody&&((W_.m_flags&y_.e_allowSleepFlag)==0&&($_=W_.m_sleepTime=0),(W_.m_flags&y_.e_allowSleepFlag)==0||W_.m_angularVelocity*W_.m_angularVelocity>l2||V.Dot(W_.m_linearVelocity,W_.m_linearVelocity)>F_?$_=W_.m_sleepTime=0:(W_.m_sleepTime+=v_.dt,$_=V.Min($_,W_.m_sleepTime)));if($_>=l.b2_timeToSleep)for(C_=0;C_<this.m_bodyCount;++C_)W_=this.m_bodies[C_],W_.SetAwake(!1)}},$2.prototype.SolveTOI=function(v_){var F_=0,$_=0;this.m_contactSolver.Initialize(v_,this.m_contacts,this.m_contactCount,this.m_allocator);var C_=this.m_contactSolver;for(F_=0;F_<this.m_jointCount;++F_)this.m_joints[F_].InitVelocityConstraints(v_);for(F_=0;F_<v_.velocityIterations;++F_)for(C_.SolveVelocityConstraints(),$_=0;$_<this.m_jointCount;++$_)this.m_joints[$_].SolveVelocityConstraints(v_);for(F_=0;F_<this.m_bodyCount;++F_)if($_=this.m_bodies[F_],$_.GetType()!=y_.b2_staticBody){var W_=v_.dt*$_.m_linearVelocity.x,t2=v_.dt*$_.m_linearVelocity.y;W_*W_+t2*t2>l.b2_maxTranslationSquared&&($_.m_linearVelocity.Normalize(),$_.m_linearVelocity.x*=l.b2_maxTranslation*v_.inv_dt,$_.m_linearVelocity.y*=l.b2_maxTranslation*v_.inv_dt),W_=v_.dt*$_.m_angularVelocity,W_*W_>l.b2_maxRotationSquared&&($_.m_angularVelocity=$_.m_angularVelocity<0?-l.b2_maxRotation*v_.inv_dt:l.b2_maxRotation*v_.inv_dt),$_.m_sweep.c0.SetV($_.m_sweep.c),$_.m_sweep.a0=$_.m_sweep.a,$_.m_sweep.c.x+=v_.dt*$_.m_linearVelocity.x,$_.m_sweep.c.y+=v_.dt*$_.m_linearVelocity.y,$_.m_sweep.a+=v_.dt*$_.m_angularVelocity,$_.SynchronizeTransform()}for(F_=0;F_<v_.positionIterations;++F_){for(W_=C_.SolvePositionConstraints(.75),t2=!0,$_=0;$_<this.m_jointCount;++$_){var l2=this.m_joints[$_].SolvePositionConstraints(l.b2_contactBaumgarte);t2=t2&&l2}if(W_&&t2)break}this.Report(C_.m_constraints)},$2.prototype.Report=function(v_){if(this.m_listener!=null)for(var F_=0;F_<this.m_contactCount;++F_){for(var $_=this.m_contacts[F_],C_=v_[F_],W_=0;W_<C_.pointCount;++W_)$2.s_impulse.normalImpulses[W_]=C_.points[W_].normalImpulse,$2.s_impulse.tangentImpulses[W_]=C_.points[W_].tangentImpulse;this.m_listener.PostSolve($_,$2.s_impulse)}},$2.prototype.AddBody=function(v_){v_.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=v_},$2.prototype.AddContact=function(v_){this.m_contacts[this.m_contactCount++]=v_},$2.prototype.AddJoint=function(v_){this.m_joints[this.m_jointCount++]=v_},Y_.postDefs.push(function(){Y_.Dynamics.b2Island.s_impulse=new j_}),P_.b2TimeStep=function(){},P_.prototype.Set=function(v_){this.dt=v_.dt,this.inv_dt=v_.inv_dt,this.positionIterations=v_.positionIterations,this.velocityIterations=v_.velocityIterations,this.warmStarting=v_.warmStarting},E_.b2World=function(){this.s_stack=new j1,this.m_contactManager=new m2,this.m_contactSolver=new s2,this.m_island=new $2},E_.prototype.b2World=function(v_,F_){this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.m_debugDraw=this.m_destructionListener=null,this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=0,E_.m_warmStarting=!0,E_.m_continuousPhysics=!0,this.m_allowSleep=F_,this.m_gravity=v_,this.m_inv_dt0=0,this.m_contactManager.m_world=this,this.m_groundBody=this.CreateBody(new G_)},E_.prototype.SetDestructionListener=function(v_){this.m_destructionListener=v_},E_.prototype.SetContactFilter=function(v_){this.m_contactManager.m_contactFilter=v_},E_.prototype.SetContactListener=function(v_){this.m_contactManager.m_contactListener=v_},E_.prototype.SetDebugDraw=function(v_){this.m_debugDraw=v_},E_.prototype.SetBroadPhase=function(v_){var F_=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=v_;for(var $_=this.m_bodyList;$_;$_=$_.m_next)for(var C_=$_.m_fixtureList;C_;C_=C_.m_next)C_.m_proxy=v_.CreateProxy(F_.GetFatAABB(C_.m_proxy),C_)},E_.prototype.Validate=function(){this.m_contactManager.m_broadPhase.Validate()},E_.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()},E_.prototype.CreateBody=function(v_){return this.IsLocked()==!0?null:(v_=new y_(v_,this),v_.m_prev=null,(v_.m_next=this.m_bodyList)&&(this.m_bodyList.m_prev=v_),this.m_bodyList=v_,++this.m_bodyCount,v_)},E_.prototype.DestroyBody=function(v_){if(this.IsLocked()!=!0){for(var F_=v_.m_jointList;F_;){var $_=F_;F_=F_.next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint($_.joint),this.DestroyJoint($_.joint)}for(F_=v_.m_controllerList;F_;)$_=F_,F_=F_.nextController,$_.controller.RemoveBody(v_);for(F_=v_.m_contactList;F_;)$_=F_,F_=F_.next,this.m_contactManager.Destroy($_.contact);for(v_.m_contactList=null,F_=v_.m_fixtureList;F_;)$_=F_,F_=F_.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture($_),$_.DestroyProxy(this.m_contactManager.m_broadPhase),$_.Destroy();v_.m_fixtureList=null,v_.m_fixtureCount=0,v_.m_prev&&(v_.m_prev.m_next=v_.m_next),v_.m_next&&(v_.m_next.m_prev=v_.m_prev),v_==this.m_bodyList&&(this.m_bodyList=v_.m_next),--this.m_bodyCount}},E_.prototype.CreateJoint=function(v_){var F_=u2.Create(v_,null);F_.m_prev=null,(F_.m_next=this.m_jointList)&&(this.m_jointList.m_prev=F_),this.m_jointList=F_,++this.m_jointCount,F_.m_edgeA.joint=F_,F_.m_edgeA.other=F_.m_bodyB,F_.m_edgeA.prev=null,(F_.m_edgeA.next=F_.m_bodyA.m_jointList)&&(F_.m_bodyA.m_jointList.prev=F_.m_edgeA),F_.m_bodyA.m_jointList=F_.m_edgeA,F_.m_edgeB.joint=F_,F_.m_edgeB.other=F_.m_bodyA,F_.m_edgeB.prev=null,(F_.m_edgeB.next=F_.m_bodyB.m_jointList)&&(F_.m_bodyB.m_jointList.prev=F_.m_edgeB),F_.m_bodyB.m_jointList=F_.m_edgeB;var $_=v_.bodyA,C_=v_.bodyB;if(v_.collideConnected==!1)for(v_=C_.GetContactList();v_;)v_.other==$_&&v_.contact.FlagForFiltering(),v_=v_.next;return F_},E_.prototype.DestroyJoint=function(v_){var F_=v_.m_collideConnected;v_.m_prev&&(v_.m_prev.m_next=v_.m_next),v_.m_next&&(v_.m_next.m_prev=v_.m_prev),v_==this.m_jointList&&(this.m_jointList=v_.m_next);var $_=v_.m_bodyA,C_=v_.m_bodyB;if($_.SetAwake(!0),C_.SetAwake(!0),v_.m_edgeA.prev&&(v_.m_edgeA.prev.next=v_.m_edgeA.next),v_.m_edgeA.next&&(v_.m_edgeA.next.prev=v_.m_edgeA.prev),v_.m_edgeA==$_.m_jointList&&($_.m_jointList=v_.m_edgeA.next),v_.m_edgeA.prev=null,v_.m_edgeA.next=null,v_.m_edgeB.prev&&(v_.m_edgeB.prev.next=v_.m_edgeB.next),v_.m_edgeB.next&&(v_.m_edgeB.next.prev=v_.m_edgeB.prev),v_.m_edgeB==C_.m_jointList&&(C_.m_jointList=v_.m_edgeB.next),v_.m_edgeB.prev=null,v_.m_edgeB.next=null,u2.Destroy(v_,null),--this.m_jointCount,F_==!1)for(v_=C_.GetContactList();v_;)v_.other==$_&&v_.contact.FlagForFiltering(),v_=v_.next},E_.prototype.AddController=function(v_){return v_.m_next=this.m_controllerList,v_.m_prev=null,this.m_controllerList=v_,v_.m_world=this,this.m_controllerCount++,v_},E_.prototype.RemoveController=function(v_){v_.m_prev&&(v_.m_prev.m_next=v_.m_next),v_.m_next&&(v_.m_next.m_prev=v_.m_prev),this.m_controllerList==v_&&(this.m_controllerList=v_.m_next),this.m_controllerCount--},E_.prototype.CreateController=function(v_){if(v_.m_world!=this)throw Error("Controller can only be a member of one world");return v_.m_next=this.m_controllerList,v_.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=v_),this.m_controllerList=v_,++this.m_controllerCount,v_.m_world=this,v_},E_.prototype.DestroyController=function(v_){v_.Clear(),v_.m_next&&(v_.m_next.m_prev=v_.m_prev),v_.m_prev&&(v_.m_prev.m_next=v_.m_next),v_==this.m_controllerList&&(this.m_controllerList=v_.m_next),--this.m_controllerCount},E_.prototype.SetWarmStarting=function(v_){E_.m_warmStarting=v_},E_.prototype.SetContinuousPhysics=function(v_){E_.m_continuousPhysics=v_},E_.prototype.GetBodyCount=function(){return this.m_bodyCount},E_.prototype.GetJointCount=function(){return this.m_jointCount},E_.prototype.GetContactCount=function(){return this.m_contactCount},E_.prototype.SetGravity=function(v_){this.m_gravity=v_},E_.prototype.GetGravity=function(){return this.m_gravity},E_.prototype.GetGroundBody=function(){return this.m_groundBody},E_.prototype.Step=function(v_,F_,$_){v_===void 0&&(v_=0),F_===void 0&&(F_=0),$_===void 0&&($_=0),this.m_flags&E_.e_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flags&=~E_.e_newFixture),this.m_flags|=E_.e_locked;var C_=E_.s_timestep2;C_.dt=v_,C_.velocityIterations=F_,C_.positionIterations=$_,C_.inv_dt=v_>0?1/v_:0,C_.dtRatio=this.m_inv_dt0*v_,C_.warmStarting=E_.m_warmStarting,this.m_contactManager.Collide(),C_.dt>0&&this.Solve(C_),E_.m_continuousPhysics&&C_.dt>0&&this.SolveTOI(C_),C_.dt>0&&(this.m_inv_dt0=C_.inv_dt),this.m_flags&=~E_.e_locked},E_.prototype.ClearForces=function(){for(var v_=this.m_bodyList;v_;v_=v_.m_next)v_.m_force.SetZero(),v_.m_torque=0},E_.prototype.DrawDebugData=function(){if(this.m_debugDraw!=null){this.m_debugDraw.m_sprite.graphics.clear();var v_=this.m_debugDraw.GetFlags(),F_,$_,C_;new _o,new _o,new _o;var W_;new t_,new t_,W_=[new _o,new _o,new _o,new _o];var t2=new _i(0,0,0);if(v_&y2.e_shapeBit)for(F_=this.m_bodyList;F_;F_=F_.m_next)for(W_=F_.m_xf,$_=F_.GetFixtureList();$_;$_=$_.m_next)C_=$_.GetShape(),F_.IsActive()==!1?t2.Set(.5,.5,.3):F_.GetType()==y_.b2_staticBody?t2.Set(.5,.9,.5):F_.GetType()==y_.b2_kinematicBody?t2.Set(.5,.5,.9):F_.IsAwake()==!1?t2.Set(.6,.6,.6):t2.Set(.9,.7,.7),this.DrawShape(C_,W_,t2);if(v_&y2.e_jointBit)for(F_=this.m_jointList;F_;F_=F_.m_next)this.DrawJoint(F_);if(v_&y2.e_controllerBit)for(F_=this.m_controllerList;F_;F_=F_.m_next)F_.Draw(this.m_debugDraw);if(v_&y2.e_pairBit)for(t2.Set(.3,.9,.9),F_=this.m_contactManager.m_contactList;F_;F_=F_.GetNext())C_=F_.GetFixtureA(),$_=F_.GetFixtureB(),C_=C_.GetAABB().GetCenter(),$_=$_.GetAABB().GetCenter(),this.m_debugDraw.DrawSegment(C_,$_,t2);if(v_&y2.e_aabbBit){for(C_=this.m_contactManager.m_broadPhase,W_=[new _o,new _o,new _o,new _o],F_=this.m_bodyList;F_;F_=F_.GetNext())if(F_.IsActive()!=!1)for($_=F_.GetFixtureList();$_;$_=$_.GetNext()){var l2=C_.GetFatAABB($_.m_proxy);W_[0].Set(l2.lowerBound.x,l2.lowerBound.y),W_[1].Set(l2.upperBound.x,l2.lowerBound.y),W_[2].Set(l2.upperBound.x,l2.upperBound.y),W_[3].Set(l2.lowerBound.x,l2.upperBound.y),this.m_debugDraw.DrawPolygon(W_,4,t2)}}if(v_&y2.e_centerOfMassBit)for(F_=this.m_bodyList;F_;F_=F_.m_next)W_=E_.s_xf,W_.R=F_.m_xf.R,W_.position=F_.GetWorldCenter(),this.m_debugDraw.DrawTransform(W_)}},E_.prototype.QueryAABB=function(v_,F_){var $_=this.m_contactManager.m_broadPhase;$_.Query(function(C_){return v_($_.GetUserData(C_))},F_)},E_.prototype.QueryShape=function(v_,F_,$_){$_===void 0&&($_=null),$_==null&&($_=new o,$_.SetIdentity());var C_=this.m_contactManager.m_broadPhase,W_=new t_;F_.ComputeAABB(W_,$_),C_.Query(function(t2){return t2=C_.GetUserData(t2)instanceof z2?C_.GetUserData(t2):null,D_.TestOverlap(F_,$_,t2.GetShape(),t2.GetBody().GetTransform())?v_(t2):!0},W_)},E_.prototype.QueryPoint=function(v_,F_){var $_=this.m_contactManager.m_broadPhase,C_=new t_;C_.lowerBound.Set(F_.x-l.b2_linearSlop,F_.y-l.b2_linearSlop),C_.upperBound.Set(F_.x+l.b2_linearSlop,F_.y+l.b2_linearSlop),$_.Query(function(W_){return W_=$_.GetUserData(W_)instanceof z2?$_.GetUserData(W_):null,W_.TestPoint(F_)?v_(W_):!0},C_)},E_.prototype.RayCast=function(v_,F_,$_){var C_=this.m_contactManager.m_broadPhase,W_=new l_,t2=new _e(F_,$_);C_.RayCast(function(l2,D2){var G2=C_.GetUserData(D2);if(G2=G2 instanceof z2?G2:null,G2.RayCast(W_,l2)){var E2=W_.fraction,V2=new _o((1-E2)*F_.x+E2*$_.x,(1-E2)*F_.y+E2*$_.y);return v_(G2,V2,W_.normal,E2)}return l2.maxFraction},t2)},E_.prototype.RayCastOne=function(v_,F_){var $_;return this.RayCast(function(C_,W_,t2,l2){return l2===void 0&&(l2=0),$_=C_,l2},v_,F_),$_},E_.prototype.RayCastAll=function(v_,F_){var $_=new j1;return this.RayCast(function(C_){return $_[$_.length]=C_,1},v_,F_),$_},E_.prototype.GetBodyList=function(){return this.m_bodyList},E_.prototype.GetJointList=function(){return this.m_jointList},E_.prototype.GetContactList=function(){return this.m_contactList},E_.prototype.IsLocked=function(){return(this.m_flags&E_.e_locked)>0},E_.prototype.Solve=function(v_){for(var F_,$_=this.m_controllerList;$_;$_=$_.m_next)$_.Step(v_);for($_=this.m_island,$_.Initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver),F_=this.m_bodyList;F_;F_=F_.m_next)F_.m_flags&=~y_.e_islandFlag;for(var C_=this.m_contactList;C_;C_=C_.m_next)C_.m_flags&=~Z_.e_islandFlag;for(C_=this.m_jointList;C_;C_=C_.m_next)C_.m_islandFlag=!1;parseInt(this.m_bodyCount),C_=this.s_stack;for(var W_=this.m_bodyList;W_;W_=W_.m_next)if(!(W_.m_flags&y_.e_islandFlag)&&!(W_.IsAwake()==!1||W_.IsActive()==!1)&&W_.GetType()!=y_.b2_staticBody){$_.Clear();var t2=0;for(C_[t2++]=W_,W_.m_flags|=y_.e_islandFlag;t2>0;)if(F_=C_[--t2],$_.AddBody(F_),F_.IsAwake()==!1&&F_.SetAwake(!0),F_.GetType()!=y_.b2_staticBody){for(var l2,D2=F_.m_contactList;D2;D2=D2.next)D2.contact.m_flags&Z_.e_islandFlag||D2.contact.IsSensor()==!0||D2.contact.IsEnabled()==!1||D2.contact.IsTouching()==!1||($_.AddContact(D2.contact),D2.contact.m_flags|=Z_.e_islandFlag,l2=D2.other,l2.m_flags&y_.e_islandFlag||(C_[t2++]=l2,l2.m_flags|=y_.e_islandFlag));for(F_=F_.m_jointList;F_;F_=F_.next)F_.joint.m_islandFlag!=!0&&(l2=F_.other,l2.IsActive()!=!1&&($_.AddJoint(F_.joint),F_.joint.m_islandFlag=!0,l2.m_flags&y_.e_islandFlag||(C_[t2++]=l2,l2.m_flags|=y_.e_islandFlag)))}for($_.Solve(v_,this.m_gravity,this.m_allowSleep),t2=0;t2<$_.m_bodyCount;++t2)F_=$_.m_bodies[t2],F_.GetType()==y_.b2_staticBody&&(F_.m_flags&=~y_.e_islandFlag)}for(t2=0;t2<C_.length&&C_[t2];++t2)C_[t2]=null;for(F_=this.m_bodyList;F_;F_=F_.m_next)F_.IsAwake()==!1||F_.IsActive()==!1||F_.GetType()!=y_.b2_staticBody&&F_.SynchronizeFixtures();this.m_contactManager.FindNewContacts()},E_.prototype.SolveTOI=function(v_){var F_,$_,C_,W_=this.m_island;W_.Initialize(this.m_bodyCount,l.b2_maxTOIContactsPerIsland,l.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);var t2=E_.s_queue;for(F_=this.m_bodyList;F_;F_=F_.m_next)F_.m_flags&=~y_.e_islandFlag,F_.m_sweep.t0=0;for(C_=this.m_contactList;C_;C_=C_.m_next)C_.m_flags&=~(Z_.e_toiFlag|Z_.e_islandFlag);for(C_=this.m_jointList;C_;C_=C_.m_next)C_.m_islandFlag=!1;for(;;){var l2=null,D2=1;for(C_=this.m_contactList;C_;C_=C_.m_next)if(!(C_.IsSensor()==!0||C_.IsEnabled()==!1||C_.IsContinuous()==!1)){if(F_=1,C_.m_flags&Z_.e_toiFlag)F_=C_.m_toi;else{if(F_=C_.m_fixtureA,$_=C_.m_fixtureB,F_=F_.m_body,$_=$_.m_body,(F_.GetType()!=y_.b2_dynamicBody||F_.IsAwake()==!1)&&($_.GetType()!=y_.b2_dynamicBody||$_.IsAwake()==!1))continue;var G2=F_.m_sweep.t0;F_.m_sweep.t0<$_.m_sweep.t0?(G2=$_.m_sweep.t0,F_.m_sweep.Advance(G2)):$_.m_sweep.t0<F_.m_sweep.t0&&(G2=F_.m_sweep.t0,$_.m_sweep.Advance(G2)),F_=C_.ComputeTOI(F_.m_sweep,$_.m_sweep),l.b2Assert(0<=F_&&F_<=1),F_>0&&F_<1&&(F_=(1-F_)*G2+F_,F_>1&&(F_=1)),C_.m_toi=F_,C_.m_flags|=Z_.e_toiFlag}Number.MIN_VALUE<F_&&F_<D2&&(l2=C_,D2=F_)}if(l2==null||1-100*Number.MIN_VALUE<D2)break;if(F_=l2.m_fixtureA,$_=l2.m_fixtureB,F_=F_.m_body,$_=$_.m_body,E_.s_backupA.Set(F_.m_sweep),E_.s_backupB.Set($_.m_sweep),F_.Advance(D2),$_.Advance(D2),l2.Update(this.m_contactManager.m_contactListener),l2.m_flags&=~Z_.e_toiFlag,l2.IsSensor()==!0||l2.IsEnabled()==!1)F_.m_sweep.Set(E_.s_backupA),$_.m_sweep.Set(E_.s_backupB),F_.SynchronizeTransform(),$_.SynchronizeTransform();else if(l2.IsTouching()!=!1){for(F_=F_,F_.GetType()!=y_.b2_dynamicBody&&(F_=$_),W_.Clear(),l2=C_=0,t2[C_+l2++]=F_,F_.m_flags|=y_.e_islandFlag;l2>0;)if(F_=t2[C_++],--l2,W_.AddBody(F_),F_.IsAwake()==!1&&F_.SetAwake(!0),F_.GetType()==y_.b2_dynamicBody){for($_=F_.m_contactList;$_&&W_.m_contactCount!=W_.m_contactCapacity;$_=$_.next)$_.contact.m_flags&Z_.e_islandFlag||$_.contact.IsSensor()==!0||$_.contact.IsEnabled()==!1||$_.contact.IsTouching()==!1||(W_.AddContact($_.contact),$_.contact.m_flags|=Z_.e_islandFlag,G2=$_.other,G2.m_flags&y_.e_islandFlag||(G2.GetType()!=y_.b2_staticBody&&(G2.Advance(D2),G2.SetAwake(!0)),t2[C_+l2]=G2,++l2,G2.m_flags|=y_.e_islandFlag));for(F_=F_.m_jointList;F_;F_=F_.next)W_.m_jointCount!=W_.m_jointCapacity&&F_.joint.m_islandFlag!=!0&&(G2=F_.other,G2.IsActive()!=!1&&(W_.AddJoint(F_.joint),F_.joint.m_islandFlag=!0,G2.m_flags&y_.e_islandFlag||(G2.GetType()!=y_.b2_staticBody&&(G2.Advance(D2),G2.SetAwake(!0)),t2[C_+l2]=G2,++l2,G2.m_flags|=y_.e_islandFlag)))}for(C_=E_.s_timestep,C_.warmStarting=!1,C_.dt=(1-D2)*v_.dt,C_.inv_dt=1/C_.dt,C_.dtRatio=0,C_.velocityIterations=v_.velocityIterations,C_.positionIterations=v_.positionIterations,W_.SolveTOI(C_),D2=D2=0;D2<W_.m_bodyCount;++D2)if(F_=W_.m_bodies[D2],F_.m_flags&=~y_.e_islandFlag,F_.IsAwake()!=!1&&F_.GetType()==y_.b2_dynamicBody)for(F_.SynchronizeFixtures(),$_=F_.m_contactList;$_;$_=$_.next)$_.contact.m_flags&=~Z_.e_toiFlag;for(D2=0;D2<W_.m_contactCount;++D2)C_=W_.m_contacts[D2],C_.m_flags&=~(Z_.e_toiFlag|Z_.e_islandFlag);for(D2=0;D2<W_.m_jointCount;++D2)C_=W_.m_joints[D2],C_.m_islandFlag=!1;this.m_contactManager.FindNewContacts()}}},E_.prototype.DrawJoint=function(v_){var F_=v_.GetBodyA(),$_=v_.GetBodyB(),C_=F_.m_xf.position,W_=$_.m_xf.position,t2=v_.GetAnchorA(),l2=v_.GetAnchorB(),D2=E_.s_jointColor;switch(v_.m_type){case u2.e_distanceJoint:this.m_debugDraw.DrawSegment(t2,l2,D2);break;case u2.e_pulleyJoint:F_=v_ instanceof p2?v_:null,v_=F_.GetGroundAnchorA(),F_=F_.GetGroundAnchorB(),this.m_debugDraw.DrawSegment(v_,t2,D2),this.m_debugDraw.DrawSegment(F_,l2,D2),this.m_debugDraw.DrawSegment(v_,F_,D2);break;case u2.e_mouseJoint:this.m_debugDraw.DrawSegment(t2,l2,D2);break;default:F_!=this.m_groundBody&&this.m_debugDraw.DrawSegment(C_,t2,D2),this.m_debugDraw.DrawSegment(t2,l2,D2),$_!=this.m_groundBody&&this.m_debugDraw.DrawSegment(W_,l2,D2)}},E_.prototype.DrawShape=function(v_,F_,$_){switch(v_.m_type){case D_.e_circleShape:var C_=v_ instanceof ws?v_:null;this.m_debugDraw.DrawSolidCircle(V.MulX(F_,C_.m_p),C_.m_radius,F_.R.col1,$_);break;case D_.e_polygonShape:C_=0,C_=v_ instanceof B_?v_:null,v_=parseInt(C_.GetVertexCount());var W_=C_.GetVertices(),t2=new j1(v_);for(C_=0;C_<v_;++C_)t2[C_]=V.MulX(F_,W_[C_]);this.m_debugDraw.DrawSolidPolygon(t2,v_,$_);break;case D_.e_edgeShape:C_=v_ instanceof h_?v_:null,this.m_debugDraw.DrawSegment(V.MulX(F_,C_.GetVertex1()),V.MulX(F_,C_.GetVertex2()),$_)}},Y_.postDefs.push(function(){Y_.Dynamics.b2World.s_timestep2=new P_,Y_.Dynamics.b2World.s_xf=new o,Y_.Dynamics.b2World.s_backupA=new x,Y_.Dynamics.b2World.s_backupB=new x,Y_.Dynamics.b2World.s_timestep=new P_,Y_.Dynamics.b2World.s_queue=new j1,Y_.Dynamics.b2World.s_jointColor=new _i(.5,.8,.8),Y_.Dynamics.b2World.e_newFixture=1,Y_.Dynamics.b2World.e_locked=2})})();(function(){var V=Y_.Collision.Shapes.b2CircleShape,x=Y_.Collision.Shapes.b2EdgeShape,o=Y_.Collision.Shapes.b2PolygonShape,_o=Y_.Collision.Shapes.b2Shape,_i=Y_.Dynamics.Contacts.b2CircleContact,l=Y_.Dynamics.Contacts.b2Contact,t_=Y_.Dynamics.Contacts.b2ContactConstraint,o_=Y_.Dynamics.Contacts.b2ContactConstraintPoint,i_=Y_.Dynamics.Contacts.b2ContactEdge,_e=Y_.Dynamics.Contacts.b2ContactFactory,l_=Y_.Dynamics.Contacts.b2ContactRegister,ws=Y_.Dynamics.Contacts.b2ContactResult,h_=Y_.Dynamics.Contacts.b2ContactSolver,s_=Y_.Dynamics.Contacts.b2EdgeAndCircleContact,B_=Y_.Dynamics.Contacts.b2NullContact,D_=Y_.Dynamics.Contacts.b2PolyAndCircleContact,y_=Y_.Dynamics.Contacts.b2PolyAndEdgeContact,G_=Y_.Dynamics.Contacts.b2PolygonContact,q_=Y_.Dynamics.Contacts.b2PositionSolverManifold,j_=Y_.Dynamics.b2Body,_2=Y_.Dynamics.b2TimeStep,m2=Y_.Common.b2Settings,y2=Y_.Common.Math.b2Mat22,I2=Y_.Common.Math.b2Math,J2=Y_.Common.Math.b2Vec2,z2=Y_.Collision.b2Collision,K2=Y_.Collision.b2ContactID,$2=Y_.Collision.b2Manifold,P_=Y_.Collision.b2TimeOfImpact,E_=Y_.Collision.b2TOIInput,Z_=Y_.Collision.b2WorldManifold;Y_.inherit(_i,Y_.Dynamics.Contacts.b2Contact),_i.prototype.__super=Y_.Dynamics.Contacts.b2Contact.prototype,_i.b2CircleContact=function(){Y_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},_i.Create=function(){return new _i},_i.Destroy=function(){},_i.prototype.Reset=function(N_,s2){this.__super.Reset.call(this,N_,s2)},_i.prototype.Evaluate=function(){var N_=this.m_fixtureA.GetBody(),s2=this.m_fixtureB.GetBody();z2.CollideCircles(this.m_manifold,this.m_fixtureA.GetShape()instanceof V?this.m_fixtureA.GetShape():null,N_.m_xf,this.m_fixtureB.GetShape()instanceof V?this.m_fixtureB.GetShape():null,s2.m_xf)},l.b2Contact=function(){this.m_nodeA=new i_,this.m_nodeB=new i_,this.m_manifold=new $2,this.m_oldManifold=new $2},l.prototype.GetManifold=function(){return this.m_manifold},l.prototype.GetWorldManifold=function(N_){var s2=this.m_fixtureA.GetBody(),u2=this.m_fixtureB.GetBody(),p2=this.m_fixtureA.GetShape(),v_=this.m_fixtureB.GetShape();N_.Initialize(this.m_manifold,s2.GetTransform(),p2.m_radius,u2.GetTransform(),v_.m_radius)},l.prototype.IsTouching=function(){return(this.m_flags&l.e_touchingFlag)==l.e_touchingFlag},l.prototype.IsContinuous=function(){return(this.m_flags&l.e_continuousFlag)==l.e_continuousFlag},l.prototype.SetSensor=function(N_){N_?this.m_flags|=l.e_sensorFlag:this.m_flags&=~l.e_sensorFlag},l.prototype.IsSensor=function(){return(this.m_flags&l.e_sensorFlag)==l.e_sensorFlag},l.prototype.SetEnabled=function(N_){N_?this.m_flags|=l.e_enabledFlag:this.m_flags&=~l.e_enabledFlag},l.prototype.IsEnabled=function(){return(this.m_flags&l.e_enabledFlag)==l.e_enabledFlag},l.prototype.GetNext=function(){return this.m_next},l.prototype.GetFixtureA=function(){return this.m_fixtureA},l.prototype.GetFixtureB=function(){return this.m_fixtureB},l.prototype.FlagForFiltering=function(){this.m_flags|=l.e_filterFlag},l.prototype.b2Contact=function(){},l.prototype.Reset=function(N_,s2){if(N_===void 0&&(N_=null),s2===void 0&&(s2=null),this.m_flags=l.e_enabledFlag,!N_||!s2)this.m_fixtureB=this.m_fixtureA=null;else{(N_.IsSensor()||s2.IsSensor())&&(this.m_flags|=l.e_sensorFlag);var u2=N_.GetBody(),p2=s2.GetBody();(u2.GetType()!=j_.b2_dynamicBody||u2.IsBullet()||p2.GetType()!=j_.b2_dynamicBody||p2.IsBullet())&&(this.m_flags|=l.e_continuousFlag),this.m_fixtureA=N_,this.m_fixtureB=s2,this.m_manifold.m_pointCount=0,this.m_next=this.m_prev=null,this.m_nodeA.contact=null,this.m_nodeA.prev=null,this.m_nodeA.next=null,this.m_nodeA.other=null,this.m_nodeB.contact=null,this.m_nodeB.prev=null,this.m_nodeB.next=null,this.m_nodeB.other=null}},l.prototype.Update=function(N_){var s2=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=s2,this.m_flags|=l.e_enabledFlag;var u2=!1;s2=(this.m_flags&l.e_touchingFlag)==l.e_touchingFlag;var p2=this.m_fixtureA.m_body,v_=this.m_fixtureB.m_body,F_=this.m_fixtureA.m_aabb.TestOverlap(this.m_fixtureB.m_aabb);if(this.m_flags&l.e_sensorFlag)F_&&(u2=this.m_fixtureA.GetShape(),F_=this.m_fixtureB.GetShape(),p2=p2.GetTransform(),v_=v_.GetTransform(),u2=_o.TestOverlap(u2,p2,F_,v_)),this.m_manifold.m_pointCount=0;else{if(p2.GetType()!=j_.b2_dynamicBody||p2.IsBullet()||v_.GetType()!=j_.b2_dynamicBody||v_.IsBullet()?this.m_flags|=l.e_continuousFlag:this.m_flags&=~l.e_continuousFlag,F_)for(this.Evaluate(),u2=this.m_manifold.m_pointCount>0,F_=0;F_<this.m_manifold.m_pointCount;++F_){var $_=this.m_manifold.m_points[F_];$_.m_normalImpulse=0,$_.m_tangentImpulse=0;for(var C_=$_.m_id,W_=0;W_<this.m_oldManifold.m_pointCount;++W_){var t2=this.m_oldManifold.m_points[W_];if(t2.m_id.key==C_.key){$_.m_normalImpulse=t2.m_normalImpulse,$_.m_tangentImpulse=t2.m_tangentImpulse;break}}}else this.m_manifold.m_pointCount=0;u2!=s2&&(p2.SetAwake(!0),v_.SetAwake(!0))}u2?this.m_flags|=l.e_touchingFlag:this.m_flags&=~l.e_touchingFlag,s2==!1&&u2==!0&&N_.BeginContact(this),s2==!0&&u2==!1&&N_.EndContact(this),(this.m_flags&l.e_sensorFlag)==0&&N_.PreSolve(this,this.m_oldManifold)},l.prototype.Evaluate=function(){},l.prototype.ComputeTOI=function(N_,s2){return l.s_input.proxyA.Set(this.m_fixtureA.GetShape()),l.s_input.proxyB.Set(this.m_fixtureB.GetShape()),l.s_input.sweepA=N_,l.s_input.sweepB=s2,l.s_input.tolerance=m2.b2_linearSlop,P_.TimeOfImpact(l.s_input)},Y_.postDefs.push(function(){Y_.Dynamics.Contacts.b2Contact.e_sensorFlag=1,Y_.Dynamics.Contacts.b2Contact.e_continuousFlag=2,Y_.Dynamics.Contacts.b2Contact.e_islandFlag=4,Y_.Dynamics.Contacts.b2Contact.e_toiFlag=8,Y_.Dynamics.Contacts.b2Contact.e_touchingFlag=16,Y_.Dynamics.Contacts.b2Contact.e_enabledFlag=32,Y_.Dynamics.Contacts.b2Contact.e_filterFlag=64,Y_.Dynamics.Contacts.b2Contact.s_input=new E_}),t_.b2ContactConstraint=function(){this.localPlaneNormal=new J2,this.localPoint=new J2,this.normal=new J2,this.normalMass=new y2,this.K=new y2},t_.prototype.b2ContactConstraint=function(){this.points=new j1(m2.b2_maxManifoldPoints);for(var N_=0;N_<m2.b2_maxManifoldPoints;N_++)this.points[N_]=new o_},o_.b2ContactConstraintPoint=function(){this.localPoint=new J2,this.rA=new J2,this.rB=new J2},i_.b2ContactEdge=function(){},_e.b2ContactFactory=function(){},_e.prototype.b2ContactFactory=function(N_){this.m_allocator=N_,this.InitializeRegisters()},_e.prototype.AddType=function(N_,s2,u2,p2){u2===void 0&&(u2=0),p2===void 0&&(p2=0),this.m_registers[u2][p2].createFcn=N_,this.m_registers[u2][p2].destroyFcn=s2,this.m_registers[u2][p2].primary=!0,u2!=p2&&(this.m_registers[p2][u2].createFcn=N_,this.m_registers[p2][u2].destroyFcn=s2,this.m_registers[p2][u2].primary=!1)},_e.prototype.InitializeRegisters=function(){this.m_registers=new j1(_o.e_shapeTypeCount);for(var N_=0;N_<_o.e_shapeTypeCount;N_++){this.m_registers[N_]=new j1(_o.e_shapeTypeCount);for(var s2=0;s2<_o.e_shapeTypeCount;s2++)this.m_registers[N_][s2]=new l_}this.AddType(_i.Create,_i.Destroy,_o.e_circleShape,_o.e_circleShape),this.AddType(D_.Create,D_.Destroy,_o.e_polygonShape,_o.e_circleShape),this.AddType(G_.Create,G_.Destroy,_o.e_polygonShape,_o.e_polygonShape),this.AddType(s_.Create,s_.Destroy,_o.e_edgeShape,_o.e_circleShape),this.AddType(y_.Create,y_.Destroy,_o.e_polygonShape,_o.e_edgeShape)},_e.prototype.Create=function(N_,s2){var u2=parseInt(N_.GetType()),p2=parseInt(s2.GetType());return u2=this.m_registers[u2][p2],u2.pool?(p2=u2.pool,u2.pool=p2.m_next,u2.poolCount--,p2.Reset(N_,s2),p2):(p2=u2.createFcn,p2!=null?(u2.primary?(p2=p2(this.m_allocator),p2.Reset(N_,s2)):(p2=p2(this.m_allocator),p2.Reset(s2,N_)),p2):null)},_e.prototype.Destroy=function(N_){N_.m_manifold.m_pointCount>0&&(N_.m_fixtureA.m_body.SetAwake(!0),N_.m_fixtureB.m_body.SetAwake(!0));var s2=parseInt(N_.m_fixtureA.GetType()),u2=parseInt(N_.m_fixtureB.GetType());s2=this.m_registers[s2][u2],s2.poolCount++,N_.m_next=s2.pool,s2.pool=N_,s2=s2.destroyFcn,s2(N_,this.m_allocator)},l_.b2ContactRegister=function(){},ws.b2ContactResult=function(){this.position=new J2,this.normal=new J2,this.id=new K2},h_.b2ContactSolver=function(){this.m_step=new _2,this.m_constraints=new j1},h_.prototype.b2ContactSolver=function(){},h_.prototype.Initialize=function(N_,s2,u2,p2){u2===void 0&&(u2=0);var v_;for(this.m_step.Set(N_),this.m_allocator=p2,N_=0,this.m_constraintCount=u2;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new t_;for(N_=0;N_<u2;++N_){v_=s2[N_],p2=v_.m_fixtureA;var F_=v_.m_fixtureB,$_=p2.m_shape.m_radius,C_=F_.m_shape.m_radius,W_=p2.m_body,t2=F_.m_body,l2=v_.GetManifold(),D2=m2.b2MixFriction(p2.GetFriction(),F_.GetFriction()),G2=m2.b2MixRestitution(p2.GetRestitution(),F_.GetRestitution()),E2=W_.m_linearVelocity.x,V2=W_.m_linearVelocity.y,F2=t2.m_linearVelocity.x,U2=t2.m_linearVelocity.y,Na=W_.m_angularVelocity,g0=t2.m_angularVelocity;for(m2.b2Assert(l2.m_pointCount>0),h_.s_worldManifold.Initialize(l2,W_.m_xf,$_,t2.m_xf,C_),F_=h_.s_worldManifold.m_normal.x,v_=h_.s_worldManifold.m_normal.y,p2=this.m_constraints[N_],p2.bodyA=W_,p2.bodyB=t2,p2.manifold=l2,p2.normal.x=F_,p2.normal.y=v_,p2.pointCount=l2.m_pointCount,p2.friction=D2,p2.restitution=G2,p2.localPlaneNormal.x=l2.m_localPlaneNormal.x,p2.localPlaneNormal.y=l2.m_localPlaneNormal.y,p2.localPoint.x=l2.m_localPoint.x,p2.localPoint.y=l2.m_localPoint.y,p2.radius=$_+C_,p2.type=l2.m_type,$_=0;$_<p2.pointCount;++$_){D2=l2.m_points[$_],C_=p2.points[$_],C_.normalImpulse=D2.m_normalImpulse,C_.tangentImpulse=D2.m_tangentImpulse,C_.localPoint.SetV(D2.m_localPoint),D2=C_.rA.x=h_.s_worldManifold.m_points[$_].x-W_.m_sweep.c.x,G2=C_.rA.y=h_.s_worldManifold.m_points[$_].y-W_.m_sweep.c.y;var n0=C_.rB.x=h_.s_worldManifold.m_points[$_].x-t2.m_sweep.c.x,J0=C_.rB.y=h_.s_worldManifold.m_points[$_].y-t2.m_sweep.c.y,j0=D2*v_-G2*F_,V0=n0*v_-J0*F_;j0*=j0,V0*=V0,C_.normalMass=1/(W_.m_invMass+t2.m_invMass+W_.m_invI*j0+t2.m_invI*V0);var k0=W_.m_mass*W_.m_invMass+t2.m_mass*t2.m_invMass;k0+=W_.m_mass*W_.m_invI*j0+t2.m_mass*t2.m_invI*V0,C_.equalizedMass=1/k0,V0=v_,k0=-F_,j0=D2*k0-G2*V0,V0=n0*k0-J0*V0,j0*=j0,V0*=V0,C_.tangentMass=1/(W_.m_invMass+t2.m_invMass+W_.m_invI*j0+t2.m_invI*V0),C_.velocityBias=0,D2=p2.normal.x*(F2+-g0*J0-E2- -Na*G2)+p2.normal.y*(U2+g0*n0-V2-Na*D2),D2<-m2.b2_velocityThreshold&&(C_.velocityBias+=-p2.restitution*D2)}p2.pointCount==2&&(U2=p2.points[0],F2=p2.points[1],l2=W_.m_invMass,W_=W_.m_invI,E2=t2.m_invMass,t2=t2.m_invI,V2=U2.rA.x*v_-U2.rA.y*F_,U2=U2.rB.x*v_-U2.rB.y*F_,Na=F2.rA.x*v_-F2.rA.y*F_,F2=F2.rB.x*v_-F2.rB.y*F_,F_=l2+E2+W_*V2*V2+t2*U2*U2,v_=l2+E2+W_*Na*Na+t2*F2*F2,t2=l2+E2+W_*V2*Na+t2*U2*F2,F_*F_<100*(F_*v_-t2*t2)?(p2.K.col1.Set(F_,t2),p2.K.col2.Set(t2,v_),p2.K.GetInverse(p2.normalMass)):p2.pointCount=1)}},h_.prototype.InitVelocityConstraints=function(N_){for(var s2=0;s2<this.m_constraintCount;++s2){var u2=this.m_constraints[s2],p2=u2.bodyA,v_=u2.bodyB,F_=p2.m_invMass,$_=p2.m_invI,C_=v_.m_invMass,W_=v_.m_invI,t2=u2.normal.x,l2=u2.normal.y,D2=l2,G2=-t2,E2=0,V2=0;if(N_.warmStarting)for(V2=u2.pointCount,E2=0;E2<V2;++E2){var F2=u2.points[E2];F2.normalImpulse*=N_.dtRatio,F2.tangentImpulse*=N_.dtRatio;var U2=F2.normalImpulse*t2+F2.tangentImpulse*D2,Na=F2.normalImpulse*l2+F2.tangentImpulse*G2;p2.m_angularVelocity-=$_*(F2.rA.x*Na-F2.rA.y*U2),p2.m_linearVelocity.x-=F_*U2,p2.m_linearVelocity.y-=F_*Na,v_.m_angularVelocity+=W_*(F2.rB.x*Na-F2.rB.y*U2),v_.m_linearVelocity.x+=C_*U2,v_.m_linearVelocity.y+=C_*Na}else for(V2=u2.pointCount,E2=0;E2<V2;++E2)p2=u2.points[E2],p2.normalImpulse=0,p2.tangentImpulse=0}},h_.prototype.SolveVelocityConstraints=function(){for(var N_=0,s2,u2=0,p2=0,v_=0,F_=p2=p2=u2=u2=0,$_=u2=u2=0,C_=u2=v_=0,W_=0,t2,l2=0;l2<this.m_constraintCount;++l2){v_=this.m_constraints[l2];var D2=v_.bodyA,G2=v_.bodyB,E2=D2.m_angularVelocity,V2=G2.m_angularVelocity,F2=D2.m_linearVelocity,U2=G2.m_linearVelocity,Na=D2.m_invMass,g0=D2.m_invI,n0=G2.m_invMass,J0=G2.m_invI;C_=v_.normal.x;var j0=W_=v_.normal.y;for(t2=-C_,$_=v_.friction,N_=0;N_<v_.pointCount;N_++)s2=v_.points[N_],u2=U2.x-V2*s2.rB.y-F2.x+E2*s2.rA.y,p2=U2.y+V2*s2.rB.x-F2.y-E2*s2.rA.x,u2=u2*j0+p2*t2,u2=s2.tangentMass*-u2,p2=$_*s2.normalImpulse,p2=I2.Clamp(s2.tangentImpulse+u2,-p2,p2),u2=p2-s2.tangentImpulse,F_=u2*j0,u2=u2*t2,F2.x-=Na*F_,F2.y-=Na*u2,E2-=g0*(s2.rA.x*u2-s2.rA.y*F_),U2.x+=n0*F_,U2.y+=n0*u2,V2+=J0*(s2.rB.x*u2-s2.rB.y*F_),s2.tangentImpulse=p2;if(parseInt(v_.pointCount),v_.pointCount==1)s2=v_.points[0],u2=U2.x+-V2*s2.rB.y-F2.x- -E2*s2.rA.y,p2=U2.y+V2*s2.rB.x-F2.y-E2*s2.rA.x,v_=u2*C_+p2*W_,u2=-s2.normalMass*(v_-s2.velocityBias),p2=s2.normalImpulse+u2,p2=p2>0?p2:0,u2=p2-s2.normalImpulse,F_=u2*C_,u2=u2*W_,F2.x-=Na*F_,F2.y-=Na*u2,E2-=g0*(s2.rA.x*u2-s2.rA.y*F_),U2.x+=n0*F_,U2.y+=n0*u2,V2+=J0*(s2.rB.x*u2-s2.rB.y*F_),s2.normalImpulse=p2;else{s2=v_.points[0],N_=v_.points[1],u2=s2.normalImpulse,$_=N_.normalImpulse;var V0=(U2.x-V2*s2.rB.y-F2.x+E2*s2.rA.y)*C_+(U2.y+V2*s2.rB.x-F2.y-E2*s2.rA.x)*W_,k0=(U2.x-V2*N_.rB.y-F2.x+E2*N_.rA.y)*C_+(U2.y+V2*N_.rB.x-F2.y-E2*N_.rA.x)*W_;for(p2=V0-s2.velocityBias,F_=k0-N_.velocityBias,t2=v_.K,p2-=t2.col1.x*u2+t2.col2.x*$_,F_-=t2.col1.y*u2+t2.col2.y*$_;;){if(t2=v_.normalMass,j0=-(t2.col1.x*p2+t2.col2.x*F_),t2=-(t2.col1.y*p2+t2.col2.y*F_),j0>=0&&t2>=0){u2=j0-u2,$_=t2-$_,v_=u2*C_,u2=u2*W_,C_=$_*C_,W_=$_*W_,F2.x-=Na*(v_+C_),F2.y-=Na*(u2+W_),E2-=g0*(s2.rA.x*u2-s2.rA.y*v_+N_.rA.x*W_-N_.rA.y*C_),U2.x+=n0*(v_+C_),U2.y+=n0*(u2+W_),V2+=J0*(s2.rB.x*u2-s2.rB.y*v_+N_.rB.x*W_-N_.rB.y*C_),s2.normalImpulse=j0,N_.normalImpulse=t2;break}if(j0=-s2.normalMass*p2,t2=0,k0=v_.K.col1.y*j0+F_,j0>=0&&k0>=0){u2=j0-u2,$_=t2-$_,v_=u2*C_,u2=u2*W_,C_=$_*C_,W_=$_*W_,F2.x-=Na*(v_+C_),F2.y-=Na*(u2+W_),E2-=g0*(s2.rA.x*u2-s2.rA.y*v_+N_.rA.x*W_-N_.rA.y*C_),U2.x+=n0*(v_+C_),U2.y+=n0*(u2+W_),V2+=J0*(s2.rB.x*u2-s2.rB.y*v_+N_.rB.x*W_-N_.rB.y*C_),s2.normalImpulse=j0,N_.normalImpulse=t2;break}if(j0=0,t2=-N_.normalMass*F_,V0=v_.K.col2.x*t2+p2,t2>=0&&V0>=0){u2=j0-u2,$_=t2-$_,v_=u2*C_,u2=u2*W_,C_=$_*C_,W_=$_*W_,F2.x-=Na*(v_+C_),F2.y-=Na*(u2+W_),E2-=g0*(s2.rA.x*u2-s2.rA.y*v_+N_.rA.x*W_-N_.rA.y*C_),U2.x+=n0*(v_+C_),U2.y+=n0*(u2+W_),V2+=J0*(s2.rB.x*u2-s2.rB.y*v_+N_.rB.x*W_-N_.rB.y*C_),s2.normalImpulse=j0,N_.normalImpulse=t2;break}if(t2=j0=0,V0=p2,k0=F_,V0>=0&&k0>=0){u2=j0-u2,$_=t2-$_,v_=u2*C_,u2=u2*W_,C_=$_*C_,W_=$_*W_,F2.x-=Na*(v_+C_),F2.y-=Na*(u2+W_),E2-=g0*(s2.rA.x*u2-s2.rA.y*v_+N_.rA.x*W_-N_.rA.y*C_),U2.x+=n0*(v_+C_),U2.y+=n0*(u2+W_),V2+=J0*(s2.rB.x*u2-s2.rB.y*v_+N_.rB.x*W_-N_.rB.y*C_),s2.normalImpulse=j0,N_.normalImpulse=t2;break}break}}D2.m_angularVelocity=E2,G2.m_angularVelocity=V2}},h_.prototype.FinalizeVelocityConstraints=function(){for(var N_=0;N_<this.m_constraintCount;++N_)for(var s2=this.m_constraints[N_],u2=s2.manifold,p2=0;p2<s2.pointCount;++p2){var v_=u2.m_points[p2],F_=s2.points[p2];v_.m_normalImpulse=F_.normalImpulse,v_.m_tangentImpulse=F_.tangentImpulse}},h_.prototype.SolvePositionConstraints=function(N_){N_===void 0&&(N_=0);for(var s2=0,u2=0;u2<this.m_constraintCount;u2++){var p2=this.m_constraints[u2],v_=p2.bodyA,F_=p2.bodyB,$_=v_.m_mass*v_.m_invMass,C_=v_.m_mass*v_.m_invI,W_=F_.m_mass*F_.m_invMass,t2=F_.m_mass*F_.m_invI;h_.s_psm.Initialize(p2);for(var l2=h_.s_psm.m_normal,D2=0;D2<p2.pointCount;D2++){var G2=p2.points[D2],E2=h_.s_psm.m_points[D2],V2=h_.s_psm.m_separations[D2],F2=E2.x-v_.m_sweep.c.x,U2=E2.y-v_.m_sweep.c.y,Na=E2.x-F_.m_sweep.c.x;E2=E2.y-F_.m_sweep.c.y,s2=s2<V2?s2:V2,V2=I2.Clamp(N_*(V2+m2.b2_linearSlop),-m2.b2_maxLinearCorrection,0),V2=-G2.equalizedMass*V2,G2=V2*l2.x,V2=V2*l2.y,v_.m_sweep.c.x-=$_*G2,v_.m_sweep.c.y-=$_*V2,v_.m_sweep.a-=C_*(F2*V2-U2*G2),v_.SynchronizeTransform(),F_.m_sweep.c.x+=W_*G2,F_.m_sweep.c.y+=W_*V2,F_.m_sweep.a+=t2*(Na*V2-E2*G2),F_.SynchronizeTransform()}}return s2>-1.5*m2.b2_linearSlop},Y_.postDefs.push(function(){Y_.Dynamics.Contacts.b2ContactSolver.s_worldManifold=new Z_,Y_.Dynamics.Contacts.b2ContactSolver.s_psm=new q_}),Y_.inherit(s_,Y_.Dynamics.Contacts.b2Contact),s_.prototype.__super=Y_.Dynamics.Contacts.b2Contact.prototype,s_.b2EdgeAndCircleContact=function(){Y_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},s_.Create=function(){return new s_},s_.Destroy=function(){},s_.prototype.Reset=function(N_,s2){this.__super.Reset.call(this,N_,s2)},s_.prototype.Evaluate=function(){var N_=this.m_fixtureA.GetBody(),s2=this.m_fixtureB.GetBody();this.b2CollideEdgeAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof x?this.m_fixtureA.GetShape():null,N_.m_xf,this.m_fixtureB.GetShape()instanceof V?this.m_fixtureB.GetShape():null,s2.m_xf)},s_.prototype.b2CollideEdgeAndCircle=function(){},Y_.inherit(B_,Y_.Dynamics.Contacts.b2Contact),B_.prototype.__super=Y_.Dynamics.Contacts.b2Contact.prototype,B_.b2NullContact=function(){Y_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},B_.prototype.b2NullContact=function(){this.__super.b2Contact.call(this)},B_.prototype.Evaluate=function(){},Y_.inherit(D_,Y_.Dynamics.Contacts.b2Contact),D_.prototype.__super=Y_.Dynamics.Contacts.b2Contact.prototype,D_.b2PolyAndCircleContact=function(){Y_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},D_.Create=function(){return new D_},D_.Destroy=function(){},D_.prototype.Reset=function(N_,s2){this.__super.Reset.call(this,N_,s2),m2.b2Assert(N_.GetType()==_o.e_polygonShape),m2.b2Assert(s2.GetType()==_o.e_circleShape)},D_.prototype.Evaluate=function(){var N_=this.m_fixtureA.m_body,s2=this.m_fixtureB.m_body;z2.CollidePolygonAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof o?this.m_fixtureA.GetShape():null,N_.m_xf,this.m_fixtureB.GetShape()instanceof V?this.m_fixtureB.GetShape():null,s2.m_xf)},Y_.inherit(y_,Y_.Dynamics.Contacts.b2Contact),y_.prototype.__super=Y_.Dynamics.Contacts.b2Contact.prototype,y_.b2PolyAndEdgeContact=function(){Y_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},y_.Create=function(){return new y_},y_.Destroy=function(){},y_.prototype.Reset=function(N_,s2){this.__super.Reset.call(this,N_,s2),m2.b2Assert(N_.GetType()==_o.e_polygonShape),m2.b2Assert(s2.GetType()==_o.e_edgeShape)},y_.prototype.Evaluate=function(){var N_=this.m_fixtureA.GetBody(),s2=this.m_fixtureB.GetBody();this.b2CollidePolyAndEdge(this.m_manifold,this.m_fixtureA.GetShape()instanceof o?this.m_fixtureA.GetShape():null,N_.m_xf,this.m_fixtureB.GetShape()instanceof x?this.m_fixtureB.GetShape():null,s2.m_xf)},y_.prototype.b2CollidePolyAndEdge=function(){},Y_.inherit(G_,Y_.Dynamics.Contacts.b2Contact),G_.prototype.__super=Y_.Dynamics.Contacts.b2Contact.prototype,G_.b2PolygonContact=function(){Y_.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},G_.Create=function(){return new G_},G_.Destroy=function(){},G_.prototype.Reset=function(N_,s2){this.__super.Reset.call(this,N_,s2)},G_.prototype.Evaluate=function(){var N_=this.m_fixtureA.GetBody(),s2=this.m_fixtureB.GetBody();z2.CollidePolygons(this.m_manifold,this.m_fixtureA.GetShape()instanceof o?this.m_fixtureA.GetShape():null,N_.m_xf,this.m_fixtureB.GetShape()instanceof o?this.m_fixtureB.GetShape():null,s2.m_xf)},q_.b2PositionSolverManifold=function(){},q_.prototype.b2PositionSolverManifold=function(){this.m_normal=new J2,this.m_separations=new KS(m2.b2_maxManifoldPoints),this.m_points=new j1(m2.b2_maxManifoldPoints);for(var N_=0;N_<m2.b2_maxManifoldPoints;N_++)this.m_points[N_]=new J2},q_.prototype.Initialize=function(N_){m2.b2Assert(N_.pointCount>0);var s2=0,u2=0,p2=0,v_,F_=0,$_=0;switch(N_.type){case $2.e_circles:v_=N_.bodyA.m_xf.R,p2=N_.localPoint,s2=N_.bodyA.m_xf.position.x+(v_.col1.x*p2.x+v_.col2.x*p2.y),u2=N_.bodyA.m_xf.position.y+(v_.col1.y*p2.x+v_.col2.y*p2.y),v_=N_.bodyB.m_xf.R,p2=N_.points[0].localPoint,F_=N_.bodyB.m_xf.position.x+(v_.col1.x*p2.x+v_.col2.x*p2.y),v_=N_.bodyB.m_xf.position.y+(v_.col1.y*p2.x+v_.col2.y*p2.y),p2=F_-s2,$_=v_-u2;var C_=p2*p2+$_*$_;C_>Number.MIN_VALUE*Number.MIN_VALUE?(C_=Math.sqrt(C_),this.m_normal.x=p2/C_,this.m_normal.y=$_/C_):(this.m_normal.x=1,this.m_normal.y=0),this.m_points[0].x=.5*(s2+F_),this.m_points[0].y=.5*(u2+v_),this.m_separations[0]=p2*this.m_normal.x+$_*this.m_normal.y-N_.radius;break;case $2.e_faceA:for(v_=N_.bodyA.m_xf.R,p2=N_.localPlaneNormal,this.m_normal.x=v_.col1.x*p2.x+v_.col2.x*p2.y,this.m_normal.y=v_.col1.y*p2.x+v_.col2.y*p2.y,v_=N_.bodyA.m_xf.R,p2=N_.localPoint,F_=N_.bodyA.m_xf.position.x+(v_.col1.x*p2.x+v_.col2.x*p2.y),$_=N_.bodyA.m_xf.position.y+(v_.col1.y*p2.x+v_.col2.y*p2.y),v_=N_.bodyB.m_xf.R,s2=0;s2<N_.pointCount;++s2)p2=N_.points[s2].localPoint,u2=N_.bodyB.m_xf.position.x+(v_.col1.x*p2.x+v_.col2.x*p2.y),p2=N_.bodyB.m_xf.position.y+(v_.col1.y*p2.x+v_.col2.y*p2.y),this.m_separations[s2]=(u2-F_)*this.m_normal.x+(p2-$_)*this.m_normal.y-N_.radius,this.m_points[s2].x=u2,this.m_points[s2].y=p2;break;case $2.e_faceB:for(v_=N_.bodyB.m_xf.R,p2=N_.localPlaneNormal,this.m_normal.x=v_.col1.x*p2.x+v_.col2.x*p2.y,this.m_normal.y=v_.col1.y*p2.x+v_.col2.y*p2.y,v_=N_.bodyB.m_xf.R,p2=N_.localPoint,F_=N_.bodyB.m_xf.position.x+(v_.col1.x*p2.x+v_.col2.x*p2.y),$_=N_.bodyB.m_xf.position.y+(v_.col1.y*p2.x+v_.col2.y*p2.y),v_=N_.bodyA.m_xf.R,s2=0;s2<N_.pointCount;++s2)p2=N_.points[s2].localPoint,u2=N_.bodyA.m_xf.position.x+(v_.col1.x*p2.x+v_.col2.x*p2.y),p2=N_.bodyA.m_xf.position.y+(v_.col1.y*p2.x+v_.col2.y*p2.y),this.m_separations[s2]=(u2-F_)*this.m_normal.x+(p2-$_)*this.m_normal.y-N_.radius,this.m_points[s2].Set(u2,p2);this.m_normal.x*=-1,this.m_normal.y*=-1}},Y_.postDefs.push(function(){Y_.Dynamics.Contacts.b2PositionSolverManifold.circlePointA=new J2,Y_.Dynamics.Contacts.b2PositionSolverManifold.circlePointB=new J2})})();(function(){var V=Y_.Common.Math.b2Mat22,x=Y_.Common.Math.b2Math,o=Y_.Common.Math.b2Vec2,_o=Y_.Common.b2Color,_i=Y_.Dynamics.Controllers.b2BuoyancyController,l=Y_.Dynamics.Controllers.b2ConstantAccelController,t_=Y_.Dynamics.Controllers.b2ConstantForceController,o_=Y_.Dynamics.Controllers.b2Controller,i_=Y_.Dynamics.Controllers.b2ControllerEdge,_e=Y_.Dynamics.Controllers.b2GravityController,l_=Y_.Dynamics.Controllers.b2TensorDampingController;Y_.inherit(_i,Y_.Dynamics.Controllers.b2Controller),_i.prototype.__super=Y_.Dynamics.Controllers.b2Controller.prototype,_i.b2BuoyancyController=function(){Y_.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.normal=new o(0,-1),this.density=this.offset=0,this.velocity=new o(0,0),this.linearDrag=2,this.angularDrag=1,this.useDensity=!1,this.useWorldGravity=!0,this.gravity=null},_i.prototype.Step=function(){if(this.m_bodyList){this.useWorldGravity&&(this.gravity=this.GetWorld().GetGravity().Copy());for(var ws=this.m_bodyList;ws;ws=ws.nextBody){var h_=ws.body;if(h_.IsAwake()!=!1){for(var s_=new o,B_=new o,D_=0,y_=0,G_=h_.GetFixtureList();G_;G_=G_.GetNext()){var q_=new o,j_=G_.GetShape().ComputeSubmergedArea(this.normal,this.offset,h_.GetTransform(),q_);D_+=j_,s_.x+=j_*q_.x,s_.y+=j_*q_.y;var _2=0;_2=1,y_+=j_*_2,B_.x+=j_*q_.x*_2,B_.y+=j_*q_.y*_2}s_.x/=D_,s_.y/=D_,B_.x/=y_,B_.y/=y_,D_<Number.MIN_VALUE||(y_=this.gravity.GetNegative(),y_.Multiply(this.density*D_),h_.ApplyForce(y_,B_),B_=h_.GetLinearVelocityFromWorldPoint(s_),B_.Subtract(this.velocity),B_.Multiply(-this.linearDrag*D_),h_.ApplyForce(B_,s_),h_.ApplyTorque(-h_.GetInertia()/h_.GetMass()*D_*h_.GetAngularVelocity()*this.angularDrag))}}}},_i.prototype.Draw=function(ws){var h_=new o,s_=new o;h_.x=this.normal.x*this.offset+this.normal.y*1e3,h_.y=this.normal.y*this.offset-this.normal.x*1e3,s_.x=this.normal.x*this.offset-this.normal.y*1e3,s_.y=this.normal.y*this.offset+this.normal.x*1e3;var B_=new _o(0,0,1);ws.DrawSegment(h_,s_,B_)},Y_.inherit(l,Y_.Dynamics.Controllers.b2Controller),l.prototype.__super=Y_.Dynamics.Controllers.b2Controller.prototype,l.b2ConstantAccelController=function(){Y_.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.A=new o(0,0)},l.prototype.Step=function(ws){ws=new o(this.A.x*ws.dt,this.A.y*ws.dt);for(var h_=this.m_bodyList;h_;h_=h_.nextBody){var s_=h_.body;s_.IsAwake()&&s_.SetLinearVelocity(new o(s_.GetLinearVelocity().x+ws.x,s_.GetLinearVelocity().y+ws.y))}},Y_.inherit(t_,Y_.Dynamics.Controllers.b2Controller),t_.prototype.__super=Y_.Dynamics.Controllers.b2Controller.prototype,t_.b2ConstantForceController=function(){Y_.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.F=new o(0,0)},t_.prototype.Step=function(){for(var ws=this.m_bodyList;ws;ws=ws.nextBody){var h_=ws.body;h_.IsAwake()&&h_.ApplyForce(this.F,h_.GetWorldCenter())}},o_.b2Controller=function(){},o_.prototype.Step=function(){},o_.prototype.Draw=function(){},o_.prototype.AddBody=function(ws){var h_=new i_;h_.controller=this,h_.body=ws,h_.nextBody=this.m_bodyList,h_.prevBody=null,this.m_bodyList=h_,h_.nextBody&&(h_.nextBody.prevBody=h_),this.m_bodyCount++,h_.nextController=ws.m_controllerList,h_.prevController=null,ws.m_controllerList=h_,h_.nextController&&(h_.nextController.prevController=h_),ws.m_controllerCount++},o_.prototype.RemoveBody=function(ws){for(var h_=ws.m_controllerList;h_&&h_.controller!=this;)h_=h_.nextController;h_.prevBody&&(h_.prevBody.nextBody=h_.nextBody),h_.nextBody&&(h_.nextBody.prevBody=h_.prevBody),h_.nextController&&(h_.nextController.prevController=h_.prevController),h_.prevController&&(h_.prevController.nextController=h_.nextController),this.m_bodyList==h_&&(this.m_bodyList=h_.nextBody),ws.m_controllerList==h_&&(ws.m_controllerList=h_.nextController),ws.m_controllerCount--,this.m_bodyCount--},o_.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body)},o_.prototype.GetNext=function(){return this.m_next},o_.prototype.GetWorld=function(){return this.m_world},o_.prototype.GetBodyList=function(){return this.m_bodyList},i_.b2ControllerEdge=function(){},Y_.inherit(_e,Y_.Dynamics.Controllers.b2Controller),_e.prototype.__super=Y_.Dynamics.Controllers.b2Controller.prototype,_e.b2GravityController=function(){Y_.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.G=1,this.invSqr=!0},_e.prototype.Step=function(){var ws=null,h_=null,s_=null,B_=0,D_=null,y_=null,G_=null,q_=0,j_=0,_2=0;if(q_=null,this.invSqr)for(ws=this.m_bodyList;ws;ws=ws.nextBody)for(h_=ws.body,s_=h_.GetWorldCenter(),B_=h_.GetMass(),D_=this.m_bodyList;D_!=ws;D_=D_.nextBody)y_=D_.body,G_=y_.GetWorldCenter(),q_=G_.x-s_.x,j_=G_.y-s_.y,_2=q_*q_+j_*j_,_2<Number.MIN_VALUE||(q_=new o(q_,j_),q_.Multiply(this.G/_2/Math.sqrt(_2)*B_*y_.GetMass()),h_.IsAwake()&&h_.ApplyForce(q_,s_),q_.Multiply(-1),y_.IsAwake()&&y_.ApplyForce(q_,G_));else for(ws=this.m_bodyList;ws;ws=ws.nextBody)for(h_=ws.body,s_=h_.GetWorldCenter(),B_=h_.GetMass(),D_=this.m_bodyList;D_!=ws;D_=D_.nextBody)y_=D_.body,G_=y_.GetWorldCenter(),q_=G_.x-s_.x,j_=G_.y-s_.y,_2=q_*q_+j_*j_,_2<Number.MIN_VALUE||(q_=new o(q_,j_),q_.Multiply(this.G/_2*B_*y_.GetMass()),h_.IsAwake()&&h_.ApplyForce(q_,s_),q_.Multiply(-1),y_.IsAwake()&&y_.ApplyForce(q_,G_))},Y_.inherit(l_,Y_.Dynamics.Controllers.b2Controller),l_.prototype.__super=Y_.Dynamics.Controllers.b2Controller.prototype,l_.b2TensorDampingController=function(){Y_.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.T=new V,this.maxTimestep=0},l_.prototype.SetAxisAligned=function(ws,h_){ws===void 0&&(ws=0),h_===void 0&&(h_=0),this.T.col1.x=-ws,this.T.col1.y=0,this.T.col2.x=0,this.T.col2.y=-h_,this.maxTimestep=ws>0||h_>0?1/Math.max(ws,h_):0},l_.prototype.Step=function(ws){if(ws=ws.dt,!(ws<=Number.MIN_VALUE)){ws>this.maxTimestep&&this.maxTimestep>0&&(ws=this.maxTimestep);for(var h_=this.m_bodyList;h_;h_=h_.nextBody){var s_=h_.body;if(s_.IsAwake()){var B_=s_.GetWorldVector(x.MulMV(this.T,s_.GetLocalVector(s_.GetLinearVelocity())));s_.SetLinearVelocity(new o(s_.GetLinearVelocity().x+B_.x*ws,s_.GetLinearVelocity().y+B_.y*ws))}}}}})();(function(){var V=Y_.Common.b2Settings,x=Y_.Common.Math.b2Mat22,o=Y_.Common.Math.b2Mat33,_o=Y_.Common.Math.b2Math,_i=Y_.Common.Math.b2Vec2,l=Y_.Common.Math.b2Vec3,t_=Y_.Dynamics.Joints.b2DistanceJoint,o_=Y_.Dynamics.Joints.b2DistanceJointDef,i_=Y_.Dynamics.Joints.b2FrictionJoint,_e=Y_.Dynamics.Joints.b2FrictionJointDef,l_=Y_.Dynamics.Joints.b2GearJoint,ws=Y_.Dynamics.Joints.b2GearJointDef,h_=Y_.Dynamics.Joints.b2Jacobian,s_=Y_.Dynamics.Joints.b2Joint,B_=Y_.Dynamics.Joints.b2JointDef,D_=Y_.Dynamics.Joints.b2JointEdge,y_=Y_.Dynamics.Joints.b2LineJoint,G_=Y_.Dynamics.Joints.b2LineJointDef,q_=Y_.Dynamics.Joints.b2MouseJoint,j_=Y_.Dynamics.Joints.b2MouseJointDef,_2=Y_.Dynamics.Joints.b2PrismaticJoint,m2=Y_.Dynamics.Joints.b2PrismaticJointDef,y2=Y_.Dynamics.Joints.b2PulleyJoint,I2=Y_.Dynamics.Joints.b2PulleyJointDef,J2=Y_.Dynamics.Joints.b2RevoluteJoint,z2=Y_.Dynamics.Joints.b2RevoluteJointDef,K2=Y_.Dynamics.Joints.b2WeldJoint,$2=Y_.Dynamics.Joints.b2WeldJointDef;Y_.inherit(t_,Y_.Dynamics.Joints.b2Joint),t_.prototype.__super=Y_.Dynamics.Joints.b2Joint.prototype,t_.b2DistanceJoint=function(){Y_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new _i,this.m_localAnchor2=new _i,this.m_u=new _i},t_.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},t_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},t_.prototype.GetReactionForce=function(P_){return P_===void 0&&(P_=0),new _i(P_*this.m_impulse*this.m_u.x,P_*this.m_impulse*this.m_u.y)},t_.prototype.GetReactionTorque=function(){return 0},t_.prototype.GetLength=function(){return this.m_length},t_.prototype.SetLength=function(P_){P_===void 0&&(P_=0),this.m_length=P_},t_.prototype.GetFrequency=function(){return this.m_frequencyHz},t_.prototype.SetFrequency=function(P_){P_===void 0&&(P_=0),this.m_frequencyHz=P_},t_.prototype.GetDampingRatio=function(){return this.m_dampingRatio},t_.prototype.SetDampingRatio=function(P_){P_===void 0&&(P_=0),this.m_dampingRatio=P_},t_.prototype.b2DistanceJoint=function(P_){this.__super.b2Joint.call(this,P_),this.m_localAnchor1.SetV(P_.localAnchorA),this.m_localAnchor2.SetV(P_.localAnchorB),this.m_length=P_.length,this.m_frequencyHz=P_.frequencyHz,this.m_dampingRatio=P_.dampingRatio,this.m_bias=this.m_gamma=this.m_impulse=0},t_.prototype.InitVelocityConstraints=function(P_){var E_,Z_=0,N_=this.m_bodyA,s2=this.m_bodyB;E_=N_.m_xf.R;var u2=this.m_localAnchor1.x-N_.m_sweep.localCenter.x,p2=this.m_localAnchor1.y-N_.m_sweep.localCenter.y;Z_=E_.col1.x*u2+E_.col2.x*p2,p2=E_.col1.y*u2+E_.col2.y*p2,u2=Z_,E_=s2.m_xf.R;var v_=this.m_localAnchor2.x-s2.m_sweep.localCenter.x,F_=this.m_localAnchor2.y-s2.m_sweep.localCenter.y;Z_=E_.col1.x*v_+E_.col2.x*F_,F_=E_.col1.y*v_+E_.col2.y*F_,v_=Z_,this.m_u.x=s2.m_sweep.c.x+v_-N_.m_sweep.c.x-u2,this.m_u.y=s2.m_sweep.c.y+F_-N_.m_sweep.c.y-p2,Z_=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y),Z_>V.b2_linearSlop?this.m_u.Multiply(1/Z_):this.m_u.SetZero(),E_=u2*this.m_u.y-p2*this.m_u.x;var $_=v_*this.m_u.y-F_*this.m_u.x;if(E_=N_.m_invMass+N_.m_invI*E_*E_+s2.m_invMass+s2.m_invI*$_*$_,this.m_mass=E_!=0?1/E_:0,this.m_frequencyHz>0){Z_=Z_-this.m_length,$_=2*Math.PI*this.m_frequencyHz;var C_=this.m_mass*$_*$_;this.m_gamma=P_.dt*(2*this.m_mass*this.m_dampingRatio*$_+P_.dt*C_),this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0,this.m_bias=Z_*P_.dt*C_*this.m_gamma,this.m_mass=E_+this.m_gamma,this.m_mass=this.m_mass!=0?1/this.m_mass:0}P_.warmStarting?(this.m_impulse*=P_.dtRatio,P_=this.m_impulse*this.m_u.x,E_=this.m_impulse*this.m_u.y,N_.m_linearVelocity.x-=N_.m_invMass*P_,N_.m_linearVelocity.y-=N_.m_invMass*E_,N_.m_angularVelocity-=N_.m_invI*(u2*E_-p2*P_),s2.m_linearVelocity.x+=s2.m_invMass*P_,s2.m_linearVelocity.y+=s2.m_invMass*E_,s2.m_angularVelocity+=s2.m_invI*(v_*E_-F_*P_)):this.m_impulse=0},t_.prototype.SolveVelocityConstraints=function(){var P_,E_=this.m_bodyA,Z_=this.m_bodyB;P_=E_.m_xf.R;var N_=this.m_localAnchor1.x-E_.m_sweep.localCenter.x,s2=this.m_localAnchor1.y-E_.m_sweep.localCenter.y,u2=P_.col1.x*N_+P_.col2.x*s2;s2=P_.col1.y*N_+P_.col2.y*s2,N_=u2,P_=Z_.m_xf.R;var p2=this.m_localAnchor2.x-Z_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-Z_.m_sweep.localCenter.y;u2=P_.col1.x*p2+P_.col2.x*v_,v_=P_.col1.y*p2+P_.col2.y*v_,p2=u2,u2=-this.m_mass*(this.m_u.x*(Z_.m_linearVelocity.x+-Z_.m_angularVelocity*v_-(E_.m_linearVelocity.x+-E_.m_angularVelocity*s2))+this.m_u.y*(Z_.m_linearVelocity.y+Z_.m_angularVelocity*p2-(E_.m_linearVelocity.y+E_.m_angularVelocity*N_))+this.m_bias+this.m_gamma*this.m_impulse),this.m_impulse+=u2,P_=u2*this.m_u.x,u2=u2*this.m_u.y,E_.m_linearVelocity.x-=E_.m_invMass*P_,E_.m_linearVelocity.y-=E_.m_invMass*u2,E_.m_angularVelocity-=E_.m_invI*(N_*u2-s2*P_),Z_.m_linearVelocity.x+=Z_.m_invMass*P_,Z_.m_linearVelocity.y+=Z_.m_invMass*u2,Z_.m_angularVelocity+=Z_.m_invI*(p2*u2-v_*P_)},t_.prototype.SolvePositionConstraints=function(){var P_;if(this.m_frequencyHz>0)return!0;var E_=this.m_bodyA,Z_=this.m_bodyB;P_=E_.m_xf.R;var N_=this.m_localAnchor1.x-E_.m_sweep.localCenter.x,s2=this.m_localAnchor1.y-E_.m_sweep.localCenter.y,u2=P_.col1.x*N_+P_.col2.x*s2;s2=P_.col1.y*N_+P_.col2.y*s2,N_=u2,P_=Z_.m_xf.R;var p2=this.m_localAnchor2.x-Z_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-Z_.m_sweep.localCenter.y;u2=P_.col1.x*p2+P_.col2.x*v_,v_=P_.col1.y*p2+P_.col2.y*v_,p2=u2,u2=Z_.m_sweep.c.x+p2-E_.m_sweep.c.x-N_;var F_=Z_.m_sweep.c.y+v_-E_.m_sweep.c.y-s2;P_=Math.sqrt(u2*u2+F_*F_),u2/=P_,F_/=P_,P_=P_-this.m_length,P_=_o.Clamp(P_,-V.b2_maxLinearCorrection,V.b2_maxLinearCorrection);var $_=-this.m_mass*P_;return this.m_u.Set(u2,F_),u2=$_*this.m_u.x,F_=$_*this.m_u.y,E_.m_sweep.c.x-=E_.m_invMass*u2,E_.m_sweep.c.y-=E_.m_invMass*F_,E_.m_sweep.a-=E_.m_invI*(N_*F_-s2*u2),Z_.m_sweep.c.x+=Z_.m_invMass*u2,Z_.m_sweep.c.y+=Z_.m_invMass*F_,Z_.m_sweep.a+=Z_.m_invI*(p2*F_-v_*u2),E_.SynchronizeTransform(),Z_.SynchronizeTransform(),_o.Abs(P_)<V.b2_linearSlop},Y_.inherit(o_,Y_.Dynamics.Joints.b2JointDef),o_.prototype.__super=Y_.Dynamics.Joints.b2JointDef.prototype,o_.b2DistanceJointDef=function(){Y_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _i,this.localAnchorB=new _i},o_.prototype.b2DistanceJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_distanceJoint,this.length=1,this.dampingRatio=this.frequencyHz=0},o_.prototype.Initialize=function(P_,E_,Z_,N_){this.bodyA=P_,this.bodyB=E_,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(Z_)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(N_)),P_=N_.x-Z_.x,Z_=N_.y-Z_.y,this.length=Math.sqrt(P_*P_+Z_*Z_),this.dampingRatio=this.frequencyHz=0},Y_.inherit(i_,Y_.Dynamics.Joints.b2Joint),i_.prototype.__super=Y_.Dynamics.Joints.b2Joint.prototype,i_.b2FrictionJoint=function(){Y_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchorA=new _i,this.m_localAnchorB=new _i,this.m_linearMass=new x,this.m_linearImpulse=new _i},i_.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)},i_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)},i_.prototype.GetReactionForce=function(P_){return P_===void 0&&(P_=0),new _i(P_*this.m_linearImpulse.x,P_*this.m_linearImpulse.y)},i_.prototype.GetReactionTorque=function(P_){return P_===void 0&&(P_=0),P_*this.m_angularImpulse},i_.prototype.SetMaxForce=function(P_){P_===void 0&&(P_=0),this.m_maxForce=P_},i_.prototype.GetMaxForce=function(){return this.m_maxForce},i_.prototype.SetMaxTorque=function(P_){P_===void 0&&(P_=0),this.m_maxTorque=P_},i_.prototype.GetMaxTorque=function(){return this.m_maxTorque},i_.prototype.b2FrictionJoint=function(P_){this.__super.b2Joint.call(this,P_),this.m_localAnchorA.SetV(P_.localAnchorA),this.m_localAnchorB.SetV(P_.localAnchorB),this.m_linearMass.SetZero(),this.m_angularMass=0,this.m_linearImpulse.SetZero(),this.m_angularImpulse=0,this.m_maxForce=P_.maxForce,this.m_maxTorque=P_.maxTorque},i_.prototype.InitVelocityConstraints=function(P_){var E_,Z_=0,N_=this.m_bodyA,s2=this.m_bodyB;E_=N_.m_xf.R;var u2=this.m_localAnchorA.x-N_.m_sweep.localCenter.x,p2=this.m_localAnchorA.y-N_.m_sweep.localCenter.y;Z_=E_.col1.x*u2+E_.col2.x*p2,p2=E_.col1.y*u2+E_.col2.y*p2,u2=Z_,E_=s2.m_xf.R;var v_=this.m_localAnchorB.x-s2.m_sweep.localCenter.x,F_=this.m_localAnchorB.y-s2.m_sweep.localCenter.y;Z_=E_.col1.x*v_+E_.col2.x*F_,F_=E_.col1.y*v_+E_.col2.y*F_,v_=Z_,E_=N_.m_invMass,Z_=s2.m_invMass;var $_=N_.m_invI,C_=s2.m_invI,W_=new x;W_.col1.x=E_+Z_,W_.col2.x=0,W_.col1.y=0,W_.col2.y=E_+Z_,W_.col1.x+=$_*p2*p2,W_.col2.x+=-$_*u2*p2,W_.col1.y+=-$_*u2*p2,W_.col2.y+=$_*u2*u2,W_.col1.x+=C_*F_*F_,W_.col2.x+=-C_*v_*F_,W_.col1.y+=-C_*v_*F_,W_.col2.y+=C_*v_*v_,W_.GetInverse(this.m_linearMass),this.m_angularMass=$_+C_,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),P_.warmStarting?(this.m_linearImpulse.x*=P_.dtRatio,this.m_linearImpulse.y*=P_.dtRatio,this.m_angularImpulse*=P_.dtRatio,P_=this.m_linearImpulse,N_.m_linearVelocity.x-=E_*P_.x,N_.m_linearVelocity.y-=E_*P_.y,N_.m_angularVelocity-=$_*(u2*P_.y-p2*P_.x+this.m_angularImpulse),s2.m_linearVelocity.x+=Z_*P_.x,s2.m_linearVelocity.y+=Z_*P_.y,s2.m_angularVelocity+=C_*(v_*P_.y-F_*P_.x+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0)},i_.prototype.SolveVelocityConstraints=function(P_){var E_,Z_=0,N_=this.m_bodyA,s2=this.m_bodyB,u2=N_.m_linearVelocity,p2=N_.m_angularVelocity,v_=s2.m_linearVelocity,F_=s2.m_angularVelocity,$_=N_.m_invMass,C_=s2.m_invMass,W_=N_.m_invI,t2=s2.m_invI;E_=N_.m_xf.R;var l2=this.m_localAnchorA.x-N_.m_sweep.localCenter.x,D2=this.m_localAnchorA.y-N_.m_sweep.localCenter.y;Z_=E_.col1.x*l2+E_.col2.x*D2,D2=E_.col1.y*l2+E_.col2.y*D2,l2=Z_,E_=s2.m_xf.R;var G2=this.m_localAnchorB.x-s2.m_sweep.localCenter.x,E2=this.m_localAnchorB.y-s2.m_sweep.localCenter.y;Z_=E_.col1.x*G2+E_.col2.x*E2,E2=E_.col1.y*G2+E_.col2.y*E2,G2=Z_,E_=0,Z_=-this.m_angularMass*(F_-p2);var V2=this.m_angularImpulse;E_=P_.dt*this.m_maxTorque,this.m_angularImpulse=_o.Clamp(this.m_angularImpulse+Z_,-E_,E_),Z_=this.m_angularImpulse-V2,p2-=W_*Z_,F_+=t2*Z_,E_=_o.MulMV(this.m_linearMass,new _i(-(v_.x-F_*E2-u2.x+p2*D2),-(v_.y+F_*G2-u2.y-p2*l2))),Z_=this.m_linearImpulse.Copy(),this.m_linearImpulse.Add(E_),E_=P_.dt*this.m_maxForce,this.m_linearImpulse.LengthSquared()>E_*E_&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Multiply(E_)),E_=_o.SubtractVV(this.m_linearImpulse,Z_),u2.x-=$_*E_.x,u2.y-=$_*E_.y,p2-=W_*(l2*E_.y-D2*E_.x),v_.x+=C_*E_.x,v_.y+=C_*E_.y,F_+=t2*(G2*E_.y-E2*E_.x),N_.m_angularVelocity=p2,s2.m_angularVelocity=F_},i_.prototype.SolvePositionConstraints=function(){return!0},Y_.inherit(_e,Y_.Dynamics.Joints.b2JointDef),_e.prototype.__super=Y_.Dynamics.Joints.b2JointDef.prototype,_e.b2FrictionJointDef=function(){Y_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _i,this.localAnchorB=new _i},_e.prototype.b2FrictionJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_frictionJoint,this.maxTorque=this.maxForce=0},_e.prototype.Initialize=function(P_,E_,Z_){this.bodyA=P_,this.bodyB=E_,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(Z_)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(Z_))},Y_.inherit(l_,Y_.Dynamics.Joints.b2Joint),l_.prototype.__super=Y_.Dynamics.Joints.b2Joint.prototype,l_.b2GearJoint=function(){Y_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_groundAnchor1=new _i,this.m_groundAnchor2=new _i,this.m_localAnchor1=new _i,this.m_localAnchor2=new _i,this.m_J=new h_},l_.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},l_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},l_.prototype.GetReactionForce=function(P_){return P_===void 0&&(P_=0),new _i(P_*this.m_impulse*this.m_J.linearB.x,P_*this.m_impulse*this.m_J.linearB.y)},l_.prototype.GetReactionTorque=function(P_){P_===void 0&&(P_=0);var E_=this.m_bodyB.m_xf.R,Z_=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,N_=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,s2=E_.col1.x*Z_+E_.col2.x*N_;return N_=E_.col1.y*Z_+E_.col2.y*N_,Z_=s2,P_*(this.m_impulse*this.m_J.angularB-Z_*this.m_impulse*this.m_J.linearB.y+N_*this.m_impulse*this.m_J.linearB.x)},l_.prototype.GetRatio=function(){return this.m_ratio},l_.prototype.SetRatio=function(P_){P_===void 0&&(P_=0),this.m_ratio=P_},l_.prototype.b2GearJoint=function(P_){this.__super.b2Joint.call(this,P_);var E_=parseInt(P_.joint1.m_type),Z_=parseInt(P_.joint2.m_type);this.m_prismatic2=this.m_revolute2=this.m_prismatic1=this.m_revolute1=null;var N_=0,s2=0;this.m_ground1=P_.joint1.GetBodyA(),this.m_bodyA=P_.joint1.GetBodyB(),E_==s_.e_revoluteJoint?(this.m_revolute1=P_.joint1 instanceof J2?P_.joint1:null,this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2),N_=this.m_revolute1.GetJointAngle()):(this.m_prismatic1=P_.joint1 instanceof _2?P_.joint1:null,this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2),N_=this.m_prismatic1.GetJointTranslation()),this.m_ground2=P_.joint2.GetBodyA(),this.m_bodyB=P_.joint2.GetBodyB(),Z_==s_.e_revoluteJoint?(this.m_revolute2=P_.joint2 instanceof J2?P_.joint2:null,this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2),s2=this.m_revolute2.GetJointAngle()):(this.m_prismatic2=P_.joint2 instanceof _2?P_.joint2:null,this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2),s2=this.m_prismatic2.GetJointTranslation()),this.m_ratio=P_.ratio,this.m_constant=N_+this.m_ratio*s2,this.m_impulse=0},l_.prototype.InitVelocityConstraints=function(P_){var E_=this.m_ground1,Z_=this.m_ground2,N_=this.m_bodyA,s2=this.m_bodyB,u2=0,p2=0,v_=0,F_=0,$_=v_=0,C_=0;this.m_J.SetZero(),this.m_revolute1?(this.m_J.angularA=-1,C_+=N_.m_invI):(E_=E_.m_xf.R,p2=this.m_prismatic1.m_localXAxis1,u2=E_.col1.x*p2.x+E_.col2.x*p2.y,p2=E_.col1.y*p2.x+E_.col2.y*p2.y,E_=N_.m_xf.R,v_=this.m_localAnchor1.x-N_.m_sweep.localCenter.x,F_=this.m_localAnchor1.y-N_.m_sweep.localCenter.y,$_=E_.col1.x*v_+E_.col2.x*F_,F_=E_.col1.y*v_+E_.col2.y*F_,v_=$_,v_=v_*p2-F_*u2,this.m_J.linearA.Set(-u2,-p2),this.m_J.angularA=-v_,C_+=N_.m_invMass+N_.m_invI*v_*v_),this.m_revolute2?(this.m_J.angularB=-this.m_ratio,C_+=this.m_ratio*this.m_ratio*s2.m_invI):(E_=Z_.m_xf.R,p2=this.m_prismatic2.m_localXAxis1,u2=E_.col1.x*p2.x+E_.col2.x*p2.y,p2=E_.col1.y*p2.x+E_.col2.y*p2.y,E_=s2.m_xf.R,v_=this.m_localAnchor2.x-s2.m_sweep.localCenter.x,F_=this.m_localAnchor2.y-s2.m_sweep.localCenter.y,$_=E_.col1.x*v_+E_.col2.x*F_,F_=E_.col1.y*v_+E_.col2.y*F_,v_=$_,v_=v_*p2-F_*u2,this.m_J.linearB.Set(-this.m_ratio*u2,-this.m_ratio*p2),this.m_J.angularB=-this.m_ratio*v_,C_+=this.m_ratio*this.m_ratio*(s2.m_invMass+s2.m_invI*v_*v_)),this.m_mass=C_>0?1/C_:0,P_.warmStarting?(N_.m_linearVelocity.x+=N_.m_invMass*this.m_impulse*this.m_J.linearA.x,N_.m_linearVelocity.y+=N_.m_invMass*this.m_impulse*this.m_J.linearA.y,N_.m_angularVelocity+=N_.m_invI*this.m_impulse*this.m_J.angularA,s2.m_linearVelocity.x+=s2.m_invMass*this.m_impulse*this.m_J.linearB.x,s2.m_linearVelocity.y+=s2.m_invMass*this.m_impulse*this.m_J.linearB.y,s2.m_angularVelocity+=s2.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0},l_.prototype.SolveVelocityConstraints=function(){var P_=this.m_bodyA,E_=this.m_bodyB,Z_=-this.m_mass*this.m_J.Compute(P_.m_linearVelocity,P_.m_angularVelocity,E_.m_linearVelocity,E_.m_angularVelocity);this.m_impulse+=Z_,P_.m_linearVelocity.x+=P_.m_invMass*Z_*this.m_J.linearA.x,P_.m_linearVelocity.y+=P_.m_invMass*Z_*this.m_J.linearA.y,P_.m_angularVelocity+=P_.m_invI*Z_*this.m_J.angularA,E_.m_linearVelocity.x+=E_.m_invMass*Z_*this.m_J.linearB.x,E_.m_linearVelocity.y+=E_.m_invMass*Z_*this.m_J.linearB.y,E_.m_angularVelocity+=E_.m_invI*Z_*this.m_J.angularB},l_.prototype.SolvePositionConstraints=function(){var P_=this.m_bodyA,E_=this.m_bodyB,Z_=0,N_=0;return Z_=this.m_revolute1?this.m_revolute1.GetJointAngle():this.m_prismatic1.GetJointTranslation(),N_=this.m_revolute2?this.m_revolute2.GetJointAngle():this.m_prismatic2.GetJointTranslation(),Z_=-this.m_mass*(this.m_constant-(Z_+this.m_ratio*N_)),P_.m_sweep.c.x+=P_.m_invMass*Z_*this.m_J.linearA.x,P_.m_sweep.c.y+=P_.m_invMass*Z_*this.m_J.linearA.y,P_.m_sweep.a+=P_.m_invI*Z_*this.m_J.angularA,E_.m_sweep.c.x+=E_.m_invMass*Z_*this.m_J.linearB.x,E_.m_sweep.c.y+=E_.m_invMass*Z_*this.m_J.linearB.y,E_.m_sweep.a+=E_.m_invI*Z_*this.m_J.angularB,P_.SynchronizeTransform(),E_.SynchronizeTransform(),0<V.b2_linearSlop},Y_.inherit(ws,Y_.Dynamics.Joints.b2JointDef),ws.prototype.__super=Y_.Dynamics.Joints.b2JointDef.prototype,ws.b2GearJointDef=function(){Y_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments)},ws.prototype.b2GearJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_gearJoint,this.joint2=this.joint1=null,this.ratio=1},h_.b2Jacobian=function(){this.linearA=new _i,this.linearB=new _i},h_.prototype.SetZero=function(){this.linearA.SetZero(),this.angularA=0,this.linearB.SetZero(),this.angularB=0},h_.prototype.Set=function(P_,E_,Z_,N_){E_===void 0&&(E_=0),N_===void 0&&(N_=0),this.linearA.SetV(P_),this.angularA=E_,this.linearB.SetV(Z_),this.angularB=N_},h_.prototype.Compute=function(P_,E_,Z_,N_){return E_===void 0&&(E_=0),N_===void 0&&(N_=0),this.linearA.x*P_.x+this.linearA.y*P_.y+this.angularA*E_+(this.linearB.x*Z_.x+this.linearB.y*Z_.y)+this.angularB*N_},s_.b2Joint=function(){this.m_edgeA=new D_,this.m_edgeB=new D_,this.m_localCenterA=new _i,this.m_localCenterB=new _i},s_.prototype.GetType=function(){return this.m_type},s_.prototype.GetAnchorA=function(){return null},s_.prototype.GetAnchorB=function(){return null},s_.prototype.GetReactionForce=function(){return null},s_.prototype.GetReactionTorque=function(){return 0},s_.prototype.GetBodyA=function(){return this.m_bodyA},s_.prototype.GetBodyB=function(){return this.m_bodyB},s_.prototype.GetNext=function(){return this.m_next},s_.prototype.GetUserData=function(){return this.m_userData},s_.prototype.SetUserData=function(P_){this.m_userData=P_},s_.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()},s_.Create=function(P_){var E_=null;switch(P_.type){case s_.e_distanceJoint:E_=new t_(P_ instanceof o_?P_:null);break;case s_.e_mouseJoint:E_=new q_(P_ instanceof j_?P_:null);break;case s_.e_prismaticJoint:E_=new _2(P_ instanceof m2?P_:null);break;case s_.e_revoluteJoint:E_=new J2(P_ instanceof z2?P_:null);break;case s_.e_pulleyJoint:E_=new y2(P_ instanceof I2?P_:null);break;case s_.e_gearJoint:E_=new l_(P_ instanceof ws?P_:null);break;case s_.e_lineJoint:E_=new y_(P_ instanceof G_?P_:null);break;case s_.e_weldJoint:E_=new K2(P_ instanceof $2?P_:null);break;case s_.e_frictionJoint:E_=new i_(P_ instanceof _e?P_:null)}return E_},s_.Destroy=function(){},s_.prototype.b2Joint=function(P_){V.b2Assert(P_.bodyA!=P_.bodyB),this.m_type=P_.type,this.m_next=this.m_prev=null,this.m_bodyA=P_.bodyA,this.m_bodyB=P_.bodyB,this.m_collideConnected=P_.collideConnected,this.m_islandFlag=!1,this.m_userData=P_.userData},s_.prototype.InitVelocityConstraints=function(){},s_.prototype.SolveVelocityConstraints=function(){},s_.prototype.FinalizeVelocityConstraints=function(){},s_.prototype.SolvePositionConstraints=function(){return!1},Y_.postDefs.push(function(){Y_.Dynamics.Joints.b2Joint.e_unknownJoint=0,Y_.Dynamics.Joints.b2Joint.e_revoluteJoint=1,Y_.Dynamics.Joints.b2Joint.e_prismaticJoint=2,Y_.Dynamics.Joints.b2Joint.e_distanceJoint=3,Y_.Dynamics.Joints.b2Joint.e_pulleyJoint=4,Y_.Dynamics.Joints.b2Joint.e_mouseJoint=5,Y_.Dynamics.Joints.b2Joint.e_gearJoint=6,Y_.Dynamics.Joints.b2Joint.e_lineJoint=7,Y_.Dynamics.Joints.b2Joint.e_weldJoint=8,Y_.Dynamics.Joints.b2Joint.e_frictionJoint=9,Y_.Dynamics.Joints.b2Joint.e_inactiveLimit=0,Y_.Dynamics.Joints.b2Joint.e_atLowerLimit=1,Y_.Dynamics.Joints.b2Joint.e_atUpperLimit=2,Y_.Dynamics.Joints.b2Joint.e_equalLimits=3}),B_.b2JointDef=function(){},B_.prototype.b2JointDef=function(){this.type=s_.e_unknownJoint,this.bodyB=this.bodyA=this.userData=null,this.collideConnected=!1},D_.b2JointEdge=function(){},Y_.inherit(y_,Y_.Dynamics.Joints.b2Joint),y_.prototype.__super=Y_.Dynamics.Joints.b2Joint.prototype,y_.b2LineJoint=function(){Y_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new _i,this.m_localAnchor2=new _i,this.m_localXAxis1=new _i,this.m_localYAxis1=new _i,this.m_axis=new _i,this.m_perp=new _i,this.m_K=new x,this.m_impulse=new _i},y_.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},y_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},y_.prototype.GetReactionForce=function(P_){return P_===void 0&&(P_=0),new _i(P_*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),P_*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))},y_.prototype.GetReactionTorque=function(P_){return P_===void 0&&(P_=0),P_*this.m_impulse.y},y_.prototype.GetJointTranslation=function(){var P_=this.m_bodyA,E_=this.m_bodyB,Z_=P_.GetWorldPoint(this.m_localAnchor1),N_=E_.GetWorldPoint(this.m_localAnchor2);return E_=N_.x-Z_.x,Z_=N_.y-Z_.y,P_=P_.GetWorldVector(this.m_localXAxis1),P_.x*E_+P_.y*Z_},y_.prototype.GetJointSpeed=function(){var P_=this.m_bodyA,E_=this.m_bodyB,Z_;Z_=P_.m_xf.R;var N_=this.m_localAnchor1.x-P_.m_sweep.localCenter.x,s2=this.m_localAnchor1.y-P_.m_sweep.localCenter.y,u2=Z_.col1.x*N_+Z_.col2.x*s2;s2=Z_.col1.y*N_+Z_.col2.y*s2,N_=u2,Z_=E_.m_xf.R;var p2=this.m_localAnchor2.x-E_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-E_.m_sweep.localCenter.y;u2=Z_.col1.x*p2+Z_.col2.x*v_,v_=Z_.col1.y*p2+Z_.col2.y*v_,p2=u2,Z_=E_.m_sweep.c.x+p2-(P_.m_sweep.c.x+N_),u2=E_.m_sweep.c.y+v_-(P_.m_sweep.c.y+s2);var F_=P_.GetWorldVector(this.m_localXAxis1),$_=P_.m_linearVelocity,C_=E_.m_linearVelocity;return P_=P_.m_angularVelocity,E_=E_.m_angularVelocity,Z_*-P_*F_.y+u2*P_*F_.x+(F_.x*(C_.x+-E_*v_-$_.x- -P_*s2)+F_.y*(C_.y+E_*p2-$_.y-P_*N_))},y_.prototype.IsLimitEnabled=function(){return this.m_enableLimit},y_.prototype.EnableLimit=function(P_){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=P_},y_.prototype.GetLowerLimit=function(){return this.m_lowerTranslation},y_.prototype.GetUpperLimit=function(){return this.m_upperTranslation},y_.prototype.SetLimits=function(P_,E_){P_===void 0&&(P_=0),E_===void 0&&(E_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=P_,this.m_upperTranslation=E_},y_.prototype.IsMotorEnabled=function(){return this.m_enableMotor},y_.prototype.EnableMotor=function(P_){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=P_},y_.prototype.SetMotorSpeed=function(P_){P_===void 0&&(P_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=P_},y_.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},y_.prototype.SetMaxMotorForce=function(P_){P_===void 0&&(P_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=P_},y_.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce},y_.prototype.GetMotorForce=function(){return this.m_motorImpulse},y_.prototype.b2LineJoint=function(P_){this.__super.b2Joint.call(this,P_),this.m_localAnchor1.SetV(P_.localAnchorA),this.m_localAnchor2.SetV(P_.localAnchorB),this.m_localXAxis1.SetV(P_.localAxisA),this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_impulse.SetZero(),this.m_motorImpulse=this.m_motorMass=0,this.m_lowerTranslation=P_.lowerTranslation,this.m_upperTranslation=P_.upperTranslation,this.m_maxMotorForce=P_.maxMotorForce,this.m_motorSpeed=P_.motorSpeed,this.m_enableLimit=P_.enableLimit,this.m_enableMotor=P_.enableMotor,this.m_limitState=s_.e_inactiveLimit,this.m_axis.SetZero(),this.m_perp.SetZero()},y_.prototype.InitVelocityConstraints=function(P_){var E_=this.m_bodyA,Z_=this.m_bodyB,N_,s2=0;this.m_localCenterA.SetV(E_.GetLocalCenter()),this.m_localCenterB.SetV(Z_.GetLocalCenter());var u2=E_.GetTransform();Z_.GetTransform(),N_=E_.m_xf.R;var p2=this.m_localAnchor1.x-this.m_localCenterA.x,v_=this.m_localAnchor1.y-this.m_localCenterA.y;s2=N_.col1.x*p2+N_.col2.x*v_,v_=N_.col1.y*p2+N_.col2.y*v_,p2=s2,N_=Z_.m_xf.R;var F_=this.m_localAnchor2.x-this.m_localCenterB.x,$_=this.m_localAnchor2.y-this.m_localCenterB.y;s2=N_.col1.x*F_+N_.col2.x*$_,$_=N_.col1.y*F_+N_.col2.y*$_,F_=s2,N_=Z_.m_sweep.c.x+F_-E_.m_sweep.c.x-p2,s2=Z_.m_sweep.c.y+$_-E_.m_sweep.c.y-v_,this.m_invMassA=E_.m_invMass,this.m_invMassB=Z_.m_invMass,this.m_invIA=E_.m_invI,this.m_invIB=Z_.m_invI,this.m_axis.SetV(_o.MulMV(u2.R,this.m_localXAxis1)),this.m_a1=(N_+p2)*this.m_axis.y-(s2+v_)*this.m_axis.x,this.m_a2=F_*this.m_axis.y-$_*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:0,this.m_perp.SetV(_o.MulMV(u2.R,this.m_localYAxis1)),this.m_s1=(N_+p2)*this.m_perp.y-(s2+v_)*this.m_perp.x,this.m_s2=F_*this.m_perp.y-$_*this.m_perp.x,u2=this.m_invMassA,p2=this.m_invMassB,v_=this.m_invIA,F_=this.m_invIB,this.m_K.col1.x=u2+p2+v_*this.m_s1*this.m_s1+F_*this.m_s2*this.m_s2,this.m_K.col1.y=v_*this.m_s1*this.m_a1+F_*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=u2+p2+v_*this.m_a1*this.m_a1+F_*this.m_a2*this.m_a2,this.m_enableLimit?(N_=this.m_axis.x*N_+this.m_axis.y*s2,_o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*V.b2_linearSlop?this.m_limitState=s_.e_equalLimits:N_<=this.m_lowerTranslation?this.m_limitState!=s_.e_atLowerLimit&&(this.m_limitState=s_.e_atLowerLimit,this.m_impulse.y=0):N_>=this.m_upperTranslation?this.m_limitState!=s_.e_atUpperLimit&&(this.m_limitState=s_.e_atUpperLimit,this.m_impulse.y=0):(this.m_limitState=s_.e_inactiveLimit,this.m_impulse.y=0)):this.m_limitState=s_.e_inactiveLimit,this.m_enableMotor==!1&&(this.m_motorImpulse=0),P_.warmStarting?(this.m_impulse.x*=P_.dtRatio,this.m_impulse.y*=P_.dtRatio,this.m_motorImpulse*=P_.dtRatio,P_=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,N_=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,s2=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,u2=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2,E_.m_linearVelocity.x-=this.m_invMassA*P_,E_.m_linearVelocity.y-=this.m_invMassA*N_,E_.m_angularVelocity-=this.m_invIA*s2,Z_.m_linearVelocity.x+=this.m_invMassB*P_,Z_.m_linearVelocity.y+=this.m_invMassB*N_,Z_.m_angularVelocity+=this.m_invIB*u2):(this.m_impulse.SetZero(),this.m_motorImpulse=0)},y_.prototype.SolveVelocityConstraints=function(P_){var E_=this.m_bodyA,Z_=this.m_bodyB,N_=E_.m_linearVelocity,s2=E_.m_angularVelocity,u2=Z_.m_linearVelocity,p2=Z_.m_angularVelocity,v_=0,F_=0,$_=0,C_=0;this.m_enableMotor&&this.m_limitState!=s_.e_equalLimits&&(C_=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(u2.x-N_.x)+this.m_axis.y*(u2.y-N_.y)+this.m_a2*p2-this.m_a1*s2)),v_=this.m_motorImpulse,F_=P_.dt*this.m_maxMotorForce,this.m_motorImpulse=_o.Clamp(this.m_motorImpulse+C_,-F_,F_),C_=this.m_motorImpulse-v_,v_=C_*this.m_axis.x,F_=C_*this.m_axis.y,$_=C_*this.m_a1,C_=C_*this.m_a2,N_.x-=this.m_invMassA*v_,N_.y-=this.m_invMassA*F_,s2-=this.m_invIA*$_,u2.x+=this.m_invMassB*v_,u2.y+=this.m_invMassB*F_,p2+=this.m_invIB*C_),F_=this.m_perp.x*(u2.x-N_.x)+this.m_perp.y*(u2.y-N_.y)+this.m_s2*p2-this.m_s1*s2,this.m_enableLimit&&this.m_limitState!=s_.e_inactiveLimit?($_=this.m_axis.x*(u2.x-N_.x)+this.m_axis.y*(u2.y-N_.y)+this.m_a2*p2-this.m_a1*s2,v_=this.m_impulse.Copy(),P_=this.m_K.Solve(new _i,-F_,-$_),this.m_impulse.Add(P_),this.m_limitState==s_.e_atLowerLimit?this.m_impulse.y=_o.Max(this.m_impulse.y,0):this.m_limitState==s_.e_atUpperLimit&&(this.m_impulse.y=_o.Min(this.m_impulse.y,0)),F_=-F_-(this.m_impulse.y-v_.y)*this.m_K.col2.x,$_=0,$_=this.m_K.col1.x!=0?F_/this.m_K.col1.x+v_.x:v_.x,this.m_impulse.x=$_,P_.x=this.m_impulse.x-v_.x,P_.y=this.m_impulse.y-v_.y,v_=P_.x*this.m_perp.x+P_.y*this.m_axis.x,F_=P_.x*this.m_perp.y+P_.y*this.m_axis.y,$_=P_.x*this.m_s1+P_.y*this.m_a1,C_=P_.x*this.m_s2+P_.y*this.m_a2):(P_=0,P_=this.m_K.col1.x!=0?-F_/this.m_K.col1.x:0,this.m_impulse.x+=P_,v_=P_*this.m_perp.x,F_=P_*this.m_perp.y,$_=P_*this.m_s1,C_=P_*this.m_s2),N_.x-=this.m_invMassA*v_,N_.y-=this.m_invMassA*F_,s2-=this.m_invIA*$_,u2.x+=this.m_invMassB*v_,u2.y+=this.m_invMassB*F_,p2+=this.m_invIB*C_,E_.m_linearVelocity.SetV(N_),E_.m_angularVelocity=s2,Z_.m_linearVelocity.SetV(u2),Z_.m_angularVelocity=p2},y_.prototype.SolvePositionConstraints=function(){var P_=this.m_bodyA,E_=this.m_bodyB,Z_=P_.m_sweep.c,N_=P_.m_sweep.a,s2=E_.m_sweep.c,u2=E_.m_sweep.a,p2,v_=0,F_=0,$_=0,C_=0,W_=p2=0,t2=0;F_=!1;var l2=0,D2=x.FromAngle(N_);$_=x.FromAngle(u2),p2=D2,t2=this.m_localAnchor1.x-this.m_localCenterA.x;var G2=this.m_localAnchor1.y-this.m_localCenterA.y;if(v_=p2.col1.x*t2+p2.col2.x*G2,G2=p2.col1.y*t2+p2.col2.y*G2,t2=v_,p2=$_,$_=this.m_localAnchor2.x-this.m_localCenterB.x,C_=this.m_localAnchor2.y-this.m_localCenterB.y,v_=p2.col1.x*$_+p2.col2.x*C_,C_=p2.col1.y*$_+p2.col2.y*C_,$_=v_,p2=s2.x+$_-Z_.x-t2,v_=s2.y+C_-Z_.y-G2,this.m_enableLimit){this.m_axis=_o.MulMV(D2,this.m_localXAxis1),this.m_a1=(p2+t2)*this.m_axis.y-(v_+G2)*this.m_axis.x,this.m_a2=$_*this.m_axis.y-C_*this.m_axis.x;var E2=this.m_axis.x*p2+this.m_axis.y*v_;_o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*V.b2_linearSlop?(l2=_o.Clamp(E2,-V.b2_maxLinearCorrection,V.b2_maxLinearCorrection),W_=_o.Abs(E2),F_=!0):E2<=this.m_lowerTranslation?(l2=_o.Clamp(E2-this.m_lowerTranslation+V.b2_linearSlop,-V.b2_maxLinearCorrection,0),W_=this.m_lowerTranslation-E2,F_=!0):E2>=this.m_upperTranslation&&(l2=_o.Clamp(E2-this.m_upperTranslation+V.b2_linearSlop,0,V.b2_maxLinearCorrection),W_=E2-this.m_upperTranslation,F_=!0)}return this.m_perp=_o.MulMV(D2,this.m_localYAxis1),this.m_s1=(p2+t2)*this.m_perp.y-(v_+G2)*this.m_perp.x,this.m_s2=$_*this.m_perp.y-C_*this.m_perp.x,D2=new _i,G2=this.m_perp.x*p2+this.m_perp.y*v_,W_=_o.Max(W_,_o.Abs(G2)),t2=0,F_?(F_=this.m_invMassA,$_=this.m_invMassB,C_=this.m_invIA,p2=this.m_invIB,this.m_K.col1.x=F_+$_+C_*this.m_s1*this.m_s1+p2*this.m_s2*this.m_s2,this.m_K.col1.y=C_*this.m_s1*this.m_a1+p2*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=F_+$_+C_*this.m_a1*this.m_a1+p2*this.m_a2*this.m_a2,this.m_K.Solve(D2,-G2,-l2)):(F_=this.m_invMassA,$_=this.m_invMassB,C_=this.m_invIA,p2=this.m_invIB,l2=F_+$_+C_*this.m_s1*this.m_s1+p2*this.m_s2*this.m_s2,F_=0,F_=l2!=0?-G2/l2:0,D2.x=F_,D2.y=0),l2=D2.x*this.m_perp.x+D2.y*this.m_axis.x,F_=D2.x*this.m_perp.y+D2.y*this.m_axis.y,G2=D2.x*this.m_s1+D2.y*this.m_a1,D2=D2.x*this.m_s2+D2.y*this.m_a2,Z_.x-=this.m_invMassA*l2,Z_.y-=this.m_invMassA*F_,N_-=this.m_invIA*G2,s2.x+=this.m_invMassB*l2,s2.y+=this.m_invMassB*F_,u2+=this.m_invIB*D2,P_.m_sweep.a=N_,E_.m_sweep.a=u2,P_.SynchronizeTransform(),E_.SynchronizeTransform(),W_<=V.b2_linearSlop&&t2<=V.b2_angularSlop},Y_.inherit(G_,Y_.Dynamics.Joints.b2JointDef),G_.prototype.__super=Y_.Dynamics.Joints.b2JointDef.prototype,G_.b2LineJointDef=function(){Y_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _i,this.localAnchorB=new _i,this.localAxisA=new _i},G_.prototype.b2LineJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_lineJoint,this.localAxisA.Set(1,0),this.enableLimit=!1,this.upperTranslation=this.lowerTranslation=0,this.enableMotor=!1,this.motorSpeed=this.maxMotorForce=0},G_.prototype.Initialize=function(P_,E_,Z_,N_){this.bodyA=P_,this.bodyB=E_,this.localAnchorA=this.bodyA.GetLocalPoint(Z_),this.localAnchorB=this.bodyB.GetLocalPoint(Z_),this.localAxisA=this.bodyA.GetLocalVector(N_)},Y_.inherit(q_,Y_.Dynamics.Joints.b2Joint),q_.prototype.__super=Y_.Dynamics.Joints.b2Joint.prototype,q_.b2MouseJoint=function(){Y_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.K=new x,this.K1=new x,this.K2=new x,this.m_localAnchor=new _i,this.m_target=new _i,this.m_impulse=new _i,this.m_mass=new x,this.m_C=new _i},q_.prototype.GetAnchorA=function(){return this.m_target},q_.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor)},q_.prototype.GetReactionForce=function(P_){return P_===void 0&&(P_=0),new _i(P_*this.m_impulse.x,P_*this.m_impulse.y)},q_.prototype.GetReactionTorque=function(){return 0},q_.prototype.GetTarget=function(){return this.m_target},q_.prototype.SetTarget=function(P_){this.m_bodyB.IsAwake()==!1&&this.m_bodyB.SetAwake(!0),this.m_target=P_},q_.prototype.GetMaxForce=function(){return this.m_maxForce},q_.prototype.SetMaxForce=function(P_){P_===void 0&&(P_=0),this.m_maxForce=P_},q_.prototype.GetFrequency=function(){return this.m_frequencyHz},q_.prototype.SetFrequency=function(P_){P_===void 0&&(P_=0),this.m_frequencyHz=P_},q_.prototype.GetDampingRatio=function(){return this.m_dampingRatio},q_.prototype.SetDampingRatio=function(P_){P_===void 0&&(P_=0),this.m_dampingRatio=P_},q_.prototype.b2MouseJoint=function(P_){this.__super.b2Joint.call(this,P_),this.m_target.SetV(P_.target);var E_=this.m_target.x-this.m_bodyB.m_xf.position.x,Z_=this.m_target.y-this.m_bodyB.m_xf.position.y,N_=this.m_bodyB.m_xf.R;this.m_localAnchor.x=E_*N_.col1.x+Z_*N_.col1.y,this.m_localAnchor.y=E_*N_.col2.x+Z_*N_.col2.y,this.m_maxForce=P_.maxForce,this.m_impulse.SetZero(),this.m_frequencyHz=P_.frequencyHz,this.m_dampingRatio=P_.dampingRatio,this.m_gamma=this.m_beta=0},q_.prototype.InitVelocityConstraints=function(P_){var E_=this.m_bodyB,Z_=E_.GetMass(),N_=2*Math.PI*this.m_frequencyHz,s2=Z_*N_*N_;this.m_gamma=P_.dt*(2*Z_*this.m_dampingRatio*N_+P_.dt*s2),this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0,this.m_beta=P_.dt*s2*this.m_gamma,s2=E_.m_xf.R,Z_=this.m_localAnchor.x-E_.m_sweep.localCenter.x,N_=this.m_localAnchor.y-E_.m_sweep.localCenter.y;var u2=s2.col1.x*Z_+s2.col2.x*N_;N_=s2.col1.y*Z_+s2.col2.y*N_,Z_=u2,s2=E_.m_invMass,u2=E_.m_invI,this.K1.col1.x=s2,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=s2,this.K2.col1.x=u2*N_*N_,this.K2.col2.x=-u2*Z_*N_,this.K2.col1.y=-u2*Z_*N_,this.K2.col2.y=u2*Z_*Z_,this.K.SetM(this.K1),this.K.AddM(this.K2),this.K.col1.x+=this.m_gamma,this.K.col2.y+=this.m_gamma,this.K.GetInverse(this.m_mass),this.m_C.x=E_.m_sweep.c.x+Z_-this.m_target.x,this.m_C.y=E_.m_sweep.c.y+N_-this.m_target.y,E_.m_angularVelocity*=.98,this.m_impulse.x*=P_.dtRatio,this.m_impulse.y*=P_.dtRatio,E_.m_linearVelocity.x+=s2*this.m_impulse.x,E_.m_linearVelocity.y+=s2*this.m_impulse.y,E_.m_angularVelocity+=u2*(Z_*this.m_impulse.y-N_*this.m_impulse.x)},q_.prototype.SolveVelocityConstraints=function(P_){var E_=this.m_bodyB,Z_,N_=0,s2=0;Z_=E_.m_xf.R;var u2=this.m_localAnchor.x-E_.m_sweep.localCenter.x,p2=this.m_localAnchor.y-E_.m_sweep.localCenter.y;N_=Z_.col1.x*u2+Z_.col2.x*p2,p2=Z_.col1.y*u2+Z_.col2.y*p2,u2=N_,N_=E_.m_linearVelocity.x+-E_.m_angularVelocity*p2;var v_=E_.m_linearVelocity.y+E_.m_angularVelocity*u2;Z_=this.m_mass,N_=N_+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x,s2=v_+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y,v_=-(Z_.col1.x*N_+Z_.col2.x*s2),s2=-(Z_.col1.y*N_+Z_.col2.y*s2),Z_=this.m_impulse.x,N_=this.m_impulse.y,this.m_impulse.x+=v_,this.m_impulse.y+=s2,P_=P_.dt*this.m_maxForce,this.m_impulse.LengthSquared()>P_*P_&&this.m_impulse.Multiply(P_/this.m_impulse.Length()),v_=this.m_impulse.x-Z_,s2=this.m_impulse.y-N_,E_.m_linearVelocity.x+=E_.m_invMass*v_,E_.m_linearVelocity.y+=E_.m_invMass*s2,E_.m_angularVelocity+=E_.m_invI*(u2*s2-p2*v_)},q_.prototype.SolvePositionConstraints=function(){return!0},Y_.inherit(j_,Y_.Dynamics.Joints.b2JointDef),j_.prototype.__super=Y_.Dynamics.Joints.b2JointDef.prototype,j_.b2MouseJointDef=function(){Y_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.target=new _i},j_.prototype.b2MouseJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_mouseJoint,this.maxForce=0,this.frequencyHz=5,this.dampingRatio=.7},Y_.inherit(_2,Y_.Dynamics.Joints.b2Joint),_2.prototype.__super=Y_.Dynamics.Joints.b2Joint.prototype,_2.b2PrismaticJoint=function(){Y_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new _i,this.m_localAnchor2=new _i,this.m_localXAxis1=new _i,this.m_localYAxis1=new _i,this.m_axis=new _i,this.m_perp=new _i,this.m_K=new o,this.m_impulse=new l},_2.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},_2.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},_2.prototype.GetReactionForce=function(P_){return P_===void 0&&(P_=0),new _i(P_*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),P_*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))},_2.prototype.GetReactionTorque=function(P_){return P_===void 0&&(P_=0),P_*this.m_impulse.y},_2.prototype.GetJointTranslation=function(){var P_=this.m_bodyA,E_=this.m_bodyB,Z_=P_.GetWorldPoint(this.m_localAnchor1),N_=E_.GetWorldPoint(this.m_localAnchor2);return E_=N_.x-Z_.x,Z_=N_.y-Z_.y,P_=P_.GetWorldVector(this.m_localXAxis1),P_.x*E_+P_.y*Z_},_2.prototype.GetJointSpeed=function(){var P_=this.m_bodyA,E_=this.m_bodyB,Z_;Z_=P_.m_xf.R;var N_=this.m_localAnchor1.x-P_.m_sweep.localCenter.x,s2=this.m_localAnchor1.y-P_.m_sweep.localCenter.y,u2=Z_.col1.x*N_+Z_.col2.x*s2;s2=Z_.col1.y*N_+Z_.col2.y*s2,N_=u2,Z_=E_.m_xf.R;var p2=this.m_localAnchor2.x-E_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-E_.m_sweep.localCenter.y;u2=Z_.col1.x*p2+Z_.col2.x*v_,v_=Z_.col1.y*p2+Z_.col2.y*v_,p2=u2,Z_=E_.m_sweep.c.x+p2-(P_.m_sweep.c.x+N_),u2=E_.m_sweep.c.y+v_-(P_.m_sweep.c.y+s2);var F_=P_.GetWorldVector(this.m_localXAxis1),$_=P_.m_linearVelocity,C_=E_.m_linearVelocity;return P_=P_.m_angularVelocity,E_=E_.m_angularVelocity,Z_*-P_*F_.y+u2*P_*F_.x+(F_.x*(C_.x+-E_*v_-$_.x- -P_*s2)+F_.y*(C_.y+E_*p2-$_.y-P_*N_))},_2.prototype.IsLimitEnabled=function(){return this.m_enableLimit},_2.prototype.EnableLimit=function(P_){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=P_},_2.prototype.GetLowerLimit=function(){return this.m_lowerTranslation},_2.prototype.GetUpperLimit=function(){return this.m_upperTranslation},_2.prototype.SetLimits=function(P_,E_){P_===void 0&&(P_=0),E_===void 0&&(E_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=P_,this.m_upperTranslation=E_},_2.prototype.IsMotorEnabled=function(){return this.m_enableMotor},_2.prototype.EnableMotor=function(P_){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=P_},_2.prototype.SetMotorSpeed=function(P_){P_===void 0&&(P_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=P_},_2.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},_2.prototype.SetMaxMotorForce=function(P_){P_===void 0&&(P_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=P_},_2.prototype.GetMotorForce=function(){return this.m_motorImpulse},_2.prototype.b2PrismaticJoint=function(P_){this.__super.b2Joint.call(this,P_),this.m_localAnchor1.SetV(P_.localAnchorA),this.m_localAnchor2.SetV(P_.localAnchorB),this.m_localXAxis1.SetV(P_.localAxisA),this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_refAngle=P_.referenceAngle,this.m_impulse.SetZero(),this.m_motorImpulse=this.m_motorMass=0,this.m_lowerTranslation=P_.lowerTranslation,this.m_upperTranslation=P_.upperTranslation,this.m_maxMotorForce=P_.maxMotorForce,this.m_motorSpeed=P_.motorSpeed,this.m_enableLimit=P_.enableLimit,this.m_enableMotor=P_.enableMotor,this.m_limitState=s_.e_inactiveLimit,this.m_axis.SetZero(),this.m_perp.SetZero()},_2.prototype.InitVelocityConstraints=function(P_){var E_=this.m_bodyA,Z_=this.m_bodyB,N_,s2=0;this.m_localCenterA.SetV(E_.GetLocalCenter()),this.m_localCenterB.SetV(Z_.GetLocalCenter());var u2=E_.GetTransform();Z_.GetTransform(),N_=E_.m_xf.R;var p2=this.m_localAnchor1.x-this.m_localCenterA.x,v_=this.m_localAnchor1.y-this.m_localCenterA.y;s2=N_.col1.x*p2+N_.col2.x*v_,v_=N_.col1.y*p2+N_.col2.y*v_,p2=s2,N_=Z_.m_xf.R;var F_=this.m_localAnchor2.x-this.m_localCenterB.x,$_=this.m_localAnchor2.y-this.m_localCenterB.y;s2=N_.col1.x*F_+N_.col2.x*$_,$_=N_.col1.y*F_+N_.col2.y*$_,F_=s2,N_=Z_.m_sweep.c.x+F_-E_.m_sweep.c.x-p2,s2=Z_.m_sweep.c.y+$_-E_.m_sweep.c.y-v_,this.m_invMassA=E_.m_invMass,this.m_invMassB=Z_.m_invMass,this.m_invIA=E_.m_invI,this.m_invIB=Z_.m_invI,this.m_axis.SetV(_o.MulMV(u2.R,this.m_localXAxis1)),this.m_a1=(N_+p2)*this.m_axis.y-(s2+v_)*this.m_axis.x,this.m_a2=F_*this.m_axis.y-$_*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass),this.m_perp.SetV(_o.MulMV(u2.R,this.m_localYAxis1)),this.m_s1=(N_+p2)*this.m_perp.y-(s2+v_)*this.m_perp.x,this.m_s2=F_*this.m_perp.y-$_*this.m_perp.x,u2=this.m_invMassA,p2=this.m_invMassB,v_=this.m_invIA,F_=this.m_invIB,this.m_K.col1.x=u2+p2+v_*this.m_s1*this.m_s1+F_*this.m_s2*this.m_s2,this.m_K.col1.y=v_*this.m_s1+F_*this.m_s2,this.m_K.col1.z=v_*this.m_s1*this.m_a1+F_*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=v_+F_,this.m_K.col2.z=v_*this.m_a1+F_*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=u2+p2+v_*this.m_a1*this.m_a1+F_*this.m_a2*this.m_a2,this.m_enableLimit?(N_=this.m_axis.x*N_+this.m_axis.y*s2,_o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*V.b2_linearSlop?this.m_limitState=s_.e_equalLimits:N_<=this.m_lowerTranslation?this.m_limitState!=s_.e_atLowerLimit&&(this.m_limitState=s_.e_atLowerLimit,this.m_impulse.z=0):N_>=this.m_upperTranslation?this.m_limitState!=s_.e_atUpperLimit&&(this.m_limitState=s_.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=s_.e_inactiveLimit,this.m_impulse.z=0)):this.m_limitState=s_.e_inactiveLimit,this.m_enableMotor==!1&&(this.m_motorImpulse=0),P_.warmStarting?(this.m_impulse.x*=P_.dtRatio,this.m_impulse.y*=P_.dtRatio,this.m_motorImpulse*=P_.dtRatio,P_=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,N_=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,s2=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,u2=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,E_.m_linearVelocity.x-=this.m_invMassA*P_,E_.m_linearVelocity.y-=this.m_invMassA*N_,E_.m_angularVelocity-=this.m_invIA*s2,Z_.m_linearVelocity.x+=this.m_invMassB*P_,Z_.m_linearVelocity.y+=this.m_invMassB*N_,Z_.m_angularVelocity+=this.m_invIB*u2):(this.m_impulse.SetZero(),this.m_motorImpulse=0)},_2.prototype.SolveVelocityConstraints=function(P_){var E_=this.m_bodyA,Z_=this.m_bodyB,N_=E_.m_linearVelocity,s2=E_.m_angularVelocity,u2=Z_.m_linearVelocity,p2=Z_.m_angularVelocity,v_=0,F_=0,$_=0,C_=0;this.m_enableMotor&&this.m_limitState!=s_.e_equalLimits&&(C_=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(u2.x-N_.x)+this.m_axis.y*(u2.y-N_.y)+this.m_a2*p2-this.m_a1*s2)),v_=this.m_motorImpulse,P_=P_.dt*this.m_maxMotorForce,this.m_motorImpulse=_o.Clamp(this.m_motorImpulse+C_,-P_,P_),C_=this.m_motorImpulse-v_,v_=C_*this.m_axis.x,F_=C_*this.m_axis.y,$_=C_*this.m_a1,C_=C_*this.m_a2,N_.x-=this.m_invMassA*v_,N_.y-=this.m_invMassA*F_,s2-=this.m_invIA*$_,u2.x+=this.m_invMassB*v_,u2.y+=this.m_invMassB*F_,p2+=this.m_invIB*C_),$_=this.m_perp.x*(u2.x-N_.x)+this.m_perp.y*(u2.y-N_.y)+this.m_s2*p2-this.m_s1*s2,F_=p2-s2,this.m_enableLimit&&this.m_limitState!=s_.e_inactiveLimit?(P_=this.m_axis.x*(u2.x-N_.x)+this.m_axis.y*(u2.y-N_.y)+this.m_a2*p2-this.m_a1*s2,v_=this.m_impulse.Copy(),P_=this.m_K.Solve33(new l,-$_,-F_,-P_),this.m_impulse.Add(P_),this.m_limitState==s_.e_atLowerLimit?this.m_impulse.z=_o.Max(this.m_impulse.z,0):this.m_limitState==s_.e_atUpperLimit&&(this.m_impulse.z=_o.Min(this.m_impulse.z,0)),$_=-$_-(this.m_impulse.z-v_.z)*this.m_K.col3.x,F_=-F_-(this.m_impulse.z-v_.z)*this.m_K.col3.y,F_=this.m_K.Solve22(new _i,$_,F_),F_.x+=v_.x,F_.y+=v_.y,this.m_impulse.x=F_.x,this.m_impulse.y=F_.y,P_.x=this.m_impulse.x-v_.x,P_.y=this.m_impulse.y-v_.y,P_.z=this.m_impulse.z-v_.z,v_=P_.x*this.m_perp.x+P_.z*this.m_axis.x,F_=P_.x*this.m_perp.y+P_.z*this.m_axis.y,$_=P_.x*this.m_s1+P_.y+P_.z*this.m_a1,C_=P_.x*this.m_s2+P_.y+P_.z*this.m_a2):(P_=this.m_K.Solve22(new _i,-$_,-F_),this.m_impulse.x+=P_.x,this.m_impulse.y+=P_.y,v_=P_.x*this.m_perp.x,F_=P_.x*this.m_perp.y,$_=P_.x*this.m_s1+P_.y,C_=P_.x*this.m_s2+P_.y),N_.x-=this.m_invMassA*v_,N_.y-=this.m_invMassA*F_,s2-=this.m_invIA*$_,u2.x+=this.m_invMassB*v_,u2.y+=this.m_invMassB*F_,p2+=this.m_invIB*C_,E_.m_linearVelocity.SetV(N_),E_.m_angularVelocity=s2,Z_.m_linearVelocity.SetV(u2),Z_.m_angularVelocity=p2},_2.prototype.SolvePositionConstraints=function(){var P_=this.m_bodyA,E_=this.m_bodyB,Z_=P_.m_sweep.c,N_=P_.m_sweep.a,s2=E_.m_sweep.c,u2=E_.m_sweep.a,p2,v_=0,F_=0,$_=0,C_=v_=p2=0,W_=0;F_=!1;var t2=0,l2=x.FromAngle(N_),D2=x.FromAngle(u2);p2=l2,W_=this.m_localAnchor1.x-this.m_localCenterA.x;var G2=this.m_localAnchor1.y-this.m_localCenterA.y;if(v_=p2.col1.x*W_+p2.col2.x*G2,G2=p2.col1.y*W_+p2.col2.y*G2,W_=v_,p2=D2,D2=this.m_localAnchor2.x-this.m_localCenterB.x,$_=this.m_localAnchor2.y-this.m_localCenterB.y,v_=p2.col1.x*D2+p2.col2.x*$_,$_=p2.col1.y*D2+p2.col2.y*$_,D2=v_,p2=s2.x+D2-Z_.x-W_,v_=s2.y+$_-Z_.y-G2,this.m_enableLimit){this.m_axis=_o.MulMV(l2,this.m_localXAxis1),this.m_a1=(p2+W_)*this.m_axis.y-(v_+G2)*this.m_axis.x,this.m_a2=D2*this.m_axis.y-$_*this.m_axis.x;var E2=this.m_axis.x*p2+this.m_axis.y*v_;_o.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*V.b2_linearSlop?(t2=_o.Clamp(E2,-V.b2_maxLinearCorrection,V.b2_maxLinearCorrection),C_=_o.Abs(E2),F_=!0):E2<=this.m_lowerTranslation?(t2=_o.Clamp(E2-this.m_lowerTranslation+V.b2_linearSlop,-V.b2_maxLinearCorrection,0),C_=this.m_lowerTranslation-E2,F_=!0):E2>=this.m_upperTranslation&&(t2=_o.Clamp(E2-this.m_upperTranslation+V.b2_linearSlop,0,V.b2_maxLinearCorrection),C_=E2-this.m_upperTranslation,F_=!0)}return this.m_perp=_o.MulMV(l2,this.m_localYAxis1),this.m_s1=(p2+W_)*this.m_perp.y-(v_+G2)*this.m_perp.x,this.m_s2=D2*this.m_perp.y-$_*this.m_perp.x,l2=new l,G2=this.m_perp.x*p2+this.m_perp.y*v_,D2=u2-N_-this.m_refAngle,C_=_o.Max(C_,_o.Abs(G2)),W_=_o.Abs(D2),F_?(F_=this.m_invMassA,$_=this.m_invMassB,p2=this.m_invIA,v_=this.m_invIB,this.m_K.col1.x=F_+$_+p2*this.m_s1*this.m_s1+v_*this.m_s2*this.m_s2,this.m_K.col1.y=p2*this.m_s1+v_*this.m_s2,this.m_K.col1.z=p2*this.m_s1*this.m_a1+v_*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=p2+v_,this.m_K.col2.z=p2*this.m_a1+v_*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=F_+$_+p2*this.m_a1*this.m_a1+v_*this.m_a2*this.m_a2,this.m_K.Solve33(l2,-G2,-D2,-t2)):(F_=this.m_invMassA,$_=this.m_invMassB,p2=this.m_invIA,v_=this.m_invIB,t2=p2*this.m_s1+v_*this.m_s2,E2=p2+v_,this.m_K.col1.Set(F_+$_+p2*this.m_s1*this.m_s1+v_*this.m_s2*this.m_s2,t2,0),this.m_K.col2.Set(t2,E2,0),t2=this.m_K.Solve22(new _i,-G2,-D2),l2.x=t2.x,l2.y=t2.y,l2.z=0),t2=l2.x*this.m_perp.x+l2.z*this.m_axis.x,F_=l2.x*this.m_perp.y+l2.z*this.m_axis.y,G2=l2.x*this.m_s1+l2.y+l2.z*this.m_a1,l2=l2.x*this.m_s2+l2.y+l2.z*this.m_a2,Z_.x-=this.m_invMassA*t2,Z_.y-=this.m_invMassA*F_,N_-=this.m_invIA*G2,s2.x+=this.m_invMassB*t2,s2.y+=this.m_invMassB*F_,u2+=this.m_invIB*l2,P_.m_sweep.a=N_,E_.m_sweep.a=u2,P_.SynchronizeTransform(),E_.SynchronizeTransform(),C_<=V.b2_linearSlop&&W_<=V.b2_angularSlop},Y_.inherit(m2,Y_.Dynamics.Joints.b2JointDef),m2.prototype.__super=Y_.Dynamics.Joints.b2JointDef.prototype,m2.b2PrismaticJointDef=function(){Y_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _i,this.localAnchorB=new _i,this.localAxisA=new _i},m2.prototype.b2PrismaticJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_prismaticJoint,this.localAxisA.Set(1,0),this.referenceAngle=0,this.enableLimit=!1,this.upperTranslation=this.lowerTranslation=0,this.enableMotor=!1,this.motorSpeed=this.maxMotorForce=0},m2.prototype.Initialize=function(P_,E_,Z_,N_){this.bodyA=P_,this.bodyB=E_,this.localAnchorA=this.bodyA.GetLocalPoint(Z_),this.localAnchorB=this.bodyB.GetLocalPoint(Z_),this.localAxisA=this.bodyA.GetLocalVector(N_),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()},Y_.inherit(y2,Y_.Dynamics.Joints.b2Joint),y2.prototype.__super=Y_.Dynamics.Joints.b2Joint.prototype,y2.b2PulleyJoint=function(){Y_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_groundAnchor1=new _i,this.m_groundAnchor2=new _i,this.m_localAnchor1=new _i,this.m_localAnchor2=new _i,this.m_u1=new _i,this.m_u2=new _i},y2.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},y2.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},y2.prototype.GetReactionForce=function(P_){return P_===void 0&&(P_=0),new _i(P_*this.m_impulse*this.m_u2.x,P_*this.m_impulse*this.m_u2.y)},y2.prototype.GetReactionTorque=function(){return 0},y2.prototype.GetGroundAnchorA=function(){var P_=this.m_ground.m_xf.position.Copy();return P_.Add(this.m_groundAnchor1),P_},y2.prototype.GetGroundAnchorB=function(){var P_=this.m_ground.m_xf.position.Copy();return P_.Add(this.m_groundAnchor2),P_},y2.prototype.GetLength1=function(){var P_=this.m_bodyA.GetWorldPoint(this.m_localAnchor1),E_=P_.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x);return P_=P_.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y),Math.sqrt(E_*E_+P_*P_)},y2.prototype.GetLength2=function(){var P_=this.m_bodyB.GetWorldPoint(this.m_localAnchor2),E_=P_.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor2.x);return P_=P_.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor2.y),Math.sqrt(E_*E_+P_*P_)},y2.prototype.GetRatio=function(){return this.m_ratio},y2.prototype.b2PulleyJoint=function(P_){this.__super.b2Joint.call(this,P_),this.m_ground=this.m_bodyA.m_world.m_groundBody,this.m_groundAnchor1.x=P_.groundAnchorA.x-this.m_ground.m_xf.position.x,this.m_groundAnchor1.y=P_.groundAnchorA.y-this.m_ground.m_xf.position.y,this.m_groundAnchor2.x=P_.groundAnchorB.x-this.m_ground.m_xf.position.x,this.m_groundAnchor2.y=P_.groundAnchorB.y-this.m_ground.m_xf.position.y,this.m_localAnchor1.SetV(P_.localAnchorA),this.m_localAnchor2.SetV(P_.localAnchorB),this.m_ratio=P_.ratio,this.m_constant=P_.lengthA+this.m_ratio*P_.lengthB,this.m_maxLength1=_o.Min(P_.maxLengthA,this.m_constant-this.m_ratio*y2.b2_minPulleyLength),this.m_maxLength2=_o.Min(P_.maxLengthB,(this.m_constant-y2.b2_minPulleyLength)/this.m_ratio),this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0},y2.prototype.InitVelocityConstraints=function(P_){var E_=this.m_bodyA,Z_=this.m_bodyB,N_;N_=E_.m_xf.R;var s2=this.m_localAnchor1.x-E_.m_sweep.localCenter.x,u2=this.m_localAnchor1.y-E_.m_sweep.localCenter.y,p2=N_.col1.x*s2+N_.col2.x*u2;u2=N_.col1.y*s2+N_.col2.y*u2,s2=p2,N_=Z_.m_xf.R;var v_=this.m_localAnchor2.x-Z_.m_sweep.localCenter.x,F_=this.m_localAnchor2.y-Z_.m_sweep.localCenter.y;p2=N_.col1.x*v_+N_.col2.x*F_,F_=N_.col1.y*v_+N_.col2.y*F_,v_=p2,N_=Z_.m_sweep.c.x+v_,p2=Z_.m_sweep.c.y+F_;var $_=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,C_=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.Set(E_.m_sweep.c.x+s2-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),E_.m_sweep.c.y+u2-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y)),this.m_u2.Set(N_-$_,p2-C_),N_=this.m_u1.Length(),p2=this.m_u2.Length(),N_>V.b2_linearSlop?this.m_u1.Multiply(1/N_):this.m_u1.SetZero(),p2>V.b2_linearSlop?this.m_u2.Multiply(1/p2):this.m_u2.SetZero(),this.m_constant-N_-this.m_ratio*p2>0?(this.m_state=s_.e_inactiveLimit,this.m_impulse=0):this.m_state=s_.e_atUpperLimit,N_<this.m_maxLength1?(this.m_limitState1=s_.e_inactiveLimit,this.m_limitImpulse1=0):this.m_limitState1=s_.e_atUpperLimit,p2<this.m_maxLength2?(this.m_limitState2=s_.e_inactiveLimit,this.m_limitImpulse2=0):this.m_limitState2=s_.e_atUpperLimit,N_=s2*this.m_u1.y-u2*this.m_u1.x,p2=v_*this.m_u2.y-F_*this.m_u2.x,this.m_limitMass1=E_.m_invMass+E_.m_invI*N_*N_,this.m_limitMass2=Z_.m_invMass+Z_.m_invI*p2*p2,this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2,this.m_limitMass1=1/this.m_limitMass1,this.m_limitMass2=1/this.m_limitMass2,this.m_pulleyMass=1/this.m_pulleyMass,P_.warmStarting?(this.m_impulse*=P_.dtRatio,this.m_limitImpulse1*=P_.dtRatio,this.m_limitImpulse2*=P_.dtRatio,P_=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,N_=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,p2=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,$_=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y,E_.m_linearVelocity.x+=E_.m_invMass*P_,E_.m_linearVelocity.y+=E_.m_invMass*N_,E_.m_angularVelocity+=E_.m_invI*(s2*N_-u2*P_),Z_.m_linearVelocity.x+=Z_.m_invMass*p2,Z_.m_linearVelocity.y+=Z_.m_invMass*$_,Z_.m_angularVelocity+=Z_.m_invI*(v_*$_-F_*p2)):this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0},y2.prototype.SolveVelocityConstraints=function(){var P_=this.m_bodyA,E_=this.m_bodyB,Z_;Z_=P_.m_xf.R;var N_=this.m_localAnchor1.x-P_.m_sweep.localCenter.x,s2=this.m_localAnchor1.y-P_.m_sweep.localCenter.y,u2=Z_.col1.x*N_+Z_.col2.x*s2;s2=Z_.col1.y*N_+Z_.col2.y*s2,N_=u2,Z_=E_.m_xf.R;var p2=this.m_localAnchor2.x-E_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-E_.m_sweep.localCenter.y;u2=Z_.col1.x*p2+Z_.col2.x*v_,v_=Z_.col1.y*p2+Z_.col2.y*v_,p2=u2;var F_=u2=Z_=0,$_=0;Z_=$_=Z_=$_=F_=u2=Z_=0,this.m_state==s_.e_atUpperLimit&&(Z_=P_.m_linearVelocity.x+-P_.m_angularVelocity*s2,u2=P_.m_linearVelocity.y+P_.m_angularVelocity*N_,F_=E_.m_linearVelocity.x+-E_.m_angularVelocity*v_,$_=E_.m_linearVelocity.y+E_.m_angularVelocity*p2,Z_=-(this.m_u1.x*Z_+this.m_u1.y*u2)-this.m_ratio*(this.m_u2.x*F_+this.m_u2.y*$_),$_=this.m_pulleyMass*-Z_,Z_=this.m_impulse,this.m_impulse=_o.Max(0,this.m_impulse+$_),$_=this.m_impulse-Z_,Z_=-$_*this.m_u1.x,u2=-$_*this.m_u1.y,F_=-this.m_ratio*$_*this.m_u2.x,$_=-this.m_ratio*$_*this.m_u2.y,P_.m_linearVelocity.x+=P_.m_invMass*Z_,P_.m_linearVelocity.y+=P_.m_invMass*u2,P_.m_angularVelocity+=P_.m_invI*(N_*u2-s2*Z_),E_.m_linearVelocity.x+=E_.m_invMass*F_,E_.m_linearVelocity.y+=E_.m_invMass*$_,E_.m_angularVelocity+=E_.m_invI*(p2*$_-v_*F_)),this.m_limitState1==s_.e_atUpperLimit&&(Z_=P_.m_linearVelocity.x+-P_.m_angularVelocity*s2,u2=P_.m_linearVelocity.y+P_.m_angularVelocity*N_,Z_=-(this.m_u1.x*Z_+this.m_u1.y*u2),$_=-this.m_limitMass1*Z_,Z_=this.m_limitImpulse1,this.m_limitImpulse1=_o.Max(0,this.m_limitImpulse1+$_),$_=this.m_limitImpulse1-Z_,Z_=-$_*this.m_u1.x,u2=-$_*this.m_u1.y,P_.m_linearVelocity.x+=P_.m_invMass*Z_,P_.m_linearVelocity.y+=P_.m_invMass*u2,P_.m_angularVelocity+=P_.m_invI*(N_*u2-s2*Z_)),this.m_limitState2==s_.e_atUpperLimit&&(F_=E_.m_linearVelocity.x+-E_.m_angularVelocity*v_,$_=E_.m_linearVelocity.y+E_.m_angularVelocity*p2,Z_=-(this.m_u2.x*F_+this.m_u2.y*$_),$_=-this.m_limitMass2*Z_,Z_=this.m_limitImpulse2,this.m_limitImpulse2=_o.Max(0,this.m_limitImpulse2+$_),$_=this.m_limitImpulse2-Z_,F_=-$_*this.m_u2.x,$_=-$_*this.m_u2.y,E_.m_linearVelocity.x+=E_.m_invMass*F_,E_.m_linearVelocity.y+=E_.m_invMass*$_,E_.m_angularVelocity+=E_.m_invI*(p2*$_-v_*F_))},y2.prototype.SolvePositionConstraints=function(){var P_=this.m_bodyA,E_=this.m_bodyB,Z_,N_=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,s2=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,u2=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,p2=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,v_=0,F_=0,$_=0,C_=0,W_=Z_=0,t2=0,l2=0,D2=W_=l2=Z_=W_=Z_=0;return this.m_state==s_.e_atUpperLimit&&(Z_=P_.m_xf.R,v_=this.m_localAnchor1.x-P_.m_sweep.localCenter.x,F_=this.m_localAnchor1.y-P_.m_sweep.localCenter.y,W_=Z_.col1.x*v_+Z_.col2.x*F_,F_=Z_.col1.y*v_+Z_.col2.y*F_,v_=W_,Z_=E_.m_xf.R,$_=this.m_localAnchor2.x-E_.m_sweep.localCenter.x,C_=this.m_localAnchor2.y-E_.m_sweep.localCenter.y,W_=Z_.col1.x*$_+Z_.col2.x*C_,C_=Z_.col1.y*$_+Z_.col2.y*C_,$_=W_,Z_=P_.m_sweep.c.x+v_,W_=P_.m_sweep.c.y+F_,t2=E_.m_sweep.c.x+$_,l2=E_.m_sweep.c.y+C_,this.m_u1.Set(Z_-N_,W_-s2),this.m_u2.Set(t2-u2,l2-p2),Z_=this.m_u1.Length(),W_=this.m_u2.Length(),Z_>V.b2_linearSlop?this.m_u1.Multiply(1/Z_):this.m_u1.SetZero(),W_>V.b2_linearSlop?this.m_u2.Multiply(1/W_):this.m_u2.SetZero(),Z_=this.m_constant-Z_-this.m_ratio*W_,D2=_o.Max(D2,-Z_),Z_=_o.Clamp(Z_+V.b2_linearSlop,-V.b2_maxLinearCorrection,0),l2=-this.m_pulleyMass*Z_,Z_=-l2*this.m_u1.x,W_=-l2*this.m_u1.y,t2=-this.m_ratio*l2*this.m_u2.x,l2=-this.m_ratio*l2*this.m_u2.y,P_.m_sweep.c.x+=P_.m_invMass*Z_,P_.m_sweep.c.y+=P_.m_invMass*W_,P_.m_sweep.a+=P_.m_invI*(v_*W_-F_*Z_),E_.m_sweep.c.x+=E_.m_invMass*t2,E_.m_sweep.c.y+=E_.m_invMass*l2,E_.m_sweep.a+=E_.m_invI*($_*l2-C_*t2),P_.SynchronizeTransform(),E_.SynchronizeTransform()),this.m_limitState1==s_.e_atUpperLimit&&(Z_=P_.m_xf.R,v_=this.m_localAnchor1.x-P_.m_sweep.localCenter.x,F_=this.m_localAnchor1.y-P_.m_sweep.localCenter.y,W_=Z_.col1.x*v_+Z_.col2.x*F_,F_=Z_.col1.y*v_+Z_.col2.y*F_,v_=W_,Z_=P_.m_sweep.c.x+v_,W_=P_.m_sweep.c.y+F_,this.m_u1.Set(Z_-N_,W_-s2),Z_=this.m_u1.Length(),Z_>V.b2_linearSlop?(this.m_u1.x*=1/Z_,this.m_u1.y*=1/Z_):this.m_u1.SetZero(),Z_=this.m_maxLength1-Z_,D2=_o.Max(D2,-Z_),Z_=_o.Clamp(Z_+V.b2_linearSlop,-V.b2_maxLinearCorrection,0),l2=-this.m_limitMass1*Z_,Z_=-l2*this.m_u1.x,W_=-l2*this.m_u1.y,P_.m_sweep.c.x+=P_.m_invMass*Z_,P_.m_sweep.c.y+=P_.m_invMass*W_,P_.m_sweep.a+=P_.m_invI*(v_*W_-F_*Z_),P_.SynchronizeTransform()),this.m_limitState2==s_.e_atUpperLimit&&(Z_=E_.m_xf.R,$_=this.m_localAnchor2.x-E_.m_sweep.localCenter.x,C_=this.m_localAnchor2.y-E_.m_sweep.localCenter.y,W_=Z_.col1.x*$_+Z_.col2.x*C_,C_=Z_.col1.y*$_+Z_.col2.y*C_,$_=W_,t2=E_.m_sweep.c.x+$_,l2=E_.m_sweep.c.y+C_,this.m_u2.Set(t2-u2,l2-p2),W_=this.m_u2.Length(),W_>V.b2_linearSlop?(this.m_u2.x*=1/W_,this.m_u2.y*=1/W_):this.m_u2.SetZero(),Z_=this.m_maxLength2-W_,D2=_o.Max(D2,-Z_),Z_=_o.Clamp(Z_+V.b2_linearSlop,-V.b2_maxLinearCorrection,0),l2=-this.m_limitMass2*Z_,t2=-l2*this.m_u2.x,l2=-l2*this.m_u2.y,E_.m_sweep.c.x+=E_.m_invMass*t2,E_.m_sweep.c.y+=E_.m_invMass*l2,E_.m_sweep.a+=E_.m_invI*($_*l2-C_*t2),E_.SynchronizeTransform()),D2<V.b2_linearSlop},Y_.postDefs.push(function(){Y_.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength=2}),Y_.inherit(I2,Y_.Dynamics.Joints.b2JointDef),I2.prototype.__super=Y_.Dynamics.Joints.b2JointDef.prototype,I2.b2PulleyJointDef=function(){Y_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.groundAnchorA=new _i,this.groundAnchorB=new _i,this.localAnchorA=new _i,this.localAnchorB=new _i},I2.prototype.b2PulleyJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_pulleyJoint,this.groundAnchorA.Set(-1,1),this.groundAnchorB.Set(1,1),this.localAnchorA.Set(-1,0),this.localAnchorB.Set(1,0),this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0,this.ratio=1,this.collideConnected=!0},I2.prototype.Initialize=function(P_,E_,Z_,N_,s2,u2,p2){p2===void 0&&(p2=0),this.bodyA=P_,this.bodyB=E_,this.groundAnchorA.SetV(Z_),this.groundAnchorB.SetV(N_),this.localAnchorA=this.bodyA.GetLocalPoint(s2),this.localAnchorB=this.bodyB.GetLocalPoint(u2),P_=s2.x-Z_.x,Z_=s2.y-Z_.y,this.lengthA=Math.sqrt(P_*P_+Z_*Z_),Z_=u2.x-N_.x,N_=u2.y-N_.y,this.lengthB=Math.sqrt(Z_*Z_+N_*N_),this.ratio=p2,p2=this.lengthA+this.ratio*this.lengthB,this.maxLengthA=p2-this.ratio*y2.b2_minPulleyLength,this.maxLengthB=(p2-y2.b2_minPulleyLength)/this.ratio},Y_.inherit(J2,Y_.Dynamics.Joints.b2Joint),J2.prototype.__super=Y_.Dynamics.Joints.b2Joint.prototype,J2.b2RevoluteJoint=function(){Y_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.K=new x,this.K1=new x,this.K2=new x,this.K3=new x,this.impulse3=new l,this.impulse2=new _i,this.reduced=new _i,this.m_localAnchor1=new _i,this.m_localAnchor2=new _i,this.m_impulse=new l,this.m_mass=new o},J2.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},J2.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},J2.prototype.GetReactionForce=function(P_){return P_===void 0&&(P_=0),new _i(P_*this.m_impulse.x,P_*this.m_impulse.y)},J2.prototype.GetReactionTorque=function(P_){return P_===void 0&&(P_=0),P_*this.m_impulse.z},J2.prototype.GetJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle},J2.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity},J2.prototype.IsLimitEnabled=function(){return this.m_enableLimit},J2.prototype.EnableLimit=function(P_){this.m_enableLimit=P_},J2.prototype.GetLowerLimit=function(){return this.m_lowerAngle},J2.prototype.GetUpperLimit=function(){return this.m_upperAngle},J2.prototype.SetLimits=function(P_,E_){P_===void 0&&(P_=0),E_===void 0&&(E_=0),this.m_lowerAngle=P_,this.m_upperAngle=E_},J2.prototype.IsMotorEnabled=function(){return this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor},J2.prototype.EnableMotor=function(P_){this.m_enableMotor=P_},J2.prototype.SetMotorSpeed=function(P_){P_===void 0&&(P_=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=P_},J2.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},J2.prototype.SetMaxMotorTorque=function(P_){P_===void 0&&(P_=0),this.m_maxMotorTorque=P_},J2.prototype.GetMotorTorque=function(){return this.m_maxMotorTorque},J2.prototype.b2RevoluteJoint=function(P_){this.__super.b2Joint.call(this,P_),this.m_localAnchor1.SetV(P_.localAnchorA),this.m_localAnchor2.SetV(P_.localAnchorB),this.m_referenceAngle=P_.referenceAngle,this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerAngle=P_.lowerAngle,this.m_upperAngle=P_.upperAngle,this.m_maxMotorTorque=P_.maxMotorTorque,this.m_motorSpeed=P_.motorSpeed,this.m_enableLimit=P_.enableLimit,this.m_enableMotor=P_.enableMotor,this.m_limitState=s_.e_inactiveLimit},J2.prototype.InitVelocityConstraints=function(P_){var E_=this.m_bodyA,Z_=this.m_bodyB,N_,s2=0;N_=E_.m_xf.R;var u2=this.m_localAnchor1.x-E_.m_sweep.localCenter.x,p2=this.m_localAnchor1.y-E_.m_sweep.localCenter.y;s2=N_.col1.x*u2+N_.col2.x*p2,p2=N_.col1.y*u2+N_.col2.y*p2,u2=s2,N_=Z_.m_xf.R;var v_=this.m_localAnchor2.x-Z_.m_sweep.localCenter.x,F_=this.m_localAnchor2.y-Z_.m_sweep.localCenter.y;s2=N_.col1.x*v_+N_.col2.x*F_,F_=N_.col1.y*v_+N_.col2.y*F_,v_=s2,N_=E_.m_invMass,s2=Z_.m_invMass;var $_=E_.m_invI,C_=Z_.m_invI;if(this.m_mass.col1.x=N_+s2+p2*p2*$_+F_*F_*C_,this.m_mass.col2.x=-p2*u2*$_-F_*v_*C_,this.m_mass.col3.x=-p2*$_-F_*C_,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=N_+s2+u2*u2*$_+v_*v_*C_,this.m_mass.col3.y=u2*$_+v_*C_,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=$_+C_,this.m_motorMass=1/($_+C_),this.m_enableMotor==!1&&(this.m_motorImpulse=0),this.m_enableLimit){var W_=Z_.m_sweep.a-E_.m_sweep.a-this.m_referenceAngle;_o.Abs(this.m_upperAngle-this.m_lowerAngle)<2*V.b2_angularSlop?this.m_limitState=s_.e_equalLimits:W_<=this.m_lowerAngle?(this.m_limitState!=s_.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=s_.e_atLowerLimit):W_>=this.m_upperAngle?(this.m_limitState!=s_.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=s_.e_atUpperLimit):(this.m_limitState=s_.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=s_.e_inactiveLimit;P_.warmStarting?(this.m_impulse.x*=P_.dtRatio,this.m_impulse.y*=P_.dtRatio,this.m_motorImpulse*=P_.dtRatio,P_=this.m_impulse.x,W_=this.m_impulse.y,E_.m_linearVelocity.x-=N_*P_,E_.m_linearVelocity.y-=N_*W_,E_.m_angularVelocity-=$_*(u2*W_-p2*P_+this.m_motorImpulse+this.m_impulse.z),Z_.m_linearVelocity.x+=s2*P_,Z_.m_linearVelocity.y+=s2*W_,Z_.m_angularVelocity+=C_*(v_*W_-F_*P_+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.SetZero(),this.m_motorImpulse=0)},J2.prototype.SolveVelocityConstraints=function(P_){var E_=this.m_bodyA,Z_=this.m_bodyB,N_=0,s2=N_=0,u2=0,p2=0,v_=0,F_=E_.m_linearVelocity,$_=E_.m_angularVelocity,C_=Z_.m_linearVelocity,W_=Z_.m_angularVelocity,t2=E_.m_invMass,l2=Z_.m_invMass,D2=E_.m_invI,G2=Z_.m_invI;if(this.m_enableMotor&&this.m_limitState!=s_.e_equalLimits&&(s2=this.m_motorMass*-(W_-$_-this.m_motorSpeed),u2=this.m_motorImpulse,p2=P_.dt*this.m_maxMotorTorque,this.m_motorImpulse=_o.Clamp(this.m_motorImpulse+s2,-p2,p2),s2=this.m_motorImpulse-u2,$_-=D2*s2,W_+=G2*s2),this.m_enableLimit&&this.m_limitState!=s_.e_inactiveLimit){P_=E_.m_xf.R,s2=this.m_localAnchor1.x-E_.m_sweep.localCenter.x,u2=this.m_localAnchor1.y-E_.m_sweep.localCenter.y,N_=P_.col1.x*s2+P_.col2.x*u2,u2=P_.col1.y*s2+P_.col2.y*u2,s2=N_,P_=Z_.m_xf.R,p2=this.m_localAnchor2.x-Z_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-Z_.m_sweep.localCenter.y,N_=P_.col1.x*p2+P_.col2.x*v_,v_=P_.col1.y*p2+P_.col2.y*v_,p2=N_,P_=C_.x+-W_*v_-F_.x- -$_*u2;var E2=C_.y+W_*p2-F_.y-$_*s2;this.m_mass.Solve33(this.impulse3,-P_,-E2,-(W_-$_)),this.m_limitState==s_.e_equalLimits?this.m_impulse.Add(this.impulse3):this.m_limitState==s_.e_atLowerLimit?(N_=this.m_impulse.z+this.impulse3.z,N_<0&&(this.m_mass.Solve22(this.reduced,-P_,-E2),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)):this.m_limitState==s_.e_atUpperLimit&&(N_=this.m_impulse.z+this.impulse3.z,N_>0&&(this.m_mass.Solve22(this.reduced,-P_,-E2),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)),F_.x-=t2*this.impulse3.x,F_.y-=t2*this.impulse3.y,$_-=D2*(s2*this.impulse3.y-u2*this.impulse3.x+this.impulse3.z),C_.x+=l2*this.impulse3.x,C_.y+=l2*this.impulse3.y,W_+=G2*(p2*this.impulse3.y-v_*this.impulse3.x+this.impulse3.z)}else P_=E_.m_xf.R,s2=this.m_localAnchor1.x-E_.m_sweep.localCenter.x,u2=this.m_localAnchor1.y-E_.m_sweep.localCenter.y,N_=P_.col1.x*s2+P_.col2.x*u2,u2=P_.col1.y*s2+P_.col2.y*u2,s2=N_,P_=Z_.m_xf.R,p2=this.m_localAnchor2.x-Z_.m_sweep.localCenter.x,v_=this.m_localAnchor2.y-Z_.m_sweep.localCenter.y,N_=P_.col1.x*p2+P_.col2.x*v_,v_=P_.col1.y*p2+P_.col2.y*v_,p2=N_,this.m_mass.Solve22(this.impulse2,-(C_.x+-W_*v_-F_.x- -$_*u2),-(C_.y+W_*p2-F_.y-$_*s2)),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,F_.x-=t2*this.impulse2.x,F_.y-=t2*this.impulse2.y,$_-=D2*(s2*this.impulse2.y-u2*this.impulse2.x),C_.x+=l2*this.impulse2.x,C_.y+=l2*this.impulse2.y,W_+=G2*(p2*this.impulse2.y-v_*this.impulse2.x);E_.m_linearVelocity.SetV(F_),E_.m_angularVelocity=$_,Z_.m_linearVelocity.SetV(C_),Z_.m_angularVelocity=W_},J2.prototype.SolvePositionConstraints=function(){var P_=0,E_,Z_=this.m_bodyA,N_=this.m_bodyB,s2=0,u2=E_=0,p2=0,v_=0;if(this.m_enableLimit&&this.m_limitState!=s_.e_inactiveLimit){P_=N_.m_sweep.a-Z_.m_sweep.a-this.m_referenceAngle;var F_=0;this.m_limitState==s_.e_equalLimits?(P_=_o.Clamp(P_-this.m_lowerAngle,-V.b2_maxAngularCorrection,V.b2_maxAngularCorrection),F_=-this.m_motorMass*P_,s2=_o.Abs(P_)):this.m_limitState==s_.e_atLowerLimit?(P_=P_-this.m_lowerAngle,s2=-P_,P_=_o.Clamp(P_+V.b2_angularSlop,-V.b2_maxAngularCorrection,0),F_=-this.m_motorMass*P_):this.m_limitState==s_.e_atUpperLimit&&(s2=P_=P_-this.m_upperAngle,P_=_o.Clamp(P_-V.b2_angularSlop,0,V.b2_maxAngularCorrection),F_=-this.m_motorMass*P_),Z_.m_sweep.a-=Z_.m_invI*F_,N_.m_sweep.a+=N_.m_invI*F_,Z_.SynchronizeTransform(),N_.SynchronizeTransform()}E_=Z_.m_xf.R,F_=this.m_localAnchor1.x-Z_.m_sweep.localCenter.x,P_=this.m_localAnchor1.y-Z_.m_sweep.localCenter.y,u2=E_.col1.x*F_+E_.col2.x*P_,P_=E_.col1.y*F_+E_.col2.y*P_,F_=u2,E_=N_.m_xf.R;var $_=this.m_localAnchor2.x-N_.m_sweep.localCenter.x,C_=this.m_localAnchor2.y-N_.m_sweep.localCenter.y;u2=E_.col1.x*$_+E_.col2.x*C_,C_=E_.col1.y*$_+E_.col2.y*C_,$_=u2,p2=N_.m_sweep.c.x+$_-Z_.m_sweep.c.x-F_,v_=N_.m_sweep.c.y+C_-Z_.m_sweep.c.y-P_;var W_=p2*p2+v_*v_;E_=Math.sqrt(W_),u2=Z_.m_invMass;var t2=N_.m_invMass,l2=Z_.m_invI,D2=N_.m_invI,G2=10*V.b2_linearSlop;return W_>G2*G2&&(W_=1/(u2+t2),p2=W_*-p2,v_=W_*-v_,Z_.m_sweep.c.x-=.5*u2*p2,Z_.m_sweep.c.y-=.5*u2*v_,N_.m_sweep.c.x+=.5*t2*p2,N_.m_sweep.c.y+=.5*t2*v_,p2=N_.m_sweep.c.x+$_-Z_.m_sweep.c.x-F_,v_=N_.m_sweep.c.y+C_-Z_.m_sweep.c.y-P_),this.K1.col1.x=u2+t2,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=u2+t2,this.K2.col1.x=l2*P_*P_,this.K2.col2.x=-l2*F_*P_,this.K2.col1.y=-l2*F_*P_,this.K2.col2.y=l2*F_*F_,this.K3.col1.x=D2*C_*C_,this.K3.col2.x=-D2*$_*C_,this.K3.col1.y=-D2*$_*C_,this.K3.col2.y=D2*$_*$_,this.K.SetM(this.K1),this.K.AddM(this.K2),this.K.AddM(this.K3),this.K.Solve(J2.tImpulse,-p2,-v_),p2=J2.tImpulse.x,v_=J2.tImpulse.y,Z_.m_sweep.c.x-=Z_.m_invMass*p2,Z_.m_sweep.c.y-=Z_.m_invMass*v_,Z_.m_sweep.a-=Z_.m_invI*(F_*v_-P_*p2),N_.m_sweep.c.x+=N_.m_invMass*p2,N_.m_sweep.c.y+=N_.m_invMass*v_,N_.m_sweep.a+=N_.m_invI*($_*v_-C_*p2),Z_.SynchronizeTransform(),N_.SynchronizeTransform(),E_<=V.b2_linearSlop&&s2<=V.b2_angularSlop},Y_.postDefs.push(function(){Y_.Dynamics.Joints.b2RevoluteJoint.tImpulse=new _i}),Y_.inherit(z2,Y_.Dynamics.Joints.b2JointDef),z2.prototype.__super=Y_.Dynamics.Joints.b2JointDef.prototype,z2.b2RevoluteJointDef=function(){Y_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _i,this.localAnchorB=new _i},z2.prototype.b2RevoluteJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_revoluteJoint,this.localAnchorA.Set(0,0),this.localAnchorB.Set(0,0),this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0,this.enableMotor=this.enableLimit=!1},z2.prototype.Initialize=function(P_,E_,Z_){this.bodyA=P_,this.bodyB=E_,this.localAnchorA=this.bodyA.GetLocalPoint(Z_),this.localAnchorB=this.bodyB.GetLocalPoint(Z_),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()},Y_.inherit(K2,Y_.Dynamics.Joints.b2Joint),K2.prototype.__super=Y_.Dynamics.Joints.b2Joint.prototype,K2.b2WeldJoint=function(){Y_.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchorA=new _i,this.m_localAnchorB=new _i,this.m_impulse=new l,this.m_mass=new o},K2.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)},K2.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)},K2.prototype.GetReactionForce=function(P_){return P_===void 0&&(P_=0),new _i(P_*this.m_impulse.x,P_*this.m_impulse.y)},K2.prototype.GetReactionTorque=function(P_){return P_===void 0&&(P_=0),P_*this.m_impulse.z},K2.prototype.b2WeldJoint=function(P_){this.__super.b2Joint.call(this,P_),this.m_localAnchorA.SetV(P_.localAnchorA),this.m_localAnchorB.SetV(P_.localAnchorB),this.m_referenceAngle=P_.referenceAngle,this.m_impulse.SetZero(),this.m_mass=new o},K2.prototype.InitVelocityConstraints=function(P_){var E_,Z_=0,N_=this.m_bodyA,s2=this.m_bodyB;E_=N_.m_xf.R;var u2=this.m_localAnchorA.x-N_.m_sweep.localCenter.x,p2=this.m_localAnchorA.y-N_.m_sweep.localCenter.y;Z_=E_.col1.x*u2+E_.col2.x*p2,p2=E_.col1.y*u2+E_.col2.y*p2,u2=Z_,E_=s2.m_xf.R;var v_=this.m_localAnchorB.x-s2.m_sweep.localCenter.x,F_=this.m_localAnchorB.y-s2.m_sweep.localCenter.y;Z_=E_.col1.x*v_+E_.col2.x*F_,F_=E_.col1.y*v_+E_.col2.y*F_,v_=Z_,E_=N_.m_invMass,Z_=s2.m_invMass;var $_=N_.m_invI,C_=s2.m_invI;this.m_mass.col1.x=E_+Z_+p2*p2*$_+F_*F_*C_,this.m_mass.col2.x=-p2*u2*$_-F_*v_*C_,this.m_mass.col3.x=-p2*$_-F_*C_,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=E_+Z_+u2*u2*$_+v_*v_*C_,this.m_mass.col3.y=u2*$_+v_*C_,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=$_+C_,P_.warmStarting?(this.m_impulse.x*=P_.dtRatio,this.m_impulse.y*=P_.dtRatio,this.m_impulse.z*=P_.dtRatio,N_.m_linearVelocity.x-=E_*this.m_impulse.x,N_.m_linearVelocity.y-=E_*this.m_impulse.y,N_.m_angularVelocity-=$_*(u2*this.m_impulse.y-p2*this.m_impulse.x+this.m_impulse.z),s2.m_linearVelocity.x+=Z_*this.m_impulse.x,s2.m_linearVelocity.y+=Z_*this.m_impulse.y,s2.m_angularVelocity+=C_*(v_*this.m_impulse.y-F_*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.SetZero()},K2.prototype.SolveVelocityConstraints=function(){var P_,E_=0,Z_=this.m_bodyA,N_=this.m_bodyB,s2=Z_.m_linearVelocity,u2=Z_.m_angularVelocity,p2=N_.m_linearVelocity,v_=N_.m_angularVelocity,F_=Z_.m_invMass,$_=N_.m_invMass,C_=Z_.m_invI,W_=N_.m_invI;P_=Z_.m_xf.R;var t2=this.m_localAnchorA.x-Z_.m_sweep.localCenter.x,l2=this.m_localAnchorA.y-Z_.m_sweep.localCenter.y;E_=P_.col1.x*t2+P_.col2.x*l2,l2=P_.col1.y*t2+P_.col2.y*l2,t2=E_,P_=N_.m_xf.R;var D2=this.m_localAnchorB.x-N_.m_sweep.localCenter.x,G2=this.m_localAnchorB.y-N_.m_sweep.localCenter.y;E_=P_.col1.x*D2+P_.col2.x*G2,G2=P_.col1.y*D2+P_.col2.y*G2,D2=E_,P_=p2.x-v_*G2-s2.x+u2*l2,E_=p2.y+v_*D2-s2.y-u2*t2;var E2=v_-u2,V2=new l;this.m_mass.Solve33(V2,-P_,-E_,-E2),this.m_impulse.Add(V2),s2.x-=F_*V2.x,s2.y-=F_*V2.y,u2-=C_*(t2*V2.y-l2*V2.x+V2.z),p2.x+=$_*V2.x,p2.y+=$_*V2.y,v_+=W_*(D2*V2.y-G2*V2.x+V2.z),Z_.m_angularVelocity=u2,N_.m_angularVelocity=v_},K2.prototype.SolvePositionConstraints=function(){var P_,E_=0,Z_=this.m_bodyA,N_=this.m_bodyB;P_=Z_.m_xf.R;var s2=this.m_localAnchorA.x-Z_.m_sweep.localCenter.x,u2=this.m_localAnchorA.y-Z_.m_sweep.localCenter.y;E_=P_.col1.x*s2+P_.col2.x*u2,u2=P_.col1.y*s2+P_.col2.y*u2,s2=E_,P_=N_.m_xf.R;var p2=this.m_localAnchorB.x-N_.m_sweep.localCenter.x,v_=this.m_localAnchorB.y-N_.m_sweep.localCenter.y;E_=P_.col1.x*p2+P_.col2.x*v_,v_=P_.col1.y*p2+P_.col2.y*v_,p2=E_,P_=Z_.m_invMass,E_=N_.m_invMass;var F_=Z_.m_invI,$_=N_.m_invI,C_=N_.m_sweep.c.x+p2-Z_.m_sweep.c.x-s2,W_=N_.m_sweep.c.y+v_-Z_.m_sweep.c.y-u2,t2=N_.m_sweep.a-Z_.m_sweep.a-this.m_referenceAngle,l2=10*V.b2_linearSlop,D2=Math.sqrt(C_*C_+W_*W_),G2=_o.Abs(t2);return D2>l2&&(F_*=1,$_*=1),this.m_mass.col1.x=P_+E_+u2*u2*F_+v_*v_*$_,this.m_mass.col2.x=-u2*s2*F_-v_*p2*$_,this.m_mass.col3.x=-u2*F_-v_*$_,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=P_+E_+s2*s2*F_+p2*p2*$_,this.m_mass.col3.y=s2*F_+p2*$_,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=F_+$_,l2=new l,this.m_mass.Solve33(l2,-C_,-W_,-t2),Z_.m_sweep.c.x-=P_*l2.x,Z_.m_sweep.c.y-=P_*l2.y,Z_.m_sweep.a-=F_*(s2*l2.y-u2*l2.x+l2.z),N_.m_sweep.c.x+=E_*l2.x,N_.m_sweep.c.y+=E_*l2.y,N_.m_sweep.a+=$_*(p2*l2.y-v_*l2.x+l2.z),Z_.SynchronizeTransform(),N_.SynchronizeTransform(),D2<=V.b2_linearSlop&&G2<=V.b2_angularSlop},Y_.inherit($2,Y_.Dynamics.Joints.b2JointDef),$2.prototype.__super=Y_.Dynamics.Joints.b2JointDef.prototype,$2.b2WeldJointDef=function(){Y_.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new _i,this.localAnchorB=new _i},$2.prototype.b2WeldJointDef=function(){this.__super.b2JointDef.call(this),this.type=s_.e_weldJoint,this.referenceAngle=0},$2.prototype.Initialize=function(P_,E_,Z_){this.bodyA=P_,this.bodyB=E_,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(Z_)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(Z_)),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}})();(function(){var V=Y_.Dynamics.b2DebugDraw;V.b2DebugDraw=function(){this.m_xformScale=this.m_fillAlpha=this.m_alpha=this.m_lineThickness=this.m_drawScale=1;var x=this;this.m_sprite={graphics:{clear:function(){x.m_ctx.clearRect(0,0,x.m_ctx.canvas.width,x.m_ctx.canvas.height)}}}},V.prototype._color=function(x,o){return"rgba("+((x&16711680)>>16)+","+((x&65280)>>8)+","+(x&255)+","+o+")"},V.prototype.b2DebugDraw=function(){this.m_drawFlags=0},V.prototype.SetFlags=function(x){x===void 0&&(x=0),this.m_drawFlags=x},V.prototype.GetFlags=function(){return this.m_drawFlags},V.prototype.AppendFlags=function(x){x===void 0&&(x=0),this.m_drawFlags|=x},V.prototype.ClearFlags=function(x){x===void 0&&(x=0),this.m_drawFlags&=~x},V.prototype.SetSprite=function(x){this.m_ctx=x},V.prototype.GetSprite=function(){return this.m_ctx},V.prototype.SetDrawScale=function(x){x===void 0&&(x=0),this.m_drawScale=x},V.prototype.GetDrawScale=function(){return this.m_drawScale},V.prototype.SetLineThickness=function(x){x===void 0&&(x=0),this.m_lineThickness=x,this.m_ctx.strokeWidth=x},V.prototype.GetLineThickness=function(){return this.m_lineThickness},V.prototype.SetAlpha=function(x){x===void 0&&(x=0),this.m_alpha=x},V.prototype.GetAlpha=function(){return this.m_alpha},V.prototype.SetFillAlpha=function(x){x===void 0&&(x=0),this.m_fillAlpha=x},V.prototype.GetFillAlpha=function(){return this.m_fillAlpha},V.prototype.SetXFormScale=function(x){x===void 0&&(x=0),this.m_xformScale=x},V.prototype.GetXFormScale=function(){return this.m_xformScale},V.prototype.DrawPolygon=function(x,o,_o){if(o){var _i=this.m_ctx,l=this.m_drawScale;for(_i.beginPath(),_i.strokeStyle=this._color(_o.color,this.m_alpha),_i.moveTo(x[0].x*l,x[0].y*l),_o=1;_o<o;_o++)_i.lineTo(x[_o].x*l,x[_o].y*l);_i.lineTo(x[0].x*l,x[0].y*l),_i.closePath(),_i.stroke()}},V.prototype.DrawSolidPolygon=function(x,o,_o){if(o){var _i=this.m_ctx,l=this.m_drawScale;for(_i.beginPath(),_i.strokeStyle=this._color(_o.color,this.m_alpha),_i.fillStyle=this._color(_o.color,this.m_fillAlpha),_i.moveTo(x[0].x*l,x[0].y*l),_o=1;_o<o;_o++)_i.lineTo(x[_o].x*l,x[_o].y*l);_i.lineTo(x[0].x*l,x[0].y*l),_i.closePath(),_i.fill(),_i.stroke()}},V.prototype.DrawCircle=function(x,o,_o){if(o){var _i=this.m_ctx,l=this.m_drawScale;_i.beginPath(),_i.strokeStyle=this._color(_o.color,this.m_alpha),_i.arc(x.x*l,x.y*l,o*l,0,Math.PI*2,!0),_i.closePath(),_i.stroke()}},V.prototype.DrawSolidCircle=function(x,o,_o,_i){if(o){var l=this.m_ctx,t_=this.m_drawScale,o_=x.x*t_,i_=x.y*t_;l.moveTo(0,0),l.beginPath(),l.strokeStyle=this._color(_i.color,this.m_alpha),l.fillStyle=this._color(_i.color,this.m_fillAlpha),l.arc(o_,i_,o*t_,0,Math.PI*2,!0),l.moveTo(o_,i_),l.lineTo((x.x+_o.x*o)*t_,(x.y+_o.y*o)*t_),l.closePath(),l.fill(),l.stroke()}},V.prototype.DrawSegment=function(x,o,_o){var _i=this.m_ctx,l=this.m_drawScale;_i.strokeStyle=this._color(_o.color,this.m_alpha),_i.beginPath(),_i.moveTo(x.x*l,x.y*l),_i.lineTo(o.x*l,o.y*l),_i.closePath(),_i.stroke()},V.prototype.DrawTransform=function(x){var o=this.m_ctx,_o=this.m_drawScale;o.beginPath(),o.strokeStyle=this._color(16711680,this.m_alpha),o.moveTo(x.position.x*_o,x.position.y*_o),o.lineTo((x.position.x+this.m_xformScale*x.R.col1.x)*_o,(x.position.y+this.m_xformScale*x.R.col1.y)*_o),o.strokeStyle=this._color(65280,this.m_alpha),o.moveTo(x.position.x*_o,x.position.y*_o),o.lineTo((x.position.x+this.m_xformScale*x.R.col2.x)*_o,(x.position.y+this.m_xformScale*x.R.col2.y)*_o),o.closePath(),o.stroke()}})();var j6;for(j6=0;j6<Y_.postDefs.length;++j6)Y_.postDefs[j6]();delete Y_.postDefs;_F.Box2D=Y_});var zI=40,E_t={x:0,y:-10},WI={x:.5625,y:1},NI={x:1.125,y:0},j_t=5,z_t=0,XI=1/60,YI=3,HI=3,W_t={x:-40,y:0},N_t={x:40,y:0},O_t={x:-7,y:.75},OI={x:.5,y:.5},gV=64,vV=1024;function U_t(V){let x=V.createBoxShape(OI.x,OI.y),o={...O_t};for(let _o=0;_o<zI;++_o){let _i={...o};for(let l=_o;l<zI;++l)V.createBoxBody(x,_i.x,_i.y,j_t),_i.x+=NI.x,_i.y+=NI.y;o.x+=WI.x,o.y+=WI.y}}async function X_t(V,x){return new Promise(o=>{let _o=0;x(0,gV+vV);let _i=()=>{_o<gV?(V.step(XI,YI,HI),x(_o,gV+vV),_o++,window.requestAnimationFrame(_i)):o()};window.requestAnimationFrame(_i)})}async function Y_t(V,x){return new Promise(o=>{let _o=0;x(0,gV+vV);let _i=[],l=()=>{if(_o<vV){let t_=performance.now();V.step(XI,YI,HI),_i.push(performance.now()-t_),x(gV+_o,gV+vV),_o++,window.requestAnimationFrame(l)}else o(_i)};window.requestAnimationFrame(l)})}function H_t(V){let x=0;for(let o of V)x+=o;return x/vV}function UI(V,x){let o=Math.floor(x*V.length/100);return V[o]}function ZI(V){return V.map(x=>x(E_t,W_t,N_t,z_t))}async function KI(V,x){U_t(V),await X_t(V,x);let o=await Y_t(V,x);return{name:V.name,avg:H_t(o),p5:UI(o,5),p95:UI(o,95)}}function QI(V){let x=["Name","avg ms/frame","5th %ile","95th %ile","Ratio"],o=V.map(i_=>[i_.name,i_.avg.toFixed(2),i_.p5.toString(),i_.p95.toString(),(i_.avg/V[0].avg).toFixed(2)]),_o=x.map((i_,_e)=>Math.max(i_.length,...o.map(l_=>l_[_e].length)));function _i(i_){return"-".repeat(i_)}let l=`| ${_o.map(_i).join(" | ")} |`,t_=[];t_.push(`| ${x.map(o_).join(" | ")} |`),t_.push(l);function o_(i_,_e){let l_=_o[_e];return i_.length<l_?_e>0?" ".repeat(l_-i_.length)+i_:i_+" ".repeat(l_-i_.length):i_}for(let i_ of o)t_.push(`| ${i_.map(o_).join(" | ")} |`);return t_.join(`
`)}var W6={};k_t(W6,{box2dCoreFactory:()=>ect,box2dJsFactory:()=>vat,flyoverBox2dFactory:()=>oct,html5Factory:()=>_ct,planckFactory:()=>gat,webFactory:()=>cct});var nJ=function(V,x){return nJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,_o){o.__proto__=_o}||function(o,_o){for(var _i in _o)Object.prototype.hasOwnProperty.call(_o,_i)&&(o[_i]=_o[_i])},nJ(V,x)};function QA(V,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");nJ(V,x);function o(){this.constructor=V}V.prototype=x===null?Object.create(x):(o.prototype=x.prototype,new o)}var KA=function(){return KA=Object.assign||function(x){for(var o,_o=1,_i=arguments.length;_o<_i;_o++){o=arguments[_o];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(x[l]=o[l])}return x},KA.apply(this,arguments)},LS=function(V,x){(V===null||typeof V>"u")&&(V={});var o=KA({},V);for(var _o in x)x.hasOwnProperty(_o)&&typeof V[_o]>"u"&&(o[_o]=x[_o]);if(typeof Object.getOwnPropertySymbols=="function")for(var _i=Object.getOwnPropertySymbols(x),l=0;l<_i.length;l++){var t_=_i[l];x.propertyIsEnumerable(t_)&&typeof V[t_]>"u"&&(o[t_]=x[t_])}return o},Z_t=Math.random,CS=1e-9,K_t=Number.isFinite;function Q_t(V){return V|=V>>1,V|=V>>2,V|=V>>4,V|=V>>8,V|=V>>16,V+1}function $_t(V){return V>0&&(V&V-1)===0}function nT(V,x,o){return typeof x>"u"?(o=1,x=0):typeof o>"u"&&(o=x,x=0),o>x?(V=(V-x)%(o-x),V+(V<0?o:x)):(V=(V-o)%(x-o),V+(V<=0?x:o))}function kA(V,x,o){return V<x?x:V>o?o:V}function t2t(V,x){return typeof V>"u"?(x=1,V=0):typeof x>"u"&&(x=V,V=0),V===x?V:Z_t()*(x-V)+V}var FP=Object.create(Math);FP.EPSILON=CS;FP.isFinite=K_t;FP.nextPowerOfTwo=Q_t;FP.isPowerOfTwo=$_t;FP.mod=nT;FP.clamp=kA;FP.random=t2t;var $I=Math.abs,EG=Math.sqrt,t3=Math.max,e3=Math.min,e2=function(){function V(x,o){if(!(this instanceof V))return new V(x,o);typeof x>"u"?(this.x=0,this.y=0):typeof x=="object"?(this.x=x.x,this.y=x.y):(this.x=x,this.y=o)}return V.prototype._serialize=function(){return{x:this.x,y:this.y}},V._deserialize=function(x){var o=Object.create(V.prototype);return o.x=x.x,o.y=x.y,o},V.zero=function(){var x=Object.create(V.prototype);return x.x=0,x.y=0,x},V.neo=function(x,o){var _o=Object.create(V.prototype);return _o.x=x,_o.y=o,_o},V.clone=function(x){return V.neo(x.x,x.y)},V.prototype.toString=function(){return JSON.stringify(this)},V.isValid=function(x){return x===null||typeof x>"u"?!1:Number.isFinite(x.x)&&Number.isFinite(x.y)},V.assert=function(x){},V.prototype.clone=function(){return V.clone(this)},V.prototype.setZero=function(){return this.x=0,this.y=0,this},V.prototype.set=function(x,o){return typeof x=="object"?(this.x=x.x,this.y=x.y):(this.x=x,this.y=o),this},V.prototype.setNum=function(x,o){return this.x=x,this.y=o,this},V.prototype.setVec2=function(x){return this.x=x.x,this.y=x.y,this},V.prototype.wSet=function(x,o,_o,_i){return typeof _o<"u"||typeof _i<"u"?this.setCombine(x,o,_o,_i):this.setMul(x,o)},V.prototype.setCombine=function(x,o,_o,_i){var l=x*o.x+_o*_i.x,t_=x*o.y+_o*_i.y;return this.x=l,this.y=t_,this},V.prototype.setMul=function(x,o){var _o=x*o.x,_i=x*o.y;return this.x=_o,this.y=_i,this},V.prototype.add=function(x){return this.x+=x.x,this.y+=x.y,this},V.prototype.wAdd=function(x,o,_o,_i){return typeof _o<"u"||typeof _i<"u"?this.addCombine(x,o,_o,_i):this.addMul(x,o)},V.prototype.addCombine=function(x,o,_o,_i){var l=x*o.x+_o*_i.x,t_=x*o.y+_o*_i.y;return this.x+=l,this.y+=t_,this},V.prototype.addMul=function(x,o){var _o=x*o.x,_i=x*o.y;return this.x+=_o,this.y+=_i,this},V.prototype.wSub=function(x,o,_o,_i){return typeof _o<"u"||typeof _i<"u"?this.subCombine(x,o,_o,_i):this.subMul(x,o)},V.prototype.subCombine=function(x,o,_o,_i){var l=x*o.x+_o*_i.x,t_=x*o.y+_o*_i.y;return this.x-=l,this.y-=t_,this},V.prototype.subMul=function(x,o){var _o=x*o.x,_i=x*o.y;return this.x-=_o,this.y-=_i,this},V.prototype.sub=function(x){return this.x-=x.x,this.y-=x.y,this},V.prototype.mul=function(x){return this.x*=x,this.y*=x,this},V.prototype.length=function(){return V.lengthOf(this)},V.prototype.lengthSquared=function(){return V.lengthSquared(this)},V.prototype.normalize=function(){var x=this.length();if(x<CS)return 0;var o=1/x;return this.x*=o,this.y*=o,x},V.normalize=function(x){var o=V.lengthOf(x);if(o<CS)return V.zero();var _o=1/o;return V.neo(x.x*_o,x.y*_o)},V.lengthOf=function(x){return EG(x.x*x.x+x.y*x.y)},V.lengthSquared=function(x){return x.x*x.x+x.y*x.y},V.distance=function(x,o){var _o=x.x-o.x,_i=x.y-o.y;return EG(_o*_o+_i*_i)},V.distanceSquared=function(x,o){var _o=x.x-o.x,_i=x.y-o.y;return _o*_o+_i*_i},V.areEqual=function(x,o){return x===o||typeof o=="object"&&o!==null&&x.x===o.x&&x.y===o.y},V.skew=function(x){return V.neo(-x.y,x.x)},V.dot=function(x,o){return x.x*o.x+x.y*o.y},V.cross=function(x,o){return typeof o=="number"?V.neo(o*x.y,-o*x.x):typeof x=="number"?V.neo(-x*o.y,x*o.x):x.x*o.y-x.y*o.x},V.crossVec2Vec2=function(x,o){return x.x*o.y-x.y*o.x},V.crossVec2Num=function(x,o){return V.neo(o*x.y,-o*x.x)},V.crossNumVec2=function(x,o){return V.neo(-x*o.y,x*o.x)},V.addCross=function(x,o,_o){if(typeof _o=="number")return V.neo(_o*o.y+x.x,-_o*o.x+x.y);if(typeof o=="number")return V.neo(-o*_o.y+x.x,o*_o.x+x.y)},V.addCrossVec2Num=function(x,o,_o){return V.neo(_o*o.y+x.x,-_o*o.x+x.y)},V.addCrossNumVec2=function(x,o,_o){return V.neo(-o*_o.y+x.x,o*_o.x+x.y)},V.add=function(x,o){return V.neo(x.x+o.x,x.y+o.y)},V.wAdd=function(x,o,_o,_i){return typeof _o<"u"||typeof _i<"u"?V.combine(x,o,_o,_i):V.mulNumVec2(x,o)},V.combine=function(x,o,_o,_i){return V.zero().setCombine(x,o,_o,_i)},V.sub=function(x,o){return V.neo(x.x-o.x,x.y-o.y)},V.mul=function(x,o){if(typeof x=="object")return V.neo(x.x*o,x.y*o);if(typeof o=="object")return V.neo(x*o.x,x*o.y)},V.mulVec2Num=function(x,o){return V.neo(x.x*o,x.y*o)},V.mulNumVec2=function(x,o){return V.neo(x*o.x,x*o.y)},V.prototype.neg=function(){return this.x=-this.x,this.y=-this.y,this},V.neg=function(x){return V.neo(-x.x,-x.y)},V.abs=function(x){return V.neo($I(x.x),$I(x.y))},V.mid=function(x,o){return V.neo((x.x+o.x)*.5,(x.y+o.y)*.5)},V.upper=function(x,o){return V.neo(t3(x.x,o.x),t3(x.y,o.y))},V.lower=function(x,o){return V.neo(e3(x.x,o.x),e3(x.y,o.y))},V.prototype.clamp=function(x){var o=this.x*this.x+this.y*this.y;if(o>x*x){var _o=x/EG(o);this.x*=_o,this.y*=_o}return this},V.clamp=function(x,o){var _o=V.neo(x.x,x.y);return _o.clamp(o),_o},V.clampVec2=function(x,o,_o){return{x:kA(x.x,o?.x,_o?.x),y:kA(x.y,o?.y,_o?.y)}},V.scaleFn=function(x,o){return function(_o){return V.neo(_o.x*x,_o.y*o)}},V.translateFn=function(x,o){return function(_o){return V.neo(_o.x+x,_o.y+o)}},V}(),WS=Math.max,lC=Math.min,RA=function(){function V(x,o){if(!(this instanceof V))return new V(x,o);this.lowerBound=e2.zero(),this.upperBound=e2.zero(),typeof x=="object"&&this.lowerBound.setVec2(x),typeof o=="object"?this.upperBound.setVec2(o):typeof x=="object"&&this.upperBound.setVec2(x)}return V.prototype.isValid=function(){return V.isValid(this)},V.isValid=function(x){return x===null||typeof x>"u"?!1:e2.isValid(x.lowerBound)&&e2.isValid(x.upperBound)&&e2.sub(x.upperBound,x.lowerBound).lengthSquared()>=0},V.assert=function(x){},V.prototype.getCenter=function(){return e2.neo((this.lowerBound.x+this.upperBound.x)*.5,(this.lowerBound.y+this.upperBound.y)*.5)},V.prototype.getExtents=function(){return e2.neo((this.upperBound.x-this.lowerBound.x)*.5,(this.upperBound.y-this.lowerBound.y)*.5)},V.prototype.getPerimeter=function(){return 2*(this.upperBound.x-this.lowerBound.x+this.upperBound.y-this.lowerBound.y)},V.prototype.combine=function(x,o){o=o||this;var _o=x.lowerBound,_i=x.upperBound,l=o.lowerBound,t_=o.upperBound,o_=lC(_o.x,l.x),i_=lC(_o.y,l.y),_e=WS(t_.x,_i.x),l_=WS(t_.y,_i.y);this.lowerBound.setNum(o_,i_),this.upperBound.setNum(_e,l_)},V.prototype.combinePoints=function(x,o){this.lowerBound.setNum(lC(x.x,o.x),lC(x.y,o.y)),this.upperBound.setNum(WS(x.x,o.x),WS(x.y,o.y))},V.prototype.set=function(x){this.lowerBound.setNum(x.lowerBound.x,x.lowerBound.y),this.upperBound.setNum(x.upperBound.x,x.upperBound.y)},V.prototype.contains=function(x){var o=!0;return o=o&&this.lowerBound.x<=x.lowerBound.x,o=o&&this.lowerBound.y<=x.lowerBound.y,o=o&&x.upperBound.x<=this.upperBound.x,o=o&&x.upperBound.y<=this.upperBound.y,o},V.prototype.extend=function(x){return V.extend(this,x),this},V.extend=function(x,o){return x.lowerBound.x-=o,x.lowerBound.y-=o,x.upperBound.x+=o,x.upperBound.y+=o,x},V.testOverlap=function(x,o){var _o=o.lowerBound.x-x.upperBound.x,_i=x.lowerBound.x-o.upperBound.x,l=o.lowerBound.y-x.upperBound.y,t_=x.lowerBound.y-o.upperBound.y;return!(_o>0||l>0||_i>0||t_>0)},V.areEqual=function(x,o){return e2.areEqual(x.lowerBound,o.lowerBound)&&e2.areEqual(x.upperBound,o.upperBound)},V.diff=function(x,o){var _o=WS(0,lC(x.upperBound.x,o.upperBound.x)-WS(o.lowerBound.x,x.lowerBound.x)),_i=WS(0,lC(x.upperBound.y,o.upperBound.y)-WS(o.lowerBound.y,x.lowerBound.y)),l=x.upperBound.x-x.lowerBound.x,t_=x.upperBound.y-x.lowerBound.y,o_=o.upperBound.x-o.lowerBound.x,i_=o.upperBound.y-o.lowerBound.y;return l*t_+o_*i_-_o*_i},V.prototype.rayCast=function(x,o){for(var _o=-1/0,_i=1/0,l=o.p1,t_=e2.sub(o.p2,o.p1),o_=e2.abs(t_),i_=e2.zero(),_e="x";_e!==null;_e=_e==="x"?"y":null)if(o_.x<CS){if(l[_e]<this.lowerBound[_e]||this.upperBound[_e]<l[_e])return!1}else{var l_=1/t_[_e],ws=(this.lowerBound[_e]-l[_e])*l_,h_=(this.upperBound[_e]-l[_e])*l_,s_=-1;if(ws>h_){var B_=ws;ws=h_,h_=B_,s_=1}if(ws>_o&&(i_.setZero(),i_[_e]=s_,_o=ws),_i=lC(_i,h_),_o>_i)return!1}return _o<0||o.maxFraction<_o?!1:(x.fraction=_o,x.normal=i_,!0)},V.prototype.toString=function(){return JSON.stringify(this)},V.combinePoints=function(x,o,_o){return x.lowerBound.x=lC(o.x,_o.x),x.lowerBound.y=lC(o.y,_o.y),x.upperBound.x=WS(o.x,_o.x),x.upperBound.y=WS(o.y,_o.y),x},V.combinedPerimeter=function(x,o){var _o=lC(x.lowerBound.x,o.lowerBound.x),_i=lC(x.lowerBound.y,o.lowerBound.y),l=WS(x.upperBound.x,o.upperBound.x),t_=WS(x.upperBound.y,o.upperBound.y);return 2*(l-_o+t_-_i)},V}(),aD=Math.PI,Cy=function(){function V(){}return Object.defineProperty(V,"polygonRadius",{get:function(){return 2*V.linearSlop},enumerable:!1,configurable:!0}),V.lengthUnitsPerMeter=1,V.maxManifoldPoints=2,V.maxPolygonVertices=12,V.aabbExtension=.1,V.aabbMultiplier=2,V.linearSlop=.005,V.angularSlop=2/180*aD,V.maxSubSteps=8,V.maxTOIContacts=32,V.maxTOIIterations=20,V.maxDistanceIterations=20,V.velocityThreshold=1,V.maxLinearCorrection=.2,V.maxAngularCorrection=8/180*aD,V.maxTranslation=2,V.maxRotation=.5*aD,V.baumgarte=.2,V.toiBaugarte=.75,V.timeToSleep=.5,V.linearSleepTolerance=.01,V.angularSleepTolerance=2/180*aD,V}(),w0=function(){function V(){}return Object.defineProperty(V,"maxManifoldPoints",{get:function(){return Cy.maxManifoldPoints},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxPolygonVertices",{get:function(){return Cy.maxPolygonVertices},enumerable:!1,configurable:!0}),Object.defineProperty(V,"aabbExtension",{get:function(){return Cy.aabbExtension*Cy.lengthUnitsPerMeter},enumerable:!1,configurable:!0}),Object.defineProperty(V,"aabbMultiplier",{get:function(){return Cy.aabbMultiplier},enumerable:!1,configurable:!0}),Object.defineProperty(V,"linearSlop",{get:function(){return Cy.linearSlop*Cy.lengthUnitsPerMeter},enumerable:!1,configurable:!0}),Object.defineProperty(V,"linearSlopSquared",{get:function(){return Cy.linearSlop*Cy.lengthUnitsPerMeter*Cy.linearSlop*Cy.lengthUnitsPerMeter},enumerable:!1,configurable:!0}),Object.defineProperty(V,"angularSlop",{get:function(){return Cy.angularSlop},enumerable:!1,configurable:!0}),Object.defineProperty(V,"polygonRadius",{get:function(){return 2*Cy.linearSlop},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxSubSteps",{get:function(){return Cy.maxSubSteps},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxTOIContacts",{get:function(){return Cy.maxTOIContacts},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxTOIIterations",{get:function(){return Cy.maxTOIIterations},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxDistanceIterations",{get:function(){return Cy.maxDistanceIterations},enumerable:!1,configurable:!0}),Object.defineProperty(V,"velocityThreshold",{get:function(){return Cy.velocityThreshold*Cy.lengthUnitsPerMeter},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxLinearCorrection",{get:function(){return Cy.maxLinearCorrection*Cy.lengthUnitsPerMeter},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxAngularCorrection",{get:function(){return Cy.maxAngularCorrection},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxTranslation",{get:function(){return Cy.maxTranslation*Cy.lengthUnitsPerMeter},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxTranslationSquared",{get:function(){return Cy.maxTranslation*Cy.lengthUnitsPerMeter*Cy.maxTranslation*Cy.lengthUnitsPerMeter},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxRotation",{get:function(){return Cy.maxRotation},enumerable:!1,configurable:!0}),Object.defineProperty(V,"maxRotationSquared",{get:function(){return Cy.maxRotation*Cy.maxRotation},enumerable:!1,configurable:!0}),Object.defineProperty(V,"baumgarte",{get:function(){return Cy.baumgarte},enumerable:!1,configurable:!0}),Object.defineProperty(V,"toiBaugarte",{get:function(){return Cy.toiBaugarte},enumerable:!1,configurable:!0}),Object.defineProperty(V,"timeToSleep",{get:function(){return Cy.timeToSleep},enumerable:!1,configurable:!0}),Object.defineProperty(V,"linearSleepTolerance",{get:function(){return Cy.linearSleepTolerance*Cy.lengthUnitsPerMeter},enumerable:!1,configurable:!0}),Object.defineProperty(V,"linearSleepToleranceSqr",{get:function(){return Cy.linearSleepTolerance*Cy.lengthUnitsPerMeter*Cy.linearSleepTolerance*Cy.lengthUnitsPerMeter},enumerable:!1,configurable:!0}),Object.defineProperty(V,"angularSleepTolerance",{get:function(){return Cy.angularSleepTolerance},enumerable:!1,configurable:!0}),Object.defineProperty(V,"angularSleepToleranceSqr",{get:function(){return Cy.angularSleepTolerance*Cy.angularSleepTolerance},enumerable:!1,configurable:!0}),V}(),U4=function(){function V(x){this._list=[],this._max=1/0,this._hasCreateFn=!1,this._createCount=0,this._hasAllocateFn=!1,this._allocateCount=0,this._hasReleaseFn=!1,this._releaseCount=0,this._hasDisposeFn=!1,this._disposeCount=0,this._list=[],this._max=x.max||this._max,this._createFn=x.create,this._hasCreateFn=typeof this._createFn=="function",this._allocateFn=x.allocate,this._hasAllocateFn=typeof this._allocateFn=="function",this._releaseFn=x.release,this._hasReleaseFn=typeof this._releaseFn=="function",this._disposeFn=x.dispose,this._hasDisposeFn=typeof this._disposeFn=="function"}return V.prototype.max=function(x){return typeof x=="number"?(this._max=x,this):this._max},V.prototype.size=function(){return this._list.length},V.prototype.allocate=function(){var x;return this._list.length>0?x=this._list.shift():(this._createCount++,this._hasCreateFn?x=this._createFn():x={}),this._allocateCount++,this._hasAllocateFn&&this._allocateFn(x),x},V.prototype.release=function(x){this._list.length<this._max?(this._releaseCount++,this._hasReleaseFn&&this._releaseFn(x),this._list.push(x)):(this._disposeCount++,this._hasDisposeFn&&(x=this._disposeFn(x)))},V.prototype.toString=function(){return" +"+this._createCount+" >"+this._allocateCount+" <"+this._releaseCount+" -"+this._disposeCount+" ="+this._list.length+"/"+this._max},V}(),o3=Math.abs,JS=Math.max,e2t=function(){function V(x){this.aabb=new RA,this.userData=null,this.parent=null,this.child1=null,this.child2=null,this.height=-1,this.id=x}return V.prototype.toString=function(){return this.id+": "+this.userData},V.prototype.isLeaf=function(){return this.child1==null},V}(),i3=new U4({create:function(){return new e2t},release:function(V){V.userData=null,V.parent=null,V.child1=null,V.child2=null,V.height=-1,V.id=void 0}}),o2t=function(){function V(){this.inputPool=new U4({create:function(){return{}},release:function(x){}}),this.stackPool=new U4({create:function(){return[]},release:function(x){x.length=0}}),this.iteratorPool=new U4({create:function(){return new i2t},release:function(x){x.close()}}),this.m_root=null,this.m_nodes={},this.m_lastProxyId=0}return V.prototype.getUserData=function(x){var o=this.m_nodes[x];return o.userData},V.prototype.getFatAABB=function(x){var o=this.m_nodes[x];return o.aabb},V.prototype.allocateNode=function(){var x=i3.allocate();return x.id=++this.m_lastProxyId,this.m_nodes[x.id]=x,x},V.prototype.freeNode=function(x){delete this.m_nodes[x.id],i3.release(x)},V.prototype.createProxy=function(x,o){var _o=this.allocateNode();return _o.aabb.set(x),RA.extend(_o.aabb,w0.aabbExtension),_o.userData=o,_o.height=0,this.insertLeaf(_o),_o.id},V.prototype.destroyProxy=function(x){var o=this.m_nodes[x];this.removeLeaf(o),this.freeNode(o)},V.prototype.moveProxy=function(x,o,_o){var _i=this.m_nodes[x];return _i.aabb.contains(o)?!1:(this.removeLeaf(_i),_i.aabb.set(o),o=_i.aabb,RA.extend(o,w0.aabbExtension),_o.x<0?o.lowerBound.x+=_o.x*w0.aabbMultiplier:o.upperBound.x+=_o.x*w0.aabbMultiplier,_o.y<0?o.lowerBound.y+=_o.y*w0.aabbMultiplier:o.upperBound.y+=_o.y*w0.aabbMultiplier,this.insertLeaf(_i),!0)},V.prototype.insertLeaf=function(x){if(this.m_root==null){this.m_root=x,this.m_root.parent=null;return}for(var o=x.aabb,_o=this.m_root;!_o.isLeaf();){var _i=_o.child1,l=_o.child2,t_=_o.aabb.getPerimeter(),o_=RA.combinedPerimeter(_o.aabb,o),i_=2*o_,_e=2*(o_-t_),l_=RA.combinedPerimeter(o,_i.aabb),ws=l_+_e;if(!_i.isLeaf()){var h_=_i.aabb.getPerimeter();ws-=h_}var s_=RA.combinedPerimeter(o,l.aabb),B_=s_+_e;if(!l.isLeaf()){var h_=l.aabb.getPerimeter();B_-=h_}if(i_<ws&&i_<B_)break;ws<B_?_o=_i:_o=l}var D_=_o,y_=D_.parent,G_=this.allocateNode();for(G_.parent=y_,G_.userData=null,G_.aabb.combine(o,D_.aabb),G_.height=D_.height+1,y_!=null?(y_.child1===D_?y_.child1=G_:y_.child2=G_,G_.child1=D_,G_.child2=x,D_.parent=G_,x.parent=G_):(G_.child1=D_,G_.child2=x,D_.parent=G_,x.parent=G_,this.m_root=G_),_o=x.parent;_o!=null;){_o=this.balance(_o);var _i=_o.child1,l=_o.child2;_o.height=1+JS(_i.height,l.height),_o.aabb.combine(_i.aabb,l.aabb),_o=_o.parent}},V.prototype.removeLeaf=function(x){if(x===this.m_root){this.m_root=null;return}var o=x.parent,_o=o.parent,_i;if(o.child1===x?_i=o.child2:_i=o.child1,_o!=null){_o.child1===o?_o.child1=_i:_o.child2=_i,_i.parent=_o,this.freeNode(o);for(var l=_o;l!=null;){l=this.balance(l);var t_=l.child1,o_=l.child2;l.aabb.combine(t_.aabb,o_.aabb),l.height=1+JS(t_.height,o_.height),l=l.parent}}else this.m_root=_i,_i.parent=null,this.freeNode(o)},V.prototype.balance=function(x){var o=x;if(o.isLeaf()||o.height<2)return x;var _o=o.child1,_i=o.child2,l=_i.height-_o.height;if(l>1){var t_=_i.child1,o_=_i.child2;return _i.child1=o,_i.parent=o.parent,o.parent=_i,_i.parent!=null?_i.parent.child1===x?_i.parent.child1=_i:_i.parent.child2=_i:this.m_root=_i,t_.height>o_.height?(_i.child2=t_,o.child2=o_,o_.parent=o,o.aabb.combine(_o.aabb,o_.aabb),_i.aabb.combine(o.aabb,t_.aabb),o.height=1+JS(_o.height,o_.height),_i.height=1+JS(o.height,t_.height)):(_i.child2=o_,o.child2=t_,t_.parent=o,o.aabb.combine(_o.aabb,t_.aabb),_i.aabb.combine(o.aabb,o_.aabb),o.height=1+JS(_o.height,t_.height),_i.height=1+JS(o.height,o_.height)),_i}if(l<-1){var i_=_o.child1,_e=_o.child2;return _o.child1=o,_o.parent=o.parent,o.parent=_o,_o.parent!=null?_o.parent.child1===o?_o.parent.child1=_o:_o.parent.child2=_o:this.m_root=_o,i_.height>_e.height?(_o.child2=i_,o.child1=_e,_e.parent=o,o.aabb.combine(_i.aabb,_e.aabb),_o.aabb.combine(o.aabb,i_.aabb),o.height=1+JS(_i.height,_e.height),_o.height=1+JS(o.height,i_.height)):(_o.child2=_e,o.child1=i_,i_.parent=o,o.aabb.combine(_i.aabb,i_.aabb),_o.aabb.combine(o.aabb,_e.aabb),o.height=1+JS(_i.height,i_.height),_o.height=1+JS(o.height,_e.height)),_o}return o},V.prototype.getHeight=function(){return this.m_root==null?0:this.m_root.height},V.prototype.getAreaRatio=function(){if(this.m_root==null)return 0;for(var x=this.m_root,o=x.aabb.getPerimeter(),_o=0,_i,l=this.iteratorPool.allocate().preorder(this.m_root);_i=l.next();)_i.height<0||(_o+=_i.aabb.getPerimeter());return this.iteratorPool.release(l),_o/o},V.prototype.computeHeight=function(x){var o;if(typeof x<"u"?o=this.m_nodes[x]:o=this.m_root,o.isLeaf())return 0;var _o=this.computeHeight(o.child1.id),_i=this.computeHeight(o.child2.id);return 1+JS(_o,_i)},V.prototype.validateStructure=function(x){if(x!=null){this.m_root;var o=x.child1,_o=x.child2;x.isLeaf()||(this.validateStructure(o),this.validateStructure(_o))}},V.prototype.validateMetrics=function(x){if(x!=null){var o=x.child1,_o=x.child2;if(!x.isLeaf()){o.height,_o.height;var _i=new RA;_i.combine(o.aabb,_o.aabb),this.validateMetrics(o),this.validateMetrics(_o)}}},V.prototype.validate=function(){},V.prototype.getMaxBalance=function(){for(var x=0,o,_o=this.iteratorPool.allocate().preorder(this.m_root);o=_o.next();)if(!(o.height<=1)){var _i=o3(o.child2.height-o.child1.height);x=JS(x,_i)}return this.iteratorPool.release(_o),x},V.prototype.rebuildBottomUp=function(){for(var x=[],o=0,_o,_i=this.iteratorPool.allocate().preorder(this.m_root);_o=_i.next();)_o.height<0||(_o.isLeaf()?(_o.parent=null,x[o]=_o,++o):this.freeNode(_o));for(this.iteratorPool.release(_i);o>1;){for(var l=1/0,t_=-1,o_=-1,i_=0;i_<o;++i_)for(var _e=x[i_].aabb,l_=i_+1;l_<o;++l_){var ws=x[l_].aabb,h_=RA.combinedPerimeter(_e,ws);h_<l&&(t_=i_,o_=l_,l=h_)}var s_=x[t_],B_=x[o_],D_=this.allocateNode();D_.child1=s_,D_.child2=B_,D_.height=1+JS(s_.height,B_.height),D_.aabb.combine(s_.aabb,B_.aabb),D_.parent=null,s_.parent=D_,B_.parent=D_,x[o_]=x[o-1],x[t_]=D_,--o}this.m_root=x[0]},V.prototype.shiftOrigin=function(x){for(var o,_o=this.iteratorPool.allocate().preorder(this.m_root);o=_o.next();){var _i=o.aabb;_i.lowerBound.x-=x.x,_i.lowerBound.y-=x.y,_i.upperBound.x-=x.x,_i.upperBound.y-=x.y}this.iteratorPool.release(_o)},V.prototype.query=function(x,o){var _o=this.stackPool.allocate();for(_o.push(this.m_root);_o.length>0;){var _i=_o.pop();if(_i!=null&&RA.testOverlap(_i.aabb,x))if(_i.isLeaf()){var l=o(_i.id);if(l===!1)return}else _o.push(_i.child1),_o.push(_i.child2)}this.stackPool.release(_o)},V.prototype.rayCast=function(x,o){var _o=x.p1,_i=x.p2,l=e2.sub(_i,_o);l.normalize();var t_=e2.crossNumVec2(1,l),o_=e2.abs(t_),i_=x.maxFraction,_e=new RA,l_=e2.combine(1-i_,_o,i_,_i);_e.combinePoints(_o,l_);var ws=this.stackPool.allocate(),h_=this.inputPool.allocate();for(ws.push(this.m_root);ws.length>0;){var s_=ws.pop();if(s_!=null&&RA.testOverlap(s_.aabb,_e)!==!1){var B_=s_.aabb.getCenter(),D_=s_.aabb.getExtents(),y_=o3(e2.dot(t_,e2.sub(_o,B_)))-e2.dot(o_,D_);if(!(y_>0))if(s_.isLeaf()){h_.p1=e2.clone(x.p1),h_.p2=e2.clone(x.p2),h_.maxFraction=i_;var G_=o(h_,s_.id);if(G_===0)break;G_>0&&(i_=G_,l_=e2.combine(1-i_,_o,i_,_i),_e.combinePoints(_o,l_))}else ws.push(s_.child1),ws.push(s_.child2)}}this.stackPool.release(ws),this.inputPool.release(h_)},V}(),i2t=function(){function V(){this.parents=[],this.states=[]}return V.prototype.preorder=function(x){return this.parents.length=0,this.parents.push(x),this.states.length=0,this.states.push(0),this},V.prototype.next=function(){for(;this.parents.length>0;){var x=this.parents.length-1,o=this.parents[x];if(this.states[x]===0)return this.states[x]=1,o;if(this.states[x]===1&&(this.states[x]=2,o.child1))return this.parents.push(o.child1),this.states.push(1),o.child1;if(this.states[x]===2&&(this.states[x]=3,o.child2))return this.parents.push(o.child2),this.states.push(1),o.child2;this.parents.pop(),this.states.pop()}},V.prototype.close=function(){this.parents.length=0},V}(),r2t=Math.max,n2t=Math.min,s2t=function(){function V(){var x=this;this.m_tree=new o2t,this.m_moveBuffer=[],this.query=function(o,_o){x.m_tree.query(o,_o)},this.queryCallback=function(o){if(o===x.m_queryProxyId)return!0;var _o=n2t(o,x.m_queryProxyId),_i=r2t(o,x.m_queryProxyId),l=x.m_tree.getUserData(_o),t_=x.m_tree.getUserData(_i);return x.m_callback(l,t_),!0}}return V.prototype.getUserData=function(x){return this.m_tree.getUserData(x)},V.prototype.testOverlap=function(x,o){var _o=this.m_tree.getFatAABB(x),_i=this.m_tree.getFatAABB(o);return RA.testOverlap(_o,_i)},V.prototype.getFatAABB=function(x){return this.m_tree.getFatAABB(x)},V.prototype.getProxyCount=function(){return this.m_moveBuffer.length},V.prototype.getTreeHeight=function(){return this.m_tree.getHeight()},V.prototype.getTreeBalance=function(){return this.m_tree.getMaxBalance()},V.prototype.getTreeQuality=function(){return this.m_tree.getAreaRatio()},V.prototype.rayCast=function(x,o){this.m_tree.rayCast(x,o)},V.prototype.shiftOrigin=function(x){this.m_tree.shiftOrigin(x)},V.prototype.createProxy=function(x,o){var _o=this.m_tree.createProxy(x,o);return this.bufferMove(_o),_o},V.prototype.destroyProxy=function(x){this.unbufferMove(x),this.m_tree.destroyProxy(x)},V.prototype.moveProxy=function(x,o,_o){var _i=this.m_tree.moveProxy(x,o,_o);_i&&this.bufferMove(x)},V.prototype.touchProxy=function(x){this.bufferMove(x)},V.prototype.bufferMove=function(x){this.m_moveBuffer.push(x)},V.prototype.unbufferMove=function(x){for(var o=0;o<this.m_moveBuffer.length;++o)this.m_moveBuffer[o]===x&&(this.m_moveBuffer[o]=null)},V.prototype.updatePairs=function(x){for(this.m_callback=x;this.m_moveBuffer.length>0;)if(this.m_queryProxyId=this.m_moveBuffer.pop(),this.m_queryProxyId!==null){var o=this.m_tree.getFatAABB(this.m_queryProxyId);this.m_tree.query(o,this.queryCallback)}},V}(),sT=Math.sin,_T=Math.cos,sJ=Math.sqrt;function _m(V,x){return{x:V,y:x}}function _2t(V){return{s:sT(V),c:_T(V)}}function LA(V,x,o){return V.x=x,V.y=o,V}function ha(V,x){return V.x=x.x,V.y=x.y,V}function Y0(V){return V.x=0,V.y=0,V}function Y4(V){return V.x=-V.x,V.y=-V.y,V}function YS(V,x){return V.x+=x.x,V.y+=x.y,V}function a2t(V,x,o){return V.x=x.x+o.x,V.y=x.x+o.y,V}function lB(V,x){return V.x-=x.x,V.y-=x.y,V}function ny(V,x,o){return V.x=x.x-o.x,V.y=x.y-o.y,V}function r3(V,x){return V.x*=x,V.y*=x,V}function K0(V,x,o){return V.x=x*o.x,V.y=x*o.y,V}function dC(V,x,o){return V.x+=x*o.x,V.y+=x*o.y,V}function O4(V,x,o){return V.x-=x*o.x,V.y-=x*o.y,V}function E1(V,x,o,_o,_i){return V.x=x*o.x+_o*_i.x,V.y=x*o.y+_o*_i.y,V}function RC(V,x,o,_o,_i,l,t_){return V.x=x*o.x+_o*_i.x+l*t_.x,V.y=x*o.y+_o*_i.y+l*t_.y,V}function p2t(V){var x=sJ(V.x*V.x+V.y*V.y);if(x!==0){var o=1/x;V.x*=o,V.y*=o}return x}function yC(V){var x=sJ(V.x*V.x+V.y*V.y);if(x>0){var o=1/x;V.x*=o,V.y*=o}return V}function DP(V,x,o){var _o=o*x.y,_i=-o*x.x;return V.x=_o,V.y=_i,V}function FS(V,x,o){var _o=-x*o.y,_i=x*o.x;return V.x=_o,V.y=_i,V}function By(V,x){return V.x*x.y-V.y*x.x}function y0(V,x){return V.x*x.x+V.y*x.y}function GP(V){return V.x*V.x+V.y*V.y}function aT(V,x){var o=V.x-x.x,_o=V.y-x.y;return sJ(o*o+_o*_o)}function JP(V,x){var o=V.x-x.x,_o=V.y-x.y;return o*o+_o*_o}function c2t(V,x){return V.c=_T(x),V.s=sT(x),V}function ZS(V,x,o){return V.x=x.c*o.x-x.s*o.y,V.y=x.s*o.x+x.c*o.y,V}function RV(V,x,o){var _o=x.c*o.x+x.s*o.y,_i=-x.s*o.x+x.c*o.y;return V.x=_o,V.y=_i,V}function l2t(V,x,o,_o){var _i=x.c*_o.x+x.s*_o.y,l=-x.s*_o.x+x.c*_o.y,t_=o.c*_i-o.s*l,o_=o.s*_i+o.c*l;return V.x=t_,V.y=o_,V}function RP(V,x,o){return{p:_m(V,x),q:_2t(o)}}function FD(V,x){return V.p.x=x.p.x,V.p.y=x.p.y,V.q.s=x.q.s,V.q.c=x.q.c,V}function ry(V,x,o){var _o=x.q.c*o.x-x.q.s*o.y+x.p.x,_i=x.q.s*o.x+x.q.c*o.y+x.p.y;return V.x=_o,V.y=_i,V}function _J(V,x,o){var _o=o.x-x.p.x,_i=o.y-x.p.y,l=x.q.c*_o+x.q.s*_i,t_=-x.q.s*_o+x.q.c*_i;return V.x=l,V.y=t_,V}function pT(V,x,o,_o){var _i=x.q.c*_o.x-x.q.s*_o.y+x.p.x,l=x.q.s*_o.x+x.q.c*_o.y+x.p.y,t_=_i-o.p.x,o_=l-o.p.y,i_=o.q.c*t_+o.q.s*o_,_e=-o.q.s*t_+o.q.c*o_;return V.x=i_,V.y=_e,V}function cT(V,x,o){var _o=x.q.c*o.q.c+x.q.s*o.q.s,_i=x.q.c*o.q.s-x.q.s*o.q.c,l=x.q.c*(o.p.x-x.p.x)+x.q.s*(o.p.y-x.p.y),t_=-x.q.s*(o.p.x-x.p.x)+x.q.c*(o.p.y-x.p.y);return V.q.c=_o,V.q.s=_i,V.p.x=l,V.p.y=t_,V}var n3=Math.sin,s3=Math.cos,m2t=Math.atan2,r0=function(){function V(x){if(!(this instanceof V))return new V(x);typeof x=="number"?this.setAngle(x):typeof x=="object"?this.setRot(x):this.setIdentity()}return V.neo=function(x){var o=Object.create(V.prototype);return o.setAngle(x),o},V.clone=function(x){var o=Object.create(V.prototype);return o.s=x.s,o.c=x.c,o},V.identity=function(){var x=Object.create(V.prototype);return x.s=0,x.c=1,x},V.isValid=function(x){return x===null||typeof x>"u"?!1:Number.isFinite(x.s)&&Number.isFinite(x.c)},V.assert=function(x){},V.prototype.setIdentity=function(){this.s=0,this.c=1},V.prototype.set=function(x){typeof x=="object"?(this.s=x.s,this.c=x.c):(this.s=n3(x),this.c=s3(x))},V.prototype.setRot=function(x){this.s=x.s,this.c=x.c},V.prototype.setAngle=function(x){this.s=n3(x),this.c=s3(x)},V.prototype.getAngle=function(){return m2t(this.s,this.c)},V.prototype.getXAxis=function(){return e2.neo(this.c,this.s)},V.prototype.getYAxis=function(){return e2.neo(-this.s,this.c)},V.mul=function(x,o){if("c"in o&&"s"in o){var _o=V.identity();return _o.s=x.s*o.c+x.c*o.s,_o.c=x.c*o.c-x.s*o.s,_o}else if("x"in o&&"y"in o)return e2.neo(x.c*o.x-x.s*o.y,x.s*o.x+x.c*o.y)},V.mulRot=function(x,o){var _o=V.identity();return _o.s=x.s*o.c+x.c*o.s,_o.c=x.c*o.c-x.s*o.s,_o},V.mulVec2=function(x,o){return e2.neo(x.c*o.x-x.s*o.y,x.s*o.x+x.c*o.y)},V.mulSub=function(x,o,_o){var _i=x.c*(o.x-_o.x)-x.s*(o.y-_o.y),l=x.s*(o.x-_o.x)+x.c*(o.y-_o.y);return e2.neo(_i,l)},V.mulT=function(x,o){if("c"in o&&"s"in o){var _o=V.identity();return _o.s=x.c*o.s-x.s*o.c,_o.c=x.c*o.c+x.s*o.s,_o}else if("x"in o&&"y"in o)return e2.neo(x.c*o.x+x.s*o.y,-x.s*o.x+x.c*o.y)},V.mulTRot=function(x,o){var _o=V.identity();return _o.s=x.c*o.s-x.s*o.c,_o.c=x.c*o.c+x.s*o.s,_o},V.mulTVec2=function(x,o){return e2.neo(x.c*o.x+x.s*o.y,-x.s*o.x+x.c*o.y)},V}(),b2t=Math.atan2,_3=Math.PI,yP=_m(0,0),LV=function(){function V(){this.localCenter=e2.zero(),this.c=e2.zero(),this.a=0,this.alpha0=0,this.c0=e2.zero(),this.a0=0}return V.prototype.recycle=function(){Y0(this.localCenter),Y0(this.c),this.a=0,this.alpha0=0,Y0(this.c0),this.a0=0},V.prototype.setTransform=function(x){ry(yP,x,this.localCenter),ha(this.c,yP),ha(this.c0,yP),this.a=this.a0=b2t(x.q.s,x.q.c)},V.prototype.setLocalCenter=function(x,o){ha(this.localCenter,x),ry(yP,o,this.localCenter),ha(this.c,yP),ha(this.c0,yP)},V.prototype.getTransform=function(x,o){o===void 0&&(o=0),c2t(x.q,(1-o)*this.a0+o*this.a),E1(x.p,1-o,this.c0,o,this.c),lB(x.p,ZS(yP,x.q,this.localCenter))},V.prototype.advance=function(x){var o=(x-this.alpha0)/(1-this.alpha0);E1(this.c0,o,this.c,1-o,this.c0),this.a0=o*this.a+(1-o)*this.a0,this.alpha0=x},V.prototype.forward=function(){this.a0=this.a,ha(this.c0,this.c)},V.prototype.normalize=function(){var x=nT(this.a0,-_3,+_3);this.a-=this.a0-x,this.a0=x},V.prototype.set=function(x){ha(this.localCenter,x.localCenter),ha(this.c,x.c),this.a=x.a,this.alpha0=x.alpha0,ha(this.c0,x.c0),this.a0=x.a0},V}(),xC=function(){function V(x,o){if(!(this instanceof V))return new V(x,o);this.p=e2.zero(),this.q=r0.identity(),typeof x<"u"&&this.p.setVec2(x),typeof o<"u"&&this.q.setAngle(o)}return V.clone=function(x){var o=Object.create(V.prototype);return o.p=e2.clone(x.p),o.q=r0.clone(x.q),o},V.neo=function(x,o){var _o=Object.create(V.prototype);return _o.p=e2.clone(x),_o.q=r0.clone(o),_o},V.identity=function(){var x=Object.create(V.prototype);return x.p=e2.zero(),x.q=r0.identity(),x},V.prototype.setIdentity=function(){this.p.setZero(),this.q.setIdentity()},V.prototype.set=function(x,o){typeof o>"u"?(this.p.set(x.p),this.q.set(x.q)):(this.p.set(x),this.q.set(o))},V.prototype.setNum=function(x,o){this.p.setVec2(x),this.q.setAngle(o)},V.prototype.setTransform=function(x){this.p.setVec2(x.p),this.q.setRot(x.q)},V.isValid=function(x){return x===null||typeof x>"u"?!1:e2.isValid(x.p)&&r0.isValid(x.q)},V.assert=function(x){},V.mul=function(x,o){if(Array.isArray(o)){for(var _o=[],_i=0;_i<o.length;_i++)_o[_i]=V.mul(x,o[_i]);return _o}else{if("x"in o&&"y"in o)return V.mulVec2(x,o);if("p"in o&&"q"in o)return V.mulXf(x,o)}},V.mulAll=function(x,o){for(var _o=[],_i=0;_i<o.length;_i++)_o[_i]=V.mul(x,o[_i]);return _o},V.mulFn=function(x){return function(o){return V.mul(x,o)}},V.mulVec2=function(x,o){var _o=x.q.c*o.x-x.q.s*o.y+x.p.x,_i=x.q.s*o.x+x.q.c*o.y+x.p.y;return e2.neo(_o,_i)},V.mulXf=function(x,o){var _o=V.identity();return _o.q=r0.mulRot(x.q,o.q),_o.p=e2.add(r0.mulVec2(x.q,o.p),x.p),_o},V.mulT=function(x,o){if("x"in o&&"y"in o)return V.mulTVec2(x,o);if("p"in o&&"q"in o)return V.mulTXf(x,o)},V.mulTVec2=function(x,o){var _o=o.x-x.p.x,_i=o.y-x.p.y,l=x.q.c*_o+x.q.s*_i,t_=-x.q.s*_o+x.q.c*_i;return e2.neo(l,t_)},V.mulTXf=function(x,o){var _o=V.identity();return _o.q.setRot(r0.mulTRot(x.q,o.q)),_o.p.setVec2(r0.mulTVec2(x.q,e2.sub(o.p,x.p))),_o},V}(),u2t=function(){function V(){this.v=e2.zero(),this.w=0}return V}(),lT=Math.sin,mT=Math.cos,h2t=function(){function V(){this.c=e2.zero(),this.a=0}return V.prototype.getTransform=function(x,o){return x.q.c=mT(this.a),x.q.s=lT(this.a),x.p.x=this.c.x-(x.q.c*o.x-x.q.s*o.y),x.p.y=this.c.y-(x.q.s*o.x+x.q.c*o.y),x},V}();function pD(V,x,o,_o){return V.q.c=mT(_o),V.q.s=lT(_o),V.p.x=o.x-(V.q.c*x.x-V.q.s*x.y),V.p.y=o.y-(V.q.s*x.x+V.q.c*x.y),V}var LP=function(){function V(){this.style={},this.appData={}}return V.isValid=function(x){return x===null||typeof x>"u"?!1:typeof x.m_type=="string"&&typeof x.m_radius=="number"},V}(),a3=new RA,p3=new RA,c3=_m(0,0),d2t={userData:null,friction:.2,restitution:0,density:0,isSensor:!1,filterGroupIndex:0,filterCategoryBits:1,filterMaskBits:65535},l3=function(){function V(x,o){this.aabb=new RA,this.fixture=x,this.childIndex=o}return V}(),RD=function(){function V(x,o,_o){this.style={},this.appData={},o.shape?(_o=o,o=o.shape):typeof _o=="number"&&(_o={density:_o}),_o=LS(_o,d2t),this.m_body=x,this.m_friction=_o.friction,this.m_restitution=_o.restitution,this.m_density=_o.density,this.m_isSensor=_o.isSensor,this.m_filterGroupIndex=_o.filterGroupIndex,this.m_filterCategoryBits=_o.filterCategoryBits,this.m_filterMaskBits=_o.filterMaskBits,this.m_shape=o,this.m_next=null,this.m_proxies=[],this.m_proxyCount=0;for(var _i=this.m_shape.getChildCount(),l=0;l<_i;++l)this.m_proxies[l]=new l3(this,l);this.m_userData=_o.userData,typeof _o.style=="object"&&_o.style!==null&&(this.style=_o.style)}return V.prototype._reset=function(){var x=this.getBody(),o=x.m_world.m_broadPhase;this.destroyProxies(o),this.m_shape._reset&&this.m_shape._reset();for(var _o=this.m_shape.getChildCount(),_i=0;_i<_o;++_i)this.m_proxies[_i]=new l3(this,_i);this.createProxies(o,x.m_xf),x.resetMassData()},V.prototype._serialize=function(){return{friction:this.m_friction,restitution:this.m_restitution,density:this.m_density,isSensor:this.m_isSensor,filterGroupIndex:this.m_filterGroupIndex,filterCategoryBits:this.m_filterCategoryBits,filterMaskBits:this.m_filterMaskBits,shape:this.m_shape}},V._deserialize=function(x,o,_o){var _i=_o(LP,x.shape),l=_i&&new V(o,_i,x);return l},V.prototype.getType=function(){return this.m_shape.m_type},V.prototype.getShape=function(){return this.m_shape},V.prototype.isSensor=function(){return this.m_isSensor},V.prototype.setSensor=function(x){x!=this.m_isSensor&&(this.m_body.setAwake(!0),this.m_isSensor=x)},V.prototype.getUserData=function(){return this.m_userData},V.prototype.setUserData=function(x){this.m_userData=x},V.prototype.getBody=function(){return this.m_body},V.prototype.getNext=function(){return this.m_next},V.prototype.getDensity=function(){return this.m_density},V.prototype.setDensity=function(x){this.m_density=x},V.prototype.getFriction=function(){return this.m_friction},V.prototype.setFriction=function(x){this.m_friction=x},V.prototype.getRestitution=function(){return this.m_restitution},V.prototype.setRestitution=function(x){this.m_restitution=x},V.prototype.testPoint=function(x){return this.m_shape.testPoint(this.m_body.getTransform(),x)},V.prototype.rayCast=function(x,o,_o){return this.m_shape.rayCast(x,o,this.m_body.getTransform(),_o)},V.prototype.getMassData=function(x){this.m_shape.computeMass(x,this.m_density)},V.prototype.getAABB=function(x){return this.m_proxies[x].aabb},V.prototype.createProxies=function(x,o){this.m_proxyCount=this.m_shape.getChildCount();for(var _o=0;_o<this.m_proxyCount;++_o){var _i=this.m_proxies[_o];this.m_shape.computeAABB(_i.aabb,o,_o),_i.proxyId=x.createProxy(_i.aabb,_i)}},V.prototype.destroyProxies=function(x){for(var o=0;o<this.m_proxyCount;++o){var _o=this.m_proxies[o];x.destroyProxy(_o.proxyId),_o.proxyId=null}this.m_proxyCount=0},V.prototype.synchronize=function(x,o,_o){for(var _i=0;_i<this.m_proxyCount;++_i){var l=this.m_proxies[_i];this.m_shape.computeAABB(a3,o,l.childIndex),this.m_shape.computeAABB(p3,_o,l.childIndex),l.aabb.combine(a3,p3),ny(c3,_o.p,o.p),x.moveProxy(l.proxyId,l.aabb,c3)}},V.prototype.setFilterData=function(x){this.m_filterGroupIndex=x.groupIndex,this.m_filterCategoryBits=x.categoryBits,this.m_filterMaskBits=x.maskBits,this.refilter()},V.prototype.getFilterGroupIndex=function(){return this.m_filterGroupIndex},V.prototype.setFilterGroupIndex=function(x){this.m_filterGroupIndex=x,this.refilter()},V.prototype.getFilterCategoryBits=function(){return this.m_filterCategoryBits},V.prototype.setFilterCategoryBits=function(x){this.m_filterCategoryBits=x,this.refilter()},V.prototype.getFilterMaskBits=function(){return this.m_filterMaskBits},V.prototype.setFilterMaskBits=function(x){this.m_filterMaskBits=x,this.refilter()},V.prototype.refilter=function(){if(this.m_body!=null){for(var x=this.m_body.getContactList();x;){var o=x.contact,_o=o.getFixtureA(),_i=o.getFixtureB();(_o==this||_i==this)&&o.flagForFiltering(),x=x.next}var l=this.m_body.getWorld();if(l!=null)for(var t_=l.m_broadPhase,o_=0;o_<this.m_proxyCount;++o_)t_.touchProxy(this.m_proxies[o_].proxyId)}},V.prototype.shouldCollide=function(x){if(x.m_filterGroupIndex===this.m_filterGroupIndex&&x.m_filterGroupIndex!==0)return x.m_filterGroupIndex>0;var o=(x.m_filterMaskBits&this.m_filterCategoryBits)!==0,_o=(x.m_filterCategoryBits&this.m_filterMaskBits)!==0,_i=o&&_o;return _i},V}(),FV="static",m3="kinematic",mC="dynamic",cD=_m(0,0),xP=_m(0,0),lD=_m(0,0),mD=_m(0,0),b3=RP(0,0,0),y2t={type:FV,position:e2.zero(),angle:0,linearVelocity:e2.zero(),angularVelocity:0,linearDamping:0,angularDamping:0,fixedRotation:!1,bullet:!1,gravityScale:1,allowSleep:!0,awake:!0,active:!0,userData:null},r1=function(){function V(x,o){this.style={},this.appData={},o=LS(o,y2t),this.m_world=x,this.m_awakeFlag=o.awake,this.m_autoSleepFlag=o.allowSleep,this.m_bulletFlag=o.bullet,this.m_fixedRotationFlag=o.fixedRotation,this.m_activeFlag=o.active,this.m_islandFlag=!1,this.m_toiFlag=!1,this.m_userData=o.userData,this.m_type=o.type,this.m_type==mC?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_xf=xC.identity(),this.m_xf.p.setVec2(o.position),this.m_xf.q.setAngle(o.angle),this.m_sweep=new LV,this.m_sweep.setTransform(this.m_xf),this.c_velocity=new u2t,this.c_position=new h2t,this.m_force=e2.zero(),this.m_torque=0,this.m_linearVelocity=e2.clone(o.linearVelocity),this.m_angularVelocity=o.angularVelocity,this.m_linearDamping=o.linearDamping,this.m_angularDamping=o.angularDamping,this.m_gravityScale=o.gravityScale,this.m_sleepTime=0,this.m_jointList=null,this.m_contactList=null,this.m_fixtureList=null,this.m_prev=null,this.m_next=null,this.m_destroyed=!1,typeof o.style=="object"&&o.style!==null&&(this.style=o.style)}return V.prototype._serialize=function(){for(var x=[],o=this.m_fixtureList;o;o=o.m_next)x.push(o);return{type:this.m_type,bullet:this.m_bulletFlag,position:this.m_xf.p,angle:this.m_xf.q.getAngle(),linearVelocity:this.m_linearVelocity,angularVelocity:this.m_angularVelocity,fixtures:x}},V._deserialize=function(x,o,_o){var _i=new V(o,x);if(x.fixtures)for(var l=x.fixtures.length-1;l>=0;l--){var t_=_o(RD,x.fixtures[l],_i);_i._addFixture(t_)}return _i},V.prototype.isWorldLocked=function(){return!!(this.m_world&&this.m_world.isLocked())},V.prototype.getWorld=function(){return this.m_world},V.prototype.getNext=function(){return this.m_next},V.prototype.setUserData=function(x){this.m_userData=x},V.prototype.getUserData=function(){return this.m_userData},V.prototype.getFixtureList=function(){return this.m_fixtureList},V.prototype.getJointList=function(){return this.m_jointList},V.prototype.getContactList=function(){return this.m_contactList},V.prototype.isStatic=function(){return this.m_type==FV},V.prototype.isDynamic=function(){return this.m_type==mC},V.prototype.isKinematic=function(){return this.m_type==m3},V.prototype.setStatic=function(){return this.setType(FV),this},V.prototype.setDynamic=function(){return this.setType(mC),this},V.prototype.setKinematic=function(){return this.setType(m3),this},V.prototype.getType=function(){return this.m_type},V.prototype.setType=function(x){if(this.isWorldLocked()!=!0&&this.m_type!=x){this.m_type=x,this.resetMassData(),this.m_type==FV&&(this.m_linearVelocity.setZero(),this.m_angularVelocity=0,this.m_sweep.forward(),this.synchronizeFixtures()),this.setAwake(!0),this.m_force.setZero(),this.m_torque=0;for(var o=this.m_contactList;o;){var _o=o;o=o.next,this.m_world.destroyContact(_o.contact)}this.m_contactList=null;for(var _i=this.m_world.m_broadPhase,l=this.m_fixtureList;l;l=l.m_next)for(var t_=0;t_<l.m_proxyCount;++t_)_i.touchProxy(l.m_proxies[t_].proxyId)}},V.prototype.isBullet=function(){return this.m_bulletFlag},V.prototype.setBullet=function(x){this.m_bulletFlag=!!x},V.prototype.isSleepingAllowed=function(){return this.m_autoSleepFlag},V.prototype.setSleepingAllowed=function(x){this.m_autoSleepFlag=!!x,this.m_autoSleepFlag==!1&&this.setAwake(!0)},V.prototype.isAwake=function(){return this.m_awakeFlag},V.prototype.setAwake=function(x){x?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.setZero(),this.m_angularVelocity=0,this.m_force.setZero(),this.m_torque=0)},V.prototype.isActive=function(){return this.m_activeFlag},V.prototype.setActive=function(x){if(x!=this.m_activeFlag)if(this.m_activeFlag=!!x,this.m_activeFlag){for(var o=this.m_world.m_broadPhase,_o=this.m_fixtureList;_o;_o=_o.m_next)_o.createProxies(o,this.m_xf);this.m_world.m_newFixture=!0}else{for(var o=this.m_world.m_broadPhase,_o=this.m_fixtureList;_o;_o=_o.m_next)_o.destroyProxies(o);for(var _i=this.m_contactList;_i;){var l=_i;_i=_i.next,this.m_world.destroyContact(l.contact)}this.m_contactList=null}},V.prototype.isFixedRotation=function(){return this.m_fixedRotationFlag},V.prototype.setFixedRotation=function(x){this.m_fixedRotationFlag!=x&&(this.m_fixedRotationFlag=!!x,this.m_angularVelocity=0,this.resetMassData())},V.prototype.getTransform=function(){return this.m_xf},V.prototype.setTransform=function(x,o){if(this.isWorldLocked()!=!0){typeof o=="number"?this.m_xf.setNum(x,o):this.m_xf.setTransform(x),this.m_sweep.setTransform(this.m_xf);for(var _o=this.m_world.m_broadPhase,_i=this.m_fixtureList;_i;_i=_i.m_next)_i.synchronize(_o,this.m_xf,this.m_xf);this.setAwake(!0)}},V.prototype.synchronizeTransform=function(){this.m_sweep.getTransform(this.m_xf,1)},V.prototype.synchronizeFixtures=function(){this.m_sweep.getTransform(b3,0);for(var x=this.m_world.m_broadPhase,o=this.m_fixtureList;o;o=o.m_next)o.synchronize(x,b3,this.m_xf)},V.prototype.advance=function(x){this.m_sweep.advance(x),ha(this.m_sweep.c,this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_sweep.getTransform(this.m_xf,1)},V.prototype.getPosition=function(){return this.m_xf.p},V.prototype.setPosition=function(x){this.setTransform(x,this.m_sweep.a)},V.prototype.getAngle=function(){return this.m_sweep.a},V.prototype.setAngle=function(x){this.setTransform(this.m_xf.p,x)},V.prototype.getWorldCenter=function(){return this.m_sweep.c},V.prototype.getLocalCenter=function(){return this.m_sweep.localCenter},V.prototype.getLinearVelocity=function(){return this.m_linearVelocity},V.prototype.getLinearVelocityFromWorldPoint=function(x){var o=e2.sub(x,this.m_sweep.c);return e2.add(this.m_linearVelocity,e2.crossNumVec2(this.m_angularVelocity,o))},V.prototype.getLinearVelocityFromLocalPoint=function(x){return this.getLinearVelocityFromWorldPoint(this.getWorldPoint(x))},V.prototype.setLinearVelocity=function(x){this.m_type!=FV&&(e2.dot(x,x)>0&&this.setAwake(!0),this.m_linearVelocity.setVec2(x))},V.prototype.getAngularVelocity=function(){return this.m_angularVelocity},V.prototype.setAngularVelocity=function(x){this.m_type!=FV&&(x*x>0&&this.setAwake(!0),this.m_angularVelocity=x)},V.prototype.getLinearDamping=function(){return this.m_linearDamping},V.prototype.setLinearDamping=function(x){this.m_linearDamping=x},V.prototype.getAngularDamping=function(){return this.m_angularDamping},V.prototype.setAngularDamping=function(x){this.m_angularDamping=x},V.prototype.getGravityScale=function(){return this.m_gravityScale},V.prototype.setGravityScale=function(x){this.m_gravityScale=x},V.prototype.getMass=function(){return this.m_mass},V.prototype.getInertia=function(){return this.m_I+this.m_mass*e2.dot(this.m_sweep.localCenter,this.m_sweep.localCenter)},V.prototype.getMassData=function(x){x.mass=this.m_mass,x.I=this.getInertia(),ha(x.center,this.m_sweep.localCenter)},V.prototype.resetMassData=function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,Y0(this.m_sweep.localCenter),this.isStatic()||this.isKinematic()){ha(this.m_sweep.c0,this.m_xf.p),ha(this.m_sweep.c,this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;return}Y0(xP);for(var x=this.m_fixtureList;x;x=x.m_next)if(x.m_density!=0){var o={mass:0,center:_m(0,0),I:0};x.getMassData(o),this.m_mass+=o.mass,dC(xP,o.mass,o.center),this.m_I+=o.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,K0(xP,this.m_invMass,xP)):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&this.m_fixedRotationFlag==!1?(this.m_I-=this.m_mass*y0(xP,xP),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0),ha(cD,this.m_sweep.c),this.m_sweep.setLocalCenter(xP,this.m_xf),ny(lD,this.m_sweep.c,cD),FS(mD,this.m_angularVelocity,lD),YS(this.m_linearVelocity,mD)},V.prototype.setMassData=function(x){this.isWorldLocked()!=!0&&this.m_type==mC&&(this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=x.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,x.I>0&&this.m_fixedRotationFlag==!1&&(this.m_I=x.I-this.m_mass*y0(x.center,x.center),this.m_invI=1/this.m_I),ha(cD,this.m_sweep.c),this.m_sweep.setLocalCenter(x.center,this.m_xf),ny(lD,this.m_sweep.c,cD),FS(mD,this.m_angularVelocity,lD),YS(this.m_linearVelocity,mD))},V.prototype.applyForce=function(x,o,_o){_o===void 0&&(_o=!0),this.m_type==mC&&(_o&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_force.add(x),this.m_torque+=e2.crossVec2Vec2(e2.sub(o,this.m_sweep.c),x)))},V.prototype.applyForceToCenter=function(x,o){o===void 0&&(o=!0),this.m_type==mC&&(o&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&this.m_force.add(x))},V.prototype.applyTorque=function(x,o){o===void 0&&(o=!0),this.m_type==mC&&(o&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_torque+=x))},V.prototype.applyLinearImpulse=function(x,o,_o){_o===void 0&&(_o=!0),this.m_type==mC&&(_o&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.addMul(this.m_invMass,x),this.m_angularVelocity+=this.m_invI*e2.crossVec2Vec2(e2.sub(o,this.m_sweep.c),x)))},V.prototype.applyAngularImpulse=function(x,o){o===void 0&&(o=!0),this.m_type==mC&&(o&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*x))},V.prototype.shouldCollide=function(x){if(this.m_type!=mC&&x.m_type!=mC)return!1;for(var o=this.m_jointList;o;o=o.next)if(o.other==x&&o.joint.m_collideConnected==!1)return!1;return!0},V.prototype._addFixture=function(x){if(this.isWorldLocked()==!0)return null;if(this.m_activeFlag){var o=this.m_world.m_broadPhase;x.createProxies(o,this.m_xf)}return x.m_next=this.m_fixtureList,this.m_fixtureList=x,x.m_density>0&&this.resetMassData(),this.m_world.m_newFixture=!0,x},V.prototype.createFixture=function(x,o){if(this.isWorldLocked()==!0)return null;var _o=new RD(this,x,o);return this._addFixture(_o),_o},V.prototype.destroyFixture=function(x){if(this.isWorldLocked()!=!0){if(this.m_fixtureList===x)this.m_fixtureList=x.m_next;else for(var o=this.m_fixtureList;o!=null;){if(o.m_next===x){o.m_next=x.m_next;break}o=o.m_next}for(var _o=this.m_contactList;_o;){var _i=_o.contact;_o=_o.next;var l=_i.getFixtureA(),t_=_i.getFixtureB();(x==l||x==t_)&&this.m_world.destroyContact(_i)}if(this.m_activeFlag){var o_=this.m_world.m_broadPhase;x.destroyProxies(o_)}x.m_body=null,x.m_next=null,this.m_world.publish("remove-fixture",x),this.resetMassData()}},V.prototype.getWorldPoint=function(x){return xC.mulVec2(this.m_xf,x)},V.prototype.getWorldVector=function(x){return r0.mulVec2(this.m_xf.q,x)},V.prototype.getLocalPoint=function(x){return xC.mulTVec2(this.m_xf,x)},V.prototype.getLocalVector=function(x){return r0.mulTVec2(this.m_xf.q,x)},V.STATIC="static",V.KINEMATIC="kinematic",V.DYNAMIC="dynamic",V}(),u3=function(){function V(){this.other=null,this.joint=null,this.prev=null,this.next=null}return V}(),ZA=function(){function V(x,o,_o){this.m_type="unknown-joint",this.m_prev=null,this.m_next=null,this.m_edgeA=new u3,this.m_edgeB=new u3,this.m_islandFlag=!1,this.style={},this.appData={},o="bodyA"in x?x.bodyA:o,_o="bodyB"in x?x.bodyB:_o,this.m_bodyA=o,this.m_bodyB=_o,this.m_collideConnected=!!x.collideConnected,this.m_userData=x.userData,typeof x.style=="object"&&x.style!==null&&(this.style=x.style)}return V.prototype.isActive=function(){return this.m_bodyA.isActive()&&this.m_bodyB.isActive()},V.prototype.getType=function(){return this.m_type},V.prototype.getBodyA=function(){return this.m_bodyA},V.prototype.getBodyB=function(){return this.m_bodyB},V.prototype.getNext=function(){return this.m_next},V.prototype.getUserData=function(){return this.m_userData},V.prototype.setUserData=function(x){this.m_userData=x},V.prototype.getCollideConnected=function(){return this.m_collideConnected},V.prototype.shiftOrigin=function(x){},V.prototype._resetAnchors=function(x){return this._reset(x)},V}(),O1={gjkCalls:0,gjkIters:0,gjkMaxIters:0,toiTime:0,toiMaxTime:0,toiCalls:0,toiIters:0,toiMaxIters:0,toiRootIters:0,toiMaxRootIters:0,toString:function(V){V=typeof V=="string"?V:`
`;var x="";for(var o in this)typeof this[o]!="function"&&typeof this[o]!="object"&&(x+=o+": "+this[o]+V);return x}},x2t=function(){return Date.now()},f2t=function(V){return Date.now()-V},h3={now:x2t,diff:f2t},g2t=Math.max,bD=_m(0,0),uD=_m(0,0),IS=_m(0,0),hD=_m(0,0),jG=_m(0,0),v2t=_m(0,0),A2t=_m(0,0);O1.gjkCalls=0;O1.gjkIters=0;O1.gjkMaxIters=0;var aJ=function(){function V(){this.proxyA=new IP,this.proxyB=new IP,this.transformA=xC.identity(),this.transformB=xC.identity(),this.useRadii=!1}return V.prototype.recycle=function(){this.proxyA.recycle(),this.proxyB.recycle(),this.transformA.setIdentity(),this.transformB.setIdentity(),this.useRadii=!1},V}(),pJ=function(){function V(){this.pointA=_m(0,0),this.pointB=_m(0,0),this.distance=0,this.iterations=0}return V.prototype.recycle=function(){Y0(this.pointA),Y0(this.pointB),this.distance=0,this.iterations=0},V}(),cJ=function(){function V(){this.metric=0,this.indexA=[],this.indexB=[],this.count=0}return V.prototype.recycle=function(){this.metric=0,this.indexA.length=0,this.indexB.length=0,this.count=0},V}(),kP=function(V,x,o){++O1.gjkCalls;var _o=o.proxyA,_i=o.proxyB,l=o.transformA,t_=o.transformB;bC.recycle(),bC.readCache(x,_o,l,_i,t_);for(var o_=bC.m_v,i_=w0.maxDistanceIterations,_e=[],l_=[],ws=0,h_=0;h_<i_;){ws=bC.m_count;for(var s_=0;s_<ws;++s_)_e[s_]=o_[s_].indexA,l_[s_]=o_[s_].indexB;if(bC.solve(),bC.m_count===3)break;var B_=bC.getSearchDirection();if(GP(B_)<CS*CS)break;var D_=o_[bC.m_count];D_.indexA=_o.getSupport(RV(bD,l.q,K0(bD,-1,B_))),ry(D_.wA,l,_o.getVertex(D_.indexA)),D_.indexB=_i.getSupport(RV(bD,t_.q,B_)),ry(D_.wB,t_,_i.getVertex(D_.indexB)),ny(D_.w,D_.wB,D_.wA),++h_,++O1.gjkIters;for(var y_=!1,s_=0;s_<ws;++s_)if(D_.indexA===_e[s_]&&D_.indexB===l_[s_]){y_=!0;break}if(y_)break;++bC.m_count}if(O1.gjkMaxIters=g2t(O1.gjkMaxIters,h_),bC.getWitnessPoints(V.pointA,V.pointB),V.distance=aT(V.pointA,V.pointB),V.iterations=h_,bC.writeCache(x),o.useRadii){var G_=_o.m_radius,q_=_i.m_radius;if(V.distance>G_+q_&&V.distance>CS)V.distance-=G_+q_,ny(uD,V.pointB,V.pointA),yC(uD),dC(V.pointA,G_,uD),O4(V.pointB,q_,uD);else{var j_=ny(bD,V.pointA,V.pointB);ha(V.pointA,j_),ha(V.pointB,j_),V.distance=0}}},IP=function(){function V(){this.m_vertices=[],this.m_count=0,this.m_radius=0}return V.prototype.recycle=function(){this.m_vertices.length=0,this.m_count=0,this.m_radius=0},V.prototype.getVertexCount=function(){return this.m_count},V.prototype.getVertex=function(x){return this.m_vertices[x]},V.prototype.getSupport=function(x){for(var o=-1,_o=-1/0,_i=0;_i<this.m_count;++_i){var l=y0(this.m_vertices[_i],x);l>_o&&(o=_i,_o=l)}return o},V.prototype.getSupportVertex=function(x){return this.m_vertices[this.getSupport(x)]},V.prototype.set=function(x,o){x.computeDistanceProxy(this,o)},V.prototype.setVertices=function(x,o,_o){this.m_vertices=x,this.m_count=o,this.m_radius=_o},V}(),zG=function(){function V(){this.wA=_m(0,0),this.indexA=0,this.wB=_m(0,0),this.indexB=0,this.w=_m(0,0),this.a=0}return V.prototype.recycle=function(){this.indexA=0,this.indexB=0,Y0(this.wA),Y0(this.wB),Y0(this.w),this.a=0},V.prototype.set=function(x){this.indexA=x.indexA,this.indexB=x.indexB,ha(this.wA,x.wA),ha(this.wB,x.wB),ha(this.w,x.w),this.a=x.a},V}(),dD=_m(0,0),F4=_m(0,0),S2t=function(){function V(){this.m_v1=new zG,this.m_v2=new zG,this.m_v3=new zG,this.m_v=[this.m_v1,this.m_v2,this.m_v3]}return V.prototype.recycle=function(){this.m_v1.recycle(),this.m_v2.recycle(),this.m_v3.recycle(),this.m_count=0},V.prototype.toString=function(){return this.m_count===3?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y,this.m_v2.a,this.m_v2.wA.x,this.m_v2.wA.y,this.m_v2.wB.x,this.m_v2.wB.y,this.m_v3.a,this.m_v3.wA.x,this.m_v3.wA.y,this.m_v3.wB.x,this.m_v3.wB.y].toString():this.m_count===2?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y,this.m_v2.a,this.m_v2.wA.x,this.m_v2.wA.y,this.m_v2.wB.x,this.m_v2.wB.y].toString():this.m_count===1?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y].toString():"+"+this.m_count},V.prototype.readCache=function(x,o,_o,_i,l){this.m_count=x.count;for(var t_=0;t_<this.m_count;++t_){var o_=this.m_v[t_];o_.indexA=x.indexA[t_],o_.indexB=x.indexB[t_];var i_=o.getVertex(o_.indexA),_e=_i.getVertex(o_.indexB);ry(o_.wA,_o,i_),ry(o_.wB,l,_e),ny(o_.w,o_.wB,o_.wA),o_.a=0}if(this.m_count>1){var l_=x.metric,ws=this.getMetric();(ws<.5*l_||2*l_<ws||ws<CS)&&(this.m_count=0)}if(this.m_count===0){var o_=this.m_v[0];o_.indexA=0,o_.indexB=0;var i_=o.getVertex(0),_e=_i.getVertex(0);ry(o_.wA,_o,i_),ry(o_.wB,l,_e),ny(o_.w,o_.wB,o_.wA),o_.a=1,this.m_count=1}},V.prototype.writeCache=function(x){x.metric=this.getMetric(),x.count=this.m_count;for(var o=0;o<this.m_count;++o)x.indexA[o]=this.m_v[o].indexA,x.indexB[o]=this.m_v[o].indexB},V.prototype.getSearchDirection=function(){var x=this.m_v1,o=this.m_v2;switch(this.m_v3,this.m_count){case 1:return LA(dD,-x.w.x,-x.w.y);case 2:{ny(IS,o.w,x.w);var _o=-By(IS,x.w);return _o>0?LA(dD,-IS.y,IS.x):LA(dD,IS.y,-IS.x)}default:return Y0(dD)}},V.prototype.getClosestPoint=function(){var x=this.m_v1,o=this.m_v2;switch(this.m_v3,this.m_count){case 0:return Y0(F4);case 1:return ha(F4,x.w);case 2:return E1(F4,x.a,x.w,o.a,o.w);case 3:return Y0(F4);default:return Y0(F4)}},V.prototype.getWitnessPoints=function(x,o){var _o=this.m_v1,_i=this.m_v2,l=this.m_v3;switch(this.m_count){case 0:break;case 1:ha(x,_o.wA),ha(o,_o.wB);break;case 2:E1(x,_o.a,_o.wA,_i.a,_i.wA),E1(o,_o.a,_o.wB,_i.a,_i.wB);break;case 3:RC(x,_o.a,_o.wA,_i.a,_i.wA,l.a,l.wA),ha(o,x);break}},V.prototype.getMetric=function(){switch(this.m_count){case 0:return 0;case 1:return 0;case 2:return aT(this.m_v1.w,this.m_v2.w);case 3:return By(ny(v2t,this.m_v2.w,this.m_v1.w),ny(A2t,this.m_v3.w,this.m_v1.w));default:return 0}},V.prototype.solve=function(){switch(this.m_count){case 1:break;case 2:this.solve2();break;case 3:this.solve3();break}},V.prototype.solve2=function(){var x=this.m_v1.w,o=this.m_v2.w;ny(IS,o,x);var _o=-y0(x,IS);if(_o<=0){this.m_v1.a=1,this.m_count=1;return}var _i=y0(o,IS);if(_i<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.set(this.m_v2);return}var l=1/(_i+_o);this.m_v1.a=_i*l,this.m_v2.a=_o*l,this.m_count=2},V.prototype.solve3=function(){var x=this.m_v1.w,o=this.m_v2.w,_o=this.m_v3.w;ny(IS,o,x);var _i=y0(x,IS),l=y0(o,IS),t_=l,o_=-_i;ny(hD,_o,x);var i_=y0(x,hD),_e=y0(_o,hD),l_=_e,ws=-i_;ny(jG,_o,o);var h_=y0(o,jG),s_=y0(_o,jG),B_=s_,D_=-h_,y_=By(IS,hD),G_=y_*By(o,_o),q_=y_*By(_o,x),j_=y_*By(x,o);if(o_<=0&&ws<=0){this.m_v1.a=1,this.m_count=1;return}if(t_>0&&o_>0&&j_<=0){var _2=1/(t_+o_);this.m_v1.a=t_*_2,this.m_v2.a=o_*_2,this.m_count=2;return}if(l_>0&&ws>0&&q_<=0){var m2=1/(l_+ws);this.m_v1.a=l_*m2,this.m_v3.a=ws*m2,this.m_count=2,this.m_v2.set(this.m_v3);return}if(t_<=0&&D_<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.set(this.m_v2);return}if(l_<=0&&B_<=0){this.m_v3.a=1,this.m_count=1,this.m_v1.set(this.m_v3);return}if(B_>0&&D_>0&&G_<=0){var y2=1/(B_+D_);this.m_v2.a=B_*y2,this.m_v3.a=D_*y2,this.m_count=2,this.m_v1.set(this.m_v3);return}var I2=1/(G_+q_+j_);this.m_v1.a=G_*I2,this.m_v2.a=q_*I2,this.m_v3.a=j_*I2,this.m_count=3},V}(),bC=new S2t,fP=new aJ,d3=new cJ,WG=new pJ,bT=function(V,x,o,_o,_i,l){return fP.recycle(),fP.proxyA.set(V,x),fP.proxyB.set(o,_o),FD(fP.transformA,_i),FD(fP.transformB,l),fP.useRadii=!0,WG.recycle(),d3.recycle(),kP(WG,d3,fP),WG.distance<10*CS};kP.testOverlap=bT;kP.Input=aJ;kP.Output=pJ;kP.Proxy=IP;kP.Cache=cJ;var yct=function(){function V(){this.proxyA=new IP,this.proxyB=new IP,this.transformA=xC.identity(),this.transformB=xC.identity(),this.translationB=e2.zero()}return V.prototype.recycle=function(){this.proxyA.recycle(),this.proxyB.recycle(),this.transformA.setIdentity(),this.transformB.setIdentity(),Y0(this.translationB)},V}();var C2t=Math.abs,yD=Math.max,uT=function(){function V(){this.proxyA=new IP,this.proxyB=new IP,this.sweepA=new LV,this.sweepB=new LV}return V.prototype.recycle=function(){this.proxyA.recycle(),this.proxyB.recycle(),this.sweepA.recycle(),this.sweepB.recycle(),this.tMax=-1},V}(),HS;(function(V){V[V.e_unset=-1]="e_unset",V[V.e_unknown=0]="e_unknown",V[V.e_failed=1]="e_failed",V[V.e_overlapped=2]="e_overlapped",V[V.e_touching=3]="e_touching",V[V.e_separated=4]="e_separated"})(HS||(HS={}));var hT=function(){function V(){this.state=HS.e_unset,this.t=-1}return V.prototype.recycle=function(){this.state=HS.e_unset,this.t=-1},V}();O1.toiTime=0;O1.toiMaxTime=0;O1.toiCalls=0;O1.toiIters=0;O1.toiMaxIters=0;O1.toiRootIters=0;O1.toiMaxRootIters=0;var AV=new aJ,NG=new pJ,OG=new cJ,vS=RP(0,0,0),AS=RP(0,0,0),R4=_m(0,0),GC=_m(0,0),NS=_m(0,0),gS=_m(0,0),xD=_m(0,0),fD=_m(0,0),gD=_m(0,0),vD=_m(0,0),lJ=function(V,x){var o=h3.now();++O1.toiCalls,V.state=HS.e_unknown,V.t=x.tMax;var _o=x.proxyA,_i=x.proxyB,l=x.sweepA,t_=x.sweepB;l.normalize(),t_.normalize();var o_=x.tMax,i_=_o.m_radius+_i.m_radius,_e=yD(w0.linearSlop,i_-3*w0.linearSlop),l_=.25*w0.linearSlop,ws=0,h_=w0.maxTOIIterations,s_=0;for(OG.recycle(),AV.proxyA.setVertices(_o.m_vertices,_o.m_count,_o.m_radius),AV.proxyB.setVertices(_i.m_vertices,_i.m_count,_i.m_radius),AV.useRadii=!1;;){if(l.getTransform(vS,ws),t_.getTransform(AS,ws),FD(AV.transformA,vS),FD(AV.transformB,AS),kP(NG,OG,AV),NG.distance<=0){V.state=HS.e_overlapped,V.t=0;break}if(NG.distance<_e+l_){V.state=HS.e_touching,V.t=ws;break}L4.initialize(OG,_o,l,_i,t_,ws);for(var B_=!1,D_=o_,y_=0;;){var G_=L4.findMinSeparation(D_);if(G_>_e+l_){V.state=HS.e_separated,V.t=o_,B_=!0;break}if(G_>_e-l_){ws=D_;break}var q_=L4.evaluate(ws);if(q_<_e-l_){V.state=HS.e_failed,V.t=ws,B_=!0;break}if(q_<=_e+l_){V.state=HS.e_touching,V.t=ws,B_=!0;break}for(var j_=0,_2=ws,m2=D_;;){var y2=void 0;j_&1?y2=_2+(_e-q_)*(m2-_2)/(G_-q_):y2=.5*(_2+m2),++j_,++O1.toiRootIters;var I2=L4.evaluate(y2);if(C2t(I2-_e)<l_){D_=y2;break}if(I2>_e?(_2=y2,q_=I2):(m2=y2,G_=I2),j_===50)break}if(O1.toiMaxRootIters=yD(O1.toiMaxRootIters,j_),++y_,y_===w0.maxPolygonVertices)break}if(++s_,++O1.toiIters,B_)break;if(s_===h_){V.state=HS.e_failed,V.t=ws;break}}O1.toiMaxIters=yD(O1.toiMaxIters,s_);var J2=h3.diff(o);O1.toiMaxTime=yD(O1.toiMaxTime,J2),O1.toiTime+=J2,L4.recycle()},LC;(function(V){V[V.e_unset=-1]="e_unset",V[V.e_points=1]="e_points",V[V.e_faceA=2]="e_faceA",V[V.e_faceB=3]="e_faceB"})(LC||(LC={}));var B2t=function(){function V(){this.m_proxyA=null,this.m_proxyB=null,this.m_sweepA=null,this.m_sweepB=null,this.m_type=LC.e_unset,this.m_localPoint=_m(0,0),this.m_axis=_m(0,0),this.indexA=-1,this.indexB=-1}return V.prototype.recycle=function(){this.m_proxyA=null,this.m_proxyB=null,this.m_sweepA=null,this.m_sweepB=null,this.m_type=LC.e_unset,Y0(this.m_localPoint),Y0(this.m_axis),this.indexA=-1,this.indexB=-1},V.prototype.initialize=function(x,o,_o,_i,l,t_){var o_=x.count;if(this.m_proxyA=o,this.m_proxyB=_i,this.m_sweepA=_o,this.m_sweepB=l,this.m_sweepA.getTransform(vS,t_),this.m_sweepB.getTransform(AS,t_),o_===1){this.m_type=LC.e_points;var i_=this.m_proxyA.getVertex(x.indexA[0]),_e=this.m_proxyB.getVertex(x.indexB[0]);ry(GC,vS,i_),ry(NS,AS,_e),ny(this.m_axis,NS,GC);var l_=p2t(this.m_axis);return l_}else if(x.indexA[0]===x.indexA[1]){this.m_type=LC.e_faceB;var ws=_i.getVertex(x.indexB[0]),h_=_i.getVertex(x.indexB[1]);DP(this.m_axis,ny(R4,h_,ws),1),yC(this.m_axis),ZS(gS,AS.q,this.m_axis),E1(this.m_localPoint,.5,ws,.5,h_),ry(NS,AS,this.m_localPoint);var s_=o.getVertex(x.indexA[0]),B_=xC.mulVec2(vS,s_),l_=y0(B_,gS)-y0(NS,gS);return l_<0&&(Y4(this.m_axis),l_=-l_),l_}else{this.m_type=LC.e_faceA;var D_=this.m_proxyA.getVertex(x.indexA[0]),y_=this.m_proxyA.getVertex(x.indexA[1]);DP(this.m_axis,ny(R4,y_,D_),1),yC(this.m_axis),ZS(gS,vS.q,this.m_axis),E1(this.m_localPoint,.5,D_,.5,y_),ry(GC,vS,this.m_localPoint);var G_=this.m_proxyB.getVertex(x.indexB[0]);ry(NS,AS,G_);var l_=y0(NS,gS)-y0(GC,gS);return l_<0&&(Y4(this.m_axis),l_=-l_),l_}},V.prototype.compute=function(x,o){switch(this.m_sweepA.getTransform(vS,o),this.m_sweepB.getTransform(AS,o),this.m_type){case LC.e_points:{x&&(RV(xD,vS.q,this.m_axis),RV(fD,AS.q,K0(R4,-1,this.m_axis)),this.indexA=this.m_proxyA.getSupport(xD),this.indexB=this.m_proxyB.getSupport(fD)),ha(gD,this.m_proxyA.getVertex(this.indexA)),ha(vD,this.m_proxyB.getVertex(this.indexB)),ry(GC,vS,gD),ry(NS,AS,vD);var _o=y0(NS,this.m_axis)-y0(GC,this.m_axis);return _o}case LC.e_faceA:{ZS(gS,vS.q,this.m_axis),ry(GC,vS,this.m_localPoint),x&&(RV(fD,AS.q,K0(R4,-1,gS)),this.indexA=-1,this.indexB=this.m_proxyB.getSupport(fD)),ha(vD,this.m_proxyB.getVertex(this.indexB)),ry(NS,AS,vD);var _o=y0(NS,gS)-y0(GC,gS);return _o}case LC.e_faceB:{ZS(gS,AS.q,this.m_axis),ry(NS,AS,this.m_localPoint),x&&(RV(xD,vS.q,K0(R4,-1,gS)),this.indexB=-1,this.indexA=this.m_proxyA.getSupport(xD)),ha(gD,this.m_proxyA.getVertex(this.indexA)),ry(GC,vS,gD);var _o=y0(GC,gS)-y0(NS,gS);return _o}default:return x&&(this.indexA=-1,this.indexB=-1),0}},V.prototype.findMinSeparation=function(x){return this.compute(!0,x)},V.prototype.evaluate=function(x){return this.compute(!1,x)},V}(),L4=new B2t;lJ.Input=uT;lJ.Output=hT;var y3=Math.abs,x3=Math.sqrt,AD=Math.min,mJ=function(){function V(){this.dt=0,this.inv_dt=0,this.velocityIterations=0,this.positionIterations=0,this.warmStarting=!1,this.blockSolve=!0,this.inv_dt0=0,this.dtRatio=1}return V.prototype.reset=function(x){this.dt>0&&(this.inv_dt0=this.inv_dt),this.dt=x,this.inv_dt=x==0?0:1/x,this.dtRatio=x*this.inv_dt0},V}(),SV=new mJ,rB=_m(0,0),UA=_m(0,0),SD=_m(0,0),CV=new uT,UG=new hT,f3=new LV,g3=new LV,v3=new LV,P2t=function(){function V(x){this.contact=x,this.normals=[],this.tangents=[]}return V.prototype.recycle=function(){this.normals.length=0,this.tangents.length=0},Object.defineProperty(V.prototype,"normalImpulses",{get:function(){var x=this.contact,o=this.normals;o.length=0;for(var _o=0;_o<x.v_points.length;++_o)o.push(x.v_points[_o].normalImpulse);return o},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"tangentImpulses",{get:function(){var x=this.contact,o=this.tangents;o.length=0;for(var _o=0;_o<x.v_points.length;++_o)o.push(x.v_points[_o].tangentImpulse);return o},enumerable:!1,configurable:!0}),V}(),dT=function(){function V(x){this.m_world=x,this.m_stack=[],this.m_bodies=[],this.m_contacts=[],this.m_joints=[]}return V.prototype.clear=function(){this.m_stack.length=0,this.m_bodies.length=0,this.m_contacts.length=0,this.m_joints.length=0},V.prototype.addBody=function(x){this.m_bodies.push(x)},V.prototype.addContact=function(x){this.m_contacts.push(x)},V.prototype.addJoint=function(x){this.m_joints.push(x)},V.prototype.solveWorld=function(x){for(var o=this.m_world,_o=o.m_bodyList;_o;_o=_o.m_next)_o.m_islandFlag=!1;for(var _i=o.m_contactList;_i;_i=_i.m_next)_i.m_islandFlag=!1;for(var l=o.m_jointList;l;l=l.m_next)l.m_islandFlag=!1;for(var t_=this.m_stack,o_=o.m_bodyList;o_;o_=o_.m_next)if(!o_.m_islandFlag&&!(o_.isAwake()==!1||o_.isActive()==!1)&&!o_.isStatic()){for(this.clear(),t_.push(o_),o_.m_islandFlag=!0;t_.length>0;){var _o=t_.pop();if(this.addBody(_o),_o.m_awakeFlag=!0,!_o.isStatic()){for(var i_=_o.m_contactList;i_;i_=i_.next){var _e=i_.contact;if(!_e.m_islandFlag&&!(_e.isEnabled()==!1||_e.isTouching()==!1)){var l_=_e.m_fixtureA.m_isSensor,ws=_e.m_fixtureB.m_isSensor;if(!(l_||ws)){this.addContact(_e),_e.m_islandFlag=!0;var h_=i_.other;h_.m_islandFlag||(t_.push(h_),h_.m_islandFlag=!0)}}}for(var s_=_o.m_jointList;s_;s_=s_.next)if(s_.joint.m_islandFlag!=!0){var h_=s_.other;h_.isActive()!=!1&&(this.addJoint(s_.joint),s_.joint.m_islandFlag=!0,!h_.m_islandFlag&&(t_.push(h_),h_.m_islandFlag=!0))}}}this.solveIsland(x);for(var B_=0;B_<this.m_bodies.length;++B_){var _o=this.m_bodies[B_];_o.isStatic()&&(_o.m_islandFlag=!1)}}},V.prototype.solveIsland=function(x){for(var o=this.m_world,_o=o.m_gravity,_i=o.m_allowSleep,l=x.dt,t_=0;t_<this.m_bodies.length;++t_){var o_=this.m_bodies[t_];ha(rB,o_.m_sweep.c);var i_=o_.m_sweep.a;ha(UA,o_.m_linearVelocity);var _e=o_.m_angularVelocity;ha(o_.m_sweep.c0,o_.m_sweep.c),o_.m_sweep.a0=o_.m_sweep.a,o_.isDynamic()&&(dC(UA,l*o_.m_gravityScale,_o),dC(UA,l*o_.m_invMass,o_.m_force),_e+=l*o_.m_invI*o_.m_torque,K0(UA,1/(1+l*o_.m_linearDamping),UA),_e*=1/(1+l*o_.m_angularDamping)),ha(o_.c_position.c,rB),o_.c_position.a=i_,ha(o_.c_velocity.v,UA),o_.c_velocity.w=_e}for(var t_=0;t_<this.m_contacts.length;++t_){var l_=this.m_contacts[t_];l_.initConstraint(x)}for(var t_=0;t_<this.m_contacts.length;++t_){var l_=this.m_contacts[t_];l_.initVelocityConstraint(x)}if(x.warmStarting)for(var t_=0;t_<this.m_contacts.length;++t_){var l_=this.m_contacts[t_];l_.warmStartConstraint(x)}for(var t_=0;t_<this.m_joints.length;++t_){var ws=this.m_joints[t_];ws.initVelocityConstraints(x)}for(var t_=0;t_<x.velocityIterations;++t_){for(var h_=0;h_<this.m_joints.length;++h_){var ws=this.m_joints[h_];ws.solveVelocityConstraints(x)}for(var h_=0;h_<this.m_contacts.length;++h_){var l_=this.m_contacts[h_];l_.solveVelocityConstraint(x)}}for(var t_=0;t_<this.m_contacts.length;++t_){var l_=this.m_contacts[t_];l_.storeConstraintImpulses(x)}for(var t_=0;t_<this.m_bodies.length;++t_){var o_=this.m_bodies[t_];ha(rB,o_.c_position.c);var i_=o_.c_position.a;ha(UA,o_.c_velocity.v);var _e=o_.c_velocity.w;K0(SD,l,UA);var s_=GP(SD);if(s_>w0.maxTranslationSquared){var B_=w0.maxTranslation/x3(s_);r3(UA,B_)}var D_=l*_e;if(D_*D_>w0.maxRotationSquared){var B_=w0.maxRotation/y3(D_);_e*=B_}dC(rB,l,UA),i_+=l*_e,ha(o_.c_position.c,rB),o_.c_position.a=i_,ha(o_.c_velocity.v,UA),o_.c_velocity.w=_e}for(var y_=!1,t_=0;t_<x.positionIterations;++t_){for(var G_=0,h_=0;h_<this.m_contacts.length;++h_){var l_=this.m_contacts[h_],q_=l_.solvePositionConstraint(x);G_=AD(G_,q_)}for(var j_=G_>=-3*w0.linearSlop,_2=!0,h_=0;h_<this.m_joints.length;++h_){var ws=this.m_joints[h_],m2=ws.solvePositionConstraints(x);_2=_2&&m2}if(j_&&_2){y_=!0;break}}for(var t_=0;t_<this.m_bodies.length;++t_){var o_=this.m_bodies[t_];ha(o_.m_sweep.c,o_.c_position.c),o_.m_sweep.a=o_.c_position.a,ha(o_.m_linearVelocity,o_.c_velocity.v),o_.m_angularVelocity=o_.c_velocity.w,o_.synchronizeTransform()}if(this.postSolveIsland(),_i){for(var y2=1/0,I2=w0.linearSleepToleranceSqr,J2=w0.angularSleepToleranceSqr,t_=0;t_<this.m_bodies.length;++t_){var o_=this.m_bodies[t_];o_.isStatic()||(o_.m_autoSleepFlag==!1||o_.m_angularVelocity*o_.m_angularVelocity>J2||GP(o_.m_linearVelocity)>I2?(o_.m_sleepTime=0,y2=0):(o_.m_sleepTime+=l,y2=AD(y2,o_.m_sleepTime)))}if(y2>=w0.timeToSleep&&y_)for(var t_=0;t_<this.m_bodies.length;++t_){var o_=this.m_bodies[t_];o_.setAwake(!1)}}},V.prototype.solveWorldTOI=function(x){var o=this.m_world;if(o.m_stepComplete){for(var _o=o.m_bodyList;_o;_o=_o.m_next)_o.m_islandFlag=!1,_o.m_sweep.alpha0=0;for(var _i=o.m_contactList;_i;_i=_i.m_next)_i.m_toiFlag=!1,_i.m_islandFlag=!1,_i.m_toiCount=0,_i.m_toi=1}for(;;){for(var l=null,t_=1,o_=o.m_contactList;o_;o_=o_.m_next)if(o_.isEnabled()!=!1&&!(o_.m_toiCount>w0.maxSubSteps)){var i_=1;if(o_.m_toiFlag)i_=o_.m_toi;else{var _e=o_.getFixtureA(),l_=o_.getFixtureB();if(_e.isSensor()||l_.isSensor())continue;var ws=_e.getBody(),h_=l_.getBody(),s_=ws.isAwake()&&!ws.isStatic(),B_=h_.isAwake()&&!h_.isStatic();if(s_==!1&&B_==!1)continue;var D_=ws.isBullet()||!ws.isDynamic(),y_=h_.isBullet()||!h_.isDynamic();if(D_==!1&&y_==!1)continue;var G_=ws.m_sweep.alpha0;ws.m_sweep.alpha0<h_.m_sweep.alpha0?(G_=h_.m_sweep.alpha0,ws.m_sweep.advance(G_)):h_.m_sweep.alpha0<ws.m_sweep.alpha0&&(G_=ws.m_sweep.alpha0,h_.m_sweep.advance(G_));var q_=o_.getChildIndexA(),j_=o_.getChildIndexB();ws.m_sweep,h_.m_sweep,CV.proxyA.set(_e.getShape(),q_),CV.proxyB.set(l_.getShape(),j_),CV.sweepA.set(ws.m_sweep),CV.sweepB.set(h_.m_sweep),CV.tMax=1,lJ(UG,CV);var _2=UG.t;UG.state==HS.e_touching?i_=AD(G_+(1-G_)*_2,1):i_=1,o_.m_toi=i_,o_.m_toiFlag=!0}i_<t_&&(l=o_,t_=i_)}if(l==null||1-10*CS<t_){o.m_stepComplete=!0;break}var m2=l.getFixtureA(),y2=l.getFixtureB(),I2=m2.getBody(),J2=y2.getBody();if(g3.set(I2.m_sweep),v3.set(J2.m_sweep),I2.advance(t_),J2.advance(t_),l.update(o),l.m_toiFlag=!1,++l.m_toiCount,l.isEnabled()==!1||l.isTouching()==!1){l.setEnabled(!1),I2.m_sweep.set(g3),J2.m_sweep.set(v3),I2.synchronizeTransform(),J2.synchronizeTransform();continue}I2.setAwake(!0),J2.setAwake(!0),this.clear(),this.addBody(I2),this.addBody(J2),this.addContact(l),I2.m_islandFlag=!0,J2.m_islandFlag=!0,l.m_islandFlag=!0;for(var z2=[I2,J2],K2=0;K2<z2.length;++K2){var $2=z2[K2];if($2.isDynamic())for(var P_=$2.m_contactList;P_;P_=P_.next){var E_=P_.contact;if(!E_.m_islandFlag){var Z_=P_.other;if(!(Z_.isDynamic()&&!$2.isBullet()&&!Z_.isBullet())){var N_=E_.m_fixtureA.m_isSensor,s2=E_.m_fixtureB.m_isSensor;if(!(N_||s2)){if(f3.set(Z_.m_sweep),Z_.m_islandFlag==!1&&Z_.advance(t_),E_.update(o),E_.isEnabled()==!1||E_.isTouching()==!1){Z_.m_sweep.set(f3),Z_.synchronizeTransform();continue}E_.m_islandFlag=!0,this.addContact(E_),!Z_.m_islandFlag&&(Z_.m_islandFlag=!0,Z_.isStatic()||Z_.setAwake(!0),this.addBody(Z_))}}}}}SV.reset((1-t_)*x.dt),SV.dtRatio=1,SV.positionIterations=20,SV.velocityIterations=x.velocityIterations,SV.warmStarting=!1,this.solveIslandTOI(SV,I2,J2);for(var K2=0;K2<this.m_bodies.length;++K2){var $2=this.m_bodies[K2];if($2.m_islandFlag=!1,!!$2.isDynamic()){$2.synchronizeFixtures();for(var P_=$2.m_contactList;P_;P_=P_.next)P_.contact.m_toiFlag=!1,P_.contact.m_islandFlag=!1}}if(o.findNewContacts(),o.m_subStepping){o.m_stepComplete=!1;break}}},V.prototype.solveIslandTOI=function(x,o,_o){for(var l_=0;l_<this.m_bodies.length;++l_){var _i=this.m_bodies[l_];ha(_i.c_position.c,_i.m_sweep.c),_i.c_position.a=_i.m_sweep.a,ha(_i.c_velocity.v,_i.m_linearVelocity),_i.c_velocity.w=_i.m_angularVelocity}for(var l_=0;l_<this.m_contacts.length;++l_){var l=this.m_contacts[l_];l.initConstraint(x)}for(var l_=0;l_<x.positionIterations;++l_){for(var t_=0,o_=0;o_<this.m_contacts.length;++o_){var l=this.m_contacts[o_],i_=l.solvePositionConstraintTOI(x,o,_o);t_=AD(t_,i_)}var _e=t_>=-1.5*w0.linearSlop;if(_e)break}var l_;ha(o.m_sweep.c0,o.c_position.c),o.m_sweep.a0=o.c_position.a,ha(_o.m_sweep.c0,_o.c_position.c),_o.m_sweep.a0=_o.c_position.a;for(var l_=0;l_<this.m_contacts.length;++l_){var l=this.m_contacts[l_];l.initVelocityConstraint(x)}for(var l_=0;l_<x.velocityIterations;++l_)for(var o_=0;o_<this.m_contacts.length;++o_){var l=this.m_contacts[o_];l.solveVelocityConstraint(x)}for(var ws=x.dt,l_=0;l_<this.m_bodies.length;++l_){var _i=this.m_bodies[l_];ha(rB,_i.c_position.c);var h_=_i.c_position.a;ha(UA,_i.c_velocity.v);var s_=_i.c_velocity.w;K0(SD,ws,UA);var B_=GP(SD);if(B_>w0.maxTranslationSquared){var D_=w0.maxTranslation/x3(B_);r3(UA,D_)}var y_=ws*s_;if(y_*y_>w0.maxRotationSquared){var D_=w0.maxRotation/y3(y_);s_*=D_}dC(rB,ws,UA),h_+=ws*s_,ha(_i.c_position.c,rB),_i.c_position.a=h_,ha(_i.c_velocity.v,UA),_i.c_velocity.w=s_,ha(_i.m_sweep.c,rB),_i.m_sweep.a=h_,ha(_i.m_linearVelocity,UA),_i.m_angularVelocity=s_,_i.synchronizeTransform()}this.postSolveIsland()},V.prototype.postSolveIsland=function(){for(var x=0;x<this.m_contacts.length;++x){var o=this.m_contacts[x];this.m_world.postSolve(o,o.m_impulse)}},V}();dT.TimeStep=mJ;var fC=function(){function V(x,o,_o,_i){typeof x=="object"&&x!==null?(this.ex=e2.clone(x),this.ey=e2.clone(o)):typeof x=="number"?(this.ex=e2.neo(x,_o),this.ey=e2.neo(o,_i)):(this.ex=e2.zero(),this.ey=e2.zero())}return V.prototype.toString=function(){return JSON.stringify(this)},V.isValid=function(x){return x===null||typeof x>"u"?!1:e2.isValid(x.ex)&&e2.isValid(x.ey)},V.assert=function(x){},V.prototype.set=function(x,o,_o,_i){typeof x=="number"&&typeof o=="number"&&typeof _o=="number"&&typeof _i=="number"?(this.ex.setNum(x,_o),this.ey.setNum(o,_i)):typeof x=="object"&&typeof o=="object"?(this.ex.setVec2(x),this.ey.setVec2(o)):typeof x=="object"&&(this.ex.setVec2(x.ex),this.ey.setVec2(x.ey))},V.prototype.setIdentity=function(){this.ex.x=1,this.ey.x=0,this.ex.y=0,this.ey.y=1},V.prototype.setZero=function(){this.ex.x=0,this.ey.x=0,this.ex.y=0,this.ey.y=0},V.prototype.getInverse=function(){var x=this.ex.x,o=this.ey.x,_o=this.ex.y,_i=this.ey.y,l=x*_i-o*_o;l!==0&&(l=1/l);var t_=new V;return t_.ex.x=l*_i,t_.ey.x=-l*o,t_.ex.y=-l*_o,t_.ey.y=l*x,t_},V.prototype.solve=function(x){var o=this.ex.x,_o=this.ey.x,_i=this.ex.y,l=this.ey.y,t_=o*l-_o*_i;t_!==0&&(t_=1/t_);var o_=e2.zero();return o_.x=t_*(l*x.x-_o*x.y),o_.y=t_*(o*x.y-_i*x.x),o_},V.mul=function(x,o){if(o&&"x"in o&&"y"in o){var _o=x.ex.x*o.x+x.ey.x*o.y,_i=x.ex.y*o.x+x.ey.y*o.y;return e2.neo(_o,_i)}else if(o&&"ex"in o&&"ey"in o){var l=x.ex.x*o.ex.x+x.ey.x*o.ex.y,t_=x.ex.x*o.ey.x+x.ey.x*o.ey.y,o_=x.ex.y*o.ex.x+x.ey.y*o.ex.y,i_=x.ex.y*o.ey.x+x.ey.y*o.ey.y;return new V(l,t_,o_,i_)}},V.mulVec2=function(x,o){var _o=x.ex.x*o.x+x.ey.x*o.y,_i=x.ex.y*o.x+x.ey.y*o.y;return e2.neo(_o,_i)},V.mulMat22=function(x,o){var _o=x.ex.x*o.ex.x+x.ey.x*o.ex.y,_i=x.ex.x*o.ey.x+x.ey.x*o.ey.y,l=x.ex.y*o.ex.x+x.ey.y*o.ex.y,t_=x.ex.y*o.ey.x+x.ey.y*o.ey.y;return new V(_o,_i,l,t_)},V.mulT=function(x,o){if(o&&"x"in o&&"y"in o)return e2.neo(e2.dot(o,x.ex),e2.dot(o,x.ey));if(o&&"ex"in o&&"ey"in o){var _o=e2.neo(e2.dot(x.ex,o.ex),e2.dot(x.ey,o.ex)),_i=e2.neo(e2.dot(x.ex,o.ey),e2.dot(x.ey,o.ey));return new V(_o,_i)}},V.mulTVec2=function(x,o){return e2.neo(e2.dot(o,x.ex),e2.dot(o,x.ey))},V.mulTMat22=function(x,o){var _o=e2.neo(e2.dot(x.ex,o.ex),e2.dot(x.ey,o.ex)),_i=e2.neo(e2.dot(x.ex,o.ey),e2.dot(x.ey,o.ey));return new V(_o,_i)},V.abs=function(x){return new V(e2.abs(x.ex),e2.abs(x.ey))},V.add=function(x,o){return new V(e2.add(x.ex,o.ex),e2.add(x.ey,o.ey))},V}(),w2t=Math.sqrt,XG=_m(0,0),YG=_m(0,0),k4=_m(0,0),nB=_m(0,0),sB=_m(0,0),HG=_m(0,0),CD=_m(0,0),GB=_m(0,0),K1;(function(V){V[V.e_unset=-1]="e_unset",V[V.e_circles=0]="e_circles",V[V.e_faceA=1]="e_faceA",V[V.e_faceB=2]="e_faceB"})(K1||(K1={}));var Yy;(function(V){V[V.e_unset=-1]="e_unset",V[V.e_vertex=0]="e_vertex",V[V.e_face=1]="e_face"})(Yy||(Yy={}));var MP;(function(V){V[V.nullState=0]="nullState",V[V.addState=1]="addState",V[V.persistState=2]="persistState",V[V.removeState=3]="removeState"})(MP||(MP={}));var RS=function(){function V(){this.v=_m(0,0),this.id=new xT}return V.prototype.set=function(x){ha(this.v,x.v),this.id.set(x.id)},V.prototype.recycle=function(){Y0(this.v),this.id.recycle()},V}(),yT=function(){function V(){this.localNormal=_m(0,0),this.localPoint=_m(0,0),this.points=[new A3,new A3],this.pointCount=0}return V.prototype.set=function(x){this.type=x.type,ha(this.localNormal,x.localNormal),ha(this.localPoint,x.localPoint),this.pointCount=x.pointCount,this.points[0].set(x.points[0]),this.points[1].set(x.points[1])},V.prototype.recycle=function(){this.type=K1.e_unset,Y0(this.localNormal),Y0(this.localPoint),this.pointCount=0,this.points[0].recycle(),this.points[1].recycle()},V.prototype.getWorldManifold=function(x,o,_o,_i,l){if(this.pointCount==0)return x;x=x||new fT,x.pointCount=this.pointCount;var t_=x.normal,o_=x.points,i_=x.separations;switch(this.type){case K1.e_circles:{LA(t_,1,0);var _e=this.points[0];ry(XG,o,this.localPoint),ry(YG,_i,_e.localPoint),ny(HG,YG,XG);var l_=GP(HG);if(l_>CS*CS){var ws=w2t(l_);K0(t_,1/ws,HG)}E1(nB,1,XG,_o,t_),E1(sB,1,YG,-l,t_),E1(o_[0],.5,nB,.5,sB),i_[0]=y0(ny(k4,sB,nB),t_);break}case K1.e_faceA:{ZS(t_,o.q,this.localNormal),ry(CD,o,this.localPoint);for(var h_=0;h_<this.pointCount;++h_){var _e=this.points[h_];ry(GB,_i,_e.localPoint),E1(nB,1,GB,_o-y0(ny(k4,GB,CD),t_),t_),E1(sB,1,GB,-l,t_),E1(o_[h_],.5,nB,.5,sB),i_[h_]=y0(ny(k4,sB,nB),t_)}break}case K1.e_faceB:{ZS(t_,_i.q,this.localNormal),ry(CD,_i,this.localPoint);for(var h_=0;h_<this.pointCount;++h_){var _e=this.points[h_];ry(GB,o,_e.localPoint),E1(sB,1,GB,l-y0(ny(k4,GB,CD),t_),t_),E1(nB,1,GB,-_o,t_),E1(o_[h_],.5,nB,.5,sB),i_[h_]=y0(ny(k4,nB,sB),t_)}Y4(t_);break}}return x},V.clipSegmentToLine=H4,V.ClipVertex=RS,V.getPointStates=V2t,V.PointState=MP,V}(),A3=function(){function V(){this.localPoint=_m(0,0),this.normalImpulse=0,this.tangentImpulse=0,this.id=new xT}return V.prototype.set=function(x){ha(this.localPoint,x.localPoint),this.normalImpulse=x.normalImpulse,this.tangentImpulse=x.tangentImpulse,this.id.set(x.id)},V.prototype.recycle=function(){Y0(this.localPoint),this.normalImpulse=0,this.tangentImpulse=0,this.id.recycle()},V}(),xT=function(){function V(){this.key=-1,this.indexA=-1,this.indexB=-1,this.typeA=Yy.e_unset,this.typeB=Yy.e_unset}return V.prototype.setFeatures=function(x,o,_o,_i){this.indexA=x,this.indexB=_o,this.typeA=o,this.typeB=_i,this.key=this.indexA+this.indexB*4+this.typeA*16+this.typeB*64},V.prototype.set=function(x){this.indexA=x.indexA,this.indexB=x.indexB,this.typeA=x.typeA,this.typeB=x.typeB,this.key=this.indexA+this.indexB*4+this.typeA*16+this.typeB*64},V.prototype.swapFeatures=function(){var x=this.indexA,o=this.indexB,_o=this.typeA,_i=this.typeB;this.indexA=o,this.indexB=x,this.typeA=_i,this.typeB=_o,this.key=this.indexA+this.indexB*4+this.typeA*16+this.typeB*64},V.prototype.recycle=function(){this.indexA=0,this.indexB=0,this.typeA=Yy.e_unset,this.typeB=Yy.e_unset,this.key=-1},V}(),fT=function(){function V(){this.normal=_m(0,0),this.points=[_m(0,0),_m(0,0)],this.separations=[0,0],this.pointCount=0}return V.prototype.recycle=function(){Y0(this.normal),Y0(this.points[0]),Y0(this.points[1]),this.separations[0]=0,this.separations[1]=0,this.pointCount=0},V}();function V2t(V,x,o,_o){for(var _i=0;_i<o.pointCount;++_i){var l=o.points[_i].id;V[_i]=MP.removeState;for(var t_=0;t_<_o.pointCount;++t_)if(_o.points[t_].id.key===l.key){V[_i]=MP.persistState;break}}for(var _i=0;_i<_o.pointCount;++_i){var l=_o.points[_i].id;x[_i]=MP.addState;for(var t_=0;t_<o.pointCount;++t_)if(o.points[t_].id.key===l.key){x[_i]=MP.persistState;break}}}function H4(V,x,o,_o,_i){var l=0,t_=y0(o,x[0].v)-_o,o_=y0(o,x[1].v)-_o;if(t_<=0&&V[l++].set(x[0]),o_<=0&&V[l++].set(x[1]),t_*o_<0){var i_=t_/(t_-o_);E1(V[l].v,1-i_,x[0].v,i_,x[1].v),V[l].id.setFeatures(_i,Yy.e_vertex,x[0].id.indexB,Yy.e_face),++l}return l}var M2t=Math.sqrt,D2t=Math.max,G2t=Math.min,S3=new U4({create:function(){return new kC},release:function(V){V.recycle()}}),BV=new yT,BD=new fT,C3=function(){function V(x){this.prev=null,this.next=null,this.other=null,this.contact=x}return V.prototype.recycle=function(){this.prev=null,this.next=null,this.other=null},V}();function B3(V,x){return M2t(V*x)}function P3(V,x){return V>x?V:x}var gP=[],w3=function(){function V(){this.rA=_m(0,0),this.rB=_m(0,0),this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0}return V.prototype.recycle=function(){Y0(this.rA),Y0(this.rB),this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0},V}(),_B=_m(0,0),eA=_m(0,0),aB=_m(0,0),oA=_m(0,0),JB=_m(0,0),vP=RP(0,0,0),AP=RP(0,0,0),PD=_m(0,0),wD=_m(0,0),PV=_m(0,0),VD=_m(0,0),ZG=_m(0,0),KG=_m(0,0),fA=_m(0,0),u1=_m(0,0),q4=_m(0,0),OS=_m(0,0),wV=_m(0,0),VV=_m(0,0),TS=_m(0,0),pB=_m(0,0),D1=_m(0,0),US=_m(0,0),gA=_m(0,0),vA=_m(0,0),JC=_m(0,0),kC=function(){function V(){this.m_nodeA=new C3(this),this.m_nodeB=new C3(this),this.m_fixtureA=null,this.m_fixtureB=null,this.m_indexA=-1,this.m_indexB=-1,this.m_evaluateFcn=null,this.m_manifold=new yT,this.m_prev=null,this.m_next=null,this.m_toi=1,this.m_toiCount=0,this.m_toiFlag=!1,this.m_friction=0,this.m_restitution=0,this.m_tangentSpeed=0,this.m_enabledFlag=!0,this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_impulse=new P2t(this),this.v_points=[new w3,new w3],this.v_normal=_m(0,0),this.v_normalMass=new fC,this.v_K=new fC,this.v_pointCount=0,this.v_tangentSpeed=0,this.v_friction=0,this.v_restitution=0,this.v_invMassA=0,this.v_invMassB=0,this.v_invIA=0,this.v_invIB=0,this.p_localPoints=[_m(0,0),_m(0,0)],this.p_localNormal=_m(0,0),this.p_localPoint=_m(0,0),this.p_localCenterA=_m(0,0),this.p_localCenterB=_m(0,0),this.p_type=K1.e_unset,this.p_radiusA=0,this.p_radiusB=0,this.p_pointCount=0,this.p_invMassA=0,this.p_invMassB=0,this.p_invIA=0,this.p_invIB=0}return V.prototype.initialize=function(x,o,_o,_i,l){this.m_fixtureA=x,this.m_fixtureB=_o,this.m_indexA=o,this.m_indexB=_i,this.m_evaluateFcn=l,this.m_friction=B3(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=P3(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)},V.prototype.recycle=function(){this.m_nodeA.recycle(),this.m_nodeB.recycle(),this.m_fixtureA=null,this.m_fixtureB=null,this.m_indexA=-1,this.m_indexB=-1,this.m_evaluateFcn=null,this.m_manifold.recycle(),this.m_prev=null,this.m_next=null,this.m_toi=1,this.m_toiCount=0,this.m_toiFlag=!1,this.m_friction=0,this.m_restitution=0,this.m_tangentSpeed=0,this.m_enabledFlag=!0,this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_impulse.recycle();for(var x=0,o=this.v_points;x<o.length;x++){var _o=o[x];_o.recycle()}Y0(this.v_normal),this.v_normalMass.setZero(),this.v_K.setZero(),this.v_pointCount=0,this.v_tangentSpeed=0,this.v_friction=0,this.v_restitution=0,this.v_invMassA=0,this.v_invMassB=0,this.v_invIA=0,this.v_invIB=0;for(var _i=0,l=this.p_localPoints;_i<l.length;_i++){var t_=l[_i];Y0(t_)}Y0(this.p_localNormal),Y0(this.p_localPoint),Y0(this.p_localCenterA),Y0(this.p_localCenterB),this.p_type=K1.e_unset,this.p_radiusA=0,this.p_radiusB=0,this.p_pointCount=0,this.p_invMassA=0,this.p_invMassB=0,this.p_invIA=0,this.p_invIB=0},V.prototype.initConstraint=function(x){var o=this.m_fixtureA,_o=this.m_fixtureB;if(!(o===null||_o===null)){var _i=o.m_body,l=_o.m_body;if(!(_i===null||l===null)){var t_=o.m_shape,o_=_o.m_shape;if(!(t_===null||o_===null)){var i_=this.m_manifold,_e=i_.pointCount;this.v_invMassA=_i.m_invMass,this.v_invMassB=l.m_invMass,this.v_invIA=_i.m_invI,this.v_invIB=l.m_invI,this.v_friction=this.m_friction,this.v_restitution=this.m_restitution,this.v_tangentSpeed=this.m_tangentSpeed,this.v_pointCount=_e,this.v_K.setZero(),this.v_normalMass.setZero(),this.p_invMassA=_i.m_invMass,this.p_invMassB=l.m_invMass,this.p_invIA=_i.m_invI,this.p_invIB=l.m_invI,ha(this.p_localCenterA,_i.m_sweep.localCenter),ha(this.p_localCenterB,l.m_sweep.localCenter),this.p_radiusA=t_.m_radius,this.p_radiusB=o_.m_radius,this.p_type=i_.type,ha(this.p_localNormal,i_.localNormal),ha(this.p_localPoint,i_.localPoint),this.p_pointCount=_e;for(var l_=0;l_<w0.maxManifoldPoints;++l_)this.v_points[l_].recycle(),Y0(this.p_localPoints[l_]);for(var l_=0;l_<_e;++l_){var ws=i_.points[l_],h_=this.v_points[l_];x.warmStarting&&(h_.normalImpulse=x.dtRatio*ws.normalImpulse,h_.tangentImpulse=x.dtRatio*ws.tangentImpulse),ha(this.p_localPoints[l_],ws.localPoint)}}}}},V.prototype.getManifold=function(){return this.m_manifold},V.prototype.getWorldManifold=function(x){var o=this.m_fixtureA,_o=this.m_fixtureB;if(!(o===null||_o===null)){var _i=o.m_body,l=_o.m_body;if(!(_i===null||l===null)){var t_=o.m_shape,o_=_o.m_shape;if(!(t_===null||o_===null))return this.m_manifold.getWorldManifold(x,_i.getTransform(),t_.m_radius,l.getTransform(),o_.m_radius)}}},V.prototype.setEnabled=function(x){this.m_enabledFlag=!!x},V.prototype.isEnabled=function(){return this.m_enabledFlag},V.prototype.isTouching=function(){return this.m_touchingFlag},V.prototype.getNext=function(){return this.m_next},V.prototype.getFixtureA=function(){return this.m_fixtureA},V.prototype.getFixtureB=function(){return this.m_fixtureB},V.prototype.getChildIndexA=function(){return this.m_indexA},V.prototype.getChildIndexB=function(){return this.m_indexB},V.prototype.flagForFiltering=function(){this.m_filterFlag=!0},V.prototype.setFriction=function(x){this.m_friction=x},V.prototype.getFriction=function(){return this.m_friction},V.prototype.resetFriction=function(){var x=this.m_fixtureA,o=this.m_fixtureB;x===null||o===null||(this.m_friction=B3(x.m_friction,o.m_friction))},V.prototype.setRestitution=function(x){this.m_restitution=x},V.prototype.getRestitution=function(){return this.m_restitution},V.prototype.resetRestitution=function(){var x=this.m_fixtureA,o=this.m_fixtureB;x===null||o===null||(this.m_restitution=P3(x.m_restitution,o.m_restitution))},V.prototype.setTangentSpeed=function(x){this.m_tangentSpeed=x},V.prototype.getTangentSpeed=function(){return this.m_tangentSpeed},V.prototype.evaluate=function(x,o,_o){var _i=this.m_fixtureA,l=this.m_fixtureB;_i===null||l===null||this.m_evaluateFcn(x,o,_i,this.m_indexA,_o,l,this.m_indexB)},V.prototype.update=function(x){var o=this.m_fixtureA,_o=this.m_fixtureB;if(!(o===null||_o===null)){var _i=o.m_body,l=_o.m_body;if(!(_i===null||l===null)){var t_=o.m_shape,o_=_o.m_shape;if(!(t_===null||o_===null)){this.m_enabledFlag=!0;var i_=!1,_e=this.m_touchingFlag,l_=o.m_isSensor,ws=_o.m_isSensor,h_=l_||ws,s_=_i.m_xf,B_=l.m_xf;if(h_)i_=bT(t_,this.m_indexA,o_,this.m_indexB,s_,B_),this.m_manifold.pointCount=0;else{BV.recycle(),BV.set(this.m_manifold),this.m_manifold.recycle(),this.evaluate(this.m_manifold,s_,B_),i_=this.m_manifold.pointCount>0;for(var D_=0;D_<this.m_manifold.pointCount;++D_){var y_=this.m_manifold.points[D_];y_.normalImpulse=0,y_.tangentImpulse=0;for(var G_=0;G_<BV.pointCount;++G_){var q_=BV.points[G_];if(q_.id.key===y_.id.key){y_.normalImpulse=q_.normalImpulse,y_.tangentImpulse=q_.tangentImpulse;break}}}i_!==_e&&(_i.setAwake(!0),l.setAwake(!0))}this.m_touchingFlag=i_;var j_=typeof x=="object"&&x!==null;!_e&&i_&&j_&&x.beginContact(this),_e&&!i_&&j_&&x.endContact(this),!h_&&i_&&j_&&BV&&x.preSolve(this,BV)}}}},V.prototype.solvePositionConstraint=function(x){return this._solvePositionConstraint(x,null,null)},V.prototype.solvePositionConstraintTOI=function(x,o,_o){return this._solvePositionConstraint(x,o,_o)},V.prototype._solvePositionConstraint=function(x,o,_o){var _i=o!==null&&_o!==null,l=0,t_=this.m_fixtureA,o_=this.m_fixtureB;if(t_===null||o_===null)return l;var i_=t_.m_body,_e=o_.m_body;if(i_===null||_e===null)return l;i_.c_velocity,_e.c_velocity;var l_=i_.c_position,ws=_e.c_position,h_=this.p_localCenterA,s_=this.p_localCenterB,B_=0,D_=0;(!_i||i_===o||i_===_o)&&(B_=this.p_invMassA,D_=this.p_invIA);var y_=0,G_=0;(!_i||_e===o||_e===_o)&&(y_=this.p_invMassB,G_=this.p_invIB),ha(_B,l_.c);var q_=l_.a;ha(aB,ws.c);for(var j_=ws.a,_2=0;_2<this.p_pointCount;++_2){pD(vP,h_,_B,q_),pD(AP,s_,aB,j_);var m2=void 0;switch(this.p_type){case K1.e_circles:{ry(PD,vP,this.p_localPoint),ry(wD,AP,this.p_localPoints[0]),ny(u1,wD,PD),yC(u1),E1(q4,.5,PD,.5,wD),m2=y0(wD,u1)-y0(PD,u1)-this.p_radiusA-this.p_radiusB;break}case K1.e_faceA:{ZS(u1,vP.q,this.p_localNormal),ry(VD,vP,this.p_localPoint),ry(PV,AP,this.p_localPoints[_2]),m2=y0(PV,u1)-y0(VD,u1)-this.p_radiusA-this.p_radiusB,ha(q4,PV);break}case K1.e_faceB:{ZS(u1,AP.q,this.p_localNormal),ry(VD,AP,this.p_localPoint),ry(PV,vP,this.p_localPoints[_2]),m2=y0(PV,u1)-y0(VD,u1)-this.p_radiusA-this.p_radiusB,ha(q4,PV),Y4(u1);break}default:return l}ny(ZG,q4,_B),ny(KG,q4,aB),l=G2t(l,m2);var y2=_i?w0.toiBaugarte:w0.baumgarte,I2=w0.linearSlop,J2=w0.maxLinearCorrection,z2=kA(y2*(m2+I2),-J2,0),K2=By(ZG,u1),$2=By(KG,u1),P_=B_+y_+D_*K2*K2+G_*$2*$2,E_=P_>0?-z2/P_:0;K0(fA,E_,u1),O4(_B,B_,fA),q_-=D_*By(ZG,fA),dC(aB,y_,fA),j_+=G_*By(KG,fA)}return ha(l_.c,_B),l_.a=q_,ha(ws.c,aB),ws.a=j_,l},V.prototype.initVelocityConstraint=function(x){var o=this.m_fixtureA,_o=this.m_fixtureB;if(!(o===null||_o===null)){var _i=o.m_body,l=_o.m_body;if(!(_i===null||l===null)){var t_=_i.c_velocity,o_=l.c_velocity,i_=_i.c_position,_e=l.c_position,l_=this.p_radiusA,ws=this.p_radiusB,h_=this.m_manifold,s_=this.v_invMassA,B_=this.v_invMassB,D_=this.v_invIA,y_=this.v_invIB,G_=this.p_localCenterA,q_=this.p_localCenterB;ha(_B,i_.c);var j_=i_.a;ha(eA,t_.v);var _2=t_.w;ha(aB,_e.c);var m2=_e.a;ha(oA,o_.v);var y2=o_.w;pD(vP,G_,_B,j_),pD(AP,q_,aB,m2),BD.recycle(),h_.getWorldManifold(BD,vP,l_,AP,ws),ha(this.v_normal,BD.normal);for(var I2=0;I2<this.v_pointCount;++I2){var J2=this.v_points[I2],z2=BD.points[I2];ny(J2.rA,z2,_B),ny(J2.rB,z2,aB);var K2=By(J2.rA,this.v_normal),$2=By(J2.rB,this.v_normal),P_=s_+B_+D_*K2*K2+y_*$2*$2;J2.normalMass=P_>0?1/P_:0,DP(JB,this.v_normal,1);var E_=By(J2.rA,JB),Z_=By(J2.rB,JB),N_=s_+B_+D_*E_*E_+y_*Z_*Z_;J2.tangentMass=N_>0?1/N_:0,J2.velocityBias=0;var s2=0;s2+=y0(this.v_normal,oA),s2+=y0(this.v_normal,FS(JC,y2,J2.rB)),s2-=y0(this.v_normal,eA),s2-=y0(this.v_normal,FS(JC,_2,J2.rA)),s2<-w0.velocityThreshold&&(J2.velocityBias=-this.v_restitution*s2)}if(this.v_pointCount==2&&x.blockSolve){var u2=this.v_points[0],p2=this.v_points[1],v_=By(u2.rA,this.v_normal),F_=By(u2.rB,this.v_normal),$_=By(p2.rA,this.v_normal),C_=By(p2.rB,this.v_normal),W_=s_+B_+D_*v_*v_+y_*F_*F_,t2=s_+B_+D_*$_*$_+y_*C_*C_,l2=s_+B_+D_*v_*$_+y_*F_*C_,D2=1e3;if(W_*W_<D2*(W_*t2-l2*l2)){this.v_K.ex.setNum(W_,l2),this.v_K.ey.setNum(l2,t2);var G2=this.v_K.ex.x,E2=this.v_K.ey.x,V2=this.v_K.ex.y,F2=this.v_K.ey.y,U2=G2*F2-E2*V2;U2!==0&&(U2=1/U2),this.v_normalMass.ex.x=U2*F2,this.v_normalMass.ey.x=-U2*E2,this.v_normalMass.ex.y=-U2*V2,this.v_normalMass.ey.y=U2*G2}else this.v_pointCount=1}ha(i_.c,_B),i_.a=j_,ha(t_.v,eA),t_.w=_2,ha(_e.c,aB),_e.a=m2,ha(o_.v,oA),o_.w=y2}}},V.prototype.warmStartConstraint=function(x){var o=this.m_fixtureA,_o=this.m_fixtureB;if(!(o===null||_o===null)){var _i=o.m_body,l=_o.m_body;if(!(_i===null||l===null)){var t_=_i.c_velocity,o_=l.c_velocity;_i.c_position,l.c_position;var i_=this.v_invMassA,_e=this.v_invIA,l_=this.v_invMassB,ws=this.v_invIB;ha(eA,t_.v);var h_=t_.w;ha(oA,o_.v);var s_=o_.w;ha(u1,this.v_normal),DP(JB,u1,1);for(var B_=0;B_<this.v_pointCount;++B_){var D_=this.v_points[B_];E1(fA,D_.normalImpulse,u1,D_.tangentImpulse,JB),h_-=_e*By(D_.rA,fA),O4(eA,i_,fA),s_+=ws*By(D_.rB,fA),dC(oA,l_,fA)}ha(t_.v,eA),t_.w=h_,ha(o_.v,oA),o_.w=s_}}},V.prototype.storeConstraintImpulses=function(x){for(var o=this.m_manifold,_o=0;_o<this.v_pointCount;++_o)o.points[_o].normalImpulse=this.v_points[_o].normalImpulse,o.points[_o].tangentImpulse=this.v_points[_o].tangentImpulse},V.prototype.solveVelocityConstraint=function(x){var o=this.m_fixtureA,_o=this.m_fixtureB;if(!(o===null||_o===null)){var _i=o.m_body,l=_o.m_body;if(!(_i===null||l===null)){var t_=_i.c_velocity;_i.c_position;var o_=l.c_velocity;l.c_position;var i_=this.v_invMassA,_e=this.v_invIA,l_=this.v_invMassB,ws=this.v_invIB;ha(eA,t_.v);var h_=t_.w;ha(oA,o_.v);var s_=o_.w;ha(u1,this.v_normal),DP(JB,u1,1);for(var B_=this.v_friction,D_=0;D_<this.v_pointCount;++D_){var y_=this.v_points[D_];Y0(OS),YS(OS,oA),YS(OS,FS(JC,s_,y_.rB)),lB(OS,eA),lB(OS,FS(JC,h_,y_.rA));var G_=y0(OS,JB)-this.v_tangentSpeed,q_=y_.tangentMass*-G_,j_=B_*y_.normalImpulse,_2=kA(y_.tangentImpulse+q_,-j_,j_);q_=_2-y_.tangentImpulse,y_.tangentImpulse=_2,K0(fA,q_,JB),O4(eA,i_,fA),h_-=_e*By(y_.rA,fA),dC(oA,l_,fA),s_+=ws*By(y_.rB,fA)}if(this.v_pointCount==1||x.blockSolve==!1)for(var m2=0;m2<this.v_pointCount;++m2){var y_=this.v_points[m2];Y0(OS),YS(OS,oA),YS(OS,FS(JC,s_,y_.rB)),lB(OS,eA),lB(OS,FS(JC,h_,y_.rA));var y2=y0(OS,u1),q_=-y_.normalMass*(y2-y_.velocityBias),_2=D2t(y_.normalImpulse+q_,0);q_=_2-y_.normalImpulse,y_.normalImpulse=_2,K0(fA,q_,u1),O4(eA,i_,fA),h_-=_e*By(y_.rA,fA),dC(oA,l_,fA),s_+=ws*By(y_.rB,fA)}else{var I2=this.v_points[0],J2=this.v_points[1];LA(pB,I2.normalImpulse,J2.normalImpulse),Y0(wV),YS(wV,oA),YS(wV,FS(JC,s_,I2.rB)),lB(wV,eA),lB(wV,FS(JC,h_,I2.rA)),Y0(VV),YS(VV,oA),YS(VV,FS(JC,s_,J2.rB)),lB(VV,eA),lB(VV,FS(JC,h_,J2.rA));var z2=y0(wV,u1),K2=y0(VV,u1);for(LA(TS,z2-I2.velocityBias,K2-J2.velocityBias),TS.x-=this.v_K.ex.x*pB.x+this.v_K.ey.x*pB.y,TS.y-=this.v_K.ex.y*pB.x+this.v_K.ey.y*pB.y;;){if(Y0(D1),D1.x=-(this.v_normalMass.ex.x*TS.x+this.v_normalMass.ey.x*TS.y),D1.y=-(this.v_normalMass.ex.y*TS.x+this.v_normalMass.ey.y*TS.y),D1.x>=0&&D1.y>=0){ny(US,D1,pB),K0(gA,US.x,u1),K0(vA,US.y,u1),RC(eA,-i_,gA,-i_,vA,1,eA),h_-=_e*(By(I2.rA,gA)+By(J2.rA,vA)),RC(oA,l_,gA,l_,vA,1,oA),s_+=ws*(By(I2.rB,gA)+By(J2.rB,vA)),I2.normalImpulse=D1.x,J2.normalImpulse=D1.y;break}if(D1.x=-I2.normalMass*TS.x,D1.y=0,z2=0,K2=this.v_K.ex.y*D1.x+TS.y,D1.x>=0&&K2>=0){ny(US,D1,pB),K0(gA,US.x,u1),K0(vA,US.y,u1),RC(eA,-i_,gA,-i_,vA,1,eA),h_-=_e*(By(I2.rA,gA)+By(J2.rA,vA)),RC(oA,l_,gA,l_,vA,1,oA),s_+=ws*(By(I2.rB,gA)+By(J2.rB,vA)),I2.normalImpulse=D1.x,J2.normalImpulse=D1.y;break}if(D1.x=0,D1.y=-J2.normalMass*TS.y,z2=this.v_K.ey.x*D1.y+TS.x,K2=0,D1.y>=0&&z2>=0){ny(US,D1,pB),K0(gA,US.x,u1),K0(vA,US.y,u1),RC(eA,-i_,gA,-i_,vA,1,eA),h_-=_e*(By(I2.rA,gA)+By(J2.rA,vA)),RC(oA,l_,gA,l_,vA,1,oA),s_+=ws*(By(I2.rB,gA)+By(J2.rB,vA)),I2.normalImpulse=D1.x,J2.normalImpulse=D1.y;break}if(D1.x=0,D1.y=0,z2=TS.x,K2=TS.y,z2>=0&&K2>=0){ny(US,D1,pB),K0(gA,US.x,u1),K0(vA,US.y,u1),RC(eA,-i_,gA,-i_,vA,1,eA),h_-=_e*(By(I2.rA,gA)+By(J2.rA,vA)),RC(oA,l_,gA,l_,vA,1,oA),s_+=ws*(By(I2.rB,gA)+By(J2.rB,vA)),I2.normalImpulse=D1.x,J2.normalImpulse=D1.y;break}break}}ha(t_.v,eA),t_.w=h_,ha(o_.v,oA),o_.w=s_}}},V.addType=function(x,o,_o){gP[x]=gP[x]||{},gP[x][o]=_o},V.create=function(x,o,_o,_i){var l=x.m_shape.m_type,t_=_o.m_shape.m_type,o_=S3.allocate(),i_;if(i_=gP[l]&&gP[l][t_])o_.initialize(x,o,_o,_i,i_);else if(i_=gP[t_]&&gP[t_][l])o_.initialize(_o,_i,x,o,i_);else return null;x=o_.m_fixtureA,_o=o_.m_fixtureB,o=o_.getChildIndexA(),_i=o_.getChildIndexB();var _e=x.m_body,l_=_o.m_body;return o_.m_nodeA.contact=o_,o_.m_nodeA.other=l_,o_.m_nodeA.prev=null,o_.m_nodeA.next=_e.m_contactList,_e.m_contactList!=null&&(_e.m_contactList.prev=o_.m_nodeA),_e.m_contactList=o_.m_nodeA,o_.m_nodeB.contact=o_,o_.m_nodeB.other=_e,o_.m_nodeB.prev=null,o_.m_nodeB.next=l_.m_contactList,l_.m_contactList!=null&&(l_.m_contactList.prev=o_.m_nodeB),l_.m_contactList=o_.m_nodeB,x.isSensor()==!1&&_o.isSensor()==!1&&(_e.setAwake(!0),l_.setAwake(!0)),o_},V.destroy=function(x,o){var _o=x.m_fixtureA,_i=x.m_fixtureB;if(!(_o===null||_i===null)){var l=_o.m_body,t_=_i.m_body;l===null||t_===null||(x.isTouching()&&o.endContact(x),x.m_nodeA.prev&&(x.m_nodeA.prev.next=x.m_nodeA.next),x.m_nodeA.next&&(x.m_nodeA.next.prev=x.m_nodeA.prev),x.m_nodeA==l.m_contactList&&(l.m_contactList=x.m_nodeA.next),x.m_nodeB.prev&&(x.m_nodeB.prev.next=x.m_nodeB.next),x.m_nodeB.next&&(x.m_nodeB.next.prev=x.m_nodeB.prev),x.m_nodeB==t_.m_contactList&&(t_.m_contactList=x.m_nodeB.next),x.m_manifold.pointCount>0&&!_o.m_isSensor&&!_i.m_isSensor&&(l.setAwake(!0),t_.setAwake(!0)),S3.release(x))}},V}(),J2t={gravity:e2.zero(),allowSleep:!0,warmStarting:!0,continuousPhysics:!0,subStepping:!1,blockSolve:!0,velocityIterations:8,positionIterations:3},kV=function(){function V(x){if(!(this instanceof V))return new V(x);this.s_step=new mJ,x?e2.isValid(x)&&(x={gravity:x}):x={},x=LS(x,J2t),this.m_solver=new dT(this),this.m_broadPhase=new s2t,this.m_contactList=null,this.m_contactCount=0,this.m_bodyList=null,this.m_bodyCount=0,this.m_jointList=null,this.m_jointCount=0,this.m_stepComplete=!0,this.m_allowSleep=x.allowSleep,this.m_gravity=e2.clone(x.gravity),this.m_clearForces=!0,this.m_newFixture=!1,this.m_locked=!1,this.m_warmStarting=x.warmStarting,this.m_continuousPhysics=x.continuousPhysics,this.m_subStepping=x.subStepping,this.m_blockSolve=x.blockSolve,this.m_velocityIterations=x.velocityIterations,this.m_positionIterations=x.positionIterations,this.m_t=0,this.m_step_callback=[]}return V.prototype._serialize=function(){for(var x=[],o=[],_o=this.getBodyList();_o;_o=_o.getNext())x.push(_o);for(var _i=this.getJointList();_i;_i=_i.getNext())typeof _i._serialize=="function"&&o.push(_i);return{gravity:this.m_gravity,bodies:x,joints:o}},V._deserialize=function(x,o,_o){if(!x)return new V;var _i=new V(x.gravity);if(x.bodies)for(var l=x.bodies.length-1;l>=0;l-=1)_i._addBody(_o(r1,x.bodies[l],_i));if(x.joints)for(var l=x.joints.length-1;l>=0;l--)_i.createJoint(_o(ZA,x.joints[l],_i));return _i},V.prototype.getBodyList=function(){return this.m_bodyList},V.prototype.getJointList=function(){return this.m_jointList},V.prototype.getContactList=function(){return this.m_contactList},V.prototype.getBodyCount=function(){return this.m_bodyCount},V.prototype.getJointCount=function(){return this.m_jointCount},V.prototype.getContactCount=function(){return this.m_contactCount},V.prototype.setGravity=function(x){this.m_gravity.set(x)},V.prototype.getGravity=function(){return this.m_gravity},V.prototype.isLocked=function(){return this.m_locked},V.prototype.setAllowSleeping=function(x){if(x!=this.m_allowSleep&&(this.m_allowSleep=x,this.m_allowSleep==!1))for(var o=this.m_bodyList;o;o=o.m_next)o.setAwake(!0)},V.prototype.getAllowSleeping=function(){return this.m_allowSleep},V.prototype.setWarmStarting=function(x){this.m_warmStarting=x},V.prototype.getWarmStarting=function(){return this.m_warmStarting},V.prototype.setContinuousPhysics=function(x){this.m_continuousPhysics=x},V.prototype.getContinuousPhysics=function(){return this.m_continuousPhysics},V.prototype.setSubStepping=function(x){this.m_subStepping=x},V.prototype.getSubStepping=function(){return this.m_subStepping},V.prototype.setAutoClearForces=function(x){this.m_clearForces=x},V.prototype.getAutoClearForces=function(){return this.m_clearForces},V.prototype.clearForces=function(){for(var x=this.m_bodyList;x;x=x.getNext())x.m_force.setZero(),x.m_torque=0},V.prototype.queryAABB=function(x,o){var _o=this.m_broadPhase;this.m_broadPhase.query(x,function(_i){var l=_o.getUserData(_i);return o(l.fixture)})},V.prototype.rayCast=function(x,o,_o){var _i=this.m_broadPhase;this.m_broadPhase.rayCast({maxFraction:1,p1:x,p2:o},function(l,t_){var o_=_i.getUserData(t_),i_=o_.fixture,_e=o_.childIndex,l_={},ws=i_.rayCast(l_,l,_e);if(ws){var h_=l_.fraction,s_=e2.add(e2.mulNumVec2(1-h_,l.p1),e2.mulNumVec2(h_,l.p2));return _o(i_,s_,l_.normal,h_)}return l.maxFraction})},V.prototype.getProxyCount=function(){return this.m_broadPhase.getProxyCount()},V.prototype.getTreeHeight=function(){return this.m_broadPhase.getTreeHeight()},V.prototype.getTreeBalance=function(){return this.m_broadPhase.getTreeBalance()},V.prototype.getTreeQuality=function(){return this.m_broadPhase.getTreeQuality()},V.prototype.shiftOrigin=function(x){if(!this.isLocked()){for(var o=this.m_bodyList;o;o=o.m_next)o.m_xf.p.sub(x),o.m_sweep.c0.sub(x),o.m_sweep.c.sub(x);for(var _o=this.m_jointList;_o;_o=_o.m_next)_o.shiftOrigin(x);this.m_broadPhase.shiftOrigin(x)}},V.prototype._addBody=function(x){this.isLocked()||(x.m_prev=null,x.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=x),this.m_bodyList=x,++this.m_bodyCount)},V.prototype.createBody=function(x,o){if(this.isLocked())return null;var _o={};x&&(e2.isValid(x)?_o={position:x,angle:o}:typeof x=="object"&&(_o=x));var _i=new r1(this,_o);return this._addBody(_i),_i},V.prototype.createDynamicBody=function(x,o){var _o={};return x&&(e2.isValid(x)?_o={position:x,angle:o}:typeof x=="object"&&(_o=x)),_o.type="dynamic",this.createBody(_o)},V.prototype.createKinematicBody=function(x,o){var _o={};return x&&(e2.isValid(x)?_o={position:x,angle:o}:typeof x=="object"&&(_o=x)),_o.type="kinematic",this.createBody(_o)},V.prototype.destroyBody=function(x){if(!this.isLocked()){if(x.m_destroyed)return!1;for(var o=x.m_jointList;o;){var _o=o;o=o.next,this.publish("remove-joint",_o.joint),this.destroyJoint(_o.joint),x.m_jointList=o}x.m_jointList=null;for(var _i=x.m_contactList;_i;){var l=_i;_i=_i.next,this.destroyContact(l.contact),x.m_contactList=_i}x.m_contactList=null;for(var t_=x.m_fixtureList;t_;){var o_=t_;t_=t_.m_next,this.publish("remove-fixture",o_),o_.destroyProxies(this.m_broadPhase),x.m_fixtureList=t_}return x.m_fixtureList=null,x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x==this.m_bodyList&&(this.m_bodyList=x.m_next),x.m_destroyed=!0,--this.m_bodyCount,this.publish("remove-body",x),!0}},V.prototype.createJoint=function(x){if(this.isLocked())return null;if(x.m_prev=null,x.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=x),this.m_jointList=x,++this.m_jointCount,x.m_edgeA.joint=x,x.m_edgeA.other=x.m_bodyB,x.m_edgeA.prev=null,x.m_edgeA.next=x.m_bodyA.m_jointList,x.m_bodyA.m_jointList&&(x.m_bodyA.m_jointList.prev=x.m_edgeA),x.m_bodyA.m_jointList=x.m_edgeA,x.m_edgeB.joint=x,x.m_edgeB.other=x.m_bodyA,x.m_edgeB.prev=null,x.m_edgeB.next=x.m_bodyB.m_jointList,x.m_bodyB.m_jointList&&(x.m_bodyB.m_jointList.prev=x.m_edgeB),x.m_bodyB.m_jointList=x.m_edgeB,x.m_collideConnected==!1)for(var o=x.m_bodyB.getContactList();o;o=o.next)o.other==x.m_bodyA&&o.contact.flagForFiltering();return x},V.prototype.destroyJoint=function(x){if(!this.isLocked()){x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x==this.m_jointList&&(this.m_jointList=x.m_next);var o=x.m_bodyA,_o=x.m_bodyB;if(o.setAwake(!0),_o.setAwake(!0),x.m_edgeA.prev&&(x.m_edgeA.prev.next=x.m_edgeA.next),x.m_edgeA.next&&(x.m_edgeA.next.prev=x.m_edgeA.prev),x.m_edgeA==o.m_jointList&&(o.m_jointList=x.m_edgeA.next),x.m_edgeA.prev=null,x.m_edgeA.next=null,x.m_edgeB.prev&&(x.m_edgeB.prev.next=x.m_edgeB.next),x.m_edgeB.next&&(x.m_edgeB.next.prev=x.m_edgeB.prev),x.m_edgeB==_o.m_jointList&&(_o.m_jointList=x.m_edgeB.next),x.m_edgeB.prev=null,x.m_edgeB.next=null,--this.m_jointCount,x.m_collideConnected==!1)for(var _i=_o.getContactList();_i;)_i.other==o&&_i.contact.flagForFiltering(),_i=_i.next;this.publish("remove-joint",x)}},V.prototype.step=function(x,o,_o){if(this.publish("pre-step",x),(o|0)!==o&&(o=0),o=o||this.m_velocityIterations,_o=_o||this.m_positionIterations,this.m_newFixture&&(this.findNewContacts(),this.m_newFixture=!1),this.m_locked=!0,this.s_step.reset(x),this.s_step.velocityIterations=o,this.s_step.positionIterations=_o,this.s_step.warmStarting=this.m_warmStarting,this.s_step.blockSolve=this.m_blockSolve,this.updateContacts(),this.m_stepComplete&&x>0){this.m_solver.solveWorld(this.s_step);for(var _i=this.m_bodyList;_i;_i=_i.getNext())_i.m_islandFlag!=!1&&(_i.isStatic()||_i.synchronizeFixtures());this.findNewContacts()}this.m_continuousPhysics&&x>0&&this.m_solver.solveWorldTOI(this.s_step),this.m_clearForces&&this.clearForces(),this.m_locked=!1;for(var l;l=this.m_step_callback.shift();)l(this);this.publish("post-step",x)},V.prototype.queueUpdate=function(x){this.isLocked()?this.m_step_callback.push(x):x(this)},V.prototype.findNewContacts=function(){var x=this;this.m_broadPhase.updatePairs(function(o,_o){return x.createContact(o,_o)})},V.prototype.createContact=function(x,o){var _o=x.fixture,_i=o.fixture,l=x.childIndex,t_=o.childIndex,o_=_o.getBody(),i_=_i.getBody();if(o_!=i_){for(var _e=i_.getContactList();_e;){if(_e.other==o_){var l_=_e.contact.getFixtureA(),ws=_e.contact.getFixtureB(),h_=_e.contact.getChildIndexA(),s_=_e.contact.getChildIndexB();if(l_==_o&&ws==_i&&h_==l&&s_==t_||l_==_i&&ws==_o&&h_==t_&&s_==l)return}_e=_e.next}if(i_.shouldCollide(o_)!=!1&&_i.shouldCollide(_o)!=!1){var B_=kC.create(_o,l,_i,t_);B_!=null&&(B_.m_prev=null,this.m_contactList!=null&&(B_.m_next=this.m_contactList,this.m_contactList.m_prev=B_),this.m_contactList=B_,++this.m_contactCount)}}},V.prototype.updateContacts=function(){for(var x,o=this.m_contactList;x=o;){o=x.getNext();var _o=x.getFixtureA(),_i=x.getFixtureB(),l=x.getChildIndexA(),t_=x.getChildIndexB(),o_=_o.getBody(),i_=_i.getBody();if(x.m_filterFlag){if(i_.shouldCollide(o_)==!1){this.destroyContact(x);continue}if(_i.shouldCollide(_o)==!1){this.destroyContact(x);continue}x.m_filterFlag=!1}var _e=o_.isAwake()&&!o_.isStatic(),l_=i_.isAwake()&&!i_.isStatic();if(!(_e==!1&&l_==!1)){var ws=_o.m_proxies[l].proxyId,h_=_i.m_proxies[t_].proxyId,s_=this.m_broadPhase.testOverlap(ws,h_);if(s_==!1){this.destroyContact(x);continue}x.update(this)}}},V.prototype.destroyContact=function(x){x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x==this.m_contactList&&(this.m_contactList=x.m_next),kC.destroy(x,this),--this.m_contactCount},V.prototype.on=function(x,o){return typeof x!="string"||typeof o!="function"?this:(this._listeners||(this._listeners={}),this._listeners[x]||(this._listeners[x]=[]),this._listeners[x].push(o),this)},V.prototype.off=function(x,o){if(typeof x!="string"||typeof o!="function")return this;var _o=this._listeners&&this._listeners[x];if(!_o||!_o.length)return this;var _i=_o.indexOf(o);return _i>=0&&_o.splice(_i,1),this},V.prototype.publish=function(x,o,_o,_i){var l=this._listeners&&this._listeners[x];if(!l||!l.length)return 0;for(var t_=0;t_<l.length;t_++)l[t_].call(this,o,_o,_i);return l.length},V.prototype.beginContact=function(x){this.publish("begin-contact",x)},V.prototype.endContact=function(x){this.publish("end-contact",x)},V.prototype.preSolve=function(x,o){this.publish("pre-solve",x,o)},V.prototype.postSolve=function(x,o){this.publish("post-solve",x,o)},V}(),Ky=function(){function V(x,o,_o){if(!(this instanceof V))return new V(x,o,_o);typeof x>"u"?(this.x=0,this.y=0,this.z=0):typeof x=="object"?(this.x=x.x,this.y=x.y,this.z=x.z):(this.x=x,this.y=o,this.z=_o)}return V.prototype._serialize=function(){return{x:this.x,y:this.y,z:this.z}},V._deserialize=function(x){var o=Object.create(V.prototype);return o.x=x.x,o.y=x.y,o.z=x.z,o},V.neo=function(x,o,_o){var _i=Object.create(V.prototype);return _i.x=x,_i.y=o,_i.z=_o,_i},V.zero=function(){var x=Object.create(V.prototype);return x.x=0,x.y=0,x.z=0,x},V.clone=function(x){return V.neo(x.x,x.y,x.z)},V.prototype.toString=function(){return JSON.stringify(this)},V.isValid=function(x){return x===null||typeof x>"u"?!1:Number.isFinite(x.x)&&Number.isFinite(x.y)&&Number.isFinite(x.z)},V.assert=function(x){},V.prototype.setZero=function(){return this.x=0,this.y=0,this.z=0,this},V.prototype.set=function(x,o,_o){return this.x=x,this.y=o,this.z=_o,this},V.prototype.add=function(x){return this.x+=x.x,this.y+=x.y,this.z+=x.z,this},V.prototype.sub=function(x){return this.x-=x.x,this.y-=x.y,this.z-=x.z,this},V.prototype.mul=function(x){return this.x*=x,this.y*=x,this.z*=x,this},V.areEqual=function(x,o){return x===o||typeof x=="object"&&x!==null&&typeof o=="object"&&o!==null&&x.x===o.x&&x.y===o.y&&x.z===o.z},V.dot=function(x,o){return x.x*o.x+x.y*o.y+x.z*o.z},V.cross=function(x,o){return new V(x.y*o.z-x.z*o.y,x.z*o.x-x.x*o.z,x.x*o.y-x.y*o.x)},V.add=function(x,o){return new V(x.x+o.x,x.y+o.y,x.z+o.z)},V.sub=function(x,o){return new V(x.x-o.x,x.y-o.y,x.z-o.z)},V.mul=function(x,o){return new V(o*x.x,o*x.y,o*x.z)},V.prototype.neg=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},V.neg=function(x){return new V(-x.x,-x.y,-x.z)},V}(),V3=_m(0,0),M3=_m(0,0),mB=function(V){QA(x,V);function x(o,_o){var _i=this;return _i instanceof x?(_i=V.call(this)||this,_i.m_type=x.TYPE,_i.m_radius=w0.polygonRadius,_i.m_vertex1=o?e2.clone(o):e2.zero(),_i.m_vertex2=_o?e2.clone(_o):e2.zero(),_i.m_vertex0=e2.zero(),_i.m_vertex3=e2.zero(),_i.m_hasVertex0=!1,_i.m_hasVertex3=!1,_i):new x(o,_o)}return x.prototype._serialize=function(){return{type:this.m_type,vertex1:this.m_vertex1,vertex2:this.m_vertex2,vertex0:this.m_vertex0,vertex3:this.m_vertex3,hasVertex0:this.m_hasVertex0,hasVertex3:this.m_hasVertex3}},x._deserialize=function(o){var _o=new x(o.vertex1,o.vertex2);return _o.m_hasVertex0&&_o.setPrevVertex(o.vertex0),_o.m_hasVertex3&&_o.setNextVertex(o.vertex3),_o},x.prototype._reset=function(){},x.prototype.getRadius=function(){return this.m_radius},x.prototype.getType=function(){return this.m_type},x.prototype.setNext=function(o){return this.setNextVertex(o)},x.prototype.setNextVertex=function(o){return o?(this.m_vertex3.setVec2(o),this.m_hasVertex3=!0):(this.m_vertex3.setZero(),this.m_hasVertex3=!1),this},x.prototype.getNextVertex=function(){return this.m_vertex3},x.prototype.setPrev=function(o){return this.setPrevVertex(o)},x.prototype.setPrevVertex=function(o){return o?(this.m_vertex0.setVec2(o),this.m_hasVertex0=!0):(this.m_vertex0.setZero(),this.m_hasVertex0=!1),this},x.prototype.getPrevVertex=function(){return this.m_vertex0},x.prototype._set=function(o,_o){return this.m_vertex1.setVec2(o),this.m_vertex2.setVec2(_o),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this},x.prototype._clone=function(){var o=new x;return o.m_type=this.m_type,o.m_radius=this.m_radius,o.m_vertex1.setVec2(this.m_vertex1),o.m_vertex2.setVec2(this.m_vertex2),o.m_vertex0.setVec2(this.m_vertex0),o.m_vertex3.setVec2(this.m_vertex3),o.m_hasVertex0=this.m_hasVertex0,o.m_hasVertex3=this.m_hasVertex3,o},x.prototype.getChildCount=function(){return 1},x.prototype.testPoint=function(o,_o){return!1},x.prototype.rayCast=function(o,_o,_i,l){var t_=r0.mulTVec2(_i.q,e2.sub(_o.p1,_i.p)),o_=r0.mulTVec2(_i.q,e2.sub(_o.p2,_i.p)),i_=e2.sub(o_,t_),_e=this.m_vertex1,l_=this.m_vertex2,ws=e2.sub(l_,_e),h_=e2.neo(ws.y,-ws.x);h_.normalize();var s_=e2.dot(h_,e2.sub(_e,t_)),B_=e2.dot(h_,i_);if(B_==0)return!1;var D_=s_/B_;if(D_<0||_o.maxFraction<D_)return!1;var y_=e2.add(t_,e2.mulNumVec2(D_,i_)),G_=e2.sub(l_,_e),q_=e2.dot(G_,G_);if(q_==0)return!1;var j_=e2.dot(e2.sub(y_,_e),G_)/q_;return j_<0||1<j_?!1:(o.fraction=D_,s_>0?o.normal=r0.mulVec2(_i.q,h_).neg():o.normal=r0.mulVec2(_i.q,h_),!0)},x.prototype.computeAABB=function(o,_o,_i){ry(V3,_o,this.m_vertex1),ry(M3,_o,this.m_vertex2),RA.combinePoints(o,V3,M3),RA.extend(o,this.m_radius)},x.prototype.computeMass=function(o,_o){o.mass=0,E1(o.center,.5,this.m_vertex1,.5,this.m_vertex2),o.I=0},x.prototype.computeDistanceProxy=function(o){o.m_vertices[0]=this.m_vertex1,o.m_vertices[1]=this.m_vertex2,o.m_vertices.length=2,o.m_count=2,o.m_radius=this.m_radius},x.TYPE="edge",x}(LP),gT=mB,D3=_m(0,0),G3=_m(0,0),LD=function(V){QA(x,V);function x(o,_o){var _i=this;return _i instanceof x?(_i=V.call(this)||this,_i.m_type=x.TYPE,_i.m_radius=w0.polygonRadius,_i.m_vertices=[],_i.m_count=0,_i.m_prevVertex=null,_i.m_nextVertex=null,_i.m_hasPrevVertex=!1,_i.m_hasNextVertex=!1,_i.m_isLoop=!!_o,o&&o.length&&(_o?_i._createLoop(o):_i._createChain(o)),_i):new x(o,_o)}return x.prototype._serialize=function(){var o={type:this.m_type,vertices:this.m_isLoop?this.m_vertices.slice(0,this.m_vertices.length-1):this.m_vertices,isLoop:this.m_isLoop,hasPrevVertex:this.m_hasPrevVertex,hasNextVertex:this.m_hasNextVertex,prevVertex:null,nextVertex:null};return this.m_prevVertex&&(o.prevVertex=this.m_prevVertex),this.m_nextVertex&&(o.nextVertex=this.m_nextVertex),o},x._deserialize=function(o,_o,_i){var l=[];if(o.vertices)for(var t_=0;t_<o.vertices.length;t_++)l.push(_i(e2,o.vertices[t_]));var o_=new x(l,o.isLoop);return o.prevVertex&&o_.setPrevVertex(o.prevVertex),o.nextVertex&&o_.setNextVertex(o.nextVertex),o_},x.prototype.getType=function(){return this.m_type},x.prototype.getRadius=function(){return this.m_radius},x.prototype._createLoop=function(o){if(!(o.length<3)){for(var _o=1;_o<o.length;++_o)o[_o-1],o[_o];this.m_vertices=[],this.m_count=o.length+1;for(var _o=0;_o<o.length;++_o)this.m_vertices[_o]=e2.clone(o[_o]);return this.m_vertices[o.length]=e2.clone(o[0]),this.m_prevVertex=this.m_vertices[this.m_count-2],this.m_nextVertex=this.m_vertices[1],this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this}},x.prototype._createChain=function(o){for(var _o=1;_o<o.length;++_o)o[_o-1],o[_o];this.m_vertices=[],this.m_count=o.length;for(var _o=0;_o<o.length;++_o)this.m_vertices[_o]=e2.clone(o[_o]);return this.m_prevVertex=null,this.m_nextVertex=null,this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this},x.prototype._reset=function(){this.m_isLoop?this._createLoop(this.m_vertices.slice(0,this.m_vertices.length-1)):this._createChain(this.m_vertices)},x.prototype.setPrevVertex=function(o){this.m_prevVertex=o,this.m_hasPrevVertex=!0},x.prototype.getPrevVertex=function(){return this.m_prevVertex},x.prototype.setNextVertex=function(o){this.m_nextVertex=o,this.m_hasNextVertex=!0},x.prototype.getNextVertex=function(){return this.m_nextVertex},x.prototype._clone=function(){var o=new x;return o._createChain(this.m_vertices),o.m_type=this.m_type,o.m_radius=this.m_radius,o.m_prevVertex=this.m_prevVertex,o.m_nextVertex=this.m_nextVertex,o.m_hasPrevVertex=this.m_hasPrevVertex,o.m_hasNextVertex=this.m_hasNextVertex,o},x.prototype.getChildCount=function(){return this.m_count-1},x.prototype.getChildEdge=function(o,_o){o.m_type=mB.TYPE,o.m_radius=this.m_radius,o.m_vertex1=this.m_vertices[_o],o.m_vertex2=this.m_vertices[_o+1],_o>0?(o.m_vertex0=this.m_vertices[_o-1],o.m_hasVertex0=!0):(o.m_vertex0=this.m_prevVertex,o.m_hasVertex0=this.m_hasPrevVertex),_o<this.m_count-2?(o.m_vertex3=this.m_vertices[_o+2],o.m_hasVertex3=!0):(o.m_vertex3=this.m_nextVertex,o.m_hasVertex3=this.m_hasNextVertex)},x.prototype.getVertex=function(o){return o<this.m_count?this.m_vertices[o]:this.m_vertices[0]},x.prototype.isLoop=function(){return this.m_isLoop},x.prototype.testPoint=function(o,_o){return!1},x.prototype.rayCast=function(o,_o,_i,l){var t_=new mB(this.getVertex(l),this.getVertex(l+1));return t_.rayCast(o,_o,_i,0)},x.prototype.computeAABB=function(o,_o,_i){ry(D3,_o,this.getVertex(_i)),ry(G3,_o,this.getVertex(_i+1)),RA.combinePoints(o,D3,G3)},x.prototype.computeMass=function(o,_o){o.mass=0,Y0(o.center),o.I=0},x.prototype.computeDistanceProxy=function(o,_o){o.m_vertices[0]=this.getVertex(_o),o.m_vertices[1]=this.getVertex(_o+1),o.m_count=2,o.m_radius=this.m_radius},x.TYPE="chain",x}(LP);var J3=Math.max,QG=Math.min,VP=_m(0,0),I3=_m(0,0),E4=_m(0,0),MV=_m(0,0),SP=_m(0,0),IB=_m(0,0),qB=function(V){QA(x,V);function x(o){var _o=this;return _o instanceof x?(_o=V.call(this)||this,_o.m_type=x.TYPE,_o.m_radius=w0.polygonRadius,_o.m_centroid=e2.zero(),_o.m_vertices=[],_o.m_normals=[],_o.m_count=0,o&&o.length&&_o._set(o),_o):new x(o)}return x.prototype._serialize=function(){return{type:this.m_type,vertices:this.m_vertices}},x._deserialize=function(o,_o,_i){var l=[];if(o.vertices)for(var t_=0;t_<o.vertices.length;t_++)l.push(_i(e2,o.vertices[t_]));var o_=new x(l);return o_},x.prototype.getType=function(){return this.m_type},x.prototype.getRadius=function(){return this.m_radius},x.prototype._clone=function(){var o=new x;o.m_type=this.m_type,o.m_radius=this.m_radius,o.m_count=this.m_count,o.m_centroid.setVec2(this.m_centroid);for(var _o=0;_o<this.m_count;_o++)o.m_vertices.push(this.m_vertices[_o].clone());for(var _o=0;_o<this.m_normals.length;_o++)o.m_normals.push(this.m_normals[_o].clone());return o},x.prototype.getChildCount=function(){return 1},x.prototype._reset=function(){this._set(this.m_vertices)},x.prototype._set=function(o){if(o.length<3){this._setAsBox(1,1);return}for(var _o=QG(o.length,w0.maxPolygonVertices),_i=[],l=0;l<_o;++l){for(var t_=o[l],o_=!0,i_=0;i_<_i.length;++i_)if(e2.distanceSquared(t_,_i[i_])<.25*w0.linearSlopSquared){o_=!1;break}o_&&_i.push(e2.clone(t_))}if(_o=_i.length,_o<3){this._setAsBox(1,1);return}for(var _e=0,l_=_i[0].x,l=1;l<_o;++l){var ws=_i[l].x;(ws>l_||ws===l_&&_i[l].y<_i[_e].y)&&(_e=l,l_=ws)}for(var h_=[],s_=0,B_=_e;;){h_[s_]=B_;for(var D_=0,i_=1;i_<_o;++i_){if(D_===B_){D_=i_;continue}var y_=e2.sub(_i[D_],_i[h_[s_]]),t_=e2.sub(_i[i_],_i[h_[s_]]),G_=e2.crossVec2Vec2(y_,t_);G_<0&&(D_=i_),G_===0&&t_.lengthSquared()>y_.lengthSquared()&&(D_=i_)}if(++s_,B_=D_,D_===_e)break}if(s_<3){this._setAsBox(1,1);return}this.m_count=s_,this.m_vertices=[];for(var l=0;l<s_;++l)this.m_vertices[l]=_i[h_[l]];for(var l=0;l<s_;++l){var q_=l,j_=l+1<s_?l+1:0,_2=e2.sub(this.m_vertices[j_],this.m_vertices[q_]);this.m_normals[l]=e2.crossVec2Num(_2,1),this.m_normals[l].normalize()}this.m_centroid=I2t(this.m_vertices,s_)},x.prototype._setAsBox=function(o,_o,_i,l){if(this.m_vertices[0]=e2.neo(o,-_o),this.m_vertices[1]=e2.neo(o,_o),this.m_vertices[2]=e2.neo(-o,_o),this.m_vertices[3]=e2.neo(-o,-_o),this.m_normals[0]=e2.neo(1,0),this.m_normals[1]=e2.neo(0,1),this.m_normals[2]=e2.neo(-1,0),this.m_normals[3]=e2.neo(0,-1),this.m_count=4,_i&&e2.isValid(_i)){l=l||0,ha(this.m_centroid,_i);var t_=xC.identity();t_.p.setVec2(_i),t_.q.setAngle(l);for(var o_=0;o_<this.m_count;++o_)this.m_vertices[o_]=xC.mulVec2(t_,this.m_vertices[o_]),this.m_normals[o_]=r0.mulVec2(t_.q,this.m_normals[o_])}},x.prototype.testPoint=function(o,_o){for(var _i=_J(VP,o,_o),l=0;l<this.m_count;++l){var t_=y0(this.m_normals[l],_i)-y0(this.m_normals[l],this.m_vertices[l]);if(t_>0)return!1}return!0},x.prototype.rayCast=function(o,_o,_i,l){for(var t_=r0.mulTVec2(_i.q,e2.sub(_o.p1,_i.p)),o_=r0.mulTVec2(_i.q,e2.sub(_o.p2,_i.p)),i_=e2.sub(o_,t_),_e=0,l_=_o.maxFraction,ws=-1,h_=0;h_<this.m_count;++h_){var s_=e2.dot(this.m_normals[h_],e2.sub(this.m_vertices[h_],t_)),B_=e2.dot(this.m_normals[h_],i_);if(B_==0){if(s_<0)return!1}else B_<0&&s_<_e*B_?(_e=s_/B_,ws=h_):B_>0&&s_<l_*B_&&(l_=s_/B_);if(l_<_e)return!1}return ws>=0?(o.fraction=_e,o.normal=r0.mulVec2(_i.q,this.m_normals[ws]),!0):!1},x.prototype.computeAABB=function(o,_o,_i){for(var l=1/0,t_=1/0,o_=-1/0,i_=-1/0,_e=0;_e<this.m_count;++_e){var l_=ry(VP,_o,this.m_vertices[_e]);l=QG(l,l_.x),o_=J3(o_,l_.x),t_=QG(t_,l_.y),i_=J3(i_,l_.y)}LA(o.lowerBound,l-this.m_radius,t_-this.m_radius),LA(o.upperBound,o_+this.m_radius,i_+this.m_radius)},x.prototype.computeMass=function(o,_o){Y0(SP);var _i=0,l=0;Y0(IB);for(var t_=0;t_<this.m_count;++t_)YS(IB,this.m_vertices[t_]);K0(IB,1/this.m_count,IB);for(var o_=1/3,t_=0;t_<this.m_count;++t_){ny(E4,this.m_vertices[t_],IB),t_+1<this.m_count?ny(MV,this.m_vertices[t_+1],IB):ny(MV,this.m_vertices[0],IB);var i_=By(E4,MV),_e=.5*i_;_i+=_e,E1(VP,_e*o_,E4,_e*o_,MV),YS(SP,VP);var l_=E4.x,ws=E4.y,h_=MV.x,s_=MV.y,B_=l_*l_+h_*l_+h_*h_,D_=ws*ws+s_*ws+s_*s_;l+=.25*o_*i_*(B_+D_)}o.mass=_o*_i,K0(SP,1/_i,SP),a2t(o.center,SP,IB),o.I=_o*l,o.I+=o.mass*(y0(o.center,o.center)-y0(SP,SP))},x.prototype.validate=function(){for(var o=0;o<this.m_count;++o){var _o=o,_i=o<this.m_count-1?_o+1:0,l=this.m_vertices[_o];ny(I3,this.m_vertices[_i],l);for(var t_=0;t_<this.m_count;++t_)if(!(t_==_o||t_==_i)){var o_=By(I3,ny(VP,this.m_vertices[t_],l));if(o_<0)return!1}}return!0},x.prototype.computeDistanceProxy=function(o){for(var _o=0;_o<this.m_count;++_o)o.m_vertices[_o]=this.m_vertices[_o];o.m_vertices.length=this.m_count,o.m_count=this.m_count,o.m_radius=this.m_radius},x.TYPE="polygon",x}(LP);function I2t(V,x){for(var o=e2.zero(),_o=0,_i=e2.zero(),l,t_=1/3,l=0;l<x;++l){var o_=_i,i_=V[l],_e=l+1<x?V[l+1]:V[0],l_=e2.sub(i_,o_),ws=e2.sub(_e,o_),h_=e2.crossVec2Vec2(l_,ws),s_=.5*h_;_o+=s_,RC(VP,1,o_,1,i_,1,_e),dC(o,s_*t_,VP)}return o.mul(1/_o),o}var T2t=Math.sqrt,F2t=Math.PI,T3=_m(0,0),TP=function(V){QA(x,V);function x(o,_o){var _i=this;return _i instanceof x?(_i=V.call(this)||this,_i.m_type=x.TYPE,_i.m_p=e2.zero(),_i.m_radius=1,typeof o=="object"&&e2.isValid(o)?(_i.m_p.setVec2(o),typeof _o=="number"&&(_i.m_radius=_o)):typeof o=="number"&&(_i.m_radius=o),_i):new x(o,_o)}return x.prototype._serialize=function(){return{type:this.m_type,p:this.m_p,radius:this.m_radius}},x._deserialize=function(o){return new x(o.p,o.radius)},x.prototype._reset=function(){},x.prototype.getType=function(){return this.m_type},x.prototype.getRadius=function(){return this.m_radius},x.prototype.getCenter=function(){return this.m_p},x.prototype._clone=function(){var o=new x;return o.m_type=this.m_type,o.m_radius=this.m_radius,o.m_p=this.m_p.clone(),o},x.prototype.getChildCount=function(){return 1},x.prototype.testPoint=function(o,_o){var _i=ry(T3,o,this.m_p);return JP(_o,_i)<=this.m_radius*this.m_radius},x.prototype.rayCast=function(o,_o,_i,l){var t_=e2.add(_i.p,r0.mulVec2(_i.q,this.m_p)),o_=e2.sub(_o.p1,t_),i_=e2.dot(o_,o_)-this.m_radius*this.m_radius,_e=e2.sub(_o.p2,_o.p1),l_=e2.dot(o_,_e),ws=e2.dot(_e,_e),h_=l_*l_-ws*i_;if(h_<0||ws<CS)return!1;var s_=-(l_+T2t(h_));return 0<=s_&&s_<=_o.maxFraction*ws?(s_/=ws,o.fraction=s_,o.normal=e2.add(o_,e2.mulNumVec2(s_,_e)),o.normal.normalize(),!0):!1},x.prototype.computeAABB=function(o,_o,_i){var l=ry(T3,_o,this.m_p);LA(o.lowerBound,l.x-this.m_radius,l.y-this.m_radius),LA(o.upperBound,l.x+this.m_radius,l.y+this.m_radius)},x.prototype.computeMass=function(o,_o){o.mass=_o*F2t*this.m_radius*this.m_radius,ha(o.center,this.m_p),o.I=o.mass*(.5*this.m_radius*this.m_radius+GP(this.m_p))},x.prototype.computeDistanceProxy=function(o){o.m_vertices[0]=this.m_p,o.m_vertices.length=1,o.m_count=1,o.m_radius=this.m_radius},x.TYPE="circle",x}(LP);var R2t=Math.abs,L2t=Math.PI,k2t={frequencyHz:0,dampingRatio:0},F3=function(V){QA(x,V);function x(o,_o,_i,l,t_){var o_=this;if(!(o_ instanceof x))return new x(o,_o,_i,l,t_);if(_i&&l&&"m_type"in l&&"x"in _i&&"y"in _i){var i_=_i;_i=l,l=i_}return o=LS(o,k2t),o_=V.call(this,o,_o,_i)||this,_o=o_.m_bodyA,_i=o_.m_bodyB,o_.m_type=x.TYPE,o_.m_localAnchorA=e2.clone(l?_o.getLocalPoint(l):o.localAnchorA||e2.zero()),o_.m_localAnchorB=e2.clone(t_?_i.getLocalPoint(t_):o.localAnchorB||e2.zero()),o_.m_length=Number.isFinite(o.length)?o.length:e2.distance(_o.getWorldPoint(o_.m_localAnchorA),_i.getWorldPoint(o_.m_localAnchorB)),o_.m_frequencyHz=o.frequencyHz,o_.m_dampingRatio=o.dampingRatio,o_.m_impulse=0,o_.m_gamma=0,o_.m_bias=0,o_}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,length:this.m_length,impulse:this.m_impulse,gamma:this.m_gamma,bias:this.m_bias}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o);var l=new x(o);return l},x.prototype._reset=function(o){o.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(o.anchorA)):o.localAnchorA&&this.m_localAnchorA.setVec2(o.localAnchorA),o.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(o.anchorB)):o.localAnchorB&&this.m_localAnchorB.setVec2(o.localAnchorB),o.length>0?this.m_length=+o.length:o.length<0||(o.anchorA||o.anchorA||o.anchorA||o.anchorA)&&(this.m_length=e2.distance(this.m_bodyA.getWorldPoint(this.m_localAnchorA),this.m_bodyB.getWorldPoint(this.m_localAnchorB))),Number.isFinite(o.frequencyHz)&&(this.m_frequencyHz=o.frequencyHz),Number.isFinite(o.dampingRatio)&&(this.m_dampingRatio=o.dampingRatio)},x.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},x.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},x.prototype.setLength=function(o){this.m_length=o},x.prototype.getLength=function(){return this.m_length},x.prototype.setFrequency=function(o){this.m_frequencyHz=o},x.prototype.getFrequency=function(){return this.m_frequencyHz},x.prototype.setDampingRatio=function(o){this.m_dampingRatio=o},x.prototype.getDampingRatio=function(){return this.m_dampingRatio},x.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},x.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},x.prototype.getReactionForce=function(o){return e2.mulNumVec2(this.m_impulse,this.m_u).mul(o)},x.prototype.getReactionTorque=function(o){return 0},x.prototype.initVelocityConstraints=function(o){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyA.c_velocity.v,t_=this.m_bodyA.c_velocity.w,o_=this.m_bodyB.c_position.c,i_=this.m_bodyB.c_position.a,_e=this.m_bodyB.c_velocity.v,l_=this.m_bodyB.c_velocity.w,ws=r0.neo(_i),h_=r0.neo(i_);this.m_rA=r0.mulVec2(ws,e2.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=r0.mulVec2(h_,e2.sub(this.m_localAnchorB,this.m_localCenterB)),this.m_u=e2.sub(e2.add(o_,this.m_rB),e2.add(_o,this.m_rA));var s_=this.m_u.length();s_>w0.linearSlop?this.m_u.mul(1/s_):this.m_u.setNum(0,0);var B_=e2.crossVec2Vec2(this.m_rA,this.m_u),D_=e2.crossVec2Vec2(this.m_rB,this.m_u),y_=this.m_invMassA+this.m_invIA*B_*B_+this.m_invMassB+this.m_invIB*D_*D_;if(this.m_mass=y_!=0?1/y_:0,this.m_frequencyHz>0){var G_=s_-this.m_length,q_=2*L2t*this.m_frequencyHz,j_=2*this.m_mass*this.m_dampingRatio*q_,_2=this.m_mass*q_*q_,m2=o.dt;this.m_gamma=m2*(j_+m2*_2),this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0,this.m_bias=G_*m2*_2*this.m_gamma,y_+=this.m_gamma,this.m_mass=y_!=0?1/y_:0}else this.m_gamma=0,this.m_bias=0;if(o.warmStarting){this.m_impulse*=o.dtRatio;var y2=e2.mulNumVec2(this.m_impulse,this.m_u);l.subMul(this.m_invMassA,y2),t_-=this.m_invIA*e2.crossVec2Vec2(this.m_rA,y2),_e.addMul(this.m_invMassB,y2),l_+=this.m_invIB*e2.crossVec2Vec2(this.m_rB,y2)}else this.m_impulse=0;this.m_bodyA.c_velocity.v.setVec2(l),this.m_bodyA.c_velocity.w=t_,this.m_bodyB.c_velocity.v.setVec2(_e),this.m_bodyB.c_velocity.w=l_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_bodyA.c_velocity.v,_i=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_velocity.v,t_=this.m_bodyB.c_velocity.w,o_=e2.add(_o,e2.crossNumVec2(_i,this.m_rA)),i_=e2.add(l,e2.crossNumVec2(t_,this.m_rB)),_e=e2.dot(this.m_u,i_)-e2.dot(this.m_u,o_),l_=-this.m_mass*(_e+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=l_;var ws=e2.mulNumVec2(l_,this.m_u);_o.subMul(this.m_invMassA,ws),_i-=this.m_invIA*e2.crossVec2Vec2(this.m_rA,ws),l.addMul(this.m_invMassB,ws),t_+=this.m_invIB*e2.crossVec2Vec2(this.m_rB,ws),this.m_bodyA.c_velocity.v.setVec2(_o),this.m_bodyA.c_velocity.w=_i,this.m_bodyB.c_velocity.v.setVec2(l),this.m_bodyB.c_velocity.w=t_},x.prototype.solvePositionConstraints=function(o){if(this.m_frequencyHz>0)return!0;var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyB.c_position.c,t_=this.m_bodyB.c_position.a,o_=r0.neo(_i),i_=r0.neo(t_),_e=r0.mulSub(o_,this.m_localAnchorA,this.m_localCenterA),l_=r0.mulSub(i_,this.m_localAnchorB,this.m_localCenterB),ws=e2.sub(e2.add(l,l_),e2.add(_o,_e)),h_=ws.normalize(),s_=kA(h_-this.m_length,-w0.maxLinearCorrection,w0.maxLinearCorrection),B_=-this.m_mass*s_,D_=e2.mulNumVec2(B_,ws);return _o.subMul(this.m_invMassA,D_),_i-=this.m_invIA*e2.crossVec2Vec2(_e,D_),l.addMul(this.m_invMassB,D_),t_+=this.m_invIB*e2.crossVec2Vec2(l_,D_),this.m_bodyA.c_position.c.setVec2(_o),this.m_bodyA.c_position.a=_i,this.m_bodyB.c_position.c.setVec2(l),this.m_bodyB.c_position.a=t_,R2t(s_)<w0.linearSlop},x.TYPE="distance-joint",x}(ZA),q2t={maxForce:0,maxTorque:0},R3=function(V){QA(x,V);function x(o,_o,_i,l){var t_=this;return t_ instanceof x?(o=LS(o,q2t),t_=V.call(this,o,_o,_i)||this,_o=t_.m_bodyA,_i=t_.m_bodyB,t_.m_type=x.TYPE,t_.m_localAnchorA=e2.clone(l?_o.getLocalPoint(l):o.localAnchorA||e2.zero()),t_.m_localAnchorB=e2.clone(l?_i.getLocalPoint(l):o.localAnchorB||e2.zero()),t_.m_linearImpulse=e2.zero(),t_.m_angularImpulse=0,t_.m_maxForce=o.maxForce,t_.m_maxTorque=o.maxTorque,t_):new x(o,_o,_i,l)}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,maxForce:this.m_maxForce,maxTorque:this.m_maxTorque,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o);var l=new x(o);return l},x.prototype._reset=function(o){o.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(o.anchorA)):o.localAnchorA&&this.m_localAnchorA.setVec2(o.localAnchorA),o.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(o.anchorB)):o.localAnchorB&&this.m_localAnchorB.setVec2(o.localAnchorB),Number.isFinite(o.maxForce)&&(this.m_maxForce=o.maxForce),Number.isFinite(o.maxTorque)&&(this.m_maxTorque=o.maxTorque)},x.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},x.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},x.prototype.setMaxForce=function(o){this.m_maxForce=o},x.prototype.getMaxForce=function(){return this.m_maxForce},x.prototype.setMaxTorque=function(o){this.m_maxTorque=o},x.prototype.getMaxTorque=function(){return this.m_maxTorque},x.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},x.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},x.prototype.getReactionForce=function(o){return e2.mulNumVec2(o,this.m_linearImpulse)},x.prototype.getReactionTorque=function(o){return o*this.m_angularImpulse},x.prototype.initVelocityConstraints=function(o){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _o=this.m_bodyA.c_position.a,_i=this.m_bodyA.c_velocity.v,l=this.m_bodyA.c_velocity.w,t_=this.m_bodyB.c_position.a,o_=this.m_bodyB.c_velocity.v,i_=this.m_bodyB.c_velocity.w,_e=r0.neo(_o),l_=r0.neo(t_);this.m_rA=r0.mulVec2(_e,e2.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=r0.mulVec2(l_,e2.sub(this.m_localAnchorB,this.m_localCenterB));var ws=this.m_invMassA,h_=this.m_invMassB,s_=this.m_invIA,B_=this.m_invIB,D_=new fC;if(D_.ex.x=ws+h_+s_*this.m_rA.y*this.m_rA.y+B_*this.m_rB.y*this.m_rB.y,D_.ex.y=-s_*this.m_rA.x*this.m_rA.y-B_*this.m_rB.x*this.m_rB.y,D_.ey.x=D_.ex.y,D_.ey.y=ws+h_+s_*this.m_rA.x*this.m_rA.x+B_*this.m_rB.x*this.m_rB.x,this.m_linearMass=D_.getInverse(),this.m_angularMass=s_+B_,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),o.warmStarting){this.m_linearImpulse.mul(o.dtRatio),this.m_angularImpulse*=o.dtRatio;var y_=e2.neo(this.m_linearImpulse.x,this.m_linearImpulse.y);_i.subMul(ws,y_),l-=s_*(e2.crossVec2Vec2(this.m_rA,y_)+this.m_angularImpulse),o_.addMul(h_,y_),i_+=B_*(e2.crossVec2Vec2(this.m_rB,y_)+this.m_angularImpulse)}else this.m_linearImpulse.setZero(),this.m_angularImpulse=0;this.m_bodyA.c_velocity.v=_i,this.m_bodyA.c_velocity.w=l,this.m_bodyB.c_velocity.v=o_,this.m_bodyB.c_velocity.w=i_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_bodyA.c_velocity.v,_i=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_velocity.v,t_=this.m_bodyB.c_velocity.w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB,ws=o.dt;{var h_=t_-_i,s_=-this.m_angularMass*h_,B_=this.m_angularImpulse,D_=ws*this.m_maxTorque;this.m_angularImpulse=kA(this.m_angularImpulse+s_,-D_,D_),s_=this.m_angularImpulse-B_,_i-=_e*s_,t_+=l_*s_}{var h_=e2.sub(e2.add(l,e2.crossNumVec2(t_,this.m_rB)),e2.add(_o,e2.crossNumVec2(_i,this.m_rA))),s_=e2.neg(fC.mulVec2(this.m_linearMass,h_)),B_=this.m_linearImpulse;this.m_linearImpulse.add(s_);var D_=ws*this.m_maxForce;this.m_linearImpulse.lengthSquared()>D_*D_&&(this.m_linearImpulse.normalize(),this.m_linearImpulse.mul(D_)),s_=e2.sub(this.m_linearImpulse,B_),_o.subMul(o_,s_),_i-=_e*e2.crossVec2Vec2(this.m_rA,s_),l.addMul(i_,s_),t_+=l_*e2.crossVec2Vec2(this.m_rB,s_)}this.m_bodyA.c_velocity.v=_o,this.m_bodyA.c_velocity.w=_i,this.m_bodyB.c_velocity.v=l,this.m_bodyB.c_velocity.w=t_},x.prototype.solvePositionConstraints=function(o){return!0},x.TYPE="friction-joint",x}(ZA),kB=function(){function V(x,o,_o){typeof x=="object"&&x!==null?(this.ex=Ky.clone(x),this.ey=Ky.clone(o),this.ez=Ky.clone(_o)):(this.ex=Ky.zero(),this.ey=Ky.zero(),this.ez=Ky.zero())}return V.prototype.toString=function(){return JSON.stringify(this)},V.isValid=function(x){return x===null||typeof x>"u"?!1:Ky.isValid(x.ex)&&Ky.isValid(x.ey)&&Ky.isValid(x.ez)},V.assert=function(x){},V.prototype.setZero=function(){return this.ex.setZero(),this.ey.setZero(),this.ez.setZero(),this},V.prototype.solve33=function(x){var o=this.ey.y*this.ez.z-this.ey.z*this.ez.y,_o=this.ey.z*this.ez.x-this.ey.x*this.ez.z,_i=this.ey.x*this.ez.y-this.ey.y*this.ez.x,l=this.ex.x*o+this.ex.y*_o+this.ex.z*_i;l!==0&&(l=1/l);var t_=new Ky;return o=this.ey.y*this.ez.z-this.ey.z*this.ez.y,_o=this.ey.z*this.ez.x-this.ey.x*this.ez.z,_i=this.ey.x*this.ez.y-this.ey.y*this.ez.x,t_.x=l*(x.x*o+x.y*_o+x.z*_i),o=x.y*this.ez.z-x.z*this.ez.y,_o=x.z*this.ez.x-x.x*this.ez.z,_i=x.x*this.ez.y-x.y*this.ez.x,t_.y=l*(this.ex.x*o+this.ex.y*_o+this.ex.z*_i),o=this.ey.y*x.z-this.ey.z*x.y,_o=this.ey.z*x.x-this.ey.x*x.z,_i=this.ey.x*x.y-this.ey.y*x.x,t_.z=l*(this.ex.x*o+this.ex.y*_o+this.ex.z*_i),t_},V.prototype.solve22=function(x){var o=this.ex.x,_o=this.ey.x,_i=this.ex.y,l=this.ey.y,t_=o*l-_o*_i;t_!==0&&(t_=1/t_);var o_=e2.zero();return o_.x=t_*(l*x.x-_o*x.y),o_.y=t_*(o*x.y-_i*x.x),o_},V.prototype.getInverse22=function(x){var o=this.ex.x,_o=this.ey.x,_i=this.ex.y,l=this.ey.y,t_=o*l-_o*_i;t_!==0&&(t_=1/t_),x.ex.x=t_*l,x.ey.x=-t_*_o,x.ex.z=0,x.ex.y=-t_*_i,x.ey.y=t_*o,x.ey.z=0,x.ez.x=0,x.ez.y=0,x.ez.z=0},V.prototype.getSymInverse33=function(x){var o=Ky.dot(this.ex,Ky.cross(this.ey,this.ez));o!==0&&(o=1/o);var _o=this.ex.x,_i=this.ey.x,l=this.ez.x,t_=this.ey.y,o_=this.ez.y,i_=this.ez.z;x.ex.x=o*(t_*i_-o_*o_),x.ex.y=o*(l*o_-_i*i_),x.ex.z=o*(_i*o_-l*t_),x.ey.x=x.ex.y,x.ey.y=o*(_o*i_-l*l),x.ey.z=o*(l*_i-_o*o_),x.ez.x=x.ex.z,x.ez.y=x.ey.z,x.ez.z=o*(_o*t_-_i*_i)},V.mul=function(x,o){if(o&&"z"in o&&"y"in o&&"x"in o){var _o=x.ex.x*o.x+x.ey.x*o.y+x.ez.x*o.z,_i=x.ex.y*o.x+x.ey.y*o.y+x.ez.y*o.z,l=x.ex.z*o.x+x.ey.z*o.y+x.ez.z*o.z;return new Ky(_o,_i,l)}else if(o&&"y"in o&&"x"in o){var _o=x.ex.x*o.x+x.ey.x*o.y,_i=x.ex.y*o.x+x.ey.y*o.y;return e2.neo(_o,_i)}},V.mulVec3=function(x,o){var _o=x.ex.x*o.x+x.ey.x*o.y+x.ez.x*o.z,_i=x.ex.y*o.x+x.ey.y*o.y+x.ez.y*o.z,l=x.ex.z*o.x+x.ey.z*o.y+x.ez.z*o.z;return new Ky(_o,_i,l)},V.mulVec2=function(x,o){var _o=x.ex.x*o.x+x.ey.x*o.y,_i=x.ex.y*o.x+x.ey.y*o.y;return e2.neo(_o,_i)},V.add=function(x,o){return new V(Ky.add(x.ex,o.ex),Ky.add(x.ey,o.ey),Ky.add(x.ez,o.ez))},V}(),L3=Math.abs,DA;(function(V){V[V.inactiveLimit=0]="inactiveLimit",V[V.atLowerLimit=1]="atLowerLimit",V[V.atUpperLimit=2]="atUpperLimit",V[V.equalLimits=3]="equalLimits"})(DA||(DA={}));var DV={lowerAngle:0,upperAngle:0,maxMotorTorque:0,motorSpeed:0,enableLimit:!1,enableMotor:!1},LB=function(V){QA(x,V);function x(o,_o,_i,l){var t_=this,o_,i_,_e,l_,ws,h_;return t_ instanceof x?(o=o??{},t_=V.call(this,o,_o,_i)||this,_o=t_.m_bodyA,_i=t_.m_bodyB,t_.m_mass=new kB,t_.m_limitState=DA.inactiveLimit,t_.m_type=x.TYPE,e2.isValid(l)?t_.m_localAnchorA=_o.getLocalPoint(l):e2.isValid(o.localAnchorA)?t_.m_localAnchorA=e2.clone(o.localAnchorA):t_.m_localAnchorA=e2.zero(),e2.isValid(l)?t_.m_localAnchorB=_i.getLocalPoint(l):e2.isValid(o.localAnchorB)?t_.m_localAnchorB=e2.clone(o.localAnchorB):t_.m_localAnchorB=e2.zero(),Number.isFinite(o.referenceAngle)?t_.m_referenceAngle=o.referenceAngle:t_.m_referenceAngle=_i.getAngle()-_o.getAngle(),t_.m_impulse=new Ky,t_.m_motorImpulse=0,t_.m_lowerAngle=(o_=o.lowerAngle)!==null&&o_!==void 0?o_:DV.lowerAngle,t_.m_upperAngle=(i_=o.upperAngle)!==null&&i_!==void 0?i_:DV.upperAngle,t_.m_maxMotorTorque=(_e=o.maxMotorTorque)!==null&&_e!==void 0?_e:DV.maxMotorTorque,t_.m_motorSpeed=(l_=o.motorSpeed)!==null&&l_!==void 0?l_:DV.motorSpeed,t_.m_enableLimit=(ws=o.enableLimit)!==null&&ws!==void 0?ws:DV.enableLimit,t_.m_enableMotor=(h_=o.enableMotor)!==null&&h_!==void 0?h_:DV.enableMotor,t_):new x(o,_o,_i,l)}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,lowerAngle:this.m_lowerAngle,upperAngle:this.m_upperAngle,maxMotorTorque:this.m_maxMotorTorque,motorSpeed:this.m_motorSpeed,enableLimit:this.m_enableLimit,enableMotor:this.m_enableMotor,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,referenceAngle:this.m_referenceAngle}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o);var l=new x(o);return l},x.prototype._reset=function(o){o.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(o.anchorA)):o.localAnchorA&&this.m_localAnchorA.setVec2(o.localAnchorA),o.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(o.anchorB)):o.localAnchorB&&this.m_localAnchorB.setVec2(o.localAnchorB),Number.isFinite(o.referenceAngle)&&(this.m_referenceAngle=o.referenceAngle),o.enableLimit!==void 0&&(this.m_enableLimit=o.enableLimit),Number.isFinite(o.lowerAngle)&&(this.m_lowerAngle=o.lowerAngle),Number.isFinite(o.upperAngle)&&(this.m_upperAngle=o.upperAngle),Number.isFinite(o.maxMotorTorque)&&(this.m_maxMotorTorque=o.maxMotorTorque),Number.isFinite(o.motorSpeed)&&(this.m_motorSpeed=o.motorSpeed),o.enableMotor!==void 0&&(this.m_enableMotor=o.enableMotor)},x.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},x.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},x.prototype.getReferenceAngle=function(){return this.m_referenceAngle},x.prototype.getJointAngle=function(){var o=this.m_bodyA,_o=this.m_bodyB;return _o.m_sweep.a-o.m_sweep.a-this.m_referenceAngle},x.prototype.getJointSpeed=function(){var o=this.m_bodyA,_o=this.m_bodyB;return _o.m_angularVelocity-o.m_angularVelocity},x.prototype.isMotorEnabled=function(){return this.m_enableMotor},x.prototype.enableMotor=function(o){o!=this.m_enableMotor&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=o)},x.prototype.getMotorTorque=function(o){return o*this.m_motorImpulse},x.prototype.setMotorSpeed=function(o){o!=this.m_motorSpeed&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=o)},x.prototype.getMotorSpeed=function(){return this.m_motorSpeed},x.prototype.setMaxMotorTorque=function(o){o!=this.m_maxMotorTorque&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorTorque=o)},x.prototype.getMaxMotorTorque=function(){return this.m_maxMotorTorque},x.prototype.isLimitEnabled=function(){return this.m_enableLimit},x.prototype.enableLimit=function(o){o!=this.m_enableLimit&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=o,this.m_impulse.z=0)},x.prototype.getLowerLimit=function(){return this.m_lowerAngle},x.prototype.getUpperLimit=function(){return this.m_upperAngle},x.prototype.setLimits=function(o,_o){(o!=this.m_lowerAngle||_o!=this.m_upperAngle)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=o,this.m_upperAngle=_o)},x.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},x.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},x.prototype.getReactionForce=function(o){return e2.neo(this.m_impulse.x,this.m_impulse.y).mul(o)},x.prototype.getReactionTorque=function(o){return o*this.m_impulse.z},x.prototype.initVelocityConstraints=function(o){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _o=this.m_bodyA.c_position.a,_i=this.m_bodyA.c_velocity.v,l=this.m_bodyA.c_velocity.w,t_=this.m_bodyB.c_position.a,o_=this.m_bodyB.c_velocity.v,i_=this.m_bodyB.c_velocity.w,_e=r0.neo(_o),l_=r0.neo(t_);this.m_rA=r0.mulVec2(_e,e2.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=r0.mulVec2(l_,e2.sub(this.m_localAnchorB,this.m_localCenterB));var ws=this.m_invMassA,h_=this.m_invMassB,s_=this.m_invIA,B_=this.m_invIB,D_=s_+B_===0;if(this.m_mass.ex.x=ws+h_+this.m_rA.y*this.m_rA.y*s_+this.m_rB.y*this.m_rB.y*B_,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*s_-this.m_rB.y*this.m_rB.x*B_,this.m_mass.ez.x=-this.m_rA.y*s_-this.m_rB.y*B_,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=ws+h_+this.m_rA.x*this.m_rA.x*s_+this.m_rB.x*this.m_rB.x*B_,this.m_mass.ez.y=this.m_rA.x*s_+this.m_rB.x*B_,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=s_+B_,this.m_motorMass=s_+B_,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),(this.m_enableMotor==!1||D_)&&(this.m_motorImpulse=0),this.m_enableLimit&&D_==!1){var y_=t_-_o-this.m_referenceAngle;L3(this.m_upperAngle-this.m_lowerAngle)<2*w0.angularSlop?this.m_limitState=DA.equalLimits:y_<=this.m_lowerAngle?(this.m_limitState!=DA.atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=DA.atLowerLimit):y_>=this.m_upperAngle?(this.m_limitState!=DA.atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=DA.atUpperLimit):(this.m_limitState=DA.inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=DA.inactiveLimit;if(o.warmStarting){this.m_impulse.mul(o.dtRatio),this.m_motorImpulse*=o.dtRatio;var G_=e2.neo(this.m_impulse.x,this.m_impulse.y);_i.subMul(ws,G_),l-=s_*(e2.crossVec2Vec2(this.m_rA,G_)+this.m_motorImpulse+this.m_impulse.z),o_.addMul(h_,G_),i_+=B_*(e2.crossVec2Vec2(this.m_rB,G_)+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.setZero(),this.m_motorImpulse=0;this.m_bodyA.c_velocity.v=_i,this.m_bodyA.c_velocity.w=l,this.m_bodyB.c_velocity.v=o_,this.m_bodyB.c_velocity.w=i_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_bodyA.c_velocity.v,_i=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_velocity.v,t_=this.m_bodyB.c_velocity.w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB,ws=_e+l_===0;if(this.m_enableMotor&&this.m_limitState!=DA.equalLimits&&ws==!1){var h_=t_-_i-this.m_motorSpeed,s_=-this.m_motorMass*h_,B_=this.m_motorImpulse,D_=o.dt*this.m_maxMotorTorque;this.m_motorImpulse=kA(this.m_motorImpulse+s_,-D_,D_),s_=this.m_motorImpulse-B_,_i-=_e*s_,t_+=l_*s_}if(this.m_enableLimit&&this.m_limitState!=DA.inactiveLimit&&ws==!1){var y_=e2.zero();y_.addCombine(1,l,1,e2.crossNumVec2(t_,this.m_rB)),y_.subCombine(1,_o,1,e2.crossNumVec2(_i,this.m_rA));var G_=t_-_i,h_=new Ky(y_.x,y_.y,G_),s_=Ky.neg(this.m_mass.solve33(h_));if(this.m_limitState==DA.equalLimits)this.m_impulse.add(s_);else if(this.m_limitState==DA.atLowerLimit){var q_=this.m_impulse.z+s_.z;if(q_<0){var j_=e2.combine(-1,y_,this.m_impulse.z,e2.neo(this.m_mass.ez.x,this.m_mass.ez.y)),_2=this.m_mass.solve22(j_);s_.x=_2.x,s_.y=_2.y,s_.z=-this.m_impulse.z,this.m_impulse.x+=_2.x,this.m_impulse.y+=_2.y,this.m_impulse.z=0}else this.m_impulse.add(s_)}else if(this.m_limitState==DA.atUpperLimit){var q_=this.m_impulse.z+s_.z;if(q_>0){var j_=e2.combine(-1,y_,this.m_impulse.z,e2.neo(this.m_mass.ez.x,this.m_mass.ez.y)),_2=this.m_mass.solve22(j_);s_.x=_2.x,s_.y=_2.y,s_.z=-this.m_impulse.z,this.m_impulse.x+=_2.x,this.m_impulse.y+=_2.y,this.m_impulse.z=0}else this.m_impulse.add(s_)}var m2=e2.neo(s_.x,s_.y);_o.subMul(o_,m2),_i-=_e*(e2.crossVec2Vec2(this.m_rA,m2)+s_.z),l.addMul(i_,m2),t_+=l_*(e2.crossVec2Vec2(this.m_rB,m2)+s_.z)}else{var h_=e2.zero();h_.addCombine(1,l,1,e2.crossNumVec2(t_,this.m_rB)),h_.subCombine(1,_o,1,e2.crossNumVec2(_i,this.m_rA));var s_=this.m_mass.solve22(e2.neg(h_));this.m_impulse.x+=s_.x,this.m_impulse.y+=s_.y,_o.subMul(o_,s_),_i-=_e*e2.crossVec2Vec2(this.m_rA,s_),l.addMul(i_,s_),t_+=l_*e2.crossVec2Vec2(this.m_rB,s_)}this.m_bodyA.c_velocity.v=_o,this.m_bodyA.c_velocity.w=_i,this.m_bodyB.c_velocity.v=l,this.m_bodyB.c_velocity.w=t_},x.prototype.solvePositionConstraints=function(o){var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyB.c_position.c,t_=this.m_bodyB.c_position.a,o_=r0.neo(_i),i_=r0.neo(t_),_e=0,l_=0,ws=this.m_invIA+this.m_invIB==0;if(this.m_enableLimit&&this.m_limitState!=DA.inactiveLimit&&ws==!1){var h_=t_-_i-this.m_referenceAngle,s_=0;if(this.m_limitState==DA.equalLimits){var B_=kA(h_-this.m_lowerAngle,-w0.maxAngularCorrection,w0.maxAngularCorrection);s_=-this.m_motorMass*B_,_e=L3(B_)}else if(this.m_limitState==DA.atLowerLimit){var B_=h_-this.m_lowerAngle;_e=-B_,B_=kA(B_+w0.angularSlop,-w0.maxAngularCorrection,0),s_=-this.m_motorMass*B_}else if(this.m_limitState==DA.atUpperLimit){var B_=h_-this.m_upperAngle;_e=B_,B_=kA(B_-w0.angularSlop,0,w0.maxAngularCorrection),s_=-this.m_motorMass*B_}_i-=this.m_invIA*s_,t_+=this.m_invIB*s_}{o_.setAngle(_i),i_.setAngle(t_);var D_=r0.mulVec2(o_,e2.sub(this.m_localAnchorA,this.m_localCenterA)),y_=r0.mulVec2(i_,e2.sub(this.m_localAnchorB,this.m_localCenterB)),B_=e2.zero();B_.addCombine(1,l,1,y_),B_.subCombine(1,_o,1,D_),l_=B_.length();var G_=this.m_invMassA,q_=this.m_invMassB,j_=this.m_invIA,_2=this.m_invIB,m2=new fC;m2.ex.x=G_+q_+j_*D_.y*D_.y+_2*y_.y*y_.y,m2.ex.y=-j_*D_.x*D_.y-_2*y_.x*y_.y,m2.ey.x=m2.ex.y,m2.ey.y=G_+q_+j_*D_.x*D_.x+_2*y_.x*y_.x;var y2=e2.neg(m2.solve(B_));_o.subMul(G_,y2),_i-=j_*e2.crossVec2Vec2(D_,y2),l.addMul(q_,y2),t_+=_2*e2.crossVec2Vec2(y_,y2)}return this.m_bodyA.c_position.c.setVec2(_o),this.m_bodyA.c_position.a=_i,this.m_bodyB.c_position.c.setVec2(l),this.m_bodyB.c_position.a=t_,l_<=w0.linearSlop&&_e<=w0.angularSlop},x.TYPE="revolute-joint",x}(ZA),j4=Math.abs,k3=Math.max,E2t=Math.min,SS;(function(V){V[V.inactiveLimit=0]="inactiveLimit",V[V.atLowerLimit=1]="atLowerLimit",V[V.atUpperLimit=2]="atUpperLimit",V[V.equalLimits=3]="equalLimits"})(SS||(SS={}));var j2t={enableLimit:!1,lowerTranslation:0,upperTranslation:0,enableMotor:!1,maxMotorForce:0,motorSpeed:0},q3=function(V){QA(x,V);function x(o,_o,_i,l,t_){var o_=this;return o_ instanceof x?(o=LS(o,j2t),o_=V.call(this,o,_o,_i)||this,_o=o_.m_bodyA,_i=o_.m_bodyB,o_.m_type=x.TYPE,o_.m_localAnchorA=e2.clone(l?_o.getLocalPoint(l):o.localAnchorA||e2.zero()),o_.m_localAnchorB=e2.clone(l?_i.getLocalPoint(l):o.localAnchorB||e2.zero()),o_.m_localXAxisA=e2.clone(t_?_o.getLocalVector(t_):o.localAxisA||e2.neo(1,0)),o_.m_localXAxisA.normalize(),o_.m_localYAxisA=e2.crossNumVec2(1,o_.m_localXAxisA),o_.m_referenceAngle=Number.isFinite(o.referenceAngle)?o.referenceAngle:_i.getAngle()-_o.getAngle(),o_.m_impulse=new Ky,o_.m_motorMass=0,o_.m_motorImpulse=0,o_.m_lowerTranslation=o.lowerTranslation,o_.m_upperTranslation=o.upperTranslation,o_.m_maxMotorForce=o.maxMotorForce,o_.m_motorSpeed=o.motorSpeed,o_.m_enableLimit=o.enableLimit,o_.m_enableMotor=o.enableMotor,o_.m_limitState=SS.inactiveLimit,o_.m_axis=e2.zero(),o_.m_perp=e2.zero(),o_.m_K=new kB,o_):new x(o,_o,_i,l,t_)}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,lowerTranslation:this.m_lowerTranslation,upperTranslation:this.m_upperTranslation,maxMotorForce:this.m_maxMotorForce,motorSpeed:this.m_motorSpeed,enableLimit:this.m_enableLimit,enableMotor:this.m_enableMotor,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,localAxisA:this.m_localXAxisA,referenceAngle:this.m_referenceAngle}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o),o.localAxisA=e2.clone(o.localAxisA);var l=new x(o);return l},x.prototype._reset=function(o){o.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(o.anchorA)):o.localAnchorA&&this.m_localAnchorA.setVec2(o.localAnchorA),o.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(o.anchorB)):o.localAnchorB&&this.m_localAnchorB.setVec2(o.localAnchorB),o.localAxisA&&(this.m_localXAxisA.setVec2(o.localAxisA),this.m_localYAxisA.setVec2(e2.crossNumVec2(1,o.localAxisA))),Number.isFinite(o.referenceAngle)&&(this.m_referenceAngle=o.referenceAngle),typeof o.enableLimit<"u"&&(this.m_enableLimit=!!o.enableLimit),Number.isFinite(o.lowerTranslation)&&(this.m_lowerTranslation=o.lowerTranslation),Number.isFinite(o.upperTranslation)&&(this.m_upperTranslation=o.upperTranslation),typeof o.enableMotor<"u"&&(this.m_enableMotor=!!o.enableMotor),Number.isFinite(o.maxMotorForce)&&(this.m_maxMotorForce=o.maxMotorForce),Number.isFinite(o.motorSpeed)&&(this.m_motorSpeed=o.motorSpeed)},x.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},x.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},x.prototype.getLocalAxisA=function(){return this.m_localXAxisA},x.prototype.getReferenceAngle=function(){return this.m_referenceAngle},x.prototype.getJointTranslation=function(){var o=this.m_bodyA.getWorldPoint(this.m_localAnchorA),_o=this.m_bodyB.getWorldPoint(this.m_localAnchorB),_i=e2.sub(_o,o),l=this.m_bodyA.getWorldVector(this.m_localXAxisA),t_=e2.dot(_i,l);return t_},x.prototype.getJointSpeed=function(){var o=this.m_bodyA,_o=this.m_bodyB,_i=r0.mulVec2(o.m_xf.q,e2.sub(this.m_localAnchorA,o.m_sweep.localCenter)),l=r0.mulVec2(_o.m_xf.q,e2.sub(this.m_localAnchorB,_o.m_sweep.localCenter)),t_=e2.add(o.m_sweep.c,_i),o_=e2.add(_o.m_sweep.c,l),i_=e2.sub(o_,t_),_e=r0.mulVec2(o.m_xf.q,this.m_localXAxisA),l_=o.m_linearVelocity,ws=_o.m_linearVelocity,h_=o.m_angularVelocity,s_=_o.m_angularVelocity,B_=e2.dot(i_,e2.crossNumVec2(h_,_e))+e2.dot(_e,e2.sub(e2.addCrossNumVec2(ws,s_,l),e2.addCrossNumVec2(l_,h_,_i)));return B_},x.prototype.isLimitEnabled=function(){return this.m_enableLimit},x.prototype.enableLimit=function(o){o!=this.m_enableLimit&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=o,this.m_impulse.z=0)},x.prototype.getLowerLimit=function(){return this.m_lowerTranslation},x.prototype.getUpperLimit=function(){return this.m_upperTranslation},x.prototype.setLimits=function(o,_o){(o!=this.m_lowerTranslation||_o!=this.m_upperTranslation)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_lowerTranslation=o,this.m_upperTranslation=_o,this.m_impulse.z=0)},x.prototype.isMotorEnabled=function(){return this.m_enableMotor},x.prototype.enableMotor=function(o){o!=this.m_enableMotor&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=o)},x.prototype.setMotorSpeed=function(o){o!=this.m_motorSpeed&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=o)},x.prototype.setMaxMotorForce=function(o){o!=this.m_maxMotorForce&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorForce=o)},x.prototype.getMaxMotorForce=function(){return this.m_maxMotorForce},x.prototype.getMotorSpeed=function(){return this.m_motorSpeed},x.prototype.getMotorForce=function(o){return o*this.m_motorImpulse},x.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},x.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},x.prototype.getReactionForce=function(o){return e2.combine(this.m_impulse.x,this.m_perp,this.m_motorImpulse+this.m_impulse.z,this.m_axis).mul(o)},x.prototype.getReactionTorque=function(o){return o*this.m_impulse.y},x.prototype.initVelocityConstraints=function(o){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyA.c_velocity.v,t_=this.m_bodyA.c_velocity.w,o_=this.m_bodyB.c_position.c,i_=this.m_bodyB.c_position.a,_e=this.m_bodyB.c_velocity.v,l_=this.m_bodyB.c_velocity.w,ws=r0.neo(_i),h_=r0.neo(i_),s_=r0.mulVec2(ws,e2.sub(this.m_localAnchorA,this.m_localCenterA)),B_=r0.mulVec2(h_,e2.sub(this.m_localAnchorB,this.m_localCenterB)),D_=e2.zero();D_.addCombine(1,o_,1,B_),D_.subCombine(1,_o,1,s_);var y_=this.m_invMassA,G_=this.m_invMassB,q_=this.m_invIA,j_=this.m_invIB;this.m_axis=r0.mulVec2(ws,this.m_localXAxisA),this.m_a1=e2.crossVec2Vec2(e2.add(D_,s_),this.m_axis),this.m_a2=e2.crossVec2Vec2(B_,this.m_axis),this.m_motorMass=y_+G_+q_*this.m_a1*this.m_a1+j_*this.m_a2*this.m_a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass);{this.m_perp=r0.mulVec2(ws,this.m_localYAxisA),this.m_s1=e2.crossVec2Vec2(e2.add(D_,s_),this.m_perp),this.m_s2=e2.crossVec2Vec2(B_,this.m_perp),e2.crossVec2Vec2(s_,this.m_perp);var _2=y_+G_+q_*this.m_s1*this.m_s1+j_*this.m_s2*this.m_s2,m2=q_*this.m_s1+j_*this.m_s2,y2=q_*this.m_s1*this.m_a1+j_*this.m_s2*this.m_a2,I2=q_+j_;I2==0&&(I2=1);var J2=q_*this.m_a1+j_*this.m_a2,z2=y_+G_+q_*this.m_a1*this.m_a1+j_*this.m_a2*this.m_a2;this.m_K.ex.set(_2,m2,y2),this.m_K.ey.set(m2,I2,J2),this.m_K.ez.set(y2,J2,z2)}if(this.m_enableLimit){var K2=e2.dot(this.m_axis,D_);j4(this.m_upperTranslation-this.m_lowerTranslation)<2*w0.linearSlop?this.m_limitState=SS.equalLimits:K2<=this.m_lowerTranslation?this.m_limitState!=SS.atLowerLimit&&(this.m_limitState=SS.atLowerLimit,this.m_impulse.z=0):K2>=this.m_upperTranslation?this.m_limitState!=SS.atUpperLimit&&(this.m_limitState=SS.atUpperLimit,this.m_impulse.z=0):(this.m_limitState=SS.inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=SS.inactiveLimit,this.m_impulse.z=0;if(this.m_enableMotor==!1&&(this.m_motorImpulse=0),o.warmStarting){this.m_impulse.mul(o.dtRatio),this.m_motorImpulse*=o.dtRatio;var $2=e2.combine(this.m_impulse.x,this.m_perp,this.m_motorImpulse+this.m_impulse.z,this.m_axis),P_=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,E_=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;l.subMul(y_,$2),t_-=q_*P_,_e.addMul(G_,$2),l_+=j_*E_}else this.m_impulse.setZero(),this.m_motorImpulse=0;this.m_bodyA.c_velocity.v.setVec2(l),this.m_bodyA.c_velocity.w=t_,this.m_bodyB.c_velocity.v.setVec2(_e),this.m_bodyB.c_velocity.w=l_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_bodyA.c_velocity.v,_i=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_velocity.v,t_=this.m_bodyB.c_velocity.w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB;if(this.m_enableMotor&&this.m_limitState!=SS.equalLimits){var ws=e2.dot(this.m_axis,e2.sub(l,_o))+this.m_a2*t_-this.m_a1*_i,h_=this.m_motorMass*(this.m_motorSpeed-ws),s_=this.m_motorImpulse,B_=o.dt*this.m_maxMotorForce;this.m_motorImpulse=kA(this.m_motorImpulse+h_,-B_,B_),h_=this.m_motorImpulse-s_;var D_=e2.mulNumVec2(h_,this.m_axis),y_=h_*this.m_a1,G_=h_*this.m_a2;_o.subMul(o_,D_),_i-=_e*y_,l.addMul(i_,D_),t_+=l_*G_}var q_=e2.zero();if(q_.x+=e2.dot(this.m_perp,l)+this.m_s2*t_,q_.x-=e2.dot(this.m_perp,_o)+this.m_s1*_i,q_.y=t_-_i,this.m_enableLimit&&this.m_limitState!=SS.inactiveLimit){var j_=0;j_+=e2.dot(this.m_axis,l)+this.m_a2*t_,j_-=e2.dot(this.m_axis,_o)+this.m_a1*_i;var ws=new Ky(q_.x,q_.y,j_),_2=Ky.clone(this.m_impulse),m2=this.m_K.solve33(Ky.neg(ws));this.m_impulse.add(m2),this.m_limitState==SS.atLowerLimit?this.m_impulse.z=k3(this.m_impulse.z,0):this.m_limitState==SS.atUpperLimit&&(this.m_impulse.z=E2t(this.m_impulse.z,0));var y2=e2.combine(-1,q_,-(this.m_impulse.z-_2.z),e2.neo(this.m_K.ez.x,this.m_K.ez.y)),I2=e2.add(this.m_K.solve22(y2),e2.neo(_2.x,_2.y));this.m_impulse.x=I2.x,this.m_impulse.y=I2.y,m2=Ky.sub(this.m_impulse,_2);var D_=e2.combine(m2.x,this.m_perp,m2.z,this.m_axis),y_=m2.x*this.m_s1+m2.y+m2.z*this.m_a1,G_=m2.x*this.m_s2+m2.y+m2.z*this.m_a2;_o.subMul(o_,D_),_i-=_e*y_,l.addMul(i_,D_),t_+=l_*G_}else{var m2=this.m_K.solve22(e2.neg(q_));this.m_impulse.x+=m2.x,this.m_impulse.y+=m2.y;var D_=e2.mulNumVec2(m2.x,this.m_perp),y_=m2.x*this.m_s1+m2.y,G_=m2.x*this.m_s2+m2.y;_o.subMul(o_,D_),_i-=_e*y_,l.addMul(i_,D_),t_+=l_*G_}this.m_bodyA.c_velocity.v=_o,this.m_bodyA.c_velocity.w=_i,this.m_bodyB.c_velocity.v=l,this.m_bodyB.c_velocity.w=t_},x.prototype.solvePositionConstraints=function(o){var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyB.c_position.c,t_=this.m_bodyB.c_position.a,o_=r0.neo(_i),i_=r0.neo(t_),_e=this.m_invMassA,l_=this.m_invMassB,ws=this.m_invIA,h_=this.m_invIB,s_=r0.mulVec2(o_,e2.sub(this.m_localAnchorA,this.m_localCenterA)),B_=r0.mulVec2(i_,e2.sub(this.m_localAnchorB,this.m_localCenterB)),D_=e2.sub(e2.add(l,B_),e2.add(_o,s_)),y_=r0.mulVec2(o_,this.m_localXAxisA),G_=e2.crossVec2Vec2(e2.add(D_,s_),y_),q_=e2.crossVec2Vec2(B_,y_),j_=r0.mulVec2(o_,this.m_localYAxisA),_2=e2.crossVec2Vec2(e2.add(D_,s_),j_),m2=e2.crossVec2Vec2(B_,j_),y2=new Ky,I2=e2.zero();I2.x=e2.dot(j_,D_),I2.y=t_-_i-this.m_referenceAngle;var J2=j4(I2.x),z2=j4(I2.y),K2=w0.linearSlop,$2=w0.maxLinearCorrection,P_=!1,E_=0;if(this.m_enableLimit){var Z_=e2.dot(y_,D_);j4(this.m_upperTranslation-this.m_lowerTranslation)<2*K2?(E_=kA(Z_,-$2,$2),J2=k3(J2,j4(Z_)),P_=!0):Z_<=this.m_lowerTranslation?(E_=kA(Z_-this.m_lowerTranslation+K2,-$2,0),J2=Math.max(J2,this.m_lowerTranslation-Z_),P_=!0):Z_>=this.m_upperTranslation&&(E_=kA(Z_-this.m_upperTranslation-K2,0,$2),J2=Math.max(J2,Z_-this.m_upperTranslation),P_=!0)}if(P_){var N_=_e+l_+ws*_2*_2+h_*m2*m2,s2=ws*_2+h_*m2,u2=ws*_2*G_+h_*m2*q_,p2=ws+h_;p2==0&&(p2=1);var v_=ws*G_+h_*q_,F_=_e+l_+ws*G_*G_+h_*q_*q_,$_=new kB;$_.ex.set(N_,s2,u2),$_.ey.set(s2,p2,v_),$_.ez.set(u2,v_,F_);var C_=new Ky;C_.x=I2.x,C_.y=I2.y,C_.z=E_,y2=$_.solve33(Ky.neg(C_))}else{var N_=_e+l_+ws*_2*_2+h_*m2*m2,s2=ws*_2+h_*m2,p2=ws+h_;p2==0&&(p2=1);var $_=new fC;$_.ex.setNum(N_,s2),$_.ey.setNum(s2,p2);var W_=$_.solve(e2.neg(I2));y2.x=W_.x,y2.y=W_.y,y2.z=0}var t2=e2.combine(y2.x,j_,y2.z,y_),l2=y2.x*_2+y2.y+y2.z*G_,D2=y2.x*m2+y2.y+y2.z*q_;return _o.subMul(_e,t2),_i-=ws*l2,l.addMul(l_,t2),t_+=h_*D2,this.m_bodyA.c_position.c=_o,this.m_bodyA.c_position.a=_i,this.m_bodyB.c_position.c=l,this.m_bodyB.c_position.a=t_,J2<=w0.linearSlop&&z2<=w0.angularSlop},x.TYPE="prismatic-joint",x}(ZA),z2t={ratio:1},E3=function(V){QA(x,V);function x(o,_o,_i,l,t_,o_){var i_=this;if(!(i_ instanceof x))return new x(o,_o,_i,l,t_,o_);o=LS(o,z2t),i_=V.call(this,o,_o,_i)||this,_o=i_.m_bodyA,_i=i_.m_bodyB,i_.m_type=x.TYPE,i_.m_joint1=l||o.joint1,i_.m_joint2=t_||o.joint2,i_.m_ratio=Number.isFinite(o_)?o_:o.ratio,i_.m_type1=i_.m_joint1.getType(),i_.m_type2=i_.m_joint2.getType();var _e,l_;i_.m_bodyC=i_.m_joint1.getBodyA(),i_.m_bodyA=i_.m_joint1.getBodyB();var ws=i_.m_bodyA.m_xf,h_=i_.m_bodyA.m_sweep.a,s_=i_.m_bodyC.m_xf,B_=i_.m_bodyC.m_sweep.a;if(i_.m_type1===LB.TYPE){var D_=i_.m_joint1;i_.m_localAnchorC=D_.m_localAnchorA,i_.m_localAnchorA=D_.m_localAnchorB,i_.m_referenceAngleA=D_.m_referenceAngle,i_.m_localAxisC=e2.zero(),_e=h_-B_-i_.m_referenceAngleA}else{var y_=i_.m_joint1;i_.m_localAnchorC=y_.m_localAnchorA,i_.m_localAnchorA=y_.m_localAnchorB,i_.m_referenceAngleA=y_.m_referenceAngle,i_.m_localAxisC=y_.m_localXAxisA;var G_=i_.m_localAnchorC,q_=r0.mulTVec2(s_.q,e2.add(r0.mulVec2(ws.q,i_.m_localAnchorA),e2.sub(ws.p,s_.p)));_e=e2.dot(q_,i_.m_localAxisC)-e2.dot(G_,i_.m_localAxisC)}i_.m_bodyD=i_.m_joint2.getBodyA(),i_.m_bodyB=i_.m_joint2.getBodyB();var j_=i_.m_bodyB.m_xf,_2=i_.m_bodyB.m_sweep.a,m2=i_.m_bodyD.m_xf,y2=i_.m_bodyD.m_sweep.a;if(i_.m_type2===LB.TYPE){var D_=i_.m_joint2;i_.m_localAnchorD=D_.m_localAnchorA,i_.m_localAnchorB=D_.m_localAnchorB,i_.m_referenceAngleB=D_.m_referenceAngle,i_.m_localAxisD=e2.zero(),l_=_2-y2-i_.m_referenceAngleB}else{var y_=i_.m_joint2;i_.m_localAnchorD=y_.m_localAnchorA,i_.m_localAnchorB=y_.m_localAnchorB,i_.m_referenceAngleB=y_.m_referenceAngle,i_.m_localAxisD=y_.m_localXAxisA;var I2=i_.m_localAnchorD,J2=r0.mulTVec2(m2.q,e2.add(r0.mulVec2(j_.q,i_.m_localAnchorB),e2.sub(j_.p,m2.p)));l_=e2.dot(J2,i_.m_localAxisD)-e2.dot(I2,i_.m_localAxisD)}return i_.m_constant=_e+i_.m_ratio*l_,i_.m_impulse=0,i_}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,joint1:this.m_joint1,joint2:this.m_joint2,ratio:this.m_ratio}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o),o.joint1=_i(ZA,o.joint1,_o),o.joint2=_i(ZA,o.joint2,_o);var l=new x(o);return l},x.prototype._reset=function(o){Number.isFinite(o.ratio)&&(this.m_ratio=o.ratio)},x.prototype.getJoint1=function(){return this.m_joint1},x.prototype.getJoint2=function(){return this.m_joint2},x.prototype.setRatio=function(o){this.m_ratio=o},x.prototype.getRatio=function(){return this.m_ratio},x.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},x.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},x.prototype.getReactionForce=function(o){return e2.mulNumVec2(this.m_impulse,this.m_JvAC).mul(o)},x.prototype.getReactionTorque=function(o){var _o=this.m_impulse*this.m_JwA;return o*_o},x.prototype.initVelocityConstraints=function(o){this.m_lcA=this.m_bodyA.m_sweep.localCenter,this.m_lcB=this.m_bodyB.m_sweep.localCenter,this.m_lcC=this.m_bodyC.m_sweep.localCenter,this.m_lcD=this.m_bodyD.m_sweep.localCenter,this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var _o=this.m_bodyA.c_position.a,_i=this.m_bodyA.c_velocity.v,l=this.m_bodyA.c_velocity.w,t_=this.m_bodyB.c_position.a,o_=this.m_bodyB.c_velocity.v,i_=this.m_bodyB.c_velocity.w,_e=this.m_bodyC.c_position.a,l_=this.m_bodyC.c_velocity.v,ws=this.m_bodyC.c_velocity.w,h_=this.m_bodyD.c_position.a,s_=this.m_bodyD.c_velocity.v,B_=this.m_bodyD.c_velocity.w,D_=r0.neo(_o),y_=r0.neo(t_),G_=r0.neo(_e),q_=r0.neo(h_);if(this.m_mass=0,this.m_type1==LB.TYPE)this.m_JvAC=e2.zero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{var j_=r0.mulVec2(G_,this.m_localAxisC),_2=r0.mulSub(G_,this.m_localAnchorC,this.m_lcC),m2=r0.mulSub(D_,this.m_localAnchorA,this.m_lcA);this.m_JvAC=j_,this.m_JwC=e2.crossVec2Vec2(_2,j_),this.m_JwA=e2.crossVec2Vec2(m2,j_),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_type2==LB.TYPE)this.m_JvBD=e2.zero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{var j_=r0.mulVec2(q_,this.m_localAxisD),y2=r0.mulSub(q_,this.m_localAnchorD,this.m_lcD),I2=r0.mulSub(y_,this.m_localAnchorB,this.m_lcB);this.m_JvBD=e2.mulNumVec2(this.m_ratio,j_),this.m_JwD=this.m_ratio*e2.crossVec2Vec2(y2,j_),this.m_JwB=this.m_ratio*e2.crossVec2Vec2(I2,j_),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,o.warmStarting?(_i.addMul(this.m_mA*this.m_impulse,this.m_JvAC),l+=this.m_iA*this.m_impulse*this.m_JwA,o_.addMul(this.m_mB*this.m_impulse,this.m_JvBD),i_+=this.m_iB*this.m_impulse*this.m_JwB,l_.subMul(this.m_mC*this.m_impulse,this.m_JvAC),ws-=this.m_iC*this.m_impulse*this.m_JwC,s_.subMul(this.m_mD*this.m_impulse,this.m_JvBD),B_-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,this.m_bodyA.c_velocity.v.setVec2(_i),this.m_bodyA.c_velocity.w=l,this.m_bodyB.c_velocity.v.setVec2(o_),this.m_bodyB.c_velocity.w=i_,this.m_bodyC.c_velocity.v.setVec2(l_),this.m_bodyC.c_velocity.w=ws,this.m_bodyD.c_velocity.v.setVec2(s_),this.m_bodyD.c_velocity.w=B_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_bodyA.c_velocity.v,_i=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_velocity.v,t_=this.m_bodyB.c_velocity.w,o_=this.m_bodyC.c_velocity.v,i_=this.m_bodyC.c_velocity.w,_e=this.m_bodyD.c_velocity.v,l_=this.m_bodyD.c_velocity.w,ws=e2.dot(this.m_JvAC,_o)-e2.dot(this.m_JvAC,o_)+e2.dot(this.m_JvBD,l)-e2.dot(this.m_JvBD,_e);ws+=this.m_JwA*_i-this.m_JwC*i_+(this.m_JwB*t_-this.m_JwD*l_);var h_=-this.m_mass*ws;this.m_impulse+=h_,_o.addMul(this.m_mA*h_,this.m_JvAC),_i+=this.m_iA*h_*this.m_JwA,l.addMul(this.m_mB*h_,this.m_JvBD),t_+=this.m_iB*h_*this.m_JwB,o_.subMul(this.m_mC*h_,this.m_JvAC),i_-=this.m_iC*h_*this.m_JwC,_e.subMul(this.m_mD*h_,this.m_JvBD),l_-=this.m_iD*h_*this.m_JwD,this.m_bodyA.c_velocity.v.setVec2(_o),this.m_bodyA.c_velocity.w=_i,this.m_bodyB.c_velocity.v.setVec2(l),this.m_bodyB.c_velocity.w=t_,this.m_bodyC.c_velocity.v.setVec2(o_),this.m_bodyC.c_velocity.w=i_,this.m_bodyD.c_velocity.v.setVec2(_e),this.m_bodyD.c_velocity.w=l_},x.prototype.solvePositionConstraints=function(o){var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyB.c_position.c,t_=this.m_bodyB.c_position.a,o_=this.m_bodyC.c_position.c,i_=this.m_bodyC.c_position.a,_e=this.m_bodyD.c_position.c,l_=this.m_bodyD.c_position.a,ws=r0.neo(_i),h_=r0.neo(t_),s_=r0.neo(i_),B_=r0.neo(l_),D_=0,y_,G_,q_,j_,_2,m2,y2,I2,J2=0;if(this.m_type1==LB.TYPE)q_=e2.zero(),_2=1,y2=1,J2+=this.m_iA+this.m_iC,y_=_i-i_-this.m_referenceAngleA;else{var z2=r0.mulVec2(s_,this.m_localAxisC),K2=r0.mulSub(s_,this.m_localAnchorC,this.m_lcC),$2=r0.mulSub(ws,this.m_localAnchorA,this.m_lcA);q_=z2,y2=e2.crossVec2Vec2(K2,z2),_2=e2.crossVec2Vec2($2,z2),J2+=this.m_mC+this.m_mA+this.m_iC*y2*y2+this.m_iA*_2*_2;var P_=e2.sub(this.m_localAnchorC,this.m_lcC),E_=r0.mulTVec2(s_,e2.add($2,e2.sub(_o,o_)));y_=e2.dot(e2.sub(E_,P_),this.m_localAxisC)}if(this.m_type2==LB.TYPE)j_=e2.zero(),m2=this.m_ratio,I2=this.m_ratio,J2+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),G_=t_-l_-this.m_referenceAngleB;else{var z2=r0.mulVec2(B_,this.m_localAxisD),Z_=r0.mulSub(B_,this.m_localAnchorD,this.m_lcD),N_=r0.mulSub(h_,this.m_localAnchorB,this.m_lcB);j_=e2.mulNumVec2(this.m_ratio,z2),I2=this.m_ratio*e2.crossVec2Vec2(Z_,z2),m2=this.m_ratio*e2.crossVec2Vec2(N_,z2),J2+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*I2*I2+this.m_iB*m2*m2;var s2=e2.sub(this.m_localAnchorD,this.m_lcD),u2=r0.mulTVec2(B_,e2.add(N_,e2.sub(l,_e)));G_=e2.dot(u2,this.m_localAxisD)-e2.dot(s2,this.m_localAxisD)}var p2=y_+this.m_ratio*G_-this.m_constant,v_=0;return J2>0&&(v_=-p2/J2),_o.addMul(this.m_mA*v_,q_),_i+=this.m_iA*v_*_2,l.addMul(this.m_mB*v_,j_),t_+=this.m_iB*v_*m2,o_.subMul(this.m_mC*v_,q_),i_-=this.m_iC*v_*y2,_e.subMul(this.m_mD*v_,j_),l_-=this.m_iD*v_*I2,this.m_bodyA.c_position.c.setVec2(_o),this.m_bodyA.c_position.a=_i,this.m_bodyB.c_position.c.setVec2(l),this.m_bodyB.c_position.a=t_,this.m_bodyC.c_position.c.setVec2(o_),this.m_bodyC.c_position.a=i_,this.m_bodyD.c_position.c.setVec2(_e),this.m_bodyD.c_position.a=l_,D_<w0.linearSlop},x.TYPE="gear-joint",x}(ZA),W2t={maxForce:1,maxTorque:1,correctionFactor:.3},j3=function(V){QA(x,V);function x(o,_o,_i){var l=this;return l instanceof x?(o=LS(o,W2t),l=V.call(this,o,_o,_i)||this,_o=l.m_bodyA,_i=l.m_bodyB,l.m_type=x.TYPE,l.m_linearOffset=e2.isValid(o.linearOffset)?e2.clone(o.linearOffset):_o.getLocalPoint(_i.getPosition()),l.m_angularOffset=Number.isFinite(o.angularOffset)?o.angularOffset:_i.getAngle()-_o.getAngle(),l.m_linearImpulse=e2.zero(),l.m_angularImpulse=0,l.m_maxForce=o.maxForce,l.m_maxTorque=o.maxTorque,l.m_correctionFactor=o.correctionFactor,l):new x(o,_o,_i)}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,maxForce:this.m_maxForce,maxTorque:this.m_maxTorque,correctionFactor:this.m_correctionFactor,linearOffset:this.m_linearOffset,angularOffset:this.m_angularOffset}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o);var l=new x(o);return l},x.prototype._reset=function(o){Number.isFinite(o.angularOffset)&&(this.m_angularOffset=o.angularOffset),Number.isFinite(o.maxForce)&&(this.m_maxForce=o.maxForce),Number.isFinite(o.maxTorque)&&(this.m_maxTorque=o.maxTorque),Number.isFinite(o.correctionFactor)&&(this.m_correctionFactor=o.correctionFactor),e2.isValid(o.linearOffset)&&this.m_linearOffset.set(o.linearOffset)},x.prototype.setMaxForce=function(o){this.m_maxForce=o},x.prototype.getMaxForce=function(){return this.m_maxForce},x.prototype.setMaxTorque=function(o){this.m_maxTorque=o},x.prototype.getMaxTorque=function(){return this.m_maxTorque},x.prototype.setCorrectionFactor=function(o){this.m_correctionFactor=o},x.prototype.getCorrectionFactor=function(){return this.m_correctionFactor},x.prototype.setLinearOffset=function(o){(o.x!=this.m_linearOffset.x||o.y!=this.m_linearOffset.y)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_linearOffset.set(o))},x.prototype.getLinearOffset=function(){return this.m_linearOffset},x.prototype.setAngularOffset=function(o){o!=this.m_angularOffset&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_angularOffset=o)},x.prototype.getAngularOffset=function(){return this.m_angularOffset},x.prototype.getAnchorA=function(){return this.m_bodyA.getPosition()},x.prototype.getAnchorB=function(){return this.m_bodyB.getPosition()},x.prototype.getReactionForce=function(o){return e2.mulNumVec2(o,this.m_linearImpulse)},x.prototype.getReactionTorque=function(o){return o*this.m_angularImpulse},x.prototype.initVelocityConstraints=function(o){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyA.c_velocity.v,t_=this.m_bodyA.c_velocity.w,o_=this.m_bodyB.c_position.c,i_=this.m_bodyB.c_position.a,_e=this.m_bodyB.c_velocity.v,l_=this.m_bodyB.c_velocity.w,ws=r0.neo(_i),h_=r0.neo(i_);this.m_rA=r0.mulVec2(ws,e2.sub(this.m_linearOffset,this.m_localCenterA)),this.m_rB=r0.mulVec2(h_,e2.neg(this.m_localCenterB));var s_=this.m_invMassA,B_=this.m_invMassB,D_=this.m_invIA,y_=this.m_invIB,G_=new fC;if(G_.ex.x=s_+B_+D_*this.m_rA.y*this.m_rA.y+y_*this.m_rB.y*this.m_rB.y,G_.ex.y=-D_*this.m_rA.x*this.m_rA.y-y_*this.m_rB.x*this.m_rB.y,G_.ey.x=G_.ex.y,G_.ey.y=s_+B_+D_*this.m_rA.x*this.m_rA.x+y_*this.m_rB.x*this.m_rB.x,this.m_linearMass=G_.getInverse(),this.m_angularMass=D_+y_,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),this.m_linearError=e2.zero(),this.m_linearError.addCombine(1,o_,1,this.m_rB),this.m_linearError.subCombine(1,_o,1,this.m_rA),this.m_angularError=i_-_i-this.m_angularOffset,o.warmStarting){this.m_linearImpulse.mul(o.dtRatio),this.m_angularImpulse*=o.dtRatio;var q_=e2.neo(this.m_linearImpulse.x,this.m_linearImpulse.y);l.subMul(s_,q_),t_-=D_*(e2.crossVec2Vec2(this.m_rA,q_)+this.m_angularImpulse),_e.addMul(B_,q_),l_+=y_*(e2.crossVec2Vec2(this.m_rB,q_)+this.m_angularImpulse)}else this.m_linearImpulse.setZero(),this.m_angularImpulse=0;this.m_bodyA.c_velocity.v=l,this.m_bodyA.c_velocity.w=t_,this.m_bodyB.c_velocity.v=_e,this.m_bodyB.c_velocity.w=l_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_bodyA.c_velocity.v,_i=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_velocity.v,t_=this.m_bodyB.c_velocity.w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB,ws=o.dt,h_=o.inv_dt;{var s_=t_-_i+h_*this.m_correctionFactor*this.m_angularError,B_=-this.m_angularMass*s_,D_=this.m_angularImpulse,y_=ws*this.m_maxTorque;this.m_angularImpulse=kA(this.m_angularImpulse+B_,-y_,y_),B_=this.m_angularImpulse-D_,_i-=_e*B_,t_+=l_*B_}{var s_=e2.zero();s_.addCombine(1,l,1,e2.crossNumVec2(t_,this.m_rB)),s_.subCombine(1,_o,1,e2.crossNumVec2(_i,this.m_rA)),s_.addMul(h_*this.m_correctionFactor,this.m_linearError);var B_=e2.neg(fC.mulVec2(this.m_linearMass,s_)),D_=e2.clone(this.m_linearImpulse);this.m_linearImpulse.add(B_);var y_=ws*this.m_maxForce;this.m_linearImpulse.clamp(y_),B_=e2.sub(this.m_linearImpulse,D_),_o.subMul(o_,B_),_i-=_e*e2.crossVec2Vec2(this.m_rA,B_),l.addMul(i_,B_),t_+=l_*e2.crossVec2Vec2(this.m_rB,B_)}this.m_bodyA.c_velocity.v=_o,this.m_bodyA.c_velocity.w=_i,this.m_bodyB.c_velocity.v=l,this.m_bodyB.c_velocity.w=t_},x.prototype.solvePositionConstraints=function(o){return!0},x.TYPE="motor-joint",x}(ZA),N2t=Math.PI,O2t={maxForce:0,frequencyHz:5,dampingRatio:.7},z3=function(V){QA(x,V);function x(o,_o,_i,l){var t_=this;return t_ instanceof x?(o=LS(o,O2t),t_=V.call(this,o,_o,_i)||this,_o=t_.m_bodyA,_i=t_.m_bodyB,t_.m_type=x.TYPE,e2.isValid(l)?t_.m_targetA=e2.clone(l):e2.isValid(o.target)?t_.m_targetA=e2.clone(o.target):t_.m_targetA=e2.zero(),t_.m_localAnchorB=xC.mulTVec2(_i.getTransform(),t_.m_targetA),t_.m_maxForce=o.maxForce,t_.m_impulse=e2.zero(),t_.m_frequencyHz=o.frequencyHz,t_.m_dampingRatio=o.dampingRatio,t_.m_beta=0,t_.m_gamma=0,t_.m_rB=e2.zero(),t_.m_localCenterB=e2.zero(),t_.m_invMassB=0,t_.m_invIB=0,t_.m_mass=new fC,t_.m_C=e2.zero(),t_):new x(o,_o,_i,l)}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,target:this.m_targetA,maxForce:this.m_maxForce,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,_localAnchorB:this.m_localAnchorB}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o),o.target=e2.clone(o.target);var l=new x(o);return o._localAnchorB&&(l.m_localAnchorB=o._localAnchorB),l},x.prototype._reset=function(o){Number.isFinite(o.maxForce)&&(this.m_maxForce=o.maxForce),Number.isFinite(o.frequencyHz)&&(this.m_frequencyHz=o.frequencyHz),Number.isFinite(o.dampingRatio)&&(this.m_dampingRatio=o.dampingRatio)},x.prototype.setTarget=function(o){e2.areEqual(o,this.m_targetA)||(this.m_bodyB.setAwake(!0),this.m_targetA.set(o))},x.prototype.getTarget=function(){return this.m_targetA},x.prototype.setMaxForce=function(o){this.m_maxForce=o},x.prototype.getMaxForce=function(){return this.m_maxForce},x.prototype.setFrequency=function(o){this.m_frequencyHz=o},x.prototype.getFrequency=function(){return this.m_frequencyHz},x.prototype.setDampingRatio=function(o){this.m_dampingRatio=o},x.prototype.getDampingRatio=function(){return this.m_dampingRatio},x.prototype.getAnchorA=function(){return e2.clone(this.m_targetA)},x.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},x.prototype.getReactionForce=function(o){return e2.mulNumVec2(o,this.m_impulse)},x.prototype.getReactionTorque=function(o){return o*0},x.prototype.shiftOrigin=function(o){this.m_targetA.sub(o)},x.prototype.initVelocityConstraints=function(o){this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var _o=this.m_bodyB.c_position,_i=this.m_bodyB.c_velocity,l=_o.c,t_=_o.a,o_=_i.v,i_=_i.w,_e=r0.neo(t_),l_=this.m_bodyB.getMass(),ws=2*N2t*this.m_frequencyHz,h_=2*l_*this.m_dampingRatio*ws,s_=l_*(ws*ws),B_=o.dt;this.m_gamma=B_*(h_+B_*s_),this.m_gamma!=0&&(this.m_gamma=1/this.m_gamma),this.m_beta=B_*s_*this.m_gamma,this.m_rB=r0.mulVec2(_e,e2.sub(this.m_localAnchorB,this.m_localCenterB));var D_=new fC;D_.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,D_.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,D_.ey.x=D_.ex.y,D_.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,this.m_mass=D_.getInverse(),this.m_C.setVec2(l),this.m_C.addCombine(1,this.m_rB,-1,this.m_targetA),this.m_C.mul(this.m_beta),i_*=.98,o.warmStarting?(this.m_impulse.mul(o.dtRatio),o_.addMul(this.m_invMassB,this.m_impulse),i_+=this.m_invIB*e2.crossVec2Vec2(this.m_rB,this.m_impulse)):this.m_impulse.setZero(),_i.v.setVec2(o_),_i.w=i_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_bodyB.c_velocity,_i=e2.clone(_o.v),l=_o.w,t_=e2.crossNumVec2(l,this.m_rB);t_.add(_i),t_.addCombine(1,this.m_C,this.m_gamma,this.m_impulse),t_.neg();var o_=fC.mulVec2(this.m_mass,t_),i_=e2.clone(this.m_impulse);this.m_impulse.add(o_);var _e=o.dt*this.m_maxForce;this.m_impulse.clamp(_e),o_=e2.sub(this.m_impulse,i_),_i.addMul(this.m_invMassB,o_),l+=this.m_invIB*e2.crossVec2Vec2(this.m_rB,o_),_o.v.setVec2(_i),_o.w=l},x.prototype.solvePositionConstraints=function(o){return!0},x.TYPE="mouse-joint",x}(ZA),U2t=Math.abs,X2t={collideConnected:!0},W3=function(V){QA(x,V);function x(o,_o,_i,l,t_,o_,i_,_e){var l_=this;return l_ instanceof x?(o=LS(o,X2t),l_=V.call(this,o,_o,_i)||this,_o=l_.m_bodyA,_i=l_.m_bodyB,l_.m_type=x.TYPE,l_.m_groundAnchorA=e2.clone(l||o.groundAnchorA||e2.neo(-1,1)),l_.m_groundAnchorB=e2.clone(t_||o.groundAnchorB||e2.neo(1,1)),l_.m_localAnchorA=e2.clone(o_?_o.getLocalPoint(o_):o.localAnchorA||e2.neo(-1,0)),l_.m_localAnchorB=e2.clone(i_?_i.getLocalPoint(i_):o.localAnchorB||e2.neo(1,0)),l_.m_lengthA=Number.isFinite(o.lengthA)?o.lengthA:e2.distance(o_,l),l_.m_lengthB=Number.isFinite(o.lengthB)?o.lengthB:e2.distance(i_,t_),l_.m_ratio=Number.isFinite(_e)?_e:o.ratio,l_.m_constant=l_.m_lengthA+l_.m_ratio*l_.m_lengthB,l_.m_impulse=0,l_):new x(o,_o,_i,l,t_,o_,i_,_e)}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,groundAnchorA:this.m_groundAnchorA,groundAnchorB:this.m_groundAnchorB,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,lengthA:this.m_lengthA,lengthB:this.m_lengthB,ratio:this.m_ratio}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o);var l=new x(o);return l},x.prototype._reset=function(o){e2.isValid(o.groundAnchorA)&&this.m_groundAnchorA.set(o.groundAnchorA),e2.isValid(o.groundAnchorB)&&this.m_groundAnchorB.set(o.groundAnchorB),e2.isValid(o.localAnchorA)?this.m_localAnchorA.set(o.localAnchorA):e2.isValid(o.anchorA)&&this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(o.anchorA)),e2.isValid(o.localAnchorB)?this.m_localAnchorB.set(o.localAnchorB):e2.isValid(o.anchorB)&&this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(o.anchorB)),Number.isFinite(o.lengthA)&&(this.m_lengthA=o.lengthA),Number.isFinite(o.lengthB)&&(this.m_lengthB=o.lengthB),Number.isFinite(o.ratio)&&(this.m_ratio=o.ratio)},x.prototype.getGroundAnchorA=function(){return this.m_groundAnchorA},x.prototype.getGroundAnchorB=function(){return this.m_groundAnchorB},x.prototype.getLengthA=function(){return this.m_lengthA},x.prototype.getLengthB=function(){return this.m_lengthB},x.prototype.getRatio=function(){return this.m_ratio},x.prototype.getCurrentLengthA=function(){var o=this.m_bodyA.getWorldPoint(this.m_localAnchorA),_o=this.m_groundAnchorA;return e2.distance(o,_o)},x.prototype.getCurrentLengthB=function(){var o=this.m_bodyB.getWorldPoint(this.m_localAnchorB),_o=this.m_groundAnchorB;return e2.distance(o,_o)},x.prototype.shiftOrigin=function(o){this.m_groundAnchorA.sub(o),this.m_groundAnchorB.sub(o)},x.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},x.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},x.prototype.getReactionForce=function(o){return e2.mulNumVec2(this.m_impulse,this.m_uB).mul(o)},x.prototype.getReactionTorque=function(o){return 0},x.prototype.initVelocityConstraints=function(o){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyA.c_velocity.v,t_=this.m_bodyA.c_velocity.w,o_=this.m_bodyB.c_position.c,i_=this.m_bodyB.c_position.a,_e=this.m_bodyB.c_velocity.v,l_=this.m_bodyB.c_velocity.w,ws=r0.neo(_i),h_=r0.neo(i_);this.m_rA=r0.mulVec2(ws,e2.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=r0.mulVec2(h_,e2.sub(this.m_localAnchorB,this.m_localCenterB)),this.m_uA=e2.sub(e2.add(_o,this.m_rA),this.m_groundAnchorA),this.m_uB=e2.sub(e2.add(o_,this.m_rB),this.m_groundAnchorB);var s_=this.m_uA.length(),B_=this.m_uB.length();s_>10*w0.linearSlop?this.m_uA.mul(1/s_):this.m_uA.setZero(),B_>10*w0.linearSlop?this.m_uB.mul(1/B_):this.m_uB.setZero();var D_=e2.crossVec2Vec2(this.m_rA,this.m_uA),y_=e2.crossVec2Vec2(this.m_rB,this.m_uB),G_=this.m_invMassA+this.m_invIA*D_*D_,q_=this.m_invMassB+this.m_invIB*y_*y_;if(this.m_mass=G_+this.m_ratio*this.m_ratio*q_,this.m_mass>0&&(this.m_mass=1/this.m_mass),o.warmStarting){this.m_impulse*=o.dtRatio;var j_=e2.mulNumVec2(-this.m_impulse,this.m_uA),_2=e2.mulNumVec2(-this.m_ratio*this.m_impulse,this.m_uB);l.addMul(this.m_invMassA,j_),t_+=this.m_invIA*e2.crossVec2Vec2(this.m_rA,j_),_e.addMul(this.m_invMassB,_2),l_+=this.m_invIB*e2.crossVec2Vec2(this.m_rB,_2)}else this.m_impulse=0;this.m_bodyA.c_velocity.v=l,this.m_bodyA.c_velocity.w=t_,this.m_bodyB.c_velocity.v=_e,this.m_bodyB.c_velocity.w=l_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_bodyA.c_velocity.v,_i=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_velocity.v,t_=this.m_bodyB.c_velocity.w,o_=e2.add(_o,e2.crossNumVec2(_i,this.m_rA)),i_=e2.add(l,e2.crossNumVec2(t_,this.m_rB)),_e=-e2.dot(this.m_uA,o_)-this.m_ratio*e2.dot(this.m_uB,i_),l_=-this.m_mass*_e;this.m_impulse+=l_;var ws=e2.mulNumVec2(-l_,this.m_uA),h_=e2.mulNumVec2(-this.m_ratio*l_,this.m_uB);_o.addMul(this.m_invMassA,ws),_i+=this.m_invIA*e2.crossVec2Vec2(this.m_rA,ws),l.addMul(this.m_invMassB,h_),t_+=this.m_invIB*e2.crossVec2Vec2(this.m_rB,h_),this.m_bodyA.c_velocity.v=_o,this.m_bodyA.c_velocity.w=_i,this.m_bodyB.c_velocity.v=l,this.m_bodyB.c_velocity.w=t_},x.prototype.solvePositionConstraints=function(o){var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyB.c_position.c,t_=this.m_bodyB.c_position.a,o_=r0.neo(_i),i_=r0.neo(t_),_e=r0.mulVec2(o_,e2.sub(this.m_localAnchorA,this.m_localCenterA)),l_=r0.mulVec2(i_,e2.sub(this.m_localAnchorB,this.m_localCenterB)),ws=e2.sub(e2.add(_o,this.m_rA),this.m_groundAnchorA),h_=e2.sub(e2.add(l,this.m_rB),this.m_groundAnchorB),s_=ws.length(),B_=h_.length();s_>10*w0.linearSlop?ws.mul(1/s_):ws.setZero(),B_>10*w0.linearSlop?h_.mul(1/B_):h_.setZero();var D_=e2.crossVec2Vec2(_e,ws),y_=e2.crossVec2Vec2(l_,h_),G_=this.m_invMassA+this.m_invIA*D_*D_,q_=this.m_invMassB+this.m_invIB*y_*y_,j_=G_+this.m_ratio*this.m_ratio*q_;j_>0&&(j_=1/j_);var _2=this.m_constant-s_-this.m_ratio*B_,m2=U2t(_2),y2=-j_*_2,I2=e2.mulNumVec2(-y2,ws),J2=e2.mulNumVec2(-this.m_ratio*y2,h_);return _o.addMul(this.m_invMassA,I2),_i+=this.m_invIA*e2.crossVec2Vec2(_e,I2),l.addMul(this.m_invMassB,J2),t_+=this.m_invIB*e2.crossVec2Vec2(l_,J2),this.m_bodyA.c_position.c=_o,this.m_bodyA.c_position.a=_i,this.m_bodyB.c_position.c=l,this.m_bodyB.c_position.a=t_,m2<w0.linearSlop},x.TYPE="pulley-joint",x}(ZA),Y2t=Math.min,X4;(function(V){V[V.inactiveLimit=0]="inactiveLimit",V[V.atLowerLimit=1]="atLowerLimit",V[V.atUpperLimit=2]="atUpperLimit",V[V.equalLimits=3]="equalLimits"})(X4||(X4={}));var H2t={maxLength:0},N3=function(V){QA(x,V);function x(o,_o,_i,l){var t_=this;return t_ instanceof x?(o=LS(o,H2t),t_=V.call(this,o,_o,_i)||this,_o=t_.m_bodyA,_i=t_.m_bodyB,t_.m_type=x.TYPE,t_.m_localAnchorA=e2.clone(l?_o.getLocalPoint(l):o.localAnchorA||e2.neo(-1,0)),t_.m_localAnchorB=e2.clone(l?_i.getLocalPoint(l):o.localAnchorB||e2.neo(1,0)),t_.m_maxLength=o.maxLength,t_.m_mass=0,t_.m_impulse=0,t_.m_length=0,t_.m_state=X4.inactiveLimit,t_):new x(o,_o,_i,l)}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,maxLength:this.m_maxLength}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o);var l=new x(o);return l},x.prototype._reset=function(o){Number.isFinite(o.maxLength)&&(this.m_maxLength=o.maxLength)},x.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},x.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},x.prototype.setMaxLength=function(o){this.m_maxLength=o},x.prototype.getMaxLength=function(){return this.m_maxLength},x.prototype.getLimitState=function(){return this.m_state},x.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},x.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},x.prototype.getReactionForce=function(o){return e2.mulNumVec2(this.m_impulse,this.m_u).mul(o)},x.prototype.getReactionTorque=function(o){return 0},x.prototype.initVelocityConstraints=function(o){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyA.c_velocity.v,t_=this.m_bodyA.c_velocity.w,o_=this.m_bodyB.c_position.c,i_=this.m_bodyB.c_position.a,_e=this.m_bodyB.c_velocity.v,l_=this.m_bodyB.c_velocity.w,ws=r0.neo(_i),h_=r0.neo(i_);this.m_rA=r0.mulSub(ws,this.m_localAnchorA,this.m_localCenterA),this.m_rB=r0.mulSub(h_,this.m_localAnchorB,this.m_localCenterB),this.m_u=e2.zero(),this.m_u.addCombine(1,o_,1,this.m_rB),this.m_u.subCombine(1,_o,1,this.m_rA),this.m_length=this.m_u.length();var s_=this.m_length-this.m_maxLength;if(s_>0?this.m_state=X4.atUpperLimit:this.m_state=X4.inactiveLimit,this.m_length>w0.linearSlop)this.m_u.mul(1/this.m_length);else{this.m_u.setZero(),this.m_mass=0,this.m_impulse=0;return}var B_=e2.crossVec2Vec2(this.m_rA,this.m_u),D_=e2.crossVec2Vec2(this.m_rB,this.m_u),y_=this.m_invMassA+this.m_invIA*B_*B_+this.m_invMassB+this.m_invIB*D_*D_;if(this.m_mass=y_!=0?1/y_:0,o.warmStarting){this.m_impulse*=o.dtRatio;var G_=e2.mulNumVec2(this.m_impulse,this.m_u);l.subMul(this.m_invMassA,G_),t_-=this.m_invIA*e2.crossVec2Vec2(this.m_rA,G_),_e.addMul(this.m_invMassB,G_),l_+=this.m_invIB*e2.crossVec2Vec2(this.m_rB,G_)}else this.m_impulse=0;this.m_bodyA.c_velocity.v.setVec2(l),this.m_bodyA.c_velocity.w=t_,this.m_bodyB.c_velocity.v.setVec2(_e),this.m_bodyB.c_velocity.w=l_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_bodyA.c_velocity.v,_i=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_velocity.v,t_=this.m_bodyB.c_velocity.w,o_=e2.addCrossNumVec2(_o,_i,this.m_rA),i_=e2.addCrossNumVec2(l,t_,this.m_rB),_e=this.m_length-this.m_maxLength,l_=e2.dot(this.m_u,e2.sub(i_,o_));_e<0&&(l_+=o.inv_dt*_e);var ws=-this.m_mass*l_,h_=this.m_impulse;this.m_impulse=Y2t(0,this.m_impulse+ws),ws=this.m_impulse-h_;var s_=e2.mulNumVec2(ws,this.m_u);_o.subMul(this.m_invMassA,s_),_i-=this.m_invIA*e2.crossVec2Vec2(this.m_rA,s_),l.addMul(this.m_invMassB,s_),t_+=this.m_invIB*e2.crossVec2Vec2(this.m_rB,s_),this.m_bodyA.c_velocity.v=_o,this.m_bodyA.c_velocity.w=_i,this.m_bodyB.c_velocity.v=l,this.m_bodyB.c_velocity.w=t_},x.prototype.solvePositionConstraints=function(o){var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyB.c_position.c,t_=this.m_bodyB.c_position.a,o_=r0.neo(_i),i_=r0.neo(t_),_e=r0.mulSub(o_,this.m_localAnchorA,this.m_localCenterA),l_=r0.mulSub(i_,this.m_localAnchorB,this.m_localCenterB),ws=e2.zero();ws.addCombine(1,l,1,l_),ws.subCombine(1,_o,1,_e);var h_=ws.normalize(),s_=h_-this.m_maxLength;s_=kA(s_,0,w0.maxLinearCorrection);var B_=-this.m_mass*s_,D_=e2.mulNumVec2(B_,ws);return _o.subMul(this.m_invMassA,D_),_i-=this.m_invIA*e2.crossVec2Vec2(_e,D_),l.addMul(this.m_invMassB,D_),t_+=this.m_invIB*e2.crossVec2Vec2(l_,D_),this.m_bodyA.c_position.c.setVec2(_o),this.m_bodyA.c_position.a=_i,this.m_bodyB.c_position.c.setVec2(l),this.m_bodyB.c_position.a=t_,h_-this.m_maxLength<w0.linearSlop},x.TYPE="rope-joint",x}(ZA),Z2t=Math.abs,K2t=Math.PI,Q2t={frequencyHz:0,dampingRatio:0},O3=function(V){QA(x,V);function x(o,_o,_i,l){var t_=this;return t_ instanceof x?(o=LS(o,Q2t),t_=V.call(this,o,_o,_i)||this,_o=t_.m_bodyA,_i=t_.m_bodyB,t_.m_type=x.TYPE,t_.m_localAnchorA=e2.clone(l?_o.getLocalPoint(l):o.localAnchorA||e2.zero()),t_.m_localAnchorB=e2.clone(l?_i.getLocalPoint(l):o.localAnchorB||e2.zero()),t_.m_referenceAngle=Number.isFinite(o.referenceAngle)?o.referenceAngle:_i.getAngle()-_o.getAngle(),t_.m_frequencyHz=o.frequencyHz,t_.m_dampingRatio=o.dampingRatio,t_.m_impulse=new Ky,t_.m_bias=0,t_.m_gamma=0,t_.m_mass=new kB,t_):new x(o,_o,_i,l)}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,referenceAngle:this.m_referenceAngle}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o);var l=new x(o);return l},x.prototype._reset=function(o){o.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(o.anchorA)):o.localAnchorA&&this.m_localAnchorA.setVec2(o.localAnchorA),o.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(o.anchorB)):o.localAnchorB&&this.m_localAnchorB.setVec2(o.localAnchorB),Number.isFinite(o.frequencyHz)&&(this.m_frequencyHz=o.frequencyHz),Number.isFinite(o.dampingRatio)&&(this.m_dampingRatio=o.dampingRatio)},x.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},x.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},x.prototype.getReferenceAngle=function(){return this.m_referenceAngle},x.prototype.setFrequency=function(o){this.m_frequencyHz=o},x.prototype.getFrequency=function(){return this.m_frequencyHz},x.prototype.setDampingRatio=function(o){this.m_dampingRatio=o},x.prototype.getDampingRatio=function(){return this.m_dampingRatio},x.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},x.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},x.prototype.getReactionForce=function(o){return e2.neo(this.m_impulse.x,this.m_impulse.y).mul(o)},x.prototype.getReactionTorque=function(o){return o*this.m_impulse.z},x.prototype.initVelocityConstraints=function(o){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _o=this.m_bodyA.c_position.a,_i=this.m_bodyA.c_velocity.v,l=this.m_bodyA.c_velocity.w,t_=this.m_bodyB.c_position.a,o_=this.m_bodyB.c_velocity.v,i_=this.m_bodyB.c_velocity.w,_e=r0.neo(_o),l_=r0.neo(t_);this.m_rA=r0.mulVec2(_e,e2.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=r0.mulVec2(l_,e2.sub(this.m_localAnchorB,this.m_localCenterB));var ws=this.m_invMassA,h_=this.m_invMassB,s_=this.m_invIA,B_=this.m_invIB,D_=new kB;if(D_.ex.x=ws+h_+this.m_rA.y*this.m_rA.y*s_+this.m_rB.y*this.m_rB.y*B_,D_.ey.x=-this.m_rA.y*this.m_rA.x*s_-this.m_rB.y*this.m_rB.x*B_,D_.ez.x=-this.m_rA.y*s_-this.m_rB.y*B_,D_.ex.y=D_.ey.x,D_.ey.y=ws+h_+this.m_rA.x*this.m_rA.x*s_+this.m_rB.x*this.m_rB.x*B_,D_.ez.y=this.m_rA.x*s_+this.m_rB.x*B_,D_.ex.z=D_.ez.x,D_.ey.z=D_.ez.y,D_.ez.z=s_+B_,this.m_frequencyHz>0){D_.getInverse22(this.m_mass);var y_=s_+B_,G_=y_>0?1/y_:0,q_=t_-_o-this.m_referenceAngle,j_=2*K2t*this.m_frequencyHz,_2=2*G_*this.m_dampingRatio*j_,m2=G_*j_*j_,y2=o.dt;this.m_gamma=y2*(_2+y2*m2),this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0,this.m_bias=q_*y2*m2*this.m_gamma,y_+=this.m_gamma,this.m_mass.ez.z=y_!=0?1/y_:0}else D_.ez.z==0?(D_.getInverse22(this.m_mass),this.m_gamma=0,this.m_bias=0):(D_.getSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0);if(o.warmStarting){this.m_impulse.mul(o.dtRatio);var I2=e2.neo(this.m_impulse.x,this.m_impulse.y);_i.subMul(ws,I2),l-=s_*(e2.crossVec2Vec2(this.m_rA,I2)+this.m_impulse.z),o_.addMul(h_,I2),i_+=B_*(e2.crossVec2Vec2(this.m_rB,I2)+this.m_impulse.z)}else this.m_impulse.setZero();this.m_bodyA.c_velocity.v=_i,this.m_bodyA.c_velocity.w=l,this.m_bodyB.c_velocity.v=o_,this.m_bodyB.c_velocity.w=i_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_bodyA.c_velocity.v,_i=this.m_bodyA.c_velocity.w,l=this.m_bodyB.c_velocity.v,t_=this.m_bodyB.c_velocity.w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB;if(this.m_frequencyHz>0){var ws=t_-_i,h_=-this.m_mass.ez.z*(ws+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=h_,_i-=_e*h_,t_+=l_*h_;var s_=e2.zero();s_.addCombine(1,l,1,e2.crossNumVec2(t_,this.m_rB)),s_.subCombine(1,_o,1,e2.crossNumVec2(_i,this.m_rA));var B_=e2.neg(kB.mulVec2(this.m_mass,s_));this.m_impulse.x+=B_.x,this.m_impulse.y+=B_.y;var D_=e2.clone(B_);_o.subMul(o_,D_),_i-=_e*e2.crossVec2Vec2(this.m_rA,D_),l.addMul(i_,D_),t_+=l_*e2.crossVec2Vec2(this.m_rB,D_)}else{var s_=e2.zero();s_.addCombine(1,l,1,e2.crossNumVec2(t_,this.m_rB)),s_.subCombine(1,_o,1,e2.crossNumVec2(_i,this.m_rA));var ws=t_-_i,y_=new Ky(s_.x,s_.y,ws),G_=Ky.neg(kB.mulVec3(this.m_mass,y_));this.m_impulse.add(G_);var D_=e2.neo(G_.x,G_.y);_o.subMul(o_,D_),_i-=_e*(e2.crossVec2Vec2(this.m_rA,D_)+G_.z),l.addMul(i_,D_),t_+=l_*(e2.crossVec2Vec2(this.m_rB,D_)+G_.z)}this.m_bodyA.c_velocity.v=_o,this.m_bodyA.c_velocity.w=_i,this.m_bodyB.c_velocity.v=l,this.m_bodyB.c_velocity.w=t_},x.prototype.solvePositionConstraints=function(o){var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyB.c_position.c,t_=this.m_bodyB.c_position.a,o_=r0.neo(_i),i_=r0.neo(t_),_e=this.m_invMassA,l_=this.m_invMassB,ws=this.m_invIA,h_=this.m_invIB,s_=r0.mulVec2(o_,e2.sub(this.m_localAnchorA,this.m_localCenterA)),B_=r0.mulVec2(i_,e2.sub(this.m_localAnchorB,this.m_localCenterB)),D_,y_,G_=new kB;if(G_.ex.x=_e+l_+s_.y*s_.y*ws+B_.y*B_.y*h_,G_.ey.x=-s_.y*s_.x*ws-B_.y*B_.x*h_,G_.ez.x=-s_.y*ws-B_.y*h_,G_.ex.y=G_.ey.x,G_.ey.y=_e+l_+s_.x*s_.x*ws+B_.x*B_.x*h_,G_.ez.y=s_.x*ws+B_.x*h_,G_.ex.z=G_.ez.x,G_.ey.z=G_.ez.y,G_.ez.z=ws+h_,this.m_frequencyHz>0){var q_=e2.zero();q_.addCombine(1,l,1,B_),q_.subCombine(1,_o,1,s_),D_=q_.length(),y_=0;var j_=e2.neg(G_.solve22(q_));_o.subMul(_e,j_),_i-=ws*e2.crossVec2Vec2(s_,j_),l.addMul(l_,j_),t_+=h_*e2.crossVec2Vec2(B_,j_)}else{var q_=e2.zero();q_.addCombine(1,l,1,B_),q_.subCombine(1,_o,1,s_);var _2=t_-_i-this.m_referenceAngle;D_=q_.length(),y_=Z2t(_2);var m2=new Ky(q_.x,q_.y,_2),y2=new Ky;if(G_.ez.z>0)y2=Ky.neg(G_.solve33(m2));else{var I2=e2.neg(G_.solve22(q_));y2.set(I2.x,I2.y,0)}var j_=e2.neo(y2.x,y2.y);_o.subMul(_e,j_),_i-=ws*(e2.crossVec2Vec2(s_,j_)+y2.z),l.addMul(l_,j_),t_+=h_*(e2.crossVec2Vec2(B_,j_)+y2.z)}return this.m_bodyA.c_position.c=_o,this.m_bodyA.c_position.a=_i,this.m_bodyB.c_position.c=l,this.m_bodyB.c_position.a=t_,D_<=w0.linearSlop&&y_<=w0.angularSlop},x.TYPE="weld-joint",x}(ZA),$2t=Math.abs,tat=Math.PI,eat={enableMotor:!1,maxMotorTorque:0,motorSpeed:0,frequencyHz:2,dampingRatio:.7},U3=function(V){QA(x,V);function x(o,_o,_i,l,t_){var o_=this;return o_ instanceof x?(o=LS(o,eat),o_=V.call(this,o,_o,_i)||this,_o=o_.m_bodyA,_i=o_.m_bodyB,o_.m_ax=e2.zero(),o_.m_ay=e2.zero(),o_.m_type=x.TYPE,o_.m_localAnchorA=e2.clone(l?_o.getLocalPoint(l):o.localAnchorA||e2.zero()),o_.m_localAnchorB=e2.clone(l?_i.getLocalPoint(l):o.localAnchorB||e2.zero()),e2.isValid(t_)?o_.m_localXAxisA=_o.getLocalVector(t_):e2.isValid(o.localAxisA)?o_.m_localXAxisA=e2.clone(o.localAxisA):e2.isValid(o.localAxis)?o_.m_localXAxisA=e2.clone(o.localAxis):o_.m_localXAxisA=e2.neo(1,0),o_.m_localYAxisA=e2.crossNumVec2(1,o_.m_localXAxisA),o_.m_mass=0,o_.m_impulse=0,o_.m_motorMass=0,o_.m_motorImpulse=0,o_.m_springMass=0,o_.m_springImpulse=0,o_.m_maxMotorTorque=o.maxMotorTorque,o_.m_motorSpeed=o.motorSpeed,o_.m_enableMotor=o.enableMotor,o_.m_frequencyHz=o.frequencyHz,o_.m_dampingRatio=o.dampingRatio,o_.m_bias=0,o_.m_gamma=0,o_):new x(o,_o,_i,l,t_)}return x.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,enableMotor:this.m_enableMotor,maxMotorTorque:this.m_maxMotorTorque,motorSpeed:this.m_motorSpeed,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,localAxisA:this.m_localXAxisA}},x._deserialize=function(o,_o,_i){o=KA({},o),o.bodyA=_i(r1,o.bodyA,_o),o.bodyB=_i(r1,o.bodyB,_o);var l=new x(o);return l},x.prototype._reset=function(o){o.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(o.anchorA)):o.localAnchorA&&this.m_localAnchorA.setVec2(o.localAnchorA),o.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(o.anchorB)):o.localAnchorB&&this.m_localAnchorB.setVec2(o.localAnchorB),o.localAxisA&&(this.m_localXAxisA.setVec2(o.localAxisA),this.m_localYAxisA.setVec2(e2.crossNumVec2(1,o.localAxisA))),o.enableMotor!==void 0&&(this.m_enableMotor=o.enableMotor),Number.isFinite(o.maxMotorTorque)&&(this.m_maxMotorTorque=o.maxMotorTorque),Number.isFinite(o.motorSpeed)&&(this.m_motorSpeed=o.motorSpeed),Number.isFinite(o.frequencyHz)&&(this.m_frequencyHz=o.frequencyHz),Number.isFinite(o.dampingRatio)&&(this.m_dampingRatio=o.dampingRatio)},x.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},x.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},x.prototype.getLocalAxisA=function(){return this.m_localXAxisA},x.prototype.getJointTranslation=function(){var o=this.m_bodyA,_o=this.m_bodyB,_i=o.getWorldPoint(this.m_localAnchorA),l=_o.getWorldPoint(this.m_localAnchorB),t_=e2.sub(l,_i),o_=o.getWorldVector(this.m_localXAxisA),i_=e2.dot(t_,o_);return i_},x.prototype.getJointSpeed=function(){var o=this.m_bodyA.m_angularVelocity,_o=this.m_bodyB.m_angularVelocity;return _o-o},x.prototype.isMotorEnabled=function(){return this.m_enableMotor},x.prototype.enableMotor=function(o){o!=this.m_enableMotor&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=o)},x.prototype.setMotorSpeed=function(o){o!=this.m_motorSpeed&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=o)},x.prototype.getMotorSpeed=function(){return this.m_motorSpeed},x.prototype.setMaxMotorTorque=function(o){o!=this.m_maxMotorTorque&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorTorque=o)},x.prototype.getMaxMotorTorque=function(){return this.m_maxMotorTorque},x.prototype.getMotorTorque=function(o){return o*this.m_motorImpulse},x.prototype.setSpringFrequencyHz=function(o){this.m_frequencyHz=o},x.prototype.getSpringFrequencyHz=function(){return this.m_frequencyHz},x.prototype.setSpringDampingRatio=function(o){this.m_dampingRatio=o},x.prototype.getSpringDampingRatio=function(){return this.m_dampingRatio},x.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},x.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},x.prototype.getReactionForce=function(o){return e2.combine(this.m_impulse,this.m_ay,this.m_springImpulse,this.m_ax).mul(o)},x.prototype.getReactionTorque=function(o){return o*this.m_motorImpulse},x.prototype.initVelocityConstraints=function(o){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _o=this.m_invMassA,_i=this.m_invMassB,l=this.m_invIA,t_=this.m_invIB,o_=this.m_bodyA.c_position.c,i_=this.m_bodyA.c_position.a,_e=this.m_bodyA.c_velocity.v,l_=this.m_bodyA.c_velocity.w,ws=this.m_bodyB.c_position.c,h_=this.m_bodyB.c_position.a,s_=this.m_bodyB.c_velocity.v,B_=this.m_bodyB.c_velocity.w,D_=r0.neo(i_),y_=r0.neo(h_),G_=r0.mulVec2(D_,e2.sub(this.m_localAnchorA,this.m_localCenterA)),q_=r0.mulVec2(y_,e2.sub(this.m_localAnchorB,this.m_localCenterB)),j_=e2.zero();if(j_.addCombine(1,ws,1,q_),j_.subCombine(1,o_,1,G_),this.m_ay=r0.mulVec2(D_,this.m_localYAxisA),this.m_sAy=e2.crossVec2Vec2(e2.add(j_,G_),this.m_ay),this.m_sBy=e2.crossVec2Vec2(q_,this.m_ay),this.m_mass=_o+_i+l*this.m_sAy*this.m_sAy+t_*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_frequencyHz>0){this.m_ax=r0.mulVec2(D_,this.m_localXAxisA),this.m_sAx=e2.crossVec2Vec2(e2.add(j_,G_),this.m_ax),this.m_sBx=e2.crossVec2Vec2(q_,this.m_ax);var _2=_o+_i+l*this.m_sAx*this.m_sAx+t_*this.m_sBx*this.m_sBx;if(_2>0){this.m_springMass=1/_2;var m2=e2.dot(j_,this.m_ax),y2=2*tat*this.m_frequencyHz,I2=2*this.m_springMass*this.m_dampingRatio*y2,J2=this.m_springMass*y2*y2,z2=o.dt;this.m_gamma=z2*(I2+z2*J2),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=m2*z2*J2*this.m_gamma,this.m_springMass=_2+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}}else this.m_springImpulse=0;if(this.m_enableMotor?(this.m_motorMass=l+t_,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),o.warmStarting){this.m_impulse*=o.dtRatio,this.m_springImpulse*=o.dtRatio,this.m_motorImpulse*=o.dtRatio;var K2=e2.combine(this.m_impulse,this.m_ay,this.m_springImpulse,this.m_ax),$2=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,P_=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse;_e.subMul(this.m_invMassA,K2),l_-=this.m_invIA*$2,s_.addMul(this.m_invMassB,K2),B_+=this.m_invIB*P_}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0;this.m_bodyA.c_velocity.v.setVec2(_e),this.m_bodyA.c_velocity.w=l_,this.m_bodyB.c_velocity.v.setVec2(s_),this.m_bodyB.c_velocity.w=B_},x.prototype.solveVelocityConstraints=function(o){var _o=this.m_invMassA,_i=this.m_invMassB,l=this.m_invIA,t_=this.m_invIB,o_=this.m_bodyA.c_velocity.v,i_=this.m_bodyA.c_velocity.w,_e=this.m_bodyB.c_velocity.v,l_=this.m_bodyB.c_velocity.w;{var ws=e2.dot(this.m_ax,_e)-e2.dot(this.m_ax,o_)+this.m_sBx*l_-this.m_sAx*i_,h_=-this.m_springMass*(ws+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=h_;var s_=e2.mulNumVec2(h_,this.m_ax),B_=h_*this.m_sAx,D_=h_*this.m_sBx;o_.subMul(_o,s_),i_-=l*B_,_e.addMul(_i,s_),l_+=t_*D_}{var ws=l_-i_-this.m_motorSpeed,h_=-this.m_motorMass*ws,y_=this.m_motorImpulse,G_=o.dt*this.m_maxMotorTorque;this.m_motorImpulse=kA(this.m_motorImpulse+h_,-G_,G_),h_=this.m_motorImpulse-y_,i_-=l*h_,l_+=t_*h_}{var ws=e2.dot(this.m_ay,_e)-e2.dot(this.m_ay,o_)+this.m_sBy*l_-this.m_sAy*i_,h_=-this.m_mass*ws;this.m_impulse+=h_;var s_=e2.mulNumVec2(h_,this.m_ay),B_=h_*this.m_sAy,D_=h_*this.m_sBy;o_.subMul(_o,s_),i_-=l*B_,_e.addMul(_i,s_),l_+=t_*D_}this.m_bodyA.c_velocity.v.setVec2(o_),this.m_bodyA.c_velocity.w=i_,this.m_bodyB.c_velocity.v.setVec2(_e),this.m_bodyB.c_velocity.w=l_},x.prototype.solvePositionConstraints=function(o){var _o=this.m_bodyA.c_position.c,_i=this.m_bodyA.c_position.a,l=this.m_bodyB.c_position.c,t_=this.m_bodyB.c_position.a,o_=r0.neo(_i),i_=r0.neo(t_),_e=r0.mulVec2(o_,e2.sub(this.m_localAnchorA,this.m_localCenterA)),l_=r0.mulVec2(i_,e2.sub(this.m_localAnchorB,this.m_localCenterB)),ws=e2.zero();ws.addCombine(1,l,1,l_),ws.subCombine(1,_o,1,_e);var h_=r0.mulVec2(o_,this.m_localYAxisA),s_=e2.crossVec2Vec2(e2.add(ws,_e),h_),B_=e2.crossVec2Vec2(l_,h_),D_=e2.dot(ws,h_),y_=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,G_=y_!=0?-D_/y_:0,q_=e2.mulNumVec2(G_,h_),j_=G_*s_,_2=G_*B_;return _o.subMul(this.m_invMassA,q_),_i-=this.m_invIA*j_,l.addMul(this.m_invMassB,q_),t_+=this.m_invIB*_2,this.m_bodyA.c_position.c.setVec2(_o),this.m_bodyA.c_position.a=_i,this.m_bodyB.c_position.c.setVec2(l),this.m_bodyB.c_position.a=t_,$2t(D_)<=w0.linearSlop},x.TYPE="wheel-joint",x}(ZA),AA,oat=0,X3={World:kV,Body:r1,Joint:ZA,Fixture:RD,Shape:LP},Y3={Vec2:e2,Vec3:Ky,World:kV,Body:r1,Joint:ZA,Fixture:RD,Shape:LP},iat=(AA={},AA[r1.STATIC]=r1,AA[r1.DYNAMIC]=r1,AA[r1.KINEMATIC]=r1,AA[LD.TYPE]=LD,AA[qB.TYPE]=qB,AA[mB.TYPE]=mB,AA[TP.TYPE]=TP,AA[F3.TYPE]=F3,AA[R3.TYPE]=R3,AA[E3.TYPE]=E3,AA[j3.TYPE]=j3,AA[z3.TYPE]=z3,AA[q3.TYPE]=q3,AA[W3.TYPE]=W3,AA[LB.TYPE]=LB,AA[N3.TYPE]=N3,AA[O3.TYPE]=O3,AA[U3.TYPE]=U3,AA),rat={rootClass:kV,preSerialize:function(V){return V},postSerialize:function(V,x){return V},preDeserialize:function(V){return V},postDeserialize:function(V,x){return V}},bJ=function(){function V(x){var o=this;this.toJson=function(_o){var _i=o.options.preSerialize,l=o.options.postSerialize,t_=[],o_=[_o],i_={};function _e(B_,D_){if(B_.__sid=B_.__sid||++oat,!i_[B_.__sid]){o_.push(B_);var y_=t_.length+o_.length,G_={refIndex:y_,refType:D_};i_[B_.__sid]=G_}return i_[B_.__sid]}function l_(B_){B_=_i(B_);var D_=B_._serialize();return D_=l(D_,B_),D_}function ws(B_,D_){if(D_===void 0&&(D_=!1),typeof B_!="object"||B_===null)return B_;if(typeof B_._serialize=="function"){if(!D_){for(var y_ in X3)if(B_ instanceof X3[y_])return _e(B_,y_)}B_=l_(B_)}if(Array.isArray(B_)){for(var G_=[],q_=0;q_<B_.length;q_++)G_[q_]=ws(B_[q_]);B_=G_}else{var G_={};for(var q_ in B_)B_.hasOwnProperty(q_)&&(G_[q_]=ws(B_[q_]));B_=G_}return B_}for(;o_.length;){var h_=o_.shift(),s_=ws(h_,!0);t_.push(s_)}return t_},this.fromJson=function(_o){var _i=o.options.preDeserialize,l=o.options.postDeserialize,t_=o.options.rootClass,o_={};function i_(ws,h_,s_){(!ws||!ws._deserialize)&&(ws=iat[h_.type]);var B_=ws&&ws._deserialize;if(B_){h_=_i(h_);var D_=ws._deserialize,y_=D_(h_,s_,_e);return y_=l(y_,h_),y_}}function _e(ws,h_,s_){var B_=h_.refIndex&&h_.refType;if(!B_)return i_(ws,h_,s_);var D_=h_;Y3[D_.refType]&&(ws=Y3[D_.refType]);var y_=D_.refIndex;if(!o_[y_]){var G_=_o[y_],q_=i_(ws,G_,s_);o_[y_]=q_}return o_[y_]}var l_=i_(t_,_o[0],null);return l_},this.options=KA(KA({},rat),x)}return V}(),vT=new bJ({rootClass:kV});bJ.fromJson=vT.fromJson;bJ.toJson=vT.toJson;var xct=function(){function V(){this.width=80,this.height=60,this.x=0,this.y=-10,this.scaleY=-1,this.hz=60,this.speed=1,this.background="#222222",this.activeKeys={},this.step=function(x,o){},this.keydown=function(x,o){},this.keyup=function(x,o){}}return V.mount=function(x){throw new Error("Not implemented")},V.start=function(x){var o=V.mount();return o.start(x),o},V.prototype.color=function(x,o,_o){return x=x*256|0,o=o*256|0,_o=_o*256|0,"rgb("+x+", "+o+", "+_o+")"},V}();var nat=function(V){QA(x,V);function x(o,_o,_i,l){var t_=this;return t_ instanceof x?(t_=V.call(this)||this,t_._setAsBox(o,_o,_i,l),t_):new x(o,_o,_i,l)}return x.TYPE="polygon",x}(qB),AT=nat;kC.addType(TP.TYPE,TP.TYPE,sat);function sat(V,x,o,_o,_i,l,t_){_at(V,o.getShape(),x,l.getShape(),_i)}var H3=_m(0,0),Z3=_m(0,0),_at=function(V,x,o,_o,_i){V.pointCount=0,ry(H3,o,x.m_p),ry(Z3,_i,_o.m_p);var l=JP(Z3,H3),t_=x.m_radius,o_=_o.m_radius,i_=t_+o_;l>i_*i_||(V.type=K1.e_circles,ha(V.localPoint,x.m_p),Y0(V.localNormal),V.pointCount=1,ha(V.points[0].localPoint,_o.m_p),V.points[0].id.setFeatures(0,Yy.e_vertex,0,Yy.e_vertex))};kC.addType(mB.TYPE,TP.TYPE,aat);kC.addType(LD.TYPE,TP.TYPE,pat);function aat(V,x,o,_o,_i,l,t_){var o_=o.getShape(),i_=l.getShape();ST(V,o_,x,i_,_i)}function pat(V,x,o,_o,_i,l,t_){var o_=o.getShape(),i_=new mB;o_.getChildEdge(i_,_o);var _e=i_,l_=l.getShape();ST(V,_e,x,l_,_i)}var CP=_m(0,0),$G=_m(0,0),tJ=_m(0,0),cB=_m(0,0),BP=_m(0,0),GV=_m(0,0),ST=function(V,x,o,_o,_i){V.pointCount=0,pT(cB,_i,o,_o.m_p);var l=x.m_vertex1,t_=x.m_vertex2;ny(CP,t_,l);var o_=y0(CP,t_)-y0(CP,cB),i_=y0(CP,cB)-y0(CP,l),_e=x.m_radius+_o.m_radius;if(i_<=0){ha(BP,l);var l_=JP(cB,l);if(l_>_e*_e)return;if(x.m_hasVertex0){var ws=x.m_vertex0,h_=l;ny($G,h_,ws);var s_=y0($G,h_)-y0($G,cB);if(s_>0)return}V.type=K1.e_circles,Y0(V.localNormal),ha(V.localPoint,BP),V.pointCount=1,ha(V.points[0].localPoint,_o.m_p),V.points[0].id.setFeatures(0,Yy.e_vertex,0,Yy.e_vertex);return}if(o_<=0){ha(BP,t_);var B_=JP(cB,BP);if(B_>_e*_e)return;if(x.m_hasVertex3){var D_=x.m_vertex3,y_=t_;ny(tJ,D_,y_);var G_=y0(tJ,cB)-y0(tJ,y_);if(G_>0)return}V.type=K1.e_circles,Y0(V.localNormal),ha(V.localPoint,BP),V.pointCount=1,ha(V.points[0].localPoint,_o.m_p),V.points[0].id.setFeatures(1,Yy.e_vertex,0,Yy.e_vertex);return}var q_=GP(CP);E1(BP,o_/q_,l,i_/q_,t_);var j_=JP(cB,BP);j_>_e*_e||(FS(GV,1,CP),y0(GV,cB)-y0(GV,l)<0&&Y4(GV),yC(GV),V.type=K1.e_faceA,ha(V.localNormal,GV),ha(V.localPoint,l),V.pointCount=1,ha(V.points[0].localPoint,_o.m_p),V.points[0].id.setFeatures(0,Yy.e_face,0,Yy.e_vertex))},MD=[new RS,new RS],DD=[new RS,new RS],PP=[new RS,new RS],GD=_m(0,0),K3=_m(0,0),eJ=_m(0,0),oJ=RP(0,0,0),wP=_m(0,0),JV=_m(0,0),JD=_m(0,0),Q3=_m(0,0),$3=_m(0,0),TB=_m(0,0),iJ=_m(0,0),tT=_m(0,0);kC.addType(qB.TYPE,qB.TYPE,cat);function cat(V,x,o,_o,_i,l,t_){mat(V,o.getShape(),x,l.getShape(),_i)}function eT(V,x,o,_o,_i){var l=V.m_count,t_=o.m_count,o_=V.m_normals,i_=V.m_vertices,_e=o.m_vertices;cT(oJ,_o,x);for(var l_=0,ws=-1/0,h_=0;h_<l;++h_){ZS(eJ,oJ.q,o_[h_]),ry(K3,oJ,i_[h_]);for(var s_=1/0,B_=0;B_<t_;++B_){var D_=y0(eJ,_e[B_])-y0(eJ,K3);D_<s_&&(s_=D_)}s_>ws&&(ws=s_,l_=h_)}_i.maxSeparation=ws,_i.bestIndex=l_}function lat(V,x,o,_o,_i,l){var t_=x.m_normals,o_=_i.m_count,i_=_i.m_vertices,_e=_i.m_normals;l2t(tT,l.q,o.q,t_[_o]);for(var l_=0,ws=1/0,h_=0;h_<o_;++h_){var s_=y0(tT,_e[h_]);s_<ws&&(ws=s_,l_=h_)}var B_=l_,D_=B_+1<o_?B_+1:0;ry(V[0].v,l,i_[B_]),V[0].id.setFeatures(_o,Yy.e_face,B_,Yy.e_vertex),ry(V[1].v,l,i_[D_]),V[1].id.setFeatures(_o,Yy.e_face,D_,Yy.e_vertex)}var IV={maxSeparation:0,bestIndex:0},mat=function(V,x,o,_o,_i){V.pointCount=0;var l=x.m_radius+_o.m_radius;eT(x,o,_o,_i,IV);var t_=IV.bestIndex,o_=IV.maxSeparation;if(!(o_>l)){eT(_o,_i,x,o,IV);var i_=IV.bestIndex,_e=IV.maxSeparation;if(!(_e>l)){var l_,ws,h_,s_,B_,D_,y_=.1*w0.linearSlop;_e>o_+y_?(l_=_o,ws=x,h_=_i,s_=o,B_=i_,V.type=K1.e_faceB,D_=!0):(l_=x,ws=_o,h_=o,s_=_i,B_=t_,V.type=K1.e_faceA,D_=!1),MD[0].recycle(),MD[1].recycle(),lat(MD,l_,h_,B_,ws,s_);var G_=l_.m_count,q_=l_.m_vertices,j_=B_,_2=B_+1<G_?B_+1:0;ha(wP,q_[j_]),ha(JV,q_[_2]),ny(JD,JV,wP),yC(JD),DP(Q3,JD,1),E1($3,.5,wP,.5,JV),ZS(TB,h_.q,JD),DP(iJ,TB,1),ry(wP,h_,wP),ry(JV,h_,JV);var m2=y0(iJ,wP),y2=-y0(TB,wP)+l,I2=y0(TB,JV)+l;DD[0].recycle(),DD[1].recycle(),PP[0].recycle(),PP[1].recycle(),LA(GD,-TB.x,-TB.y);var J2=H4(DD,MD,GD,y2,j_);if(!(J2<2)){LA(GD,TB.x,TB.y);var z2=H4(PP,DD,GD,I2,_2);if(!(z2<2)){ha(V.localNormal,Q3),ha(V.localPoint,$3);for(var K2=0,$2=0;$2<PP.length;++$2){var P_=y0(iJ,PP[$2].v)-m2;if(P_<=l){var E_=V.points[K2];_J(E_.localPoint,s_,PP[$2].v),E_.id.set(PP[$2].id),D_&&E_.id.swapFeatures(),++K2}}V.pointCount=K2}}}}};kC.addType(qB.TYPE,TP.TYPE,bat);function bat(V,x,o,_o,_i,l,t_){uat(V,o.getShape(),x,l.getShape(),_i)}var uC=_m(0,0),rJ=_m(0,0),uat=function(V,x,o,_o,_i){V.pointCount=0,pT(uC,_i,o,_o.m_p);for(var l=0,t_=-1/0,o_=x.m_radius+_o.m_radius,i_=x.m_count,_e=x.m_vertices,l_=x.m_normals,ws=0;ws<i_;++ws){var h_=y0(l_[ws],uC)-y0(l_[ws],_e[ws]);if(h_>o_)return;h_>t_&&(t_=h_,l=ws)}var s_=l,B_=s_+1<i_?s_+1:0,D_=_e[s_],y_=_e[B_];if(t_<CS){V.pointCount=1,V.type=K1.e_faceA,ha(V.localNormal,l_[l]),E1(V.localPoint,.5,D_,.5,y_),ha(V.points[0].localPoint,_o.m_p),V.points[0].id.setFeatures(0,Yy.e_vertex,0,Yy.e_vertex);return}var G_=y0(uC,y_)-y0(uC,D_)-y0(D_,y_)+y0(D_,D_),q_=y0(uC,D_)-y0(uC,y_)-y0(y_,D_)+y0(y_,y_);if(G_<=0){if(JP(uC,D_)>o_*o_)return;V.pointCount=1,V.type=K1.e_faceA,ny(V.localNormal,uC,D_),yC(V.localNormal),ha(V.localPoint,D_),ha(V.points[0].localPoint,_o.m_p),V.points[0].id.setFeatures(0,Yy.e_vertex,0,Yy.e_vertex)}else if(q_<=0){if(JP(uC,y_)>o_*o_)return;V.pointCount=1,V.type=K1.e_faceA,ny(V.localNormal,uC,y_),yC(V.localNormal),ha(V.localPoint,y_),ha(V.points[0].localPoint,_o.m_p),V.points[0].id.setFeatures(0,Yy.e_vertex,0,Yy.e_vertex)}else{E1(rJ,.5,D_,.5,y_);var j_=y0(uC,l_[s_])-y0(rJ,l_[s_]);if(j_>o_)return;V.pointCount=1,V.type=K1.e_faceA,ha(V.localNormal,l_[s_]),ha(V.localPoint,rJ),ha(V.points[0].localPoint,_o.m_p),V.points[0].id.setFeatures(0,Yy.e_vertex,0,Yy.e_vertex)}},hat=Math.min;kC.addType(mB.TYPE,qB.TYPE,dat);kC.addType(LD.TYPE,qB.TYPE,yat);function dat(V,x,o,_o,_i,l,t_){BT(V,o.getShape(),x,l.getShape(),_i)}var oT=new mB;function yat(V,x,o,_o,_i,l,t_){var o_=o.getShape();o_.getChildEdge(oT,_o),BT(V,oT,x,l.getShape(),_i)}var XS;(function(V){V[V.e_unknown=-1]="e_unknown",V[V.e_edgeA=1]="e_edgeA",V[V.e_edgeB=2]="e_edgeB"})(XS||(XS={}));var iT;(function(V){V[V.e_isolated=0]="e_isolated",V[V.e_concave=1]="e_concave",V[V.e_convex=2]="e_convex"})(iT||(iT={}));var CT=function(){function V(){}return V}(),xat=function(){function V(){this.vertices=[],this.normals=[],this.count=0;for(var x=0;x<w0.maxPolygonVertices;x++)this.vertices.push(_m(0,0)),this.normals.push(_m(0,0))}return V}(),fat=function(){function V(){this.v1=_m(0,0),this.v2=_m(0,0),this.normal=_m(0,0),this.sideNormal1=_m(0,0),this.sideNormal2=_m(0,0)}return V.prototype.recycle=function(){Y0(this.v1),Y0(this.v2),Y0(this.normal),Y0(this.sideNormal1),Y0(this.sideNormal2)},V}(),ID=[new RS,new RS],FB=[new RS,new RS],hC=[new RS,new RS],IC=new CT,mS=new CT,MA=new xat,by=new fat,TD=_m(0,0),z4=_m(0,0),TV=_m(0,0),W4=_m(0,0),N4=RP(0,0,0),A1=_m(0,0),TC=_m(0,0),iy=_m(0,0),FC=_m(0,0),SA=_m(0,0),CA=_m(0,0),rT=_m(0,0),RB=_m(0,0),BT=function(V,x,o,_o,_i){cT(N4,o,_i),ry(TD,N4,_o.m_centroid);var l=x.m_vertex0,t_=x.m_vertex1,o_=x.m_vertex2,i_=x.m_vertex3,_e=x.m_hasVertex0,l_=x.m_hasVertex3;ny(TV,o_,t_),yC(TV),LA(iy,TV.y,-TV.x);var ws=y0(iy,TD)-y0(iy,t_),h_=0,s_=0,B_=!1,D_=!1;Y0(TC),Y0(FC),_e&&(ny(z4,t_,l),yC(z4),LA(TC,z4.y,-z4.x),B_=By(z4,TV)>=0,h_=e2.dot(TC,TD)-e2.dot(TC,l)),l_&&(ny(W4,i_,o_),yC(W4),LA(FC,W4.y,-W4.x),D_=e2.crossVec2Vec2(TV,W4)>0,s_=e2.dot(FC,TD)-e2.dot(FC,o_));var y_;Y0(A1),Y0(SA),Y0(CA),_e&&l_?B_&&D_?(y_=h_>=0||ws>=0||s_>=0,y_?(ha(A1,iy),ha(SA,TC),ha(CA,FC)):(K0(A1,-1,iy),K0(SA,-1,iy),K0(CA,-1,iy))):B_?(y_=h_>=0||ws>=0&&s_>=0,y_?(ha(A1,iy),ha(SA,TC),ha(CA,iy)):(K0(A1,-1,iy),K0(SA,-1,FC),K0(CA,-1,iy))):D_?(y_=s_>=0||h_>=0&&ws>=0,y_?(ha(A1,iy),ha(SA,iy),ha(CA,FC)):(K0(A1,-1,iy),K0(SA,-1,iy),K0(CA,-1,TC))):(y_=h_>=0&&ws>=0&&s_>=0,y_?(ha(A1,iy),ha(SA,iy),ha(CA,iy)):(K0(A1,-1,iy),K0(SA,-1,FC),K0(CA,-1,TC))):_e?B_?(y_=h_>=0||ws>=0,y_?(ha(A1,iy),ha(SA,TC),K0(CA,-1,iy)):(K0(A1,-1,iy),ha(SA,iy),K0(CA,-1,iy))):(y_=h_>=0&&ws>=0,y_?(ha(A1,iy),ha(SA,iy),K0(CA,-1,iy)):(K0(A1,-1,iy),ha(SA,iy),K0(CA,-1,TC))):l_?D_?(y_=ws>=0||s_>=0,y_?(ha(A1,iy),K0(SA,-1,iy),ha(CA,FC)):(K0(A1,-1,iy),K0(SA,-1,iy),ha(CA,iy))):(y_=ws>=0&&s_>=0,y_?(ha(A1,iy),K0(SA,-1,iy),ha(CA,iy)):(K0(A1,-1,iy),K0(SA,-1,FC),ha(CA,iy))):(y_=ws>=0,y_?(ha(A1,iy),K0(SA,-1,iy),K0(CA,-1,iy)):(K0(A1,-1,iy),ha(SA,iy),ha(CA,iy))),MA.count=_o.m_count;for(var G_=0;G_<_o.m_count;++G_)ry(MA.vertices[G_],N4,_o.m_vertices[G_]),ZS(MA.normals[G_],N4.q,_o.m_normals[G_]);var q_=_o.m_radius+x.m_radius;V.pointCount=0;{IC.type=XS.e_edgeA,IC.index=y_?0:1,IC.separation=1/0;for(var G_=0;G_<MA.count;++G_){var j_=MA.vertices[G_],_2=y0(A1,j_)-y0(A1,t_);_2<IC.separation&&(IC.separation=_2)}}if(IC.type!=XS.e_unknown&&!(IC.separation>q_)){{mS.type=XS.e_unknown,mS.index=-1,mS.separation=-1/0,LA(rT,-A1.y,A1.x);for(var G_=0;G_<MA.count;++G_){K0(RB,-1,MA.normals[G_]);var m2=y0(RB,MA.vertices[G_])-y0(RB,t_),y2=y0(RB,MA.vertices[G_])-y0(RB,o_),_2=hat(m2,y2);if(_2>q_){mS.type=XS.e_edgeB,mS.index=G_,mS.separation=_2;break}if(y0(RB,rT)>=0){if(y0(RB,A1)-y0(CA,A1)<-w0.angularSlop)continue}else if(y0(RB,A1)-y0(SA,A1)<-w0.angularSlop)continue;_2>mS.separation&&(mS.type=XS.e_edgeB,mS.index=G_,mS.separation=_2)}}if(!(mS.type!=XS.e_unknown&&mS.separation>q_)){var I2=.98,J2=.001,z2;if(mS.type==XS.e_unknown?z2=IC:mS.separation>I2*IC.separation+J2?z2=mS:z2=IC,hC[0].recycle(),hC[1].recycle(),z2.type==XS.e_edgeA){V.type=K1.e_faceA;for(var K2=0,$2=y0(A1,MA.normals[0]),G_=1;G_<MA.count;++G_){var P_=y0(A1,MA.normals[G_]);P_<$2&&($2=P_,K2=G_)}var E_=K2,Z_=E_+1<MA.count?E_+1:0;ha(hC[0].v,MA.vertices[E_]),hC[0].id.setFeatures(0,Yy.e_face,E_,Yy.e_vertex),ha(hC[1].v,MA.vertices[Z_]),hC[1].id.setFeatures(0,Yy.e_face,Z_,Yy.e_vertex),y_?(by.i1=0,by.i2=1,ha(by.v1,t_),ha(by.v2,o_),ha(by.normal,iy)):(by.i1=1,by.i2=0,ha(by.v1,o_),ha(by.v2,t_),K0(by.normal,-1,iy))}else V.type=K1.e_faceB,ha(hC[0].v,t_),hC[0].id.setFeatures(0,Yy.e_vertex,z2.index,Yy.e_face),ha(hC[1].v,o_),hC[1].id.setFeatures(0,Yy.e_vertex,z2.index,Yy.e_face),by.i1=z2.index,by.i2=by.i1+1<MA.count?by.i1+1:0,ha(by.v1,MA.vertices[by.i1]),ha(by.v2,MA.vertices[by.i2]),ha(by.normal,MA.normals[by.i1]);LA(by.sideNormal1,by.normal.y,-by.normal.x),LA(by.sideNormal2,-by.sideNormal1.x,-by.sideNormal1.y),by.sideOffset1=y0(by.sideNormal1,by.v1),by.sideOffset2=y0(by.sideNormal2,by.v2),ID[0].recycle(),ID[1].recycle(),FB[0].recycle(),FB[1].recycle();var N_=H4(ID,hC,by.sideNormal1,by.sideOffset1,by.i1);if(!(N_<w0.maxManifoldPoints)){var s2=H4(FB,ID,by.sideNormal2,by.sideOffset2,by.i2);if(!(s2<w0.maxManifoldPoints)){z2.type==XS.e_edgeA?(ha(V.localNormal,by.normal),ha(V.localPoint,by.v1)):(ha(V.localNormal,_o.m_normals[by.i1]),ha(V.localPoint,_o.m_vertices[by.i1]));for(var u2=0,G_=0;G_<w0.maxManifoldPoints;++G_){var p2=y0(by.normal,FB[G_].v)-y0(by.normal,by.v1);if(p2<=q_){var v_=V.points[u2];z2.type==XS.e_edgeA?(_J(v_.localPoint,N4,FB[G_].v),v_.id.set(FB[G_].id)):(ha(v_.localPoint,FB[G_].v),v_.id.set(FB[G_].id),v_.id.swapFeatures()),++u2}}V.pointCount=u2}}}}};var fct=function(){function V(x,o){this._refMap={},this._map={},this._xmap={},this._data=[],this._entered=[],this._exited=[],this._key=x,this._listener=o}return V.prototype.update=function(x){if(!Array.isArray(x))throw"Invalid data: "+x;this._entered.length=0,this._exited.length=0,this._data.length=x.length;for(var o=0;o<x.length;o++)if(!(typeof x[o]!="object"||x[o]===null)){var _o=x[o],_i=this._key(_o);this._map[_i]?delete this._map[_i]:this._entered.push(_o),this._data[o]=_o,this._xmap[_i]=_o}for(var _i in this._map)this._exited.push(this._map[_i]),delete this._map[_i];var l=this._map;this._map=this._xmap,this._xmap=l;for(var o=0;o<this._exited.length;o++){var _o=this._exited[o],t_=this._key(_o),o_=this._refMap[t_];this._listener.exit(_o,o_),delete this._refMap[t_]}for(var o=0;o<this._entered.length;o++){var _o=this._entered[o],t_=this._key(_o),o_=this._listener.enter(_o);o_&&(this._refMap[t_]=o_)}for(var o=0;o<this._data.length;o++)if(!(typeof x[o]!="object"||x[o]===null)){var _o=this._data[o],t_=this._key(_o),o_=this._refMap[t_];this._listener.update(_o,o_)}this._entered.length=0,this._exited.length=0,this._data.length=0},V.prototype.ref=function(x){return this._refMap[this._key(x)]},V}();var gat=(V,x,o,_o)=>{let _i=new kV({gravity:new e2(V.x,V.y)}),l=_i.createBody({}),t_=new gT(new e2(x.x,x.y),new e2(o.x,o.y));return l.createFixture(t_,_o),{name:"planck.js",createBoxShape(o_,i_){return new AT(o_,i_)},createBoxBody(o_,i_,_e,l_){_i.createBody({type:"dynamic",position:new e2(i_,_e)}).createFixture(o_,l_)},step(o_,i_,_e){_i.step(o_,i_,_e)}}};"requestAnimationFrame"in globalThis&&globalThis.process&&(process.stdout={write(V){return console.log(V),!0}},process.stderr={write(V){return console.error(V),!0}});var $A=_D(VT()),vat=(V,x,o,_o)=>{let _i=new $A.b2World(new $A.b2Vec2(V.x,V.y)),l=_i.CreateBody(new $A.b2BodyDef),t_=new $A.b2EdgeShape;return t_.Set(new $A.b2Vec2(x.x,x.y),new $A.b2Vec2(o.x,o.y)),l.CreateFixture(t_,_o),{name:"box2d.js",createBoxShape(o_,i_){let _e=new $A.b2PolygonShape;return _e.SetAsBox(o_,i_),_e},createBoxBody(o_,i_,_e,l_){let ws=new $A.b2BodyDef;ws.set_type($A.b2_dynamicBody),ws.set_position(new $A.b2Vec2(i_,_e)),_i.CreateBody(ws).CreateFixture(o_,l_)},step(o_,i_,_e){_i.Step(o_,i_,_e)}}};var Aat={lengthUnitsPerMeter:1,maxPolygonVertices:8},uJ={...Aat};var EB=uJ.lengthUnitsPerMeter,kS=uJ.maxPolygonVertices;function S1(V,x){if(!V)throw new Error(x)}function f1(V){if(V===null)throw new Error;return V}var iA=1e37,GA=1e-5,qV=GA*GA,qA=2,kD=.1*EB,hJ=4,_b=.005*EB,gC=2/180*Math.PI,qP=2*_b,MT=8,qD=32,EV=.2*EB,Q4=8/180*Math.PI,Z4=2*EB,dJ=Z4*Z4,K4=.5*Math.PI,yJ=K4*K4,DT=.2,GT=.75,JT=.5,xJ=.01*EB,fJ=2/180*Math.PI;function jB(V,x=0){let o=new Array(V);for(let _o=0;_o<V;_o++)o[_o]=x;return o}function C1(V,x){let o=new Array(V);for(let _o=0;_o<V;_o++)o[_o]=new x;return o}var Rct=Math.PI/180,Lct=180/Math.PI,IT=2*Math.PI;function lA(V,x,o){return V<x?x:V>o?o:V}var m_=class V{static{this.ZERO=new V}static{this.UNITX=new V(1,0)}static{this.UNITY=new V(0,1)}static{this.s_t0=new V}static{this.s_t1=new V}static{this.s_t2=new V}static{this.s_t3=new V}constructor(x=0,o=0){this.x=x,this.y=o}Clone(){return new V(this.x,this.y)}SetZero(){return this.x=0,this.y=0,this}Set(x,o){return this.x=x,this.y=o,this}Copy(x){return this.x=x.x,this.y=x.y,this}Add(x){return this.x+=x.x,this.y+=x.y,this}AddXY(x,o){return this.x+=x,this.y+=o,this}Subtract(x){return this.x-=x.x,this.y-=x.y,this}SubtractXY(x,o){return this.x-=x,this.y-=o,this}Scale(x){return this.x*=x,this.y*=x,this}AddScaled(x,o){return this.x+=x*o.x,this.y+=x*o.y,this}SubtractScaled(x,o){return this.x-=x*o.x,this.y-=x*o.y,this}Dot(x){return this.x*x.x+this.y*x.y}Cross(x){return this.x*x.y-this.y*x.x}Length(){let{x,y:o}=this;return Math.sqrt(x*x+o*o)}LengthSquared(){let{x,y:o}=this;return x*x+o*o}Normalize(){let x=this.Length();if(x<GA)return 0;let o=1/x;return this.x*=o,this.y*=o,x}Rotate(x){let o=Math.cos(x),_o=Math.sin(x),{x:_i}=this;return this.x=o*_i-_o*this.y,this.y=_o*_i+o*this.y,this}RotateCosSin(x,o){let{x:_o}=this;return this.x=x*_o-o*this.y,this.y=o*_o+x*this.y,this}IsValid(){return Number.isFinite(this.x)&&Number.isFinite(this.y)}Abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}GetAbs(x){return x.x=Math.abs(this.x),x.y=Math.abs(this.y),x}Negate(){return this.x=-this.x,this.y=-this.y,this}Skew(){let{x}=this;return this.x=-this.y,this.y=x,this}static Min(x,o,_o){return _o.x=Math.min(x.x,o.x),_o.y=Math.min(x.y,o.y),_o}static Max(x,o,_o){return _o.x=Math.max(x.x,o.x),_o.y=Math.max(x.y,o.y),_o}static Clamp(x,o,_o,_i){return _i.x=lA(x.x,o.x,_o.x),_i.y=lA(x.y,o.y,_o.y),_i}static Rotate(x,o,_o){let _i=x.x,l=x.y,t_=Math.cos(o),o_=Math.sin(o);return _o.x=t_*_i-o_*l,_o.y=o_*_i+t_*l,_o}static Dot(x,o){return x.x*o.x+x.y*o.y}static Cross(x,o){return x.x*o.y-x.y*o.x}static CrossVec2Scalar(x,o,_o){let _i=x.x;return _o.x=o*x.y,_o.y=-o*_i,_o}static CrossVec2One(x,o){let _o=x.x;return o.x=x.y,o.y=-_o,o}static CrossScalarVec2(x,o,_o){let _i=o.x;return _o.x=-x*o.y,_o.y=x*_i,_o}static CrossOneVec2(x,o){let _o=x.x;return o.x=-x.y,o.y=_o,o}static Add(x,o,_o){return _o.x=x.x+o.x,_o.y=x.y+o.y,_o}static Subtract(x,o,_o){return _o.x=x.x-o.x,_o.y=x.y-o.y,_o}static Scale(x,o,_o){return _o.x=o.x*x,_o.y=o.y*x,_o}static AddScaled(x,o,_o,_i){return _i.x=x.x+o*_o.x,_i.y=x.y+o*_o.y,_i}static SubtractScaled(x,o,_o,_i){return _i.x=x.x-o*_o.x,_i.y=x.y-o*_o.y,_i}static AddCrossScalarVec2(x,o,_o,_i){let l=_o.x;return _i.x=x.x-o*_o.y,_i.y=x.y+o*l,_i}static Mid(x,o,_o){return _o.x=(x.x+o.x)*.5,_o.y=(x.y+o.y)*.5,_o}static Extents(x,o,_o){return _o.x=(o.x-x.x)*.5,_o.y=(o.y-x.y)*.5,_o}static Equals(x,o){return x.x===o.x&&x.y===o.y}static Distance(x,o){return Math.sqrt((x.x-o.x)**2+(x.y-o.y)**2)}static DistanceSquared(x,o){return(x.x-o.x)**2+(x.y-o.y)**2}static Negate(x,o){return o.x=-x.x,o.y=-x.y,o}static Normalize(x,o){let _o=x.x**2+x.y**2;if(_o>=qV){let _i=1/Math.sqrt(_o);o.x=_i*x.x,o.y=_i*x.y}else o.x=0,o.y=0;return o}static Skew(x,o){let{x:_o}=x;return o.x=-x.y,o.y=_o,o}},bS=class V{static{this.ZERO=new V(0,0,0)}static{this.s_t0=new V}constructor(x=0,o=0,_o=0){this.x=x,this.y=o,this.z=_o}Clone(){return new V(this.x,this.y,this.z)}SetZero(){return this.x=0,this.y=0,this.z=0,this}Set(x,o,_o){return this.x=x,this.y=o,this.z=_o,this}Copy(x){return this.x=x.x,this.y=x.y,this.z=x.z,this}Negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}Add(x){return this.x+=x.x,this.y+=x.y,this.z+=x.z,this}AddXYZ(x,o,_o){return this.x+=x,this.y+=o,this.z+=_o,this}Subtract(x){return this.x-=x.x,this.y-=x.y,this.z-=x.z,this}SubtractXYZ(x,o,_o){return this.x-=x,this.y-=o,this.z-=_o,this}Scale(x){return this.x*=x,this.y*=x,this.z*=x,this}static Dot(x,o){return x.x*o.x+x.y*o.y+x.z*o.z}static Cross(x,o,_o){let _i=x.x,l=x.y,t_=x.z,o_=o.x,i_=o.y,_e=o.z;return _o.x=l*_e-t_*i_,_o.y=t_*o_-_i*_e,_o.z=_i*i_-l*o_,_o}},rA=class V{constructor(){this.ex=new m_(1,0);this.ey=new m_(0,1)}static{this.IDENTITY=new V}Clone(){return new V().Copy(this)}static FromColumns(x,o){return new V().SetColumns(x,o)}static FromScalars(x,o,_o,_i){return new V().SetScalars(x,o,_o,_i)}static FromAngle(x){return new V().SetAngle(x)}SetScalars(x,o,_o,_i){return this.ex.Set(x,_o),this.ey.Set(o,_i),this}SetColumns(x,o){return this.ex.Copy(x),this.ey.Copy(o),this}SetAngle(x){let o=Math.cos(x),_o=Math.sin(x);return this.ex.Set(o,_o),this.ey.Set(-_o,o),this}Copy(x){return this.ex.Copy(x.ex),this.ey.Copy(x.ey),this}SetIdentity(){return this.ex.Set(1,0),this.ey.Set(0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this}GetAngle(){return Math.atan2(this.ex.y,this.ex.x)}Solve(x,o,_o){let _i=this.ex.x,l=this.ey.x,t_=this.ex.y,o_=this.ey.y,i_=_i*o_-l*t_;return i_!==0&&(i_=1/i_),_o.x=i_*(o_*x-l*o),_o.y=i_*(_i*o-t_*x),_o}Abs(){return this.ex.Abs(),this.ey.Abs(),this}Inverse(){return this.GetInverse(this),this}Add(x){return this.ex.Add(x.ex),this.ey.Add(x.ey),this}Subtract(x){return this.ex.Subtract(x.ex),this.ey.Subtract(x.ey),this}GetInverse(x){let o=this.ex.x,_o=this.ey.x,_i=this.ex.y,l=this.ey.y,t_=o*l-_o*_i;return t_!==0&&(t_=1/t_),x.ex.x=t_*l,x.ey.x=-t_*_o,x.ex.y=-t_*_i,x.ey.y=t_*o,x}GetAbs(x){return x.ex.x=Math.abs(this.ex.x),x.ex.y=Math.abs(this.ex.y),x.ey.x=Math.abs(this.ey.x),x.ey.y=Math.abs(this.ey.y),x}static MultiplyVec2(x,o,_o){let _i=o.x,l=o.y;return _o.x=x.ex.x*_i+x.ey.x*l,_o.y=x.ex.y*_i+x.ey.y*l,_o}static TransposeMultiplyVec2(x,o,_o){let _i=o.x,l=o.y;return _o.x=x.ex.x*_i+x.ex.y*l,_o.y=x.ey.x*_i+x.ey.y*l,_o}static Add(x,o,_o){return _o.ex.x=x.ex.x+o.ex.x,_o.ex.y=x.ex.y+o.ex.y,_o.ey.x=x.ey.x+o.ey.x,_o.ey.y=x.ey.y+o.ey.y,_o}static Multiply(x,o,_o){let _i=x.ex.x,l=x.ex.y,t_=x.ey.x,o_=x.ey.y,i_=o.ex.x,_e=o.ex.y,l_=o.ey.x,ws=o.ey.y;return _o.ex.x=_i*i_+t_*_e,_o.ex.y=l*i_+o_*_e,_o.ey.x=_i*l_+t_*ws,_o.ey.y=l*l_+o_*ws,_o}static TransposeMultiply(x,o,_o){let _i=x.ex.x,l=x.ex.y,t_=x.ey.x,o_=x.ey.y,i_=o.ex.x,_e=o.ex.y,l_=o.ey.x,ws=o.ey.y;return _o.ex.x=_i*i_+l*_e,_o.ex.y=t_*i_+o_*_e,_o.ey.x=_i*l_+l*ws,_o.ey.y=t_*l_+o_*ws,_o}},bB=class V{constructor(){this.ex=new bS(1,0,0);this.ey=new bS(0,1,0);this.ez=new bS(0,0,1)}static{this.IDENTITY=new V}Clone(){return new V().Copy(this)}SetColumns(x,o,_o){return this.ex.Copy(x),this.ey.Copy(o),this.ez.Copy(_o),this}Copy(x){return this.ex.Copy(x.ex),this.ey.Copy(x.ey),this.ez.Copy(x.ez),this}SetIdentity(){return this.ex.Set(1,0,0),this.ey.Set(0,1,0),this.ez.Set(0,0,1),this}SetZero(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this}Add(x){return this.ex.Add(x.ex),this.ey.Add(x.ey),this.ez.Add(x.ez),this}Solve33(x,o,_o,_i){let l=this.ex.x,t_=this.ex.y,o_=this.ex.z,i_=this.ey.x,_e=this.ey.y,l_=this.ey.z,ws=this.ez.x,h_=this.ez.y,s_=this.ez.z,B_=l*(_e*s_-l_*h_)+t_*(l_*ws-i_*s_)+o_*(i_*h_-_e*ws);return B_!==0&&(B_=1/B_),_i.x=B_*(x*(_e*s_-l_*h_)+o*(l_*ws-i_*s_)+_o*(i_*h_-_e*ws)),_i.y=B_*(l*(o*s_-_o*h_)+t_*(_o*ws-x*s_)+o_*(x*h_-o*ws)),_i.z=B_*(l*(_e*_o-l_*o)+t_*(l_*x-i_*_o)+o_*(i_*o-_e*x)),_i}Solve22(x,o,_o){let _i=this.ex.x,l=this.ey.x,t_=this.ex.y,o_=this.ey.y,i_=_i*o_-l*t_;return i_!==0&&(i_=1/i_),_o.x=i_*(o_*x-l*o),_o.y=i_*(_i*o-t_*x),_o}GetInverse22(x){let o=this.ex.x,_o=this.ey.x,_i=this.ex.y,l=this.ey.y,t_=o*l-_o*_i;t_!==0&&(t_=1/t_),x.ex.x=t_*l,x.ey.x=-t_*_o,x.ex.z=0,x.ex.y=-t_*_i,x.ey.y=t_*o,x.ey.z=0,x.ez.x=0,x.ez.y=0,x.ez.z=0}GetSymInverse33(x){let o=bS.Dot(this.ex,bS.Cross(this.ey,this.ez,bS.s_t0));o!==0&&(o=1/o);let _o=this.ex.x,_i=this.ey.x,l=this.ez.x,t_=this.ey.y,o_=this.ez.y,i_=this.ez.z;x.ex.x=o*(t_*i_-o_*o_),x.ex.y=o*(l*o_-_i*i_),x.ex.z=o*(_i*o_-l*t_),x.ey.x=x.ex.y,x.ey.y=o*(_o*i_-l*l),x.ey.z=o*(l*_i-_o*o_),x.ez.x=x.ex.z,x.ez.y=x.ey.z,x.ez.z=o*(_o*t_-_i*_i)}static MultiplyVec3(x,o,_o){let{x:_i,y:l,z:t_}=o;return _o.x=x.ex.x*_i+x.ey.x*l+x.ez.x*t_,_o.y=x.ex.y*_i+x.ey.y*l+x.ez.y*t_,_o.z=x.ex.z*_i+x.ey.z*l+x.ez.z*t_,_o}static MultiplyVec2(x,o,_o){let{x:_i,y:l}=o;return _o.x=x.ex.x*_i+x.ey.x*l,_o.y=x.ex.y*_i+x.ey.y*l,_o}},Ya=class V{constructor(x=0){this.s=0;this.c=1;x&&(this.s=Math.sin(x),this.c=Math.cos(x))}static{this.IDENTITY=new V}Clone(){return new V().Copy(this)}Copy(x){return this.s=x.s,this.c=x.c,this}Set(x){return this.s=Math.sin(x),this.c=Math.cos(x),this}SetIdentity(){return this.s=0,this.c=1,this}GetAngle(){return Math.atan2(this.s,this.c)}GetXAxis(x){return x.x=this.c,x.y=this.s,x}GetYAxis(x){return x.x=-this.s,x.y=this.c,x}static Multiply(x,o,_o){let _i=x.s*o.c+x.c*o.s,l=x.c*o.c-x.s*o.s;return _o.s=_i,_o.c=l,_o}static TransposeMultiply(x,o,_o){let _i=x.c*o.s-x.s*o.c,l=x.c*o.c+x.s*o.s;return _o.s=_i,_o.c=l,_o}static MultiplyVec2(x,o,_o){let _i=o.x,l=o.y;return _o.x=x.c*_i-x.s*l,_o.y=x.s*_i+x.c*l,_o}static TransposeMultiplyVec2(x,o,_o){let _i=o.x,l=o.y;return _o.x=x.c*_i+x.s*l,_o.y=-x.s*_i+x.c*l,_o}},s0=class V{constructor(){this.p=new m_;this.q=new Ya}static{this.IDENTITY=new V}Clone(){return new V().Copy(this)}Copy(x){return this.p.Copy(x.p),this.q.Copy(x.q),this}SetIdentity(){return this.p.SetZero(),this.q.SetIdentity(),this}SetPositionRotation(x,o){return this.p.Copy(x),this.q.Copy(o),this}SetPositionAngle(x,o){return this.p.Copy(x),this.q.Set(o),this}SetPosition(x){return this.p.Copy(x),this}SetPositionXY(x,o){return this.p.Set(x,o),this}SetRotation(x){return this.q.Copy(x),this}SetRotationAngle(x){return this.q.Set(x),this}GetPosition(){return this.p}GetRotation(){return this.q}GetAngle(){return this.q.GetAngle()}static MultiplyVec2(x,o,_o){let _i=o.x,l=o.y;return _o.x=x.q.c*_i-x.q.s*l+x.p.x,_o.y=x.q.s*_i+x.q.c*l+x.p.y,_o}static TransposeMultiplyVec2(x,o,_o){let _i=o.x-x.p.x,l=o.y-x.p.y;return _o.x=x.q.c*_i+x.q.s*l,_o.y=-x.q.s*_i+x.q.c*l,_o}static Multiply(x,o,_o){return Ya.Multiply(x.q,o.q,_o.q),Ya.MultiplyVec2(x.q,o.p,_o.p).Add(x.p),_o}static TransposeMultiply(x,o,_o){return Ya.TransposeMultiply(x.q,o.q,_o.q),Ya.TransposeMultiplyVec2(x.q,m_.Subtract(o.p,x.p,_o.p),_o.p),_o}},uS=class V{constructor(){this.localCenter=new m_;this.c0=new m_;this.c=new m_;this.a0=0;this.a=0;this.alpha0=0}Clone(){return new V().Copy(this)}Copy(x){return this.localCenter.Copy(x.localCenter),this.c0.Copy(x.c0),this.c.Copy(x.c),this.a0=x.a0,this.a=x.a,this.alpha0=x.alpha0,this}GetTransform(x,o){let _o=1-o;x.p.x=_o*this.c0.x+o*this.c.x,x.p.y=_o*this.c0.y+o*this.c.y;let _i=_o*this.a0+o*this.a;return x.q.Set(_i),x.p.Subtract(Ya.MultiplyVec2(x.q,this.localCenter,m_.s_t0)),x}Advance(x){let o=(x-this.alpha0)/(1-this.alpha0);this.c0.x+=o*(this.c.x-this.c0.x),this.c0.y+=o*(this.c.y-this.c0.y),this.a0+=o*(this.a-this.a0),this.alpha0=x}Normalize(){let x=IT*Math.floor(this.a0/IT);this.a0-=x,this.a-=x}};var mA=class V{static{this.ZERO=new V(0,0,0,0)}static{this.RED=new V(1,0,0)}static{this.GREEN=new V(0,1,0)}static{this.BLUE=new V(0,0,1)}static{this.WHITE=new V(1,1,1)}static{this.BLACK=new V(0,0,0)}constructor(x=.5,o=.5,_o=.5,_i=1){this.r=x,this.g=o,this.b=_o,this.a=_i}Clone(){return new V(this.r,this.g,this.b,this.a)}Copy(x){return this.r=x.r,this.g=x.g,this.b=x.b,this.a=x.a,this}IsEqual(x){return this.r===x.r&&this.g===x.g&&this.b===x.b&&this.a===x.a}IsZero(){return this.r===0&&this.g===0&&this.b===0&&this.a===0}SetByteRGB(x,o,_o){return this.r=x/255,this.g=o/255,this.b=_o/255,this}SetByteRGBA(x,o,_o,_i){return this.r=x/255,this.g=o/255,this.b=_o/255,this.a=_i/255,this}SetRGB(x,o,_o){return this.r=x,this.g=o,this.b=_o,this}SetRGBA(x,o,_o,_i){return this.r=x,this.g=o,this.b=_o,this.a=_i,this}Add(x){return this.r+=x.r,this.g+=x.g,this.b+=x.b,this.a+=x.a,this}Subtract(x){return this.r-=x.r,this.g-=x.g,this.b-=x.b,this.a-=x.a,this}Scale(x){return this.r*=x,this.g*=x,this.b*=x,this.a*=x,this}Mix(x,o){V.MixColors(this,x,o)}static Add(x,o,_o){return _o.r=x.r+o.r,_o.g=x.g+o.g,_o.b=x.b+o.b,_o.a=x.a+o.a,_o}static Subtract(x,o,_o){return _o.r=x.r-o.r,_o.g=x.g-o.g,_o.b=x.b-o.b,_o.a=x.a-o.a,_o}static Scale(x,o,_o){return _o.r=x.r*o,_o.g=x.g*o,_o.b=x.b*o,_o.a=x.a*o,_o}static MixColors(x,o,_o){let _i=_o*(o.r-x.r),l=_o*(o.g-x.g),t_=_o*(o.b-x.b),o_=_o*(o.a-x.a);x.r+=_i,x.g+=l,x.b+=t_,x.a+=o_,o.r-=_i,o.g-=l,o.b-=t_,o.a-=o_}},uy={badBody:new mA(1,0,0),disabledBody:new mA(.5,.5,.3),staticBody:new mA(.5,.9,.5),kinematicBody:new mA(.5,.5,.9),sleepingBody:new mA(.6,.6,.6),body:new mA(.9,.7,.7),pair:new mA(.3,.9,.9),aabb:new mA(.9,.3,.9),joint1:new mA(.7,.7,.7),joint2:new mA(.3,.9,.3),joint3:new mA(.9,.3,.3),joint4:new mA(.3,.3,.9),joint5:new mA(.4,.4,.4),joint6:new mA(.5,.8,.8),joint7:new mA(0,1,0),joint8:new mA(.8,.8,.8),rope:new mA(.4,.5,.7),ropePointG:new mA(.1,.8,.1),ropePointD:new mA(.7,.2,.4)};var jV=class{constructor(){this.mass=0;this.center=new m_;this.I=0}};var qC=class{constructor(x,o){this.m_radius=0;this.m_type=x,this.m_radius=o}Copy(x){return this.m_radius=x.m_radius,this}GetType(){return this.m_type}};var EP=class{constructor(){this.m_buffer=C1(2,m_);this.m_vertices=this.m_buffer;this.m_count=0;this.m_radius=0}Copy(x){return x.m_vertices===x.m_buffer?(this.m_vertices=this.m_buffer,this.m_buffer[0]=x.m_buffer[0],this.m_buffer[1]=x.m_buffer[1]):this.m_vertices=x.m_vertices,this.m_count=x.m_count,this.m_radius=x.m_radius,this}Reset(){return this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0,this}SetShape(x,o){x.SetupDistanceProxy(this,o)}SetVerticesRadius(x,o,_o){this.m_vertices=x,this.m_count=o,this.m_radius=_o}GetSupport(x){let o=0,_o=m_.Dot(this.m_vertices[0],x);for(let _i=1;_i<this.m_count;++_i){let l=m_.Dot(this.m_vertices[_i],x);l>_o&&(o=_i,_o=l)}return o}GetSupportVertex(x){let o=0,_o=m_.Dot(this.m_vertices[0],x);for(let _i=1;_i<this.m_count;++_i){let l=m_.Dot(this.m_vertices[_i],x);l>_o&&(o=_i,_o=l)}return this.m_vertices[o]}GetVertexCount(){return this.m_count}GetVertex(x){return this.m_vertices[x]}},zV=class{constructor(){this.metric=0;this.count=0;this.indexA=[0,0,0];this.indexB=[0,0,0]}Reset(){return this.metric=0,this.count=0,this}},WV=class{constructor(){this.proxyA=new EP;this.proxyB=new EP;this.transformA=new s0;this.transformB=new s0;this.useRadii=!1}Reset(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this}},NV=class{constructor(){this.pointA=new m_;this.pointB=new m_;this.distance=0;this.iterations=0}Reset(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this}};var ED={calls:0,iters:0,maxIters:0,reset(){this.calls=0,this.iters=0,this.maxIters=0}},$4=class{constructor(){this.wA=new m_;this.wB=new m_;this.w=new m_;this.a=0;this.indexA=0;this.indexB=0}Copy(x){return this.wA.Copy(x.wA),this.wB.Copy(x.wB),this.w.Copy(x.w),this.a=x.a,this.indexA=x.indexA,this.indexB=x.indexB,this}},jD=class V{constructor(){this.m_v1=new $4;this.m_v2=new $4;this.m_v3=new $4;this.m_count=0;this.m_vertices=[this.m_v1,this.m_v2,this.m_v3]}ReadCache(x,o,_o,_i,l){this.m_count=x.count;let t_=this.m_vertices;for(let o_=0;o_<this.m_count;++o_){let i_=t_[o_];i_.indexA=x.indexA[o_],i_.indexB=x.indexB[o_];let _e=o.GetVertex(i_.indexA),l_=_i.GetVertex(i_.indexB);s0.MultiplyVec2(_o,_e,i_.wA),s0.MultiplyVec2(l,l_,i_.wB),m_.Subtract(i_.wB,i_.wA,i_.w),i_.a=0}if(this.m_count>1){let o_=x.metric,i_=this.GetMetric();(i_<.5*o_||2*o_<i_||i_<GA)&&(this.m_count=0)}if(this.m_count===0){let o_=t_[0];o_.indexA=0,o_.indexB=0;let i_=o.GetVertex(0),_e=_i.GetVertex(0);s0.MultiplyVec2(_o,i_,o_.wA),s0.MultiplyVec2(l,_e,o_.wB),m_.Subtract(o_.wB,o_.wA,o_.w),o_.a=1,this.m_count=1}}WriteCache(x){x.metric=this.GetMetric(),x.count=this.m_count;let o=this.m_vertices;for(let _o=0;_o<this.m_count;++_o)x.indexA[_o]=o[_o].indexA,x.indexB[_o]=o[_o].indexB}GetSearchDirection(x){switch(this.m_count){case 1:return m_.Negate(this.m_v1.w,x);case 2:{let o=m_.Subtract(this.m_v2.w,this.m_v1.w,x);return m_.Cross(o,m_.Negate(this.m_v1.w,m_.s_t0))>0?m_.CrossOneVec2(o,x):m_.CrossVec2One(o,x)}default:return x.SetZero()}}GetClosestPoint(x){switch(this.m_count){case 0:return x.SetZero();case 1:return x.Copy(this.m_v1.w);case 2:return x.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:return x.SetZero();default:return x.SetZero()}}GetWitnessPoints(x,o){switch(this.m_count){case 0:break;case 1:x.Copy(this.m_v1.wA),o.Copy(this.m_v1.wB);break;case 2:x.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,x.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,o.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,o.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:o.x=x.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,o.y=x.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:break}}GetMetric(){switch(this.m_count){case 0:return 0;case 1:return 0;case 2:return m_.Distance(this.m_v1.w,this.m_v2.w);case 3:return m_.Cross(m_.Subtract(this.m_v2.w,this.m_v1.w,m_.s_t0),m_.Subtract(this.m_v3.w,this.m_v1.w,m_.s_t1));default:return 0}}Solve2(){let x=this.m_v1.w,o=this.m_v2.w,_o=m_.Subtract(o,x,V.s_e12),_i=-m_.Dot(x,_o);if(_i<=0){this.m_v1.a=1,this.m_count=1;return}let l=m_.Dot(o,_o);if(l<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2);return}let t_=1/(l+_i);this.m_v1.a=l*t_,this.m_v2.a=_i*t_,this.m_count=2}Solve3(){let x=this.m_v1.w,o=this.m_v2.w,_o=this.m_v3.w,_i=m_.Subtract(o,x,V.s_e12),l=m_.Dot(x,_i),o_=m_.Dot(o,_i),i_=-l,_e=m_.Subtract(_o,x,V.s_e13),l_=m_.Dot(x,_e),h_=m_.Dot(_o,_e),s_=-l_,B_=m_.Subtract(_o,o,V.s_e23),D_=m_.Dot(o,B_),G_=m_.Dot(_o,B_),q_=-D_,j_=m_.Cross(_i,_e),_2=j_*m_.Cross(o,_o),m2=j_*m_.Cross(_o,x),y2=j_*m_.Cross(x,o);if(i_<=0&&s_<=0){this.m_v1.a=1,this.m_count=1;return}if(o_>0&&i_>0&&y2<=0){let J2=1/(o_+i_);this.m_v1.a=o_*J2,this.m_v2.a=i_*J2,this.m_count=2;return}if(h_>0&&s_>0&&m2<=0){let J2=1/(h_+s_);this.m_v1.a=h_*J2,this.m_v3.a=s_*J2,this.m_count=2,this.m_v2.Copy(this.m_v3);return}if(o_<=0&&q_<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2);return}if(h_<=0&&G_<=0){this.m_v3.a=1,this.m_count=1,this.m_v1.Copy(this.m_v3);return}if(G_>0&&q_>0&&_2<=0){let J2=1/(G_+q_);this.m_v2.a=G_*J2,this.m_v3.a=q_*J2,this.m_count=2,this.m_v1.Copy(this.m_v3);return}let I2=1/(_2+m2+y2);this.m_v1.a=_2*I2,this.m_v2.a=m2*I2,this.m_v3.a=y2*I2,this.m_count=3}static{this.s_e12=new m_}static{this.s_e13=new m_}static{this.s_e23=new m_}},Sat=new jD,Cat=[0,0,0],Bat=[0,0,0],Pat=new m_,wat=new m_,Vat=new m_,Mat=new m_,Dat=new m_;function zD(V,x,o){++ED.calls;let{proxyA:_o,proxyB:_i,transformA:l,transformB:t_}=o,o_=Sat;o_.ReadCache(x,_o,l,_i,t_);let i_=o_.m_vertices,_e=20,l_=Cat,ws=Bat,h_=0,s_=0;for(;s_<_e;){h_=o_.m_count;for(let G_=0;G_<h_;++G_)l_[G_]=i_[G_].indexA,ws[G_]=i_[G_].indexB;switch(o_.m_count){case 1:break;case 2:o_.Solve2();break;case 3:o_.Solve3();break}if(o_.m_count===3)break;let B_=o_.GetSearchDirection(wat);if(B_.LengthSquared()<qV)break;let D_=i_[o_.m_count];D_.indexA=_o.GetSupport(Ya.TransposeMultiplyVec2(l.q,m_.Negate(B_,m_.s_t0),Mat)),s0.MultiplyVec2(l,_o.GetVertex(D_.indexA),D_.wA),D_.indexB=_i.GetSupport(Ya.TransposeMultiplyVec2(t_.q,B_,Dat)),s0.MultiplyVec2(t_,_i.GetVertex(D_.indexB),D_.wB),m_.Subtract(D_.wB,D_.wA,D_.w),++s_,++ED.iters;let y_=!1;for(let G_=0;G_<h_;++G_)if(D_.indexA===l_[G_]&&D_.indexB===ws[G_]){y_=!0;break}if(y_)break;++o_.m_count}if(ED.maxIters=Math.max(ED.maxIters,s_),o_.GetWitnessPoints(V.pointA,V.pointB),V.distance=m_.Distance(V.pointA,V.pointB),V.iterations=s_,o_.WriteCache(x),o.useRadii)if(V.distance<GA){let B_=m_.Mid(V.pointA,V.pointB,Pat);V.pointA.Copy(B_),V.pointB.Copy(B_),V.distance=0}else{let B_=_o.m_radius,D_=_i.m_radius,y_=m_.Subtract(V.pointB,V.pointA,Vat);y_.Normalize(),V.distance=Math.max(0,V.distance-B_-D_),V.pointA.AddScaled(B_,y_),V.pointB.SubtractScaled(D_,y_)}}var Uct=new m_,Xct=new jD,Yct=new m_,Hct=new m_,Zct=new m_,Kct=new m_,Qct=new m_,$ct=new m_;var gJ=class{constructor(){this.m_key=0;this.m_key_invalid=!1;this.m_indexA=0;this.m_indexB=0;this.m_typeA=0;this.m_typeB=0}get key(){return this.m_key_invalid&&(this.m_key_invalid=!1,this.m_key=this.m_indexA|this.m_indexB<<8|this.m_typeA<<16|this.m_typeB<<24),this.m_key}set key(x){this.m_key=x,this.m_key_invalid=!1,this.m_indexA=this.m_key&255,this.m_indexB=this.m_key>>8&255,this.m_typeA=this.m_key>>16&255,this.m_typeB=this.m_key>>24&255}get indexA(){return this.m_indexA}set indexA(x){this.m_indexA=x,this.m_key_invalid=!0}get indexB(){return this.m_indexB}set indexB(x){this.m_indexB=x,this.m_key_invalid=!0}get typeA(){return this.m_typeA}set typeA(x){this.m_typeA=x,this.m_key_invalid=!0}get typeB(){return this.m_typeB}set typeB(x){this.m_typeB=x,this.m_key_invalid=!0}},OV=class V{constructor(){this.cf=new gJ}Copy(x){return this.key=x.key,this}Clone(){return new V().Copy(this)}get key(){return this.cf.key}set key(x){this.cf.key=x}},vJ=class{constructor(){this.localPoint=new m_;this.normalImpulse=0;this.tangentImpulse=0;this.id=new OV}Reset(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0}Copy(x){return this.localPoint.Copy(x.localPoint),this.normalImpulse=x.normalImpulse,this.tangentImpulse=x.tangentImpulse,this.id.Copy(x.id),this}};var eM=class V{constructor(){this.points=C1(qA,vJ);this.localNormal=new m_;this.localPoint=new m_;this.type=0;this.pointCount=0}Reset(){for(let x=0;x<qA;++x)this.points[x].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=0,this.pointCount=0}Copy(x){this.pointCount=x.pointCount;for(let o=0;o<qA;++o)this.points[o].Copy(x.points[o]);return this.localNormal.Copy(x.localNormal),this.localPoint.Copy(x.localPoint),this.type=x.type,this}Clone(){return new V().Copy(this)}},WD=class V{constructor(){this.normal=new m_;this.points=C1(qA,m_);this.separations=jB(qA)}static{this.Initialize_s_pointA=new m_}static{this.Initialize_s_pointB=new m_}static{this.Initialize_s_cA=new m_}static{this.Initialize_s_cB=new m_}static{this.Initialize_s_planePoint=new m_}static{this.Initialize_s_clipPoint=new m_}Initialize(x,o,_o,_i,l){if(x.pointCount!==0)switch(x.type){case 0:{this.normal.Set(1,0);let t_=s0.MultiplyVec2(o,x.localPoint,V.Initialize_s_pointA),o_=s0.MultiplyVec2(_i,x.points[0].localPoint,V.Initialize_s_pointB);m_.DistanceSquared(t_,o_)>qV&&m_.Subtract(o_,t_,this.normal).Normalize();let i_=m_.AddScaled(t_,_o,this.normal,V.Initialize_s_cA),_e=m_.SubtractScaled(o_,l,this.normal,V.Initialize_s_cB);m_.Mid(i_,_e,this.points[0]),this.separations[0]=m_.Dot(m_.Subtract(_e,i_,m_.s_t0),this.normal);break}case 1:{Ya.MultiplyVec2(o.q,x.localNormal,this.normal);let t_=s0.MultiplyVec2(o,x.localPoint,V.Initialize_s_planePoint);for(let o_=0;o_<x.pointCount;++o_){let i_=s0.MultiplyVec2(_i,x.points[o_].localPoint,V.Initialize_s_clipPoint),_e=_o-m_.Dot(m_.Subtract(i_,t_,m_.s_t0),this.normal),l_=m_.AddScaled(i_,_e,this.normal,V.Initialize_s_cA),ws=m_.SubtractScaled(i_,l,this.normal,V.Initialize_s_cB);m_.Mid(l_,ws,this.points[o_]),this.separations[o_]=m_.Dot(m_.Subtract(ws,l_,m_.s_t0),this.normal)}break}case 2:{Ya.MultiplyVec2(_i.q,x.localNormal,this.normal);let t_=s0.MultiplyVec2(_i,x.localPoint,V.Initialize_s_planePoint);for(let o_=0;o_<x.pointCount;++o_){let i_=s0.MultiplyVec2(o,x.points[o_].localPoint,V.Initialize_s_clipPoint),_e=l-m_.Dot(m_.Subtract(i_,t_,m_.s_t0),this.normal),l_=m_.AddScaled(i_,_e,this.normal,V.Initialize_s_cB),ws=m_.SubtractScaled(i_,_o,this.normal,V.Initialize_s_cA);m_.Mid(ws,l_,this.points[o_]),this.separations[o_]=m_.Dot(m_.Subtract(ws,l_,m_.s_t0),this.normal)}this.normal.Negate();break}}}};var tS=class{constructor(){this.v=new m_;this.id=new OV}Copy(x){return this.v.Copy(x.v),this.id.Copy(x.id),this}},UV=class{constructor(){this.p1=new m_;this.p2=new m_;this.maxFraction=1}Copy(x){return this.p1.Copy(x.p1),this.p2.Copy(x.p2),this.maxFraction=x.maxFraction,this}},ND=class{constructor(){this.normal=new m_;this.fraction=0}Copy(x){return this.normal.Copy(x.normal),this.fraction=x.fraction,this}},eS=class{constructor(){this.lowerBound=new m_;this.upperBound=new m_}Copy(x){return this.lowerBound.Copy(x.lowerBound),this.upperBound.Copy(x.upperBound),this}IsValid(){return this.lowerBound.IsValid()&&this.upperBound.IsValid()&&this.upperBound.x>=this.lowerBound.x&&this.upperBound.y>=this.lowerBound.y}GetCenter(x){return m_.Mid(this.lowerBound,this.upperBound,x)}GetExtents(x){return m_.Extents(this.lowerBound,this.upperBound,x)}GetPerimeter(){let x=this.upperBound.x-this.lowerBound.x,o=this.upperBound.y-this.lowerBound.y;return 2*(x+o)}Combine1(x){return this.lowerBound.x=Math.min(this.lowerBound.x,x.lowerBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,x.lowerBound.y),this.upperBound.x=Math.max(this.upperBound.x,x.upperBound.x),this.upperBound.y=Math.max(this.upperBound.y,x.upperBound.y),this}Combine2(x,o){return this.lowerBound.x=Math.min(x.lowerBound.x,o.lowerBound.x),this.lowerBound.y=Math.min(x.lowerBound.y,o.lowerBound.y),this.upperBound.x=Math.max(x.upperBound.x,o.upperBound.x),this.upperBound.y=Math.max(x.upperBound.y,o.upperBound.y),this}static Combine(x,o,_o){return _o.Combine2(x,o),_o}Contains(x){return this.lowerBound.x<=x.lowerBound.x&&this.lowerBound.y<=x.lowerBound.y&&x.upperBound.x<=this.upperBound.x&&x.upperBound.y<=this.upperBound.y}RayCast(x,o){let _o=-iA,_i=iA,l=o.p1.x,t_=o.p1.y,o_=o.p2.x-o.p1.x,i_=o.p2.y-o.p1.y,_e=Math.abs(o_),l_=Math.abs(i_),{normal:ws}=x;if(_e<GA){if(l<this.lowerBound.x||this.upperBound.x<l)return!1}else{let h_=1/o_,s_=(this.lowerBound.x-l)*h_,B_=(this.upperBound.x-l)*h_,D_=-1;if(s_>B_){let y_=s_;s_=B_,B_=y_,D_=1}if(s_>_o&&(ws.x=D_,ws.y=0,_o=s_),_i=Math.min(_i,B_),_o>_i)return!1}if(l_<GA){if(t_<this.lowerBound.y||this.upperBound.y<t_)return!1}else{let h_=1/i_,s_=(this.lowerBound.y-t_)*h_,B_=(this.upperBound.y-t_)*h_,D_=-1;if(s_>B_){let y_=s_;s_=B_,B_=y_,D_=1}if(s_>_o&&(ws.x=0,ws.y=D_,_o=s_),_i=Math.min(_i,B_),_o>_i)return!1}return _o<0||o.maxFraction<_o?!1:(x.fraction=_o,!0)}TestContain(x){return!(x.x<this.lowerBound.x||this.upperBound.x<x.x||x.y<this.lowerBound.y||this.upperBound.y<x.y)}TestOverlap(x){return!(this.upperBound.x<x.lowerBound.x||this.upperBound.y<x.lowerBound.y||x.upperBound.x<this.lowerBound.x||x.upperBound.y<this.lowerBound.y)}};function XV(V,[x,o],_o,_i,l){let t_=0,o_=m_.Dot(_o,x.v)-_i,i_=m_.Dot(_o,o.v)-_i;if(o_<=0&&V[t_++].Copy(x),i_<=0&&V[t_++].Copy(o),o_*i_<0){let _e=o_/(o_-i_),{v:l_,id:ws}=V[t_];l_.x=x.v.x+_e*(o.v.x-x.v.x),l_.y=x.v.y+_e*(o.v.y-x.v.y),ws.cf.indexA=l,ws.cf.indexB=x.id.cf.indexB,ws.cf.typeA=0,ws.cf.typeB=1,++t_}return t_}var Gat=new WV,Jat=new zV,Iat=new NV;function UD(V,x,o,_o,_i,l){let t_=Gat.Reset();t_.proxyA.SetShape(V,x),t_.proxyB.SetShape(o,_o),t_.transformA.Copy(_i),t_.transformB.Copy(l),t_.useRadii=!0;let o_=Jat.Reset();o_.count=0;let i_=Iat.Reset();return zD(i_,o_,t_),i_.distance<10*GA}var Tat=new m_,TT=new m_,tM=[];function OD(V,x,o){if(o.length===0)return tM;let _o=m_.Subtract(x,V,Tat);_o.Normalize();let _i=[],l=0,t_=m_.Cross(m_.Subtract(o[l],V,TT),_o);t_>0&&_i.push(o[l]);for(let ws=1;ws<o.length;++ws){let h_=m_.Cross(m_.Subtract(o[ws],V,TT),_o);h_>t_&&(l=ws,t_=h_),h_>0&&_i.push(o[ws])}if(t_<2*_b)return tM;let o_=o[l],i_=OD(V,o_,_i),_e=OD(o_,x,_i),l_=[...i_,o_,..._e];return S1(l_.length<kS),l_}var FT=new m_,Fat=new m_,Rat=new m_,Lat=new m_,kat=new eS;function kT(V,x){if(x<3||x>kS)return tM;x=Math.min(x,kS);let o=kat;o.lowerBound.Set(iA,iA),o.upperBound.Set(-iA,-iA);let _o=[],_i=16*_b*_b;for(let _2=0;_2<x;++_2){m_.Min(o.lowerBound,V[_2],o.lowerBound),m_.Max(o.upperBound,V[_2],o.upperBound);let m2=V[_2],y2=!0;for(let I2=0;I2<_2;++I2){let J2=V[I2];if(m_.DistanceSquared(m2,J2)<_i){y2=!1;break}}y2&&_o.push(m2)}let l=_o.length;if(l<3)return tM;let t_=o.GetCenter(Rat),o_=0,i_=m_.DistanceSquared(t_,_o[o_]);for(let _2=1;_2<l;++_2){let m2=m_.DistanceSquared(t_,_o[_2]);m2>i_&&(o_=_2,i_=m2)}let _e=_o[o_];_o[o_]=_o[l-1],l-=1;let l_=0,ws=m_.DistanceSquared(_e,_o[l_]);for(let _2=1;_2<l;++_2){let m2=m_.DistanceSquared(_e,_o[_2]);m2>ws&&(l_=_2,ws=m2)}let h_=_o[l_];_o[l_]=_o[l-1],l-=1;let s_=[],B_=[],D_=m_.Subtract(h_,_e,FT);D_.Normalize();for(let _2=0;_2<l;++_2){let m2=m_.Cross(m_.Subtract(_o[_2],_e,Lat),D_);m2>=2*_b?s_.push(_o[_2]):m2<=-2*_b&&B_.push(_o[_2])}let y_=OD(_e,h_,s_),G_=OD(h_,_e,B_);if(y_.length===0&&G_.length===0)return tM;let q_=[_e,...y_,h_,...G_];S1(q_.length<=kS);let j_=!0;for(;j_&&q_.length>2;){j_=!1;for(let _2=0;_2<q_.length;++_2){let m2=_2,y2=(_2+1)%q_.length,I2=(_2+2)%q_.length,J2=q_[m2],z2=q_[y2],K2=q_[I2],$2=m_.Subtract(K2,J2,FT);$2.Normalize();let P_=m_.Subtract(z2,J2,Fat);if(m_.Cross(P_,$2)<=2*_b){q_.splice(y2,1),j_=!0;break}}}return q_.length<3&&(q_.length=0),q_}var RT=new m_,LT=new m_;function qT(V,x){if(x<3||kS<x)return!1;for(let o=0;o<x;++o){let _o=o,_i=o<x-1?_o+1:0,l=V[_o],t_=m_.Subtract(V[_i],l,RT);t_.Normalize();for(let o_=0;o_<x;++o_){if(o_===_o||o_===_i)continue;if(m_.Cross(m_.Subtract(V[o_],l,LT),t_)>=0)return!1}}for(let o=0;o<x;++o){let _o=o,_i=(o+1)%x,l=(o+2)%x,t_=V[_o],o_=V[_i],i_=V[l],_e=m_.Subtract(i_,t_,RT);if(_e.Normalize(),m_.Cross(m_.Subtract(o_,t_,LT),_e)<=_b)return!1}return!0}var qat={c1:new m_,c2:new m_},XD={categoryBits:1,maskBits:65535,groupIndex:0},AJ=class{constructor(x,o,_o,_i){this.aabb=new eS;this.fixture=x,this.childIndex=_i,x.m_shape.ComputeAABB(this.aabb,_o,_i),this.treeNode=o.CreateProxy(this.aabb,this)}},Eat=new eS,jat=new eS,zat=new m_,YD=class{constructor(x,o){this.m_density=0;this.m_next=null;this.m_friction=0;this.m_restitution=0;this.m_restitutionThreshold=0;this.m_proxies=[];this.m_isSensor=!1;this.m_userData={};this.m_body=x,this.m_shape=o.shape.Clone(),o.userData&&this.SetUserData(o.userData),this.m_friction=o.friction??.2,this.m_restitution=o.restitution??0,this.m_restitutionThreshold=o.restitutionThreshold??EB,this.m_filter={...XD,...o.filter},this.m_isSensor=o.isSensor??!1,this.m_density=o.density??0}get m_proxyCount(){return this.m_proxies.length}GetType(){return this.m_shape.GetType()}GetShape(){return this.m_shape}SetSensor(x){x!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=x)}IsSensor(){return this.m_isSensor}SetFilterData(x){this.m_filter.categoryBits=x.categoryBits??XD.categoryBits,this.m_filter.groupIndex=x.groupIndex??XD.groupIndex,this.m_filter.maskBits=x.maskBits??XD.maskBits,this.Refilter()}GetFilterData(){return this.m_filter}Refilter(){let x=this.m_body.GetContactList();for(;x;){let{contact:_i}=x,l=_i.GetFixtureA(),t_=_i.GetFixtureB();(l===this||t_===this)&&_i.FlagForFiltering(),x=x.next}let _o=this.m_body.GetWorld().m_contactManager.m_broadPhase;for(let _i of this.m_proxies)_o.TouchProxy(_i.treeNode)}GetBody(){return this.m_body}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(x){Object.assign(this.m_userData,x)}TestPoint(x){return this.m_shape.TestPoint(this.m_body.GetTransform(),x)}RayCast(x,o,_o){return this.m_shape.RayCast(x,o,this.m_body.GetTransform(),_o)}GetMassData(x=new jV){return this.m_shape.ComputeMass(x,this.m_density),x}SetDensity(x){this.m_density=x}GetDensity(){return this.m_density}GetFriction(){return this.m_friction}SetFriction(x){this.m_friction=x}GetRestitution(){return this.m_restitution}SetRestitution(x){this.m_restitution=x}GetRestitutionThreshold(){return this.m_restitutionThreshold}SetRestitutionThreshold(x){this.m_restitutionThreshold=x}GetAABB(x){return this.m_proxies[x].aabb}CreateProxies(x,o){S1(this.m_proxies.length===0),this.m_proxies.length=this.m_shape.GetChildCount();for(let _o=0;_o<this.m_proxies.length;++_o)this.m_proxies[_o]=new AJ(this,x,o,_o)}DestroyProxies(x){for(let o of this.m_proxies)x.DestroyProxy(o.treeNode);this.m_proxies.length=0}Synchronize(x,o,_o){let{c1:_i,c2:l}=qat,t_=zat;for(let o_ of this.m_proxies){let i_=Eat,_e=jat;this.m_shape.ComputeAABB(i_,o,o_.childIndex),this.m_shape.ComputeAABB(_e,_o,o_.childIndex),o_.aabb.Combine2(i_,_e),m_.Subtract(_e.GetCenter(l),i_.GetCenter(_i),t_),x.MoveProxy(o_.treeNode,o_.aabb,t_)}}};var oM=class V{constructor(x,o){this.m_type=0;this.m_islandFlag=!1;this.m_awakeFlag=!1;this.m_autoSleepFlag=!1;this.m_bulletFlag=!1;this.m_fixedRotationFlag=!1;this.m_enabledFlag=!1;this.m_toiFlag=!1;this.m_islandIndex=0;this.m_xf=new s0;this.m_sweep=new uS;this.m_linearVelocity=new m_;this.m_angularVelocity=0;this.m_force=new m_;this.m_torque=0;this.m_prev=null;this.m_next=null;this.m_fixtureList=null;this.m_fixtureCount=0;this.m_jointList=null;this.m_contactList=null;this.m_mass=1;this.m_invMass=1;this.m_I=0;this.m_invI=0;this.m_linearDamping=0;this.m_angularDamping=0;this.m_gravityScale=1;this.m_sleepTime=0;this.m_userData={};this.m_bulletFlag=x.bullet??!1,this.m_fixedRotationFlag=x.fixedRotation??!1,this.m_autoSleepFlag=x.allowSleep??!0,(x.awake??!0)&&(x.type??0)!==0&&(this.m_awakeFlag=!0),this.m_enabledFlag=x.enabled??!0,this.m_world=o,this.m_xf.p.Copy(x.position??m_.ZERO),this.m_xf.q.Set(x.angle??0),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a=this.m_xf.q.GetAngle(),this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(x.linearVelocity??m_.ZERO),this.m_angularVelocity=x.angularVelocity??0,this.m_linearDamping=x.linearDamping??0,this.m_angularDamping=x.angularDamping??0,this.m_gravityScale=x.gravityScale??1,this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=x.type??0,this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,x.userData&&this.SetUserData(x.userData),this.m_fixtureList=null,this.m_fixtureCount=0}CreateFixture(x){S1(!this.m_world.IsLocked());let o=new YD(this,x);if(this.m_enabledFlag){let _o=this.m_world.m_contactManager.m_broadPhase;o.CreateProxies(_o,this.m_xf)}return o.m_next=this.m_fixtureList,this.m_fixtureList=o,++this.m_fixtureCount,o.m_density>0&&this.ResetMassData(),this.m_world.m_newContacts=!0,o}DestroyFixture(x){S1(!this.m_world.IsLocked());let o=this.m_fixtureList,_o=null;for(;o!==null;){if(o===x){_o?_o.m_next=x.m_next:this.m_fixtureList=x.m_next;break}_o=o,o=o.m_next}let _i=x.m_density,l=this.m_contactList;for(;l;){let t_=l.contact;l=l.next;let o_=t_.GetFixtureA(),i_=t_.GetFixtureB();(x===o_||x===i_)&&this.m_world.m_contactManager.Destroy(t_)}if(this.m_enabledFlag){let t_=this.m_world.m_contactManager.m_broadPhase;x.DestroyProxies(t_)}x.m_next=null,--this.m_fixtureCount,_i>0&&this.ResetMassData()}SetTransformVec(x,o){this.SetTransformXY(x.x,x.y,o)}SetTransformXY(x,o,_o){S1(!this.m_world.IsLocked()),this.m_xf.q.Set(_o),this.m_xf.p.Set(x,o),s0.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=_o,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=_o;let _i=this.m_world.m_contactManager.m_broadPhase;for(let l=this.m_fixtureList;l;l=l.m_next)l.Synchronize(_i,this.m_xf,this.m_xf);this.m_world.m_newContacts=!0}SetTransform(x){this.SetTransformVec(x.p,x.GetAngle())}GetTransform(){return this.m_xf}GetPosition(){return this.m_xf.p}GetAngle(){return this.m_sweep.a}SetAngle(x){this.SetTransformVec(this.GetPosition(),x)}GetWorldCenter(){return this.m_sweep.c}GetLocalCenter(){return this.m_sweep.localCenter}SetLinearVelocity(x){this.m_type!==0&&(m_.Dot(x,x)>0&&this.SetAwake(!0),this.m_linearVelocity.Copy(x))}GetLinearVelocity(){return this.m_linearVelocity}SetAngularVelocity(x){this.m_type!==0&&(x*x>0&&this.SetAwake(!0),this.m_angularVelocity=x)}GetAngularVelocity(){return this.m_angularVelocity}ApplyForce(x,o,_o=!0){this.m_type===2&&(_o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=x.x,this.m_force.y+=x.y,this.m_torque+=(o.x-this.m_sweep.c.x)*x.y-(o.y-this.m_sweep.c.y)*x.x))}ApplyForceToCenter(x,o=!0){this.m_type===2&&(o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=x.x,this.m_force.y+=x.y))}ApplyTorque(x,o=!0){this.m_type===2&&(o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_torque+=x))}ApplyLinearImpulse(x,o,_o=!0){this.m_type===2&&(_o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*x.x,this.m_linearVelocity.y+=this.m_invMass*x.y,this.m_angularVelocity+=this.m_invI*((o.x-this.m_sweep.c.x)*x.y-(o.y-this.m_sweep.c.y)*x.x)))}ApplyLinearImpulseToCenter(x,o=!0){this.m_type===2&&(o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*x.x,this.m_linearVelocity.y+=this.m_invMass*x.y))}ApplyAngularImpulse(x,o=!0){this.m_type===2&&(o&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*x))}GetMass(){return this.m_mass}GetInertia(){return this.m_I+this.m_mass*m_.Dot(this.m_sweep.localCenter,this.m_sweep.localCenter)}GetMassData(x){return x.mass=this.m_mass,x.I=this.m_I+this.m_mass*m_.Dot(this.m_sweep.localCenter,this.m_sweep.localCenter),x.center.Copy(this.m_sweep.localCenter),x}static{this.SetMassData_s_oldCenter=new m_}SetMassData(x){if(S1(!this.m_world.IsLocked()),this.m_type!==2)return;this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=x.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,x.I>0&&!this.m_fixedRotationFlag&&(this.m_I=x.I-this.m_mass*m_.Dot(x.center,x.center),this.m_invI=1/this.m_I);let o=V.SetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(x.center),s0.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),m_.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,m_.Subtract(this.m_sweep.c,o,m_.s_t0),this.m_linearVelocity)}static{this.ResetMassData_s_localCenter=new m_}static{this.ResetMassData_s_oldCenter=new m_}static{this.ResetMassData_s_massData=new jV}ResetMassData(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===0||this.m_type===1){this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;return}let x=V.ResetMassData_s_localCenter.SetZero();for(let _o=this.m_fixtureList;_o;_o=_o.m_next){if(_o.m_density===0)continue;let _i=_o.GetMassData(V.ResetMassData_s_massData);this.m_mass+=_i.mass,x.AddScaled(_i.mass,_i.center),this.m_I+=_i.I}this.m_mass>0&&(this.m_invMass=1/this.m_mass,x.Scale(this.m_invMass)),this.m_I>0&&!this.m_fixedRotationFlag?(this.m_I-=this.m_mass*m_.Dot(x,x),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);let o=V.ResetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(x),s0.MultiplyVec2(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),m_.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,m_.Subtract(this.m_sweep.c,o,m_.s_t0),this.m_linearVelocity)}GetWorldPoint(x,o){return s0.MultiplyVec2(this.m_xf,x,o)}GetWorldVector(x,o){return Ya.MultiplyVec2(this.m_xf.q,x,o)}GetLocalPoint(x,o){return s0.TransposeMultiplyVec2(this.m_xf,x,o)}GetLocalVector(x,o){return Ya.TransposeMultiplyVec2(this.m_xf.q,x,o)}GetLinearVelocityFromWorldPoint(x,o){return m_.AddCrossScalarVec2(this.m_linearVelocity,this.m_angularVelocity,m_.Subtract(x,this.m_sweep.c,m_.s_t0),o)}GetLinearVelocityFromLocalPoint(x,o){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(x,o),o)}GetLinearDamping(){return this.m_linearDamping}SetLinearDamping(x){this.m_linearDamping=x}GetAngularDamping(){return this.m_angularDamping}SetAngularDamping(x){this.m_angularDamping=x}GetGravityScale(){return this.m_gravityScale}SetGravityScale(x){this.m_gravityScale=x}SetType(x){if(S1(!this.m_world.IsLocked()),this.m_type===x)return;this.m_type=x,this.ResetMassData(),this.m_type===0&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_awakeFlag=!1,this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;let o=this.m_contactList;for(;o;){let _i=o;o=o.next,this.m_world.m_contactManager.Destroy(_i.contact)}this.m_contactList=null;let _o=this.m_world.m_contactManager.m_broadPhase;for(let _i=this.m_fixtureList;_i;_i=_i.m_next)for(let l of _i.m_proxies)_o.TouchProxy(l.treeNode)}GetType(){return this.m_type}SetBullet(x){this.m_bulletFlag=x}IsBullet(){return this.m_bulletFlag}SetSleepingAllowed(x){this.m_autoSleepFlag=x,x||this.SetAwake(!0)}IsSleepingAllowed(){return this.m_autoSleepFlag}SetAwake(x){this.m_type!==0&&(x?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0))}IsAwake(){return this.m_awakeFlag}SetEnabled(x){if(S1(!this.m_world.IsLocked()),x===this.IsEnabled())return;this.m_enabledFlag=x;let o=this.m_world.m_contactManager.m_broadPhase;if(x){for(let _o=this.m_fixtureList;_o;_o=_o.m_next)_o.CreateProxies(o,this.m_xf);this.m_world.m_newContacts=!0}else{for(let _i=this.m_fixtureList;_i;_i=_i.m_next)_i.DestroyProxies(o);let _o=this.m_contactList;for(;_o;){let _i=_o;_o=_o.next,this.m_world.m_contactManager.Destroy(_i.contact)}this.m_contactList=null}}IsEnabled(){return this.m_enabledFlag}SetFixedRotation(x){this.m_fixedRotationFlag!==x&&(this.m_fixedRotationFlag=x,this.m_angularVelocity=0,this.ResetMassData())}IsFixedRotation(){return this.m_fixedRotationFlag}GetFixtureList(){return this.m_fixtureList}GetJointList(){return this.m_jointList}GetContactList(){return this.m_contactList}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(x){Object.assign(this.m_userData,x)}GetWorld(){return this.m_world}static{this.SynchronizeFixtures_s_xf1=new s0}SynchronizeFixtures(){let x=this.m_world.m_contactManager.m_broadPhase;if(this.m_awakeFlag){let o=V.SynchronizeFixtures_s_xf1;o.q.Set(this.m_sweep.a0),Ya.MultiplyVec2(o.q,this.m_sweep.localCenter,o.p),m_.Subtract(this.m_sweep.c0,o.p,o.p);for(let _o=this.m_fixtureList;_o;_o=_o.m_next)_o.Synchronize(x,o,this.m_xf)}else for(let o=this.m_fixtureList;o;o=o.m_next)o.Synchronize(x,this.m_xf,this.m_xf)}SynchronizeTransform(){this.m_xf.q.Set(this.m_sweep.a),Ya.MultiplyVec2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),m_.Subtract(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}ShouldCollide(x){return this.m_type!==2&&x.m_type!==2?!1:this.ShouldCollideConnected(x)}ShouldCollideConnected(x){for(let o=this.m_jointList;o;o=o.next)if(o.other===x&&!o.joint.m_collideConnected)return!1;return!0}Advance(x){this.m_sweep.Advance(x),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.Set(this.m_sweep.a),Ya.MultiplyVec2(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),m_.Subtract(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}};var Jlt={cA:new m_,cB:new m_,vs:C1(4,m_),xf:new s0};var EC=class{constructor(){this.m_start=performance.now()}Reset(){return this.m_start=performance.now(),this}GetMilliseconds(){return performance.now()-this.m_start}};var uB={stack:[],t:new m_,r:new m_,v:new m_,abs_v:new m_,segmentAABB:new eS,subInput:new UV,combinedAABB:new eS,aabb:new eS,fatAABB:new eS,hugeAABB:new eS,c:new m_,h:new m_},Wat=0,rM=class{constructor(){this.aabb=new eS;this.userData=null;this.parent=null;this.child1=null;this.child2=null;this.height=0;this.moved=!1;this.id=Wat++}Reset(){this.child1=null,this.child2=null,this.height=-1,this.userData=null}IsLeaf(){return this.child1===null}GetArea(){if(this.IsLeaf())return 0;let x=this.aabb.GetPerimeter();return this.child1&&(x+=this.child1.GetArea()),this.child2&&(x+=this.child2.GetArea()),x}ComputeHeight(){if(this.IsLeaf())return 0;S1(this.child1!==null&&this.child2!==null);let x=f1(this.child1).ComputeHeight(),o=f1(this.child2).ComputeHeight();return 1+Math.max(x,o)}GetMaxBalance(){if(this.height<=1)return 0;let x=f1(this.child1),o=f1(this.child2);return Math.max(x.GetMaxBalance(),o.GetMaxBalance(),Math.abs(o.height-x.height))}ShiftOrigin(x){this.height<=1||(f1(this.child1).ShiftOrigin(x),f1(this.child2).ShiftOrigin(x),this.aabb.lowerBound.Subtract(x),this.aabb.upperBound.Subtract(x))}},HD=class{constructor(){this.m_root=null;this.m_freeList=null}Query(x,o){let _o=uB.stack;_o.length=0;let _i=this.m_root;for(;_i;){if(_i.aabb.TestOverlap(x))if(_i.IsLeaf()){if(!o(_i))return}else _o.push(_i.child1),_o.push(_i.child2);_i=_o.pop()}}QueryPoint(x,o){let _o=uB.stack;_o.length=0;let _i=this.m_root;for(;_i;){if(_i.aabb.TestContain(x))if(_i.IsLeaf()){if(!o(_i))return}else _o.push(_i.child1),_o.push(_i.child2);_i=_o.pop()}}RayCast(x,o){let{p1:_o,p2:_i}=x,l=m_.Subtract(_i,_o,uB.r);l.Normalize();let t_=m_.CrossOneVec2(l,uB.v),o_=t_.GetAbs(uB.abs_v),{maxFraction:i_}=x,{segmentAABB:_e,subInput:l_,c:ws,h:h_,t:s_}=uB;m_.AddScaled(_o,i_,m_.Subtract(_i,_o,s_),s_),m_.Min(_o,s_,_e.lowerBound),m_.Max(_o,s_,_e.upperBound);let B_=uB.stack;B_.length=0;let D_=this.m_root;for(;D_;){if(!D_.aabb.TestOverlap(_e)){D_=B_.pop();continue}if(D_.aabb.GetCenter(ws),D_.aabb.GetExtents(h_),Math.abs(m_.Dot(t_,m_.Subtract(_o,ws,m_.s_t0)))-m_.Dot(o_,h_)>0){D_=B_.pop();continue}if(D_.IsLeaf()){l_.p1.Copy(x.p1),l_.p2.Copy(x.p2),l_.maxFraction=i_;let G_=o(l_,D_);if(G_===0)return;G_>0&&(i_=G_,m_.AddScaled(_o,i_,m_.Subtract(_i,_o,s_),s_),m_.Min(_o,s_,_e.lowerBound),m_.Max(_o,s_,_e.upperBound))}else B_.push(D_.child1),B_.push(D_.child2);D_=B_.pop()}}AllocateNode(){if(this.m_freeList===null)return new rM;let x=this.m_freeList;return this.m_freeList=x.parent,x.parent=null,x.child1=null,x.child2=null,x.height=0,x.moved=!1,x}FreeNode(x){x.parent=this.m_freeList,x.Reset(),this.m_freeList=x}CreateProxy(x,o){let _o=this.AllocateNode(),_i=kD;return _o.aabb.lowerBound.Set(x.lowerBound.x-_i,x.lowerBound.y-_i),_o.aabb.upperBound.Set(x.upperBound.x+_i,x.upperBound.y+_i),_o.userData=o,_o.height=0,_o.moved=!0,this.InsertLeaf(_o),_o}DestroyProxy(x){this.RemoveLeaf(x),this.FreeNode(x)}MoveProxy(x,o,_o){let{fatAABB:_i,hugeAABB:l}=uB,t_=kD;_i.lowerBound.Set(o.lowerBound.x-t_,o.lowerBound.y-t_),_i.upperBound.Set(o.upperBound.x+t_,o.upperBound.y+t_);let o_=hJ*_o.x,i_=hJ*_o.y;o_<0?_i.lowerBound.x+=o_:_i.upperBound.x+=o_,i_<0?_i.lowerBound.y+=i_:_i.upperBound.y+=i_;let _e=x.aabb;if(_e.Contains(o)){let l_=4*kD;if(l.lowerBound.Set(_i.lowerBound.x-l_,o.lowerBound.y-l_),l.upperBound.Set(_i.upperBound.x+l_,o.upperBound.y+l_),l.Contains(_e))return!1}return this.RemoveLeaf(x),x.aabb.Copy(_i),this.InsertLeaf(x),x.moved=!0,!0}InsertLeaf(x){if(this.m_root===null){this.m_root=x,this.m_root.parent=null;return}let{combinedAABB:o,aabb:_o}=uB,_i=x.aabb,l=this.m_root;for(;!l.IsLeaf();){let _e=f1(l.child1),l_=f1(l.child2),ws=l.aabb.GetPerimeter();o.Combine2(l.aabb,_i);let h_=o.GetPerimeter(),s_=2*h_,B_=2*(h_-ws),D_,y_,G_;_e.IsLeaf()?(_o.Combine2(_i,_e.aabb),D_=_o.GetPerimeter()+B_):(_o.Combine2(_i,_e.aabb),y_=_e.aabb.GetPerimeter(),G_=_o.GetPerimeter(),D_=G_-y_+B_);let q_;if(l_.IsLeaf()?(_o.Combine2(_i,l_.aabb),q_=_o.GetPerimeter()+B_):(_o.Combine2(_i,l_.aabb),y_=l_.aabb.GetPerimeter(),G_=_o.GetPerimeter(),q_=G_-y_+B_),s_<D_&&s_<q_)break;D_<q_?l=_e:l=l_}let t_=l.parent,o_=this.AllocateNode();o_.parent=t_,o_.userData=null,o_.aabb.Combine2(_i,l.aabb),o_.height=l.height+1,t_!==null?(t_.child1===l?t_.child1=o_:t_.child2=o_,o_.child1=l,o_.child2=x,l.parent=o_,x.parent=o_):(o_.child1=l,o_.child2=x,l.parent=o_,x.parent=o_,this.m_root=o_);let i_=x.parent;for(;i_!==null;){i_=this.Balance(i_);let _e=f1(i_.child1),l_=f1(i_.child2);i_.height=1+Math.max(_e.height,l_.height),i_.aabb.Combine2(_e.aabb,l_.aabb),i_=i_.parent}}RemoveLeaf(x){if(x===this.m_root){this.m_root=null;return}let o=f1(x.parent),_o=o.parent,_i=f1(o.child1===x?o.child2:o.child1);if(_o!==null){_o.child1===o?_o.child1=_i:_o.child2=_i,_i.parent=_o,this.FreeNode(o);let l=_o;for(;l!==null;){l=this.Balance(l);let t_=f1(l.child1),o_=f1(l.child2);l.aabb.Combine2(t_.aabb,o_.aabb),l.height=1+Math.max(t_.height,o_.height),l=l.parent}}else this.m_root=_i,_i.parent=null,this.FreeNode(o)}Balance(x){if(x.IsLeaf()||x.height<2)return x;let o=f1(x.child1),_o=f1(x.child2),_i=_o.height-o.height;if(_i>1){let l=f1(_o.child1),t_=f1(_o.child2);return _o.child1=x,_o.parent=x.parent,x.parent=_o,_o.parent!==null?_o.parent.child1===x?_o.parent.child1=_o:_o.parent.child2=_o:this.m_root=_o,l.height>t_.height?(_o.child2=l,x.child2=t_,t_.parent=x,x.aabb.Combine2(o.aabb,t_.aabb),_o.aabb.Combine2(x.aabb,l.aabb),x.height=1+Math.max(o.height,t_.height),_o.height=1+Math.max(x.height,l.height)):(_o.child2=t_,x.child2=l,l.parent=x,x.aabb.Combine2(o.aabb,l.aabb),_o.aabb.Combine2(x.aabb,t_.aabb),x.height=1+Math.max(o.height,l.height),_o.height=1+Math.max(x.height,t_.height)),_o}if(_i<-1){let l=f1(o.child1),t_=f1(o.child2);return o.child1=x,o.parent=x.parent,x.parent=o,o.parent!==null?o.parent.child1===x?o.parent.child1=o:o.parent.child2=o:this.m_root=o,l.height>t_.height?(o.child2=l,x.child1=t_,t_.parent=x,x.aabb.Combine2(_o.aabb,t_.aabb),o.aabb.Combine2(x.aabb,l.aabb),x.height=1+Math.max(_o.height,t_.height),o.height=1+Math.max(x.height,l.height)):(o.child2=t_,x.child1=l,l.parent=x,x.aabb.Combine2(_o.aabb,l.aabb),o.aabb.Combine2(x.aabb,t_.aabb),x.height=1+Math.max(_o.height,l.height),o.height=1+Math.max(x.height,t_.height)),o}return x}GetHeight(){return this.m_root===null?0:this.m_root.height}GetAreaRatio(){if(this.m_root===null)return 0;let x=this.m_root,o=x.aabb.GetPerimeter();return x.GetArea()/o}GetMaxBalance(){return this.m_root===null?0:this.m_root.GetMaxBalance()}ShiftOrigin(x){this.m_root?.ShiftOrigin(x)}};var ZD=class{constructor(){this.m_tree=new HD;this.m_proxyCount=0;this.m_moveCount=0;this.m_moveBuffer=[];this.m_pairCount=0;this.m_pairBuffer=[];this.m_queryProxy=new rM;this.QueryCallback=x=>(x.id===this.m_queryProxy.id||x.moved&&x.id>this.m_queryProxy.id||(this.m_pairBuffer[this.m_pairCount]=x.id<this.m_queryProxy.id?[x,this.m_queryProxy]:[this.m_queryProxy,x],++this.m_pairCount),!0)}CreateProxy(x,o){let _o=this.m_tree.CreateProxy(x,o);return++this.m_proxyCount,this.BufferMove(_o),_o}DestroyProxy(x){this.UnBufferMove(x),--this.m_proxyCount,this.m_tree.DestroyProxy(x)}MoveProxy(x,o,_o){this.m_tree.MoveProxy(x,o,_o)&&this.BufferMove(x)}TouchProxy(x){this.BufferMove(x)}GetProxyCount(){return this.m_proxyCount}UpdatePairs(x){this.m_pairCount=0;for(let o=0;o<this.m_moveCount;++o){let _o=this.m_moveBuffer[o];if(_o===null)continue;this.m_queryProxy=_o;let _i=_o.aabb;this.m_tree.Query(_i,this.QueryCallback)}for(let o=0;o<this.m_pairCount;++o){let _o=this.m_pairBuffer[o],_i=f1(_o[0].userData),l=f1(_o[1].userData);x(_i,l)}for(let o=0;o<this.m_moveCount;++o){let _o=this.m_moveBuffer[o];_o&&(_o.moved=!1)}this.m_moveCount=0}Query(x,o){this.m_tree.Query(x,o)}QueryPoint(x,o){this.m_tree.QueryPoint(x,o)}RayCast(x,o){this.m_tree.RayCast(x,o)}GetTreeHeight(){return this.m_tree.GetHeight()}GetTreeBalance(){return this.m_tree.GetMaxBalance()}GetTreeQuality(){return this.m_tree.GetAreaRatio()}ShiftOrigin(x){this.m_tree.ShiftOrigin(x)}BufferMove(x){this.m_moveBuffer[this.m_moveCount]=x,++this.m_moveCount}UnBufferMove(x){for(let o=0;o<this.m_moveCount;++o)this.m_moveBuffer[o]===x&&(this.m_moveBuffer[o]=null)}};var jC={time:0,maxTime:0,calls:0,iters:0,maxIters:0,rootIters:0,maxRootIters:0,reset(){this.time=0,this.maxTime=0,this.calls=0,this.iters=0,this.maxIters=0,this.rootIters=0,this.maxRootIters=0}},KD=new s0,QD=new s0,hB=new m_,dB=new m_,YV=new m_,ET=new m_,jT=new m_,$D=class{constructor(){this.proxyA=new EP;this.proxyB=new EP;this.sweepA=new uS;this.sweepB=new uS;this.tMax=0}};var t6=class{constructor(){this.state=0;this.t=0}};var SJ=class{constructor(){this.m_sweepA=new uS;this.m_sweepB=new uS;this.m_type=0;this.m_localPoint=new m_;this.m_axis=new m_}Initialize(x,o,_o,_i,l,t_){this.m_proxyA=o,this.m_proxyB=_i;let{count:o_}=x;this.m_sweepA.Copy(_o),this.m_sweepB.Copy(l);let i_=this.m_sweepA.GetTransform(KD,t_),_e=this.m_sweepB.GetTransform(QD,t_);if(o_===1){this.m_type=0;let G_=this.m_proxyA.GetVertex(x.indexA[0]),q_=this.m_proxyB.GetVertex(x.indexB[0]),j_=s0.MultiplyVec2(i_,G_,hB),_2=s0.MultiplyVec2(_e,q_,dB);return m_.Subtract(_2,j_,this.m_axis),this.m_axis.Normalize()}if(x.indexA[0]===x.indexA[1]){this.m_type=2;let G_=this.m_proxyB.GetVertex(x.indexB[0]),q_=this.m_proxyB.GetVertex(x.indexB[1]);m_.CrossVec2One(m_.Subtract(q_,G_,m_.s_t0),this.m_axis).Normalize();let j_=Ya.MultiplyVec2(_e.q,this.m_axis,YV);m_.Mid(G_,q_,this.m_localPoint);let _2=s0.MultiplyVec2(_e,this.m_localPoint,dB),m2=this.m_proxyA.GetVertex(x.indexA[0]),y2=s0.MultiplyVec2(i_,m2,hB),I2=m_.Dot(m_.Subtract(y2,_2,m_.s_t0),j_);return I2<0&&(this.m_axis.Negate(),I2=-I2),I2}this.m_type=1;let l_=this.m_proxyA.GetVertex(x.indexA[0]),ws=this.m_proxyA.GetVertex(x.indexA[1]);m_.CrossVec2One(m_.Subtract(ws,l_,m_.s_t0),this.m_axis).Normalize();let h_=Ya.MultiplyVec2(i_.q,this.m_axis,YV);m_.Mid(l_,ws,this.m_localPoint);let s_=s0.MultiplyVec2(i_,this.m_localPoint,hB),B_=this.m_proxyB.GetVertex(x.indexB[0]),D_=s0.MultiplyVec2(_e,B_,dB),y_=m_.Dot(m_.Subtract(D_,s_,m_.s_t0),h_);return y_<0&&(this.m_axis.Negate(),y_=-y_),y_}FindMinSeparation(x,o,_o){let _i=this.m_sweepA.GetTransform(KD,_o),l=this.m_sweepB.GetTransform(QD,_o);switch(this.m_type){case 0:{let t_=Ya.TransposeMultiplyVec2(_i.q,this.m_axis,ET),o_=Ya.TransposeMultiplyVec2(l.q,m_.Negate(this.m_axis,m_.s_t0),jT);x[0]=this.m_proxyA.GetSupport(t_),o[0]=this.m_proxyB.GetSupport(o_);let i_=this.m_proxyA.GetVertex(x[0]),_e=this.m_proxyB.GetVertex(o[0]),l_=s0.MultiplyVec2(_i,i_,hB),ws=s0.MultiplyVec2(l,_e,dB);return m_.Dot(m_.Subtract(ws,l_,m_.s_t0),this.m_axis)}case 1:{let t_=Ya.MultiplyVec2(_i.q,this.m_axis,YV),o_=s0.MultiplyVec2(_i,this.m_localPoint,hB),i_=Ya.TransposeMultiplyVec2(l.q,m_.Negate(t_,m_.s_t0),jT);x[0]=-1,o[0]=this.m_proxyB.GetSupport(i_);let _e=this.m_proxyB.GetVertex(o[0]),l_=s0.MultiplyVec2(l,_e,dB);return m_.Dot(m_.Subtract(l_,o_,m_.s_t0),t_)}case 2:{let t_=Ya.MultiplyVec2(l.q,this.m_axis,YV),o_=s0.MultiplyVec2(l,this.m_localPoint,dB),i_=Ya.TransposeMultiplyVec2(_i.q,m_.Negate(t_,m_.s_t0),ET);o[0]=-1,x[0]=this.m_proxyA.GetSupport(i_);let _e=this.m_proxyA.GetVertex(x[0]),l_=s0.MultiplyVec2(_i,_e,hB);return m_.Dot(m_.Subtract(l_,o_,m_.s_t0),t_)}default:return x[0]=-1,o[0]=-1,0}}Evaluate(x,o,_o){let _i=this.m_sweepA.GetTransform(KD,_o),l=this.m_sweepB.GetTransform(QD,_o);switch(this.m_type){case 0:{let t_=this.m_proxyA.GetVertex(x),o_=this.m_proxyB.GetVertex(o),i_=s0.MultiplyVec2(_i,t_,hB),_e=s0.MultiplyVec2(l,o_,dB);return m_.Dot(m_.Subtract(_e,i_,m_.s_t0),this.m_axis)}case 1:{let t_=Ya.MultiplyVec2(_i.q,this.m_axis,YV),o_=s0.MultiplyVec2(_i,this.m_localPoint,hB),i_=this.m_proxyB.GetVertex(o),_e=s0.MultiplyVec2(l,i_,dB);return m_.Dot(m_.Subtract(_e,o_,m_.s_t0),t_)}case 2:{let t_=Ya.MultiplyVec2(l.q,this.m_axis,YV),o_=s0.MultiplyVec2(l,this.m_localPoint,dB),i_=this.m_proxyA.GetVertex(x),_e=s0.MultiplyVec2(_i,i_,hB);return m_.Dot(m_.Subtract(_e,o_,m_.s_t0),t_)}default:return S1(!1),0}}},Nat=new EC,Oat=new zV,Uat=new WV,Xat=new NV,Yat=new SJ,Hat=[0],Zat=[0],Kat=new uS,Qat=new uS;function zT(V,x){let o=Nat.Reset();++jC.calls,V.state=0,V.t=x.tMax;let{proxyA:_o,proxyB:_i,tMax:l}=x,t_=Math.max(kS,_o.m_count,_i.m_count),o_=Kat.Copy(x.sweepA),i_=Qat.Copy(x.sweepB);o_.Normalize(),i_.Normalize();let _e=_o.m_radius+_i.m_radius,l_=Math.max(_b,_e-3*_b),ws=.25*_b,h_=0,s_=20,B_=0,D_=Oat;D_.count=0;let y_=Uat;for(y_.proxyA.Copy(x.proxyA),y_.proxyB.Copy(x.proxyB),y_.useRadii=!1;;){let q_=o_.GetTransform(KD,h_),j_=i_.GetTransform(QD,h_);y_.transformA.Copy(q_),y_.transformB.Copy(j_);let _2=Xat;if(zD(_2,D_,y_),_2.distance<=0){V.state=2,V.t=0;break}if(_2.distance<l_+ws){V.state=3,V.t=h_;break}let m2=Yat;m2.Initialize(D_,_o,o_,_i,i_,h_);let y2=!1,I2=l,J2=0;for(;;){let z2=Hat,K2=Zat,$2=m2.FindMinSeparation(z2,K2,I2);if($2>l_+ws){V.state=4,V.t=l,y2=!0;break}if($2>l_-ws){h_=I2;break}let P_=m2.Evaluate(z2[0],K2[0],h_);if(P_<l_-ws){V.state=1,V.t=h_,y2=!0;break}if(P_<=l_+ws){V.state=3,V.t=h_,y2=!0;break}let E_=0,Z_=h_,N_=I2;for(;;){let s2;E_&1?s2=Z_+(l_-P_)*(N_-Z_)/($2-P_):s2=.5*(Z_+N_),++E_,++jC.rootIters;let u2=m2.Evaluate(z2[0],K2[0],s2);if(Math.abs(u2-l_)<ws){I2=s2;break}if(u2>l_?(Z_=s2,P_=u2):(N_=s2,$2=u2),E_===50)break}if(jC.maxRootIters=Math.max(jC.maxRootIters,E_),++J2,J2===t_)break}if(++B_,++jC.iters,y2)break;if(B_===s_){V.state=1,V.t=h_;break}}jC.maxIters=Math.max(jC.maxIters,B_);let G_=o.GetMilliseconds();jC.maxTime=Math.max(jC.maxTime,G_),jC.time+=G_}var $at=new m_,tpt=new m_;function WT(V,x,o,_o,_i){V.pointCount=0;let l=s0.MultiplyVec2(o,x.m_p,$at),t_=s0.MultiplyVec2(_i,_o.m_p,tpt),o_=m_.DistanceSquared(l,t_),i_=x.m_radius+_o.m_radius;o_>i_*i_||(V.type=0,V.localPoint.Copy(x.m_p),V.localNormal.SetZero(),V.pointCount=1,V.points[0].localPoint.Copy(_o.m_p),V.points[0].id.key=0)}var ept=new m_,opt=new m_,ipt=new m_;function NT(V,x,o,_o,_i){V.pointCount=0;let l=s0.MultiplyVec2(_i,_o.m_p,ept),t_=s0.TransposeMultiplyVec2(o,l,opt),o_=0,i_=-iA,_e=x.m_radius+_o.m_radius,l_=x.m_count,ws=x.m_vertices,h_=x.m_normals;for(let j_=0;j_<l_;++j_){let _2=m_.Dot(h_[j_],m_.Subtract(t_,ws[j_],m_.s_t0));if(_2>_e)return;_2>i_&&(i_=_2,o_=j_)}let s_=o_,B_=s_+1<l_?s_+1:0,D_=ws[s_],y_=ws[B_];if(i_<GA){V.pointCount=1,V.type=1,V.localNormal.Copy(h_[o_]),m_.Mid(D_,y_,V.localPoint),V.points[0].localPoint.Copy(_o.m_p),V.points[0].id.key=0;return}let G_=m_.Dot(m_.Subtract(t_,D_,m_.s_t0),m_.Subtract(y_,D_,m_.s_t1)),q_=m_.Dot(m_.Subtract(t_,y_,m_.s_t0),m_.Subtract(D_,y_,m_.s_t1));if(G_<=0){if(m_.DistanceSquared(t_,D_)>_e*_e)return;V.pointCount=1,V.type=1,m_.Subtract(t_,D_,V.localNormal).Normalize(),V.localPoint.Copy(D_),V.points[0].localPoint.Copy(_o.m_p),V.points[0].id.key=0}else if(q_<=0){if(m_.DistanceSquared(t_,y_)>_e*_e)return;V.pointCount=1,V.type=1,m_.Subtract(t_,y_,V.localNormal).Normalize(),V.localPoint.Copy(y_),V.points[0].localPoint.Copy(_o.m_p),V.points[0].id.key=0}else{let j_=m_.Mid(D_,y_,ipt);if(m_.Dot(m_.Subtract(t_,j_,m_.s_t1),h_[s_])>_e)return;V.pointCount=1,V.type=1,V.localNormal.Copy(h_[s_]),V.localPoint.Copy(j_),V.points[0].localPoint.Copy(_o.m_p),V.points[0].id.key=0}}var npt=new s0,spt=new m_,_pt=new m_;function OT(V,x,o,_o,_i){let l=x.m_count,t_=_o.m_count,o_=x.m_normals,i_=x.m_vertices,_e=_o.m_vertices,l_=s0.TransposeMultiply(_i,o,npt),ws=0,h_=-iA;for(let s_=0;s_<l;++s_){let B_=Ya.MultiplyVec2(l_.q,o_[s_],spt),D_=s0.MultiplyVec2(l_,i_[s_],_pt),y_=iA;for(let G_=0;G_<t_;++G_){let q_=m_.Dot(B_,m_.Subtract(_e[G_],D_,m_.s_t0));q_<y_&&(y_=q_)}y_>h_&&(h_=y_,ws=s_)}return V[0]=ws,h_}var apt=new m_;function ppt(V,x,o,_o,_i,l){let t_=x.m_normals,o_=_i.m_count,i_=_i.m_vertices,_e=_i.m_normals,l_=Ya.TransposeMultiplyVec2(l.q,Ya.MultiplyVec2(o.q,t_[_o],m_.s_t0),apt),ws=0,h_=iA;for(let j_=0;j_<o_;++j_){let _2=m_.Dot(l_,_e[j_]);_2<h_&&(h_=_2,ws=j_)}let s_=ws,B_=s_+1<o_?s_+1:0,D_=V[0];s0.MultiplyVec2(l,i_[s_],D_.v);let y_=D_.id.cf;y_.indexA=_o,y_.indexB=s_,y_.typeA=1,y_.typeB=0;let G_=V[1];s0.MultiplyVec2(l,i_[B_],G_.v);let q_=G_.id.cf;q_.indexA=_o,q_.indexB=B_,q_.typeA=1,q_.typeB=0}var cpt=[new tS,new tS],lpt=[new tS,new tS],mpt=[new tS,new tS],bpt=[0],upt=[0],hpt=new m_,dpt=new m_,ypt=new m_,xpt=new m_,fpt=new m_,gpt=new m_,vpt=new m_,Apt=new m_;function UT(V,x,o,_o,_i){V.pointCount=0;let l=x.m_radius+_o.m_radius,t_=bpt,o_=OT(t_,x,o,_o,_i);if(o_>l)return;let i_=upt,_e=OT(i_,_o,_i,x,o);if(_e>l)return;let l_,ws,h_,s_,B_,D_,y_=.1*_b;_e>o_+y_?(l_=_o,ws=x,h_=_i,s_=o,B_=i_[0],V.type=2,D_=1):(l_=x,ws=_o,h_=o,s_=_i,B_=t_[0],V.type=1,D_=0);let G_=cpt;ppt(G_,l_,h_,B_,ws,s_);let q_=l_.m_count,j_=l_.m_vertices,_2=B_,m2=B_+1<q_?B_+1:0,y2=j_[_2],I2=j_[m2],J2=m_.Subtract(I2,y2,hpt);J2.Normalize();let z2=m_.CrossVec2One(J2,dpt),K2=m_.Mid(y2,I2,ypt),$2=Ya.MultiplyVec2(h_.q,J2,fpt),P_=m_.CrossVec2One($2,xpt);y2=s0.MultiplyVec2(h_,y2,vpt),I2=s0.MultiplyVec2(h_,I2,Apt);let E_=m_.Dot(P_,y2),Z_=-m_.Dot($2,y2)+l,N_=m_.Dot($2,I2)+l,s2=lpt,u2=mpt,p2=m_.Negate($2,gpt),v_=XV(s2,G_,p2,Z_,_2);if(v_<2||(v_=XV(u2,s2,$2,N_,m2),v_<2))return;V.localNormal.Copy(z2),V.localPoint.Copy(K2);let F_=0;for(let $_=0;$_<qA;++$_){let C_=u2[$_];if(m_.Dot(P_,C_.v)-E_<=l){let t2=V.points[F_];if(s0.TransposeMultiplyVec2(s_,C_.v,t2.localPoint),t2.id.Copy(C_.id),D_){let{cf:l2}=t2.id;l2.indexA=l2.indexB,l2.indexB=l2.indexA,l2.typeA=l2.typeB,l2.typeB=l2.typeA}++F_}}V.pointCount=F_}var Spt=new m_,Cpt=new m_,BJ=new m_,Bpt=new m_,Ppt=new m_,wpt=new m_,Vpt=new m_,Mpt=new OV;function o6(V,x,o,_o,_i){V.pointCount=0;let l=s0.TransposeMultiplyVec2(o,s0.MultiplyVec2(_i,_o.m_p,m_.s_t0),Spt),t_=x.m_vertex1,o_=x.m_vertex2,i_=m_.Subtract(o_,t_,Cpt),_e=Vpt.Set(i_.y,-i_.x),l_=m_.Dot(_e,m_.Subtract(l,t_,m_.s_t0));if(x.m_oneSided&&l_<0)return;let h_=m_.Dot(i_,m_.Subtract(o_,l,m_.s_t0)),s_=m_.Dot(i_,m_.Subtract(l,t_,m_.s_t0)),B_=x.m_radius+_o.m_radius,D_=Mpt;if(D_.cf.indexB=0,D_.cf.typeB=0,s_<=0){let _2=t_,m2=m_.Subtract(l,_2,BJ);if(m_.Dot(m2,m2)>B_*B_)return;if(x.m_oneSided){let I2=x.m_vertex0,J2=t_,z2=m_.Subtract(J2,I2,Bpt);if(m_.Dot(z2,m_.Subtract(J2,l,m_.s_t0))>0)return}D_.cf.indexA=0,D_.cf.typeA=0,V.pointCount=1,V.type=0,V.localNormal.SetZero(),V.localPoint.Copy(_2),V.points[0].id.Copy(D_),V.points[0].localPoint.Copy(_o.m_p);return}if(h_<=0){let _2=o_,m2=m_.Subtract(l,_2,BJ);if(m_.Dot(m2,m2)>B_*B_)return;if(x.m_oneSided){let I2=x.m_vertex3,J2=o_,z2=m_.Subtract(I2,J2,Ppt);if(m_.Dot(z2,m_.Subtract(l,J2,m_.s_t0))>0)return}D_.cf.indexA=1,D_.cf.typeA=0,V.pointCount=1,V.type=0,V.localNormal.SetZero(),V.localPoint.Copy(_2),V.points[0].id.Copy(D_),V.points[0].localPoint.Copy(_o.m_p);return}let y_=m_.Dot(i_,i_),G_=wpt;G_.x=1/y_*(h_*t_.x+s_*o_.x),G_.y=1/y_*(h_*t_.y+s_*o_.y);let q_=m_.Subtract(l,G_,BJ);m_.Dot(q_,q_)>B_*B_||(l_<0&&_e.Set(-_e.x,-_e.y),_e.Normalize(),D_.cf.indexA=0,D_.cf.typeA=1,V.pointCount=1,V.type=1,V.localNormal.Copy(_e),V.localPoint.Copy(t_),V.points[0].id.Copy(D_),V.points[0].localPoint.Copy(_o.m_p))}var e6=class{constructor(){this.normal=new m_;this.type=0;this.index=0;this.separation=0}},PJ=class{constructor(){this.vertices=C1(kS,m_);this.normals=C1(kS,m_);this.count=0}},wJ=class{constructor(){this.i1=0;this.i2=0;this.v1=new m_;this.v2=new m_;this.normal=new m_;this.sideNormal1=new m_;this.sideOffset1=0;this.sideNormal2=new m_;this.sideOffset2=0}},Dpt=new e6,Gpt=[new m_,new m_];function Jpt(V,x,o){let _o=Dpt;_o.type=1,_o.index=-1,_o.separation=-iA,_o.normal.SetZero();let _i=Gpt;_i[0].Copy(o),m_.Negate(o,_i[1]);for(let l=0;l<2;++l){let t_=iA;for(let o_=0;o_<V.count;++o_){let i_=m_.Dot(_i[l],m_.Subtract(V.vertices[o_],x,m_.s_t0));i_<t_&&(t_=i_)}t_>_o.separation&&(_o.index=l,_o.separation=t_,_o.normal.Copy(_i[l]))}return _o}var Ipt=new e6,Tpt=new m_;function Fpt(V,x,o){let _o=Ipt;_o.type=0,_o.index=-1,_o.separation=-iA,_o.normal.SetZero();for(let _i=0;_i<V.count;++_i){let l=m_.Negate(V.normals[_i],Tpt),t_=m_.Dot(l,m_.Subtract(V.vertices[_i],x,m_.s_t0)),o_=m_.Dot(l,m_.Subtract(V.vertices[_i],o,m_.s_t0)),i_=Math.min(t_,o_);i_>_o.separation&&(_o.type=2,_o.index=_i,_o.separation=i_,_o.normal.Copy(l))}return _o}var Rpt=new s0,Lpt=new m_,kpt=new m_,qpt=new m_,Ept=new m_,jpt=new m_,zpt=new m_,Wpt=new m_,Npt=new PJ,Opt=new wJ,Upt=[new tS,new tS],Xpt=[new tS,new tS],Ypt=[new tS,new tS];function i6(V,x,o,_o,_i){V.pointCount=0;let l=s0.TransposeMultiply(o,_i,Rpt),t_=s0.MultiplyVec2(l,_o.m_centroid,Lpt),o_=x.m_vertex1,i_=x.m_vertex2,_e=m_.Subtract(i_,o_,kpt);_e.Normalize();let l_=qpt.Set(_e.y,-_e.x),ws=m_.Dot(l_,m_.Subtract(t_,o_,m_.s_t0)),h_=x.m_oneSided;if(h_&&ws<0)return;let s_=Npt;s_.count=_o.m_count;for(let K2=0;K2<_o.m_count;++K2)s0.MultiplyVec2(l,_o.m_vertices[K2],s_.vertices[K2]),Ya.MultiplyVec2(l.q,_o.m_normals[K2],s_.normals[K2]);let B_=_o.m_radius+x.m_radius,D_=Jpt(s_,o_,l_);if(D_.separation>B_)return;let y_=Fpt(s_,o_,i_);if(y_.separation>B_)return;let G_=.98,q_=.001,j_;if(y_.separation-B_>G_*(D_.separation-B_)+q_?j_=y_:j_=D_,h_){let K2=m_.Subtract(o_,x.m_vertex0,Ept);K2.Normalize();let $2=jpt.Set(K2.y,-K2.x),P_=m_.Cross(K2,_e)>=0,E_=m_.Subtract(x.m_vertex3,i_,zpt);E_.Normalize();let Z_=Wpt.Set(E_.y,-E_.x),N_=m_.Cross(_e,E_)>=0,s2=.1;if(m_.Dot(j_.normal,_e)<=0)if(P_){if(m_.Cross(j_.normal,$2)>s2)return}else j_=D_;else if(N_){if(m_.Cross(Z_,j_.normal)>s2)return}else j_=D_}let _2=Upt,m2=Opt;if(j_.type===1){V.type=1;let K2=0,$2=m_.Dot(j_.normal,s_.normals[0]);for(let Z_=1;Z_<s_.count;++Z_){let N_=m_.Dot(j_.normal,s_.normals[Z_]);N_<$2&&($2=N_,K2=Z_)}let P_=K2,E_=P_+1<s_.count?P_+1:0;_2[0].v.Copy(s_.vertices[P_]),_2[0].id.cf.indexA=0,_2[0].id.cf.indexB=P_,_2[0].id.cf.typeA=1,_2[0].id.cf.typeB=0,_2[1].v.Copy(s_.vertices[E_]),_2[1].id.cf.indexA=0,_2[1].id.cf.indexB=E_,_2[1].id.cf.typeA=1,_2[1].id.cf.typeB=0,m2.i1=0,m2.i2=1,m2.v1.Copy(o_),m2.v2.Copy(i_),m2.normal.Copy(j_.normal),m_.Negate(_e,m2.sideNormal1),m2.sideNormal2.Copy(_e)}else V.type=2,_2[0].v.Copy(i_),_2[0].id.cf.indexA=1,_2[0].id.cf.indexB=j_.index,_2[0].id.cf.typeA=0,_2[0].id.cf.typeB=1,_2[1].v.Copy(o_),_2[1].id.cf.indexA=0,_2[1].id.cf.indexB=j_.index,_2[1].id.cf.typeA=0,_2[1].id.cf.typeB=1,m2.i1=j_.index,m2.i2=m2.i1+1<s_.count?m2.i1+1:0,m2.v1.Copy(s_.vertices[m2.i1]),m2.v2.Copy(s_.vertices[m2.i2]),m2.normal.Copy(s_.normals[m2.i1]),m2.sideNormal1.Set(m2.normal.y,-m2.normal.x),m_.Negate(m2.sideNormal1,m2.sideNormal2);m2.sideOffset1=m_.Dot(m2.sideNormal1,m2.v1),m2.sideOffset2=m_.Dot(m2.sideNormal2,m2.v2);let y2=Xpt,I2=Ypt,J2;if(J2=XV(y2,_2,m2.sideNormal1,m2.sideOffset1,m2.i1),J2<qA||(J2=XV(I2,y2,m2.sideNormal2,m2.sideOffset2,m2.i2),J2<qA))return;j_.type===1?(V.localNormal.Copy(m2.normal),V.localPoint.Copy(m2.v1)):(V.localNormal.Copy(_o.m_normals[m2.i1]),V.localPoint.Copy(_o.m_vertices[m2.i1]));let z2=0;for(let K2=0;K2<qA;++K2)if(m_.Dot(m2.normal,m_.Subtract(I2[K2].v,m2.v1,m_.s_t0))<=B_){let P_=V.points[z2];j_.type===1?(s0.TransposeMultiplyVec2(l,I2[K2].v,P_.localPoint),P_.id.Copy(I2[K2].id)):(P_.localPoint.Copy(I2[K2].v),P_.id.cf.typeA=I2[K2].id.cf.typeB,P_.id.cf.typeB=I2[K2].id.cf.typeA,P_.id.cf.indexA=I2[K2].id.cf.indexB,P_.id.cf.indexB=I2[K2].id.cf.indexA),++z2}V.pointCount=z2}var XT=class V extends qC{constructor(o=0){super(0,o);this.m_p=new m_}Set(o,_o=this.m_radius){return this.m_p.Copy(o),this.m_radius=_o,this}Clone(){return new V().Copy(this)}Copy(o){return super.Copy(o),this.m_p.Copy(o.m_p),this}GetChildCount(){return 1}static{this.TestPoint_s_center=new m_}static{this.TestPoint_s_d=new m_}TestPoint(o,_o){let _i=s0.MultiplyVec2(o,this.m_p,V.TestPoint_s_center),l=m_.Subtract(_o,_i,V.TestPoint_s_d);return m_.Dot(l,l)<=this.m_radius**2}static{this.RayCast_s_position=new m_}static{this.RayCast_s_s=new m_}static{this.RayCast_s_r=new m_}RayCast(o,_o,_i,l){let t_=s0.MultiplyVec2(_i,this.m_p,V.RayCast_s_position),o_=m_.Subtract(_o.p1,t_,V.RayCast_s_s),i_=m_.Dot(o_,o_)-this.m_radius**2,_e=m_.Subtract(_o.p2,_o.p1,V.RayCast_s_r),l_=m_.Dot(o_,_e),ws=m_.Dot(_e,_e),h_=l_*l_-ws*i_;if(h_<0||ws<GA)return!1;let s_=-(l_+Math.sqrt(h_));return s_>=0&&s_<=_o.maxFraction*ws?(s_/=ws,o.fraction=s_,m_.AddScaled(o_,s_,_e,o.normal).Normalize(),!0):!1}static{this.ComputeAABB_s_p=new m_}ComputeAABB(o,_o,_i){let l=s0.MultiplyVec2(_o,this.m_p,V.ComputeAABB_s_p);o.lowerBound.Set(l.x-this.m_radius,l.y-this.m_radius),o.upperBound.Set(l.x+this.m_radius,l.y+this.m_radius)}ComputeMass(o,_o){let _i=this.m_radius**2;o.mass=_o*Math.PI*_i,o.center.Copy(this.m_p),o.I=o.mass*(.5*_i+m_.Dot(this.m_p,this.m_p))}SetupDistanceProxy(o,_o){o.m_vertices=o.m_buffer,o.m_vertices[0]=this.m_p,o.m_count=1,o.m_radius=this.m_radius}Draw(o,_o){let _i=this.m_p,l=this.m_radius,t_=m_.UNITX;o.DrawSolidCircle(_i,l,t_,_o)}};var vC={ComputeCentroid:{s:new m_,p1:new m_,p2:new m_,p3:new m_,e1:new m_,e2:new m_},TestPoint:{pLocal:new m_},ComputeAABB:{v:new m_},ComputeMass:{center:new m_,s:new m_,e1:new m_,e2:new m_},Validate:{e:new m_,v:new m_},Set:{r:new m_,v:new m_},RayCast:{p1:new m_,p2:new m_,d:new m_},SetAsBox:{xf:new s0}};function Hpt(V,x,o){let _o=o;_o.SetZero();let _i=0,{s:l,p1:t_,p2:o_,p3:i_,e1:_e,e2:l_}=vC.ComputeCentroid;l.Copy(V[0]);let ws=1/3;for(let s_=0;s_<x;++s_){m_.Subtract(V[0],l,t_),m_.Subtract(V[s_],l,o_),m_.Subtract(V[s_+1<x?s_+1:0],l,i_),m_.Subtract(o_,t_,_e),m_.Subtract(i_,t_,l_);let D_=.5*m_.Cross(_e,l_);_i+=D_,_o.x+=D_*ws*(t_.x+o_.x+i_.x),_o.y+=D_*ws*(t_.y+o_.y+i_.y)}let h_=1/_i;return _o.x=h_*_o.x+l.x,_o.y=h_*_o.y+l.y,_o}var Zpt=new m_,n6=class V extends qC{constructor(){super(2,qP);this.m_centroid=new m_;this.m_vertices=[];this.m_normals=[];this.m_count=0}Clone(){return new V().Copy(this)}Copy(o){super.Copy(o),this.m_centroid.Copy(o.m_centroid),this.m_count=o.m_count,this.m_vertices=C1(this.m_count,m_),this.m_normals=C1(this.m_count,m_);for(let _o=0;_o<this.m_count;++_o)this.m_vertices[_o].Copy(o.m_vertices[_o]),this.m_normals[_o].Copy(o.m_normals[_o]);return this}GetChildCount(){return 1}Set(o,_o=o.length){let _i=kT(o,_o);return _i.length<3?!1:(this.SetHull(_i,_i.length),!0)}SetHull(o,_o){S1(_o>=3),this.m_count=_o,this.m_vertices=C1(_o,m_);for(let _i=0;_i<_o;++_i)this.m_vertices[_i].Copy(o[_i]);this.m_normals=C1(_o,m_);for(let _i=0;_i<this.m_count;++_i){let l=_i,t_=_i+1<this.m_count?_i+1:0,o_=m_.Subtract(this.m_vertices[t_],this.m_vertices[l],Zpt);m_.CrossVec2Scalar(o_,1,this.m_normals[_i]),this.m_normals[_i].Normalize()}return Hpt(this.m_vertices,this.m_count,this.m_centroid),this}SetAsBox(o,_o,_i,l=0){if(this.m_count=4,this.m_vertices=C1(this.m_count,m_),this.m_normals=C1(this.m_count,m_),this.m_vertices[0].Set(-o,-_o),this.m_vertices[1].Set(o,-_o),this.m_vertices[2].Set(o,_o),this.m_vertices[3].Set(-o,_o),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),_i){this.m_centroid.Copy(_i);let{xf:t_}=vC.SetAsBox;t_.SetPosition(_i),t_.SetRotationAngle(l);for(let o_=0;o_<this.m_count;++o_)s0.MultiplyVec2(t_,this.m_vertices[o_],this.m_vertices[o_]),Ya.MultiplyVec2(t_.q,this.m_normals[o_],this.m_normals[o_])}else this.m_centroid.SetZero();return this}TestPoint(o,_o){let _i=s0.TransposeMultiplyVec2(o,_o,vC.TestPoint.pLocal);for(let l=0;l<this.m_count;++l)if(m_.Dot(this.m_normals[l],m_.Subtract(_i,this.m_vertices[l],m_.s_t0))>0)return!1;return!0}RayCast(o,_o,_i,l){let t_=s0.TransposeMultiplyVec2(_i,_o.p1,vC.RayCast.p1),o_=s0.TransposeMultiplyVec2(_i,_o.p2,vC.RayCast.p2),i_=m_.Subtract(o_,t_,vC.RayCast.d),_e=0,l_=_o.maxFraction,ws=-1;for(let h_=0;h_<this.m_count;++h_){let s_=m_.Dot(this.m_normals[h_],m_.Subtract(this.m_vertices[h_],t_,m_.s_t0)),B_=m_.Dot(this.m_normals[h_],i_);if(B_===0){if(s_<0)return!1}else B_<0&&s_<_e*B_?(_e=s_/B_,ws=h_):B_>0&&s_<l_*B_&&(l_=s_/B_);if(l_<_e)return!1}return ws>=0?(o.fraction=_e,Ya.MultiplyVec2(_i.q,this.m_normals[ws],o.normal),!0):!1}ComputeAABB(o,_o,_i){let l=s0.MultiplyVec2(_o,this.m_vertices[0],o.lowerBound),t_=o.upperBound.Copy(l);for(let i_=1;i_<this.m_count;++i_){let _e=s0.MultiplyVec2(_o,this.m_vertices[i_],vC.ComputeAABB.v);m_.Min(l,_e,l),m_.Max(t_,_e,t_)}let o_=this.m_radius;l.SubtractXY(o_,o_),t_.AddXY(o_,o_)}ComputeMass(o,_o){let _i=vC.ComputeMass.center.SetZero(),l=0,t_=0,o_=vC.ComputeMass.s.Copy(this.m_vertices[0]),i_=1/3;for(let _e=0;_e<this.m_count;++_e){let l_=m_.Subtract(this.m_vertices[_e],o_,vC.ComputeMass.e1),ws=m_.Subtract(this.m_vertices[_e+1<this.m_count?_e+1:0],o_,vC.ComputeMass.e2),h_=m_.Cross(l_,ws),s_=.5*h_;l+=s_,_i.AddScaled(s_*i_,m_.Add(l_,ws,m_.s_t0));let B_=l_.x,D_=l_.y,y_=ws.x,G_=ws.y,q_=B_*B_+y_*B_+y_*y_,j_=D_*D_+G_*D_+G_*G_;t_+=.25*i_*h_*(q_+j_)}o.mass=_o*l,_i.Scale(1/l),m_.Add(_i,o_,o.center),o.I=_o*t_,o.I+=o.mass*(m_.Dot(o.center,o.center)-m_.Dot(_i,_i))}Validate(){return this.m_count<3||kS<this.m_count?!1:qT(this.m_vertices,this.m_count)}SetupDistanceProxy(o,_o){o.m_vertices=this.m_vertices,o.m_count=this.m_count,o.m_radius=this.m_radius}Draw(o,_o){let _i=this.m_count,l=this.m_vertices;o.DrawSolidPolygon(l,_i,_o)}};var zC=class V extends qC{constructor(){super(1,qP);this.m_vertex1=new m_;this.m_vertex2=new m_;this.m_vertex0=new m_;this.m_vertex3=new m_;this.m_oneSided=!1}SetOneSided(o,_o,_i,l){return this.m_vertex0.Copy(o),this.m_vertex1.Copy(_o),this.m_vertex2.Copy(_i),this.m_vertex3.Copy(l),this.m_oneSided=!0,this}SetTwoSided(o,_o){return this.m_vertex1.Copy(o),this.m_vertex2.Copy(_o),this.m_oneSided=!1,this}Clone(){return new V().Copy(this)}Copy(o){return super.Copy(o),this.m_vertex1.Copy(o.m_vertex1),this.m_vertex2.Copy(o.m_vertex2),this.m_vertex0.Copy(o.m_vertex0),this.m_vertex3.Copy(o.m_vertex3),this.m_oneSided=o.m_oneSided,this}GetChildCount(){return 1}TestPoint(o,_o){return!1}static{this.RayCast_s_p1=new m_}static{this.RayCast_s_p2=new m_}static{this.RayCast_s_d=new m_}static{this.RayCast_s_e=new m_}static{this.RayCast_s_q=new m_}static{this.RayCast_s_r=new m_}RayCast(o,_o,_i,l){let t_=s0.TransposeMultiplyVec2(_i,_o.p1,V.RayCast_s_p1),o_=s0.TransposeMultiplyVec2(_i,_o.p2,V.RayCast_s_p2),i_=m_.Subtract(o_,t_,V.RayCast_s_d),_e=this.m_vertex1,l_=this.m_vertex2,ws=m_.Subtract(l_,_e,V.RayCast_s_e),{normal:h_}=o;h_.Set(ws.y,-ws.x).Normalize();let s_=m_.Dot(h_,m_.Subtract(_e,t_,m_.s_t0));if(this.m_oneSided&&s_>0)return!1;let B_=m_.Dot(h_,i_);if(B_===0)return!1;let D_=s_/B_;if(D_<0||_o.maxFraction<D_)return!1;let y_=m_.AddScaled(t_,D_,i_,V.RayCast_s_q),G_=m_.Subtract(l_,_e,V.RayCast_s_r),q_=m_.Dot(G_,G_);if(q_===0)return!1;let j_=m_.Dot(m_.Subtract(y_,_e,m_.s_t0),G_)/q_;return j_<0||j_>1?!1:(o.fraction=D_,Ya.MultiplyVec2(_i.q,o.normal,o.normal),s_>0&&o.normal.Negate(),!0)}static{this.ComputeAABB_s_v1=new m_}static{this.ComputeAABB_s_v2=new m_}ComputeAABB(o,_o,_i){let l=s0.MultiplyVec2(_o,this.m_vertex1,V.ComputeAABB_s_v1),t_=s0.MultiplyVec2(_o,this.m_vertex2,V.ComputeAABB_s_v2);m_.Min(l,t_,o.lowerBound),m_.Max(l,t_,o.upperBound);let o_=this.m_radius;o.lowerBound.SubtractXY(o_,o_),o.upperBound.AddXY(o_,o_)}ComputeMass(o,_o){o.mass=0,m_.Mid(this.m_vertex1,this.m_vertex2,o.center),o.I=0}SetupDistanceProxy(o,_o){o.m_vertices=o.m_buffer,o.m_vertices[0]=this.m_vertex1,o.m_vertices[1]=this.m_vertex2,o.m_count=2,o.m_radius=this.m_radius}Draw(o,_o){let _i=this.m_vertex1,l=this.m_vertex2;o.DrawSegment(_i,l,_o),this.m_oneSided===!1&&(o.DrawPoint(_i,4,_o),o.DrawPoint(l,4,_o))}};var YT=class V extends qC{constructor(){super(3,qP);this.m_vertices=[];this.m_prevVertex=new m_;this.m_nextVertex=new m_}CreateLoop(o,_o=o.length){if(_o<3)return this;this.m_vertices.length=_o+1;for(let _i=0;_i<_o;++_i){let{x:l,y:t_}=o[_i];this.m_vertices[_i]=new m_(l,t_)}return this.m_vertices[_o]=this.m_vertices[0].Clone(),this.m_prevVertex.Copy(this.m_vertices[this.m_vertices.length-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this}CreateChain(o,_o,_i,l){this.m_vertices.length=_o;for(let t_=0;t_<_o;++t_){let{x:o_,y:i_}=o[t_];this.m_vertices[t_]=new m_(o_,i_)}return this.m_prevVertex.Copy(_i),this.m_nextVertex.Copy(l),this}Clone(){return new V().Copy(this)}Copy(o){return super.Copy(o),this.CreateChain(o.m_vertices,o.m_vertices.length,o.m_prevVertex,o.m_nextVertex)}GetChildCount(){return this.m_vertices.length-1}GetChildEdge(o,_o){o.m_radius=this.m_radius,o.m_vertex1.Copy(this.m_vertices[_o]),o.m_vertex2.Copy(this.m_vertices[_o+1]),o.m_oneSided=!0,_o>0?o.m_vertex0.Copy(this.m_vertices[_o-1]):o.m_vertex0.Copy(this.m_prevVertex),_o<this.m_vertices.length-2?o.m_vertex3.Copy(this.m_vertices[_o+2]):o.m_vertex3.Copy(this.m_nextVertex)}TestPoint(o,_o){return!1}static{this.RayCast_s_edgeShape=new zC}RayCast(o,_o,_i,l){let t_=V.RayCast_s_edgeShape,o_=l,i_=l+1;return i_===this.m_vertices.length&&(i_=0),t_.m_vertex1.Copy(this.m_vertices[o_]),t_.m_vertex2.Copy(this.m_vertices[i_]),t_.RayCast(o,_o,_i,0)}static{this.ComputeAABB_s_v1=new m_}static{this.ComputeAABB_s_v2=new m_}static{this.ComputeAABB_s_lower=new m_}static{this.ComputeAABB_s_upper=new m_}ComputeAABB(o,_o,_i){let l=_i,t_=_i+1;t_===this.m_vertices.length&&(t_=0);let o_=s0.MultiplyVec2(_o,this.m_vertices[l],V.ComputeAABB_s_v1),i_=s0.MultiplyVec2(_o,this.m_vertices[t_],V.ComputeAABB_s_v2),_e=m_.Min(o_,i_,V.ComputeAABB_s_lower),l_=m_.Max(o_,i_,V.ComputeAABB_s_upper);o.lowerBound.x=_e.x-this.m_radius,o.lowerBound.y=_e.y-this.m_radius,o.upperBound.x=l_.x+this.m_radius,o.upperBound.y=l_.y+this.m_radius}ComputeMass(o,_o){o.mass=0,o.center.SetZero(),o.I=0}SetupDistanceProxy(o,_o){o.m_vertices=o.m_buffer,o.m_vertices[0]=this.m_vertices[_o];let _i=_o+1<this.m_vertices.length?_o+1:0;o.m_vertices[1]=this.m_vertices[_i],o.m_count=2,o.m_radius=this.m_radius}Draw(o,_o){let _i=this.m_vertices,l=_i[0];for(let t_=1;t_<_i.length;++t_){let o_=_i[t_];o.DrawSegment(l,o_,_o),l=o_}}};var HT={pA:new m_,pB:new m_};var s6=class{constructor(x,o){this.prev=null;this.next=null;this.joint=x,this.other=o}},BS=class{constructor(x){this.userData={};this.collideConnected=!1;this.type=x}};var U1=class{constructor(x){this.m_type=0;this.m_prev=null;this.m_next=null;this.m_islandFlag=!1;this.m_collideConnected=!1;this.m_userData={};this.m_type=x.type,this.m_edgeA=new s6(this,x.bodyB),this.m_edgeB=new s6(this,x.bodyA),this.m_bodyA=x.bodyA,this.m_bodyB=x.bodyB,this.m_collideConnected=x.collideConnected??!1,this.SetUserData(x.userData)}GetType(){return this.m_type}GetBodyA(){return this.m_bodyA}GetBodyB(){return this.m_bodyB}GetNext(){return this.m_next}GetUserData(){return this.m_userData}SetUserData(x){Object.assign(this.m_userData,x)}IsEnabled(){return this.m_bodyA.IsEnabled()&&this.m_bodyB.IsEnabled()}GetCollideConnected(){return this.m_collideConnected}ShiftOrigin(x){}Draw(x){let o=this.m_bodyA.GetTransform().p,_o=this.m_bodyB.GetTransform().p,_i=this.GetAnchorA(HT.pA),l=this.GetAnchorB(HT.pB);x.DrawSegment(o,_i,uy.joint6),x.DrawSegment(_i,l,uy.joint6),x.DrawSegment(_o,l,uy.joint6)}};var X1={worldPointA:new m_,worldPointB:new m_,vpA:new m_,vpB:new m_,vpBA:new m_,P:new m_,qA:new Ya,qB:new Ya,lalcA:new m_,lalcB:new m_,Draw:{pA:new m_,pB:new m_,axis:new m_,pRest:new m_,p1:new m_,p2:new m_}},_6=class extends BS{constructor(){super(3);this.localAnchorA=new m_;this.localAnchorB=new m_;this.length=1;this.minLength=0;this.maxLength=iA;this.stiffness=0;this.damping=0}Initialize(o,_o,_i,l){this.bodyA=o,this.bodyB=_o,this.bodyA.GetLocalPoint(_i,this.localAnchorA),this.bodyB.GetLocalPoint(l,this.localAnchorB),this.length=Math.max(m_.Distance(_i,l),_b),this.minLength=this.length,this.maxLength=this.length}},a6=class extends U1{constructor(o){super(o);this.m_bias=0;this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_gamma=0;this.m_impulse=0;this.m_lowerImpulse=0;this.m_upperImpulse=0;this.m_indexA=0;this.m_indexB=0;this.m_u=new m_;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_currentLength=0;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_softMass=0;this.m_mass=0;this.m_localAnchorA.Copy(o.localAnchorA),this.m_localAnchorB.Copy(o.localAnchorB),this.m_length=Math.max(o.length,_b),this.m_minLength=Math.max(o.minLength,_b),this.m_maxLength=Math.max(o.maxLength,this.m_minLength),this.m_stiffness=o.stiffness??0,this.m_damping=o.damping??0}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){let _i=o*(this.m_impulse+this.m_lowerImpulse-this.m_upperImpulse);return _o.x=_i*this.m_u.x,_o.y=_i*this.m_u.y,_o}GetReactionTorque(o){return 0}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetLength(o){return this.m_impulse=0,this.m_length=Math.max(_b,o),this.m_length}GetLength(){return this.m_length}SetMinLength(o){return this.m_lowerImpulse=0,this.m_minLength=lA(o,_b,this.m_maxLength),this.m_minLength}GetMinLength(){return this.m_minLength}SetMaxLength(o){return this.m_upperImpulse=0,this.m_maxLength=Math.max(o,this.m_minLength),this.m_maxLength}GetMaxLength(){return this.m_maxLength}GetCurrentLength(){let o=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,X1.worldPointA),_o=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,X1.worldPointB);return m_.Distance(_o,o)}SetStiffness(o){this.m_stiffness=o}GetStiffness(){return this.m_stiffness}SetDamping(o){this.m_damping=o}GetDamping(){return this.m_damping}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.velocities[this.m_indexA].v,t_=o.velocities[this.m_indexA].w,o_=o.positions[this.m_indexB].c,i_=o.positions[this.m_indexB].a,_e=o.velocities[this.m_indexB].v,l_=o.velocities[this.m_indexB].w,{qA:ws,qB:h_,lalcA:s_,lalcB:B_}=X1;ws.Set(_i),h_.Set(i_),Ya.MultiplyVec2(ws,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,s_),this.m_rA),Ya.MultiplyVec2(h_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,B_),this.m_rB),this.m_u.x=o_.x+this.m_rB.x-_o.x-this.m_rA.x,this.m_u.y=o_.y+this.m_rB.y-_o.y-this.m_rA.y,this.m_currentLength=this.m_u.Length(),this.m_currentLength>_b?this.m_u.Scale(1/this.m_currentLength):(this.m_u.SetZero(),this.m_mass=0,this.m_impulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0);let D_=m_.Cross(this.m_rA,this.m_u),y_=m_.Cross(this.m_rB,this.m_u),G_=this.m_invMassA+this.m_invIA*D_*D_+this.m_invMassB+this.m_invIB*y_*y_;if(this.m_mass=G_!==0?1/G_:0,this.m_stiffness>0&&this.m_minLength<this.m_maxLength){let q_=this.m_currentLength-this.m_length,j_=this.m_damping,_2=this.m_stiffness,m2=o.step.dt;this.m_gamma=m2*(j_+m2*_2),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=q_*m2*_2*this.m_gamma,G_+=this.m_gamma,this.m_softMass=G_!==0?1/G_:0}else this.m_gamma=0,this.m_bias=0,this.m_softMass=this.m_mass;if(o.step.warmStarting){this.m_impulse*=o.step.dtRatio,this.m_lowerImpulse*=o.step.dtRatio,this.m_upperImpulse*=o.step.dtRatio;let{P:q_}=X1;m_.Scale(this.m_impulse+this.m_lowerImpulse-this.m_upperImpulse,this.m_u,q_),l.SubtractScaled(this.m_invMassA,q_),t_-=this.m_invIA*m_.Cross(this.m_rA,q_),_e.AddScaled(this.m_invMassB,q_),l_+=this.m_invIB*m_.Cross(this.m_rB,q_)}else this.m_impulse=0;o.velocities[this.m_indexA].w=t_,o.velocities[this.m_indexB].w=l_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_i=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,t_=o.velocities[this.m_indexB].w;if(this.m_minLength<this.m_maxLength){if(this.m_stiffness>0){let o_=m_.AddCrossScalarVec2(_o,_i,this.m_rA,X1.vpA),i_=m_.AddCrossScalarVec2(l,t_,this.m_rB,X1.vpB),_e=m_.Dot(this.m_u,m_.Subtract(i_,o_,X1.vpBA)),l_=-this.m_softMass*(_e+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=l_;let ws=m_.Scale(l_,this.m_u,X1.P);_o.SubtractScaled(this.m_invMassA,ws),_i-=this.m_invIA*m_.Cross(this.m_rA,ws),l.AddScaled(this.m_invMassB,ws),t_+=this.m_invIB*m_.Cross(this.m_rB,ws)}{let o_=this.m_currentLength-this.m_minLength,i_=Math.max(0,o_)*o.step.inv_dt,_e=m_.AddCrossScalarVec2(_o,_i,this.m_rA,X1.vpA),l_=m_.AddCrossScalarVec2(l,t_,this.m_rB,X1.vpB),ws=m_.Dot(this.m_u,m_.Subtract(l_,_e,X1.vpBA)),h_=-this.m_mass*(ws+i_),s_=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(0,this.m_lowerImpulse+h_),h_=this.m_lowerImpulse-s_;let B_=m_.Scale(h_,this.m_u,X1.P);_o.SubtractScaled(this.m_invMassA,B_),_i-=this.m_invIA*m_.Cross(this.m_rA,B_),l.AddScaled(this.m_invMassB,B_),t_+=this.m_invIB*m_.Cross(this.m_rB,B_)}{let o_=this.m_maxLength-this.m_currentLength,i_=Math.max(0,o_)*o.step.inv_dt,_e=m_.AddCrossScalarVec2(_o,_i,this.m_rA,X1.vpA),l_=m_.AddCrossScalarVec2(l,t_,this.m_rB,X1.vpB),ws=m_.Dot(this.m_u,m_.Subtract(_e,l_,X1.vpBA)),h_=-this.m_mass*(ws+i_),s_=this.m_upperImpulse;this.m_upperImpulse=Math.max(0,this.m_upperImpulse+h_),h_=this.m_upperImpulse-s_;let B_=m_.Scale(-h_,this.m_u,X1.P);_o.SubtractScaled(this.m_invMassA,B_),_i-=this.m_invIA*m_.Cross(this.m_rA,B_),l.AddScaled(this.m_invMassB,B_),t_+=this.m_invIB*m_.Cross(this.m_rB,B_)}}else{let o_=m_.AddCrossScalarVec2(_o,_i,this.m_rA,X1.vpA),i_=m_.AddCrossScalarVec2(l,t_,this.m_rB,X1.vpB),_e=m_.Dot(this.m_u,m_.Subtract(i_,o_,X1.vpBA)),l_=-this.m_mass*_e;this.m_impulse+=l_;let ws=m_.Scale(l_,this.m_u,X1.P);_o.SubtractScaled(this.m_invMassA,ws),_i-=this.m_invIA*m_.Cross(this.m_rA,ws),l.AddScaled(this.m_invMassB,ws),t_+=this.m_invIB*m_.Cross(this.m_rB,ws)}o.velocities[this.m_indexA].w=_i,o.velocities[this.m_indexB].w=t_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,t_=o.positions[this.m_indexB].a,{qA:o_,qB:i_,lalcA:_e,lalcB:l_,P:ws}=X1;o_.Set(_i),i_.Set(t_);let h_=Ya.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,_e),this.m_rA),s_=Ya.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,l_),this.m_rB);this.m_u.x=l.x+s_.x-_o.x-h_.x,this.m_u.y=l.y+s_.y-_o.y-h_.y;let B_=this.m_u.Normalize(),D_;if(this.m_minLength===this.m_maxLength)D_=B_-this.m_minLength;else if(B_<this.m_minLength)D_=B_-this.m_minLength;else if(this.m_maxLength<B_)D_=B_-this.m_maxLength;else return!0;let y_=-this.m_mass*D_;return m_.Scale(y_,this.m_u,ws),_o.SubtractScaled(this.m_invMassA,ws),_i-=this.m_invIA*m_.Cross(h_,ws),l.AddScaled(this.m_invMassB,ws),t_+=this.m_invIB*m_.Cross(s_,ws),o.positions[this.m_indexA].a=_i,o.positions[this.m_indexB].a=t_,Math.abs(D_)<_b}Draw(o){let{pA:_o,pB:_i,axis:l,pRest:t_}=X1.Draw,o_=this.m_bodyA.GetTransform(),i_=this.m_bodyB.GetTransform();if(s0.MultiplyVec2(o_,this.m_localAnchorA,_o),s0.MultiplyVec2(i_,this.m_localAnchorB,_i),m_.Subtract(_i,_o,l),l.Normalize(),o.DrawSegment(_o,_i,uy.joint5),m_.AddScaled(_o,this.m_length,l,t_),o.DrawPoint(t_,8,uy.joint1),this.m_minLength!==this.m_maxLength){if(this.m_minLength>_b){let _e=m_.AddScaled(_o,this.m_minLength,l,X1.Draw.p1);o.DrawPoint(_e,4,uy.joint2)}if(this.m_maxLength<iA){let _e=m_.AddScaled(_o,this.m_maxLength,l,X1.Draw.p1);o.DrawPoint(_e,4,uy.joint3)}}}};var p6=class extends U1{constructor(o){super(o);this.m_stiffness=0;this.m_damping=0;this.m_impulse=0;this.m_targetArea=0;this.m_joints=[];this.m_delta=new m_;this.m_bodies=o.bodies,this.m_stiffness=o.stiffness??0,this.m_damping=o.damping??0,this.m_targetLengths=jB(o.bodies.length),this.m_normals=C1(o.bodies.length,m_),this.m_deltas=C1(o.bodies.length,m_);let _o=new _6;_o.stiffness=this.m_stiffness,_o.damping=this.m_damping,this.m_targetArea=0;for(let _i=0;_i<this.m_bodies.length;++_i){let l=this.m_bodies[_i],t_=this.m_bodies[(_i+1)%this.m_bodies.length],o_=l.GetWorldCenter(),i_=t_.GetWorldCenter();this.m_targetLengths[_i]=m_.Distance(o_,i_),this.m_targetArea+=m_.Cross(o_,i_),_o.Initialize(l,t_,o_,i_),this.m_joints[_i]=l.GetWorld().CreateJoint(_o)}this.m_targetArea*=.5}GetAnchorA(o){return o}GetAnchorB(o){return o}GetReactionForce(o,_o){return _o}GetReactionTorque(o){return 0}SetStiffness(o){this.m_stiffness=o;for(let _o of this.m_joints)_o.SetStiffness(o)}GetStiffness(){return this.m_stiffness}SetDamping(o){this.m_damping=o;for(let _o of this.m_joints)_o.SetDamping(o)}GetDamping(){return this.m_damping}InitVelocityConstraints(o){for(let _o=0;_o<this.m_bodies.length;++_o){let _i=this.m_bodies[(_o+this.m_bodies.length-1)%this.m_bodies.length],l=this.m_bodies[(_o+1)%this.m_bodies.length],t_=o.positions[_i.m_islandIndex].c,o_=o.positions[l.m_islandIndex].c,i_=this.m_deltas[_o];m_.Subtract(o_,t_,i_)}if(o.step.warmStarting){this.m_impulse*=o.step.dtRatio;for(let _o=0;_o<this.m_bodies.length;++_o){let _i=this.m_bodies[_o],l=o.velocities[_i.m_islandIndex].v,t_=this.m_deltas[_o];l.x+=_i.m_invMass*t_.y*.5*this.m_impulse,l.y+=_i.m_invMass*-t_.x*.5*this.m_impulse}}else this.m_impulse=0}SolveVelocityConstraints(o){let _o=0,_i=0;for(let t_=0;t_<this.m_bodies.length;++t_){let o_=this.m_bodies[t_],i_=o.velocities[o_.m_islandIndex].v,_e=this.m_deltas[t_];_o+=_e.LengthSquared()/o_.GetMass(),_i+=m_.Cross(i_,_e)}let l=-2*_i/_o;this.m_impulse+=l;for(let t_=0;t_<this.m_bodies.length;++t_){let o_=this.m_bodies[t_],i_=o.velocities[o_.m_islandIndex].v,_e=this.m_deltas[t_];i_.x+=o_.m_invMass*_e.y*.5*l,i_.y+=o_.m_invMass*-_e.x*.5*l}}SolvePositionConstraints(o){let _o=0,_i=0;for(let i_=0;i_<this.m_bodies.length;++i_){let _e=this.m_bodies[i_],l_=this.m_bodies[(i_+1)%this.m_bodies.length],ws=o.positions[_e.m_islandIndex].c,h_=o.positions[l_.m_islandIndex].c,s_=m_.Subtract(h_,ws,this.m_delta),B_=s_.Length();B_<GA&&(B_=1),this.m_normals[i_].x=s_.y/B_,this.m_normals[i_].y=-s_.x/B_,_o+=B_,_i+=m_.Cross(ws,h_)}_i*=.5;let t_=.5*(this.m_targetArea-_i)/_o,o_=!0;for(let i_=0;i_<this.m_bodies.length;++i_){let _e=this.m_bodies[i_],l_=o.positions[_e.m_islandIndex].c,ws=(i_+1)%this.m_bodies.length,h_=m_.Add(this.m_normals[i_],this.m_normals[ws],this.m_delta);h_.Scale(t_);let s_=h_.LengthSquared();s_>EV**2&&h_.Scale(EV/Math.sqrt(s_)),s_>_b**2&&(o_=!1),l_.Add(h_)}return o_}};var ZT={qA:new Ya,qB:new Ya,lalcA:new m_,lalcB:new m_,Cdot:new m_,impulse:new m_,oldImpulse:new m_};var c6=class extends U1{constructor(o){super(o);this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_linearImpulse=new m_;this.m_angularImpulse=0;this.m_maxForce=0;this.m_maxTorque=0;this.m_indexA=0;this.m_indexB=0;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_linearMass=new rA;this.m_angularMass=0;this.m_localAnchorA.Copy(o.localAnchorA),this.m_localAnchorB.Copy(o.localAnchorB),this.m_linearImpulse.SetZero(),this.m_maxForce=o.maxForce??0,this.m_maxTorque=o.maxTorque??0}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].a,_i=o.velocities[this.m_indexA].v,l=o.velocities[this.m_indexA].w,t_=o.positions[this.m_indexB].a,o_=o.velocities[this.m_indexB].v,i_=o.velocities[this.m_indexB].w,{qA:_e,qB:l_,lalcA:ws,lalcB:h_}=ZT;_e.Set(_o),l_.Set(t_),Ya.MultiplyVec2(_e,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,ws),this.m_rA),Ya.MultiplyVec2(l_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,h_),this.m_rB);let s_=this.m_invMassA,B_=this.m_invMassB,D_=this.m_invIA,y_=this.m_invIB,G_=this.m_linearMass;if(G_.ex.x=s_+B_+D_*this.m_rA.y*this.m_rA.y+y_*this.m_rB.y*this.m_rB.y,G_.ex.y=-D_*this.m_rA.x*this.m_rA.y-y_*this.m_rB.x*this.m_rB.y,G_.ey.x=G_.ex.y,G_.ey.y=s_+B_+D_*this.m_rA.x*this.m_rA.x+y_*this.m_rB.x*this.m_rB.x,G_.Inverse(),this.m_angularMass=D_+y_,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),o.step.warmStarting){this.m_linearImpulse.Scale(o.step.dtRatio),this.m_angularImpulse*=o.step.dtRatio;let q_=this.m_linearImpulse;_i.SubtractScaled(s_,q_),l-=D_*(m_.Cross(this.m_rA,q_)+this.m_angularImpulse),o_.AddScaled(B_,q_),i_+=y_*(m_.Cross(this.m_rB,q_)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;o.velocities[this.m_indexA].w=l,o.velocities[this.m_indexB].w=i_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_i=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,t_=o.velocities[this.m_indexB].w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB,ws=o.step.dt;{let h_=t_-_i,s_=-this.m_angularMass*h_,B_=this.m_angularImpulse,D_=ws*this.m_maxTorque;this.m_angularImpulse=lA(this.m_angularImpulse+s_,-D_,D_),s_=this.m_angularImpulse-B_,_i-=_e*s_,t_+=l_*s_}{let{Cdot:h_,impulse:s_,oldImpulse:B_}=ZT;m_.Subtract(m_.AddCrossScalarVec2(l,t_,this.m_rB,m_.s_t0),m_.AddCrossScalarVec2(_o,_i,this.m_rA,m_.s_t1),h_),rA.MultiplyVec2(this.m_linearMass,h_,s_).Negate(),B_.Copy(this.m_linearImpulse),this.m_linearImpulse.Add(s_);let D_=ws*this.m_maxForce;this.m_linearImpulse.LengthSquared()>D_*D_&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Scale(D_)),m_.Subtract(this.m_linearImpulse,B_,s_),_o.SubtractScaled(o_,s_),_i-=_e*m_.Cross(this.m_rA,s_),l.AddScaled(i_,s_),t_+=l_*m_.Cross(this.m_rB,s_)}o.velocities[this.m_indexA].w=_i,o.velocities[this.m_indexB].w=t_}SolvePositionConstraints(o){return!0}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return _o.x=o*this.m_linearImpulse.x,_o.y=o*this.m_linearImpulse.y,_o}GetReactionTorque(o){return o*this.m_angularImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}SetMaxForce(o){this.m_maxForce=o}GetMaxForce(){return this.m_maxForce}SetMaxTorque(o){this.m_maxTorque=o}GetMaxTorque(){return this.m_maxTorque}};var HV={qA:new Ya,qB:new Ya,qC:new Ya,qD:new Ya,lalcA:new m_,lalcB:new m_,lalcC:new m_,lalcD:new m_,u:new m_,rA:new m_,rB:new m_,rC:new m_,rD:new m_,JvAC:new m_,JvBD:new m_};var l6=class extends U1{constructor(o){super(o);this.m_typeA=0;this.m_typeB=0;this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_localAnchorC=new m_;this.m_localAnchorD=new m_;this.m_localAxisC=new m_;this.m_localAxisD=new m_;this.m_referenceAngleA=0;this.m_referenceAngleB=0;this.m_constant=0;this.m_ratio=0;this.m_tolerance=0;this.m_impulse=0;this.m_indexA=0;this.m_indexB=0;this.m_indexC=0;this.m_indexD=0;this.m_lcA=new m_;this.m_lcB=new m_;this.m_lcC=new m_;this.m_lcD=new m_;this.m_mA=0;this.m_mB=0;this.m_mC=0;this.m_mD=0;this.m_iA=0;this.m_iB=0;this.m_iC=0;this.m_iD=0;this.m_JvAC=new m_;this.m_JvBD=new m_;this.m_JwA=0;this.m_JwB=0;this.m_JwC=0;this.m_JwD=0;this.m_mass=0;this.m_joint1=o.joint1,this.m_joint2=o.joint2,this.m_typeA=this.m_joint1.GetType(),this.m_typeB=this.m_joint2.GetType();let _o,_i;this.m_bodyC=this.m_joint1.GetBodyA(),this.m_bodyA=this.m_joint1.GetBodyB();let l=this.m_bodyA.m_xf,t_=this.m_bodyA.m_sweep.a,o_=this.m_bodyC.m_xf,i_=this.m_bodyC.m_sweep.a;if(this.m_typeA===1){let s_=o.joint1;this.m_localAnchorC.Copy(s_.m_localAnchorA),this.m_localAnchorA.Copy(s_.m_localAnchorB),this.m_referenceAngleA=s_.m_referenceAngle,this.m_localAxisC.SetZero(),_o=t_-i_-this.m_referenceAngleA,this.m_tolerance=gC}else{let s_=o.joint1;this.m_localAnchorC.Copy(s_.m_localAnchorA),this.m_localAnchorA.Copy(s_.m_localAnchorB),this.m_referenceAngleA=s_.m_referenceAngle,this.m_localAxisC.Copy(s_.m_localXAxisA);let B_=this.m_localAnchorC,D_=Ya.TransposeMultiplyVec2(o_.q,Ya.MultiplyVec2(l.q,this.m_localAnchorA,m_.s_t0).Add(l.p).Subtract(o_.p),m_.s_t0);_o=m_.Dot(D_.Subtract(B_),this.m_localAxisC),this.m_tolerance=_b}this.m_bodyD=this.m_joint2.GetBodyA(),this.m_bodyB=this.m_joint2.GetBodyB();let _e=this.m_bodyB.m_xf,l_=this.m_bodyB.m_sweep.a,ws=this.m_bodyD.m_xf,h_=this.m_bodyD.m_sweep.a;if(this.m_typeB===1){let s_=o.joint2;this.m_localAnchorD.Copy(s_.m_localAnchorA),this.m_localAnchorB.Copy(s_.m_localAnchorB),this.m_referenceAngleB=s_.m_referenceAngle,this.m_localAxisD.SetZero(),_i=l_-h_-this.m_referenceAngleB}else{let s_=o.joint2;this.m_localAnchorD.Copy(s_.m_localAnchorA),this.m_localAnchorB.Copy(s_.m_localAnchorB),this.m_referenceAngleB=s_.m_referenceAngle,this.m_localAxisD.Copy(s_.m_localXAxisA);let B_=this.m_localAnchorD,D_=Ya.TransposeMultiplyVec2(ws.q,Ya.MultiplyVec2(_e.q,this.m_localAnchorB,m_.s_t0).Add(_e.p).Subtract(ws.p),m_.s_t0);_i=m_.Dot(D_.Subtract(B_),this.m_localAxisD)}this.m_ratio=o.ratio??1,this.m_constant=_o+this.m_ratio*_i,this.m_impulse=0}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;let _o=o.positions[this.m_indexA].a,_i=o.velocities[this.m_indexA].v,l=o.velocities[this.m_indexA].w,t_=o.positions[this.m_indexB].a,o_=o.velocities[this.m_indexB].v,i_=o.velocities[this.m_indexB].w,_e=o.positions[this.m_indexC].a,l_=o.velocities[this.m_indexC].v,ws=o.velocities[this.m_indexC].w,h_=o.positions[this.m_indexD].a,s_=o.velocities[this.m_indexD].v,B_=o.velocities[this.m_indexD].w,{qA:D_,qB:y_,qC:G_,qD:q_}=HV;if(D_.Set(_o),y_.Set(t_),G_.Set(_e),q_.Set(h_),this.m_mass=0,this.m_typeA===1)this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{let{u:j_,rC:_2,rA:m2,lalcA:y2,lalcC:I2}=HV;Ya.MultiplyVec2(G_,this.m_localAxisC,j_),Ya.MultiplyVec2(G_,m_.Subtract(this.m_localAnchorC,this.m_lcC,I2),_2),Ya.MultiplyVec2(D_,m_.Subtract(this.m_localAnchorA,this.m_lcA,y2),m2),this.m_JvAC.Copy(j_),this.m_JwC=m_.Cross(_2,j_),this.m_JwA=m_.Cross(m2,j_),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_typeB===1)this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{let{u:j_,rB:_2,rD:m2,lalcB:y2,lalcD:I2}=HV;Ya.MultiplyVec2(q_,this.m_localAxisD,j_),Ya.MultiplyVec2(q_,m_.Subtract(this.m_localAnchorD,this.m_lcD,I2),m2),Ya.MultiplyVec2(y_,m_.Subtract(this.m_localAnchorB,this.m_lcB,y2),_2),m_.Scale(this.m_ratio,j_,this.m_JvBD),this.m_JwD=this.m_ratio*m_.Cross(m2,j_),this.m_JwB=this.m_ratio*m_.Cross(_2,j_),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,o.step.warmStarting?(_i.AddScaled(this.m_mA*this.m_impulse,this.m_JvAC),l+=this.m_iA*this.m_impulse*this.m_JwA,o_.AddScaled(this.m_mB*this.m_impulse,this.m_JvBD),i_+=this.m_iB*this.m_impulse*this.m_JwB,l_.SubtractScaled(this.m_mC*this.m_impulse,this.m_JvAC),ws-=this.m_iC*this.m_impulse*this.m_JwC,s_.SubtractScaled(this.m_mD*this.m_impulse,this.m_JvBD),B_-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,o.velocities[this.m_indexA].w=l,o.velocities[this.m_indexB].w=i_,o.velocities[this.m_indexC].w=ws,o.velocities[this.m_indexD].w=B_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_i=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,t_=o.velocities[this.m_indexB].w,o_=o.velocities[this.m_indexC].v,i_=o.velocities[this.m_indexC].w,_e=o.velocities[this.m_indexD].v,l_=o.velocities[this.m_indexD].w,ws=m_.Dot(this.m_JvAC,m_.Subtract(_o,o_,m_.s_t0))+m_.Dot(this.m_JvBD,m_.Subtract(l,_e,m_.s_t0));ws+=this.m_JwA*_i-this.m_JwC*i_+(this.m_JwB*t_-this.m_JwD*l_);let h_=-this.m_mass*ws;this.m_impulse+=h_,_o.AddScaled(this.m_mA*h_,this.m_JvAC),_i+=this.m_iA*h_*this.m_JwA,l.AddScaled(this.m_mB*h_,this.m_JvBD),t_+=this.m_iB*h_*this.m_JwB,o_.SubtractScaled(this.m_mC*h_,this.m_JvAC),i_-=this.m_iC*h_*this.m_JwC,_e.SubtractScaled(this.m_mD*h_,this.m_JvBD),l_-=this.m_iD*h_*this.m_JwD,o.velocities[this.m_indexA].w=_i,o.velocities[this.m_indexB].w=t_,o.velocities[this.m_indexC].w=i_,o.velocities[this.m_indexD].w=l_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,t_=o.positions[this.m_indexB].a,o_=o.positions[this.m_indexC].c,i_=o.positions[this.m_indexC].a,_e=o.positions[this.m_indexD].c,l_=o.positions[this.m_indexD].a,{qA:ws,qB:h_,qC:s_,qD:B_,JvAC:D_,JvBD:y_}=HV;ws.Set(_i),h_.Set(t_),s_.Set(i_),B_.Set(l_);let G_,q_,j_,_2,m2,y2,I2=0;if(this.m_typeA===1)D_.SetZero(),j_=1,m2=1,I2+=this.m_iA+this.m_iC,G_=_i-i_-this.m_referenceAngleA;else{let{u:K2,rC:$2,rA:P_,lalcC:E_,lalcA:Z_}=HV;Ya.MultiplyVec2(s_,this.m_localAxisC,K2),Ya.MultiplyVec2(s_,m_.Subtract(this.m_localAnchorC,this.m_lcC,E_),$2),Ya.MultiplyVec2(ws,m_.Subtract(this.m_localAnchorA,this.m_lcA,Z_),P_),D_.Copy(K2),m2=m_.Cross($2,K2),j_=m_.Cross(P_,K2),I2+=this.m_mC+this.m_mA+this.m_iC*m2*m2+this.m_iA*j_*j_;let N_=E_,s2=Ya.TransposeMultiplyVec2(s_,m_.Add(P_,_o,m_.s_t0).Subtract(o_),m_.s_t0);G_=m_.Dot(m_.Subtract(s2,N_,m_.s_t0),this.m_localAxisC)}if(this.m_typeB===1)y_.SetZero(),_2=this.m_ratio,y2=this.m_ratio,I2+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),q_=t_-l_-this.m_referenceAngleB;else{let{u:K2,rD:$2,rB:P_,lalcD:E_,lalcB:Z_}=HV;Ya.MultiplyVec2(B_,this.m_localAxisD,K2),Ya.MultiplyVec2(B_,m_.Subtract(this.m_localAnchorD,this.m_lcD,E_),$2),Ya.MultiplyVec2(h_,m_.Subtract(this.m_localAnchorB,this.m_lcB,Z_),P_),m_.Scale(this.m_ratio,K2,y_),y2=this.m_ratio*m_.Cross($2,K2),_2=this.m_ratio*m_.Cross(P_,K2),I2+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*y2*y2+this.m_iB*_2*_2;let N_=E_,s2=Ya.TransposeMultiplyVec2(B_,m_.Add(P_,l,m_.s_t0).Subtract(_e),m_.s_t0);q_=m_.Dot(s2.Subtract(N_),this.m_localAxisD)}let J2=G_+this.m_ratio*q_-this.m_constant,z2=0;return I2>0&&(z2=-J2/I2),_o.AddScaled(this.m_mA*z2,D_),_i+=this.m_iA*z2*j_,l.AddScaled(this.m_mB*z2,y_),t_+=this.m_iB*z2*_2,o_.SubtractScaled(this.m_mC*z2,D_),i_-=this.m_iC*z2*m2,_e.SubtractScaled(this.m_mD*z2,y_),l_-=this.m_iD*z2*y2,o.positions[this.m_indexA].a=_i,o.positions[this.m_indexB].a=t_,o.positions[this.m_indexC].a=i_,o.positions[this.m_indexD].a=l_,Math.abs(J2)<this.m_tolerance}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return m_.Scale(o*this.m_impulse,this.m_JvAC,_o)}GetReactionTorque(o){return o*this.m_impulse*this.m_JwA}GetJoint1(){return this.m_joint1}GetJoint2(){return this.m_joint2}GetRatio(){return this.m_ratio}SetRatio(o){this.m_ratio=o}};var KT={qA:new Ya,qB:new Ya,K:new rA,Cdot:new m_,impulse:new m_,oldImpulse:new m_};var m6=class extends U1{constructor(o){super(o);this.m_linearOffset=new m_;this.m_linearImpulse=new m_;this.m_angularImpulse=0;this.m_indexA=0;this.m_indexB=0;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_linearError=new m_;this.m_angularError=0;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_linearMass=new rA;this.m_angularMass=0;this.m_linearOffset.Copy(o.linearOffset??m_.ZERO),this.m_angularOffset=o.angularOffset??0,this.m_linearImpulse.SetZero(),this.m_maxForce=o.maxForce??1,this.m_maxTorque=o.maxTorque??1,this.m_correctionFactor=o.correctionFactor??.3}GetAnchorA(o){let _o=this.m_bodyA.GetPosition();return o.x=_o.x,o.y=_o.y,o}GetAnchorB(o){let _o=this.m_bodyB.GetPosition();return o.x=_o.x,o.y=_o.y,o}GetReactionForce(o,_o){return m_.Scale(o,this.m_linearImpulse,_o)}GetReactionTorque(o){return o*this.m_angularImpulse}SetLinearOffset(o){m_.Equals(o,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(o))}GetLinearOffset(){return this.m_linearOffset}SetAngularOffset(o){o!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=o)}GetAngularOffset(){return this.m_angularOffset}SetMaxForce(o){this.m_maxForce=o}GetMaxForce(){return this.m_maxForce}SetMaxTorque(o){this.m_maxTorque=o}GetMaxTorque(){return this.m_maxTorque}GetCorrectionFactor(){return this.m_correctionFactor}SetCorrectionFactor(o){this.m_correctionFactor=o}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.velocities[this.m_indexA].v,t_=o.velocities[this.m_indexA].w,o_=o.positions[this.m_indexB].c,i_=o.positions[this.m_indexB].a,_e=o.velocities[this.m_indexB].v,l_=o.velocities[this.m_indexB].w,{qA:ws,qB:h_}=KT;ws.Set(_i),h_.Set(i_);let s_=Ya.MultiplyVec2(ws,m_.Subtract(this.m_linearOffset,this.m_localCenterA,m_.s_t0),this.m_rA),B_=Ya.MultiplyVec2(h_,m_.Negate(this.m_localCenterB,m_.s_t0),this.m_rB),D_=this.m_invMassA,y_=this.m_invMassB,G_=this.m_invIA,q_=this.m_invIB,j_=this.m_linearMass;if(j_.ex.x=D_+y_+G_*s_.y*s_.y+q_*B_.y*B_.y,j_.ex.y=-G_*s_.x*s_.y-q_*B_.x*B_.y,j_.ey.x=j_.ex.y,j_.ey.y=D_+y_+G_*s_.x*s_.x+q_*B_.x*B_.x,j_.Inverse(),this.m_angularMass=G_+q_,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),m_.Subtract(m_.Add(o_,B_,m_.s_t0),m_.Add(_o,s_,m_.s_t1),this.m_linearError),this.m_angularError=i_-_i-this.m_angularOffset,o.step.warmStarting){this.m_linearImpulse.Scale(o.step.dtRatio),this.m_angularImpulse*=o.step.dtRatio;let _2=this.m_linearImpulse;l.SubtractScaled(D_,_2),t_-=G_*(m_.Cross(s_,_2)+this.m_angularImpulse),_e.AddScaled(y_,_2),l_+=q_*(m_.Cross(B_,_2)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;o.velocities[this.m_indexA].w=t_,o.velocities[this.m_indexB].w=l_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_i=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,t_=o.velocities[this.m_indexB].w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB,ws=o.step.dt,h_=o.step.inv_dt;{let s_=t_-_i+h_*this.m_correctionFactor*this.m_angularError,B_=-this.m_angularMass*s_,D_=this.m_angularImpulse,y_=ws*this.m_maxTorque;this.m_angularImpulse=lA(this.m_angularImpulse+B_,-y_,y_),B_=this.m_angularImpulse-D_,_i-=_e*B_,t_+=l_*B_}{let{impulse:s_,oldImpulse:B_,Cdot:D_}=KT;m_.AddScaled(m_.Subtract(m_.AddCrossScalarVec2(l,t_,this.m_rB,m_.s_t0),m_.AddCrossScalarVec2(_o,_i,this.m_rA,m_.s_t1),m_.s_t2),h_*this.m_correctionFactor,this.m_linearError,D_),rA.MultiplyVec2(this.m_linearMass,D_,s_).Negate(),B_.Copy(this.m_linearImpulse),this.m_linearImpulse.Add(s_);let y_=ws*this.m_maxForce;this.m_linearImpulse.LengthSquared()>y_*y_&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Scale(y_)),m_.Subtract(this.m_linearImpulse,B_,s_),_o.SubtractScaled(o_,s_),_i-=_e*m_.Cross(this.m_rA,s_),l.AddScaled(i_,s_),t_+=l_*m_.Cross(this.m_rB,s_)}o.velocities[this.m_indexA].w=_i,o.velocities[this.m_indexB].w=t_}SolvePositionConstraints(o){return!0}};var b6={qB:new Ya,lalcB:new m_,Cdot:new m_,impulse:new m_,oldImpulse:new m_,pA:new m_,pB:new m_};var u6=class extends U1{constructor(o){super(o);this.m_localAnchorB=new m_;this.m_targetA=new m_;this.m_stiffness=0;this.m_damping=0;this.m_beta=0;this.m_impulse=new m_;this.m_maxForce=0;this.m_gamma=0;this.m_indexB=0;this.m_rB=new m_;this.m_localCenterB=new m_;this.m_invMassB=0;this.m_invIB=0;this.m_mass=new rA;this.m_C=new m_;this.m_targetA.Copy(o.target??m_.ZERO),s0.TransposeMultiplyVec2(this.m_bodyB.GetTransform(),this.m_targetA,this.m_localAnchorB),this.m_maxForce=o.maxForce??0,this.m_stiffness=o.stiffness??0,this.m_damping=o.damping??0,this.m_beta=0,this.m_gamma=0}SetTarget(o){m_.Equals(o,this.m_targetA)||(this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(o))}GetTarget(){return this.m_targetA}SetMaxForce(o){this.m_maxForce=o}GetMaxForce(){return this.m_maxForce}SetStiffness(o){this.m_stiffness=o}GetStiffness(){return this.m_stiffness}SetDamping(o){this.m_damping=o}GetDamping(){return this.m_damping}InitVelocityConstraints(o){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexB].c,_i=o.positions[this.m_indexB].a,l=o.velocities[this.m_indexB].v,t_=o.velocities[this.m_indexB].w,{qB:o_,lalcB:i_}=b6;o_.Set(_i);let _e=this.m_damping,l_=this.m_stiffness,ws=o.step.dt;this.m_gamma=ws*(_e+ws*l_),this.m_gamma!==0&&(this.m_gamma=1/this.m_gamma),this.m_beta=ws*l_*this.m_gamma,Ya.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,i_),this.m_rB);let h_=this.m_mass;h_.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,h_.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,h_.ey.x=h_.ex.y,h_.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,h_.Inverse(),m_.Add(_o,this.m_rB,this.m_C).Subtract(this.m_targetA),this.m_C.Scale(this.m_beta),t_*=Math.max(0,1-.02*(60*o.step.dt)),o.step.warmStarting?(this.m_impulse.Scale(o.step.dtRatio),l.AddScaled(this.m_invMassB,this.m_impulse),t_+=this.m_invIB*m_.Cross(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),o.velocities[this.m_indexB].w=t_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexB].v,_i=o.velocities[this.m_indexB].w,{Cdot:l,impulse:t_,oldImpulse:o_}=b6;m_.AddCrossScalarVec2(_o,_i,this.m_rB,l),rA.MultiplyVec2(this.m_mass,m_.Add(l,this.m_C,t_).AddScaled(this.m_gamma,this.m_impulse).Negate(),t_),o_.Copy(this.m_impulse),this.m_impulse.Add(t_);let i_=o.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>i_*i_&&this.m_impulse.Scale(i_/this.m_impulse.Length()),m_.Subtract(this.m_impulse,o_,t_),_o.AddScaled(this.m_invMassB,t_),_i+=this.m_invIB*m_.Cross(this.m_rB,t_),o.velocities[this.m_indexB].w=_i}SolvePositionConstraints(o){return!0}GetAnchorA(o){return o.x=this.m_targetA.x,o.y=this.m_targetA.y,o}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return m_.Scale(o,this.m_impulse,_o)}GetReactionTorque(o){return 0}ShiftOrigin(o){this.m_targetA.Subtract(o)}Draw(o){let _o=this.GetAnchorA(b6.pA),_i=this.GetAnchorB(b6.pB);o.DrawPoint(_o,4,uy.joint7),o.DrawPoint(_i,4,uy.joint7),o.DrawSegment(_o,_i,uy.joint8)}};var qS={K3:new bB,K2:new rA,qA:new Ya,qB:new Ya,lalcA:new m_,lalcB:new m_,rA:new m_,rB:new m_,GetJointTranslation:{pA:new m_,pB:new m_,d:new m_,axis:new m_},InitVelocityConstraints:{d:new m_,P:new m_},SolveVelocityConstraints:{P:new m_,df:new m_},SolvePositionConstraints:{d:new m_,impulse:new bS,impulse1:new m_,P:new m_},Draw:{p1:new m_,p2:new m_,pA:new m_,pB:new m_,axis:new m_,lower:new m_,upper:new m_,perp:new m_}};var h6=class extends U1{constructor(o){super(o);this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_localXAxisA=new m_;this.m_localYAxisA=new m_;this.m_referenceAngle=0;this.m_impulse=new m_;this.m_motorImpulse=0;this.m_lowerImpulse=0;this.m_upperImpulse=0;this.m_lowerTranslation=0;this.m_upperTranslation=0;this.m_maxMotorForce=0;this.m_motorSpeed=0;this.m_enableLimit=!1;this.m_enableMotor=!1;this.m_indexA=0;this.m_indexB=0;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_axis=new m_;this.m_perp=new m_;this.m_s1=0;this.m_s2=0;this.m_a1=0;this.m_a2=0;this.m_K=new rA;this.m_translation=0;this.m_axialMass=0;this.m_localAnchorA.Copy(o.localAnchorA??m_.ZERO),this.m_localAnchorB.Copy(o.localAnchorB??m_.ZERO),m_.Normalize(o.localAxisA??m_.UNITX,this.m_localXAxisA),m_.CrossOneVec2(this.m_localXAxisA,this.m_localYAxisA),this.m_referenceAngle=o.referenceAngle??0,this.m_lowerTranslation=o.lowerTranslation??0,this.m_upperTranslation=o.upperTranslation??0,this.m_maxMotorForce=o.maxMotorForce??0,this.m_motorSpeed=o.motorSpeed??0,this.m_enableLimit=o.enableLimit??!1,this.m_enableMotor=o.enableMotor??!1}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.velocities[this.m_indexA].v,t_=o.velocities[this.m_indexA].w,o_=o.positions[this.m_indexB].c,i_=o.positions[this.m_indexB].a,_e=o.velocities[this.m_indexB].v,l_=o.velocities[this.m_indexB].w,{qA:ws,qB:h_,lalcA:s_,lalcB:B_,rA:D_,rB:y_}=qS;ws.Set(_i),h_.Set(i_),Ya.MultiplyVec2(ws,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,s_),D_),Ya.MultiplyVec2(h_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,B_),y_);let G_=m_.Subtract(o_,_o,qS.InitVelocityConstraints.d).Add(y_).Subtract(D_),q_=this.m_invMassA,j_=this.m_invMassB,_2=this.m_invIA,m2=this.m_invIB;Ya.MultiplyVec2(ws,this.m_localXAxisA,this.m_axis),this.m_a1=m_.Cross(m_.Add(G_,D_,m_.s_t0),this.m_axis),this.m_a2=m_.Cross(y_,this.m_axis),this.m_axialMass=q_+j_+_2*this.m_a1*this.m_a1+m2*this.m_a2*this.m_a2,this.m_axialMass>0&&(this.m_axialMass=1/this.m_axialMass),Ya.MultiplyVec2(ws,this.m_localYAxisA,this.m_perp),this.m_s1=m_.Cross(m_.Add(G_,D_,m_.s_t0),this.m_perp),this.m_s2=m_.Cross(y_,this.m_perp);let y2=q_+j_+_2*this.m_s1*this.m_s1+m2*this.m_s2*this.m_s2,I2=_2*this.m_s1+m2*this.m_s2,J2=_2+m2;if(J2===0&&(J2=1),this.m_K.ex.Set(y2,I2),this.m_K.ey.Set(I2,J2),this.m_enableLimit?this.m_translation=m_.Dot(this.m_axis,G_):(this.m_lowerImpulse=0,this.m_upperImpulse=0),this.m_enableMotor||(this.m_motorImpulse=0),o.step.warmStarting){this.m_impulse.Scale(o.step.dtRatio),this.m_motorImpulse*=o.step.dtRatio,this.m_lowerImpulse*=o.step.dtRatio,this.m_upperImpulse*=o.step.dtRatio;let z2=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse,{P:K2}=qS.InitVelocityConstraints;m_.Scale(this.m_impulse.x,this.m_perp,K2).AddScaled(z2,this.m_axis);let $2=this.m_impulse.x*this.m_s1+this.m_impulse.y+z2*this.m_a1,P_=this.m_impulse.x*this.m_s2+this.m_impulse.y+z2*this.m_a2;l.SubtractScaled(q_,K2),t_-=_2*$2,_e.AddScaled(j_,K2),l_+=m2*P_}else this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;o.velocities[this.m_indexA].w=t_,o.velocities[this.m_indexB].w=l_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_i=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,t_=o.velocities[this.m_indexB].w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB,{P:ws,df:h_}=qS.SolveVelocityConstraints;if(this.m_enableMotor){let s_=m_.Dot(this.m_axis,m_.Subtract(l,_o,m_.s_t0))+this.m_a2*t_-this.m_a1*_i,B_=this.m_axialMass*(this.m_motorSpeed-s_),D_=this.m_motorImpulse,y_=o.step.dt*this.m_maxMotorForce;this.m_motorImpulse=lA(this.m_motorImpulse+B_,-y_,y_),B_=this.m_motorImpulse-D_,m_.Scale(B_,this.m_axis,ws);let G_=B_*this.m_a1,q_=B_*this.m_a2;_o.SubtractScaled(o_,ws),_i-=_e*G_,l.AddScaled(i_,ws),t_+=l_*q_}if(this.m_enableLimit){{let s_=this.m_translation-this.m_lowerTranslation,B_=m_.Dot(this.m_axis,m_.Subtract(l,_o,m_.s_t0))+this.m_a2*t_-this.m_a1*_i,D_=-this.m_axialMass*(B_+Math.max(s_,0)*o.step.inv_dt),y_=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+D_,0),D_=this.m_lowerImpulse-y_,m_.Scale(D_,this.m_axis,ws);let G_=D_*this.m_a1,q_=D_*this.m_a2;_o.SubtractScaled(o_,ws),_i-=_e*G_,l.AddScaled(i_,ws),t_+=l_*q_}{let s_=this.m_upperTranslation-this.m_translation,B_=m_.Dot(this.m_axis,m_.Subtract(_o,l,m_.s_t0))+this.m_a1*_i-this.m_a2*t_,D_=-this.m_axialMass*(B_+Math.max(s_,0)*o.step.inv_dt),y_=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+D_,0),D_=this.m_upperImpulse-y_,m_.Scale(D_,this.m_axis,ws);let G_=D_*this.m_a1,q_=D_*this.m_a2;_o.AddScaled(o_,ws),_i+=_e*G_,l.SubtractScaled(i_,ws),t_-=l_*q_}}{let s_=m_.Dot(this.m_perp,m_.Subtract(l,_o,m_.s_t0))+this.m_s2*t_-this.m_s1*_i,B_=t_-_i;this.m_K.Solve(-s_,-B_,h_),this.m_impulse.Add(h_),m_.Scale(h_.x,this.m_perp,ws);let D_=h_.x*this.m_s1+h_.y,y_=h_.x*this.m_s2+h_.y;_o.SubtractScaled(o_,ws),_i-=_e*D_,l.AddScaled(i_,ws),t_+=l_*y_}o.velocities[this.m_indexA].w=_i,o.velocities[this.m_indexB].w=t_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,t_=o.positions[this.m_indexB].a,{qA:o_,qB:i_,lalcA:_e,lalcB:l_,rA:ws,rB:h_}=qS;o_.Set(_i),i_.Set(t_);let s_=this.m_invMassA,B_=this.m_invMassB,D_=this.m_invIA,y_=this.m_invIB,{d:G_,impulse:q_,P:j_}=qS.SolvePositionConstraints;Ya.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,_e),ws),Ya.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,l_),h_),m_.Add(l,h_,G_).Subtract(_o).Subtract(ws);let _2=Ya.MultiplyVec2(o_,this.m_localXAxisA,this.m_axis),m2=m_.Cross(m_.Add(G_,ws,m_.s_t0),_2),y2=m_.Cross(h_,_2),I2=Ya.MultiplyVec2(o_,this.m_localYAxisA,this.m_perp),J2=m_.Cross(m_.Add(G_,ws,m_.s_t0),I2),z2=m_.Cross(h_,I2),K2=m_.Dot(I2,G_),$2=t_-_i-this.m_referenceAngle,P_=Math.abs(K2),E_=Math.abs($2),Z_=!1,N_=0;if(this.m_enableLimit){let p2=m_.Dot(_2,G_);Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*_b?(N_=p2,P_=Math.max(P_,Math.abs(p2)),Z_=!0):p2<=this.m_lowerTranslation?(N_=Math.min(p2-this.m_lowerTranslation,0),P_=Math.max(P_,this.m_lowerTranslation-p2),Z_=!0):p2>=this.m_upperTranslation&&(N_=Math.max(p2-this.m_upperTranslation,0),P_=Math.max(P_,p2-this.m_upperTranslation),Z_=!0)}if(Z_){let p2=s_+B_+D_*J2*J2+y_*z2*z2,v_=D_*J2+y_*z2,F_=D_*J2*m2+y_*z2*y2,$_=D_+y_;$_===0&&($_=1);let C_=D_*m2+y_*y2,W_=s_+B_+D_*m2*m2+y_*y2*y2,t2=qS.K3;t2.ex.Set(p2,v_,F_),t2.ey.Set(v_,$_,C_),t2.ez.Set(F_,C_,W_),t2.Solve33(-K2,-$2,-N_,q_)}else{let p2=s_+B_+D_*J2*J2+y_*z2*z2,v_=D_*J2+y_*z2,F_=D_+y_;F_===0&&(F_=1);let $_=qS.K2;$_.ex.Set(p2,v_),$_.ey.Set(v_,F_);let C_=$_.Solve(-K2,-$2,qS.SolvePositionConstraints.impulse1);q_.x=C_.x,q_.y=C_.y,q_.z=0}m_.Scale(q_.x,I2,j_).AddScaled(q_.z,_2);let s2=q_.x*J2+q_.y+q_.z*m2,u2=q_.x*z2+q_.y+q_.z*y2;return _o.SubtractScaled(s_,j_),_i-=D_*s2,l.AddScaled(B_,j_),t_+=y_*u2,o.positions[this.m_indexA].a=_i,o.positions[this.m_indexB].a=t_,P_<=_b&&E_<=gC}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){let _i=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse;return _o.x=o*(this.m_impulse.x*this.m_perp.x+_i*this.m_axis.x),_o.y=o*(this.m_impulse.x*this.m_perp.y+_i*this.m_axis.y),_o}GetReactionTorque(o){return o*this.m_impulse.y}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetReferenceAngle(){return this.m_referenceAngle}GetJointTranslation(){let{pA:o,pB:_o,axis:_i,d:l}=qS.GetJointTranslation;return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o),this.m_bodyB.GetWorldPoint(this.m_localAnchorB,_o),m_.Subtract(_o,o,l),this.m_bodyA.GetWorldVector(this.m_localXAxisA,_i),m_.Dot(l,_i)}GetJointSpeed(){let o=this.m_bodyA,_o=this.m_bodyB,{lalcA:_i,lalcB:l,rA:t_,rB:o_}=qS;Ya.MultiplyVec2(o.m_xf.q,m_.Subtract(this.m_localAnchorA,o.m_sweep.localCenter,_i),t_),Ya.MultiplyVec2(_o.m_xf.q,m_.Subtract(this.m_localAnchorB,_o.m_sweep.localCenter,l),o_);let i_=m_.Add(o.m_sweep.c,t_,m_.s_t0),_e=m_.Add(_o.m_sweep.c,o_,m_.s_t1),l_=m_.Subtract(_e,i_,m_.s_t2),ws=Ya.MultiplyVec2(o.m_xf.q,this.m_localXAxisA,this.m_axis),h_=o.m_linearVelocity,s_=_o.m_linearVelocity,B_=o.m_angularVelocity,D_=_o.m_angularVelocity;return m_.Dot(l_,m_.CrossScalarVec2(B_,ws,m_.s_t0))+m_.Dot(ws,m_.Subtract(m_.AddCrossScalarVec2(s_,D_,o_,m_.s_t0),m_.AddCrossScalarVec2(h_,B_,t_,m_.s_t1),m_.s_t0))}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(o){return o!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=o,this.m_lowerImpulse=0,this.m_upperImpulse=0),o}GetLowerLimit(){return this.m_lowerTranslation}GetUpperLimit(){return this.m_upperTranslation}SetLimits(o,_o){(o!==this.m_lowerTranslation||_o!==this.m_upperTranslation)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=o,this.m_upperTranslation=_o,this.m_lowerImpulse=0,this.m_upperImpulse=0)}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(o){return o!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=o),o}SetMotorSpeed(o){return o!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=o),o}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorForce(o){o!==this.m_maxMotorForce&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=o)}GetMaxMotorForce(){return this.m_maxMotorForce}GetMotorForce(o){return o*this.m_motorImpulse}Draw(o){let{p1:_o,p2:_i,pA:l,pB:t_,axis:o_}=qS.Draw,i_=this.m_bodyA.GetTransform(),_e=this.m_bodyB.GetTransform();if(s0.MultiplyVec2(i_,this.m_localAnchorA,l),s0.MultiplyVec2(_e,this.m_localAnchorB,t_),Ya.MultiplyVec2(i_.q,this.m_localXAxisA,o_),o.DrawSegment(l,t_,uy.joint5),this.m_enableLimit){let{lower:l_,upper:ws,perp:h_}=qS.Draw;m_.AddScaled(l,this.m_lowerTranslation,o_,l_),m_.AddScaled(l,this.m_upperTranslation,o_,ws),Ya.MultiplyVec2(i_.q,this.m_localYAxisA,h_),o.DrawSegment(l_,ws,uy.joint1),o.DrawSegment(m_.SubtractScaled(l_,.5,h_,_o),m_.AddScaled(l_,.5,h_,_i),uy.joint2),o.DrawSegment(m_.SubtractScaled(ws,.5,h_,_o),m_.AddScaled(ws,.5,h_,_i),uy.joint3)}else o.DrawSegment(m_.Subtract(l,o_,_o),m_.Add(l,o_,_i),uy.joint1);o.DrawPoint(l,5,uy.joint1),o.DrawPoint(t_,5,uy.joint4)}};var zB={qA:new Ya,qB:new Ya,lalcA:new m_,lalcB:new m_,p:new m_,PA:new m_,PB:new m_,vpA:new m_,vpB:new m_,pA:new m_,pB:new m_};var Kpt=new m_(-1,1),Qpt=m_.UNITX,$pt=new m_(-1,0),tct=m_.UNITX,d6=class extends U1{constructor(o){super(o);this.m_groundAnchorA=new m_;this.m_groundAnchorB=new m_;this.m_lengthA=0;this.m_lengthB=0;this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_constant=0;this.m_ratio=0;this.m_impulse=0;this.m_indexA=0;this.m_indexB=0;this.m_uA=new m_;this.m_uB=new m_;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_mass=0;this.m_groundAnchorA.Copy(o.groundAnchorA??Kpt),this.m_groundAnchorB.Copy(o.groundAnchorB??Qpt),this.m_localAnchorA.Copy(o.localAnchorA??$pt),this.m_localAnchorB.Copy(o.localAnchorB??tct),this.m_lengthA=o.lengthA??0,this.m_lengthB=o.lengthB??0,this.m_ratio=o.ratio??1,this.m_constant=this.m_lengthA+this.m_ratio*this.m_lengthB,this.m_impulse=0}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.velocities[this.m_indexA].v,t_=o.velocities[this.m_indexA].w,o_=o.positions[this.m_indexB].c,i_=o.positions[this.m_indexB].a,_e=o.velocities[this.m_indexB].v,l_=o.velocities[this.m_indexB].w,{qA:ws,qB:h_,lalcA:s_,lalcB:B_}=zB;ws.Set(_i),h_.Set(i_),Ya.MultiplyVec2(ws,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,s_),this.m_rA),Ya.MultiplyVec2(h_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,B_),this.m_rB),m_.Add(_o,this.m_rA,this.m_uA).Subtract(this.m_groundAnchorA),m_.Add(o_,this.m_rB,this.m_uB).Subtract(this.m_groundAnchorB);let D_=this.m_uA.Length(),y_=this.m_uB.Length();D_>10*_b?this.m_uA.Scale(1/D_):this.m_uA.SetZero(),y_>10*_b?this.m_uB.Scale(1/y_):this.m_uB.SetZero();let G_=m_.Cross(this.m_rA,this.m_uA),q_=m_.Cross(this.m_rB,this.m_uB),j_=this.m_invMassA+this.m_invIA*G_*G_,_2=this.m_invMassB+this.m_invIB*q_*q_;if(this.m_mass=j_+this.m_ratio*this.m_ratio*_2,this.m_mass>0&&(this.m_mass=1/this.m_mass),o.step.warmStarting){this.m_impulse*=o.step.dtRatio;let{PA:m2,PB:y2}=zB;m_.Scale(-this.m_impulse,this.m_uA,m2),m_.Scale(-this.m_ratio*this.m_impulse,this.m_uB,y2),l.AddScaled(this.m_invMassA,m2),t_+=this.m_invIA*m_.Cross(this.m_rA,m2),_e.AddScaled(this.m_invMassB,y2),l_+=this.m_invIB*m_.Cross(this.m_rB,y2)}else this.m_impulse=0;o.velocities[this.m_indexA].w=t_,o.velocities[this.m_indexB].w=l_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_i=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,t_=o.velocities[this.m_indexB].w,{PA:o_,PB:i_,vpA:_e,vpB:l_}=zB;m_.AddCrossScalarVec2(_o,_i,this.m_rA,_e),m_.AddCrossScalarVec2(l,t_,this.m_rB,l_);let ws=-m_.Dot(this.m_uA,_e)-this.m_ratio*m_.Dot(this.m_uB,l_),h_=-this.m_mass*ws;this.m_impulse+=h_,m_.Scale(-h_,this.m_uA,o_),m_.Scale(-this.m_ratio*h_,this.m_uB,i_),_o.AddScaled(this.m_invMassA,o_),_i+=this.m_invIA*m_.Cross(this.m_rA,o_),l.AddScaled(this.m_invMassB,i_),t_+=this.m_invIB*m_.Cross(this.m_rB,i_),o.velocities[this.m_indexA].w=_i,o.velocities[this.m_indexB].w=t_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,t_=o.positions[this.m_indexB].a,{qA:o_,qB:i_,lalcA:_e,lalcB:l_,PA:ws,PB:h_}=zB;o_.Set(_i),i_.Set(t_);let s_=Ya.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,_e),this.m_rA),B_=Ya.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,l_),this.m_rB),D_=m_.Add(_o,s_,this.m_uA).Subtract(this.m_groundAnchorA),y_=m_.Add(l,B_,this.m_uB).Subtract(this.m_groundAnchorB),G_=D_.Length(),q_=y_.Length();G_>10*_b?D_.Scale(1/G_):D_.SetZero(),q_>10*_b?y_.Scale(1/q_):y_.SetZero();let j_=m_.Cross(s_,D_),_2=m_.Cross(B_,y_),m2=this.m_invMassA+this.m_invIA*j_*j_,y2=this.m_invMassB+this.m_invIB*_2*_2,I2=m2+this.m_ratio*this.m_ratio*y2;I2>0&&(I2=1/I2);let J2=this.m_constant-G_-this.m_ratio*q_,z2=Math.abs(J2),K2=-I2*J2;return m_.Scale(-K2,D_,ws),m_.Scale(-this.m_ratio*K2,y_,h_),_o.AddScaled(this.m_invMassA,ws),_i+=this.m_invIA*m_.Cross(s_,ws),l.AddScaled(this.m_invMassB,h_),t_+=this.m_invIB*m_.Cross(B_,h_),o.positions[this.m_indexA].a=_i,o.positions[this.m_indexB].a=t_,z2<_b}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return _o.x=o*this.m_impulse*this.m_uB.x,_o.y=o*this.m_impulse*this.m_uB.y,_o}GetReactionTorque(o){return 0}GetGroundAnchorA(){return this.m_groundAnchorA}GetGroundAnchorB(){return this.m_groundAnchorB}GetLengthA(){return this.m_lengthA}GetLengthB(){return this.m_lengthB}GetRatio(){return this.m_ratio}GetCurrentLengthA(){let o=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,zB.p),_o=this.m_groundAnchorA;return m_.Distance(o,_o)}GetCurrentLengthB(){let o=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,zB.p),_o=this.m_groundAnchorB;return m_.Distance(o,_o)}ShiftOrigin(o){this.m_groundAnchorA.Subtract(o),this.m_groundAnchorB.Subtract(o)}Draw(o){let _o=this.GetAnchorA(zB.pA),_i=this.GetAnchorB(zB.pB),l=this.GetGroundAnchorA(),t_=this.GetGroundAnchorB();o.DrawSegment(l,_o,uy.joint6),o.DrawSegment(t_,_i,uy.joint6),o.DrawSegment(l,t_,uy.joint6)}};var jP={qA:new Ya,qB:new Ya,lalcA:new m_,lalcB:new m_,P:new m_,Cdot:new m_,C:new m_,impulse:new m_,p2:new m_,r:new m_,pA:new m_,pB:new m_,rlo:new m_,rhi:new m_};var y6=class extends U1{constructor(o){super(o);this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_impulse=new m_;this.m_motorImpulse=0;this.m_lowerImpulse=0;this.m_upperImpulse=0;this.m_enableMotor=!1;this.m_maxMotorTorque=0;this.m_motorSpeed=0;this.m_enableLimit=!1;this.m_referenceAngle=0;this.m_lowerAngle=0;this.m_upperAngle=0;this.m_indexA=0;this.m_indexB=0;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_K=new rA;this.m_angle=0;this.m_axialMass=0;this.m_localAnchorA.Copy(o.localAnchorA??m_.ZERO),this.m_localAnchorB.Copy(o.localAnchorB??m_.ZERO),this.m_referenceAngle=o.referenceAngle??0,this.m_impulse.SetZero(),this.m_lowerAngle=o.lowerAngle??0,this.m_upperAngle=o.upperAngle??0,this.m_maxMotorTorque=o.maxMotorTorque??0,this.m_motorSpeed=o.motorSpeed??0,this.m_enableLimit=o.enableLimit??!1,this.m_enableMotor=o.enableMotor??!1}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].a,_i=o.velocities[this.m_indexA].v,l=o.velocities[this.m_indexA].w,t_=o.positions[this.m_indexB].a,o_=o.velocities[this.m_indexB].v,i_=o.velocities[this.m_indexB].w,{qA:_e,qB:l_,lalcA:ws,lalcB:h_}=jP;_e.Set(_o),l_.Set(t_),Ya.MultiplyVec2(_e,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,ws),this.m_rA),Ya.MultiplyVec2(l_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,h_),this.m_rB);let s_=this.m_invMassA,B_=this.m_invMassB,D_=this.m_invIA,y_=this.m_invIB;this.m_K.ex.x=s_+B_+this.m_rA.y*this.m_rA.y*D_+this.m_rB.y*this.m_rB.y*y_,this.m_K.ey.x=-this.m_rA.y*this.m_rA.x*D_-this.m_rB.y*this.m_rB.x*y_,this.m_K.ex.y=this.m_K.ey.x,this.m_K.ey.y=s_+B_+this.m_rA.x*this.m_rA.x*D_+this.m_rB.x*this.m_rB.x*y_,this.m_axialMass=D_+y_;let G_;if(this.m_axialMass>0?(this.m_axialMass=1/this.m_axialMass,G_=!1):G_=!0,this.m_angle=t_-_o-this.m_referenceAngle,(this.m_enableLimit===!1||G_)&&(this.m_lowerImpulse=0,this.m_upperImpulse=0),(this.m_enableMotor===!1||G_)&&(this.m_motorImpulse=0),o.step.warmStarting){this.m_impulse.Scale(o.step.dtRatio),this.m_motorImpulse*=o.step.dtRatio,this.m_lowerImpulse*=o.step.dtRatio,this.m_upperImpulse*=o.step.dtRatio;let q_=this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse,j_=jP.P.Set(this.m_impulse.x,this.m_impulse.y);_i.SubtractScaled(s_,j_),l-=D_*(m_.Cross(this.m_rA,j_)+q_),o_.AddScaled(B_,j_),i_+=y_*(m_.Cross(this.m_rB,j_)+q_)}else this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;o.velocities[this.m_indexA].w=l,o.velocities[this.m_indexB].w=i_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_i=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,t_=o.velocities[this.m_indexB].w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB,ws=_e+l_===0;if(this.m_enableMotor&&!ws){let h_=t_-_i-this.m_motorSpeed,s_=-this.m_axialMass*h_,B_=this.m_motorImpulse,D_=o.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=lA(this.m_motorImpulse+s_,-D_,D_),s_=this.m_motorImpulse-B_,_i-=_e*s_,t_+=l_*s_}if(this.m_enableLimit&&!ws){{let h_=this.m_angle-this.m_lowerAngle,s_=t_-_i,B_=-this.m_axialMass*(s_+Math.max(h_,0)*o.step.inv_dt),D_=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+B_,0),B_=this.m_lowerImpulse-D_,_i-=_e*B_,t_+=l_*B_}{let h_=this.m_upperAngle-this.m_angle,s_=_i-t_,B_=-this.m_axialMass*(s_+Math.max(h_,0)*o.step.inv_dt),D_=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+B_,0),B_=this.m_upperImpulse-D_,_i+=_e*B_,t_-=l_*B_}}{let{Cdot:h_,impulse:s_}=jP;m_.Subtract(m_.AddCrossScalarVec2(l,t_,this.m_rB,m_.s_t0),m_.AddCrossScalarVec2(_o,_i,this.m_rA,m_.s_t1),h_),this.m_K.Solve(-h_.x,-h_.y,s_),this.m_impulse.x+=s_.x,this.m_impulse.y+=s_.y,_o.SubtractScaled(o_,s_),_i-=_e*m_.Cross(this.m_rA,s_),l.AddScaled(i_,s_),t_+=l_*m_.Cross(this.m_rB,s_)}o.velocities[this.m_indexA].w=_i,o.velocities[this.m_indexB].w=t_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,t_=o.positions[this.m_indexB].a,{qA:o_,qB:i_,lalcA:_e,lalcB:l_,impulse:ws}=jP;o_.Set(_i),i_.Set(t_);let h_=0,s_=0,B_=this.m_invIA+this.m_invIB===0;if(this.m_enableLimit&&!B_){let D_=t_-_i-this.m_referenceAngle,y_=0;Math.abs(this.m_upperAngle-this.m_lowerAngle)<2*gC?y_=lA(D_-this.m_lowerAngle,-Q4,Q4):D_<=this.m_lowerAngle?y_=lA(D_-this.m_lowerAngle+gC,-Q4,0):D_>=this.m_upperAngle&&(y_=lA(D_-this.m_upperAngle-gC,0,Q4));let G_=-this.m_axialMass*y_;_i-=this.m_invIA*G_,t_+=this.m_invIB*G_,h_=Math.abs(y_)}{o_.Set(_i),i_.Set(t_);let D_=Ya.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,_e),this.m_rA),y_=Ya.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,l_),this.m_rB),G_=m_.Add(l,y_,jP.C).Subtract(_o).Subtract(D_);s_=G_.Length();let q_=this.m_invMassA,j_=this.m_invMassB,_2=this.m_invIA,m2=this.m_invIB,y2=this.m_K;y2.ex.x=q_+j_+_2*D_.y*D_.y+m2*y_.y*y_.y,y2.ex.y=-_2*D_.x*D_.y-m2*y_.x*y_.y,y2.ey.x=y2.ex.y,y2.ey.y=q_+j_+_2*D_.x*D_.x+m2*y_.x*y_.x,y2.Solve(G_.x,G_.y,ws).Negate(),_o.SubtractScaled(q_,ws),_i-=_2*m_.Cross(D_,ws),l.AddScaled(j_,ws),t_+=m2*m_.Cross(y_,ws)}return o.positions[this.m_indexA].a=_i,o.positions[this.m_indexB].a=t_,s_<=_b&&h_<=gC}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return _o.x=o*this.m_impulse.x,_o.y=o*this.m_impulse.y,_o}GetReactionTorque(o){return o*(this.m_motorImpulse+this.m_lowerImpulse-this.m_upperImpulse)}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}GetJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle}GetJointSpeed(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(o){return o!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=o),o}GetMotorTorque(o){return o*this.m_motorImpulse}GetMotorSpeed(){return this.m_motorSpeed}SetMaxMotorTorque(o){o!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=o)}GetMaxMotorTorque(){return this.m_maxMotorTorque}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(o){return o!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=o,this.m_lowerImpulse=0,this.m_upperImpulse=0),o}GetLowerLimit(){return this.m_lowerAngle}GetUpperLimit(){return this.m_upperAngle}SetLimits(o,_o){(o!==this.m_lowerAngle||_o!==this.m_upperAngle)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerImpulse=0,this.m_upperImpulse=0,this.m_lowerAngle=o,this.m_upperAngle=_o)}SetMotorSpeed(o){return o!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=o),o}Draw(o){let{p2:_o,r:_i,pA:l,pB:t_}=jP,o_=this.m_bodyA.GetTransform(),i_=this.m_bodyB.GetTransform();s0.MultiplyVec2(o_,this.m_localAnchorA,l),s0.MultiplyVec2(i_,this.m_localAnchorB,t_),o.DrawPoint(l,5,uy.joint4),o.DrawPoint(t_,5,uy.joint5);let _e=this.m_bodyA.GetAngle(),ws=this.m_bodyB.GetAngle()-_e-this.m_referenceAngle,h_=.5;if(_i.Set(Math.cos(ws),Math.sin(ws)).Scale(h_),o.DrawSegment(t_,m_.Add(t_,_i,_o),uy.joint1),o.DrawCircle(t_,h_,uy.joint1),this.m_enableLimit){let{rlo:s_,rhi:B_}=jP;s_.Set(Math.cos(this.m_lowerAngle),Math.sin(this.m_lowerAngle)).Scale(h_),B_.Set(Math.cos(this.m_upperAngle),Math.sin(this.m_upperAngle)).Scale(h_),o.DrawSegment(t_,m_.Add(t_,s_,_o),uy.joint2),o.DrawSegment(t_,m_.Add(t_,B_,_o),uy.joint3)}o.DrawSegment(o_.p,l,uy.joint6),o.DrawSegment(l,t_,uy.joint6),o.DrawSegment(i_.p,t_,uy.joint6)}};var ZV={qA:new Ya,qB:new Ya,rA:new m_,rB:new m_,lalcA:new m_,lalcB:new m_,K:new bB,P:new m_,Cdot1:new bS,impulse1:new m_,impulse:new bS,C1:new m_,C:new bS};var x6=class extends U1{constructor(o){super(o);this.m_stiffness=0;this.m_damping=0;this.m_bias=0;this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_referenceAngle=0;this.m_gamma=0;this.m_impulse=new bS;this.m_indexA=0;this.m_indexB=0;this.m_rA=new m_;this.m_rB=new m_;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_mass=new bB;this.m_localAnchorA.Copy(o.localAnchorA??m_.ZERO),this.m_localAnchorB.Copy(o.localAnchorB??m_.ZERO),this.m_referenceAngle=o.referenceAngle??0,this.m_stiffness=o.stiffness??0,this.m_damping=o.damping??0}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=o.positions[this.m_indexA].a,_i=o.velocities[this.m_indexA].v,l=o.velocities[this.m_indexA].w,t_=o.positions[this.m_indexB].a,o_=o.velocities[this.m_indexB].v,i_=o.velocities[this.m_indexB].w,{qA:_e,qB:l_,lalcA:ws,lalcB:h_,K:s_}=ZV;_e.Set(_o),l_.Set(t_),Ya.MultiplyVec2(_e,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,ws),this.m_rA),Ya.MultiplyVec2(l_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,h_),this.m_rB);let B_=this.m_invMassA,D_=this.m_invMassB,y_=this.m_invIA,G_=this.m_invIB;if(s_.ex.x=B_+D_+this.m_rA.y*this.m_rA.y*y_+this.m_rB.y*this.m_rB.y*G_,s_.ey.x=-this.m_rA.y*this.m_rA.x*y_-this.m_rB.y*this.m_rB.x*G_,s_.ez.x=-this.m_rA.y*y_-this.m_rB.y*G_,s_.ex.y=s_.ey.x,s_.ey.y=B_+D_+this.m_rA.x*this.m_rA.x*y_+this.m_rB.x*this.m_rB.x*G_,s_.ez.y=this.m_rA.x*y_+this.m_rB.x*G_,s_.ex.z=s_.ez.x,s_.ey.z=s_.ez.y,s_.ez.z=y_+G_,this.m_stiffness>0){s_.GetInverse22(this.m_mass);let q_=y_+G_,j_=t_-_o-this.m_referenceAngle,_2=this.m_damping,m2=this.m_stiffness,y2=o.step.dt;this.m_gamma=y2*(_2+y2*m2),this.m_gamma=this.m_gamma!==0?1/this.m_gamma:0,this.m_bias=j_*y2*m2*this.m_gamma,q_+=this.m_gamma,this.m_mass.ez.z=q_!==0?1/q_:0}else s_.ez.z===0?(s_.GetInverse22(this.m_mass),this.m_gamma=0,this.m_bias=0):(s_.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0);if(o.step.warmStarting){this.m_impulse.Scale(o.step.dtRatio);let{P:q_}=ZV;q_.Copy(this.m_impulse),_i.SubtractScaled(B_,q_),l-=y_*(m_.Cross(this.m_rA,q_)+this.m_impulse.z),o_.AddScaled(D_,q_),i_+=G_*(m_.Cross(this.m_rB,q_)+this.m_impulse.z)}else this.m_impulse.SetZero();o.velocities[this.m_indexA].w=l,o.velocities[this.m_indexB].w=i_}SolveVelocityConstraints(o){let _o=o.velocities[this.m_indexA].v,_i=o.velocities[this.m_indexA].w,l=o.velocities[this.m_indexB].v,t_=o.velocities[this.m_indexB].w,o_=this.m_invMassA,i_=this.m_invMassB,_e=this.m_invIA,l_=this.m_invIB;if(this.m_stiffness>0){let ws=t_-_i,h_=-this.m_mass.ez.z*(ws+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=h_,_i-=_e*h_,t_+=l_*h_;let{Cdot1:s_,impulse1:B_}=ZV;m_.Subtract(m_.AddCrossScalarVec2(l,t_,this.m_rB,m_.s_t0),m_.AddCrossScalarVec2(_o,_i,this.m_rA,m_.s_t1),s_),bB.MultiplyVec2(this.m_mass,s_,B_).Negate(),this.m_impulse.x+=B_.x,this.m_impulse.y+=B_.y;let D_=B_;_o.SubtractScaled(o_,D_),_i-=_e*m_.Cross(this.m_rA,D_),l.AddScaled(i_,D_),t_+=l_*m_.Cross(this.m_rB,D_)}else{let{Cdot1:ws,impulse:h_,P:s_}=ZV;m_.Subtract(m_.AddCrossScalarVec2(l,t_,this.m_rB,m_.s_t0),m_.AddCrossScalarVec2(_o,_i,this.m_rA,m_.s_t1),ws),ws.z=t_-_i,bB.MultiplyVec3(this.m_mass,ws,h_).Negate(),this.m_impulse.Add(h_),s_.Set(h_.x,h_.y),_o.SubtractScaled(o_,s_),_i-=_e*(m_.Cross(this.m_rA,s_)+h_.z),l.AddScaled(i_,s_),t_+=l_*(m_.Cross(this.m_rB,s_)+h_.z)}o.velocities[this.m_indexA].w=_i,o.velocities[this.m_indexB].w=t_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,t_=o.positions[this.m_indexB].a,{qA:o_,qB:i_,lalcA:_e,lalcB:l_,K:ws,C1:h_,P:s_,rA:B_,rB:D_}=ZV;o_.Set(_i),i_.Set(t_);let y_=this.m_invMassA,G_=this.m_invMassB,q_=this.m_invIA,j_=this.m_invIB;Ya.MultiplyVec2(o_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,_e),B_),Ya.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,l_),D_);let _2,m2;if(ws.ex.x=y_+G_+B_.y*B_.y*q_+D_.y*D_.y*j_,ws.ey.x=-B_.y*B_.x*q_-D_.y*D_.x*j_,ws.ez.x=-B_.y*q_-D_.y*j_,ws.ex.y=ws.ey.x,ws.ey.y=y_+G_+B_.x*B_.x*q_+D_.x*D_.x*j_,ws.ez.y=B_.x*q_+D_.x*j_,ws.ex.z=ws.ez.x,ws.ey.z=ws.ez.y,ws.ez.z=q_+j_,this.m_stiffness>0)m_.Add(l,D_,h_).Subtract(_o).Subtract(B_),_2=h_.Length(),m2=0,ws.Solve22(h_.x,h_.y,s_).Negate(),_o.SubtractScaled(y_,s_),_i-=q_*m_.Cross(B_,s_),l.AddScaled(G_,s_),t_+=j_*m_.Cross(D_,s_);else{m_.Add(l,D_,h_).Subtract(_o).Subtract(B_),m_.Subtract(m_.Add(l,D_,m_.s_t0),m_.Add(_o,B_,m_.s_t1),h_);let y2=t_-_i-this.m_referenceAngle;_2=h_.Length(),m2=Math.abs(y2);let{impulse:I2,C:J2}=ZV;J2.Set(h_.x,h_.y,y2),ws.ez.z>0?ws.Solve33(J2.x,J2.y,J2.z,I2).Negate():(ws.Solve22(h_.x,h_.y,I2).Negate(),I2.z=0),s_.Copy(I2),_o.SubtractScaled(y_,s_),_i-=q_*(m_.Cross(B_,s_)+I2.z),l.AddScaled(G_,s_),t_+=j_*(m_.Cross(D_,s_)+I2.z)}return o.positions[this.m_indexA].a=_i,o.positions[this.m_indexB].a=t_,_2<=_b&&m2<=gC}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){return _o.x=o*this.m_impulse.x,_o.y=o*this.m_impulse.y,_o}GetReactionTorque(o){return o*this.m_impulse.z}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetReferenceAngle(){return this.m_referenceAngle}SetStiffness(o){this.m_stiffness=o}GetStiffness(){return this.m_stiffness}SetDamping(o){this.m_damping=o}GetDamping(){return this.m_damping}};var WB={qA:new Ya,qB:new Ya,lalcA:new m_,lalcB:new m_,rA:new m_,rB:new m_,d:new m_,P:new m_,ay:new m_,pA:new m_,pB:new m_,axis:new m_,Draw:{p1:new m_,p2:new m_,pA:new m_,pB:new m_,axis:new m_,lower:new m_,upper:new m_,perp:new m_}};var f6=class extends U1{constructor(o){super(o);this.m_localAnchorA=new m_;this.m_localAnchorB=new m_;this.m_localXAxisA=new m_;this.m_localYAxisA=new m_;this.m_impulse=0;this.m_motorImpulse=0;this.m_springImpulse=0;this.m_lowerImpulse=0;this.m_upperImpulse=0;this.m_translation=0;this.m_lowerTranslation=0;this.m_upperTranslation=0;this.m_maxMotorTorque=0;this.m_motorSpeed=0;this.m_enableLimit=!1;this.m_enableMotor=!1;this.m_stiffness=0;this.m_damping=0;this.m_indexA=0;this.m_indexB=0;this.m_localCenterA=new m_;this.m_localCenterB=new m_;this.m_invMassA=0;this.m_invMassB=0;this.m_invIA=0;this.m_invIB=0;this.m_ax=new m_;this.m_ay=new m_;this.m_sAx=0;this.m_sBx=0;this.m_sAy=0;this.m_sBy=0;this.m_mass=0;this.m_motorMass=0;this.m_axialMass=0;this.m_springMass=0;this.m_bias=0;this.m_gamma=0;this.m_localAnchorA.Copy(o.localAnchorA??m_.ZERO),this.m_localAnchorB.Copy(o.localAnchorB??m_.ZERO),this.m_localXAxisA.Copy(o.localAxisA??m_.UNITX),m_.CrossOneVec2(this.m_localXAxisA,this.m_localYAxisA),this.m_lowerTranslation=o.lowerTranslation??0,this.m_upperTranslation=o.upperTranslation??0,this.m_enableLimit=o.enableLimit??!1,this.m_maxMotorTorque=o.maxMotorTorque??0,this.m_motorSpeed=o.motorSpeed??0,this.m_enableMotor=o.enableMotor??!1,this.m_ax.SetZero(),this.m_ay.SetZero(),this.m_stiffness=o.stiffness??0,this.m_damping=o.damping??0}GetMotorSpeed(){return this.m_motorSpeed}GetMaxMotorTorque(){return this.m_maxMotorTorque}SetStiffness(o){this.m_stiffness=o}GetStiffness(){return this.m_stiffness}SetDamping(o){this.m_damping=o}GetDamping(){return this.m_damping}InitVelocityConstraints(o){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;let _o=this.m_invMassA,_i=this.m_invMassB,l=this.m_invIA,t_=this.m_invIB,o_=o.positions[this.m_indexA].c,i_=o.positions[this.m_indexA].a,_e=o.velocities[this.m_indexA].v,l_=o.velocities[this.m_indexA].w,ws=o.positions[this.m_indexB].c,h_=o.positions[this.m_indexB].a,s_=o.velocities[this.m_indexB].v,B_=o.velocities[this.m_indexB].w,{qA:D_,qB:y_,lalcA:G_,lalcB:q_,rA:j_,rB:_2,d:m2}=WB;D_.Set(i_),y_.Set(h_),Ya.MultiplyVec2(D_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,G_),j_),Ya.MultiplyVec2(y_,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,q_),_2),m_.Add(ws,_2,m2).Subtract(o_).Subtract(j_),Ya.MultiplyVec2(D_,this.m_localYAxisA,this.m_ay),this.m_sAy=m_.Cross(m_.Add(m2,j_,m_.s_t0),this.m_ay),this.m_sBy=m_.Cross(_2,this.m_ay),this.m_mass=_o+_i+l*this.m_sAy*this.m_sAy+t_*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),Ya.MultiplyVec2(D_,this.m_localXAxisA,this.m_ax),this.m_sAx=m_.Cross(m_.Add(m2,j_,m_.s_t0),this.m_ax),this.m_sBx=m_.Cross(_2,this.m_ax);let y2=_o+_i+l*this.m_sAx*this.m_sAx+t_*this.m_sBx*this.m_sBx;if(y2>0?this.m_axialMass=1/y2:this.m_axialMass=0,this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_stiffness>0&&y2>0){this.m_springMass=1/y2;let I2=m_.Dot(m2,this.m_ax),J2=o.step.dt;this.m_gamma=J2*(this.m_damping+J2*this.m_stiffness),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=I2*J2*this.m_stiffness*this.m_gamma,this.m_springMass=y2+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}else this.m_springImpulse=0;if(this.m_enableLimit?this.m_translation=m_.Dot(this.m_ax,m2):(this.m_lowerImpulse=0,this.m_upperImpulse=0),this.m_enableMotor?(this.m_motorMass=l+t_,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),o.step.warmStarting){this.m_impulse*=o.step.dtRatio,this.m_springImpulse*=o.step.dtRatio,this.m_motorImpulse*=o.step.dtRatio;let I2=this.m_springImpulse+this.m_lowerImpulse-this.m_upperImpulse,{P:J2}=WB;m_.Scale(this.m_impulse,this.m_ay,J2).AddScaled(I2,this.m_ax);let z2=this.m_impulse*this.m_sAy+I2*this.m_sAx+this.m_motorImpulse,K2=this.m_impulse*this.m_sBy+I2*this.m_sBx+this.m_motorImpulse;_e.SubtractScaled(this.m_invMassA,J2),l_-=this.m_invIA*z2,s_.AddScaled(this.m_invMassB,J2),B_+=this.m_invIB*K2}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0,this.m_lowerImpulse=0,this.m_upperImpulse=0;o.velocities[this.m_indexA].w=l_,o.velocities[this.m_indexB].w=B_}SolveVelocityConstraints(o){let _o=this.m_invMassA,_i=this.m_invMassB,l=this.m_invIA,t_=this.m_invIB,o_=o.velocities[this.m_indexA].v,i_=o.velocities[this.m_indexA].w,_e=o.velocities[this.m_indexB].v,l_=o.velocities[this.m_indexB].w,{P:ws}=WB;{let h_=m_.Dot(this.m_ax,m_.Subtract(_e,o_,m_.s_t0))+this.m_sBx*l_-this.m_sAx*i_,s_=-this.m_springMass*(h_+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=s_,m_.Scale(s_,this.m_ax,ws);let B_=s_*this.m_sAx,D_=s_*this.m_sBx;o_.SubtractScaled(_o,ws),i_-=l*B_,_e.AddScaled(_i,ws),l_+=t_*D_}{let h_=l_-i_-this.m_motorSpeed,s_=-this.m_motorMass*h_,B_=this.m_motorImpulse,D_=o.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=lA(this.m_motorImpulse+s_,-D_,D_),s_=this.m_motorImpulse-B_,i_-=l*s_,l_+=t_*s_}if(this.m_enableLimit){{let h_=this.m_translation-this.m_lowerTranslation,s_=m_.Dot(this.m_ax,m_.Subtract(_e,o_,m_.s_t0))+this.m_sBx*l_-this.m_sAx*i_,B_=-this.m_axialMass*(s_+Math.max(h_,0)*o.step.inv_dt),D_=this.m_lowerImpulse;this.m_lowerImpulse=Math.max(this.m_lowerImpulse+B_,0),B_=this.m_lowerImpulse-D_,m_.Scale(B_,this.m_ax,ws);let y_=B_*this.m_sAx,G_=B_*this.m_sBx;o_.SubtractScaled(_o,ws),i_-=l*y_,_e.AddScaled(_i,ws),l_+=t_*G_}{let h_=this.m_upperTranslation-this.m_translation,s_=m_.Dot(this.m_ax,m_.Subtract(o_,_e,m_.s_t0))+this.m_sAx*i_-this.m_sBx*l_,B_=-this.m_axialMass*(s_+Math.max(h_,0)*o.step.inv_dt),D_=this.m_upperImpulse;this.m_upperImpulse=Math.max(this.m_upperImpulse+B_,0),B_=this.m_upperImpulse-D_,m_.Scale(B_,this.m_ax,ws);let y_=B_*this.m_sAx,G_=B_*this.m_sBx;o_.AddScaled(_o,ws),i_+=l*y_,_e.SubtractScaled(_i,ws),l_-=t_*G_}}{let h_=m_.Dot(this.m_ay,m_.Subtract(_e,o_,m_.s_t0))+this.m_sBy*l_-this.m_sAy*i_,s_=-this.m_mass*h_;this.m_impulse+=s_,m_.Scale(s_,this.m_ay,ws);let B_=s_*this.m_sAy,D_=s_*this.m_sBy;o_.SubtractScaled(_o,ws),i_-=l*B_,_e.AddScaled(_i,ws),l_+=t_*D_}o.velocities[this.m_indexA].w=i_,o.velocities[this.m_indexB].w=l_}SolvePositionConstraints(o){let _o=o.positions[this.m_indexA].c,_i=o.positions[this.m_indexA].a,l=o.positions[this.m_indexB].c,t_=o.positions[this.m_indexB].a,o_=0,{qA:i_,qB:_e,lalcA:l_,lalcB:ws,rA:h_,rB:s_,d:B_,P:D_,ay:y_}=WB;if(this.m_enableLimit){i_.Set(_i),_e.Set(t_),Ya.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,l_),h_),Ya.MultiplyVec2(_e,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,ws),s_),m_.Subtract(l,_o,B_).Add(s_).Subtract(h_);let G_=Ya.MultiplyVec2(i_,this.m_localXAxisA,this.m_ax),q_=m_.Cross(m_.Add(B_,h_,m_.s_t0),this.m_ax),j_=m_.Cross(s_,this.m_ax),_2=0,m2=m_.Dot(G_,B_);if(Math.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*_b?_2=m2:m2<=this.m_lowerTranslation?_2=Math.min(m2-this.m_lowerTranslation,0):m2>=this.m_upperTranslation&&(_2=Math.max(m2-this.m_upperTranslation,0)),_2!==0){let y2=this.m_invMassA+this.m_invMassB+this.m_invIA*q_*q_+this.m_invIB*j_*j_,I2=0;y2!==0&&(I2=-_2/y2),m_.Scale(I2,G_,D_);let J2=I2*q_,z2=I2*j_;_o.SubtractScaled(this.m_invMassA,D_),_i-=this.m_invIA*J2,l.AddScaled(this.m_invMassB,D_),t_+=this.m_invIB*z2,o_=Math.abs(_2)}}{i_.Set(_i),_e.Set(t_),Ya.MultiplyVec2(i_,m_.Subtract(this.m_localAnchorA,this.m_localCenterA,l_),h_),Ya.MultiplyVec2(_e,m_.Subtract(this.m_localAnchorB,this.m_localCenterB,ws),s_),m_.Subtract(l,_o,B_).Add(s_).Subtract(h_),Ya.MultiplyVec2(i_,this.m_localYAxisA,y_);let G_=m_.Cross(m_.Add(B_,h_,m_.s_t0),y_),q_=m_.Cross(s_,y_),j_=m_.Dot(B_,y_),_2=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,m2=0;_2!==0&&(m2=-j_/_2),m_.Scale(m2,y_,D_);let y2=m2*G_,I2=m2*q_;_o.SubtractScaled(this.m_invMassA,D_),_i-=this.m_invIA*y2,l.AddScaled(this.m_invMassB,D_),t_+=this.m_invIB*I2,o_=Math.max(o_,Math.abs(j_))}return o.positions[this.m_indexA].a=_i,o.positions[this.m_indexB].a=t_,o_<=_b}GetAnchorA(o){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,o)}GetAnchorB(o){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,o)}GetReactionForce(o,_o){let _i=this.m_springImpulse+this.m_lowerImpulse-this.m_upperImpulse;return _o.x=o*(this.m_impulse*this.m_ay.x+_i*this.m_ax.x),_o.y=o*(this.m_impulse*this.m_ay.y+_i*this.m_ax.y),_o}GetReactionTorque(o){return o*this.m_motorImpulse}GetLocalAnchorA(){return this.m_localAnchorA}GetLocalAnchorB(){return this.m_localAnchorB}GetLocalAxisA(){return this.m_localXAxisA}GetJointTranslation(){let o=this.m_bodyA,_o=this.m_bodyB,{pA:_i,pB:l,d:t_,axis:o_}=WB;return o.GetWorldPoint(this.m_localAnchorA,_i),_o.GetWorldPoint(this.m_localAnchorB,l),m_.Subtract(l,_i,t_),o.GetWorldVector(this.m_localXAxisA,o_),m_.Dot(t_,o_)}GetJointLinearSpeed(){let o=this.m_bodyA,_o=this.m_bodyB,{rA:_i,rB:l,lalcA:t_,lalcB:o_,axis:i_}=WB;Ya.MultiplyVec2(o.m_xf.q,m_.Subtract(this.m_localAnchorA,o.m_sweep.localCenter,t_),_i),Ya.MultiplyVec2(_o.m_xf.q,m_.Subtract(this.m_localAnchorB,_o.m_sweep.localCenter,o_),l);let _e=m_.Add(o.m_sweep.c,_i,m_.s_t0),l_=m_.Add(_o.m_sweep.c,l,m_.s_t1),ws=m_.Subtract(l_,_e,m_.s_t2);Ya.MultiplyVec2(o.m_xf.q,this.m_localXAxisA,i_);let h_=o.m_linearVelocity,s_=_o.m_linearVelocity,B_=o.m_angularVelocity,D_=_o.m_angularVelocity;return m_.Dot(ws,m_.CrossScalarVec2(B_,i_,m_.s_t0))+m_.Dot(i_,m_.AddCrossScalarVec2(s_,D_,l,m_.s_t0).Subtract(h_).Subtract(m_.CrossScalarVec2(B_,_i,m_.s_t1)))}GetJointAngle(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a}GetJointAngularSpeed(){let o=this.m_bodyA.m_angularVelocity;return this.m_bodyB.m_angularVelocity-o}IsMotorEnabled(){return this.m_enableMotor}EnableMotor(o){return o!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=o),o}SetMotorSpeed(o){return o!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=o),o}SetMaxMotorTorque(o){o!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=o)}GetMotorTorque(o){return o*this.m_motorImpulse}IsLimitEnabled(){return this.m_enableLimit}EnableLimit(o){return o!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=o,this.m_lowerImpulse=0,this.m_upperImpulse=0),o}GetLowerLimit(){return this.m_lowerTranslation}GetUpperLimit(){return this.m_upperTranslation}SetLimits(o,_o){(o!==this.m_lowerTranslation||_o!==this.m_upperTranslation)&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=o,this.m_upperTranslation=_o,this.m_lowerImpulse=0,this.m_upperImpulse=0)}Draw(o){let{p1:_o,p2:_i,pA:l,pB:t_,axis:o_}=WB.Draw,i_=this.m_bodyA.GetTransform(),_e=this.m_bodyB.GetTransform();if(s0.MultiplyVec2(i_,this.m_localAnchorA,l),s0.MultiplyVec2(_e,this.m_localAnchorB,t_),Ya.MultiplyVec2(i_.q,this.m_localXAxisA,o_),o.DrawSegment(l,t_,uy.joint5),this.m_enableLimit){let{lower:l_,upper:ws,perp:h_}=WB.Draw;m_.AddScaled(l,this.m_lowerTranslation,o_,l_),m_.AddScaled(l,this.m_upperTranslation,o_,ws),Ya.MultiplyVec2(i_.q,this.m_localYAxisA,h_),o.DrawSegment(l_,ws,uy.joint1),o.DrawSegment(m_.SubtractScaled(l_,.5,h_,_o),m_.AddScaled(l_,.5,h_,_i),uy.joint2),o.DrawSegment(m_.SubtractScaled(ws,.5,h_,_o),m_.AddScaled(ws,.5,h_,_i),uy.joint3)}else o.DrawSegment(m_.Subtract(l,o_,_o),m_.Add(l,o_,_i),uy.joint1);o.DrawPoint(l,5,uy.joint1),o.DrawPoint(t_,5,uy.joint4)}};function QT(V,x){return Math.sqrt(V*x)}function $T(V,x){return V>x?V:x}function tF(V,x){return V<x?V:x}var g6=class{constructor(x){this.m_other=null;this.prev=null;this.next=null;this.contact=x}get other(){return S1(this.m_other!==null),this.m_other}set other(x){S1(this.m_other===null),this.m_other=x}Reset(){this.m_other=null,this.prev=null,this.next=null}},oS=class{constructor(){this.m_islandFlag=!1;this.m_touchingFlag=!1;this.m_enabledFlag=!1;this.m_filterFlag=!1;this.m_bulletHitFlag=!1;this.m_toiFlag=!1;this.m_prev=null;this.m_next=null;this.m_nodeA=new g6(this);this.m_nodeB=new g6(this);this.m_indexA=0;this.m_indexB=0;this.m_manifold=new eM;this.m_toiCount=0;this.m_toi=0;this.m_friction=0;this.m_restitution=0;this.m_restitutionThreshold=0;this.m_tangentSpeed=0;this.m_oldManifold=new eM}GetManifold(){return this.m_manifold}GetWorldManifold(x){let o=this.m_fixtureA.GetBody(),_o=this.m_fixtureB.GetBody(),_i=this.GetShapeA(),l=this.GetShapeB();x.Initialize(this.m_manifold,o.GetTransform(),_i.m_radius,_o.GetTransform(),l.m_radius)}IsTouching(){return this.m_touchingFlag}SetEnabled(x){this.m_enabledFlag=x}IsEnabled(){return this.m_enabledFlag}GetNext(){return this.m_next}GetFixtureA(){return this.m_fixtureA}GetChildIndexA(){return this.m_indexA}GetShapeA(){return this.m_fixtureA.GetShape()}GetFixtureB(){return this.m_fixtureB}GetChildIndexB(){return this.m_indexB}GetShapeB(){return this.m_fixtureB.GetShape()}FlagForFiltering(){this.m_filterFlag=!0}SetFriction(x){this.m_friction=x}GetFriction(){return this.m_friction}ResetFriction(){this.m_friction=QT(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)}SetRestitution(x){this.m_restitution=x}GetRestitution(){return this.m_restitution}ResetRestitution(){this.m_restitution=$T(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}SetRestitutionThreshold(x){this.m_restitutionThreshold=x}GetRestitutionThreshold(){return this.m_restitutionThreshold}ResetRestitutionThreshold(){this.m_restitutionThreshold=tF(this.m_fixtureA.m_restitutionThreshold,this.m_fixtureB.m_restitutionThreshold)}SetTangentSpeed(x){this.m_tangentSpeed=x}GetTangentSpeed(){return this.m_tangentSpeed}Reset(x,o,_o,_i){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!0,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_fixtureA=x,this.m_fixtureB=_o,this.m_indexA=o,this.m_indexB=_i,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.Reset(),this.m_nodeB.Reset(),this.m_toiCount=0,this.m_friction=QT(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=$T(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution),this.m_restitutionThreshold=tF(this.m_fixtureA.m_restitutionThreshold,this.m_fixtureB.m_restitutionThreshold)}Update(x){let o=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=o,this.m_enabledFlag=!0;let _o=!1,_i=this.m_touchingFlag,l=this.m_fixtureA.IsSensor(),t_=this.m_fixtureB.IsSensor(),o_=l||t_,i_=this.m_fixtureA.GetBody(),_e=this.m_fixtureB.GetBody(),l_=i_.GetTransform(),ws=_e.GetTransform();if(o_){let h_=this.GetShapeA(),s_=this.GetShapeB();_o=UD(h_,this.m_indexA,s_,this.m_indexB,l_,ws),this.m_manifold.pointCount=0}else{this.Evaluate(this.m_manifold,l_,ws),_o=this.m_manifold.pointCount>0;for(let h_=0;h_<this.m_manifold.pointCount;++h_){let s_=this.m_manifold.points[h_];s_.normalImpulse=0,s_.tangentImpulse=0;let B_=s_.id;for(let D_=0;D_<this.m_oldManifold.pointCount;++D_){let y_=this.m_oldManifold.points[D_];if(y_.id.key===B_.key){s_.normalImpulse=y_.normalImpulse,s_.tangentImpulse=y_.tangentImpulse;break}}}_o!==_i&&(i_.SetAwake(!0),_e.SetAwake(!0))}this.m_touchingFlag=_o,!_i&&_o&&x&&x.BeginContact(this),_i&&!_o&&x&&x.EndContact(this),!o_&&_o&&x&&x.PreSolve(this,this.m_oldManifold)}};var v6=class extends oS{Evaluate(x,o,_o){WT(x,this.GetShapeA(),o,this.GetShapeB(),_o)}};var A6=class extends oS{Evaluate(x,o,_o){UT(x,this.GetShapeA(),o,this.GetShapeB(),_o)}};var S6=class extends oS{Evaluate(x,o,_o){NT(x,this.GetShapeA(),o,this.GetShapeB(),_o)}};var C6=class extends oS{Evaluate(x,o,_o){o6(x,this.GetShapeA(),o,this.GetShapeB(),_o)}};var B6=class extends oS{Evaluate(x,o,_o){i6(x,this.GetShapeA(),o,this.GetShapeB(),_o)}};var P6=class V extends oS{static{this.Evaluate_s_edge=new zC}Evaluate(x,o,_o){let _i=V.Evaluate_s_edge;this.GetShapeA().GetChildEdge(_i,this.m_indexA),o6(x,_i,o,this.GetShapeB(),_o)}};var w6=class V extends oS{static{this.Evaluate_s_edge=new zC}Evaluate(x,o,_o){let _i=V.Evaluate_s_edge;this.GetShapeA().GetChildEdge(_i,this.m_indexA),i6(x,_i,o,this.GetShapeB(),_o)}};var V6=class{constructor(){let x=new Array(4);for(let o=0;o<4;o++)x[o]=new Array(4);this.m_registers=x,this.AddType(v6,0,0),this.AddType(S6,2,0),this.AddType(A6,2,2),this.AddType(C6,1,0),this.AddType(B6,1,2),this.AddType(P6,3,0),this.AddType(w6,3,2)}AddType(x,o,_o){let _i=[],l=t_=>{_i.push(t_)};this.m_registers[o][_o]={createFcn(t_,o_,i_,_e){let l_=_i.pop()??new x;return l_.Reset(t_,o_,i_,_e),l_},destroyFcn:l},o!==_o&&(this.m_registers[_o][o]={createFcn(t_,o_,i_,_e){let l_=_i.pop()??new x;return l_.Reset(i_,_e,t_,o_),l_},destroyFcn:l})}Create(x,o,_o,_i){let l=x.GetType(),t_=_o.GetType(),o_=this.m_registers[l][t_];return o_?o_.createFcn(x,o,_o,_i):null}Destroy(x){let o=x.m_fixtureA.GetType(),_o=x.m_fixtureB.GetType();this.m_registers[o][_o]?.destroyFcn(x)}};var M6=class V{ShouldCollide(x,o){let _o=x.GetFilterData(),_i=o.GetFilterData();return _o.groupIndex===_i.groupIndex&&_o.groupIndex!==0?_o.groupIndex>0:(_o.maskBits&_i.categoryBits)!==0&&(_o.categoryBits&_i.maskBits)!==0}static{this.b2_defaultFilter=new V}},D6=class{constructor(){this.normalImpulses=jB(qA);this.tangentImpulses=jB(qA);this.count=0}},G6=class V{BeginContact(x){}EndContact(x){}PreSolve(x,o){}PostSolve(x,o){}static{this.b2_defaultListener=new V}};var J6=class{constructor(){this.m_broadPhase=new ZD;this.m_contactList=null;this.m_contactCount=0;this.m_contactFilter=M6.b2_defaultFilter;this.m_contactListener=G6.b2_defaultListener;this.m_contactFactory=new V6;this.AddPair=(x,o)=>{let _o=x.fixture,_i=o.fixture,l=x.childIndex,t_=o.childIndex,o_=_o.GetBody(),i_=_i.GetBody();if(o_===i_)return;let _e=i_.GetContactList();for(;_e;){if(_e.other===o_){let ws=_e.contact.GetFixtureA(),h_=_e.contact.GetFixtureB(),s_=_e.contact.GetChildIndexA(),B_=_e.contact.GetChildIndexB();if(ws===_o&&h_===_i&&s_===l&&B_===t_||ws===_i&&h_===_o&&s_===t_&&B_===l)return}_e=_e.next}if(i_.ShouldCollide(o_)===!1||this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(_o,_i))return;let l_=this.m_contactFactory.Create(_o,l,_i,t_);l_!==null&&(_o=l_.GetFixtureA(),_i=l_.GetFixtureB(),l=l_.GetChildIndexA(),t_=l_.GetChildIndexB(),o_=_o.m_body,i_=_i.m_body,l_.m_prev=null,l_.m_next=this.m_contactList,this.m_contactList!==null&&(this.m_contactList.m_prev=l_),this.m_contactList=l_,l_.m_nodeA.other=i_,l_.m_nodeA.prev=null,l_.m_nodeA.next=o_.m_contactList,o_.m_contactList!==null&&(o_.m_contactList.prev=l_.m_nodeA),o_.m_contactList=l_.m_nodeA,l_.m_nodeB.other=o_,l_.m_nodeB.prev=null,l_.m_nodeB.next=i_.m_contactList,i_.m_contactList!==null&&(i_.m_contactList.prev=l_.m_nodeB),i_.m_contactList=l_.m_nodeB,++this.m_contactCount)}}FindNewContacts(){this.m_broadPhase.UpdatePairs(this.AddPair)}Destroy(x){let o=x.GetFixtureA(),_o=x.GetFixtureB(),_i=o.GetBody(),l=_o.GetBody();this.m_contactListener&&x.IsTouching()&&this.m_contactListener.EndContact(x),x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x===this.m_contactList&&(this.m_contactList=x.m_next),x.m_nodeA.prev&&(x.m_nodeA.prev.next=x.m_nodeA.next),x.m_nodeA.next&&(x.m_nodeA.next.prev=x.m_nodeA.prev),x.m_nodeA===_i.m_contactList&&(_i.m_contactList=x.m_nodeA.next),x.m_nodeB.prev&&(x.m_nodeB.prev.next=x.m_nodeB.next),x.m_nodeB.next&&(x.m_nodeB.next.prev=x.m_nodeB.prev),x.m_nodeB===l.m_contactList&&(l.m_contactList=x.m_nodeB.next),x.m_manifold.pointCount>0&&!o.IsSensor()&&!_o.IsSensor()&&(o.GetBody().SetAwake(!0),_o.GetBody().SetAwake(!0)),this.m_contactFactory.Destroy(x),--this.m_contactCount}Collide(){let x=this.m_contactList;for(;x;){let o=x.GetFixtureA(),_o=x.GetFixtureB(),_i=x.GetChildIndexA(),l=x.GetChildIndexB(),t_=o.GetBody(),o_=_o.GetBody();if(x.m_filterFlag){if(!o_.ShouldCollide(t_)||this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(o,_o)){let s_=x;x=s_.m_next,this.Destroy(s_);continue}x.m_filterFlag=!1}let i_=t_.IsAwake()&&t_.m_type!==0,_e=o_.IsAwake()&&o_.m_type!==0;if(!i_&&!_e){x=x.m_next;continue}let l_=o.m_proxies[_i].treeNode,ws=_o.m_proxies[l].treeNode;if(!l_.aabb.TestOverlap(ws.aabb)){let s_=x;x=s_.m_next,this.Destroy(s_);continue}x.Update(this.m_contactListener),x=x.m_next}}};var nM=class{constructor(){this.step=0;this.collide=0;this.solve=0;this.solveInit=0;this.solveVelocity=0;this.solvePosition=0;this.broadphase=0;this.solveTOI=0}Reset(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this}},yB=class V{constructor(){this.dt=0;this.inv_dt=0;this.dtRatio=0;this.config={velocityIterations:0,positionIterations:0};this.warmStarting=!1}static Create(){return new V}Copy(x){return this.dt=x.dt,this.inv_dt=x.inv_dt,this.dtRatio=x.dtRatio,this.config={...x.config},this.warmStarting=x.warmStarting,this}},sM=class{constructor(){this.c=new m_;this.a=0}},_M=class{constructor(){this.v=new m_;this.w=0}},I6=class{constructor(){this.step=yB.Create()}};var eF=!0;var VJ=class{constructor(){this.rA=new m_;this.rB=new m_;this.normalImpulse=0;this.tangentImpulse=0;this.normalMass=0;this.tangentMass=0;this.velocityBias=0}},T6=class{constructor(){this.points=C1(qA,VJ);this.normal=new m_;this.tangent=new m_;this.normalMass=new rA;this.K=new rA;this.indexA=0;this.indexB=0;this.invMassA=0;this.invMassB=0;this.invIA=0;this.invIB=0;this.friction=0;this.restitution=0;this.threshold=0;this.tangentSpeed=0;this.pointCount=0;this.contactIndex=0}},F6=class{constructor(){this.localPoints=C1(qA,m_);this.localNormal=new m_;this.localPoint=new m_;this.indexA=0;this.indexB=0;this.invMassA=0;this.invMassB=0;this.localCenterA=new m_;this.localCenterB=new m_;this.invIA=0;this.invIB=0;this.type=0;this.radiusA=0;this.radiusB=0;this.pointCount=0}},R6=class{constructor(){this.step=yB.Create();this.count=0}},L6=class V{constructor(){this.normal=new m_;this.point=new m_;this.separation=0}static{this.Initialize_s_pointA=new m_}static{this.Initialize_s_pointB=new m_}static{this.Initialize_s_planePoint=new m_}static{this.Initialize_s_clipPoint=new m_}Initialize(x,o,_o,_i){let l=V.Initialize_s_pointA,t_=V.Initialize_s_pointB,o_=V.Initialize_s_planePoint,i_=V.Initialize_s_clipPoint;switch(x.type){case 0:s0.MultiplyVec2(o,x.localPoint,l),s0.MultiplyVec2(_o,x.localPoints[0],t_),m_.Subtract(t_,l,this.normal).Normalize(),m_.Mid(l,t_,this.point),this.separation=m_.Dot(m_.Subtract(t_,l,m_.s_t0),this.normal)-x.radiusA-x.radiusB;break;case 1:Ya.MultiplyVec2(o.q,x.localNormal,this.normal),s0.MultiplyVec2(o,x.localPoint,o_),s0.MultiplyVec2(_o,x.localPoints[_i],i_),this.separation=m_.Dot(m_.Subtract(i_,o_,m_.s_t0),this.normal)-x.radiusA-x.radiusB,this.point.Copy(i_);break;case 2:Ya.MultiplyVec2(_o.q,x.localNormal,this.normal),s0.MultiplyVec2(_o,x.localPoint,o_),s0.MultiplyVec2(o,x.localPoints[_i],i_),this.separation=m_.Dot(m_.Subtract(i_,o_,m_.s_t0),this.normal)-x.radiusA-x.radiusB,this.point.Copy(i_),this.normal.Negate();break}}},k6=class V{constructor(){this.m_step=yB.Create();this.m_positionConstraints=C1(1024,F6);this.m_velocityConstraints=C1(1024,T6);this.m_count=0}Initialize(x){if(this.m_step.Copy(x.step),this.m_count=x.count,this.m_positionConstraints.length<this.m_count){let o=Math.max(this.m_positionConstraints.length*2,this.m_count);for(;this.m_positionConstraints.length<o;)this.m_positionConstraints[this.m_positionConstraints.length]=new F6}if(this.m_velocityConstraints.length<this.m_count){let o=Math.max(this.m_velocityConstraints.length*2,this.m_count);for(;this.m_velocityConstraints.length<o;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new T6}this.m_positions=x.positions,this.m_velocities=x.velocities,this.m_contacts=x.contacts;for(let o=0;o<this.m_count;++o){let _o=this.m_contacts[o],_i=_o.m_fixtureA,l=_o.m_fixtureB,t_=_i.GetShape(),o_=l.GetShape(),i_=t_.m_radius,_e=o_.m_radius,l_=_i.GetBody(),ws=l.GetBody(),h_=_o.GetManifold(),{pointCount:s_}=h_,B_=this.m_velocityConstraints[o];B_.friction=_o.m_friction,B_.restitution=_o.m_restitution,B_.threshold=_o.m_restitutionThreshold,B_.tangentSpeed=_o.m_tangentSpeed,B_.indexA=l_.m_islandIndex,B_.indexB=ws.m_islandIndex,B_.invMassA=l_.m_invMass,B_.invMassB=ws.m_invMass,B_.invIA=l_.m_invI,B_.invIB=ws.m_invI,B_.contactIndex=o,B_.pointCount=s_,B_.K.SetZero(),B_.normalMass.SetZero();let D_=this.m_positionConstraints[o];D_.indexA=l_.m_islandIndex,D_.indexB=ws.m_islandIndex,D_.invMassA=l_.m_invMass,D_.invMassB=ws.m_invMass,D_.localCenterA.Copy(l_.m_sweep.localCenter),D_.localCenterB.Copy(ws.m_sweep.localCenter),D_.invIA=l_.m_invI,D_.invIB=ws.m_invI,D_.localNormal.Copy(h_.localNormal),D_.localPoint.Copy(h_.localPoint),D_.pointCount=s_,D_.radiusA=i_,D_.radiusB=_e,D_.type=h_.type;for(let y_=0;y_<s_;++y_){let G_=h_.points[y_],q_=B_.points[y_];this.m_step.warmStarting?(q_.normalImpulse=this.m_step.dtRatio*G_.normalImpulse,q_.tangentImpulse=this.m_step.dtRatio*G_.tangentImpulse):(q_.normalImpulse=0,q_.tangentImpulse=0),q_.rA.SetZero(),q_.rB.SetZero(),q_.normalMass=0,q_.tangentMass=0,q_.velocityBias=0,D_.localPoints[y_].Copy(G_.localPoint)}}return this}static{this.InitializeVelocityConstraints_s_xfA=new s0}static{this.InitializeVelocityConstraints_s_xfB=new s0}static{this.InitializeVelocityConstraints_s_worldManifold=new WD}InitializeVelocityConstraints(){let x=V.InitializeVelocityConstraints_s_xfA,o=V.InitializeVelocityConstraints_s_xfB,_o=V.InitializeVelocityConstraints_s_worldManifold,_i=1e3;for(let l=0;l<this.m_count;++l){let t_=this.m_velocityConstraints[l],o_=this.m_positionConstraints[l],{radiusA:i_,radiusB:_e,localCenterA:l_,localCenterB:ws}=o_,h_=this.m_contacts[t_.contactIndex].GetManifold(),{indexA:s_,indexB:B_,tangent:D_,pointCount:y_}=t_,G_=t_.invMassA,q_=t_.invMassB,j_=t_.invIA,_2=t_.invIB,m2=this.m_positions[s_].c,y2=this.m_positions[s_].a,I2=this.m_velocities[s_].v,J2=this.m_velocities[s_].w,z2=this.m_positions[B_].c,K2=this.m_positions[B_].a,$2=this.m_velocities[B_].v,P_=this.m_velocities[B_].w;x.q.Set(y2),o.q.Set(K2),m_.Subtract(m2,Ya.MultiplyVec2(x.q,l_,m_.s_t0),x.p),m_.Subtract(z2,Ya.MultiplyVec2(o.q,ws,m_.s_t0),o.p),_o.Initialize(h_,x,i_,o,_e),t_.normal.Copy(_o.normal),m_.CrossVec2One(t_.normal,D_);for(let E_=0;E_<y_;++E_){let Z_=t_.points[E_];m_.Subtract(_o.points[E_],m2,Z_.rA),m_.Subtract(_o.points[E_],z2,Z_.rB);let N_=m_.Cross(Z_.rA,t_.normal),s2=m_.Cross(Z_.rB,t_.normal),u2=G_+q_+j_*N_*N_+_2*s2*s2;Z_.normalMass=u2>0?1/u2:0;let p2=m_.Cross(Z_.rA,D_),v_=m_.Cross(Z_.rB,D_),F_=G_+q_+j_*p2*p2+_2*v_*v_;Z_.tangentMass=F_>0?1/F_:0,Z_.velocityBias=0;let $_=m_.Dot(t_.normal,m_.Subtract(m_.AddCrossScalarVec2($2,P_,Z_.rB,m_.s_t0),m_.AddCrossScalarVec2(I2,J2,Z_.rA,m_.s_t1),m_.s_t0));$_<-t_.threshold&&(Z_.velocityBias=-t_.restitution*$_)}if(t_.pointCount===2&&eF){let E_=t_.points[0],Z_=t_.points[1],N_=m_.Cross(E_.rA,t_.normal),s2=m_.Cross(E_.rB,t_.normal),u2=m_.Cross(Z_.rA,t_.normal),p2=m_.Cross(Z_.rB,t_.normal),v_=G_+q_+j_*N_*N_+_2*s2*s2,F_=G_+q_+j_*u2*u2+_2*p2*p2,$_=G_+q_+j_*N_*u2+_2*s2*p2;v_*v_<_i*(v_*F_-$_*$_)?(t_.K.ex.Set(v_,$_),t_.K.ey.Set($_,F_),t_.K.GetInverse(t_.normalMass)):t_.pointCount=1}}}static{this.WarmStart_s_P=new m_}WarmStart(){let x=V.WarmStart_s_P;for(let o=0;o<this.m_count;++o){let _o=this.m_velocityConstraints[o],{indexA:_i,indexB:l,pointCount:t_,normal:o_,tangent:i_}=_o,_e=_o.invMassA,l_=_o.invIA,ws=_o.invMassB,h_=_o.invIB,s_=this.m_velocities[_i].v,B_=this.m_velocities[_i].w,D_=this.m_velocities[l].v,y_=this.m_velocities[l].w;for(let G_=0;G_<t_;++G_){let q_=_o.points[G_];m_.Add(m_.Scale(q_.normalImpulse,o_,m_.s_t0),m_.Scale(q_.tangentImpulse,i_,m_.s_t1),x),B_-=l_*m_.Cross(q_.rA,x),s_.SubtractScaled(_e,x),y_+=h_*m_.Cross(q_.rB,x),D_.AddScaled(ws,x)}this.m_velocities[_i].w=B_,this.m_velocities[l].w=y_}}static{this.SolveVelocityConstraints_s_dv=new m_}static{this.SolveVelocityConstraints_s_dv1=new m_}static{this.SolveVelocityConstraints_s_dv2=new m_}static{this.SolveVelocityConstraints_s_P=new m_}static{this.SolveVelocityConstraints_s_a=new m_}static{this.SolveVelocityConstraints_s_b=new m_}static{this.SolveVelocityConstraints_s_x=new m_}static{this.SolveVelocityConstraints_s_d=new m_}static{this.SolveVelocityConstraints_s_P1=new m_}static{this.SolveVelocityConstraints_s_P2=new m_}static{this.SolveVelocityConstraints_s_P1P2=new m_}SolveVelocityConstraints(){let x=V.SolveVelocityConstraints_s_dv,o=V.SolveVelocityConstraints_s_dv1,_o=V.SolveVelocityConstraints_s_dv2,_i=V.SolveVelocityConstraints_s_P,l=V.SolveVelocityConstraints_s_a,t_=V.SolveVelocityConstraints_s_b,o_=V.SolveVelocityConstraints_s_x,i_=V.SolveVelocityConstraints_s_d,_e=V.SolveVelocityConstraints_s_P1,l_=V.SolveVelocityConstraints_s_P2,ws=V.SolveVelocityConstraints_s_P1P2;for(let h_=0;h_<this.m_count;++h_){let s_=this.m_velocityConstraints[h_],{indexA:B_,indexB:D_,pointCount:y_,normal:G_,tangent:q_,friction:j_}=s_,_2=s_.invMassA,m2=s_.invIA,y2=s_.invMassB,I2=s_.invIB,J2=this.m_velocities[B_].v,z2=this.m_velocities[B_].w,K2=this.m_velocities[D_].v,$2=this.m_velocities[D_].w;for(let P_=0;P_<y_;++P_){let E_=s_.points[P_];m_.Subtract(m_.AddCrossScalarVec2(K2,$2,E_.rB,m_.s_t0),m_.AddCrossScalarVec2(J2,z2,E_.rA,m_.s_t1),x);let Z_=m_.Dot(x,q_)-s_.tangentSpeed,N_=E_.tangentMass*-Z_,s2=j_*E_.normalImpulse,u2=lA(E_.tangentImpulse+N_,-s2,s2);N_=u2-E_.tangentImpulse,E_.tangentImpulse=u2,m_.Scale(N_,q_,_i),J2.SubtractScaled(_2,_i),z2-=m2*m_.Cross(E_.rA,_i),K2.AddScaled(y2,_i),$2+=I2*m_.Cross(E_.rB,_i)}if(s_.pointCount===1||eF===!1)for(let P_=0;P_<y_;++P_){let E_=s_.points[P_];m_.Subtract(m_.AddCrossScalarVec2(K2,$2,E_.rB,m_.s_t0),m_.AddCrossScalarVec2(J2,z2,E_.rA,m_.s_t1),x);let Z_=m_.Dot(x,G_),N_=-E_.normalMass*(Z_-E_.velocityBias),s2=Math.max(E_.normalImpulse+N_,0);N_=s2-E_.normalImpulse,E_.normalImpulse=s2,m_.Scale(N_,G_,_i),J2.SubtractScaled(_2,_i),z2-=m2*m_.Cross(E_.rA,_i),K2.AddScaled(y2,_i),$2+=I2*m_.Cross(E_.rB,_i)}else{let P_=s_.points[0],E_=s_.points[1];l.Set(P_.normalImpulse,E_.normalImpulse),m_.Subtract(m_.AddCrossScalarVec2(K2,$2,P_.rB,m_.s_t0),m_.AddCrossScalarVec2(J2,z2,P_.rA,m_.s_t1),o),m_.Subtract(m_.AddCrossScalarVec2(K2,$2,E_.rB,m_.s_t0),m_.AddCrossScalarVec2(J2,z2,E_.rA,m_.s_t1),_o);let Z_=m_.Dot(o,G_),N_=m_.Dot(_o,G_);for(t_.x=Z_-P_.velocityBias,t_.y=N_-E_.velocityBias,t_.Subtract(rA.MultiplyVec2(s_.K,l,m_.s_t0));;){if(rA.MultiplyVec2(s_.normalMass,t_,o_).Negate(),o_.x>=0&&o_.y>=0){m_.Subtract(o_,l,i_),m_.Scale(i_.x,G_,_e),m_.Scale(i_.y,G_,l_),m_.Add(_e,l_,ws),J2.SubtractScaled(_2,ws),z2-=m2*(m_.Cross(P_.rA,_e)+m_.Cross(E_.rA,l_)),K2.AddScaled(y2,ws),$2+=I2*(m_.Cross(P_.rB,_e)+m_.Cross(E_.rB,l_)),P_.normalImpulse=o_.x,E_.normalImpulse=o_.y;break}if(o_.x=-P_.normalMass*t_.x,o_.y=0,Z_=0,N_=s_.K.ex.y*o_.x+t_.y,o_.x>=0&&N_>=0){m_.Subtract(o_,l,i_),m_.Scale(i_.x,G_,_e),m_.Scale(i_.y,G_,l_),m_.Add(_e,l_,ws),J2.SubtractScaled(_2,ws),z2-=m2*(m_.Cross(P_.rA,_e)+m_.Cross(E_.rA,l_)),K2.AddScaled(y2,ws),$2+=I2*(m_.Cross(P_.rB,_e)+m_.Cross(E_.rB,l_)),P_.normalImpulse=o_.x,E_.normalImpulse=o_.y;break}if(o_.x=0,o_.y=-E_.normalMass*t_.y,Z_=s_.K.ey.x*o_.y+t_.x,N_=0,o_.y>=0&&Z_>=0){m_.Subtract(o_,l,i_),m_.Scale(i_.x,G_,_e),m_.Scale(i_.y,G_,l_),m_.Add(_e,l_,ws),J2.SubtractScaled(_2,ws),z2-=m2*(m_.Cross(P_.rA,_e)+m_.Cross(E_.rA,l_)),K2.AddScaled(y2,ws),$2+=I2*(m_.Cross(P_.rB,_e)+m_.Cross(E_.rB,l_)),P_.normalImpulse=o_.x,E_.normalImpulse=o_.y;break}if(o_.x=0,o_.y=0,Z_=t_.x,N_=t_.y,Z_>=0&&N_>=0){m_.Subtract(o_,l,i_),m_.Scale(i_.x,G_,_e),m_.Scale(i_.y,G_,l_),m_.Add(_e,l_,ws),J2.SubtractScaled(_2,ws),z2-=m2*(m_.Cross(P_.rA,_e)+m_.Cross(E_.rA,l_)),K2.AddScaled(y2,ws),$2+=I2*(m_.Cross(P_.rB,_e)+m_.Cross(E_.rB,l_)),P_.normalImpulse=o_.x,E_.normalImpulse=o_.y;break}break}}this.m_velocities[B_].w=z2,this.m_velocities[D_].w=$2}}StoreImpulses(){for(let x=0;x<this.m_count;++x){let o=this.m_velocityConstraints[x],_o=this.m_contacts[o.contactIndex].GetManifold();for(let _i=0;_i<o.pointCount;++_i)_o.points[_i].normalImpulse=o.points[_i].normalImpulse,_o.points[_i].tangentImpulse=o.points[_i].tangentImpulse}}static{this.SolvePositionConstraints_s_xfA=new s0}static{this.SolvePositionConstraints_s_xfB=new s0}static{this.SolvePositionConstraints_s_psm=new L6}static{this.SolvePositionConstraints_s_rA=new m_}static{this.SolvePositionConstraints_s_rB=new m_}static{this.SolvePositionConstraints_s_P=new m_}SolvePositionConstraints(){let x=V.SolvePositionConstraints_s_xfA,o=V.SolvePositionConstraints_s_xfB,_o=V.SolvePositionConstraints_s_psm,_i=V.SolvePositionConstraints_s_rA,l=V.SolvePositionConstraints_s_rB,t_=V.SolvePositionConstraints_s_P,o_=0;for(let i_=0;i_<this.m_count;++i_){let _e=this.m_positionConstraints[i_],{indexA:l_,indexB:ws,localCenterA:h_,localCenterB:s_,pointCount:B_}=_e,D_=_e.invMassA,y_=_e.invIA,G_=_e.invMassB,q_=_e.invIB,j_=this.m_positions[l_].c,_2=this.m_positions[l_].a,m2=this.m_positions[ws].c,y2=this.m_positions[ws].a;for(let I2=0;I2<B_;++I2){x.q.Set(_2),o.q.Set(y2),m_.Subtract(j_,Ya.MultiplyVec2(x.q,h_,m_.s_t0),x.p),m_.Subtract(m2,Ya.MultiplyVec2(o.q,s_,m_.s_t0),o.p),_o.Initialize(_e,x,o,I2);let{normal:J2,point:z2,separation:K2}=_o;m_.Subtract(z2,j_,_i),m_.Subtract(z2,m2,l),o_=Math.min(o_,K2);let $2=lA(DT*(K2+_b),-EV,0),P_=m_.Cross(_i,J2),E_=m_.Cross(l,J2),Z_=D_+G_+y_*P_*P_+q_*E_*E_,N_=Z_>0?-$2/Z_:0;m_.Scale(N_,J2,t_),j_.SubtractScaled(D_,t_),_2-=y_*m_.Cross(_i,t_),m2.AddScaled(G_,t_),y2+=q_*m_.Cross(l,t_)}this.m_positions[l_].c.Copy(j_),this.m_positions[l_].a=_2,this.m_positions[ws].c.Copy(m2),this.m_positions[ws].a=y2}return o_>=-3*_b}static{this.SolveTOIPositionConstraints_s_xfA=new s0}static{this.SolveTOIPositionConstraints_s_xfB=new s0}static{this.SolveTOIPositionConstraints_s_psm=new L6}static{this.SolveTOIPositionConstraints_s_rA=new m_}static{this.SolveTOIPositionConstraints_s_rB=new m_}static{this.SolveTOIPositionConstraints_s_P=new m_}SolveTOIPositionConstraints(x,o){let _o=V.SolveTOIPositionConstraints_s_xfA,_i=V.SolveTOIPositionConstraints_s_xfB,l=V.SolveTOIPositionConstraints_s_psm,t_=V.SolveTOIPositionConstraints_s_rA,o_=V.SolveTOIPositionConstraints_s_rB,i_=V.SolveTOIPositionConstraints_s_P,_e=0;for(let l_=0;l_<this.m_count;++l_){let ws=this.m_positionConstraints[l_],{indexA:h_,indexB:s_,localCenterA:B_,localCenterB:D_,pointCount:y_}=ws,G_=0,q_=0;(h_===x||h_===o)&&(G_=ws.invMassA,q_=ws.invIA);let j_=0,_2=0;(s_===x||s_===o)&&(j_=ws.invMassB,_2=ws.invIB);let m2=this.m_positions[h_].c,y2=this.m_positions[h_].a,I2=this.m_positions[s_].c,J2=this.m_positions[s_].a;for(let z2=0;z2<y_;++z2){_o.q.Set(y2),_i.q.Set(J2),m_.Subtract(m2,Ya.MultiplyVec2(_o.q,B_,m_.s_t0),_o.p),m_.Subtract(I2,Ya.MultiplyVec2(_i.q,D_,m_.s_t0),_i.p),l.Initialize(ws,_o,_i,z2);let{normal:K2,point:$2,separation:P_}=l;m_.Subtract($2,m2,t_),m_.Subtract($2,I2,o_),_e=Math.min(_e,P_);let E_=lA(GT*(P_+_b),-EV,0),Z_=m_.Cross(t_,K2),N_=m_.Cross(o_,K2),s2=G_+j_+q_*Z_*Z_+_2*N_*N_,u2=s2>0?-E_/s2:0;m_.Scale(u2,K2,i_),m2.SubtractScaled(G_,i_),y2-=q_*m_.Cross(t_,i_),I2.AddScaled(j_,i_),J2+=_2*m_.Cross(o_,i_)}this.m_positions[h_].a=y2,this.m_positions[s_].a=J2}return _e>=-1.5*_b}};var q6=class V{constructor(x,o,_o,_i){this.m_bodyCount=0;this.m_jointCount=0;this.m_contactCount=0;this.m_bodyCapacity=x,this.m_listener=_i,this.m_bodies=new Array(x),this.m_contacts=new Array(o),this.m_joints=new Array(_o),this.m_velocities=C1(x,_M),this.m_positions=C1(x,sM),this.Resize(x)}Resize(x){for(;this.m_bodyCapacity<x;)this.m_velocities[this.m_bodyCapacity]=new _M,this.m_positions[this.m_bodyCapacity]=new sM,this.m_bodyCapacity++}Clear(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0}AddBody(x){x.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount]=x,++this.m_bodyCount}AddContact(x){this.m_contacts[this.m_contactCount++]=x}AddJoint(x){this.m_joints[this.m_jointCount++]=x}static{this.s_timer=new EC}static{this.s_solverData=new I6}static{this.s_contactSolverDef=new R6}static{this.s_contactSolver=new k6}static{this.s_translation=new m_}Solve(x,o,_o,_i){let l=V.s_timer.Reset(),t_=o.dt;for(let ws=0;ws<this.m_bodyCount;++ws){let h_=this.m_bodies[ws];this.m_positions[ws].c.Copy(h_.m_sweep.c);let{a:s_}=h_.m_sweep,B_=this.m_velocities[ws].v.Copy(h_.m_linearVelocity),D_=h_.m_angularVelocity;h_.m_sweep.c0.Copy(h_.m_sweep.c),h_.m_sweep.a0=h_.m_sweep.a,h_.m_type===2&&(B_.x+=t_*h_.m_invMass*(h_.m_gravityScale*h_.m_mass*_o.x+h_.m_force.x),B_.y+=t_*h_.m_invMass*(h_.m_gravityScale*h_.m_mass*_o.y+h_.m_force.y),D_+=t_*h_.m_invI*h_.m_torque,B_.Scale(1/(1+t_*h_.m_linearDamping)),D_*=1/(1+t_*h_.m_angularDamping)),this.m_positions[ws].a=s_,this.m_velocities[ws].w=D_}l.Reset();let o_=V.s_solverData;o_.step.Copy(o),o_.positions=this.m_positions,o_.velocities=this.m_velocities;let i_=V.s_contactSolverDef;i_.step.Copy(o),i_.contacts=this.m_contacts,i_.count=this.m_contactCount,i_.positions=this.m_positions,i_.velocities=this.m_velocities;let _e=V.s_contactSolver.Initialize(i_);_e.InitializeVelocityConstraints(),o.warmStarting&&_e.WarmStart();for(let ws=0;ws<this.m_jointCount;++ws)this.m_joints[ws].InitVelocityConstraints(o_);x.solveInit=l.GetMilliseconds(),l.Reset();for(let ws=0;ws<o.config.velocityIterations;++ws){for(let h_=0;h_<this.m_jointCount;++h_)this.m_joints[h_].SolveVelocityConstraints(o_);_e.SolveVelocityConstraints()}_e.StoreImpulses(),x.solveVelocity=l.GetMilliseconds();for(let ws=0;ws<this.m_bodyCount;++ws){let{c:h_}=this.m_positions[ws],{a:s_}=this.m_positions[ws],{v:B_}=this.m_velocities[ws],{w:D_}=this.m_velocities[ws],y_=m_.Scale(t_,B_,V.s_translation);if(m_.Dot(y_,y_)>dJ){let q_=Z4/y_.Length();B_.Scale(q_)}let G_=t_*D_;if(G_*G_>yJ){let q_=K4/Math.abs(G_);D_*=q_}h_.AddScaled(t_,B_),s_+=t_*D_,this.m_positions[ws].a=s_,this.m_velocities[ws].w=D_}l.Reset();let l_=!1;for(let ws=0;ws<o.config.positionIterations;++ws){let h_=_e.SolvePositionConstraints(),s_=!0;for(let B_=0;B_<this.m_jointCount;++B_){let D_=this.m_joints[B_].SolvePositionConstraints(o_);s_=s_&&D_}if(h_&&s_){l_=!0;break}}for(let ws=0;ws<this.m_bodyCount;++ws){let h_=this.m_bodies[ws];h_.m_sweep.c.Copy(this.m_positions[ws].c),h_.m_sweep.a=this.m_positions[ws].a,h_.m_linearVelocity.Copy(this.m_velocities[ws].v),h_.m_angularVelocity=this.m_velocities[ws].w,h_.SynchronizeTransform()}if(x.solvePosition=l.GetMilliseconds(),this.Report(_e.m_velocityConstraints),_i){let ws=iA,h_=xJ*xJ,s_=fJ*fJ;for(let B_=0;B_<this.m_bodyCount;++B_){let D_=this.m_bodies[B_];D_.GetType()!==0&&(!D_.m_autoSleepFlag||D_.m_angularVelocity*D_.m_angularVelocity>s_||m_.Dot(D_.m_linearVelocity,D_.m_linearVelocity)>h_?(D_.m_sleepTime=0,ws=0):(D_.m_sleepTime+=t_,ws=Math.min(ws,D_.m_sleepTime)))}if(ws>=JT&&l_)for(let B_=0;B_<this.m_bodyCount;++B_)this.m_bodies[B_].SetAwake(!1)}}SolveTOI(x,o,_o){for(let o_=0;o_<this.m_bodyCount;++o_){let i_=this.m_bodies[o_];this.m_positions[o_].c.Copy(i_.m_sweep.c),this.m_positions[o_].a=i_.m_sweep.a,this.m_velocities[o_].v.Copy(i_.m_linearVelocity),this.m_velocities[o_].w=i_.m_angularVelocity}let _i=V.s_contactSolverDef;_i.contacts=this.m_contacts,_i.count=this.m_contactCount,_i.step.Copy(x),_i.positions=this.m_positions,_i.velocities=this.m_velocities;let l=V.s_contactSolver.Initialize(_i);for(let o_=0;o_<x.config.positionIterations&&!l.SolveTOIPositionConstraints(o,_o);++o_);this.m_bodies[o].m_sweep.c0.Copy(this.m_positions[o].c),this.m_bodies[o].m_sweep.a0=this.m_positions[o].a,this.m_bodies[_o].m_sweep.c0.Copy(this.m_positions[_o].c),this.m_bodies[_o].m_sweep.a0=this.m_positions[_o].a,l.InitializeVelocityConstraints();for(let o_=0;o_<x.config.velocityIterations;++o_)l.SolveVelocityConstraints();let t_=x.dt;for(let o_=0;o_<this.m_bodyCount;++o_){let{c:i_}=this.m_positions[o_],{a:_e}=this.m_positions[o_],{v:l_}=this.m_velocities[o_],{w:ws}=this.m_velocities[o_],h_=m_.Scale(t_,l_,V.s_translation);if(m_.Dot(h_,h_)>dJ){let D_=Z4/h_.Length();l_.Scale(D_)}let s_=t_*ws;if(s_*s_>yJ){let D_=K4/Math.abs(s_);ws*=D_}i_.AddScaled(t_,l_),_e+=t_*ws,this.m_positions[o_].a=_e,this.m_velocities[o_].w=ws;let B_=this.m_bodies[o_];B_.m_sweep.c.Copy(i_),B_.m_sweep.a=_e,B_.m_linearVelocity.Copy(l_),B_.m_angularVelocity=ws,B_.SynchronizeTransform()}this.Report(l.m_velocityConstraints)}static{this.s_impulse=new D6}Report(x){for(let o=0;o<this.m_contactCount;++o){let _o=this.m_contacts[o],_i=x[o],l=V.s_impulse;l.count=_i.pointCount;for(let t_=0;t_<_i.pointCount;++t_)l.normalImpulses[t_]=_i.points[t_].normalImpulse,l.tangentImpulses[t_]=_i.points[t_].tangentImpulse;this.m_listener.PostSolve(_o,l)}}};var aM=class V{constructor(x){this.m_contactManager=new J6;this.m_bodyList=null;this.m_jointList=null;this.m_bodyCount=0;this.m_jointCount=0;this.m_gravity=new m_;this.m_allowSleep=!0;this.m_destructionListener=null;this.m_inv_dt0=0;this.m_newContacts=!1;this.m_locked=!1;this.m_clearForces=!0;this.m_warmStarting=!0;this.m_continuousPhysics=!0;this.m_subStepping=!1;this.m_stepComplete=!0;this.m_profile=new nM;this.m_island=new q6(2*qD,qD,0,this.m_contactManager.m_contactListener);this.s_stack=[];this.m_gravity.Copy(x)}static Create(x){return new V(x)}SetDestructionListener(x){this.m_destructionListener=x}GetDestructionListener(){return this.m_destructionListener}SetContactFilter(x){this.m_contactManager.m_contactFilter=x}SetContactListener(x){this.m_contactManager.m_contactListener=x,this.m_island.m_listener=x}CreateBody(x={}){S1(!this.IsLocked());let o=new oM(x,this);return o.m_prev=null,o.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=o),this.m_bodyList=o,++this.m_bodyCount,o}DestroyBody(x){S1(!this.IsLocked());let o=x.m_jointList;for(;o;){let t_=o;o=o.next,this.m_destructionListener?.SayGoodbyeJoint(t_.joint),this.DestroyJoint(t_.joint),x.m_jointList=o}x.m_jointList=null;let _o=x.m_contactList;for(;_o;){let t_=_o;_o=_o.next,this.m_contactManager.Destroy(t_.contact)}x.m_contactList=null;let _i=this.m_contactManager.m_broadPhase,l=x.m_fixtureList;for(;l;){let t_=l;l=l.m_next,this.m_destructionListener?.SayGoodbyeFixture(t_),t_.DestroyProxies(_i),x.m_fixtureList=l,x.m_fixtureCount-=1}x.m_fixtureList=null,x.m_fixtureCount=0,x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x===this.m_bodyList&&(this.m_bodyList=x.m_next),--this.m_bodyCount}static Joint_Create(x){switch(x.type){case 3:return new a6(x);case 5:return new u6(x);case 2:return new h6(x);case 1:return new y6(x);case 4:return new d6(x);case 6:return new l6(x);case 7:return new f6(x);case 8:return new x6(x);case 9:return new c6(x);case 10:return new m6(x);case 11:return new p6(x)}throw new Error}CreateJoint(x){S1(!this.IsLocked());let o=V.Joint_Create(x);o.m_prev=null,o.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=o),this.m_jointList=o,++this.m_jointCount,o.m_edgeA.prev=null,o.m_edgeA.next=o.m_bodyA.m_jointList,o.m_bodyA.m_jointList&&(o.m_bodyA.m_jointList.prev=o.m_edgeA),o.m_bodyA.m_jointList=o.m_edgeA,o.m_edgeB.prev=null,o.m_edgeB.next=o.m_bodyB.m_jointList,o.m_bodyB.m_jointList&&(o.m_bodyB.m_jointList.prev=o.m_edgeB),o.m_bodyB.m_jointList=o.m_edgeB;let _o=o.m_bodyA,_i=o.m_bodyB;if(!x.collideConnected){let l=_i.GetContactList();for(;l;)l.other===_o&&l.contact.FlagForFiltering(),l=l.next}return o}DestroyJoint(x){S1(!this.IsLocked()),x.m_prev&&(x.m_prev.m_next=x.m_next),x.m_next&&(x.m_next.m_prev=x.m_prev),x===this.m_jointList&&(this.m_jointList=x.m_next);let o=x.m_bodyA,_o=x.m_bodyB,_i=x.m_collideConnected;if(o.SetAwake(!0),_o.SetAwake(!0),x.m_edgeA.prev&&(x.m_edgeA.prev.next=x.m_edgeA.next),x.m_edgeA.next&&(x.m_edgeA.next.prev=x.m_edgeA.prev),x.m_edgeA===o.m_jointList&&(o.m_jointList=x.m_edgeA.next),x.m_edgeA.prev=null,x.m_edgeA.next=null,x.m_edgeB.prev&&(x.m_edgeB.prev.next=x.m_edgeB.next),x.m_edgeB.next&&(x.m_edgeB.next.prev=x.m_edgeB.prev),x.m_edgeB===_o.m_jointList&&(_o.m_jointList=x.m_edgeB.next),x.m_edgeB.prev=null,x.m_edgeB.next=null,--this.m_jointCount,!_i){let l=_o.GetContactList();for(;l;)l.other===o&&l.contact.FlagForFiltering(),l=l.next}}static{this.Step_s_step=yB.Create()}static{this.Step_s_stepTimer=new EC}static{this.Step_s_timer=new EC}Step(x,o){let _o=V.Step_s_stepTimer.Reset();this.m_newContacts&&(this.m_contactManager.FindNewContacts(),this.m_newContacts=!1),this.m_locked=!0;let _i=V.Step_s_step;_i.dt=x,_i.config={...o},x>0?_i.inv_dt=1/x:_i.inv_dt=0,_i.dtRatio=this.m_inv_dt0*x,_i.warmStarting=this.m_warmStarting;{let l=V.Step_s_timer.Reset();this.m_contactManager.Collide(),this.m_profile.collide=l.GetMilliseconds()}if(this.m_stepComplete&&_i.dt>0){let l=V.Step_s_timer.Reset();this.Solve(_i),this.m_profile.solve=l.GetMilliseconds()}if(this.m_continuousPhysics&&_i.dt>0){let l=V.Step_s_timer.Reset();this.SolveTOI(_i),this.m_profile.solveTOI=l.GetMilliseconds()}_i.dt>0&&(this.m_inv_dt0=_i.inv_dt),this.m_clearForces&&this.ClearForces(),this.m_locked=!1,this.m_profile.step=_o.GetMilliseconds()}ClearForces(){for(let x=this.m_bodyList;x;x=x.GetNext())x.m_force.SetZero(),x.m_torque=0}QueryAABB(x,o){this.m_contactManager.m_broadPhase.Query(x,_o=>{let _i=f1(_o.userData);return o(_i.fixture)})}QueryAllAABB(x,o=[]){return this.QueryAABB(x,_o=>(o.push(_o),!0)),o}QueryPointAABB(x,o){this.m_contactManager.m_broadPhase.QueryPoint(x,_o=>{let _i=f1(_o.userData);return o(_i.fixture)})}QueryAllPointAABB(x,o=[]){return this.QueryPointAABB(x,_o=>(o.push(_o),!0)),o}static{this.QueryFixtureShape_s_aabb=new eS}QueryFixtureShape(x,o,_o,_i){let l=V.QueryFixtureShape_s_aabb;x.ComputeAABB(l,_o,o),this.m_contactManager.m_broadPhase.Query(l,t_=>{let o_=f1(t_.userData),{fixture:i_}=o_;return!UD(x,o,i_.GetShape(),o_.childIndex,_o,i_.GetBody().GetTransform())||_i(i_)})}QueryAllFixtureShape(x,o,_o,_i=[]){return this.QueryFixtureShape(x,o,_o,l=>(_i.push(l),!0)),_i}QueryFixturePoint(x,o){this.m_contactManager.m_broadPhase.QueryPoint(x,_o=>{let _i=f1(_o.userData),{fixture:l}=_i;return!l.TestPoint(x)||o(l)})}QueryAllFixturePoint(x,o=[]){return this.QueryFixturePoint(x,_o=>(o.push(_o),!0)),o}static{this.RayCast_s_input=new UV}static{this.RayCast_s_output=new ND}static{this.RayCast_s_point=new m_}RayCast(x,o,_o){let _i=V.RayCast_s_input;_i.maxFraction=1,_i.p1.Copy(x),_i.p2.Copy(o),this.m_contactManager.m_broadPhase.RayCast(_i,(l,t_)=>{let o_=f1(t_.userData),{fixture:i_}=o_,_e=o_.childIndex,l_=V.RayCast_s_output;if(i_.RayCast(l_,l,_e)){let{fraction:h_}=l_,s_=V.RayCast_s_point;return s_.Set((1-h_)*x.x+h_*o.x,(1-h_)*x.y+h_*o.y),_o(i_,s_,l_.normal,h_)}return l.maxFraction})}RayCastOne(x,o){let _o=null,_i=1;return this.RayCast(x,o,(l,t_,o_,i_)=>(i_<_i&&(_i=i_,_o=l),_i)),_o}RayCastAll(x,o,_o=[]){return this.RayCast(x,o,_i=>(_o.push(_i),1)),_o}GetBodyList(){return this.m_bodyList}GetJointList(){return this.m_jointList}GetContactList(){return this.m_contactManager.m_contactList}SetAllowSleeping(x){if(x!==this.m_allowSleep&&(this.m_allowSleep=x,!this.m_allowSleep))for(let o=this.m_bodyList;o;o=o.m_next)o.SetAwake(!0)}GetAllowSleeping(){return this.m_allowSleep}SetWarmStarting(x){this.m_warmStarting=x}GetWarmStarting(){return this.m_warmStarting}SetContinuousPhysics(x){this.m_continuousPhysics=x}GetContinuousPhysics(){return this.m_continuousPhysics}SetSubStepping(x){this.m_subStepping=x}GetSubStepping(){return this.m_subStepping}GetProxyCount(){return this.m_contactManager.m_broadPhase.GetProxyCount()}GetBodyCount(){return this.m_bodyCount}GetJointCount(){return this.m_jointCount}GetContactCount(){return this.m_contactManager.m_contactCount}GetTreeHeight(){return this.m_contactManager.m_broadPhase.GetTreeHeight()}GetTreeBalance(){return this.m_contactManager.m_broadPhase.GetTreeBalance()}GetTreeQuality(){return this.m_contactManager.m_broadPhase.GetTreeQuality()}SetGravity(x){this.m_gravity.Copy(x)}GetGravity(){return this.m_gravity}IsLocked(){return this.m_locked}SetAutoClearForces(x){this.m_clearForces=x}GetAutoClearForces(){return this.m_clearForces}ShiftOrigin(x){S1(!this.IsLocked());for(let o=this.m_bodyList;o;o=o.m_next)o.m_xf.p.Subtract(x),o.m_sweep.c0.Subtract(x),o.m_sweep.c.Subtract(x);for(let o=this.m_jointList;o;o=o.m_next)o.ShiftOrigin(x);this.m_contactManager.m_broadPhase.ShiftOrigin(x)}GetContactManager(){return this.m_contactManager}GetProfile(){return this.m_profile}Solve(x){this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;let o=this.m_island;o.Resize(this.m_bodyCount),o.Clear();for(let l=this.m_bodyList;l;l=l.m_next)l.m_islandFlag=!1;for(let l=this.m_contactManager.m_contactList;l;l=l.m_next)l.m_islandFlag=!1;for(let l=this.m_jointList;l;l=l.m_next)l.m_islandFlag=!1;let _o=this.s_stack;for(let l=this.m_bodyList;l;l=l.m_next){if(l.m_islandFlag||!l.IsAwake()||!l.IsEnabled()||l.GetType()===0)continue;o.Clear();let t_=0;for(_o[t_++]=l,l.m_islandFlag=!0;t_>0;){let i_=_o[--t_];if(S1(i_!==null),o.AddBody(i_),i_.GetType()!==0){i_.m_awakeFlag=!0;for(let _e=i_.m_contactList;_e;_e=_e.next){let{contact:l_}=_e;if(l_.m_islandFlag||!l_.IsEnabled()||!l_.IsTouching())continue;let ws=l_.m_fixtureA.m_isSensor,h_=l_.m_fixtureB.m_isSensor;if(ws||h_)continue;o.AddContact(l_),l_.m_islandFlag=!0;let{other:s_}=_e;s_.m_islandFlag||(_o[t_++]=s_,s_.m_islandFlag=!0)}for(let _e=i_.m_jointList;_e;_e=_e.next){if(_e.joint.m_islandFlag)continue;let{other:l_}=_e;l_.IsEnabled()&&(o.AddJoint(_e.joint),_e.joint.m_islandFlag=!0,!l_.m_islandFlag&&(_o[t_++]=l_,l_.m_islandFlag=!0))}}}let o_=new nM;o.Solve(o_,x,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=o_.solveInit,this.m_profile.solveVelocity+=o_.solveVelocity,this.m_profile.solvePosition+=o_.solvePosition;for(let i_=0;i_<o.m_bodyCount;++i_){let _e=o.m_bodies[i_];_e.GetType()===0&&(_e.m_islandFlag=!1)}}for(let l=0;l<_o.length&&_o[l];++l)_o[l]=null;let _i=new EC;for(let l=this.m_bodyList;l;l=l.m_next)l.m_islandFlag&&l.GetType()!==0&&l.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=_i.GetMilliseconds()}static{this.SolveTOI_s_subStep=yB.Create()}static{this.SolveTOI_s_backup=new uS}static{this.SolveTOI_s_backup1=new uS}static{this.SolveTOI_s_backup2=new uS}static{this.SolveTOI_s_toi_input=new $D}static{this.SolveTOI_s_toi_output=new t6}SolveTOI(x){let o=this.m_island;if(o.Clear(),this.m_stepComplete){for(let _o=this.m_bodyList;_o;_o=_o.m_next)_o.m_islandFlag=!1,_o.m_sweep.alpha0=0;for(let _o=this.m_contactManager.m_contactList;_o;_o=_o.m_next)_o.m_toiFlag=!1,_o.m_islandFlag=!1,_o.m_toiCount=0,_o.m_toi=1}for(;;){let _o=null,_i=1;for(let h_=this.m_contactManager.m_contactList;h_;h_=h_.m_next){if(!h_.IsEnabled()||h_.m_toiCount>MT)continue;let s_=1;if(h_.m_toiFlag)s_=h_.m_toi;else{let B_=h_.GetFixtureA(),D_=h_.GetFixtureB();if(B_.IsSensor()||D_.IsSensor())continue;let y_=B_.GetBody(),G_=D_.GetBody(),q_=y_.m_type,j_=G_.m_type,_2=y_.IsAwake()&&q_!==0,m2=G_.IsAwake()&&j_!==0;if(!_2&&!m2)continue;let y2=y_.IsBullet()||q_!==2,I2=G_.IsBullet()||j_!==2;if(!y2&&!I2)continue;let{alpha0:J2}=y_.m_sweep;y_.m_sweep.alpha0<G_.m_sweep.alpha0?(J2=G_.m_sweep.alpha0,y_.m_sweep.Advance(J2)):G_.m_sweep.alpha0<y_.m_sweep.alpha0&&(J2=y_.m_sweep.alpha0,G_.m_sweep.Advance(J2));let z2=h_.GetChildIndexA(),K2=h_.GetChildIndexB(),$2=V.SolveTOI_s_toi_input;$2.proxyA.SetShape(B_.GetShape(),z2),$2.proxyB.SetShape(D_.GetShape(),K2),$2.sweepA.Copy(y_.m_sweep),$2.sweepB.Copy(G_.m_sweep),$2.tMax=1;let P_=V.SolveTOI_s_toi_output;zT(P_,$2);let E_=P_.t;P_.state===3?s_=Math.min(J2+(1-J2)*E_,1):s_=1,h_.m_toi=s_,h_.m_toiFlag=!0}s_<_i&&(_o=h_,_i=s_)}if(_o===null||1-10*GA<_i){this.m_stepComplete=!0;break}let l=_o.GetFixtureA(),t_=_o.GetFixtureB(),o_=l.GetBody(),i_=t_.GetBody(),_e=V.SolveTOI_s_backup1.Copy(o_.m_sweep),l_=V.SolveTOI_s_backup2.Copy(i_.m_sweep);if(o_.Advance(_i),i_.Advance(_i),_o.Update(this.m_contactManager.m_contactListener),_o.m_toiFlag=!1,++_o.m_toiCount,!_o.IsEnabled()||!_o.IsTouching()){_o.SetEnabled(!1),o_.m_sweep.Copy(_e),i_.m_sweep.Copy(l_),o_.SynchronizeTransform(),i_.SynchronizeTransform();continue}o_.SetAwake(!0),i_.SetAwake(!0),o.Clear(),o.AddBody(o_),o.AddBody(i_),o.AddContact(_o),o_.m_islandFlag=!0,i_.m_islandFlag=!0,_o.m_islandFlag=!0;for(let h_=0;h_<2;++h_){let s_=h_===0?o_:i_;if(s_.m_type===2)for(let B_=s_.m_contactList;B_&&!(o.m_bodyCount===o.m_bodyCapacity||o.m_contactCount===qD);B_=B_.next){let{contact:D_}=B_;if(D_.m_islandFlag)continue;let{other:y_}=B_;if(y_.m_type===2&&!s_.IsBullet()&&!y_.IsBullet())continue;let G_=D_.m_fixtureA.m_isSensor,q_=D_.m_fixtureB.m_isSensor;if(G_||q_)continue;let j_=V.SolveTOI_s_backup.Copy(y_.m_sweep);if(y_.m_islandFlag||y_.Advance(_i),D_.Update(this.m_contactManager.m_contactListener),!D_.IsEnabled()){y_.m_sweep.Copy(j_),y_.SynchronizeTransform();continue}if(!D_.IsTouching()){y_.m_sweep.Copy(j_),y_.SynchronizeTransform();continue}D_.m_islandFlag=!0,o.AddContact(D_),!y_.m_islandFlag&&(y_.m_islandFlag=!0,y_.m_type!==0&&y_.SetAwake(!0),o.AddBody(y_))}}let ws=V.SolveTOI_s_subStep;ws.dt=(1-_i)*x.dt,ws.inv_dt=1/ws.dt,ws.dtRatio=1,ws.config={...x.config,positionIterations:20},ws.warmStarting=!1,o.SolveTOI(ws,o_.m_islandIndex,i_.m_islandIndex);for(let h_=0;h_<o.m_bodyCount;++h_){let s_=o.m_bodies[h_];if(s_.m_islandFlag=!1,s_.m_type===2){s_.SynchronizeFixtures();for(let B_=s_.m_contactList;B_;B_=B_.next)B_.contact.m_toiFlag=!1,B_.contact.m_islandFlag=!1}}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}}};var ght={J1:new m_,J2:new m_,J3:new m_,r:new m_,e1:new m_,e2:new m_,Jd1:new m_,Jd2:new m_,d:new m_,u:new m_,dp1:new m_,dp2:new m_,dp3:new m_,d1:new m_,d2:new m_,dHat:new m_};var ect=(V,x,o,_o)=>{let _i=aM.Create(V),l=_i.CreateBody(),t_=new zC;return t_.SetTwoSided(new m_(x.x,x.y),new m_(o.x,o.y)),l.CreateFixture({shape:t_,density:_o}),{name:"@box2d/core",createBoxShape(o_,i_){return new n6().SetAsBox(o_,i_)},createBoxBody(o_,i_,_e,l_){_i.CreateBody({type:2,position:{x:i_,y:_e}}).CreateFixture({shape:o_,density:l_})},step(o_,i_,_e){_i.Step(o_,{velocityIterations:i_,positionIterations:_e})}}};var hS=_D(iF()),oct=(V,x,o,_o)=>{let _i=new hS.b2World(new hS.b2Vec2(V.x,V.y)),l=_i.CreateBody(new hS.b2BodyDef),t_=new hS.b2EdgeShape;return t_.Set(new hS.b2Vec2(x.x,x.y),new hS.b2Vec2(o.x,o.y)),l.CreateFixture(t_,_o),{name:"@flyover/box2d",createBoxShape(o_,i_){return new hS.b2PolygonShape().SetAsBox(o_,i_)},createBoxBody(o_,i_,_e,l_){let ws=new hS.b2BodyDef;ws.type=hS.b2BodyType.b2_dynamicBody,ws.position.Set(i_,_e),_i.CreateBody(ws).CreateFixture(o_,l_)},step(o_,i_,_e){_i.Step(o_,i_,_e)}}};var sF=_D(rF()),{b2World:ict,b2Vec2:MJ,b2EdgeShape:rct,b2PolygonShape:nct,b2BodyDef:nF,b2BodyType:sct}=sF.box2d,_ct=(V,x,o,_o)=>{let _i=new ict(new MJ(V.x,V.y)),l=_i.CreateBody(new nF),t_=new rct;return t_.Set(new MJ(x.x,x.y),new MJ(o.x,o.y)),l.CreateFixture(t_,_o),{name:"box2d-html5",createBoxShape(o_,i_){return new nct().SetAsBox(o_,i_)},createBoxBody(o_,i_,_e,l_){let ws=new nF;ws.type=sct.b2_dynamicBody,ws.position.Set(i_,_e),_i.CreateBody(ws).CreateFixture(o_,l_)},step(o_,i_,_e){_i.Step(o_,i_,_e)}}};var z6=_D(aF()),{b2Vec2:DJ}=z6.Box2D.Common.Math,{b2BodyDef:pF,b2Body:act,b2World:pct,b2FixtureDef:cF}=z6.Box2D.Dynamics,{b2PolygonShape:lF}=z6.Box2D.Collision.Shapes,cct=(V,x,o,_o)=>{let _i=new pct(new DJ(V.x,V.y)),l=_i.CreateBody(new pF),t_=new lF;t_.SetAsEdge(new DJ(x.x,x.y),new DJ(o.x,o.y));let o_=new cF;return o_.density=_o,o_.shape=t_,l.CreateFixture(o_),{name:"box2d-web",createBoxShape(i_,_e){let l_=new lF;return l_.SetAsBox(i_,_e),l_},createBoxBody(i_,_e,l_,ws){let h_=new pF;h_.type=act.b2_dynamicBody,h_.position.Set(_e,l_);let s_=_i.CreateBody(h_),B_=new cF;B_.density=ws,B_.shape=i_,s_.CreateFixture(B_)},step(i_,_e,l_){_i.Step(i_,_e,l_)}}};var mF=Object.keys(W6).map(V=>W6[V]);function bF(){let V=navigator.userAgent,x=V.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)??[];if(/trident/i.test(x[1])){let _o=/\brv[ :]+(\d+)/g.exec(V);return _o?`IE ${_o[1]}`:"IE"}if(x[1]==="Chrome"){let _o=V.match(/\bOPR|Edge\/(\d+)/);if(_o!==null)return`Opera ${_o[1]}`}x=x[2]?[x[1],x[2]]:[navigator.appName,navigator.appVersion,"-?"];let o=V.match(/version\/(\d+)/i);return o!==null&&x.splice(1,1,o[1]),`${x[0]} ${x[1]}`}var GJ=document.getElementById("start"),uF=document.querySelector("tbody"),hF=document.getElementById("ratio"),JJ=document.querySelector("textarea"),lct=document.getElementById("copy"),mct=ZI(mF).map(V=>{let x=document.createElement("tr");uF.appendChild(x);let o=document.createElement("td"),_o=document.createElement("td"),_i=document.createElement("td"),l=document.createElement("td"),t_=document.createElement("td");o.textContent=V.name,x.appendChild(o),x.appendChild(_o),x.appendChild(_i),x.appendChild(l),x.appendChild(t_);let o_=document.createElement("progress");return{row:x,test:V,begin(){t_.appendChild(o_),o_.value=0},progress(i_,_e){o_.value=i_,o_.max=_e},end(i_){_o.textContent=i_.avg.toFixed(2),_i.textContent=i_.p5.toString(),l.textContent=i_.p95.toString(),t_.textContent="\u2713"},final(i_){t_.textContent=i_.toFixed(2),uF.appendChild(x)}}});async function bct(){hF.textContent="";let V=[];for(let x of mct){x.begin();let o=await KI(x.test,x.progress);x.end(o),V.push({...o,testRow:x})}V.sort((x,o)=>x.avg-o.avg).forEach(x=>x.testRow.final(x.avg/V[0].avg)),GJ.removeAttribute("disabled"),hF.textContent="Ratio",JJ.value=`**Browser:** ${bF()}
${QI(V)}`}GJ.addEventListener("click",()=>{GJ.disabled=!0,bct()});lct.addEventListener("click",()=>{JJ.select(),JJ.setSelectionRange(0,99999),document.execCommand("copy"),alert("Copied to clipboard")});})();
/*! Bundled license information:

planck-js/dist/planck.mjs:
  (**
   * Planck.js v1.3.0
   * @license The MIT license
   * @copyright Copyright (c) 2024 Erin Catto, Ali Shakiba
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   *)
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
